(()=>{var l;(l={296:()=>{!function(){var l=this||globalThis,Z=l.connect||{};l.connect=Z,l.globalConnect={},l.lily=Z,globalConnect.Container=null;var b=window.atob("KCgpPT57dmFyIGU9ezY1MDooZSx0LG4pPT57InVzZSBzdHJpY3QiO2xldCByO2Z1bmN0aW9uIG8oZSl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKG51bGwhPWU/ZToiQXR0ZW1wdGVkIHRvIGdldCBHbG9iYWwgQW1hem9uQ29ubmVjdFByb3ZpZGVyIHRoYXQgaGFzIG5vdCBiZWVuIHNldC4iKTtyZXR1cm4gcn1uLnIodCksbi5kKHQse0FtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZTooKT0+a30pO2NsYXNzIGkgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih7cmVhc29uOmUsbmFtZXNwYWNlOnQsZXJyb3JLZXk6bixkZXRhaWxzOnJ9KXtzdXBlcihgQ29ubmVjdEVycm9yIHdpdGggZXJyb3Iga2V5ICIke259ImApLHRoaXMuZXJyb3JUeXBlPWkuRXJyb3JUeXBlLHRoaXMubmFtZXNwYWNlPXQsdGhpcy5lcnJvcktleT1uLHRoaXMucmVhc29uPWUsdGhpcy5kZXRhaWxzPW51bGwhPXI/cjp7fX19aS5FcnJvclR5cGU9IkNvbm5lY3RFcnJvciI7Y2xhc3MgYXtjb25zdHJ1Y3Rvcih7cHJvdmlkZXI6ZSxsb2dnZXJLZXk6dH0pe3RoaXMuZXZlbnRzPW5ldyBNYXAsdGhpcy5sb2dnZXI9bmV3IF8oe3Byb3ZpZGVyOmUsc291cmNlOiJlbWl0dGVyIixtaXhpbjooKT0+KHtlbWl0dGVyTG9nZ2VyS2V5OnR9KX0pfW9uKGUsdCl7Y29uc3Qgbj10aGlzLmV2ZW50cy5nZXQoZSk7bj9uLmFkZCh0KTp0aGlzLmV2ZW50cy5zZXQoZSxuZXcgU2V0KFt0XSkpfW9mZihlLHQpe2NvbnN0IG49dGhpcy5ldmVudHMuZ2V0KGUpO24mJihuLmRlbGV0ZSh0KSxuLnNpemU8MSYmdGhpcy5ldmVudHMuZGVsZXRlKGUpKX1nZXRIYW5kbGVycyhlKXt2YXIgdDtyZXR1cm4gQXJyYXkuZnJvbShudWxsIT09KHQ9dGhpcy5ldmVudHMuZ2V0KGUpKSYmdm9pZCAwIT09dD90OltdKX19dmFyIHM9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NsYXNzIGMgZXh0ZW5kcyBhe2VtaXQoZSx0KXtyZXR1cm4gcyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0IG49dGhpcy5nZXRIYW5kbGVycyhlKTt5aWVsZCBQcm9taXNlLmFsbFNldHRsZWQobi5tYXAoKG49PnModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXt0cnl7eWllbGQgbih0KX1jYXRjaCh0KXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiBpbnZva2luZyBldmVudCBoYW5kbGVyIix7ZXJyb3I6dCxwYXJhbWV0ZXI6ZX0pfX0pKSkpKX0pKX19ZnVuY3Rpb24gdSgpe3JldHVybiJyYW5kb21VVUlEImluIGNyeXB0bz9jcnlwdG8ucmFuZG9tVVVJRCgpOiIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDAiLnJlcGxhY2UoL1swMThdL2csKGU9Pntjb25zdCB0PXBhcnNlSW50KGUpO3JldHVybih0XmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj50LzQpLnRvU3RyaW5nKDE2KX0pKX1jbGFzcyBse2NvbnN0cnVjdG9yKCl7dGhpcy5pZHNCeUhhbmRsZXI9bmV3IE1hcCx0aGlzLmhhbmRsZXJzQnlJZD1uZXcgTWFwfWFkZChlKXtjb25zdCB0PXRoaXMuaWRzQnlIYW5kbGVyLmdldChlKTtpZih0KXJldHVybntoYW5kbGVySWQ6dH07Y29uc3Qgbj11KCk7cmV0dXJuIHRoaXMuaWRzQnlIYW5kbGVyLnNldChlLG4pLHRoaXMuaGFuZGxlcnNCeUlkLnNldChuLGUpLHtoYW5kbGVySWQ6bn19Z2V0SWRCeUhhbmRsZXIoZSl7dmFyIHQ7cmV0dXJuIG51bGwhPT0odD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSkpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXRIYW5kbGVyQnlJZChlKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PXRoaXMuaGFuZGxlcnNCeUlkLmdldChlKSkmJnZvaWQgMCE9PXQ/dDpudWxsfWdldCgpe3JldHVyblsuLi50aGlzLmlkc0J5SGFuZGxlci5lbnRyaWVzKCldLm1hcCgoKFtlLHRdKT0+KHtoYW5kbGVyOmUsaGFuZGxlcklkOnR9KSkpfWRlbGV0ZShlKXtjb25zdCB0PXRoaXMuaWRzQnlIYW5kbGVyLmdldChlKTtyZXR1cm4gdCYmdGhpcy5oYW5kbGVyc0J5SWQuZGVsZXRlKHQpLHRoaXMuaWRzQnlIYW5kbGVyLmRlbGV0ZShlKSx7aXNFbXB0eTp0aGlzLmlkc0J5SGFuZGxlci5zaXplPDF9fXNpemUoKXtyZXR1cm4gdGhpcy5pZHNCeUhhbmRsZXIuc2l6ZX19Y2xhc3MgcHtjb25zdHJ1Y3Rvcigpe3RoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucz1uZXcgTWFwLHRoaXMucGFyYW1TdWJzY3JpcHRpb25zPW5ldyBNYXB9YWRkKHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0scil7dmFyIG8saSxhLHMsYztpZihuKXtpZighdGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuaGFzKGUpKXJldHVybiB2b2lkIHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLnNldChlLG5ldyBNYXAoW1t0LG5ldyBNYXAoW1tuLHJdXSldXSkpO2lmKCEobnVsbD09PShvPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaGFzKHQpKSlyZXR1cm4gdm9pZChudWxsPT09KGk9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09aXx8aS5zZXQodCxuZXcgTWFwKFtbbixyXV0pKSk7bnVsbD09PShzPW51bGw9PT0oYT10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmdldCh0KSl8fHZvaWQgMD09PXN8fHMuc2V0KG4scil9ZWxzZXtpZighdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmhhcyhlKSlyZXR1cm4gdm9pZCB0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuc2V0KGUsbmV3IE1hcChbW3Qscl1dKSk7bnVsbD09PShjPXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1jfHxjLnNldCh0LHIpfX1kZWxldGUoe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSl7dmFyIHIsbyxpLGE7bj8obnVsbD09PShvPW51bGw9PT0ocj10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldCh0KSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZGVsZXRlKG4pKSYmdGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmdldCh0KS5zaXplPDEmJihudWxsPT09KGk9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09aXx8aS5kZWxldGUodCksdGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpLnNpemU8MSYmdGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZGVsZXRlKGUpKToobnVsbD09PShhPXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRlbGV0ZSh0KSkmJnRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5nZXQoZSkuc2l6ZTwxJiZ0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZGVsZXRlKGUpfWdldCh7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59KXt2YXIgcixvLGk7cmV0dXJuIG4/bnVsbD09PShpPW51bGw9PT0obz10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmdldCh0KSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ2V0KG4pOm51bGw9PT0ocj10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXQodCl9Z2V0T3JBZGQoZSx0KXtsZXQgbj10aGlzLmdldChlKTtyZXR1cm4gbnx8KG49dCgpLHRoaXMuYWRkKGUsbikpLG59YWRkT3JVcGRhdGUoZSx0LG4pe2xldCByPXRoaXMuZ2V0KGUpO3JldHVybiByPXI/bihyKTp0KCksdGhpcy5hZGQoZSxyKSxyfWdldEFsbFN1YnNjcmlwdGlvbnMoKXtyZXR1cm5bLi4uQXJyYXkuZnJvbSh0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMua2V5cygpKS5mbGF0TWFwKChlPT5BcnJheS5mcm9tKHRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5nZXQoZSkua2V5cygpKS5mbGF0TWFwKCh0PT4oe25hbWVzcGFjZTplLGtleTp0fSkpKSkpLC4uLkFycmF5LmZyb20odGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMua2V5cygpKS5mbGF0TWFwKChlPT5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5rZXlzKCkpLmZsYXRNYXAoKHQ9PkFycmF5LmZyb20odGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmdldCh0KS5rZXlzKCkpLmZsYXRNYXAoKG49Pih7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59KSkpKSkpKV19fWNsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLnN1YnNjcmlwdGlvbnM9bmV3IHB9YWRkKGUsdCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXRPckFkZChlLCgoKT0+bmV3IGwpKS5hZGQodCl9Z2V0KGUpe3ZhciB0LG47cmV0dXJuIG51bGwhPT0obj1udWxsPT09KHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0KCkpJiZ2b2lkIDAhPT1uP246W119Z2V0QnlJZChlLHQpe3ZhciBuLHI7cmV0dXJuIG51bGwhPT0ocj1udWxsPT09KG49dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZ2V0SGFuZGxlckJ5SWQodCkpJiZ2b2lkIDAhPT1yP3I6bnVsbH1kZWxldGUoZSx0KXt2YXIgbixyO251bGwhPT0ocj1udWxsPT09KG49dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGVsZXRlKHQpLmlzRW1wdHkpJiZ2b2lkIDAhPT1yJiZyJiZ0aGlzLnN1YnNjcmlwdGlvbnMuZGVsZXRlKGUpfXNpemUoZSl7dmFyIHQsbjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0odD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zaXplKCkpJiZ2b2lkIDAhPT1uP246MH1pc0VtcHR5KGUpe3JldHVybiAwPT09dGhpcy5zaXplKGUpfWdldEFsbFN1YnNjcmlwdGlvbnMoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmdldEFsbFN1YnNjcmlwdGlvbnMoKX1nZXRBbGxTdWJzY3JpcHRpb25IYW5kbGVySWRzKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXRBbGxTdWJzY3JpcHRpb25zKCkucmVkdWNlKCgoZSx0KT0+ZS5jb25jYXQodGhpcy5nZXQodCkubWFwKCgoe2hhbmRsZXJJZDplfSk9Pih7dG9waWM6dCxoYW5kbGVySWQ6ZX0pKSkpKSxbXSl9fWNvbnN0IGg9ImNsaWVudFRpbWVvdXQiO2Z1bmN0aW9uIGYoZSx0LG4scil7Y29uc3Qgbz1NYXRoLm1heCgxLG51bGwhPXI/cjozZTQpO3JldHVybiBuZXcgUHJvbWlzZSgoKHIsYSk9PntsZXQgcz0hMTtjb25zdCBjPXNldFRpbWVvdXQoKCgpPT57bih7dGltZW91dE1zOm8scmVxdWVzdDplfSksYShmdW5jdGlvbihlLHQpe2NvbnN0e25hbWVzcGFjZTpuLGNvbW1hbmQ6cixkYXRhOm99PWU7cmV0dXJue25hbWVzcGFjZTpuLHJlYXNvbjoiQ2xpZW50IFRpbWVvdXQiLGRldGFpbHM6e2NvbW1hbmQ6cixyZXF1ZXN0RGF0YTpvLHRpbWVvdXRNczp0fSxlcnJvcktleTpofX0oZSxvKSkscz0hMH0pLG8pO3QoKGU9PntjbGVhclRpbWVvdXQoYyksc3x8KGUuaXNFcnJvcj9hKG5ldyBpKGUpKTpyKGUuZGF0YSkpfSkpfSkpfWNsYXNzIGd7Y29uc3RydWN0b3IoZSl7dGhpcy5yZXF1ZXN0TWFwPW5ldyBNYXAsdGhpcy5sb2dnZXI9bmV3IF8oe3Byb3ZpZGVyOmUsc291cmNlOiJjb3JlLnJlcXVlc3RNYW5hZ2VyIn0pfXByb2Nlc3NSZXF1ZXN0KGUpe2NvbnN0e3JlcXVlc3RJZDp0fT1lO3JldHVybiBmKGUsKGU9PnRoaXMucmVxdWVzdE1hcC5zZXQodCxlKSksKCh7cmVxdWVzdDplLHRpbWVvdXRNczp0fSk9PnRoaXMuaGFuZGxlVGltZW91dChlLHQpKSl9cHJvY2Vzc1Jlc3BvbnNlKGUpe2NvbnN0e3JlcXVlc3RJZDp0fT1lLG49dGhpcy5yZXF1ZXN0TWFwLmdldCh0KTtuPyhuKGUpLHRoaXMucmVxdWVzdE1hcC5kZWxldGUodCkpOnRoaXMubG9nZ2VyLmVycm9yKCJSZXR1cm5lZCBhIHJlc3BvbnNlIG1lc3NhZ2Ugd2l0aCBubyBoYW5kbGVyIix7bWVzc2FnZTplfSl9aGFuZGxlVGltZW91dChlLHQpe2NvbnN0e3JlcXVlc3RJZDpuLG5hbWVzcGFjZTpyLGNvbW1hbmQ6b309ZTt0aGlzLnJlcXVlc3RNYXAuZGVsZXRlKG4pLHRoaXMubG9nZ2VyLmVycm9yKCJDbGllbnQgcmVxdWVzdCB0aW1lb3V0Iix7cmVxdWVzdElkOm4sbmFtZXNwYWNlOnIsY29tbWFuZDpvLHRpbWVvdXRNczp0fSl9fXZhciBtPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJnQuaW5kZXhPZihyKTwwJiYobltyXT1lW3JdKTtpZihudWxsIT1lJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW29dKSYmKG5bcltvXV09ZVtyW29dXSl9cmV0dXJuIG59O2Z1bmN0aW9uIHYoZSl7dHJ5e3N3aXRjaChlLnR5cGUpe2Nhc2UiYWNrbm93bGVkZ2UiOmNhc2UiZXJyb3IiOmNhc2UiY2hpbGRDb25uZWN0aW9uQ2xvc2UiOmRlZmF1bHQ6cmV0dXJuIGU7Y2FzZSJjaGlsZERvd25zdHJlYW1NZXNzYWdlIjpyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHttZXNzYWdlOnYoZS5tZXNzYWdlKX0pO2Nhc2UicHVibGlzaCI6e2NvbnN0e2RhdGE6dH09ZSxuPW0oZSxbImRhdGEiXSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sbil9Y2FzZSJyZXNwb25zZSI6aWYoZS5pc0Vycm9yKXJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2RldGFpbHM6e2NvbW1hbmQ6ZS5kZXRhaWxzLmNvbW1hbmR9fSk7e2NvbnN0e2RhdGE6dH09ZSxuPW0oZSxbImRhdGEiXSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sbil9fX1jYXRjaCh0KXtyZXR1cm57bWVzc2FnZURldGFpbHM6ImVycm9yIHdoZW4gc2FuaXRpemluZyBkb3duc3RyZWFtIG1lc3NhZ2UiLG1lc3NhZ2U6ZSxlcnJvcjp0fX19Y2xhc3MgeXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucHJvdmlkZXI9ZSx0aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2U9dCx0aGlzLm1lc3NhZ2VQb3J0cz1uZXcgTWFwLHRoaXMubG9nZ2VyPW5ldyBfKHtwcm92aWRlcjplLHNvdXJjZToiY2hpbGRDb25uZWN0aW9uTWFuYWdlciJ9KX1hZGRDaGFubmVsKGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0fT1lO3RoaXMubWVzc2FnZVBvcnRzLmhhcyh0KT90aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBjaGlsZCBjb25uZWN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMuIE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk6KHRoaXMuc2V0dXBQb3J0KGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJDaGlsZCBwb3J0IGFkZGVkIix7Y29ubmVjdGlvbklkOnR9KSl9dXBkYXRlQ2hhbm5lbFBvcnQoZSl7dmFyIHQ7Y29uc3R7Y29ubmVjdGlvbklkOm59PWUscj1udWxsPT09KHQ9dGhpcy5tZXNzYWdlUG9ydHMuZ2V0KG4pKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wb3J0O3I/KHIub25tZXNzYWdlPW51bGwsci5jbG9zZSgpLHRoaXMuc2V0dXBQb3J0KGUpLHRoaXMubG9nZ2VyLmluZm8oIlVwZGF0ZWQgY2hpbGQgcG9ydCIse2Nvbm5lY3Rpb25JZDpufSkpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGNoaWxkIGNvbm5lY3Rpb24gdGhhdCBkb2VzIG5vdCBleGlzdCBObyBhY3Rpb24iLHtjb25uZWN0aW9uSWQ6bn0pfXNldHVwUG9ydCh7Y29ubmVjdGlvbklkOmUscG9ydDp0LHByb3ZpZGVySWQ6bn0pe2NvbnN0IHI9dGhpcy5jcmVhdGVNZXNzYWdlSGFuZGxlcihlLG4pO3QuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsciksdC5zdGFydCgpLHRoaXMubWVzc2FnZVBvcnRzLnNldChlLHtwb3J0OnQsaGFuZGxlcjpyLHByb3ZpZGVySWQ6bn0pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOmUsc291cmNlUHJvdmlkZXJJZDpuLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9aGFuZGxlRG93bnN0cmVhbU1lc3NhZ2Uoe2Nvbm5lY3Rpb25JZDplLG1lc3NhZ2U6dCx0YXJnZXRQcm92aWRlcklkOm59KXtjb25zdCByPXRoaXMubWVzc2FnZVBvcnRzLmdldChlKTtpZighcilyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci53YXJuKCJBdHRlbXB0ZWQgdG8gcm91dGUgZG93bnN0cmVhbSBtZXNzYWdlIHRvIGNoaWxkIG1lc3NhZ2UgcG9ydCB0aGF0IGRvZXMgbm90IGV4aXN0Iix7Y29ubmVjdGlvbklkOmUsbWVzc2FnZTp2KHQpfSk7Y29uc3R7cG9ydDpvLHByb3ZpZGVySWQ6aX09cjtpJiZpIT09bj90aGlzLmxvZ2dlci5lcnJvcigiRG93bnN0cmVhbSB0YXJnZXQgbWVzc2FnZSBkaWQgbm90IG1hdGNoIHRhcmdldCBwcm92aWRlciBpZC4gTm90IHNlbmRpbmcgbWVzc2FnZS4iLHtjb25uZWN0aW9uSWQ6ZSx0YXJnZXRQcm92aWRlcklkOm4sYWN0dWFsUHJvdmlkZXJJZDppLG1lc3NhZ2U6dih0KX0pOm8ucG9zdE1lc3NhZ2UodCl9aGFuZGxlQ2xvc2VNZXNzYWdlKHtjb25uZWN0aW9uSWQ6ZX0pe2NvbnN0IHQ9dGhpcy5tZXNzYWdlUG9ydHMuZ2V0KGUpO2lmKCF0KXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byBjbG9zZSBjaGlsZCBtZXNzYWdlIHBvcnQgdGhhdCB3YXMgbm90IGZvdW5kIix7Y29ubmVjdGlvbklkOmV9KTtjb25zdHtwb3J0Om4saGFuZGxlcjpyfT10O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsciksbi5jbG9zZSgpLHRoaXMubWVzc2FnZVBvcnRzLmRlbGV0ZShlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiUmVtb3ZlZCBjaGlsZCBtZXNzYWdlIGNoYW5uZWwiLHtjb25uZWN0aW9uSWQ6ZX0pfWNyZWF0ZU1lc3NhZ2VIYW5kbGVyKGUsdCl7cmV0dXJuIG49PnRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsc291cmNlUHJvdmlkZXJJZDp0LHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxjb25uZWN0aW9uSWQ6ZSxtZXNzYWdlOm4uZGF0YX0pfX1jbGFzcyBie2NvbnN0cnVjdG9yKGUpe3RoaXMuZXJyb3JIYW5kbGVycz1uZXcgU2V0LHRoaXMubG9nZ2VyPW5ldyBfKHtwcm92aWRlcjplLHNvdXJjZToiY29yZS5wcm94eS5lcnJvciJ9KX1pbnZva2UoZSl7Y29uc3R7bWVzc2FnZTp0LGtleTpuLGRldGFpbHM6cixpc0ZhdGFsOm8sY29ubmVjdGlvblN0YXR1czppfT1lO3RoaXMubG9nZ2VyLmVycm9yKHQse2tleTpuLGRldGFpbHM6cixpc0ZhdGFsOm8sY29ubmVjdGlvblN0YXR1czppfSx7ZHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZTohMCxyZW1vdGVJZ25vcmU6ITB9KSxbLi4udGhpcy5lcnJvckhhbmRsZXJzXS5mb3JFYWNoKCh0PT57dHJ5e3QoZSl9Y2F0Y2godCl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdpdGhpbiBhIEFtYXpvbkNvbm5lY3RFcnJvckhhbmRsZXIiLHtoYW5kbGVyRXJyb3I6dCxvcmlnaW5hbEVycm9yOmV9KX19KSl9b25FcnJvcihlKXt0aGlzLmVycm9ySGFuZGxlcnMuYWRkKGUpfW9mZkVycm9yKGUpe3RoaXMuZXJyb3JIYW5kbGVycy5kZWxldGUoZSl9fWNsYXNzIEV7Y29uc3RydWN0b3Ioe3Byb3ZpZGVyOmUsc2VuZEhlYWx0aENoZWNrOnQsZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luOm59KXt0aGlzLmNvbm5lY3Rpb25JZD1udWxsLHRoaXMuaGVhbHRoQ2hlY2tJbnRlcnZhbD1udWxsLHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0PW51bGwsdGhpcy5zZW5kSGVhbHRoQ2hlY2s9dCx0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbj1uLHRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWw9bnVsbCx0aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlPW51bGwsdGhpcy5fc3RhdHVzPSJ1bmtub3duIix0aGlzLmxvZ2dlcj1uZXcgXyh7c291cmNlOiJjb3JlLnByb3h5LmhlYWx0aC1jaGVjayIscHJvdmlkZXI6ZSxtaXhpbjooKT0+KHtjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KX0pLHRoaXMuZXZlbnRzPW5ldyBjKHtwcm92aWRlcjplLGxvZ2dlcktleToiY29yZS5wcm94eS5oZWFsdGgtY2hlY2sifSl9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLl9zdGF0dXN9Z2V0IGlzUnVubmluZygpe3JldHVybiBudWxsIT09dGhpcy5zZW5kSGVhbHRoQ2hlY2tJbnRlcnZhbH1nZXQgbGFzdENoZWNrQ291bnRlcigpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGU9dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY291bnRlcikmJnZvaWQgMCE9PXQ/dDpudWxsfWdldCBsYXN0Q2hlY2tUaW1lKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PT0oZT10aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50aW1lKSYmdm9pZCAwIT09dD90Om51bGx9c3RhcnQoe2hlYWx0aENoZWNrSW50ZXJ2YWw6ZSxjb25uZWN0aW9uSWQ6dH0pe3RoaXMuY29ubmVjdGlvbklkPXQsdGhpcy5oZWFsdGhDaGVja0ludGVydmFsPWUsdGhpcy5jbGVhckludGVydmFsKCksZTw9MD90aGlzLmxvZ2dlci5kZWJ1ZygiSGVhbHRoIGNoZWNrIGRpc2FibGVkIik6ZTwxZTM/dGhpcy5sb2dnZXIuZXJyb3IoIkhlYWx0aCBjaGVjayBpbnRlcnZhbCBpcyBsZXNzIHRoYW4gMSBzZWNvbmQuIE5vdCBydW5uaW5nIix7aW50ZXJ2YWw6ZX0pOih0aGlzLnNlbmRIZWFsdGhDaGVja01lc3NhZ2UoKSx0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPXNldEludGVydmFsKCgoKT0+dGhpcy5zZW5kSGVhbHRoQ2hlY2tNZXNzYWdlKCkpLGUpLHRoaXMuc3RhcnRUaW1lb3V0KCkpfXN0b3AoKXt0aGlzLmNsZWFySW50ZXJ2YWwoKSx0aGlzLmNsZWFyVGltZW91dCgpfWhhbmRsZVJlc3BvbnNlKGUpe3RoaXMuc2V0SGVhbHRoeSh7dGltZTplLnRpbWUsY291bnRlcjplLmNvdW50ZXJ9KX1zZW5kSGVhbHRoQ2hlY2tNZXNzYWdlKCl7dGhpcy5zZW5kSGVhbHRoQ2hlY2soe3R5cGU6ImhlYWx0aENoZWNrIixtZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9KX1zdGFydFRpbWVvdXQoKXt0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWw/KHRoaXMuY2xlYXJUaW1lb3V0KCksdGhpcy5oZWFsdGhDaGVja1RpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnNldFVuaGVhbHRoeSgpfSksMyp0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWwpKTp0aGlzLmxvZ2dlci5lcnJvcigiSGVhbHRoIGNoZWNrIGludGVydmFsIG5vdCBzZXQuIENhbm5vdCBzdGFydCB0aW1lb3V0Iil9Y2xlYXJJbnRlcnZhbCgpe3RoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWwmJihjbGVhckludGVydmFsKHRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWwpLHRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWw9bnVsbCl9Y2xlYXJUaW1lb3V0KCl7dGhpcy5oZWFsdGhDaGVja1RpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5oZWFsdGhDaGVja1RpbWVvdXQpLHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0PW51bGwpfXNldFVuaGVhbHRoeSgpe2lmKCJ1bmhlYWx0aHkiIT09dGhpcy5fc3RhdHVzKXtjb25zdCBlPXRoaXMuX3N0YXR1czt0aGlzLmxvZ2dlci5pbmZvKCJDb25uZWN0aW9uIHVuaGVhbHRoeSIse3ByZXZpb3VzU3RhdHVzOmV9KSx0aGlzLl9zdGF0dXM9InVuaGVhbHRoeSIsdGhpcy5lbWl0U3RhdHVzQ2hhbmdlZCgidW5oZWFsdGh5IixlKX19c2V0SGVhbHRoeShlKXtpZih0aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlPU9iamVjdC5hc3NpZ24oe30sZSksImhlYWx0aHkiIT09dGhpcy5fc3RhdHVzKXtjb25zdCBlPXRoaXMuX3N0YXR1czt0aGlzLmxvZ2dlci5kZWJ1ZygiQ29ubmVjdGlvbiBoZWFsdGh5Iix7cHJldmlvdXNTdGF0dXM6ZX0pLHRoaXMuX3N0YXR1cz0iaGVhbHRoeSIsdGhpcy5lbWl0U3RhdHVzQ2hhbmdlZCgiaGVhbHRoeSIsZSl9dGhpcy5zdGFydFRpbWVvdXQoKX1lbWl0U3RhdHVzQ2hhbmdlZChlLHQpe3ZhciBuLHIsbyxpO3RoaXMuZXZlbnRzLmVtaXQoRS5zdGF0dXNDaGFuZ2VkS2V5LHtzdGF0dXM6ZSxwcmV2aW91c1N0YXR1czp0LGxhc3RDaGVja1RpbWU6bnVsbCE9PShyPW51bGw9PT0obj10aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlKXx8dm9pZCAwPT09bj92b2lkIDA6bi50aW1lKSYmdm9pZCAwIT09cj9yOm51bGwsbGFzdENoZWNrQ291bnRlcjpudWxsIT09KGk9bnVsbD09PShvPXRoaXMubGFzdEhlYWx0aENoZWNrUmVzcG9uc2UpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmNvdW50ZXIpJiZ2b2lkIDAhPT1pP2k6bnVsbH0pfW9uU3RhdHVzQ2hhbmdlZChlKXt0aGlzLmV2ZW50cy5vbihFLnN0YXR1c0NoYW5nZWRLZXksZSl9b2ZmU3RhdHVzQ2hhbmdlZChlKXt0aGlzLmV2ZW50cy5vZmYoRS5zdGF0dXNDaGFuZ2VkS2V5LGUpfX1FLnN0YXR1c0NoYW5nZWRLZXk9InN0YXR1c0NoYW5nZWQiO2NsYXNzIFN7Y29uc3RydWN0b3IoZSl7dGhpcy5zdGF0dXM9Im5vdENvbm5lY3RlZCIsdGhpcy5jaGFuZ2VIYW5kbGVycz1uZXcgU2V0LHRoaXMubG9nZ2VyPW5ldyBfKHtzb3VyY2U6ImNvcmUucHJveHkuY29ubmVjdGlvbi1zdGF0dXMtbWFuYWdlciIscHJvdmlkZXI6ZSxtaXhpbjooKT0+KHtzdGF0dXM6dGhpcy5zdGF0dXN9KX0pfWdldFN0YXR1cygpe3JldHVybiB0aGlzLnN0YXR1c311cGRhdGUoZSl7dGhpcy5zdGF0dXM9ZS5zdGF0dXMsdGhpcy5sb2dnZXIudHJhY2UoIlByb3h5IENvbm5lY3Rpb24gU3RhdHVzIENoYW5nZWQiLHtzdGF0dXM6ZS5zdGF0dXN9KSxbLi4udGhpcy5jaGFuZ2VIYW5kbGVyc10uZm9yRWFjaCgodD0+e3RyeXt0KGUpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aXRoaW4gYSBQcm94eUNvbm5lY3Rpb25DaGFuZ2VkSGFuZGxlciIse2Vycm9yOmV9KX19KSl9b25DaGFuZ2UoZSl7dGhpcy5jaGFuZ2VIYW5kbGVycy5hZGQoZSl9b2ZmQ2hhbmdlKGUpe3RoaXMuY2hhbmdlSGFuZGxlcnMuZGVsZXRlKGUpfX12YXIgQyxJPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxUPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJnQuaW5kZXhPZihyKTwwJiYobltyXT1lW3JdKTtpZihudWxsIT1lJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW29dKSYmKG5bcltvXV09ZVtyW29dXSl9cmV0dXJuIG59O2NsYXNzIHd7Y29uc3RydWN0b3IoZSl7dGhpcy5wcm92aWRlcj1lLHRoaXMubG9nZ2VyPW5ldyBfKHtzb3VyY2U6ImNvcmUucHJveHkiLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7cHJveHlUeXBlOnRoaXMucHJveHlUeXBlLGNvbm5lY3Rpb25JZDp0aGlzLmNvbm5lY3Rpb25JZH0pfSksdGhpcy5yZXF1ZXN0TWFuYWdlcj1uZXcgZyhlKSx0aGlzLnN0YXR1cz1uZXcgUyhlKSx0aGlzLmVycm9yU2VydmljZT1uZXcgYihlKSx0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlPVtdLHRoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkPSExLHRoaXMuaXNJbml0aWFsaXplZD0hMSx0aGlzLnN1YnNjcmlwdGlvbnM9bmV3IGQsdGhpcy5jb25uZWN0aW9uSWQ9bnVsbCx0aGlzLmNoYW5uZWxNYW5hZ2VyPW5ldyB5KGUsdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QuYmluZCh0aGlzKSksdGhpcy5oZWFsdGhDaGVjaz1uZXcgRSh7cHJvdmlkZXI6ZSxzZW5kSGVhbHRoQ2hlY2s6dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QuYmluZCh0aGlzKSxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4uYmluZCh0aGlzKX0pfWluaXQoKXtpZih0aGlzLmlzSW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKCJQcm94eSBhbHJlYWR5IGluaXRpYWxpemVkIik7dGhpcy5pc0luaXRpYWxpemVkPSEwLHRoaXMuaW5pdFByb3h5KCl9cmVxdWVzdChlLHQsbixyKXtjb25zdCBvPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybnt0eXBlOiJyZXF1ZXN0IixuYW1lc3BhY2U6ZSxjb21tYW5kOnQscmVxdWVzdElkOnUoKSxkYXRhOm4sbWVzc2FnZU9yaWdpbjpyfX0oZSx0LG4sbnVsbCE9cj9yOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpLGk9dGhpcy5yZXF1ZXN0TWFuYWdlci5wcm9jZXNzUmVxdWVzdChvKTtyZXR1cm4gdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QobyksaX1zdWJzY3JpYmUoZSx0LG4pe2NvbnN0e2hhbmRsZXJJZDpyfT10aGlzLnN1YnNjcmlwdGlvbnMuYWRkKGUsdCksbz17dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46bnVsbCE9bj9uOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCksaGFuZGxlcklkOnJ9O3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KG8pfXVuc3Vic2NyaWJlKGUsdCxuKXtpZih0aGlzLnN1YnNjcmlwdGlvbnMuZGVsZXRlKGUsdCksdGhpcy5zdWJzY3JpcHRpb25zLmlzRW1wdHkoZSkpe2NvbnN0IHQ9e3R5cGU6InVuc3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46bnVsbCE9bj9uOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9O3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHQpfX1sb2coZSl7Y29uc3QgdD1mdW5jdGlvbih7bGV2ZWw6ZSxzb3VyY2U6dCxtZXNzYWdlOm4sbG9nZ2VySWQ6cixkYXRhOm99LGEscyl7Y29uc3QgYz1mdW5jdGlvbihlKXtpZihlKXRyeXtyZXR1cm4gZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBzdHJ1Y3R1cmVkQ2xvbmUoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt0aHJvdyBuZXcgaSh7ZXJyb3JLZXk6ImRlZXBDbG9uZUZhaWxlZCIsZGV0YWlsczp7YWN0dWFsRXJyb3I6ZX19KX19fShlKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6IkRhdGEgZmFpbGVkIHRvIHNhbml0aXplLiBUaGUgb3JpZ2luYWwgZGF0YSBpcyBub3QgYXZhaWxhYmxlIn19fShvKTtyZXR1cm57dHlwZToibG9nIixsZXZlbDplLHRpbWU6bmV3IERhdGUsc291cmNlOnQsbWVzc2FnZTpuLGxvZ2dlcklkOnIsZGF0YTpjLGNvbnRleHQ6YSxtZXNzYWdlT3JpZ2luOnN9fShlLHRoaXMuYWRkQ29udGV4dFRvTG9nZ2VyKCksdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSk7dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QodCl9c2VuZExvZ01lc3NhZ2UoZSl7ImxvZyI9PT1lLnR5cGU/KGUuY29udGV4dD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5jb250ZXh0KSx0aGlzLmFkZENvbnRleHRUb0xvZ2dlcigpKSx0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKSk6dGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byBzZW5kIGludmFsaWQgbG9nIG1lc3NhZ2UiLHttZXNzYWdlOmV9KX1zZW5kTWV0cmljKHttZXRyaWNEYXRhOmUsdGltZTp0LG5hbWVzcGFjZTpufSl7Y29uc3Qgcj1mdW5jdGlvbih7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0scil7dmFyIG8saTtyZXR1cm57dHlwZToibWV0cmljIixuYW1lc3BhY2U6bixtZXRyaWNOYW1lOmUubWV0cmljTmFtZSx1bml0OmUudW5pdCx2YWx1ZTplLnZhbHVlLHRpbWU6dCxkaW1lbnNpb25zOm51bGwhPT0obz1lLmRpbWVuc2lvbnMpJiZ2b2lkIDAhPT1vP286e30sb3B0aW9uYWxEaW1lbnNpb25zOm51bGwhPT0oaT1lLm9wdGlvbmFsRGltZW5zaW9ucykmJnZvaWQgMCE9PWk/aTp7fSxtZXNzYWdlT3JpZ2luOnJ9fSh7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0sdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSk7dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3Qocil9c2VuZE1ldHJpY01lc3NhZ2UoZSl7Im1ldHJpYyI9PT1lLnR5cGU/dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSk6dGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byBzZW5kIGludmFsaWQgbWV0cmljIG1lc3NhZ2UiLHttZXRyaWNNZXNzYWdlOmV9KX1zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl7dGhpcy5jb25uZWN0aW9uRXN0YWJsaXNoZWQ/dGhpcy5zZW5kTWVzc2FnZVRvU3ViamVjdChlKTp0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLnB1c2goZSl9Y29uc3VtZXJNZXNzYWdlSGFuZGxlcihlKXtpZighdGhpcy5pc0luaXRpYWxpemVkKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gcHJvY2VzcyBtZXNzYWdlIGZyb20gc3ViamVjdCBwcmlvciB0byBwcm94eSBiZWluZyBpbml0aWFsaXppbmcuIE1lc3NhZ2Ugbm90IHByb2Nlc3NlZCIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTplLmRhdGF9KTtjb25zdHtkYXRhOnR9PWU7aWYoISgidHlwZSJpbiB0KSlyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci53YXJuKCJVbmtub3duIGluYm91bmQgbWVzc2FnZSIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTp0fSk7Y29uc3Qgbj10O3RoaXMuaGFuZGxlTWVzc2FnZUZyb21TdWJqZWN0KG4pfWhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKXt0aGlzLmhhbmRsZURlZmF1bHRNZXNzYWdlRnJvbVN1YmplY3QoZSl9aGFuZGxlRGVmYXVsdE1lc3NhZ2VGcm9tU3ViamVjdChlKXtzd2l0Y2goZS50eXBlKXtjYXNlImFja25vd2xlZGdlIjp0aGlzLmhhbmRsZUNvbm5lY3Rpb25BY2tub3dsZWRnZShlKTticmVhaztjYXNlInJlc3BvbnNlIjp0aGlzLmhhbmRsZVJlc3BvbnNlKGUpO2JyZWFrO2Nhc2UicHVibGlzaCI6dGhpcy5oYW5kbGVQdWJsaXNoKGUpO2JyZWFrO2Nhc2UiZXJyb3IiOnRoaXMuaGFuZGxlRXJyb3IoZSk7YnJlYWs7Y2FzZSJjaGlsZERvd25zdHJlYW1NZXNzYWdlIjp0aGlzLmNoYW5uZWxNYW5hZ2VyLmhhbmRsZURvd25zdHJlYW1NZXNzYWdlKGUpO2JyZWFrO2Nhc2UiY2hpbGRDb25uZWN0aW9uQ2xvc2UiOnRoaXMuY2hhbm5lbE1hbmFnZXIuaGFuZGxlQ2xvc2VNZXNzYWdlKGUpO2JyZWFrO2Nhc2UiaGVhbHRoQ2hlY2tSZXNwb25zZSI6dGhpcy5oZWFsdGhDaGVjay5oYW5kbGVSZXNwb25zZShlKTticmVhaztkZWZhdWx0OnJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKCJVbmtub3duIGluYm91bmQgbWVzc2FnZSIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTplfSl9fWhhbmRsZUNvbm5lY3Rpb25BY2tub3dsZWRnZShlKXtmb3IodGhpcy5jb25uZWN0aW9uSWQ9ZS5jb25uZWN0aW9uSWQsdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6InJlYWR5Iixjb25uZWN0aW9uSWQ6ZS5jb25uZWN0aW9uSWR9KSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMDt0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLmxlbmd0aDspe2NvbnN0IGU9dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5zaGlmdCgpO3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSl9dGhpcy5oZWFsdGhDaGVjay5zdGFydChlKX1oYW5kbGVSZXNwb25zZShlKXt0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb2Nlc3NSZXNwb25zZShlKX1oYW5kbGVQdWJsaXNoKGUpe2NvbnN0e2hhbmRsZXJJZDp0LHRvcGljOm59PWU7aWYodCl7Y29uc3Qgcj10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QnlJZChuLHQpO3ImJnRoaXMuaGFuZGxlQXN5bmNTdWJzY3JpcHRpb25IYW5kbGVySW52b2tlKHtoYW5kbGVyOnIsaGFuZGxlcklkOnR9LGUpfWVsc2UgdGhpcy5zdWJzY3JpcHRpb25zLmdldChuKS5tYXAoKHQ9Pnt0aGlzLmhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZSh0LGUpfSkpfWhhbmRsZUVycm9yKGUpe2lmKGUuaXNGYXRhbCl7Y29uc3R7bWVzc2FnZTp0LHR5cGU6bn09ZSxyPVQoZSxbIm1lc3NhZ2UiLCJ0eXBlIl0pO3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJlcnJvciIscmVhc29uOnQsZGV0YWlsczpyfSl9dGhpcy5wdWJsaXNoRXJyb3Ioe21lc3NhZ2U6ZS5tZXNzYWdlLGtleTplLmtleSxkZXRhaWxzOmUuZGV0YWlscyxpc0ZhdGFsOmUuaXNGYXRhbCxwcm94eVN0YXR1czplLnN0YXR1c30pfXB1Ymxpc2hFcnJvcihlKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7Y29ubmVjdGlvblN0YXR1czp0aGlzLmNvbm5lY3Rpb25TdGF0dXN9KTt0aGlzLmVycm9yU2VydmljZS5pbnZva2UodCl9aGFuZGxlQXN5bmNTdWJzY3JpcHRpb25IYW5kbGVySW52b2tlKGUsdCl7cmV0dXJuIEkodGhpcyxhcmd1bWVudHMsdm9pZCAwLChmdW5jdGlvbiooe2hhbmRsZXI6ZSxoYW5kbGVySWQ6dH0se3RvcGljOm4sZGF0YTpyfSl7dHJ5e3lpZWxkIGUocil9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdoZW4gaGFuZGxpbmcgc3Vic2NyaXB0aW9uIix7dG9waWM6bixlcnJvcjplLGhhbmRsZXJJZDp0fSl9fSkpfWdldCBjb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuc3RhdHVzLmdldFN0YXR1cygpfW9uRXJyb3IoZSl7dGhpcy5lcnJvclNlcnZpY2Uub25FcnJvcihlKX1vZmZFcnJvcihlKXt0aGlzLmVycm9yU2VydmljZS5vZmZFcnJvcihlKX1vbkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UoZSl7dGhpcy5zdGF0dXMub25DaGFuZ2UoZSl9b2ZmQ29ubmVjdGlvblN0YXR1c0NoYW5nZShlKXt0aGlzLnN0YXR1cy5vZmZDaGFuZ2UoZSl9b25IZWFsdGhDaGVja1N0YXR1c0NoYW5nZWQoZSl7dGhpcy5oZWFsdGhDaGVjay5vblN0YXR1c0NoYW5nZWQoZSl9b2ZmSGVhbHRoQ2hlY2tTdGF0dXNDaGFuZ2VkKGUpe3RoaXMuaGVhbHRoQ2hlY2sub2ZmU3RhdHVzQ2hhbmdlZChlKX1hZGRDaGlsZENoYW5uZWwoZSl7dGhpcy5jaGFubmVsTWFuYWdlci5hZGRDaGFubmVsKGUpfXVwZGF0ZUNoaWxkQ2hhbm5lbFBvcnQoZSl7dGhpcy5jaGFubmVsTWFuYWdlci51cGRhdGVDaGFubmVsUG9ydChlKX1nZXRDb25uZWN0aW9uSWQoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWQ/UHJvbWlzZS5yZXNvbHZlKHRoaXMuY29ubmVjdGlvbklkKTpuZXcgUHJvbWlzZSgoKGUsdCk9PntsZXQgbjtjb25zdCByPXQ9PnsicmVhZHkiPT09dC5zdGF0dXMmJih0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksY2xlYXJJbnRlcnZhbChuKSxlKHQuY29ubmVjdGlvbklkKSl9O249c2V0VGltZW91dCgoKCk9Pnt0aGlzLmxvZ2dlci5lcnJvcigiVGltZW91dCBnZXR0aW5nIGNvbm5lY3Rpb24gaWQiKSx0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksdChuZXcgRXJyb3IoIlRpbWVvdXQgZ2V0dGluZyBjb25uZWN0aW9uSWQiKSl9KSwxZTQpLHRoaXMub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHIpfSkpfXJlc2V0Q29ubmVjdGlvbihlKXt2YXIgdDt0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVzZXQiLHJlYXNvbjplfSk7Y29uc3Qgbj10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpO3RoaXMubG9nZ2VyLmluZm8oIlJlc2V0dGluZyBwcm94eSIse3JlYXNvbjplLHN1YnNjcmlwdGlvbkhhbmRsZXJDb3VudDpudWxsIT09KHQ9bnVsbD09bj92b2lkIDA6bi5sZW5ndGgpJiZ2b2lkIDAhPT10P3Q6LTF9KSxudWxsPT1ufHxuLm1hcCgoKHt0b3BpYzplLGhhbmRsZXJJZDp0fSk9Pih7dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSxoYW5kbGVySWQ6dH0pKSkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpKX19IWZ1bmN0aW9uKGUpe2VbZS50cmFjZT0xXT0idHJhY2UiLGVbZS5kZWJ1Zz0yXT0iZGVidWciLGVbZS5pbmZvPTNdPSJpbmZvIixlW2Uud2Fybj00XT0id2FybiIsZVtlLmVycm9yPTVdPSJlcnJvciJ9KEN8fChDPXt9KSk7Y2xhc3MgQXtjb25zdHJ1Y3RvcihlKXt0aGlzLm1peGluPWV9Z2V0VHJhbnNmb3JtZWREYXRhKGUsdCl7cmV0dXJuIHRoaXMubWl4aW4/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG51bGwhPXQ/dDp7fSksdGhpcy5taXhpbihudWxsIT10P3Q6e30sZSkpOnR9fWNsYXNzIF97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJveHk9bnVsbCx0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbD1udWxsLHRoaXMubG9nZ2VySWQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgVWludDhBcnJheShNYXRoLmNlaWwoZS8yKSk7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksQXJyYXkuZnJvbSh0LChlPT5lLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCIwIikpKS5qb2luKCIiKS5zdWJzdHJpbmcoMCxlKX0oOCksInN0cmluZyI9PXR5cGVvZiBlPyh0aGlzLnNvdXJjZT1lLHRoaXMuZGF0YVRyYW5zZm9ybWVyPW5ldyBBKHZvaWQgMCkpOih0aGlzLnNvdXJjZT1lLnNvdXJjZSxlLnByb3ZpZGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5wcm92aWRlcj90aGlzLnByb3ZpZGVyRmFjdG9yeT1lLnByb3ZpZGVyOnRoaXMucHJvdmlkZXI9ZS5wcm92aWRlcix0aGlzLmRhdGFUcmFuc2Zvcm1lcj1uZXcgQShlLm1peGluKSx0aGlzLmxvZ09wdGlvbnM9ZS5vcHRpb25zKX10cmFjZShlLHQsbil7dGhpcy5sb2coQy50cmFjZSxlLHQsbil9ZGVidWcoZSx0LG4pe3RoaXMubG9nKEMuZGVidWcsZSx0LG4pfWluZm8oZSx0LG4pe3RoaXMubG9nKEMuaW5mbyxlLHQsbil9d2FybihlLHQsbil7dGhpcy5sb2coQy53YXJuLGUsdCxuKX1lcnJvcihlLHQsbil7dGhpcy5sb2coQy5lcnJvcixlLHQsbil9bG9nKGUsdCxuLHIpe2NvbnN0IG89dGhpcy5kYXRhVHJhbnNmb3JtZXIuZ2V0VHJhbnNmb3JtZWREYXRhKGUsbik7dGhpcy5pZ25vcmVSZW1vdGUocil8fHRoaXMuZ2V0UHJveHkoKS5sb2coe2xldmVsOmUsc291cmNlOnRoaXMuc291cmNlLGxvZ2dlcklkOnRoaXMubG9nZ2VySWQsbWVzc2FnZTp0LGRhdGE6b30pLHRoaXMuYXBwbHlEdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlKGUscikmJmZ1bmN0aW9uKGUsdCxuKXtpZihuKXN3aXRjaChlKXtjYXNlIEMuZXJyb3I6Y29uc29sZS5lcnJvcih0LG4pO2JyZWFrO2Nhc2UgQy53YXJuOmNvbnNvbGUud2Fybih0LG4pO2JyZWFrO2Nhc2UgQy5pbmZvOmNvbnNvbGUuaW5mbyh0LG4pO2JyZWFrO2Nhc2UgQy5kZWJ1Zzpjb25zb2xlLmRlYnVnKHQsbik7YnJlYWs7Y2FzZSBDLnRyYWNlOmNvbnNvbGUudHJhY2UodCxuKTticmVhaztkZWZhdWx0OmNvbnNvbGUubG9nKHQsbil9ZWxzZSBzd2l0Y2goZSl7Y2FzZSBDLmVycm9yOmNvbnNvbGUuZXJyb3IodCk7YnJlYWs7Y2FzZSBDLndhcm46Y29uc29sZS53YXJuKHQpO2JyZWFrO2Nhc2UgQy5pbmZvOmNvbnNvbGUuaW5mbyh0KTticmVhaztjYXNlIEMuZGVidWc6Y29uc29sZS5kZWJ1Zyh0KTticmVhaztjYXNlIEMudHJhY2U6Y29uc29sZS50cmFjZSh0KTticmVhaztkZWZhdWx0OmNvbnNvbGUubG9nKHQpfX0oZSx0LG8pfWdldFByb3ZpZGVyKCl7cmV0dXJuIHRoaXMucHJvdmlkZXJ8fCh0aGlzLnByb3ZpZGVyPXRoaXMucHJvdmlkZXJGYWN0b3J5P3RoaXMucHJvdmlkZXJGYWN0b3J5KCk6bygpKSx0aGlzLnByb3ZpZGVyfWdldFByb3h5KCl7cmV0dXJuIHRoaXMuX3Byb3h5fHwodGhpcy5fcHJveHk9dGhpcy5nZXRQcm92aWRlcigpLmdldFByb3h5KCkpLHRoaXMuX3Byb3h5fWFwcGx5RHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZShlLHQpe3JldHVybihudWxsPT10P3ZvaWQgMDp0LmR1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGUpfHx0aGlzLmdldExvZ0NvbnNvbGVMZXZlbCgpPD1lfWdldExvZ0NvbnNvbGVMZXZlbCgpe3ZhciBlLHQsbixyO3JldHVybiB0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbHx8KHRoaXMuX2xvZ1RvQ29uc29sZUxldmVsPShudWxsPT09KGU9dGhpcy5sb2dPcHRpb25zKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5taW5Mb2dUb0NvbnNvbGVMZXZlbE92ZXJyaWRlKT90aGlzLmxvZ09wdGlvbnMubWluTG9nVG9Db25zb2xlTGV2ZWxPdmVycmlkZTpudWxsIT09KHI9bnVsbD09PShuPW51bGw9PT0odD10aGlzLmdldFByb3ZpZGVyKCkuY29uZmlnKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sb2dnaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5taW5Mb2dUb0NvbnNvbGVMZXZlbCkmJnZvaWQgMCE9PXI/cjpDLmVycm9yKSx0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbH1pZ25vcmVSZW1vdGUoZSl7dmFyIHQsbixyO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMubG9nT3B0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVtb3RlSWdub3JlKSYmdm9pZCAwIT09biYmbnx8bnVsbCE9PShyPW51bGw9PWU/dm9pZCAwOmUucmVtb3RlSWdub3JlKSYmdm9pZCAwIT09ciYmcn19Y2xhc3MgUntjb25zdHJ1Y3Rvcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OnR9KXtpZih0aGlzLl9pZD11KCksIXQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gZ2V0IFByb3h5IGJlZm9yZSBzZXR0aW5nIHVwIGZhY3RvcnkiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBpbmNsdWRlIGNvbmZpZyIpO3RoaXMucHJveHlGYWN0b3J5PXQsdGhpcy5fY29uZmlnPWV9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2lkfWdldFByb3h5KCl7cmV0dXJuIHRoaXMucHJveHl8fCh0aGlzLnByb3h5PXRoaXMucHJveHlGYWN0b3J5KHRoaXMpLHRoaXMucHJveHkuaW5pdCgpKSx0aGlzLnByb3h5fWdldCBjb25maWcoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0aGlzLl9jb25maWcpfW9uRXJyb3IoZSl7dGhpcy5nZXRQcm94eSgpLm9uRXJyb3IoZSl9b2ZmRXJyb3IoZSl7dGhpcy5nZXRQcm94eSgpLm9mZkVycm9yKGUpfXN0YXRpYyBpbml0aWFsaXplUHJvdmlkZXIoZSl7aWYodGhpcy5pc0luaXRpYWxpemVkKXtjb25zdCBlPSJBdHRlbXB0ZWQgdG8gaW5pdGlhbGl6ZSBwcm92aWRlciBtb3JlIHRoYW4gb25lIHRpbWUuIix0PXt9O3RyeXtjb25zdCB0PW8oKTtuZXcgXyh7c291cmNlOiJjb3JlLmFtYXpvbkNvbm5lY3RQcm92aWRlci5pbml0Iixwcm92aWRlcjp0fSkuZXJyb3IoZSl9Y2F0Y2goZSl7dC5sb2dnaW5nRXJyb3I9bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlfXRocm93IG5ldyBpKHtlcnJvcktleToiYXR0ZW1wdEluaXRpYWxpemVNdWx0aXBsZVByb3ZpZGVycyIscmVhc29uOmUsZGV0YWlsczp0fSl9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHIpdGhyb3cgbmV3IEVycm9yKCJHbG9iYWwgUHJvdmlkZXIgaXMgYWxyZWFkeSBzZXQiKTtyPWV9KGUpLHRoaXMuaXNJbml0aWFsaXplZD0hMCxlLmdldFByb3h5KCksZX19Ui5pc0luaXRpYWxpemVkPSExO2NsYXNzIE8gZXh0ZW5kcyB3e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucG9zdE1lc3NhZ2VIYW5kbGVyPXRoaXMubGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBfKHtzb3VyY2U6InNpdGVQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJjb25uZWN0aW5nIn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcil9cmVzZXRDb25uZWN0aW9uKGUpe3N1cGVyLnJlc2V0Q29ubmVjdGlvbihlKSx0aGlzLm1lc3NhZ2VQb3J0PXZvaWQgMCx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiY29ubmVjdGluZyJ9KX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLm1lc3NhZ2VQb3J0P3RoaXMubWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoZSk6dGhpcy5wcm94eUxvZ2dlci5lcnJvcigiRmFpbGVkIHRvIHNlbmQgVXBzdHJlYW1NZXNzYWdlLiBNZXNzYWdlUG9ydCBub3Qgc2V0Iix7bWVzc2FnZVR5cGU6ZS50eXBlfSl9YWRkQ29udGV4dFRvTG9nZ2VyKCl7cmV0dXJue319bGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UoZSl7aWYodGhpcy52ZXJpZnlPcmlnaW4oZSkmJnRoaXMudmVyaWZ5RXZlbnRTb3VyY2UoZSkpe2lmKCJjcm9zcy1kb21haW4tYWRhcHRlci1pbml0IiE9PWUuZGF0YS50eXBlKXJldHVybiB2b2lkIHRoaXMuaW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcihlLmRhdGEpO2lmKHRoaXMubWVzc2FnZVBvcnQmJih0aGlzLnJlc2V0Q29ubmVjdGlvbigiU3Vic2VxdWVudCBNZXNzYWdlIFBvcnQgRGV0ZWN0ZWQiKSx0aGlzLnByb3h5TG9nZ2VyLmluZm8oIlN1YnNlcXVlbnQgbWVzc2FnZSBwb3J0IHJlY2VpdmVkLiBSZXNldHRpbmcgY29ubmVjdGlvbiIpKSx0aGlzLm1lc3NhZ2VQb3J0PWUucG9ydHNbMF0sIXRoaXMubWVzc2FnZVBvcnQpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIHBvcnQgbm90IHByb3ZpZGVkIGJ5IGlmcmFtZSIpO3RoaXMubWVzc2FnZVBvcnQub25tZXNzYWdlPXRoaXMuY29uc3VtZXJNZXNzYWdlSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJpbml0aWFsaXppbmcifSksdGhpcy5tZXNzYWdlUG9ydC5wb3N0TWVzc2FnZSh7dHlwZToiY3Jvc3MtZG9tYWluLXNpdGUtcmVhZHkiLHByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZH0pLHRoaXMucHJveHlMb2dnZXIuZGVidWcoIkNEQSBQb3N0IG1lc3NhZ2UgaGFuZGxlciByZW1vdmVkIil9fXZlcmlmeU9yaWdpbihlKXtjb25zdCB0PWUub3JpZ2luO2lmKCF0KXJldHVybiB0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk5vIG9yaWdpbiBwcm92aWRlZCBpbiBldmVudC4gSWdub3JpbmcgZXZlbnQuIiksITE7bGV0IG47dHJ5e249bmV3IFVSTCh0aGlzLnByb3ZpZGVyLmNvbmZpZy5pbnN0YW5jZVVybCkub3JpZ2lufWNhdGNoKGUpe3JldHVybiB0aGlzLnByb3h5TG9nZ2VyLmVycm9yKCJVbmFibGUgdG8gcGFyc2UgZXhwZWN0ZWQgb3JpZ2luIGZyb20gY29uZmlnLiBDYW5ub3QgbWF0Y2giLHtlcnJvcjplLGV2ZW50T3JpZ2luOnQsY29uZmlnSW5zdGFuY2VVcmw6dGhpcy5wcm92aWRlci5jb25maWcuaW5zdGFuY2VVcmx9LHtkdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlOiEwfSksITF9cmV0dXJuIHQ9PT1ufHwoImNyb3NzLWRvbWFpbi1hZGFwdGVyLWluaXQiPT09ZS5kYXRhLnR5cGUmJnRoaXMucHJveHlMb2dnZXIud2FybigiT3JpZ2luIG9mIG1lc3NhZ2Ugd2l0aCB0eXBlICdjcm9zcy1kb21haW4tYWRhcHRlci1pbml0JyBkaWQgbm90IGV4cGVjdGVkIGluc3RhbmNlIHZhbHVlLiBJZ25vcmluZyIse2V4cGVjdGVkT3JpZ2luOm4sZXZlbnRPcmlnaW46dH0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITB9KSwhMSl9fWNsYXNzIEwgZXh0ZW5kcyBPe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTB9Z2V0IHByb3h5VHlwZSgpe3JldHVybiJzdHJlYW1zLXNpdGUifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpe3JldHVybiBPYmplY3QuYXNzaWduKHtfdHlwZToic3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LHtvcmlnaW46bnVsbCE9PSh0PW51bGw9PT0oZT1udWxsPT09ZG9jdW1lbnR8fHZvaWQgMD09PWRvY3VtZW50P3ZvaWQgMDpkb2N1bWVudC5sb2NhdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUub3JpZ2luKSYmdm9pZCAwIT09dD90OiJ1bmtub3duIixwYXRoOm51bGwhPT0ocj1udWxsPT09KG49bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD92b2lkIDA6ZG9jdW1lbnQubG9jYXRpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBhdGhuYW1lKSYmdm9pZCAwIT09cj9yOiJ1bmtub3duIn0pO3ZhciBlLHQsbixyfXZlcmlmeUV2ZW50U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5jY3BJRnJhbWU7aWYoIXQpcmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIkNDUCBJZnJhbWUgbm90IHByb3ZpZGVkIHRvIHByb3h5LiBVbmFibGUgdG8gdmVyaWZ5IGV2ZW50IHRvIENvbm5lY3QgdG8gQ0NQLiIse29yaWdpbjplLm9yaWdpbn0pLCExO2NvbnN0IG49ZS5zb3VyY2U9PT10LmNvbnRlbnRXaW5kb3c7cmV0dXJuIG58fCh0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQrKyx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ8NSYmdGhpcy5wcm94eUxvZ2dlci53YXJuKCJNZXNzYWdlIGNhbWUgZnJvbSB1bmV4cGVjdGVkIGlmcmFtZS4gTm90IGEgdmFsaWQgQ0NQLiBXaWxsIG5vdCBjb25uZWN0Iix7b3JpZ2luOmUub3JpZ2luLHVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ6dGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50fSkpLG59aW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcigpe319Y2xhc3MgayBleHRlbmRzIFJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoe2NvbmZpZzplLHByb3h5RmFjdG9yeTplPT5uZXcgTChlKX0pfXN0YXRpYyBpbml0KGUpe2NvbnN0IHQ9bmV3IGsoZSk7cmV0dXJuIGsuaW5pdGlhbGl6ZVByb3ZpZGVyKHQpLHtwcm92aWRlcjp0fX1zdGF0aWMgZ2V0IGRlZmF1bHQoKXtyZXR1cm4gbygiQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCIpfXNldENDUElmcmFtZShlKXt0aGlzLmdldFByb3h5KCkuc2V0Q0NQSWZyYW1lKGUpfX19LDgyNTooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10LHQuYWdlbnRBcHA9e307dmFyIG49e0NDUDoiY2NwIixHVUlERVM6ImN1c3RvbXZpZXdzIn07dC5hZ2VudEFwcC5pbml0Q0NQPXQuY29yZS5pbml0Q0NQLHQuYWdlbnRBcHAuaXNJbml0aWFsaXplZD1mdW5jdGlvbihlKXt9LHQuYWdlbnRBcHAuaW5pdEFwcENvbW11bmljYXRpb249ZnVuY3Rpb24oZSxuKXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSxvPW5ldyB0LklGcmFtZUNvbmR1aXQobix3aW5kb3csciksaT1bdC5BZ2VudEV2ZW50cy5VUERBVEUsdC5Db250YWN0RXZlbnRzLlZJRVcsdC5FdmVudFR5cGUuQUNLTk9XTEVER0UsdC5FdmVudFR5cGUuVEVSTUlOQVRFRCx0LlRhc2tFdmVudHMuQ1JFQVRFRCx0LkVtYWlsRXZlbnRzLkNSRUFURURdO3IuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsKGZ1bmN0aW9uKGUpe2kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbShlLChmdW5jdGlvbih0KXtvLnNlbmRVcHN0cmVhbShlLHQpfSkpfSkpfSkpfTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoImNjcC12MiIpO3JldHVybiBlLnNsaWNlKDAsdC0xKX0sbz1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7dHJ5e3JldHVybiBlLmdldENvbnRhY3RJZCgpfWNhdGNoKHQpe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIltDdXN0b21WaWV3c106IEludmFsaWQgQ29udGFjdCBQcm92aWRlZDogIixlKX19O3QuYWdlbnRBcHAuaW5pdEFwcD1mdW5jdGlvbihlLGksYSxzKXtzPXN8fHt9O3ZhciBjLHU9YS5lbmRzV2l0aCgiLyIpfHwvWz8mXT9bXj0/Jl0rPVtePT8mXSsvZy50ZXN0KGEpP2E6YSsiLyIsbD1zLm9uTG9hZD9zLm9uTG9hZDpudWxsLHA9e2VuZHBvaW50OnUsc3R5bGU6cy5zdHlsZSxvbkxvYWQ6bH07aWYoZT09PW4uQ0NQX0RSKWM9bi5DQ1A7ZWxzZSBpZihlPT09bi5HVUlERVMmJnMuY3VzdG9tVmlld3NQYXJhbXMpe3ZhciBkPXMuY3VzdG9tVmlld3NQYXJhbXMuaWZyYW1lU3VmZml4O2lmKGM9ZD8iIi5jb25jYXQobi5HVUlERVMpLmNvbmNhdChkKToiIi5jb25jYXQobi5HVUlERVMpLHZvaWQgMCE9PXQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuZ2V0KGMpKXRocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXTogQ3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIHByb3ZpZGUgYSBkaWZmZXJlbnQgaWZyYW1lU3VmZml4IGZvciB0aGUgY3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uLiIpfWVsc2UgYz1lO3ZhciBoPSJzdHJpbmciPT10eXBlb2YgaT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKTppO3QuYWdlbnRBcHAuQXBwUmVnaXN0cnkucmVnaXN0ZXIoYyxwLGgpLHQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuc3RhcnQoYywoZnVuY3Rpb24oaSl7dmFyIGE9aS5lbmRwb2ludCx1PWkuY29udGFpbmVyRE9NO3JldHVybntpbml0OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIHMuY2NwUGFyYW1zPXMuY2NwUGFyYW1zP3MuY2NwUGFyYW1zOnt9LHMuc3R5bGUmJihzLmNjcFBhcmFtcy5zdHlsZT1zLnN0eWxlKSxmdW5jdGlvbihlLG4sbyl7dmFyIGk9e2NjcFVybDplLGNjcExvYWRUaW1lb3V0OjFlNCxsb2dpblBvcHVwOiEwLGxvZ2luVXJsOnIoZSkrIi9sb2dpbiIsc29mdHBob25lOnthbGxvd0ZyYW1lZFNvZnRwaG9uZTohMCxkaXNhYmxlUmluZ3RvbmU6ITEsYWxsb3dGcmFtZWRWaWRlb0NhbGw6ITAsYWxsb3dGcmFtZWRTY3JlZW5TaGFyaW5nOiEwLGFsbG93RnJhbWVkU2NyZWVuU2hhcmluZ1BvcFVwOiExfX0sYT10Lm1lcmdlKGksby5jY3BQYXJhbXMpO3QuY29yZS5pbml0Q0NQKG4sYSl9KGEsdSxzKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1zLmN1c3RvbVZpZXdzUGFyYW1zPyh0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uKGMsYSx1KSxmdW5jdGlvbihlLHIsaSl7dmFyIGEscyxjPWkuY3VzdG9tVmlld3NQYXJhbXMsdT1jLmNvbnRhY3QsbD1jLmRpc2FibGVBdXRvRGVzdHJveSxwPWMuaWZyYW1lU3VmZml4LGQ9Yy50ZXJtaW5hdGVDdXN0b21WaWV3T3B0aW9ucyxoPXZvaWQgMD09PWQ/e306ZCxmPWkuY3VzdG9tVmlld3NQYXJhbXMuY29udGFjdEZsb3dJZDt2b2lkIDAhPT11JiYoKGE9byh1KSkmJiEwIT09bCYmInN0cmluZyIhPXR5cGVvZiB1JiZ1Lm9uRGVzdHJveSgoZnVuY3Rpb24obil7dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXcoZSxwLHt0aW1lb3V0OmgudGltZW91dHx8NWUzLGhpZGVJZnJhbWU6dm9pZCAwPT09aC5oaWRlSWZyYW1lfHxoLmhpZGVJZnJhbWUscmVzb2x2ZUlmcmFtZTp2b2lkIDA9PT1oLnJlc29sdmVJZnJhbWV8fGgucmVzb2x2ZUlmcmFtZX0pfSkpLGZ8fGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXTogTmVlZCB0byBwcm92aWRlIGEgY29udGFjdEZsb3dJZCB3aGVuIGRlZmluaW5nIGNvbnRhY3QgcGFyYW1ldGVyIGZvciBpbml0YWxpemluZyBjdXN0b212aWV3cyBhcHBsaWNhdGlvbiIpKSxzPXA/IiIuY29uY2F0KG4uR1VJREVTKS5jb25jYXQocCk6IiIuY29uY2F0KG4uR1VJREVTKTt2YXIgZz0iaWZyYW1lW2lkPSciLmNvbmNhdChzLCInXSIpLG09KG51bGw9PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvcihnKSl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpfHx3aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpO2lmKCFtKXRocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXTogTm8gaWZyYW1lIGZvdW5kIGZvciB0aGUgYXBwOiAiLHMpO3ZhciB2PUFXUy51dGlsLnV1aWQudjQoKTthP20uc3JjPSIiLmNvbmNhdChlLCI/Y29udGFjdEZsb3dJZD0iKS5jb25jYXQoZiwiJmN1cnJlbnRDb250YWN0SWQ9IikuY29uY2F0KGEsIiZhZ2VudEFwcFRhYklkPSIpLmNvbmNhdCh2LCItdGFiIik6ZiYmKG0uc3JjPSIiLmNvbmNhdChlLCI/Y29udGFjdEZsb3dJZD0iKS5jb25jYXQoZiwiJmFnZW50QXBwVGFiSWQ9IikuY29uY2F0KHYsIi10YWIiKSl9KGEsdSxzKSk6dC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSk7ZGVmYXVsdDpyZXR1cm4gdC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIGk9cihhKSsiL2xvZ291dCIsdC5mZXRjaChpLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLlRFUk1JTkFURSksITB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldExvZygpLmVycm9yKCJBbiBlcnJvciBvY2N1cmVkIG9uIGxvZ291dC4iK2UpLndpdGhFeGNlcHRpb24oZSksd2luZG93LmxvY2F0aW9uLmhyZWY9aSwhMX0pKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1zLmN1c3RvbVZpZXdzUGFyYW1zPyhvPWMsdm9pZCB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmRlbGV0ZShvKSk6bnVsbDtkZWZhdWx0OnJldHVybiBudWxsfXZhciBvLGl9fX0pKX0sdC5hZ2VudEFwcC5zdG9wQXBwPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnN0b3AoZSl9fSgpfSw5NjE6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbixyPSJjY3AiO2UuY29ubmVjdC5hZ2VudEFwcC5BcHBSZWdpc3RyeT0obj17fSx7cmVnaXN0ZXI6ZnVuY3Rpb24oZSx0LHIpe25bZV09e2NvbnRhaW5lckRPTTpyLGVuZHBvaW50OnQuZW5kcG9pbnQsc3R5bGU6dC5zdHlsZSxpbnN0YW5jZTp2b2lkIDAsb25Mb2FkOnQub25Mb2FkfX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXtpZihuW2VdKXt2YXIgbz1uW2VdLmNvbnRhaW5lckRPTSxpPW5bZV0uZW5kcG9pbnQsYT1uW2VdLnN0eWxlLHM9bltlXS5vbkxvYWQ7aWYoZSE9PXIpe3ZhciBjPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBvLnNyYz10LG8uc3R5bGU9bnx8IndpZHRoOiAxMDAlOyBoZWlnaHQ6MTAwJTsiLG8uaWQ9ZSxvWyJhcmlhLWxhYmVsIl09ZSxvLm9ubG9hZD1yLG8uYWxsb3c9ImNsaXBib2FyZC1yZWFkOyBjbGlwYm9hcmQtd3JpdGUiLG8uc2V0QXR0cmlidXRlKCJzYW5kYm94IiwiYWxsb3ctZm9ybXMgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIiksb30oZSxpLGEscyk7by5hcHBlbmRDaGlsZChjKX1yZXR1cm4gbltlXS5pbnN0YW5jZT10KG5bZV0pLG5bZV0uaW5zdGFuY2UuaW5pdCgpfX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSxkZWxldGU6ZnVuY3Rpb24oZSl7ZGVsZXRlIG5bZV19LHN0b3A6ZnVuY3Rpb24oZSl7aWYobltlXSl7dmFyIHQscj1uW2VdLG89ci5jb250YWluZXJET00ucXVlcnlTZWxlY3RvcigiaWZyYW1lIik7aWYoZS5pbmNsdWRlcygiY3VzdG9tdmlld3MiKSl7dmFyIGk9ImlmcmFtZVtpZD0nIi5jb25jYXQoZSwiJ10iKTtvPXIuY29udGFpbmVyRE9NLnF1ZXJ5U2VsZWN0b3IoaSl9cmV0dXJuIHIuY29udGFpbmVyRE9NLnJlbW92ZUNoaWxkKG8pLHIuaW5zdGFuY2UmJih0PXIuaW5zdGFuY2UuZGVzdHJveSgpLGRlbGV0ZSByLmluc3RhbmNlKSx0fX19KX0oKX0sNjEwOigpPT57ZnVuY3Rpb24gZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdCh0KXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj9lKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cCh0LGUscltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6ZShPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbCE9bil7dmFyIHIsbyxpLGEscz1bXSxjPSEwLHU9ITE7dHJ5e2lmKGk9KG49bi5jYWxsKGUpKS5uZXh0LDA9PT10KXtpZihPYmplY3QobikhPT1uKXJldHVybjtjPSExfWVsc2UgZm9yKDshKGM9KHI9aS5jYWxsKG4pKS5kb25lKSYmKHMucHVzaChyLnZhbHVlKSxzLmxlbmd0aCE9PXQpO2M9ITApO31jYXRjaChlKXt1PSEwLG89ZX1maW5hbGx5e3RyeXtpZighYyYmbnVsbCE9bi5yZXR1cm4mJihhPW4ucmV0dXJuKCksT2JqZWN0KGEpIT09YSkpcmV0dXJufWZpbmFsbHl7aWYodSl0aHJvdyBvfX1yZXR1cm4gc319KGUsdCl8fHMoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LHIoZSl9ZnVuY3Rpb24gbygpeyJ1c2Ugc3RyaWN0IjtvPWZ1bmN0aW9uKCl7cmV0dXJuIHR9O3ZhciBlLHQ9e30sbj1PYmplY3QucHJvdG90eXBlLGk9bi5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaChlKXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGgoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX10LndyYXA9ZDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIEUoKXt9ZnVuY3Rpb24gUygpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgST1PYmplY3QuZ2V0UHJvdG90eXBlT2YsVD1JJiZJKEkoUChbXSkpKTtUJiZUIT09biYmaS5jYWxsKFQsYykmJihDPVQpO3ZhciB3PVMucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyhlLHQpe2Z1bmN0aW9uIG4obyxhLHMsYyl7dmFyIHU9aChlW29dLGUsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09cihwKSYmaS5jYWxsKHAsIl9fYXdhaXQiKT90LnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtuKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7bigidGhyb3ciLGUscyxjKX0pKTp0LnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIG4oInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIG87YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyB0KChmdW5jdGlvbih0LG8pe24oZSxyLHQsbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUih0LG4scil7dmFyIG89ZjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTplLGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1PKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09Zil0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9aCh0LG4scik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTyh0LG4pe3ZhciByPW4ubWV0aG9kLG89dC5pdGVyYXRvcltyXTtpZihvPT09ZSlyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZ0Lml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPSJyZXR1cm4iLG4uYXJnPWUsTyh0LG4pLCJ0aHJvdyI9PT1uLm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWgobyx0Lml0ZXJhdG9yLG4uYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD0idGhyb3ciLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8oblt0LnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PXQubmV4dExvYywicmV0dXJuIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLG4uZGVsZWdhdGU9bnVsbCx5KTphOihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iiksbi5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIEwoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKEwsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUCh0KXtpZih0fHwiIj09PXQpe3ZhciBuPXRbY107aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKGkuY2FsbCh0LG8pKXJldHVybiBuLnZhbHVlPXRbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9ZSxuLmRvbmU9ITAsbn07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKHIodCkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gRS5wcm90b3R5cGU9UyxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxhKFMsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxFLmRpc3BsYXlOYW1lPXAoUyxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHQuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09RXx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sdC5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsUyk6KGUuX19wcm90b19fPVMscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sdC5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHQuQXN5bmNJdGVyYXRvcj1fLHQuYXN5bmM9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsbixyLG8pLGkpO3JldHVybiB0LmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLHQua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSx0LnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9ZSx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhdClmb3IodmFyIG4gaW4gdGhpcykidCI9PT1uLmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPWUpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPXQsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSwhIW99Zm9yKHZhciBvPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW29dLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PWkuY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgbz1yO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKHQpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ZSkseX19LHR9ZnVuY3Rpb24gaShlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7dmFyIGE9ZS5hcHBseSh0LG4pO2Z1bmN0aW9uIHMoZSl7aShhLHIsbyxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7aShhLHIsbyxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIHMoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGMoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/YyhlLHQpOnZvaWQgMH19ZnVuY3Rpb24gYyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsZChyLmtleSkscil9fWZ1bmN0aW9uIGwoZSx0LG4pe3JldHVybiB0JiZ1KGUucHJvdG90eXBlLHQpLG4mJnUoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybih0PWQodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gZChlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT1yKGUpfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIG89bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9cihvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1yKHQpP3Q6dCsiIn0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLGk9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9aSxlLmxpbHk9aSxpLkFnZW50U3RhdGVUeXBlPWkubWFrZUVudW0oWyJpbml0Iiwicm91dGFibGUiLCJub3Rfcm91dGFibGUiLCJvZmZsaW5lIiwic3lzdGVtIiwiZXJyb3IiXSksaS5BZ2VudFN0YXR1c1R5cGU9aS5BZ2VudFN0YXRlVHlwZSxpLkFnZW50QXZhaWxTdGF0ZXM9aS5tYWtlRW51bShbIkluaXQiLCJCdXN5IiwiQWZ0ZXJDYWxsV29yayIsIkNhbGxpbmdDdXN0b21lciIsIkRpYWxpbmciLCJKb2luaW5nIiwiUGVuZGluZ0F2YWlsYWJsZSIsIlBlbmRpbmdCdXN5Il0pLGkuQWdlbnRFcnJvclN0YXRlcz1pLm1ha2VFbnVtKFsiRXJyb3IiLCJBZ2VudEh1bmdVcCIsIkJhZEFkZHJlc3NBZ2VudCIsIkJhZEFkZHJlc3NDdXN0b21lciIsIkRlZmF1bHQiLCJGYWlsZWRDb25uZWN0QWdlbnQiLCJGYWlsZWRDb25uZWN0Q3VzdG9tZXIiLCJJbnZhbGlkTG9jYWxlIiwiTGluZUVuZ2FnZWRBZ2VudCIsIkxpbmVFbmdhZ2VkQ3VzdG9tZXIiLCJNaXNzZWRDYWxsQWdlbnQiLCJNaXNzZWRDYWxsQ3VzdG9tZXIiLCJNdWx0aXBsZUNjcFdpbmRvd3MiLCJSZWFsdGltZUNvbW11bmljYXRpb25FcnJvciJdKSxpLkVuZHBvaW50VHlwZT1pLm1ha2VFbnVtKFsicGhvbmVfbnVtYmVyIiwiYWdlbnQiLCJxdWV1ZSJdKSxpLkFkZHJlc3NUeXBlPWkuRW5kcG9pbnRUeXBlLGkuQ29ubmVjdGlvblR5cGU9aS5tYWtlRW51bShbImFnZW50IiwiaW5ib3VuZCIsIm91dGJvdW5kIiwibW9uaXRvcmluZyJdKSxpLkNvbm5lY3Rpb25TdGF0ZVR5cGU9aS5tYWtlRW51bShbImluaXQiLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIiwiaG9sZCIsImRpc2Nvbm5lY3RlZCIsInNpbGVudF9tb25pdG9yIiwiYmFyZ2UiXSksaS5Db25uZWN0aW9uU3RhdHVzVHlwZT1pLkNvbm5lY3Rpb25TdGF0ZVR5cGUsaS5DT05ORUNUSU9OX0FDVElWRV9TVEFURVM9aS5zZXQoW2kuQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNUSU5HLGkuQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNURUQsaS5Db25uZWN0aW9uU3RhdGVUeXBlLkhPTEQsaS5Db25uZWN0aW9uU3RhdGVUeXBlLlNJTEVOVF9NT05JVE9SLGkuQ29ubmVjdGlvblN0YXRlVHlwZS5CQVJHRV0pLGkuQ09OTkVDVElPTl9DT05ORUNURURfU1RBVEVTPWkuc2V0KFtpLkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVEVELGkuQ29ubmVjdGlvblN0YXRlVHlwZS5TSUxFTlRfTU9OSVRPUixpLkNvbm5lY3Rpb25TdGF0ZVR5cGUuQkFSR0VdKSxpLkNvbnRhY3RTdGF0ZVR5cGU9aS5tYWtlRW51bShbImluaXQiLCJpbmNvbWluZyIsInBlbmRpbmciLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIiwibWlzc2VkIiwiZXJyb3IiLCJlbmRlZCIsInJlamVjdGVkIiwicGF1c2VkIl0pLGkuQ29udGFjdFN0YXR1c1R5cGU9aS5Db250YWN0U3RhdGVUeXBlLGkuQ09OVEFDVF9BQ1RJVkVfU1RBVEVTPWkubWFrZUVudW0oWyJwYXVzZWQiLCJpbmNvbWluZyIsInBlbmRpbmciLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIl0pLGkuQ29udGFjdFR5cGU9aS5tYWtlRW51bShbInZvaWNlIiwicXVldWVfY2FsbGJhY2siLCJjaGF0IiwidGFzayIsImVtYWlsIl0pLGkuQ29udGFjdEluaXRpYXRpb25NZXRob2Q9aS5tYWtlRW51bShbImluYm91bmQiLCJvdXRib3VuZCIsInRyYW5zZmVyIiwicXVldWVfdHJhbnNmZXIiLCJjYWxsYmFjayIsImFwaSIsImRpc2Nvbm5lY3QiLCJ3ZWJydGNfYXBpIiwiYWdlbnRfcmVwbHkiXSksaS5Nb25pdG9yaW5nTW9kZT1pLm1ha2VFbnVtKFsiU0lMRU5UX01PTklUT1IiLCJCQVJHRSJdKSxpLk1vbml0b3JpbmdFcnJvclR5cGVzPWkubWFrZUVudW0oWyJpbnZhbGlkX3RhcmdldF9zdGF0ZSJdKSxpLkNoYW5uZWxUeXBlPWkubWFrZUVudW0oWyJWT0lDRSIsIkNIQVQiLCJUQVNLIl0pLGkuTWVkaWFUeXBlPWkubWFrZUVudW0oWyJzb2Z0cGhvbmUiLCJjaGF0IiwidGFzayIsImVtYWlsIl0pLGkuU29mdHBob25lQ2FsbFR5cGU9aS5tYWtlRW51bShbImF1ZGlvX3ZpZGVvIiwidmlkZW9fb25seSIsImF1ZGlvX29ubHkiLCJub25lIl0pLGkuU29mdHBob25lRXJyb3JUeXBlcz1pLm1ha2VFbnVtKFsidW5zdXBwb3J0ZWRfYnJvd3NlciIsIm1pY3JvcGhvbmVfbm90X3NoYXJlZCIsInNpZ25hbGxpbmdfaGFuZHNoYWtlX2ZhaWx1cmUiLCJzaWduYWxsaW5nX2Nvbm5lY3Rpb25fZmFpbHVyZSIsImljZV9jb2xsZWN0aW9uX3RpbWVvdXQiLCJ1c2VyX2J1c3lfZXJyb3IiLCJ3ZWJydGNfZXJyb3IiLCJyZWFsdGltZV9jb21tdW5pY2F0aW9uX2Vycm9yIiwidmRpX3N0cmF0ZWd5X25vdF9zdXBwb3J0ZWQiLCJ2ZGlfcmVkaXJfbm90X3N1cHBvcnRlZCIsIm90aGVyIl0pLGkuQ2xpY2tUeXBlPWkubWFrZUVudW0oWyJBY2NlcHQiLCJSZWplY3QiLCJIYW5ndXAiXSksaS5Wb2ljZUlkRXJyb3JUeXBlcz1pLm1ha2VFbnVtKFsibm9fc3BlYWtlcl9pZF9mb3VuZCIsInNwZWFrZXJfaWRfbm90X2Vucm9sbGVkIiwiZ2V0X3NwZWFrZXJfaWRfZmFpbGVkIiwiZ2V0X3NwZWFrZXJfc3RhdHVzX2ZhaWxlZCIsIm9wdF9vdXRfc3BlYWtlcl9mYWlsZWQiLCJvcHRfb3V0X3NwZWFrZXJfaW5fbGNtc19mYWlsZWQiLCJkZWxldGVfc3BlYWtlcl9mYWlsZWQiLCJzdGFydF9zZXNzaW9uX2ZhaWxlZCIsImV2YWx1YXRlX3NwZWFrZXJfZmFpbGVkIiwic2Vzc2lvbl9ub3RfZXhpc3RzIiwiZGVzY3JpYmVfc2Vzc2lvbl9mYWlsZWQiLCJlbnJvbGxfc3BlYWtlcl9mYWlsZWQiLCJ1cGRhdGVfc3BlYWtlcl9pZF9mYWlsZWQiLCJ1cGRhdGVfc3BlYWtlcl9pZF9pbl9sY21zX2ZhaWxlZCIsIm5vdF9zdXBwb3J0ZWRfb25fY29uZmVyZW5jZV9jYWxscyIsImVucm9sbF9zcGVha2VyX3RpbWVvdXQiLCJldmFsdWF0ZV9zcGVha2VyX3RpbWVvdXQiLCJnZXRfZG9tYWluX2lkX2ZhaWxlZCIsIm5vX2RvbWFpbl9pZF9mb3VuZCJdKSxpLkNUSUV4Y2VwdGlvbnM9aS5tYWtlRW51bShbIkFjY2Vzc0RlbmllZEV4Y2VwdGlvbiIsIkludmFsaWRTdGF0ZUV4Y2VwdGlvbiIsIkJhZEVuZHBvaW50RXhjZXB0aW9uIiwiSW52YWxpZEFnZW50QVJORXhjZXB0aW9uIiwiSW52YWxpZENvbmZpZ3VyYXRpb25FeGNlcHRpb24iLCJJbnZhbGlkQ29udGFjdFR5cGVFeGNlcHRpb24iLCJQYWdpbmF0aW9uRXhjZXB0aW9uIiwiUmVmcmVzaFRva2VuRXhwaXJlZEV4Y2VwdGlvbiIsIlNlbmREYXRhRmFpbGVkRXhjZXB0aW9uIiwiVW5hdXRob3JpemVkRXhjZXB0aW9uIiwiUXVvdGFFeGNlZWRlZEV4Y2VwdGlvbiJdKSxpLlZvaWNlSWRTdHJlYW1pbmdTdGF0dXM9aS5tYWtlRW51bShbIk9OR09JTkciLCJFTkRFRCIsIlBFTkRJTkdfQ09ORklHVVJBVElPTiJdKSxpLlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uPWkubWFrZUVudW0oWyJBQ0NFUFQiLCJSRUpFQ1QiLCJOT1RfRU5PVUdIX1NQRUVDSCIsIlNQRUFLRVJfTk9UX0VOUk9MTEVEIiwiU1BFQUtFUl9PUFRFRF9PVVQiLCJTUEVBS0VSX0lEX05PVF9QUk9WSURFRCIsIlNQRUFLRVJfRVhQSVJFRCJdKSxpLlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uPWkubWFrZUVudW0oWyJOT1RfRU5PVUdIX1NQRUVDSCIsIkhJR0hfUklTSyIsIkxPV19SSVNLIl0pLGkuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uPWkubWFrZUVudW0oWyJBdXRoZW50aWNhdGVkIiwiTm90QXV0aGVudGljYXRlZCIsIkluY29uY2x1c2l2ZSIsIk5vdEVucm9sbGVkIiwiT3B0ZWRPdXQiLCJOb3RFbmFibGVkIiwiRXJyb3IiXSksaS5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb249aS5tYWtlRW51bShbIkhpZ2hSaXNrIiwiTG93UmlzayIsIkluY29uY2x1c2l2ZSIsIk5vdEVuYWJsZWQiLCJFcnJvciJdKSxpLkN1c3RvbWVyQXV0aGVudGljYXRpb25TdGF0dXM9aS5tYWtlRW51bShbIkFVVEhFTlRJQ0FURUQiLCJGQUlMRUQiLCJUSU1FT1VUIl0pLGkuVmlkZW9DYXBhYmlsaXR5PWkubWFrZUVudW0oWyJTRU5EIl0pLGkuU2NyZWVuU2hhcmVDYXBhYmlsaXR5PWkubWFrZUVudW0oWyJTRU5EIl0pLGkuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzPWkubWFrZUVudW0oWyJOT1RfRU5PVUdIX1NQRUVDSCIsIklOX1BST0dSRVNTIiwiQ09NUExFVEVEIiwiRkFJTEVEIl0pLGkuVm9pY2VJZFNwZWFrZXJTdGF0dXM9aS5tYWtlRW51bShbIk9QVEVEX09VVCIsIkVOUk9MTEVEIiwiUEVORElORyJdKSxpLlZvaWNlSWRDb25zdGFudHM9e0VWQUxVQVRFX1NFU1NJT05fREVMQVk6MWU0LEVWQUxVQVRJT05fTUFYX1BPTExfVElNRVM6MjQsRVZBTFVBVElPTl9QT0xMSU5HX0lOVEVSVkFMOjVlMyxFTlJPTExNRU5UX01BWF9QT0xMX1RJTUVTOjEyMCxFTlJPTExNRU5UX1BPTExJTkdfSU5URVJWQUw6NWUzLFNUQVJUX1NFU1NJT05fREVMQVk6OGUzfSxpLkFnZW50UGVybWlzc2lvbnM9e09VVEJPVU5EX0NBTEw6Im91dGJvdW5kQ2FsbCIsVk9JQ0VfSUQ6InZvaWNlSWQifTt2YXIgYz1sKChmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsZSl9KSk7cChjLCJpc0VuYWJsZWQiLChmdW5jdGlvbigpe3ZhciBlPWkuaXNDUk0oKT9pLmNvcmUuZ2V0Q2xpZW50KCk6aS5jb3JlLmdldEFwaVByb3h5Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2UuY2FsbChpLkFwaVByb3h5Q2xpZW50TWV0aG9kcy5RUl9JTlRFR1JBVElPTl9FWElTVFMsbnVsbCx7c3VjY2VzczpmdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oIlF1aWNrIFJlc3BvbnNlcyBpc0VuYWJsZWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQoZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigiUXVpY2sgUmVzcG9uc2VzIGlzRW5hYmxlZCBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlKX19KX0pKX0pKSxwKGMsInNlYXJjaFF1aWNrUmVzcG9uc2VzIiwoZnVuY3Rpb24oZSl7dmFyIG49aS5pc0NSTSgpP2kuY29yZS5nZXRDbGllbnQoKTppLmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKSxyPW51bGwhPWUmJmUuY29udGFjdElkP25ldyBoKGUuY29udGFjdElkKS5nZXRBdHRyaWJ1dGVzKCk6dm9pZCAwO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxhKXtuLmNhbGwoaS5BcGlQcm94eUNsaWVudE1ldGhvZHMuUVJfU0VBUkNIX1FVSUNLX1JFU1BPTlNFUyx0KHQoe30sZSkse30se2F0dHJpYnV0ZXM6cn0pLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuaW5mbygic2VhcmNoUXVpY2tSZXNwb25zZXMgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigic2VhcmNoUXVpY2tSZXNwb25zZXMgZmFpbGVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEoZSl9fSl9KSl9KSk7dmFyIHU9ZnVuY3Rpb24oKXtpZighaS5hZ2VudC5pbml0aWFsaXplZCl0aHJvdyBuZXcgaS5TdGF0ZUVycm9yKCJUaGUgYWdlbnQgaXMgbm90IHlldCBpbml0aWFsaXplZCEiKX07dS5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCl9LHUucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5Db250YWN0KGUuY29udGFjdElkKX0sdS5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5SRUZSRVNILGUpfSx1LnByb3RvdHlwZS5vblJvdXRhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5ST1VUQUJMRSxlKX0sdS5wcm90b3R5cGUub25Ob3RSb3V0YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuTk9UX1JPVVRBQkxFLGUpfSx1LnByb3RvdHlwZS5vbk9mZmxpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLk9GRkxJTkUsZSl9LHUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLkVSUk9SLGUpfSx1LnByb3RvdHlwZS5vblNvZnRwaG9uZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5TT0ZUUEhPTkVfRVJST1IsZSl9LHUucHJvdG90eXBlLm9uV2ViU29ja2V0Q29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0xPU1QsZSl9LHUucHJvdG90eXBlLm9uV2ViU29ja2V0Q29ubmVjdGlvbkdhaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fR0FJTkVELGUpfSx1LnByb3RvdHlwZS5vbkFmdGVyQ2FsbFdvcms9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLkFDVyxlKX0sdS5wcm90b3R5cGUub25TdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLGUpfSx1LnByb3RvdHlwZS5vbk11dGVUb2dnbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGUpfSx1LnByb3RvdHlwZS5vbkxvY2FsTWVkaWFTdHJlYW1DcmVhdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5MT0NBTF9NRURJQV9TVFJFQU1fQ1JFQVRFRCxlKX0sdS5wcm90b3R5cGUub25TcGVha2VyRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29uZmlndXJhdGlvbkV2ZW50cy5TUEVBS0VSX0RFVklDRV9DSEFOR0VELGUpfSx1LnByb3RvdHlwZS5vbk1pY3JvcGhvbmVEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5Db25maWd1cmF0aW9uRXZlbnRzLk1JQ1JPUEhPTkVfREVWSUNFX0NIQU5HRUQsZSl9LHUucHJvdG90eXBlLm9uUmluZ2VyRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29uZmlndXJhdGlvbkV2ZW50cy5SSU5HRVJfREVWSUNFX0NIQU5HRUQsZSl9LHUucHJvdG90eXBlLm9uQ2FtZXJhRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29uZmlndXJhdGlvbkV2ZW50cy5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZSl9LHUucHJvdG90eXBlLm9uQmFja2dyb3VuZEJsdXJDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5Db25maWd1cmF0aW9uRXZlbnRzLkJBQ0tHUk9VTkRfQkxVUl9DSEFOR0VELGUpfSx1LnByb3RvdHlwZS5tdXRlPWZ1bmN0aW9uKCl7aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5FdmVudFR5cGUuTVVURSxkYXRhOnttdXRlOiEwfX0pfSx1LnByb3RvdHlwZS51bm11dGU9ZnVuY3Rpb24oKXtpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkV2ZW50VHlwZS5NVVRFLGRhdGE6e211dGU6ITF9fSl9LHUucHJvdG90eXBlLnNldFNwZWFrZXJEZXZpY2U9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9TUEVBS0VSX0RFVklDRSxkYXRhOntkZXZpY2VJZDplfX0pfSx1LnByb3RvdHlwZS5zZXRNaWNyb3Bob25lRGV2aWNlPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfTUlDUk9QSE9ORV9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0sdS5wcm90b3R5cGUuc2V0UmluZ2VyRGV2aWNlPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfUklOR0VSX0RFVklDRSxkYXRhOntkZXZpY2VJZDplfX0pfSx1LnByb3RvdHlwZS5zZXRDYW1lcmFEZXZpY2U9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db25maWd1cmF0aW9uRXZlbnRzLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCxkYXRhOntkZXZpY2VJZDplfX0pfSx1LnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQmx1cj1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbmZpZ3VyYXRpb25FdmVudHMuQkFDS0dST1VORF9CTFVSX0NIQU5HRUQsZGF0YTp7aXNCYWNrZ3JvdW5kQmx1ckVuYWJsZWQ6ZX19KX0sdS5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90LnN0YXRlfSx1LnByb3RvdHlwZS5nZXROZXh0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90Lm5leHRTdGF0ZX0sdS5wcm90b3R5cGUuZ2V0QXZhaWxhYmlsaXR5U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90LmFnZW50QXZhaWxhYmlsaXR5U3RhdGV9LHUucHJvdG90eXBlLmdldFN0YXR1cz11LnByb3RvdHlwZS5nZXRTdGF0ZSx1LnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGkubm93KCktdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90LnN0YXRlLnN0YXJ0VGltZXN0YW1wLmdldFRpbWUoKStpLmNvcmUuZ2V0U2tldygpfSx1LnByb3RvdHlwZS5nZXRTdGF0dXNEdXJhdGlvbj11LnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uLHUucHJvdG90eXBlLmdldFBlcm1pc3Npb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnBlcm1pc3Npb25zfSx1LnByb3RvdHlwZS5nZXRDb250YWN0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3QuY29udGFjdHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5fY3JlYXRlQ29udGFjdEFQSShlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFlfHx0LmdldFR5cGUoKT09PWV9KSl9LHUucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbmZpZ3VyYXRpb259LHUucHJvdG90eXBlLmdldEFnZW50U3RhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmFnZW50U3RhdGVzfSx1LnByb3RvdHlwZS5nZXRSb3V0aW5nUHJvZmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5yb3V0aW5nUHJvZmlsZX0sdS5wcm90b3R5cGUuZ2V0Q2hhbm5lbENvbmN1cnJlbmN5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Um91dGluZ1Byb2ZpbGUoKS5jaGFubmVsQ29uY3VycmVuY3lNYXA7cmV0dXJuIHR8fCh0PU9iamVjdC5rZXlzKGkuQ2hhbm5lbFR5cGUpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iVEFTSyIhPT10JiYoZVtpLkNoYW5uZWxUeXBlW3RdXT0xKSxlfSkse30pKSxlP3RbZV18fDA6dH0sdS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5uYW1lfSx1LnByb3RvdHlwZS5nZXRBZ2VudEFSTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5hZ2VudEFSTn0sdS5wcm90b3R5cGUuZ2V0RXh0ZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmV4dGVuc2lvbn0sdS5wcm90b3R5cGUuZ2V0RGlhbGFibGVDb3VudHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuZGlhbGFibGVDb3VudHJpZXN9LHUucHJvdG90eXBlLmlzU29mdHBob25lRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5zb2Z0cGhvbmVFbmFibGVkfSx1LnByb3RvdHlwZS5zZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5jb3JlLmdldENsaWVudCgpO2UmJmUuYWdlbnRQcmVmZXJlbmNlcyYmZS5hZ2VudFByZWZlcmVuY2VzLkxBTkdVQUdFJiYhZS5hZ2VudFByZWZlcmVuY2VzLmxvY2FsZSYmKGUuYWdlbnRQcmVmZXJlbmNlcy5sb2NhbGU9ZS5hZ2VudFByZWZlcmVuY2VzLkxBTkdVQUdFKSxlJiZlLmFnZW50UHJlZmVyZW5jZXMmJiFpLmlzVmFsaWRMb2NhbGUoZS5hZ2VudFByZWZlcmVuY2VzLmxvY2FsZSk/dCYmdC5mYWlsdXJlJiZ0LmZhaWx1cmUoaS5BZ2VudEVycm9yU3RhdGVzLklOVkFMSURfTE9DQUxFKTpuLmNhbGwoaS5DbGllbnRNZXRob2RzLlVQREFURV9BR0VOVF9DT05GSUdVUkFUSU9OLHtjb25maWd1cmF0aW9uOmkuYXNzZXJ0Tm90TnVsbChlLCJjb25maWd1cmF0aW9uIil9LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5SRUxPQURfQUdFTlRfQ09ORklHVVJBVElPTiksdC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZSl9LGZhaWx1cmU6dCYmdC5mYWlsdXJlfSl9LHUucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGUsdCxuKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuUFVUX0FHRU5UX1NUQVRFLHtzdGF0ZTppLmFzc2VydE5vdE51bGwoZSwic3RhdGUiKSxlbnF1ZXVlTmV4dFN0YXRlOm4mJiEhbi5lbnF1ZXVlTmV4dFN0YXRlfSx0KX0sdS5wcm90b3R5cGUub25FbnF1ZXVlZE5leHRTdGF0ZT1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5FTlFVRVVFRF9ORVhUX1NUQVRFLGUpfSx1LnByb3RvdHlwZS5zZXRTdGF0dXM9dS5wcm90b3R5cGUuc2V0U3RhdGUsdS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKSxyPW5ldyBpLkVuZHBvaW50KGUpO2RlbGV0ZSByLmVuZHBvaW50SWQ7dmFyIG89e2VuZHBvaW50OmkuYXNzZXJ0Tm90TnVsbChyLCJlbmRwb2ludCIpLHF1ZXVlQVJOOnQmJih0LnF1ZXVlQVJOfHx0LnF1ZXVlSWQpfHx0aGlzLmdldFJvdXRpbmdQcm9maWxlKCkuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVBUk59O3QmJnQucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PXQucmVsYXRlZENvbnRhY3RJZCYmKG8ucmVsYXRlZENvbnRhY3RJZD10LnJlbGF0ZWRDb250YWN0SWQsdC5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIG8ucHJldmlvdXNDb250YWN0SWQpLG4uY2FsbChpLkNsaWVudE1ldGhvZHMuQ1JFQVRFX09VVEJPVU5EX0NPTlRBQ1Qsbyx0JiZ7c3VjY2Vzczp0LnN1Y2Nlc3MsZmFpbHVyZTp0LmZhaWx1cmV9KX0sdS5wcm90b3R5cGUuZ2V0QWxsUXVldWVBUk5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnJvdXRpbmdQcm9maWxlLnF1ZXVlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnF1ZXVlQVJOfSkpfSx1LnByb3RvdHlwZS5nZXRFbmRwb2ludHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsbz1pLmNvcmUuZ2V0Q2xpZW50KCk7aS5hc3NlcnROb3ROdWxsKHQsImNhbGxiYWNrcyIpLGkuYXNzZXJ0Tm90TnVsbCh0LnN1Y2Nlc3MsImNhbGxiYWNrcy5zdWNjZXNzIik7dmFyIGE9bnx8e307YS5lbmRwb2ludHM9YS5lbmRwb2ludHN8fFtdLGEubWF4UmVzdWx0cz1hLm1heFJlc3VsdHN8fGkuREVGQVVMVF9CQVRDSF9TSVpFLGkuaXNBcnJheShlKXx8KGU9W2VdKSxvLmNhbGwoaS5DbGllbnRNZXRob2RzLkdFVF9FTkRQT0lOVFMse3F1ZXVlQVJOczplLG5leHRUb2tlbjphLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOmEubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24obil7aWYobi5uZXh0VG9rZW4pci5nZXRFbmRwb2ludHMoZSx0LHtuZXh0VG9rZW46bi5uZXh0VG9rZW4sbWF4UmVzdWx0czphLm1heFJlc3VsdHMsZW5kcG9pbnRzOmEuZW5kcG9pbnRzLmNvbmNhdChuLmVuZHBvaW50cyl9KTtlbHNle2EuZW5kcG9pbnRzPWEuZW5kcG9pbnRzLmNvbmNhdChuLmVuZHBvaW50cyk7dmFyIG89YS5lbmRwb2ludHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuRW5kcG9pbnQoZSl9KSk7dC5zdWNjZXNzKHtlbmRwb2ludHM6byxhZGRyZXNzZXM6b30pfX0sZmFpbHVyZTp0LmZhaWx1cmV9KX0sdS5wcm90b3R5cGUuZ2V0QWRkcmVzc2VzPXUucHJvdG90eXBlLmdldEVuZHBvaW50cyx1LnByb3RvdHlwZS5fZ2V0UmVzb3VyY2VJZD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRBbGxRdWV1ZUFSTnMoKSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1zKGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGksYT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gYT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtjPSEwLGk9ZX0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19fX0odCk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLm1hdGNoKC9cL2FnZW50XC8oW14vXSspLyk7aWYocilyZXR1cm4gclsxXX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG5ldyBFcnJvcigiQWdlbnQucHJvdG90eXBlLl9nZXRSZXNvdXJjZUlkOiBxdWV1ZUFybnMgZGlkIG5vdCBjb250YWluIGFnZW50UmVzb3VyY2VJZDogIix0KX0sdS5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaS5BZ2VudFNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9O3ZhciBkPWZ1bmN0aW9uKGUpe2kuQWdlbnQuY2FsbCh0aGlzKSx0aGlzLmFnZW50RGF0YT1lfTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh1LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWQsZC5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LGQucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5Db250YWN0U25hcHNob3QoZSl9O3ZhciBoPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O2gucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuZ2V0Q29udGFjdElkKCkpfSxoLnByb3RvdHlwZS5fY3JlYXRlQ29ubmVjdGlvbkFQST1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRUeXBlKCk9PT1pLkNvbnRhY3RUeXBlLkNIQVQ/bmV3IGkuQ2hhdENvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOnRoaXMuZ2V0VHlwZSgpPT09aS5Db250YWN0VHlwZS5UQVNLP25ldyBpLlRhc2tDb25uZWN0aW9uKHRoaXMuY29udGFjdElkLGUuY29ubmVjdGlvbklkKTp0aGlzLmdldFR5cGUoKT09PWkuQ29udGFjdFR5cGUuRU1BSUw/bmV3IGkuRW1haWxDb25uZWN0aW9uKHRoaXMuY29udGFjdElkLGUuY29ubmVjdGlvbklkKTpuZXcgaS5Wb2ljZUNvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpfSxoLnByb3RvdHlwZS5nZXRFdmVudE5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKGUsdGhpcy5nZXRDb250YWN0SWQoKSl9LGgucHJvdG90eXBlLm9uUmVmcmVzaD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5SRUZSRVNIKSxlKX0saC5wcm90b3R5cGUub25JbmNvbWluZz1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5JTkNPTUlORyksZSl9LGgucHJvdG90eXBlLm9uQ29ubmVjdGluZz1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5DT05ORUNUSU5HKSxlKX0saC5wcm90b3R5cGUub25QZW5kaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLlBFTkRJTkcpLGUpfSxoLnByb3RvdHlwZS5vbkFjY2VwdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkFDQ0VQVEVEKSxlKX0saC5wcm90b3R5cGUub25NaXNzZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZShpLkNvbnRhY3RFdmVudHMuTUlTU0VEKSxlKX0saC5wcm90b3R5cGUub25FbmRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5FTkRFRCksZSl9LGgucHJvdG90eXBlLm9uRGVzdHJveT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5ERVNUUk9ZRUQpLGUpfSxoLnByb3RvdHlwZS5vbkFDVz1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5BQ1cpLGUpfSxoLnByb3RvdHlwZS5vbkNvbm5lY3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5DT05ORUNURUQpLGUpfSxoLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkVSUk9SKSxlKX0saC5wcm90b3R5cGUuZ2V0Q29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdElkfSxoLnByb3RvdHlwZS5nZXRPcmlnaW5hbENvbnRhY3RJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhbENvbnRhY3RJZH0saC5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbnRhY3RJZD1oLnByb3RvdHlwZS5nZXRPcmlnaW5hbENvbnRhY3RJZCxoLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS50eXBlfSxoLnByb3RvdHlwZS5nZXRDb250YWN0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3REdXJhdGlvbn0saC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxoLnByb3RvdHlwZS5nZXRTdGF0dXM9aC5wcm90b3R5cGUuZ2V0U3RhdGUsaC5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiBpLm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK2kuY29yZS5nZXRTa2V3KCl9LGgucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPWgucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24saC5wcm90b3R5cGUuZ2V0UXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnF1ZXVlfSxoLnByb3RvdHlwZS5nZXRRdWV1ZVRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVldWVUaW1lc3RhbXB9LGgucHJvdG90eXBlLmdldENvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbm5lY3Rpb25zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0VHlwZSgpPT09aS5Db250YWN0VHlwZS5DSEFUP25ldyBpLkNoYXRDb25uZWN0aW9uKGUuY29udGFjdElkLHQuY29ubmVjdGlvbklkKTplLmdldFR5cGUoKT09PWkuQ29udGFjdFR5cGUuVEFTSz9uZXcgaS5UYXNrQ29ubmVjdGlvbihlLmNvbnRhY3RJZCx0LmNvbm5lY3Rpb25JZCk6ZS5nZXRUeXBlKCk9PT1pLkNvbnRhY3RUeXBlLkVNQUlMP25ldyBpLkVtYWlsQ29ubmVjdGlvbihlLmNvbnRhY3RJZCx0LmNvbm5lY3Rpb25JZCk6bmV3IGkuVm9pY2VDb25uZWN0aW9uKGUuY29udGFjdElkLHQuY29ubmVjdGlvbklkKX0pKX0saC5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaS5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNJbml0aWFsQ29ubmVjdGlvbigpfSkpfHxudWxsfSxoLnByb3RvdHlwZS5nZXRBY3RpdmVJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm4gbnVsbCE9ZSYmZS5pc0FjdGl2ZSgpP2U6bnVsbH0saC5wcm90b3R5cGUuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzSW5pdGlhbENvbm5lY3Rpb24oKSYmZS5nZXRUeXBlKCkhPT1pLkNvbm5lY3Rpb25UeXBlLkFHRU5UfSkpfSxoLnByb3RvdHlwZS5nZXRTaW5nbGVBY3RpdmVUaGlyZFBhcnR5Q29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRoaXJkUGFydHlDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKVswXXx8bnVsbH0saC5wcm90b3R5cGUuZ2V0QWdlbnRDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGkuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0VHlwZSgpO3JldHVybiB0PT09aS5Db25uZWN0aW9uVHlwZS5BR0VOVHx8dD09PWkuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR30pKX0saC5wcm90b3R5cGUuZ2V0QWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKX0saC5wcm90b3R5cGUuaGFzVHdvQWN0aXZlUGFydGljaXBhbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10aGlzLmdldEFjdGl2ZUNvbm5lY3Rpb25zKCkubGVuZ3RofSxoLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5uYW1lfSxoLnByb3RvdHlwZS5nZXRJbml0aWF0aW9uTWV0aG9kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWF0aW9uTWV0aG9kfSxoLnByb3RvdHlwZS5nZXRDb250YWN0TWV0YWRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RNZXRhZGF0YX0saC5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmRlc2NyaXB0aW9ufSxoLnByb3RvdHlwZS5nZXRSZWxhdGVkQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5yZWxhdGVkQ29udGFjdElkfSxoLnByb3RvdHlwZS5nZXRDb250YWN0QXNzb2NpYXRpb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdEFzc29jaWF0aW9uSWR9LGgucHJvdG90eXBlLmdldEN1c3RvbWVyRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmN1c3RvbWVyRW5kcG9pbnR9LGgucHJvdG90eXBlLmdldENvbm5lY3RTeXN0ZW1FbmRwb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29ubmVjdFN5c3RlbUVuZHBvaW50fSxoLnByb3RvdHlwZS5nZXRSZWZlcmVuY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5yZWZlcmVuY2VzfSxoLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5hdHRyaWJ1dGVzfSxoLnByb3RvdHlwZS5nZXRDb250YWN0RmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RGZWF0dXJlc30saC5wcm90b3R5cGUuZ2V0Q2hhbm5lbENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNoYW5uZWxDb250ZXh0fSxoLnByb3RvdHlwZS5nZXRTZWdtZW50QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc2VnbWVudEF0dHJpYnV0ZXN9LGgucHJvdG90eXBlLmdldENvbnRhY3RTdWJ0eXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWdtZW50QXR0cmlidXRlcygpO3JldHVybiBlJiZlWyJjb25uZWN0OlN1YnR5cGUiXT9lWyJjb25uZWN0OlN1YnR5cGUiXS5WYWx1ZVN0cmluZzpudWxsfSxoLnByb3RvdHlwZS5pc1NvZnRwaG9uZUNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRUeXBlKCk9PT1pLkNvbnRhY3RUeXBlLlZPSUNFfHx0aGlzLmdldFR5cGUoKT09PWkuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0spJiZCb29sZWFuKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKX0pKSl9LGgucHJvdG90eXBlLmhhc1ZpZGVvUlRDQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1pLmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9KSl9LGgucHJvdG90eXBlLmNhbkFnZW50U2VuZFZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9LGgucHJvdG90eXBlLmNhbkFnZW50UmVjZWl2ZVZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO2lmKGUuY2FuU2VuZFZpZGVvJiZlLmNhblNlbmRWaWRlbygpKXJldHVybiEwO3ZhciB0PXRoaXMuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zKCk7cmV0dXJuIHQmJnQubGVuZ3RoPjAmJnRoaXMuY2FuQWdlbnRTZW5kVmlkZW8oKX0saC5wcm90b3R5cGUuaGFzU2NyZWVuU2hhcmVDYXBhYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1pLmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9KSl9LGgucHJvdG90eXBlLmNhbkFnZW50U2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9LGgucHJvdG90eXBlLmNhbkN1c3RvbWVyU2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0saC5wcm90b3R5cGUuc3RhcnRTY3JlZW5TaGFyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9YShvKCkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgbixyLGE7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihuPXRoaXMuZ2V0Q29udGFjdElkKCksImNvbm5lY3Q6V2ViUlRDIj09PXRoaXMuZ2V0Q29udGFjdFN1YnR5cGUoKSl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2Nhc2UgMzppZih0aGlzLmlzQ29ubmVjdGVkKCkpe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyBpLlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgaXMgbm90IGNvbm5lY3RlZC4iLG4pO2Nhc2UgNTppZih0KXtlLm5leHQ9MTE7YnJlYWt9cmV0dXJuIHI9aS5pc0NSTSgpP2kuY29yZS5nZXRDbGllbnQoKTppLmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKSxhPXtJbnN0YW5jZUlkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxDb250YWN0SWQ6bixQYXJ0aWNpcGFudElkOnRoaXMuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZ2V0Q29ubmVjdGlvbklkKCl9LGUuYWJydXB0KCJyZXR1cm4iLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3IuY2FsbChpLkFwaVByb3h5Q2xpZW50TWV0aG9kcy5TVEFSVF9TQ1JFRU5fU0hBUklORyxhLHtzdWNjZXNzOmZ1bmN0aW9uKHQpe2kuZ2V0TG9nKCkuaW5mbygic3RhcnRTY3JlZW5TaGFyaW5nIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QodCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxkYXRhOntjb250YWN0SWQ6bn19KSxlKHQpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0U2NyZWVuU2hhcmluZyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX0VSUk9SLGRhdGE6e2NvbnRhY3RJZDpufX0pLHQoZSl9fSl9KSkpO2Nhc2UgMTE6aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUQVJURUQsZGF0YTp7Y29udGFjdElkOm59fSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLGgucHJvdG90eXBlLm9uU2NyZWVuU2hhcmluZ1N0YXJ0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxlKX0saC5wcm90b3R5cGUuc3RvcFNjcmVlblNoYXJpbmc9YShvKCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0O3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYodD10aGlzLmdldENvbnRhY3RJZCgpLCJjb25uZWN0OldlYlJUQyI9PT10aGlzLmdldENvbnRhY3RTdWJ0eXBlKCkpe2UubmV4dD0zO2JyZWFrfXRocm93IG5ldyBFcnJvcigiU2NyZWVuIHNoYXJpbmcgaXMgb25seSBzdXBwb3J0ZWQgZm9yIFdlYlJUQyBjb250YWN0cy4iKTtjYXNlIDM6aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXtlLm5leHQ9NTticmVha310aHJvdyBuZXcgaS5TdGF0ZUVycm9yKCJDb250YWN0ICVzIGlzIG5vdCBjb25uZWN0ZWQuIix0KTtjYXNlIDU6aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUT1BQRUQsZGF0YTp7Y29udGFjdElkOnR9fSk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksaC5wcm90b3R5cGUub25TY3JlZW5TaGFyaW5nU3RvcHBlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVE9QUEVELGUpfSxoLnByb3RvdHlwZS5vblNjcmVlblNoYXJpbmdFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19FUlJPUixlKX0saC5wcm90b3R5cGUuX2lzSW5ib3VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhdGlvbk1ldGhvZCE9PWkuQ29udGFjdEluaXRpYXRpb25NZXRob2QuT1VUQk9VTkR9LGgucHJvdG90eXBlLmlzSW5ib3VuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm5baS5NZWRpYVR5cGUuVEFTSyxpLk1lZGlhVHlwZS5FTUFJTF0uaW5jbHVkZXMoZS5nZXRNZWRpYVR5cGUoKSk/dGhpcy5faXNJbmJvdW5kKCk6ISFlJiZlLmdldFR5cGUoKT09PWkuQ29ubmVjdGlvblR5cGUuSU5CT1VORH0saC5wcm90b3R5cGUuaXNDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09aS5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRH0saC5wcm90b3R5cGUuYWNjZXB0PWZ1bmN0aW9uKGUpe3ZhciB0PWkuY29yZS5nZXRDbGllbnQoKSxuPXRoaXMscj10aGlzLmdldENvbnRhY3RJZCgpO2kucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOmkuQ2xpY2tUeXBlLkFDQ0VQVCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksdC5jYWxsKGkuQ2xpZW50TWV0aG9kcy5BQ0NFUFRfQ09OVEFDVCx7Y29udGFjdElkOnJ9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBvPWkuY29yZS5nZXRVcHN0cmVhbSgpO28uc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db250YWN0RXZlbnRzLkFDQ0VQVEVELGRhdGE6bmV3IGkuQ29udGFjdChyKX0pLG8uc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkFDQ0VQVEVELG4uZ2V0Q29udGFjdElkKCkpLGRhdGE6bmV3IGkuQ29udGFjdChyKX0pO3ZhciBhPW5ldyBpLkNvbnRhY3Qocik7aS5pc0ZpcmVmb3hCcm93c2VyKCkmJmEuaXNTb2Z0cGhvbmVDYWxsKCkmJmkuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50KCksZSYmZS5zdWNjZXNzJiZlLnN1Y2Nlc3ModCl9LGZhaWx1cmU6ZnVuY3Rpb24odCxuKXtpLmdldExvZygpLmVycm9yKCJBY2NlcHQgQ29udGFjdCBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhFeGNlcHRpb24odCkud2l0aE9iamVjdCh7ZGF0YTpufSksaS5wdWJsaXNoTWV0cmljKHtuYW1lOiJDb250YWN0QWNjZXB0RmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KSxlJiZlLmZhaWx1cmUmJmUuZmFpbHVyZShpLkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IpfX0pfSxoLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aS5nZXRMb2coKS53YXJuKCJjb250YWN0LmRlc3Ryb3koKSBoYXMgYmVlbiBkZXByZWNhdGVkLiIpfSxoLnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jb3JlLmdldENsaWVudCgpO2kucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOmkuQ2xpY2tUeXBlLlJFSkVDVCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksdC5jYWxsKGkuQ2xpZW50TWV0aG9kcy5SRUpFQ1RfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxoLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuQ09NUExFVEVfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxoLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuQ0xFQVJfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxoLnByb3RvdHlwZS5ub3RpZnlJc3N1ZT1mdW5jdGlvbihlLHQsbil7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLk5PVElGWV9DT05UQUNUX0lTU1VFLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxpc3N1ZUNvZGU6ZSxkZXNjcmlwdGlvbjp0fSxuKX0saC5wcm90b3R5cGUuYWRkQ29ubmVjdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKSxyPW5ldyBpLkVuZHBvaW50KGUpO2RlbGV0ZSByLmVuZHBvaW50SWQsbi5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DUkVBVEVfQURESVRJT05BTF9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxlbmRwb2ludDpyfSx0KX0saC5wcm90b3R5cGUudG9nZ2xlQWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jb3JlLmdldENsaWVudCgpLG49bnVsbCxyPWkuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT1pLkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRH0pKTtpZihudWxsIT1yKW49ci5nZXRDb25uZWN0aW9uSWQoKTtlbHNle3ZhciBvPXRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQWN0aXZlKCl9KSk7by5sZW5ndGg+MCYmKG49b1swXS5nZXRDb25uZWN0aW9uSWQoKSl9dC5jYWxsKGkuQ2xpZW50TWV0aG9kcy5UT0dHTEVfQUNUSVZFX0NPTk5FQ1RJT05TLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6bn0sZSl9LGgucHJvdG90eXBlLnNlbmRTb2Z0cGhvbmVNZXRyaWNzPWZ1bmN0aW9uKHQsbil7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24sc29mdHBob25lU3RyZWFtU3RhdGlzdGljczp0fSxuKSxpLnB1Ymxpc2hTb2Z0cGhvbmVTdGF0cyh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24sc3RhdHM6dH0pfSxoLnByb3RvdHlwZS5zZW5kU29mdHBob25lUmVwb3J0PWZ1bmN0aW9uKHQsbil7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfUkVQT1JULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixyZXBvcnQ6dH0sbil9LGgucHJvdG90eXBlLmNvbmZlcmVuY2VDb25uZWN0aW9ucz1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuQ09ORkVSRU5DRV9DT05ORUNUSU9OUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxoLnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLkNvbnRhY3RTbmFwc2hvdCh0aGlzLl9nZXREYXRhKCkpfSxoLnByb3RvdHlwZS5pc011bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29udGFjdEZlYXR1cmVzKCk7cmV0dXJuISghZXx8IWUubXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkKX0saC5wcm90b3R5cGUudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGU9ZnVuY3Rpb24oZSx0KXtlJiZPYmplY3QudmFsdWVzKGkuTW9uaXRvcmluZ01vZGUpLmluY2x1ZGVzKGUudG9VcHBlckNhc2UoKSk/aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlVQREFURV9NT05JVE9SX1BBUlRJQ0lQQU5UX1NUQVRFLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSx0YXJnZXRNb25pdG9yTW9kZTplLnRvVXBwZXJDYXNlKCl9LHQpOihpLmdldExvZygpLmVycm9yKCJJbnZhbGlkIHRhcmdldCBzdGF0ZSB3YXMgcHJvdmlkZWQ6ICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQmJnQuZmFpbHVyZSYmdC5mYWlsdXJlKGkuTW9uaXRvcmluZ0Vycm9yVHlwZXMuSU5WQUxJRF9UQVJHRVRfU1RBVEUpKX0saC5wcm90b3R5cGUuaXNVbmRlclN1cGVydmlzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VHlwZSgpIT09aS5Db25uZWN0aW9uVHlwZS5BR0VOVH0pKTtyZXR1cm4gdm9pZCAwIT09KGUmJmUuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNCYXJnZSgpJiZlLmlzQWN0aXZlKCl9KSkpfSxoLnByb3RvdHlwZS5zaWxlbnRNb25pdG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlKGkuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IsZSl9LGgucHJvdG90eXBlLmJhcmdlSW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUoaS5Nb25pdG9yaW5nTW9kZS5CQVJHRSxlKX0saC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlBBVVNFX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0saC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5SRVNVTUVfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxoLnByb3RvdHlwZS5hZGRQYXJ0aWNpcGFudD1mdW5jdGlvbihlLHQpe3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKSxyPW5ldyBpLkVuZHBvaW50KGUpO2RlbGV0ZSByLmVuZHBvaW50SWQsbi5jYWxsKGkuQ2xpZW50TWV0aG9kcy5BRERfTkVXX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGVuZHBvaW50OnJ9LHQpfSxoLnByb3RvdHlwZS50cmFuc2Zlcj1mdW5jdGlvbihlLHQpe3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKSxyPW5ldyBpLkVuZHBvaW50KGUpO2RlbGV0ZSByLmVuZHBvaW50SWQsbi5jYWxsKGkuQ2xpZW50TWV0aG9kcy5UUkFOU0ZFUl9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxlbmRwb2ludDpyfSx0KX07dmFyIGY9ZnVuY3Rpb24oZSl7aS5Db250YWN0LmNhbGwodGhpcyxlLmNvbnRhY3RJZCksdGhpcy5jb250YWN0RGF0YT1lfTsoZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWYsZi5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0RGF0YX0sZi5wcm90b3R5cGUuX2NyZWF0ZUNvbm5lY3Rpb25BUEk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLkNvbm5lY3Rpb25TbmFwc2hvdChlKX07dmFyIGc9ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbnRhY3RJZD1lLHRoaXMuY29ubmVjdGlvbklkPXQsdGhpcy5faW5pdE1lZGlhQ29udHJvbGxlcigpfTtnLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiBpLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb25uZWN0aW9uRGF0YSh0aGlzLmdldENvbnRhY3RJZCgpLHRoaXMuZ2V0Q29ubmVjdGlvbklkKCkpfSxnLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LGcucHJvdG90eXBlLmdldENvbm5lY3Rpb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25JZH0sZy5wcm90b3R5cGUuZ2V0RW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuRW5kcG9pbnQodGhpcy5fZ2V0RGF0YSgpLmVuZHBvaW50KX0sZy5wcm90b3R5cGUuZ2V0QWRkcmVzcz1nLnByb3RvdHlwZS5nZXRFbmRwb2ludCxnLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc3RhdGV9LGcucHJvdG90eXBlLmdldFN0YXR1cz1nLnByb3RvdHlwZS5nZXRTdGF0ZSxnLnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGkubm93KCktdGhpcy5fZ2V0RGF0YSgpLnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCkraS5jb3JlLmdldFNrZXcoKX0sZy5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249Zy5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbixnLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS50eXBlfSxnLnByb3RvdHlwZS5pc0luaXRpYWxDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsfSxnLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiBpLmNvbnRhaW5zKGkuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTLHRoaXMuZ2V0U3RhdHVzKCkudHlwZSl9LGcucHJvdG90eXBlLmlzQ29ubmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29udGFpbnMoaS5DT05ORUNUSU9OX0NPTk5FQ1RFRF9TVEFURVMsdGhpcy5nZXRTdGF0dXMoKS50eXBlKX0sZy5wcm90b3R5cGUuaXNDb25uZWN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdHVzKCkudHlwZT09PWkuQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNUSU5HfSxnLnByb3RvdHlwZS5pc09uSG9sZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT1pLkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRH0sZy5wcm90b3R5cGUuZ2V0U29mdHBob25lTWVkaWFJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zb2Z0cGhvbmVNZWRpYUluZm99LGcucHJvdG90eXBlLmdldE1vbml0b3JJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yaW5nSW5mb30sZy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXtpLnB1Ymxpc2hDbGlja1N0cmVhbURhdGEoe2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNsaWNrVHlwZTppLkNsaWNrVHlwZS5IQU5HVVAsY2xpY2tUaW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0pLGkuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5ERVNUUk9ZX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sZy5wcm90b3R5cGUuc2VuZERpZ2l0cz1mdW5jdGlvbihlLHQpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5TRU5EX0RJR0lUUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCksZGlnaXRzOmV9LHQpfSxnLnByb3RvdHlwZS5ob2xkPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5IT0xEX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sZy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5SRVNVTUVfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxnLnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLkNvbm5lY3Rpb25TbmFwc2hvdCh0aGlzLl9nZXREYXRhKCkpfSxnLnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3RoaXMuZ2V0TWVkaWFJbmZvKCkmJmkuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpLmNhdGNoKChmdW5jdGlvbigpe30pKX0sZy5wcm90b3R5cGUuX2lzQWdlbnRDb25uZWN0aW9uVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0VHlwZSgpO3JldHVybiBlPT09aS5Db25uZWN0aW9uVHlwZS5BR0VOVHx8ZT09PWkuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR30sZy5wcm90b3R5cGUuX2lzQWdlbnRDb25uZWN0aW9uVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0VHlwZSgpO3JldHVybiBlPT09aS5Db25uZWN0aW9uVHlwZS5BR0VOVHx8ZT09PWkuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR307dmFyIG09ZnVuY3Rpb24oZSl7dGhpcy5jb250YWN0SWQ9ZX07bS5wcm90b3R5cGUuZ2V0U3BlYWtlcklkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3ZhciBvPXtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5zdGFuY2VJZDppLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksYXdzQWNjb3VudElkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpfTtpLmdldExvZygpLmluZm8oImdldFNwZWFrZXJJZCBjYWxsZWQiKS53aXRoT2JqZWN0KG8pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLkdFVF9DT05UQUNULG8se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoZS5jb250YWN0RGF0YS5jdXN0b21lcklkKXt2YXIgdD17c3BlYWtlcklkOmUuY29udGFjdERhdGEuY3VzdG9tZXJJZH07aS5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VySWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4odCl9ZWxzZXt2YXIgbz1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLk5PX1NQRUFLRVJfSURfRk9VTkQsIk5vIHNwZWFrZXJJZCBhc3NvdGlhdGVkIHdpdGggdGhpcyBjYWxsIik7cihvKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigiR2V0IFNwZWFrZXJJZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfU1BFQUtFUl9JRF9GQUlMRUQsIkdldCBTcGVha2VySWQgZmFpbGVkIixlKTtyKHQpfX0pfSkpfSxtLnByb3RvdHlwZS5nZXRTcGVha2VyU3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuZ2V0U3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24obyl7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBhPXtTcGVha2VySWQ6aS5hc3NlcnROb3ROdWxsKG8uc3BlYWtlcklkLCJzcGVha2VySWQiKSxEb21haW5JZDplfTtpLmdldExvZygpLmluZm8oImdldFNwZWFrZXJTdGF0dXMgY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5ERVNDUklCRV9TUEVBS0VSLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VyU3RhdHVzIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoZSk7c3dpdGNoKHQuc3RhdHVzKXtjYXNlIDQwMDpjYXNlIDQwNDp2YXIgbz10O28udHlwZT1vLnR5cGU/by50eXBlOmkuVm9pY2VJZEVycm9yVHlwZXMuU1BFQUtFUl9JRF9OT1RfRU5ST0xMRUQsaS5nZXRMb2coKS5pbmZvKCJTcGVha2VyIGlzIG5vdCBlbnJvbGxlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4obyk7YnJlYWs7ZGVmYXVsdDppLmdldExvZygpLmVycm9yKCJnZXRTcGVha2VyU3RhdHVzIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYT1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkdFVF9TUEVBS0VSX1NUQVRVU19GQUlMRUQsIkdldCBTcGVha2VyU3RhdHVzIGZhaWxlZCIsZSk7cihhKX19fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoZSl9KSl9KSl9LG0ucHJvdG90eXBlLl9vcHRPdXRTcGVha2VySW5MY21zPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWkuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8sYSl7dmFyIHM9e0NvbnRhY3RJZDpuLmNvbnRhY3RJZCxJbnN0YW5jZUlkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxBV1NBY2NvdW50SWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCksQ3VzdG9tZXJJZDppLmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksVm9pY2VJZFJlc3VsdDp7U3BlYWtlck9wdGVkT3V0OiEwLGdlbmVyYXRlZFNwZWFrZXJJZDp0fX07aS5nZXRMb2coKS5pbmZvKCJfb3B0T3V0U3BlYWtlckluTGNtcyBjYWxsZWQiKS53aXRoT2JqZWN0KHMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLlVQREFURV9WT0lDRV9JRF9EQVRBLHMse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJvcHRPdXRTcGVha2VySW5MY21zIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoIm9wdE91dFNwZWFrZXJJbkxjbXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuT1BUX09VVF9TUEVBS0VSX0lOX0xDTVNfRkFJTEVELCJvcHRPdXRTcGVha2VySW5MY21zIGZhaWxlZCIsZSk7YSh0KX19KX0pKX0sbS5wcm90b3R5cGUub3B0T3V0U3BlYWtlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIHQ9aS5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKG8pe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihhKXt2YXIgcz1vLnNwZWFrZXJJZCxjPXtTcGVha2VySWQ6aS5hc3NlcnROb3ROdWxsKHMsInNwZWFrZXJJZCIpLERvbWFpbklkOmF9O2kuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlciBjYWxsZWQiKS53aXRoT2JqZWN0KGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLk9QVF9PVVRfU1BFQUtFUixjLHtzdWNjZXNzOmZ1bmN0aW9uKHQpe2UuX29wdE91dFNwZWFrZXJJbkxjbXMocyx0LmdlbmVyYXRlZFNwZWFrZXJJZCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpLGkuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbih0KX0sZmFpbHVyZTpmdW5jdGlvbihlKXtpLmdldExvZygpLmVycm9yKCJvcHRPdXRTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgdD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLk9QVF9PVVRfU1BFQUtFUl9GQUlMRUQsIm9wdE91dFNwZWFrZXIgZmFpbGVkLiIsZSk7cih0KX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKX0pKX0sbS5wcm90b3R5cGUuZGVsZXRlU3BlYWtlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIHQ9aS5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKG8pe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYT17U3BlYWtlcklkOmkuYXNzZXJ0Tm90TnVsbChvLnNwZWFrZXJJZCwic3BlYWtlcklkIiksRG9tYWluSWQ6ZX07aS5nZXRMb2coKS5pbmZvKCJkZWxldGVTcGVha2VyIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVMRVRFX1NQRUFLRVIsYSx7c3VjY2VzczpmdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oImRlbGV0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigiZGVsZXRlU3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5ERUxFVEVfU1BFQUtFUl9GQUlMRUQsImRlbGV0ZVNwZWFrZXIgZmFpbGVkLiIsZSk7cih0KX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKX0pKX0sbS5wcm90b3R5cGUuc3RhcnRTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihvKXt2YXIgYT17Y29udGFjdElkOmUuY29udGFjdElkLGluc3RhbmNlSWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLGN1c3RvbWVyQWNjb3VudElkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLGNsaWVudFRva2VuOkFXUy51dGlsLnV1aWQudjQoKSxkb21haW5JZDpvfTtpLmdldExvZygpLmluZm8oInN0YXJ0U2Vzc2lvbiBjYWxsZWQiKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLlNUQVJUX1ZPSUNFX0lEX1NFU1NJT04sYSx7c3VjY2VzczpmdW5jdGlvbihlKXtpZihlLnNlc3Npb25JZCluKGUpO2Vsc2V7aS5nZXRMb2coKS5lcnJvcigic3RhcnRWb2ljZUlkU2Vzc2lvbiBmYWlsZWQsIG5vIHNlc3Npb24gaWQgcmV0dXJuZWQiKS53aXRoT2JqZWN0KHtkYXRhOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuU1RBUlRfU0VTU0lPTl9GQUlMRUQsIk5vIHNlc3Npb24gaWQgcmV0dXJuZWQgZnJvbSBzdGFydCBzZXNzaW9uIGFwaSIpO3IodCl9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0Vm9pY2VJZFNlc3Npb24gZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuU1RBUlRfU0VTU0lPTl9GQUlMRUQsInN0YXJ0Vm9pY2VJZFNlc3Npb24gZmFpbGVkIixlKTtyKHQpfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpfSxtLnByb3RvdHlwZS5ldmFsdWF0ZVNwZWFrZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj1pLmNvcmUuZ2V0Q2xpZW50KCkscj1pLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCksbz0wO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxzKXtmdW5jdGlvbiBjKCl7dC5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB1PXtTZXNzaW9uTmFtZU9ySWQ6ci5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxEb21haW5JZDplfTtpLmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBjYWxsZWQiKS53aXRoT2JqZWN0KHUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLkVWQUxVQVRFX1NFU1NJT04sdSx7c3VjY2VzczpmdW5jdGlvbihlKXtpZigrK288aS5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fTUFYX1BPTExfVElNRVMpaWYoZS5TdHJlYW1pbmdTdGF0dXM9PT1pLlZvaWNlSWRTdHJlYW1pbmdTdGF0dXMuUEVORElOR19DT05GSUdVUkFUSU9OKXNldFRpbWVvdXQoYyxpLlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVElPTl9QT0xMSU5HX0lOVEVSVkFMKTtlbHNle2lmKGUuQXV0aGVudGljYXRpb25SZXN1bHR8fChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0PXt9LGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUQpLGUuRnJhdWREZXRlY3Rpb25SZXN1bHR8fChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0PXt9LGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUQpLCF0LmlzQXV0aEVuYWJsZWQoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJiF0LmlzRnJhdWRFbmFibGVkKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXJldHVybiBpLmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBhKGUpO2lmKGUuU3RyZWFtaW5nU3RhdHVzPT09aS5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLkVOREVEJiYodC5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJihlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPWkuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRSksdC5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pJiYoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkUpKSx0LmlzQXV0aFJlc3VsdEluY29uY2x1c2l2ZShlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmdC5pc0ZyYXVkUmVzdWx0SW5jb25jbHVzaXZlKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXJldHVybiBpLmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBhKGUpO2lmKCF0LmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmdC5pc0F1dGhFbmFibGVkKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pKXN3aXRjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKXtjYXNlIGkuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uQUNDRVBUOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uQVVUSEVOVElDQVRFRDticmVhaztjYXNlIGkuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uUkVKRUNUOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0FVVEhFTlRJQ0FURUQ7YnJlYWs7Y2FzZSBpLlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLlNQRUFLRVJfT1BURURfT1VUOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uT1BURURfT1VUO2JyZWFrO2Nhc2UgaS5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5TUEVBS0VSX05PVF9FTlJPTExFRDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPWkuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTlJPTExFRDticmVhaztkZWZhdWx0OmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uRVJST1J9aWYoIXQuaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSYmdC5pc0ZyYXVkRW5hYmxlZChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlzd2l0Y2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbil7Y2FzZSBpLlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkhJR0hfUklTSzplLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPWkuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkhJR0hfUklTSzticmVhaztjYXNlIGkuVm9pY2VJZEZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTE9XX1JJU0s6ZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5MT1dfUklTSzticmVhaztkZWZhdWx0OmUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uRVJST1J9aWYoIXQuaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYhdC5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXJldHVybiBpLmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBhKGUpO3NldFRpbWVvdXQoYyxpLlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVElPTl9QT0xMSU5HX0lOVEVSVkFMKX1lbHNle2kuZ2V0TG9nKCkuZXJyb3IoImV2YWx1YXRlU3BlYWtlciB0aW1lb3V0Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkVWQUxVQVRFX1NQRUFLRVJfVElNRU9VVCwiZXZhbHVhdGVTcGVha2VyIHRpbWVvdXQiKTtzKG4pfX0sZmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goSlNPTi5wYXJzZShlKS5zdGF0dXMpe2Nhc2UgNDAwOmNhc2UgNDA0OnQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5TRVNTSU9OX05PVF9FWElTVFMsImV2YWx1YXRlU3BlYWtlciBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIsZSksaS5nZXRMb2coKS5lcnJvcigiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2JyZWFrO2RlZmF1bHQ6dD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkVWQUxVQVRFX1NQRUFLRVJfRkFJTEVELCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkIixlKSxpLmdldExvZygpLmVycm9yKCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXModCl9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3MoZSl9KSl9ZT90LnN0YXJ0U2Vzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKGUpe3Quc3luY1NwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoYyxpLlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVEVfU0VTU0lPTl9ERUxBWSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoInN5bmNTcGVha2VySWQgZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz10cnVlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMoZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0U2Vzc2lvbiBmYWlsZWQgd2hlbiBzZXNzaW9uIHN0YXJ0TmV3PXRydWUiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscyhlKX0pKTp0LnN5bmNTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbigpe2MoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigic3luY1NwZWFrZXJJZCBmYWlsZWQgd2hlbiBzZXNzaW9uIHN0YXJ0TmV3PWZhbHNlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMoZSl9KSl9KSl9LG0ucHJvdG90eXBlLmRlc2NyaWJlU2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmNvcmUuZ2V0Q2xpZW50KCksbj1pLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYT17U2Vzc2lvbk5hbWVPcklkOm4uaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6ZX07aS5nZXRMb2coKS5pbmZvKCJkZXNjcmliZVNlc3Npb24gY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5ERVNDUklCRV9TRVNTSU9OLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7cihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtpLmdldExvZygpLmVycm9yKCJkZXNjcmliZVNlc3Npb24gZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuREVTQ1JJQkVfU0VTU0lPTl9GQUlMRUQsImRlc2NyaWJlU2Vzc2lvbiBmYWlsZWQiLGUpO28odCl9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LG0ucHJvdG90eXBlLmNoZWNrRW5yb2xsbWVudFN0YXR1cz1mdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oImNoZWNrRW5yb2xsbWVudFN0YXR1cyBjYWxsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PXRoaXMsbj0wLHI9ITE7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGEpeyFmdW5jdGlvbiBzKCl7aWYoKytuPGkuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX01BWF9QT0xMX1RJTUVTKXQuZGVzY3JpYmVTZXNzaW9uKCkudGhlbigoZnVuY3Rpb24obil7c3dpdGNoKG4uU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuU3RhdHVzKXtjYXNlIGkuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRDpvKG4pO2JyZWFrO2Nhc2UgaS5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1M6cnx8ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fChlKG4pLHI9ITApLHNldFRpbWVvdXQocyxpLlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMKTticmVhaztjYXNlIGkuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLk5PVF9FTk9VR0hfU1BFRUNIOm4uU2Vzc2lvbi5TdHJlYW1pbmdTdGF0dXMhPT1pLlZvaWNlSWRTdHJlYW1pbmdTdGF0dXMuRU5ERUQ/c2V0VGltZW91dChzLGkuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX1BPTExJTkdfSU5URVJWQUwpOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zdGFydFNlc3Npb24oKS50aGVuKChmdW5jdGlvbihlKXtzKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUsdCl7YShlKX0pKX0pLGkuVm9pY2VJZENvbnN0YW50cy5TVEFSVF9TRVNTSU9OX0RFTEFZKTticmVhaztkZWZhdWx0OnZhciBjPW4uU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuTWVzc2FnZT9uLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLk1lc3NhZ2U6ImVucm9sbFNwZWFrZXIgZmFpbGVkLiBVbmtub3duIGVucm9sbG1lbnQgc3RhdHVzIGhhcyBiZWVuIHJlY2VpdmVkIjtpLmdldExvZygpLmVycm9yKGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHU9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5FTlJPTExfU1BFQUtFUl9GQUlMRUQsYyxuLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLlN0YXR1cyk7YSh1KX19KSk7ZWxzZXtpLmdldExvZygpLmVycm9yKCJlbnJvbGxTcGVha2VyIHRpbWVvdXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBjPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfVElNRU9VVCwiZW5yb2xsU3BlYWtlciB0aW1lb3V0Iik7YShjKX19KCl9KSl9LG0ucHJvdG90eXBlLmVucm9sbFNwZWFrZXI9ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIGNhbGxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9dGhpcztyZXR1cm4gdC5jaGVja0NvbmZlcmVuY2VDYWxsKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oKXt0LmdldFNwZWFrZXJTdGF0dXMoKS50aGVuKChmdW5jdGlvbihvKXtvLlNwZWFrZXImJm8uU3BlYWtlci5TdGF0dXM9PWkuVm9pY2VJZFNwZWFrZXJTdGF0dXMuT1BURURfT1VUP3QuZGVsZXRlU3BlYWtlcigpLnRoZW4oKGZ1bmN0aW9uKCl7dC5lbnJvbGxTcGVha2VySGVscGVyKG4scixlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKTp0LmVucm9sbFNwZWFrZXJIZWxwZXIobixyLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpfSxtLnByb3RvdHlwZS5lbnJvbGxTcGVha2VySGVscGVyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLG89aS5jb3JlLmdldENsaWVudCgpLGE9aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3IuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihzKXt2YXIgYz17U2Vzc2lvbk5hbWVPcklkOmEuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6c307aS5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VySGVscGVyIGNhbGxlZCIpLndpdGhPYmplY3QoYykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvLmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuRU5ST0xMX0JZX1NFU1NJT04sYyx7c3VjY2VzczpmdW5jdGlvbihvKXtvLlN0YXR1cz09PWkuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRD8oaS5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qobykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKG8pKTpyLmNoZWNrRW5yb2xsbWVudFN0YXR1cyhuKS50aGVuKChmdW5jdGlvbih0KXtpLmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdCh0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QoZSl9KSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigiZW5yb2xsU3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5FTlJPTExfU1BFQUtFUl9GQUlMRUQsImVucm9sbFNwZWFrZXIgZmFpbGVkIixlKTt0KG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0KGUpfSkpfSxtLnByb3RvdHlwZS5fdXBkYXRlU3BlYWtlcklkSW5MY21zPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWkuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8sYSl7dmFyIHM9e0NvbnRhY3RJZDpuLmNvbnRhY3RJZCxJbnN0YW5jZUlkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxBV1NBY2NvdW50SWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCksQ3VzdG9tZXJJZDppLmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksVm9pY2VJZFJlc3VsdDp7Z2VuZXJhdGVkU3BlYWtlcklkOnR9fTtpLmdldExvZygpLmluZm8oIl91cGRhdGVTcGVha2VySWRJbkxjbXMgY2FsbGVkIikud2l0aE9iamVjdChzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfVk9JQ0VfSURfREFUQSxzLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5MY21zIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5VUERBVEVfU1BFQUtFUl9JRF9JTl9MQ01TX0ZBSUxFRCwidXBkYXRlU3BlYWtlcklkSW5MY21zIGZhaWxlZCIsZSk7YSh0KX19KX0pKX0sbS5wcm90b3R5cGUudXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49aS5jb3JlLmdldENsaWVudCgpLHI9aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxhKXt0LmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24ocyl7dmFyIGM9e1Nlc3Npb25OYW1lT3JJZDpyLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLFNwZWFrZXJJZDppLmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksRG9tYWluSWQ6c307aS5nZXRMb2coKS5pbmZvKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfU0VTU0lPTixjLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe2kuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgcj1uJiZuLlNlc3Npb24mJm4uU2Vzc2lvbi5HZW5lcmF0ZWRTcGVha2VySWQ7dC5fdXBkYXRlU3BlYWtlcklkSW5MY21zKGUscikudGhlbigoZnVuY3Rpb24oKXtvKG4pfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciB0O3N3aXRjaChKU09OLnBhcnNlKGUpLnN0YXR1cyl7Y2FzZSA0MDA6Y2FzZSA0MDQ6dD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLlNFU1NJT05fTk9UX0VYSVNUUywidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIixlKSxpLmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7YnJlYWs7ZGVmYXVsdDp0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuVVBEQVRFX1NQRUFLRVJfSURfRkFJTEVELCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkIixlKSxpLmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWEodCl9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EoZSl9KSl9KSl9LG0ucHJvdG90eXBlLnN5bmNTcGVha2VySWQ9ZnVuY3Rpb24oKXtpLmdldExvZygpLmluZm8oInN5bmNTcGVha2VySWQgY2FsbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKHIpe2UudXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkKHIuc3BlYWtlcklkKS50aGVuKChmdW5jdGlvbihlKXt0KGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpfSxtLnByb3RvdHlwZS5nZXREb21haW5JZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtpZigobmV3IGkuQWdlbnQpLmdldFBlcm1pc3Npb25zKCkuaW5jbHVkZXMoaS5BZ2VudFBlcm1pc3Npb25zLlZPSUNFX0lEKSlpZihpLmNvcmUudm9pY2VJZERvbWFpbklkKWUoaS5jb3JlLnZvaWNlSWREb21haW5JZCk7ZWxzZXt2YXIgbj1pLmNvcmUuZ2V0Q2xpZW50KCkscj17SW5zdGFuY2VJZDppLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksSW50ZWdyYXRpb25UeXBlOiJWT0lDRV9JRCJ9O2kuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQgY2FsbGVkIikud2l0aE9iamVjdChyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5MSVNUX0lOVEVHUkFUSU9OX0FTU09DSUFUSU9OUyxyLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3RyeXt2YXIgcjtpZihuLkludGVncmF0aW9uQXNzb2NpYXRpb25TdW1tYXJ5TGlzdC5sZW5ndGg+PTEmJihyPW4uSW50ZWdyYXRpb25Bc3NvY2lhdGlvblN1bW1hcnlMaXN0WzBdLkludGVncmF0aW9uQXJuLnJlcGxhY2UoL14uKmRvbWFpblwvL2ksIiIpKSwhcil7aS5nZXRMb2coKS5pbmZvKCJnZXREb21haW5JZDogbm8gZG9tYWluSWQgZm91bmQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBvPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuTk9fRE9NQUlOX0lEX0ZPVU5EKTtyZXR1cm4gdm9pZCB0KG8pfWkuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELGRhdGE6e2RvbWFpbklkOnJ9fSksZShyKX1jYXRjaChlKXtpLmdldExvZygpLmVycm9yKCJnZXREb21haW5JZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbz1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkdFVF9ET01BSU5fSURfRkFJTEVELCJnZXREb21haW5JZCBmYWlsZWQiLGUpLHQobyl9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoImdldERvbWFpbklkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkdFVF9ET01BSU5fSURfRkFJTEVELCJnZXREb21haW5JZCBmYWlsZWQiLGUpO3Qobil9fSl9ZWxzZSB0KG5ldyBFcnJvcigiQWdlbnQgZG9lc24ndCBoYXZlIHRoZSBwZXJtaXNzaW9uIGZvciBWb2ljZSBJRCIpKX0pKX0sbS5wcm90b3R5cGUuY2hlY2tDb25mZXJlbmNlQ2FsbD1mdW5jdGlvbigpe2lmKGkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKS5jb25uZWN0aW9ucy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnRhaW5zKGkuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTLGUuc3RhdGUudHlwZSl9KSkubGVuZ3RoPjIpdGhyb3cgbmV3IGkuTm90SW1wbGVtZW50ZWRFcnJvcigiVm9pY2VJZCBpcyBub3Qgc3VwcG9ydGVkIGZvciBjb25mZXJlbmNlIGNhbGxzIil9LG0ucHJvdG90eXBlLmlzQXV0aEVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5BQkxFRH0sbS5wcm90b3R5cGUuaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09aS5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5PVUdIX1NQRUVDSH0sbS5wcm90b3R5cGUuaXNBdXRoUmVzdWx0SW5jb25jbHVzaXZlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFfSxtLnByb3RvdHlwZS5pc0ZyYXVkRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PWkuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEfSxtLnByb3RvdHlwZS5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09aS5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5OT1RfRU5PVUdIX1NQRUVDSH0sbS5wcm90b3R5cGUuaXNGcmF1ZFJlc3VsdEluY29uY2x1c2l2ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PWkuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRX07dmFyIHY9ZnVuY3Rpb24oZSx0KXt0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvcj1uZXcgbShlKSxnLmNhbGwodGhpcyxlLHQpfTsodi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXYsdi5wcm90b3R5cGUuZ2V0U29mdHBob25lTWVkaWFJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zb2Z0cGhvbmVNZWRpYUluZm99LHYucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSx2LnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5NZWRpYVR5cGUuU09GVFBIT05FfSx2LnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9LHYucHJvdG90eXBlLmdldFZvaWNlSWRTcGVha2VySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZ2V0U3BlYWtlcklkKCl9LHYucHJvdG90eXBlLmdldFZvaWNlSWRTcGVha2VyU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmdldFNwZWFrZXJTdGF0dXMoKX0sdi5wcm90b3R5cGUub3B0T3V0Vm9pY2VJZFNwZWFrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3Iub3B0T3V0U3BlYWtlcigpfSx2LnByb3RvdHlwZS5kZWxldGVWb2ljZUlkU3BlYWtlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5kZWxldGVTcGVha2VyKCl9LHYucHJvdG90eXBlLmV2YWx1YXRlU3BlYWtlcldpdGhWb2ljZUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5ldmFsdWF0ZVNwZWFrZXIoZSl9LHYucHJvdG90eXBlLmVucm9sbFNwZWFrZXJJblZvaWNlSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmVucm9sbFNwZWFrZXIoZSl9LHYucHJvdG90eXBlLnVwZGF0ZVZvaWNlSWRTcGVha2VySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZChlKX0sdi5wcm90b3R5cGUuZ2V0UXVpY2tDb25uZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVpY2tDb25uZWN0TmFtZX0sdi5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09aS5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUn0sdi5wcm90b3R5cGUuaXNCYXJnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PWkuTW9uaXRvcmluZ01vZGUuQkFSR0V9LHYucHJvdG90eXBlLmlzQmFyZ2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXMoaS5Nb25pdG9yaW5nTW9kZS5CQVJHRSl9LHYucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvckVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyhpLk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SKX0sdi5wcm90b3R5cGUuZ2V0TW9uaXRvckNhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvckNhcGFiaWxpdGllc30sdi5wcm90b3R5cGUuZ2V0TW9uaXRvclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvclN0YXR1c30sdi5wcm90b3R5cGUuaXNNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tdXRlfSx2LnByb3RvdHlwZS5pc0ZvcmNlZE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmZvcmNlZE11dGV9LHYucHJvdG90eXBlLm11dGVQYXJ0aWNpcGFudD1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuTVVURV9QQVJUSUNJUEFOVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSx2LnByb3RvdHlwZS51bm11dGVQYXJ0aWNpcGFudD1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuVU5NVVRFX1BBUlRJQ0lQQU5ULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LHYucHJvdG90eXBlLmNhblNlbmRWaWRlbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuVmlkZW89PT1pLlZpZGVvQ2FwYWJpbGl0eS5TRU5EfSx2LnByb3RvdHlwZS5jYW5TZW5kU2NyZWVuU2hhcmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLlNjcmVlblNoYXJlPT09aS5TY3JlZW5TaGFyZUNhcGFiaWxpdHkuU0VORH0sdi5wcm90b3R5cGUuZ2V0Q2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jYXBhYmlsaXRpZXN9LHYucHJvdG90eXBlLmdldFZpZGVvQ29ubmVjdGlvbkluZm89ZnVuY3Rpb24oKXt2YXIgZT1pLmNvcmUuZ2V0Q2xpZW50KCksdD17dHJhbnNwb3J0VHlwZTppLlRSQU5TUE9SVF9UWVBFUy5XRUJfUlRDLGNvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZH07cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuY2FsbChpLkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCx0LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuaW5mbygiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4oZS53ZWJSVENUcmFuc3BvcnQpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsdCl7aS5nZXRMb2coKS5lcnJvcigiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6dH0pLHIoRXJyb3IoImdldFZpZGVvQ29ubmVjdGlvbkluZm8gZmFpbGVkIikpfX0pfSkpfTt2YXIgeT1mdW5jdGlvbihlLHQpe2cuY2FsbCh0aGlzLGUsdCl9Oyh5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSkuY29uc3RydWN0b3I9eSx5LnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXREYXRhKCkuY2hhdE1lZGlhSW5mbztpZihlKXt2YXIgdD1pLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCksbj17Y29udGFjdElkOnRoaXMuY29udGFjdElkLGluaXRpYWxDb250YWN0SWQ6dC5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxwYXJ0aWNpcGFudElkOnRoaXMuY29ubmVjdGlvbklkLGdldENvbm5lY3Rpb25Ub2tlbjppLmhpdGNoKHRoaXMsdGhpcy5nZXRDb25uZWN0aW9uVG9rZW4pfTtpZihlLmNvbm5lY3Rpb25EYXRhKXRyeXtuLnBhcnRpY2lwYW50VG9rZW49SlNPTi5wYXJzZShlLmNvbm5lY3Rpb25EYXRhKS5Db25uZWN0aW9uQXV0aGVudGljYXRpb25Ub2tlbn1jYXRjaCh0KXtpLmdldExvZygpLmVycm9yKGkuTG9nQ29tcG9uZW50LkNIQVQsIkNvbm5lY3Rpb24gZGF0YSBpcyBpbnZhbGlkIikud2l0aE9iamVjdChlKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wYXJ0aWNpcGFudFRva2VuPW51bGx9cmV0dXJuIG4ucGFydGljaXBhbnRUb2tlbj1uLnBhcnRpY2lwYW50VG9rZW58fG51bGwsbi5vcmlnaW5hbEluZm89dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8sbn1yZXR1cm4gbnVsbH0seS5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9aS5jb3JlLmdldENsaWVudCgpLHQ9KGkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKSx7dHJhbnNwb3J0VHlwZTppLlRSQU5TUE9SVF9UWVBFUy5DSEFUX1RPS0VOLHBhcnRpY2lwYW50SWQ6dGhpcy5jb25uZWN0aW9uSWQsY29udGFjdElkOnRoaXMuY29udGFjdElkfSk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuY2FsbChpLkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCx0LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuaW5mbygiZ2V0Q29ubmVjdGlvblRva2VuIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlKX0sZmFpbHVyZTpmdW5jdGlvbihlLHQpe2kuZ2V0TG9nKCkuZXJyb3IoImdldENvbm5lY3Rpb25Ub2tlbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6dH0pLHIoRXJyb3IoImdldENvbm5lY3Rpb25Ub2tlbiBmYWlsZWQiKSl9fSl9KSl9LHkucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiBpLk1lZGlhVHlwZS5DSEFUfSx5LnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9LHkucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7dGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCkmJmkuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpLmNhdGNoKChmdW5jdGlvbigpe30pKX0seS5wcm90b3R5cGUuaXNCYXJnZUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyhpLk1vbml0b3JpbmdNb2RlLkJBUkdFKX0seS5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKGkuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IpfSx5LnByb3RvdHlwZS5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yQ2FwYWJpbGl0aWVzfSx5LnByb3RvdHlwZS5pc0JhcmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09aS5Nb25pdG9yaW5nTW9kZS5CQVJHRX0seS5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09aS5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUn0seS5wcm90b3R5cGUuZ2V0TW9uaXRvclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvclN0YXR1c30seS5wcm90b3R5cGUuZ2V0QXV0aGVudGljYXRpb25EZXRhaWxzPWZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCkpdGhyb3cgbmV3IEVycm9yKCJBdXRoZW50aWNhdGlvbiBkZXRhaWxzIGFyZSBhdmFpbGFibGUgb25seSBmb3IgY3VzdG9tZXIgY29ubmVjdGlvbiIpO3ZhciB0PWkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtpZihudWxsIT10JiZudWxsIT09KGU9dC5zZWdtZW50QXR0cmlidXRlcykmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lWyJjb25uZWN0OkN1c3RvbWVyQXV0aGVudGljYXRpb24iXSkmJnZvaWQgMCE9PWUmJmUuVmFsdWVNYXApe3ZhciBvPXQuc2VnbWVudEF0dHJpYnV0ZXNbImNvbm5lY3Q6Q3VzdG9tZXJBdXRoZW50aWNhdGlvbiJdLlZhbHVlTWFwO2lmKCJvYmplY3QiPT09cihvKSYmbnVsbCE9PW8pe2Zvcih2YXIgYT17fSxzPTAsYz1PYmplY3QuZW50cmllcyhvKTtzPGMubGVuZ3RoO3MrKyl7dmFyIHU9bihjW3NdLDIpLGw9dVswXSxwPXVbMV07bnVsbCE9PShudWxsPT1wP3ZvaWQgMDpwLlZhbHVlU3RyaW5nKSYmKGFbbF09cC5WYWx1ZVN0cmluZyl9cmV0dXJuIGF9fXJldHVybiBudWxsfSx5LnByb3RvdHlwZS5pc0F1dGhlbnRpY2F0ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEF1dGhlbnRpY2F0aW9uRGV0YWlscygpO3JldHVybihudWxsPT1lP3ZvaWQgMDplLlN0YXR1cyk9PT1pLkN1c3RvbWVyQXV0aGVudGljYXRpb25TdGF0dXMuQVVUSEVOVElDQVRFRH0seS5wcm90b3R5cGUuZ2V0UGFydGljaXBhbnROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQWdlbnRDb25uZWN0aW9uVHlwZSgpPyhuZXcgaS5BZ2VudCkuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWU6dGhpcy5pc0luaXRpYWxDb25uZWN0aW9uKCk/dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8uY3VzdG9tZXJOYW1lOnRoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvLmFnZW50TmFtZX07dmFyIGI9ZnVuY3Rpb24oZSx0KXtnLmNhbGwodGhpcyxlLHQpfTsoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTWVkaWFUeXBlLlRBU0t9LGIucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3ZhciBlPWkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm57Y29udGFjdElkOnRoaXMuY29udGFjdElkLGluaXRpYWxDb250YWN0SWQ6ZS5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZH19LGIucHJvdG90eXBlLmdldE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3JldHVybiBpLmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKX07dmFyIEU9ZnVuY3Rpb24oZSx0KXtnLmNhbGwodGhpcyxlLHQpfTsoRS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPUUsRS5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTWVkaWFUeXBlLkVNQUlMfSxFLnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe307dmFyIFM9ZnVuY3Rpb24oZSl7aS5Db25uZWN0aW9uLmNhbGwodGhpcyxlLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCksdGhpcy5jb25uZWN0aW9uRGF0YT1lfTsoUy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPVMsUy5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uRGF0YX0sUy5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt9O3ZhciBDPWZ1bmN0aW9uKGUpe3ZhciB0PWV8fHt9O3RoaXMuZW5kcG9pbnRBUk49dC5lbmRwb2ludElkfHx0LmVuZHBvaW50QVJOfHxudWxsLHRoaXMuZW5kcG9pbnRJZD10aGlzLmVuZHBvaW50QVJOLHRoaXMudHlwZT10LnR5cGV8fG51bGwsdGhpcy5uYW1lPXQubmFtZXx8bnVsbCx0aGlzLnBob25lTnVtYmVyPXQucGhvbmVOdW1iZXJ8fG51bGwsdGhpcy5hZ2VudExvZ2luPXQuYWdlbnRMb2dpbnx8bnVsbCx0aGlzLnF1ZXVlPXQucXVldWV8fG51bGx9O0MucHJvdG90eXBlLnN0cmlwUGhvbmVOdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waG9uZU51bWJlcj90aGlzLnBob25lTnVtYmVyLnJlcGxhY2UoL3NpcDooW15AXSopQC4qLywiJDEiKToiIn0sQy5ieVBob25lTnVtYmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBDKHt0eXBlOmkuRW5kcG9pbnRUeXBlLlBIT05FX05VTUJFUixwaG9uZU51bWJlcjplLG5hbWU6dHx8bnVsbH0pfTt2YXIgST1mdW5jdGlvbihlLHQsbil7dGhpcy5lcnJvclR5cGU9ZSx0aGlzLmVycm9yTWVzc2FnZT10LHRoaXMuZW5kUG9pbnRVcmw9bn07SS5wcm90b3R5cGUuZ2V0RXJyb3JUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JUeXBlfSxJLnByb3RvdHlwZS5nZXRFcnJvck1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcnJvck1lc3NhZ2V9LEkucHJvdG90eXBlLmdldEVuZFBvaW50VXJsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kUG9pbnRVcmx9LGkuYWdlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuSU5JVCxlKTtyZXR1cm4gaS5hZ2VudC5pbml0aWFsaXplZCYmZShuZXcgaS5BZ2VudCksdH0saS5hZ2VudC5pbml0aWFsaXplZD0hMSxpLmNvbnRhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkNvbnRhY3RFdmVudHMuSU5JVCxlKX0saS5vbldlYnNvY2tldEluaXRGYWlsdXJlPWZ1bmN0aW9uKGUpe3ZhciB0PWkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkUsZSk7cmV0dXJuIGkud2ViU29ja2V0SW5pdEZhaWxlZCYmZSgpLHR9LGkuaWZNYXN0ZXI9ZnVuY3Rpb24oZSx0LG4scil7aWYoaS5hc3NlcnROb3ROdWxsKGUsIkEgdG9waWMgbXVzdCBiZSBwcm92aWRlZC4iKSxpLmFzc2VydE5vdE51bGwodCwiQSB0cnVlIGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWQuIiksIWkuY29yZS5tYXN0ZXJDbGllbnQpcmV0dXJuIGkuZ2V0TG9nKCkud2FybigiV2UgY2FuJ3QgYmUgdGhlIG1hc3RlciBmb3IgdG9waWMgJyVzJyBiZWNhdXNlIHRoZXJlIGlzIG5vIG1hc3RlciBjbGllbnQhIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQobiYmbigpKTtpLmNvcmUuZ2V0TWFzdGVyQ2xpZW50KCkuY2FsbChpLk1hc3Rlck1ldGhvZHMuQ0hFQ0tfTUFTVEVSLHt0b3BpYzplLHNob3VsZE5vdEJlY29tZU1hc3RlcklmTm9uZTpyfSx7c3VjY2VzczpmdW5jdGlvbihlKXtlLmlzTWFzdGVyP3QoKTpuJiZuKCl9fSl9LGkuYmVjb21lTWFzdGVyPWZ1bmN0aW9uKGUsdCxuKXtpLmFzc2VydE5vdE51bGwoZSwiQSB0b3BpYyBtdXN0IGJlIHByb3ZpZGVkLiIpLGkuY29yZS5tYXN0ZXJDbGllbnQ/aS5jb3JlLmdldE1hc3RlckNsaWVudCgpLmNhbGwoaS5NYXN0ZXJNZXRob2RzLkJFQ09NRV9NQVNURVIse3RvcGljOmV9LHtzdWNjZXNzOmZ1bmN0aW9uKCl7dCYmdCgpfX0pOihpLmdldExvZygpLndhcm4oIldlIGNhbid0IGJlIHRoZSBtYXN0ZXIgZm9yIHRvcGljICclcycgYmVjYXVzZSB0aGVyZSBpcyBubyBtYXN0ZXIgY2xpZW50ISIsZSksbiYmbigpKX0saS5BZ2VudD11LGkuQWdlbnRTbmFwc2hvdD1kLGkuQ29udGFjdD1oLGkuQ29udGFjdFNuYXBzaG90PWYsaS5Db25uZWN0aW9uPXYsaS5CYXNlQ29ubmVjdGlvbj1nLGkuVm9pY2VDb25uZWN0aW9uPXYsaS5DaGF0Q29ubmVjdGlvbj15LGkuVGFza0Nvbm5lY3Rpb249YixpLkVtYWlsQ29ubmVjdGlvbj1FLGkuQ29ubmVjdGlvblNuYXBzaG90PVMsaS5FbmRwb2ludD1DLGkuQWRkcmVzcz1DLGkuU29mdHBob25lRXJyb3I9SSxpLlZvaWNlSWQ9bSxpLlF1aWNrUmVzcG9uc2VzPWN9KCl9LDE2NzooZSx0LG4pPT57dmFyIHI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gbz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sbyhlKX0hZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gbyhhLHMpe2lmKCFuW2FdKXtpZighdFthXSl7aWYoaSlyZXR1cm4gaShhLCEwKTt2YXIgYz1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIithKyInIik7dGhyb3cgYy5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixjfXZhciB1PW5bYV09e2V4cG9ydHM6e319O3RbYV1bMF0uY2FsbCh1LmV4cG9ydHMsKGZ1bmN0aW9uKGUpe3JldHVybiBvKHRbYV1bMV1bZV18fGUpfSksdSx1LmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bYV0uZXhwb3J0c31mb3IodmFyIGk9dm9pZCAwLGE9MDthPHIubGVuZ3RoO2ErKylvKHJbYV0pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17dmVyc2lvbjoiMi4wIixtZXRhZGF0YTp7YXBpVmVyc2lvbjoiMjAxNC0wNi0zMCIsZW5kcG9pbnRQcmVmaXg6ImNvZ25pdG8taWRlbnRpdHkiLGpzb25WZXJzaW9uOiIxLjEiLHByb3RvY29sOiJqc29uIixzZXJ2aWNlRnVsbE5hbWU6IkFtYXpvbiBDb2duaXRvIElkZW50aXR5IixzZXJ2aWNlSWQ6IkNvZ25pdG8gSWRlbnRpdHkiLHNpZ25hdHVyZVZlcnNpb246InY0Iix0YXJnZXRQcmVmaXg6IkFXU0NvZ25pdG9JZGVudGl0eVNlcnZpY2UiLHVpZDoiY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwIn0sb3BlcmF0aW9uczp7Q3JlYXRlSWRlbnRpdHlQb29sOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbE5hbWUiLCJBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xOYW1lOnt9LEFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllczp7dHlwZToiYm9vbGVhbiJ9LEFsbG93Q2xhc3NpY0Zsb3c6e3R5cGU6ImJvb2xlYW4ifSxTdXBwb3J0ZWRMb2dpblByb3ZpZGVyczp7c2hhcGU6IlM1In0sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LE9wZW5JZENvbm5lY3RQcm92aWRlckFSTnM6e3NoYXBlOiJTOSJ9LENvZ25pdG9JZGVudGl0eVByb3ZpZGVyczp7c2hhcGU6IlNiIn0sU2FtbFByb3ZpZGVyQVJOczp7c2hhcGU6IlNnIn0sSWRlbnRpdHlQb29sVGFnczp7c2hhcGU6IlNoIn19fSxvdXRwdXQ6e3NoYXBlOiJTayJ9fSxEZWxldGVJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWRzVG9EZWxldGUiXSxtZW1iZXJzOntJZGVudGl0eUlkc1RvRGVsZXRlOnt0eXBlOiJsaXN0IixtZW1iZXI6e319fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1VucHJvY2Vzc2VkSWRlbnRpdHlJZHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LEVycm9yQ29kZTp7fX19fX19fSxEZWxldGVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fX19fSxEZXNjcmliZUlkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9fX0sb3V0cHV0OntzaGFwZToiU3YifX0sRGVzY3JpYmVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fX19LG91dHB1dDp7c2hhcGU6IlNrIn19LEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sQ3VzdG9tUm9sZUFybjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LENyZWRlbnRpYWxzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0FjY2Vzc0tleUlkOnt9LFNlY3JldEtleTp7fSxTZXNzaW9uVG9rZW46e30sRXhwaXJhdGlvbjp7dHlwZToidGltZXN0YW1wIn19fX19LGF1dGh0eXBlOiJub25lIn0sR2V0SWQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntBY2NvdW50SWQ6e30sSWRlbnRpdHlQb29sSWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fX19LGF1dGh0eXBlOiJub25lIn0sR2V0SWRlbnRpdHlQb29sUm9sZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxSb2xlczp7c2hhcGU6IlMxYyJ9LFJvbGVNYXBwaW5nczp7c2hhcGU6IlMxZSJ9fX19LEdldE9wZW5JZFRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sVG9rZW46e319fSxhdXRodHlwZToibm9uZSJ9LEdldE9wZW5JZFRva2VuRm9yRGV2ZWxvcGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJMb2dpbnMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifSxUb2tlbkR1cmF0aW9uOnt0eXBlOiJsb25nIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxUb2tlbjp7fX19fSxHZXRQcmluY2lwYWxUYWdBdHRyaWJ1dGVNYXA6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVByb3ZpZGVyTmFtZSJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX19LExpc3RJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiTWF4UmVzdWx0cyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LE1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e30sSGlkZURpc2FibGVkOnt0eXBlOiJib29sZWFuIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdGllczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiU3YifX0sTmV4dFRva2VuOnt9fX19LExpc3RJZGVudGl0eVBvb2xzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIk1heFJlc3VsdHMiXSxtZW1iZXJzOntNYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn0sTmV4dFRva2VuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVBvb2xOYW1lOnt9fX19LE5leHRUb2tlbjp7fX19fSxMaXN0VGFnc0ZvclJlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIl0sbWVtYmVyczp7UmVzb3VyY2VBcm46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VGFnczp7c2hhcGU6IlNoIn19fX0sTG9va3VwRGV2ZWxvcGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eUlkOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyOnt9LE1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxEZXZlbG9wZXJVc2VySWRlbnRpZmllckxpc3Q6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sTmV4dFRva2VuOnt9fX19LE1lcmdlRGV2ZWxvcGVySWRlbnRpdGllczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJTb3VyY2VVc2VySWRlbnRpZmllciIsIkRlc3RpbmF0aW9uVXNlcklkZW50aWZpZXIiLCJEZXZlbG9wZXJQcm92aWRlck5hbWUiLCJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e1NvdXJjZVVzZXJJZGVudGlmaWVyOnt9LERlc3RpbmF0aW9uVXNlcklkZW50aWZpZXI6e30sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LElkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e319fX0sU2V0SWRlbnRpdHlQb29sUm9sZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJSb2xlcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LFJvbGVzOntzaGFwZToiUzFjIn0sUm9sZU1hcHBpbmdzOntzaGFwZToiUzFlIn19fX0sU2V0UHJpbmNpcGFsVGFnQXR0cmlidXRlTWFwOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiSWRlbnRpdHlQcm92aWRlck5hbWUiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVByb3ZpZGVyTmFtZTp7fSxVc2VEZWZhdWx0czp7dHlwZToiYm9vbGVhbiJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVByb3ZpZGVyTmFtZTp7fSxVc2VEZWZhdWx0czp7dHlwZToiYm9vbGVhbiJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifX19fSxUYWdSZXNvdXJjZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSZXNvdXJjZUFybiIsIlRhZ3MiXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fSxUYWdzOntzaGFwZToiU2gifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVW5saW5rRGV2ZWxvcGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCIsIklkZW50aXR5UG9vbElkIiwiRGV2ZWxvcGVyUHJvdmlkZXJOYW1lIiwiRGV2ZWxvcGVyVXNlcklkZW50aWZpZXIiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LElkZW50aXR5UG9vbElkOnt9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxEZXZlbG9wZXJVc2VySWRlbnRpZmllcjp7fX19fSxVbmxpbmtJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIiwiTG9naW5zIiwiTG9naW5zVG9SZW1vdmUiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9LExvZ2luc1RvUmVtb3ZlOntzaGFwZToiU3cifX19LGF1dGh0eXBlOiJub25lIn0sVW50YWdSZXNvdXJjZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSZXNvdXJjZUFybiIsIlRhZ0tleXMiXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fSxUYWdLZXlzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVJZGVudGl0eVBvb2w6e2lucHV0OntzaGFwZToiU2sifSxvdXRwdXQ6e3NoYXBlOiJTayJ9fX0sc2hhcGVzOntTNTp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFM5Ont0eXBlOiJsaXN0IixtZW1iZXI6e319LFNiOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7UHJvdmlkZXJOYW1lOnt9LENsaWVudElkOnt9LFNlcnZlclNpZGVUb2tlbkNoZWNrOnt0eXBlOiJib29sZWFuIn19fX0sU2c6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sU2g6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTazp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiSWRlbnRpdHlQb29sTmFtZSIsIkFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UG9vbE5hbWU6e30sQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzOnt0eXBlOiJib29sZWFuIn0sQWxsb3dDbGFzc2ljRmxvdzp7dHlwZToiYm9vbGVhbiJ9LFN1cHBvcnRlZExvZ2luUHJvdmlkZXJzOntzaGFwZToiUzUifSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sT3BlbklkQ29ubmVjdFByb3ZpZGVyQVJOczp7c2hhcGU6IlM5In0sQ29nbml0b0lkZW50aXR5UHJvdmlkZXJzOntzaGFwZToiU2IifSxTYW1sUHJvdmlkZXJBUk5zOntzaGFwZToiU2cifSxJZGVudGl0eVBvb2xUYWdzOntzaGFwZToiU2gifX19LFN2Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiU3cifSxDcmVhdGlvbkRhdGU6e3R5cGU6InRpbWVzdGFtcCJ9LExhc3RNb2RpZmllZERhdGU6e3R5cGU6InRpbWVzdGFtcCJ9fX0sU3c6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sUzEwOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzFjOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzFlOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlR5cGUiXSxtZW1iZXJzOntUeXBlOnt9LEFtYmlndW91c1JvbGVSZXNvbHV0aW9uOnt9LFJ1bGVzQ29uZmlndXJhdGlvbjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJ1bGVzIl0sbWVtYmVyczp7UnVsZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkNsYWltIiwiTWF0Y2hUeXBlIiwiVmFsdWUiLCJSb2xlQVJOIl0sbWVtYmVyczp7Q2xhaW06e30sTWF0Y2hUeXBlOnt9LFZhbHVlOnt9LFJvbGVBUk46e319fX19fX19fSxTMXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fX19fSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cGFnaW5hdGlvbjp7TGlzdElkZW50aXR5UG9vbHM6e2lucHV0X3Rva2VuOiJOZXh0VG9rZW4iLGxpbWl0X2tleToiTWF4UmVzdWx0cyIsb3V0cHV0X3Rva2VuOiJOZXh0VG9rZW4iLHJlc3VsdF9rZXk6IklkZW50aXR5UG9vbHMifX19fSx7fV0sMzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17dmVyc2lvbjoiMi4wIixtZXRhZGF0YTp7YXBpVmVyc2lvbjoiMjAxNy0wMi0xNSIsZW5kcG9pbnRQcmVmaXg6ImNvbm5lY3QiLGpzb25WZXJzaW9uOiIxLjAiLHByb3RvY29sOiJqc29uIixzZXJ2aWNlQWJicmV2aWF0aW9uOiJDb25uZWN0IixzZXJ2aWNlRnVsbE5hbWU6IkFtYXpvbkNvbm5lY3RDVElTZXJ2aWNlIixzaWduYXR1cmVWZXJzaW9uOiIiLHRhcmdldFByZWZpeDoiQW1hem9uQ29ubmVjdENUSVNlcnZpY2UiLHVpZDoiY29ubmVjdC0yMDE3LTAyLTE1In0sb3BlcmF0aW9uczp7QWNjZXB0Q29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENsZWFyQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENvbXBsZXRlQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENvbmZlcmVuY2VDb25uZWN0aW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENyZWF0ZUFkZGl0aW9uYWxDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiZW5kcG9pbnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGVuZHBvaW50OntzaGFwZToiU2UifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlT3V0Ym91bmRDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiZW5kcG9pbnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LHF1ZXVlQVJOOnt9LHJlbGF0ZWRDb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENyZWF0ZVRhc2tDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImVuZHBvaW50IiwibmFtZSJdLG1lbWJlcnM6e2VuZHBvaW50OntzaGFwZToiU2UifSxwcmV2aW91c0NvbnRhY3RJZDp7fSxuYW1lOnt9LGRlc2NyaXB0aW9uOnt9LHJlZmVyZW5jZXM6e3NoYXBlOiJTdCJ9LGlkZW1wb3RlbmN5VG9rZW46e30sc2NoZWR1bGVkVGltZTp7dHlwZToibG9uZyJ9LHJlbGF0ZWRDb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Y29udGFjdElkOnt9fX19LENyZWF0ZVRyYW5zcG9ydDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0cmFuc3BvcnRUeXBlIiwiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnt0cmFuc3BvcnRUeXBlOnt9LHBhcnRpY2lwYW50SWQ6e30sY29udGFjdElkOnt9LHNvZnRwaG9uZUNsaWVudElkOnt9LGF1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt3ZWJTb2NrZXRUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ1cmwiLCJ0cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcyJdLG1lbWJlcnM6e3VybDp7fSx0cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kczp7dHlwZToibG9uZyJ9LGV4cGlyeTp7fX19LGNoYXRUb2tlblRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInBhcnRpY2lwYW50VG9rZW4iLCJleHBpcnkiXSxtZW1iZXJzOntwYXJ0aWNpcGFudFRva2VuOnt9LGV4cGlyeTp7fX19LHNvZnRwaG9uZVRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInNvZnRwaG9uZU1lZGlhQ29ubmVjdGlvbnMiXSxtZW1iZXJzOntzb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJ1cmxzIl0sbWVtYmVyczp7dXNlcm5hbWU6e30sY3JlZGVudGlhbDp7fSx1cmxzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319fX19fX0sYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJwcmVzaWduZWRVcmwiXSxtZW1iZXJzOntwcmVzaWduZWRVcmw6e319fSx3ZWJSVENUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJtZWV0aW5nIiwiYXR0ZW5kZWUiXSxtZW1iZXJzOnttZWV0aW5nOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e21lZXRpbmdJZDp7fSxtZWRpYVJlZ2lvbjp7fSxtZWRpYVBsYWNlbWVudDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdWRpb0hvc3RVcmw6e30sYXVkaW9GYWxsYmFja1VybDp7fSxzaWduYWxpbmdVcmw6e30sdHVybkNvbnRyb2xVcmw6e30sZXZlbnRJbmdlc3Rpb25Vcmw6e319fSxtZWV0aW5nRmVhdHVyZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXVkaW86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7ZWNob1JlZHVjdGlvbjp7fX19fX19fSxhdHRlbmRlZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdHRlbmRlZUlkOnt9LGpvaW5Ub2tlbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9fX19fX19fSxEZXN0cm95Q29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxHZXRBZ2VudENvbmZpZ3VyYXRpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb25maWd1cmF0aW9uIl0sbWVtYmVyczp7Y29uZmlndXJhdGlvbjp7c2hhcGU6IlMxdiJ9fX19LEdldEFnZW50UGVybWlzc2lvbnM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInBlcm1pc3Npb25zIl0sbWVtYmVyczp7cGVybWlzc2lvbnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9fX19LEdldEFnZW50U25hcHNob3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LHRpbWVvdXQ6e3R5cGU6ImxvbmcifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInNuYXBzaG90IiwibmV4dFRva2VuIl0sbWVtYmVyczp7c25hcHNob3Q6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJzdGF0ZSIsImNvbnRhY3RzIiwic25hcHNob3RUaW1lc3RhbXAiXSxtZW1iZXJzOntzdGF0ZTp7c2hhcGU6IlMyZSJ9LG5leHRTdGF0ZTp7c2hhcGU6IlMyZSJ9LGFnZW50QXZhaWxhYmlsaXR5U3RhdGU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7c3RhdGU6e30sdGltZVN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LGNvbnRhY3RzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiLCJ0eXBlIiwic3RhdGUiLCJjb25uZWN0aW9ucyIsImF0dHJpYnV0ZXMiXSxtZW1iZXJzOntjb250YWN0SWQ6e30saW5pdGlhbENvbnRhY3RJZDp7fSxyZWxhdGVkQ29udGFjdElkOnt9LGNvbnRhY3RBc3NvY2lhdGlvbklkOnt9LHR5cGU6e30sc3RhdGU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwidGltZXN0YW1wIl0sbWVtYmVyczp7dHlwZTp7fSx0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0scXVldWU6e3NoYXBlOiJTbCJ9LHF1ZXVlVGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxjb25uZWN0aW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29ubmVjdGlvbklkIiwic3RhdGUiLCJ0eXBlIiwiaW5pdGlhbCJdLG1lbWJlcnM6e2Nvbm5lY3Rpb25JZDp7fSxlbmRwb2ludDp7c2hhcGU6IlNlIn0sc3RhdGU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwidGltZXN0YW1wIl0sbWVtYmVyczp7dHlwZTp7fSx0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sdHlwZTp7fSxpbml0aWFsOnt0eXBlOiJib29sZWFuIn0sc29mdHBob25lTWVkaWFJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NhbGxUeXBlOnt9LGF1dG9BY2NlcHQ6e3R5cGU6ImJvb2xlYW4ifSxtZWRpYUxlZ0NvbnRleHRUb2tlbjp7fSxjYWxsQ29udGV4dFRva2VuOnt9LGNhbGxDb25maWdKc29uOnt9fX0sY2hhdE1lZGlhSW5mbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjaGF0QXV0b0FjY2VwdDp7dHlwZToiYm9vbGVhbiJ9LGNvbm5lY3Rpb25EYXRhOnt9LGN1c3RvbWVyTmFtZTp7fX19LG1vbml0b3JpbmdJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50TmFtZTp7fX19LGpvaW5UaW1lU3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sbXV0ZTp7dHlwZToiYm9vbGVhbiJ9LGZvcmNlZE11dGU6e3R5cGU6ImJvb2xlYW4ifSxxdWlja0Nvbm5lY3ROYW1lOnt9LG1vbml0b3JDYXBhYmlsaXRpZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbW9uaXRvclN0YXR1czp7fSxjYXBhYmlsaXRpZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VmlkZW86e319fX19fSxhdHRyaWJ1dGVzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm5hbWUiXSxtZW1iZXJzOntuYW1lOnt9LHZhbHVlOnt9fX19LGNvbnRhY3REdXJhdGlvbjp7fSxuYW1lOnt9LGRlc2NyaXB0aW9uOnt9LHJlZmVyZW5jZXM6e3NoYXBlOiJTdCJ9LGluaXRpYXRpb25NZXRob2Q6e30sY29udGFjdEZlYXR1cmVzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F0dGFjaG1lbnRzRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LG1lc3NhZ2luZ01hcmtkb3duRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LG11bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ0VuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzY3JlZW5SZWNvcmRpbmdTdGF0ZTp7fSxzY3JlZW5SZWNvcmRpbmdDb25maWc6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7c2NyZWVuUmVjb3JkaW5nRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ1N0YXRlOnt9fX19fSxjaGFubmVsQ29udGV4dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzY2hlZHVsZWRUaW1lOnt0eXBlOiJsb25nIn0sdGFza1RlbXBsYXRlSWQ6e30sdGFza1RlbXBsYXRlVmVyc2lvbjp7dHlwZToiaW50ZWdlciJ9fX0sc2VnbWVudEF0dHJpYnV0ZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1ZhbHVlU3RyaW5nOnt9fX19LGN1c3RvbWVyRW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LGNvbm5lY3RTeXN0ZW1FbmRwb2ludDp7c2hhcGU6IlNlIn0sbGFuZ3VhZ2VDb2RlOnt9LGVtYWlsUmVjaXBpZW50czp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0b0xpc3Q6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlMzaSJ9fSxjY0xpc3Q6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlMzaSJ9fSxmcm9tUmVjaXBpZW50OntzaGFwZToiUzNpIn19fX19fSxzbmFwc2hvdFRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxuZXh0VG9rZW46e319fX0sR2V0QWdlbnRTdGF0ZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInN0YXRlcyJdLG1lbWJlcnM6e3N0YXRlczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiUzJlIn19LG5leHRUb2tlbjp7fX19fSxHZXREaWFsYWJsZUNvdW50cnlDb2Rlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY291bnRyeUNvZGVzIl0sbWVtYmVyczp7Y291bnRyeUNvZGVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LG5leHRUb2tlbjp7fX19fSxHZXRFbmRwb2ludHM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJxdWV1ZUFSTnMiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scXVldWVBUk5zOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7ZW5kcG9pbnRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTZSJ9fSxuZXh0VG9rZW46e319fX0sR2V0TmV3QXV0aFRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwicmVmcmVzaFRva2VuIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHJlZnJlc2hUb2tlbjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntuZXdBdXRoVG9rZW46e30sZXhwaXJhdGlvbkRhdGVUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifX19fSxHZXRSb3V0aW5nUHJvZmlsZVF1ZXVlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInJvdXRpbmdQcm9maWxlQVJOIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHJvdXRpbmdQcm9maWxlQVJOOnt9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJxdWV1ZXMiXSxtZW1iZXJzOntxdWV1ZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlNsIn19LG5leHRUb2tlbjp7fX19fSxIb2xkQ29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxNdXRlUGFydGljaXBhbnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sTm90aWZ5Q29udGFjdElzc3VlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxpc3N1ZUNvZGU6e30sZGVzY3JpcHRpb246e30sY2xpZW50TG9nczp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUGF1c2VDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUHV0QWdlbnRTdGF0ZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInN0YXRlIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHN0YXRlOntzaGFwZToiUzJlIn0sZW5xdWV1ZU5leHRTdGF0ZTp7dHlwZToiYm9vbGVhbiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZWplY3RDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUmVzdW1lQ29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZXN1bWVDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZENsaWVudExvZ3M6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJsb2dFdmVudHMiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbG9nRXZlbnRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7dGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxjb21wb25lbnQ6e30sbWVzc2FnZTp7fX19fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZERpZ2l0czp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCIsImRpZ2l0cyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9LGRpZ2l0czp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZFNvZnRwaG9uZUNhbGxNZXRyaWNzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwic29mdHBob25lU3RyZWFtU3RhdGlzdGljcyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY2NwVmVyc2lvbjp7fSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOntzaGFwZToiUzRwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFNlbmRTb2Z0cGhvbmVDYWxsUmVwb3J0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwicmVwb3J0Il0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjY3BWZXJzaW9uOnt9LHJlcG9ydDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjYWxsU3RhcnRUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifSxjYWxsRW5kVGltZTp7dHlwZToidGltZXN0YW1wIn0sc29mdHBob25lU3RyZWFtU3RhdGlzdGljczp7c2hhcGU6IlM0cCJ9LGd1bVRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxpbml0aWFsaXphdGlvblRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxpY2VDb2xsZWN0aW9uVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGhhbmRzaGFrZVRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxwcmVUYWxrVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHRhbGtUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sY2xlYW51cFRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxpY2VDb2xsZWN0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGhhbmRzaGFrZUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxndW1PdGhlckZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxndW1UaW1lb3V0RmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGNyZWF0ZU9mZmVyRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sdXNlckJ1c3lGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0saW52YWxpZFJlbW90ZVNEUEZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxub1JlbW90ZUljZUNhbmRpZGF0ZUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxzZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifX19fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxUb2dnbGVBY3RpdmVDb25uZWN0aW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVbm11dGVQYXJ0aWNpcGFudDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVBZ2VudENvbmZpZ3VyYXRpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb25maWd1cmF0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbmZpZ3VyYXRpb246e3NoYXBlOiJTMXYifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIiwidGFyZ2V0TW9uaXRvck1vZGUiXSxtZW1iZXJzOntjb250YWN0SWQ6e30sdGFyZ2V0TW9uaXRvck1vZGU6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19fSxzaGFwZXM6e1MyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50QVJOOnt9LGF1dGhUb2tlbjp7fX19LFNlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSJdLG1lbWJlcnM6e2VuZHBvaW50QVJOOnt9LHR5cGU6e30sbmFtZTp7fSxkaXNwbGF5TmFtZTp7fSxwaG9uZU51bWJlcjp7fSxhZ2VudExvZ2luOnt9LHF1ZXVlOntzaGFwZToiU2wifSxlbWFpbEFkZHJlc3M6e319fSxTbDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntxdWV1ZUFSTjp7fSxuYW1lOnt9fX0sU3Q6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSJdLG1lbWJlcnM6e3ZhbHVlOnt9LHR5cGU6e30sYXJuOnt9LHN0YXR1czp7fSxzdGF0dXNSZWFzb246e319fX0sUzF2Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsibmFtZSIsInNvZnRwaG9uZUVuYWJsZWQiLCJzb2Z0cGhvbmVBdXRvQWNjZXB0IiwiZXh0ZW5zaW9uIiwicm91dGluZ1Byb2ZpbGUiXSxtZW1iZXJzOntuYW1lOnt9LHVzZXJuYW1lOnt9LHNvZnRwaG9uZUVuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzb2Z0cGhvbmVBdXRvQWNjZXB0Ont0eXBlOiJib29sZWFuIn0sZXh0ZW5zaW9uOnt9LHJvdXRpbmdQcm9maWxlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e25hbWU6e30scm91dGluZ1Byb2ZpbGVBUk46e30sZGVmYXVsdE91dGJvdW5kUXVldWU6e3NoYXBlOiJTbCJ9LGNoYW5uZWxDb25jdXJyZW5jeU1hcDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6ImxvbmcifX19fSxhZ2VudFByZWZlcmVuY2VzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sYWdlbnRBUk46e319fSxTMmU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwibmFtZSJdLG1lbWJlcnM6e2FnZW50U3RhdGVBUk46e30sdHlwZTp7fSxuYW1lOnt9LHN0YXJ0VGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LFMzaTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthZGRyZXNzOnt9LGRpc3BsYXlOYW1lOnt9fX0sUzRwOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7dGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxzb2Z0cGhvbmVTdHJlYW1UeXBlOnt9LHBhY2tldENvdW50Ont0eXBlOiJsb25nIn0scGFja2V0c0xvc3Q6e3R5cGU6ImxvbmcifSxhdWRpb0xldmVsOnt0eXBlOiJkb3VibGUifSxqaXR0ZXJCdWZmZXJNaWxsaXM6e3R5cGU6ImxvbmcifSxyb3VuZFRyaXBUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn19fX19fX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2FjbTp7bmFtZToiQUNNIixjb3JzOiEwfSxhcGlnYXRld2F5OntuYW1lOiJBUElHYXRld2F5Iixjb3JzOiEwfSxhcHBsaWNhdGlvbmF1dG9zY2FsaW5nOntwcmVmaXg6ImFwcGxpY2F0aW9uLWF1dG9zY2FsaW5nIixuYW1lOiJBcHBsaWNhdGlvbkF1dG9TY2FsaW5nIixjb3JzOiEwfSxhcHBzdHJlYW06e25hbWU6IkFwcFN0cmVhbSJ9LGF1dG9zY2FsaW5nOntuYW1lOiJBdXRvU2NhbGluZyIsY29yczohMH0sYmF0Y2g6e25hbWU6IkJhdGNoIn0sYnVkZ2V0czp7bmFtZToiQnVkZ2V0cyJ9LGNsb3VkZGlyZWN0b3J5OntuYW1lOiJDbG91ZERpcmVjdG9yeSIsdmVyc2lvbnM6WyIyMDE2LTA1LTEwKiJdfSxjbG91ZGZvcm1hdGlvbjp7bmFtZToiQ2xvdWRGb3JtYXRpb24iLGNvcnM6ITB9LGNsb3VkZnJvbnQ6e25hbWU6IkNsb3VkRnJvbnQiLHZlcnNpb25zOlsiMjAxMy0wNS0xMioiLCIyMDEzLTExLTExKiIsIjIwMTQtMDUtMzEqIiwiMjAxNC0xMC0yMSoiLCIyMDE0LTExLTA2KiIsIjIwMTUtMDQtMTcqIiwiMjAxNS0wNy0yNyoiLCIyMDE1LTA5LTE3KiIsIjIwMTYtMDEtMTMqIiwiMjAxNi0wMS0yOCoiLCIyMDE2LTA4LTAxKiIsIjIwMTYtMDgtMjAqIiwiMjAxNi0wOS0wNyoiLCIyMDE2LTA5LTI5KiIsIjIwMTYtMTEtMjUqIiwiMjAxNy0wMy0yNSoiLCIyMDE3LTEwLTMwKiIsIjIwMTgtMDYtMTgqIiwiMjAxOC0xMS0wNSoiLCIyMDE5LTAzLTI2KiJdLGNvcnM6ITB9LGNsb3VkaHNtOntuYW1lOiJDbG91ZEhTTSIsY29yczohMH0sY2xvdWRzZWFyY2g6e25hbWU6IkNsb3VkU2VhcmNoIn0sY2xvdWRzZWFyY2hkb21haW46e25hbWU6IkNsb3VkU2VhcmNoRG9tYWluIn0sY2xvdWR0cmFpbDp7bmFtZToiQ2xvdWRUcmFpbCIsY29yczohMH0sY2xvdWR3YXRjaDp7cHJlZml4OiJtb25pdG9yaW5nIixuYW1lOiJDbG91ZFdhdGNoIixjb3JzOiEwfSxjbG91ZHdhdGNoZXZlbnRzOntwcmVmaXg6ImV2ZW50cyIsbmFtZToiQ2xvdWRXYXRjaEV2ZW50cyIsdmVyc2lvbnM6WyIyMDE0LTAyLTAzKiJdLGNvcnM6ITB9LGNsb3Vkd2F0Y2hsb2dzOntwcmVmaXg6ImxvZ3MiLG5hbWU6IkNsb3VkV2F0Y2hMb2dzIixjb3JzOiEwfSxjb2RlYnVpbGQ6e25hbWU6IkNvZGVCdWlsZCIsY29yczohMH0sY29kZWNvbW1pdDp7bmFtZToiQ29kZUNvbW1pdCIsY29yczohMH0sY29kZWRlcGxveTp7bmFtZToiQ29kZURlcGxveSIsY29yczohMH0sY29kZXBpcGVsaW5lOntuYW1lOiJDb2RlUGlwZWxpbmUiLGNvcnM6ITB9LGNvZ25pdG9pZGVudGl0eTp7cHJlZml4OiJjb2duaXRvLWlkZW50aXR5IixuYW1lOiJDb2duaXRvSWRlbnRpdHkiLGNvcnM6ITB9LGNvZ25pdG9pZGVudGl0eXNlcnZpY2Vwcm92aWRlcjp7cHJlZml4OiJjb2duaXRvLWlkcCIsbmFtZToiQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyIixjb3JzOiEwfSxjb2duaXRvc3luYzp7cHJlZml4OiJjb2duaXRvLXN5bmMiLG5hbWU6IkNvZ25pdG9TeW5jIixjb3JzOiEwfSxjb25maWdzZXJ2aWNlOntwcmVmaXg6ImNvbmZpZyIsbmFtZToiQ29uZmlnU2VydmljZSIsY29yczohMH0sY3VyOntuYW1lOiJDVVIiLGNvcnM6ITB9LGRhdGFwaXBlbGluZTp7bmFtZToiRGF0YVBpcGVsaW5lIn0sZGV2aWNlZmFybTp7bmFtZToiRGV2aWNlRmFybSIsY29yczohMH0sZGlyZWN0Y29ubmVjdDp7bmFtZToiRGlyZWN0Q29ubmVjdCIsY29yczohMH0sZGlyZWN0b3J5c2VydmljZTp7cHJlZml4OiJkcyIsbmFtZToiRGlyZWN0b3J5U2VydmljZSJ9LGRpc2NvdmVyeTp7bmFtZToiRGlzY292ZXJ5In0sZG1zOntuYW1lOiJETVMifSxkeW5hbW9kYjp7bmFtZToiRHluYW1vREIiLGNvcnM6ITB9LGR5bmFtb2Ric3RyZWFtczp7cHJlZml4OiJzdHJlYW1zLmR5bmFtb2RiIixuYW1lOiJEeW5hbW9EQlN0cmVhbXMiLGNvcnM6ITB9LGVjMjp7bmFtZToiRUMyIix2ZXJzaW9uczpbIjIwMTMtMDYtMTUqIiwiMjAxMy0xMC0xNSoiLCIyMDE0LTAyLTAxKiIsIjIwMTQtMDUtMDEqIiwiMjAxNC0wNi0xNSoiLCIyMDE0LTA5LTAxKiIsIjIwMTQtMTAtMDEqIiwiMjAxNS0wMy0wMSoiLCIyMDE1LTA0LTE1KiIsIjIwMTUtMTAtMDEqIiwiMjAxNi0wNC0wMSoiLCIyMDE2LTA5LTE1KiJdLGNvcnM6ITB9LGVjcjp7bmFtZToiRUNSIixjb3JzOiEwfSxlY3M6e25hbWU6IkVDUyIsY29yczohMH0sZWZzOntwcmVmaXg6ImVsYXN0aWNmaWxlc3lzdGVtIixuYW1lOiJFRlMiLGNvcnM6ITB9LGVsYXN0aWNhY2hlOntuYW1lOiJFbGFzdGlDYWNoZSIsdmVyc2lvbnM6WyIyMDEyLTExLTE1KiIsIjIwMTQtMDMtMjQqIiwiMjAxNC0wNy0xNSoiLCIyMDE0LTA5LTMwKiJdLGNvcnM6ITB9LGVsYXN0aWNiZWFuc3RhbGs6e25hbWU6IkVsYXN0aWNCZWFuc3RhbGsiLGNvcnM6ITB9LGVsYjp7cHJlZml4OiJlbGFzdGljbG9hZGJhbGFuY2luZyIsbmFtZToiRUxCIixjb3JzOiEwfSxlbGJ2Mjp7cHJlZml4OiJlbGFzdGljbG9hZGJhbGFuY2luZ3YyIixuYW1lOiJFTEJ2MiIsY29yczohMH0sZW1yOntwcmVmaXg6ImVsYXN0aWNtYXByZWR1Y2UiLG5hbWU6IkVNUiIsY29yczohMH0sZXM6e25hbWU6IkVTIn0sZWxhc3RpY3RyYW5zY29kZXI6e25hbWU6IkVsYXN0aWNUcmFuc2NvZGVyIixjb3JzOiEwfSxmaXJlaG9zZTp7bmFtZToiRmlyZWhvc2UiLGNvcnM6ITB9LGdhbWVsaWZ0OntuYW1lOiJHYW1lTGlmdCIsY29yczohMH0sZ2xhY2llcjp7bmFtZToiR2xhY2llciJ9LGhlYWx0aDp7bmFtZToiSGVhbHRoIn0saWFtOntuYW1lOiJJQU0iLGNvcnM6ITB9LGltcG9ydGV4cG9ydDp7bmFtZToiSW1wb3J0RXhwb3J0In0saW5zcGVjdG9yOntuYW1lOiJJbnNwZWN0b3IiLHZlcnNpb25zOlsiMjAxNS0wOC0xOCoiXSxjb3JzOiEwfSxpb3Q6e25hbWU6IklvdCIsY29yczohMH0saW90ZGF0YTp7cHJlZml4OiJpb3QtZGF0YSIsbmFtZToiSW90RGF0YSIsY29yczohMH0sa2luZXNpczp7bmFtZToiS2luZXNpcyIsY29yczohMH0sa2luZXNpc2FuYWx5dGljczp7bmFtZToiS2luZXNpc0FuYWx5dGljcyJ9LGttczp7bmFtZToiS01TIixjb3JzOiEwfSxsYW1iZGE6e25hbWU6IkxhbWJkYSIsY29yczohMH0sbGV4cnVudGltZTp7cHJlZml4OiJydW50aW1lLmxleCIsbmFtZToiTGV4UnVudGltZSIsY29yczohMH0sbGlnaHRzYWlsOntuYW1lOiJMaWdodHNhaWwifSxtYWNoaW5lbGVhcm5pbmc6e25hbWU6Ik1hY2hpbmVMZWFybmluZyIsY29yczohMH0sbWFya2V0cGxhY2Vjb21tZXJjZWFuYWx5dGljczp7bmFtZToiTWFya2V0cGxhY2VDb21tZXJjZUFuYWx5dGljcyIsY29yczohMH0sbWFya2V0cGxhY2VtZXRlcmluZzp7cHJlZml4OiJtZXRlcmluZ21hcmtldHBsYWNlIixuYW1lOiJNYXJrZXRwbGFjZU1ldGVyaW5nIn0sbXR1cms6e3ByZWZpeDoibXR1cmstcmVxdWVzdGVyIixuYW1lOiJNVHVyayIsY29yczohMH0sbW9iaWxlYW5hbHl0aWNzOntuYW1lOiJNb2JpbGVBbmFseXRpY3MiLGNvcnM6ITB9LG9wc3dvcmtzOntuYW1lOiJPcHNXb3JrcyIsY29yczohMH0sb3Bzd29ya3NjbTp7bmFtZToiT3BzV29ya3NDTSJ9LG9yZ2FuaXphdGlvbnM6e25hbWU6Ik9yZ2FuaXphdGlvbnMifSxwaW5wb2ludDp7bmFtZToiUGlucG9pbnQifSxwb2xseTp7bmFtZToiUG9sbHkiLGNvcnM6ITB9LHJkczp7bmFtZToiUkRTIix2ZXJzaW9uczpbIjIwMTQtMDktMDEqIl0sY29yczohMH0scmVkc2hpZnQ6e25hbWU6IlJlZHNoaWZ0Iixjb3JzOiEwfSxyZWtvZ25pdGlvbjp7bmFtZToiUmVrb2duaXRpb24iLGNvcnM6ITB9LHJlc291cmNlZ3JvdXBzdGFnZ2luZ2FwaTp7bmFtZToiUmVzb3VyY2VHcm91cHNUYWdnaW5nQVBJIn0scm91dGU1Mzp7bmFtZToiUm91dGU1MyIsY29yczohMH0scm91dGU1M2RvbWFpbnM6e25hbWU6IlJvdXRlNTNEb21haW5zIixjb3JzOiEwfSxzMzp7bmFtZToiUzMiLGR1YWxzdGFja0F2YWlsYWJsZTohMCxjb3JzOiEwfSxzM2NvbnRyb2w6e25hbWU6IlMzQ29udHJvbCIsZHVhbHN0YWNrQXZhaWxhYmxlOiEwLHhtbE5vRGVmYXVsdExpc3RzOiEwfSxzZXJ2aWNlY2F0YWxvZzp7bmFtZToiU2VydmljZUNhdGFsb2ciLGNvcnM6ITB9LHNlczp7cHJlZml4OiJlbWFpbCIsbmFtZToiU0VTIixjb3JzOiEwfSxzaGllbGQ6e25hbWU6IlNoaWVsZCJ9LHNpbXBsZWRiOntwcmVmaXg6InNkYiIsbmFtZToiU2ltcGxlREIifSxzbXM6e25hbWU6IlNNUyJ9LHNub3diYWxsOntuYW1lOiJTbm93YmFsbCJ9LHNuczp7bmFtZToiU05TIixjb3JzOiEwfSxzcXM6e25hbWU6IlNRUyIsY29yczohMH0sc3NtOntuYW1lOiJTU00iLGNvcnM6ITB9LHN0b3JhZ2VnYXRld2F5OntuYW1lOiJTdG9yYWdlR2F0ZXdheSIsY29yczohMH0sc3RlcGZ1bmN0aW9uczp7cHJlZml4OiJzdGF0ZXMiLG5hbWU6IlN0ZXBGdW5jdGlvbnMifSxzdHM6e25hbWU6IlNUUyIsY29yczohMH0sc3VwcG9ydDp7bmFtZToiU3VwcG9ydCJ9LHN3Zjp7bmFtZToiU1dGIn0seHJheTp7bmFtZToiWFJheSIsY29yczohMH0sd2FmOntuYW1lOiJXQUYiLGNvcnM6ITB9LHdhZnJlZ2lvbmFsOntwcmVmaXg6IndhZi1yZWdpb25hbCIsbmFtZToiV0FGUmVnaW9uYWwifSx3b3JrZG9jczp7bmFtZToiV29ya0RvY3MiLGNvcnM6ITB9LHdvcmtzcGFjZXM6e25hbWU6IldvcmtTcGFjZXMifSxjb2Rlc3Rhcjp7bmFtZToiQ29kZVN0YXIifSxsZXhtb2RlbGJ1aWxkaW5nc2VydmljZTp7cHJlZml4OiJsZXgtbW9kZWxzIixuYW1lOiJMZXhNb2RlbEJ1aWxkaW5nU2VydmljZSIsY29yczohMH0sbWFya2V0cGxhY2VlbnRpdGxlbWVudHNlcnZpY2U6e3ByZWZpeDoiZW50aXRsZW1lbnQubWFya2V0cGxhY2UiLG5hbWU6Ik1hcmtldHBsYWNlRW50aXRsZW1lbnRTZXJ2aWNlIn0sYXRoZW5hOntuYW1lOiJBdGhlbmEiLGNvcnM6ITB9LGdyZWVuZ3Jhc3M6e25hbWU6IkdyZWVuZ3Jhc3MifSxkYXg6e25hbWU6IkRBWCJ9LG1pZ3JhdGlvbmh1Yjp7cHJlZml4OiJBV1NNaWdyYXRpb25IdWIiLG5hbWU6Ik1pZ3JhdGlvbkh1YiJ9LGNsb3VkaHNtdjI6e25hbWU6IkNsb3VkSFNNVjIiLGNvcnM6ITB9LGdsdWU6e25hbWU6IkdsdWUifSxtb2JpbGU6e25hbWU6Ik1vYmlsZSJ9LHByaWNpbmc6e25hbWU6IlByaWNpbmciLGNvcnM6ITB9LGNvc3RleHBsb3Jlcjp7cHJlZml4OiJjZSIsbmFtZToiQ29zdEV4cGxvcmVyIixjb3JzOiEwfSxtZWRpYWNvbnZlcnQ6e25hbWU6Ik1lZGlhQ29udmVydCJ9LG1lZGlhbGl2ZTp7bmFtZToiTWVkaWFMaXZlIn0sbWVkaWFwYWNrYWdlOntuYW1lOiJNZWRpYVBhY2thZ2UifSxtZWRpYXN0b3JlOntuYW1lOiJNZWRpYVN0b3JlIn0sbWVkaWFzdG9yZWRhdGE6e3ByZWZpeDoibWVkaWFzdG9yZS1kYXRhIixuYW1lOiJNZWRpYVN0b3JlRGF0YSIsY29yczohMH0sYXBwc3luYzp7bmFtZToiQXBwU3luYyJ9LGd1YXJkZHV0eTp7bmFtZToiR3VhcmREdXR5In0sbXE6e25hbWU6Ik1RIn0sY29tcHJlaGVuZDp7bmFtZToiQ29tcHJlaGVuZCIsY29yczohMH0saW90am9ic2RhdGFwbGFuZTp7cHJlZml4OiJpb3Qtam9icy1kYXRhIixuYW1lOiJJb1RKb2JzRGF0YVBsYW5lIn0sa2luZXNpc3ZpZGVvYXJjaGl2ZWRtZWRpYTp7cHJlZml4OiJraW5lc2lzLXZpZGVvLWFyY2hpdmVkLW1lZGlhIixuYW1lOiJLaW5lc2lzVmlkZW9BcmNoaXZlZE1lZGlhIixjb3JzOiEwfSxraW5lc2lzdmlkZW9tZWRpYTp7cHJlZml4OiJraW5lc2lzLXZpZGVvLW1lZGlhIixuYW1lOiJLaW5lc2lzVmlkZW9NZWRpYSIsY29yczohMH0sa2luZXNpc3ZpZGVvOntuYW1lOiJLaW5lc2lzVmlkZW8iLGNvcnM6ITB9LHNhZ2VtYWtlcnJ1bnRpbWU6e3ByZWZpeDoicnVudGltZS5zYWdlbWFrZXIiLG5hbWU6IlNhZ2VNYWtlclJ1bnRpbWUifSxzYWdlbWFrZXI6e25hbWU6IlNhZ2VNYWtlciJ9LHRyYW5zbGF0ZTp7bmFtZToiVHJhbnNsYXRlIixjb3JzOiEwfSxyZXNvdXJjZWdyb3Vwczp7cHJlZml4OiJyZXNvdXJjZS1ncm91cHMiLG5hbWU6IlJlc291cmNlR3JvdXBzIixjb3JzOiEwfSxhbGV4YWZvcmJ1c2luZXNzOntuYW1lOiJBbGV4YUZvckJ1c2luZXNzIn0sY2xvdWQ5OntuYW1lOiJDbG91ZDkifSxzZXJ2ZXJsZXNzYXBwbGljYXRpb25yZXBvc2l0b3J5OntwcmVmaXg6InNlcnZlcmxlc3NyZXBvIixuYW1lOiJTZXJ2ZXJsZXNzQXBwbGljYXRpb25SZXBvc2l0b3J5In0sc2VydmljZWRpc2NvdmVyeTp7bmFtZToiU2VydmljZURpc2NvdmVyeSJ9LHdvcmttYWlsOntuYW1lOiJXb3JrTWFpbCJ9LGF1dG9zY2FsaW5ncGxhbnM6e3ByZWZpeDoiYXV0b3NjYWxpbmctcGxhbnMiLG5hbWU6IkF1dG9TY2FsaW5nUGxhbnMifSx0cmFuc2NyaWJlc2VydmljZTp7cHJlZml4OiJ0cmFuc2NyaWJlIixuYW1lOiJUcmFuc2NyaWJlU2VydmljZSJ9LGNvbm5lY3Q6e25hbWU6IkNvbm5lY3QiLGNvcnM6ITB9LGFjbXBjYTp7cHJlZml4OiJhY20tcGNhIixuYW1lOiJBQ01QQ0EifSxmbXM6e25hbWU6IkZNUyJ9LHNlY3JldHNtYW5hZ2VyOntuYW1lOiJTZWNyZXRzTWFuYWdlciIsY29yczohMH0saW90YW5hbHl0aWNzOntuYW1lOiJJb1RBbmFseXRpY3MiLGNvcnM6ITB9LGlvdDFjbGlja2RldmljZXNzZXJ2aWNlOntwcmVmaXg6ImlvdDFjbGljay1kZXZpY2VzIixuYW1lOiJJb1QxQ2xpY2tEZXZpY2VzU2VydmljZSJ9LGlvdDFjbGlja3Byb2plY3RzOntwcmVmaXg6ImlvdDFjbGljay1wcm9qZWN0cyIsbmFtZToiSW9UMUNsaWNrUHJvamVjdHMifSxwaTp7bmFtZToiUEkifSxuZXB0dW5lOntuYW1lOiJOZXB0dW5lIn0sbWVkaWF0YWlsb3I6e25hbWU6Ik1lZGlhVGFpbG9yIn0sZWtzOntuYW1lOiJFS1MifSxkbG06e25hbWU6IkRMTSJ9LHNpZ25lcjp7bmFtZToiU2lnbmVyIn0sY2hpbWU6e25hbWU6IkNoaW1lIn0scGlucG9pbnRlbWFpbDp7cHJlZml4OiJwaW5wb2ludC1lbWFpbCIsbmFtZToiUGlucG9pbnRFbWFpbCJ9LHJhbTp7bmFtZToiUkFNIn0scm91dGU1M3Jlc29sdmVyOntuYW1lOiJSb3V0ZTUzUmVzb2x2ZXIifSxwaW5wb2ludHNtc3ZvaWNlOntwcmVmaXg6InNtcy12b2ljZSIsbmFtZToiUGlucG9pbnRTTVNWb2ljZSJ9LHF1aWNrc2lnaHQ6e25hbWU6IlF1aWNrU2lnaHQifSxyZHNkYXRhc2VydmljZTp7cHJlZml4OiJyZHMtZGF0YSIsbmFtZToiUkRTRGF0YVNlcnZpY2UifSxhbXBsaWZ5OntuYW1lOiJBbXBsaWZ5In0sZGF0YXN5bmM6e25hbWU6IkRhdGFTeW5jIn0scm9ib21ha2VyOntuYW1lOiJSb2JvTWFrZXIifSx0cmFuc2Zlcjp7bmFtZToiVHJhbnNmZXIifSxnbG9iYWxhY2NlbGVyYXRvcjp7bmFtZToiR2xvYmFsQWNjZWxlcmF0b3IifSxjb21wcmVoZW5kbWVkaWNhbDp7bmFtZToiQ29tcHJlaGVuZE1lZGljYWwiLGNvcnM6ITB9LGtpbmVzaXNhbmFseXRpY3N2Mjp7bmFtZToiS2luZXNpc0FuYWx5dGljc1YyIn0sbWVkaWFjb25uZWN0OntuYW1lOiJNZWRpYUNvbm5lY3QifSxmc3g6e25hbWU6IkZTeCJ9LHNlY3VyaXR5aHViOntuYW1lOiJTZWN1cml0eUh1YiJ9LGFwcG1lc2g6e25hbWU6IkFwcE1lc2giLHZlcnNpb25zOlsiMjAxOC0xMC0wMSoiXX0sbGljZW5zZW1hbmFnZXI6e3ByZWZpeDoibGljZW5zZS1tYW5hZ2VyIixuYW1lOiJMaWNlbnNlTWFuYWdlciJ9LGthZmthOntuYW1lOiJLYWZrYSJ9LGFwaWdhdGV3YXltYW5hZ2VtZW50YXBpOntuYW1lOiJBcGlHYXRld2F5TWFuYWdlbWVudEFwaSJ9LGFwaWdhdGV3YXl2Mjp7bmFtZToiQXBpR2F0ZXdheVYyIn0sZG9jZGI6e25hbWU6IkRvY0RCIn0sYmFja3VwOntuYW1lOiJCYWNrdXAifSx3b3JrbGluazp7bmFtZToiV29ya0xpbmsifSx0ZXh0cmFjdDp7bmFtZToiVGV4dHJhY3QifSxtYW5hZ2VkYmxvY2tjaGFpbjp7bmFtZToiTWFuYWdlZEJsb2NrY2hhaW4ifSxtZWRpYXBhY2thZ2V2b2Q6e3ByZWZpeDoibWVkaWFwYWNrYWdlLXZvZCIsbmFtZToiTWVkaWFQYWNrYWdlVm9kIn0sZ3JvdW5kc3RhdGlvbjp7bmFtZToiR3JvdW5kU3RhdGlvbiJ9LGlvdHRoaW5nc2dyYXBoOntuYW1lOiJJb1RUaGluZ3NHcmFwaCJ9LGlvdGV2ZW50czp7bmFtZToiSW9URXZlbnRzIn0saW90ZXZlbnRzZGF0YTp7cHJlZml4OiJpb3RldmVudHMtZGF0YSIsbmFtZToiSW9URXZlbnRzRGF0YSJ9LHBlcnNvbmFsaXplOntuYW1lOiJQZXJzb25hbGl6ZSIsY29yczohMH0scGVyc29uYWxpemVldmVudHM6e3ByZWZpeDoicGVyc29uYWxpemUtZXZlbnRzIixuYW1lOiJQZXJzb25hbGl6ZUV2ZW50cyIsY29yczohMH0scGVyc29uYWxpemVydW50aW1lOntwcmVmaXg6InBlcnNvbmFsaXplLXJ1bnRpbWUiLG5hbWU6IlBlcnNvbmFsaXplUnVudGltZSIsY29yczohMH0sYXBwbGljYXRpb25pbnNpZ2h0czp7cHJlZml4OiJhcHBsaWNhdGlvbi1pbnNpZ2h0cyIsbmFtZToiQXBwbGljYXRpb25JbnNpZ2h0cyJ9LHNlcnZpY2VxdW90YXM6e3ByZWZpeDoic2VydmljZS1xdW90YXMiLG5hbWU6IlNlcnZpY2VRdW90YXMifSxlYzJpbnN0YW5jZWNvbm5lY3Q6e3ByZWZpeDoiZWMyLWluc3RhbmNlLWNvbm5lY3QiLG5hbWU6IkVDMkluc3RhbmNlQ29ubmVjdCJ9LGV2ZW50YnJpZGdlOntuYW1lOiJFdmVudEJyaWRnZSJ9LGxha2Vmb3JtYXRpb246e25hbWU6Ikxha2VGb3JtYXRpb24ifSxmb3JlY2FzdHNlcnZpY2U6e3ByZWZpeDoiZm9yZWNhc3QiLG5hbWU6IkZvcmVjYXN0U2VydmljZSIsY29yczohMH0sZm9yZWNhc3RxdWVyeXNlcnZpY2U6e3ByZWZpeDoiZm9yZWNhc3RxdWVyeSIsbmFtZToiRm9yZWNhc3RRdWVyeVNlcnZpY2UiLGNvcnM6ITB9LHFsZGI6e25hbWU6IlFMREIifSxxbGRic2Vzc2lvbjp7cHJlZml4OiJxbGRiLXNlc3Npb24iLG5hbWU6IlFMREJTZXNzaW9uIn0sd29ya21haWxtZXNzYWdlZmxvdzp7bmFtZToiV29ya01haWxNZXNzYWdlRmxvdyJ9LGNvZGVzdGFybm90aWZpY2F0aW9uczp7cHJlZml4OiJjb2Rlc3Rhci1ub3RpZmljYXRpb25zIixuYW1lOiJDb2RlU3Rhck5vdGlmaWNhdGlvbnMifSxzYXZpbmdzcGxhbnM6e25hbWU6IlNhdmluZ3NQbGFucyJ9LHNzbzp7bmFtZToiU1NPIn0sc3Nvb2lkYzp7cHJlZml4OiJzc28tb2lkYyIsbmFtZToiU1NPT0lEQyJ9LG1hcmtldHBsYWNlY2F0YWxvZzp7cHJlZml4OiJtYXJrZXRwbGFjZS1jYXRhbG9nIixuYW1lOiJNYXJrZXRwbGFjZUNhdGFsb2ciLGNvcnM6ITB9LGRhdGFleGNoYW5nZTp7bmFtZToiRGF0YUV4Y2hhbmdlIn0sc2VzdjI6e25hbWU6IlNFU1YyIn0sbWlncmF0aW9uaHViY29uZmlnOntwcmVmaXg6Im1pZ3JhdGlvbmh1Yi1jb25maWciLG5hbWU6Ik1pZ3JhdGlvbkh1YkNvbmZpZyJ9LGNvbm5lY3RwYXJ0aWNpcGFudDp7bmFtZToiQ29ubmVjdFBhcnRpY2lwYW50In0sYXBwY29uZmlnOntuYW1lOiJBcHBDb25maWcifSxpb3RzZWN1cmV0dW5uZWxpbmc6e25hbWU6IklvVFNlY3VyZVR1bm5lbGluZyJ9LHdhZnYyOntuYW1lOiJXQUZWMiJ9LGVsYXN0aWNpbmZlcmVuY2U6e3ByZWZpeDoiZWxhc3RpYy1pbmZlcmVuY2UiLG5hbWU6IkVsYXN0aWNJbmZlcmVuY2UifSxpbWFnZWJ1aWxkZXI6e25hbWU6IkltYWdlYnVpbGRlciJ9LHNjaGVtYXM6e25hbWU6IlNjaGVtYXMifSxhY2Nlc3NhbmFseXplcjp7bmFtZToiQWNjZXNzQW5hbHl6ZXIifSxjb2RlZ3VydXJldmlld2VyOntwcmVmaXg6ImNvZGVndXJ1LXJldmlld2VyIixuYW1lOiJDb2RlR3VydVJldmlld2VyIn0sY29kZWd1cnVwcm9maWxlcjp7bmFtZToiQ29kZUd1cnVQcm9maWxlciJ9LGNvbXB1dGVvcHRpbWl6ZXI6e3ByZWZpeDoiY29tcHV0ZS1vcHRpbWl6ZXIiLG5hbWU6IkNvbXB1dGVPcHRpbWl6ZXIifSxmcmF1ZGRldGVjdG9yOntuYW1lOiJGcmF1ZERldGVjdG9yIn0sa2VuZHJhOntuYW1lOiJLZW5kcmEifSxuZXR3b3JrbWFuYWdlcjp7bmFtZToiTmV0d29ya01hbmFnZXIifSxvdXRwb3N0czp7bmFtZToiT3V0cG9zdHMifSxhdWdtZW50ZWRhaXJ1bnRpbWU6e3ByZWZpeDoic2FnZW1ha2VyLWEyaS1ydW50aW1lIixuYW1lOiJBdWdtZW50ZWRBSVJ1bnRpbWUifSxlYnM6e25hbWU6IkVCUyJ9LGtpbmVzaXN2aWRlb3NpZ25hbGluZ2NoYW5uZWxzOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8tc2lnbmFsaW5nIixuYW1lOiJLaW5lc2lzVmlkZW9TaWduYWxpbmdDaGFubmVscyIsY29yczohMH0sZGV0ZWN0aXZlOntuYW1lOiJEZXRlY3RpdmUifSxjb2Rlc3RhcmNvbm5lY3Rpb25zOntwcmVmaXg6ImNvZGVzdGFyLWNvbm5lY3Rpb25zIixuYW1lOiJDb2RlU3RhcmNvbm5lY3Rpb25zIn0sc3ludGhldGljczp7bmFtZToiU3ludGhldGljcyJ9LGlvdHNpdGV3aXNlOntuYW1lOiJJb1RTaXRlV2lzZSJ9LG1hY2llMjp7bmFtZToiTWFjaWUyIn0sY29kZWFydGlmYWN0OntuYW1lOiJDb2RlQXJ0aWZhY3QifSxob25leWNvZGU6e25hbWU6IkhvbmV5Y29kZSJ9LGl2czp7bmFtZToiSVZTIn0sYnJha2V0OntuYW1lOiJCcmFrZXQifSxpZGVudGl0eXN0b3JlOntuYW1lOiJJZGVudGl0eVN0b3JlIn0sYXBwZmxvdzp7bmFtZToiQXBwZmxvdyJ9LHJlZHNoaWZ0ZGF0YTp7cHJlZml4OiJyZWRzaGlmdC1kYXRhIixuYW1lOiJSZWRzaGlmdERhdGEifSxzc29hZG1pbjp7cHJlZml4OiJzc28tYWRtaW4iLG5hbWU6IlNTT0FkbWluIn0sdGltZXN0cmVhbXF1ZXJ5OntwcmVmaXg6InRpbWVzdHJlYW0tcXVlcnkiLG5hbWU6IlRpbWVzdHJlYW1RdWVyeSJ9LHRpbWVzdHJlYW13cml0ZTp7cHJlZml4OiJ0aW1lc3RyZWFtLXdyaXRlIixuYW1lOiJUaW1lc3RyZWFtV3JpdGUifSxzM291dHBvc3RzOntuYW1lOiJTM091dHBvc3RzIn0sZGF0YWJyZXc6e25hbWU6IkRhdGFCcmV3In0sc2VydmljZWNhdGFsb2dhcHByZWdpc3RyeTp7cHJlZml4OiJzZXJ2aWNlY2F0YWxvZy1hcHByZWdpc3RyeSIsbmFtZToiU2VydmljZUNhdGFsb2dBcHBSZWdpc3RyeSJ9LG5ldHdvcmtmaXJld2FsbDp7cHJlZml4OiJuZXR3b3JrLWZpcmV3YWxsIixuYW1lOiJOZXR3b3JrRmlyZXdhbGwifSxtd2FhOntuYW1lOiJNV0FBIn0sYW1wbGlmeWJhY2tlbmQ6e25hbWU6IkFtcGxpZnlCYWNrZW5kIn0sYXBwaW50ZWdyYXRpb25zOntuYW1lOiJBcHBJbnRlZ3JhdGlvbnMifSxjb25uZWN0Y29udGFjdGxlbnM6e3ByZWZpeDoiY29ubmVjdC1jb250YWN0LWxlbnMiLG5hbWU6IkNvbm5lY3RDb250YWN0TGVucyJ9LGRldm9wc2d1cnU6e3ByZWZpeDoiZGV2b3BzLWd1cnUiLG5hbWU6IkRldk9wc0d1cnUifSxlY3JwdWJsaWM6e3ByZWZpeDoiZWNyLXB1YmxpYyIsbmFtZToiRUNSUFVCTElDIn0sbG9va291dHZpc2lvbjp7bmFtZToiTG9va291dFZpc2lvbiJ9LHNhZ2VtYWtlcmZlYXR1cmVzdG9yZXJ1bnRpbWU6e3ByZWZpeDoic2FnZW1ha2VyLWZlYXR1cmVzdG9yZS1ydW50aW1lIixuYW1lOiJTYWdlTWFrZXJGZWF0dXJlU3RvcmVSdW50aW1lIn0sY3VzdG9tZXJwcm9maWxlczp7cHJlZml4OiJjdXN0b21lci1wcm9maWxlcyIsbmFtZToiQ3VzdG9tZXJQcm9maWxlcyJ9LGF1ZGl0bWFuYWdlcjp7bmFtZToiQXVkaXRNYW5hZ2VyIn0sZW1yY29udGFpbmVyczp7cHJlZml4OiJlbXItY29udGFpbmVycyIsbmFtZToiRU1SY29udGFpbmVycyJ9LGhlYWx0aGxha2U6e25hbWU6IkhlYWx0aExha2UifSxzYWdlbWFrZXJlZGdlOntwcmVmaXg6InNhZ2VtYWtlci1lZGdlIixuYW1lOiJTYWdlbWFrZXJFZGdlIn0sYW1wOntuYW1lOiJBbXAiLGNvcnM6ITB9LGdyZWVuZ3Jhc3N2Mjp7bmFtZToiR3JlZW5ncmFzc1YyIn0saW90ZGV2aWNlYWR2aXNvcjp7bmFtZToiSW90RGV2aWNlQWR2aXNvciJ9LGlvdGZsZWV0aHViOntuYW1lOiJJb1RGbGVldEh1YiJ9LGlvdHdpcmVsZXNzOntuYW1lOiJJb1RXaXJlbGVzcyJ9LGxvY2F0aW9uOntuYW1lOiJMb2NhdGlvbiIsY29yczohMH0sd2VsbGFyY2hpdGVjdGVkOntuYW1lOiJXZWxsQXJjaGl0ZWN0ZWQifSxsZXhtb2RlbHN2Mjp7cHJlZml4OiJtb2RlbHMubGV4LnYyIixuYW1lOiJMZXhNb2RlbHNWMiJ9LGxleHJ1bnRpbWV2Mjp7cHJlZml4OiJydW50aW1lLmxleC52MiIsbmFtZToiTGV4UnVudGltZVYyIixjb3JzOiEwfSxmaXM6e25hbWU6IkZpcyJ9LGxvb2tvdXRtZXRyaWNzOntuYW1lOiJMb29rb3V0TWV0cmljcyJ9LG1nbjp7bmFtZToiTWduIn0sbG9va291dGVxdWlwbWVudDp7bmFtZToiTG9va291dEVxdWlwbWVudCJ9LG5pbWJsZTp7bmFtZToiTmltYmxlIn0sZmluc3BhY2U6e25hbWU6IkZpbnNwYWNlIn0sZmluc3BhY2VkYXRhOntwcmVmaXg6ImZpbnNwYWNlLWRhdGEiLG5hbWU6IkZpbnNwYWNlZGF0YSJ9LHNzbWNvbnRhY3RzOntwcmVmaXg6InNzbS1jb250YWN0cyIsbmFtZToiU1NNQ29udGFjdHMifSxzc21pbmNpZGVudHM6e3ByZWZpeDoic3NtLWluY2lkZW50cyIsbmFtZToiU1NNSW5jaWRlbnRzIn0sYXBwbGljYXRpb25jb3N0cHJvZmlsZXI6e25hbWU6IkFwcGxpY2F0aW9uQ29zdFByb2ZpbGVyIn0sYXBwcnVubmVyOntuYW1lOiJBcHBSdW5uZXIifSxwcm90b246e25hbWU6IlByb3RvbiJ9LHJvdXRlNTNyZWNvdmVyeWNsdXN0ZXI6e3ByZWZpeDoicm91dGU1My1yZWNvdmVyeS1jbHVzdGVyIixuYW1lOiJSb3V0ZTUzUmVjb3ZlcnlDbHVzdGVyIn0scm91dGU1M3JlY292ZXJ5Y29udHJvbGNvbmZpZzp7cHJlZml4OiJyb3V0ZTUzLXJlY292ZXJ5LWNvbnRyb2wtY29uZmlnIixuYW1lOiJSb3V0ZTUzUmVjb3ZlcnlDb250cm9sQ29uZmlnIn0scm91dGU1M3JlY292ZXJ5cmVhZGluZXNzOntwcmVmaXg6InJvdXRlNTMtcmVjb3ZlcnktcmVhZGluZXNzIixuYW1lOiJSb3V0ZTUzUmVjb3ZlcnlSZWFkaW5lc3MifSxjaGltZXNka2lkZW50aXR5OntwcmVmaXg6ImNoaW1lLXNkay1pZGVudGl0eSIsbmFtZToiQ2hpbWVTREtJZGVudGl0eSJ9LGNoaW1lc2RrbWVzc2FnaW5nOntwcmVmaXg6ImNoaW1lLXNkay1tZXNzYWdpbmciLG5hbWU6IkNoaW1lU0RLTWVzc2FnaW5nIn0sc25vd2RldmljZW1hbmFnZW1lbnQ6e3ByZWZpeDoic25vdy1kZXZpY2UtbWFuYWdlbWVudCIsbmFtZToiU25vd0RldmljZU1hbmFnZW1lbnQifSxtZW1vcnlkYjp7bmFtZToiTWVtb3J5REIifSxvcGVuc2VhcmNoOntuYW1lOiJPcGVuU2VhcmNoIn0sa2Fma2Fjb25uZWN0OntuYW1lOiJLYWZrYUNvbm5lY3QifSx2b2ljZWlkOntwcmVmaXg6InZvaWNlLWlkIixuYW1lOiJWb2ljZUlEIn0sd2lzZG9tOntuYW1lOiJXaXNkb20ifSxhY2NvdW50OntuYW1lOiJBY2NvdW50In0sY2xvdWRjb250cm9sOntuYW1lOiJDbG91ZENvbnRyb2wifSxncmFmYW5hOntuYW1lOiJHcmFmYW5hIn0scGFub3JhbWE6e25hbWU6IlBhbm9yYW1hIn0sY2hpbWVzZGttZWV0aW5nczp7cHJlZml4OiJjaGltZS1zZGstbWVldGluZ3MiLG5hbWU6IkNoaW1lU0RLTWVldGluZ3MifSxyZXNpbGllbmNlaHViOntuYW1lOiJSZXNpbGllbmNlaHViIn0sbWlncmF0aW9uaHVic3RyYXRlZ3k6e25hbWU6Ik1pZ3JhdGlvbkh1YlN0cmF0ZWd5In0sYXBwY29uZmlnZGF0YTp7bmFtZToiQXBwQ29uZmlnRGF0YSJ9LGRyczp7bmFtZToiRHJzIn0sbWlncmF0aW9uaHVicmVmYWN0b3JzcGFjZXM6e3ByZWZpeDoibWlncmF0aW9uLWh1Yi1yZWZhY3Rvci1zcGFjZXMiLG5hbWU6Ik1pZ3JhdGlvbkh1YlJlZmFjdG9yU3BhY2VzIn0sZXZpZGVudGx5OntuYW1lOiJFdmlkZW50bHkifSxpbnNwZWN0b3IyOntuYW1lOiJJbnNwZWN0b3IyIn0scmJpbjp7bmFtZToiUmJpbiJ9LHJ1bTp7bmFtZToiUlVNIn0sYmFja3VwZ2F0ZXdheTp7cHJlZml4OiJiYWNrdXAtZ2F0ZXdheSIsbmFtZToiQmFja3VwR2F0ZXdheSJ9LGlvdHR3aW5tYWtlcjp7bmFtZToiSW9UVHdpbk1ha2VyIn0sd29ya3NwYWNlc3dlYjp7cHJlZml4OiJ3b3Jrc3BhY2VzLXdlYiIsbmFtZToiV29ya1NwYWNlc1dlYiJ9LGFtcGxpZnl1aWJ1aWxkZXI6e25hbWU6IkFtcGxpZnlVSUJ1aWxkZXIifSxrZXlzcGFjZXM6e25hbWU6IktleXNwYWNlcyJ9LGJpbGxpbmdjb25kdWN0b3I6e25hbWU6IkJpbGxpbmdjb25kdWN0b3IifSxwaW5wb2ludHNtc3ZvaWNldjI6e3ByZWZpeDoicGlucG9pbnQtc21zLXZvaWNlLXYyIixuYW1lOiJQaW5wb2ludFNNU1ZvaWNlVjIifSxpdnNjaGF0OntuYW1lOiJJdnNjaGF0In0sY2hpbWVzZGttZWRpYXBpcGVsaW5lczp7cHJlZml4OiJjaGltZS1zZGstbWVkaWEtcGlwZWxpbmVzIixuYW1lOiJDaGltZVNES01lZGlhUGlwZWxpbmVzIn0sZW1yc2VydmVybGVzczp7cHJlZml4OiJlbXItc2VydmVybGVzcyIsbmFtZToiRU1SU2VydmVybGVzcyJ9LG0yOntuYW1lOiJNMiJ9LGNvbm5lY3RjYW1wYWlnbnM6e25hbWU6IkNvbm5lY3RDYW1wYWlnbnMifSxyZWRzaGlmdHNlcnZlcmxlc3M6e3ByZWZpeDoicmVkc2hpZnQtc2VydmVybGVzcyIsbmFtZToiUmVkc2hpZnRTZXJ2ZXJsZXNzIn0scm9sZXNhbnl3aGVyZTp7bmFtZToiUm9sZXNBbnl3aGVyZSJ9LGxpY2Vuc2VtYW5hZ2VydXNlcnN1YnNjcmlwdGlvbnM6e3ByZWZpeDoibGljZW5zZS1tYW5hZ2VyLXVzZXItc3Vic2NyaXB0aW9ucyIsbmFtZToiTGljZW5zZU1hbmFnZXJVc2VyU3Vic2NyaXB0aW9ucyJ9LGJhY2t1cHN0b3JhZ2U6e25hbWU6IkJhY2t1cFN0b3JhZ2UifSxwcml2YXRlbmV0d29ya3M6e25hbWU6IlByaXZhdGVOZXR3b3JrcyJ9LHN1cHBvcnRhcHA6e3ByZWZpeDoic3VwcG9ydC1hcHAiLG5hbWU6IlN1cHBvcnRBcHAifSxjb250cm9sdG93ZXI6e25hbWU6IkNvbnRyb2xUb3dlciJ9LGlvdGZsZWV0d2lzZTp7bmFtZToiSW9URmxlZXRXaXNlIn0sbWlncmF0aW9uaHVib3JjaGVzdHJhdG9yOntuYW1lOiJNaWdyYXRpb25IdWJPcmNoZXN0cmF0b3IifSxjb25uZWN0Y2FzZXM6e25hbWU6IkNvbm5lY3RDYXNlcyJ9LHJlc291cmNlZXhwbG9yZXIyOntwcmVmaXg6InJlc291cmNlLWV4cGxvcmVyLTIiLG5hbWU6IlJlc291cmNlRXhwbG9yZXIyIn0sc2NoZWR1bGVyOntuYW1lOiJTY2hlZHVsZXIifSxjaGltZXNka3ZvaWNlOntwcmVmaXg6ImNoaW1lLXNkay12b2ljZSIsbmFtZToiQ2hpbWVTREtWb2ljZSJ9LHNzbXNhcDp7cHJlZml4OiJzc20tc2FwIixuYW1lOiJTc21TYXAifSxvYW06e25hbWU6Ik9BTSJ9LGFyY3pvbmFsc2hpZnQ6e3ByZWZpeDoiYXJjLXpvbmFsLXNoaWZ0IixuYW1lOiJBUkNab25hbFNoaWZ0In0sb21pY3M6e25hbWU6Ik9taWNzIn0sb3BlbnNlYXJjaHNlcnZlcmxlc3M6e25hbWU6Ik9wZW5TZWFyY2hTZXJ2ZXJsZXNzIn0sc2VjdXJpdHlsYWtlOntuYW1lOiJTZWN1cml0eUxha2UifSxzaW1zcGFjZXdlYXZlcjp7bmFtZToiU2ltU3BhY2VXZWF2ZXIifSxkb2NkYmVsYXN0aWM6e3ByZWZpeDoiZG9jZGItZWxhc3RpYyIsbmFtZToiRG9jREJFbGFzdGljIn0sc2FnZW1ha2VyZ2Vvc3BhdGlhbDp7cHJlZml4OiJzYWdlbWFrZXItZ2Vvc3BhdGlhbCIsbmFtZToiU2FnZU1ha2VyR2Vvc3BhdGlhbCJ9LGNvZGVjYXRhbHlzdDp7bmFtZToiQ29kZUNhdGFseXN0In0scGlwZXM6e25hbWU6IlBpcGVzIn0sc2FnZW1ha2VybWV0cmljczp7cHJlZml4OiJzYWdlbWFrZXItbWV0cmljcyIsbmFtZToiU2FnZU1ha2VyTWV0cmljcyJ9LGtpbmVzaXN2aWRlb3dlYnJ0Y3N0b3JhZ2U6e3ByZWZpeDoia2luZXNpcy12aWRlby13ZWJydGMtc3RvcmFnZSIsbmFtZToiS2luZXNpc1ZpZGVvV2ViUlRDU3RvcmFnZSJ9LGxpY2Vuc2VtYW5hZ2VybGludXhzdWJzY3JpcHRpb25zOntwcmVmaXg6ImxpY2Vuc2UtbWFuYWdlci1saW51eC1zdWJzY3JpcHRpb25zIixuYW1lOiJMaWNlbnNlTWFuYWdlckxpbnV4U3Vic2NyaXB0aW9ucyJ9LGtlbmRyYXJhbmtpbmc6e3ByZWZpeDoia2VuZHJhLXJhbmtpbmciLG5hbWU6IktlbmRyYVJhbmtpbmcifSxjbGVhbnJvb21zOntuYW1lOiJDbGVhblJvb21zIn0sY2xvdWR0cmFpbGRhdGE6e3ByZWZpeDoiY2xvdWR0cmFpbC1kYXRhIixuYW1lOiJDbG91ZFRyYWlsRGF0YSJ9LHRuYjp7bmFtZToiVG5iIn0saW50ZXJuZXRtb25pdG9yOntuYW1lOiJJbnRlcm5ldE1vbml0b3IifSxpdnNyZWFsdGltZTp7cHJlZml4OiJpdnMtcmVhbHRpbWUiLG5hbWU6IklWU1JlYWxUaW1lIn0sdnBjbGF0dGljZTp7cHJlZml4OiJ2cGMtbGF0dGljZSIsbmFtZToiVlBDTGF0dGljZSJ9LG9zaXM6e25hbWU6Ik9TSVMifSxtZWRpYXBhY2thZ2V2Mjp7bmFtZToiTWVkaWFQYWNrYWdlVjIifSxwYXltZW50Y3J5cHRvZ3JhcGh5OntwcmVmaXg6InBheW1lbnQtY3J5cHRvZ3JhcGh5IixuYW1lOiJQYXltZW50Q3J5cHRvZ3JhcGh5In0scGF5bWVudGNyeXB0b2dyYXBoeWRhdGE6e3ByZWZpeDoicGF5bWVudC1jcnlwdG9ncmFwaHktZGF0YSIsbmFtZToiUGF5bWVudENyeXB0b2dyYXBoeURhdGEifSxjb2RlZ3VydXNlY3VyaXR5OntwcmVmaXg6ImNvZGVndXJ1LXNlY3VyaXR5IixuYW1lOiJDb2RlR3VydVNlY3VyaXR5In0sdmVyaWZpZWRwZXJtaXNzaW9uczp7bmFtZToiVmVyaWZpZWRQZXJtaXNzaW9ucyJ9LGFwcGZhYnJpYzp7bmFtZToiQXBwRmFicmljIn0sbWVkaWNhbGltYWdpbmc6e3ByZWZpeDoibWVkaWNhbC1pbWFnaW5nIixuYW1lOiJNZWRpY2FsSW1hZ2luZyJ9LGVudGl0eXJlc29sdXRpb246e25hbWU6IkVudGl0eVJlc29sdXRpb24ifSxtYW5hZ2VkYmxvY2tjaGFpbnF1ZXJ5OntwcmVmaXg6Im1hbmFnZWRibG9ja2NoYWluLXF1ZXJ5IixuYW1lOiJNYW5hZ2VkQmxvY2tjaGFpblF1ZXJ5In0sbmVwdHVuZWRhdGE6e25hbWU6Ik5lcHR1bmVkYXRhIn0scGNhY29ubmVjdG9yYWQ6e3ByZWZpeDoicGNhLWNvbm5lY3Rvci1hZCIsbmFtZToiUGNhQ29ubmVjdG9yQWQifSxiZWRyb2NrOntuYW1lOiJCZWRyb2NrIn0sYmVkcm9ja3J1bnRpbWU6e3ByZWZpeDoiYmVkcm9jay1ydW50aW1lIixuYW1lOiJCZWRyb2NrUnVudGltZSJ9LGRhdGF6b25lOntuYW1lOiJEYXRhWm9uZSJ9LGxhdW5jaHdpemFyZDp7cHJlZml4OiJsYXVuY2gtd2l6YXJkIixuYW1lOiJMYXVuY2hXaXphcmQifSx0cnVzdGVkYWR2aXNvcjp7bmFtZToiVHJ1c3RlZEFkdmlzb3IifSxpbnNwZWN0b3JzY2FuOntwcmVmaXg6Imluc3BlY3Rvci1zY2FuIixuYW1lOiJJbnNwZWN0b3JTY2FuIn0sYmNtZGF0YWV4cG9ydHM6e3ByZWZpeDoiYmNtLWRhdGEtZXhwb3J0cyIsbmFtZToiQkNNRGF0YUV4cG9ydHMifSxjb3N0b3B0aW1pemF0aW9uaHViOntwcmVmaXg6ImNvc3Qtb3B0aW1pemF0aW9uLWh1YiIsbmFtZToiQ29zdE9wdGltaXphdGlvbkh1YiJ9LGVrc2F1dGg6e3ByZWZpeDoiZWtzLWF1dGgiLG5hbWU6IkVLU0F1dGgifSxmcmVldGllcjp7bmFtZToiRnJlZVRpZXIifSxyZXBvc3RzcGFjZTp7bmFtZToiUmVwb3N0c3BhY2UifSx3b3Jrc3BhY2VzdGhpbmNsaWVudDp7cHJlZml4OiJ3b3Jrc3BhY2VzLXRoaW4tY2xpZW50IixuYW1lOiJXb3JrU3BhY2VzVGhpbkNsaWVudCJ9LGIyYmk6e25hbWU6IkIyYmkifSxiZWRyb2NrYWdlbnQ6e3ByZWZpeDoiYmVkcm9jay1hZ2VudCIsbmFtZToiQmVkcm9ja0FnZW50In0sYmVkcm9ja2FnZW50cnVudGltZTp7cHJlZml4OiJiZWRyb2NrLWFnZW50LXJ1bnRpbWUiLG5hbWU6IkJlZHJvY2tBZ2VudFJ1bnRpbWUifSxxYnVzaW5lc3M6e25hbWU6IlFCdXNpbmVzcyJ9LHFjb25uZWN0OntuYW1lOiJRQ29ubmVjdCJ9LGNsZWFucm9vbXNtbDp7bmFtZToiQ2xlYW5Sb29tc01MIn0sbWFya2V0cGxhY2VhZ3JlZW1lbnQ6e3ByZWZpeDoibWFya2V0cGxhY2UtYWdyZWVtZW50IixuYW1lOiJNYXJrZXRwbGFjZUFncmVlbWVudCJ9LG1hcmtldHBsYWNlZGVwbG95bWVudDp7cHJlZml4OiJtYXJrZXRwbGFjZS1kZXBsb3ltZW50IixuYW1lOiJNYXJrZXRwbGFjZURlcGxveW1lbnQifSxuZXR3b3JrbW9uaXRvcjp7bmFtZToiTmV0d29ya01vbml0b3IifSxzdXBwbHljaGFpbjp7bmFtZToiU3VwcGx5Q2hhaW4ifSxhcnRpZmFjdDp7bmFtZToiQXJ0aWZhY3QifSxjaGF0Ym90OntuYW1lOiJDaGF0Ym90In0sdGltZXN0cmVhbWluZmx1eGRiOntwcmVmaXg6InRpbWVzdHJlYW0taW5mbHV4ZGIiLG5hbWU6IlRpbWVzdHJlYW1JbmZsdXhEQiJ9LGNvZGVjb25uZWN0aW9uczp7bmFtZToiQ29kZUNvbm5lY3Rpb25zIn19fSx7fV0sNTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17dmVyc2lvbjoiMi4wIixtZXRhZGF0YTp7YXBpVmVyc2lvbjoiMjAxMS0wNi0xNSIsZW5kcG9pbnRQcmVmaXg6InN0cyIsZ2xvYmFsRW5kcG9pbnQ6InN0cy5hbWF6b25hd3MuY29tIixwcm90b2NvbDoicXVlcnkiLHNlcnZpY2VBYmJyZXZpYXRpb246IkFXUyBTVFMiLHNlcnZpY2VGdWxsTmFtZToiQVdTIFNlY3VyaXR5IFRva2VuIFNlcnZpY2UiLHNlcnZpY2VJZDoiU1RTIixzaWduYXR1cmVWZXJzaW9uOiJ2NCIsdWlkOiJzdHMtMjAxMS0wNi0xNSIseG1sTmFtZXNwYWNlOiJodHRwczovL3N0cy5hbWF6b25hd3MuY29tL2RvYy8yMDExLTA2LTE1LyJ9LG9wZXJhdGlvbnM6e0Fzc3VtZVJvbGU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUm9sZUFybiIsIlJvbGVTZXNzaW9uTmFtZSJdLG1lbWJlcnM6e1JvbGVBcm46e30sUm9sZVNlc3Npb25OYW1lOnt9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LFBvbGljeTp7fSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxUYWdzOntzaGFwZToiUzgifSxUcmFuc2l0aXZlVGFnS2V5czp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxFeHRlcm5hbElkOnt9LFNlcmlhbE51bWJlcjp7fSxUb2tlbkNvZGU6e30sU291cmNlSWRlbnRpdHk6e30sUHJvdmlkZWRDb250ZXh0czp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1Byb3ZpZGVyQXJuOnt9LENvbnRleHRBc3NlcnRpb246e319fX19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LEFzc3VtZWRSb2xlVXNlcjp7c2hhcGU6IlNxIn0sUGFja2VkUG9saWN5U2l6ZTp7dHlwZToiaW50ZWdlciJ9LFNvdXJjZUlkZW50aXR5Ont9fX19LEFzc3VtZVJvbGVXaXRoU0FNTDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSb2xlQXJuIiwiUHJpbmNpcGFsQXJuIiwiU0FNTEFzc2VydGlvbiJdLG1lbWJlcnM6e1JvbGVBcm46e30sUHJpbmNpcGFsQXJuOnt9LFNBTUxBc3NlcnRpb246e3R5cGU6InN0cmluZyIsc2Vuc2l0aXZlOiEwfSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxQb2xpY3k6e30sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVXaXRoU0FNTFJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sU3ViamVjdDp7fSxTdWJqZWN0VHlwZTp7fSxJc3N1ZXI6e30sQXVkaWVuY2U6e30sTmFtZVF1YWxpZmllcjp7fSxTb3VyY2VJZGVudGl0eTp7fX19fSxBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJvbGVBcm4iLCJSb2xlU2Vzc2lvbk5hbWUiLCJXZWJJZGVudGl0eVRva2VuIl0sbWVtYmVyczp7Um9sZUFybjp7fSxSb2xlU2Vzc2lvbk5hbWU6e30sV2ViSWRlbnRpdHlUb2tlbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFByb3ZpZGVySWQ6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sUG9saWN5Ont9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxTdWJqZWN0RnJvbVdlYklkZW50aXR5VG9rZW46e30sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sUHJvdmlkZXI6e30sQXVkaWVuY2U6e30sU291cmNlSWRlbnRpdHk6e319fX0sRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiRW5jb2RlZE1lc3NhZ2UiXSxtZW1iZXJzOntFbmNvZGVkTWVzc2FnZTp7fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7RGVjb2RlZE1lc3NhZ2U6e319fX0sR2V0QWNjZXNzS2V5SW5mbzp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJBY2Nlc3NLZXlJZCJdLG1lbWJlcnM6e0FjY2Vzc0tleUlkOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRBY2Nlc3NLZXlJbmZvUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0FjY291bnQ6e319fX0sR2V0Q2FsbGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0Q2FsbGVySWRlbnRpdHlSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VXNlcklkOnt9LEFjY291bnQ6e30sQXJuOnt9fX19LEdldEZlZGVyYXRpb25Ub2tlbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJOYW1lIl0sbWVtYmVyczp7TmFtZTp7fSxQb2xpY3k6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn0sVGFnczp7c2hhcGU6IlM4In19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldEZlZGVyYXRpb25Ub2tlblJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sRmVkZXJhdGVkVXNlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkZlZGVyYXRlZFVzZXJJZCIsIkFybiJdLG1lbWJlcnM6e0ZlZGVyYXRlZFVzZXJJZDp7fSxBcm46e319fSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn19fX0sR2V0U2Vzc2lvblRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxTZXJpYWxOdW1iZXI6e30sVG9rZW5Db2RlOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRTZXNzaW9uVG9rZW5SZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9fX19fSxzaGFwZXM6e1M0Ont0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXJuOnt9fX19LFM4Ont0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJLZXkiLCJWYWx1ZSJdLG1lbWJlcnM6e0tleTp7fSxWYWx1ZTp7fX19fSxTbDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkFjY2Vzc0tleUlkIiwiU2VjcmV0QWNjZXNzS2V5IiwiU2Vzc2lvblRva2VuIiwiRXhwaXJhdGlvbiJdLG1lbWJlcnM6e0FjY2Vzc0tleUlkOnt9LFNlY3JldEFjY2Vzc0tleTp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFNlc3Npb25Ub2tlbjp7fSxFeHBpcmF0aW9uOnt0eXBlOiJ0aW1lc3RhbXAifX19LFNxOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQXNzdW1lZFJvbGVJZCIsIkFybiJdLG1lbWJlcnM6e0Fzc3VtZWRSb2xlSWQ6e30sQXJuOnt9fX19fX0se31dLDY6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3BhZ2luYXRpb246e319fSx7fV0sNzpbZnVuY3Rpb24oZSx0LG4pe2UoIi4uL2xpYi9ub2RlX2xvYWRlciIpO3ZhciByPWUoIi4uL2xpYi9jb3JlIiksbz1yLlNlcnZpY2UsaT1yLmFwaUxvYWRlcjtpLnNlcnZpY2VzLmNvZ25pdG9pZGVudGl0eT17fSxyLkNvZ25pdG9JZGVudGl0eT1vLmRlZmluZVNlcnZpY2UoImNvZ25pdG9pZGVudGl0eSIsWyIyMDE0LTA2LTMwIl0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnNlcnZpY2VzLmNvZ25pdG9pZGVudGl0eSwiMjAxNC0wNi0zMCIse2dldDpmdW5jdGlvbigpe3ZhciB0PWUoIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLm1pbi5qc29uIik7cmV0dXJuIHQucGFnaW5hdG9ycz1lKCIuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5wYWdpbmF0b3JzLmpzb24iKS5wYWdpbmF0aW9uLHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5leHBvcnRzPXIuQ29nbml0b0lkZW50aXR5fSx7Ii4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLm1pbi5qc29uIjoxLCIuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5wYWdpbmF0b3JzLmpzb24iOjIsIi4uL2xpYi9jb3JlIjoxOSwiLi4vbGliL25vZGVfbG9hZGVyIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxuKXtlKCIuLi9saWIvbm9kZV9sb2FkZXIiKTt2YXIgcj1lKCIuLi9saWIvY29yZSIpLG89ci5TZXJ2aWNlLGk9ci5hcGlMb2FkZXI7aS5zZXJ2aWNlcy5zdHM9e30sci5TVFM9by5kZWZpbmVTZXJ2aWNlKCJzdHMiLFsiMjAxMS0wNi0xNSJdKSxlKCIuLi9saWIvc2VydmljZXMvc3RzIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuc2VydmljZXMuc3RzLCIyMDExLTA2LTE1Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5taW4uanNvbiIpO3JldHVybiB0LnBhZ2luYXRvcnM9ZSgiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5wYWdpbmF0b3JzLmpzb24iKS5wYWdpbmF0aW9uLHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5leHBvcnRzPXIuU1RTfSx7Ii4uL2FwaXMvc3RzLTIwMTEtMDYtMTUubWluLmpzb24iOjUsIi4uL2FwaXMvc3RzLTIwMTEtMDYtMTUucGFnaW5hdG9ycy5qc29uIjo2LCIuLi9saWIvY29yZSI6MTksIi4uL2xpYi9ub2RlX2xvYWRlciI6MTYsIi4uL2xpYi9zZXJ2aWNlcy9zdHMiOjYzfV0sOTpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtpZighci5zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTZXJ2aWNlOiBGYWlsZWQgdG8gbG9hZCBhcGkgZm9yICIrZSk7cmV0dXJuIHIuc2VydmljZXNbZV1bdF19ci5zZXJ2aWNlcz17fSx0LmV4cG9ydHM9cn0se31dLDEwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9icm93c2VySG1hYyIpLG89ZSgiLi9icm93c2VyTWQ1IiksaT1lKCIuL2Jyb3dzZXJTaGExIiksYT1lKCIuL2Jyb3dzZXJTaGEyNTYiKTt0LmV4cG9ydHM9e2NyZWF0ZUhhc2g6ZnVuY3Rpb24oZSl7aWYoIm1kNSI9PT0oZT1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuZXcgbztpZigic2hhMjU2Ij09PWUpcmV0dXJuIG5ldyBhO2lmKCJzaGExIj09PWUpcmV0dXJuIG5ldyBpO3Rocm93IG5ldyBFcnJvcigiSGFzaCBhbGdvcml0aG0gIitlKyIgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3NlciBTREsiKX0sY3JlYXRlSG1hYzpmdW5jdGlvbihlLHQpe2lmKCJtZDUiPT09KGU9ZS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gbmV3IHIobyx0KTtpZigic2hhMjU2Ij09PWUpcmV0dXJuIG5ldyByKGEsdCk7aWYoInNoYTEiPT09ZSlyZXR1cm4gbmV3IHIoaSx0KTt0aHJvdyBuZXcgRXJyb3IoIkhNQUMgYWxnb3JpdGhtICIrZSsiIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIgU0RLIil9LGNyZWF0ZVNpZ246ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImNyZWF0ZVNpZ24gaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBicm93c2VyIil9fX0seyIuL2Jyb3dzZXJIbWFjIjoxMiwiLi9icm93c2VyTWQ1IjoxMywiLi9icm93c2VyU2hhMSI6MTQsIi4vYnJvd3NlclNoYTI1NiI6MTV9XSwxMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoImJ1ZmZlci8iKS5CdWZmZXI7InVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdm9pZCAwPT09QXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3PWZ1bmN0aW9uKGUpe3JldHVybiBvLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKT4tMX0pO3ZhciBvPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIiwiW29iamVjdCBEYXRhVmlld10iXTt0LmV4cG9ydHM9e2lzRW1wdHlEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT8wPT09ZS5sZW5ndGg6MD09PWUuYnl0ZUxlbmd0aH0sY29udmVydFRvQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9bmV3IHIoZSwidXRmOCIpKSxBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aC9VaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTpuZXcgVWludDhBcnJheShlKX19fSx7ImJ1ZmZlci8iOjg2fV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKTtmdW5jdGlvbiBvKGUsdCl7dGhpcy5oYXNoPW5ldyBlLHRoaXMub3V0ZXI9bmV3IGU7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmNvbnZlcnRUb0J1ZmZlcih0KTtpZihuLmJ5dGVMZW5ndGg+ZS5CTE9DS19TSVpFKXt2YXIgbz1uZXcgZTtvLnVwZGF0ZShuKSxuPW8uZGlnZXN0KCl9dmFyIGk9bmV3IFVpbnQ4QXJyYXkoZS5CTE9DS19TSVpFKTtyZXR1cm4gaS5zZXQobiksaX0oZSx0KSxvPW5ldyBVaW50OEFycmF5KGUuQkxPQ0tfU0laRSk7by5zZXQobik7Zm9yKHZhciBpPTA7aTxlLkJMT0NLX1NJWkU7aSsrKW5baV1ePTU0LG9baV1ePTkyO2Zvcih0aGlzLmhhc2gudXBkYXRlKG4pLHRoaXMub3V0ZXIudXBkYXRlKG8pLGk9MDtpPG4uYnl0ZUxlbmd0aDtpKyspbltpXT0wfXQuZXhwb3J0cz1vLG8ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZihyLmlzRW1wdHlEYXRhKGUpfHx0aGlzLmVycm9yKXJldHVybiB0aGlzO3RyeXt0aGlzLmhhc2gudXBkYXRlKHIuY29udmVydFRvQnVmZmVyKGUpKX1jYXRjaChlKXt0aGlzLmVycm9yPWV9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vdXRlci5maW5pc2hlZHx8dGhpcy5vdXRlci51cGRhdGUodGhpcy5oYXNoLmRpZ2VzdCgpKSx0aGlzLm91dGVyLmRpZ2VzdChlKX19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMX1dLDEzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9icm93c2VySGFzaFV0aWxzIiksbz1lKCJidWZmZXIvIikuQnVmZmVyLGk9NjQ7ZnVuY3Rpb24gYSgpe3RoaXMuc3RhdGU9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OF0sdGhpcy5idWZmZXI9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcihpKSksdGhpcy5idWZmZXJMZW5ndGg9MCx0aGlzLmJ5dGVzSGFzaGVkPTAsdGhpcy5maW5pc2hlZD0hMX1mdW5jdGlvbiBzKGUsdCxuLHIsbyxpKXtyZXR1cm4oKHQ9KHQrZSY0Mjk0OTY3Mjk1KSsocitpJjQyOTQ5NjcyOTUpJjQyOTQ5NjcyOTUpPDxvfHQ+Pj4zMi1vKStuJjQyOTQ5NjcyOTV9ZnVuY3Rpb24gYyhlLHQsbixyLG8saSxhKXtyZXR1cm4gcyh0Jm58fnQmcixlLHQsbyxpLGEpfWZ1bmN0aW9uIHUoZSx0LG4scixvLGksYSl7cmV0dXJuIHModCZyfG4mfnIsZSx0LG8saSxhKX1mdW5jdGlvbiBsKGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKHRebl5yLGUsdCxvLGksYSl9ZnVuY3Rpb24gcChlLHQsbixyLG8saSxhKXtyZXR1cm4gcyhuXih0fH5yKSxlLHQsbyxpLGEpfXQuZXhwb3J0cz1hLGEuQkxPQ0tfU0laRT1pLGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZihyLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTt2YXIgdD1yLmNvbnZlcnRUb0J1ZmZlcihlKSxuPTAsbz10LmJ5dGVMZW5ndGg7Zm9yKHRoaXMuYnl0ZXNIYXNoZWQrPW87bz4wOyl0aGlzLmJ1ZmZlci5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLHRbbisrXSksby0tLHRoaXMuYnVmZmVyTGVuZ3RoPT09aSYmKHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTApO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZmluaXNoZWQpe3ZhciB0PXRoaXMsbj10LmJ1ZmZlcixyPXQuYnVmZmVyTGVuZ3RoLGE9OCp0LmJ5dGVzSGFzaGVkO2lmKG4uc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywxMjgpLHIlaT49NTYpe2Zvcih2YXIgcz10aGlzLmJ1ZmZlckxlbmd0aDtzPGk7cysrKW4uc2V0VWludDgocywwKTt0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wfWZvcihzPXRoaXMuYnVmZmVyTGVuZ3RoO3M8NTY7cysrKW4uc2V0VWludDgocywwKTtuLnNldFVpbnQzMig1NixhPj4+MCwhMCksbi5zZXRVaW50MzIoNjAsTWF0aC5mbG9vcihhLzQyOTQ5NjcyOTYpLCEwKSx0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmZpbmlzaGVkPSEwfXZhciBjPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMTYpKTtmb3Iocz0wO3M8NDtzKyspYy5zZXRVaW50MzIoNCpzLHRoaXMuc3RhdGVbc10sITApO3ZhciB1PW5ldyBvKGMuYnVmZmVyLGMuYnl0ZU9mZnNldCxjLmJ5dGVMZW5ndGgpO3JldHVybiBlP3UudG9TdHJpbmcoZSk6dX0sYS5wcm90b3R5cGUuaGFzaEJ1ZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnVmZmVyLHQ9dGhpcy5zdGF0ZSxuPXRbMF0scj10WzFdLG89dFsyXSxpPXRbM107bj1jKG4scixvLGksZS5nZXRVaW50MzIoMCwhMCksNywzNjE0MDkwMzYwKSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMig0LCEwKSwxMiwzOTA1NDAyNzEwKSxvPWMobyxpLG4scixlLmdldFVpbnQzMig4LCEwKSwxNyw2MDYxMDU4MTkpLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDEyLCEwKSwyMiwzMjUwNDQxOTY2KSxuPWMobixyLG8saSxlLmdldFVpbnQzMigxNiwhMCksNyw0MTE4NTQ4Mzk5KSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMigyMCwhMCksMTIsMTIwMDA4MDQyNiksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoMjQsITApLDE3LDI4MjE3MzU5NTUpLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDI4LCEwKSwyMiw0MjQ5MjYxMzEzKSxuPWMobixyLG8saSxlLmdldFVpbnQzMigzMiwhMCksNywxNzcwMDM1NDE2KSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMigzNiwhMCksMTIsMjMzNjU1Mjg3OSksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoNDAsITApLDE3LDQyOTQ5MjUyMzMpLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDQ0LCEwKSwyMiwyMzA0NTYzMTM0KSxuPWMobixyLG8saSxlLmdldFVpbnQzMig0OCwhMCksNywxODA0NjAzNjgyKSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMig1MiwhMCksMTIsNDI1NDYyNjE5NSksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoNTYsITApLDE3LDI3OTI5NjUwMDYpLG49dShuLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDYwLCEwKSwyMiwxMjM2NTM1MzI5KSxvLGksZS5nZXRVaW50MzIoNCwhMCksNSw0MTI5MTcwNzg2KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMigyNCwhMCksOSwzMjI1NDY1NjY0KSxvPXUobyxpLG4scixlLmdldFVpbnQzMig0NCwhMCksMTQsNjQzNzE3NzEzKSxyPXUocixvLGksbixlLmdldFVpbnQzMigwLCEwKSwyMCwzOTIxMDY5OTk0KSxuPXUobixyLG8saSxlLmdldFVpbnQzMigyMCwhMCksNSwzNTkzNDA4NjA1KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMig0MCwhMCksOSwzODAxNjA4Myksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoNjAsITApLDE0LDM2MzQ0ODg5NjEpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDE2LCEwKSwyMCwzODg5NDI5NDQ4KSxuPXUobixyLG8saSxlLmdldFVpbnQzMigzNiwhMCksNSw1Njg0NDY0MzgpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDU2LCEwKSw5LDMyNzUxNjM2MDYpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDEyLCEwKSwxNCw0MTA3NjAzMzM1KSxyPXUocixvLGksbixlLmdldFVpbnQzMigzMiwhMCksMjAsMTE2MzUzMTUwMSksbj11KG4scixvLGksZS5nZXRVaW50MzIoNTIsITApLDUsMjg1MDI4NTgyOSksaT11KGksbixyLG8sZS5nZXRVaW50MzIoOCwhMCksOSw0MjQzNTYzNTEyKSxvPXUobyxpLG4scixlLmdldFVpbnQzMigyOCwhMCksMTQsMTczNTMyODQ3Myksbj1sKG4scj11KHIsbyxpLG4sZS5nZXRVaW50MzIoNDgsITApLDIwLDIzNjgzNTk1NjIpLG8saSxlLmdldFVpbnQzMigyMCwhMCksNCw0Mjk0NTg4NzM4KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMigzMiwhMCksMTEsMjI3MjM5MjgzMyksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoNDQsITApLDE2LDE4MzkwMzA1NjIpLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDU2LCEwKSwyMyw0MjU5NjU3NzQwKSxuPWwobixyLG8saSxlLmdldFVpbnQzMig0LCEwKSw0LDI3NjM5NzUyMzYpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDE2LCEwKSwxMSwxMjcyODkzMzUzKSxvPWwobyxpLG4scixlLmdldFVpbnQzMigyOCwhMCksMTYsNDEzOTQ2OTY2NCkscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoNDAsITApLDIzLDMyMDAyMzY2NTYpLG49bChuLHIsbyxpLGUuZ2V0VWludDMyKDUyLCEwKSw0LDY4MTI3OTE3NCksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoMCwhMCksMTEsMzkzNjQzMDA3NCksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoMTIsITApLDE2LDM1NzI0NDUzMTcpLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDI0LCEwKSwyMyw3NjAyOTE4OSksbj1sKG4scixvLGksZS5nZXRVaW50MzIoMzYsITApLDQsMzY1NDYwMjgwOSksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoNDgsITApLDExLDM4NzMxNTE0NjEpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDYwLCEwKSwxNiw1MzA3NDI1MjApLG49cChuLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDgsITApLDIzLDMyOTk2Mjg2NDUpLG8saSxlLmdldFVpbnQzMigwLCEwKSw2LDQwOTYzMzY0NTIpLGk9cChpLG4scixvLGUuZ2V0VWludDMyKDI4LCEwKSwxMCwxMTI2ODkxNDE1KSxvPXAobyxpLG4scixlLmdldFVpbnQzMig1NiwhMCksMTUsMjg3ODYxMjM5MSkscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoMjAsITApLDIxLDQyMzc1MzMyNDEpLG49cChuLHIsbyxpLGUuZ2V0VWludDMyKDQ4LCEwKSw2LDE3MDA0ODU1NzEpLGk9cChpLG4scixvLGUuZ2V0VWludDMyKDEyLCEwKSwxMCwyMzk5OTgwNjkwKSxvPXAobyxpLG4scixlLmdldFVpbnQzMig0MCwhMCksMTUsNDI5MzkxNTc3Mykscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoNCwhMCksMjEsMjI0MDA0NDQ5Nyksbj1wKG4scixvLGksZS5nZXRVaW50MzIoMzIsITApLDYsMTg3MzMxMzM1OSksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoNjAsITApLDEwLDQyNjQzNTU1NTIpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDI0LCEwKSwxNSwyNzM0NzY4OTE2KSxyPXAocixvLGksbixlLmdldFVpbnQzMig1MiwhMCksMjEsMTMwOTE1MTY0OSksbj1wKG4scixvLGksZS5nZXRVaW50MzIoMTYsITApLDYsNDE0OTQ0NDIyNiksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoNDQsITApLDEwLDMxNzQ3NTY5MTcpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDgsITApLDE1LDcxODc4NzI1OSkscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoMzYsITApLDIxLDM5NTE0ODE3NDUpLHRbMF09bit0WzBdJjQyOTQ5NjcyOTUsdFsxXT1yK3RbMV0mNDI5NDk2NzI5NSx0WzJdPW8rdFsyXSY0Mjk0OTY3Mjk1LHRbM109aSt0WzNdJjQyOTQ5NjcyOTV9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJidWZmZXIvIikuQnVmZmVyLG89ZSgiLi9icm93c2VySGFzaFV0aWxzIik7ZnVuY3Rpb24gaSgpe3RoaXMuaDA9MTczMjU4NDE5Myx0aGlzLmgxPTQwMjMyMzM0MTcsdGhpcy5oMj0yNTYyMzgzMTAyLHRoaXMuaDM9MjcxNzMzODc4LHRoaXMuaDQ9MzI4NTM3NzUyMCx0aGlzLmJsb2NrPW5ldyBVaW50MzJBcnJheSg4MCksdGhpcy5vZmZzZXQ9MCx0aGlzLnNoaWZ0PTI0LHRoaXMudG90YWxMZW5ndGg9MH1uZXcgVWludDMyQXJyYXkoWzE1MTg1MDAyNDksMTg1OTc3NTM5MywtMTg5NDAwNzU4OCwtODk5NDk3NTE0XSksTWF0aC5wb3coMiw1MyksdC5leHBvcnRzPWksaS5CTE9DS19TSVpFPTY0LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHVwZGF0ZSBhbiBhbHJlYWR5IGZpbmlzaGVkIGhhc2guIik7aWYoby5pc0VtcHR5RGF0YShlKSlyZXR1cm4gdGhpczt2YXIgdD0oZT1vLmNvbnZlcnRUb0J1ZmZlcihlKSkubGVuZ3RoO3RoaXMudG90YWxMZW5ndGgrPTgqdDtmb3IodmFyIG49MDtuPHQ7bisrKXRoaXMud3JpdGUoZVtuXSk7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuYmxvY2tbdGhpcy5vZmZzZXRdfD0oMjU1JmUpPDx0aGlzLnNoaWZ0LHRoaXMuc2hpZnQ/dGhpcy5zaGlmdC09ODoodGhpcy5vZmZzZXQrKyx0aGlzLnNoaWZ0PTI0KSwxNj09PXRoaXMub2Zmc2V0JiZ0aGlzLnByb2Nlc3NCbG9jaygpfSxpLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7dGhpcy53cml0ZSgxMjgpLCh0aGlzLm9mZnNldD4xNHx8MTQ9PT10aGlzLm9mZnNldCYmdGhpcy5zaGlmdDwyNCkmJnRoaXMucHJvY2Vzc0Jsb2NrKCksdGhpcy5vZmZzZXQ9MTQsdGhpcy5zaGlmdD0yNCx0aGlzLndyaXRlKDApLHRoaXMud3JpdGUoMCksdGhpcy53cml0ZSh0aGlzLnRvdGFsTGVuZ3RoPjB4ZmZmZmZmZmZmZj90aGlzLnRvdGFsTGVuZ3RoLzEwOTk1MTE2Mjc3NzY6MCksdGhpcy53cml0ZSh0aGlzLnRvdGFsTGVuZ3RoPjQyOTQ5NjcyOTU/dGhpcy50b3RhbExlbmd0aC80Mjk0OTY3Mjk2OjApO2Zvcih2YXIgdD0yNDt0Pj0wO3QtPTgpdGhpcy53cml0ZSh0aGlzLnRvdGFsTGVuZ3RoPj50KTt2YXIgbj1uZXcgcigyMCksbz1uZXcgRGF0YVZpZXcobi5idWZmZXIpO3JldHVybiBvLnNldFVpbnQzMigwLHRoaXMuaDAsITEpLG8uc2V0VWludDMyKDQsdGhpcy5oMSwhMSksby5zZXRVaW50MzIoOCx0aGlzLmgyLCExKSxvLnNldFVpbnQzMigxMix0aGlzLmgzLCExKSxvLnNldFVpbnQzMigxNix0aGlzLmg0LCExKSxlP24udG9TdHJpbmcoZSk6bn0saS5wcm90b3R5cGUucHJvY2Vzc0Jsb2NrPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTE2O2U8ODA7ZSsrKXt2YXIgdD10aGlzLmJsb2NrW2UtM11edGhpcy5ibG9ja1tlLThdXnRoaXMuYmxvY2tbZS0xNF1edGhpcy5ibG9ja1tlLTE2XTt0aGlzLmJsb2NrW2VdPXQ8PDF8dD4+PjMxfXZhciBuLHIsbz10aGlzLmgwLGk9dGhpcy5oMSxhPXRoaXMuaDIscz10aGlzLmgzLGM9dGhpcy5oNDtmb3IoZT0wO2U8ODA7ZSsrKXtlPDIwPyhuPXNeaSYoYV5zKSxyPTE1MTg1MDAyNDkpOmU8NDA/KG49aV5hXnMscj0xODU5Nzc1MzkzKTplPDYwPyhuPWkmYXxzJihpfGEpLHI9MjQwMDk1OTcwOCk6KG49aV5hXnMscj0zMzk1NDY5NzgyKTt2YXIgdT0obzw8NXxvPj4+MjcpK24rYytyKygwfHRoaXMuYmxvY2tbZV0pO2M9cyxzPWEsYT1pPDwzMHxpPj4+MixpPW8sbz11fWZvcih0aGlzLmgwPXRoaXMuaDArb3wwLHRoaXMuaDE9dGhpcy5oMStpfDAsdGhpcy5oMj10aGlzLmgyK2F8MCx0aGlzLmgzPXRoaXMuaDMrc3wwLHRoaXMuaDQ9dGhpcy5oNCtjfDAsdGhpcy5vZmZzZXQ9MCxlPTA7ZTwxNjtlKyspdGhpcy5ibG9ja1tlXT0wfX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExLCJidWZmZXIvIjo4Nn1dLDE1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcixvPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpLGk9NjQsYT1uZXcgVWludDMyQXJyYXkoWzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0pLHM9TWF0aC5wb3coMiw1MyktMTtmdW5jdGlvbiBjKCl7dGhpcy5zdGF0ZT1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLHRoaXMudGVtcD1uZXcgSW50MzJBcnJheSg2NCksdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoNjQpLHRoaXMuYnVmZmVyTGVuZ3RoPTAsdGhpcy5ieXRlc0hhc2hlZD0wLHRoaXMuZmluaXNoZWQ9ITF9dC5leHBvcnRzPWMsYy5CTE9DS19TSVpFPWksYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTtpZihvLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO3ZhciB0PTAsbj0oZT1vLmNvbnZlcnRUb0J1ZmZlcihlKSkuYnl0ZUxlbmd0aDtpZih0aGlzLmJ5dGVzSGFzaGVkKz1uLDgqdGhpcy5ieXRlc0hhc2hlZD5zKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGhhc2ggbW9yZSB0aGFuIDJeNTMgLSAxIGJpdHMiKTtmb3IoO24+MDspdGhpcy5idWZmZXJbdGhpcy5idWZmZXJMZW5ndGgrK109ZVt0KytdLG4tLSx0aGlzLmJ1ZmZlckxlbmd0aD09PWkmJih0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmZpbmlzaGVkKXt2YXIgdD04KnRoaXMuYnl0ZXNIYXNoZWQsbj1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIuYnVmZmVyLHRoaXMuYnVmZmVyLmJ5dGVPZmZzZXQsdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCksbz10aGlzLmJ1ZmZlckxlbmd0aDtpZihuLnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssMTI4KSxvJWk+PTU2KXtmb3IodmFyIGE9dGhpcy5idWZmZXJMZW5ndGg7YTxpO2ErKyluLnNldFVpbnQ4KGEsMCk7dGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MH1mb3IoYT10aGlzLmJ1ZmZlckxlbmd0aDthPDU2O2ErKyluLnNldFVpbnQ4KGEsMCk7bi5zZXRVaW50MzIoNTYsTWF0aC5mbG9vcih0LzQyOTQ5NjcyOTYpLCEwKSxuLnNldFVpbnQzMig2MCx0KSx0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmZpbmlzaGVkPSEwfXZhciBzPW5ldyByKDMyKTtmb3IoYT0wO2E8ODthKyspc1s0KmFdPXRoaXMuc3RhdGVbYV0+Pj4yNCYyNTUsc1s0KmErMV09dGhpcy5zdGF0ZVthXT4+PjE2JjI1NSxzWzQqYSsyXT10aGlzLnN0YXRlW2FdPj4+OCYyNTUsc1s0KmErM109dGhpcy5zdGF0ZVthXT4+PjAmMjU1O3JldHVybiBlP3MudG9TdHJpbmcoZSk6c30sYy5wcm90b3R5cGUuaGFzaEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ1ZmZlcix0PXRoaXMuc3RhdGUsbj10WzBdLHI9dFsxXSxvPXRbMl0scz10WzNdLGM9dFs0XSx1PXRbNV0sbD10WzZdLHA9dFs3XSxkPTA7ZDxpO2QrKyl7aWYoZDwxNil0aGlzLnRlbXBbZF09KDI1NSZlWzQqZF0pPDwyNHwoMjU1JmVbNCpkKzFdKTw8MTZ8KDI1NSZlWzQqZCsyXSk8PDh8MjU1JmVbNCpkKzNdO2Vsc2V7dmFyIGg9dGhpcy50ZW1wW2QtMl0sZj0oaD4+PjE3fGg8PDE1KV4oaD4+PjE5fGg8PDEzKV5oPj4+MTAsZz0oKGg9dGhpcy50ZW1wW2QtMTVdKT4+Pjd8aDw8MjUpXihoPj4+MTh8aDw8MTQpXmg+Pj4zO3RoaXMudGVtcFtkXT0oZit0aGlzLnRlbXBbZC03XXwwKSsoZyt0aGlzLnRlbXBbZC0xNl18MCl9dmFyIG09KCgoYz4+PjZ8Yzw8MjYpXihjPj4+MTF8Yzw8MjEpXihjPj4+MjV8Yzw8NykpKyhjJnVefmMmbCl8MCkrKHArKGFbZF0rdGhpcy50ZW1wW2RdfDApfDApfDAsdj0oKG4+Pj4yfG48PDMwKV4obj4+PjEzfG48PDE5KV4obj4+PjIyfG48PDEwKSkrKG4mcl5uJm9eciZvKXwwO3A9bCxsPXUsdT1jLGM9cyttfDAscz1vLG89cixyPW4sbj1tK3Z8MH10WzBdKz1uLHRbMV0rPXIsdFsyXSs9byx0WzNdKz1zLHRbNF0rPWMsdFs1XSs9dSx0WzZdKz1sLHRbN10rPXB9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi91dGlsIik7bi5jcnlwdG8ubGliPWUoIi4vYnJvd3NlckNyeXB0b0xpYiIpLG4uQnVmZmVyPWUoImJ1ZmZlci8iKS5CdWZmZXIsbi51cmw9ZSgidXJsLyIpLG4ucXVlcnlzdHJpbmc9ZSgicXVlcnlzdHJpbmcvIiksbi5yZWFsQ2xvY2s9ZSgiLi9yZWFsY2xvY2svYnJvd3NlckNsb2NrIiksbi5lbnZpcm9ubWVudD0ianMiLG4uY3JlYXRlRXZlbnRTdHJlYW09ZSgiLi9ldmVudC1zdHJlYW0vYnVmZmVyZWQtY3JlYXRlLWV2ZW50LXN0cmVhbSIpLmNyZWF0ZUV2ZW50U3RyZWFtLG4uaXNCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuITB9LG4uaXNOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciByPWUoIi4vY29yZSIpO2lmKHQuZXhwb3J0cz1yLGUoIi4vY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iKSxlKCIuL2NyZWRlbnRpYWxzL3RlbXBvcmFyeV9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY2hhaW5hYmxlX3RlbXBvcmFyeV9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvd2ViX2lkZW50aXR5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jb2duaXRvX2lkZW50aXR5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9zYW1sX2NyZWRlbnRpYWxzIiksci5YTUwuUGFyc2VyPWUoIi4veG1sL2Jyb3dzZXJfcGFyc2VyIiksZSgiLi9odHRwL3hociIpLHZvaWQgMD09PW8pdmFyIG89e2Jyb3dzZXI6ITB9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2Jyb3dzZXJDcnlwdG9MaWIiOjEwLCIuL2NvcmUiOjE5LCIuL2NyZWRlbnRpYWxzIjoyMCwiLi9jcmVkZW50aWFscy9jaGFpbmFibGVfdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIjoyMSwiLi9jcmVkZW50aWFscy9jb2duaXRvX2lkZW50aXR5X2NyZWRlbnRpYWxzIjoyMiwiLi9jcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluIjoyMywiLi9jcmVkZW50aWFscy9zYW1sX2NyZWRlbnRpYWxzIjoyNCwiLi9jcmVkZW50aWFscy90ZW1wb3JhcnlfY3JlZGVudGlhbHMiOjI1LCIuL2NyZWRlbnRpYWxzL3dlYl9pZGVudGl0eV9jcmVkZW50aWFscyI6MjYsIi4vZXZlbnQtc3RyZWFtL2J1ZmZlcmVkLWNyZWF0ZS1ldmVudC1zdHJlYW0iOjI4LCIuL2h0dHAveGhyIjozNiwiLi9yZWFsY2xvY2svYnJvd3NlckNsb2NrIjo1NCwiLi91dGlsIjo3NCwiLi94bWwvYnJvd3Nlcl9wYXJzZXIiOjc1LF9wcm9jZXNzOjkxLCJidWZmZXIvIjo4NiwicXVlcnlzdHJpbmcvIjo5OCwidXJsLyI6MTAwfV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvPWUoIi4vY29yZSIpO2UoIi4vY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iKSxvLkNvbmZpZz1vLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9e30pLGU9dGhpcy5leHRyYWN0Q3JlZGVudGlhbHMoZSksby51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMua2V5cywoZnVuY3Rpb24odCxuKXt0aGlzLnNldCh0LGVbdF0sbil9KSl9LGdldENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztmdW5jdGlvbiByKHQpe2UodCx0P251bGw6bi5jcmVkZW50aWFscyl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBuZXcgby51dGlsLmVycm9yKHR8fG5ldyBFcnJvcix7Y29kZToiQ3JlZGVudGlhbHNFcnJvciIsbWVzc2FnZTplLG5hbWU6IkNyZWRlbnRpYWxzRXJyb3IifSl9bi5jcmVkZW50aWFscz8iZnVuY3Rpb24iPT10eXBlb2Ygbi5jcmVkZW50aWFscy5nZXQ/bi5jcmVkZW50aWFscy5nZXQoKGZ1bmN0aW9uKGUpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gIituLmNyZWRlbnRpYWxzLmNvbnN0cnVjdG9yLm5hbWUsZSkpLHIoZSl9KSk6KHQ9bnVsbCxuLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkJiZuLmNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleXx8KHQ9aSgiTWlzc2luZyBjcmVkZW50aWFscyIpKSxyKHQpKTpuLmNyZWRlbnRpYWxQcm92aWRlcj9uLmNyZWRlbnRpYWxQcm92aWRlci5yZXNvbHZlKChmdW5jdGlvbihlLHQpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gYW55IHByb3ZpZGVycyIsZSkpLG4uY3JlZGVudGlhbHM9dCxyKGUpfSkpOnIoaSgiTm8gY3JlZGVudGlhbHMgdG8gbG9hZCIpKX0sZ2V0VG9rZW46ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzO2Z1bmN0aW9uIHIodCl7ZSh0LHQ/bnVsbDpuLnRva2VuKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG5ldyBvLnV0aWwuZXJyb3IodHx8bmV3IEVycm9yLHtjb2RlOiJUb2tlbkVycm9yIixtZXNzYWdlOmUsbmFtZToiVG9rZW5FcnJvciJ9KX1uLnRva2VuPyJmdW5jdGlvbiI9PXR5cGVvZiBuLnRva2VuLmdldD9uLnRva2VuLmdldCgoZnVuY3Rpb24oZSl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgdG9rZW4gZnJvbSAiK24udG9rZW4uY29uc3RydWN0b3IubmFtZSxlKSkscihlKX0pKToodD1udWxsLG4udG9rZW4udG9rZW58fCh0PWkoIk1pc3NpbmcgdG9rZW4iKSkscih0KSk6bi50b2tlblByb3ZpZGVyP24udG9rZW5Qcm92aWRlci5yZXNvbHZlKChmdW5jdGlvbihlLHQpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIHRva2VuIGZyb20gYW55IHByb3ZpZGVycyIsZSkpLG4udG9rZW49dCxyKGUpfSkpOnIoaSgiTm8gdG9rZW4gdG8gbG9hZCIpKX0sdXBkYXRlOmZ1bmN0aW9uKGUsdCl7dD10fHwhMSxlPXRoaXMuZXh0cmFjdENyZWRlbnRpYWxzKGUpLG8udXRpbC5lYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlLG4peyh0fHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5rZXlzLGUpfHxvLlNlcnZpY2UuaGFzU2VydmljZShlKSkmJnRoaXMuc2V0KGUsbil9KSl9LGxvYWRGcm9tUGF0aDpmdW5jdGlvbihlKXt0aGlzLmNsZWFyKCk7dmFyIHQ9SlNPTi5wYXJzZShvLnV0aWwucmVhZEZpbGVTeW5jKGUpKSxuPW5ldyBvLkZpbGVTeXN0ZW1DcmVkZW50aWFscyhlKSxyPW5ldyBvLkNyZWRlbnRpYWxQcm92aWRlckNoYWluO3JldHVybiByLnByb3ZpZGVycy51bnNoaWZ0KG4pLHIucmVzb2x2ZSgoZnVuY3Rpb24oZSxuKXtpZihlKXRocm93IGU7dC5jcmVkZW50aWFscz1ufSkpLHRoaXMuY29uc3RydWN0b3IodCksdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtvLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5rZXlzLChmdW5jdGlvbihlKXtkZWxldGUgdGhpc1tlXX0pKSx0aGlzLnNldCgiY3JlZGVudGlhbHMiLHZvaWQgMCksdGhpcy5zZXQoImNyZWRlbnRpYWxQcm92aWRlciIsdm9pZCAwKX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT10Pyh2b2lkIDA9PT1uJiYobj10aGlzLmtleXNbZV0pLHRoaXNbZV09ImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5jYWxsKHRoaXMpOm4pOiJodHRwT3B0aW9ucyI9PT1lJiZ0aGlzW2VdP3RoaXNbZV09by51dGlsLm1lcmdlKHRoaXNbZV0sdCk6dGhpc1tlXT10fSxrZXlzOntjcmVkZW50aWFsczpudWxsLGNyZWRlbnRpYWxQcm92aWRlcjpudWxsLHJlZ2lvbjpudWxsLGxvZ2dlcjpudWxsLGFwaVZlcnNpb25zOnt9LGFwaVZlcnNpb246bnVsbCxlbmRwb2ludDp2b2lkIDAsaHR0cE9wdGlvbnM6e3RpbWVvdXQ6MTJlNH0sbWF4UmV0cmllczp2b2lkIDAsbWF4UmVkaXJlY3RzOjEwLHBhcmFtVmFsaWRhdGlvbjohMCxzc2xFbmFibGVkOiEwLHMzRm9yY2VQYXRoU3R5bGU6ITEsczNCdWNrZXRFbmRwb2ludDohMSxzM0Rpc2FibGVCb2R5U2lnbmluZzohMCxzM1VzRWFzdDFSZWdpb25hbEVuZHBvaW50OiJsZWdhY3kiLHMzVXNlQXJuUmVnaW9uOnZvaWQgMCxjb21wdXRlQ2hlY2tzdW1zOiEwLGNvbnZlcnRSZXNwb25zZVR5cGVzOiEwLGNvcnJlY3RDbG9ja1NrZXc6ITEsY3VzdG9tVXNlckFnZW50Om51bGwsZHluYW1vRGJDcmMzMjohMCxzeXN0ZW1DbG9ja09mZnNldDowLHNpZ25hdHVyZVZlcnNpb246bnVsbCxzaWduYXR1cmVDYWNoZTohMCxyZXRyeURlbGF5T3B0aW9uczp7fSx1c2VBY2NlbGVyYXRlRW5kcG9pbnQ6ITEsY2xpZW50U2lkZU1vbml0b3Jpbmc6ITEsZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkOnZvaWQgMCxlbmRwb2ludENhY2hlU2l6ZToxZTMsaG9zdFByZWZpeEVuYWJsZWQ6ITAsc3RzUmVnaW9uYWxFbmRwb2ludHM6ImxlZ2FjeSIsdXNlRmlwc0VuZHBvaW50OiExLHVzZUR1YWxzdGFja0VuZHBvaW50OiExLHRva2VuOm51bGx9LGV4dHJhY3RDcmVkZW50aWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5hY2Nlc3NLZXlJZCYmZS5zZWNyZXRBY2Nlc3NLZXkmJigoZT1vLnV0aWwuY29weShlKSkuY3JlZGVudGlhbHM9bmV3IG8uQ3JlZGVudGlhbHMoZSkpLGV9LHNldFByb21pc2VzRGVwZW5kZW5jeTpmdW5jdGlvbihlKXtyPWUsbnVsbD09PWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlJiYocj1Qcm9taXNlKTt2YXIgdD1bby5SZXF1ZXN0LG8uQ3JlZGVudGlhbHMsby5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbl07by5TMyYmKHQucHVzaChvLlMzKSxvLlMzLk1hbmFnZWRVcGxvYWQmJnQucHVzaChvLlMzLk1hbmFnZWRVcGxvYWQpKSxvLnV0aWwuYWRkUHJvbWlzZXModCxyKX0sZ2V0UHJvbWlzZXNEZXBlbmRlbmN5OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSksby5jb25maWc9bmV3IG8uQ29uZmlnfSx7Ii4vY29yZSI6MTksIi4vY3JlZGVudGlhbHMiOjIwLCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iOjIzfV0sMTg6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIHI9ZSgiLi9jb3JlIik7ZnVuY3Rpb24gbyhlLHQpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoWyJsZWdhY3kiLCJyZWdpb25hbCJdLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKT49MClyZXR1cm4gZS50b0xvd2VyQ2FzZSgpO3Rocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3IsdCl9fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBpO2lmKChlPWV8fHt9KVt0LmNsaWVudENvbmZpZ10mJihpPW8oZVt0LmNsaWVudENvbmZpZ10se2NvZGU6IkludmFsaWRDb25maWd1cmF0aW9uIixtZXNzYWdlOidpbnZhbGlkICInK3QuY2xpZW50Q29uZmlnKyciIGNvbmZpZ3VyYXRpb24uIEV4cGVjdCAibGVnYWN5IiAgb3IgInJlZ2lvbmFsIi4gR290ICInK2VbdC5jbGllbnRDb25maWddKyciLid9KSkpcmV0dXJuIGk7aWYoIXIudXRpbC5pc05vZGUoKSlyZXR1cm4gaTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobi5lbnYsdC5lbnYpJiYoaT1vKG4uZW52W3QuZW52XSx7Y29kZToiSW52YWxpZEVudmlyb25tZW50YWxWYXJpYWJsZSIsbWVzc2FnZToiaW52YWxpZCAiK3QuZW52KycgZW52aXJvbm1lbnRhbCB2YXJpYWJsZS4gRXhwZWN0ICJsZWdhY3kiICBvciAicmVnaW9uYWwiLiBHb3QgIicrbi5lbnZbdC5lbnZdKyciLid9KSkpcmV0dXJuIGk7dmFyIGE9e307dHJ5e2E9ci51dGlsLmdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZyhyLnV0aWwuaW5pTG9hZGVyKVtuLmVudi5BV1NfUFJPRklMRXx8ci51dGlsLmRlZmF1bHRQcm9maWxlXX1jYXRjaChlKXt9cmV0dXJuIGEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHQuc2hhcmVkQ29uZmlnKSYmKGk9byhhW3Quc2hhcmVkQ29uZmlnXSx7Y29kZToiSW52YWxpZENvbmZpZ3VyYXRpb24iLG1lc3NhZ2U6ImludmFsaWQgIit0LnNoYXJlZENvbmZpZysnIHByb2ZpbGUgY29uZmlnLiBFeHBlY3QgImxlZ2FjeSIgIG9yICJyZWdpb25hbCIuIEdvdCAiJythW3Quc2hhcmVkQ29uZmlnXSsnIi4nfSkpLGl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LF9wcm9jZXNzOjkxfV0sMTk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj17dXRpbDplKCIuL3V0aWwiKX07KHt9KS50b1N0cmluZygpLHQuZXhwb3J0cz1yLHIudXRpbC51cGRhdGUocix7VkVSU0lPTjoiMi4xNTg5LjAiLFNpZ25lcnM6e30sUHJvdG9jb2w6e0pzb246ZSgiLi9wcm90b2NvbC9qc29uIiksUXVlcnk6ZSgiLi9wcm90b2NvbC9xdWVyeSIpLFJlc3Q6ZSgiLi9wcm90b2NvbC9yZXN0IiksUmVzdEpzb246ZSgiLi9wcm90b2NvbC9yZXN0X2pzb24iKSxSZXN0WG1sOmUoIi4vcHJvdG9jb2wvcmVzdF94bWwiKX0sWE1MOntCdWlsZGVyOmUoIi4veG1sL2J1aWxkZXIiKSxQYXJzZXI6bnVsbH0sSlNPTjp7QnVpbGRlcjplKCIuL2pzb24vYnVpbGRlciIpLFBhcnNlcjplKCIuL2pzb24vcGFyc2VyIil9LE1vZGVsOntBcGk6ZSgiLi9tb2RlbC9hcGkiKSxPcGVyYXRpb246ZSgiLi9tb2RlbC9vcGVyYXRpb24iKSxTaGFwZTplKCIuL21vZGVsL3NoYXBlIiksUGFnaW5hdG9yOmUoIi4vbW9kZWwvcGFnaW5hdG9yIiksUmVzb3VyY2VXYWl0ZXI6ZSgiLi9tb2RlbC9yZXNvdXJjZV93YWl0ZXIiKX0sYXBpTG9hZGVyOmUoIi4vYXBpX2xvYWRlciIpLEVuZHBvaW50Q2FjaGU6ZSgiLi4vdmVuZG9yL2VuZHBvaW50LWNhY2hlIikuRW5kcG9pbnRDYWNoZX0pLGUoIi4vc2VxdWVudGlhbF9leGVjdXRvciIpLGUoIi4vc2VydmljZSIpLGUoIi4vY29uZmlnIiksZSgiLi9odHRwIiksZSgiLi9ldmVudF9saXN0ZW5lcnMiKSxlKCIuL3JlcXVlc3QiKSxlKCIuL3Jlc3BvbnNlIiksZSgiLi9yZXNvdXJjZV93YWl0ZXIiKSxlKCIuL3NpZ25lcnMvcmVxdWVzdF9zaWduZXIiKSxlKCIuL3BhcmFtX3ZhbGlkYXRvciIpLGUoIi4vbWFpbnRlbmFuY2VfbW9kZV9tZXNzYWdlIiksci5ldmVudHM9bmV3IHIuU2VxdWVudGlhbEV4ZWN1dG9yLHIudXRpbC5tZW1vaXplZFByb3BlcnR5KHIsImVuZHBvaW50Q2FjaGUiLChmdW5jdGlvbigpe3JldHVybiBuZXcgci5FbmRwb2ludENhY2hlKHIuY29uZmlnLmVuZHBvaW50Q2FjaGVTaXplKX0pLCEwKX0seyIuLi92ZW5kb3IvZW5kcG9pbnQtY2FjaGUiOjExMSwiLi9hcGlfbG9hZGVyIjo5LCIuL2NvbmZpZyI6MTcsIi4vZXZlbnRfbGlzdGVuZXJzIjozNCwiLi9odHRwIjozNSwiLi9qc29uL2J1aWxkZXIiOjM3LCIuL2pzb24vcGFyc2VyIjozOCwiLi9tYWludGVuYW5jZV9tb2RlX21lc3NhZ2UiOjM5LCIuL21vZGVsL2FwaSI6NDAsIi4vbW9kZWwvb3BlcmF0aW9uIjo0MiwiLi9tb2RlbC9wYWdpbmF0b3IiOjQzLCIuL21vZGVsL3Jlc291cmNlX3dhaXRlciI6NDQsIi4vbW9kZWwvc2hhcGUiOjQ1LCIuL3BhcmFtX3ZhbGlkYXRvciI6NDYsIi4vcHJvdG9jb2wvanNvbiI6NDgsIi4vcHJvdG9jb2wvcXVlcnkiOjQ5LCIuL3Byb3RvY29sL3Jlc3QiOjUwLCIuL3Byb3RvY29sL3Jlc3RfanNvbiI6NTEsIi4vcHJvdG9jb2wvcmVzdF94bWwiOjUyLCIuL3JlcXVlc3QiOjU4LCIuL3Jlc291cmNlX3dhaXRlciI6NTksIi4vcmVzcG9uc2UiOjYwLCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiOjYxLCIuL3NlcnZpY2UiOjYyLCIuL3NpZ25lcnMvcmVxdWVzdF9zaWduZXIiOjY2LCIuL3V0aWwiOjc0LCIuL3htbC9idWlsZGVyIjo3Nn1dLDIwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIik7ci5DcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXtpZihyLnV0aWwuaGlkZVByb3BlcnRpZXModGhpcyxbInNlY3JldEFjY2Vzc0tleSJdKSx0aGlzLmV4cGlyZWQ9ITEsdGhpcy5leHBpcmVUaW1lPW51bGwsdGhpcy5yZWZyZXNoQ2FsbGJhY2tzPVtdLDE9PT1hcmd1bWVudHMubGVuZ3RoJiYib2JqZWN0Ij09PW8oYXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzWzBdLmNyZWRlbnRpYWxzfHxhcmd1bWVudHNbMF07dGhpcy5hY2Nlc3NLZXlJZD1lLmFjY2Vzc0tleUlkLHRoaXMuc2VjcmV0QWNjZXNzS2V5PWUuc2VjcmV0QWNjZXNzS2V5LHRoaXMuc2Vzc2lvblRva2VuPWUuc2Vzc2lvblRva2VufWVsc2UgdGhpcy5hY2Nlc3NLZXlJZD1hcmd1bWVudHNbMF0sdGhpcy5zZWNyZXRBY2Nlc3NLZXk9YXJndW1lbnRzWzFdLHRoaXMuc2Vzc2lvblRva2VuPWFyZ3VtZW50c1syXX0sZXhwaXJ5V2luZG93OjE1LG5lZWRzUmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlPXIudXRpbC5kYXRlLmdldERhdGUoKS5nZXRUaW1lKCksdD1uZXcgRGF0ZShlKzFlMyp0aGlzLmV4cGlyeVdpbmRvdyk7cmV0dXJuISEodGhpcy5leHBpcmVUaW1lJiZ0PnRoaXMuZXhwaXJlVGltZSl8fHRoaXMuZXhwaXJlZHx8IXRoaXMuYWNjZXNzS2V5SWR8fCF0aGlzLnNlY3JldEFjY2Vzc0tleX0sZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5uZWVkc1JlZnJlc2goKT90aGlzLnJlZnJlc2goKGZ1bmN0aW9uKG4pe258fCh0LmV4cGlyZWQ9ITEpLGUmJmUobil9KSk6ZSYmZSgpfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuZXhwaXJlZD0hMSxlKCl9LGNvYWxlc2NlUmVmcmVzaDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7MT09PW4ucmVmcmVzaENhbGxiYWNrcy5wdXNoKGUpJiZuLmxvYWQoKGZ1bmN0aW9uKGUpe3IudXRpbC5hcnJheUVhY2gobi5yZWZyZXNoQ2FsbGJhY2tzLChmdW5jdGlvbihuKXt0P24oZSk6ci51dGlsLmRlZmVyKChmdW5jdGlvbigpe24oZSl9KSl9KSksbi5yZWZyZXNoQ2FsbGJhY2tzLmxlbmd0aD0wfSkpfSxsb2FkOmZ1bmN0aW9uKGUpe2UoKX19KSxyLkNyZWRlbnRpYWxzLmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5nZXRQcm9taXNlPXIudXRpbC5wcm9taXNpZnlNZXRob2QoImdldCIsZSksdGhpcy5wcm90b3R5cGUucmVmcmVzaFByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgicmVmcmVzaCIsZSl9LHIuQ3JlZGVudGlhbHMuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3M9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm90b3R5cGUuZ2V0UHJvbWlzZSxkZWxldGUgdGhpcy5wcm90b3R5cGUucmVmcmVzaFByb21pc2V9LHIudXRpbC5hZGRQcm9taXNlcyhyLkNyZWRlbnRpYWxzKX0seyIuL2NvcmUiOjE5fV0sMjE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLGU9ZXx8e30sdGhpcy5lcnJvckNvZGU9IkNoYWluYWJsZVRlbXBvcmFyeUNyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlIix0aGlzLmV4cGlyZWQ9ITAsdGhpcy50b2tlbkNvZGVGbj1udWxsO3ZhciB0PXIudXRpbC5jb3B5KGUucGFyYW1zKXx8e307aWYodC5Sb2xlQXJuJiYodC5Sb2xlU2Vzc2lvbk5hbWU9dC5Sb2xlU2Vzc2lvbk5hbWV8fCJ0ZW1wb3JhcnktY3JlZGVudGlhbHMiKSx0LlNlcmlhbE51bWJlcil7aWYoIWUudG9rZW5Db2RlRm58fCJmdW5jdGlvbiIhPXR5cGVvZiBlLnRva2VuQ29kZUZuKXRocm93IG5ldyByLnV0aWwuZXJyb3IobmV3IEVycm9yKCJ0b2tlbkNvZGVGbiBtdXN0IGJlIGEgZnVuY3Rpb24gd2hlbiBwYXJhbXMuU2VyaWFsTnVtYmVyIGlzIGdpdmVuIikse2NvZGU6dGhpcy5lcnJvckNvZGV9KTt0aGlzLnRva2VuQ29kZUZuPWUudG9rZW5Db2RlRm59dmFyIG49ci51dGlsLm1lcmdlKHtwYXJhbXM6dCxjcmVkZW50aWFsczplLm1hc3RlckNyZWRlbnRpYWxzfHxyLmNvbmZpZy5jcmVkZW50aWFsc30sZS5zdHNDb25maWd8fHt9KTt0aGlzLnNlcnZpY2U9bmV3IG8obil9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5zZXJ2aWNlLmNvbmZpZy5wYXJhbXMuUm9sZUFybj8iYXNzdW1lUm9sZSI6ImdldFNlc3Npb25Ub2tlbiI7dGhpcy5nZXRUb2tlbkNvZGUoKGZ1bmN0aW9uKHIsbyl7dmFyIGk9e307cj9lKHIpOihvJiYoaS5Ub2tlbkNvZGU9byksdC5zZXJ2aWNlW25dKGksKGZ1bmN0aW9uKG4scil7bnx8dC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpLGUobil9KSkpfSkpfSxnZXRUb2tlbkNvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRva2VuQ29kZUZuP3RoaXMudG9rZW5Db2RlRm4odGhpcy5zZXJ2aWNlLmNvbmZpZy5wYXJhbXMuU2VyaWFsTnVtYmVyLChmdW5jdGlvbihuLG8pe2lmKG4pe3ZhciBpPW47cmV0dXJuIG4gaW5zdGFuY2VvZiBFcnJvciYmKGk9bi5tZXNzYWdlKSx2b2lkIGUoci51dGlsLmVycm9yKG5ldyBFcnJvcigiRXJyb3IgZmV0Y2hpbmcgTUZBIHRva2VuOiAiK2kpLHtjb2RlOnQuZXJyb3JDb2RlfSkpfWUobnVsbCxvKX0pKTplKG51bGwpfX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDIyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLGk9ZSgiLi4vLi4vY2xpZW50cy9jb2duaXRvaWRlbnRpdHkiKSxhPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5Db2duaXRvSWRlbnRpdHlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtsb2NhbFN0b3JhZ2VLZXk6e2lkOiJhd3MuY29nbml0by5pZGVudGl0eS1pZC4iLHByb3ZpZGVyczoiYXdzLmNvZ25pdG8uaWRlbnRpdHktcHJvdmlkZXJzLiJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lLHRoaXMuZGF0YT1udWxsLHRoaXMuX2lkZW50aXR5SWQ9bnVsbCx0aGlzLl9jbGllbnRDb25maWc9ci51dGlsLmNvcHkodHx8e30pLHRoaXMubG9hZENhY2hlZElkKCk7dmFyIG49dGhpcztPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWRlbnRpdHlJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuLmxvYWRDYWNoZWRJZCgpLG4uX2lkZW50aXR5SWR8fG4ucGFyYW1zLklkZW50aXR5SWR9LHNldDpmdW5jdGlvbihlKXtuLl9pZGVudGl0eUlkPWV9fSl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQuZGF0YT1udWxsLHQuX2lkZW50aXR5SWQ9bnVsbCx0LmdldElkKChmdW5jdGlvbihuKXtuPyh0LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobiksZShuKSk6dC5wYXJhbXMuUm9sZUFybj90LmdldENyZWRlbnRpYWxzRnJvbVNUUyhlKTp0LmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkoZSl9KSl9LGNsZWFyQ2FjaGVkSWQ6ZnVuY3Rpb24oKXt0aGlzLl9pZGVudGl0eUlkPW51bGwsZGVsZXRlIHRoaXMucGFyYW1zLklkZW50aXR5SWQ7dmFyIGU9dGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQsdD10aGlzLnBhcmFtcy5Mb2dpbklkfHwiIjtkZWxldGUgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5LmlkK2UrdF0sZGVsZXRlIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleS5wcm92aWRlcnMrZSt0XX0sY2xlYXJJZE9uTm90QXV0aG9yaXplZDpmdW5jdGlvbihlKXsiTm90QXV0aG9yaXplZEV4Y2VwdGlvbiI9PWUuY29kZSYmdGhpcy5jbGVhckNhY2hlZElkKCl9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiB0LnBhcmFtcy5JZGVudGl0eUlkKXJldHVybiBlKG51bGwsdC5wYXJhbXMuSWRlbnRpdHlJZCk7dC5jb2duaXRvLmdldElkKChmdW5jdGlvbihuLHIpeyFuJiZyLklkZW50aXR5SWQ/KHQucGFyYW1zLklkZW50aXR5SWQ9ci5JZGVudGl0eUlkLGUobnVsbCxyLklkZW50aXR5SWQpKTplKG4pfSkpfSxsb2FkQ3JlZGVudGlhbHM6ZnVuY3Rpb24oZSx0KXtlJiZ0JiYodC5leHBpcmVkPSExLHQuYWNjZXNzS2V5SWQ9ZS5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCx0LnNlY3JldEFjY2Vzc0tleT1lLkNyZWRlbnRpYWxzLlNlY3JldEtleSx0LnNlc3Npb25Ub2tlbj1lLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbix0LmV4cGlyZVRpbWU9ZS5DcmVkZW50aWFscy5FeHBpcmF0aW9uKX0sZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29nbml0by5nZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5KChmdW5jdGlvbihuLHIpe24/dC5jbGVhcklkT25Ob3RBdXRob3JpemVkKG4pOih0LmNhY2hlSWQociksdC5kYXRhPXIsdC5sb2FkQ3JlZGVudGlhbHModC5kYXRhLHQpKSxlKG4pfSkpfSxnZXRDcmVkZW50aWFsc0Zyb21TVFM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvZ25pdG8uZ2V0T3BlbklkVG9rZW4oKGZ1bmN0aW9uKG4scil7bj8odC5jbGVhcklkT25Ob3RBdXRob3JpemVkKG4pLGUobikpOih0LmNhY2hlSWQociksdC5wYXJhbXMuV2ViSWRlbnRpdHlUb2tlbj1yLlRva2VuLHQud2ViSWRlbnRpdHlDcmVkZW50aWFscy5yZWZyZXNoKChmdW5jdGlvbihuKXtufHwodC5kYXRhPXQud2ViSWRlbnRpdHlDcmVkZW50aWFscy5kYXRhLHQuc3RzLmNyZWRlbnRpYWxzRnJvbSh0LmRhdGEsdCkpLGUobil9KSkpfSkpfSxsb2FkQ2FjaGVkSWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHIudXRpbC5pc0Jyb3dzZXIoKSYmIWUucGFyYW1zLklkZW50aXR5SWQpe3ZhciB0PWUuZ2V0U3RvcmFnZSgiaWQiKTtpZih0JiZlLnBhcmFtcy5Mb2dpbnMpe3ZhciBuPU9iamVjdC5rZXlzKGUucGFyYW1zLkxvZ2lucyk7MCE9PShlLmdldFN0b3JhZ2UoInByb3ZpZGVycyIpfHwiIikuc3BsaXQoIiwiKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09bi5pbmRleE9mKGUpfSkpLmxlbmd0aCYmKGUucGFyYW1zLklkZW50aXR5SWQ9dCl9ZWxzZSB0JiYoZS5wYXJhbXMuSWRlbnRpdHlJZD10KX19LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jbGllbnRDb25maWc7aWYodGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzPXRoaXMud2ViSWRlbnRpdHlDcmVkZW50aWFsc3x8bmV3IHIuV2ViSWRlbnRpdHlDcmVkZW50aWFscyh0aGlzLnBhcmFtcyxlKSwhdGhpcy5jb2duaXRvKXt2YXIgdD1yLnV0aWwubWVyZ2Uoe30sZSk7dC5wYXJhbXM9dGhpcy5wYXJhbXMsdGhpcy5jb2duaXRvPW5ldyBpKHQpfXRoaXMuc3RzPXRoaXMuc3RzfHxuZXcgYShlKX0sY2FjaGVJZDpmdW5jdGlvbihlKXt0aGlzLl9pZGVudGl0eUlkPWUuSWRlbnRpdHlJZCx0aGlzLnBhcmFtcy5JZGVudGl0eUlkPXRoaXMuX2lkZW50aXR5SWQsci51dGlsLmlzQnJvd3NlcigpJiYodGhpcy5zZXRTdG9yYWdlKCJpZCIsZS5JZGVudGl0eUlkKSx0aGlzLnBhcmFtcy5Mb2dpbnMmJnRoaXMuc2V0U3RvcmFnZSgicHJvdmlkZXJzIixPYmplY3Qua2V5cyh0aGlzLnBhcmFtcy5Mb2dpbnMpLmpvaW4oIiwiKSkpfSxnZXRTdG9yYWdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXlbZV0rdGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQrKHRoaXMucGFyYW1zLkxvZ2luSWR8fCIiKV19LHNldFN0b3JhZ2U6ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5W2VdK3RoaXMucGFyYW1zLklkZW50aXR5UG9vbElkKyh0aGlzLnBhcmFtcy5Mb2dpbklkfHwiIildPXR9Y2F0Y2goZSl7fX0sc3RvcmFnZTpmdW5jdGlvbigpe3RyeXt2YXIgZT1yLnV0aWwuaXNCcm93c2VyKCkmJm51bGwhPT13aW5kb3cubG9jYWxTdG9yYWdlJiYib2JqZWN0Ij09PW8od2luZG93LmxvY2FsU3RvcmFnZSk/d2luZG93LmxvY2FsU3RvcmFnZTp7fTtyZXR1cm4gZVsiYXdzLnRlc3Qtc3RvcmFnZSJdPSJmb29iYXIiLGRlbGV0ZSBlWyJhd3MudGVzdC1zdG9yYWdlIl0sZX1jYXRjaChlKXtyZXR1cm57fX19KCl9KX0seyIuLi8uLi9jbGllbnRzL2NvZ25pdG9pZGVudGl0eSI6NywiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIik7ci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbj1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt0aGlzLnByb3ZpZGVycz1lfHxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlZmF1bHRQcm92aWRlcnMuc2xpY2UoMCksdGhpcy5yZXNvbHZlQ2FsbGJhY2tzPVtdfSxyZXNvbHZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoMD09PXQucHJvdmlkZXJzLmxlbmd0aClyZXR1cm4gZShuZXcgRXJyb3IoIk5vIHByb3ZpZGVycyIpKSx0O2lmKDE9PT10LnJlc29sdmVDYWxsYmFja3MucHVzaChlKSl7dmFyIG49ZnVuY3Rpb24oZSxhKXtpZighZSYmYXx8bz09PWkubGVuZ3RoKXJldHVybiByLnV0aWwuYXJyYXlFYWNoKHQucmVzb2x2ZUNhbGxiYWNrcywoZnVuY3Rpb24odCl7dChlLGEpfSkpLHZvaWQodC5yZXNvbHZlQ2FsbGJhY2tzLmxlbmd0aD0wKTt2YXIgcz1pW28rK107KGE9ImZ1bmN0aW9uIj09dHlwZW9mIHM/cy5jYWxsKCk6cykuZ2V0P2EuZ2V0KChmdW5jdGlvbihlKXtuKGUsZT9udWxsOmEpfSkpOm4obnVsbCxhKX0sbz0wLGk9dC5wcm92aWRlcnMuc2xpY2UoMCk7bigpfXJldHVybiB0fX0pLHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycz1bXSxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5yZXNvbHZlUHJvbWlzZT1yLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCJyZXNvbHZlIixlKX0sci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZXNvbHZlUHJvbWlzZX0sci51dGlsLmFkZFByb21pc2VzKHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4pfSx7Ii4uL2NvcmUiOjE5fV0sMjQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuU0FNTENyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5zZXJ2aWNlLmFzc3VtZVJvbGVXaXRoU0FNTCgoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3RoaXMuc2VydmljZT10aGlzLnNlcnZpY2V8fG5ldyBvKHtwYXJhbXM6dGhpcy5wYXJhbXN9KX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5UZW1wb3JhcnlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmxvYWRNYXN0ZXJDcmVkZW50aWFscyh0KSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZXx8e30sdGhpcy5wYXJhbXMuUm9sZUFybiYmKHRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZT10aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWV8fCJ0ZW1wb3JhcnktY3JlZGVudGlhbHMiKX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5tYXN0ZXJDcmVkZW50aWFscy5nZXQoKGZ1bmN0aW9uKCl7dC5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscz10Lm1hc3RlckNyZWRlbnRpYWxzLCh0LnBhcmFtcy5Sb2xlQXJuP3Quc2VydmljZS5hc3N1bWVSb2xlOnQuc2VydmljZS5nZXRTZXNzaW9uVG9rZW4pLmNhbGwodC5zZXJ2aWNlLChmdW5jdGlvbihuLHIpe258fHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSxlKG4pfSkpfSkpfSxsb2FkTWFzdGVyQ3JlZGVudGlhbHM6ZnVuY3Rpb24oZSl7Zm9yKHRoaXMubWFzdGVyQ3JlZGVudGlhbHM9ZXx8ci5jb25maWcuY3JlZGVudGlhbHM7dGhpcy5tYXN0ZXJDcmVkZW50aWFscy5tYXN0ZXJDcmVkZW50aWFsczspdGhpcy5tYXN0ZXJDcmVkZW50aWFscz10aGlzLm1hc3RlckNyZWRlbnRpYWxzLm1hc3RlckNyZWRlbnRpYWxzOyJmdW5jdGlvbiIhPXR5cGVvZiB0aGlzLm1hc3RlckNyZWRlbnRpYWxzLmdldCYmKHRoaXMubWFzdGVyQ3JlZGVudGlhbHM9bmV3IHIuQ3JlZGVudGlhbHModGhpcy5tYXN0ZXJDcmVkZW50aWFscykpfSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7dGhpcy5zZXJ2aWNlPXRoaXMuc2VydmljZXx8bmV3IG8oe3BhcmFtczp0aGlzLnBhcmFtc30pfX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDI2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLldlYklkZW50aXR5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWUsdGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lPXRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZXx8IndlYi1pZGVudGl0eSIsdGhpcy5kYXRhPW51bGwsdGhpcy5fY2xpZW50Q29uZmlnPXIudXRpbC5jb3B5KHR8fHt9KX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5zZXJ2aWNlLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkoKGZ1bmN0aW9uKG4scil7dC5kYXRhPW51bGwsbnx8KHQuZGF0YT1yLHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSksZShuKX0pKX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe2lmKCF0aGlzLnNlcnZpY2Upe3ZhciBlPXIudXRpbC5tZXJnZSh7fSx0aGlzLl9jbGllbnRDb25maWcpO2UucGFyYW1zPXRoaXMucGFyYW1zLHRoaXMuc2VydmljZT1uZXcgbyhlKX19fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIHI9ZSgiLi9jb3JlIiksbz1lKCIuL3V0aWwiKSxpPVsiQVdTX0VOQUJMRV9FTkRQT0lOVF9ESVNDT1ZFUlkiLCJBV1NfRU5EUE9JTlRfRElTQ09WRVJZX0VOQUJMRUQiXTtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuc2VydmljZSxuPXQuYXBpfHx7fSxyPShuLm9wZXJhdGlvbnMse30pO3JldHVybiB0LmNvbmZpZy5yZWdpb24mJihyLnJlZ2lvbj10LmNvbmZpZy5yZWdpb24pLG4uc2VydmljZUlkJiYoci5zZXJ2aWNlSWQ9bi5zZXJ2aWNlSWQpLHQuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkJiYoci5hY2Nlc3NLZXlJZD10LmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCkscn1mdW5jdGlvbiBzKGUsdCxuKXtuJiZudWxsIT10JiYic3RydWN0dXJlIj09PW4udHlwZSYmbi5yZXF1aXJlZCYmbi5yZXF1aXJlZC5sZW5ndGg+MCYmby5hcnJheUVhY2gobi5yZXF1aXJlZCwoZnVuY3Rpb24ocil7dmFyIG89bi5tZW1iZXJzW3JdO2lmKCEwPT09by5lbmRwb2ludERpc2NvdmVyeUlkKXt2YXIgaT1vLmlzTG9jYXRpb25OYW1lP28ubmFtZTpyO2VbaV09U3RyaW5nKHRbcl0pfWVsc2UgcyhlLHRbcl0sbyl9KSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O3JldHVybiBzKG4sZS5wYXJhbXMsdCksbn1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuc2VydmljZSxuPXQuYXBpLGk9bi5vcGVyYXRpb25zP24ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl06dm9pZCAwLHM9YyhlLGk/aS5pbnB1dDp2b2lkIDApLHU9YShlKTtPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmKHU9by51cGRhdGUodSxzKSxpJiYodS5vcGVyYXRpb249aS5uYW1lKSk7dmFyIGw9ci5lbmRwb2ludENhY2hlLmdldCh1KTtpZighbHx8MSE9PWwubGVuZ3RofHwiIiE9PWxbMF0uQWRkcmVzcylpZihsJiZsLmxlbmd0aD4wKWUuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQobFswXS5BZGRyZXNzKTtlbHNle3ZhciBwPXQubWFrZVJlcXVlc3Qobi5lbmRwb2ludE9wZXJhdGlvbix7T3BlcmF0aW9uOmkubmFtZSxJZGVudGlmaWVyczpzfSk7ZChwKSxwLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLHAucmVtb3ZlTGlzdGVuZXIoInJldHJ5IixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuUkVUUllfQ0hFQ0spLHIuZW5kcG9pbnRDYWNoZS5wdXQodSxbe0FkZHJlc3M6IiIsQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6MX1dKSxwLnNlbmQoKGZ1bmN0aW9uKGUsdCl7dCYmdC5FbmRwb2ludHM/ci5lbmRwb2ludENhY2hlLnB1dCh1LHQuRW5kcG9pbnRzKTplJiZyLmVuZHBvaW50Q2FjaGUucHV0KHUsW3tBZGRyZXNzOiIiLENhY2hlUGVyaW9kSW5NaW51dGVzOjF9XSl9KSl9fXZhciBsPXt9O2Z1bmN0aW9uIHAoZSx0KXt2YXIgbj1lLnNlcnZpY2UsaT1uLmFwaSxzPWkub3BlcmF0aW9ucz9pLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dOnZvaWQgMCx1PXM/cy5pbnB1dDp2b2lkIDAscD1jKGUsdSksaD1hKGUpO09iamVjdC5rZXlzKHApLmxlbmd0aD4wJiYoaD1vLnVwZGF0ZShoLHApLHMmJihoLm9wZXJhdGlvbj1zLm5hbWUpKTt2YXIgZj1yLkVuZHBvaW50Q2FjaGUuZ2V0S2V5U3RyaW5nKGgpLGc9ci5lbmRwb2ludENhY2hlLmdldChmKTtpZihnJiYxPT09Zy5sZW5ndGgmJiIiPT09Z1swXS5BZGRyZXNzKXJldHVybiBsW2ZdfHwobFtmXT1bXSksdm9pZCBsW2ZdLnB1c2goe3JlcXVlc3Q6ZSxjYWxsYmFjazp0fSk7aWYoZyYmZy5sZW5ndGg+MCllLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGdbMF0uQWRkcmVzcyksdCgpO2Vsc2V7dmFyIG09bi5tYWtlUmVxdWVzdChpLmVuZHBvaW50T3BlcmF0aW9uLHtPcGVyYXRpb246cy5uYW1lLElkZW50aWZpZXJzOnB9KTttLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLGQobSksci5lbmRwb2ludENhY2hlLnB1dChmLFt7QWRkcmVzczoiIixDYWNoZVBlcmlvZEluTWludXRlczo2MH1dKSxtLnNlbmQoKGZ1bmN0aW9uKG4saSl7aWYobil7aWYoZS5yZXNwb25zZS5lcnJvcj1vLmVycm9yKG4se3JldHJ5YWJsZTohMX0pLHIuZW5kcG9pbnRDYWNoZS5yZW1vdmUoaCksbFtmXSl7dmFyIGE9bFtmXTtvLmFycmF5RWFjaChhLChmdW5jdGlvbihlKXtlLnJlcXVlc3QucmVzcG9uc2UuZXJyb3I9by5lcnJvcihuLHtyZXRyeWFibGU6ITF9KSxlLmNhbGxiYWNrKCl9KSksZGVsZXRlIGxbZl19fWVsc2UgaSYmKHIuZW5kcG9pbnRDYWNoZS5wdXQoZixpLkVuZHBvaW50cyksZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChpLkVuZHBvaW50c1swXS5BZGRyZXNzKSxsW2ZdKSYmKGE9bFtmXSxvLmFycmF5RWFjaChhLChmdW5jdGlvbihlKXtlLnJlcXVlc3QuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoaS5FbmRwb2ludHNbMF0uQWRkcmVzcyksZS5jYWxsYmFjaygpfSkpLGRlbGV0ZSBsW2ZdKTt0KCl9KSl9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5hcGlWZXJzaW9uO3QmJiFlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIngtYW16LWFwaS12ZXJzaW9uIl0mJihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIngtYW16LWFwaS12ZXJzaW9uIl09dCl9ZnVuY3Rpb24gaChlKXt2YXIgdD1lLmVycm9yLG49ZS5odHRwUmVzcG9uc2U7aWYodCYmKCJJbnZhbGlkRW5kcG9pbnRFeGNlcHRpb24iPT09dC5jb2RlfHw0MjE9PT1uLnN0YXR1c0NvZGUpKXt2YXIgaT1lLnJlcXVlc3Qscz1pLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnN8fHt9LHU9YyhpLHNbaS5vcGVyYXRpb25dP3NbaS5vcGVyYXRpb25dLmlucHV0OnZvaWQgMCksbD1hKGkpO09iamVjdC5rZXlzKHUpLmxlbmd0aD4wJiYobD1vLnVwZGF0ZShsLHUpLHNbaS5vcGVyYXRpb25dJiYobC5vcGVyYXRpb249c1tpLm9wZXJhdGlvbl0ubmFtZSkpLHIuZW5kcG9pbnRDYWNoZS5yZW1vdmUobCl9fWZ1bmN0aW9uIGYoZSl7cmV0dXJuWyJmYWxzZSIsIjAiXS5pbmRleE9mKGUpPj0wfXQuZXhwb3J0cz17ZGlzY292ZXJFbmRwb2ludDpmdW5jdGlvbihlLHQpe3ZhciBhPWUuc2VydmljZXx8e307aWYoZnVuY3Rpb24oZSl7aWYoZS5fb3JpZ2luYWxDb25maWcmJmUuX29yaWdpbmFsQ29uZmlnLmVuZHBvaW50JiYhMD09PWUuX29yaWdpbmFsQ29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZCl0aHJvdyBvLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiQ3VzdG9tIGVuZHBvaW50IGlzIHN1cHBsaWVkOyBlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQgbXVzdCBub3QgYmUgdHJ1ZS4ifSk7dmFyIHQ9ci5jb25maWdbZS5zZXJ2aWNlSWRlbnRpZmllcl18fHt9O3JldHVybiBCb29sZWFuKHIuY29uZmlnLmVuZHBvaW50fHx0LmVuZHBvaW50fHxlLl9vcmlnaW5hbENvbmZpZyYmZS5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnQpfShhKXx8ZS5pc1ByZXNpZ25lZCgpKXJldHVybiB0KCk7dmFyIHM9KGEuYXBpLm9wZXJhdGlvbnN8fHt9KVtlLm9wZXJhdGlvbl0sYz1zP3MuZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZDoiTlVMTCIsbD1mdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2V8fHt9O2lmKHZvaWQgMCE9PXQuY29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZClyZXR1cm4gdC5jb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkO2lmKCFvLmlzQnJvd3NlcigpKXtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9aVthXTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobi5lbnYscykpe2lmKCIiPT09bi5lbnZbc118fHZvaWQgMD09PW4uZW52W3NdKXRocm93IG8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJlbnZpcm9ubWVudGFsIHZhcmlhYmxlICIrcysiIGNhbm5vdCBiZSBzZXQgdG8gbm90aGluZyJ9KTtyZXR1cm4hZihuLmVudltzXSl9fXZhciBjPXt9O3RyeXtjPXIudXRpbC5pbmlMb2FkZXI/ci51dGlsLmluaUxvYWRlci5sb2FkRnJvbSh7aXNDb25maWc6ITAsZmlsZW5hbWU6bi5lbnZbci51dGlsLnNoYXJlZENvbmZpZ0ZpbGVFbnZdfSk6e319Y2F0Y2goZSl7fXZhciB1PWNbbi5lbnYuQVdTX1BST0ZJTEV8fHIudXRpbC5kZWZhdWx0UHJvZmlsZV18fHt9O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LCJlbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCIpKXtpZih2b2lkIDA9PT11LmVuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkKXRocm93IG8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJjb25maWcgZmlsZSBlbnRyeSAnZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQnIGNhbm5vdCBiZSBzZXQgdG8gbm90aGluZyJ9KTtyZXR1cm4hZih1LmVuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkKX19fShlKSxkPWEuYXBpLmhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3Zlcnk7c3dpdGNoKChsfHxkKSYmZS5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgiZW5kcG9pbnQtZGlzY292ZXJ5IiksYyl7Y2FzZSJPUFRJT05BTCI6KGx8fGQpJiYodShlKSxlLmFkZE5hbWVkTGlzdGVuZXIoIklOVkFMSURBVEVfQ0FDSEVEX0VORFBPSU5UUyIsImV4dHJhY3RFcnJvciIsaCkpLHQoKTticmVhaztjYXNlIlJFUVVJUkVEIjppZighMT09PWwpe2UucmVzcG9uc2UuZXJyb3I9by5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6IkVuZHBvaW50IERpc2NvdmVyeSBpcyBkaXNhYmxlZCBidXQgIithLmFwaS5jbGFzc05hbWUrIi4iK2Uub3BlcmF0aW9uKyIoKSByZXF1aXJlcyBpdC4gUGxlYXNlIGNoZWNrIHlvdXIgY29uZmlndXJhdGlvbnMuIn0pLHQoKTticmVha31lLmFkZE5hbWVkTGlzdGVuZXIoIklOVkFMSURBVEVfQ0FDSEVEX0VORFBPSU5UUyIsImV4dHJhY3RFcnJvciIsaCkscChlLHQpO2JyZWFrO2RlZmF1bHQ6dCgpfX0scmVxdWlyZWREaXNjb3ZlckVuZHBvaW50OnAsb3B0aW9uYWxEaXNjb3ZlckVuZHBvaW50OnUsbWFyc2hhbGxDdXN0b21JZGVudGlmaWVyczpjLGdldENhY2hlS2V5OmEsaW52YWxpZGF0ZUNhY2hlZEVuZHBvaW50Omh9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL3V0aWwiOjc0LF9wcm9jZXNzOjkxfV0sMjg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9ldmVudC1zdHJlYW0vZXZlbnQtbWVzc2FnZS1jaHVua2VyIikuZXZlbnRNZXNzYWdlQ2h1bmtlcixvPWUoIi4vcGFyc2UtZXZlbnQiKS5wYXJzZUV2ZW50O3QuZXhwb3J0cz17Y3JlYXRlRXZlbnRTdHJlYW06ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1yKGUpLGE9W10scz0wO3M8aS5sZW5ndGg7cysrKWEucHVzaChvKHQsaVtzXSxuKSk7cmV0dXJuIGF9fX0seyIuLi9ldmVudC1zdHJlYW0vZXZlbnQtbWVzc2FnZS1jaHVua2VyIjoyOSwiLi9wYXJzZS1ldmVudCI6MzF9XSwyOTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXZlbnRNZXNzYWdlQ2h1bmtlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7KXt2YXIgcj1lLnJlYWRJbnQzMkJFKG4pLG89ZS5zbGljZShuLHIrbik7bis9cix0LnB1c2gobyl9cmV0dXJuIHR9fX0se31dLDMwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLnV0aWwsbz1yLmJ1ZmZlci50b0J1ZmZlcjtmdW5jdGlvbiBpKGUpe2lmKDghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludDY0IGJ1ZmZlcnMgbXVzdCBiZSBleGFjdGx5IDggYnl0ZXMiKTtyLkJ1ZmZlci5pc0J1ZmZlcihlKXx8KGU9byhlKSksdGhpcy5ieXRlcz1lfWZ1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PTA7dDw4O3QrKyllW3RdXj0yNTU7Zm9yKHQ9Nzt0Pi0xJiYoZVt0XSsrLDA9PT1lW3RdKTt0LS0pO31pLmZyb21OdW1iZXI9ZnVuY3Rpb24oZSl7aWYoZT4weDgwMDAwMDAwMDAwMDAwMDB8fGU8LTB4ODAwMDAwMDAwMDAwMDAwMCl0aHJvdyBuZXcgRXJyb3IoZSsiIGlzIHRvbyBsYXJnZSAob3IsIGlmIG5lZ2F0aXZlLCB0b28gc21hbGwpIHRvIHJlcHJlc2VudCBhcyBhbiBJbnQ2NCIpO2Zvcih2YXIgdD1uZXcgVWludDhBcnJheSg4KSxuPTcscj1NYXRoLmFicyhNYXRoLnJvdW5kKGUpKTtuPi0xJiZyPjA7bi0tLHIvPTI1Nil0W25dPXI7cmV0dXJuIGU8MCYmYSh0KSxuZXcgaSh0KX0saS5wcm90b3R5cGUudmFsdWVPZj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnl0ZXMuc2xpY2UoMCksdD0xMjgmZVswXTtyZXR1cm4gdCYmYShlKSxwYXJzZUludChlLnRvU3RyaW5nKCJoZXgiKSwxNikqKHQ/LTE6MSl9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyh0aGlzLnZhbHVlT2YoKSl9LHQuZXhwb3J0cz17SW50NjQ6aX19LHsiLi4vY29yZSI6MTl9XSwzMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vcGFyc2UtbWVzc2FnZSIpLnBhcnNlTWVzc2FnZTt0LmV4cG9ydHM9e3BhcnNlRXZlbnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXIodCksaT1vLmhlYWRlcnNbIjptZXNzYWdlLXR5cGUiXTtpZihpKXtpZigiZXJyb3IiPT09aS52YWx1ZSl0aHJvdyBmdW5jdGlvbihlKXt2YXIgdD1lLmhlYWRlcnNbIjplcnJvci1jb2RlIl0sbj1lLmhlYWRlcnNbIjplcnJvci1tZXNzYWdlIl0scj1uZXcgRXJyb3Iobi52YWx1ZXx8bik7cmV0dXJuIHIuY29kZT1yLm5hbWU9dC52YWx1ZXx8dCxyfShvKTtpZigiZXZlbnQiIT09aS52YWx1ZSlyZXR1cm59dmFyIGE9by5oZWFkZXJzWyI6ZXZlbnQtdHlwZSJdLHM9bi5tZW1iZXJzW2EudmFsdWVdO2lmKHMpe3ZhciBjPXt9LHU9cy5ldmVudFBheWxvYWRNZW1iZXJOYW1lO2lmKHUpe3ZhciBsPXMubWVtYmVyc1t1XTsiYmluYXJ5Ij09PWwudHlwZT9jW3VdPW8uYm9keTpjW3VdPWUucGFyc2Uoby5ib2R5LnRvU3RyaW5nKCksbCl9Zm9yKHZhciBwPXMuZXZlbnRIZWFkZXJNZW1iZXJOYW1lcyxkPTA7ZDxwLmxlbmd0aDtkKyspe3ZhciBoPXBbZF07by5oZWFkZXJzW2hdJiYoY1toXT1zLm1lbWJlcnNbaF0udG9UeXBlKG8uaGVhZGVyc1toXS52YWx1ZSkpfXZhciBmPXt9O3JldHVybiBmW2EudmFsdWVdPWMsZn19fX0seyIuL3BhcnNlLW1lc3NhZ2UiOjMyfV0sMzI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2ludDY0IikuSW50NjQsbz1lKCIuL3NwbGl0LW1lc3NhZ2UiKS5zcGxpdE1lc3NhZ2UsaT0iYm9vbGVhbiI7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7KXt2YXIgbz1lLnJlYWRVSW50OChuKyspLGE9ZS5zbGljZShuLG4rbykudG9TdHJpbmcoKTtzd2l0Y2gobis9byxlLnJlYWRVSW50OChuKyspKXtjYXNlIDA6dFthXT17dHlwZTppLHZhbHVlOiEwfTticmVhaztjYXNlIDE6dFthXT17dHlwZTppLHZhbHVlOiExfTticmVhaztjYXNlIDI6dFthXT17dHlwZToiYnl0ZSIsdmFsdWU6ZS5yZWFkSW50OChuKyspfTticmVhaztjYXNlIDM6dFthXT17dHlwZToic2hvcnQiLHZhbHVlOmUucmVhZEludDE2QkUobil9LG4rPTI7YnJlYWs7Y2FzZSA0OnRbYV09e3R5cGU6ImludGVnZXIiLHZhbHVlOmUucmVhZEludDMyQkUobil9LG4rPTQ7YnJlYWs7Y2FzZSA1OnRbYV09e3R5cGU6ImxvbmciLHZhbHVlOm5ldyByKGUuc2xpY2UobixuKzgpKX0sbis9ODticmVhaztjYXNlIDY6dmFyIHM9ZS5yZWFkVUludDE2QkUobik7bis9Mix0W2FdPXt0eXBlOiJiaW5hcnkiLHZhbHVlOmUuc2xpY2UobixuK3MpfSxuKz1zO2JyZWFrO2Nhc2UgNzp2YXIgYz1lLnJlYWRVSW50MTZCRShuKTtuKz0yLHRbYV09e3R5cGU6InN0cmluZyIsdmFsdWU6ZS5zbGljZShuLG4rYykudG9TdHJpbmcoKX0sbis9YzticmVhaztjYXNlIDg6dFthXT17dHlwZToidGltZXN0YW1wIix2YWx1ZTpuZXcgRGF0ZShuZXcgcihlLnNsaWNlKG4sbis4KSkudmFsdWVPZigpKX0sbis9ODticmVhaztjYXNlIDk6dmFyIHU9ZS5zbGljZShuLG4rMTYpLnRvU3RyaW5nKCJoZXgiKTtuKz0xNix0W2FdPXt0eXBlOiJ1dWlkIix2YWx1ZTp1LnN1YnN0cigwLDgpKyItIit1LnN1YnN0cig4LDQpKyItIit1LnN1YnN0cigxMiw0KSsiLSIrdS5zdWJzdHIoMTYsNCkrIi0iK3Uuc3Vic3RyKDIwKX07YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBoZWFkZXIgdHlwZSB0YWciKX19cmV0dXJuIHR9dC5leHBvcnRzPXtwYXJzZU1lc3NhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtyZXR1cm57aGVhZGVyczphKHQuaGVhZGVycyksYm9keTp0LmJvZHl9fX19LHsiLi9pbnQ2NCI6MzAsIi4vc3BsaXQtbWVzc2FnZSI6MzN9XSwzMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKS51dGlsLG89ci5idWZmZXIudG9CdWZmZXI7dC5leHBvcnRzPXtzcGxpdE1lc3NhZ2U6ZnVuY3Rpb24oZSl7aWYoci5CdWZmZXIuaXNCdWZmZXIoZSl8fChlPW8oZSkpLGUubGVuZ3RoPDE2KXRocm93IG5ldyBFcnJvcigiUHJvdmlkZWQgbWVzc2FnZSB0b28gc2hvcnQgdG8gYWNjb21tb2RhdGUgZXZlbnQgc3RyZWFtIG1lc3NhZ2Ugb3ZlcmhlYWQiKTtpZihlLmxlbmd0aCE9PWUucmVhZFVJbnQzMkJFKDApKXRocm93IG5ldyBFcnJvcigiUmVwb3J0ZWQgbWVzc2FnZSBsZW5ndGggZG9lcyBub3QgbWF0Y2ggcmVjZWl2ZWQgbWVzc2FnZSBsZW5ndGgiKTt2YXIgdD1lLnJlYWRVSW50MzJCRSg4KTtpZih0IT09ci5jcnlwdG8uY3JjMzIoZS5zbGljZSgwLDgpKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcmVsdWRlIGNoZWNrc3VtIHNwZWNpZmllZCBpbiB0aGUgbWVzc2FnZSAoIit0KyIpIGRvZXMgbm90IG1hdGNoIHRoZSBjYWxjdWxhdGVkIENSQzMyIGNoZWNrc3VtLiIpO3ZhciBuPWUucmVhZFVJbnQzMkJFKGUubGVuZ3RoLTQpO2lmKG4hPT1yLmNyeXB0by5jcmMzMihlLnNsaWNlKDAsZS5sZW5ndGgtNCkpKXRocm93IG5ldyBFcnJvcigiVGhlIG1lc3NhZ2UgY2hlY2tzdW0gZGlkIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgdmFsdWUgb2YgIituKTt2YXIgaT0xMitlLnJlYWRVSW50MzJCRSg0KTtyZXR1cm57aGVhZGVyczplLnNsaWNlKDEyLGkpLGJvZHk6ZS5zbGljZShpLGUubGVuZ3RoLTQpfX19fSx7Ii4uL2NvcmUiOjE5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi9jb3JlIikscj1lKCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiKSxvPWUoIi4vZGlzY292ZXJfZW5kcG9pbnQiKS5kaXNjb3ZlckVuZHBvaW50O2Z1bmN0aW9uIGkoZSl7aWYoIWUuc2VydmljZS5hcGkub3BlcmF0aW9ucylyZXR1cm4iIjt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO3JldHVybiB0P3QuYXV0aHR5cGU6IiJ9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnNlcnZpY2U7cmV0dXJuIHQuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24/dC5jb25maWcuc2lnbmF0dXJlVmVyc2lvbjp0LmFwaS5zaWduYXR1cmVWZXJzaW9uP3QuYXBpLnNpZ25hdHVyZVZlcnNpb246aShlKX1uLkV2ZW50TGlzdGVuZXJzPXtDb3JlOnt9fSxuLkV2ZW50TGlzdGVuZXJzPXtDb3JlOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKGUscil7cigiVkFMSURBVEVfQ1JFREVOVElBTFMiLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUsdCl7aWYoIWUuc2VydmljZS5hcGkuc2lnbmF0dXJlVmVyc2lvbiYmIWUuc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbilyZXR1cm4gdCgpOyJiZWFyZXIiIT09YShlKT9lLnNlcnZpY2UuY29uZmlnLmdldENyZWRlbnRpYWxzKChmdW5jdGlvbihyKXtyJiYoZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3Iocix7Y29kZToiQ3JlZGVudGlhbHNFcnJvciIsbWVzc2FnZToiTWlzc2luZyBjcmVkZW50aWFscyBpbiBjb25maWcsIGlmIHVzaW5nIEFXU19DT05GSUdfRklMRSwgc2V0IEFXU19TREtfTE9BRF9DT05GSUc9MSJ9KSksdCgpfSkpOmUuc2VydmljZS5jb25maWcuZ2V0VG9rZW4oKGZ1bmN0aW9uKHIpe3ImJihlLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihyLHtjb2RlOiJUb2tlbkVycm9yIn0pKSx0KCl9KSl9KSksZSgiVkFMSURBVEVfUkVHSU9OIiwidmFsaWRhdGUiLChmdW5jdGlvbihlKXtpZighZS5zZXJ2aWNlLmlzR2xvYmFsRW5kcG9pbnQpe3ZhciB0PW5ldyBSZWdFeHAoL14oW2EtekEtWjAtOV18W2EtekEtWjAtOV1bYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSkkLyk7ZS5zZXJ2aWNlLmNvbmZpZy5yZWdpb24/dC50ZXN0KGUuc2VydmljZS5jb25maWcucmVnaW9uKXx8KGUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6IkludmFsaWQgcmVnaW9uIGluIGNvbmZpZyJ9KSk6ZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWdFcnJvciIsbWVzc2FnZToiTWlzc2luZyByZWdpb24gaW4gY29uZmlnIn0pfX0pKSxlKCJCVUlMRF9JREVNUE9URU5DWV9UT0tFTlMiLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUpe2lmKGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZih0KXt2YXIgcj10LmlkZW1wb3RlbnRNZW1iZXJzO2lmKHIubGVuZ3RoKXtmb3IodmFyIG89bi51dGlsLmNvcHkoZS5wYXJhbXMpLGk9MCxhPXIubGVuZ3RoO2k8YTtpKyspb1tyW2ldXXx8KG9bcltpXV09bi51dGlsLnV1aWQudjQoKSk7ZS5wYXJhbXM9b319fX0pKSxlKCJWQUxJREFURV9QQVJBTUVURVJTIiwidmFsaWRhdGUiLChmdW5jdGlvbihlKXtpZihlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQscj1lLnNlcnZpY2UuY29uZmlnLnBhcmFtVmFsaWRhdGlvbjtuZXcgbi5QYXJhbVZhbGlkYXRvcihyKS52YWxpZGF0ZSh0LGUucGFyYW1zKX19KSksZSgiQ09NUFVURV9DSEVDS1NVTSIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXtpZihlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07aWYodCl7dmFyIHI9ZS5odHRwUmVxdWVzdC5ib2R5LG89ciYmKG4udXRpbC5CdWZmZXIuaXNCdWZmZXIocil8fCJzdHJpbmciPT10eXBlb2YgciksaT1lLmh0dHBSZXF1ZXN0LmhlYWRlcnM7aWYodC5odHRwQ2hlY2tzdW1SZXF1aXJlZCYmZS5zZXJ2aWNlLmNvbmZpZy5jb21wdXRlQ2hlY2tzdW1zJiZvJiYhaVsiQ29udGVudC1NRDUiXSl7dmFyIGE9bi51dGlsLmNyeXB0by5tZDUociwiYmFzZTY0Iik7aVsiQ29udGVudC1NRDUiXT1hfX19fSkpLHIoIkNPTVBVVEVfU0hBMjU2IiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUsdCl7aWYoZS5oYWx0SGFuZGxlcnNPbkVycm9yKCksZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgcj1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG89cj9yLmF1dGh0eXBlOiIiO2lmKCFlLnNlcnZpY2UuYXBpLnNpZ25hdHVyZVZlcnNpb24mJiFvJiYhZS5zZXJ2aWNlLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uKXJldHVybiB0KCk7aWYoZS5zZXJ2aWNlLmdldFNpZ25lckNsYXNzKGUpPT09bi5TaWduZXJzLlY0KXt2YXIgaT1lLmh0dHBSZXF1ZXN0LmJvZHl8fCIiO2lmKG8uaW5kZXhPZigidW5zaWduZWQtYm9keSIpPj0wKXJldHVybiBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il09IlVOU0lHTkVELVBBWUxPQUQiLHQoKTtuLnV0aWwuY29tcHV0ZVNoYTI1NihpLChmdW5jdGlvbihuLHIpe24/dChuKTooZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdPXIsdCgpKX0pKX1lbHNlIHQoKX19KSksZSgiU0VUX0NPTlRFTlRfTEVOR1RIIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe3ZhciB0PWkoZSkscj1uLnV0aWwuZ2V0UmVxdWVzdFBheWxvYWRTaGFwZShlKTtpZih2b2lkIDA9PT1lLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl0pdHJ5e3ZhciBvPW4udXRpbC5zdHJpbmcuYnl0ZUxlbmd0aChlLmh0dHBSZXF1ZXN0LmJvZHkpO2UuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXT1vfWNhdGNoKG4pe2lmKHImJnIuaXNTdHJlYW1pbmcpe2lmKHIucmVxdWlyZXNMZW5ndGgpdGhyb3cgbjtpZih0LmluZGV4T2YoInVuc2lnbmVkLWJvZHkiKT49MClyZXR1cm4gdm9pZChlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlRyYW5zZmVyLUVuY29kaW5nIl09ImNodW5rZWQiKTt0aHJvdyBufXRocm93IG59fSkpLGUoIlNFVF9IVFRQX0hPU1QiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5oZWFkZXJzLkhvc3Q9ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0fSkpLGUoIlNFVF9UUkFDRV9JRCIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXt2YXIgcj0iWC1BbXpuLVRyYWNlLUlkIjtpZihuLnV0aWwuaXNOb2RlKCkmJiFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLmh0dHBSZXF1ZXN0LmhlYWRlcnMscikpe3ZhciBvPXQuZW52LkFXU19MQU1CREFfRlVOQ1RJT05fTkFNRSxpPXQuZW52Ll9YX0FNWk5fVFJBQ0VfSUQ7InN0cmluZyI9PXR5cGVvZiBvJiZvLmxlbmd0aD4wJiYic3RyaW5nIj09dHlwZW9mIGkmJmkubGVuZ3RoPjAmJihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbcl09aSl9fSkpLGUoIlJFU1RBUlQiLCJyZXN0YXJ0IiwoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlc3BvbnNlLmVycm9yO2UmJmUucmV0cnlhYmxlJiYodGhpcy5odHRwUmVxdWVzdD1uZXcgbi5IdHRwUmVxdWVzdCh0aGlzLnNlcnZpY2UuZW5kcG9pbnQsdGhpcy5zZXJ2aWNlLnJlZ2lvbiksdGhpcy5yZXNwb25zZS5yZXRyeUNvdW50PHRoaXMuc2VydmljZS5jb25maWcubWF4UmV0cmllcz90aGlzLnJlc3BvbnNlLnJldHJ5Q291bnQrKzp0aGlzLnJlc3BvbnNlLmVycm9yPW51bGwpfSkpLHIoIkRJU0NPVkVSX0VORFBPSU5UIiwic2lnbiIsbywhMCkscigiU0lHTiIsInNpZ24iLChmdW5jdGlvbihlLHQpe3ZhciBuPWUuc2VydmljZSxyPWEoZSk7aWYoIXJ8fDA9PT1yLmxlbmd0aClyZXR1cm4gdCgpOyJiZWFyZXIiPT09cj9uLmNvbmZpZy5nZXRUb2tlbigoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlLnJlc3BvbnNlLmVycm9yPXIsdCgpO3RyeXtuZXcobi5nZXRTaWduZXJDbGFzcyhlKSkoZS5odHRwUmVxdWVzdCkuYWRkQXV0aG9yaXphdGlvbihvKX1jYXRjaCh0KXtlLnJlc3BvbnNlLmVycm9yPXR9dCgpfSkpOm4uY29uZmlnLmdldENyZWRlbnRpYWxzKChmdW5jdGlvbihyLG8pe2lmKHIpcmV0dXJuIGUucmVzcG9uc2UuZXJyb3I9cix0KCk7dHJ5e3ZhciBpPW4uZ2V0U2tld0NvcnJlY3RlZERhdGUoKSxhPW4uZ2V0U2lnbmVyQ2xhc3MoZSkscz0oZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dLGM9bmV3IGEoZS5odHRwUmVxdWVzdCxuLmdldFNpZ25pbmdOYW1lKGUpLHtzaWduYXR1cmVDYWNoZTpuLmNvbmZpZy5zaWduYXR1cmVDYWNoZSxvcGVyYXRpb246cyxzaWduYXR1cmVWZXJzaW9uOm4uYXBpLnNpZ25hdHVyZVZlcnNpb259KTtjLnNldFNlcnZpY2VDbGllbnRJZChuLl9jbGllbnRJZCksZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnMuRGF0ZSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl0sYy5hZGRBdXRob3JpemF0aW9uKG8saSksZS5zaWduZWRBdD1pfWNhdGNoKHQpe2UucmVzcG9uc2UuZXJyb3I9dH10KCl9KSl9KSksZSgiVkFMSURBVEVfUkVTUE9OU0UiLCJ2YWxpZGF0ZVJlc3BvbnNlIiwoZnVuY3Rpb24oZSl7dGhpcy5zZXJ2aWNlLnN1Y2Nlc3NmdWxSZXNwb25zZShlLHRoaXMpPyhlLmRhdGE9e30sZS5lcnJvcj1udWxsKTooZS5kYXRhPW51bGwsZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJVbmtub3duRXJyb3IiLG1lc3NhZ2U6IkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuIn0pKX0pKSxlKCJFUlJPUiIsImVycm9yIiwoZnVuY3Rpb24oZSx0KXtpZih0LnJlcXVlc3Quc2VydmljZS5hcGkuYXdzUXVlcnlDb21wYXRpYmxlKXt2YXIgbj10Lmh0dHBSZXNwb25zZS5oZWFkZXJzLHI9bj9uWyJ4LWFtem4tcXVlcnktZXJyb3IiXTp2b2lkIDA7ciYmci5pbmNsdWRlcygiOyIpJiYodC5lcnJvci5jb2RlPXIuc3BsaXQoIjsiKVswXSl9fSksITApLHIoIlNFTkQiLCJzZW5kIiwoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHIpe2UuaHR0cFJlc3BvbnNlLnN0cmVhbT1yO3ZhciBvPWUucmVxdWVzdC5odHRwUmVxdWVzdC5zdHJlYW0saT1lLnJlcXVlc3Quc2VydmljZSxhPWkuYXBpLHM9ZS5yZXF1ZXN0Lm9wZXJhdGlvbixjPWEub3BlcmF0aW9uc1tzXXx8e307ci5vbigiaGVhZGVycyIsKGZ1bmN0aW9uKG8sYSxzKXtpZihlLnJlcXVlc3QuZW1pdCgiaHR0cEhlYWRlcnMiLFtvLGEsZSxzXSksIWUuaHR0cFJlc3BvbnNlLnN0cmVhbWluZylpZigyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uKXtpZihjLmhhc0V2ZW50T3V0cHV0JiZpLnN1Y2Nlc3NmdWxSZXNwb25zZShlKSlyZXR1cm4gZS5yZXF1ZXN0LmVtaXQoImh0dHBEb25lIiksdm9pZCB0KCk7ci5vbigicmVhZGFibGUiLChmdW5jdGlvbigpe3ZhciB0PXIucmVhZCgpO251bGwhPT10JiZlLnJlcXVlc3QuZW1pdCgiaHR0cERhdGEiLFt0LGVdKX0pKX1lbHNlIHIub24oImRhdGEiLChmdW5jdGlvbih0KXtlLnJlcXVlc3QuZW1pdCgiaHR0cERhdGEiLFt0LGVdKX0pKX0pKSxyLm9uKCJlbmQiLChmdW5jdGlvbigpe2lmKCFvfHwhby5kaWRDYWxsYmFjayl7aWYoMj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiYmYy5oYXNFdmVudE91dHB1dCYmaS5zdWNjZXNzZnVsUmVzcG9uc2UoZSkpcmV0dXJuO2UucmVxdWVzdC5lbWl0KCJodHRwRG9uZSIpLHQoKX19KSl9ZnVuY3Rpb24gbyhyKXtpZigiUmVxdWVzdEFib3J0ZWRFcnJvciIhPT1yLmNvZGUpe3ZhciBvPSJUaW1lb3V0RXJyb3IiPT09ci5jb2RlP3IuY29kZToiTmV0d29ya2luZ0Vycm9yIjtyPW4udXRpbC5lcnJvcihyLHtjb2RlOm8scmVnaW9uOmUucmVxdWVzdC5odHRwUmVxdWVzdC5yZWdpb24saG9zdG5hbWU6ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3RuYW1lLHJldHJ5YWJsZTohMH0pfWUuZXJyb3I9cixlLnJlcXVlc3QuZW1pdCgiaHR0cEVycm9yIixbZS5lcnJvcixlXSwoZnVuY3Rpb24oKXt0KCl9KSl9ZnVuY3Rpb24gaSgpe3ZhciB0LGk9bi5IdHRwQ2xpZW50LmdldEluc3RhbmNlKCksYT1lLnJlcXVlc3Quc2VydmljZS5jb25maWcuaHR0cE9wdGlvbnN8fHt9O3RyeXt2YXIgcz1pLmhhbmRsZVJlcXVlc3QoZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LGEscixvKTsodD1zKS5vbigic2VuZFByb2dyZXNzIiwoZnVuY3Rpb24odCl7ZS5yZXF1ZXN0LmVtaXQoImh0dHBVcGxvYWRQcm9ncmVzcyIsW3QsZV0pfSkpLHQub24oInJlY2VpdmVQcm9ncmVzcyIsKGZ1bmN0aW9uKHQpe2UucmVxdWVzdC5lbWl0KCJodHRwRG93bmxvYWRQcm9ncmVzcyIsW3QsZV0pfSkpfWNhdGNoKGUpe28oZSl9fWUuaHR0cFJlc3BvbnNlLl9hYm9ydENhbGxiYWNrPXQsZS5lcnJvcj1udWxsLGUuZGF0YT1udWxsLChlLnJlcXVlc3Quc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLXRoaXMuc2lnbmVkQXQpLzFlMz49NjAwP3RoaXMuZW1pdCgic2lnbiIsW3RoaXNdLChmdW5jdGlvbihlKXtlP3QoZSk6aSgpfSkpOmkoKX0pKSxlKCJIVFRQX0hFQURFUlMiLCJodHRwSGVhZGVycyIsKGZ1bmN0aW9uKGUsdCxyLG8pe3IuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU9ZSxyLmh0dHBSZXNwb25zZS5zdGF0dXNNZXNzYWdlPW8sci5odHRwUmVzcG9uc2UuaGVhZGVycz10LHIuaHR0cFJlc3BvbnNlLmJvZHk9bi51dGlsLmJ1ZmZlci50b0J1ZmZlcigiIiksci5odHRwUmVzcG9uc2UuYnVmZmVycz1bXSxyLmh0dHBSZXNwb25zZS5udW1CeXRlcz0wO3ZhciBpPXQuZGF0ZXx8dC5EYXRlLGE9ci5yZXF1ZXN0LnNlcnZpY2U7aWYoaSl7dmFyIHM9RGF0ZS5wYXJzZShpKTthLmNvbmZpZy5jb3JyZWN0Q2xvY2tTa2V3JiZhLmlzQ2xvY2tTa2V3ZWQocykmJmEuYXBwbHlDbG9ja09mZnNldChzKX19KSksZSgiSFRUUF9EQVRBIiwiaHR0cERhdGEiLChmdW5jdGlvbihlLHQpe2lmKGUpe2lmKG4udXRpbC5pc05vZGUoKSl7dC5odHRwUmVzcG9uc2UubnVtQnl0ZXMrPWUubGVuZ3RoO3ZhciByPXQuaHR0cFJlc3BvbnNlLmhlYWRlcnNbImNvbnRlbnQtbGVuZ3RoIl0sbz17bG9hZGVkOnQuaHR0cFJlc3BvbnNlLm51bUJ5dGVzLHRvdGFsOnJ9O3QucmVxdWVzdC5lbWl0KCJodHRwRG93bmxvYWRQcm9ncmVzcyIsW28sdF0pfXQuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMucHVzaChuLnV0aWwuYnVmZmVyLnRvQnVmZmVyKGUpKX19KSksZSgiSFRUUF9ET05FIiwiaHR0cERvbmUiLChmdW5jdGlvbihlKXtpZihlLmh0dHBSZXNwb25zZS5idWZmZXJzJiZlLmh0dHBSZXNwb25zZS5idWZmZXJzLmxlbmd0aD4wKXt2YXIgdD1uLnV0aWwuYnVmZmVyLmNvbmNhdChlLmh0dHBSZXNwb25zZS5idWZmZXJzKTtlLmh0dHBSZXNwb25zZS5ib2R5PXR9ZGVsZXRlIGUuaHR0cFJlc3BvbnNlLm51bUJ5dGVzLGRlbGV0ZSBlLmh0dHBSZXNwb25zZS5idWZmZXJzfSkpLGUoIkZJTkFMSVpFX0VSUk9SIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlJiYoZS5lcnJvci5zdGF0dXNDb2RlPWUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsdm9pZCAwPT09ZS5lcnJvci5yZXRyeWFibGUmJihlLmVycm9yLnJldHJ5YWJsZT10aGlzLnNlcnZpY2UucmV0cnlhYmxlRXJyb3IoZS5lcnJvcix0aGlzKSkpfSkpLGUoIklOVkFMSURBVEVfQ1JFREVOVElBTFMiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2lmKGUuZXJyb3Ipc3dpdGNoKGUuZXJyb3IuY29kZSl7Y2FzZSJSZXF1ZXN0RXhwaXJlZCI6Y2FzZSJFeHBpcmVkVG9rZW5FeGNlcHRpb24iOmNhc2UiRXhwaXJlZFRva2VuIjplLmVycm9yLnJldHJ5YWJsZT0hMCxlLnJlcXVlc3Quc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuZXhwaXJlZD0hMH19KSksZSgiRVhQSVJFRF9TSUdOQVRVUkUiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZXJyb3I7dCYmInN0cmluZyI9PXR5cGVvZiB0LmNvZGUmJiJzdHJpbmciPT10eXBlb2YgdC5tZXNzYWdlJiZ0LmNvZGUubWF0Y2goL1NpZ25hdHVyZS8pJiZ0Lm1lc3NhZ2UubWF0Y2goL2V4cGlyZWQvKSYmKGUuZXJyb3IucmV0cnlhYmxlPSEwKX0pKSxlKCJDTE9DS19TS0VXRUQiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJnRoaXMuc2VydmljZS5jbG9ja1NrZXdFcnJvcihlLmVycm9yKSYmdGhpcy5zZXJ2aWNlLmNvbmZpZy5jb3JyZWN0Q2xvY2tTa2V3JiYoZS5lcnJvci5yZXRyeWFibGU9ITApfSkpLGUoIlJFRElSRUNUIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmVycm9yJiZlLmVycm9yLnN0YXR1c0NvZGU+PTMwMCYmZS5lcnJvci5zdGF0dXNDb2RlPDQwMCYmZS5odHRwUmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiYmKHRoaXMuaHR0cFJlcXVlc3QuZW5kcG9pbnQ9bmV3IG4uRW5kcG9pbnQoZS5odHRwUmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiksdGhpcy5odHRwUmVxdWVzdC5oZWFkZXJzLkhvc3Q9dGhpcy5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0LGUuZXJyb3IucmVkaXJlY3Q9ITAsZS5lcnJvci5yZXRyeWFibGU9ITApfSkpLGUoIlJFVFJZX0NIRUNLIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmVycm9yJiYoZS5lcnJvci5yZWRpcmVjdCYmZS5yZWRpcmVjdENvdW50PGUubWF4UmVkaXJlY3RzP2UuZXJyb3IucmV0cnlEZWxheT0wOmUucmV0cnlDb3VudDxlLm1heFJldHJpZXMmJihlLmVycm9yLnJldHJ5RGVsYXk9dGhpcy5zZXJ2aWNlLnJldHJ5RGVsYXlzKGUucmV0cnlDb3VudCxlLmVycm9yKXx8MCkpfSkpLHIoIlJFU0VUX1JFVFJZX1NUQVRFIiwiYWZ0ZXJSZXRyeSIsKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj0hMTtlLmVycm9yJiYobj1lLmVycm9yLnJldHJ5RGVsYXl8fDAsZS5lcnJvci5yZXRyeWFibGUmJmUucmV0cnlDb3VudDxlLm1heFJldHJpZXM/KGUucmV0cnlDb3VudCsrLHI9ITApOmUuZXJyb3IucmVkaXJlY3QmJmUucmVkaXJlY3RDb3VudDxlLm1heFJlZGlyZWN0cyYmKGUucmVkaXJlY3RDb3VudCsrLHI9ITApKSxyJiZuPj0wPyhlLmVycm9yPW51bGwsc2V0VGltZW91dCh0LG4pKTp0KCl9KSl9KSksQ29yZVBvc3Q6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24oZSl7ZSgiRVhUUkFDVF9SRVFVRVNUX0lEIiwiZXh0cmFjdERhdGEiLG4udXRpbC5leHRyYWN0UmVxdWVzdElkKSxlKCJFWFRSQUNUX1JFUVVFU1RfSUQiLCJleHRyYWN0RXJyb3IiLG4udXRpbC5leHRyYWN0UmVxdWVzdElkKSxlKCJFTk9URk9VTkRfRVJST1IiLCJodHRwRXJyb3IiLChmdW5jdGlvbihlKXtpZigiTmV0d29ya2luZ0Vycm9yIj09PWUuY29kZSYmZnVuY3Rpb24oZSl7cmV0dXJuIkVOT1RGT1VORCI9PT1lLmVycm5vfHwibnVtYmVyIj09dHlwZW9mIGUuZXJybm8mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLnV0aWwuZ2V0U3lzdGVtRXJyb3JOYW1lJiZbIkVBSV9OT05BTUUiLCJFQUlfTk9EQVRBIl0uaW5kZXhPZihuLnV0aWwuZ2V0U3lzdGVtRXJyb3JOYW1lKGUuZXJybm8pPj0wKX0oZSkpe3ZhciB0PSJJbmFjY2Vzc2libGUgaG9zdDogYCIrZS5ob3N0bmFtZSsiJyBhdCBwb3J0IGAiK2UucG9ydCsiJy4gVGhpcyBzZXJ2aWNlIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIHRoZSBgIitlLnJlZ2lvbisiJyByZWdpb24uIjt0aGlzLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3IodCkse2NvZGU6IlVua25vd25FbmRwb2ludCIscmVnaW9uOmUucmVnaW9uLGhvc3RuYW1lOmUuaG9zdG5hbWUscmV0cnlhYmxlOiEwLG9yaWdpbmFsRXJyb3I6ZX0pfX0pKX0pKSxMb2dnZXI6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dCgiTE9HX1JFUVVFU1QiLCJjb21wbGV0ZSIsKGZ1bmN0aW9uKHQpe3ZhciByPXQucmVxdWVzdCxvPXIuc2VydmljZS5jb25maWcubG9nZ2VyO2lmKG8pe3ZhciBpPWZ1bmN0aW9uKCl7dmFyIGk9KHQucmVxdWVzdC5zZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkuZ2V0VGltZSgpLXIuc3RhcnRUaW1lLmdldFRpbWUoKSkvMWUzLHM9ISFvLmlzVFRZLGM9dC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSx1PXIucGFyYW1zO3Iuc2VydmljZS5hcGkub3BlcmF0aW9ucyYmci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Iub3BlcmF0aW9uXSYmci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Iub3BlcmF0aW9uXS5pbnB1dCYmKHU9YShyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbci5vcGVyYXRpb25dLmlucHV0LHIucGFyYW1zKSk7dmFyIGw9ZSgidXRpbCIpLmluc3BlY3QodSwhMCxudWxsKSxwPSIiO3JldHVybiBzJiYocCs9IhtbMzNtIikscCs9IltBV1MgIityLnNlcnZpY2Uuc2VydmljZUlkZW50aWZpZXIrIiAiK2MscCs9IiAiK2kudG9TdHJpbmcoKSsicyAiK3QucmV0cnlDb3VudCsiIHJldHJpZXNdIixzJiYocCs9IhtbMDsxbSIpLHArPSIgIituLnV0aWwuc3RyaW5nLmxvd2VyRmlyc3Qoci5vcGVyYXRpb24pLHArPSIoIitsKyIpIixzJiYocCs9IhtbMG0iKSxwfSgpOyJmdW5jdGlvbiI9PXR5cGVvZiBvLmxvZz9vLmxvZyhpKToiZnVuY3Rpb24iPT10eXBlb2Ygby53cml0ZSYmby53cml0ZShpKyJcbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZighdClyZXR1cm4gdDtpZihlLmlzU2Vuc2l0aXZlKXJldHVybiIqKipTZW5zaXRpdmVJbmZvcm1hdGlvbioqKiI7c3dpdGNoKGUudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnZhciByPXt9O3JldHVybiBuLnV0aWwuZWFjaCh0LChmdW5jdGlvbih0LG4pe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLm1lbWJlcnMsdCk/clt0XT1hKGUubWVtYmVyc1t0XSxuKTpyW3RdPW59KSkscjtjYXNlImxpc3QiOnZhciBvPVtdO3JldHVybiBuLnV0aWwuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQsbil7by5wdXNoKGEoZS5tZW1iZXIsdCkpfSkpLG87Y2FzZSJtYXAiOnZhciBpPXt9O3JldHVybiBuLnV0aWwuZWFjaCh0LChmdW5jdGlvbih0LG4pe2lbdF09YShlLnZhbHVlLG4pfSkpLGk7ZGVmYXVsdDpyZXR1cm4gdH19fSkpfSkpLEpzb246KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9qc29uIik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSksUmVzdDoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3Jlc3QiKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKSxSZXN0SnNvbjoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3Jlc3RfanNvbiIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpLHQoIlVOU0VUX0NPTlRFTlRfTEVOR1RIIiwiYWZ0ZXJCdWlsZCIsbi51bnNldENvbnRlbnRMZW5ndGgpfSkpLFJlc3RYbWw6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9yZXN0X3htbCIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpLFF1ZXJ5OihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcXVlcnkiKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vZGlzY292ZXJfZW5kcG9pbnQiOjI3LCIuL3Byb3RvY29sL2pzb24iOjQ4LCIuL3Byb3RvY29sL3F1ZXJ5Ijo0OSwiLi9wcm90b2NvbC9yZXN0Ijo1MCwiLi9wcm90b2NvbC9yZXN0X2pzb24iOjUxLCIuL3Byb3RvY29sL3Jlc3RfeG1sIjo1MiwiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIjo2MSxfcHJvY2Vzczo5MSx1dGlsOjg1fV0sMzU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuRW5kcG9pbnQ9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtpZihyLnV0aWwuaGlkZVByb3BlcnRpZXModGhpcyxbInNsYXNoZXMiLCJhdXRoIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5Il0pLG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGVuZHBvaW50OiAiK2UpO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gci51dGlsLmNvcHkoZSk7ZS5tYXRjaCgvXmh0dHAvKXx8KGU9KCh0JiZ2b2lkIDAhPT10LnNzbEVuYWJsZWQ/dC5zc2xFbmFibGVkOnIuY29uZmlnLnNzbEVuYWJsZWQpPyJodHRwcyI6Imh0dHAiKSsiOi8vIitlKSxyLnV0aWwudXBkYXRlKHRoaXMsci51dGlsLnVybFBhcnNlKGUpKSx0aGlzLnBvcnQ/dGhpcy5wb3J0PXBhcnNlSW50KHRoaXMucG9ydCwxMCk6dGhpcy5wb3J0PSJodHRwczoiPT09dGhpcy5wcm90b2NvbD80NDM6ODB9fSksci5IdHRwUmVxdWVzdD1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe2U9bmV3IHIuRW5kcG9pbnQoZSksdGhpcy5tZXRob2Q9IlBPU1QiLHRoaXMucGF0aD1lLnBhdGh8fCIvIix0aGlzLmhlYWRlcnM9e30sdGhpcy5ib2R5PSIiLHRoaXMuZW5kcG9pbnQ9ZSx0aGlzLnJlZ2lvbj10LHRoaXMuX3VzZXJBZ2VudD0iIix0aGlzLnNldFVzZXJBZ2VudCgpfSxzZXRVc2VyQWdlbnQ6ZnVuY3Rpb24oKXt0aGlzLl91c2VyQWdlbnQ9dGhpcy5oZWFkZXJzW3RoaXMuZ2V0VXNlckFnZW50SGVhZGVyTmFtZSgpXT1yLnV0aWwudXNlckFnZW50KCl9LGdldFVzZXJBZ2VudEhlYWRlck5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4oci51dGlsLmlzQnJvd3NlcigpPyJYLUFtei0iOiIiKSsiVXNlci1BZ2VudCJ9LGFwcGVuZFRvVXNlckFnZW50OmZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZSYmZSYmKHRoaXMuX3VzZXJBZ2VudCs9IiAiK2UpLHRoaXMuaGVhZGVyc1t0aGlzLmdldFVzZXJBZ2VudEhlYWRlck5hbWUoKV09dGhpcy5fdXNlckFnZW50fSxnZXRVc2VyQWdlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlckFnZW50fSxwYXRobmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguc3BsaXQoIj8iLDEpWzBdfSxzZWFyY2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhdGguc3BsaXQoIj8iLDIpWzFdO3JldHVybiBlPyhlPXIudXRpbC5xdWVyeVN0cmluZ1BhcnNlKGUpLHIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKGUpKToiIn0sdXBkYXRlRW5kcG9pbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHIuRW5kcG9pbnQoZSk7dGhpcy5lbmRwb2ludD10LHRoaXMucGF0aD10LnBhdGh8fCIvIix0aGlzLmhlYWRlcnMuSG9zdCYmKHRoaXMuaGVhZGVycy5Ib3N0PXQuaG9zdCl9fSksci5IdHRwUmVzcG9uc2U9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLnN0YXR1c0NvZGU9dm9pZCAwLHRoaXMuaGVhZGVycz17fSx0aGlzLmJvZHk9dm9pZCAwLHRoaXMuc3RyZWFtaW5nPSExLHRoaXMuc3RyZWFtPW51bGx9LGNyZWF0ZVVuYnVmZmVyZWRTdHJlYW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW1pbmc9ITAsdGhpcy5zdHJlYW19fSksci5IdHRwQ2xpZW50PW8oe30pLHIuSHR0cENsaWVudC5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLnNpbmdsZXRvbiYmKHRoaXMuc2luZ2xldG9uPW5ldyB0aGlzKSx0aGlzLnNpbmdsZXRvbn19LHsiLi9jb3JlIjoxOX1dLDM2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLGk9ZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2UoIi4uL2h0dHAiKSxyLlhIUkNsaWVudD1yLnV0aWwuaW5oZXJpdCh7aGFuZGxlUmVxdWVzdDpmdW5jdGlvbihlLHQsbixhKXt2YXIgcz10aGlzLGM9ZS5lbmRwb2ludCx1PW5ldyBpLGw9Yy5wcm90b2NvbCsiLy8iK2MuaG9zdG5hbWU7ODAhPT1jLnBvcnQmJjQ0MyE9PWMucG9ydCYmKGwrPSI6IitjLnBvcnQpLGwrPWUucGF0aDt2YXIgcD1uZXcgWE1MSHR0cFJlcXVlc3QsZD0hMTtlLnN0cmVhbT1wLHAuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsKGZ1bmN0aW9uKCl7dHJ5e2lmKDA9PT1wLnN0YXR1cylyZXR1cm59Y2F0Y2goZSl7cmV0dXJufXRoaXMucmVhZHlTdGF0ZT49dGhpcy5IRUFERVJTX1JFQ0VJVkVEJiYhZCYmKHUuc3RhdHVzQ29kZT1wLnN0YXR1cyx1LmhlYWRlcnM9cy5wYXJzZUhlYWRlcnMocC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSksdS5lbWl0KCJoZWFkZXJzIix1LnN0YXR1c0NvZGUsdS5oZWFkZXJzLHAuc3RhdHVzVGV4dCksZD0hMCksdGhpcy5yZWFkeVN0YXRlPT09dGhpcy5ET05FJiZzLmZpbmlzaFJlcXVlc3QocCx1KX0pLCExKSxwLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsKGZ1bmN0aW9uKGUpe3UuZW1pdCgic2VuZFByb2dyZXNzIixlKX0pKSxwLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwoZnVuY3Rpb24oZSl7dS5lbWl0KCJyZWNlaXZlUHJvZ3Jlc3MiLGUpfSksITEpLHAuYWRkRXZlbnRMaXN0ZW5lcigidGltZW91dCIsKGZ1bmN0aW9uKCl7YShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJUaW1lb3V0Iikse2NvZGU6IlRpbWVvdXRFcnJvciJ9KSl9KSwhMSkscC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsKGZ1bmN0aW9uKCl7YShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJOZXR3b3JrIEZhaWx1cmUiKSx7Y29kZToiTmV0d29ya2luZ0Vycm9yIn0pKX0pLCExKSxwLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IiwoZnVuY3Rpb24oKXthKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIlJlcXVlc3QgYWJvcnRlZCIpLHtjb2RlOiJSZXF1ZXN0QWJvcnRlZEVycm9yIn0pKX0pLCExKSxuKHUpLHAub3BlbihlLm1ldGhvZCxsLCExIT09dC54aHJBc3luYyksci51dGlsLmVhY2goZS5oZWFkZXJzLChmdW5jdGlvbihlLHQpeyJDb250ZW50LUxlbmd0aCIhPT1lJiYiVXNlci1BZ2VudCIhPT1lJiYiSG9zdCIhPT1lJiZwLnNldFJlcXVlc3RIZWFkZXIoZSx0KX0pKSx0LnRpbWVvdXQmJiExIT09dC54aHJBc3luYyYmKHAudGltZW91dD10LnRpbWVvdXQpLHQueGhyV2l0aENyZWRlbnRpYWxzJiYocC53aXRoQ3JlZGVudGlhbHM9ITApO3RyeXtwLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIifWNhdGNoKGUpe310cnl7ZS5ib2R5P3Auc2VuZChlLmJvZHkpOnAuc2VuZCgpfWNhdGNoKHQpe2lmKCFlLmJvZHl8fCJvYmplY3QiIT09byhlLmJvZHkuYnVmZmVyKSl0aHJvdyB0O3Auc2VuZChlLmJvZHkuYnVmZmVyKX1yZXR1cm4gdX0scGFyc2VIZWFkZXJzOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiByLnV0aWwuYXJyYXlFYWNoKGUuc3BsaXQoL1xyP1xuLyksKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3BsaXQoIjoiLDEpWzBdLHI9ZS5zdWJzdHJpbmcobi5sZW5ndGgrMik7bi5sZW5ndGg+MCYmKHRbbi50b0xvd2VyQ2FzZSgpXT1yKX0pKSx0fSxmaW5pc2hSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoImFycmF5YnVmZmVyIj09PWUucmVzcG9uc2VUeXBlJiZlLnJlc3BvbnNlKXt2YXIgbz1lLnJlc3BvbnNlO249bmV3IHIudXRpbC5CdWZmZXIoby5ieXRlTGVuZ3RoKTtmb3IodmFyIGk9bmV3IFVpbnQ4QXJyYXkobyksYT0wO2E8bi5sZW5ndGg7KythKW5bYV09aVthXX10cnl7bnx8InN0cmluZyIhPXR5cGVvZiBlLnJlc3BvbnNlVGV4dHx8KG49bmV3IHIudXRpbC5CdWZmZXIoZS5yZXNwb25zZVRleHQpKX1jYXRjaChlKXt9biYmdC5lbWl0KCJkYXRhIixuKSx0LmVtaXQoImVuZCIpfX0pLHIuSHR0cENsaWVudC5wcm90b3R5cGU9ci5YSFJDbGllbnQucHJvdG90eXBlLHIuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj0xfSx7Ii4uL2NvcmUiOjE5LCIuLi9odHRwIjozNSxldmVudHM6ODd9XSwzNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKTtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGkoZSx0KXtpZih0JiZudWxsIT1lKXN3aXRjaCh0LnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih0LmlzRG9jdW1lbnQpcmV0dXJuIGU7dmFyIG49e307cmV0dXJuIHIuZWFjaChlLChmdW5jdGlvbihlLHIpe3ZhciBvPXQubWVtYmVyc1tlXTtpZihvKXtpZigiYm9keSIhPT1vLmxvY2F0aW9uKXJldHVybjt2YXIgYT1vLmlzTG9jYXRpb25OYW1lP28ubmFtZTplLHM9aShyLG8pO3ZvaWQgMCE9PXMmJihuW2FdPXMpfX0pKSxufShlLHQpO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gci5lYWNoKGUsKGZ1bmN0aW9uKGUscil7dmFyIG89aShyLHQudmFsdWUpO3ZvaWQgMCE9PW8mJihuW2VdPW8pfSkpLG59KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gci5hcnJheUVhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHI9aShlLHQubWVtYmVyKTt2b2lkIDAhPT1yJiZuLnB1c2gocil9KSksbn0oZSx0KTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvV2lyZUZvcm1hdChlKX0oZSx0KX19by5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaShlLHQpKX0sdC5leHBvcnRzPW99LHsiLi4vdXRpbCI6NzR9XSwzODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKTtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGkoZSx0KXtpZih0JiZ2b2lkIDAhPT1lKXN3aXRjaCh0LnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXtpZih0LmlzRG9jdW1lbnQpcmV0dXJuIGU7dmFyIG49e30sbz10Lm1lbWJlcnMsYT10LmFwaSYmdC5hcGkuYXdzUXVlcnlDb21wYXRpYmxlO3JldHVybiByLmVhY2gobywoZnVuY3Rpb24odCxyKXt2YXIgbz1yLmlzTG9jYXRpb25OYW1lP3IubmFtZTp0O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1pKGVbb10scik7dm9pZCAwIT09cyYmKG5bdF09cyl9ZWxzZSBhJiZyLmRlZmF1bHRWYWx1ZSYmImxpc3QiPT09ci50eXBlJiYoblt0XT0iZnVuY3Rpb24iPT10eXBlb2Ygci5kZWZhdWx0VmFsdWU/ci5kZWZhdWx0VmFsdWUoKTpyLmRlZmF1bHRWYWx1ZSl9KSksbn19KGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe3ZhciBuPXt9O3JldHVybiByLmVhY2goZSwoZnVuY3Rpb24oZSxyKXt2YXIgbz1pKHIsdC52YWx1ZSk7bltlXT12b2lkIDA9PT1vP251bGw6b30pKSxufX0oZSx0KTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe3ZhciBuPVtdO3JldHVybiByLmFycmF5RWFjaChlLChmdW5jdGlvbihlKXt2YXIgcj1pKGUsdC5tZW1iZXIpO3ZvaWQgMD09PXI/bi5wdXNoKG51bGwpOm4ucHVzaChyKX0pKSxufX0oZSx0KTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVHlwZShlKX0oZSx0KX19by5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShKU09OLnBhcnNlKGUpLHQpfSx0LmV4cG9ydHM9b30seyIuLi91dGlsIjo3NH1dLDM5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpe3ZhciBuPVsiVGhlIEFXUyBTREsgZm9yIEphdmFTY3JpcHQgKHYyKSB3aWxsIGVudGVyIG1haW50ZW5hbmNlIG1vZGUiLCJvbiBTZXB0ZW1iZXIgOCwgMjAyNCBhbmQgcmVhY2ggZW5kLW9mLXN1cHBvcnQgb24gU2VwdGVtYmVyIDgsIDIwMjUuXG4iLCJQbGVhc2UgbWlncmF0ZSB5b3VyIGNvZGUgdG8gdXNlIEFXUyBTREsgZm9yIEphdmFTY3JpcHQgKHYzKS4iLCJGb3IgbW9yZSBpbmZvcm1hdGlvbiwgY2hlY2sgYmxvZyBwb3N0IGF0IGh0dHBzOi8vYS5jby9jVVBueWlsIl0uam9pbigiXG4iKTt0LmV4cG9ydHM9e3N1cHByZXNzOiExfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZXhwb3J0cy5zdXBwcmVzc3x8dm9pZCAwIT09ZSYmKCJvYmplY3QiPT09byhlLmVudikmJnZvaWQgMCE9PWUuZW52LkFXU19FWEVDVVRJT05fRU5WJiYwPT09ZS5lbnYuQVdTX0VYRUNVVElPTl9FTlYuaW5kZXhPZigiQVdTX0xhbWJkYV8iKXx8Im9iamVjdCI9PT1vKGUuZW52KSYmdm9pZCAwIT09ZS5lbnYuQVdTX1NES19KU19TVVBQUkVTU19NQUlOVEVOQU5DRV9NT0RFX01FU1NBR0V8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLmVtaXRXYXJuaW5nJiZlLmVtaXRXYXJuaW5nKG4se3R5cGU6Ik5PVEUifSkpfSksMCl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7X3Byb2Nlc3M6OTF9XSw0MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29sbGVjdGlvbiIpLG89ZSgiLi9vcGVyYXRpb24iKSxpPWUoIi4vc2hhcGUiKSxhPWUoIi4vcGFnaW5hdG9yIikscz1lKCIuL3Jlc291cmNlX3dhaXRlciIpLGM9ZSgiLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uIiksdT1lKCIuLi91dGlsIiksbD11LnByb3BlcnR5LHA9dS5tZW1vaXplZFByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7ZT1lfHx7fSwodD10fHx7fSkuYXBpPXRoaXMsZS5tZXRhZGF0YT1lLm1ldGFkYXRhfHx7fTt2YXIgZD10LnNlcnZpY2VJZGVudGlmaWVyO2RlbGV0ZSB0LnNlcnZpY2VJZGVudGlmaWVyLGwodGhpcywiaXNBcGkiLCEwLCExKSxsKHRoaXMsImFwaVZlcnNpb24iLGUubWV0YWRhdGEuYXBpVmVyc2lvbiksbCh0aGlzLCJlbmRwb2ludFByZWZpeCIsZS5tZXRhZGF0YS5lbmRwb2ludFByZWZpeCksbCh0aGlzLCJzaWduaW5nTmFtZSIsZS5tZXRhZGF0YS5zaWduaW5nTmFtZSksbCh0aGlzLCJnbG9iYWxFbmRwb2ludCIsZS5tZXRhZGF0YS5nbG9iYWxFbmRwb2ludCksbCh0aGlzLCJzaWduYXR1cmVWZXJzaW9uIixlLm1ldGFkYXRhLnNpZ25hdHVyZVZlcnNpb24pLGwodGhpcywianNvblZlcnNpb24iLGUubWV0YWRhdGEuanNvblZlcnNpb24pLGwodGhpcywidGFyZ2V0UHJlZml4IixlLm1ldGFkYXRhLnRhcmdldFByZWZpeCksbCh0aGlzLCJwcm90b2NvbCIsZS5tZXRhZGF0YS5wcm90b2NvbCksbCh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLGUubWV0YWRhdGEudGltZXN0YW1wRm9ybWF0KSxsKHRoaXMsInhtbE5hbWVzcGFjZVVyaSIsZS5tZXRhZGF0YS54bWxOYW1lc3BhY2UpLGwodGhpcywiYWJicmV2aWF0aW9uIixlLm1ldGFkYXRhLnNlcnZpY2VBYmJyZXZpYXRpb24pLGwodGhpcywiZnVsbE5hbWUiLGUubWV0YWRhdGEuc2VydmljZUZ1bGxOYW1lKSxsKHRoaXMsInNlcnZpY2VJZCIsZS5tZXRhZGF0YS5zZXJ2aWNlSWQpLGQmJmNbZF0mJmwodGhpcywieG1sTm9EZWZhdWx0TGlzdHMiLGNbZF0ueG1sTm9EZWZhdWx0TGlzdHMsITEpLHAodGhpcywiY2xhc3NOYW1lIiwoZnVuY3Rpb24oKXt2YXIgdD1lLm1ldGFkYXRhLnNlcnZpY2VBYmJyZXZpYXRpb258fGUubWV0YWRhdGEuc2VydmljZUZ1bGxOYW1lO3JldHVybiB0PygiRWxhc3RpY0xvYWRCYWxhbmNpbmciPT09KHQ9dC5yZXBsYWNlKC9eQW1hem9ufEFXU1xzKnxcKC4qfFxzK3xcVysvZywiIikpJiYodD0iRUxCIiksdCk6bnVsbH0pKSxsKHRoaXMsIm9wZXJhdGlvbnMiLG5ldyByKGUub3BlcmF0aW9ucyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgbyhlLG4sdCl9KSx1LnN0cmluZy5sb3dlckZpcnN0LChmdW5jdGlvbihlLHQpeyEwPT09dC5lbmRwb2ludG9wZXJhdGlvbiYmbChuLCJlbmRwb2ludE9wZXJhdGlvbiIsdS5zdHJpbmcubG93ZXJGaXJzdChlKSksdC5lbmRwb2ludGRpc2NvdmVyeSYmIW4uaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSYmbChuLCJoYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5IiwhMD09PXQuZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQpfSkpKSxsKHRoaXMsInNoYXBlcyIsbmV3IHIoZS5zaGFwZXMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gaS5jcmVhdGUobix0KX0pKSksbCh0aGlzLCJwYWdpbmF0b3JzIixuZXcgcihlLnBhZ2luYXRvcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IGEoZSxuLHQpfSkpKSxsKHRoaXMsIndhaXRlcnMiLG5ldyByKGUud2FpdGVycyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgcyhlLG4sdCl9KSx1LnN0cmluZy5sb3dlckZpcnN0KSksdC5kb2N1bWVudGF0aW9uJiYobCh0aGlzLCJkb2N1bWVudGF0aW9uIixlLmRvY3VtZW50YXRpb24pLGwodGhpcywiZG9jdW1lbnRhdGlvblVybCIsZS5kb2N1bWVudGF0aW9uVXJsKSksbCh0aGlzLCJhd3NRdWVyeUNvbXBhdGlibGUiLGUubWV0YWRhdGEuYXdzUXVlcnlDb21wYXRpYmxlKX19LHsiLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uIjo0LCIuLi91dGlsIjo3NCwiLi9jb2xsZWN0aW9uIjo0MSwiLi9vcGVyYXRpb24iOjQyLCIuL3BhZ2luYXRvciI6NDMsIi4vcmVzb3VyY2Vfd2FpdGVyIjo0NCwiLi9zaGFwZSI6NDV9XSw0MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKS5tZW1vaXplZFByb3BlcnR5O2Z1bmN0aW9uIG8oZSx0LG4sbyl7cih0aGlzLG8oZSksKGZ1bmN0aW9uKCl7cmV0dXJuIG4oZSx0KX0pKX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodmFyIGEgaW4gcj1yfHxTdHJpbmcsZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKSYmKG8uY2FsbCh0aGlzLGEsZVthXSxuLHIpLGkmJmkoYSxlW2FdKSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL3NoYXBlIiksbz1lKCIuLi91dGlsIiksaT1vLnByb3BlcnR5LGE9by5tZW1vaXplZFByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcztuPW58fHt9LGkodGhpcywibmFtZSIsdC5uYW1lfHxlKSxpKHRoaXMsImFwaSIsbi5hcGksITEpLHQuaHR0cD10Lmh0dHB8fHt9LGkodGhpcywiZW5kcG9pbnQiLHQuZW5kcG9pbnQpLGkodGhpcywiaHR0cE1ldGhvZCIsdC5odHRwLm1ldGhvZHx8IlBPU1QiKSxpKHRoaXMsImh0dHBQYXRoIix0Lmh0dHAucmVxdWVzdFVyaXx8Ii8iKSxpKHRoaXMsImF1dGh0eXBlIix0LmF1dGh0eXBlfHwiIiksaSh0aGlzLCJlbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkIix0LmVuZHBvaW50ZGlzY292ZXJ5P3QuZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQ/IlJFUVVJUkVEIjoiT1BUSU9OQUwiOiJOVUxMIik7dmFyIHM9dC5odHRwQ2hlY2tzdW1SZXF1aXJlZHx8dC5odHRwQ2hlY2tzdW0mJnQuaHR0cENoZWNrc3VtLnJlcXVlc3RDaGVja3N1bVJlcXVpcmVkO2kodGhpcywiaHR0cENoZWNrc3VtUmVxdWlyZWQiLHMsITEpLGEodGhpcywiaW5wdXQiLChmdW5jdGlvbigpe3JldHVybiB0LmlucHV0P3IuY3JlYXRlKHQuaW5wdXQsbik6bmV3IHIuY3JlYXRlKHt0eXBlOiJzdHJ1Y3R1cmUifSxuKX0pKSxhKHRoaXMsIm91dHB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQub3V0cHV0P3IuY3JlYXRlKHQub3V0cHV0LG4pOm5ldyByLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0sbil9KSksYSh0aGlzLCJlcnJvcnMiLChmdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0LmVycm9ycylyZXR1cm4gbnVsbDtmb3IodmFyIG89MDtvPHQuZXJyb3JzLmxlbmd0aDtvKyspZS5wdXNoKHIuY3JlYXRlKHQuZXJyb3JzW29dLG4pKTtyZXR1cm4gZX0pKSxhKHRoaXMsInBhZ2luYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBpLnBhZ2luYXRvcnNbZV19KSksbi5kb2N1bWVudGF0aW9uJiYoaSh0aGlzLCJkb2N1bWVudGF0aW9uIix0LmRvY3VtZW50YXRpb24pLGkodGhpcywiZG9jdW1lbnRhdGlvblVybCIsdC5kb2N1bWVudGF0aW9uVXJsKSksYSh0aGlzLCJpZGVtcG90ZW50TWVtYmVycyIsKGZ1bmN0aW9uKCl7dmFyIGU9W10sdD1vLmlucHV0LG49dC5tZW1iZXJzO2lmKCF0Lm1lbWJlcnMpcmV0dXJuIGU7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmITA9PT1uW3JdLmlzSWRlbXBvdGVudCYmZS5wdXNoKHIpO3JldHVybiBlfSkpLGEodGhpcywiaGFzRXZlbnRPdXRwdXQiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm1lbWJlcnMsbj1lLnBheWxvYWQ7aWYoIWUubWVtYmVycylyZXR1cm4hMTtpZihuKXJldHVybiB0W25dLmlzRXZlbnRTdHJlYW07Zm9yKHZhciByIGluIHQpaWYoIXQuaGFzT3duUHJvcGVydHkocikmJiEwPT09dFtyXS5pc0V2ZW50U3RyZWFtKXJldHVybiEwO3JldHVybiExfShvLm91dHB1dCl9KSl9fSx7Ii4uL3V0aWwiOjc0LCIuL3NoYXBlIjo0NX1dLDQzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLnByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3IodGhpcywiaW5wdXRUb2tlbiIsdC5pbnB1dF90b2tlbikscih0aGlzLCJsaW1pdEtleSIsdC5saW1pdF9rZXkpLHIodGhpcywibW9yZVJlc3VsdHMiLHQubW9yZV9yZXN1bHRzKSxyKHRoaXMsIm91dHB1dFRva2VuIix0Lm91dHB1dF90b2tlbikscih0aGlzLCJyZXN1bHRLZXkiLHQucmVzdWx0X2tleSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1yLnByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7bj1ufHx7fSxvKHRoaXMsIm5hbWUiLGUpLG8odGhpcywiYXBpIixuLmFwaSwhMSksdC5vcGVyYXRpb24mJm8odGhpcywib3BlcmF0aW9uIixyLnN0cmluZy5sb3dlckZpcnN0KHQub3BlcmF0aW9uKSk7dmFyIGk9dGhpcztbInR5cGUiLCJkZXNjcmlwdGlvbiIsImRlbGF5IiwibWF4QXR0ZW1wdHMiLCJhY2NlcHRvcnMiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2VdO24mJm8oaSxlLG4pfSkpfX0seyIuLi91dGlsIjo3NH1dLDQ1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb2xsZWN0aW9uIiksaT1lKCIuLi91dGlsIik7ZnVuY3Rpb24gYShlLHQsbil7bnVsbCE9biYmaS5wcm9wZXJ0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlLHQpe2UuY29uc3RydWN0b3IucHJvdG90eXBlW3RdfHxpLm1lbW9pemVkUHJvcGVydHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSx0LG4pe3Q9dHx8e30sYSh0aGlzLCJzaGFwZSIsZS5zaGFwZSksYSh0aGlzLCJhcGkiLHQuYXBpLCExKSxhKHRoaXMsInR5cGUiLGUudHlwZSksYSh0aGlzLCJlbnVtIixlLmVudW0pLGEodGhpcywibWluIixlLm1pbiksYSh0aGlzLCJtYXgiLGUubWF4KSxhKHRoaXMsInBhdHRlcm4iLGUucGF0dGVybiksYSh0aGlzLCJsb2NhdGlvbiIsZS5sb2NhdGlvbnx8dGhpcy5sb2NhdGlvbnx8ImJvZHkiKSxhKHRoaXMsIm5hbWUiLHRoaXMubmFtZXx8ZS54bWxOYW1lfHxlLnF1ZXJ5TmFtZXx8ZS5sb2NhdGlvbk5hbWV8fG4pLGEodGhpcywiaXNTdHJlYW1pbmciLGUuc3RyZWFtaW5nfHx0aGlzLmlzU3RyZWFtaW5nfHwhMSksYSh0aGlzLCJyZXF1aXJlc0xlbmd0aCIsZS5yZXF1aXJlc0xlbmd0aCwhMSksYSh0aGlzLCJpc0NvbXBvc2l0ZSIsZS5pc0NvbXBvc2l0ZXx8ITEpLGEodGhpcywiaXNTaGFwZSIsITAsITEpLGEodGhpcywiaXNRdWVyeU5hbWUiLEJvb2xlYW4oZS5xdWVyeU5hbWUpLCExKSxhKHRoaXMsImlzTG9jYXRpb25OYW1lIixCb29sZWFuKGUubG9jYXRpb25OYW1lKSwhMSksYSh0aGlzLCJpc0lkZW1wb3RlbnQiLCEwPT09ZS5pZGVtcG90ZW5jeVRva2VuKSxhKHRoaXMsImlzSnNvblZhbHVlIiwhMD09PWUuanNvbnZhbHVlKSxhKHRoaXMsImlzU2Vuc2l0aXZlIiwhMD09PWUuc2Vuc2l0aXZlfHxlLnByb3RvdHlwZSYmITA9PT1lLnByb3RvdHlwZS5zZW5zaXRpdmUpLGEodGhpcywiaXNFdmVudFN0cmVhbSIsQm9vbGVhbihlLmV2ZW50c3RyZWFtKSwhMSksYSh0aGlzLCJpc0V2ZW50IixCb29sZWFuKGUuZXZlbnQpLCExKSxhKHRoaXMsImlzRXZlbnRQYXlsb2FkIixCb29sZWFuKGUuZXZlbnRwYXlsb2FkKSwhMSksYSh0aGlzLCJpc0V2ZW50SGVhZGVyIixCb29sZWFuKGUuZXZlbnRoZWFkZXIpLCExKSxhKHRoaXMsImlzVGltZXN0YW1wRm9ybWF0U2V0IixCb29sZWFuKGUudGltZXN0YW1wRm9ybWF0KXx8ZS5wcm90b3R5cGUmJiEwPT09ZS5wcm90b3R5cGUuaXNUaW1lc3RhbXBGb3JtYXRTZXQsITEpLGEodGhpcywiZW5kcG9pbnREaXNjb3ZlcnlJZCIsQm9vbGVhbihlLmVuZHBvaW50ZGlzY292ZXJ5aWQpLCExKSxhKHRoaXMsImhvc3RMYWJlbCIsQm9vbGVhbihlLmhvc3RMYWJlbCksITEpLHQuZG9jdW1lbnRhdGlvbiYmKGEodGhpcywiZG9jdW1lbnRhdGlvbiIsZS5kb2N1bWVudGF0aW9uKSxhKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLGUuZG9jdW1lbnRhdGlvblVybCkpLGUueG1sQXR0cmlidXRlJiZhKHRoaXMsImlzWG1sQXR0cmlidXRlIixlLnhtbEF0dHJpYnV0ZXx8ITEpLGEodGhpcywiZGVmYXVsdFZhbHVlIixudWxsKSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplfSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZX19ZnVuY3Rpb24gdShlKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhKHRoaXMsImlzQ29tcG9zaXRlIiwhMCksZS5mbGF0dGVuZWQmJmEodGhpcywiZmxhdHRlbmVkIixlLmZsYXR0ZW5lZHx8ITEpfWZ1bmN0aW9uIGwoZSx0KXt2YXIgbj10aGlzLGk9bnVsbCxsPSF0aGlzLmlzU2hhcGU7dS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCYmKGEodGhpcywiZGVmYXVsdFZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm57fX0pKSxhKHRoaXMsIm1lbWJlcnMiLHt9KSxhKHRoaXMsIm1lbWJlck5hbWVzIixbXSksYSh0aGlzLCJyZXF1aXJlZCIsW10pLGEodGhpcywiaXNSZXF1aXJlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksYSh0aGlzLCJpc0RvY3VtZW50IixCb29sZWFuKGUuZG9jdW1lbnQpKSksZS5tZW1iZXJzJiYoYSh0aGlzLCJtZW1iZXJzIixuZXcgcihlLm1lbWJlcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gYy5jcmVhdGUobix0LGUpfSkpKSxzKHRoaXMsIm1lbWJlck5hbWVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS54bWxPcmRlcnx8T2JqZWN0LmtleXMoZS5tZW1iZXJzKX0pKSxlLmV2ZW50JiYocyh0aGlzLCJldmVudFBheWxvYWRNZW1iZXJOYW1lIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9bi5tZW1iZXJzLHQ9bi5tZW1iZXJOYW1lcyxyPTAsbz10Lmxlbmd0aDtyPG87cisrKWlmKGVbdFtyXV0uaXNFdmVudFBheWxvYWQpcmV0dXJuIHRbcl19KSkscyh0aGlzLCJldmVudEhlYWRlck1lbWJlck5hbWVzIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9bi5tZW1iZXJzLHQ9bi5tZW1iZXJOYW1lcyxyPVtdLG89MCxpPXQubGVuZ3RoO288aTtvKyspZVt0W29dXS5pc0V2ZW50SGVhZGVyJiZyLnB1c2godFtvXSk7cmV0dXJuIHJ9KSkpKSxlLnJlcXVpcmVkJiYoYSh0aGlzLCJyZXF1aXJlZCIsZS5yZXF1aXJlZCksYSh0aGlzLCJpc1JlcXVpcmVkIiwoZnVuY3Rpb24odCl7aWYoIWkpe2k9e307Zm9yKHZhciBuPTA7bjxlLnJlcXVpcmVkLmxlbmd0aDtuKyspaVtlLnJlcXVpcmVkW25dXT0hMH1yZXR1cm4gaVt0XX0pLCExLCEwKSksYSh0aGlzLCJyZXN1bHRXcmFwcGVyIixlLnJlc3VsdFdyYXBwZXJ8fG51bGwpLGUucGF5bG9hZCYmYSh0aGlzLCJwYXlsb2FkIixlLnBheWxvYWQpLCJzdHJpbmciPT10eXBlb2YgZS54bWxOYW1lc3BhY2U/YSh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUueG1sTmFtZXNwYWNlKToib2JqZWN0Ij09PW8oZS54bWxOYW1lc3BhY2UpJiYoYSh0aGlzLCJ4bWxOYW1lc3BhY2VQcmVmaXgiLGUueG1sTmFtZXNwYWNlLnByZWZpeCksYSh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUueG1sTmFtZXNwYWNlLnVyaSkpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj10aGlzLHI9IXRoaXMuaXNTaGFwZTtpZih1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyJiZhKHRoaXMsImRlZmF1bHRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuW119KSksZS5tZW1iZXImJnModGhpcywibWVtYmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYy5jcmVhdGUoZS5tZW1iZXIsdCl9KSksdGhpcy5mbGF0dGVuZWQpe3ZhciBvPXRoaXMubmFtZTtzKHRoaXMsIm5hbWUiLChmdW5jdGlvbigpe3JldHVybiBuLm1lbWJlci5uYW1lfHxvfSkpfX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49IXRoaXMuaXNTaGFwZTt1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuJiYoYSh0aGlzLCJkZWZhdWx0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybnt9fSkpLGEodGhpcywia2V5IixjLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0sdCkpLGEodGhpcywidmFsdWUiLGMuY3JlYXRlKHt0eXBlOiJzdHJpbmcifSx0KSkpLGUua2V5JiZzKHRoaXMsImtleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY3JlYXRlKGUua2V5LHQpfSkpLGUudmFsdWUmJnModGhpcywidmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBjLmNyZWF0ZShlLnZhbHVlLHQpfSkpfWZ1bmN0aW9uIGgoKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1bInJlc3QteG1sIiwicXVlcnkiLCJlYzIiXTt0aGlzLnRvVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmFwaSYmZS5pbmRleE9mKHRoaXMuYXBpLnByb3RvY29sKT4tMT90fHwiIjp0LHRoaXMuaXNKc29uVmFsdWU/SlNPTi5wYXJzZSh0KTp0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC50b1N0cmluZz90LnRvU3RyaW5nKCk6dH0sdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNKc29uVmFsdWU/SlNPTi5zdHJpbmdpZnkoZSk6ZX19ZnVuY3Rpb24gZigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3ZhciB0PWkuYmFzZTY0LmRlY29kZShlKTtpZih0aGlzLmlzU2Vuc2l0aXZlJiZpLmlzTm9kZSgpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5CdWZmZXIuYWxsb2Mpe3ZhciBuPWkuQnVmZmVyLmFsbG9jKHQubGVuZ3RoLHQpO3QuZmlsbCgwKSx0PW59cmV0dXJuIHR9LHRoaXMudG9XaXJlRm9ybWF0PWkuYmFzZTY0LmVuY29kZX1mdW5jdGlvbiBnKCl7Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbSgpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZTpudWxsPT1lP251bGw6InRydWUiPT09ZX19Yy5ub3JtYWxpemVkVHlwZXM9e2NoYXJhY3Rlcjoic3RyaW5nIixkb3VibGU6ImZsb2F0Iixsb25nOiJpbnRlZ2VyIixzaG9ydDoiaW50ZWdlciIsYmlnaW50ZWdlcjoiaW50ZWdlciIsYmlnZGVjaW1hbDoiZmxvYXQiLGJsb2I6ImJpbmFyeSJ9LGMudHlwZXM9e3N0cnVjdHVyZTpsLGxpc3Q6cCxtYXA6ZCxib29sZWFuOm0sdGltZXN0YW1wOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoYy5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50aW1lc3RhbXBGb3JtYXQpYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLGUudGltZXN0YW1wRm9ybWF0KTtlbHNlIGlmKHQuaXNUaW1lc3RhbXBGb3JtYXRTZXQmJnRoaXMudGltZXN0YW1wRm9ybWF0KWEodGhpcywidGltZXN0YW1wRm9ybWF0Iix0aGlzLnRpbWVzdGFtcEZvcm1hdCk7ZWxzZSBpZigiaGVhZGVyIj09PXRoaXMubG9jYXRpb24pYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJyZmM4MjIiKTtlbHNlIGlmKCJxdWVyeXN0cmluZyI9PT10aGlzLmxvY2F0aW9uKWEodGhpcywidGltZXN0YW1wRm9ybWF0IiwiaXNvODYwMSIpO2Vsc2UgaWYodGhpcy5hcGkpc3dpdGNoKHRoaXMuYXBpLnByb3RvY29sKXtjYXNlImpzb24iOmNhc2UicmVzdC1qc29uIjphKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsInVuaXhUaW1lc3RhbXAiKTticmVhaztjYXNlInJlc3QteG1sIjpjYXNlInF1ZXJ5IjpjYXNlImVjMiI6YSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJpc284NjAxIil9dGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgZS50b1VUQ1N0cmluZz9lOiJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlP2kuZGF0ZS5wYXJzZVRpbWVzdGFtcChlKTpudWxsfSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gaS5kYXRlLmZvcm1hdChlLHQudGltZXN0YW1wRm9ybWF0KX19LGZsb2F0OmZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpwYXJzZUZsb2F0KGUpfSx0aGlzLnRvV2lyZUZvcm1hdD10aGlzLnRvVHlwZX0saW50ZWdlcjpmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6cGFyc2VJbnQoZSwxMCl9LHRoaXMudG9XaXJlRm9ybWF0PXRoaXMudG9UeXBlfSxzdHJpbmc6aCxiYXNlNjQ6ZyxiaW5hcnk6Zn0sYy5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7aWYoZS5zaGFwZSl7dmFyIG49dC5hcGkuc2hhcGVzW2Uuc2hhcGVdO2lmKCFuKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgc2hhcGUgcmVmZXJlbmNlOiAiK2Uuc2hhcGUpO3JldHVybiBufXJldHVybiBudWxsfSxjLmNyZWF0ZT1mdW5jdGlvbihlLHQsbil7aWYoZS5pc1NoYXBlKXJldHVybiBlO3ZhciByPWMucmVzb2x2ZShlLHQpO2lmKHIpe3ZhciBvPU9iamVjdC5rZXlzKGUpO3QuZG9jdW1lbnRhdGlvbnx8KG89by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLm1hdGNoKC9kb2N1bWVudGF0aW9uLyl9KSkpO3ZhciBpPWZ1bmN0aW9uKCl7ci5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSx0LG4pfTtyZXR1cm4gaS5wcm90b3R5cGU9cixuZXcgaX1lLnR5cGV8fChlLm1lbWJlcnM/ZS50eXBlPSJzdHJ1Y3R1cmUiOmUubWVtYmVyP2UudHlwZT0ibGlzdCI6ZS5rZXk/ZS50eXBlPSJtYXAiOmUudHlwZT0ic3RyaW5nIik7dmFyIGE9ZS50eXBlO2lmKGMubm9ybWFsaXplZFR5cGVzW2UudHlwZV0mJihlLnR5cGU9Yy5ub3JtYWxpemVkVHlwZXNbZS50eXBlXSksYy50eXBlc1tlLnR5cGVdKXJldHVybiBuZXcgYy50eXBlc1tlLnR5cGVdKGUsdCxuKTt0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBzaGFwZSB0eXBlOiAiK2EpfSxjLnNoYXBlcz17U3RydWN0dXJlU2hhcGU6bCxMaXN0U2hhcGU6cCxNYXBTaGFwZTpkLFN0cmluZ1NoYXBlOmgsQm9vbGVhblNoYXBlOm0sQmFzZTY0U2hhcGU6Z30sdC5leHBvcnRzPWN9LHsiLi4vdXRpbCI6NzQsIi4vY29sbGVjdGlvbiI6NDF9XSw0NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpO3IuUGFyYW1WYWxpZGF0b3I9ci51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpeyEwIT09ZSYmdm9pZCAwIT09ZXx8KGU9e21pbjohMH0pLHRoaXMudmFsaWRhdGlvbj1lfSx2YWxpZGF0ZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5lcnJvcnM9W10sdGhpcy52YWxpZGF0ZU1lbWJlcihlLHR8fHt9LG58fCJwYXJhbXMiKSx0aGlzLmVycm9ycy5sZW5ndGg+MSl7dmFyIG89dGhpcy5lcnJvcnMuam9pbigiXG4qICIpO3Rocm93IG89IlRoZXJlIHdlcmUgIit0aGlzLmVycm9ycy5sZW5ndGgrIiB2YWxpZGF0aW9uIGVycm9yczpcbiogIitvLHIudXRpbC5lcnJvcihuZXcgRXJyb3Iobykse2NvZGU6Ik11bHRpcGxlVmFsaWRhdGlvbkVycm9ycyIsZXJyb3JzOnRoaXMuZXJyb3JzfSl9aWYoMT09PXRoaXMuZXJyb3JzLmxlbmd0aCl0aHJvdyB0aGlzLmVycm9yc1swXTtyZXR1cm4hMH0sZmFpbDpmdW5jdGlvbihlLHQpe3RoaXMuZXJyb3JzLnB1c2goci51dGlsLmVycm9yKG5ldyBFcnJvcih0KSx7Y29kZTplfSkpfSx2YWxpZGF0ZVN0cnVjdHVyZTpmdW5jdGlvbihlLHQsbil7aWYoZS5pc0RvY3VtZW50KXJldHVybiEwO3ZhciByO3RoaXMudmFsaWRhdGVUeXBlKHQsbixbIm9iamVjdCJdLCJzdHJ1Y3R1cmUiKTtmb3IodmFyIG89MDtlLnJlcXVpcmVkJiZvPGUucmVxdWlyZWQubGVuZ3RoO28rKyl7dmFyIGk9dFtyPWUucmVxdWlyZWRbb11dO251bGw9PWkmJnRoaXMuZmFpbCgiTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyIiwiTWlzc2luZyByZXF1aXJlZCBrZXkgJyIrcisiJyBpbiAiK24pfWZvcihyIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpe3ZhciBhPXRbcl0scz1lLm1lbWJlcnNbcl07aWYodm9pZCAwIT09cyl7dmFyIGM9W24scl0uam9pbigiLiIpO3RoaXMudmFsaWRhdGVNZW1iZXIocyxhLGMpfWVsc2UgbnVsbCE9YSYmdGhpcy5mYWlsKCJVbmV4cGVjdGVkUGFyYW1ldGVyIiwiVW5leHBlY3RlZCBrZXkgJyIrcisiJyBmb3VuZCBpbiAiK24pfXJldHVybiEwfSx2YWxpZGF0ZU1lbWJlcjpmdW5jdGlvbihlLHQsbil7c3dpdGNoKGUudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiB0aGlzLnZhbGlkYXRlU3RydWN0dXJlKGUsdCxuKTtjYXNlImxpc3QiOnJldHVybiB0aGlzLnZhbGlkYXRlTGlzdChlLHQsbik7Y2FzZSJtYXAiOnJldHVybiB0aGlzLnZhbGlkYXRlTWFwKGUsdCxuKTtkZWZhdWx0OnJldHVybiB0aGlzLnZhbGlkYXRlU2NhbGFyKGUsdCxuKX19LHZhbGlkYXRlTGlzdDpmdW5jdGlvbihlLHQsbil7aWYodGhpcy52YWxpZGF0ZVR5cGUodCxuLFtBcnJheV0pKXt0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0Lmxlbmd0aCxuLCJsaXN0IG1lbWJlciBjb3VudCIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMudmFsaWRhdGVNZW1iZXIoZS5tZW1iZXIsdFtyXSxuKyJbIityKyJdIil9fSx2YWxpZGF0ZU1hcDpmdW5jdGlvbihlLHQsbil7aWYodGhpcy52YWxpZGF0ZVR5cGUodCxuLFsib2JqZWN0Il0sIm1hcCIpKXt2YXIgcj0wO2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYodGhpcy52YWxpZGF0ZU1lbWJlcihlLmtleSxvLG4rIltrZXk9JyIrbysiJ10iKSx0aGlzLnZhbGlkYXRlTWVtYmVyKGUudmFsdWUsdFtvXSxuKyJbJyIrbysiJ10iKSxyKyspO3RoaXMudmFsaWRhdGVSYW5nZShlLHIsbiwibWFwIG1lbWJlciBjb3VudCIpfX0sdmFsaWRhdGVTY2FsYXI6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChlLnR5cGUpe2Nhc2UgbnVsbDpjYXNlIHZvaWQgMDpjYXNlInN0cmluZyI6cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmcoZSx0LG4pO2Nhc2UiYmFzZTY0IjpjYXNlImJpbmFyeSI6cmV0dXJuIHRoaXMudmFsaWRhdGVQYXlsb2FkKHQsbik7Y2FzZSJpbnRlZ2VyIjpjYXNlImZsb2F0IjpyZXR1cm4gdGhpcy52YWxpZGF0ZU51bWJlcihlLHQsbik7Y2FzZSJib29sZWFuIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVR5cGUodCxuLFsiYm9vbGVhbiJdKTtjYXNlInRpbWVzdGFtcCI6cmV0dXJuIHRoaXMudmFsaWRhdGVUeXBlKHQsbixbRGF0ZSwvXlxkezR9LVxkezJ9LVxkezJ9VFxkezJ9OlxkezJ9OlxkezJ9KFwuXGQrKT9aJC8sIm51bWJlciJdLCJEYXRlIG9iamVjdCwgSVNPLTg2MDEgc3RyaW5nLCBvciBhIFVOSVggdGltZXN0YW1wIik7ZGVmYXVsdDpyZXR1cm4gdGhpcy5mYWlsKCJVbmtvd25UeXBlIiwiVW5oYW5kbGVkIHR5cGUgIitlLnR5cGUrIiBmb3IgIituKX19LHZhbGlkYXRlU3RyaW5nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bInN0cmluZyJdO2UuaXNKc29uVmFsdWUmJihyPXIuY29uY2F0KFsibnVtYmVyIiwib2JqZWN0IiwiYm9vbGVhbiJdKSksbnVsbCE9PXQmJnRoaXMudmFsaWRhdGVUeXBlKHQsbixyKSYmKHRoaXMudmFsaWRhdGVFbnVtKGUsdCxuKSx0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0Lmxlbmd0aCxuLCJzdHJpbmcgbGVuZ3RoIiksdGhpcy52YWxpZGF0ZVBhdHRlcm4oZSx0LG4pLHRoaXMudmFsaWRhdGVVcmkoZSx0LG4pKX0sdmFsaWRhdGVVcmk6ZnVuY3Rpb24oZSx0LG4peyJ1cmkiPT09ZS5sb2NhdGlvbiYmMD09PXQubGVuZ3RoJiZ0aGlzLmZhaWwoIlVyaVBhcmFtZXRlckVycm9yIiwnRXhwZWN0ZWQgdXJpIHBhcmFtZXRlciB0byBoYXZlIGxlbmd0aCA+PSAxLCBidXQgZm91bmQgIicrdCsnIiBmb3IgJytuKX0sdmFsaWRhdGVQYXR0ZXJuOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbGlkYXRpb24ucGF0dGVybiYmdm9pZCAwIT09ZS5wYXR0ZXJuJiYobmV3IFJlZ0V4cChlLnBhdHRlcm4pLnRlc3QodCl8fHRoaXMuZmFpbCgiUGF0dGVybk1hdGNoRXJyb3IiLCdQcm92aWRlZCB2YWx1ZSAiJyt0KyciIGRvZXMgbm90IG1hdGNoIHJlZ2V4IHBhdHRlcm4gLycrZS5wYXR0ZXJuKyIvIGZvciAiK24pKX0sdmFsaWRhdGVSYW5nZTpmdW5jdGlvbihlLHQsbixyKXt0aGlzLnZhbGlkYXRpb24ubWluJiZ2b2lkIDAhPT1lLm1pbiYmdDxlLm1pbiYmdGhpcy5mYWlsKCJNaW5SYW5nZUVycm9yIiwiRXhwZWN0ZWQgIityKyIgPj0gIitlLm1pbisiLCBidXQgZm91bmQgIit0KyIgZm9yICIrbiksdGhpcy52YWxpZGF0aW9uLm1heCYmdm9pZCAwIT09ZS5tYXgmJnQ+ZS5tYXgmJnRoaXMuZmFpbCgiTWF4UmFuZ2VFcnJvciIsIkV4cGVjdGVkICIrcisiIDw9ICIrZS5tYXgrIiwgYnV0IGZvdW5kICIrdCsiIGZvciAiK24pfSx2YWxpZGF0ZUVudW06ZnVuY3Rpb24oZSx0LG4pe3RoaXMudmFsaWRhdGlvbi5lbnVtJiZ2b2lkIDAhPT1lLmVudW0mJi0xPT09ZS5lbnVtLmluZGV4T2YodCkmJnRoaXMuZmFpbCgiRW51bUVycm9yIiwiRm91bmQgc3RyaW5nIHZhbHVlIG9mICIrdCsiLCBidXQgZXhwZWN0ZWQgIitlLmVudW0uam9pbigifCIpKyIgZm9yICIrbil9LHZhbGlkYXRlVHlwZTpmdW5jdGlvbihlLHQsbixpKXtpZihudWxsPT1lKXJldHVybiExO2Zvcih2YXIgYT0hMSxzPTA7czxuLmxlbmd0aDtzKyspe2lmKCJzdHJpbmciPT10eXBlb2YgbltzXSl7aWYobyhlKT09PW5bc10pcmV0dXJuITB9ZWxzZSBpZihuW3NdaW5zdGFuY2VvZiBSZWdFeHApe2lmKChlfHwiIikudG9TdHJpbmcoKS5tYXRjaChuW3NdKSlyZXR1cm4hMH1lbHNle2lmKGUgaW5zdGFuY2VvZiBuW3NdKXJldHVybiEwO2lmKHIudXRpbC5pc1R5cGUoZSxuW3NdKSlyZXR1cm4hMDtpfHxhfHwobj1uLnNsaWNlKCkpLG5bc109ci51dGlsLnR5cGVOYW1lKG5bc10pfWE9ITB9dmFyIGM9aTtjfHwoYz1uLmpvaW4oIiwgIikucmVwbGFjZSgvLChbXixdKykkLywiLCBvciQxIikpO3ZhciB1PWMubWF0Y2goL15bYWVpb3VdL2kpPyJuIjoiIjtyZXR1cm4gdGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEiK3UrIiAiK2MpLCExfSx2YWxpZGF0ZU51bWJlcjpmdW5jdGlvbihlLHQsbil7aWYobnVsbCE9dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgcj1wYXJzZUZsb2F0KHQpO3IudG9TdHJpbmcoKT09PXQmJih0PXIpfXRoaXMudmFsaWRhdGVUeXBlKHQsbixbIm51bWJlciJdKSYmdGhpcy52YWxpZGF0ZVJhbmdlKGUsdCxuLCJudW1lcmljIHZhbHVlIil9fSx2YWxpZGF0ZVBheWxvYWQ6ZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lJiYic3RyaW5nIiE9dHlwZW9mIGUmJighZXx8Im51bWJlciIhPXR5cGVvZiBlLmJ5dGVMZW5ndGgpKXtpZihyLnV0aWwuaXNOb2RlKCkpe3ZhciBuPXIudXRpbC5zdHJlYW0uU3RyZWFtO2lmKHIudXRpbC5CdWZmZXIuaXNCdWZmZXIoZSl8fGUgaW5zdGFuY2VvZiBuKXJldHVybn1lbHNlIGlmKHZvaWQgMCE9PSgidW5kZWZpbmVkIj09dHlwZW9mIEJsb2I/InVuZGVmaW5lZCI6byhCbG9iKSkmJmUgaW5zdGFuY2VvZiBCbG9iKXJldHVybjt2YXIgaT1bIkJ1ZmZlciIsIlN0cmVhbSIsIkZpbGUiLCJCbG9iIiwiQXJyYXlCdWZmZXIiLCJEYXRhVmlldyJdO2lmKGUpZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe2lmKHIudXRpbC5pc1R5cGUoZSxpW2FdKSlyZXR1cm47aWYoci51dGlsLnR5cGVOYW1lKGUuY29uc3RydWN0b3IpPT09aVthXSlyZXR1cm59dGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEgc3RyaW5nLCBCdWZmZXIsIFN0cmVhbSwgQmxvYiwgb3IgdHlwZWQgYXJyYXkgb2JqZWN0Iil9fX0pfSx7Ii4vY29yZSI6MTl9XSw0NzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL2NvcmUiKTt0LmV4cG9ydHM9e3BvcHVsYXRlSG9zdFByZWZpeDpmdW5jdGlvbihlKXtpZighZS5zZXJ2aWNlLmNvbmZpZy5ob3N0UHJlZml4RW5hYmxlZClyZXR1cm4gZTt2YXIgdCxuLGksYSxzLGM9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZihmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLG49dC5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxvPXQuZW5kcG9pbnRPcGVyYXRpb24mJnQuZW5kcG9pbnRPcGVyYXRpb249PT1yLnN0cmluZy5sb3dlckZpcnN0KG4ubmFtZSk7cmV0dXJuIk5VTEwiIT09bi5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkfHwhMD09PW99KGUpKXJldHVybiBlO2lmKGMuZW5kcG9pbnQmJmMuZW5kcG9pbnQuaG9zdFByZWZpeCl7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmVhY2gobi5tZW1iZXJzLChmdW5jdGlvbihuLG8pe2lmKCEwPT09by5ob3N0TGFiZWwpe2lmKCJzdHJpbmciIT10eXBlb2YgdFtuXXx8IiI9PT10W25dKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHttZXNzYWdlOiJQYXJhbWV0ZXIgIituKyIgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZy4iLGNvZGU6IkludmFsaWRQYXJhbWV0ZXIifSk7dmFyIGk9bmV3IFJlZ0V4cCgiXFx7IituKyJcXH0iLCJnIik7ZT1lLnJlcGxhY2UoaSx0W25dKX19KSksZX0oYy5lbmRwb2ludC5ob3N0UHJlZml4LGUucGFyYW1zLGMuaW5wdXQpO2E9ZS5odHRwUmVxdWVzdC5lbmRwb2ludCxzPXUsYS5ob3N0JiYoYS5ob3N0PXMrYS5ob3N0KSxhLmhvc3RuYW1lJiYoYS5ob3N0bmFtZT1zK2EuaG9zdG5hbWUpLHQ9ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxuPXQuc3BsaXQoIi4iKSxpPS9eW2EtekEtWjAtOV17MX0kfF5bYS16QS1aMC05XVthLXpBLVowLTlcLV0qW2EtekEtWjAtOV0kLyxyLmFycmF5RWFjaChuLChmdW5jdGlvbihlKXtpZighZS5sZW5ndGh8fGUubGVuZ3RoPDF8fGUubGVuZ3RoPjYzKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6Ikhvc3RuYW1lIGxhYmVsIGxlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxIHRvIDYzIGNoYXJhY3RlcnMsIGluY2x1c2l2ZS4ifSk7aWYoIWkudGVzdChlKSl0aHJvdyBvLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6ZSsiIGlzIG5vdCBob3N0bmFtZSBjb21wYXRpYmxlLiJ9KX0pKX1yZXR1cm4gZX19fSx7Ii4uL2NvcmUiOjE5LCIuLi91dGlsIjo3NH1dLDQ4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vanNvbi9idWlsZGVyIiksaT1lKCIuLi9qc29uL3BhcnNlciIpLGE9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3Qsbj1lLnNlcnZpY2UuYXBpLHI9bi50YXJnZXRQcmVmaXgrIi4iK24ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0ubmFtZSxpPW4uanNvblZlcnNpb258fCIxLjAiLHM9bi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxjPW5ldyBvOzE9PT1pJiYoaT0iMS4wIiksbi5hd3NRdWVyeUNvbXBhdGlibGUmJih0LnBhcmFtc3x8KHQucGFyYW1zPXt9KSxPYmplY3QuYXNzaWduKHQucGFyYW1zLGUucGFyYW1zKSksdC5ib2R5PWMuYnVpbGQoZS5wYXJhbXN8fHt9LHMpLHQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtYW16LWpzb24tIitpLHQuaGVhZGVyc1siWC1BbXotVGFyZ2V0Il09cixhKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj1lLmh0dHBSZXNwb25zZTtpZih0LmNvZGU9bi5oZWFkZXJzWyJ4LWFtem4tZXJyb3J0eXBlIl18fCJVbmtub3duRXJyb3IiLCJzdHJpbmciPT10eXBlb2YgdC5jb2RlJiYodC5jb2RlPXQuY29kZS5zcGxpdCgiOiIpWzBdKSxuLmJvZHkubGVuZ3RoPjApdHJ5e3ZhciBvPUpTT04ucGFyc2Uobi5ib2R5LnRvU3RyaW5nKCkpLGk9by5fX3R5cGV8fG8uY29kZXx8by5Db2RlO2Zvcih2YXIgYSBpbiBpJiYodC5jb2RlPWkuc3BsaXQoIiMiKS5wb3AoKSksIlJlcXVlc3RFbnRpdHlUb29MYXJnZSI9PT10LmNvZGU/dC5tZXNzYWdlPSJSZXF1ZXN0IGJvZHkgbXVzdCBiZSBsZXNzIHRoYW4gMSBNQiI6dC5tZXNzYWdlPW8ubWVzc2FnZXx8by5NZXNzYWdlfHxudWxsLG98fHt9KSJjb2RlIiE9PWEmJiJtZXNzYWdlIiE9PWEmJih0WyJbIithKyJdIl09IlNlZSBlcnJvci4iK2ErIiBmb3IgZGV0YWlscy4iLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGEse3ZhbHVlOm9bYV0sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pKX1jYXRjaChvKXt0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c01lc3NhZ2V9ZWxzZSB0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c0NvZGUudG9TdHJpbmcoKTtlLmVycm9yPXIuZXJyb3IobmV3IEVycm9yLHQpfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCl8fCJ7fSI7aWYoITE9PT1lLnJlcXVlc3Quc2VydmljZS5jb25maWcuY29udmVydFJlc3BvbnNlVHlwZXMpZS5kYXRhPUpTT04ucGFyc2UodCk7ZWxzZXt2YXIgbj1lLnJlcXVlc3Quc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLnJlcXVlc3Qub3BlcmF0aW9uXS5vdXRwdXR8fHt9LHI9bmV3IGk7ZS5kYXRhPXIucGFyc2UodCxuKX19fX0seyIuLi9qc29uL2J1aWxkZXIiOjM3LCIuLi9qc29uL3BhcnNlciI6MzgsIi4uL3V0aWwiOjc0LCIuL2hlbHBlcnMiOjQ3fV0sNDk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi91dGlsIiksaT1lKCIuLi9xdWVyeS9xdWVyeV9wYXJhbV9zZXJpYWxpemVyIiksYT1lKCIuLi9tb2RlbC9zaGFwZSIpLHM9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj1lLmh0dHBSZXF1ZXN0O24uaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCIsbi5wYXJhbXM9e1ZlcnNpb246ZS5zZXJ2aWNlLmFwaS5hcGlWZXJzaW9uLEFjdGlvbjp0Lm5hbWV9LChuZXcgaSkuc2VyaWFsaXplKGUucGFyYW1zLHQuaW5wdXQsKGZ1bmN0aW9uKGUsdCl7bi5wYXJhbXNbZV09dH0pKSxuLmJvZHk9by5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxzKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCk7aWYobi5tYXRjaCgiPFVua25vd25PcGVyYXRpb25FeGNlcHRpb24iKSl0PXtDb2RlOiJVbmtub3duT3BlcmF0aW9uIixNZXNzYWdlOiJVbmtub3duIG9wZXJhdGlvbiAiK2UucmVxdWVzdC5vcGVyYXRpb259O2Vsc2UgdHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKG4pfWNhdGNoKG4pe3Q9e0NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxNZXNzYWdlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2V9fXQucmVxdWVzdElkJiYhZS5yZXF1ZXN0SWQmJihlLnJlcXVlc3RJZD10LnJlcXVlc3RJZCksdC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fSxpPW47aWYoaS5yZXN1bHRXcmFwcGVyKXt2YXIgcz1hLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0pO3MubWVtYmVyc1tpLnJlc3VsdFdyYXBwZXJdPW4scy5tZW1iZXJOYW1lcz1baS5yZXN1bHRXcmFwcGVyXSxvLnByb3BlcnR5KG4sIm5hbWUiLG4ucmVzdWx0V3JhcHBlciksbj1zfXZhciBjPW5ldyByLlhNTC5QYXJzZXI7aWYobiYmbi5tZW1iZXJzJiYhbi5tZW1iZXJzLl9YQU1aUmVxdWVzdElkKXt2YXIgdT1hLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0se2FwaTp7cHJvdG9jb2w6InF1ZXJ5In19LCJyZXF1ZXN0SWQiKTtuLm1lbWJlcnMuX1hBTVpSZXF1ZXN0SWQ9dX12YXIgbD1jLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSxuKTtlLnJlcXVlc3RJZD1sLl9YQU1aUmVxdWVzdElkfHxsLnJlcXVlc3RJZCxsLl9YQU1aUmVxdWVzdElkJiZkZWxldGUgbC5fWEFNWlJlcXVlc3RJZCxpLnJlc3VsdFdyYXBwZXImJmxbaS5yZXN1bHRXcmFwcGVyXSYmKG8udXBkYXRlKGwsbFtpLnJlc3VsdFdyYXBwZXJdKSxkZWxldGUgbFtpLnJlc3VsdFdyYXBwZXJdKSxlLmRhdGE9bH19fSx7Ii4uL2NvcmUiOjE5LCIuLi9tb2RlbC9zaGFwZSI6NDUsIi4uL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXIiOjUzLCIuLi91dGlsIjo3NCwiLi9oZWxwZXJzIjo0N31dLDUwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O2Z1bmN0aW9uIGkoZSx0LG4sbyl7dmFyIGk9W2UsdF0uam9pbigiLyIpO2k9aS5yZXBsYWNlKC9cLysvZywiLyIpO3ZhciBhPXt9LHM9ITE7aWYoci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgbj1vW2VdO2lmKG51bGwhPW4paWYoInVyaSI9PT10LmxvY2F0aW9uKXt2YXIgYz1uZXcgUmVnRXhwKCJcXHsiK3QubmFtZSsiKFxcKyk/XFx9Iik7aT1pLnJlcGxhY2UoYywoZnVuY3Rpb24oZSx0KXtyZXR1cm4odD9yLnVyaUVzY2FwZVBhdGg6ci51cmlFc2NhcGUpKFN0cmluZyhuKSl9KSl9ZWxzZSJxdWVyeXN0cmluZyI9PT10LmxvY2F0aW9uJiYocz0hMCwibGlzdCI9PT10LnR5cGU/YVt0Lm5hbWVdPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci51cmlFc2NhcGUodC5tZW1iZXIudG9XaXJlRm9ybWF0KGUpLnRvU3RyaW5nKCkpfSkpOiJtYXAiPT09dC50eXBlP3IuZWFjaChuLChmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/YVtlXT10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIudXJpRXNjYXBlKFN0cmluZyhlKSl9KSk6YVtlXT1yLnVyaUVzY2FwZShTdHJpbmcodCkpfSkpOmFbdC5uYW1lXT1yLnVyaUVzY2FwZSh0LnRvV2lyZUZvcm1hdChuKS50b1N0cmluZygpKSl9KSkscyl7aSs9aS5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt2YXIgYz1bXTtyLmFycmF5RWFjaChPYmplY3Qua2V5cyhhKS5zb3J0KCksKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoYVtlXSl8fChhW2VdPVthW2VdXSk7Zm9yKHZhciB0PTA7dDxhW2VdLmxlbmd0aDt0KyspYy5wdXNoKHIudXJpRXNjYXBlKFN0cmluZyhlKSkrIj0iK2FbZV1bdF0pfSkpLGkrPWMuam9pbigiJiIpfXJldHVybiBpfXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmh0dHBNZXRob2R9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj10LmlucHV0LHI9aShlLmh0dHBSZXF1ZXN0LmVuZHBvaW50LnBhdGgsdC5odHRwUGF0aCxuLGUucGFyYW1zKTtlLmh0dHBSZXF1ZXN0LnBhdGg9cn0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtyLmVhY2godC5pbnB1dC5tZW1iZXJzLChmdW5jdGlvbih0LG4pe3ZhciBvPWUucGFyYW1zW3RdO251bGwhPW8mJigiaGVhZGVycyI9PT1uLmxvY2F0aW9uJiYibWFwIj09PW4udHlwZT9yLmVhY2gobywoZnVuY3Rpb24odCxyKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbbi5uYW1lK3RdPXJ9KSk6ImhlYWRlciI9PT1uLmxvY2F0aW9uJiYobz1uLnRvV2lyZUZvcm1hdChvKS50b1N0cmluZygpLG4uaXNKc29uVmFsdWUmJihvPXIuYmFzZTY0LmVuY29kZShvKSksZS5odHRwUmVxdWVzdC5oZWFkZXJzW24ubmFtZV09bykpfSkpfShlKSxvKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oKXt9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt9LG89ZS5odHRwUmVzcG9uc2UsaT10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLm91dHB1dCxhPXt9O3IuZWFjaChvLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7YVtlLnRvTG93ZXJDYXNlKCldPXR9KSksci5lYWNoKGkubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgaT0odC5uYW1lfHxlKS50b0xvd2VyQ2FzZSgpO2lmKCJoZWFkZXJzIj09PXQubG9jYXRpb24mJiJtYXAiPT09dC50eXBlKXtuW2VdPXt9O3ZhciBzPXQuaXNMb2NhdGlvbk5hbWU/dC5uYW1lOiIiLGM9bmV3IFJlZ0V4cCgiXiIrcysiKC4rKSIsImkiKTtyLmVhY2goby5oZWFkZXJzLChmdW5jdGlvbih0LHIpe3ZhciBvPXQubWF0Y2goYyk7bnVsbCE9PW8mJihuW2VdW29bMV1dPXIpfSkpfWVsc2UgaWYoImhlYWRlciI9PT10LmxvY2F0aW9uKXtpZih2b2lkIDAhPT1hW2ldKXt2YXIgdT10LmlzSnNvblZhbHVlP3IuYmFzZTY0LmRlY29kZShhW2ldKTphW2ldO25bZV09dC50b1R5cGUodSl9fWVsc2Uic3RhdHVzQ29kZSI9PT10LmxvY2F0aW9uJiYobltlXT1wYXJzZUludChvLnN0YXR1c0NvZGUsMTApKX0pKSxlLmRhdGE9bn0sZ2VuZXJhdGVVUkk6aX19LHsiLi4vdXRpbCI6NzQsIi4vaGVscGVycyI6NDd9XSw1MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4vcmVzdCIpLGk9ZSgiLi9qc29uIiksYT1lKCIuLi9qc29uL2J1aWxkZXIiKSxzPWUoIi4uL2pzb24vcGFyc2VyIiksYz1bIkdFVCIsIkhFQUQiLCJERUxFVEUiXTtmdW5jdGlvbiB1KGUsdCl7aWYoIWUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl0pe3ZhciBuPXQ/ImJpbmFyeS9vY3RldC1zdHJlYW0iOiJhcHBsaWNhdGlvbi9qc29uIjtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPW59fXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe28uYnVpbGRSZXF1ZXN0KGUpLGMuaW5kZXhPZihlLmh0dHBSZXF1ZXN0Lm1ldGhvZCk8MCYmZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEsbj1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0O2lmKG4ucGF5bG9hZCl7dmFyIHIsbz1uLm1lbWJlcnNbbi5wYXlsb2FkXTtyPWUucGFyYW1zW24ucGF5bG9hZF0sInN0cnVjdHVyZSI9PT1vLnR5cGU/KGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKHJ8fHt9LG8pLHUoZSkpOnZvaWQgMCE9PXImJihlLmh0dHBSZXF1ZXN0LmJvZHk9ciwoImJpbmFyeSI9PT1vLnR5cGV8fG8uaXNTdHJlYW1pbmcpJiZ1KGUsITApKX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKGUucGFyYW1zLG4pLHUoZSl9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7aS5leHRyYWN0RXJyb3IoZSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe28uZXh0cmFjdERhdGEoZSk7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXSxhPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fTtpZihuLmhhc0V2ZW50T3V0cHV0LGEucGF5bG9hZCl7dmFyIGM9YS5tZW1iZXJzW2EucGF5bG9hZF0sdT1lLmh0dHBSZXNwb25zZS5ib2R5O2lmKGMuaXNFdmVudFN0cmVhbSlsPW5ldyBzLGUuZGF0YVtwYXlsb2FkXT1yLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1BV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9lLmh0dHBSZXNwb25zZS5zdHJlYW06dSxsLGMpO2Vsc2UgaWYoInN0cnVjdHVyZSI9PT1jLnR5cGV8fCJsaXN0Ij09PWMudHlwZSl7dmFyIGw9bmV3IHM7ZS5kYXRhW2EucGF5bG9hZF09bC5wYXJzZSh1LGMpfWVsc2UiYmluYXJ5Ij09PWMudHlwZXx8Yy5pc1N0cmVhbWluZz9lLmRhdGFbYS5wYXlsb2FkXT11OmUuZGF0YVthLnBheWxvYWRdPWMudG9UeXBlKHUpfWVsc2V7dmFyIHA9ZS5kYXRhO2kuZXh0cmFjdERhdGEoZSksZS5kYXRhPXIubWVyZ2UocCxlLmRhdGEpfX0sdW5zZXRDb250ZW50TGVuZ3RoOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PXIuZ2V0UmVxdWVzdFBheWxvYWRTaGFwZShlKSYmYy5pbmRleE9mKGUuaHR0cFJlcXVlc3QubWV0aG9kKT49MCYmZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXX19fSx7Ii4uL2pzb24vYnVpbGRlciI6MzcsIi4uL2pzb24vcGFyc2VyIjozOCwiLi4vdXRpbCI6NzQsIi4vanNvbiI6NDgsIi4vcmVzdCI6NTB9XSw1MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uL3V0aWwiKSxpPWUoIi4vcmVzdCIpO3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe2kuYnVpbGRSZXF1ZXN0KGUpLFsiR0VUIiwiSEVBRCJdLmluZGV4T2YoZS5odHRwUmVxdWVzdC5tZXRob2QpPDAmJmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQsbj1uZXcgci5YTUwuQnVpbGRlcixpPWUucGFyYW1zLGE9dC5wYXlsb2FkO2lmKGEpe3ZhciBzPXQubWVtYmVyc1thXTtpZih2b2lkIDA9PT0oaT1pW2FdKSlyZXR1cm47aWYoInN0cnVjdHVyZSI9PT1zLnR5cGUpe3ZhciBjPXMubmFtZTtlLmh0dHBSZXF1ZXN0LmJvZHk9bi50b1hNTChpLHMsYywhMCl9ZWxzZSBlLmh0dHBSZXF1ZXN0LmJvZHk9aX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT1uLnRvWE1MKGksdCx0Lm5hbWV8fHQuc2hhcGV8fG8uc3RyaW5nLnVwcGVyRmlyc3QoZS5vcGVyYXRpb24pKyJSZXF1ZXN0Iil9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ7aS5leHRyYWN0RXJyb3IoZSk7dHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSl9Y2F0Y2gobil7dD17Q29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLE1lc3NhZ2U6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX19dC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0O2kuZXh0cmFjdERhdGEoZSk7dmFyIG49ZS5yZXF1ZXN0LGE9ZS5odHRwUmVzcG9uc2UuYm9keSxzPW4uc2VydmljZS5hcGkub3BlcmF0aW9uc1tuLm9wZXJhdGlvbl0sYz1zLm91dHB1dCx1PShzLmhhc0V2ZW50T3V0cHV0LGMucGF5bG9hZCk7aWYodSl7dmFyIGw9Yy5tZW1iZXJzW3VdO2wuaXNFdmVudFN0cmVhbT8odD1uZXcgci5YTUwuUGFyc2VyLGUuZGF0YVt1XT1vLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1yLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/ZS5odHRwUmVzcG9uc2Uuc3RyZWFtOmUuaHR0cFJlc3BvbnNlLmJvZHksdCxsKSk6InN0cnVjdHVyZSI9PT1sLnR5cGU/KHQ9bmV3IHIuWE1MLlBhcnNlcixlLmRhdGFbdV09dC5wYXJzZShhLnRvU3RyaW5nKCksbCkpOiJiaW5hcnkiPT09bC50eXBlfHxsLmlzU3RyZWFtaW5nP2UuZGF0YVt1XT1hOmUuZGF0YVt1XT1sLnRvVHlwZShhKX1lbHNlIGlmKGEubGVuZ3RoPjApe3ZhciBwPSh0PW5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGEudG9TdHJpbmcoKSxjKTtvLnVwZGF0ZShlLmRhdGEscCl9fX19LHsiLi4vY29yZSI6MTksIi4uL3V0aWwiOjc0LCIuL3Jlc3QiOjUwfV0sNTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUpe3JldHVybiBlLmlzUXVlcnlOYW1lfHwiZWMyIiE9PWUuYXBpLnByb3RvY29sP2UubmFtZTplLm5hbWVbMF0udG9VcHBlckNhc2UoKStlLm5hbWUuc3Vic3RyKDEpfWZ1bmN0aW9uIGEoZSx0LG4sbyl7ci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24obixyKXt2YXIgYT10W25dO2lmKG51bGwhPWEpe3ZhciBjPWkocik7cyhjPWU/ZSsiLiIrYzpjLGEscixvKX19KSl9ZnVuY3Rpb24gcyhlLHQsbixvKXtudWxsIT10JiYoInN0cnVjdHVyZSI9PT1uLnR5cGU/YShlLHQsbixvKToibGlzdCI9PT1uLnR5cGU/ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGE9bi5tZW1iZXJ8fHt9OzAhPT10Lmxlbmd0aD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPSIuIisocisxKTtpZigiZWMyIj09PW4uYXBpLnByb3RvY29sKWMrPSIiO2Vsc2UgaWYobi5mbGF0dGVuZWQpe2lmKGEubmFtZSl7dmFyIHU9ZS5zcGxpdCgiLiIpO3UucG9wKCksdS5wdXNoKGkoYSkpLGU9dS5qb2luKCIuIil9fWVsc2UgYz0iLiIrKGEubmFtZT9hLm5hbWU6Im1lbWJlciIpK2M7cyhlK2MsdCxhLG8pfSkpOm8uY2FsbCh0aGlzLGUsbnVsbCl9KGUsdCxuLG8pOiJtYXAiPT09bi50eXBlP2Z1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPTE7ci5lYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIGE9KG4uZmxhdHRlbmVkPyIuIjoiLmVudHJ5LiIpK2krKysiLiIsYz1hKyhuLmtleS5uYW1lfHwia2V5IiksdT1hKyhuLnZhbHVlLm5hbWV8fCJ2YWx1ZSIpO3MoZStjLHQsbi5rZXksbykscyhlK3UscixuLnZhbHVlLG8pfSkpfShlLHQsbixvKTpvKGUsbi50b1dpcmVGb3JtYXQodCkudG9TdHJpbmcoKSkpfW8ucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbihlLHQsbil7YSgiIixlLHQsbil9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e25vdzpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgcGVyZm9ybWFuY2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2lzRmlwc1JlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlLnN0YXJ0c1dpdGgoImZpcHMtIil8fGUuZW5kc1dpdGgoIi1maXBzIikpfSxpc0dsb2JhbFJlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJlsiYXdzLWdsb2JhbCIsImF3cy11cy1nb3YtZ2xvYmFsIl0uaW5jbHVkZXMoZSl9LGdldFJlYWxSZWdpb246ZnVuY3Rpb24oZSl7cmV0dXJuWyJmaXBzLWF3cy1nbG9iYWwiLCJhd3MtZmlwcyIsImF3cy1nbG9iYWwiXS5pbmNsdWRlcyhlKT8idXMtZWFzdC0xIjpbImZpcHMtYXdzLXVzLWdvdi1nbG9iYWwiLCJhd3MtdXMtZ292LWdsb2JhbCJdLmluY2x1ZGVzKGUpPyJ1cy1nb3Ytd2VzdC0xIjplLnJlcGxhY2UoL2ZpcHMtKGRrci18cHJvZC0pP3wtZmlwcy8sIiIpfX19LHt9XSw1NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vdXRpbCIpLG89ZSgiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiIpO2Z1bmN0aW9uIGkoZSx0KXtyLmVhY2godCwoZnVuY3Rpb24odCxuKXsiZ2xvYmFsRW5kcG9pbnQiIT09dCYmKHZvaWQgMCE9PWUuY29uZmlnW3RdJiZudWxsIT09ZS5jb25maWdbdF18fChlLmNvbmZpZ1t0XT1uKSl9KSl9dC5leHBvcnRzPXtjb25maWd1cmVFbmRwb2ludDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWcucmVnaW9uLG49ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5zcGxpdCgiLSIpO3JldHVybiB0Lmxlbmd0aDwzP251bGw6dC5zbGljZSgwLHQubGVuZ3RoLTIpLmpvaW4oIi0iKSsiLSoifSh0KSxyPWUuYXBpLmVuZHBvaW50UHJlZml4O3JldHVybltbdCxyXSxbbixyXSxbdCwiKiJdLFtuLCIqIl0sWyIqIixyXSxbdCwiaW50ZXJuYWwtKiJdLFsiKiIsIioiXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXT9lLmpvaW4oIi8iKTpudWxsfSkpfShlKSxuPWUuY29uZmlnLnVzZUZpcHNFbmRwb2ludCxyPWUuY29uZmlnLnVzZUR1YWxzdGFja0VuZHBvaW50LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtpZihzKXt2YXIgYz1uP3I/by5kdWFsc3RhY2tGaXBzUnVsZXM6by5maXBzUnVsZXM6cj9vLmR1YWxzdGFja1J1bGVzOm8ucnVsZXM7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMscykpe3ZhciB1PWNbc107InN0cmluZyI9PXR5cGVvZiB1JiYodT1vLnBhdHRlcm5zW3VdKSxlLmlzR2xvYmFsRW5kcG9pbnQ9ISF1Lmdsb2JhbEVuZHBvaW50LHUuc2lnbmluZ1JlZ2lvbiYmKGUuc2lnbmluZ1JlZ2lvbj11LnNpZ25pbmdSZWdpb24pLHUuc2lnbmF0dXJlVmVyc2lvbnx8KHUuc2lnbmF0dXJlVmVyc2lvbj0idjQiKTt2YXIgbD0iYmVhcmVyIj09PShlLmFwaSYmZS5hcGkuc2lnbmF0dXJlVmVyc2lvbik7cmV0dXJuIHZvaWQgaShlLE9iamVjdC5hc3NpZ24oe30sdSx7c2lnbmF0dXJlVmVyc2lvbjpsPyJiZWFyZXIiOnUuc2lnbmF0dXJlVmVyc2lvbn0pKX19fX0sZ2V0RW5kcG9pbnRTdWZmaXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXsiXih1c3xldXxhcHxzYXxjYXxtZSlcXC1cXHcrXFwtXFxkKyQiOiJhbWF6b25hd3MuY29tIiwiXmNuXFwtXFx3K1xcLVxcZCskIjoiYW1hem9uYXdzLmNvbS5jbiIsIl51c1xcLWdvdlxcLVxcdytcXC1cXGQrJCI6ImFtYXpvbmF3cy5jb20iLCJedXNcXC1pc29cXC1cXHcrXFwtXFxkKyQiOiJjMnMuaWMuZ292IiwiXnVzXFwtaXNvYlxcLVxcdytcXC1cXGQrJCI6InNjMnMuc2dvdi5nb3YifSxuPU9iamVjdC5rZXlzKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89UmVnRXhwKG5bcl0pLGk9dFtuW3JdXTtpZihvLnRlc3QoZSkpcmV0dXJuIGl9cmV0dXJuImFtYXpvbmF3cy5jb20ifX19LHsiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiI6NTcsIi4vdXRpbCI6NzR9XSw1NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sImV1LWlzb2UtKi8qIjoiZXVJc29lIiwidXMtaXNvLSovKiI6InVzSXNvIiwidXMtaXNvYi0qLyoiOiJ1c0lzb2IiLCIqL2J1ZGdldHMiOiJnbG9iYWxTU0wiLCIqL2Nsb3VkZnJvbnQiOiJnbG9iYWxTU0wiLCIqL3N0cyI6Imdsb2JhbFNTTCIsIiovaW1wb3J0ZXhwb3J0Ijp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiIsZ2xvYmFsRW5kcG9pbnQ6ITB9LCIqL3JvdXRlNTMiOiJnbG9iYWxTU0wiLCJjbi0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20uY24iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246ImNuLW5vcnRod2VzdC0xIn0sInVzLWdvdi0qL3JvdXRlNTMiOiJnbG9iYWxHb3ZDbG91ZCIsInVzLWlzby0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LmMycy5pYy5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzby1lYXN0LTEifSwidXMtaXNvYi0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LnNjMnMuc2dvdi5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzb2ItZWFzdC0xIn0sIiovd2FmIjoiZ2xvYmFsU1NMIiwiKi9pYW0iOiJnbG9iYWxTU0wiLCJjbi0qL2lhbSI6e2VuZHBvaW50OiJ7c2VydmljZX0uY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aC0xIn0sInVzLWlzby0qL2lhbSI6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtaXNvLWVhc3QtMS5jMnMuaWMuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc28tZWFzdC0xIn0sInVzLWdvdi0qL2lhbSI6Imdsb2JhbEdvdkNsb3VkIiwiKi9jZSI6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtZWFzdC0xLmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWVhc3QtMSJ9LCJjbi0qL2NlIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5jbi1ub3J0aHdlc3QtMS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aHdlc3QtMSJ9LCJ1cy1nb3YtKi9zdHMiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwidXMtZ292LXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtd2VzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy13ZXN0LTIvczMiOiJzM3NpZ25hdHVyZSIsImV1LXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwiYXAtc291dGhlYXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsImFwLXNvdXRoZWFzdC0yL3MzIjoiczNzaWduYXR1cmUiLCJhcC1ub3J0aGVhc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwic2EtZWFzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy1lYXN0LTEvczMiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InMzIn0sInVzLWVhc3QtMS9zZGIiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InYyIn0sIiovc2RiIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiJ9LCIqL3Jlc291cmNlLWV4cGxvcmVyLTIiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2tlbmRyYS1yYW5raW5nIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9pbnRlcm5ldG1vbml0b3IiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2NvZGVjYXRhbHlzdCI6Imdsb2JhbER1YWxzdGFja0J5RGVmYXVsdCJ9LGZpcHNSdWxlczp7IiovKiI6ImZpcHNTdGFuZGFyZCIsInVzLWdvdi0qLyoiOiJmaXBzU3RhbmRhcmQiLCJ1cy1pc28tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmMycy5pYy5nb3YifSwidXMtaXNvLSovZG1zIjoidXNJc28iLCJ1cy1pc29iLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5zYzJzLnNnb3YuZ292In0sInVzLWlzb2ItKi9kbXMiOiJ1c0lzb2IiLCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LCIqL2FwaS5lY3IiOiJmaXBzLmFwaS5lY3IiLCIqL2FwaS5zYWdlbWFrZXIiOiJmaXBzLmFwaS5zYWdlbWFrZXIiLCIqL2JhdGNoIjoiZmlwc0RvdFByZWZpeCIsIiovZWtzIjoiZmlwc0RvdFByZWZpeCIsIiovbW9kZWxzLmxleCI6ImZpcHMubW9kZWxzLmxleCIsIiovcnVudGltZS5sZXgiOiJmaXBzLnJ1bnRpbWUubGV4IiwiKi9ydW50aW1lLnNhZ2VtYWtlciI6e2VuZHBvaW50OiJydW50aW1lLWZpcHMuc2FnZW1ha2VyLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiKi9pYW0iOiJmaXBzV2l0aG91dFJlZ2lvbiIsIiovcm91dGU1MyI6ImZpcHNXaXRob3V0UmVnaW9uIiwiKi90cmFuc2NyaWJlIjoiZmlwc0RvdFByZWZpeCIsIiovd2FmIjoiZmlwc1dpdGhvdXRSZWdpb24iLCJ1cy1nb3YtKi90cmFuc2NyaWJlIjoiZmlwc0RvdFByZWZpeCIsInVzLWdvdi0qL2FwaS5lY3IiOiJmaXBzLmFwaS5lY3IiLCJ1cy1nb3YtKi9tb2RlbHMubGV4IjoiZmlwcy5tb2RlbHMubGV4IiwidXMtZ292LSovcnVudGltZS5sZXgiOiJmaXBzLnJ1bnRpbWUubGV4IiwidXMtZ292LSovYWNjZXNzLWFuYWx5emVyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FjbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hY20tcGNhIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwaS5zYWdlbWFrZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXBwY29uZmlnIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwcGxpY2F0aW9uLWF1dG9zY2FsaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2F1dG9zY2FsaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2F1dG9zY2FsaW5nLXBsYW5zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2JhdGNoIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nhc3NhbmRyYSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZGRpcmVjdG9yeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZGZvcm1hdGlvbiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZHNoZWxsIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3VkdHJhaWwiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY29uZmlnIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nvbm5lY3QiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZGF0YWJyZXciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZGxtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2RtcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9keW5hbW9kYiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lYzIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWtzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNhY2hlIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNiZWFuc3RhbGsiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY2xvYWRiYWxhbmNpbmciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY21hcHJlZHVjZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ldmVudHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZmlzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2dsYWNpZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZ3JlZW5ncmFzcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ndWFyZGR1dHkiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovaWRlbnRpdHlzdG9yZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9pbWFnZWJ1aWxkZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSova2Fma2EiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSova2luZXNpcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9sb2dzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL21lZGlhY29udmVydCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9tb25pdG9yaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL25ldHdvcmttYW5hZ2VyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL29yZ2FuaXphdGlvbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovb3V0cG9zdHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcGFydGljaXBhbnQuY29ubmVjdCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9yYW0iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcmRzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3JlZHNoaWZ0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3Jlc291cmNlLWdyb3VwcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ydW50aW1lLnNhZ2VtYWtlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2ZXJsZXNzcmVwbyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlY2F0YWxvZy1hcHByZWdpc3RyeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlcXVvdGFzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zcXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3NtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N0cmVhbXMuZHluYW1vZGIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3RzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N1cHBvcnQiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3dmIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi13ZXN0LTEvc3RhdGVzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWlzby1lYXN0LTEvZWxhc3RpY2ZpbGVzeXN0ZW0iOntlbmRwb2ludDoiZWxhc3RpY2ZpbGVzeXN0ZW0tZmlwcy57cmVnaW9ufS5jMnMuaWMuZ292In0sInVzLWdvdi13ZXN0LTEvb3JnYW5pemF0aW9ucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3Ytd2VzdC0xL3JvdXRlNTMiOntlbmRwb2ludDoicm91dGU1My51cy1nb3YuYW1hem9uYXdzLmNvbSJ9LCIqL3Jlc291cmNlLWV4cGxvcmVyLTIiOiJmaXBzRHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9rZW5kcmEtcmFua2luZyI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovaW50ZXJuZXRtb25pdG9yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9jb2RlY2F0YWx5c3QiOiJmaXBzR2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0In0sZHVhbHN0YWNrUnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFwaS5hd3MifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYW1hem9ud2Vic2VydmljZXMuY29tLmNuIn0sIiovczMiOiJkdWFsc3RhY2tMZWdhY3kiLCJjbi0qL3MzIjoiZHVhbHN0YWNrTGVnYWN5Q24iLCIqL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tMZWdhY3kiLCJjbi0qL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tMZWdhY3lDbiIsImFwLXNvdXRoLTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwiZXUtd2VzdC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInNhLWVhc3QtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJ1cy1lYXN0LTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwidXMtZWFzdC0yL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInVzLXdlc3QtMi9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIifSxkdWFsc3RhY2tGaXBzUnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmF3cyJ9LCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmFtYXpvbndlYnNlcnZpY2VzLmNvbS5jbiJ9LCIqL3MzIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeSIsImNuLSovczMiOiJkdWFsc3RhY2tGaXBzTGVnYWN5Q24iLCIqL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tGaXBzTGVnYWN5IiwiY24tKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeUNuIn0scGF0dGVybnM6e2dsb2JhbFNTTDp7ZW5kcG9pbnQ6Imh0dHBzOi8ve3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWVhc3QtMSJ9LGdsb2JhbEdvdkNsb3VkOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWdvdi5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1nb3Ytd2VzdC0xIn0sczNzaWduYXR1cmU6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoiczMifSxldUlzb2U6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uY2xvdWQuYWRjLWUudWsifSx1c0lzbzp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5jMnMuaWMuZ292In0sdXNJc29iOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LnNjMnMuc2dvdi5nb3YifSxmaXBzU3RhbmRhcmQ6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZmlwc0RvdFByZWZpeDp7ZW5kcG9pbnQ6ImZpcHMue3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxmaXBzV2l0aG91dFJlZ2lvbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmFtYXpvbmF3cy5jb20ifSwiZmlwcy5hcGkuZWNyIjp7ZW5kcG9pbnQ6ImVjci1maXBzLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiZmlwcy5hcGkuc2FnZW1ha2VyIjp7ZW5kcG9pbnQ6ImFwaS1maXBzLnNhZ2VtYWtlci57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImZpcHMubW9kZWxzLmxleCI6e2VuZHBvaW50OiJtb2RlbHMtZmlwcy5sZXgue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJmaXBzLnJ1bnRpbWUubGV4Ijp7ZW5kcG9pbnQ6InJ1bnRpbWUtZmlwcy5sZXgue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGZpcHNXaXRoU2VydmljZU9ubHk6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0xlZ2FjeTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0xlZ2FjeUNuOntlbmRwb2ludDoie3NlcnZpY2V9LmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sZHVhbHN0YWNrRmlwc0xlZ2FjeTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZHVhbHN0YWNrRmlwc0xlZ2FjeUNuOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSxkdWFsc3RhY2tMZWdhY3lFYzI6e2VuZHBvaW50OiJhcGkuZWMyLntyZWdpb259LmF3cyJ9LGR1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYXdzIn0sZmlwc0R1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hd3MifSxnbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0uZ2xvYmFsLmFwaS5hd3MifSxmaXBzR2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZ2xvYmFsLmFwaS5hd3MifX19fSx7fV0sNTg6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi9jb3JlIikscj1lKCIuL3N0YXRlX21hY2hpbmUiKSxvPW4udXRpbC5pbmhlcml0LGk9bi51dGlsLmRvbWFpbixhPWUoImptZXNwYXRoIikscz17c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0sYz1uZXcgcjtjLnNldHVwU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO24uX2hhbHRIYW5kbGVyc09uRXJyb3I9ITEsbi5lbWl0KG4uX2FzbS5jdXJyZW50U3RhdGUsKGZ1bmN0aW9uKGUpe2lmKGUpaWYocj1uLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHIuX2FzbS5jdXJyZW50U3RhdGUpKXtpZighKGkmJm4uZG9tYWluIGluc3RhbmNlb2YgaS5Eb21haW4pKXRocm93IGU7ZS5kb21haW5FbWl0dGVyPW4sZS5kb21haW49bi5kb21haW4sZS5kb21haW5UaHJvd249ITEsbi5kb21haW4uZW1pdCgiZXJyb3IiLGUpfWVsc2Ugbi5yZXNwb25zZS5lcnJvcj1lLHQoZSk7ZWxzZSB0KG4ucmVzcG9uc2UuZXJyb3IpO3ZhciByfSkpfTt0aGlzLmFkZFN0YXRlKCJ2YWxpZGF0ZSIsImJ1aWxkIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoImJ1aWxkIiwiYWZ0ZXJCdWlsZCIsInJlc3RhcnQiLGUpLHRoaXMuYWRkU3RhdGUoImFmdGVyQnVpbGQiLCJzaWduIiwicmVzdGFydCIsZSksdGhpcy5hZGRTdGF0ZSgic2lnbiIsInNlbmQiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgicmV0cnkiLCJhZnRlclJldHJ5IiwiYWZ0ZXJSZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgiYWZ0ZXJSZXRyeSIsInNpZ24iLCJlcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgic2VuZCIsInZhbGlkYXRlUmVzcG9uc2UiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgidmFsaWRhdGVSZXNwb25zZSIsImV4dHJhY3REYXRhIiwiZXh0cmFjdEVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJleHRyYWN0RXJyb3IiLCJleHRyYWN0RGF0YSIsInJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJleHRyYWN0RGF0YSIsInN1Y2Nlc3MiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgicmVzdGFydCIsImJ1aWxkIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoInN1Y2Nlc3MiLCJjb21wbGV0ZSIsImNvbXBsZXRlIixlKSx0aGlzLmFkZFN0YXRlKCJlcnJvciIsImNvbXBsZXRlIiwiY29tcGxldGUiLGUpLHRoaXMuYWRkU3RhdGUoImNvbXBsZXRlIixudWxsLG51bGwsZSl9LGMuc2V0dXBTdGF0ZXMoKSxuLlJlcXVlc3Q9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG8pe3ZhciBhPWUuZW5kcG9pbnQscz1lLmNvbmZpZy5yZWdpb24sdT1lLmNvbmZpZy5jdXN0b21Vc2VyQWdlbnQ7ZS5zaWduaW5nUmVnaW9uP3M9ZS5zaWduaW5nUmVnaW9uOmUuaXNHbG9iYWxFbmRwb2ludCYmKHM9InVzLWVhc3QtMSIpLHRoaXMuZG9tYWluPWkmJmkuYWN0aXZlLHRoaXMuc2VydmljZT1lLHRoaXMub3BlcmF0aW9uPXQsdGhpcy5wYXJhbXM9b3x8e30sdGhpcy5odHRwUmVxdWVzdD1uZXcgbi5IdHRwUmVxdWVzdChhLHMpLHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQodSksdGhpcy5zdGFydFRpbWU9ZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLHRoaXMucmVzcG9uc2U9bmV3IG4uUmVzcG9uc2UodGhpcyksdGhpcy5fYXNtPW5ldyByKGMuc3RhdGVzLCJ2YWxpZGF0ZSIpLHRoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3I9ITEsbi5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzKSx0aGlzLmVtaXQ9dGhpcy5lbWl0RXZlbnR9LHNlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCJjYWxsYmFjayIpLHRoaXMub24oImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7ZS5jYWxsKHQsdC5lcnJvcix0LmRhdGEpfSkpKSx0aGlzLnJ1blRvKCksdGhpcy5yZXNwb25zZX0sYnVpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVuVG8oInNlbmQiLGUpfSxydW5UbzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9hc20ucnVuVG8oZSx0LHRoaXMpLHRoaXN9LGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJ2YWxpZGF0ZVJlc3BvbnNlIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoImV4dHJhY3RFcnJvciIpLHRoaXMub24oInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbihlKXtlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3IoIlJlcXVlc3QgYWJvcnRlZCBieSB1c2VyIikse2NvZGU6IlJlcXVlc3RBYm9ydGVkRXJyb3IiLHJldHJ5YWJsZTohMX0pfSkpLHRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtJiYhdGhpcy5odHRwUmVxdWVzdC5zdHJlYW0uZGlkQ2FsbGJhY2smJih0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbS5hYm9ydCgpLHRoaXMuaHR0cFJlcXVlc3QuX2Fib3J0Q2FsbGJhY2s/dGhpcy5odHRwUmVxdWVzdC5fYWJvcnRDYWxsYmFjaygpOnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJzZW5kIikpLHRoaXN9LGVhY2hQYWdlOmZ1bmN0aW9uKGUpe2U9bi51dGlsLmZuLm1ha2VBc3luYyhlLDMpLHRoaXMub24oImNvbXBsZXRlIiwoZnVuY3Rpb24gdChyKXtlLmNhbGwocixyLmVycm9yLHIuZGF0YSwoZnVuY3Rpb24obyl7ITEhPT1vJiYoci5oYXNOZXh0UGFnZSgpP3IubmV4dFBhZ2UoKS5vbigiY29tcGxldGUiLHQpLnNlbmQoKTplLmNhbGwocixudWxsLG51bGwsbi51dGlsLmZuLm5vb3ApKX0pKX0pKS5zZW5kKCl9LGVhY2hJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5lYWNoUGFnZSgoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlKHIsbnVsbCk7aWYobnVsbD09PW8pcmV0dXJuIGUobnVsbCxudWxsKTt2YXIgaT10LnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0Lm9wZXJhdGlvbikucmVzdWx0S2V5O0FycmF5LmlzQXJyYXkoaSkmJihpPWlbMF0pO3ZhciBzPWEuc2VhcmNoKG8saSksYz0hMDtyZXR1cm4gbi51dGlsLmFycmF5RWFjaChzLChmdW5jdGlvbih0KXtpZighMT09PShjPWUobnVsbCx0KSkpcmV0dXJuIG4udXRpbC5hYm9ydH0pKSxjfSkpfSxpc1BhZ2VhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0aGlzLm9wZXJhdGlvbil9LGNyZWF0ZVJlYWRTdHJlYW06ZnVuY3Rpb24oKXt2YXIgZT1uLnV0aWwuc3RyZWFtLHI9dGhpcyxvPW51bGw7cmV0dXJuIDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/KG89bmV3IGUuUGFzc1Rocm91Z2gsdC5uZXh0VGljaygoZnVuY3Rpb24oKXtyLnNlbmQoKX0pKSk6KChvPW5ldyBlLlN0cmVhbSkucmVhZGFibGU9ITAsby5zZW50PSExLG8ub24oIm5ld0xpc3RlbmVyIiwoZnVuY3Rpb24oZSl7by5zZW50fHwiZGF0YSIhPT1lfHwoby5zZW50PSEwLHQubmV4dFRpY2soKGZ1bmN0aW9uKCl7ci5zZW5kKCl9KSkpfSkpKSx0aGlzLm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe28uZW1pdCgiZXJyb3IiLGUpfSkpLHRoaXMub24oImh0dHBIZWFkZXJzIiwoZnVuY3Rpb24odCxpLGEpe2lmKHQ8MzAwKXtyLnJlbW92ZUxpc3RlbmVyKCJodHRwRGF0YSIsbi5FdmVudExpc3RlbmVycy5Db3JlLkhUVFBfREFUQSksci5yZW1vdmVMaXN0ZW5lcigiaHR0cEVycm9yIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuSFRUUF9FUlJPUiksci5vbigiaHR0cEVycm9yIiwoZnVuY3Rpb24oZSl7YS5lcnJvcj1lLGEuZXJyb3IucmV0cnlhYmxlPSExfSkpO3ZhciBzLGM9ITE7aWYoIkhFQUQiIT09ci5odHRwUmVxdWVzdC5tZXRob2QmJihzPXBhcnNlSW50KGlbImNvbnRlbnQtbGVuZ3RoIl0sMTApKSx2b2lkIDAhPT1zJiYhaXNOYU4ocykmJnM+PTApe2M9ITA7dmFyIHU9MH12YXIgbD1mdW5jdGlvbigpe2MmJnUhPT1zP28uZW1pdCgiZXJyb3IiLG4udXRpbC5lcnJvcihuZXcgRXJyb3IoIlN0cmVhbSBjb250ZW50IGxlbmd0aCBtaXNtYXRjaC4gUmVjZWl2ZWQgIit1KyIgb2YgIitzKyIgYnl0ZXMuIikse2NvZGU6IlN0cmVhbUNvbnRlbnRMZW5ndGhNaXNtYXRjaCJ9KSk6Mj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9vLmVuZCgpOm8uZW1pdCgiZW5kIil9LHA9YS5odHRwUmVzcG9uc2UuY3JlYXRlVW5idWZmZXJlZFN0cmVhbSgpO2lmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24paWYoYyl7dmFyIGQ9bmV3IGUuUGFzc1Rocm91Z2g7ZC5fd3JpdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoJiYodSs9dC5sZW5ndGgpLGUuUGFzc1Rocm91Z2gucHJvdG90eXBlLl93cml0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQub24oImVuZCIsbCksby5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtjPSExLHAudW5waXBlKGQpLGQuZW1pdCgiZW5kIiksZC5lbmQoKX0pKSxwLnBpcGUoZCkucGlwZShvLHtlbmQ6ITF9KX1lbHNlIHAucGlwZShvKTtlbHNlIGMmJnAub24oImRhdGEiLChmdW5jdGlvbihlKXtlJiZlLmxlbmd0aCYmKHUrPWUubGVuZ3RoKX0pKSxwLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7by5lbWl0KCJkYXRhIixlKX0pKSxwLm9uKCJlbmQiLGwpO3Aub24oImVycm9yIiwoZnVuY3Rpb24oZSl7Yz0hMSxvLmVtaXQoImVycm9yIixlKX0pKX19KSksb30sZW1pdEV2ZW50OmZ1bmN0aW9uKGUsdCxyKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCx0PW51bGwpLHJ8fChyPWZ1bmN0aW9uKCl7fSksdHx8KHQ9dGhpcy5ldmVudFBhcmFtZXRlcnMoZSx0aGlzLnJlc3BvbnNlKSksbi5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLGUsdCwoZnVuY3Rpb24oZSl7ZSYmKHRoaXMucmVzcG9uc2UuZXJyb3I9ZSksci5jYWxsKHRoaXMsZSl9KSl9LGV2ZW50UGFyYW1ldGVyczpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJyZXN0YXJ0IjpjYXNlInZhbGlkYXRlIjpjYXNlInNpZ24iOmNhc2UiYnVpbGQiOmNhc2UiYWZ0ZXJWYWxpZGF0ZSI6Y2FzZSJhZnRlckJ1aWxkIjpyZXR1cm5bdGhpc107Y2FzZSJlcnJvciI6cmV0dXJuW3RoaXMucmVzcG9uc2UuZXJyb3IsdGhpcy5yZXNwb25zZV07ZGVmYXVsdDpyZXR1cm5bdGhpcy5yZXNwb25zZV19fSxwcmVzaWduOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCJmdW5jdGlvbiIhPXR5cGVvZiBlfHwodD1lLGU9bnVsbCksKG5ldyBuLlNpZ25lcnMuUHJlc2lnbikuc2lnbih0aGlzLnRvR2V0KCksZSx0KX0saXNQcmVzaWduZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaHR0cFJlcXVlc3QuaGVhZGVycywicHJlc2lnbmVkLWV4cGlyZXMiKX0sdG9VbmF1dGhlbnRpY2F0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5BdXRoZW50aWNhdGVkPSEwLHRoaXMucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfQ1JFREVOVElBTFMpLHRoaXMucmVtb3ZlTGlzdGVuZXIoInNpZ24iLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5TSUdOKSx0aGlzfSx0b0dldDpmdW5jdGlvbigpe3JldHVybiJxdWVyeSIhPT10aGlzLnNlcnZpY2UuYXBpLnByb3RvY29sJiYiZWMyIiE9PXRoaXMuc2VydmljZS5hcGkucHJvdG9jb2x8fCh0aGlzLnJlbW92ZUxpc3RlbmVyKCJidWlsZCIsdGhpcy5idWlsZEFzR2V0KSx0aGlzLmFkZExpc3RlbmVyKCJidWlsZCIsdGhpcy5idWlsZEFzR2V0KSksdGhpc30sYnVpbGRBc0dldDpmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD0iR0VUIixlLmh0dHBSZXF1ZXN0LnBhdGg9ZS5zZXJ2aWNlLmVuZHBvaW50LnBhdGgrIj8iK2UuaHR0cFJlcXVlc3QuYm9keSxlLmh0dHBSZXF1ZXN0LmJvZHk9IiIsZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXX0saGFsdEhhbmRsZXJzT25FcnJvcjpmdW5jdGlvbigpe3RoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3I9ITB9fSksbi5SZXF1ZXN0LmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgicHJvbWlzZSIpLG5ldyBlKChmdW5jdGlvbihlLG4pe3Qub24oImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7dC5lcnJvcj9uKHQuZXJyb3IpOmUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuZGF0YXx8e30sIiRyZXNwb25zZSIse3ZhbHVlOnR9KSl9KSksdC5ydW5UbygpfSkpfX0sbi5SZXF1ZXN0LmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJvdG90eXBlLnByb21pc2V9LG4udXRpbC5hZGRQcm9taXNlcyhuLlJlcXVlc3QpLG4udXRpbC5taXhpbihuLlJlcXVlc3Qsbi5TZXF1ZW50aWFsRXhlY3V0b3IpfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL3N0YXRlX21hY2hpbmUiOjczLF9wcm9jZXNzOjkxLGptZXNwYXRoOjkwfV0sNTk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0LGk9ZSgiam1lc3BhdGgiKTtmdW5jdGlvbiBhKGUpe3ZhciB0PWUucmVxdWVzdC5fd2FpdGVyLG49dC5jb25maWcuYWNjZXB0b3JzLHI9ITEsbz0icmV0cnkiO24uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIXIpe3ZhciBpPXQubWF0Y2hlcnNbbi5tYXRjaGVyXTtpJiZpKGUsbi5leHBlY3RlZCxuLmFyZ3VtZW50KSYmKHI9ITAsbz1uLnN0YXRlKX19KSksIXImJmUuZXJyb3ImJihvPSJmYWlsdXJlIiksInN1Y2Nlc3MiPT09bz90LnNldFN1Y2Nlc3MoZSk6dC5zZXRFcnJvcihlLCJyZXRyeSI9PT1vKX1yLlJlc291cmNlV2FpdGVyPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXJ2aWNlPWUsdGhpcy5zdGF0ZT10LHRoaXMubG9hZFdhaXRlckNvbmZpZyh0aGlzLnN0YXRlKX0sc2VydmljZTpudWxsLHN0YXRlOm51bGwsY29uZmlnOm51bGwsbWF0Y2hlcnM6e3BhdGg6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuIGkuc3RyaWN0RGVlcEVxdWFsKHIsdCl9LHBhdGhBbGw6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9QXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKTt2YXIgbz1yLmxlbmd0aDtpZighbylyZXR1cm4hMTtmb3IodmFyIGE9MDthPG87YSsrKWlmKCFpLnN0cmljdERlZXBFcXVhbChyW2FdLHQpKXJldHVybiExO3JldHVybiEwfSxwYXRoQW55OmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfUFycmF5LmlzQXJyYXkocil8fChyPVtyXSk7Zm9yKHZhciBvPXIubGVuZ3RoLGE9MDthPG87YSsrKWlmKGkuc3RyaWN0RGVlcEVxdWFsKHJbYV0sdCkpcmV0dXJuITA7cmV0dXJuITF9LHN0YXR1czpmdW5jdGlvbihlLHQpe3ZhciBuPWUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBuJiZuPT09dH0sZXJyb3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJmUuZXJyb3I/dD09PWUuZXJyb3IuY29kZTp0PT09ISFlLmVycm9yfX0sbGlzdGVuZXJzOihuZXcgci5TZXF1ZW50aWFsRXhlY3V0b3IpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlKXtlKCJSRVRSWV9DSEVDSyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0Ll93YWl0ZXI7ZS5lcnJvciYmIlJlc291cmNlTm90UmVhZHkiPT09ZS5lcnJvci5jb2RlJiYoZS5lcnJvci5yZXRyeURlbGF5PTFlMyoodC5jb25maWcuZGVsYXl8fDApKX0pKSxlKCJDSEVDS19PVVRQVVQiLCJleHRyYWN0RGF0YSIsYSksZSgiQ0hFQ0tfRVJST1IiLCJleHRyYWN0RXJyb3IiLGEpfSkpLHdhaXQ6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZSYmZS4kd2FpdGVyJiYoIm51bWJlciI9PXR5cGVvZihlPXIudXRpbC5jb3B5KGUpKS4kd2FpdGVyLmRlbGF5JiYodGhpcy5jb25maWcuZGVsYXk9ZS4kd2FpdGVyLmRlbGF5KSwibnVtYmVyIj09dHlwZW9mIGUuJHdhaXRlci5tYXhBdHRlbXB0cyYmKHRoaXMuY29uZmlnLm1heEF0dGVtcHRzPWUuJHdhaXRlci5tYXhBdHRlbXB0cyksZGVsZXRlIGUuJHdhaXRlcik7dmFyIG49dGhpcy5zZXJ2aWNlLm1ha2VSZXF1ZXN0KHRoaXMuY29uZmlnLm9wZXJhdGlvbixlKTtyZXR1cm4gbi5fd2FpdGVyPXRoaXMsbi5yZXNwb25zZS5tYXhSZXRyaWVzPXRoaXMuY29uZmlnLm1heEF0dGVtcHRzLG4uYWRkTGlzdGVuZXJzKHRoaXMubGlzdGVuZXJzKSx0JiZuLnNlbmQodCksbn0sc2V0U3VjY2VzczpmdW5jdGlvbihlKXtlLmVycm9yPW51bGwsZS5kYXRhPWUuZGF0YXx8e30sZS5yZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygiZXh0cmFjdERhdGEiKX0sc2V0RXJyb3I6ZnVuY3Rpb24oZSx0KXtlLmRhdGE9bnVsbCxlLmVycm9yPXIudXRpbC5lcnJvcihlLmVycm9yfHxuZXcgRXJyb3Ise2NvZGU6IlJlc291cmNlTm90UmVhZHkiLG1lc3NhZ2U6IlJlc291cmNlIGlzIG5vdCBpbiB0aGUgc3RhdGUgIit0aGlzLnN0YXRlLHJldHJ5YWJsZTp0fSl9LGxvYWRXYWl0ZXJDb25maWc6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tlXSl0aHJvdyBuZXcgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiU3RhdGVOb3RGb3VuZEVycm9yIixtZXNzYWdlOiJTdGF0ZSAiK2UrIiBub3QgZm91bmQuIn0pO3RoaXMuY29uZmlnPXIudXRpbC5jb3B5KHRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tlXSl9fSl9LHsiLi9jb3JlIjoxOSxqbWVzcGF0aDo5MH1dLDYwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPWUoImptZXNwYXRoIik7ci5SZXNwb25zZT1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3Q9ZSx0aGlzLmRhdGE9bnVsbCx0aGlzLmVycm9yPW51bGwsdGhpcy5yZXRyeUNvdW50PTAsdGhpcy5yZWRpcmVjdENvdW50PTAsdGhpcy5odHRwUmVzcG9uc2U9bmV3IHIuSHR0cFJlc3BvbnNlLGUmJih0aGlzLm1heFJldHJpZXM9ZS5zZXJ2aWNlLm51bVJldHJpZXMoKSx0aGlzLm1heFJlZGlyZWN0cz1lLnNlcnZpY2UuY29uZmlnLm1heFJlZGlyZWN0cyl9LG5leHRQYWdlOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5yZXF1ZXN0LnNlcnZpY2Usbz10aGlzLnJlcXVlc3Qub3BlcmF0aW9uO3RyeXt0PW4ucGFnaW5hdGlvbkNvbmZpZyhvLCEwKX1jYXRjaChlKXt0aGlzLmVycm9yPWV9aWYoIXRoaXMuaGFzTmV4dFBhZ2UoKSl7aWYoZSllKHRoaXMuZXJyb3IsbnVsbCk7ZWxzZSBpZih0aGlzLmVycm9yKXRocm93IHRoaXMuZXJyb3I7cmV0dXJuIG51bGx9dmFyIGk9ci51dGlsLmNvcHkodGhpcy5yZXF1ZXN0LnBhcmFtcyk7aWYodGhpcy5uZXh0UGFnZVRva2Vucyl7dmFyIGE9dC5pbnB1dFRva2VuOyJzdHJpbmciPT10eXBlb2YgYSYmKGE9W2FdKTtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKylpW2Fbc11dPXRoaXMubmV4dFBhZ2VUb2tlbnNbc107cmV0dXJuIG4ubWFrZVJlcXVlc3QodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbixpLGUpfXJldHVybiBlP2UobnVsbCxudWxsKTpudWxsfSxoYXNOZXh0UGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlTmV4dFBhZ2VUb2tlbnMoKSwhIXRoaXMubmV4dFBhZ2VUb2tlbnN8fHZvaWQgMD09PXRoaXMubmV4dFBhZ2VUb2tlbnMmJnZvaWQgMH0sY2FjaGVOZXh0UGFnZVRva2VuczpmdW5jdGlvbigpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCJuZXh0UGFnZVRva2VucyIpKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO3RoaXMubmV4dFBhZ2VUb2tlbnM9dm9pZCAwO3ZhciBlPXRoaXMucmVxdWVzdC5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbik7aWYoIWUpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7aWYodGhpcy5uZXh0UGFnZVRva2Vucz1udWxsLGUubW9yZVJlc3VsdHMmJiFpLnNlYXJjaCh0aGlzLmRhdGEsZS5tb3JlUmVzdWx0cykpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7dmFyIHQ9ZS5vdXRwdXRUb2tlbjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PVt0XSksci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsdCwoZnVuY3Rpb24oZSl7dmFyIHQ9aS5zZWFyY2godGhpcy5kYXRhLGUpO3QmJih0aGlzLm5leHRQYWdlVG9rZW5zPXRoaXMubmV4dFBhZ2VUb2tlbnN8fFtdLHRoaXMubmV4dFBhZ2VUb2tlbnMucHVzaCh0KSl9KSksdGhpcy5uZXh0UGFnZVRva2Vuc319KX0seyIuL2NvcmUiOjE5LGptZXNwYXRoOjkwfV0sNjE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLlNlcXVlbnRpYWxFeGVjdXRvcj1yLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9ldmVudHM9e319LGxpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP3RoaXMuX2V2ZW50c1tlXS5zbGljZSgwKTpbXX0sb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLl9ldmVudHNbZV0/bj90aGlzLl9ldmVudHNbZV0udW5zaGlmdCh0KTp0aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RdLHRoaXN9LG9uQXN5bmM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Ll9pc0FzeW5jPSEwLHRoaXMub24oZSx0LG4pfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2V2ZW50c1tlXTtpZihuKXtmb3IodmFyIHI9bi5sZW5ndGgsbz0tMSxpPTA7aTxyOysraSluW2ldPT09dCYmKG89aSk7bz4tMSYmbi5zcGxpY2UobywxKX1yZXR1cm4gdGhpc30scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBlP2RlbGV0ZSB0aGlzLl9ldmVudHNbZV06dGhpcy5fZXZlbnRzPXt9LHRoaXN9LGVtaXQ6ZnVuY3Rpb24oZSx0LG4pe258fChuPWZ1bmN0aW9uKCl7fSk7dmFyIHI9dGhpcy5saXN0ZW5lcnMoZSksbz1yLmxlbmd0aDtyZXR1cm4gdGhpcy5jYWxsTGlzdGVuZXJzKHIsdCxuKSxvPjB9LGNhbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGk9dGhpcyxhPW98fG51bGw7ZnVuY3Rpb24gcyhvKXtpZihvJiYoYT1yLnV0aWwuZXJyb3IoYXx8bmV3IEVycm9yLG8pLGkuX2hhbHRIYW5kbGVyc09uRXJyb3IpKXJldHVybiBuLmNhbGwoaSxhKTtpLmNhbGxMaXN0ZW5lcnMoZSx0LG4sYSl9Zm9yKDtlLmxlbmd0aD4wOyl7dmFyIGM9ZS5zaGlmdCgpO2lmKGMuX2lzQXN5bmMpcmV0dXJuIHZvaWQgYy5hcHBseShpLHQuY29uY2F0KFtzXSkpO3RyeXtjLmFwcGx5KGksdCl9Y2F0Y2goZSl7YT1yLnV0aWwuZXJyb3IoYXx8bmV3IEVycm9yLGUpfWlmKGEmJmkuX2hhbHRIYW5kbGVyc09uRXJyb3IpcmV0dXJuIHZvaWQgbi5jYWxsKGksYSl9bi5jYWxsKGksYSl9LGFkZExpc3RlbmVyczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLl9ldmVudHMmJihlPWUuX2V2ZW50cyksci51dGlsLmVhY2goZSwoZnVuY3Rpb24oZSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49W25dKSxyLnV0aWwuYXJyYXlFYWNoKG4sKGZ1bmN0aW9uKG4pe3Qub24oZSxuKX0pKX0pKSx0fSxhZGROYW1lZExpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzW2VdPW4sdGhpcy5hZGRMaXN0ZW5lcih0LG4sciksdGhpc30sYWRkTmFtZWRBc3luY0xpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuLl9pc0FzeW5jPSEwLHRoaXMuYWRkTmFtZWRMaXN0ZW5lcihlLHQsbixyKX0sYWRkTmFtZWRMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZSgoZnVuY3Rpb24oKXt0LmFkZE5hbWVkTGlzdGVuZXIuYXBwbHkodCxhcmd1bWVudHMpfSksKGZ1bmN0aW9uKCl7dC5hZGROYW1lZEFzeW5jTGlzdGVuZXIuYXBwbHkodCxhcmd1bWVudHMpfSkpLHRoaXN9fSksci5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmFkZExpc3RlbmVyPXIuU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5vbix0LmV4cG9ydHM9ci5TZXF1ZW50aWFsRXhlY3V0b3J9LHsiLi9jb3JlIjoxOX1dLDYyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciByPWUoIi4vY29yZSIpLGk9ZSgiLi9tb2RlbC9hcGkiKSxhPWUoIi4vcmVnaW9uX2NvbmZpZyIpLHM9ci51dGlsLmluaGVyaXQsYz0wLHU9ZSgiLi9yZWdpb24vdXRpbHMiKTtyLlNlcnZpY2U9cyh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7aWYoIXRoaXMubG9hZFNlcnZpY2VDbGFzcyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLCJTZXJ2aWNlIG11c3QgYmUgY29uc3RydWN0ZWQgd2l0aCBgbmV3JyBvcGVyYXRvciIpO2lmKGUpe2lmKGUucmVnaW9uKXt2YXIgdD1lLnJlZ2lvbjt1LmlzRmlwc1JlZ2lvbih0KSYmKGUucmVnaW9uPXUuZ2V0UmVhbFJlZ2lvbih0KSxlLnVzZUZpcHNFbmRwb2ludD0hMCksdS5pc0dsb2JhbFJlZ2lvbih0KSYmKGUucmVnaW9uPXUuZ2V0UmVhbFJlZ2lvbih0KSl9ImJvb2xlYW4iPT10eXBlb2YgZS51c2VEdWFsc3RhY2smJiJib29sZWFuIiE9dHlwZW9mIGUudXNlRHVhbHN0YWNrRW5kcG9pbnQmJihlLnVzZUR1YWxzdGFja0VuZHBvaW50PWUudXNlRHVhbHN0YWNrKX12YXIgbj10aGlzLmxvYWRTZXJ2aWNlQ2xhc3MoZXx8e30pO2lmKG4pe3ZhciBvPXIudXRpbC5jb3B5KGUpLGk9bmV3IG4oZSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfb3JpZ2luYWxDb25maWciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9jbGllbnRJZD0rK2MsaX10aGlzLmluaXRpYWxpemUoZSl9LGluaXRpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9ci5jb25maWdbdGhpcy5zZXJ2aWNlSWRlbnRpZmllcl07aWYodGhpcy5jb25maWc9bmV3IHIuQ29uZmlnKHIuY29uZmlnKSx0JiZ0aGlzLmNvbmZpZy51cGRhdGUodCwhMCksZSYmdGhpcy5jb25maWcudXBkYXRlKGUsITApLHRoaXMudmFsaWRhdGVTZXJ2aWNlKCksdGhpcy5jb25maWcuZW5kcG9pbnR8fGEuY29uZmlndXJlRW5kcG9pbnQodGhpcyksdGhpcy5jb25maWcuZW5kcG9pbnQ9dGhpcy5lbmRwb2ludEZyb21UZW1wbGF0ZSh0aGlzLmNvbmZpZy5lbmRwb2ludCksdGhpcy5zZXRFbmRwb2ludCh0aGlzLmNvbmZpZy5lbmRwb2ludCksci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzKSxyLlNlcnZpY2UuYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnModGhpcyksKHRoaXMuY29uZmlnLmNsaWVudFNpZGVNb25pdG9yaW5nfHxyLlNlcnZpY2UuX2NsaWVudFNpZGVNb25pdG9yaW5nKSYmdGhpcy5wdWJsaXNoZXIpe3ZhciBvPXRoaXMucHVibGlzaGVyO3RoaXMuYWRkTmFtZWRMaXN0ZW5lcigiUFVCTElTSF9BUElfQ0FMTCIsImFwaUNhbGwiLChmdW5jdGlvbihlKXtuLm5leHRUaWNrKChmdW5jdGlvbigpe28uZXZlbnRIYW5kbGVyKGUpfSkpfSkpLHRoaXMuYWRkTmFtZWRMaXN0ZW5lcigiUFVCTElTSF9BUElfQVRURU1QVCIsImFwaUNhbGxBdHRlbXB0IiwoZnVuY3Rpb24oZSl7bi5uZXh0VGljaygoZnVuY3Rpb24oKXtvLmV2ZW50SGFuZGxlcihlKX0pKX0pKX19LHZhbGlkYXRlU2VydmljZTpmdW5jdGlvbigpe30sbG9hZFNlcnZpY2VDbGFzczpmdW5jdGlvbihlKXt2YXIgdD1lO2lmKHIudXRpbC5pc0VtcHR5KHRoaXMuYXBpKSl7aWYodC5hcGlDb25maWcpcmV0dXJuIHIuU2VydmljZS5kZWZpbmVTZXJ2aWNlQXBpKHRoaXMuY29uc3RydWN0b3IsdC5hcGlDb25maWcpO2lmKHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXMpeyh0PW5ldyByLkNvbmZpZyhyLmNvbmZpZykpLnVwZGF0ZShlLCEwKTt2YXIgbj10LmFwaVZlcnNpb25zW3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXJdO3JldHVybiBuPW58fHQuYXBpVmVyc2lvbix0aGlzLmdldExhdGVzdFNlcnZpY2VDbGFzcyhuKX1yZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0sZ2V0TGF0ZXN0U2VydmljZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0TGF0ZXN0U2VydmljZVZlcnNpb24oZSksbnVsbD09PXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXNbZV0mJnIuU2VydmljZS5kZWZpbmVTZXJ2aWNlQXBpKHRoaXMuY29uc3RydWN0b3IsZSksdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc1tlXX0sZ2V0TGF0ZXN0U2VydmljZVZlcnNpb246ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXN8fDA9PT10aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIk5vIHNlcnZpY2VzIGRlZmluZWQgb24gIit0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VJZGVudGlmaWVyKTtpZihlP3IudXRpbC5pc1R5cGUoZSxEYXRlKSYmKGU9ci51dGlsLmRhdGUuaXNvODYwMShlKS5zcGxpdCgiVCIpWzBdKTplPSJsYXRlc3QiLE9iamVjdC5oYXNPd25Qcm9wZXJ0eSh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLGUpKXJldHVybiBlO2Zvcih2YXIgdD1PYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzKS5zb3J0KCksbj1udWxsLG89dC5sZW5ndGgtMTtvPj0wO28tLSlpZigiKiIhPT10W29dW3Rbb10ubGVuZ3RoLTFdJiYobj10W29dKSx0W29dLnN1YnN0cigwLDEwKTw9ZSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kICIrdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlSWRlbnRpZmllcisiIEFQSSB0byBzYXRpc2Z5IHZlcnNpb24gY29uc3RyYWludCBgIitlKyInIil9LGFwaTp7fSxkZWZhdWx0UmV0cnlDb3VudDozLGN1c3RvbWl6ZVJlcXVlc3RzOmZ1bmN0aW9uKGUpe2lmKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjYWxsYmFjayB0eXBlICciK28oZSkrIicgcHJvdmlkZWQgaW4gY3VzdG9taXplUmVxdWVzdHMiKTt0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyPWV9ZWxzZSB0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyPW51bGx9LG1ha2VSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PW51bGwpLHQ9dHx8e30sdGhpcy5jb25maWcucGFyYW1zKXt2YXIgbz10aGlzLmFwaS5vcGVyYXRpb25zW2VdO28mJih0PXIudXRpbC5jb3B5KHQpLHIudXRpbC5lYWNoKHRoaXMuY29uZmlnLnBhcmFtcywoZnVuY3Rpb24oZSxuKXtvLmlucHV0Lm1lbWJlcnNbZV0mJih2b2lkIDAhPT10W2VdJiZudWxsIT09dFtlXXx8KHRbZV09bikpfSkpKX12YXIgaT1uZXcgci5SZXF1ZXN0KHRoaXMsZSx0KTtyZXR1cm4gdGhpcy5hZGRBbGxSZXF1ZXN0TGlzdGVuZXJzKGkpLHRoaXMuYXR0YWNoTW9uaXRvcmluZ0VtaXR0ZXIoaSksbiYmaS5zZW5kKG4pLGl9LG1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KTt2YXIgcj10aGlzLm1ha2VSZXF1ZXN0KGUsdCkudG9VbmF1dGhlbnRpY2F0ZWQoKTtyZXR1cm4gbj9yLnNlbmQobik6cn0sd2FpdEZvcjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyByLlJlc291cmNlV2FpdGVyKHRoaXMsZSkud2FpdCh0LG4pfSxhZGRBbGxSZXF1ZXN0TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bci5ldmVudHMsci5FdmVudExpc3RlbmVycy5Db3JlLHRoaXMuc2VydmljZUludGVyZmFjZSgpLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZVBvc3RdLG49MDtuPHQubGVuZ3RoO24rKyl0W25dJiZlLmFkZExpc3RlbmVycyh0W25dKTt0aGlzLmNvbmZpZy5wYXJhbVZhbGlkYXRpb258fGUucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUyksdGhpcy5jb25maWcubG9nZ2VyJiZlLmFkZExpc3RlbmVycyhyLkV2ZW50TGlzdGVuZXJzLkxvZ2dlciksdGhpcy5zZXR1cFJlcXVlc3RMaXN0ZW5lcnMoZSksImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLmN1c3RvbVJlcXVlc3RIYW5kbGVyJiZ0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jdXN0b21SZXF1ZXN0SGFuZGxlcihlKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywiY3VzdG9tUmVxdWVzdEhhbmRsZXIiKSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXImJnRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXIoZSl9LGFwaUNhbGxFdmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG49e1R5cGU6IkFwaUNhbGwiLEFwaTp0P3QubmFtZTplLm9wZXJhdGlvbixWZXJzaW9uOjEsU2VydmljZTplLnNlcnZpY2UuYXBpLnNlcnZpY2VJZHx8ZS5zZXJ2aWNlLmFwaS5lbmRwb2ludFByZWZpeCxSZWdpb246ZS5odHRwUmVxdWVzdC5yZWdpb24sTWF4UmV0cmllc0V4Y2VlZGVkOjAsVXNlckFnZW50OmUuaHR0cFJlcXVlc3QuZ2V0VXNlckFnZW50KCl9LHI9ZS5yZXNwb25zZTtpZihyLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlJiYobi5GaW5hbEh0dHBTdGF0dXNDb2RlPXIuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUpLHIuZXJyb3Ipe3ZhciBvPXIuZXJyb3I7ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT4yOTk/KG8uY29kZSYmKG4uRmluYWxBd3NFeGNlcHRpb249by5jb2RlKSxvLm1lc3NhZ2UmJihuLkZpbmFsQXdzRXhjZXB0aW9uTWVzc2FnZT1vLm1lc3NhZ2UpKTooKG8uY29kZXx8by5uYW1lKSYmKG4uRmluYWxTZGtFeGNlcHRpb249by5jb2RlfHxvLm5hbWUpLG8ubWVzc2FnZSYmKG4uRmluYWxTZGtFeGNlcHRpb25NZXNzYWdlPW8ubWVzc2FnZSkpfXJldHVybiBufSxhcGlBdHRlbXB0RXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPXtUeXBlOiJBcGlDYWxsQXR0ZW1wdCIsQXBpOnQ/dC5uYW1lOmUub3BlcmF0aW9uLFZlcnNpb246MSxTZXJ2aWNlOmUuc2VydmljZS5hcGkuc2VydmljZUlkfHxlLnNlcnZpY2UuYXBpLmVuZHBvaW50UHJlZml4LEZxZG46ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxVc2VyQWdlbnQ6ZS5odHRwUmVxdWVzdC5nZXRVc2VyQWdlbnQoKX0scj1lLnJlc3BvbnNlO3JldHVybiByLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlJiYobi5IdHRwU3RhdHVzQ29kZT1yLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKSwhZS5fdW5BdXRoZW50aWNhdGVkJiZlLnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzJiZlLnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkJiYobi5BY2Nlc3NLZXk9ZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCksci5odHRwUmVzcG9uc2UuaGVhZGVycz8oZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdJiYobi5TZXNzaW9uVG9rZW49ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdKSxyLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl0mJihuLlhBbXpuUmVxdWVzdElkPXIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16bi1yZXF1ZXN0aWQiXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotcmVxdWVzdC1pZCJdJiYobi5YQW16UmVxdWVzdElkPXIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotaWQtMiJdJiYobi5YQW16SWQyPXIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LWlkLTIiXSksbik6bn0sYXR0ZW1wdEZhaWxFdmVudDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFwaUF0dGVtcHRFdmVudChlKSxuPWUucmVzcG9uc2Uscj1uLmVycm9yO3JldHVybiBuLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlPjI5OT8oci5jb2RlJiYodC5Bd3NFeGNlcHRpb249ci5jb2RlKSxyLm1lc3NhZ2UmJih0LkF3c0V4Y2VwdGlvbk1lc3NhZ2U9ci5tZXNzYWdlKSk6KChyLmNvZGV8fHIubmFtZSkmJih0LlNka0V4Y2VwdGlvbj1yLmNvZGV8fHIubmFtZSksci5tZXNzYWdlJiYodC5TZGtFeGNlcHRpb25NZXNzYWdlPXIubWVzc2FnZSkpLHR9LGF0dGFjaE1vbml0b3JpbmdFbWl0dGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxpLGEscyxjPTAsdT10aGlzLGw9ITA7ZS5vbigidmFsaWRhdGUiLChmdW5jdGlvbigpe2k9ci51dGlsLnJlYWxDbG9jay5ub3coKSxzPURhdGUubm93KCl9KSxsKSxlLm9uKCJzaWduIiwoZnVuY3Rpb24oKXtuPXIudXRpbC5yZWFsQ2xvY2subm93KCksdD1EYXRlLm5vdygpLGE9ZS5odHRwUmVxdWVzdC5yZWdpb24sYysrfSksbCksZS5vbigidmFsaWRhdGVSZXNwb25zZSIsKGZ1bmN0aW9uKCl7bz1NYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktbil9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTF9BVFRFTVBUIiwic3VjY2VzcyIsKGZ1bmN0aW9uKCl7dmFyIG49dS5hcGlBdHRlbXB0RXZlbnQoZSk7bi5UaW1lc3RhbXA9dCxuLkF0dGVtcHRMYXRlbmN5PW8+PTA/bzowLG4uUmVnaW9uPWEsdS5lbWl0KCJhcGlDYWxsQXR0ZW1wdCIsW25dKX0pKSxlLmFkZE5hbWVkTGlzdGVuZXIoIkFQSV9DQUxMX0FUVEVNUFRfUkVUUlkiLCJyZXRyeSIsKGZ1bmN0aW9uKCl7dmFyIGk9dS5hdHRlbXB0RmFpbEV2ZW50KGUpO2kuVGltZXN0YW1wPXQsbz1vfHxNYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktbiksaS5BdHRlbXB0TGF0ZW5jeT1vPj0wP286MCxpLlJlZ2lvbj1hLHUuZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFtpXSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTCIsImNvbXBsZXRlIiwoZnVuY3Rpb24oKXt2YXIgdD11LmFwaUNhbGxFdmVudChlKTtpZih0LkF0dGVtcHRDb3VudD1jLCEodC5BdHRlbXB0Q291bnQ8PTApKXt0LlRpbWVzdGFtcD1zO3ZhciBuPU1hdGgucm91bmQoci51dGlsLnJlYWxDbG9jay5ub3coKS1pKTt0LkxhdGVuY3k9bj49MD9uOjA7dmFyIG89ZS5yZXNwb25zZTtvLmVycm9yJiZvLmVycm9yLnJldHJ5YWJsZSYmIm51bWJlciI9PXR5cGVvZiBvLnJldHJ5Q291bnQmJiJudW1iZXIiPT10eXBlb2Ygby5tYXhSZXRyaWVzJiZvLnJldHJ5Q291bnQ+PW8ubWF4UmV0cmllcyYmKHQuTWF4UmV0cmllc0V4Y2VlZGVkPTEpLHUuZW1pdCgiYXBpQ2FsbCIsW3RdKX19KSl9LHNldHVwUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbihlKXt9LGdldFNpZ25pbmdOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBpLnNpZ25pbmdOYW1lfHx0aGlzLmFwaS5lbmRwb2ludFByZWZpeH0sZ2V0U2lnbmVyQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbj1udWxsLG89IiI7cmV0dXJuIGUmJihvPShuPShlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnN8fHt9KVtlLm9wZXJhdGlvbl18fG51bGwpP24uYXV0aHR5cGU6IiIpLHQ9dGhpcy5jb25maWcuc2lnbmF0dXJlVmVyc2lvbj90aGlzLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uOiJ2NCI9PT1vfHwidjQtdW5zaWduZWQtYm9keSI9PT1vPyJ2NCI6ImJlYXJlciI9PT1vPyJiZWFyZXIiOnRoaXMuYXBpLnNpZ25hdHVyZVZlcnNpb24sci5TaWduZXJzLlJlcXVlc3RTaWduZXIuZ2V0VmVyc2lvbih0KX0sc2VydmljZUludGVyZmFjZTpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmFwaS5wcm90b2NvbCl7Y2FzZSJlYzIiOmNhc2UicXVlcnkiOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlF1ZXJ5O2Nhc2UianNvbiI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuSnNvbjtjYXNlInJlc3QtanNvbiI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuUmVzdEpzb247Y2FzZSJyZXN0LXhtbCI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuUmVzdFhtbH1pZih0aGlzLmFwaS5wcm90b2NvbCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VydmljZSBgcHJvdG9jb2wnICIrdGhpcy5hcGkucHJvdG9jb2wrIiBpbiBBUEkgY29uZmlnIil9LHN1Y2Nlc3NmdWxSZXNwb25zZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZTwzMDB9LG51bVJldHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5jb25maWcubWF4UmV0cmllcz90aGlzLmNvbmZpZy5tYXhSZXRyaWVzOnRoaXMuZGVmYXVsdFJldHJ5Q291bnR9LHJldHJ5RGVsYXlzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KGUsdGhpcy5jb25maWcucmV0cnlEZWxheU9wdGlvbnMsdCl9LHJldHJ5YWJsZUVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy50aW1lb3V0RXJyb3IoZSl8fCEhdGhpcy5uZXR3b3JraW5nRXJyb3IoZSl8fCEhdGhpcy5leHBpcmVkQ3JlZGVudGlhbHNFcnJvcihlKXx8ISF0aGlzLnRocm90dGxlZEVycm9yKGUpfHxlLnN0YXR1c0NvZGU+PTUwMH0sbmV0d29ya2luZ0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJOZXR3b3JraW5nRXJyb3IiPT09ZS5jb2RlfSx0aW1lb3V0RXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIlRpbWVvdXRFcnJvciI9PT1lLmNvZGV9LGV4cGlyZWRDcmVkZW50aWFsc0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJFeHBpcmVkVG9rZW5FeGNlcHRpb24iPT09ZS5jb2RlfSxjbG9ja1NrZXdFcnJvcjpmdW5jdGlvbihlKXtzd2l0Y2goZS5jb2RlKXtjYXNlIlJlcXVlc3RUaW1lVG9vU2tld2VkIjpjYXNlIlJlcXVlc3RFeHBpcmVkIjpjYXNlIkludmFsaWRTaWduYXR1cmVFeGNlcHRpb24iOmNhc2UiU2lnbmF0dXJlRG9lc05vdE1hdGNoIjpjYXNlIkF1dGhGYWlsdXJlIjpjYXNlIlJlcXVlc3RJblRoZUZ1dHVyZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGdldFNrZXdDb3JyZWN0ZWREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKERhdGUubm93KCkrdGhpcy5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpfSxhcHBseUNsb2NrT2Zmc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldD1lLURhdGUubm93KCkpfSxpc0Nsb2NrU2tld2VkOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIE1hdGguYWJzKHRoaXMuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS5nZXRUaW1lKCktZSk+PTNlNX0sdGhyb3R0bGVkRXJyb3I6ZnVuY3Rpb24oZSl7aWYoNDI5PT09ZS5zdGF0dXNDb2RlKXJldHVybiEwO3N3aXRjaChlLmNvZGUpe2Nhc2UiUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb24iOmNhc2UiVGhyb3R0bGluZyI6Y2FzZSJUaHJvdHRsaW5nRXhjZXB0aW9uIjpjYXNlIlJlcXVlc3RMaW1pdEV4Y2VlZGVkIjpjYXNlIlJlcXVlc3RUaHJvdHRsZWQiOmNhc2UiUmVxdWVzdFRocm90dGxlZEV4Y2VwdGlvbiI6Y2FzZSJUb29NYW55UmVxdWVzdHNFeGNlcHRpb24iOmNhc2UiVHJhbnNhY3Rpb25JblByb2dyZXNzRXhjZXB0aW9uIjpjYXNlIkVDMlRocm90dGxlZEV4Y2VwdGlvbiI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGVuZHBvaW50RnJvbVRlbXBsYXRlOmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gZTt2YXIgdD1lO3JldHVybiB0PSh0PSh0PXQucmVwbGFjZSgvXHtzZXJ2aWNlXH0vZyx0aGlzLmFwaS5lbmRwb2ludFByZWZpeCkpLnJlcGxhY2UoL1x7cmVnaW9uXH0vZyx0aGlzLmNvbmZpZy5yZWdpb24pKS5yZXBsYWNlKC9ce3NjaGVtZVx9L2csdGhpcy5jb25maWcuc3NsRW5hYmxlZD8iaHR0cHMiOiJodHRwIil9LHNldEVuZHBvaW50OmZ1bmN0aW9uKGUpe3RoaXMuZW5kcG9pbnQ9bmV3IHIuRW5kcG9pbnQoZSx0aGlzLmNvbmZpZyl9LHBhZ2luYXRpb25Db25maWc6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmFwaS5vcGVyYXRpb25zW2VdLnBhZ2luYXRvcjtpZighbil7aWYodCl7dmFyIG89bmV3IEVycm9yO3Rocm93IHIudXRpbC5lcnJvcihvLCJObyBwYWdpbmF0aW9uIGNvbmZpZ3VyYXRpb24gZm9yICIrZSl9cmV0dXJuIG51bGx9cmV0dXJuIG59fSksci51dGlsLnVwZGF0ZShyLlNlcnZpY2Use2RlZmluZU1ldGhvZHM6ZnVuY3Rpb24oZSl7ci51dGlsLmVhY2goZS5wcm90b3R5cGUuYXBpLm9wZXJhdGlvbnMsKGZ1bmN0aW9uKHQpe2UucHJvdG90eXBlW3RdfHwoIm5vbmUiPT09ZS5wcm90b3R5cGUuYXBpLm9wZXJhdGlvbnNbdF0uYXV0aHR5cGU/ZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCh0LGUsbil9OmUucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMubWFrZVJlcXVlc3QodCxlLG4pfSl9KSl9LGRlZmluZVNlcnZpY2U6ZnVuY3Rpb24oZSx0LG4pe3IuU2VydmljZS5fc2VydmljZU1hcFtlXT0hMCxBcnJheS5pc0FycmF5KHQpfHwobj10LHQ9W10pO3ZhciBvPXMoci5TZXJ2aWNlLG58fHt9KTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3IuU2VydmljZS5hZGRWZXJzaW9ucyhvLHQpO3ZhciBpPW8uc2VydmljZUlkZW50aWZpZXJ8fGU7by5zZXJ2aWNlSWRlbnRpZmllcj1pfWVsc2Ugby5wcm90b3R5cGUuYXBpPWUsci5TZXJ2aWNlLmRlZmluZU1ldGhvZHMobyk7aWYoci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzLnByb3RvdHlwZSksIXRoaXMucHJvdG90eXBlLnB1Ymxpc2hlciYmci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nKXt2YXIgYT1yLnV0aWwuY2xpZW50U2lkZU1vbml0b3JpbmcuUHVibGlzaGVyLGM9KDAsci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLmNvbmZpZ1Byb3ZpZGVyKSgpO3RoaXMucHJvdG90eXBlLnB1Ymxpc2hlcj1uZXcgYShjKSxjLmVuYWJsZWQmJihyLlNlcnZpY2UuX2NsaWVudFNpZGVNb25pdG9yaW5nPSEwKX1yZXR1cm4gci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbChvLnByb3RvdHlwZSksci5TZXJ2aWNlLmFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzKG8ucHJvdG90eXBlKSxvfSxhZGRWZXJzaW9uczpmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksZS5zZXJ2aWNlcz1lLnNlcnZpY2VzfHx7fTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl2b2lkIDA9PT1lLnNlcnZpY2VzW3Rbbl1dJiYoZS5zZXJ2aWNlc1t0W25dXT1udWxsKTtlLmFwaVZlcnNpb25zPU9iamVjdC5rZXlzKGUuc2VydmljZXMpLnNvcnQoKX0sZGVmaW5lU2VydmljZUFwaTpmdW5jdGlvbihlLHQsbil7dmFyIG89cyhlLHtzZXJ2aWNlSWRlbnRpZmllcjplLnNlcnZpY2VJZGVudGlmaWVyfSk7ZnVuY3Rpb24gYSh0KXt0LmlzQXBpP28ucHJvdG90eXBlLmFwaT10Om8ucHJvdG90eXBlLmFwaT1uZXcgaSh0LHtzZXJ2aWNlSWRlbnRpZmllcjplLnNlcnZpY2VJZGVudGlmaWVyfSl9aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZihuKWEobik7ZWxzZSB0cnl7YShyLmFwaUxvYWRlcihlLnNlcnZpY2VJZGVudGlmaWVyLHQpKX1jYXRjaChuKXt0aHJvdyByLnV0aWwuZXJyb3Iobix7bWVzc2FnZToiQ291bGQgbm90IGZpbmQgQVBJIGNvbmZpZ3VyYXRpb24gIitlLnNlcnZpY2VJZGVudGlmaWVyKyItIit0fSl9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuc2VydmljZXMsdCl8fChlLmFwaVZlcnNpb25zPWUuYXBpVmVyc2lvbnMuY29uY2F0KHQpLnNvcnQoKSksZS5zZXJ2aWNlc1t0XT1vfWVsc2UgYSh0KTtyZXR1cm4gci5TZXJ2aWNlLmRlZmluZU1ldGhvZHMobyksb30saGFzU2VydmljZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIuU2VydmljZS5fc2VydmljZU1hcCxlKX0sYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7ZS5hZGROYW1lZExpc3RlbmVyKCJNT05JVE9SX0VWRU5UU19CVUJCTEUiLCJhcGlDYWxsQXR0ZW1wdCIsKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtuLl9ldmVudHMmJm4uZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFt0XSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJDQUxMX0VWRU5UU19CVUJCTEUiLCJhcGlDYWxsIiwoZnVuY3Rpb24odCl7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO24uX2V2ZW50cyYmbi5lbWl0KCJhcGlDYWxsIixbdF0pfSkpfSxfc2VydmljZU1hcDp7fX0pLHIudXRpbC5taXhpbihyLlNlcnZpY2Usci5TZXF1ZW50aWFsRXhlY3V0b3IpLHQuZXhwb3J0cz1yLlNlcnZpY2V9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vbW9kZWwvYXBpIjo0MCwiLi9yZWdpb24vdXRpbHMiOjU1LCIuL3JlZ2lvbl9jb25maWciOjU2LF9wcm9jZXNzOjkxfV0sNjM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi9jb25maWdfcmVnaW9uYWxfZW5kcG9pbnQiKTtyLnV0aWwudXBkYXRlKHIuU1RTLnByb3RvdHlwZSx7Y3JlZGVudGlhbHNGcm9tOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHR8fCh0PW5ldyByLlRlbXBvcmFyeUNyZWRlbnRpYWxzKSx0LmV4cGlyZWQ9ITEsdC5hY2Nlc3NLZXlJZD1lLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLHQuc2VjcmV0QWNjZXNzS2V5PWUuQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5LHQuc2Vzc2lvblRva2VuPWUuQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLHQuZXhwaXJlVGltZT1lLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24sdCk6bnVsbH0sYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCJhc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5IixlLHQpfSxhc3N1bWVSb2xlV2l0aFNBTUw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgiYXNzdW1lUm9sZVdpdGhTQU1MIixlLHQpfSxzZXR1cFJlcXVlc3RMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7ZS5hZGRMaXN0ZW5lcigidmFsaWRhdGUiLHRoaXMub3B0SW5SZWdpb25hbEVuZHBvaW50LCEwKX0sb3B0SW5SZWdpb25hbEVuZHBvaW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZSxuPXQuY29uZmlnO2lmKG4uc3RzUmVnaW9uYWxFbmRwb2ludHM9byh0Ll9vcmlnaW5hbENvbmZpZyx7ZW52OiJBV1NfU1RTX1JFR0lPTkFMX0VORFBPSU5UUyIsc2hhcmVkQ29uZmlnOiJzdHNfcmVnaW9uYWxfZW5kcG9pbnRzIixjbGllbnRDb25maWc6InN0c1JlZ2lvbmFsRW5kcG9pbnRzIn0pLCJyZWdpb25hbCI9PT1uLnN0c1JlZ2lvbmFsRW5kcG9pbnRzJiZ0LmlzR2xvYmFsRW5kcG9pbnQpe2lmKCFuLnJlZ2lvbil0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWdFcnJvciIsbWVzc2FnZToiTWlzc2luZyByZWdpb24gaW4gY29uZmlnIn0pO3ZhciBpPW4uZW5kcG9pbnQuaW5kZXhPZigiLmFtYXpvbmF3cy5jb20iKSxhPW4uZW5kcG9pbnQuc3Vic3RyaW5nKDAsaSkrIi4iK24ucmVnaW9uK24uZW5kcG9pbnQuc3Vic3RyaW5nKGkpO2UuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoYSksZS5odHRwUmVxdWVzdC5yZWdpb249bi5yZWdpb259fX0pfSx7Ii4uL2NvbmZpZ19yZWdpb25hbF9lbmRwb2ludCI6MTgsIi4uL2NvcmUiOjE5fV0sNjQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIik7ci5TaWduZXJzLkJlYXJlcj1yLnV0aWwuaW5oZXJpdChyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ci5TaWduZXJzLlJlcXVlc3RTaWduZXIuY2FsbCh0aGlzLGUpfSxhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUpe3RoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249IkJlYXJlciAiK2UudG9rZW59fSl9LHsiLi4vY29yZSI6MTl9XSw2NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0LGk9InByZXNpZ25lZC1leHBpcmVzIjtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3QuaGVhZGVyc1tpXSxuPWUuc2VydmljZS5nZXRTaWduZXJDbGFzcyhlKTtpZihkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJVc2VyLUFnZW50Il0sZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotVXNlci1BZ2VudCJdLG49PT1yLlNpZ25lcnMuVjQpe2lmKHQ+NjA0ODAwKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkludmFsaWRFeHBpcnlUaW1lIixtZXNzYWdlOiJQcmVzaWduaW5nIGRvZXMgbm90IHN1cHBvcnQgZXhwaXJ5IHRpbWUgZ3JlYXRlciB0aGFuIGEgd2VlayB3aXRoIFNpZ1Y0IHNpZ25pbmcuIixyZXRyeWFibGU6ITF9KTtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV09dH1lbHNle2lmKG4hPT1yLlNpZ25lcnMuUzMpdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix7bWVzc2FnZToiUHJlc2lnbmluZyBvbmx5IHN1cHBvcnRzIFMzIG9yIFNpZ1Y0IHNpZ25pbmcuIixjb2RlOiJVbnN1cHBvcnRlZFNpZ25lciIscmV0cnlhYmxlOiExfSk7dmFyIG89ZS5zZXJ2aWNlP2Uuc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpOnIudXRpbC5kYXRlLmdldERhdGUoKTtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV09cGFyc2VJbnQoci51dGlsLmRhdGUudW5peFRpbWVzdGFtcChvKSt0LDEwKS50b1N0cmluZygpfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3QuZW5kcG9pbnQsbj1yLnV0aWwudXJsUGFyc2UoZS5odHRwUmVxdWVzdC5wYXRoKSxvPXt9O24uc2VhcmNoJiYobz1yLnV0aWwucXVlcnlTdHJpbmdQYXJzZShuLnNlYXJjaC5zdWJzdHIoMSkpKTt2YXIgYT1lLmh0dHBSZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbi5zcGxpdCgiICIpO2lmKCJBV1MiPT09YVswXSlhPWFbMV0uc3BsaXQoIjoiKSxvLlNpZ25hdHVyZT1hLnBvcCgpLG8uQVdTQWNjZXNzS2V5SWQ9YS5qb2luKCI6Iiksci51dGlsLmVhY2goZS5odHRwUmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbihlLHQpe2U9PT1pJiYoZT0iRXhwaXJlcyIpLDA9PT1lLmluZGV4T2YoIngtYW16LW1ldGEtIikmJihkZWxldGUgb1tlXSxlPWUudG9Mb3dlckNhc2UoKSksb1tlXT10fSkpLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV0sZGVsZXRlIG8uQXV0aG9yaXphdGlvbixkZWxldGUgby5Ib3N0O2Vsc2UgaWYoIkFXUzQtSE1BQy1TSEEyNTYiPT09YVswXSl7YS5zaGlmdCgpO3ZhciBzPWEuam9pbigiICIpLm1hdGNoKC9TaWduYXR1cmU9KC4qPykoPzosfFxzfFxyP1xufCQpLylbMV07b1siWC1BbXotU2lnbmF0dXJlIl09cyxkZWxldGUgby5FeHBpcmVzfXQucGF0aG5hbWU9bi5wYXRobmFtZSx0LnNlYXJjaD1yLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhvKX1yLlNpZ25lcnMuUHJlc2lnbj1vKHtzaWduOmZ1bmN0aW9uKGUsdCxuKXtpZihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV09dHx8MzYwMCxlLm9uKCJidWlsZCIsYSksZS5vbigic2lnbiIscyksZS5yZW1vdmVMaXN0ZW5lcigiYWZ0ZXJCdWlsZCIsci5FdmVudExpc3RlbmVycy5Db3JlLlNFVF9DT05URU5UX0xFTkdUSCksZS5yZW1vdmVMaXN0ZW5lcigiYWZ0ZXJCdWlsZCIsci5FdmVudExpc3RlbmVycy5Db3JlLkNPTVBVVEVfU0hBMjU2KSxlLmVtaXQoImJlZm9yZVByZXNpZ24iLFtlXSksIW4pe2lmKGUuYnVpbGQoKSxlLnJlc3BvbnNlLmVycm9yKXRocm93IGUucmVzcG9uc2UuZXJyb3I7cmV0dXJuIHIudXRpbC51cmxGb3JtYXQoZS5odHRwUmVxdWVzdC5lbmRwb2ludCl9ZS5idWlsZCgoZnVuY3Rpb24oKXt0aGlzLnJlc3BvbnNlLmVycm9yP24odGhpcy5yZXNwb25zZS5lcnJvcik6bihudWxsLHIudXRpbC51cmxGb3JtYXQoZS5odHRwUmVxdWVzdC5lbmRwb2ludCkpfSkpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuUHJlc2lnbn0seyIuLi9jb3JlIjoxOX1dLDY2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlJlcXVlc3RTaWduZXI9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dGhpcy5yZXF1ZXN0PWV9LHNldFNlcnZpY2VDbGllbnRJZDpmdW5jdGlvbihlKXt0aGlzLnNlcnZpY2VDbGllbnRJZD1lfSxnZXRTZXJ2aWNlQ2xpZW50SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXJ2aWNlQ2xpZW50SWR9fSksci5TaWduZXJzLlJlcXVlc3RTaWduZXIuZ2V0VmVyc2lvbj1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJ2MiI6cmV0dXJuIHIuU2lnbmVycy5WMjtjYXNlInYzIjpyZXR1cm4gci5TaWduZXJzLlYzO2Nhc2UiczN2NCI6Y2FzZSJ2NCI6cmV0dXJuIHIuU2lnbmVycy5WNDtjYXNlInMzIjpyZXR1cm4gci5TaWduZXJzLlMzO2Nhc2UidjNodHRwcyI6cmV0dXJuIHIuU2lnbmVycy5WM0h0dHBzO2Nhc2UiYmVhcmVyIjpyZXR1cm4gci5TaWduZXJzLkJlYXJlcn10aHJvdyBuZXcgRXJyb3IoIlVua25vd24gc2lnbmluZyB2ZXJzaW9uICIrZSl9LGUoIi4vdjIiKSxlKCIuL3YzIiksZSgiLi92M2h0dHBzIiksZSgiLi92NCIpLGUoIi4vczMiKSxlKCIuL3ByZXNpZ24iKSxlKCIuL2JlYXJlciIpfSx7Ii4uL2NvcmUiOjE5LCIuL2JlYXJlciI6NjQsIi4vcHJlc2lnbiI6NjUsIi4vczMiOjY3LCIuL3YyIjo2OCwiLi92MyI6NjksIi4vdjNodHRwcyI6NzAsIi4vdjQiOjcxfV0sNjc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLlNpZ25lcnMuUzM9byhyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7c3ViUmVzb3VyY2VzOnthY2w6MSxhY2NlbGVyYXRlOjEsYW5hbHl0aWNzOjEsY29yczoxLGxpZmVjeWNsZToxLGRlbGV0ZToxLGludmVudG9yeToxLGxvY2F0aW9uOjEsbG9nZ2luZzoxLG1ldHJpY3M6MSxub3RpZmljYXRpb246MSxwYXJ0TnVtYmVyOjEscG9saWN5OjEscmVxdWVzdFBheW1lbnQ6MSxyZXBsaWNhdGlvbjoxLHJlc3RvcmU6MSx0YWdnaW5nOjEsdG9ycmVudDoxLHVwbG9hZElkOjEsdXBsb2FkczoxLHZlcnNpb25JZDoxLHZlcnNpb25pbmc6MSx2ZXJzaW9uczoxLHdlYnNpdGU6MX0scmVzcG9uc2VIZWFkZXJzOnsicmVzcG9uc2UtY29udGVudC10eXBlIjoxLCJyZXNwb25zZS1jb250ZW50LWxhbmd1YWdlIjoxLCJyZXNwb25zZS1leHBpcmVzIjoxLCJyZXNwb25zZS1jYWNoZS1jb250cm9sIjoxLCJyZXNwb25zZS1jb250ZW50LWRpc3Bvc2l0aW9uIjoxLCJyZXNwb25zZS1jb250ZW50LWVuY29kaW5nIjoxfSxhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5yZXF1ZXN0LmhlYWRlcnNbInByZXNpZ25lZC1leHBpcmVzIl18fCh0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPXIudXRpbC5kYXRlLnJmYzgyMih0KSksZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbik7dmFyIG49dGhpcy5zaWduKGUuc2VjcmV0QWNjZXNzS2V5LHRoaXMuc3RyaW5nVG9TaWduKCkpLG89IkFXUyAiK2UuYWNjZXNzS2V5SWQrIjoiK247dGhpcy5yZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbj1vfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3QsdD1bXTt0LnB1c2goZS5tZXRob2QpLHQucHVzaChlLmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il18fCIiKSx0LnB1c2goZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXXx8IiIpLHQucHVzaChlLmhlYWRlcnNbInByZXNpZ25lZC1leHBpcmVzIl18fCIiKTt2YXIgbj10aGlzLmNhbm9uaWNhbGl6ZWRBbXpIZWFkZXJzKCk7cmV0dXJuIG4mJnQucHVzaChuKSx0LnB1c2godGhpcy5jYW5vbmljYWxpemVkUmVzb3VyY2UoKSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxpemVkQW16SGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3IudXRpbC5lYWNoKHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0KXt0Lm1hdGNoKC9eeC1hbXotL2kpJiZlLnB1c2godCl9KSksZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnRvTG93ZXJDYXNlKCk8dC50b0xvd2VyQ2FzZSgpPy0xOjF9KSk7dmFyIHQ9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLGUsKGZ1bmN0aW9uKGUpe3QucHVzaChlLnRvTG93ZXJDYXNlKCkrIjoiK1N0cmluZyh0aGlzLnJlcXVlc3QuaGVhZGVyc1tlXSkpfSkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsaXplZFJlc291cmNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LHQ9ZS5wYXRoLnNwbGl0KCI/Iiksbj10WzBdLG89dFsxXSxpPSIiO2lmKGUudmlydHVhbEhvc3RlZEJ1Y2tldCYmKGkrPSIvIitlLnZpcnR1YWxIb3N0ZWRCdWNrZXQpLGkrPW4sbyl7dmFyIGE9W107ci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsby5zcGxpdCgiJiIpLChmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCI9IilbMF0sbj1lLnNwbGl0KCI9IilbMV07aWYodGhpcy5zdWJSZXNvdXJjZXNbdF18fHRoaXMucmVzcG9uc2VIZWFkZXJzW3RdKXt2YXIgcj17bmFtZTp0fTt2b2lkIDAhPT1uJiYodGhpcy5zdWJSZXNvdXJjZXNbdF0/ci52YWx1ZT1uOnIudmFsdWU9ZGVjb2RlVVJJQ29tcG9uZW50KG4pKSxhLnB1c2gocil9fSkpLGEuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5uYW1lPHQubmFtZT8tMToxfSkpLGEubGVuZ3RoJiYobz1bXSxyLnV0aWwuYXJyYXlFYWNoKGEsKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUudmFsdWU/by5wdXNoKGUubmFtZSk6by5wdXNoKGUubmFtZSsiPSIrZS52YWx1ZSl9KSksaSs9Ij8iK28uam9pbigiJiIpKX1yZXR1cm4gaX0sc2lnbjpmdW5jdGlvbihlLHQpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZSx0LCJiYXNlNjQiLCJzaGExIil9fSksdC5leHBvcnRzPXIuU2lnbmVycy5TM30seyIuLi9jb3JlIjoxOX1dLDY4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlYyPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2FkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt0fHwodD1yLnV0aWwuZGF0ZS5nZXREYXRlKCkpO3ZhciBuPXRoaXMucmVxdWVzdDtuLnBhcmFtcy5UaW1lc3RhbXA9ci51dGlsLmRhdGUuaXNvODYwMSh0KSxuLnBhcmFtcy5TaWduYXR1cmVWZXJzaW9uPSIyIixuLnBhcmFtcy5TaWduYXR1cmVNZXRob2Q9IkhtYWNTSEEyNTYiLG4ucGFyYW1zLkFXU0FjY2Vzc0tleUlkPWUuYWNjZXNzS2V5SWQsZS5zZXNzaW9uVG9rZW4mJihuLnBhcmFtcy5TZWN1cml0eVRva2VuPWUuc2Vzc2lvblRva2VuKSxkZWxldGUgbi5wYXJhbXMuU2lnbmF0dXJlLG4ucGFyYW1zLlNpZ25hdHVyZT10aGlzLnNpZ25hdHVyZShlKSxuLmJvZHk9ci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobi5wYXJhbXMpLG4uaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXT1uLmJvZHkubGVuZ3RofSxzaWduYXR1cmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpLCJiYXNlNjQiKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKSxlLnB1c2godGhpcy5yZXF1ZXN0LmVuZHBvaW50Lmhvc3QudG9Mb3dlckNhc2UoKSksZS5wdXNoKHRoaXMucmVxdWVzdC5wYXRobmFtZSgpKSxlLnB1c2goci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcodGhpcy5yZXF1ZXN0LnBhcmFtcykpLGUuam9pbigiXG4iKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlYyfSx7Ii4uL2NvcmUiOjE5fV0sNjk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLlNpZ25lcnMuVjM9byhyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7YWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXIudXRpbC5kYXRlLnJmYzgyMih0KTt0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPW4sZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbiksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16bi1BdXRob3JpemF0aW9uIl09dGhpcy5hdXRob3JpemF0aW9uKGUsbil9LGF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIkFXUzMgQVdTQWNjZXNzS2V5SWQ9IitlLmFjY2Vzc0tleUlkKyIsQWxnb3JpdGhtPUhtYWNTSEEyNTYsU2lnbmVkSGVhZGVycz0iK3RoaXMuc2lnbmVkSGVhZGVycygpKyIsU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSl9LHNpZ25lZEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaCh0aGlzLmhlYWRlcnNUb1NpZ24oKSwoZnVuY3Rpb24odCl7ZS5wdXNoKHQudG9Mb3dlckNhc2UoKSl9KSksZS5zb3J0KCkuam9pbigiOyIpfSxjYW5vbmljYWxIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LmhlYWRlcnMsdD1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaCh0aGlzLmhlYWRlcnNUb1NpZ24oKSwoZnVuY3Rpb24obil7dC5wdXNoKG4udG9Mb3dlckNhc2UoKS50cmltKCkrIjoiK1N0cmluZyhlW25dKS50cmltKCkpfSkpLHQuc29ydCgpLmpvaW4oIlxuIikrIlxuIn0saGVhZGVyc1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiByLnV0aWwuZWFjaCh0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCl7KCJIb3N0Ij09PXR8fCJDb250ZW50LUVuY29kaW5nIj09PXR8fHQubWF0Y2goL15YLUFtei9pKSkmJmUucHVzaCh0KX0pKSxlfSxzaWduYXR1cmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpLCJiYXNlNjQiKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKSxlLnB1c2goIi8iKSxlLnB1c2goIiIpLGUucHVzaCh0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSksZS5wdXNoKHRoaXMucmVxdWVzdC5ib2R5KSxyLnV0aWwuY3J5cHRvLnNoYTI1NihlLmpvaW4oIlxuIikpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjN9LHsiLi4vY29yZSI6MTl9XSw3MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O2UoIi4vdjMiKSxyLlNpZ25lcnMuVjNIdHRwcz1vKHIuU2lnbmVycy5WMyx7YXV0aG9yaXphdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4iQVdTMy1IVFRQUyBBV1NBY2Nlc3NLZXlJZD0iK2UuYWNjZXNzS2V5SWQrIixBbGdvcml0aG09SG1hY1NIQTI1NixTaWduYXR1cmU9Iit0aGlzLnNpZ25hdHVyZShlKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl19fSksdC5leHBvcnRzPXIuU2lnbmVycy5WM0h0dHBzfSx7Ii4uL2NvcmUiOjE5LCIuL3YzIjo2OX1dLDcxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi92NF9jcmVkZW50aWFscyIpLGk9ci51dGlsLmluaGVyaXQsYT0icHJlc2lnbmVkLWV4cGlyZXMiO3IuU2lnbmVycy5WND1pKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQsbil7ci5TaWduZXJzLlJlcXVlc3RTaWduZXIuY2FsbCh0aGlzLGUpLHRoaXMuc2VydmljZU5hbWU9dCxuPW58fHt9LHRoaXMuc2lnbmF0dXJlQ2FjaGU9ImJvb2xlYW4iIT10eXBlb2Ygbi5zaWduYXR1cmVDYWNoZXx8bi5zaWduYXR1cmVDYWNoZSx0aGlzLm9wZXJhdGlvbj1uLm9wZXJhdGlvbix0aGlzLnNpZ25hdHVyZVZlcnNpb249bi5zaWduYXR1cmVWZXJzaW9ufSxhbGdvcml0aG06IkFXUzQtSE1BQy1TSEEyNTYiLGFkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnV0aWwuZGF0ZS5pc284NjAxKHQpLnJlcGxhY2UoL1s6XC1dfFwuXGR7M30vZywiIik7dGhpcy5pc1ByZXNpZ25lZCgpP3RoaXMudXBkYXRlRm9yUHJlc2lnbmVkKGUsbik6dGhpcy5hZGRIZWFkZXJzKGUsbiksdGhpcy5yZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbj10aGlzLmF1dGhvcml6YXRpb24oZSxuKX0sYWRkSGVhZGVyczpmdW5jdGlvbihlLHQpe3RoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl09dCxlLnNlc3Npb25Ub2tlbiYmKHRoaXMucmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdPWUuc2Vzc2lvblRva2VuKX0sdXBkYXRlRm9yUHJlc2lnbmVkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVkZW50aWFsU3RyaW5nKHQpLG89eyJYLUFtei1EYXRlIjp0LCJYLUFtei1BbGdvcml0aG0iOnRoaXMuYWxnb3JpdGhtLCJYLUFtei1DcmVkZW50aWFsIjplLmFjY2Vzc0tleUlkKyIvIituLCJYLUFtei1FeHBpcmVzIjp0aGlzLnJlcXVlc3QuaGVhZGVyc1thXSwiWC1BbXotU2lnbmVkSGVhZGVycyI6dGhpcy5zaWduZWRIZWFkZXJzKCl9O2Uuc2Vzc2lvblRva2VuJiYob1siWC1BbXotU2VjdXJpdHktVG9rZW4iXT1lLnNlc3Npb25Ub2tlbiksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdJiYob1siQ29udGVudC1UeXBlIl09dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1NRDUiXSYmKG9bIkNvbnRlbnQtTUQ1Il09dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il0pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJDYWNoZS1Db250cm9sIl0mJihvWyJDYWNoZS1Db250cm9sIl09dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNhY2hlLUNvbnRyb2wiXSksci51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbihlLHQpe2lmKGUhPT1hJiZ0aGlzLmlzU2lnbmFibGVIZWFkZXIoZSkpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTswPT09bi5pbmRleE9mKCJ4LWFtei1tZXRhLSIpP29bbl09dDowPT09bi5pbmRleE9mKCJ4LWFtei0iKSYmKG9bZV09dCl9fSkpO3ZhciBpPXRoaXMucmVxdWVzdC5wYXRoLmluZGV4T2YoIj8iKT49MD8iJiI6Ij8iO3RoaXMucmVxdWVzdC5wYXRoKz1pK3IudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKG8pfSxhdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj10aGlzLmNyZWRlbnRpYWxTdHJpbmcodCk7cmV0dXJuIG4ucHVzaCh0aGlzLmFsZ29yaXRobSsiIENyZWRlbnRpYWw9IitlLmFjY2Vzc0tleUlkKyIvIityKSxuLnB1c2goIlNpZ25lZEhlYWRlcnM9Iit0aGlzLnNpZ25lZEhlYWRlcnMoKSksbi5wdXNoKCJTaWduYXR1cmU9Iit0aGlzLnNpZ25hdHVyZShlLHQpKSxuLmpvaW4oIiwgIil9LHNpZ25hdHVyZTpmdW5jdGlvbihlLHQpe3ZhciBuPW8uZ2V0U2lnbmluZ0tleShlLHQuc3Vic3RyKDAsOCksdGhpcy5yZXF1ZXN0LnJlZ2lvbix0aGlzLnNlcnZpY2VOYW1lLHRoaXMuc2lnbmF0dXJlQ2FjaGUpO3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMobix0aGlzLnN0cmluZ1RvU2lnbih0KSwiaGV4Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC5wdXNoKCJBV1M0LUhNQUMtU0hBMjU2IiksdC5wdXNoKGUpLHQucHVzaCh0aGlzLmNyZWRlbnRpYWxTdHJpbmcoZSkpLHQucHVzaCh0aGlzLmhleEVuY29kZWRIYXNoKHRoaXMuY2Fub25pY2FsU3RyaW5nKCkpKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5yZXF1ZXN0LnBhdGhuYW1lKCk7cmV0dXJuInMzIiE9PXRoaXMuc2VydmljZU5hbWUmJiJzM3Y0IiE9PXRoaXMuc2lnbmF0dXJlVmVyc2lvbiYmKHQ9ci51dGlsLnVyaUVzY2FwZVBhdGgodCkpLGUucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKSxlLnB1c2godCksZS5wdXNoKHRoaXMucmVxdWVzdC5zZWFyY2goKSksZS5wdXNoKHRoaXMuY2Fub25pY2FsSGVhZGVycygpKyJcbiIpLGUucHVzaCh0aGlzLnNpZ25lZEhlYWRlcnMoKSksZS5wdXNoKHRoaXMuaGV4RW5jb2RlZEJvZHlIYXNoKCkpLGUuam9pbigiXG4iKX0sY2Fub25pY2FsSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3IudXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCxuKXtlLnB1c2goW3Qsbl0pfSkpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXS50b0xvd2VyQ2FzZSgpPHRbMF0udG9Mb3dlckNhc2UoKT8tMToxfSkpO3ZhciB0PVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlKXt2YXIgbj1lWzBdLnRvTG93ZXJDYXNlKCk7aWYodGhpcy5pc1NpZ25hYmxlSGVhZGVyKG4pKXt2YXIgbz1lWzFdO2lmKG51bGw9PW98fCJmdW5jdGlvbiIhPXR5cGVvZiBvLnRvU3RyaW5nKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIkhlYWRlciAiK24rIiBjb250YWlucyBpbnZhbGlkIHZhbHVlIikse2NvZGU6IkludmFsaWRIZWFkZXIifSk7dC5wdXNoKG4rIjoiK3RoaXMuY2Fub25pY2FsSGVhZGVyVmFsdWVzKG8udG9TdHJpbmcoKSkpfX0pKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbEhlYWRlclZhbHVlczpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9ccysvZywiICIpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sc2lnbmVkSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiByLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQpe3Q9dC50b0xvd2VyQ2FzZSgpLHRoaXMuaXNTaWduYWJsZUhlYWRlcih0KSYmZS5wdXNoKHQpfSkpLGUuc29ydCgpLmpvaW4oIjsiKX0sY3JlZGVudGlhbFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gby5jcmVhdGVTY29wZShlLnN1YnN0cigwLDgpLHRoaXMucmVxdWVzdC5yZWdpb24sdGhpcy5zZXJ2aWNlTmFtZSl9LGhleEVuY29kZWRIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLnNoYTI1NihlLCJoZXgiKX0saGV4RW5jb2RlZEJvZHlIYXNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0O3JldHVybiB0aGlzLmlzUHJlc2lnbmVkKCkmJlsiczMiLCJzMy1vYmplY3QtbGFtYmRhIl0uaW5kZXhPZih0aGlzLnNlcnZpY2VOYW1lKT4tMSYmIWUuYm9keT8iVU5TSUdORUQtUEFZTE9BRCI6ZS5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdP2UuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXTp0aGlzLmhleEVuY29kZWRIYXNoKHRoaXMucmVxdWVzdC5ib2R5fHwiIil9LHVuc2lnbmFibGVIZWFkZXJzOlsiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtdHlwZSIsImNvbnRlbnQtbGVuZ3RoIiwidXNlci1hZ2VudCIsYSwiZXhwZWN0IiwieC1hbXpuLXRyYWNlLWlkIl0saXNTaWduYWJsZUhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJ4LWFtei0iKXx8dGhpcy51bnNpZ25hYmxlSGVhZGVycy5pbmRleE9mKGUpPDB9LGlzUHJlc2lnbmVkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnJlcXVlc3QuaGVhZGVyc1thXX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlY0fSx7Ii4uL2NvcmUiOjE5LCIuL3Y0X2NyZWRlbnRpYWxzIjo3Mn1dLDcyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89e30saT1bXSxhPSJhd3M0X3JlcXVlc3QiO3QuZXhwb3J0cz17Y3JlYXRlU2NvcGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybltlLnN1YnN0cigwLDgpLHQsbixhXS5qb2luKCIvIil9LGdldFNpZ25pbmdLZXk6ZnVuY3Rpb24oZSx0LG4scyxjKXt2YXIgdT1bci51dGlsLmNyeXB0by5obWFjKGUuc2VjcmV0QWNjZXNzS2V5LGUuYWNjZXNzS2V5SWQsImJhc2U2NCIpLHQsbixzXS5qb2luKCJfIik7aWYoKGM9ITEhPT1jKSYmdSBpbiBvKXJldHVybiBvW3VdO3ZhciBsPXIudXRpbC5jcnlwdG8uaG1hYygiQVdTNCIrZS5zZWNyZXRBY2Nlc3NLZXksdCwiYnVmZmVyIikscD1yLnV0aWwuY3J5cHRvLmhtYWMobCxuLCJidWZmZXIiKSxkPXIudXRpbC5jcnlwdG8uaG1hYyhwLHMsImJ1ZmZlciIpLGg9ci51dGlsLmNyeXB0by5obWFjKGQsYSwiYnVmZmVyIik7cmV0dXJuIGMmJihvW3VdPWgsaS5wdXNoKHUpLGkubGVuZ3RoPjUwJiZkZWxldGUgb1tpLnNoaWZ0KCldKSxofSxlbXB0eUNhY2hlOmZ1bmN0aW9uKCl7bz17fSxpPVtdfX19LHsiLi4vY29yZSI6MTl9XSw3MzpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXt0aGlzLmN1cnJlbnRTdGF0ZT10fHxudWxsLHRoaXMuc3RhdGVzPWV8fHt9fXIucHJvdG90eXBlLnJ1blRvPWZ1bmN0aW9uKGUsdCxuLHIpeyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYocj1uLG49dCx0PWUsZT1udWxsKTt2YXIgbz10aGlzLGk9by5zdGF0ZXNbby5jdXJyZW50U3RhdGVdO2kuZm4uY2FsbChufHxvLHIsKGZ1bmN0aW9uKHIpe2lmKHIpe2lmKCFpLmZhaWwpcmV0dXJuIHQ/dC5jYWxsKG4scik6bnVsbDtvLmN1cnJlbnRTdGF0ZT1pLmZhaWx9ZWxzZXtpZighaS5hY2NlcHQpcmV0dXJuIHQ/dC5jYWxsKG4pOm51bGw7by5jdXJyZW50U3RhdGU9aS5hY2NlcHR9aWYoby5jdXJyZW50U3RhdGU9PT1lKXJldHVybiB0P3QuY2FsbChuLHIpOm51bGw7by5ydW5UbyhlLHQsbixyKX0pKX0sci5wcm90b3R5cGUuYWRkU3RhdGU9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHI9dCx0PW51bGwsbj1udWxsKToiZnVuY3Rpb24iPT10eXBlb2YgbiYmKHI9bixuPW51bGwpLHRoaXMuY3VycmVudFN0YXRlfHwodGhpcy5jdXJyZW50U3RhdGU9ZSksdGhpcy5zdGF0ZXNbZV09e2FjY2VwdDp0LGZhaWw6bixmbjpyfSx0aGlzfSx0LmV4cG9ydHM9cn0se31dLDc0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4scil7KGZ1bmN0aW9uKCl7dmFyIGksYT17ZW52aXJvbm1lbnQ6Im5vZGVqcyIsZW5naW5lOmZ1bmN0aW9uKCl7aWYoYS5pc0Jyb3dzZXIoKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3IpcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7dmFyIGU9bi5wbGF0Zm9ybSsiLyIrbi52ZXJzaW9uO3JldHVybiBuLmVudi5BV1NfRVhFQ1VUSU9OX0VOViYmKGUrPSIgZXhlYy1lbnYvIituLmVudi5BV1NfRVhFQ1VUSU9OX0VOViksZX0sdXNlckFnZW50OmZ1bmN0aW9uKCl7dmFyIHQ9YS5lbnZpcm9ubWVudCxuPSJhd3Mtc2RrLSIrdCsiLyIrZSgiLi9jb3JlIikuVkVSU0lPTjtyZXR1cm4ibm9kZWpzIj09PXQmJihuKz0iICIrYS5lbmdpbmUoKSksbn0sdXJpRXNjYXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWVuY29kZVVSSUNvbXBvbmVudChlKTtyZXR1cm4gdD0odD10LnJlcGxhY2UoL1teQS1aYS16MC05Xy5+XC0lXSsvZyxlc2NhcGUpKS5yZXBsYWNlKC9bKl0vZywoZnVuY3Rpb24oZSl7cmV0dXJuIiUiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pKX0sdXJpRXNjYXBlUGF0aDpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gYS5hcnJheUVhY2goZS5zcGxpdCgiLyIpLChmdW5jdGlvbihlKXt0LnB1c2goYS51cmlFc2NhcGUoZSkpfSkpLHQuam9pbigiLyIpfSx1cmxQYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gYS51cmwucGFyc2UoZSl9LHVybEZvcm1hdDpmdW5jdGlvbihlKXtyZXR1cm4gYS51cmwuZm9ybWF0KGUpfSxxdWVyeVN0cmluZ1BhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBhLnF1ZXJ5c3RyaW5nLnBhcnNlKGUpfSxxdWVyeVBhcmFtc1RvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49YS51cmlFc2NhcGUscj1PYmplY3Qua2V5cyhlKS5zb3J0KCk7cmV0dXJuIGEuYXJyYXlFYWNoKHIsKGZ1bmN0aW9uKHIpe3ZhciBvPWVbcl0saT1uKHIpLHM9aSsiPSI7aWYoQXJyYXkuaXNBcnJheShvKSl7dmFyIGM9W107YS5hcnJheUVhY2gobywoZnVuY3Rpb24oZSl7Yy5wdXNoKG4oZSkpfSkpLHM9aSsiPSIrYy5zb3J0KCkuam9pbigiJiIraSsiPSIpfWVsc2UgbnVsbCE9byYmKHM9aSsiPSIrbihvKSk7dC5wdXNoKHMpfSkpLHQuam9pbigiJiIpfSxyZWFkRmlsZVN5bmM6ZnVuY3Rpb24odCl7cmV0dXJuIGEuaXNCcm93c2VyKCk/bnVsbDplKCJmcyIpLnJlYWRGaWxlU3luYyh0LCJ1dGYtOCIpfSxiYXNlNjQ6e2VuY29kZTpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBiYXNlNjQgZW5jb2RlIG51bWJlciAiK2UpKTtyZXR1cm4gbnVsbD09ZT9lOmEuYnVmZmVyLnRvQnVmZmVyKGUpLnRvU3RyaW5nKCJiYXNlNjQiKX0sZGVjb2RlOmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSl0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IGJhc2U2NCBkZWNvZGUgbnVtYmVyICIrZSkpO3JldHVybiBudWxsPT1lP2U6YS5idWZmZXIudG9CdWZmZXIoZSwiYmFzZTY0Iil9fSxidWZmZXI6e3RvQnVmZmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGEuQnVmZmVyLmZyb20mJmEuQnVmZmVyLmZyb20hPT1VaW50OEFycmF5LmZyb20/YS5CdWZmZXIuZnJvbShlLHQpOm5ldyBhLkJ1ZmZlcihlLHQpfSxhbGxvYzpmdW5jdGlvbihlLHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigic2l6ZSBwYXNzZWQgdG8gYWxsb2MgbXVzdCBiZSBhIG51bWJlci4iKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS5CdWZmZXIuYWxsb2MpcmV0dXJuIGEuQnVmZmVyLmFsbG9jKGUsdCxuKTt2YXIgcj1uZXcgYS5CdWZmZXIoZSk7cmV0dXJuIHZvaWQgMCE9PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiByLmZpbGwmJnIuZmlsbCh0LHZvaWQgMCx2b2lkIDAsbikscn0sdG9TdHJlYW06ZnVuY3Rpb24oZSl7YS5CdWZmZXIuaXNCdWZmZXIoZSl8fChlPWEuYnVmZmVyLnRvQnVmZmVyKGUpKTt2YXIgdD1uZXcgYS5zdHJlYW0uUmVhZGFibGUsbj0wO3JldHVybiB0Ll9yZWFkPWZ1bmN0aW9uKHIpe2lmKG4+PWUubGVuZ3RoKXJldHVybiB0LnB1c2gobnVsbCk7dmFyIG89bityO28+ZS5sZW5ndGgmJihvPWUubGVuZ3RoKSx0LnB1c2goZS5zbGljZShuLG8pKSxuPW99LHR9LGNvbmNhdDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MCxvPTA7Zm9yKG49MDtuPGUubGVuZ3RoO24rKylyKz1lW25dLmxlbmd0aDtmb3IodD1hLmJ1ZmZlci5hbGxvYyhyKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5jb3B5KHQsbyksbys9ZVtuXS5sZW5ndGg7cmV0dXJuIHR9fSxzdHJpbmc6e2J5dGVMZW5ndGg6ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gMDtpZigic3RyaW5nIj09dHlwZW9mIHQmJih0PWEuYnVmZmVyLnRvQnVmZmVyKHQpKSwibnVtYmVyIj09dHlwZW9mIHQuYnl0ZUxlbmd0aClyZXR1cm4gdC5ieXRlTGVuZ3RoO2lmKCJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgpcmV0dXJuIHQubGVuZ3RoO2lmKCJudW1iZXIiPT10eXBlb2YgdC5zaXplKXJldHVybiB0LnNpemU7aWYoInN0cmluZyI9PXR5cGVvZiB0LnBhdGgpcmV0dXJuIGUoImZzIikubHN0YXRTeW5jKHQucGF0aCkuc2l6ZTt0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IGRldGVybWluZSBsZW5ndGggb2YgIit0KSx7b2JqZWN0OnR9KX0sdXBwZXJGaXJzdDpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpfSxsb3dlckZpcnN0OmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdLnRvTG93ZXJDYXNlKCkrZS5zdWJzdHIoMSl9fSxpbmk6e3BhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0LG49e307cmV0dXJuIGEuYXJyYXlFYWNoKGUuc3BsaXQoL1xyP1xuLyksKGZ1bmN0aW9uKGUpe2lmKCJbIj09PShlPWUuc3BsaXQoLyhefFxzKVs7I10vKVswXS50cmltKCkpWzBdJiYiXSI9PT1lW2UubGVuZ3RoLTFdKXtpZigiX19wcm90b19fIj09PSh0PWUuc3Vic3RyaW5nKDEsZS5sZW5ndGgtMSkpfHwiX19wcm90b19fIj09PXQuc3BsaXQoL1xzLylbMV0pdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBsb2FkIHByb2ZpbGUgbmFtZSAnIit0KyInIGZyb20gc2hhcmVkIGluaSBmaWxlLiIpKX1lbHNlIGlmKHQpe3ZhciByPWUuaW5kZXhPZigiPSIpLG89ZS5sZW5ndGgtMTtpZigtMSE9PXImJjAhPT1yJiZyIT09byl7dmFyIGk9ZS5zdWJzdHJpbmcoMCxyKS50cmltKCkscz1lLnN1YnN0cmluZyhyKzEpLnRyaW0oKTtuW3RdPW5bdF18fHt9LG5bdF1baV09c319fSkpLG59fSxmbjp7bm9vcDpmdW5jdGlvbigpe30sY2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYoZSl0aHJvdyBlfSxtYWtlQXN5bmM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdDw9ZS5sZW5ndGg/ZTpmdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTt0LnBvcCgpKGUuYXBwbHkobnVsbCx0KSl9fX0sZGF0ZTp7Z2V0RGF0ZTpmdW5jdGlvbigpe3JldHVybiBpfHwoaT1lKCIuL2NvcmUiKSksaS5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ/bmV3IERhdGUoKG5ldyBEYXRlKS5nZXRUaW1lKCkraS5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpOm5ldyBEYXRlfSxpc284NjAxOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1hLmRhdGUuZ2V0RGF0ZSgpKSxlLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXC5cZHszfVokLywiWiIpfSxyZmM4MjI6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWEuZGF0ZS5nZXREYXRlKCkpLGUudG9VVENTdHJpbmcoKX0sdW5peFRpbWVzdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9YS5kYXRlLmdldERhdGUoKSksZS5nZXRUaW1lKCkvMWUzfSxmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZT9uZXcgRGF0ZSgxZTMqZSk6bmV3IERhdGUoZSl9LGZvcm1hdDpmdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0iaXNvODYwMSIpLGEuZGF0ZVt0XShhLmRhdGUuZnJvbShlKSl9LHBhcnNlVGltZXN0YW1wOmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gbmV3IERhdGUoMWUzKmUpO2lmKGUubWF0Y2goL15cZCskLykpcmV0dXJuIG5ldyBEYXRlKDFlMyplKTtpZihlLm1hdGNoKC9eXGR7NH0vKSlyZXR1cm4gbmV3IERhdGUoZSk7aWYoZS5tYXRjaCgvXlx3ezN9LC8pKXJldHVybiBuZXcgRGF0ZShlKTt0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigidW5oYW5kbGVkIHRpbWVzdGFtcCBmb3JtYXQ6ICIrZSkse2NvZGU6IlRpbWVzdGFtcFBhcnNlckVycm9yIn0pfX0sY3J5cHRvOntjcmMzMlRhYmxlOlswLDE5OTY5NTk4OTQsMzk5MzkxOTc4OCwyNTY3NTI0Nzk0LDEyNDYzNDEzNywxODg2MDU3NjE1LDM5MTU2MjE2ODUsMjY1NzM5MjAzNSwyNDkyNjgyNzQsMjA0NDUwODMyNCwzNzcyMTE1MjMwLDI1NDcxNzc4NjQsMTYyOTQxOTk1LDIxMjU1NjEwMjEsMzg4NzYwNzA0NywyNDI4NDQ0MDQ5LDQ5ODUzNjU0OCwxNzg5OTI3NjY2LDQwODkwMTY2NDgsMjIyNzA2MTIxNCw0NTA1NDg4NjEsMTg0MzI1ODYwMyw0MTA3NTgwNzUzLDIyMTE2Nzc2MzksMzI1ODgzOTkwLDE2ODQ3NzcxNTIsNDI1MTEyMjA0MiwyMzIxOTI2NjM2LDMzNTYzMzQ4NywxNjYxMzY1NDY1LDQxOTUzMDI3NTUsMjM2NjExNTMxNyw5OTcwNzMwOTYsMTI4MTk1Mzg4NiwzNTc5ODU1MzMyLDI3MjQ2ODgyNDIsMTAwNjg4ODE0NSwxMjU4NjA3Njg3LDM1MjQxMDE2MjksMjc2ODk0MjQ0Myw5MDEwOTc3MjIsMTExOTAwMDY4NCwzNjg2NTE3MjA2LDI4OTgwNjU3MjgsODUzMDQ0NDUxLDExNzIyNjYxMDEsMzcwNTAxNTc1OSwyODgyNjE2NjY1LDY1MTc2Nzk4MCwxMzczNTAzNTQ2LDMzNjk1NTQzMDQsMzIxODEwNDU5OCw1NjU1MDcyNTMsMTQ1NDYyMTczMSwzNDg1MTExNzA1LDMwOTk0MzYzMDMsNjcxMjY2OTc0LDE1OTQxOTgwMjQsMzMyMjczMDkzMCwyOTcwMzQ3ODEyLDc5NTgzNTUyNywxNDgzMjMwMjI1LDMyNDQzNjcyNzUsMzA2MDE0OTU2NSwxOTk0MTQ2MTkyLDMxMTU4NTM0LDI1NjM5MDc3NzIsNDAyMzcxNzkzMCwxOTA3NDU5NDY1LDExMjYzNzIxNSwyNjgwMTUzMjUzLDM5MDQ0MjcwNTksMjAxMzc3NjI5MCwyNTE3MjIwMzYsMjUxNzIxNTM3NCwzNzc1ODMwMDQwLDIxMzc2NTY3NjMsMTQxMzc2ODEzLDI0MzkyNzc3MTksMzg2NTI3MTI5NywxODAyMTk1NDQ0LDQ3Njg2NDg2NiwyMjM4MDAxMzY4LDQwNjY1MDg4NzgsMTgxMjM3MDkyNSw0NTMwOTI3MzEsMjE4MTYyNTAyNSw0MTExNDUxMjIzLDE3MDYwODg5MDIsMzE0MDQyNzA0LDIzNDQ1MzIyMDIsNDI0MDAxNzUzMiwxNjU4NjU4MjcxLDM2NjYxOTk3NywyMzYyNjcwMzIzLDQyMjQ5OTQ0MDUsMTMwMzUzNTk2MCw5ODQ5NjE0ODYsMjc0NzAwNzA5MiwzNTY5MDM3NTM4LDEyNTYxNzA4MTcsMTAzNzYwNDMxMSwyNzY1MjEwNzMzLDM1NTQwNzk5OTUsMTEzMTAxNDUwNiw4Nzk2Nzk5OTYsMjkwOTI0MzQ2MiwzNjYzNzcxODU2LDExNDExMjQ0NjcsODU1ODQyMjc3LDI4NTI4MDE2MzEsMzcwODY0ODY0OSwxMzQyNTMzOTQ4LDY1NDQ1OTMwNiwzMTg4Mzk2MDQ4LDMzNzMwMTUxNzQsMTQ2NjQ3OTkwOSw1NDQxNzk2MzUsMzExMDUyMzkxMywzNDYyNTIyMDE1LDE1OTE2NzEwNTQsNzAyMTM4Nzc2LDI5NjY0NjA0NTAsMzM1Mjc5OTQxMiwxNTA0OTE4ODA3LDc4MzU1MTg3MywzMDgyNjQwNDQzLDMyMzM0NDI5ODksMzk4ODI5MjM4NCwyNTk2MjU0NjQ2LDYyMzE3MDY4LDE5NTc4MTA4NDIsMzkzOTg0NTk0NSwyNjQ3ODE2MTExLDgxNDcwOTk3LDE5NDM4MDM1MjMsMzgxNDkxODkzMCwyNDg5NTk2ODA0LDIyNTI3NDQzMCwyMDUzNzkwMzc2LDM4MjYxNzU3NTUsMjQ2NjkwNjAxMywxNjc4MTY3NDMsMjA5NzY1MTM3Nyw0MDI3NTUyNTgwLDIyNjU0OTAzODYsNTAzNDQ0MDcyLDE3NjIwNTA4MTQsNDE1MDQxNzI0NSwyMTU0MTI5MzU1LDQyNjUyMjIyNSwxODUyNTA3ODc5LDQyNzUzMTM1MjYsMjMxMjMxNzkyMCwyODI3NTM2MjYsMTc0MjU1NTg1Miw0MTg5NzA4MTQzLDIzOTQ4Nzc5NDUsMzk3OTE3NzYzLDE2MjIxODM2MzcsMzYwNDM5MDg4OCwyNzE0ODY2NTU4LDk1MzcyOTczMiwxMzQwMDc2NjI2LDM1MTg3MTk5ODUsMjc5NzM2MDk5OSwxMDY4ODI4MzgxLDEyMTk2Mzg4NTksMzYyNDc0MTg1MCwyOTM2Njc1MTQ4LDkwNjE4NTQ2MiwxMDkwODEyNTEyLDM3NDc2NzIwMDMsMjgyNTM3OTY2OSw4MjkzMjkxMzUsMTE4MTMzNTE2MSwzNDEyMTc3ODA0LDMxNjA4MzQ4NDIsNjI4MDg1NDA4LDEzODI2MDUzNjYsMzQyMzM2OTEwOSwzMTM4MDc4NDY3LDU3MDU2MjIzMywxNDI2NDAwODE1LDMzMTczMTY1NDIsMjk5ODczMzYwOCw3MzMyMzk5NTQsMTU1NTI2MTk1NiwzMjY4OTM1NTkxLDMwNTAzNjA2MjUsNzUyNDU5NDAzLDE1NDEzMjAyMjEsMjYwNzA3MTkyMCwzOTY1OTczMDMwLDE5Njk5MjI5NzIsNDA3MzU0OTgsMjYxNzgzNzIyNSwzOTQzNTc3MTUxLDE5MTMwODc4NzcsODM5MDgzNzEsMjUxMjM0MTYzNCwzODAzNzQwNjkyLDIwNzUyMDg2MjIsMjEzMjYxMTEyLDI0NjMyNzI2MDMsMzg1NTk5MDI4NSwyMDk0ODU0MDcxLDE5ODk1ODg4MSwyMjYyMDI5MDEyLDQwNTcyNjA2MTAsMTc1OTM1OTk5Miw1MzQ0MTQxOTAsMjE3NjcxODU0MSw0MTM5MzI5MTE1LDE4NzM4MzYwMDEsNDE0NjY0NTY3LDIyODIyNDg5MzQsNDI3OTIwMDM2OCwxNzExNjg0NTU0LDI4NTI4MTExNiwyNDA1ODAxNzI3LDQxNjcyMTY3NDUsMTYzNDQ2Nzc5NSwzNzYyMjk3MDEsMjY4NTA2Nzg5NiwzNjA4MDA3NDA2LDEzMDg5MTg2MTIsOTU2NTQzOTM4LDI4MDg1NTUxMDUsMzQ5NTk1ODI2MywxMjMxNjM2MzAxLDEwNDc0MjcwMzUsMjkzMjk1OTgxOCwzNjU0NzAzODM2LDEwODgzNTkyNzAsOTM2OTE4ZTMsMjg0NzcxNDg5OSwzNzM2ODM3ODI5LDEyMDI5MDA4NjMsODE3MjMzODk3LDMxODMzNDIxMDgsMzQwMTIzNzEzMCwxNDA0Mjc3NTUyLDYxNTgxODE1MCwzMTM0MjA3NDkzLDM0NTM0MjEyMDMsMTQyMzg1NzQ0OSw2MDE0NTA0MzEsMzAwOTgzNzYxNCwzMjk0NzEwNDU2LDE1NjcxMDM3NDYsNzExOTI4NzI0LDMwMjA2Njg0NzEsMzI3MjM4MDA2NSwxNTEwMzM0MjM1LDc1NTE2NzExN10sY3JjMzI6ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jcnlwdG8uY3JjMzJUYWJsZSxuPS0xOyJzdHJpbmciPT10eXBlb2YgZSYmKGU9YS5idWZmZXIudG9CdWZmZXIoZSkpO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKW49bj4+PjhedFsyNTUmKG5eZS5yZWFkVUludDgocikpXTtyZXR1cm5+bj4+PjB9LGhtYWM6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG58fChuPSJiaW5hcnkiKSwiYnVmZmVyIj09PW4mJihuPXZvaWQgMCkscnx8KHI9InNoYTI1NiIpLCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9YS5idWZmZXIudG9CdWZmZXIodCkpLGEuY3J5cHRvLmxpYi5jcmVhdGVIbWFjKHIsZSkudXBkYXRlKHQpLmRpZ2VzdChuKX0sbWQ1OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5jcnlwdG8uaGFzaCgibWQ1IixlLHQsbil9LHNoYTI1NjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuY3J5cHRvLmhhc2goInNoYTI1NiIsZSx0LG4pfSxoYXNoOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWEuY3J5cHRvLmNyZWF0ZUhhc2goZSk7bnx8KG49ImJpbmFyeSIpLCJidWZmZXIiPT09biYmKG49dm9pZCAwKSwic3RyaW5nIj09dHlwZW9mIHQmJih0PWEuYnVmZmVyLnRvQnVmZmVyKHQpKTt2YXIgcz1hLmFycmF5U2xpY2VGbih0KSxjPWEuQnVmZmVyLmlzQnVmZmVyKHQpO2lmKGEuaXNCcm93c2VyKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQmJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihjPSEwKSxyJiYib2JqZWN0Ij09PW8odCkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0Lm9uJiYhYyl0Lm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7aS51cGRhdGUoZSl9KSksdC5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtyKGUpfSkpLHQub24oImVuZCIsKGZ1bmN0aW9uKCl7cihudWxsLGkuZGlnZXN0KG4pKX0pKTtlbHNle2lmKCFyfHwhc3x8Y3x8InVuZGVmaW5lZCI9PXR5cGVvZiBGaWxlUmVhZGVyKXthLmlzQnJvd3NlcigpJiYib2JqZWN0Ij09PW8odCkmJiFjJiYodD1uZXcgYS5CdWZmZXIobmV3IFVpbnQ4QXJyYXkodCkpKTt2YXIgdT1pLnVwZGF0ZSh0KS5kaWdlc3Qobik7cmV0dXJuIHImJnIobnVsbCx1KSx1fXZhciBsPTAscD1uZXcgRmlsZVJlYWRlcjtwLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKG5ldyBFcnJvcigiRmFpbGVkIHRvIHJlYWQgZGF0YS4iKSl9LHAub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGEuQnVmZmVyKG5ldyBVaW50OEFycmF5KHAucmVzdWx0KSk7aS51cGRhdGUoZSksbCs9ZS5sZW5ndGgscC5fY29udGludWVSZWFkaW5nKCl9LHAuX2NvbnRpbnVlUmVhZGluZz1mdW5jdGlvbigpe2lmKGw+PXQuc2l6ZSlyKG51bGwsaS5kaWdlc3QobikpO2Vsc2V7dmFyIGU9bCs1MjQyODg7ZT50LnNpemUmJihlPXQuc2l6ZSkscC5yZWFkQXNBcnJheUJ1ZmZlcihzLmNhbGwodCxsLGUpKX19LHAuX2NvbnRpbnVlUmVhZGluZygpfX0sdG9IZXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goKCIwIitlLmNoYXJDb2RlQXQobikudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTIsMikpO3JldHVybiB0LmpvaW4oIiIpfSxjcmVhdGVIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBhLmNyeXB0by5saWIuY3JlYXRlSGFzaChlKX19LGFib3J0Ont9LGVhY2g6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsbixlW25dKT09PWEuYWJvcnQpYnJlYWt9LGFycmF5RWFjaDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLHBhcnNlSW50KG4sMTApKT09PWEuYWJvcnQpYnJlYWt9LHVwZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBhLmVhY2godCwoZnVuY3Rpb24odCxuKXtlW3RdPW59KSksZX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS51cGRhdGUoYS5jb3B5KGUpLHQpfSxjb3B5OmZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIGU7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dO3JldHVybiB0fSxpc0VtcHR5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfSxhcnJheVNsaWNlRm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zbGljZXx8ZS53ZWJraXRTbGljZXx8ZS5tb3pTbGljZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD90Om51bGx9LGlzVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0JiYodD1hLnR5cGVOYW1lKHQpKSxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifSx0eXBlTmFtZTpmdW5jdGlvbihlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwibmFtZSIpKXJldHVybiBlLm5hbWU7dmFyIHQ9ZS50b1N0cmluZygpLG49dC5tYXRjaCgvXlxzKmZ1bmN0aW9uICguKylcKC8pO3JldHVybiBuP25bMV06dH0sZXJyb3I6ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsO2Zvcih2YXIgciBpbiJzdHJpbmciPT10eXBlb2YgZS5tZXNzYWdlJiYiIiE9PWUubWVzc2FnZSYmKCJzdHJpbmciPT10eXBlb2YgdHx8dCYmdC5tZXNzYWdlKSYmKChuPWEuY29weShlKSkubWVzc2FnZT1lLm1lc3NhZ2UpLGUubWVzc2FnZT1lLm1lc3NhZ2V8fG51bGwsInN0cmluZyI9PXR5cGVvZiB0P2UubWVzc2FnZT10OiJvYmplY3QiPT09byh0KSYmbnVsbCE9PXQmJihhLnVwZGF0ZShlLHQpLHQubWVzc2FnZSYmKGUubWVzc2FnZT10Lm1lc3NhZ2UpLCh0LmNvZGV8fHQubmFtZSkmJihlLmNvZGU9dC5jb2RlfHx0Lm5hbWUpLHQuc3RhY2smJihlLnN0YWNrPXQuc3RhY2spKSwiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5JiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm5hbWUiLHt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm1lc3NhZ2UiLHtlbnVtZXJhYmxlOiEwfSkpLGUubmFtZT1TdHJpbmcodCYmdC5uYW1lfHxlLm5hbWV8fGUuY29kZXx8IkVycm9yIiksZS50aW1lPW5ldyBEYXRlLG4mJihlLm9yaWdpbmFsRXJyb3I9biksdHx8e30paWYoIlsiPT09clswXSYmIl0iPT09cltyLmxlbmd0aC0xXSl7aWYoImNvZGUiPT09KHI9ci5zbGljZSgxLC0xKSl8fCJtZXNzYWdlIj09PXIpY29udGludWU7ZVsiWyIrcisiXSJdPSJTZWUgZXJyb3IuIityKyIgZm9yIGRldGFpbHMuIixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTplW3JdfHx0JiZ0W3JdfHxuJiZuW3JdLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1yZXR1cm4gZX0saW5oZXJpdDpmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw7aWYodm9pZCAwPT09dCl0PWUsZT1PYmplY3Qsbj17fTtlbHNle3ZhciByPWZ1bmN0aW9uKCl7fTtyLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuPW5ldyByfXJldHVybiB0LmNvbnN0cnVjdG9yPT09T2JqZWN0JiYodC5jb25zdHJ1Y3Rvcj1mdW5jdGlvbigpe2lmKGUhPT1PYmplY3QpcmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU9bixhLnVwZGF0ZSh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSx0KSx0LmNvbnN0cnVjdG9yLl9fc3VwZXJfXz1lLHQuY29uc3RydWN0b3J9LG1peGluOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylmb3IodmFyIG4gaW4gYXJndW1lbnRzW3RdLnByb3RvdHlwZSl7dmFyIHI9YXJndW1lbnRzW3RdLnByb3RvdHlwZVtuXTsiY29uc3RydWN0b3IiIT09biYmKGUucHJvdG90eXBlW25dPXIpfXJldHVybiBlfSxoaWRlUHJvcGVydGllczpmdW5jdGlvbihlLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJmEuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9KSl9LHByb3BlcnR5OmZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOnZvaWQgMD09PXJ8fHJ9OyJmdW5jdGlvbiIhPXR5cGVvZiBufHxvPyhpLnZhbHVlPW4saS53cml0YWJsZT0hMCk6aS5nZXQ9bixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGkpfSxtZW1vaXplZFByb3BlcnR5OmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW51bGw7YS5wcm9wZXJ0eShlLHQsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1vJiYobz1uKCkpLG99KSxyKX0saG9pc3RQYXlsb2FkTWVtYmVyOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQub3BlcmF0aW9uLHI9dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW25dLG89ci5vdXRwdXQ7aWYoby5wYXlsb2FkJiYhci5oYXNFdmVudE91dHB1dCl7dmFyIGk9by5tZW1iZXJzW28ucGF5bG9hZF0scz1lLmRhdGFbby5wYXlsb2FkXTsic3RydWN0dXJlIj09PWkudHlwZSYmYS5lYWNoKHMsKGZ1bmN0aW9uKHQsbil7YS5wcm9wZXJ0eShlLmRhdGEsdCxuLCExKX0pKX19LGNvbXB1dGVTaGEyNTY6ZnVuY3Rpb24odCxuKXtpZihhLmlzTm9kZSgpKXt2YXIgcj1hLnN0cmVhbS5TdHJlYW0sbz1lKCJmcyIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiZ0IGluc3RhbmNlb2Ygcil7aWYoInN0cmluZyIhPXR5cGVvZiB0LnBhdGgpcmV0dXJuIG4obmV3IEVycm9yKCJOb24tZmlsZSBzdHJlYW0gb2JqZWN0cyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIFNpZ1Y0IikpO3ZhciBpPXt9OyJudW1iZXIiPT10eXBlb2YgdC5zdGFydCYmKGkuc3RhcnQ9dC5zdGFydCksIm51bWJlciI9PXR5cGVvZiB0LmVuZCYmKGkuZW5kPXQuZW5kKSx0PW8uY3JlYXRlUmVhZFN0cmVhbSh0LnBhdGgsaSl9fWEuY3J5cHRvLnNoYTI1Nih0LCJoZXgiLChmdW5jdGlvbihlLHQpe2U/bihlKTpuKG51bGwsdCl9KSl9LGlzQ2xvY2tTa2V3ZWQ6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gYS5wcm9wZXJ0eShpLmNvbmZpZywiaXNDbG9ja1NrZXdlZCIsTWF0aC5hYnMoKG5ldyBEYXRlKS5nZXRUaW1lKCktZSk+PTNlNSwhMSksaS5jb25maWcuaXNDbG9ja1NrZXdlZH0sYXBwbHlDbG9ja09mZnNldDpmdW5jdGlvbihlKXtlJiYoaS5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ9ZS0obmV3IERhdGUpLmdldFRpbWUoKSl9LGV4dHJhY3RSZXF1ZXN0SWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotcmVxdWVzdC1pZCJdfHxlLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl07IXQmJmUuZGF0YSYmZS5kYXRhLlJlc3BvbnNlTWV0YWRhdGEmJih0PWUuZGF0YS5SZXNwb25zZU1ldGFkYXRhLlJlcXVlc3RJZCksdCYmKGUucmVxdWVzdElkPXQpLGUuZXJyb3ImJihlLmVycm9yLnJlcXVlc3RJZD10KX0sYWRkUHJvbWlzZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTt2b2lkIDA9PT10JiZpJiZpLmNvbmZpZyYmKHQ9aS5jb25maWcuZ2V0UHJvbWlzZXNEZXBlbmRlbmN5KCkpLHZvaWQgMD09PXQmJiJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZSYmKHQ9UHJvbWlzZSksImZ1bmN0aW9uIiE9dHlwZW9mIHQmJihuPSEwKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO24/by5kZWxldGVQcm9taXNlc0Zyb21DbGFzcyYmby5kZWxldGVQcm9taXNlc0Zyb21DbGFzcygpOm8uYWRkUHJvbWlzZXNUb0NsYXNzJiZvLmFkZFByb21pc2VzVG9DbGFzcyh0KX19LHByb21pc2lmeU1ldGhvZDpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXMscj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxvKXtyLnB1c2goKGZ1bmN0aW9uKGUsbil7ZT9vKGUpOnQobil9KSksbltlXS5hcHBseShuLHIpfSkpfX0saXNEdWFsc3RhY2tBdmFpbGFibGU6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7dmFyIG49ZSgiLi4vYXBpcy9tZXRhZGF0YS5qc29uIik7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYodD10LnNlcnZpY2VJZGVudGlmaWVyKSwhKCJzdHJpbmciIT10eXBlb2YgdHx8IW4uaGFzT3duUHJvcGVydHkodCl8fCFuW3RdLmR1YWxzdGFja0F2YWlsYWJsZSl9LGNhbGN1bGF0ZVJldHJ5RGVsYXk6ZnVuY3Rpb24oZSx0LG4pe3R8fCh0PXt9KTt2YXIgcj10LmN1c3RvbUJhY2tvZmZ8fG51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIpcmV0dXJuIHIoZSxuKTt2YXIgbz0ibnVtYmVyIj09dHlwZW9mIHQuYmFzZT90LmJhc2U6MTAwO3JldHVybiBNYXRoLnJhbmRvbSgpKihNYXRoLnBvdygyLGUpKm8pfSxoYW5kbGVSZXF1ZXN0V2l0aFJldHJpZXM6ZnVuY3Rpb24oZSx0LG4pe3R8fCh0PXt9KTt2YXIgcj1pLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2UoKSxvPXQuaHR0cE9wdGlvbnN8fHt9LHM9MCxjPWZ1bmN0aW9uKGUpe3ZhciByPXQubWF4UmV0cmllc3x8MDtpZihlJiYiVGltZW91dEVycm9yIj09PWUuY29kZSYmKGUucmV0cnlhYmxlPSEwKSxlJiZlLnJldHJ5YWJsZSYmczxyKXt2YXIgbz1hLmNhbGN1bGF0ZVJldHJ5RGVsYXkocyx0LnJldHJ5RGVsYXlPcHRpb25zLGUpO2lmKG8+PTApcmV0dXJuIHMrKyx2b2lkIHNldFRpbWVvdXQodSxvKyhlLnJldHJ5QWZ0ZXJ8fDApKX1uKGUpfSx1PWZ1bmN0aW9uKCl7dmFyIHQ9IiI7ci5oYW5kbGVSZXF1ZXN0KGUsbywoZnVuY3Rpb24oZSl7ZS5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe3QrPWUudG9TdHJpbmcoKX0pKSxlLm9uKCJlbmQiLChmdW5jdGlvbigpe3ZhciByPWUuc3RhdHVzQ29kZTtpZihyPDMwMCluKG51bGwsdCk7ZWxzZXt2YXIgbz0xZTMqcGFyc2VJbnQoZS5oZWFkZXJzWyJyZXRyeS1hZnRlciJdLDEwKXx8MCxpPWEuZXJyb3IobmV3IEVycm9yLHtzdGF0dXNDb2RlOnIscmV0cnlhYmxlOnI+PTUwMHx8NDI5PT09cn0pO28mJmkucmV0cnlhYmxlJiYoaS5yZXRyeUFmdGVyPW8pLGMoaSl9fSkpfSksYyl9O2kudXRpbC5kZWZlcih1KX0sdXVpZDp7djQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgidXVpZCIpLnY0KCl9fSxjb252ZXJ0UGF5bG9hZFRvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQub3BlcmF0aW9uLHI9dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW25dLm91dHB1dHx8e307ci5wYXlsb2FkJiZlLmRhdGFbci5wYXlsb2FkXSYmKGUuZGF0YVtyLnBheWxvYWRdPWUuZGF0YVtyLnBheWxvYWRdLnRvU3RyaW5nKCkpfSxkZWZlcjpmdW5jdGlvbihlKXsib2JqZWN0Ij09PW8obikmJiJmdW5jdGlvbiI9PXR5cGVvZiBuLm5leHRUaWNrP24ubmV4dFRpY2soZSk6ImZ1bmN0aW9uIj09dHlwZW9mIHI/cihlKTpzZXRUaW1lb3V0KGUsMCl9LGdldFJlcXVlc3RQYXlsb2FkU2hhcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zO2lmKHQpe3ZhciBuPSh0fHx7fSlbZS5vcGVyYXRpb25dO2lmKG4mJm4uaW5wdXQmJm4uaW5wdXQucGF5bG9hZClyZXR1cm4gbi5pbnB1dC5tZW1iZXJzW24uaW5wdXQucGF5bG9hZF19fSxnZXRQcm9maWxlc0Zyb21TaGFyZWRDb25maWc6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxvPXt9O24uZW52W2EuY29uZmlnT3B0SW5FbnZdJiYobz1lLmxvYWRGcm9tKHtpc0NvbmZpZzohMCxmaWxlbmFtZTpuLmVudlthLnNoYXJlZENvbmZpZ0ZpbGVFbnZdfSkpO3ZhciBpPXt9O3RyeXtpPWUubG9hZEZyb20oe2ZpbGVuYW1lOnR8fG4uZW52W2EuY29uZmlnT3B0SW5FbnZdJiZuLmVudlthLnNoYXJlZENyZWRlbnRpYWxzRmlsZUVudl19KX1jYXRjaChlKXtpZighbi5lbnZbYS5jb25maWdPcHRJbkVudl0pdGhyb3cgZX1mb3IodmFyIHM9MCxjPU9iamVjdC5rZXlzKG8pO3M8Yy5sZW5ndGg7cysrKXJbY1tzXV09dShyW2Nbc11dfHx7fSxvW2Nbc11dKTtmb3Iocz0wLGM9T2JqZWN0LmtleXMoaSk7czxjLmxlbmd0aDtzKyspcltjW3NdXT11KHJbY1tzXV18fHt9LGlbY1tzXV0pO3JldHVybiByO2Z1bmN0aW9uIHUoZSx0KXtmb3IodmFyIG49MCxyPU9iamVjdC5rZXlzKHQpO248ci5sZW5ndGg7bisrKWVbcltuXV09dFtyW25dXTtyZXR1cm4gZX19LEFSTjp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJjA9PT1lLmluZGV4T2YoImFybjoiKSYmZS5zcGxpdCgiOiIpLmxlbmd0aD49Nn0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiOiIpO3JldHVybntwYXJ0aXRpb246dFsxXSxzZXJ2aWNlOnRbMl0scmVnaW9uOnRbM10sYWNjb3VudElkOnRbNF0scmVzb3VyY2U6dC5zbGljZSg1KS5qb2luKCI6Iil9fSxidWlsZDpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLnNlcnZpY2V8fHZvaWQgMD09PWUucmVnaW9ufHx2b2lkIDA9PT1lLmFjY291bnRJZHx8dm9pZCAwPT09ZS5yZXNvdXJjZSl0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiSW5wdXQgQVJOIG9iamVjdCBpcyBpbnZhbGlkIikpO3JldHVybiJhcm46IisoZS5wYXJ0aXRpb258fCJhd3MiKSsiOiIrZS5zZXJ2aWNlKyI6IitlLnJlZ2lvbisiOiIrZS5hY2NvdW50SWQrIjoiK2UucmVzb3VyY2V9fSxkZWZhdWx0UHJvZmlsZToiZGVmYXVsdCIsY29uZmlnT3B0SW5FbnY6IkFXU19TREtfTE9BRF9DT05GSUciLHNoYXJlZENyZWRlbnRpYWxzRmlsZUVudjoiQVdTX1NIQVJFRF9DUkVERU5USUFMU19GSUxFIixzaGFyZWRDb25maWdGaWxlRW52OiJBV1NfQ09ORklHX0ZJTEUiLGltZHNEaXNhYmxlZEVudjoiQVdTX0VDMl9NRVRBREFUQV9ESVNBQkxFRCJ9O3QuZXhwb3J0cz1hfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpLGUoInRpbWVycyIpLnNldEltbWVkaWF0ZSl9LHsiLi4vYXBpcy9tZXRhZGF0YS5qc29uIjo0LCIuL2NvcmUiOjE5LF9wcm9jZXNzOjkxLGZzOjgyLHRpbWVyczo5OSx1dWlkOjEwMn1dLDc1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vbW9kZWwvc2hhcGUiKTtmdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0KSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKWlmKG5bcl0ucGFyZW50Tm9kZT09PWUpcmV0dXJuIG5bcl19ZnVuY3Rpb24gcyhlLHQpe3N3aXRjaCh0fHwodD17fSksdC50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGMoZSx0KTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXt9LHI9dC5rZXkubmFtZXx8ImtleSIsbz10LnZhbHVlLm5hbWV8fCJ2YWx1ZSIsaT10LmZsYXR0ZW5lZD90Lm5hbWU6ImVudHJ5IixjPWUuZmlyc3RFbGVtZW50Q2hpbGQ7Yzspe2lmKGMubm9kZU5hbWU9PT1pKXt2YXIgdT1hKGMscikudGV4dENvbnRlbnQsbD1hKGMsbyk7blt1XT1zKGwsdC52YWx1ZSl9Yz1jLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbn0oZSx0KTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPXQuZmxhdHRlbmVkP3QubmFtZTp0Lm1lbWJlci5uYW1lfHwibWVtYmVyIixvPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bzspby5ub2RlTmFtZT09PXImJm4ucHVzaChzKG8sdC5tZW1iZXIpKSxvPW8ubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBufShlLHQpO2Nhc2Ugdm9pZCAwOmNhc2UgbnVsbDpyZXR1cm4gZnVuY3Rpb24oZSl7aWYobnVsbD09ZSlyZXR1cm4iIjtpZighZS5maXJzdEVsZW1lbnRDaGlsZClyZXR1cm4gbnVsbD09PWUucGFyZW50Tm9kZS5wYXJlbnROb2RlP3t9OjA9PT1lLmNoaWxkTm9kZXMubGVuZ3RoPyIiOmUudGV4dENvbnRlbnQ7Zm9yKHZhciB0PXt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319LG49ZS5maXJzdEVsZW1lbnRDaGlsZDtuOyl7dmFyIHI9bi5ub2RlTmFtZTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodC5tZW1iZXJzLHIpP3QubWVtYmVyc1tyXS50eXBlPSJsaXN0Ijp0Lm1lbWJlcnNbcl09e25hbWU6cn0sbj1uLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gYyhlLHQpfShlKTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQpe2lmKGUuZ2V0QXR0cmlidXRlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZSgiZW5jb2RpbmciKTsiYmFzZTY0Ij09PW4mJih0PW5ldyBvLmNyZWF0ZSh7dHlwZTpufSkpfXZhciByPWUudGV4dENvbnRlbnQ7cmV0dXJuIiI9PT1yJiYocj1udWxsKSwiZnVuY3Rpb24iPT10eXBlb2YgdC50b1R5cGU/dC50b1R5cGUocik6cn0oZSx0KX19ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O3JldHVybiBudWxsPT09ZXx8ci5lYWNoKHQubWVtYmVycywoZnVuY3Rpb24ocixvKXtpZihvLmlzWG1sQXR0cmlidXRlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5hdHRyaWJ1dGVzLG8ubmFtZSkpe3ZhciBpPWUuYXR0cmlidXRlc1tvLm5hbWVdLnZhbHVlO25bcl09cyh7dGV4dENvbnRlbnQ6aX0sbyl9fWVsc2V7dmFyIGM9by5mbGF0dGVuZWQ/ZTphKGUsby5uYW1lKTtjP25bcl09cyhjLG8pOm8uZmxhdHRlbmVkfHwibGlzdCIhPT1vLnR5cGV8fHQuYXBpLnhtbE5vRGVmYXVsdExpc3RzfHwobltyXT1vLmRlZmF1bHRWYWx1ZSl9fSkpLG59aS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtpZigiIj09PWUucmVwbGFjZSgvXlxzKy8sIiIpKXJldHVybnt9O3ZhciBuLG87dHJ5e2lmKHdpbmRvdy5ET01QYXJzZXIpe3RyeXtuPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChlKXt0aHJvdyByLmVycm9yKG5ldyBFcnJvcigiUGFyc2UgZXJyb3IgaW4gZG9jdW1lbnQiKSx7b3JpZ2luYWxFcnJvcjplLGNvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX1pZihudWxsPT09bi5kb2N1bWVudEVsZW1lbnQpdGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBwYXJzZSBlbXB0eSBkb2N1bWVudC4iKSx7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pO3ZhciBpPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIilbMF07aWYoaSYmKGkucGFyZW50Tm9kZT09PW58fCJib2R5Ij09PWkucGFyZW50Tm9kZS5ub2RlTmFtZXx8aS5wYXJlbnROb2RlLnBhcmVudE5vZGU9PT1ufHwiYm9keSI9PT1pLnBhcmVudE5vZGUucGFyZW50Tm9kZS5ub2RlTmFtZSkpe3ZhciBjPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdfHxpO3Rocm93IHIuZXJyb3IobmV3IEVycm9yKGMudGV4dENvbnRlbnR8fCJQYXJzZXIgZXJyb3IgaW4gZG9jdW1lbnQiKSx7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pfX1lbHNle2lmKCF3aW5kb3cuQWN0aXZlWE9iamVjdCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBsb2FkIFhNTCBwYXJzZXIiKTtpZigobj1uZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSkuYXN5bmM9ITEsIW4ubG9hZFhNTChlKSl0aHJvdyByLmVycm9yKG5ldyBFcnJvcigiUGFyc2UgZXJyb3IgaW4gZG9jdW1lbnQiKSx7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pfX1jYXRjaChlKXtvPWV9aWYobiYmbi5kb2N1bWVudEVsZW1lbnQmJiFvKXt2YXIgdT1zKG4uZG9jdW1lbnRFbGVtZW50LHQpLGw9YShuLmRvY3VtZW50RWxlbWVudCwiUmVzcG9uc2VNZXRhZGF0YSIpO3JldHVybiBsJiYodS5SZXNwb25zZU1ldGFkYXRhPXMobCx7fSkpLHV9aWYobyl0aHJvdyByLmVycm9yKG98fG5ldyBFcnJvcix7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pO3JldHVybnt9fSx0LmV4cG9ydHM9aX0seyIuLi9tb2RlbC9zaGFwZSI6NDUsIi4uL3V0aWwiOjc0fV0sNzY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuL3htbC1ub2RlIikuWG1sTm9kZSxpPWUoIi4veG1sLXRleHQiKS5YbWxUZXh0O2Z1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gcyhlLHQsbil7c3dpdGNoKG4udHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBmdW5jdGlvbihlLHQsbil7ci5hcnJheUVhY2gobi5tZW1iZXJOYW1lcywoZnVuY3Rpb24ocil7dmFyIGk9bi5tZW1iZXJzW3JdO2lmKCJib2R5Ij09PWkubG9jYXRpb24pe3ZhciBhPXRbcl0sdT1pLm5hbWU7aWYobnVsbCE9YSlpZihpLmlzWG1sQXR0cmlidXRlKWUuYWRkQXR0cmlidXRlKHUsYSk7ZWxzZSBpZihpLmZsYXR0ZW5lZClzKGUsYSxpKTtlbHNle3ZhciBsPW5ldyBvKHUpO2UuYWRkQ2hpbGROb2RlKGwpLGMobCxpKSxzKGwsYSxpKX19fSkpfShlLHQsbik7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIGk9bi5rZXkubmFtZXx8ImtleSIsYT1uLnZhbHVlLm5hbWV8fCJ2YWx1ZSI7ci5lYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIGM9bmV3IG8obi5mbGF0dGVuZWQ/bi5uYW1lOiJlbnRyeSIpO2UuYWRkQ2hpbGROb2RlKGMpO3ZhciB1PW5ldyBvKGkpLGw9bmV3IG8oYSk7Yy5hZGRDaGlsZE5vZGUodSksYy5hZGRDaGlsZE5vZGUobCkscyh1LHQsbi5rZXkpLHMobCxyLG4udmFsdWUpfSkpfShlLHQsbik7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe24uZmxhdHRlbmVkP3IuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQpe3ZhciByPW4ubWVtYmVyLm5hbWV8fG4ubmFtZSxpPW5ldyBvKHIpO2UuYWRkQ2hpbGROb2RlKGkpLHMoaSx0LG4ubWVtYmVyKX0pKTpyLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXt2YXIgcj1uLm1lbWJlci5uYW1lfHwibWVtYmVyIixpPW5ldyBvKHIpO2UuYWRkQ2hpbGROb2RlKGkpLHMoaSx0LG4ubWVtYmVyKX0pKX0oZSx0LG4pO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtlLmFkZENoaWxkTm9kZShuZXcgaShuLnRvV2lyZUZvcm1hdCh0KSkpfShlLHQsbil9fWZ1bmN0aW9uIGMoZSx0LG4pe3ZhciByLG89InhtbG5zIjt0LnhtbE5hbWVzcGFjZVVyaT8ocj10LnhtbE5hbWVzcGFjZVVyaSx0LnhtbE5hbWVzcGFjZVByZWZpeCYmKG8rPSI6Iit0LnhtbE5hbWVzcGFjZVByZWZpeCkpOm4mJnQuYXBpLnhtbE5hbWVzcGFjZVVyaSYmKHI9dC5hcGkueG1sTmFtZXNwYWNlVXJpKSxyJiZlLmFkZEF0dHJpYnV0ZShvLHIpfWEucHJvdG90eXBlLnRvWE1MPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPW5ldyBvKG4pO3JldHVybiBjKGksdCwhMCkscyhpLGUsdCksaS5jaGlsZHJlbi5sZW5ndGg+MHx8cj9pLnRvU3RyaW5nKCk6IiJ9LHQuZXhwb3J0cz1hfSx7Ii4uL3V0aWwiOjc0LCIuL3htbC1ub2RlIjo3OSwiLi94bWwtdGV4dCI6ODB9XSw3NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXNjYXBlQXR0cmlidXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC8nL2csIiZhcG9zOyIpLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iil9fX0se31dLDc4OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtlc2NhcGVFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC9cci9nLCImI3gwRDsiKS5yZXBsYWNlKC9cbi9nLCImI3gwQTsiKS5yZXBsYWNlKC9cdTAwODUvZywiJiN4ODU7IikucmVwbGFjZSgvXHUyMDI4LywiJiN4MjAyODsiKX19fSx7fV0sNzk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2VzY2FwZS1hdHRyaWJ1dGUiKS5lc2NhcGVBdHRyaWJ1dGU7ZnVuY3Rpb24gbyhlLHQpe3ZvaWQgMD09PXQmJih0PVtdKSx0aGlzLm5hbWU9ZSx0aGlzLmNoaWxkcmVuPXQsdGhpcy5hdHRyaWJ1dGVzPXt9fW8ucHJvdG90eXBlLmFkZEF0dHJpYnV0ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbZV09dCx0aGlzfSxvLnByb3RvdHlwZS5hZGRDaGlsZE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2hpbGRyZW4ucHVzaChlKSx0aGlzfSxvLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbZV0sdGhpc30sby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Qm9vbGVhbih0aGlzLmNoaWxkcmVuLmxlbmd0aCksdD0iPCIrdGhpcy5uYW1lLG49dGhpcy5hdHRyaWJ1dGVzLG89MCxpPU9iamVjdC5rZXlzKG4pO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLHM9blthXTtudWxsIT1zJiYodCs9IiAiK2ErJz0iJytyKCIiK3MpKyciJyl9cmV0dXJuIHQrKGU/Ij4iK3RoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfSkpLmpvaW4oIiIpKyI8LyIrdGhpcy5uYW1lKyI+IjoiLz4iKX0sdC5leHBvcnRzPXtYbWxOb2RlOm99fSx7Ii4vZXNjYXBlLWF0dHJpYnV0ZSI6Nzd9XSw4MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vZXNjYXBlLWVsZW1lbnQiKS5lc2NhcGVFbGVtZW50O2Z1bmN0aW9uIG8oZSl7dGhpcy52YWx1ZT1lfW8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHIoIiIrdGhpcy52YWx1ZSl9LHQuZXhwb3J0cz17WG1sVGV4dDpvfX0seyIuL2VzY2FwZS1lbGVtZW50Ijo3OH1dLDgxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uYnl0ZUxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1jKGUpLG49dFswXSxyPXRbMV07cmV0dXJuIDMqKG4rcikvNC1yfSxuLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1jKGUpLGE9clswXSxzPXJbMV0sdT1uZXcgaShmdW5jdGlvbihlLHQsbil7cmV0dXJuIDMqKHQrbikvNC1ufSgwLGEscykpLGw9MCxwPXM+MD9hLTQ6YTtmb3Iobj0wO248cDtuKz00KXQ9b1tlLmNoYXJDb2RlQXQobildPDwxOHxvW2UuY2hhckNvZGVBdChuKzEpXTw8MTJ8b1tlLmNoYXJDb2RlQXQobisyKV08PDZ8b1tlLmNoYXJDb2RlQXQobiszKV0sdVtsKytdPXQ+PjE2JjI1NSx1W2wrK109dD4+OCYyNTUsdVtsKytdPTI1NSZ0O3JldHVybiAyPT09cyYmKHQ9b1tlLmNoYXJDb2RlQXQobildPDwyfG9bZS5jaGFyQ29kZUF0KG4rMSldPj40LHVbbCsrXT0yNTUmdCksMT09PXMmJih0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MTB8b1tlLmNoYXJDb2RlQXQobisxKV08PDR8b1tlLmNoYXJDb2RlQXQobisyKV0+PjIsdVtsKytdPXQ+PjgmMjU1LHVbbCsrXT0yNTUmdCksdX0sbi5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLG89biUzLGk9W10sYT0xNjM4MyxzPTAsYz1uLW87czxjO3MrPWEpaS5wdXNoKHUoZSxzLHMrYT5jP2M6cythKSk7cmV0dXJuIDE9PT1vPyh0PWVbbi0xXSxpLnB1c2goclt0Pj4yXStyW3Q8PDQmNjNdKyI9PSIpKToyPT09byYmKHQ9KGVbbi0yXTw8OCkrZVtuLTFdLGkucHVzaChyW3Q+PjEwXStyW3Q+PjQmNjNdK3JbdDw8MiY2M10rIj0iKSksaS5qb2luKCIiKX07Zm9yKHZhciByPVtdLG89W10saT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIixzPTA7czw2NDsrK3MpcltzXT1hW3NdLG9bYS5jaGFyQ29kZUF0KHMpXT1zO2Z1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodCU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIG49ZS5pbmRleE9mKCI9Iik7cmV0dXJuLTE9PT1uJiYobj10KSxbbixuPT09dD8wOjQtbiU0XX1mdW5jdGlvbiB1KGUsdCxuKXtmb3IodmFyIG8saSxhPVtdLHM9dDtzPG47cys9MylvPShlW3NdPDwxNiYxNjcxMTY4MCkrKGVbcysxXTw8OCY2NTI4MCkrKDI1NSZlW3MrMl0pLGEucHVzaChyWyhpPW8pPj4xOCY2M10rcltpPj4xMiY2M10rcltpPj42JjYzXStyWzYzJmldKTtyZXR1cm4gYS5qb2luKCIiKX1vWyItIi5jaGFyQ29kZUF0KDApXT02MixvWyJfIi5jaGFyQ29kZUF0KDApXT02M30se31dLDgyOltmdW5jdGlvbihlLHQsbil7fSx7fV0sODM6W2Z1bmN0aW9uKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10LGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTp0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10O3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lfX0se31dLDg0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYib2JqZWN0Ij09PW8oZSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvcHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmZpbGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlYWRVSW50OH19LHt9XSw4NTpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0LG4peyhmdW5jdGlvbigpe3ZhciBpPS8lW3NkaiVdL2c7ci5mb3JtYXQ9ZnVuY3Rpb24oZSl7aWYoIXkoZSkpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYyhhcmd1bWVudHNbbl0pKTtyZXR1cm4gdC5qb2luKCIgIil9bj0xO2Zvcih2YXIgcj1hcmd1bWVudHMsbz1yLmxlbmd0aCxhPVN0cmluZyhlKS5yZXBsYWNlKGksKGZ1bmN0aW9uKGUpe2lmKCIlJSI9PT1lKXJldHVybiIlIjtpZihuPj1vKXJldHVybiBlO3N3aXRjaChlKXtjYXNlIiVzIjpyZXR1cm4gU3RyaW5nKHJbbisrXSk7Y2FzZSIlZCI6cmV0dXJuIE51bWJlcihyW24rK10pO2Nhc2UiJWoiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkocltuKytdKX1jYXRjaChlKXtyZXR1cm4iW0NpcmN1bGFyXSJ9ZGVmYXVsdDpyZXR1cm4gZX19KSkscz1yW25dO248bztzPXJbKytuXSltKHMpfHwhUyhzKT9hKz0iICIrczphKz0iICIrYyhzKTtyZXR1cm4gYX0sci5kZXByZWNhdGU9ZnVuY3Rpb24oZSxvKXtpZihiKG4ucHJvY2VzcykpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVwcmVjYXRlKGUsbykuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZighMD09PXQubm9EZXByZWNhdGlvbilyZXR1cm4gZTt2YXIgaT0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighaSl7aWYodC50aHJvd0RlcHJlY2F0aW9uKXRocm93IG5ldyBFcnJvcihvKTt0LnRyYWNlRGVwcmVjYXRpb24/Y29uc29sZS50cmFjZShvKTpjb25zb2xlLmVycm9yKG8pLGk9ITB9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07dmFyIGEscz17fTtmdW5jdGlvbiBjKGUsdCl7dmFyIG49e3NlZW46W10sc3R5bGl6ZTpsfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKG4uZGVwdGg9YXJndW1lbnRzWzJdKSxhcmd1bWVudHMubGVuZ3RoPj00JiYobi5jb2xvcnM9YXJndW1lbnRzWzNdKSxnKHQpP24uc2hvd0hpZGRlbj10OnQmJnIuX2V4dGVuZChuLHQpLGIobi5zaG93SGlkZGVuKSYmKG4uc2hvd0hpZGRlbj0hMSksYihuLmRlcHRoKSYmKG4uZGVwdGg9MiksYihuLmNvbG9ycykmJihuLmNvbG9ycz0hMSksYihuLmN1c3RvbUluc3BlY3QpJiYobi5jdXN0b21JbnNwZWN0PSEwKSxuLmNvbG9ycyYmKG4uc3R5bGl6ZT11KSxwKG4sZSxuLmRlcHRoKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49Yy5zdHlsZXNbdF07cmV0dXJuIG4/IhtbIitjLmNvbG9yc1tuXVswXSsibSIrZSsiG1siK2MuY29sb3JzW25dWzFdKyJtIjplfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZX1mdW5jdGlvbiBwKGUsdCxuKXtpZihlLmN1c3RvbUluc3BlY3QmJnQmJlQodC5pbnNwZWN0KSYmdC5pbnNwZWN0IT09ci5pbnNwZWN0JiYoIXQuY29uc3RydWN0b3J8fHQuY29uc3RydWN0b3IucHJvdG90eXBlIT09dCkpe3ZhciBvPXQuaW5zcGVjdChuLGUpO3JldHVybiB5KG8pfHwobz1wKGUsbyxuKSksb312YXIgaT1mdW5jdGlvbihlLHQpe2lmKGIodCkpcmV0dXJuIGUuc3R5bGl6ZSgidW5kZWZpbmVkIiwidW5kZWZpbmVkIik7aWYoeSh0KSl7dmFyIG49IiciK0pTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoL14ifCIkL2csIiIpLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKSsiJyI7cmV0dXJuIGUuc3R5bGl6ZShuLCJzdHJpbmciKX1yZXR1cm4gdih0KT9lLnN0eWxpemUoIiIrdCwibnVtYmVyIik6Zyh0KT9lLnN0eWxpemUoIiIrdCwiYm9vbGVhbiIpOm0odCk/ZS5zdHlsaXplKCJudWxsIiwibnVsbCIpOnZvaWQgMH0oZSx0KTtpZihpKXJldHVybiBpO3ZhciBhPU9iamVjdC5rZXlzKHQpLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0W2VdPSEwfSkpLHR9KGEpO2lmKGUuc2hvd0hpZGRlbiYmKGE9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkpLEkodCkmJihhLmluZGV4T2YoIm1lc3NhZ2UiKT49MHx8YS5pbmRleE9mKCJkZXNjcmlwdGlvbiIpPj0wKSlyZXR1cm4gZCh0KTtpZigwPT09YS5sZW5ndGgpe2lmKFQodCkpe3ZhciBjPXQubmFtZT8iOiAiK3QubmFtZToiIjtyZXR1cm4gZS5zdHlsaXplKCJbRnVuY3Rpb24iK2MrIl0iLCJzcGVjaWFsIil9aWYoRSh0KSlyZXR1cm4gZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik7aWYoQyh0KSlyZXR1cm4gZS5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksImRhdGUiKTtpZihJKHQpKXJldHVybiBkKHQpfXZhciB1LGw9IiIsUz0hMSx3PVsieyIsIn0iXTtyZXR1cm4gZih0KSYmKFM9ITAsdz1bIlsiLCJdIl0pLFQodCkmJihsPSIgW0Z1bmN0aW9uIisodC5uYW1lPyI6ICIrdC5uYW1lOiIiKSsiXSIpLEUodCkmJihsPSIgIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLEModCkmJihsPSIgIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHQpKSxJKHQpJiYobD0iICIrZCh0KSksMCE9PWEubGVuZ3RofHxTJiYwIT10Lmxlbmd0aD9uPDA/RSh0KT9lLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJyZWdleHAiKTplLnN0eWxpemUoIltPYmplY3RdIiwic3BlY2lhbCIpOihlLnNlZW4ucHVzaCh0KSx1PVM/ZnVuY3Rpb24oZSx0LG4scixvKXtmb3IodmFyIGk9W10sYT0wLHM9dC5sZW5ndGg7YTxzOysrYSlSKHQsU3RyaW5nKGEpKT9pLnB1c2goaChlLHQsbixyLFN0cmluZyhhKSwhMCkpOmkucHVzaCgiIik7cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24obyl7by5tYXRjaCgvXlxkKyQvKXx8aS5wdXNoKGgoZSx0LG4scixvLCEwKSl9KSksaX0oZSx0LG4scyxhKTphLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIGgoZSx0LG4scyxyLFMpfSkpLGUuc2Vlbi5wb3AoKSxmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaW5kZXhPZigiXG4iKSxlK3QucmVwbGFjZSgvXHUwMDFiXFtcZFxkP20vZywiIikubGVuZ3RoKzF9KSwwKTtyZXR1cm4gcj42MD9uWzBdKygiIj09PXQ/IiI6dCsiXG4gIikrIiAiK2Uuam9pbigiLFxuICAiKSsiICIrblsxXTpuWzBdK3QrIiAiK2Uuam9pbigiLCAiKSsiICIrblsxXX0odSxsLHcpKTp3WzBdK2wrd1sxXX1mdW5jdGlvbiBkKGUpe3JldHVybiJbIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSsiXSJ9ZnVuY3Rpb24gaChlLHQsbixyLG8saSl7dmFyIGEscyxjO2lmKChjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxvKXx8e3ZhbHVlOnRbb119KS5nZXQ/cz1jLnNldD9lLnN0eWxpemUoIltHZXR0ZXIvU2V0dGVyXSIsInNwZWNpYWwiKTplLnN0eWxpemUoIltHZXR0ZXJdIiwic3BlY2lhbCIpOmMuc2V0JiYocz1lLnN0eWxpemUoIltTZXR0ZXJdIiwic3BlY2lhbCIpKSxSKHIsbyl8fChhPSJbIitvKyJdIiksc3x8KGUuc2Vlbi5pbmRleE9mKGMudmFsdWUpPDA/KHM9bShuKT9wKGUsYy52YWx1ZSxudWxsKTpwKGUsYy52YWx1ZSxuLTEpKS5pbmRleE9mKCJcbiIpPi0xJiYocz1pP3Muc3BsaXQoIlxuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iICAiK2V9KSkuam9pbigiXG4iKS5zdWJzdHIoMik6IlxuIitzLnNwbGl0KCJcbiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiAgICIrZX0pKS5qb2luKCJcbiIpKTpzPWUuc3R5bGl6ZSgiW0NpcmN1bGFyXSIsInNwZWNpYWwiKSksYihhKSl7aWYoaSYmby5tYXRjaCgvXlxkKyQvKSlyZXR1cm4gczsoYT1KU09OLnN0cmluZ2lmeSgiIitvKSkubWF0Y2goL14iKFthLXpBLVpfXVthLXpBLVpfMC05XSopIiQvKT8oYT1hLnN1YnN0cigxLGEubGVuZ3RoLTIpLGE9ZS5zdHlsaXplKGEsIm5hbWUiKSk6KGE9YS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykucmVwbGFjZSgvKF4ifCIkKS9nLCInIiksYT1lLnN0eWxpemUoYSwic3RyaW5nIikpfXJldHVybiBhKyI6ICIrc31mdW5jdGlvbiBmKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZX1mdW5jdGlvbiBtKGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiB2KGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX1mdW5jdGlvbiB5KGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX1mdW5jdGlvbiBiKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIFMoZSkmJiJbb2JqZWN0IFJlZ0V4cF0iPT09dyhlKX1mdW5jdGlvbiBTKGUpe3JldHVybiJvYmplY3QiPT09byhlKSYmbnVsbCE9PWV9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gUyhlKSYmIltvYmplY3QgRGF0ZV0iPT09dyhlKX1mdW5jdGlvbiBJKGUpe3JldHVybiBTKGUpJiYoIltvYmplY3QgRXJyb3JdIj09PXcoZSl8fGUgaW5zdGFuY2VvZiBFcnJvcil9ZnVuY3Rpb24gVChlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX1mdW5jdGlvbiB3KGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gZTwxMD8iMCIrZS50b1N0cmluZygxMCk6ZS50b1N0cmluZygxMCl9ci5kZWJ1Z2xvZz1mdW5jdGlvbihlKXtpZihiKGEpJiYoYT10LmVudi5OT0RFX0RFQlVHfHwiIiksZT1lLnRvVXBwZXJDYXNlKCksIXNbZV0paWYobmV3IFJlZ0V4cCgiXFxiIitlKyJcXGIiLCJpIikudGVzdChhKSl7dmFyIG49dC5waWQ7c1tlXT1mdW5jdGlvbigpe3ZhciB0PXIuZm9ybWF0LmFwcGx5KHIsYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKCIlcyAlZDogJXMiLGUsbix0KX19ZWxzZSBzW2VdPWZ1bmN0aW9uKCl7fTtyZXR1cm4gc1tlXX0sci5pbnNwZWN0PWMsYy5jb2xvcnM9e2JvbGQ6WzEsMjJdLGl0YWxpYzpbMywyM10sdW5kZXJsaW5lOls0LDI0XSxpbnZlcnNlOls3LDI3XSx3aGl0ZTpbMzcsMzldLGdyZXk6WzkwLDM5XSxibGFjazpbMzAsMzldLGJsdWU6WzM0LDM5XSxjeWFuOlszNiwzOV0sZ3JlZW46WzMyLDM5XSxtYWdlbnRhOlszNSwzOV0scmVkOlszMSwzOV0seWVsbG93OlszMywzOV19LGMuc3R5bGVzPXtzcGVjaWFsOiJjeWFuIixudW1iZXI6InllbGxvdyIsYm9vbGVhbjoieWVsbG93Iix1bmRlZmluZWQ6ImdyZXkiLG51bGw6ImJvbGQiLHN0cmluZzoiZ3JlZW4iLGRhdGU6Im1hZ2VudGEiLHJlZ2V4cDoicmVkIn0sci5pc0FycmF5PWYsci5pc0Jvb2xlYW49ZyxyLmlzTnVsbD1tLHIuaXNOdWxsT3JVbmRlZmluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LHIuaXNOdW1iZXI9dixyLmlzU3RyaW5nPXksci5pc1N5bWJvbD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09PW8oZSl9LHIuaXNVbmRlZmluZWQ9YixyLmlzUmVnRXhwPUUsci5pc09iamVjdD1TLHIuaXNEYXRlPUMsci5pc0Vycm9yPUksci5pc0Z1bmN0aW9uPVQsci5pc1ByaW1pdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fCJib29sZWFuIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZXx8InN0cmluZyI9PXR5cGVvZiBlfHwic3ltYm9sIj09PW8oZSl8fHZvaWQgMD09PWV9LHIuaXNCdWZmZXI9ZSgiLi9zdXBwb3J0L2lzQnVmZmVyIik7dmFyIF89WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTtmdW5jdGlvbiBSKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXIubG9nPWZ1bmN0aW9uKCl7dmFyIGUsdDtjb25zb2xlLmxvZygiJXMgLSAlcyIsKGU9bmV3IERhdGUsdD1bQShlLmdldEhvdXJzKCkpLEEoZS5nZXRNaW51dGVzKCkpLEEoZS5nZXRTZWNvbmRzKCkpXS5qb2luKCI6IiksW2UuZ2V0RGF0ZSgpLF9bZS5nZXRNb250aCgpXSx0XS5qb2luKCIgIikpLHIuZm9ybWF0LmFwcGx5KHIsYXJndW1lbnRzKSl9LHIuaW5oZXJpdHM9ZSgiaW5oZXJpdHMiKSxyLl9leHRlbmQ9ZnVuY3Rpb24oZSx0KXtpZighdHx8IVModCkpcmV0dXJuIGU7Zm9yKHZhciBuPU9iamVjdC5rZXlzKHQpLHI9bi5sZW5ndGg7ci0tOyllW25bcl1dPXRbbltyXV07cmV0dXJuIGV9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpLHZvaWQgMCE9PW4uZz9uLmc6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL3N1cHBvcnQvaXNCdWZmZXIiOjg0LF9wcm9jZXNzOjkxLGluaGVyaXRzOjgzfV0sODY6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCxuKXsoZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFzZTY0LWpzIiksbz1lKCJpZWVlNzU0IiksaT1lKCJpc2FycmF5Iik7ZnVuY3Rpb24gYSgpe3JldHVybiBjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIHMoZSx0KXtpZihhKCk8dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgiKTtyZXR1cm4gYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPW5ldyBVaW50OEFycmF5KHQpKS5fX3Byb3RvX189Yy5wcm90b3R5cGU6KG51bGw9PT1lJiYoZT1uZXcgYyh0KSksZS5sZW5ndGg9dCksZX1mdW5jdGlvbiBjKGUsdCxuKXtpZighKGMuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIGMpKXJldHVybiBuZXcgYyhlLHQsbik7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiBwKHRoaXMsZSl9cmV0dXJuIHUodGhpcyxlLHQsbil9ZnVuY3Rpb24gdShlLHQsbixyKXtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9mdW5jdGlvbihlLHQsbixyKXtpZih0LmJ5dGVMZW5ndGgsbjwwfHx0LmJ5dGVMZW5ndGg8bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kcyIpO2lmKHQuYnl0ZUxlbmd0aDxuKyhyfHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kcyIpO3JldHVybiB0PXZvaWQgMD09PW4mJnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCk6dm9pZCAwPT09cj9uZXcgVWludDhBcnJheSh0LG4pOm5ldyBVaW50OEFycmF5KHQsbixyKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9dCkuX19wcm90b19fPWMucHJvdG90eXBlOmU9ZChlLHQpLGV9KGUsdCxuLHIpOiJzdHJpbmciPT10eXBlb2YgdD9mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYiIiE9PW58fChuPSJ1dGY4IiksIWMuaXNFbmNvZGluZyhuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciZW5jb2RpbmciIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgcj0wfGYodCxuKSxvPShlPXMoZSxyKSkud3JpdGUodCxuKTtyZXR1cm4gbyE9PXImJihlPWUuc2xpY2UoMCxvKSksZX0oZSx0LG4pOmZ1bmN0aW9uKGUsdCl7aWYoYy5pc0J1ZmZlcih0KSl7dmFyIG49MHxoKHQubGVuZ3RoKTtyZXR1cm4gMD09PShlPXMoZSxuKSkubGVuZ3RofHx0LmNvcHkoZSwwLDAsbiksZX1pZih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwibGVuZ3RoImluIHQpcmV0dXJuIm51bWJlciIhPXR5cGVvZiB0Lmxlbmd0aHx8KHI9dC5sZW5ndGgpIT1yP3MoZSwwKTpkKGUsdCk7aWYoIkJ1ZmZlciI9PT10LnR5cGUmJmkodC5kYXRhKSlyZXR1cm4gZChlLHQuZGF0YSl9dmFyIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LiIpfShlLHQpfWZ1bmN0aW9uIGwoZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJyJzaXplIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJyk7aWYoZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBwKGUsdCl7aWYobCh0KSxlPXMoZSx0PDA/MDowfGgodCkpLCFjLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciBuPTA7bjx0OysrbillW25dPTA7cmV0dXJuIGV9ZnVuY3Rpb24gZChlLHQpe3ZhciBuPXQubGVuZ3RoPDA/MDowfGgodC5sZW5ndGgpO2U9cyhlLG4pO2Zvcih2YXIgcj0wO3I8bjtyKz0xKWVbcl09MjU1JnRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gaChlKXtpZihlPj1hKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiK2EoKS50b1N0cmluZygxNikrIiBieXRlcyIpO3JldHVybiAwfGV9ZnVuY3Rpb24gZihlLHQpe2lmKGMuaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDsic3RyaW5nIiE9dHlwZW9mIGUmJihlPSIiK2UpO3ZhciBuPWUubGVuZ3RoO2lmKDA9PT1uKXJldHVybiAwO2Zvcih2YXIgcj0hMTs7KXN3aXRjaCh0KXtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBuO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSB2b2lkIDA6cmV0dXJuIHEoZSkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gMipuO2Nhc2UiaGV4IjpyZXR1cm4gbj4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBCKGUpLmxlbmd0aDtkZWZhdWx0OmlmKHIpcmV0dXJuIHEoZSkubGVuZ3RoO3Q9KCIiK3QpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gZyhlLHQsbil7dmFyIHI9ITE7aWYoKHZvaWQgMD09PXR8fHQ8MCkmJih0PTApLHQ+dGhpcy5sZW5ndGgpcmV0dXJuIiI7aWYoKHZvaWQgMD09PW58fG4+dGhpcy5sZW5ndGgpJiYobj10aGlzLmxlbmd0aCksbjw9MClyZXR1cm4iIjtpZigobj4+Pj0wKTw9KHQ+Pj49MCkpcmV0dXJuIiI7Zm9yKGV8fChlPSJ1dGY4Iik7Oylzd2l0Y2goZSl7Y2FzZSJoZXgiOnJldHVybiBMKHRoaXMsdCxuKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBBKHRoaXMsdCxuKTtjYXNlImFzY2lpIjpyZXR1cm4gUih0aGlzLHQsbik7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gTyh0aGlzLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiB3KHRoaXMsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIGsodGhpcyx0LG4pO2RlZmF1bHQ6aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK2UpO2U9KGUrIiIpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gbShlLHQsbil7dmFyIHI9ZVt0XTtlW3RdPWVbbl0sZVtuXT1yfWZ1bmN0aW9uIHYoZSx0LG4scixvKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7aWYoInN0cmluZyI9PXR5cGVvZiBuPyhyPW4sbj0wKTpuPjIxNDc0ODM2NDc/bj0yMTQ3NDgzNjQ3Om48LTIxNDc0ODM2NDgmJihuPS0yMTQ3NDgzNjQ4KSxuPStuLGlzTmFOKG4pJiYobj1vPzA6ZS5sZW5ndGgtMSksbjwwJiYobj1lLmxlbmd0aCtuKSxuPj1lLmxlbmd0aCl7aWYobylyZXR1cm4tMTtuPWUubGVuZ3RoLTF9ZWxzZSBpZihuPDApe2lmKCFvKXJldHVybi0xO249MH1pZigic3RyaW5nIj09dHlwZW9mIHQmJih0PWMuZnJvbSh0LHIpKSxjLmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6eShlLHQsbixyLG8pO2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gdCY9MjU1LGMuVFlQRURfQVJSQVlfU1VQUE9SVCYmImZ1bmN0aW9uIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/bz9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSx0LG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZSx0LG4pOnkoZSxbdF0sbixyLG8pO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIHkoZSx0LG4scixvKXt2YXIgaSxhPTEscz1lLmxlbmd0aCxjPXQubGVuZ3RoO2lmKHZvaWQgMCE9PXImJigidWNzMiI9PT0ocj1TdHJpbmcocikudG9Mb3dlckNhc2UoKSl8fCJ1Y3MtMiI9PT1yfHwidXRmMTZsZSI9PT1yfHwidXRmLTE2bGUiPT09cikpe2lmKGUubGVuZ3RoPDJ8fHQubGVuZ3RoPDIpcmV0dXJuLTE7YT0yLHMvPTIsYy89MixuLz0yfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gMT09PWE/ZVt0XTplLnJlYWRVSW50MTZCRSh0KmEpfWlmKG8pe3ZhciBsPS0xO2ZvcihpPW47aTxzO2krKylpZih1KGUsaSk9PT11KHQsLTE9PT1sPzA6aS1sKSl7aWYoLTE9PT1sJiYobD1pKSxpLWwrMT09PWMpcmV0dXJuIGwqYX1lbHNlLTEhPT1sJiYoaS09aS1sKSxsPS0xfWVsc2UgZm9yKG4rYz5zJiYobj1zLWMpLGk9bjtpPj0wO2ktLSl7Zm9yKHZhciBwPSEwLGQ9MDtkPGM7ZCsrKWlmKHUoZSxpK2QpIT09dSh0LGQpKXtwPSExO2JyZWFrfWlmKHApcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gYihlLHQsbixyKXtuPU51bWJlcihuKXx8MDt2YXIgbz1lLmxlbmd0aC1uO3I/KHI9TnVtYmVyKHIpKT5vJiYocj1vKTpyPW87dmFyIGk9dC5sZW5ndGg7aWYoaSUyIT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgaGV4IHN0cmluZyIpO3I+aS8yJiYocj1pLzIpO2Zvcih2YXIgYT0wO2E8cjsrK2Epe3ZhciBzPXBhcnNlSW50KHQuc3Vic3RyKDIqYSwyKSwxNik7aWYoaXNOYU4ocykpcmV0dXJuIGE7ZVtuK2FdPXN9cmV0dXJuIGF9ZnVuY3Rpb24gRShlLHQsbixyKXtyZXR1cm4gRyhxKHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIFMoZSx0LG4scil7cmV0dXJuIEcoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoOysrbil0LnB1c2goMjU1JmUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9KHQpLGUsbixyKX1mdW5jdGlvbiBDKGUsdCxuLHIpe3JldHVybiBTKGUsdCxuLHIpfWZ1bmN0aW9uIEkoZSx0LG4scil7cmV0dXJuIEcoQih0KSxlLG4scil9ZnVuY3Rpb24gVChlLHQsbixyKXtyZXR1cm4gRyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG8saT1bXSxhPTA7YTxlLmxlbmd0aCYmISgodC09Mik8MCk7KythKXI9KG49ZS5jaGFyQ29kZUF0KGEpKT4+OCxvPW4lMjU2LGkucHVzaChvKSxpLnB1c2gocik7cmV0dXJuIGl9KHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIHcoZSx0LHIpe3JldHVybiAwPT09dCYmcj09PWUubGVuZ3RoP24uZnJvbUJ5dGVBcnJheShlKTpuLmZyb21CeXRlQXJyYXkoZS5zbGljZSh0LHIpKX1mdW5jdGlvbiBBKGUsdCxuKXtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgcj1bXSxvPXQ7bzxuOyl7dmFyIGksYSxzLGMsdT1lW29dLGw9bnVsbCxwPXU+MjM5PzQ6dT4yMjM/Mzp1PjE5MT8yOjE7aWYobytwPD1uKXN3aXRjaChwKXtjYXNlIDE6dTwxMjgmJihsPXUpO2JyZWFrO2Nhc2UgMjoxMjg9PSgxOTImKGk9ZVtvKzFdKSkmJihjPSgzMSZ1KTw8Nnw2MyZpKT4xMjcmJihsPWMpO2JyZWFrO2Nhc2UgMzppPWVbbysxXSxhPWVbbysyXSwxMjg9PSgxOTImaSkmJjEyOD09KDE5MiZhKSYmKGM9KDE1JnUpPDwxMnwoNjMmaSk8PDZ8NjMmYSk+MjA0NyYmKGM8NTUyOTZ8fGM+NTczNDMpJiYobD1jKTticmVhaztjYXNlIDQ6aT1lW28rMV0sYT1lW28rMl0scz1lW28rM10sMTI4PT0oMTkyJmkpJiYxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZzKSYmKGM9KDE1JnUpPDwxOHwoNjMmaSk8PDEyfCg2MyZhKTw8Nnw2MyZzKT42NTUzNSYmYzwxMTE0MTEyJiYobD1jKX1udWxsPT09bD8obD02NTUzMyxwPTEpOmw+NjU1MzUmJihsLT02NTUzNixyLnB1c2gobD4+PjEwJjEwMjN8NTUyOTYpLGw9NTYzMjB8MTAyMyZsKSxyLnB1c2gobCksbys9cH1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9XylyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSk7Zm9yKHZhciBuPSIiLHI9MDtyPHQ7KW4rPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUuc2xpY2UocixyKz1fKSk7cmV0dXJuIG59KHIpfXIuQnVmZmVyPWMsci5TbG93QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybitlIT1lJiYoZT0wKSxjLmFsbG9jKCtlKX0sci5JTlNQRUNUX01BWF9CWVRFUz01MCxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09dC5UWVBFRF9BUlJBWV9TVVBQT1JUP3QuVFlQRURfQVJSQVlfU1VQUE9SVDpmdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZS5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PWUuZm9vKCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1YmFycmF5JiYwPT09ZS5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLHIua01heExlbmd0aD1hKCksYy5wb29sU2l6ZT04MTkyLGMuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19fPWMucHJvdG90eXBlLGV9LGMuZnJvbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHUobnVsbCxlLHQsbil9LGMuVFlQRURfQVJSQVlfU1VQUE9SVCYmKGMucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxjLl9fcHJvdG9fXz1VaW50OEFycmF5LCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuc3BlY2llcyYmY1tTeW1ib2wuc3BlY2llc109PT1jJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9KSksYy5hbGxvYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBsKHQpLHQ8PTA/cyhlLHQpOnZvaWQgMCE9PW4/InN0cmluZyI9PXR5cGVvZiByP3MoZSx0KS5maWxsKG4scik6cyhlLHQpLmZpbGwobik6cyhlLHQpfShudWxsLGUsdCxuKX0sYy5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtyZXR1cm4gcChudWxsLGUpfSxjLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtyZXR1cm4gcChudWxsLGUpfSxjLmlzQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiEobnVsbD09ZXx8IWUuX2lzQnVmZmVyKX0sYy5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7aWYoIWMuaXNCdWZmZXIoZSl8fCFjLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMiKTtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIG49ZS5sZW5ndGgscj10Lmxlbmd0aCxvPTAsaT1NYXRoLm1pbihuLHIpO288aTsrK28paWYoZVtvXSE9PXRbb10pe249ZVtvXSxyPXRbb107YnJlYWt9cmV0dXJuIG48cj8tMTpyPG4/MTowfSxjLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlImhleCI6Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGMuY29uY2F0PWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYy5hbGxvYygwKTt2YXIgbjtpZih2b2lkIDA9PT10KWZvcih0PTAsbj0wO248ZS5sZW5ndGg7KytuKXQrPWVbbl0ubGVuZ3RoO3ZhciByPWMuYWxsb2NVbnNhZmUodCksbz0wO2ZvcihuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciBhPWVbbl07aWYoIWMuaXNCdWZmZXIoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2EuY29weShyLG8pLG8rPWEubGVuZ3RofXJldHVybiByfSxjLmJ5dGVMZW5ndGg9ZixjLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsYy5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz0yKW0odGhpcyx0LHQrMSk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9NCltKHRoaXMsdCx0KzMpLG0odGhpcyx0KzEsdCsyKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU4IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz04KW0odGhpcyx0LHQrNyksbSh0aGlzLHQrMSx0KzYpLG0odGhpcyx0KzIsdCs1KSxtKHRoaXMsdCszLHQrNCk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PWU/IiI6MD09PWFyZ3VtZW50cy5sZW5ndGg/QSh0aGlzLDAsZSk6Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGMucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtpZighYy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT1lfHwwPT09Yy5jb21wYXJlKHRoaXMsZSl9LGMucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgZT0iIix0PXIuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihlPXRoaXMudG9TdHJpbmcoImhleCIsMCx0KS5tYXRjaCgvLnsyfS9nKS5qb2luKCIgIiksdGhpcy5sZW5ndGg+dCYmKGUrPSIgLi4uICIpKSwiPEJ1ZmZlciAiK2UrIj4ifSxjLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCxuLHIsbyl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PW4mJihuPWU/ZS5sZW5ndGg6MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89dGhpcy5sZW5ndGgpLHQ8MHx8bj5lLmxlbmd0aHx8cjwwfHxvPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJvdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihyPj1vJiZ0Pj1uKXJldHVybiAwO2lmKHI+PW8pcmV0dXJuLTE7aWYodD49bilyZXR1cm4gMTtpZih0aGlzPT09ZSlyZXR1cm4gMDtmb3IodmFyIGk9KG8+Pj49MCktKHI+Pj49MCksYT0obj4+Pj0wKS0odD4+Pj0wKSxzPU1hdGgubWluKGksYSksdT10aGlzLnNsaWNlKHIsbyksbD1lLnNsaWNlKHQsbikscD0wO3A8czsrK3ApaWYodVtwXSE9PWxbcF0pe2k9dVtwXSxhPWxbcF07YnJlYWt9cmV0dXJuIGk8YT8tMTphPGk/MTowfSxjLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YoZSx0LG4pfSxjLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0aGlzLGUsdCxuLCEwKX0sYy5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2KHRoaXMsZSx0LG4sITEpfSxjLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbixyKXtpZih2b2lkIDA9PT10KXI9InV0ZjgiLG49dGhpcy5sZW5ndGgsdD0wO2Vsc2UgaWYodm9pZCAwPT09biYmInN0cmluZyI9PXR5cGVvZiB0KXI9dCxuPXRoaXMubGVuZ3RoLHQ9MDtlbHNle2lmKCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIik7dHw9MCxpc0Zpbml0ZShuKT8obnw9MCx2b2lkIDA9PT1yJiYocj0idXRmOCIpKToocj1uLG49dm9pZCAwKX12YXIgbz10aGlzLmxlbmd0aC10O2lmKCh2b2lkIDA9PT1ufHxuPm8pJiYobj1vKSxlLmxlbmd0aD4wJiYobjwwfHx0PDApfHx0PnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcyIpO3J8fChyPSJ1dGY4Iik7Zm9yKHZhciBpPSExOzspc3dpdGNoKHIpe2Nhc2UiaGV4IjpyZXR1cm4gYih0aGlzLGUsdCxuKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBFKHRoaXMsZSx0LG4pO2Nhc2UiYXNjaWkiOnJldHVybiBTKHRoaXMsZSx0LG4pO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEModGhpcyxlLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiBJKHRoaXMsZSx0LG4pO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gVCh0aGlzLGUsdCxuKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIityKTtyPSgiIityKS50b0xvd2VyQ2FzZSgpLGk9ITB9fSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBfPTQwOTY7ZnVuY3Rpb24gUihlLHQsbil7dmFyIHI9IiI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIG89dDtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmVbb10pO3JldHVybiByfWZ1bmN0aW9uIE8oZSx0LG4pe3ZhciByPSIiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBvPXQ7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbb10pO3JldHVybiByfWZ1bmN0aW9uIEwoZSx0LG4pe3ZhciByLG89ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKSwoIW58fG48MHx8bj5vKSYmKG49byk7Zm9yKHZhciBpPSIiLGE9dDthPG47KythKWkrPShyPWVbYV0pPDE2PyIwIityLnRvU3RyaW5nKDE2KTpyLnRvU3RyaW5nKDE2KTtyZXR1cm4gaX1mdW5jdGlvbiBrKGUsdCxuKXtmb3IodmFyIHI9ZS5zbGljZSh0LG4pLG89IiIsaT0wO2k8ci5sZW5ndGg7aSs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbaV0rMjU2KnJbaSsxXSk7cmV0dXJuIG99ZnVuY3Rpb24gTihlLHQsbil7aWYoZSUxIT0wfHxlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKGUrdD5uKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9ZnVuY3Rpb24gUChlLHQsbixyLG8saSl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHQ+b3x8dDxpKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihuK3I+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIEQoZSx0LG4scil7dDwwJiYodD02NTUzNSt0KzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4oZS5sZW5ndGgtbiwyKTtvPGk7KytvKWVbbitvXT0odCYyNTU8PDgqKHI/bzoxLW8pKT4+PjgqKHI/bzoxLW8pfWZ1bmN0aW9uIHgoZSx0LG4scil7dDwwJiYodD00Mjk0OTY3Mjk1K3QrMSk7Zm9yKHZhciBvPTAsaT1NYXRoLm1pbihlLmxlbmd0aC1uLDQpO288aTsrK28pZVtuK29dPXQ+Pj44KihyP286My1vKSYyNTV9ZnVuY3Rpb24gTShlLHQsbixyLG8saSl7aWYobityPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZihuPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIFUoZSx0LG4scixpKXtyZXR1cm4gaXx8TShlLDAsbiw0KSxvLndyaXRlKGUsdCxuLHIsMjMsNCksbis0fWZ1bmN0aW9uIEYoZSx0LG4scixpKXtyZXR1cm4gaXx8TShlLDAsbiw4KSxvLndyaXRlKGUsdCxuLHIsNTIsOCksbis4fWMucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzLmxlbmd0aDtpZigoZT1+fmUpPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksKHQ9dm9pZCAwPT09dD9yOn5+dCk8MD8odCs9cik8MCYmKHQ9MCk6dD5yJiYodD1yKSx0PGUmJih0PWUpLGMuVFlQRURfQVJSQVlfU1VQUE9SVCkobj10aGlzLnN1YmFycmF5KGUsdCkpLl9fcHJvdG9fXz1jLnByb3RvdHlwZTtlbHNle3ZhciBvPXQtZTtuPW5ldyBjKG8sdm9pZCAwKTtmb3IodmFyIGk9MDtpPG87KytpKW5baV09dGhpc1tpK2VdfXJldHVybiBufSxjLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2VdLG89MSxpPTA7KytpPHQmJihvKj0yNTYpOylyKz10aGlzW2UraV0qbztyZXR1cm4gcn0sYy5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlKy0tdF0sbz0xO3Q+MCYmKG8qPTI1Nik7KXIrPXRoaXNbZSstLXRdKm87cmV0dXJuIHJ9LGMucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sYy5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OH0sYy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0sYy5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxjLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbZV0rKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LGMucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxvPTEsaT0wOysraTx0JiYobyo9MjU2KTspcis9dGhpc1tlK2ldKm87cmV0dXJuIHI+PShvKj0xMjgpJiYoci09TWF0aC5wb3coMiw4KnQpKSxyfSxjLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXQsbz0xLGk9dGhpc1tlKy0tcl07cj4wJiYobyo9MjU2KTspaSs9dGhpc1tlKy0tcl0qbztyZXR1cm4gaT49KG8qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqdCkpLGl9LGMucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sYy5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oZSx0KXt0fHxOKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LGMucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7dHx8TihlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxjLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSxjLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxjLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sYy5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITEsMjMsNCl9LGMucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCw1Miw4KX0sYy5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDUyLDgpfSxjLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQsbixyKXtlPStlLHR8PTAsbnw9MCxyfHxQKHRoaXMsZSx0LG4sTWF0aC5wb3coMiw4Km4pLTEsMCk7dmFyIG89MSxpPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytpPG4mJihvKj0yNTYpOyl0aGlzW3QraV09ZS9vJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQsbixyKXtlPStlLHR8PTAsbnw9MCxyfHxQKHRoaXMsZSx0LG4sTWF0aC5wb3coMiw4Km4pLTEsMCk7dmFyIG89bi0xLGk9MTtmb3IodGhpc1t0K29dPTI1NSZlOy0tbz49MCYmKGkqPTI1Nik7KXRoaXNbdCtvXT1lL2kmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwxLDI1NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLHRoaXNbdF09MjU1JmUsdCsxfSxjLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiw2NTUzNSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTpEKHRoaXMsZSx0LCEwKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDY1NTM1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOkQodGhpcyxlLHQsITEpLHQrMn0sYy5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdCszXT1lPj4+MjQsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrMV09ZT4+PjgsdGhpc1t0XT0yNTUmZSk6eCh0aGlzLGUsdCwhMCksdCs0fSxjLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTp4KHRoaXMsZSx0LCExKSx0KzR9LGMucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0fD0wLCFyKXt2YXIgbz1NYXRoLnBvdygyLDgqbi0xKTtQKHRoaXMsZSx0LG4sby0xLC1vKX12YXIgaT0wLGE9MSxzPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytpPG4mJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K2ktMV0mJihzPTEpLHRoaXNbdCtpXT0oZS9hfDApLXMmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0fD0wLCFyKXt2YXIgbz1NYXRoLnBvdygyLDgqbi0xKTtQKHRoaXMsZSx0LG4sby0xLC1vKX12YXIgaT1uLTEsYT0xLHM9MDtmb3IodGhpc1t0K2ldPTI1NSZlOy0taT49MCYmKGEqPTI1Nik7KWU8MCYmMD09PXMmJjAhPT10aGlzW3QraSsxXSYmKHM9MSksdGhpc1t0K2ldPShlL2F8MCktcyYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMSwxMjcsLTEyOCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxjLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6RCh0aGlzLGUsdCwhMCksdCsyfSxjLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6RCh0aGlzLGUsdCwhMSksdCsyfSxjLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0KTp4KHRoaXMsZSx0LCEwKSx0KzR9LGMucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOngodGhpcyxlLHQsITEpLHQrNH0sYy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVSh0aGlzLGUsdCwhMCxuKX0sYy5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVSh0aGlzLGUsdCwhMSxuKX0sYy5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEYodGhpcyxlLHQsITAsbil9LGMucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKHRoaXMsZSx0LCExLG4pfSxjLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxuLHIpe2lmKG58fChuPTApLHJ8fDA9PT1yfHwocj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxyPjAmJnI8biYmKHI9bikscj09PW4pcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYobjwwfHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTtyPnRoaXMubGVuZ3RoJiYocj10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxyLW4mJihyPWUubGVuZ3RoLXQrbik7dmFyIG8saT1yLW47aWYodGhpcz09PWUmJm48dCYmdDxyKWZvcihvPWktMTtvPj0wOy0tbyllW28rdF09dGhpc1tvK25dO2Vsc2UgaWYoaTwxZTN8fCFjLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKG89MDtvPGk7KytvKWVbbyt0XT10aGlzW28rbl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkobixuK2kpLHQpO3JldHVybiBpfSxjLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0PyhyPXQsdD0wLG49dGhpcy5sZW5ndGgpOiJzdHJpbmciPT10eXBlb2YgbiYmKHI9bixuPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBvPWUuY2hhckNvZGVBdCgwKTtvPDI1NiYmKGU9byl9aWYodm9pZCAwIT09ciYmInN0cmluZyIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZigic3RyaW5nIj09dHlwZW9mIHImJiFjLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIityKX1lbHNlIm51bWJlciI9PXR5cGVvZiBlJiYoZSY9MjU1KTtpZih0PDB8fHRoaXMubGVuZ3RoPHR8fHRoaXMubGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKG48PXQpcmV0dXJuIHRoaXM7dmFyIGk7aWYodD4+Pj0wLG49dm9pZCAwPT09bj90aGlzLmxlbmd0aDpuPj4+MCxlfHwoZT0wKSwibnVtYmVyIj09dHlwZW9mIGUpZm9yKGk9dDtpPG47KytpKXRoaXNbaV09ZTtlbHNle3ZhciBhPWMuaXNCdWZmZXIoZSk/ZTpxKG5ldyBjKGUscikudG9TdHJpbmcoKSkscz1hLmxlbmd0aDtmb3IoaT0wO2k8bi10OysraSl0aGlzW2krdF09YVtpJXNdfXJldHVybiB0aGlzfTt2YXIgaj0vW14rXC8wLTlBLVphLXotX10vZztmdW5jdGlvbiBxKGUsdCl7dmFyIG47dD10fHwxLzA7Zm9yKHZhciByPWUubGVuZ3RoLG89bnVsbCxpPVtdLGE9MDthPHI7KythKXtpZigobj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZuPDU3MzQ0KXtpZighbyl7aWYobj41NjMxOSl7KHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKGErMT09PXIpeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1vPW47Y29udGludWV9aWYobjw1NjMyMCl7KHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpLG89bjtjb250aW51ZX1uPTY1NTM2KyhvLTU1Mjk2PDwxMHxuLTU2MzIwKX1lbHNlIG8mJih0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtpZihvPW51bGwsbjwxMjgpe2lmKCh0LT0xKTwwKWJyZWFrO2kucHVzaChuKX1lbHNlIGlmKG48MjA0OCl7aWYoKHQtPTIpPDApYnJlYWs7aS5wdXNoKG4+PjZ8MTkyLDYzJm58MTI4KX1lbHNlIGlmKG48NjU1MzYpe2lmKCh0LT0zKTwwKWJyZWFrO2kucHVzaChuPj4xMnwyMjQsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfWVsc2V7aWYoIShuPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iik7aWYoKHQtPTQpPDApYnJlYWs7aS5wdXNoKG4+PjE4fDI0MCxuPj4xMiY2M3wxMjgsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfX1yZXR1cm4gaX1mdW5jdGlvbiBCKGUpe3JldHVybiBuLnRvQnl0ZUFycmF5KGZ1bmN0aW9uKGUpe2lmKChlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9KGUpLnJlcGxhY2UoaiwiIikpLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7ZS5sZW5ndGglNCE9MDspZSs9Ij0iO3JldHVybiBlfShlKSl9ZnVuY3Rpb24gRyhlLHQsbixyKXtmb3IodmFyIG89MDtvPHImJiEobytuPj10Lmxlbmd0aHx8bz49ZS5sZW5ndGgpOysrbyl0W28rbl09ZVtvXTtyZXR1cm4gb319KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PW4uZz9uLmc6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoImJ1ZmZlciIpLkJ1ZmZlcil9LHsiYmFzZTY0LWpzIjo4MSxidWZmZXI6ODYsaWVlZTc1NDo4OCxpc2FycmF5Ojg5fV0sODc6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIGkoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gYShlKXtyZXR1cm4ib2JqZWN0Ij09PW8oZSkmJm51bGwhPT1lfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIHZvaWQgMD09PWV9dC5leHBvcnRzPXIsci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZXx8ZTwwfHxpc05hTihlKSl0aHJvdyBUeXBlRXJyb3IoIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGMsdTtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLCJlcnJvciI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8YSh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKCh0PWFyZ3VtZW50c1sxXSlpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7dmFyIGw9bmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgImVycm9yIiBldmVudC4gKCcrdCsiKSIpO3Rocm93IGwuY29udGV4dD10LGx9aWYocyhuPXRoaXMuX2V2ZW50c1tlXSkpcmV0dXJuITE7aWYoaShuKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4uY2FsbCh0aGlzKTticmVhaztjYXNlIDI6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuLmFwcGx5KHRoaXMsbyl9ZWxzZSBpZihhKG4pKWZvcihvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPSh1PW4uc2xpY2UoKSkubGVuZ3RoLGM9MDtjPHI7YysrKXVbY10uYXBwbHkodGhpcyxvKTtyZXR1cm4hMH0sci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KCJuZXdMaXN0ZW5lciIsZSxpKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP2EodGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxhKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkJiYobj1zKHRoaXMuX21heExpc3RlbmVycyk/ci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycykmJm4+MCYmdGhpcy5fZXZlbnRzW2VdLmxlbmd0aD5uJiYodGhpcy5fZXZlbnRzW2VdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LiIsdGhpcy5fZXZlbnRzW2VdLmxlbmd0aCksImZ1bmN0aW9uIj09dHlwZW9mIGNvbnNvbGUudHJhY2UmJmNvbnNvbGUudHJhY2UoKSksdGhpc30sci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsci5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2lmKCFpKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIG49ITE7ZnVuY3Rpb24gcigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxyKSxufHwobj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHIubGlzdGVuZXI9dCx0aGlzLm9uKGUsciksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8scztpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuIHRoaXM7aWYobz0obj10aGlzLl9ldmVudHNbZV0pLmxlbmd0aCxyPS0xLG49PT10fHxpKG4ubGlzdGVuZXIpJiZuLmxpc3RlbmVyPT09dClkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx0KTtlbHNlIGlmKGEobikpe2ZvcihzPW87cy0tID4wOylpZihuW3NdPT09dHx8bltzXS5saXN0ZW5lciYmbltzXS5saXN0ZW5lcj09PXQpe3I9czticmVha31pZihyPDApcmV0dXJuIHRoaXM7MT09PW4ubGVuZ3RoPyhuLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0pOm4uc3BsaWNlKHIsMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbZV0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHQgaW4gdGhpcy5fZXZlbnRzKSJyZW1vdmVMaXN0ZW5lciIhPT10JiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlbW92ZUxpc3RlbmVyIiksdGhpcy5fZXZlbnRzPXt9LHRoaXN9aWYoaShuPXRoaXMuX2V2ZW50c1tlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG4pO2Vsc2UgaWYobilmb3IoO24ubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbltuLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpc30sci5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9pKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LHIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYoaSh0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19LHt9XSw4ODpbZnVuY3Rpb24oZSx0LG4pe24ucmVhZD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEscz04Km8tci0xLGM9KDE8PHMpLTEsdT1jPj4xLGw9LTcscD1uP28tMTowLGQ9bj8tMToxLGg9ZVt0K3BdO2ZvcihwKz1kLGk9aCYoMTw8LWwpLTEsaD4+PS1sLGwrPXM7bD4wO2k9MjU2KmkrZVt0K3BdLHArPWQsbC09OCk7Zm9yKGE9aSYoMTw8LWwpLTEsaT4+PS1sLGwrPXI7bD4wO2E9MjU2KmErZVt0K3BdLHArPWQsbC09OCk7aWYoMD09PWkpaT0xLXU7ZWxzZXtpZihpPT09YylyZXR1cm4gYT9OYU46MS8wKihoPy0xOjEpO2ErPU1hdGgucG93KDIsciksaS09dX1yZXR1cm4oaD8tMToxKSphKk1hdGgucG93KDIsaS1yKX0sbi53cml0ZT1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGEscyxjLHU9OCppLW8tMSxsPSgxPDx1KS0xLHA9bD4+MSxkPTIzPT09bz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaD1yPzA6aS0xLGY9cj8xOi0xLGc9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhzPWlzTmFOKHQpPzE6MCxhPWwpOihhPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGM9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sYyo9MiksKHQrPWErcD49MT9kL2M6ZCpNYXRoLnBvdygyLDEtcCkpKmM+PTImJihhKyssYy89MiksYStwPj1sPyhzPTAsYT1sKTphK3A+PTE/KHM9KHQqYy0xKSpNYXRoLnBvdygyLG8pLGErPXApOihzPXQqTWF0aC5wb3coMixwLTEpKk1hdGgucG93KDIsbyksYT0wKSk7bz49ODtlW24raF09MjU1JnMsaCs9ZixzLz0yNTYsby09OCk7Zm9yKGE9YTw8b3xzLHUrPW87dT4wO2VbbitoXT0yNTUmYSxoKz1mLGEvPTI1Nix1LT04KTtlW24raC1mXXw9MTI4Kmd9fSx7fV0sODk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj17fS50b1N0cmluZzt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09ci5jYWxsKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3JldHVybiBudWxsIT09ZSYmIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBuKGUpe3JldHVybiBudWxsIT09ZSYmIltvYmplY3QgT2JqZWN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gcihlLG8pe2lmKGU9PT1vKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSlyZXR1cm4hMTtpZighMD09PXQoZSkpe2lmKGUubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspaWYoITE9PT1yKGVbaV0sb1tpXSkpcmV0dXJuITE7cmV0dXJuITB9aWYoITA9PT1uKGUpKXt2YXIgYT17fTtmb3IodmFyIHMgaW4gZSlpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGUscykpe2lmKCExPT09cihlW3NdLG9bc10pKXJldHVybiExO2Fbc109ITB9Zm9yKHZhciBjIGluIG8paWYoaGFzT3duUHJvcGVydHkuY2FsbChvLGMpJiYhMCE9PWFbY10pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbyhlKXtpZigiIj09PWV8fCExPT09ZXx8bnVsbD09PWUpcmV0dXJuITA7aWYodChlKSYmMD09PWUubGVuZ3RoKXJldHVybiEwO2lmKG4oZSkpe2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9dmFyIGk7aT0iZnVuY3Rpb24iPT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50cmltTGVmdD9mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltTGVmdCgpfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvXlxzKiguKikvKVsxXX07dmFyIGE9MCxzPTIsYz17MDoibnVtYmVyIiwxOiJhbnkiLDI6InN0cmluZyIsMzoiYXJyYXkiLDQ6Im9iamVjdCIsNToiYm9vbGVhbiIsNjoiZXhwcmVzc2lvbiIsNzoibnVsbCIsODoiQXJyYXk8bnVtYmVyPiIsOToiQXJyYXk8c3RyaW5nPiJ9LHU9IkVPRiIsbD0iVW5xdW90ZWRJZGVudGlmaWVyIixwPSJRdW90ZWRJZGVudGlmaWVyIixkPSJSYnJhY2tldCIsaD0iUnBhcmVuIixmPSJDb21tYSIsZz0iQ29sb24iLG09IlJicmFjZSIsdj0iTnVtYmVyIix5PSJDdXJyZW50IixiPSJFeHByZWYiLEU9IlBpcGUiLFM9Ik9yIixDPSJBbmQiLEk9IkVRIixUPSJHVCIsdz0iTFQiLEE9IkdURSIsXz0iTFRFIixSPSJORSIsTz0iRmxhdHRlbiIsTD0iU3RhciIsaz0iRmlsdGVyIixOPSJEb3QiLFA9Ik5vdCIsRD0iTGJyYWNlIix4PSJMYnJhY2tldCIsTT0iTHBhcmVuIixVPSJMaXRlcmFsIixGPXsiLiI6TiwiKiI6TCwiLCI6ZiwiOiI6ZywieyI6RCwifSI6bSwiXSI6ZCwiKCI6TSwiKSI6aCwiQCI6eX0saj17IjwiOiEwLCI+IjohMCwiPSI6ITAsIiEiOiEwfSxxPXsiICI6ITAsIlx0IjohMCwiXG4iOiEwfTtmdW5jdGlvbiBCKGUpe3JldHVybiBlPj0iMCImJmU8PSI5Inx8Ii0iPT09ZX1mdW5jdGlvbiBHKCl7fUcucHJvdG90eXBlPXt0b2tlbml6ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPVtdO2Zvcih0aGlzLl9jdXJyZW50PTA7dGhpcy5fY3VycmVudDxlLmxlbmd0aDspaWYoKG89ZVt0aGlzLl9jdXJyZW50XSk+PSJhIiYmbzw9InoifHxvPj0iQSImJm88PSJaInx8Il8iPT09byl0PXRoaXMuX2N1cnJlbnQsbj10aGlzLl9jb25zdW1lVW5xdW90ZWRJZGVudGlmaWVyKGUpLGkucHVzaCh7dHlwZTpsLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYodm9pZCAwIT09RltlW3RoaXMuX2N1cnJlbnRdXSlpLnB1c2goe3R5cGU6RltlW3RoaXMuX2N1cnJlbnRdXSx2YWx1ZTplW3RoaXMuX2N1cnJlbnRdLHN0YXJ0OnRoaXMuX2N1cnJlbnR9KSx0aGlzLl9jdXJyZW50Kys7ZWxzZSBpZihCKGVbdGhpcy5fY3VycmVudF0pKXI9dGhpcy5fY29uc3VtZU51bWJlcihlKSxpLnB1c2gocik7ZWxzZSBpZigiWyI9PT1lW3RoaXMuX2N1cnJlbnRdKXI9dGhpcy5fY29uc3VtZUxCcmFja2V0KGUpLGkucHVzaChyKTtlbHNlIGlmKCciJz09PWVbdGhpcy5fY3VycmVudF0pdD10aGlzLl9jdXJyZW50LG49dGhpcy5fY29uc3VtZVF1b3RlZElkZW50aWZpZXIoZSksaS5wdXNoKHt0eXBlOnAsdmFsdWU6bixzdGFydDp0fSk7ZWxzZSBpZigiJyI9PT1lW3RoaXMuX2N1cnJlbnRdKXQ9dGhpcy5fY3VycmVudCxuPXRoaXMuX2NvbnN1bWVSYXdTdHJpbmdMaXRlcmFsKGUpLGkucHVzaCh7dHlwZTpVLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYoImAiPT09ZVt0aGlzLl9jdXJyZW50XSl7dD10aGlzLl9jdXJyZW50O3ZhciBhPXRoaXMuX2NvbnN1bWVMaXRlcmFsKGUpO2kucHVzaCh7dHlwZTpVLHZhbHVlOmEsc3RhcnQ6dH0pfWVsc2UgaWYodm9pZCAwIT09altlW3RoaXMuX2N1cnJlbnRdXSlpLnB1c2godGhpcy5fY29uc3VtZU9wZXJhdG9yKGUpKTtlbHNlIGlmKHZvaWQgMCE9PXFbZVt0aGlzLl9jdXJyZW50XV0pdGhpcy5fY3VycmVudCsrO2Vsc2UgaWYoIiYiPT09ZVt0aGlzLl9jdXJyZW50XSl0PXRoaXMuX2N1cnJlbnQsdGhpcy5fY3VycmVudCsrLCImIj09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyxpLnB1c2goe3R5cGU6Qyx2YWx1ZToiJiYiLHN0YXJ0OnR9KSk6aS5wdXNoKHt0eXBlOmIsdmFsdWU6IiYiLHN0YXJ0OnR9KTtlbHNle2lmKCJ8IiE9PWVbdGhpcy5fY3VycmVudF0pe3ZhciBzPW5ldyBFcnJvcigiVW5rbm93biBjaGFyYWN0ZXI6IitlW3RoaXMuX2N1cnJlbnRdKTt0aHJvdyBzLm5hbWU9IkxleGVyRXJyb3IiLHN9dD10aGlzLl9jdXJyZW50LHRoaXMuX2N1cnJlbnQrKywifCI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50KyssaS5wdXNoKHt0eXBlOlMsdmFsdWU6Inx8IixzdGFydDp0fSkpOmkucHVzaCh7dHlwZTpFLHZhbHVlOiJ8IixzdGFydDp0fSl9cmV0dXJuIGl9LF9jb25zdW1lVW5xdW90ZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5fY3VycmVudDtmb3IodGhpcy5fY3VycmVudCsrO3RoaXMuX2N1cnJlbnQ8ZS5sZW5ndGgmJigodD1lW3RoaXMuX2N1cnJlbnRdKT49ImEiJiZ0PD0ieiJ8fHQ+PSJBIiYmdDw9IloifHx0Pj0iMCImJnQ8PSI5Inx8Il8iPT09dCk7KXRoaXMuX2N1cnJlbnQrKztyZXR1cm4gZS5zbGljZShuLHRoaXMuX2N1cnJlbnQpfSxfY29uc3VtZVF1b3RlZElkZW50aWZpZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoOyciJyE9PWVbdGhpcy5fY3VycmVudF0mJnRoaXMuX2N1cnJlbnQ8bjspe3ZhciByPXRoaXMuX2N1cnJlbnQ7IlxcIiE9PWVbcl18fCJcXCIhPT1lW3IrMV0mJiciJyE9PWVbcisxXT9yKys6cis9Mix0aGlzLl9jdXJyZW50PXJ9cmV0dXJuIHRoaXMuX2N1cnJlbnQrKyxKU09OLnBhcnNlKGUuc2xpY2UodCx0aGlzLl9jdXJyZW50KSl9LF9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50O3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIG49ZS5sZW5ndGg7IiciIT09ZVt0aGlzLl9jdXJyZW50XSYmdGhpcy5fY3VycmVudDxuOyl7dmFyIHI9dGhpcy5fY3VycmVudDsiXFwiIT09ZVtyXXx8IlxcIiE9PWVbcisxXSYmIiciIT09ZVtyKzFdP3IrKzpyKz0yLHRoaXMuX2N1cnJlbnQ9cn1yZXR1cm4gdGhpcy5fY3VycmVudCsrLGUuc2xpY2UodCsxLHRoaXMuX2N1cnJlbnQtMSkucmVwbGFjZSgiXFwnIiwiJyIpfSxfY29uc3VtZU51bWJlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50O3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIG49ZS5sZW5ndGg7QihlW3RoaXMuX2N1cnJlbnRdKSYmdGhpcy5fY3VycmVudDxuOyl0aGlzLl9jdXJyZW50Kys7dmFyIHI9cGFyc2VJbnQoZS5zbGljZSh0LHRoaXMuX2N1cnJlbnQpKTtyZXR1cm57dHlwZTp2LHZhbHVlOnIsc3RhcnQ6dH19LF9jb25zdW1lTEJyYWNrZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDtyZXR1cm4gdGhpcy5fY3VycmVudCsrLCI/Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTprLHZhbHVlOiJbPyIsc3RhcnQ6dH0pOiJdIj09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpPLHZhbHVlOiJbXSIsc3RhcnQ6dH0pOnt0eXBlOngsdmFsdWU6IlsiLHN0YXJ0OnR9fSxfY29uc3VtZU9wZXJhdG9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQsbj1lW3RdO3JldHVybiB0aGlzLl9jdXJyZW50KyssIiEiPT09bj8iPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Uix2YWx1ZToiIT0iLHN0YXJ0OnR9KTp7dHlwZTpQLHZhbHVlOiIhIixzdGFydDp0fToiPCI9PT1uPyI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpfLHZhbHVlOiI8PSIsc3RhcnQ6dH0pOnt0eXBlOncsdmFsdWU6IjwiLHN0YXJ0OnR9OiI+Ij09PW4/Ij0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOkEsdmFsdWU6Ij49IixzdGFydDp0fSk6e3R5cGU6VCx2YWx1ZToiPiIsc3RhcnQ6dH06Ij0iPT09biYmIj0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOkksdmFsdWU6Ij09IixzdGFydDp0fSk6dm9pZCAwfSxfY29uc3VtZUxpdGVyYWw6ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgdCxuPXRoaXMuX2N1cnJlbnQscj1lLmxlbmd0aDsiYCIhPT1lW3RoaXMuX2N1cnJlbnRdJiZ0aGlzLl9jdXJyZW50PHI7KXt2YXIgbz10aGlzLl9jdXJyZW50OyJcXCIhPT1lW29dfHwiXFwiIT09ZVtvKzFdJiYiYCIhPT1lW28rMV0/bysrOm8rPTIsdGhpcy5fY3VycmVudD1vfXZhciBhPWkoZS5zbGljZShuLHRoaXMuX2N1cnJlbnQpKTtyZXR1cm4gYT1hLnJlcGxhY2UoIlxcYCIsImAiKSx0PXRoaXMuX2xvb2tzTGlrZUpTT04oYSk/SlNPTi5wYXJzZShhKTpKU09OLnBhcnNlKCciJythKyciJyksdGhpcy5fY3VycmVudCsrLHR9LF9sb29rc0xpa2VKU09OOmZ1bmN0aW9uKGUpe2lmKCIiPT09ZSlyZXR1cm4hMTtpZignW3siJy5pbmRleE9mKGVbMF0pPj0wKXJldHVybiEwO2lmKFsidHJ1ZSIsImZhbHNlIiwibnVsbCJdLmluZGV4T2YoZSk+PTApcmV0dXJuITA7aWYoISgiLTAxMjM0NTY3ODkiLmluZGV4T2YoZVswXSk+PTApKXJldHVybiExO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fTt2YXIgVj17fTtmdW5jdGlvbiBXKCl7fWZ1bmN0aW9uIEgoZSl7dGhpcy5ydW50aW1lPWV9ZnVuY3Rpb24geihlKXt0aGlzLl9pbnRlcnByZXRlcj1lLHRoaXMuZnVuY3Rpb25UYWJsZT17YWJzOntfZnVuYzp0aGlzLl9mdW5jdGlvbkFicyxfc2lnbmF0dXJlOlt7dHlwZXM6W2FdfV19LGF2Zzp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25BdmcsX3NpZ25hdHVyZTpbe3R5cGVzOls4XX1dfSxjZWlsOntfZnVuYzp0aGlzLl9mdW5jdGlvbkNlaWwsX3NpZ25hdHVyZTpbe3R5cGVzOlthXX1dfSxjb250YWluczp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Db250YWlucyxfc2lnbmF0dXJlOlt7dHlwZXM6W3MsM119LHt0eXBlczpbMV19XX0sZW5kc193aXRoOntfZnVuYzp0aGlzLl9mdW5jdGlvbkVuZHNXaXRoLF9zaWduYXR1cmU6W3t0eXBlczpbc119LHt0eXBlczpbc119XX0sZmxvb3I6e19mdW5jOnRoaXMuX2Z1bmN0aW9uRmxvb3IsX3NpZ25hdHVyZTpbe3R5cGVzOlthXX1dfSxsZW5ndGg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTGVuZ3RoLF9zaWduYXR1cmU6W3t0eXBlczpbcywzLDRdfV19LG1hcDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NYXAsX3NpZ25hdHVyZTpbe3R5cGVzOls2XX0se3R5cGVzOlszXX1dfSxtYXg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWF4LF9zaWduYXR1cmU6W3t0eXBlczpbOCw5XX1dfSxtZXJnZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NZXJnZSxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdLHZhcmlhZGljOiEwfV19LG1heF9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NYXhCeSxfc2lnbmF0dXJlOlt7dHlwZXM6WzNdfSx7dHlwZXM6WzZdfV19LHN1bTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25TdW0sX3NpZ25hdHVyZTpbe3R5cGVzOls4XX1dfSxzdGFydHNfd2l0aDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25TdGFydHNXaXRoLF9zaWduYXR1cmU6W3t0eXBlczpbc119LHt0eXBlczpbc119XX0sbWluOntfZnVuYzp0aGlzLl9mdW5jdGlvbk1pbixfc2lnbmF0dXJlOlt7dHlwZXM6WzgsOV19XX0sbWluX2J5OntfZnVuYzp0aGlzLl9mdW5jdGlvbk1pbkJ5LF9zaWduYXR1cmU6W3t0eXBlczpbM119LHt0eXBlczpbNl19XX0sdHlwZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25UeXBlLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sa2V5czp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25LZXlzLF9zaWduYXR1cmU6W3t0eXBlczpbNF19XX0sdmFsdWVzOntfZnVuYzp0aGlzLl9mdW5jdGlvblZhbHVlcyxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdfV19LHNvcnQ6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU29ydCxfc2lnbmF0dXJlOlt7dHlwZXM6WzksOF19XX0sc29ydF9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Tb3J0QnksX3NpZ25hdHVyZTpbe3R5cGVzOlszXX0se3R5cGVzOls2XX1dfSxqb2luOntfZnVuYzp0aGlzLl9mdW5jdGlvbkpvaW4sX3NpZ25hdHVyZTpbe3R5cGVzOltzXX0se3R5cGVzOls5XX1dfSxyZXZlcnNlOntfZnVuYzp0aGlzLl9mdW5jdGlvblJldmVyc2UsX3NpZ25hdHVyZTpbe3R5cGVzOltzLDNdfV19LHRvX2FycmF5OntfZnVuYzp0aGlzLl9mdW5jdGlvblRvQXJyYXksX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSx0b19zdHJpbmc6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVG9TdHJpbmcsX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSx0b19udW1iZXI6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVG9OdW1iZXIsX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSxub3RfbnVsbDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ob3ROdWxsLF9zaWduYXR1cmU6W3t0eXBlczpbMV0sdmFyaWFkaWM6ITB9XX19fVZbdV09MCxWW2xdPTAsVltwXT0wLFZbZF09MCxWW2hdPTAsVltmXT0wLFZbbV09MCxWW3ZdPTAsVlt5XT0wLFZbYl09MCxWW0VdPTEsVltTXT0yLFZbQ109MyxWW0ldPTUsVltUXT01LFZbd109NSxWW0FdPTUsVltfXT01LFZbUl09NSxWW09dPTksVltMXT0yMCxWW2tdPTIxLFZbTl09NDAsVltQXT00NSxWW0RdPTUwLFZbeF09NTUsVltNXT02MCxXLnByb3RvdHlwZT17cGFyc2U6ZnVuY3Rpb24oZSl7dGhpcy5fbG9hZFRva2VucyhlKSx0aGlzLmluZGV4PTA7dmFyIHQ9dGhpcy5leHByZXNzaW9uKDApO2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PXUpe3ZhciBuPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLHI9bmV3IEVycm9yKCJVbmV4cGVjdGVkIHRva2VuIHR5cGU6ICIrbi50eXBlKyIsIHZhbHVlOiAiK24udmFsdWUpO3Rocm93IHIubmFtZT0iUGFyc2VyRXJyb3IiLHJ9cmV0dXJuIHR9LF9sb2FkVG9rZW5zOmZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRykudG9rZW5pemUoZSk7dC5wdXNoKHt0eXBlOnUsdmFsdWU6IiIsc3RhcnQ6ZS5sZW5ndGh9KSx0aGlzLnRva2Vucz10fSxleHByZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvb2thaGVhZFRva2VuKDApO3RoaXMuX2FkdmFuY2UoKTtmb3IodmFyIG49dGhpcy5udWQodCkscj10aGlzLl9sb29rYWhlYWQoMCk7ZTxWW3JdOyl0aGlzLl9hZHZhbmNlKCksbj10aGlzLmxlZChyLG4pLHI9dGhpcy5fbG9va2FoZWFkKDApO3JldHVybiBufSxfbG9va2FoZWFkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRva2Vuc1t0aGlzLmluZGV4K2VdLnR5cGV9LF9sb29rYWhlYWRUb2tlbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5pbmRleCtlXX0sX2FkdmFuY2U6ZnVuY3Rpb24oKXt0aGlzLmluZGV4Kyt9LG51ZDpmdW5jdGlvbihlKXt2YXIgdCxuO3N3aXRjaChlLnR5cGUpe2Nhc2UgVTpyZXR1cm57dHlwZToiTGl0ZXJhbCIsdmFsdWU6ZS52YWx1ZX07Y2FzZSBsOnJldHVybnt0eXBlOiJGaWVsZCIsbmFtZTplLnZhbHVlfTtjYXNlIHA6dmFyIHI9e3R5cGU6IkZpZWxkIixuYW1lOmUudmFsdWV9O2lmKHRoaXMuX2xvb2thaGVhZCgwKT09PU0pdGhyb3cgbmV3IEVycm9yKCJRdW90ZWQgaWRlbnRpZmllciBub3QgYWxsb3dlZCBmb3IgZnVuY3Rpb24gbmFtZXMuIik7cmV0dXJuIHI7Y2FzZSBQOnJldHVybnt0eXBlOiJOb3RFeHByZXNzaW9uIixjaGlsZHJlbjpbdD10aGlzLmV4cHJlc3Npb24oVi5Ob3QpXX07Y2FzZSBMOnJldHVybiB0PW51bGwse3R5cGU6IlZhbHVlUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOiJJZGVudGl0eSJ9LHQ9dGhpcy5fbG9va2FoZWFkKDApPT09ZD97dHlwZToiSWRlbnRpdHkifTp0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19O2Nhc2UgazpyZXR1cm4gdGhpcy5sZWQoZS50eXBlLHt0eXBlOiJJZGVudGl0eSJ9KTtjYXNlIEQ6cmV0dXJuIHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RIYXNoKCk7Y2FzZSBPOnJldHVybnt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6TyxjaGlsZHJlbjpbe3R5cGU6IklkZW50aXR5In1dfSx0PXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLkZsYXR0ZW4pXX07Y2FzZSB4OnJldHVybiB0aGlzLl9sb29rYWhlYWQoMCk9PT12fHx0aGlzLl9sb29rYWhlYWQoMCk9PT1nPyh0PXRoaXMuX3BhcnNlSW5kZXhFeHByZXNzaW9uKCksdGhpcy5fcHJvamVjdElmU2xpY2Uoe3R5cGU6IklkZW50aXR5In0sdCkpOnRoaXMuX2xvb2thaGVhZCgwKT09PUwmJnRoaXMuX2xvb2thaGVhZCgxKT09PWQ/KHRoaXMuX2FkdmFuY2UoKSx0aGlzLl9hZHZhbmNlKCkse3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZToiSWRlbnRpdHkifSx0PXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX0pOnRoaXMuX3BhcnNlTXVsdGlzZWxlY3RMaXN0KCk7Y2FzZSB5OnJldHVybnt0eXBlOnl9O2Nhc2UgYjpyZXR1cm57dHlwZToiRXhwcmVzc2lvblJlZmVyZW5jZSIsY2hpbGRyZW46W249dGhpcy5leHByZXNzaW9uKFYuRXhwcmVmKV19O2Nhc2UgTTpmb3IodmFyIG89W107dGhpcy5fbG9va2FoZWFkKDApIT09aDspdGhpcy5fbG9va2FoZWFkKDApPT09eT8obj17dHlwZTp5fSx0aGlzLl9hZHZhbmNlKCkpOm49dGhpcy5leHByZXNzaW9uKDApLG8ucHVzaChuKTtyZXR1cm4gdGhpcy5fbWF0Y2goaCksb1swXTtkZWZhdWx0OnRoaXMuX2Vycm9yVG9rZW4oZSl9fSxsZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbjtzd2l0Y2goZSl7Y2FzZSBOOnZhciByPVYuRG90O3JldHVybiB0aGlzLl9sb29rYWhlYWQoMCkhPT1MP3t0eXBlOiJTdWJleHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX3BhcnNlRG90UkhTKHIpXX06KHRoaXMuX2FkdmFuY2UoKSx7dHlwZToiVmFsdWVQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhyKV19KTtjYXNlIEU6cmV0dXJuIG49dGhpcy5leHByZXNzaW9uKFYuUGlwZSkse3R5cGU6RSxjaGlsZHJlbjpbdCxuXX07Y2FzZSBTOnJldHVybnt0eXBlOiJPckV4cHJlc3Npb24iLGNoaWxkcmVuOlt0LG49dGhpcy5leHByZXNzaW9uKFYuT3IpXX07Y2FzZSBDOnJldHVybnt0eXBlOiJBbmRFeHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuZXhwcmVzc2lvbihWLkFuZCldfTtjYXNlIE06Zm9yKHZhciBvLGk9dC5uYW1lLGE9W107dGhpcy5fbG9va2FoZWFkKDApIT09aDspdGhpcy5fbG9va2FoZWFkKDApPT09eT8obz17dHlwZTp5fSx0aGlzLl9hZHZhbmNlKCkpOm89dGhpcy5leHByZXNzaW9uKDApLHRoaXMuX2xvb2thaGVhZCgwKT09PWYmJnRoaXMuX21hdGNoKGYpLGEucHVzaChvKTtyZXR1cm4gdGhpcy5fbWF0Y2goaCkse3R5cGU6IkZ1bmN0aW9uIixuYW1lOmksY2hpbGRyZW46YX07Y2FzZSBrOnZhciBzPXRoaXMuZXhwcmVzc2lvbigwKTtyZXR1cm4gdGhpcy5fbWF0Y2goZCkse3R5cGU6IkZpbHRlclByb2plY3Rpb24iLGNoaWxkcmVuOlt0LG49dGhpcy5fbG9va2FoZWFkKDApPT09Tz97dHlwZToiSWRlbnRpdHkifTp0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5GaWx0ZXIpLHNdfTtjYXNlIE86cmV0dXJue3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZTpPLGNoaWxkcmVuOlt0XX0sdGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuRmxhdHRlbildfTtjYXNlIEk6Y2FzZSBSOmNhc2UgVDpjYXNlIEE6Y2FzZSB3OmNhc2UgXzpyZXR1cm4gdGhpcy5fcGFyc2VDb21wYXJhdG9yKHQsZSk7Y2FzZSB4OnZhciBjPXRoaXMuX2xvb2thaGVhZFRva2VuKDApO3JldHVybiBjLnR5cGU9PT12fHxjLnR5cGU9PT1nPyhuPXRoaXMuX3BhcnNlSW5kZXhFeHByZXNzaW9uKCksdGhpcy5fcHJvamVjdElmU2xpY2UodCxuKSk6KHRoaXMuX21hdGNoKEwpLHRoaXMuX21hdGNoKGQpLHt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX0pO2RlZmF1bHQ6dGhpcy5fZXJyb3JUb2tlbih0aGlzLl9sb29rYWhlYWRUb2tlbigwKSl9fSxfbWF0Y2g6ZnVuY3Rpb24oZSl7aWYodGhpcy5fbG9va2FoZWFkKDApIT09ZSl7dmFyIHQ9dGhpcy5fbG9va2FoZWFkVG9rZW4oMCksbj1uZXcgRXJyb3IoIkV4cGVjdGVkICIrZSsiLCBnb3Q6ICIrdC50eXBlKTt0aHJvdyBuLm5hbWU9IlBhcnNlckVycm9yIixufXRoaXMuX2FkdmFuY2UoKX0sX2Vycm9yVG9rZW46ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEVycm9yKCJJbnZhbGlkIHRva2VuICgiK2UudHlwZSsnKTogIicrZS52YWx1ZSsnIicpO3Rocm93IHQubmFtZT0iUGFyc2VyRXJyb3IiLHR9LF9wYXJzZUluZGV4RXhwcmVzc2lvbjpmdW5jdGlvbigpe2lmKHRoaXMuX2xvb2thaGVhZCgwKT09PWd8fHRoaXMuX2xvb2thaGVhZCgxKT09PWcpcmV0dXJuIHRoaXMuX3BhcnNlU2xpY2VFeHByZXNzaW9uKCk7dmFyIGU9e3R5cGU6IkluZGV4Iix2YWx1ZTp0aGlzLl9sb29rYWhlYWRUb2tlbigwKS52YWx1ZX07cmV0dXJuIHRoaXMuX2FkdmFuY2UoKSx0aGlzLl9tYXRjaChkKSxlfSxfcHJvamVjdElmU2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj17dHlwZToiSW5kZXhFeHByZXNzaW9uIixjaGlsZHJlbjpbZSx0XX07cmV0dXJuIlNsaWNlIj09PXQudHlwZT97dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W24sdGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfTpufSxfcGFyc2VTbGljZUV4cHJlc3Npb246ZnVuY3Rpb24oKXtmb3IodmFyIGU9W251bGwsbnVsbCxudWxsXSx0PTAsbj10aGlzLl9sb29rYWhlYWQoMCk7biE9PWQmJnQ8Mzspe2lmKG49PT1nKXQrKyx0aGlzLl9hZHZhbmNlKCk7ZWxzZXtpZihuIT09dil7dmFyIHI9dGhpcy5fbG9va2FoZWFkKDApLG89bmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVuZXhwZWN0ZWQgdG9rZW46ICIrci52YWx1ZSsiKCIrci50eXBlKyIpIik7dGhyb3cgby5uYW1lPSJQYXJzZXJlcnJvciIsb31lW3RdPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLnZhbHVlLHRoaXMuX2FkdmFuY2UoKX1uPXRoaXMuX2xvb2thaGVhZCgwKX1yZXR1cm4gdGhpcy5fbWF0Y2goZCkse3R5cGU6IlNsaWNlIixjaGlsZHJlbjplfX0sX3BhcnNlQ29tcGFyYXRvcjpmdW5jdGlvbihlLHQpe3JldHVybnt0eXBlOiJDb21wYXJhdG9yIixuYW1lOnQsY2hpbGRyZW46W2UsdGhpcy5leHByZXNzaW9uKFZbdF0pXX19LF9wYXJzZURvdFJIUzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb29rYWhlYWQoMCk7cmV0dXJuW2wscCxMXS5pbmRleE9mKHQpPj0wP3RoaXMuZXhwcmVzc2lvbihlKTp0PT09eD8odGhpcy5fbWF0Y2goeCksdGhpcy5fcGFyc2VNdWx0aXNlbGVjdExpc3QoKSk6dD09PUQ/KHRoaXMuX21hdGNoKEQpLHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RIYXNoKCkpOnZvaWQgMH0sX3BhcnNlUHJvamVjdGlvblJIUzpmdW5jdGlvbihlKXt2YXIgdDtpZihWW3RoaXMuX2xvb2thaGVhZCgwKV08MTApdD17dHlwZToiSWRlbnRpdHkifTtlbHNlIGlmKHRoaXMuX2xvb2thaGVhZCgwKT09PXgpdD10aGlzLmV4cHJlc3Npb24oZSk7ZWxzZSBpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1rKXQ9dGhpcy5leHByZXNzaW9uKGUpO2Vsc2V7aWYodGhpcy5fbG9va2FoZWFkKDApIT09Til7dmFyIG49dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkscj1uZXcgRXJyb3IoIlN5dGFueCBlcnJvciwgdW5leHBlY3RlZCB0b2tlbjogIituLnZhbHVlKyIoIituLnR5cGUrIikiKTt0aHJvdyByLm5hbWU9IlBhcnNlckVycm9yIixyfXRoaXMuX21hdGNoKE4pLHQ9dGhpcy5fcGFyc2VEb3RSSFMoZSl9cmV0dXJuIHR9LF9wYXJzZU11bHRpc2VsZWN0TGlzdDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXTt0aGlzLl9sb29rYWhlYWQoMCkhPT1kOyl7dmFyIHQ9dGhpcy5leHByZXNzaW9uKDApO2lmKGUucHVzaCh0KSx0aGlzLl9sb29rYWhlYWQoMCk9PT1mJiYodGhpcy5fbWF0Y2goZiksdGhpcy5fbG9va2FoZWFkKDApPT09ZCkpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHRva2VuIFJicmFja2V0Iil9cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJNdWx0aVNlbGVjdExpc3QiLGNoaWxkcmVuOmV9fSxfcGFyc2VNdWx0aXNlbGVjdEhhc2g6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxuLHI9W10sbz1bbCxwXTs7KXtpZihlPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLG8uaW5kZXhPZihlLnR5cGUpPDApdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RpbmcgYW4gaWRlbnRpZmllciB0b2tlbiwgZ290OiAiK2UudHlwZSk7aWYodD1lLnZhbHVlLHRoaXMuX2FkdmFuY2UoKSx0aGlzLl9tYXRjaChnKSxuPXt0eXBlOiJLZXlWYWx1ZVBhaXIiLG5hbWU6dCx2YWx1ZTp0aGlzLmV4cHJlc3Npb24oMCl9LHIucHVzaChuKSx0aGlzLl9sb29rYWhlYWQoMCk9PT1mKXRoaXMuX21hdGNoKGYpO2Vsc2UgaWYodGhpcy5fbG9va2FoZWFkKDApPT09bSl7dGhpcy5fbWF0Y2gobSk7YnJlYWt9fXJldHVybnt0eXBlOiJNdWx0aVNlbGVjdEhhc2giLGNoaWxkcmVuOnJ9fX0sSC5wcm90b3R5cGU9e3NlYXJjaDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnZpc2l0KGUsdCl9LHZpc2l0OmZ1bmN0aW9uKGUsaSl7dmFyIGEscyxjLHUsbCxwLGQsaCxmO3N3aXRjaChlLnR5cGUpe2Nhc2UiRmllbGQiOnJldHVybiBudWxsIT09aSYmbihpKT92b2lkIDA9PT0ocD1pW2UubmFtZV0pP251bGw6cDpudWxsO2Nhc2UiU3ViZXhwcmVzc2lvbiI6Zm9yKGM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLGY9MTtmPGUuY2hpbGRyZW4ubGVuZ3RoO2YrKylpZihudWxsPT09KGM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGMpKSlyZXR1cm4gbnVsbDtyZXR1cm4gYztjYXNlIkluZGV4RXhwcmVzc2lvbiI6cmV0dXJuIGQ9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLHRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxkKTtjYXNlIkluZGV4IjppZighdChpKSlyZXR1cm4gbnVsbDt2YXIgZz1lLnZhbHVlO3JldHVybiBnPDAmJihnPWkubGVuZ3RoK2cpLHZvaWQgMD09PShjPWlbZ10pJiYoYz1udWxsKSxjO2Nhc2UiU2xpY2UiOmlmKCF0KGkpKXJldHVybiBudWxsO3ZhciBtPWUuY2hpbGRyZW4uc2xpY2UoMCksdj10aGlzLmNvbXB1dGVTbGljZVBhcmFtcyhpLmxlbmd0aCxtKSxTPXZbMF0sQz12WzFdLEw9dlsyXTtpZihjPVtdLEw+MClmb3IoZj1TO2Y8QztmKz1MKWMucHVzaChpW2ZdKTtlbHNlIGZvcihmPVM7Zj5DO2YrPUwpYy5wdXNoKGlbZl0pO3JldHVybiBjO2Nhc2UiUHJvamVjdGlvbiI6dmFyIGs9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpO2lmKCF0KGspKXJldHVybiBudWxsO2ZvcihoPVtdLGY9MDtmPGsubGVuZ3RoO2YrKyludWxsIT09KHM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGtbZl0pKSYmaC5wdXNoKHMpO3JldHVybiBoO2Nhc2UiVmFsdWVQcm9qZWN0aW9uIjppZighbihrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkpcmV0dXJuIG51bGw7aD1bXTt2YXIgTj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspbi5wdXNoKGVbdFtyXV0pO3JldHVybiBufShrKTtmb3IoZj0wO2Y8Ti5sZW5ndGg7ZisrKW51bGwhPT0ocz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sTltmXSkpJiZoLnB1c2gocyk7cmV0dXJuIGg7Y2FzZSJGaWx0ZXJQcm9qZWN0aW9uIjppZighdChrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkpcmV0dXJuIG51bGw7dmFyIFA9W10sRD1bXTtmb3IoZj0wO2Y8ay5sZW5ndGg7ZisrKW8oYT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMl0sa1tmXSkpfHxQLnB1c2goa1tmXSk7Zm9yKHZhciB4PTA7eDxQLmxlbmd0aDt4KyspbnVsbCE9PShzPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxQW3hdKSkmJkQucHVzaChzKTtyZXR1cm4gRDtjYXNlIkNvbXBhcmF0b3IiOnN3aXRjaCh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSxsPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKSxlLm5hbWUpe2Nhc2UgSTpjPXIodSxsKTticmVhaztjYXNlIFI6Yz0hcih1LGwpO2JyZWFrO2Nhc2UgVDpjPXU+bDticmVhaztjYXNlIEE6Yz11Pj1sO2JyZWFrO2Nhc2UgdzpjPXU8bDticmVhaztjYXNlIF86Yz11PD1sO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbXBhcmF0b3I6ICIrZS5uYW1lKX1yZXR1cm4gYztjYXNlIE86dmFyIE09dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpO2lmKCF0KE0pKXJldHVybiBudWxsO3ZhciBVPVtdO2ZvcihmPTA7ZjxNLmxlbmd0aDtmKyspdChzPU1bZl0pP1UucHVzaC5hcHBseShVLHMpOlUucHVzaChzKTtyZXR1cm4gVTtjYXNlIklkZW50aXR5IjpyZXR1cm4gaTtjYXNlIk11bHRpU2VsZWN0TGlzdCI6aWYobnVsbD09PWkpcmV0dXJuIG51bGw7Zm9yKGg9W10sZj0wO2Y8ZS5jaGlsZHJlbi5sZW5ndGg7ZisrKWgucHVzaCh0aGlzLnZpc2l0KGUuY2hpbGRyZW5bZl0saSkpO3JldHVybiBoO2Nhc2UiTXVsdGlTZWxlY3RIYXNoIjppZihudWxsPT09aSlyZXR1cm4gbnVsbDt2YXIgRjtmb3IoaD17fSxmPTA7ZjxlLmNoaWxkcmVuLmxlbmd0aDtmKyspaFsoRj1lLmNoaWxkcmVuW2ZdKS5uYW1lXT10aGlzLnZpc2l0KEYudmFsdWUsaSk7cmV0dXJuIGg7Y2FzZSJPckV4cHJlc3Npb24iOnJldHVybiBvKGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKSYmKGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGkpKSxhO2Nhc2UiQW5kRXhwcmVzc2lvbiI6cmV0dXJuITA9PT1vKHU9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKT91OnRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKTtjYXNlIk5vdEV4cHJlc3Npb24iOnJldHVybiBvKHU9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKTtjYXNlIkxpdGVyYWwiOnJldHVybiBlLnZhbHVlO2Nhc2UgRTpyZXR1cm4gZD10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksdGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGQpO2Nhc2UgeTpyZXR1cm4gaTtjYXNlIkZ1bmN0aW9uIjp2YXIgaj1bXTtmb3IoZj0wO2Y8ZS5jaGlsZHJlbi5sZW5ndGg7ZisrKWoucHVzaCh0aGlzLnZpc2l0KGUuY2hpbGRyZW5bZl0saSkpO3JldHVybiB0aGlzLnJ1bnRpbWUuY2FsbEZ1bmN0aW9uKGUubmFtZSxqKTtjYXNlIkV4cHJlc3Npb25SZWZlcmVuY2UiOnZhciBxPWUuY2hpbGRyZW5bMF07cmV0dXJuIHEuam1lc3BhdGhUeXBlPWIscTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBub2RlIHR5cGU6ICIrZS50eXBlKX19LGNvbXB1dGVTbGljZVBhcmFtczpmdW5jdGlvbihlLHQpe3ZhciBuPXRbMF0scj10WzFdLG89dFsyXSxpPVtudWxsLG51bGwsbnVsbF07aWYobnVsbD09PW8pbz0xO2Vsc2UgaWYoMD09PW8pe3ZhciBhPW5ldyBFcnJvcigiSW52YWxpZCBzbGljZSwgc3RlcCBjYW5ub3QgYmUgMCIpO3Rocm93IGEubmFtZT0iUnVudGltZUVycm9yIixhfXZhciBzPW88MDtyZXR1cm4gbj1udWxsPT09bj9zP2UtMTowOnRoaXMuY2FwU2xpY2VSYW5nZShlLG4sbykscj1udWxsPT09cj9zPy0xOmU6dGhpcy5jYXBTbGljZVJhbmdlKGUscixvKSxpWzBdPW4saVsxXT1yLGlbMl09byxpfSxjYXBTbGljZVJhbmdlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdDwwPyh0Kz1lKTwwJiYodD1uPDA/LTE6MCk6dD49ZSYmKHQ9bjwwP2UtMTplKSx0fX0sei5wcm90b3R5cGU9e2NhbGxGdW5jdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZnVuY3Rpb25UYWJsZVtlXTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBmdW5jdGlvbjogIitlKyIoKSIpO3JldHVybiB0aGlzLl92YWxpZGF0ZUFyZ3MoZSx0LG4uX3NpZ25hdHVyZSksbi5fZnVuYy5jYWxsKHRoaXMsdCl9LF92YWxpZGF0ZUFyZ3M6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhO2lmKG5bbi5sZW5ndGgtMV0udmFyaWFkaWMpe2lmKHQubGVuZ3RoPG4ubGVuZ3RoKXRocm93IHI9MT09PW4ubGVuZ3RoPyIgYXJndW1lbnQiOiIgYXJndW1lbnRzIixuZXcgRXJyb3IoIkFyZ3VtZW50RXJyb3I6ICIrZSsiKCkgdGFrZXMgYXQgbGVhc3QiK24ubGVuZ3RoK3IrIiBidXQgcmVjZWl2ZWQgIit0Lmxlbmd0aCl9ZWxzZSBpZih0Lmxlbmd0aCE9PW4ubGVuZ3RoKXRocm93IHI9MT09PW4ubGVuZ3RoPyIgYXJndW1lbnQiOiIgYXJndW1lbnRzIixuZXcgRXJyb3IoIkFyZ3VtZW50RXJyb3I6ICIrZSsiKCkgdGFrZXMgIituLmxlbmd0aCtyKyIgYnV0IHJlY2VpdmVkICIrdC5sZW5ndGgpO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKXthPSExLG89bltzXS50eXBlcyxpPXRoaXMuX2dldFR5cGVOYW1lKHRbc10pO2Zvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKWlmKHRoaXMuX3R5cGVNYXRjaGVzKGksb1t1XSx0W3NdKSl7YT0hMDticmVha31pZighYSl7dmFyIGw9by5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBjW2VdfSkpLmpvaW4oIiwiKTt0aHJvdyBuZXcgRXJyb3IoIlR5cGVFcnJvcjogIitlKyIoKSBleHBlY3RlZCBhcmd1bWVudCAiKyhzKzEpKyIgdG8gYmUgdHlwZSAiK2wrIiBidXQgcmVjZWl2ZWQgdHlwZSAiK2NbaV0rIiBpbnN0ZWFkLiIpfX19LF90eXBlTWF0Y2hlczpmdW5jdGlvbihlLHQsbil7aWYoMT09PXQpcmV0dXJuITA7aWYoOSE9PXQmJjghPT10JiYzIT09dClyZXR1cm4gZT09PXQ7aWYoMz09PXQpcmV0dXJuIDM9PT1lO2lmKDM9PT1lKXt2YXIgcjs4PT09dD9yPWE6OT09PXQmJihyPXMpO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKWlmKCF0aGlzLl90eXBlTWF0Y2hlcyh0aGlzLl9nZXRUeXBlTmFtZShuW29dKSxyLG5bb10pKXJldHVybiExO3JldHVybiEwfX0sX2dldFR5cGVOYW1lOmZ1bmN0aW9uKGUpe3N3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe2Nhc2UiW29iamVjdCBTdHJpbmddIjpyZXR1cm4gcztjYXNlIltvYmplY3QgTnVtYmVyXSI6cmV0dXJuIGE7Y2FzZSJbb2JqZWN0IEFycmF5XSI6cmV0dXJuIDM7Y2FzZSJbb2JqZWN0IEJvb2xlYW5dIjpyZXR1cm4gNTtjYXNlIltvYmplY3QgTnVsbF0iOnJldHVybiA3O2Nhc2UiW29iamVjdCBPYmplY3RdIjpyZXR1cm4gZS5qbWVzcGF0aFR5cGU9PT1iPzY6NH19LF9mdW5jdGlvblN0YXJ0c1dpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lWzBdLmxhc3RJbmRleE9mKGVbMV0pfSxfZnVuY3Rpb25FbmRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXTtyZXR1cm4tMSE9PXQuaW5kZXhPZihuLHQubGVuZ3RoLW4ubGVuZ3RoKX0sX2Z1bmN0aW9uUmV2ZXJzZTpmdW5jdGlvbihlKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdKT09PXMpe2Zvcih2YXIgdD1lWzBdLG49IiIscj10Lmxlbmd0aC0xO3I+PTA7ci0tKW4rPXRbcl07cmV0dXJuIG59dmFyIG89ZVswXS5zbGljZSgwKTtyZXR1cm4gby5yZXZlcnNlKCksb30sX2Z1bmN0aW9uQWJzOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmFicyhlWzBdKX0sX2Z1bmN0aW9uQ2VpbDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5jZWlsKGVbMF0pfSxfZnVuY3Rpb25Bdmc6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1lWzBdLHI9MDtyPG4ubGVuZ3RoO3IrKyl0Kz1uW3JdO3JldHVybiB0L24ubGVuZ3RofSxfZnVuY3Rpb25Db250YWluczpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS5pbmRleE9mKGVbMV0pPj0wfSxfZnVuY3Rpb25GbG9vcjpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5mbG9vcihlWzBdKX0sX2Z1bmN0aW9uTGVuZ3RoOmZ1bmN0aW9uKGUpe3JldHVybiBuKGVbMF0pP09iamVjdC5rZXlzKGVbMF0pLmxlbmd0aDplWzBdLmxlbmd0aH0sX2Z1bmN0aW9uTWFwOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXRoaXMuX2ludGVycHJldGVyLHI9ZVswXSxvPWVbMV0saT0wO2k8by5sZW5ndGg7aSsrKXQucHVzaChuLnZpc2l0KHIsb1tpXSkpO3JldHVybiB0fSxfZnVuY3Rpb25NZXJnZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2Zvcih2YXIgbyBpbiByKXRbb109cltvXX1yZXR1cm4gdH0sX2Z1bmN0aW9uTWF4OmZ1bmN0aW9uKGUpe2lmKGVbMF0ubGVuZ3RoPjApe2lmKHRoaXMuX2dldFR5cGVOYW1lKGVbMF1bMF0pPT09YSlyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxlWzBdKTtmb3IodmFyIHQ9ZVswXSxuPXRbMF0scj0xO3I8dC5sZW5ndGg7cisrKW4ubG9jYWxlQ29tcGFyZSh0W3JdKTwwJiYobj10W3JdKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH0sX2Z1bmN0aW9uTWluOmZ1bmN0aW9uKGUpe2lmKGVbMF0ubGVuZ3RoPjApe2lmKHRoaXMuX2dldFR5cGVOYW1lKGVbMF1bMF0pPT09YSlyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxlWzBdKTtmb3IodmFyIHQ9ZVswXSxuPXRbMF0scj0xO3I8dC5sZW5ndGg7cisrKXRbcl0ubG9jYWxlQ29tcGFyZShuKTwwJiYobj10W3JdKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH0sX2Z1bmN0aW9uU3VtOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZVswXSxyPTA7cjxuLmxlbmd0aDtyKyspdCs9bltyXTtyZXR1cm4gdH0sX2Z1bmN0aW9uVHlwZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5fZ2V0VHlwZU5hbWUoZVswXSkpe2Nhc2UgYTpyZXR1cm4ibnVtYmVyIjtjYXNlIHM6cmV0dXJuInN0cmluZyI7Y2FzZSAzOnJldHVybiJhcnJheSI7Y2FzZSA0OnJldHVybiJvYmplY3QiO2Nhc2UgNTpyZXR1cm4iYm9vbGVhbiI7Y2FzZSA2OnJldHVybiJleHByZWYiO2Nhc2UgNzpyZXR1cm4ibnVsbCJ9fSxfZnVuY3Rpb25LZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlWzBdKX0sX2Z1bmN0aW9uVmFsdWVzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lWzBdLG49T2JqZWN0LmtleXModCkscj1bXSxvPTA7bzxuLmxlbmd0aDtvKyspci5wdXNoKHRbbltvXV0pO3JldHVybiByfSxfZnVuY3Rpb25Kb2luOmZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07cmV0dXJuIGVbMV0uam9pbih0KX0sX2Z1bmN0aW9uVG9BcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gMz09PXRoaXMuX2dldFR5cGVOYW1lKGVbMF0pP2VbMF06W2VbMF1dfSxfZnVuY3Rpb25Ub1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk9PT1zP2VbMF06SlNPTi5zdHJpbmdpZnkoZVswXSl9LF9mdW5jdGlvblRvTnVtYmVyOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk7cmV0dXJuIG49PT1hP2VbMF06biE9PXN8fCh0PStlWzBdLGlzTmFOKHQpKT9udWxsOnR9LF9mdW5jdGlvbk5vdE51bGw6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoNyE9PXRoaXMuX2dldFR5cGVOYW1lKGVbdF0pKXJldHVybiBlW3RdO3JldHVybiBudWxsfSxfZnVuY3Rpb25Tb3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0uc2xpY2UoMCk7cmV0dXJuIHQuc29ydCgpLHR9LF9mdW5jdGlvblNvcnRCeTpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLnNsaWNlKDApO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdDt2YXIgbj10aGlzLl9pbnRlcnByZXRlcixyPWVbMV0sbz10aGlzLl9nZXRUeXBlTmFtZShuLnZpc2l0KHIsdFswXSkpO2lmKFthLHNdLmluZGV4T2Yobyk8MCl0aHJvdyBuZXcgRXJyb3IoIlR5cGVFcnJvciIpO2Zvcih2YXIgaT10aGlzLGM9W10sdT0wO3U8dC5sZW5ndGg7dSsrKWMucHVzaChbdSx0W3VdXSk7Yy5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciBhPW4udmlzaXQocixlWzFdKSxzPW4udmlzaXQocix0WzFdKTtpZihpLl9nZXRUeXBlTmFtZShhKSE9PW8pdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6IGV4cGVjdGVkICIrbysiLCByZWNlaXZlZCAiK2kuX2dldFR5cGVOYW1lKGEpKTtpZihpLl9nZXRUeXBlTmFtZShzKSE9PW8pdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6IGV4cGVjdGVkICIrbysiLCByZWNlaXZlZCAiK2kuX2dldFR5cGVOYW1lKHMpKTtyZXR1cm4gYT5zPzE6YTxzPy0xOmVbMF0tdFswXX0pKTtmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl0W2xdPWNbbF1bMV07cmV0dXJuIHR9LF9mdW5jdGlvbk1heEJ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZVsxXSxvPWVbMF0saT10aGlzLmNyZWF0ZUtleUZ1bmN0aW9uKHIsW2Esc10pLGM9LTEvMCx1PTA7dTxvLmxlbmd0aDt1KyspKG49aShvW3VdKSk+YyYmKGM9bix0PW9bdV0pO3JldHVybiB0fSxfZnVuY3Rpb25NaW5CeTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWVbMV0sbz1lWzBdLGk9dGhpcy5jcmVhdGVLZXlGdW5jdGlvbihyLFthLHNdKSxjPTEvMCx1PTA7dTxvLmxlbmd0aDt1KyspKG49aShvW3VdKSk8YyYmKGM9bix0PW9bdV0pO3JldHVybiB0fSxjcmVhdGVLZXlGdW5jdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10aGlzLl9pbnRlcnByZXRlcjtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIGk9ci52aXNpdChlLG8pO2lmKHQuaW5kZXhPZihuLl9nZXRUeXBlTmFtZShpKSk8MCl7dmFyIGE9IlR5cGVFcnJvcjogZXhwZWN0ZWQgb25lIG9mICIrdCsiLCByZWNlaXZlZCAiK24uX2dldFR5cGVOYW1lKGkpO3Rocm93IG5ldyBFcnJvcihhKX1yZXR1cm4gaX19fSxlLnRva2VuaXplPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgRykudG9rZW5pemUoZSl9LGUuY29tcGlsZT1mdW5jdGlvbihlKXtyZXR1cm4obmV3IFcpLnBhcnNlKGUpfSxlLnNlYXJjaD1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBXLHI9bmV3IHosbz1uZXcgSChyKTtyLl9pbnRlcnByZXRlcj1vO3ZhciBpPW4ucGFyc2UodCk7cmV0dXJuIG8uc2VhcmNoKGksZSl9LGUuc3RyaWN0RGVlcEVxdWFsPXJ9KHZvaWQgMD09PW4/dGhpcy5qbWVzcGF0aD17fTpuKX0se31dLDkxOltmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gcygpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gYyhlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09YXx8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtyPSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6YX1jYXRjaChlKXtyPWF9dHJ5e289ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6c31jYXRjaChlKXtvPXN9fSgpO3ZhciB1LGw9W10scD0hMSxkPS0xO2Z1bmN0aW9uIGgoKXtwJiZ1JiYocD0hMSx1Lmxlbmd0aD9sPXUuY29uY2F0KGwpOmQ9LTEsbC5sZW5ndGgmJmYoKSl9ZnVuY3Rpb24gZigpe2lmKCFwKXt2YXIgZT1jKGgpO3A9ITA7Zm9yKHZhciB0PWwubGVuZ3RoO3Q7KXtmb3IodT1sLGw9W107KytkPHQ7KXUmJnVbZF0ucnVuKCk7ZD0tMSx0PWwubGVuZ3RofXU9bnVsbCxwPSExLGZ1bmN0aW9uKGUpe2lmKG89PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobz09PXN8fCFvKSYmY2xlYXJUaW1lb3V0KXJldHVybiBvPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gby5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG8uY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBnKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gbSgpe31pLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07bC5wdXNoKG5ldyBnKGUsdCkpLDEhPT1sLmxlbmd0aHx8cHx8YyhmKX0sZy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saS50aXRsZT0iYnJvd3NlciIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249IiIsaS52ZXJzaW9ucz17fSxpLm9uPW0saS5hZGRMaXN0ZW5lcj1tLGkub25jZT1tLGkub2ZmPW0saS5yZW1vdmVMaXN0ZW5lcj1tLGkucmVtb3ZlQWxsTGlzdGVuZXJzPW0saS5lbWl0PW0saS5wcmVwZW5kTGlzdGVuZXI9bSxpLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxpLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGkuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDkyOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpeyFmdW5jdGlvbihhKXt2YXIgcz0ib2JqZWN0Ij09byhpKSYmaSYmIWkubm9kZVR5cGUmJmksYz0ib2JqZWN0Ij09byh0KSYmdCYmIXQubm9kZVR5cGUmJnQsdT0ib2JqZWN0Ij09byhlKSYmZTt1Lmdsb2JhbCE9PXUmJnUud2luZG93IT09dSYmdS5zZWxmIT09dXx8KGE9dSk7dmFyIGwscCxkPTIxNDc0ODM2NDcsaD0zNixmPS9eeG4tLS8sZz0vW15ceDIwLVx4N0VdLyxtPS9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZyx2PXtvdmVyZmxvdzoiT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MiLCJub3QtYmFzaWMiOiJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpIiwiaW52YWxpZC1pbnB1dCI6IkludmFsaWQgaW5wdXQifSx5PU1hdGguZmxvb3IsYj1TdHJpbmcuZnJvbUNoYXJDb2RlO2Z1bmN0aW9uIEUoZSl7dGhyb3cgbmV3IFJhbmdlRXJyb3IodltlXSl9ZnVuY3Rpb24gUyhlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPVtdO24tLTspcltuXT10KGVbbl0pO3JldHVybiByfWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj1lLnNwbGl0KCJAIikscj0iIjtyZXR1cm4gbi5sZW5ndGg+MSYmKHI9blswXSsiQCIsZT1uWzFdKSxyK1MoKGU9ZS5yZXBsYWNlKG0sIi4iKSkuc3BsaXQoIi4iKSx0KS5qb2luKCIuIil9ZnVuY3Rpb24gSShlKXtmb3IodmFyIHQsbixyPVtdLG89MCxpPWUubGVuZ3RoO288aTspKHQ9ZS5jaGFyQ29kZUF0KG8rKykpPj01NTI5NiYmdDw9NTYzMTkmJm88aT81NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChvKyspKSk/ci5wdXNoKCgoMTAyMyZ0KTw8MTApKygxMDIzJm4pKzY1NTM2KTooci5wdXNoKHQpLG8tLSk6ci5wdXNoKHQpO3JldHVybiByfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIFMoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9IiI7cmV0dXJuIGU+NjU1MzUmJih0Kz1iKChlLT02NTUzNik+Pj4xMCYxMDIzfDU1Mjk2KSxlPTU2MzIwfDEwMjMmZSksdCs9YihlKX0pKS5qb2luKCIiKX1mdW5jdGlvbiB3KGUsdCl7cmV0dXJuIGUrMjIrNzUqKGU8MjYpLSgoMCE9dCk8PDUpfWZ1bmN0aW9uIEEoZSx0LG4pe3ZhciByPTA7Zm9yKGU9bj95KGUvNzAwKTplPj4xLGUrPXkoZS90KTtlPjQ1NTtyKz1oKWU9eShlLzM1KTtyZXR1cm4geShyKzM2KmUvKGUrMzgpKX1mdW5jdGlvbiBfKGUpe3ZhciB0LG4scixvLGksYSxzLGMsdSxsLHAsZj1bXSxnPWUubGVuZ3RoLG09MCx2PTEyOCxiPTcyO2Zvcigobj1lLmxhc3RJbmRleE9mKCItIikpPDAmJihuPTApLHI9MDtyPG47KytyKWUuY2hhckNvZGVBdChyKT49MTI4JiZFKCJub3QtYmFzaWMiKSxmLnB1c2goZS5jaGFyQ29kZUF0KHIpKTtmb3Iobz1uPjA/bisxOjA7bzxnOyl7Zm9yKGk9bSxhPTEscz1oO28+PWcmJkUoImludmFsaWQtaW5wdXQiKSwoKGM9KHA9ZS5jaGFyQ29kZUF0KG8rKykpLTQ4PDEwP3AtMjI6cC02NTwyNj9wLTY1OnAtOTc8MjY/cC05NzpoKT49aHx8Yz55KChkLW0pL2EpKSYmRSgib3ZlcmZsb3ciKSxtKz1jKmEsIShjPCh1PXM8PWI/MTpzPj1iKzI2PzI2OnMtYikpO3MrPWgpYT55KGQvKGw9aC11KSkmJkUoIm92ZXJmbG93IiksYSo9bDtiPUEobS1pLHQ9Zi5sZW5ndGgrMSwwPT1pKSx5KG0vdCk+ZC12JiZFKCJvdmVyZmxvdyIpLHYrPXkobS90KSxtJT10LGYuc3BsaWNlKG0rKywwLHYpfXJldHVybiBUKGYpfWZ1bmN0aW9uIFIoZSl7dmFyIHQsbixyLG8saSxhLHMsYyx1LGwscCxmLGcsbSx2LFM9W107Zm9yKGY9KGU9SShlKSkubGVuZ3RoLHQ9MTI4LG49MCxpPTcyLGE9MDthPGY7KythKShwPWVbYV0pPDEyOCYmUy5wdXNoKGIocCkpO2ZvcihyPW89Uy5sZW5ndGgsbyYmUy5wdXNoKCItIik7cjxmOyl7Zm9yKHM9ZCxhPTA7YTxmOysrYSkocD1lW2FdKT49dCYmcDxzJiYocz1wKTtmb3Iocy10PnkoKGQtbikvKGc9cisxKSkmJkUoIm92ZXJmbG93Iiksbis9KHMtdCkqZyx0PXMsYT0wO2E8ZjsrK2EpaWYoKHA9ZVthXSk8dCYmKytuPmQmJkUoIm92ZXJmbG93IikscD09dCl7Zm9yKGM9bix1PWg7IShjPChsPXU8PWk/MTp1Pj1pKzI2PzI2OnUtaSkpO3UrPWgpdj1jLWwsbT1oLWwsUy5wdXNoKGIodyhsK3YlbSwwKSkpLGM9eSh2L20pO1MucHVzaChiKHcoYywwKSkpLGk9QShuLGcscj09byksbj0wLCsrcn0rK24sKyt0fXJldHVybiBTLmpvaW4oIiIpfWlmKGw9e3ZlcnNpb246IjEuNC4xIix1Y3MyOntkZWNvZGU6SSxlbmNvZGU6VH0sZGVjb2RlOl8sZW5jb2RlOlIsdG9BU0NJSTpmdW5jdGlvbihlKXtyZXR1cm4gQyhlLChmdW5jdGlvbihlKXtyZXR1cm4gZy50ZXN0KGUpPyJ4bi0tIitSKGUpOmV9KSl9LHRvVW5pY29kZTpmdW5jdGlvbihlKXtyZXR1cm4gQyhlLChmdW5jdGlvbihlKXtyZXR1cm4gZi50ZXN0KGUpP18oZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKTplfSkpfX0sIm9iamVjdCI9PW8obi5hbWRPKSYmbi5hbWRPKXZvaWQgMD09PShyPWZ1bmN0aW9uKCl7cmV0dXJuIGx9LmNhbGwoaSxuLGksdCkpfHwodC5leHBvcnRzPXIpO2Vsc2UgaWYocyYmYylpZih0LmV4cG9ydHM9PXMpYy5leHBvcnRzPWw7ZWxzZSBmb3IocCBpbiBsKWwuaGFzT3duUHJvcGVydHkocCkmJihzW3BdPWxbcF0pO2Vsc2UgYS5wdW55Y29kZT1sfSh0aGlzKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdm9pZCAwIT09bi5nP24uZzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sOTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7dD10fHwiJiIsbj1ufHwiPSI7dmFyIGE9e307aWYoInN0cmluZyIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIGE7dmFyIHM9L1wrL2c7ZT1lLnNwbGl0KHQpO3ZhciBjPTFlMztpJiYibnVtYmVyIj09dHlwZW9mIGkubWF4S2V5cyYmKGM9aS5tYXhLZXlzKTt2YXIgdT1lLmxlbmd0aDtjPjAmJnU+YyYmKHU9Yyk7Zm9yKHZhciBsPTA7bDx1OysrbCl7dmFyIHAsZCxoLGYsZz1lW2xdLnJlcGxhY2UocywiJTIwIiksbT1nLmluZGV4T2Yobik7bT49MD8ocD1nLnN1YnN0cigwLG0pLGQ9Zy5zdWJzdHIobSsxKSk6KHA9ZyxkPSIiKSxoPWRlY29kZVVSSUNvbXBvbmVudChwKSxmPWRlY29kZVVSSUNvbXBvbmVudChkKSxyKGEsaCk/byhhW2hdKT9hW2hdLnB1c2goZik6YVtoXT1bYVtoXSxmXTphW2hdPWZ9cmV0dXJuIGF9O3ZhciBvPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9fSx7fV0sOTQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24oZSl7c3dpdGNoKG8oZSkpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gZTtjYXNlImJvb2xlYW4iOnJldHVybiBlPyJ0cnVlIjoiZmFsc2UiO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoZSk/ZToiIjtkZWZhdWx0OnJldHVybiIifX07dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGMpe3JldHVybiB0PXR8fCImIixuPW58fCI9IixudWxsPT09ZSYmKGU9dm9pZCAwKSwib2JqZWN0Ij09PW8oZSk/YShzKGUpLChmdW5jdGlvbihvKXt2YXIgcz1lbmNvZGVVUklDb21wb25lbnQocihvKSkrbjtyZXR1cm4gaShlW29dKT9hKGVbb10sKGZ1bmN0aW9uKGUpe3JldHVybiBzK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKX0pKS5qb2luKHQpOnMrZW5jb2RlVVJJQ29tcG9uZW50KHIoZVtvXSkpfSkpLmpvaW4odCk6Yz9lbmNvZGVVUklDb21wb25lbnQocihjKSkrbitlbmNvZGVVUklDb21wb25lbnQocihlKSk6IiJ9O3ZhciBpPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9O2Z1bmN0aW9uIGEoZSx0KXtpZihlLm1hcClyZXR1cm4gZS5tYXAodCk7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyluLnB1c2godChlW3JdLHIpKTtyZXR1cm4gbn12YXIgcz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQucHVzaChuKTtyZXR1cm4gdH19LHt9XSw5NTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmRlY29kZT1uLnBhcnNlPWUoIi4vZGVjb2RlIiksbi5lbmNvZGU9bi5zdHJpbmdpZnk9ZSgiLi9lbmNvZGUiKX0seyIuL2RlY29kZSI6OTMsIi4vZW5jb2RlIjo5NH1dLDk2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLG8pe3Q9dHx8IiYiLG49bnx8Ij0iO3ZhciBpPXt9O2lmKCJzdHJpbmciIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiBpO3ZhciBhPS9cKy9nO2U9ZS5zcGxpdCh0KTt2YXIgcz0xZTM7byYmIm51bWJlciI9PXR5cGVvZiBvLm1heEtleXMmJihzPW8ubWF4S2V5cyk7dmFyIGM9ZS5sZW5ndGg7cz4wJiZjPnMmJihjPXMpO2Zvcih2YXIgdT0wO3U8YzsrK3Upe3ZhciBsLHAsZCxoLGY9ZVt1XS5yZXBsYWNlKGEsIiUyMCIpLGc9Zi5pbmRleE9mKG4pO2c+PTA/KGw9Zi5zdWJzdHIoMCxnKSxwPWYuc3Vic3RyKGcrMSkpOihsPWYscD0iIiksZD1kZWNvZGVVUklDb21wb25lbnQobCksaD1kZWNvZGVVUklDb21wb25lbnQocCkscihpLGQpP0FycmF5LmlzQXJyYXkoaVtkXSk/aVtkXS5wdXNoKGgpOmlbZF09W2lbZF0saF06aVtkXT1ofXJldHVybiBpfX0se31dLDk3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWZ1bmN0aW9uKGUpe3N3aXRjaChvKGUpKXtjYXNlInN0cmluZyI6cmV0dXJuIGU7Y2FzZSJib29sZWFuIjpyZXR1cm4gZT8idHJ1ZSI6ImZhbHNlIjtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKGUpP2U6IiI7ZGVmYXVsdDpyZXR1cm4iIn19O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdD10fHwiJiIsbj1ufHwiPSIsbnVsbD09PWUmJihlPXZvaWQgMCksIm9iamVjdCI9PT1vKGUpP09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24obyl7dmFyIGk9ZW5jb2RlVVJJQ29tcG9uZW50KHIobykpK247cmV0dXJuIEFycmF5LmlzQXJyYXkoZVtvXSk/ZVtvXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBpK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKX0pKS5qb2luKHQpOmkrZW5jb2RlVVJJQ29tcG9uZW50KHIoZVtvXSkpfSkpLmpvaW4odCk6aT9lbmNvZGVVUklDb21wb25lbnQocihpKSkrbitlbmNvZGVVUklDb21wb25lbnQocihlKSk6IiJ9fSx7fV0sOTg6W2Z1bmN0aW9uKGUsdCxuKXthcmd1bWVudHNbNF1bOTVdWzBdLmFwcGx5KG4sYXJndW1lbnRzKX0seyIuL2RlY29kZSI6OTYsIi4vZW5jb2RlIjo5NyxkdXA6OTV9XSw5OTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0LHIpeyhmdW5jdGlvbigpe3ZhciBvPWUoInByb2Nlc3MvYnJvd3Nlci5qcyIpLm5leHRUaWNrLGk9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHM9e30sYz0wO2Z1bmN0aW9uIHUoZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH1uLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoaS5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sbi5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShpLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LG4uY2xlYXJUaW1lb3V0PW4uY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtlLmNsb3NlKCl9LHUucHJvdG90eXBlLnVucmVmPXUucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sdS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sbi5lbnJvbGw9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9dH0sbi51bmVucm9sbD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9LTF9LG4uX3VucmVmQWN0aXZlPW4uYWN0aXZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKTt2YXIgdD1lLl9pZGxlVGltZW91dDt0Pj0wJiYoZS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX29uVGltZW91dCYmZS5fb25UaW1lb3V0KCl9KSx0KSl9LG4uc2V0SW1tZWRpYXRlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9YysrLHI9IShhcmd1bWVudHMubGVuZ3RoPDIpJiZhLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBzW3RdPSEwLG8oKGZ1bmN0aW9uKCl7c1t0XSYmKHI/ZS5hcHBseShudWxsLHIpOmUuY2FsbChudWxsKSxuLmNsZWFySW1tZWRpYXRlKHQpKX0pKSx0fSxuLmNsZWFySW1tZWRpYXRlPSJmdW5jdGlvbiI9PXR5cGVvZiByP3I6ZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV19fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUsZSgidGltZXJzIikuY2xlYXJJbW1lZGlhdGUpfSx7InByb2Nlc3MvYnJvd3Nlci5qcyI6OTEsdGltZXJzOjk5fV0sMTAwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgicHVueWNvZGUiKTtmdW5jdGlvbiBpKCl7dGhpcy5wcm90b2NvbD1udWxsLHRoaXMuc2xhc2hlcz1udWxsLHRoaXMuYXV0aD1udWxsLHRoaXMuaG9zdD1udWxsLHRoaXMucG9ydD1udWxsLHRoaXMuaG9zdG5hbWU9bnVsbCx0aGlzLmhhc2g9bnVsbCx0aGlzLnNlYXJjaD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLnBhdGhuYW1lPW51bGwsdGhpcy5wYXRoPW51bGwsdGhpcy5ocmVmPW51bGx9bi5wYXJzZT15LG4ucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3JldHVybiB5KGUsITEsITApLnJlc29sdmUodCl9LG4ucmVzb2x2ZU9iamVjdD1mdW5jdGlvbihlLHQpe3JldHVybiBlP3koZSwhMSwhMCkucmVzb2x2ZU9iamVjdCh0KTp0fSxuLmZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gYihlKSYmKGU9eShlKSksZSBpbnN0YW5jZW9mIGk/ZS5mb3JtYXQoKTppLnByb3RvdHlwZS5mb3JtYXQuY2FsbChlKX0sbi5Vcmw9aTt2YXIgYT0vXihbYS16MC05ListXSs6KS9pLHM9LzpbMC05XSokLyxjPVsieyIsIn0iLCJ8IiwiXFwiLCJeIiwiYCJdLmNvbmNhdChbIjwiLCI+IiwnIicsImAiLCIgIiwiXHIiLCJcbiIsIlx0Il0pLHU9WyInIl0uY29uY2F0KGMpLGw9WyIlIiwiLyIsIj8iLCI7IiwiIyJdLmNvbmNhdCh1KSxwPVsiLyIsIj8iLCIjIl0sZD0vXlthLXowLTlBLVpfLV17MCw2M30kLyxoPS9eKFthLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLGY9e2phdmFzY3JpcHQ6ITAsImphdmFzY3JpcHQ6IjohMH0sZz17amF2YXNjcmlwdDohMCwiamF2YXNjcmlwdDoiOiEwfSxtPXtodHRwOiEwLGh0dHBzOiEwLGZ0cDohMCxnb3BoZXI6ITAsZmlsZTohMCwiaHR0cDoiOiEwLCJodHRwczoiOiEwLCJmdHA6IjohMCwiZ29waGVyOiI6ITAsImZpbGU6IjohMH0sdj1lKCJxdWVyeXN0cmluZyIpO2Z1bmN0aW9uIHkoZSx0LG4pe2lmKGUmJkUoZSkmJmUgaW5zdGFuY2VvZiBpKXJldHVybiBlO3ZhciByPW5ldyBpO3JldHVybiByLnBhcnNlKGUsdCxuKSxyfWZ1bmN0aW9uIGIoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIm9iamVjdCI9PT1vKGUpJiZudWxsIT09ZX1mdW5jdGlvbiBTKGUpe3JldHVybiBudWxsPT09ZX1pLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQsbil7aWYoIWIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCAiK28oZSkpO3ZhciBpPWU7aT1pLnRyaW0oKTt2YXIgcz1hLmV4ZWMoaSk7aWYocyl7dmFyIGM9KHM9c1swXSkudG9Mb3dlckNhc2UoKTt0aGlzLnByb3RvY29sPWMsaT1pLnN1YnN0cihzLmxlbmd0aCl9aWYobnx8c3x8aS5tYXRjaCgvXlwvXC9bXkBcL10rQFteQFwvXSsvKSl7dmFyIHk9Ii8vIj09PWkuc3Vic3RyKDAsMik7IXl8fHMmJmdbc118fChpPWkuc3Vic3RyKDIpLHRoaXMuc2xhc2hlcz0hMCl9aWYoIWdbc10mJih5fHxzJiYhbVtzXSkpe2Zvcih2YXIgRSxTLEM9LTEsST0wO0k8cC5sZW5ndGg7SSsrKS0xIT09KFQ9aS5pbmRleE9mKHBbSV0pKSYmKC0xPT09Q3x8VDxDKSYmKEM9VCk7Zm9yKC0xIT09KFM9LTE9PT1DP2kubGFzdEluZGV4T2YoIkAiKTppLmxhc3RJbmRleE9mKCJAIixDKSkmJihFPWkuc2xpY2UoMCxTKSxpPWkuc2xpY2UoUysxKSx0aGlzLmF1dGg9ZGVjb2RlVVJJQ29tcG9uZW50KEUpKSxDPS0xLEk9MDtJPGwubGVuZ3RoO0krKyl7dmFyIFQ7LTEhPT0oVD1pLmluZGV4T2YobFtJXSkpJiYoLTE9PT1DfHxUPEMpJiYoQz1UKX0tMT09PUMmJihDPWkubGVuZ3RoKSx0aGlzLmhvc3Q9aS5zbGljZSgwLEMpLGk9aS5zbGljZShDKSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8IiI7dmFyIHc9IlsiPT09dGhpcy5ob3N0bmFtZVswXSYmIl0iPT09dGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aC0xXTtpZighdylmb3IodmFyIEE9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXC4vKSxfPShJPTAsQS5sZW5ndGgpO0k8XztJKyspe3ZhciBSPUFbSV07aWYoUiYmIVIubWF0Y2goZCkpe2Zvcih2YXIgTz0iIixMPTAsaz1SLmxlbmd0aDtMPGs7TCsrKVIuY2hhckNvZGVBdChMKT4xMjc/Tys9IngiOk8rPVJbTF07aWYoIU8ubWF0Y2goZCkpe3ZhciBOPUEuc2xpY2UoMCxJKSxQPUEuc2xpY2UoSSsxKSxEPVIubWF0Y2goaCk7RCYmKE4ucHVzaChEWzFdKSxQLnVuc2hpZnQoRFsyXSkpLFAubGVuZ3RoJiYoaT0iLyIrUC5qb2luKCIuIikraSksdGhpcy5ob3N0bmFtZT1OLmpvaW4oIi4iKTticmVha319fWlmKHRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPSIiOnRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLCF3KXt2YXIgeD10aGlzLmhvc3RuYW1lLnNwbGl0KCIuIiksTT1bXTtmb3IoST0wO0k8eC5sZW5ndGg7KytJKXt2YXIgVT14W0ldO00ucHVzaChVLm1hdGNoKC9bXkEtWmEtejAtOV8tXS8pPyJ4bi0tIityLmVuY29kZShVKTpVKX10aGlzLmhvc3RuYW1lPU0uam9pbigiLiIpfXZhciBGPXRoaXMucG9ydD8iOiIrdGhpcy5wb3J0OiIiLGo9dGhpcy5ob3N0bmFtZXx8IiI7dGhpcy5ob3N0PWorRix0aGlzLmhyZWYrPXRoaXMuaG9zdCx3JiYodGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnN1YnN0cigxLHRoaXMuaG9zdG5hbWUubGVuZ3RoLTIpLCIvIiE9PWlbMF0mJihpPSIvIitpKSl9aWYoIWZbY10pZm9yKEk9MCxfPXUubGVuZ3RoO0k8XztJKyspe3ZhciBxPXVbSV0sQj1lbmNvZGVVUklDb21wb25lbnQocSk7Qj09PXEmJihCPWVzY2FwZShxKSksaT1pLnNwbGl0KHEpLmpvaW4oQil9dmFyIEc9aS5pbmRleE9mKCIjIik7LTEhPT1HJiYodGhpcy5oYXNoPWkuc3Vic3RyKEcpLGk9aS5zbGljZSgwLEcpKTt2YXIgVj1pLmluZGV4T2YoIj8iKTtyZXR1cm4tMSE9PVY/KHRoaXMuc2VhcmNoPWkuc3Vic3RyKFYpLHRoaXMucXVlcnk9aS5zdWJzdHIoVisxKSx0JiYodGhpcy5xdWVyeT12LnBhcnNlKHRoaXMucXVlcnkpKSxpPWkuc2xpY2UoMCxWKSk6dCYmKHRoaXMuc2VhcmNoPSIiLHRoaXMucXVlcnk9e30pLGkmJih0aGlzLnBhdGhuYW1lPWkpLG1bY10mJnRoaXMuaG9zdG5hbWUmJiF0aGlzLnBhdGhuYW1lJiYodGhpcy5wYXRobmFtZT0iLyIpLCh0aGlzLnBhdGhuYW1lfHx0aGlzLnNlYXJjaCkmJihGPXRoaXMucGF0aG5hbWV8fCIiLFU9dGhpcy5zZWFyY2h8fCIiLHRoaXMucGF0aD1GK1UpLHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LGkucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYXV0aHx8IiI7ZSYmKGU9KGU9ZW5jb2RlVVJJQ29tcG9uZW50KGUpKS5yZXBsYWNlKC8lM0EvaSwiOiIpLGUrPSJAIik7dmFyIHQ9dGhpcy5wcm90b2NvbHx8IiIsbj10aGlzLnBhdGhuYW1lfHwiIixyPXRoaXMuaGFzaHx8IiIsbz0hMSxpPSIiO3RoaXMuaG9zdD9vPWUrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihvPWUrKC0xPT09dGhpcy5ob3N0bmFtZS5pbmRleE9mKCI6Iik/dGhpcy5ob3N0bmFtZToiWyIrdGhpcy5ob3N0bmFtZSsiXSIpLHRoaXMucG9ydCYmKG8rPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnF1ZXJ5JiZFKHRoaXMucXVlcnkpJiZPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgmJihpPXYuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgYT10aGlzLnNlYXJjaHx8aSYmIj8iK2l8fCIiO3JldHVybiB0JiYiOiIhPT10LnN1YnN0cigtMSkmJih0Kz0iOiIpLHRoaXMuc2xhc2hlc3x8KCF0fHxtW3RdKSYmITEhPT1vPyhvPSIvLyIrKG98fCIiKSxuJiYiLyIhPT1uLmNoYXJBdCgwKSYmKG49Ii8iK24pKTpvfHwobz0iIiksciYmIiMiIT09ci5jaGFyQXQoMCkmJihyPSIjIityKSxhJiYiPyIhPT1hLmNoYXJBdCgwKSYmKGE9Ij8iK2EpLHQrbysobj1uLnJlcGxhY2UoL1s/I10vZywoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pKSkrKGE9YS5yZXBsYWNlKCIjIiwiJTIzIikpK3J9LGkucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh5KGUsITEsITApKS5mb3JtYXQoKX0saS5wcm90b3R5cGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbihlKXtpZihiKGUpKXt2YXIgdD1uZXcgaTt0LnBhcnNlKGUsITEsITApLGU9dH12YXIgbj1uZXcgaTtpZihPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPXRoaXNbZV19KSx0aGlzKSxuLmhhc2g9ZS5oYXNoLCIiPT09ZS5ocmVmKXJldHVybiBuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKGUuc2xhc2hlcyYmIWUucHJvdG9jb2wpcmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJwcm90b2NvbCIhPT10JiYoblt0XT1lW3RdKX0pKSxtW24ucHJvdG9jb2xdJiZuLmhvc3RuYW1lJiYhbi5wYXRobmFtZSYmKG4ucGF0aD1uLnBhdGhuYW1lPSIvIiksbi5ocmVmPW4uZm9ybWF0KCksbjtpZihlLnByb3RvY29sJiZlLnByb3RvY29sIT09bi5wcm90b2NvbCl7aWYoIW1bZS5wcm90b2NvbF0pcmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ZVt0XX0pKSxuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKG4ucHJvdG9jb2w9ZS5wcm90b2NvbCxlLmhvc3R8fGdbZS5wcm90b2NvbF0pbi5wYXRobmFtZT1lLnBhdGhuYW1lO2Vsc2V7Zm9yKHZhciByPShlLnBhdGhuYW1lfHwiIikuc3BsaXQoIi8iKTtyLmxlbmd0aCYmIShlLmhvc3Q9ci5zaGlmdCgpKTspO2UuaG9zdHx8KGUuaG9zdD0iIiksZS5ob3N0bmFtZXx8KGUuaG9zdG5hbWU9IiIpLCIiIT09clswXSYmci51bnNoaWZ0KCIiKSxyLmxlbmd0aDwyJiZyLnVuc2hpZnQoIiIpLG4ucGF0aG5hbWU9ci5qb2luKCIvIil9aWYobi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LG4uaG9zdD1lLmhvc3R8fCIiLG4uYXV0aD1lLmF1dGgsbi5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3Qsbi5wb3J0PWUucG9ydCxuLnBhdGhuYW1lfHxuLnNlYXJjaCl7dmFyIG89bi5wYXRobmFtZXx8IiIsYT1uLnNlYXJjaHx8IiI7bi5wYXRoPW8rYX1yZXR1cm4gbi5zbGFzaGVzPW4uc2xhc2hlc3x8ZS5zbGFzaGVzLG4uaHJlZj1uLmZvcm1hdCgpLG59dmFyIHM9bi5wYXRobmFtZSYmIi8iPT09bi5wYXRobmFtZS5jaGFyQXQoMCksYz1lLmhvc3R8fGUucGF0aG5hbWUmJiIvIj09PWUucGF0aG5hbWUuY2hhckF0KDApLHU9Y3x8c3x8bi5ob3N0JiZlLnBhdGhuYW1lLGw9dSxwPW4ucGF0aG5hbWUmJm4ucGF0aG5hbWUuc3BsaXQoIi8iKXx8W10sZD0ocj1lLnBhdGhuYW1lJiZlLnBhdGhuYW1lLnNwbGl0KCIvIil8fFtdLG4ucHJvdG9jb2wmJiFtW24ucHJvdG9jb2xdKTtpZihkJiYobi5ob3N0bmFtZT0iIixuLnBvcnQ9bnVsbCxuLmhvc3QmJigiIj09PXBbMF0/cFswXT1uLmhvc3Q6cC51bnNoaWZ0KG4uaG9zdCkpLG4uaG9zdD0iIixlLnByb3RvY29sJiYoZS5ob3N0bmFtZT1udWxsLGUucG9ydD1udWxsLGUuaG9zdCYmKCIiPT09clswXT9yWzBdPWUuaG9zdDpyLnVuc2hpZnQoZS5ob3N0KSksZS5ob3N0PW51bGwpLHU9dSYmKCIiPT09clswXXx8IiI9PT1wWzBdKSksYyluLmhvc3Q9ZS5ob3N0fHwiIj09PWUuaG9zdD9lLmhvc3Q6bi5ob3N0LG4uaG9zdG5hbWU9ZS5ob3N0bmFtZXx8IiI9PT1lLmhvc3RuYW1lP2UuaG9zdG5hbWU6bi5ob3N0bmFtZSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnkscD1yO2Vsc2UgaWYoci5sZW5ndGgpcHx8KHA9W10pLHAucG9wKCkscD1wLmNvbmNhdChyKSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnk7ZWxzZSBpZihudWxsIT1lLnNlYXJjaClyZXR1cm4gZCYmKG4uaG9zdG5hbWU9bi5ob3N0PXAuc2hpZnQoKSwoRT0hIShuLmhvc3QmJm4uaG9zdC5pbmRleE9mKCJAIik+MCkmJm4uaG9zdC5zcGxpdCgiQCIpKSYmKG4uYXV0aD1FLnNoaWZ0KCksbi5ob3N0PW4uaG9zdG5hbWU9RS5zaGlmdCgpKSksbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LFMobi5wYXRobmFtZSkmJlMobi5zZWFyY2gpfHwobi5wYXRoPShuLnBhdGhuYW1lP24ucGF0aG5hbWU6IiIpKyhuLnNlYXJjaD9uLnNlYXJjaDoiIikpLG4uaHJlZj1uLmZvcm1hdCgpLG47aWYoIXAubGVuZ3RoKXJldHVybiBuLnBhdGhuYW1lPW51bGwsbi5zZWFyY2g/bi5wYXRoPSIvIituLnNlYXJjaDpuLnBhdGg9bnVsbCxuLmhyZWY9bi5mb3JtYXQoKSxuO2Zvcih2YXIgaD1wLnNsaWNlKC0xKVswXSxmPShuLmhvc3R8fGUuaG9zdCkmJigiLiI9PT1ofHwiLi4iPT09aCl8fCIiPT09aCx2PTAseT1wLmxlbmd0aDt5Pj0wO3ktLSkiLiI9PShoPXBbeV0pP3Auc3BsaWNlKHksMSk6Ii4uIj09PWg/KHAuc3BsaWNlKHksMSksdisrKTp2JiYocC5zcGxpY2UoeSwxKSx2LS0pO2lmKCF1JiYhbClmb3IoO3YtLTt2KXAudW5zaGlmdCgiLi4iKTshdXx8IiI9PT1wWzBdfHxwWzBdJiYiLyI9PT1wWzBdLmNoYXJBdCgwKXx8cC51bnNoaWZ0KCIiKSxmJiYiLyIhPT1wLmpvaW4oIi8iKS5zdWJzdHIoLTEpJiZwLnB1c2goIiIpO3ZhciBFLEM9IiI9PT1wWzBdfHxwWzBdJiYiLyI9PT1wWzBdLmNoYXJBdCgwKTtyZXR1cm4gZCYmKG4uaG9zdG5hbWU9bi5ob3N0PUM/IiI6cC5sZW5ndGg/cC5zaGlmdCgpOiIiLChFPSEhKG4uaG9zdCYmbi5ob3N0LmluZGV4T2YoIkAiKT4wKSYmbi5ob3N0LnNwbGl0KCJAIikpJiYobi5hdXRoPUUuc2hpZnQoKSxuLmhvc3Q9bi5ob3N0bmFtZT1FLnNoaWZ0KCkpKSwodT11fHxuLmhvc3QmJnAubGVuZ3RoKSYmIUMmJnAudW5zaGlmdCgiIikscC5sZW5ndGg/bi5wYXRobmFtZT1wLmpvaW4oIi8iKToobi5wYXRobmFtZT1udWxsLG4ucGF0aD1udWxsKSxTKG4ucGF0aG5hbWUpJiZTKG4uc2VhcmNoKXx8KG4ucGF0aD0obi5wYXRobmFtZT9uLnBhdGhuYW1lOiIiKSsobi5zZWFyY2g/bi5zZWFyY2g6IiIpKSxuLmF1dGg9ZS5hdXRofHxuLmF1dGgsbi5zbGFzaGVzPW4uc2xhc2hlc3x8ZS5zbGFzaGVzLG4uaHJlZj1uLmZvcm1hdCgpLG59LGkucHJvdG90eXBlLnBhcnNlSG9zdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaG9zdCx0PXMuZXhlYyhlKTt0JiYoIjoiIT09KHQ9dFswXSkmJih0aGlzLnBvcnQ9dC5zdWJzdHIoMSkpLGU9ZS5zdWJzdHIoMCxlLmxlbmd0aC10Lmxlbmd0aCkpLGUmJih0aGlzLmhvc3RuYW1lPWUpfX0se3B1bnljb2RlOjkyLHF1ZXJ5c3RyaW5nOjk1fV0sMTAxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO2Zvcih2YXIgcj1bXSxvPTA7bzwyNTY7KytvKXJbb109KG8rMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8MCxvPXI7cmV0dXJuW29bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV1dLmpvaW4oIiIpfTtuLmRlZmF1bHQ9aX0se31dLDEwMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInYxIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2MyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInY1Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0fX0pO3ZhciByPXMoZSgiLi92MS5qcyIpKSxvPXMoZSgiLi92My5qcyIpKSxpPXMoZSgiLi92NC5qcyIpKSxhPXMoZSgiLi92NS5qcyIpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LHsiLi92MS5qcyI6MTA2LCIuL3YzLmpzIjoxMDcsIi4vdjQuanMiOjEwOSwiLi92NS5qcyI6MTEwfV0sMTAzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIG8oZSx0LG4sbyxpLGEpe3JldHVybiByKChzPXIocih0LGUpLHIobyxhKSkpPDwoYz1pKXxzPj4+MzItYyxuKTt2YXIgcyxjfWZ1bmN0aW9uIGkoZSx0LG4scixpLGEscyl7cmV0dXJuIG8odCZufH50JnIsZSx0LGksYSxzKX1mdW5jdGlvbiBhKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKHQmcnxuJn5yLGUsdCxpLGEscyl9ZnVuY3Rpb24gcyhlLHQsbixyLGksYSxzKXtyZXR1cm4gbyh0Xm5ecixlLHQsaSxhLHMpfWZ1bmN0aW9uIGMoZSx0LG4scixpLGEscyl7cmV0dXJuIG8obl4odHx+ciksZSx0LGksYSxzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgdT1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciB0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1uZXcgQXJyYXkodC5sZW5ndGgpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1bXSxpPTMyKmUubGVuZ3RoLGE9IjAxMjM0NTY3ODlhYmNkZWYiO2Zvcih0PTA7dDxpO3QrPTgpbj1lW3Q+PjVdPj4+dCUzMiYyNTUscj1wYXJzZUludChhLmNoYXJBdChuPj4+NCYxNSkrYS5jaGFyQXQoMTUmbiksMTYpLG8ucHVzaChyKTtyZXR1cm4gb30oZnVuY3Rpb24oZSx0KXt2YXIgbixvLHUsbCxwO2VbdD4+NV18PTEyODw8dCUzMixlWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7dmFyIGQ9MTczMjU4NDE5MyxoPS0yNzE3MzM4NzksZj0tMTczMjU4NDE5NCxnPTI3MTczMzg3ODtmb3Iobj0wO248ZS5sZW5ndGg7bis9MTYpbz1kLHU9aCxsPWYscD1nLGQ9aShkLGgsZixnLGVbbl0sNywtNjgwODc2OTM2KSxnPWkoZyxkLGgsZixlW24rMV0sMTIsLTM4OTU2NDU4NiksZj1pKGYsZyxkLGgsZVtuKzJdLDE3LDYwNjEwNTgxOSksaD1pKGgsZixnLGQsZVtuKzNdLDIyLC0xMDQ0NTI1MzMwKSxkPWkoZCxoLGYsZyxlW24rNF0sNywtMTc2NDE4ODk3KSxnPWkoZyxkLGgsZixlW24rNV0sMTIsMTIwMDA4MDQyNiksZj1pKGYsZyxkLGgsZVtuKzZdLDE3LC0xNDczMjMxMzQxKSxoPWkoaCxmLGcsZCxlW24rN10sMjIsLTQ1NzA1OTgzKSxkPWkoZCxoLGYsZyxlW24rOF0sNywxNzcwMDM1NDE2KSxnPWkoZyxkLGgsZixlW24rOV0sMTIsLTE5NTg0MTQ0MTcpLGY9aShmLGcsZCxoLGVbbisxMF0sMTcsLTQyMDYzKSxoPWkoaCxmLGcsZCxlW24rMTFdLDIyLC0xOTkwNDA0MTYyKSxkPWkoZCxoLGYsZyxlW24rMTJdLDcsMTgwNDYwMzY4MiksZz1pKGcsZCxoLGYsZVtuKzEzXSwxMiwtNDAzNDExMDEpLGY9aShmLGcsZCxoLGVbbisxNF0sMTcsLTE1MDIwMDIyOTApLGQ9YShkLGg9aShoLGYsZyxkLGVbbisxNV0sMjIsMTIzNjUzNTMyOSksZixnLGVbbisxXSw1LC0xNjU3OTY1MTApLGc9YShnLGQsaCxmLGVbbis2XSw5LC0xMDY5NTAxNjMyKSxmPWEoZixnLGQsaCxlW24rMTFdLDE0LDY0MzcxNzcxMyksaD1hKGgsZixnLGQsZVtuXSwyMCwtMzczODk3MzAyKSxkPWEoZCxoLGYsZyxlW24rNV0sNSwtNzAxNTU4NjkxKSxnPWEoZyxkLGgsZixlW24rMTBdLDksMzgwMTYwODMpLGY9YShmLGcsZCxoLGVbbisxNV0sMTQsLTY2MDQ3ODMzNSksaD1hKGgsZixnLGQsZVtuKzRdLDIwLC00MDU1Mzc4NDgpLGQ9YShkLGgsZixnLGVbbis5XSw1LDU2ODQ0NjQzOCksZz1hKGcsZCxoLGYsZVtuKzE0XSw5LC0xMDE5ODAzNjkwKSxmPWEoZixnLGQsaCxlW24rM10sMTQsLTE4NzM2Mzk2MSksaD1hKGgsZixnLGQsZVtuKzhdLDIwLDExNjM1MzE1MDEpLGQ9YShkLGgsZixnLGVbbisxM10sNSwtMTQ0NDY4MTQ2NyksZz1hKGcsZCxoLGYsZVtuKzJdLDksLTUxNDAzNzg0KSxmPWEoZixnLGQsaCxlW24rN10sMTQsMTczNTMyODQ3MyksZD1zKGQsaD1hKGgsZixnLGQsZVtuKzEyXSwyMCwtMTkyNjYwNzczNCksZixnLGVbbis1XSw0LC0zNzg1NTgpLGc9cyhnLGQsaCxmLGVbbis4XSwxMSwtMjAyMjU3NDQ2MyksZj1zKGYsZyxkLGgsZVtuKzExXSwxNiwxODM5MDMwNTYyKSxoPXMoaCxmLGcsZCxlW24rMTRdLDIzLC0zNTMwOTU1NiksZD1zKGQsaCxmLGcsZVtuKzFdLDQsLTE1MzA5OTIwNjApLGc9cyhnLGQsaCxmLGVbbis0XSwxMSwxMjcyODkzMzUzKSxmPXMoZixnLGQsaCxlW24rN10sMTYsLTE1NTQ5NzYzMiksaD1zKGgsZixnLGQsZVtuKzEwXSwyMywtMTA5NDczMDY0MCksZD1zKGQsaCxmLGcsZVtuKzEzXSw0LDY4MTI3OTE3NCksZz1zKGcsZCxoLGYsZVtuXSwxMSwtMzU4NTM3MjIyKSxmPXMoZixnLGQsaCxlW24rM10sMTYsLTcyMjUyMTk3OSksaD1zKGgsZixnLGQsZVtuKzZdLDIzLDc2MDI5MTg5KSxkPXMoZCxoLGYsZyxlW24rOV0sNCwtNjQwMzY0NDg3KSxnPXMoZyxkLGgsZixlW24rMTJdLDExLC00MjE4MTU4MzUpLGY9cyhmLGcsZCxoLGVbbisxNV0sMTYsNTMwNzQyNTIwKSxkPWMoZCxoPXMoaCxmLGcsZCxlW24rMl0sMjMsLTk5NTMzODY1MSksZixnLGVbbl0sNiwtMTk4NjMwODQ0KSxnPWMoZyxkLGgsZixlW24rN10sMTAsMTEyNjg5MTQxNSksZj1jKGYsZyxkLGgsZVtuKzE0XSwxNSwtMTQxNjM1NDkwNSksaD1jKGgsZixnLGQsZVtuKzVdLDIxLC01NzQzNDA1NSksZD1jKGQsaCxmLGcsZVtuKzEyXSw2LDE3MDA0ODU1NzEpLGc9YyhnLGQsaCxmLGVbbiszXSwxMCwtMTg5NDk4NjYwNiksZj1jKGYsZyxkLGgsZVtuKzEwXSwxNSwtMTA1MTUyMyksaD1jKGgsZixnLGQsZVtuKzFdLDIxLC0yMDU0OTIyNzk5KSxkPWMoZCxoLGYsZyxlW24rOF0sNiwxODczMzEzMzU5KSxnPWMoZyxkLGgsZixlW24rMTVdLDEwLC0zMDYxMTc0NCksZj1jKGYsZyxkLGgsZVtuKzZdLDE1LC0xNTYwMTk4MzgwKSxoPWMoaCxmLGcsZCxlW24rMTNdLDIxLDEzMDkxNTE2NDkpLGQ9YyhkLGgsZixnLGVbbis0XSw2LC0xNDU1MjMwNzApLGc9YyhnLGQsaCxmLGVbbisxMV0sMTAsLTExMjAyMTAzNzkpLGY9YyhmLGcsZCxoLGVbbisyXSwxNSw3MTg3ODcyNTkpLGg9YyhoLGYsZyxkLGVbbis5XSwyMSwtMzQzNDg1NTUxKSxkPXIoZCxvKSxoPXIoaCx1KSxmPXIoZixsKSxnPXIoZyxwKTtyZXR1cm5bZCxoLGYsZ119KGZ1bmN0aW9uKGUpe3ZhciB0LG49W107Zm9yKG5bKGUubGVuZ3RoPj4yKS0xXT12b2lkIDAsdD0wO3Q8bi5sZW5ndGg7dCs9MSluW3RdPTA7dmFyIHI9OCplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW5bdD4+NV18PSgyNTUmZVt0LzhdKTw8dCUzMjtyZXR1cm4gbn0oZSksOCplLmxlbmd0aCkpfTtuLmRlZmF1bHQ9dX0se31dLDEwNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PWZ1bmN0aW9uKCl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiByKG8pfTt2YXIgcj0idW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbXNDcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSxvPW5ldyBVaW50OEFycmF5KDE2KX0se31dLDEwNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuLHIpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHQmbl5+dCZyO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIHRebl5yO2Nhc2UgMjpyZXR1cm4gdCZuXnQmcl5uJnJ9fWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml0sbj1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIGk9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKTtlPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspZVthXT1pLmNoYXJDb2RlQXQoYSl9ZS5wdXNoKDEyOCk7dmFyIHM9ZS5sZW5ndGgvNCsyLGM9TWF0aC5jZWlsKHMvMTYpLHU9bmV3IEFycmF5KGMpO2ZvcihhPTA7YTxjO2ErKyl7dVthXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgbD0wO2w8MTY7bCsrKXVbYV1bbF09ZVs2NCphKzQqbF08PDI0fGVbNjQqYSs0KmwrMV08PDE2fGVbNjQqYSs0KmwrMl08PDh8ZVs2NCphKzQqbCszXX1mb3IodVtjLTFdWzE0XT04KihlLmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSx1W2MtMV1bMTRdPU1hdGguZmxvb3IodVtjLTFdWzE0XSksdVtjLTFdWzE1XT04KihlLmxlbmd0aC0xKSY0Mjk0OTY3Mjk1LGE9MDthPGM7YSsrKXtmb3IodmFyIHA9bmV3IEFycmF5KDgwKSxkPTA7ZDwxNjtkKyspcFtkXT11W2FdW2RdO2ZvcihkPTE2O2Q8ODA7ZCsrKXBbZF09byhwW2QtM11ecFtkLThdXnBbZC0xNF1ecFtkLTE2XSwxKTt2YXIgaD1uWzBdLGY9blsxXSxnPW5bMl0sbT1uWzNdLHY9bls0XTtmb3IoZD0wO2Q8ODA7ZCsrKXt2YXIgeT1NYXRoLmZsb29yKGQvMjApLGI9byhoLDUpK3IoeSxmLGcsbSkrdit0W3ldK3BbZF0+Pj4wO3Y9bSxtPWcsZz1vKGYsMzApPj4+MCxmPWgsaD1ifW5bMF09blswXStoPj4+MCxuWzFdPW5bMV0rZj4+PjAsblsyXT1uWzJdK2c+Pj4wLG5bM109blszXSttPj4+MCxuWzRdPW5bNF0rdj4+PjB9cmV0dXJuW25bMF0+PjI0JjI1NSxuWzBdPj4xNiYyNTUsblswXT4+OCYyNTUsMjU1Jm5bMF0sblsxXT4+MjQmMjU1LG5bMV0+PjE2JjI1NSxuWzFdPj44JjI1NSwyNTUmblsxXSxuWzJdPj4yNCYyNTUsblsyXT4+MTYmMjU1LG5bMl0+PjgmMjU1LDI1NSZuWzJdLG5bM10+PjI0JjI1NSxuWzNdPj4xNiYyNTUsblszXT4+OCYyNTUsMjU1Jm5bM10sbls0XT4+MjQmMjU1LG5bNF0+PjE2JjI1NSxuWzRdPj44JjI1NSwyNTUmbls0XV19O24uZGVmYXVsdD1pfSx7fV0sMTA2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByLG8saT1zKGUoIi4vcm5nLmpzIikpLGE9cyhlKCIuL2J5dGVzVG9VdWlkLmpzIikpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBjPTAsdT0wLGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBzPXQmJm58fDAsbD10fHxbXSxwPShlPWV8fHt9KS5ub2RlfHxyLGQ9dm9pZCAwIT09ZS5jbG9ja3NlcT9lLmNsb2Nrc2VxOm87aWYobnVsbD09cHx8bnVsbD09ZCl7dmFyIGg9ZS5yYW5kb218fChlLnJuZ3x8aS5kZWZhdWx0KSgpO251bGw9PXAmJihwPXI9WzF8aFswXSxoWzFdLGhbMl0saFszXSxoWzRdLGhbNV1dKSxudWxsPT1kJiYoZD1vPTE2MzgzJihoWzZdPDw4fGhbN10pKX12YXIgZj12b2lkIDAhPT1lLm1zZWNzP2UubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZz12b2lkIDAhPT1lLm5zZWNzP2UubnNlY3M6dSsxLG09Zi1jKyhnLXUpLzFlNDtpZihtPDAmJnZvaWQgMD09PWUuY2xvY2tzZXEmJihkPWQrMSYxNjM4MyksKG08MHx8Zj5jKSYmdm9pZCAwPT09ZS5uc2VjcyYmKGc9MCksZz49MWU0KXRocm93IG5ldyBFcnJvcigidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMiKTtjPWYsdT1nLG89ZDt2YXIgdj0oMWU0KigyNjg0MzU0NTUmKGYrPTEyMjE5MjkyOGU1KSkrZyklNDI5NDk2NzI5NjtsW3MrK109dj4+PjI0JjI1NSxsW3MrK109dj4+PjE2JjI1NSxsW3MrK109dj4+PjgmMjU1LGxbcysrXT0yNTUmdjt2YXIgeT1mLzQyOTQ5NjcyOTYqMWU0JjI2ODQzNTQ1NTtsW3MrK109eT4+PjgmMjU1LGxbcysrXT0yNTUmeSxsW3MrK109eT4+PjI0JjE1fDE2LGxbcysrXT15Pj4+MTYmMjU1LGxbcysrXT1kPj4+OHwxMjgsbFtzKytdPTI1NSZkO2Zvcih2YXIgYj0wO2I8NjsrK2IpbFtzK2JdPXBbYl07cmV0dXJuIHR8fCgwLGEuZGVmYXVsdCkobCl9O24uZGVmYXVsdD1sfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMSwiLi9ybmcuanMiOjEwNH1dLDEwNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vdjM1LmpzIikpLG89aShlKCIuL21kNS5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYT0oMCxyLmRlZmF1bHQpKCJ2MyIsNDgsby5kZWZhdWx0KTtuLmRlZmF1bHQ9YX0seyIuL21kNS5qcyI6MTAzLCIuL3YzNS5qcyI6MTA4fV0sMTA4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUscixpLGEpe3ZhciBzPWkmJmF8fDA7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1mdW5jdGlvbihlKXtlPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKXRbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiB0fShlKSksInN0cmluZyI9PXR5cGVvZiByJiYocj1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5yZXBsYWNlKC9bYS1mQS1GMC05XXsyfS9nLChmdW5jdGlvbihlKXt0LnB1c2gocGFyc2VJbnQoZSwxNikpfSkpLHR9KHIpKSwhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBUeXBlRXJyb3IoInZhbHVlIG11c3QgYmUgYW4gYXJyYXkgb2YgYnl0ZXMiKTtpZighQXJyYXkuaXNBcnJheShyKXx8MTYhPT1yLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoIm5hbWVzcGFjZSBtdXN0IGJlIHV1aWQgc3RyaW5nIG9yIGFuIEFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIik7dmFyIGM9bihyLmNvbmNhdChlKSk7aWYoY1s2XT0xNSZjWzZdfHQsY1s4XT02MyZjWzhdfDEyOCxpKWZvcih2YXIgdT0wO3U8MTY7Kyt1KWlbcyt1XT1jW3VdO3JldHVybiBpfHwoMCxvLmRlZmF1bHQpKGMpfTt0cnl7ci5uYW1lPWV9Y2F0Y2goZSl7fXJldHVybiByLkROUz1pLHIuVVJMPWEscn0sbi5VUkw9bi5ETlM9dm9pZCAwO3ZhciByLG89KHI9ZSgiLi9ieXRlc1RvVXVpZC5qcyIpKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn0saT0iNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtuLkROUz1pO3ZhciBhPSI2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgiO24uVVJMPWF9LHsiLi9ieXRlc1RvVXVpZC5qcyI6MTAxfV0sMTA5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgiLi9ybmcuanMiKSksbz1pKGUoIi4vYnl0ZXNUb1V1aWQuanMiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQmJm58fDA7InN0cmluZyI9PXR5cGVvZiBlJiYodD0iYmluYXJ5Ij09PWU/bmV3IEFycmF5KDE2KTpudWxsLGU9bnVsbCk7dmFyIGE9KGU9ZXx8e30pLnJhbmRvbXx8KGUucm5nfHxyLmRlZmF1bHQpKCk7aWYoYVs2XT0xNSZhWzZdfDY0LGFbOF09NjMmYVs4XXwxMjgsdClmb3IodmFyIHM9MDtzPDE2Oysrcyl0W2krc109YVtzXTtyZXR1cm4gdHx8KDAsby5kZWZhdWx0KShhKX07bi5kZWZhdWx0PWF9LHsiLi9ieXRlc1RvVXVpZC5qcyI6MTAxLCIuL3JuZy5qcyI6MTA0fV0sMTEwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgiLi92MzUuanMiKSksbz1pKGUoIi4vc2hhMS5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYT0oMCxyLmRlZmF1bHQpKCJ2NSIsODAsby5kZWZhdWx0KTtuLmRlZmF1bHQ9YX0seyIuL3NoYTEuanMiOjEwNSwiLi92MzUuanMiOjEwOH1dLDExMTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZSgiLi91dGlscy9MUlUiKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2b2lkIDA9PT1lJiYoZT0xZTMpLHRoaXMubWF4U2l6ZT1lLHRoaXMuY2FjaGU9bmV3IHIuTFJVQ2FjaGUoZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlLmxlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj0ic3RyaW5nIiE9dHlwZW9mIHQ/ZS5nZXRLZXlTdHJpbmcodCk6dCxvPXRoaXMucG9wdWxhdGVWYWx1ZShuKTt0aGlzLmNhY2hlLnB1dChyLG8pfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIG49InN0cmluZyIhPXR5cGVvZiB0P2UuZ2V0S2V5U3RyaW5nKHQpOnQscj1EYXRlLm5vdygpLG89dGhpcy5jYWNoZS5nZXQobik7aWYobyl7Zm9yKHZhciBpPW8ubGVuZ3RoLTE7aT49MDtpLS0pb1tpXS5FeHBpcmU8ciYmby5zcGxpY2UoaSwxKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5jYWNoZS5yZW1vdmUobil9cmV0dXJuIG99LGUuZ2V0S2V5U3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPU9iamVjdC5rZXlzKGUpLnNvcnQoKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07dm9pZCAwIT09ZVtvXSYmdC5wdXNoKGVbb10pfXJldHVybiB0LmpvaW4oIiAiKX0sZS5wcm90b3R5cGUucG9wdWxhdGVWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue0FkZHJlc3M6ZS5BZGRyZXNzfHwiIixFeHBpcmU6dCs2MCooZS5DYWNoZVBlcmlvZEluTWludXRlc3x8MSkqMWUzfX0pKX0sZS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXt0aGlzLmNhY2hlLmVtcHR5KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgbj0ic3RyaW5nIiE9dHlwZW9mIHQ/ZS5nZXRLZXlTdHJpbmcodCk6dDt0aGlzLmNhY2hlLnJlbW92ZShuKX0sZX0oKTtuLkVuZHBvaW50Q2FjaGU9b30seyIuL3V0aWxzL0xSVSI6MTEyfV0sMTEyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbihlLHQpe3RoaXMua2V5PWUsdGhpcy52YWx1ZT10fSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLm5vZGVNYXA9e30sdGhpcy5zaXplPTAsIm51bWJlciIhPXR5cGVvZiBlfHxlPDEpdGhyb3cgbmV3IEVycm9yKCJDYWNoZSBzaXplIGNhbiBvbmx5IGJlIHBvc2l0aXZlIG51bWJlciIpO3RoaXMuc2l6ZUxpbWl0PWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wcmVwZW5kVG9MaXN0PWZ1bmN0aW9uKGUpe3RoaXMuaGVhZGVyTm9kZT8odGhpcy5oZWFkZXJOb2RlLnByZXY9ZSxlLm5leHQ9dGhpcy5oZWFkZXJOb2RlKTp0aGlzLnRhaWxOb2RlPWUsdGhpcy5oZWFkZXJOb2RlPWUsdGhpcy5zaXplKyt9LGUucHJvdG90eXBlLnJlbW92ZUZyb21UYWlsPWZ1bmN0aW9uKCl7aWYodGhpcy50YWlsTm9kZSl7dmFyIGU9dGhpcy50YWlsTm9kZSx0PWUucHJldjtyZXR1cm4gdCYmKHQubmV4dD12b2lkIDApLGUucHJldj12b2lkIDAsdGhpcy50YWlsTm9kZT10LHRoaXMuc2l6ZS0tLGV9fSxlLnByb3RvdHlwZS5kZXRhY2hGcm9tTGlzdD1mdW5jdGlvbihlKXt0aGlzLmhlYWRlck5vZGU9PT1lJiYodGhpcy5oZWFkZXJOb2RlPWUubmV4dCksdGhpcy50YWlsTm9kZT09PWUmJih0aGlzLnRhaWxOb2RlPWUucHJldiksZS5wcmV2JiYoZS5wcmV2Lm5leHQ9ZS5uZXh0KSxlLm5leHQmJihlLm5leHQucHJldj1lLnByZXYpLGUubmV4dD12b2lkIDAsZS5wcmV2PXZvaWQgMCx0aGlzLnNpemUtLX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2lmKHRoaXMubm9kZU1hcFtlXSl7dmFyIHQ9dGhpcy5ub2RlTWFwW2VdO3JldHVybiB0aGlzLmRldGFjaEZyb21MaXN0KHQpLHRoaXMucHJlcGVuZFRvTGlzdCh0KSx0LnZhbHVlfX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKHRoaXMubm9kZU1hcFtlXSl7dmFyIHQ9dGhpcy5ub2RlTWFwW2VdO3RoaXMuZGV0YWNoRnJvbUxpc3QodCksZGVsZXRlIHRoaXMubm9kZU1hcFtlXX19LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQpe2lmKHRoaXMubm9kZU1hcFtlXSl0aGlzLnJlbW92ZShlKTtlbHNlIGlmKHRoaXMuc2l6ZT09PXRoaXMuc2l6ZUxpbWl0KXt2YXIgbj10aGlzLnJlbW92ZUZyb21UYWlsKCkua2V5O2RlbGV0ZSB0aGlzLm5vZGVNYXBbbl19dmFyIG89bmV3IHIoZSx0KTt0aGlzLm5vZGVNYXBbZV09byx0aGlzLnByZXBlbmRUb0xpc3Qobyl9LGUucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPU9iamVjdC5rZXlzKHRoaXMubm9kZU1hcCksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9dGhpcy5ub2RlTWFwW25dO3RoaXMuZGV0YWNoRnJvbUxpc3QociksZGVsZXRlIHRoaXMubm9kZU1hcFtuXX19LGV9KCk7bi5MUlVDYWNoZT1vfSx7fV0sMTEzOltmdW5jdGlvbihlLHQsbil7ZSgiLi9icm93c2VyX2xvYWRlciIpO3ZhciByPWUoIi4vY29yZSIpOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LkFXUz1yKSx2b2lkIDAhPT10JiYodC5leHBvcnRzPXIpLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKHNlbGYuQVdTPXIpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLCJDb25uZWN0Iil8fChyLmFwaUxvYWRlci5zZXJ2aWNlcy5jb25uZWN0PXt9LHIuQ29ubmVjdD1yLlNlcnZpY2UuZGVmaW5lU2VydmljZSgiY29ubmVjdCIsWyIyMDE3LTAyLTE1Il0pKSxyLmFwaUxvYWRlci5zZXJ2aWNlcy5jb25uZWN0WyIyMDE3LTAyLTE1Il09ZSgiLi4vYXBpcy9jb25uZWN0LTIwMTctMDItMTUubWluIil9LHsiLi4vYXBpcy9jb25uZWN0LTIwMTctMDItMTUubWluIjozLCIuL2Jyb3dzZXJfbG9hZGVyIjoxNiwiLi9jb3JlIjoxOX1dfSx7fSxbMTEzXSl9LDU1NTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxyPXQuY29ubmVjdHx8e307dC5jb25uZWN0PXIsdC5saWx5PXIsci5DbGllbnRNZXRob2RzPXIubWFrZUVudW0oWyJnZXRBZ2VudFNuYXBzaG90IiwicHV0QWdlbnRTdGF0ZSIsImdldEFnZW50U3RhdGVzIiwiZ2V0RGlhbGFibGVDb3VudHJ5Q29kZXMiLCJnZXRSb3V0aW5nUHJvZmlsZVF1ZXVlcyIsImdldEFnZW50UGVybWlzc2lvbnMiLCJnZXRBZ2VudENvbmZpZ3VyYXRpb24iLCJ1cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24iLCJhY2NlcHRDb250YWN0IiwiY3JlYXRlT3V0Ym91bmRDb250YWN0IiwiY3JlYXRlVGFza0NvbnRhY3QiLCJjbGVhckNvbnRhY3QiLCJjb21wbGV0ZUNvbnRhY3QiLCJkZXN0cm95Q29udGFjdCIsInJlamVjdENvbnRhY3QiLCJub3RpZnlDb250YWN0SXNzdWUiLCJ1cGRhdGVDb250YWN0QXR0cmlidXRlcyIsImNyZWF0ZUFkZGl0aW9uYWxDb25uZWN0aW9uIiwiZGVzdHJveUNvbm5lY3Rpb24iLCJob2xkQ29ubmVjdGlvbiIsInJlc3VtZUNvbm5lY3Rpb24iLCJ0b2dnbGVBY3RpdmVDb25uZWN0aW9ucyIsImNvbmZlcmVuY2VDb25uZWN0aW9ucyIsInNlbmRDbGllbnRMb2dzIiwic2VuZERpZ2l0cyIsInNlbmRTb2Z0cGhvbmVDYWxsUmVwb3J0Iiwic2VuZFNvZnRwaG9uZUNhbGxNZXRyaWNzIiwiZ2V0RW5kcG9pbnRzIiwiZ2V0TmV3QXV0aFRva2VuIiwiY3JlYXRlVHJhbnNwb3J0IiwibXV0ZVBhcnRpY2lwYW50IiwidW5tdXRlUGFydGljaXBhbnQiLCJ1cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZSIsInBhdXNlQ29udGFjdCIsInJlc3VtZUNvbnRhY3QiLCJhZGROZXdDb25uZWN0aW9uIiwidHJhbnNmZXJDb250YWN0Il0pLHIuQWdlbnRBcHBDbGllbnRNZXRob2RzPXtHRVRfQ09OVEFDVDoiQWdlbnRBcHBTZXJ2aWNlLkxjbXMuZ2V0Q29udGFjdCIsREVMRVRFX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmRlbGV0ZVNwZWFrZXIiLEVOUk9MTF9CWV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5lbnJvbGxCeVNlc3Npb24iLEVWQUxVQVRFX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmV2YWx1YXRlU2Vzc2lvbiIsREVTQ1JJQkVfU1BFQUtFUjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTcGVha2VyIixPUFRfT1VUX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLm9wdE91dFNwZWFrZXIiLFVQREFURV9WT0lDRV9JRF9EQVRBOiJBZ2VudEFwcFNlcnZpY2UuTGNtcy51cGRhdGVWb2ljZUlkRGF0YSIsREVTQ1JJQkVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTZXNzaW9uIixVUERBVEVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQudXBkYXRlU2Vzc2lvbiIsU1RBUlRfVk9JQ0VfSURfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLk5hc2Euc3RhcnRWb2ljZUlkU2Vzc2lvbiIsTElTVF9JTlRFR1JBVElPTl9BU1NPQ0lBVElPTlM6IkFnZW50QXBwU2VydmljZS5BY3MubGlzdEludGVncmF0aW9uQXNzb2NpYXRpb25zIn0sci5NYXN0ZXJNZXRob2RzPXIubWFrZUVudW0oWyJiZWNvbWVNYXN0ZXIiLCJjaGVja01hc3RlciJdKSxyLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzPXIubWFrZUVudW0oWyJsaXN0VGFza1RlbXBsYXRlcyIsImdldFRhc2tUZW1wbGF0ZSIsImNyZWF0ZVRlbXBsYXRlZFRhc2siLCJ1cGRhdGVDb250YWN0Il0pLHIuQXBpUHJveHlDbGllbnRNZXRob2RzPXtRUl9JTlRFR1JBVElPTl9FWElTVFM6InFySW50ZWdyYXRpb25FeGlzdHMiLFFSX1NFQVJDSF9RVUlDS19SRVNQT05TRVM6InFyU2VhcmNoUXVpY2tSZXNwb25zZXMiLFNUQVJUX1NDUkVFTl9TSEFSSU5HOiJzdGFydFNjcmVlblNoYXJpbmcifSxyLlJldHJ5YWJsZUNsaWVudE1ldGhvZHNMaXN0PVtyLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1NOQVBTSE9ULHIuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfQ09ORklHVVJBVElPTixyLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1BFUk1JU1NJT05TLHIuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU1RBVEVTLHIuQ2xpZW50TWV0aG9kcy5HRVRfRElBTEFCTEVfQ09VTlRSWV9DT0RFUyxyLkNsaWVudE1ldGhvZHMuR0VUX1JPVVRJTkdfUFJPRklMRV9RVUVVRVNdLHIuUmV0cnlhYmxlRXJyb3JzPXIubWFrZUVudW0oWyJ1bmF1dGhvcml6ZWQiLCJhY2Nlc3NEZW5pZWQiXSksci5SZXRyeVN0YXR1cz1yLm1ha2VFbnVtKFsicmV0cnlpbmciLCJleGhhdXN0ZWQiLCJub25lIl0pO3ZhciBvPWZ1bmN0aW9uKCl7fTtvLkVNUFRZX0NBTExCQUNLUz17c3VjY2VzczpmdW5jdGlvbigpe30sZmFpbHVyZTpmdW5jdGlvbigpe319LG8ucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0LG4pe3IuYXNzZXJ0Tm90TnVsbChlLCJtZXRob2QiKTt2YXIgaT10fHx7fSxhPW58fG8uRU1QVFlfQ0FMTEJBQ0tTO3RoaXMuX2NhbGxJbXBsKGUsaSxhKX0sby5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt0aHJvdyBuZXcgci5Ob3RJbXBsZW1lbnRlZEVycm9yfTt2YXIgaT1mdW5jdGlvbigpe28uY2FsbCh0aGlzKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7aWYobiYmbi5mYWlsdXJlKXt2YXIgbz1yLnNwcmludGYoIk5vIHN1Y2ggbWV0aG9kIGV4aXN0cyBvbiBOVUxMIGNsaWVudDogJXMiLGUpO24uZmFpbHVyZShuZXcgci5WYWx1ZUVycm9yKG8pLHttZXNzYWdlOm99KX19O3ZhciBhPWZ1bmN0aW9uKGUsdCxuKXtvLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWUsdGhpcy5yZXF1ZXN0RXZlbnQ9dCx0aGlzLnJlc3BvbnNlRXZlbnQ9bix0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXA9e30sdGhpcy5jb25kdWl0Lm9uVXBzdHJlYW0obixyLmhpdGNoKHRoaXMsdGhpcy5faGFuZGxlUmVzcG9uc2UpKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89ci5FdmVudEZhY3RvcnkuY3JlYXRlUmVxdWVzdCh0aGlzLnJlcXVlc3RFdmVudCxlLHQpO3RoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtvLnJlcXVlc3RJZF09bjt2YXIgaT1bci5DbGllbnRNZXRob2RzLlNFTkRfQ0xJRU5UX0xPR1Msci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUyxyLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9SRVBPUlRdO3RyeXtvLmV2ZW50IT09ci5FdmVudFR5cGUuQVBJX1JFUVVFU1R8fGkuaW5jbHVkZXMoby5tZXRob2QpfHxyLmdldExvZygpLnRyYWNlKCJTZW5kaW5nIEFQSV9SRVFVRVNUIGV2ZW50IGZvciAiLmNvbmNhdChvLm1ldGhvZCwiIHRvIHVwc3RyZWFtIikpLndpdGhPYmplY3Qoe21ldGhvZDpvLm1ldGhvZCxwYXJhbXM6by5wYXJhbXMsc3RhY2s6KG5ldyBFcnJvcikuc3RhY2t9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIlN0YWNrIHRyYWNlIExvZyBGYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9dGhpcy5jb25kdWl0LnNlbmRVcHN0cmVhbShvLmV2ZW50LG8pfSxhLnByb3RvdHlwZS5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV18fG51bGw7cmV0dXJuIG51bGwhPXQmJmRlbGV0ZSB0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV0sdH0sYS5wcm90b3R5cGUuX2hhbmRsZVJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldENhbGxiYWNrc0ZvclJlcXVlc3QoZS5yZXF1ZXN0SWQpO251bGwhPXQmJihlLmVyciYmdC5mYWlsdXJlP3QuZmFpbHVyZShlLmVycixlLmRhdGEpOnQuc3VjY2VzcyYmdC5zdWNjZXNzKGUuZGF0YSkpfTt2YXIgcz1mdW5jdGlvbihlKXthLmNhbGwodGhpcyxlLHIuRXZlbnRUeXBlLkFQSV9SRVFVRVNULHIuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSl9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSkuY29uc3RydWN0b3I9czt2YXIgYz1mdW5jdGlvbigpe28uY2FsbCh0aGlzKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuQVBJX1BST1hZX1JFU1BPTlNFLHIuaGl0Y2godGhpcyx0aGlzLl9oYW5kbGVSZXNwb25zZSkpLHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcD17fX07KGMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89ci5FdmVudEZhY3RvcnkuY3JlYXRlUmVxdWVzdChyLkV2ZW50VHlwZS5BUElfUFJPWFlfUkVRVUVTVCxlLHQpO3RoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtvLnJlcXVlc3RJZF09bixyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkFQSV9QUk9YWV9SRVFVRVNULG8pfSxjLnByb3RvdHlwZS5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV18fG51bGw7cmV0dXJuIG51bGwhPXQmJmRlbGV0ZSB0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV0sdH0sYy5wcm90b3R5cGUuX2hhbmRsZVJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldENhbGxiYWNrc0ZvclJlcXVlc3QoZS5yZXF1ZXN0SWQpO251bGwhPXQmJihlLmVyciYmdC5mYWlsdXJlP3QuZmFpbHVyZShlLmVycixlLmRhdGEpOnQuc3VjY2VzcyYmdC5zdWNjZXNzKGUuZGF0YSkpfTt2YXIgdT1mdW5jdGlvbihlKXthLmNhbGwodGhpcyxlLHIuRXZlbnRUeXBlLk1BU1RFUl9SRVFVRVNULHIuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSl9Oyh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dTt2YXIgbD1mdW5jdGlvbihlLHQsbil7ci5hc3NlcnROb3ROdWxsKGUsImF1dGhDb29raWVOYW1lIiksci5hc3NlcnROb3ROdWxsKHQsImF1dGhUb2tlbiIpLHIuYXNzZXJ0Tm90TnVsbChuLCJlbmRwb2ludCIpLG8uY2FsbCh0aGlzKSx0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKG4pLHRoaXMuYXV0aFRva2VuPXQsdGhpcy5hdXRoQ29va2llTmFtZT1lfTsobC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWwsbC5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzLGk9e307aVtvLmF1dGhDb29raWVOYW1lXT1vLmF1dGhUb2tlbjt2YXIgYT17bWV0aG9kOiJwb3N0Iixib2R5OkpTT04uc3RyaW5naWZ5KHR8fHt9KSxoZWFkZXJzOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24iLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIiwiWC1BbXotdGFyZ2V0IjplLCJYLUFtei1CZWFyZXIiOkpTT04uc3RyaW5naWZ5KGkpfX07ci5mZXRjaChvLmVuZHBvaW50VXJsLGEpLnRoZW4oKGZ1bmN0aW9uKGUpe24uc3VjY2VzcyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LmdldFJlYWRlcigpLHI9IiIsbz1uZXcgVGV4dERlY29kZXI7dC5yZWFkKCkudGhlbigoZnVuY3Rpb24gaShhKXt2YXIgcz1hLmRvbmUsYz1hLnZhbHVlO2lmKHMpe3ZhciB1PUpTT04ucGFyc2Uocik7cmV0dXJuIHUuc3RhdHVzPWUuc3RhdHVzLHZvaWQgbi5mYWlsdXJlKHUpfXJldHVybiByKz1vLmRlY29kZShjKSx0LnJlYWQoKS50aGVuKGkpfSkpfSkpfTt2YXIgcD1mdW5jdGlvbihlLHQsbil7ci5hc3NlcnROb3ROdWxsKGUsImF1dGhUb2tlbiIpLHIuYXNzZXJ0Tm90TnVsbCh0LCJyZWdpb24iKSxvLmNhbGwodGhpcyksQVdTLmNvbmZpZy5jcmVkZW50aWFscz1uZXcgQVdTLkNyZWRlbnRpYWxzKHt9KSxBV1MuY29uZmlnLnJlZ2lvbj10LHRoaXMuYXV0aFRva2VuPWU7dmFyIGk9ci5nZXRCYXNlVXJsKCksYT1ufHwoaS5pbmNsdWRlcygiLmF3c2FwcHMuY29tIik/aSsiL2Nvbm5lY3QvYXBpIjppKyIvYXBpIikscz1uZXcgQVdTLkVuZHBvaW50KGEpO3RoaXMuY2xpZW50PW5ldyBBV1MuQ29ubmVjdCh7ZW5kcG9pbnQ6c30pLHRoaXMudW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCx0aGlzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTB9OyhwLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cCxwLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXMsaT1yLmdldExvZygpO2lmKHIuY29udGFpbnModGhpcy5jbGllbnQsZSkpKHQ9dGhpcy5fdHJhbnNsYXRlUGFyYW1zKGUsdCkpJiZ0LnJlbGF0ZWRDb250YWN0SWQmJm51bGwhPT10LnJlbGF0ZWRDb250YWN0SWQmJnQucHJldmlvdXNDb250YWN0SWQmJmRlbGV0ZSB0LnByZXZpb3VzQ29udGFjdElkLGkudHJhY2UoIkFXU0NsaWVudDogLS1ceDNlIENhbGxpbmcgb3BlcmF0aW9uICclcyciLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5jbGllbnRbZV0odCkub24oImJ1aWxkIiwoZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1CZWFyZXIiXT1vLmF1dGhUb2tlbn0pKS5zZW5kKChmdW5jdGlvbih0LGEpe3RyeXtpZih0KXQuY29kZT09PXIuQ1RJRXhjZXB0aW9ucy5VTkFVVEhPUklaRURfRVhDRVBUSU9OfHw0MDE9PT10LnN0YXR1c0NvZGU/by5fcmV0cnlNZXRob2QoZSxuLHQsYSxyLlJldHJ5YWJsZUVycm9ycy5VTkFVVEhPUklaRUQpOnQuY29kZT09PXIuQ1RJRXhjZXB0aW9ucy5BQ0NFU1NfREVOSUVEX0VYQ0VQVElPTnx8NDAzPT09dC5zdGF0dXNDb2RlP28uX3JldHJ5TWV0aG9kKGUsbix0LGEsci5SZXRyeWFibGVFcnJvcnMuQUNDRVNTX0RFTklFRCk6KG8udW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCxvLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTAsbi5mYWlsdXJlKG8uX2Zvcm1hdENhbGxFcnJvcihvLl9hZGRTdGF0dXNDb2RlVG9FcnJvcih0KSksYSkpLGkudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAnJXMnIGZhaWxlZDogJXMiLGUsSlNPTi5zdHJpbmdpZnkodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXt2YXIgcz17fTtpLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gJyVzJyBzdWNjZWVkZWQuIixlKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksby51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wLG8uYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI9MCx0aGlzLmh0dHBSZXNwb25zZSYmdGhpcy5odHRwUmVzcG9uc2UuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmKHMuY29udGVudExlbmd0aD10aGlzLmh0dHBSZXNwb25zZS5ib2R5Lmxlbmd0aCksbi5zdWNjZXNzKGEscyl9fWNhdGNoKHQpe3IuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBoYW5kbGUgQVdTIEFQSSByZXF1ZXN0IGZvciBtZXRob2QgJXMiLGUpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSk7ZWxzZXt2YXIgYT1yLnNwcmludGYoIk5vIHN1Y2ggbWV0aG9kIGV4aXN0cyBvbiBBV1MgY2xpZW50OiAlcyIsZSk7bi5mYWlsdXJlKG5ldyByLlZhbHVlRXJyb3IoYSkse21lc3NhZ2U6YX0pfX0scC5wcm90b3R5cGUuX2lzUmV0cnlhYmxlTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiByLlJldHJ5YWJsZUNsaWVudE1ldGhvZHNMaXN0LmluY2x1ZGVzKGUpfSxwLnByb3RvdHlwZS5fcmV0cnlNZXRob2Q9ZnVuY3Rpb24oZSx0LG8saSxhKXt2YXIgcz10aGlzLGM9ci5nZXRMb2coKSx1PWZ1bmN0aW9uKGUpe3JldHVybiBzLl9mb3JtYXRDYWxsRXJyb3Iocy5fYWRkU3RhdHVzQ29kZVRvRXJyb3IoZSkpfSxsPXttYXhDb3VudDpyLmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVCxmYWlsQ291bnRlcjpzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyLGluY3JlYXNlQ291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyKz0xfSxyZXNldENvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wfSxlcnJvck1lc3NhZ2U6InVuYXV0aG9yaXplZCIsZXhoYXVzdGVkUmV0cmllczpzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPj1yLmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVCxyZXRyeUNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZmFpbHVyZSh1KGUpLG4pfSxkZWZhdWx0Q2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hdXRoRmFpbHVyZSh1KGUpLG4pfX07c3dpdGNoKGEpe2Nhc2Ugci5SZXRyeWFibGVFcnJvcnMuVU5BVVRIT1JJWkVEOmJyZWFrO2Nhc2Ugci5SZXRyeWFibGVFcnJvcnMuQUNDRVNTX0RFTklFRDpsPW4obih7fSxsKSx7fSx7bWF4Q291bnQ6ci5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5ULGZhaWxDb3VudGVyOnMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXIsaW5jcmVhc2VDb3VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXIrPTF9LHJlc2V0Q291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTB9LGVycm9yTWVzc2FnZToiYWNjZXNzIGRlbmllZCIsZXhoYXVzdGVkUmV0cmllczpzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPj1yLmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQsZGVmYXVsdENhbGxiYWNrOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYWNjZXNzRGVuaWVkKHUoZSksbil9fSl9dmFyIHA9bihuKHt9LG8pLHt9LHtyZXRyeVN0YXR1czpyLlJldHJ5U3RhdHVzLk5PTkV9KTtpZihzLl9pc1JldHJ5YWJsZU1ldGhvZChlKSl7aWYoIWwuZXhoYXVzdGVkUmV0cmllcylyZXR1cm4gYy50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICIuY29uY2F0KGUsIiBmYWlsZWQgd2l0aCAiKS5jb25jYXQobC5lcnJvck1lc3NhZ2UsIiBlcnJvci4gUmV0cnlpbmcgY2FsbCBmb3IgYSAiKS5jb25jYXQobC5mYWlsQ291bnRlcisxLCIgdGltZSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwuaW5jcmVhc2VDb3VudGVyKCkscD1uKG4oe30scCkse30se3JldHJ5U3RhdHVzOnIuUmV0cnlTdGF0dXMuUkVUUllJTkd9KSx2b2lkIGwucmV0cnlDYWxsYmFjayhwLGkpO2MudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAiLmNvbmNhdChlLCIgZXhoYXVzdGVkIG1heCAiKS5jb25jYXQobC5tYXhDb3VudCwiIG51bWJlciBvZiByZXRyaWVzIGZvciAiKS5jb25jYXQobC5lcnJvck1lc3NhZ2UsIiBlcnJvciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwucmVzZXRDb3VudGVyKCkscD1uKG4oe30scCkse30se3JldHJ5U3RhdHVzOnIuUmV0cnlTdGF0dXMuRVhIQVVTVEVEfSl9ZWxzZSBjLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gIi5jb25jYXQoZSwiIGZhaWxlZDogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG8pKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtsLmRlZmF1bHRDYWxsYmFjayhwLGkpfSxwLnByb3RvdHlwZS5fZm9ybWF0Q2FsbEVycm9yPWZ1bmN0aW9uKHQpe3ZhciBvPW4oe3R5cGU6dC5jb2RlLG1lc3NhZ2U6dC5tZXNzYWdlLHN0YWNrOltdLHJldHJ5U3RhdHVzOnQucmV0cnlTdGF0dXN8fHIuUmV0cnlTdGF0dXMuTk9ORX0sdC5zdGF0dXNDb2RlJiZ7c3RhdHVzQ29kZTp0LnN0YXR1c0NvZGV9KTtpZih0LnN0YWNrKXRyeXtBcnJheS5pc0FycmF5KHQuc3RhY2spP28uc3RhY2s9dC5zdGFjazoib2JqZWN0Ij09PWUodC5zdGFjayk/by5zdGFjaz1bSlNPTi5zdHJpbmdpZnkodC5zdGFjayldOiJzdHJpbmciPT10eXBlb2YgdC5zdGFjayYmKG8uc3RhY2s9dC5zdGFjay5zcGxpdCgiXG4iKSl9ZmluYWxseXt9cmV0dXJuIG99LHAucHJvdG90eXBlLl9hZGRTdGF0dXNDb2RlVG9FcnJvcj1mdW5jdGlvbihlKXtpZihlLnN0YXR1c0NvZGUpcmV0dXJuIGU7dmFyIHQ9bih7fSxlKTtpZihlLmNvZGUpc3dpdGNoKHQuY29kZSl7Y2FzZSByLkNUSUV4Y2VwdGlvbnMuVU5BVVRIT1JJWkVEX0VYQ0VQVElPTjp0LnN0YXR1c0NvZGU9NDAxO2JyZWFrO2Nhc2Ugci5DVElFeGNlcHRpb25zLkFDQ0VTU19ERU5JRURfRVhDRVBUSU9OOnQuc3RhdHVzQ29kZT00MDN9ZWxzZSB0LnN0YXR1c0NvZGU9NDAwO3JldHVybiB0fSxwLnByb3RvdHlwZS5fcmVxdWlyZXNBdXRoZW50aWNhdGlvblBhcmFtPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09ci5DbGllbnRNZXRob2RzLkNPTVBMRVRFX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuQ0xFQVJfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5SRUpFQ1RfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVEFTS19DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLlVQREFURV9NT05JVE9SX1BBUlRJQ0lQQU5UX1NUQVRFJiZlIT09ci5DbGllbnRNZXRob2RzLlBBVVNFX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuUkVTVU1FX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuQUREX05FV19DT05ORUNUSU9OJiZlIT09ci5DbGllbnRNZXRob2RzLlRSQU5TRkVSX0NPTlRBQ1R9LHAucHJvdG90eXBlLl90cmFuc2xhdGVQYXJhbXM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSByLkNsaWVudE1ldGhvZHMuVVBEQVRFX0FHRU5UX0NPTkZJR1VSQVRJT046dC5jb25maWd1cmF0aW9uPXRoaXMuX3RyYW5zbGF0ZUFnZW50Q29uZmlndXJhdGlvbih0LmNvbmZpZ3VyYXRpb24pO2JyZWFrO2Nhc2Ugci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUzp0LnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M9dGhpcy5fdHJhbnNsYXRlU29mdHBob25lU3RyZWFtU3RhdGlzdGljcyh0LnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3MpO2JyZWFrO2Nhc2Ugci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfUkVQT1JUOnQucmVwb3J0PXRoaXMuX3RyYW5zbGF0ZVNvZnRwaG9uZUNhbGxSZXBvcnQodC5yZXBvcnQpfXJldHVybiB0aGlzLl9yZXF1aXJlc0F1dGhlbnRpY2F0aW9uUGFyYW0oZSkmJih0LmF1dGhlbnRpY2F0aW9uPXthdXRoVG9rZW46dGhpcy5hdXRoVG9rZW59KSx0fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlQWdlbnRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmUubmFtZSxzb2Z0cGhvbmVFbmFibGVkOmUuc29mdHBob25lRW5hYmxlZCxzb2Z0cGhvbmVBdXRvQWNjZXB0OmUuc29mdHBob25lQXV0b0FjY2VwdCxleHRlbnNpb246ZS5leHRlbnNpb24scm91dGluZ1Byb2ZpbGU6dGhpcy5fdHJhbnNsYXRlUm91dGluZ1Byb2ZpbGUoZS5yb3V0aW5nUHJvZmlsZSksYWdlbnRQcmVmZXJlbmNlczplLmFnZW50UHJlZmVyZW5jZXN9fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlUm91dGluZ1Byb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6ZS5uYW1lLHJvdXRpbmdQcm9maWxlQVJOOmUucm91dGluZ1Byb2ZpbGVBUk4sZGVmYXVsdE91dGJvdW5kUXVldWU6dGhpcy5fdHJhbnNsYXRlUXVldWUoZS5kZWZhdWx0T3V0Ym91bmRRdWV1ZSl9fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlUXVldWU9ZnVuY3Rpb24oZSl7cmV0dXJue3F1ZXVlQVJOOmUucXVldWVBUk4sbmFtZTplLm5hbWV9fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlU29mdHBob25lU3RyZWFtU3RhdGlzdGljcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXsicGFja2V0c0NvdW50ImluIGUmJihlLnBhY2tldENvdW50PWUucGFja2V0c0NvdW50LGRlbGV0ZSBlLnBhY2tldHNDb3VudCl9KSksZX0scC5wcm90b3R5cGUuX3RyYW5zbGF0ZVNvZnRwaG9uZUNhbGxSZXBvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuImhhbmRzaGFraW5nVGltZU1pbGxpcyJpbiBlJiYoZS5oYW5kc2hha2VUaW1lTWlsbGlzPWUuaGFuZHNoYWtpbmdUaW1lTWlsbGlzLGRlbGV0ZSBlLmhhbmRzaGFraW5nVGltZU1pbGxpcyksInByZVRhbGtpbmdUaW1lTWlsbGlzImluIGUmJihlLnByZVRhbGtUaW1lTWlsbGlzPWUucHJlVGFsa2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUucHJlVGFsa2luZ1RpbWVNaWxsaXMpLCJoYW5kc2hha2luZ0ZhaWx1cmUiaW4gZSYmKGUuaGFuZHNoYWtlRmFpbHVyZT1lLmhhbmRzaGFraW5nRmFpbHVyZSxkZWxldGUgZS5oYW5kc2hha2luZ0ZhaWx1cmUpLCJ0YWxraW5nVGltZU1pbGxpcyJpbiBlJiYoZS50YWxrVGltZU1pbGxpcz1lLnRhbGtpbmdUaW1lTWlsbGlzLGRlbGV0ZSBlLnRhbGtpbmdUaW1lTWlsbGlzKSxlLnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M9dGhpcy5fdHJhbnNsYXRlU29mdHBob25lU3RyZWFtU3RhdGlzdGljcyhlLnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3MpLGV9O3ZhciBkPWZ1bmN0aW9uKGUpe2lmKHIuYXNzZXJ0Tm90TnVsbChlLCJlbmRwb2ludCIpLG8uY2FsbCh0aGlzKSxlLmluY2x1ZGVzKCIvdGFzay10ZW1wbGF0ZXMiKSl0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKGUpO2Vsc2V7dmFyIHQ9bmV3IEFXUy5FbmRwb2ludChlKSxuPWUuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpPyIvY29ubmVjdCI6IiI7dGhpcy5lbmRwb2ludFVybD1yLmdldFVybFdpdGhQcm90b2NvbCgiIi5jb25jYXQodC5ob3N0KS5jb25jYXQobiwiL3Rhc2stdGVtcGxhdGVzL2FwaS9jY3AiKSl9fTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWQsZC5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt0JiZ0LnJlbGF0ZWRDb250YWN0SWQmJm51bGwhPT10LnJlbGF0ZWRDb250YWN0SWQmJnQucHJldmlvdXNDb250YWN0SWQmJmRlbGV0ZSB0LnByZXZpb3VzQ29udGFjdElkLHIuYXNzZXJ0Tm90TnVsbChlLCJtZXRob2QiKSxyLmFzc2VydE5vdE51bGwodCwicGFyYW1zIik7dmFyIG89e2NyZWRlbnRpYWxzOiJpbmNsdWRlIixtZXRob2Q6IkdFVCIsaGVhZGVyczp7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIiwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiIsIngtY3NyZi10b2tlbiI6ImNzcmYifX0saT10Lmluc3RhbmNlSWQsYT10aGlzLmVuZHBvaW50VXJsLHM9ci5UYXNrVGVtcGxhdGVzQ2xpZW50TWV0aG9kcztzd2l0Y2goZSl7Y2FzZSBzLkxJU1RfVEFTS19URU1QTEFURVM6aWYoYSs9Ii9wcm94eS9pbnN0YW5jZS8iLmNvbmNhdChpLCIvdGFzay90ZW1wbGF0ZSIpLHQucXVlcnlQYXJhbXMpe3ZhciBjPW5ldyBVUkxTZWFyY2hQYXJhbXModC5xdWVyeVBhcmFtcykudG9TdHJpbmcoKTtjJiYoYSs9Ij8iLmNvbmNhdChjKSl9YnJlYWs7Y2FzZSBzLkdFVF9UQVNLX1RFTVBMQVRFOnIuYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMiKTt2YXIgdT1yLmFzc2VydE5vdE51bGwodC50ZW1wbGF0ZVBhcmFtcy5pZCwicGFyYW1zLnRlbXBsYXRlUGFyYW1zLmlkIiksbD10LnRlbXBsYXRlUGFyYW1zLnZlcnNpb247YSs9Ii9wcm94eS9pbnN0YW5jZS8iLmNvbmNhdChpLCIvdGFzay90ZW1wbGF0ZS8iKS5jb25jYXQodSksbCYmKGErPSI/c25hcHNob3RWZXJzaW9uPSIuY29uY2F0KGwpKTticmVhaztjYXNlIHMuQ1JFQVRFX1RFTVBMQVRFRF9UQVNLOmErPSIvIi5jb25jYXQoZSksby5ib2R5PUpTT04uc3RyaW5naWZ5KHQpLG8ubWV0aG9kPSJQVVQiO2JyZWFrO2Nhc2Ugcy5VUERBVEVfQ09OVEFDVDphKz0iLyIuY29uY2F0KGUpLG8uYm9keT1KU09OLnN0cmluZ2lmeSh0KSxvLm1ldGhvZD0iUE9TVCJ9ci5mZXRjaChhLG8pLnRoZW4oKGZ1bmN0aW9uKGUpe24uc3VjY2VzcyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LmdldFJlYWRlcigpLHI9IiIsbz1uZXcgVGV4dERlY29kZXI7dC5yZWFkKCkudGhlbigoZnVuY3Rpb24gaShhKXt2YXIgcz1hLmRvbmUsYz1hLnZhbHVlO2lmKHMpe3ZhciB1PUpTT04ucGFyc2Uocik7cmV0dXJuIHUuc3RhdHVzPWUuc3RhdHVzLHZvaWQgbi5mYWlsdXJlKHUpfXJldHVybiByKz1vLmRlY29kZShjKSx0LnJlYWQoKS50aGVuKGkpfSkpfSkpfSxyLkNsaWVudEJhc2U9byxyLk51bGxDbGllbnQ9aSxyLlVwc3RyZWFtQ29uZHVpdENsaWVudD1zLHIuQXBpUHJveHlDbGllbnQ9YyxyLlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudD11LHIuQVdTQ2xpZW50PXAsci5BZ2VudEFwcENsaWVudD1sLHIuVGFza1RlbXBsYXRlc0NsaWVudD1kfSgpfSwzOTk6KGUsdCxuKT0+e2Z1bmN0aW9uIHIoZSl7cmV0dXJuIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LHIoZSl9ZnVuY3Rpb24gbygpeyJ1c2Ugc3RyaWN0IjtvPWZ1bmN0aW9uKCl7cmV0dXJuIHR9O3ZhciBlLHQ9e30sbj1PYmplY3QucHJvdG90eXBlLGk9bi5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaChlKXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGgoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX10LndyYXA9ZDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIEUoKXt9ZnVuY3Rpb24gUygpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgST1PYmplY3QuZ2V0UHJvdG90eXBlT2YsVD1JJiZJKEkoUChbXSkpKTtUJiZUIT09biYmaS5jYWxsKFQsYykmJihDPVQpO3ZhciB3PVMucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyhlLHQpe2Z1bmN0aW9uIG4obyxhLHMsYyl7dmFyIHU9aChlW29dLGUsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09cihwKSYmaS5jYWxsKHAsIl9fYXdhaXQiKT90LnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtuKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7bigidGhyb3ciLGUscyxjKX0pKTp0LnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIG4oInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIG87YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyB0KChmdW5jdGlvbih0LG8pe24oZSxyLHQsbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUih0LG4scil7dmFyIG89ZjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTplLGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1PKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09Zil0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9aCh0LG4scik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTyh0LG4pe3ZhciByPW4ubWV0aG9kLG89dC5pdGVyYXRvcltyXTtpZihvPT09ZSlyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZ0Lml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPSJyZXR1cm4iLG4uYXJnPWUsTyh0LG4pLCJ0aHJvdyI9PT1uLm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWgobyx0Lml0ZXJhdG9yLG4uYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD0idGhyb3ciLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8oblt0LnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PXQubmV4dExvYywicmV0dXJuIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLG4uZGVsZWdhdGU9bnVsbCx5KTphOihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iiksbi5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIEwoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKEwsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUCh0KXtpZih0fHwiIj09PXQpe3ZhciBuPXRbY107aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKGkuY2FsbCh0LG8pKXJldHVybiBuLnZhbHVlPXRbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9ZSxuLmRvbmU9ITAsbn07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKHIodCkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gRS5wcm90b3R5cGU9UyxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxhKFMsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxFLmRpc3BsYXlOYW1lPXAoUyxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHQuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09RXx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sdC5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsUyk6KGUuX19wcm90b19fPVMscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sdC5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHQuQXN5bmNJdGVyYXRvcj1fLHQuYXN5bmM9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsbixyLG8pLGkpO3JldHVybiB0LmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLHQua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSx0LnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9ZSx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhdClmb3IodmFyIG4gaW4gdGhpcykidCI9PT1uLmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPWUpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPXQsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSwhIW99Zm9yKHZhciBvPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW29dLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PWkuY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgbz1yO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKHQpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ZSkseX19LHR9ZnVuY3Rpb24gaShlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIGEoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLHQsbil7cmV0dXJuKHQ9Yih0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbChlLHQpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9sKGUsdCk6dm9pZCAwfX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgaSxhPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBhPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX19fWZ1bmN0aW9uIGwoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0PWgodCksZnVuY3Rpb24oZSx0KXtpZih0JiYoIm9iamVjdCI9PXIodCl8fCJmdW5jdGlvbiI9PXR5cGVvZiB0KSlyZXR1cm4gdDtpZih2b2lkIDAhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX0oZSl9KGUsZCgpP1JlZmxlY3QuY29uc3RydWN0KHQsbnx8W10saChlKS5jb25zdHJ1Y3Rvcik6dC5hcHBseShlLG4pKX1mdW5jdGlvbiBkKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oZD1mdW5jdGlvbigpe3JldHVybiEhZX0pKCl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0saChlKX1mdW5jdGlvbiBmKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLHQmJmcoZSx0KX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGc9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSxnKGUsdCl9ZnVuY3Rpb24gbShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHYoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGIoci5rZXkpLHIpfX1mdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm4gdCYmdihlLnByb3RvdHlwZSx0KSxuJiZ2KGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBiKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXIoZSl8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgbz1uLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1yKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PXIodCk/dDp0KyIifSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10LHQuY29yZT17fSx0Lmdsb2JhbFJlc2lsaWVuY3k9dC5nbG9iYWxSZXNpbGllbmN5fHx7fSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITEsdC52ZXJzaW9uPSIyLjE4LjgiLHQub3V0ZXJDb250ZXh0U3RyZWFtc1ZlcnNpb249bnVsbCx0LkRFRkFVTFRfQkFUQ0hfU0laRT01MDA7dmFyIHI9IkFtYXpvbiBDb25uZWN0IENDUCIsYT0iaHR0cHM6Ly97YWxpYXN9LmF3c2FwcHMuY29tL2F1dGgvP2NsaWVudF9pZD17Y2xpZW50X2lkfSZyZWRpcmVjdF91cmk9e3JlZGlyZWN0fSIsYz0iMDY5MTlmNGZkOGVkMzI0ZSIsbD0iL2F1dGgvYXV0aG9yaXplIixkPSIvY29ubmVjdC9hdXRoL2F1dGhvcml6ZSIsaD0iSWZyYW1lUmVmcmVzaEF0dGVtcHRzIixnPSJJZnJhbWVSZWZyZXNoQXR0ZW1wdHNEciIsdj0iSWZyYW1lSW5pdGlhbGl6YXRpb25TdWNjZXNzIixiPSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3NEciIsRT0iY3VzdG9tdmlld3MiLFM9WyJlbmRlZCIsIm1pc3NlZCIsImVycm9yIiwicmVqZWN0ZWQiLCJhY3ciXTt0Lm51bWJlck9mQ29ubmVjdGVkQ0NQcz0wLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPTAsdC5jb3JlLk1BWF9BVVRIT1JJWkVfUkVUUllfQ09VTlRfRk9SX1NFU1NJT049Myx0LmNvcmUuTUFYX0NUSV9BVVRIX1JFVFJZX0NPVU5UPTEwLHQuY29yZS5jdGlBdXRoUmV0cnlDb3VudD0wLHQuY29yZS5hdXRob3JpemVUaW1lb3V0SWQ9bnVsbCx0LmNvcmUuY3RpVGltZW91dElkPW51bGwsdC5jb3JlLk1BWF9VTkFVVEhPUklaRURfUkVUUllfQ09VTlQ9MjAsdC5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5UPTEwLHQuU2Vzc2lvblN0b3JhZ2VLZXlzPXQubWFrZUVudW0oWyJ0YWJfaWQiLCJhdXRob3JpemVfcmV0cnlfY291bnQiXSk7dmFyIEM9ZnVuY3Rpb24oKXtyZXR1cm4geSgoZnVuY3Rpb24gdChuKXttKHRoaXMsdCksdGhpcy5rZXk9IiIuY29uY2F0KG4sIlBhcmFtc1N0b3JhZ2U6OiIpLmNvbmNhdChlLmxvY2F0aW9uLm9yaWdpbil9KSxbe2tleToiZ2V0Iix2YWx1ZTpmdW5jdGlvbigpe3RyeXt2YXIgbj1lLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KTtyZXR1cm4gbiYmSlNPTi5wYXJzZShuKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCIiLmNvbmNhdCh0aGlzLmtleSwiOjogRmFpbGVkIHRvIGdldCBzb2Z0cGhvbmUgcGFyYW1zIGZyb20gbG9jYWwgc3RvcmFnZSEiKSkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiBudWxsfX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihuKXt0cnl7biYmZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShuKSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiIi5jb25jYXQodGhpcy5rZXksIjo6IEZhaWxlZCB0byBzZXQgc29mdHBob25lIHBhcmFtcyB0byBsb2NhbCBzdG9yYWdlISIpKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fX0se2tleToiY2xlYW4iLHZhbHVlOmZ1bmN0aW9uKCl7ZS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmtleSl9fV0pfSgpLEk9bmV3KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbSh0aGlzLHQpLHAodGhpcyx0LFsiU29mdHBob25lIl0pfXJldHVybiBmKHQsZSkseSh0KX0oQykpLFQ9bmV3KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbSh0aGlzLHQpLHAodGhpcyx0LFsiUmluZ3RvbmUiXSl9cmV0dXJuIGYodCxlKSx5KHQpfShDKSk7ZnVuY3Rpb24gdyhlKXt2YXIgdD1lLm1hdGNoKC9eKD86aHR0cHM/OlwvXC8pPyg/OlteQFxuXStAKT8oPzp3d3dcLik/KFteOlwvXG4/XSspL2dpKTtyZXR1cm4gdC5sZW5ndGg/dFswXToiIn1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJHbG9iYWxSZXNpbGllbmN5Il0pfXJldHVybiBmKHQsZSkseSh0KX0oQykpLHQuY29yZS5jaGVja05vdEluaXRpYWxpemVkPWZ1bmN0aW9uKCl7dC5jb3JlLmluaXRpYWxpemVkJiZ0LmdldExvZygpLndhcm4oIkNvbm5lY3QgY29yZSBhbHJlYWR5IGluaXRpYWxpemVkLCBvbmx5IG5lZWRzIHRvIGJlIGluaXRpYWxpemVkIG9uY2UuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX07dmFyIEE9ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmdldEFnZW50U3RhdGVzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXQuQWdlbnRTdGF0ZVR5cGUuT0ZGTElORX0pKTtlLnNldFN0YXRlKHIsbil9LF89ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNpZ25hbCBzaGFyZWR3b3JrZXIgdG8gc2V0IGNvbnRhY3RzIHN1cHByZXNzb3IgdG8gJXMgZm9yIGluc3RhbmNlICVzLiIsZSx0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU1VQUFJFU1Mse3N1cHByZXNzOmUsc2hvdWxkU2VuZEZhaWxvdmVyRG93bnN0cmVhbTohMX0pfSxSPWZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5pbmZvKCJbRElTQVNURVIgUkVDT1ZFUlldIFNpZ25hbCBzaGFyZWR3b3JrZXIgdG8gc2V0IGZvcmNlT2ZmbGluZSB0byAlcyBmb3IgaW5zdGFuY2UgJXMuIixlLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLHtvZmZsaW5lOmUsbmV4dEFjdGl2ZUFybjpufSl9LE89ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmdldExvZygpLG89dC5hZ2VudC5pbml0aWFsaXplZD90LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCk6dC5jb3JlLnJlZ2lvbjtyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gQXR0ZW1wdGluZyB0byBmb3JjZSBpbnN0YW5jZSAiLmNvbmNhdChvLCIgb2ZmbGluZSB1c2luZyAiKS5jb25jYXQoZT8ic29mdCI6ImhhcmQiLCIgZmFpbG92ZXIiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmFnZW50KChmdW5jdGlvbihvKXt2YXIgaT0wLGE9by5nZXRDb250YWN0cygpLHM9ITE7aWYoYS5sZW5ndGgpe3ZhciBjLGw9dShhKTt0cnl7Zm9yKGwucygpOyEoYz1sLm4oKSkuZG9uZTspe3ZhciBwPWMudmFsdWU7aWYocylicmVhazshZXx8cC5nZXRUeXBlKCkhPT10LkNvbnRhY3RUeXBlLlFVRVVFX0NBTExCQUNLJiZwLmdldFR5cGUoKSE9PXQuQ29udGFjdFR5cGUuVk9JQ0U/cC5nZXRBZ2VudENvbm5lY3Rpb24oKS5kZXN0cm95KHtzdWNjZXNzOmZ1bmN0aW9uKCl7KytpPT09YS5sZW5ndGgmJihSKCExLG4pLEEobyksci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICVzIGlzIG5vdyBvZmZsaW5lIix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtyLndhcm4oIltEaXNhc3RlciBSZWNvdmVyeV0gQW4gZXJyb3Igb2NjdXJlZCB3aGlsZSBhdHRlbXB0aW5nIHRvIGZvcmNlIHRoaXMgaW5zdGFuY2UgdG8gb2ZmbGluZSBpbiByZWdpb24gJXMiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci53YXJuKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUighMCxuKSxzPSEwfX0pOihyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gV2lsbCB3YWl0IHRvIGNvbXBsZXRlIGZhaWxvdmVyIG9mIGluc3RhbmNlICVzIHVudGlsIHZvaWNlIGNvbnRhY3Qgd2l0aCBJRCAlcyBpcyBkZXN0cm95ZWQiLHQuY29yZS5yZWdpb24scC5nZXRDb250YWN0SWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVJfUEVORElORyx7bmV4dEFjdGl2ZUFybjpufSkscC5vbkRlc3Ryb3koKGZ1bmN0aW9uKGUpe3IuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBWb2ljZSBjb250YWN0IHdpdGggSUQgJXMgZGVzdHJveWVkLCBjb250aW51aW5nIHdpdGggZmFpbG92ZXIgaW4gaW5zdGFuY2UgJXMiLGUuZ2V0Q29udGFjdElkKCksdC5jb3JlLnJlZ2lvbiksTyghMCxuKX0pKSl9fWNhdGNoKGUpe2wuZShlKX1maW5hbGx5e2wuZigpfX1lbHNlIFIoITEsbiksQShvKSxyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgJXMgaXMgbm93IG9mZmxpbmUiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9O3QuY29yZS50ZXJtaW5hdGVDdXN0b21WaWV3PWZ1bmN0aW9uKGUpe3ZhciBuLHIsbz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06IiIsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sYT1pLnJlc29sdmVJZnJhbWUscz12b2lkIDA9PT1hfHxhLGM9aS50aW1lb3V0LHU9dm9pZCAwPT09Yz81ZTM6YyxsPWkuaGlkZUlmcmFtZSxwPXZvaWQgMD09PWx8fGwsZD1mdW5jdGlvbihlLHQsbil7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnQucXVlcnlTZWxlY3RvcihuKSl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpfHx3aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpfTtyPW8/IiIuY29uY2F0KEUpLmNvbmNhdChvKToiIi5jb25jYXQoRSk7dmFyIGg9bnVsbD09PShuPXQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuZ2V0KHIpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb250YWluZXJET00sZj0iaWZyYW1lW2lkPSciLmNvbmNhdChyLCInXSIpLGc9ZChyLGgsZik7aWYoZyl0cnl7Zy5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0b3BpYzoibGlmZWN5Y2xlLnRlcm1pbmF0ZWQifSxlKSxzJiYocCYmKGcuc3R5bGUuZGlzcGxheT0ibm9uZSIpLGNvbnNvbGUuaW5mbygiW0N1c3RvbVZpZXdzXSBjdXN0b212aWV3cyBpZnJhbWUgaGlkZGVuIGZvciByZXNvbHV0aW9uIGR1cmluZyB0ZXJtaW5hdGlvbiIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5hZ2VudEFwcC5zdG9wQXBwKHIpLGQocixoLGYpP2NvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSBjdXN0b212aWV3cyBhcHBsaWNhdGlvbiBkaWQgbm90IHN0b3Agc3VjY2Vzc2Z1bGx5IGluIHRlcm1pbmF0ZUN1c3RvbVZpZXcgb3BlcmF0aW9uIik6Y29uc29sZS5pbmZvKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGFwcGxpY2F0aW9uIHN1Y2Nlc3NmdWxseSBzdG9wcGVkIil9KSx1KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKCJbQ3VzdG9tVmlld3NdIEVycm9yIGluIHRlcm1pbmF0ZUN1c3RvbVZpZXc6ICIsZSl9ZWxzZSBjb25zb2xlLndhcm4oIltDdXN0b21WaWV3c10gdGVybWluYXRlQ3VzdG9tVmlldyBvcGVyYXRpb24gZmFpbGVkIGR1ZSB0byBpZnJhbWUgbm90IGZvdW5kIil9LHQuY29yZS5pbml0RGlzYXN0ZXJSZWNvdmVyeT1mdW5jdGlvbihlLG4scil7dmFyIG89dC5nZXRMb2coKTt0LmNvcmUucmVnaW9uPWUucmVnaW9uLHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzPW58fF8sdC5jb3JlLmZvcmNlT2ZmbGluZT1yfHxPLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU0VUX09GRkxJTkUsKGZ1bmN0aW9uKGUpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuRkFJTE9WRVIsKGZ1bmN0aW9uKCl7dC5jb3JlLmZvcmNlT2ZmbGluZShlJiZlLnNvZnRGYWlsb3Zlcil9KSl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSwoZnVuY3Rpb24oZSl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5GQUlMT1ZFUiwoZnVuY3Rpb24oKXt0LmNvcmUuZm9yY2VPZmZsaW5lKGUmJmUuc29mdEZhaWxvdmVyLGUmJmUubmV4dEFjdGl2ZUFybil9KSl9KSksdC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5GQUlMT1ZFUiwoZnVuY3Rpb24oKXtvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gSW5pdGlhbGl6aW5nIHJlZ2lvbiAlcyBhcyBwYXJ0IG9mIGEgRGlzYXN0ZXIgUmVjb3ZlcnkgZmxlZXQiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSwoZnVuY3Rpb24oKXtvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gJXMgYWxyZWFkeSBwYXJ0IG9mIGEgRGlzYXN0ZXIgUmVjb3ZlcnkgZmxlZXQiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksZS5wb2xsRm9yRmFpbG92ZXImJnQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RSX1BPTExJTkc/dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RSX1BPTExJTkcse2luc3RhbmNlQXJuOmUuaW5zdGFuY2VBcm4sb3RoZXJBcm46ZS5vdGhlckFybixhdXRoVG9rZW46ZS5hdXRoVG9rZW59KTplLmlzUHJpbWFyeT8odC5jb3JlLnN1cHByZXNzQ29udGFjdHMoITEpLG8uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSAlcyBpbnN0YW5jZSBpcyBzZXQgdG8gcHJpbWFyeSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6KHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzKCEwKSx0LmNvcmUuZm9yY2VPZmZsaW5lKCksby5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldICVzIGluc3RhbmNlIGlzIHNldCB0byBzdGFuZC1ieSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LHQuY29yZS5pbml0PWZ1bmN0aW9uKGUpe3QuY29yZS5ldmVudEJ1cz1uZXcgdC5FdmVudEJ1cyx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IEQodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5pbml0Q2xpZW50KGUpLHQuY29yZS5pbml0QWdlbnRBcHBDbGllbnQoZSksdC5jb3JlLmluaXRUYXNrVGVtcGxhdGVzQ2xpZW50KGUpLHQuY29yZS5pbml0aWFsaXplZD0hMH0sdC5jb3JlLmluaXRDbGllbnQ9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpO3ZhciBuPXQuYXNzZXJ0Tm90TnVsbChlLmF1dGhUb2tlbiwicGFyYW1zLmF1dGhUb2tlbiIpLHI9dC5hc3NlcnROb3ROdWxsKGUucmVnaW9uLCJwYXJhbXMucmVnaW9uIiksbz1lLmVuZHBvaW50fHxudWxsO3QuY29yZS5jbGllbnQ9bmV3IHQuQVdTQ2xpZW50KG4scixvKX0sdC5jb3JlLmluaXRBZ2VudEFwcENsaWVudD1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIik7dmFyIG49dC5hc3NlcnROb3ROdWxsKGUuYXV0aFRva2VuLCJwYXJhbXMuYXV0aFRva2VuIikscj10LmFzc2VydE5vdE51bGwoZS5hdXRoQ29va2llTmFtZSwicGFyYW1zLmF1dGhDb29raWVOYW1lIiksbz10LmFzc2VydE5vdE51bGwoZS5hZ2VudEFwcEVuZHBvaW50LCJwYXJhbXMuYWdlbnRBcHBFbmRwb2ludCIpO3QuY29yZS5hZ2VudEFwcENsaWVudD1uZXcgdC5BZ2VudEFwcENsaWVudChyLG4sbyl9LHQuY29yZS5pbml0VGFza1RlbXBsYXRlc0NsaWVudD1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIik7dmFyIG49ZS50YXNrVGVtcGxhdGVzRW5kcG9pbnR8fGUuZW5kcG9pbnQ7dC5hc3NlcnROb3ROdWxsKG4sInRhc2tUZW1wbGF0ZXNFbmRwb2ludCIpLHQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50PW5ldyB0LlRhc2tUZW1wbGF0ZXNDbGllbnQobil9LHQuY29yZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXt0LmNvcmUuY2xpZW50PW5ldyB0Lk51bGxDbGllbnQsdC5jb3JlLmFwaVByb3h5Q2xpZW50PW5ldyB0Lk51bGxDbGllbnQsdC5jb3JlLmFnZW50QXBwQ2xpZW50PW5ldyB0Lk51bGxDbGllbnQsdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUubWFzdGVyQ2xpZW50PW5ldyB0Lk51bGxDbGllbnQ7dmFyIGU9dC5jb3JlLmdldEV2ZW50QnVzKCk7ZSYmZS51bnN1YnNjcmliZUFsbCgpLHQuY29yZS5idXM9bmV3IHQuRXZlbnRCdXMsdC5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW51bGwsdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bnVsbCx0LmNvcmUudXBzdHJlYW09bnVsbCx0LmNvcmUua2VlcGFsaXZlTWFuYWdlcj1udWxsLHQuc3RvcmFnZUFjY2Vzcy5yZXNldFN0b3JhZ2VBY2Nlc3NTdGF0ZSgpLHQuYWdlbnQuaW5pdGlhbGl6ZWQ9ITEsdC5jb3JlLmluaXRpYWxpemVkPSExfSx0LmNvcmUuc29mdHBob25lVXNlck1lZGlhU3RyZWFtPW51bGwsdC5jb3JlLnNldFNvZnRwaG9uZVVzZXJNZWRpYVN0cmVhbT1mdW5jdGlvbihlKXt0LmNvcmUuc29mdHBob25lVXNlck1lZGlhU3RyZWFtPWV9LHQuY29yZS5pbml0UmluZ3RvbmVFbmdpbmVzPWZ1bmN0aW9uKG4scil7dC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmUgRW5naW5lXSBpbml0UmluZ3RvbmVFbmdpbmUgc3RhcnRlZCIpLndpdGhPYmplY3Qoe3BhcmFtczpufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmFzc2VydE5vdE51bGwobiwicGFyYW1zIik7dmFyIG89cnx8ayxpPWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJyaW5ndG9uZVNldHRpbmdzIiksdC5hc3NlcnROb3ROdWxsKGUudm9pY2UsInJpbmd0b25lU2V0dGluZ3Mudm9pY2UiKSx0LmFzc2VydFRydWUoZS52b2ljZS5yaW5ndG9uZVVybHx8ZS52b2ljZS5kaXNhYmxlZCwicmluZ3RvbmVTZXR0aW5ncy52b2ljZS5yaW5ndG9uZVVybCBtdXN0IGJlIHByb3ZpZGVkIG9yIHJpbmd0b25lU2V0dGluZ3Mudm9pY2UuZGlzYWJsZWQgbXVzdCBiZSB0cnVlIiksdC5hc3NlcnROb3ROdWxsKGUucXVldWVfY2FsbGJhY2ssInJpbmd0b25lU2V0dGluZ3MucXVldWVfY2FsbGJhY2siKSx0LmFzc2VydFRydWUoZS5xdWV1ZV9jYWxsYmFjay5yaW5ndG9uZVVybHx8ZS5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZCwicmluZ3RvbmVTZXR0aW5ncy52b2ljZS5yaW5ndG9uZVVybCBtdXN0IGJlIHByb3ZpZGVkIG9yIHJpbmd0b25lU2V0dGluZ3MucXVldWVfY2FsbGJhY2suZGlzYWJsZWQgbXVzdCBiZSB0cnVlIiksdC5jb3JlLnJpbmd0b25lRW5naW5lcz17fSx0LmFnZW50KChmdW5jdGlvbihuKXtuLm9uUmVmcmVzaCgoZnVuY3Rpb24oKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlJJTkdUT05FLChmdW5jdGlvbigpe3ZhciBuPSExO2Uudm9pY2UuZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMudm9pY2V8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnZvaWNlPW5ldyB0LlZvaWNlUmluZ3RvbmVFbmdpbmUoZS52b2ljZSksbj0hMCx0LmdldExvZygpLmluZm8oIlZvaWNlUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5jaGF0LmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmNoYXR8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmNoYXQ9bmV3IHQuQ2hhdFJpbmd0b25lRW5naW5lKGUuY2hhdCksbj0hMCx0LmdldExvZygpLmluZm8oIkNoYXRSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLnRhc2suZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMudGFza3x8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMudGFzaz1uZXcgdC5UYXNrUmluZ3RvbmVFbmdpbmUoZS50YXNrKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiVGFza1Jpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUuZW1haWwuZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuZW1haWx8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmVtYWlsPW5ldyB0LkVtYWlsUmluZ3RvbmVFbmdpbmUoZS5lbWFpbCksbj0hMCx0LmdldExvZygpLmluZm8oIkVtYWlsUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy5xdWV1ZV9jYWxsYmFja3x8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMucXVldWVfY2FsbGJhY2s9bmV3IHQuUXVldWVDYWxsYmFja1Jpbmd0b25lRW5naW5lKGUucXVldWVfY2FsbGJhY2spLG49ITAsdC5nZXRMb2coKS5pbmZvKCJRdWV1ZUNhbGxiYWNrUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksbiYmdC5jb3JlLl9yaW5nZXJEZXZpY2VJZCYmbyh7ZGV2aWNlSWQ6dC5jb3JlLl9yaW5nZXJEZXZpY2VJZH0pfSkpfSkpfSkpLEwoKX0sYT1mdW5jdGlvbihlLG4pe2UucmluZ3RvbmU9ZS5yaW5ndG9uZXx8e30sZS5yaW5ndG9uZS52b2ljZT1lLnJpbmd0b25lLnZvaWNlfHx7fSxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrPWUucmluZ3RvbmUucXVldWVfY2FsbGJhY2t8fHt9LGUucmluZ3RvbmUuY2hhdD1lLnJpbmd0b25lLmNoYXR8fHtkaXNhYmxlZDohMH0sZS5yaW5ndG9uZS50YXNrPWUucmluZ3RvbmUudGFza3x8e2Rpc2FibGVkOiEwfSxlLnJpbmd0b25lLmVtYWlsPWUucmluZ3RvbmUuZW1haWx8fHtkaXNhYmxlZDohMH0sbi5zb2Z0cGhvbmUmJihuLnNvZnRwaG9uZS5kaXNhYmxlUmluZ3RvbmUmJihlLnJpbmd0b25lLnZvaWNlLmRpc2FibGVkPSEwLGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2suZGlzYWJsZWQ9ITApLG4uc29mdHBob25lLnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS52b2ljZS5yaW5ndG9uZVVybD1uLnNvZnRwaG9uZS5yaW5ndG9uZVVybCxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrLnJpbmd0b25lVXJsPW4uc29mdHBob25lLnJpbmd0b25lVXJsKSksbi5jaGF0JiYobi5jaGF0LmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUuY2hhdC5kaXNhYmxlZD0hMCksbi5jaGF0LnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS5jaGF0LnJpbmd0b25lVXJsPW4uY2hhdC5yaW5ndG9uZVVybCkpLG4udGFzayYmKG4udGFzay5kaXNhYmxlUmluZ3RvbmUmJihlLnJpbmd0b25lLnRhc2suZGlzYWJsZWQ9ITApLG4udGFzay5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUudGFzay5yaW5ndG9uZVVybD1uLnRhc2sucmluZ3RvbmVVcmwpKSxuLmVtYWlsJiYobi5lbWFpbC5kaXNhYmxlUmluZ3RvbmUmJihlLnJpbmd0b25lLmVtYWlsLmRpc2FibGVkPSEwKSxuLmVtYWlsLnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS5lbWFpbC5yaW5ndG9uZVVybD1uLmVtYWlsLnJpbmd0b25lVXJsKSksbi5yaW5ndG9uZSYmKGUucmluZ3RvbmUudm9pY2U9dC5tZXJnZShlLnJpbmd0b25lLnZvaWNlLG4ucmluZ3RvbmUudm9pY2V8fHt9KSxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrPXQubWVyZ2UoZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjayxuLnJpbmd0b25lLnZvaWNlfHx7fSksZS5yaW5ndG9uZS5jaGF0PXQubWVyZ2UoZS5yaW5ndG9uZS5jaGF0LG4ucmluZ3RvbmUuY2hhdHx8e30pLGUucmluZ3RvbmUudGFzaz10Lm1lcmdlKGUucmluZ3RvbmUudGFzayxuLnJpbmd0b25lLnRhc2t8fHt9KSxlLnJpbmd0b25lLmVtYWlsPXQubWVyZ2UoZS5yaW5ndG9uZS5lbWFpbCxuLnJpbmd0b25lLmVtYWlsfHx7fSkpfTtpZihhKG4sbiksdC5pc0ZyYW1lZCgpKXt2YXIgczt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihyKXtlLmNsZWFyVGltZW91dChzKSx0LmdldExvZygpLmluZm8oIltSaW5ndG9uZSBFbmdpbmVdIENvbmZpZ3VyZSBldmVudCBoYW5kbGVyIGV4ZWN1dGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnVuc3Vic2NyaWJlKCksYShuLHIpLFQuc2V0KG4ucmluZ3RvbmUpLGkobi5yaW5ndG9uZSl9KSk7dmFyIGM9VC5nZXQoKTtjJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtuJiZuLmlkJiYodC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmVFbmdpbmVdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5IGFuZCB3YWl0aW5nIGZvciBjb25maWd1cmUgTWVzc2FnZSBoYW5kbGVyIHRvIGV4ZWN1dGUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMudW5zdWJzY3JpYmUoKSxzPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltSaW5ndG9uZUVuZ2luZV0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCB3aXRob3V0IGNvbmZpZ3VyZSBtZXNzYWdlICYgSW5pdGlhbGl6aW5nIHNldHVwUmluZ3RvbmVFbmdpbmVzIChSaW5ndG9uZSBFbmdpbmUpIGZyb20gbG9jYWxTdG9yYWdlIHJpbmd0b25lIHBhcmFtcy4gIikud2l0aE9iamVjdCh7cmluZ3RvbmU6Y30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShjKX0pLDEwMCkpfSkpfWVsc2UgaShuLnJpbmd0b25lKX07dmFyIEw9ZnVuY3Rpb24oKXt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9SSU5HRVJfREVWSUNFLGspfSxrPWZ1bmN0aW9uKCl7dmFyIGU9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuZGV2aWNlSWR8fCIiO2lmKHQuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gQXR0ZW1wdGluZyB0byBzZXQgcmluZ2VyIGRldmljZSAiLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwwPT09dC5rZXlzKHQuY29yZS5yaW5ndG9uZUVuZ2luZXMpLmxlbmd0aClyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBzZXRSaW5nZXJEZXZpY2UgY2FsbGVkIGJlZm9yZSByaW5ndG9uZSBlbmdpbmUgaXMgaW5pdGlhbGl6ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQoZSYmKHQuY29yZS5fcmluZ2VyRGV2aWNlSWQ9ZSx0LmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIHN0b3JlZCBkZXZpY2UgSWQgZm9yIGxhdGVyIHVzZSwgb25jZSByaW5ndG9uZSBlbmdpbmUgaXMgdXAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IlNldFJpbmdlckRldmljZUJlZm9yZUluaXRSaW5ndG9uZUVuZ2luZSIsZGF0YTp7Y291bnQ6MX19KSkpO2lmKGUpe3ZhciBuPWZ1bmN0aW9uKG4pe3QuY29yZS5yaW5ndG9uZUVuZ2luZXNbbl0uc2V0T3V0cHV0RGV2aWNlKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gcmluZ3RvbmVUeXBlICIuY29uY2F0KG4sIiBzdWNjZXNzZnVsbHkgc2V0IHRvIGRldmljZWlkICIpLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcihlKX0pKX07Zm9yKHZhciByIGluIHQuY29yZS5yaW5ndG9uZUVuZ2luZXMpbihyKTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuUklOR0VSX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOmV9fSl9ZWxzZSB0LmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgcmluZ2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTt0LmNvcmUuaW5pdFNvZnRwaG9uZU1hbmFnZXI9ZnVuY3Rpb24obil7dmFyIHI9bnx8e307dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGluaXRTb2Z0cGhvbmVNYW5hZ2VyIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciBuPXQubWVyZ2Uoci5zb2Z0cGhvbmV8fHt9LGUpO3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBjb21wZXRlRm9yTWFzdGVyT25BZ2VudFVwZGF0ZSBleGVjdXRlZCIpLndpdGhPYmplY3Qoe3NvZnRwaG9uZVBhcmFtczpufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmFnZW50KChmdW5jdGlvbihlKXtlLmdldENoYW5uZWxDb25jdXJyZW5jeSh0LkNoYW5uZWxUeXBlLlZPSUNFKSYmZS5vblJlZnJlc2goKGZ1bmN0aW9uKCl7dmFyIHI9dGhpczt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gYWdlbnQgcmVmcmVzaCBoYW5kbGVyIGV4ZWN1dGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gY29uZmlybWVkIGFzIHNvZnRwaG9uZSBtYXN0ZXIgdG9waWMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCF0LmNvcmUuc29mdHBob25lTWFuYWdlciYmZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW5ldyB0LlNvZnRwaG9uZU1hbmFnZXIobiksci51bnN1YnNjcmliZSgpKX0pKX0pKX0pKX07aWYodC5pc0ZyYW1lZCgpJiZ0LmlzQ0NQKCkpe3ZhciBpO3QuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKG4pe2UuY2xlYXJUaW1lb3V0KGkpLHQuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBDb25maWd1cmUgZXZlbnQgaGFuZGxlciBleGVjdXRlZCIpLndpdGhPYmplY3Qoe2RhdGE6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksSS5zZXQobi5zb2Z0cGhvbmUpLG4uc29mdHBob25lJiZuLnNvZnRwaG9uZS5hbGxvd0ZyYW1lZFNvZnRwaG9uZSYmKHRoaXMudW5zdWJzY3JpYmUoKSxvKG4uc29mdHBob25lKSkscyhuLnNvZnRwaG9uZSl9KSk7dmFyIGE9SS5nZXQoKTthJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtuJiZuLmlkJiYodC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5IGFuZCB3YWl0aW5nIGZvciBjb25maWd1cmUgTWVzc2FnZSBoYW5kbGVyIHRvIGV4ZWN1dGUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMudW5zdWJzY3JpYmUoKSxpPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCB3aXRob3V0IGNvbmZpZ3VyZSBtZXNzYWdlIGhhbmRsZXIgZXhlY3V0aW9uIikud2l0aE9iamVjdCh7c29mdHBob25lUGFyYW1zRnJvbUxvY2FsU3RvcmFnZTphfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IkVtYmVkZGVkQ0NQUmVmcmVzaGVkV2l0aG91dEluaXRDQ1AiLGRhdGE6e2NvdW50OjF9fSkscyhhKSxhLmFsbG93RnJhbWVkU29mdHBob25lJiYodC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgJiBJbml0aWFsaXppbmcgY29tcGV0ZUZvck1hc3Rlck9uQWdlbnRVcGRhdGUgKFNvZnRwaG9uZSBtYW5hZ2VyKSBmcm9tIGxvY2FsU3RvcmFnZSBzb2Z0cGhvbmUgcGFyYW1zIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKGEpKX0pLDEwMCkpfSkpfWVsc2UgbyhyKSxzKHIpO2Z1bmN0aW9uIHMoZSl7dmFyIG49dC5tZXJnZShyLnNvZnRwaG9uZXx8e30sZSk7dC5jb3JlLnNvZnRwaG9uZVBhcmFtcz1uLHQuaXNGaXJlZm94QnJvd3NlcigpJiYodC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0UsKGZ1bmN0aW9uKGUpe2UuZGF0YSYmZS5kYXRhLnRvcGljPT09dC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FJiZlLmRhdGEudGFrZU92ZXImJmUuZGF0YS5tYXN0ZXJJZCE9PXQuY29yZS5wb3J0U3RyZWFtSWQmJnQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiYodC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIub25Jbml0Q29udGFjdFN1Yi51bnN1YnNjcmliZSgpLGRlbGV0ZSB0LmNvcmUuc29mdHBob25lTWFuYWdlcil9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OLChmdW5jdGlvbigpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FLChmdW5jdGlvbigpe3QuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiZ0LmNvcmUuc29mdHBob25lTWFuYWdlci5zdGFydFNlc3Npb24oKX0pLChmdW5jdGlvbigpe3QuYmVjb21lTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmFnZW50KChmdW5jdGlvbihlKXshdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJmUuaXNTb2Z0cGhvbmVFbmFibGVkKCkmJih0LmJlY29tZU1hc3Rlcih0Lk1hc3RlclRvcGljcy5TRU5EX0xPR1MpLHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW5ldyB0LlNvZnRwaG9uZU1hbmFnZXIobiksdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIuc3RhcnRTZXNzaW9uKCkpfSkpfSkpfSkpfSkpLHQuY29udGFjdCgoZnVuY3Rpb24oZSl7dC5hZ2VudCgoZnVuY3Rpb24obil7ZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2lmKHQuaGFzT3RoZXJDb25uZWN0ZWRDQ1BzKCkmJiJ2aXNpYmxlIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmKGUuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElOR3x8ZS5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlORykpe3ZhciByPWUuaXNTb2Z0cGhvbmVDYWxsKCkmJiFlLmlzSW5ib3VuZCgpLG89ZS5pc1NvZnRwaG9uZUNhbGwoKSYmbi5nZXRDb25maWd1cmF0aW9uKCkuc29mdHBob25lQXV0b0FjY2VwdCxpPWUuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSzsocnx8b3x8aSkmJnQuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50KCl9fSkpfSkpfSkpKX10LmFnZW50KChmdW5jdGlvbihlKXtlLmlzU29mdHBob25lRW5hYmxlZCgpJiZlLmdldENoYW5uZWxDb25jdXJyZW5jeSh0LkNoYW5uZWxUeXBlLlZPSUNFKSYmdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5FdmVudFR5cGUuTVVURX0pfSkpfSx0LmNvcmUudHJpZ2dlclJlYWR5VG9TdGFydFNlc3Npb25FdmVudD1mdW5jdGlvbigpe3ZhciBlPXQuY29yZS5zb2Z0cGhvbmVQYXJhbXMmJnQuY29yZS5zb2Z0cGhvbmVQYXJhbXMuYWxsb3dGcmFtZWRTb2Z0cGhvbmU7dC5pc0NDUCgpP2U/dC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6dC5pc0ZyYW1lZCgpP3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTp0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTplP3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6dC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTil9LHQuY29yZS5pbml0UGFnZU9wdGlvbnM9ZnVuY3Rpb24oZSl7aWYodC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpLHQuaXNGcmFtZWQoKSl7dmFyIG49dC5jb3JlLmdldEV2ZW50QnVzKCk7bi5zdWJzY3JpYmUodC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuQ09ORklHVVJFLGRhdGE6ZX0pfSkpLG4uc3Vic2NyaWJlKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVFVRVNULChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFU1BPTlNFLGUpfW5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcz9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtkZXZpY2VzPXR8fFtdLGRldmljZXM9ZGV2aWNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSkpLGUoZGV2aWNlcyl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2Uoe2Vycm9yOnQubWVzc2FnZX0pfSkpOmUoe2Vycm9yOiJObyBuYXZpZ2F0b3Igb3IgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBvYmplY3QgZm91bmQifSl9KSl9fSx0LmNvcmUuaW5pdEFwaVByb3h5U2VydmljZT1mdW5jdGlvbigpe3QuY29yZS5hcGlQcm94eUNsaWVudD1uZXcgdC5BcGlQcm94eUNsaWVudCx0LmlzRnJhbWVkKCkmJih0LmNvcmUuaGFuZGxlQXBpUHJveHlSZXF1ZXN0PWZ1bmN0aW9uKGUpe251bGwhPWUmJmUubWV0aG9kJiZ0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKS5jYWxsKGUubWV0aG9kLGUucGFyYW1zLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciByPXtkYXRhOm4scmVxdWVzdElkOmUucmVxdWVzdElkfTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0Uscil9LGZhaWx1cmU6ZnVuY3Rpb24obil7dmFyIHI9e2VycjpuLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLHIpfX0pfSl9LHQuY29yZS5nZXRGcmFtZU1lZGlhRGV2aWNlcz1mdW5jdGlvbihlKXt2YXIgbj1udWxsLHI9ZXx8MWUzLG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KG5ldyBFcnJvcigiVGltZW91dCBleGNlZWRlZCIpKX0pLHIpfSkpLGk9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7aWYodC5pc0NDUCgpKW5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcz9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtkZXZpY2VzPXR8fFtdLGRldmljZXM9ZGV2aWNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSkpLGUoZGV2aWNlcyl9KSk6cihuZXcgRXJyb3IoIk5vIG5hdmlnYXRvciBvciBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIG9iamVjdCBmb3VuZCIpKTtlbHNle3ZhciBvPXQuY29yZS5nZXRFdmVudEJ1cygpO249by5zdWJzY3JpYmUodC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFU1BPTlNFLChmdW5jdGlvbih0KXt0LmVycm9yP3IobmV3IEVycm9yKHQuZXJyb3IpKTplKHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVRVUVTVCl9fSkpO3JldHVybiBQcm9taXNlLnJhY2UoW2ksb10pLmZpbmFsbHkoKGZ1bmN0aW9uKCl7biYmbi51bnN1YnNjcmliZSgpfSkpfSx0LmNvcmUuYXV0aG9yaXplPWZ1bmN0aW9uKGUpe3ZhciBuPWU7cmV0dXJuIG58fChuPXQuY29yZS5pc0xlZ2FjeURvbWFpbigpP2Q6bCksdC5mZXRjaChuLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9LDJlMyw1KX0sdC5jb3JlLnZlcmlmeURvbWFpbkFjY2Vzcz1mdW5jdGlvbihlLG4pe2lmKHQuZ2V0TG9nKCkud2FybigiVGhpcyBBUEkgd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gcmVsZWFzZSIpLCF0LmlzRnJhbWVkKCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3ZhciByPXtoZWFkZXJzOnsiWC1BbXotQmVhcmVyIjplfX0sbz1udWxsO3JldHVybiBvPW58fCh0LmNvcmUuaXNMZWdhY3lEb21haW4oKT8iL2Nvbm5lY3Qvd2hpdGVsaXN0ZWQtb3JpZ2lucyI6Ii93aGl0ZWxpc3RlZC1vcmlnaW5zIiksdC5mZXRjaChvLHIsMmUzLDUpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PXcod2luZG93LmRvY3VtZW50LnJlZmVycmVyKTtyZXR1cm4gZS53aGl0ZWxpc3RlZE9yaWdpbnMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT13KGUpfSkpP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVqZWN0KCl9KSl9LHQuY29yZS5pc0xlZ2FjeURvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4oZT1lfHx3aW5kb3cubG9jYXRpb24uaHJlZikuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpfSx0LmNvcmUuaW5pdFNoYXJlZFdvcmtlcj1mdW5jdGlvbihuKXtpZih0LmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCF0LmNvcmUuaW5pdGlhbGl6ZWQpe3QuYXNzZXJ0Tm90TnVsbChuLCJwYXJhbXMiKTt2YXIgcj10LmFzc2VydE5vdE51bGwobi5zaGFyZWRXb3JrZXJVcmwsInBhcmFtcy5zaGFyZWRXb3JrZXJVcmwiKSxvPXQuYXNzZXJ0Tm90TnVsbChuLmF1dGhUb2tlbiwicGFyYW1zLmF1dGhUb2tlbiIpLGk9dC5hc3NlcnROb3ROdWxsKG4ucmVmcmVzaFRva2VuLCJwYXJhbXMucmVmcmVzaFRva2VuIiksYT10LmFzc2VydE5vdE51bGwobi5hdXRoVG9rZW5FeHBpcmF0aW9uLCJwYXJhbXMuYXV0aFRva2VuRXhwaXJhdGlvbiIpLHM9dC5hc3NlcnROb3ROdWxsKG4ucmVnaW9uLCJwYXJhbXMucmVnaW9uIiksYz1uLmVuZHBvaW50fHxudWxsLHU9bi5hdXRob3JpemVFbmRwb2ludDt1fHwodT10LmNvcmUuaXNMZWdhY3lEb21haW4oKT9kOmwpO3ZhciBwPW4uYWdlbnRBcHBFbmRwb2ludHx8bnVsbCxoPW4udGFza1RlbXBsYXRlc0VuZHBvaW50fHxudWxsLGY9bi5hdXRoQ29va2llTmFtZXx8bnVsbDt0cnl7dC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITB9KSx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IEQodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KG4pO3ZhciBnPW5ldyBTaGFyZWRXb3JrZXIociwiQ29ubmVjdFNoYXJlZFdvcmtlciIpLG09bmV3IHQuQ29uZHVpdCgiQ29ubmVjdFNoYXJlZFdvcmtlckNvbmR1aXQiLG5ldyB0LlBvcnRTdHJlYW0oZy5wb3J0KSxuZXcgdC5XaW5kb3dJT1N0cmVhbSh3aW5kb3cscGFyZW50KSk7dC5jb3JlLnVwc3RyZWFtPW0sdC5jb3JlLndlYlNvY2tldFByb3ZpZGVyPW5ldyBQLGUub251bmxvYWQ9ZnVuY3Rpb24oKXttLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5DTE9TRSksZy5wb3J0LmNsb3NlKCl9LHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbUxvZ1B1c2gobSksdC5nZXRMb2coKS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2goKSxtLm9uQWxsVXBzdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLG0ub25BbGxVcHN0cmVhbShtLnBhc3NEb3duc3RyZWFtKCkpLHQuaXNGcmFtZWQoKSYmKG0ub25BbGxEb3duc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSxtLm9uQWxsRG93bnN0cmVhbSgoZnVuY3Rpb24oZSxuKXtuPT09dC5FdmVudFR5cGUuQVBJX1JFUVVFU1QmJnQuY29udGFpbnNWYWx1ZSh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcyxudWxsPT1lP3ZvaWQgMDplLm1ldGhvZCk/dC5jb3JlLmhhbmRsZUFwaVByb3h5UmVxdWVzdChlKTptLnBhc3NVcHN0cmVhbSgpKGUsbil9KSkpLG0uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSx7YXV0aFRva2VuOm8sYXV0aFRva2VuRXhwaXJhdGlvbjphLGVuZHBvaW50OmMscmVmcmVzaFRva2VuOmkscmVnaW9uOnMsYXV0aG9yaXplRW5kcG9pbnQ6dSxhZ2VudEFwcEVuZHBvaW50OnAsdGFza1RlbXBsYXRlc0VuZHBvaW50OmgsYXV0aENvb2tpZU5hbWU6Zixsb25nUG9sbGluZ09wdGlvbnM6bi5sb25nUG9sbGluZ09wdGlvbnN8fHZvaWQgMH0pLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJBY2tub3dsZWRnZWQgYnkgdGhlIENvbm5lY3RTaGFyZWRXb3JrZXIhIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLl9zZXRUYWJJZCgpLHQuY29yZS5wb3J0U3RyZWFtSWQ9ZS5pZCx0aGlzLnVuc3Vic2NyaWJlKCl9KSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLChmdW5jdGlvbihlKXt0LmdldExvZygpLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXIodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSxtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLChmdW5jdGlvbihlKXt0LmlzRnJhbWVkKCkmJkFycmF5LmlzQXJyYXkoZSkmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5zZW5kSW50ZXJuYWxMb2dFbnRyeVRvU2VydmVyKHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSl9KSksbS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXt0LmlzRnJhbWVkKCkmJmUubG9nZ2VySWQhPT10LmdldExvZygpLmdldExvZ2dlcklkKCkmJnQuZ2V0TG9nKCkuYWRkTG9nRW50cnkodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSx0LmNvcmUub25BdXRoRmFpbCh0LmhpdGNoKHQuY29yZSx0LmNvcmUuX2hhbmRsZUF1dGhGYWlsLG4ubG9naW5FbmRwb2ludHx8bnVsbCx1KSksdC5jb3JlLm9uQXV0aG9yaXplU3VjY2Vzcyh0LmhpdGNoKHQuY29yZSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZVN1Y2Nlc3MpKSx0LmdldExvZygpLmluZm8oIlVzZXIgQWdlbnQ6ICIrbmF2aWdhdG9yLnVzZXJBZ2VudCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oImlzQ0NQdjI6ICIrITApLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nZXRMb2coKS5pbmZvKCJpc0ZyYW1lZDogIit0LmlzRnJhbWVkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLnVwc3RyZWFtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8sKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3RyZWFtc1ZlcnNpb258fG51bGw7dC5nZXRMb2coKS5pbmZvKCJTdHJlYW1zSlMgVmVyc2lvbjogIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQub3V0ZXJDb250ZXh0U3RyZWFtc1ZlcnNpb249bn0pKSxtLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIk51bWJlciBvZiBjb25uZWN0ZWQgQ0NQcyB1cGRhdGVkOiAiK2UubGVuZ3RoKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RoLGVbdC5jb3JlLnRhYklkXSYmIWlzTmFOKGVbdC5jb3JlLnRhYklkXS5sZW5ndGgpJiZ0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYiE9PWVbdC5jb3JlLnRhYklkXS5sZW5ndGgmJih0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYj1lW3QuY29yZS50YWJJZF0ubGVuZ3RoLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPjEmJnQuZ2V0TG9nKCkud2FybigiVGhlcmUgYXJlICIrdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWIrIiBjb25uZWN0ZWQgQ0NQcyBpbiB0aGlzIHRhYi4gUGxlYXNlIGFkanVzdCB5b3VyIGltcGxlbWVudGF0aW9uIHRvIGF2b2lkIGNvbXBsaWNhdGlvbnMuIElmIHlvdSBhcmUgZW1iZWRkaW5nIENDUCwgcGxlYXNlIGRvIHNvIGV4Y2x1c2l2ZWx5IHdpdGggaW5pdENDUC4gSW5pdENDUCB3aWxsIG5vdCBsZXQgeW91IGVtYmVkIG1vcmUgdGhhbiBvbmUgQ0NQLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDb25uZWN0ZWRDQ1BTaW5nbGVUYWJDb3VudCIsZGF0YTp7Y291bnQ6dC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWJ9fSkpLGUudGFiSWQmJmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyJiZ0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLk1FVFJJQ1MsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYWdlbnQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQucHVibGlzaE1ldHJpYyh7bmFtZToiQ0NQVGFic0Fjcm9zc0Jyb3dzZXJDb3VudCIsZGF0YTp7dGFiSWQ6ZS50YWJJZCxjb3VudDplLnN0cmVhbXNUYWJzQWNyb3NzQnJvd3Nlcn19KX0pKX0pKX0pKSx0LmNvcmUuY2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdENsaWVudChtKSx0LmNvcmUubWFzdGVyQ2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChtKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuVEVSTUlOQVRFLG0ucGFzc1Vwc3RyZWFtKCkpLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEVELChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoITApfSkpLGcucG9ydC5zdGFydCgpLG0ub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5hZ2VudCgoZnVuY3Rpb24oKXsobmV3IHQuVm9pY2VJZCkuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInZvaWNlSWQgZG9tYWluSWQgc3VjY2Vzc2Z1bGx5IGZldGNoZWQgYXQgYWdlbnQgaW5pdGlhbGl6YXRpb246ICIrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJ2b2ljZUlkIGRvbWFpbklkIG5vdCBmZXRjaGVkIGF0IGFnZW50IGluaXRpYWxpemF0aW9uIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfSkpLHQuY29yZS5nZXROb3RpZmljYXRpb25NYW5hZ2VyKCkucmVxdWVzdFBlcm1pc3Npb24oKSxtLm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9ESVNBU1RFUl9SRUNPVkVSWSwoZnVuY3Rpb24oZSl7dC5jb3JlLmluaXREaXNhc3RlclJlY292ZXJ5KGUpfSkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBBUEkgc2hhcmVkIHdvcmtlciwgd2UncmUgZGVhZCEiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fX0sdC5jb3JlLl9zZXRUYWJJZD1mdW5jdGlvbigpe3RyeXt0LmNvcmUudGFiSWQ9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuVEFCX0lEKSx0LmNvcmUudGFiSWR8fCh0LmNvcmUudGFiSWQ9dC5yYW5kb21JZCgpLHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLlRBQl9JRCx0LmNvcmUudGFiSWQpKSx0LmNvcmUudXBzdHJlYW0uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlRBQl9JRCx7dGFiSWQ6dC5jb3JlLnRhYklkfSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZF0gVGhlcmUgd2FzIGFuIGlzc3VlIHNldHRpbmcgdGhlIHRhYiBJZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5zZXR1cEF1dGhlbnRpY2F0aW9uRXZlbnRIYW5kbGVycz1mdW5jdGlvbihlLG4scil7dmFyIG87dC5jb3JlLmxvZ2luQWNrVGltZW91dFN1Yj10LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQsKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuYXV0aGVudGljYXRlKGUsbixyKX0pKSxudWxsIT09KG89ZS5sb2dpbk9wdGlvbnMpJiZ2b2lkIDAhPT1vJiZvLmVuYWJsZUFja1RpbWVvdXR8fCh0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuVEVSTUlOQVRFRCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIlRFUk1JTkFURUQgb2NjdXJyZWQuIEF0dGVtcHRpbmcgdG8gYXV0aGVudGljYXRlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmF1dGhlbnRpY2F0ZShlLG4scil9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFVVEhfRkFJTCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuYXV0aGVudGljYXRlKGUsbixyKX0pKSl9LHQuY29yZS5pbml0Q0NQPWZ1bmN0aW9uKHIsbyl7dmFyIGksYTtpZih0LmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCF0LmNvcmUuaW5pdGlhbGl6ZWQpe3QuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBjPURhdGUubm93KCk7dHJ5e2lmKHQuY29yZS5fZ2V0Q0NQSWZyYW1lKCkpcmV0dXJuIHZvaWQgdC5nZXRMb2coKS5lcnJvcigiQXR0ZW1wdGVkIHRvIGNhbGwgaW5pdENDUCB3aGVuIGFuIGlmcmFtZSBnZW5lcmF0ZWQgYnkgaW5pdENDUCBhbHJlYWR5IGV4aXN0cyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgaWYgaW5pdENDUCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX12YXIgdT17fSxsPXZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIG8/dS5jY3BVcmw9bzoodT1vKS5wcm92aWRlciYmKGw9dS5wcm92aWRlcixkZWxldGUgdS5wcm92aWRlciksdC5hc3NlcnROb3ROdWxsKHIsImNvbnRhaW5lckRpdiIpLHQuYXNzZXJ0Tm90TnVsbCh1LmNjcFVybCwicGFyYW1zLmNjcFVybCIpLGwpdHJ5e3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT17cHJvdmlkZXI6bCxpc1N0cmVhbXNQcm92aWRlcjohMX0sdC5nZXRMb2coKS5pbmZvKCJVc2luZyBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZCxwcm92aWRlclR5cGU6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLmNvbnN0cnVjdG9yLm5hbWV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIHdoZW4gc2V0dGluZyB1cCBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSB0cnl7dmFyIHA9big2NTApLkFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSxkPXtpbnN0YW5jZVVybDpuZXcgVVJMKHUuY2NwVXJsKS5vcmlnaW59O3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT1zKHMoe30scC5pbml0KGQpKSx7fSx7aXNTdHJlYW1zUHJvdmlkZXI6ITB9KSx0LmdldExvZygpLmluZm8oIkNyZWF0ZWQgQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIikud2l0aE9iamVjdCh7cHJvdmlkZXJJZDp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuaWR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIHdoZW4gc2V0dGluZyB1cCBBbWF6b25Db25uZWN0U3RyZWFtc1NpdGUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9dC5jb3JlLmlmcmFtZVN0eWxlPXUuc3R5bGV8fCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyIsbnVsbCE9PShpPXUuc29mdHBob25lKSYmdm9pZCAwIT09aSYmaS5kaXNhYmxlU3RvcmluZ1BhcmFtc0luTG9jYWxTdG9yYWdlfHwoSS5jbGVhbigpLFQuY2xlYW4oKSk7dmFyIGYsbSx5LEUsUz1udWxsO2lmKCEwPT09KG51bGw9PT0oYT11KXx8dm9pZCAwPT09YT92b2lkIDA6YS5lbmFibGVHbG9iYWxSZXNpbGllbmN5KSlpZigic3RyaW5nIiE9dHlwZW9mKG51bGw9PT0oZj11KXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5zZWNvbmRhcnlDQ1BVcmwpfHwiIj09PShudWxsPT09KG09dSl8fHZvaWQgMD09PW0/dm9pZCAwOm0uc2Vjb25kYXJ5Q0NQVXJsKSl7dmFyIEM9ImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCwgYnV0IHNlY29uZGFyeUNDUFVybCB3YXMgbm90IHByb3ZpZGVkLiBHbG9iYWwgUmVzaWxpZW5jeSB3aWxsIG5vdCBiZSBlbmFibGVkIjt0LmdldExvZygpLmVycm9yKEMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUz17ZXZlbnQ6dC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixkYXRhOm5ldyBFcnJvcihDKX19ZWxzZXtpZigic3RyaW5nIj09dHlwZW9mKG51bGw9PT0oeT11KXx8dm9pZCAwPT09eT92b2lkIDA6eS5sb2dpblVybCkmJiIiIT09KG51bGw9PT0oRT11KXx8dm9pZCAwPT09RT92b2lkIDA6RS5sb2dpblVybCkpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSBmbGFnIHdhcyBlbmFibGVkIGFuZCBzZWNvbmRhcnlDQ1BVcmwgYW5kIGxvZ2luVXJsIHdhcyBwcm92aWRlZC4gR2xvYmFsIFJlc2lsaWVuY3kgd2lsbCBiZSBlbmFibGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0Lmdsb2JhbFJlc2lsaWVuY3kuaW5pdEdSQ0NQKHIsbyk7dmFyIHc9ImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCwgYnV0IGxvZ2luVXJsIHdhcyBub3QgcHJvdmlkZWQuIEdsb2JhbCBSZXNpbGllbmN5IHdpbGwgbm90IGJlIGVuYWJsZWQiO3QuZ2V0TG9nKCkuZXJyb3Iodykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxTPXtldmVudDp0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0VSUk9SLGRhdGE6bmV3IEVycm9yKHcpfX10LnN0b3JhZ2VBY2Nlc3MuaW5pdCh1LmNjcFVybCxyLHUuc3RvcmFnZUFjY2Vzc3x8e30pO3ZhciBBPXQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKHIsdSksUj1uZXcgdC5JRnJhbWVDb25kdWl0KHUuY2NwVXJsLHdpbmRvdyxBKTt0LmNvcmUudXBzdHJlYW09Uix0LmNvcmUuZXZlbnRCdXM9bmV3IHQuRXZlbnRCdXMoe2xvZ0V2ZW50czohMX0pLHQuc3RvcmFnZUFjY2Vzcy5jYW5SZXF1ZXN0KCk/dC5zdG9yYWdlQWNjZXNzLnNldHVwUmVxdWVzdEhhbmRsZXJzKHtvbkdyYW50Ok99KTpPKCl9ZnVuY3Rpb24gTygpe3QuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgRCh0LmNvcmUuZ2V0RXZlbnRCdXMoKSksdC5jb3JlLm1lZGlhRmFjdG9yeT1uZXcgdC5NZWRpYUZhY3RvcnkodSksdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShBLFIpLHQuY29yZS53ZWJTb2NrZXRQcm92aWRlcj1uZXcgUCxSLm9uQWxsVXBzdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLHQuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPW5ldyBOKFIsdC5jb3JlLmdldEV2ZW50QnVzKCksdS5jY3BTeW5UaW1lb3V0fHwxZTMsdS5jY3BBY2tUaW1lb3V0fHwzZTMpLHQuY29yZS5pZnJhbWVSZWZyZXNoVGltZW91dD1udWxsLHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsLHQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQpLHQuZ2V0TG9nKCkuaW5mbygiQ0NQIExvYWRUaW1lb3V0IHRyaWdnZXJlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSx1LmNjcExvYWRUaW1lb3V0fHw1ZTMpLHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUExvZ3NQdXNoKFIpLHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1B1c2goUiksUi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXt0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ0NQISIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRDbGllbnQoUiksdC5jb3JlLm1hc3RlckNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoUiksdC5jb3JlLnBvcnRTdHJlYW1JZD1uLmlkLHQuY29yZS5zZW5kQ29uZmlndXJlKHUsUiwhMSksdC5jb3JlLmxpc3RlbkZvckNvbmZpZ3VyZVJlcXVlc3QodSxSLCExKSx1LmRpc2FzdGVyUmVjb3ZlcnlPbiYmKHQuY29yZS5yZWdpb249dS5yZWdpb24sdC5jb3JlLnN1cHByZXNzQ29udGFjdHM9Xyx0LmNvcmUuZm9yY2VPZmZsaW5lPWZ1bmN0aW9uKGUpe1Iuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TRVRfT0ZGTElORSxlKX0sUi5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRElTQVNURVJfUkVDT1ZFUlksdSkpLHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlJiYoZS5jbGVhclRpbWVvdXQodC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UpLHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwpLFIuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTyx7c3RyZWFtc1ZlcnNpb246dC52ZXJzaW9ufSk7dmFyIHI9KHUubG9naW5PcHRpb25zfHx7fSkuZW5hYmxlQWNrVGltZW91dDtpZihyJiZ0LmNvcmUua2VlcGFsaXZlTWFuYWdlci5lbmFibGVBY2tUaW1lb3V0KHIpLHQuY29yZS5rZWVwYWxpdmVNYW5hZ2VyLnN0YXJ0KCksdGhpcy51bnN1YnNjcmliZSgpLHQuY29yZS5pbml0aWFsaXplZD0hMCx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLklOSVQpLFMmJnQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoUy5ldmVudCxTLmRhdGEpLGMpe3ZhciBvPURhdGUubm93KCktYyxpPXQuY29yZS5pZnJhbWVSZWZyZXNoQXR0ZW1wdHx8MDt0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHRpbWUgIi5jb25jYXQobykpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgcmVmcmVzaCBhdHRlbXB0cyAiLmNvbmNhdChpKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpoLGRhdGE6e2NvdW50Oml9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOnYsZGF0YTp7Y291bnQ6MX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IklmcmFtZUluaXRpYWxpemF0aW9uVGltZSIsZGF0YTp7Y291bnQ6b319KSx1LmRpc2FzdGVyUmVjb3ZlcnlPbiYmKHQucHVibGlzaE1ldHJpYyh7bmFtZTpnLGRhdGE6e2NvdW50Oml9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOmIsZGF0YTp7Y291bnQ6MX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IklmcmFtZUluaXRpYWxpemF0aW9uVGltZURyIixkYXRhOntjb3VudDpvfX0pKSxjPW51bGx9KSwxZTMpfX0pKSxSLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXtlLmxvZ2dlcklkIT09dC5nZXRMb2coKS5nZXRMb2dnZXJJZCgpJiZ0LmdldExvZygpLmFkZExvZ0VudHJ5KHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSksdC5jb3JlLnNldHVwQXV0aGVudGljYXRpb25FdmVudEhhbmRsZXJzKHUscixSKSx1Lm9uVmlld0NvbnRhY3QmJnQuY29yZS5vblZpZXdDb250YWN0KHUub25WaWV3Q29udGFjdCksUi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUywoZnVuY3Rpb24oZSl7dC5udW1iZXJPZkNvbm5lY3RlZENDUHM9ZS5sZW5ndGh9KSksUi5vblVwc3RyZWFtKHQuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELChmdW5jdGlvbihlKXtlJiZlLmRvbWFpbklkJiYodC5jb3JlLnZvaWNlSWREb21haW5JZD1lLmRvbWFpbklkKX0pKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuSUZSQU1FX1JFVFJJRVNfRVhIQVVTVEVELChmdW5jdGlvbigpe2lmKGMpe3ZhciBlPXQuY29yZS5pZnJhbWVSZWZyZXNoQXR0ZW1wdC0xO3QuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nZXRMb2coKS5pbmZvKCJUaW1lIGFmdGVyIGlmcmFtZSBpbml0aWFsaXphdGlvbiBzdGFydGVkICIuY29uY2F0KERhdGUubm93KCktYykpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgcmVmcmVzaCBhdHRlbXB0cyAiLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6aCxkYXRhOntjb3VudDplfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTp2LGRhdGE6e2NvdW50OjB9fSksdS5kaXNhc3RlclJlY292ZXJ5T24mJih0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZyxkYXRhOntjb3VudDplfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpiLGRhdGE6e2NvdW50OjB9fSkpLGM9bnVsbH19KSksdC5jb3JlLnNvZnRwaG9uZVBhcmFtcz11LnNvZnRwaG9uZX19LHQuY29yZS5fb3BlblBvcHVwV2l0aExvY2s9ZnVuY3Rpb24oZSxuKXt2YXIgcj0iY29ubmVjdC1sb2dpbi1wb3B1cC1sb2NrIitlO3RyeXtuYXZpZ2F0b3IubG9ja3MucmVxdWVzdChyLHttb2RlOiJleGNsdXNpdmUiLGlmQXZhaWxhYmxlOiEwfSxmdW5jdGlvbigpe3ZhciByLGE9KHI9bygpLm1hcmsoKGZ1bmN0aW9uIHIoaSl7dmFyIGE7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDppZihpKXtyLm5leHQ9MzticmVha31yZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJQb3B1cCBhbHJlYWR5IG9wZW5lZCBieSBhbm90aGVyIHRhYi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDM6dC5nZXRMb2coKS5pbmZvKCJPcGVuaW5nIHBvcHVwIHdpbmRvdyB3aXRoIHdlYmxvY2suIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUubG9naW5XaW5kb3c9dC5jb3JlLmdldFBvcHVwTWFuYWdlcigpLm9wZW4oZSx0Lk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCxuKSx0LmNvcmUuX3Nob3VsZEhvbGRQb3B1cExvY2s9ITAsYT1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXt2YXIgZTsoIXQuY29yZS5sb2dpbldpbmRvd3x8bnVsbCE9PShlPXQuY29yZS5sb2dpbldpbmRvdykmJnZvaWQgMCE9PWUmJmUuY2xvc2VkKSYmKGNsZWFySW50ZXJ2YWwoYSksdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrPSExLHQuZ2V0TG9nKCkuaW5mbygiQ2xlYXJlZCBjaGVjayBwb3B1cCBpbnRlcnZhbC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX0pLDFlMyk7Y2FzZSA3OmlmKCF0LmNvcmUuX3Nob3VsZEhvbGRQb3B1cExvY2spe3IubmV4dD0xMjticmVha31yZXR1cm4gci5uZXh0PTEwLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLDFlMyl9KSk7Y2FzZSAxMDpyLm5leHQ9NzticmVhaztjYXNlIDEyOnQuZ2V0TG9nKCkuaW5mbygiUmVsZWFzaW5nIHdlYmxvY2sgZm9yIG9wZW5pbmcgbG9naW4gcG9wdXAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtjYXNlIDEzOmNhc2UiZW5kIjpyZXR1cm4gci5zdG9wKCl9fSkscil9KSksZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixvKXt2YXIgYT1yLmFwcGx5KGUsdCk7ZnVuY3Rpb24gcyhlKXtpKGEsbixvLHMsYywibmV4dCIsZSl9ZnVuY3Rpb24gYyhlKXtpKGEsbixvLHMsYywidGhyb3ciLGUpfXModm9pZCAwKX0pKX0pO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpKX1jYXRjaChyKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gdXNlIHdlYmxvY2sgdG8gb3BlbiBwb3B1cC4gWW91ciBicm93c2VyIG1heSBiZSBvdXQgb2YgZGF0ZS4iKS53aXRoRXhjZXB0aW9uKHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmxvZ2luV2luZG93fHwodC5jb3JlLmxvZ2luV2luZG93PXQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5vcGVuKGUsdC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVAsbikpfX0sdC5jb3JlLm9uSWZyYW1lUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCxlKX0sdC5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0PWZ1bmN0aW9uKG4scixvLGkpe3QuYXNzZXJ0Tm90TnVsbChuLCJpbml0Q0NQUGFyYW1zIiksdC5hc3NlcnROb3ROdWxsKHIsImNvbnRhaW5lckRpdiIpO3ZhciBhPW98fHQuY29yZSxzPW4uY2NwTG9hZFRpbWVvdXQ/bi5jY3BMb2FkVGltZW91dDpuLmRpc2FzdGVyUmVjb3ZlcnlPbj8xZTQ6NWUzO2UuY2xlYXJUaW1lb3V0KGEuaWZyYW1lUmVmcmVzaFRpbWVvdXQpLGEuaWZyYW1lUmVmcmVzaFRpbWVvdXQ9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2EuaWZyYW1lUmVmcmVzaEF0dGVtcHQ9KGEuaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDApKzEsYS5pZnJhbWVSZWZyZXNoQXR0ZW1wdDw9MTA/KHQuZ2V0TG9nKCkuaW5mbygiUmVmcmVzaGluZyB0aGUgQ0NQIElGcmFtZSBmb3IgIi5jb25jYXQobi5jY3BVcmwsIiBvbiBhdHRlbXB0ICIpLmNvbmNhdChhLmlmcmFtZVJlZnJlc2hBdHRlbXB0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuX3JlcGxhY2VDQ1BJZnJhbWUocixuLGkpLHQuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dChuLHIsbyxpKSk6KHQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5FdmVudFR5cGUuSUZSQU1FX1JFVFJJRVNfRVhIQVVTVEVELGkpLGUuY2xlYXJUaW1lb3V0KGEuaWZyYW1lUmVmcmVzaFRpbWVvdXQpKX0pLHMpfSx0LmNvcmUuX3JlcGxhY2VDQ1BJZnJhbWU9ZnVuY3Rpb24oZSxuLHIpe3RyeXt2YXIgbz10LmNvcmUuX2dldENDUElmcmFtZShyKSxpPW51bGw7byYmKGk9by5zdHlsZSxvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobykpO3ZhciBhPXQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGUsbixyKTtpJiYoYS5zdHlsZT1pLmNzc1RleHQpLHQuY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiB0LkdSUHJveHlJZnJhbWVDb25kdWl0P3QuY29yZS51cHN0cmVhbS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaWZyYW1lLmRhdGFzZXQuaWRlbnRpZmllcj09PXImJihlLnVwc3RyZWFtLm91dHB1dD1hLmNvbnRlbnRXaW5kb3csZS5pZnJhbWU9YSl9KSk6dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW0ub3V0cHV0PWEuY29udGVudFdpbmRvdyx0LmNvcmUuX3NlbmRJZnJhbWVTdHlsZURhdGFVcHN0cmVhbUFmdGVyUmVhc29uYWJsZVdhaXRUaW1lKGEsdC5jb3JlLnVwc3RyZWFtKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGlsZSBjaGVja2luZyBmb3IsIGFuZCByZWNyZWF0aW5nLCB0aGUgQ0NQIElGcmFtZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5fZ2V0Q0NQSWZyYW1lPWZ1bmN0aW9uKGUpe3ZhciB0LG49dSh3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpKTt0cnl7Zm9yKG4ucygpOyEodD1uLm4oKSkuZG9uZTspe3ZhciBvLGk9dC52YWx1ZTtpZihpLm5hbWU9PT1yJiYoIWV8fChudWxsPT09KG89aS5kYXRhc2V0KXx8dm9pZCAwPT09bz92b2lkIDA6by5pZGVudGlmaWVyKT09PWUpKXJldHVybiBpfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX1yZXR1cm4gbnVsbH0sdC5jb3JlLl9jcmVhdGVDQ1BJZnJhbWU9ZnVuY3Rpb24oZSxuLG8pe3ZhciBpO3QuYXNzZXJ0Tm90TnVsbChuLCJpbml0Q0NQUGFyYW1zIiksdC5hc3NlcnROb3ROdWxsKGUsImNvbnRhaW5lckRpdiIpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2lmKGEuc3JjPW4uY2NwVXJsLGEuYWxsb3c9Im1pY3JvcGhvbmU7IGNhbWVyYTsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgaWRlbnRpdHktY3JlZGVudGlhbHMtZ2V0IixhLnN0eWxlPW4uc3R5bGV8fHQuY29yZS5pZnJhbWVTdHlsZSxhLnRpdGxlPW4uaWZyYW1lVGl0bGV8fHIsYS5uYW1lPXIsbyYmKGEuZGF0YXNldC5pZGVudGlmaWVyPW8pLHQuc3RvcmFnZUFjY2Vzcy5jYW5SZXF1ZXN0KCkmJihhLnNyYz10LnN0b3JhZ2VBY2Nlc3MuZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmwoKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHQuc3RvcmFnZUFjY2Vzcy5yZXF1ZXN0KSksbnVsbCE9PShpPXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSkmJnZvaWQgMCE9PWkmJmkuaXNTdHJlYW1zUHJvdmlkZXIpdHJ5e3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5zZXRDQ1BJZnJhbWUoYSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hlbiBzZXR0aW5nIENDUCBpZnJhbWUgdG8gcHJvdmlkZXIiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuIGUuYXBwZW5kQ2hpbGQoYSksYX0sdC5jb3JlLl9oaWRlSWZyYW1lPWZ1bmN0aW9uKGUpe2Uuc3R5bGU9dC5jb3JlLmlmcmFtZVN0eWxlKyJkaXNwbGF5OiBub25lOyJ9LHQuY29yZS5fc2hvd0lmcmFtZT1mdW5jdGlvbihlKXtlLnN0eWxlPXQuY29yZS5pZnJhbWVTdHlsZX0sdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZT1mdW5jdGlvbihlLG4pe3QuYXNzZXJ0Tm90TnVsbChlLCJpZnJhbWUiKSx0LmFzc2VydE5vdE51bGwobiwiY29uZHVpdCIpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHI9e2Rpc3BsYXk6d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKS5kaXNwbGF5LG9mZnNldFdpZHRoOmUub2Zmc2V0V2lkdGgsb2Zmc2V0SGVpZ2h0OmUub2Zmc2V0SGVpZ2h0LGNsaWVudFJlY3RzTGVuZ3RoOmUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGh9O24uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLklGUkFNRV9TVFlMRSxyKX0pLDFlNCl9LHQuY29yZS5hdXRoZW50aWNhdGU9ZnVuY3Rpb24obixyLG8pe2lmKCExIT09bi5sb2dpblBvcHVwKXRyeXt2YXIgaT1mdW5jdGlvbihuKXt2YXIgcj0iaHR0cHM6Ly9saWx5LnVzLWVhc3QtMS5hbWF6b25hd3MuY29tL3Rhdy9hdXRoL2NvZGUiO3JldHVybiB0LmFzc2VydE5vdE51bGwociksbi5sb2dpblVybD9uLmxvZ2luVXJsOm4uYWxpYXM/KGxvZy53YXJuKCJUaGUgYGFsaWFzYCBwYXJhbSBpcyBkZXByZWNhdGVkIGFuZCBzaG91bGQgbm90IGJlIGV4cGVjdGVkIHRvIGZ1bmN0aW9uIHByb3Blcmx5LiBQbGVhc2UgdXNlIGBjY3BVcmxgIG9yIGBsb2dpblVybGAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW1hem9uLWNvbm5lY3QvYW1hem9uLWNvbm5lY3Qtc3RyZWFtcy9ibG9iL21hc3Rlci9SRUFETUUubWQjY29ubmVjdGNvcmVpbml0Y2NwIGZvciB2YWxpZCBwYXJhbWV0ZXJzLiIpLGEucmVwbGFjZSgie2FsaWFzfSIsbi5hbGlhcykucmVwbGFjZSgie2NsaWVudF9pZH0iLGMpLnJlcGxhY2UoIntyZWRpcmVjdH0iLGUuZW5jb2RlVVJJQ29tcG9uZW50KHIpKSk6bi5jY3BVcmx9KG4pO3QuZ2V0TG9nKCkud2FybigiQXR0ZW1wdGluZyB0byBwb3AgdGhlIGxvZ2luIHBhZ2UgaWYgbm90IGFscmVhZHkgb3Blbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4ubG9naW5VcmwmJnQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5jbGVhcih0Lk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCksdC5jb3JlLl9vcGVuUG9wdXBXaXRoTG9jayhpLG4ubG9naW5PcHRpb25zKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJVbmFibGUgdG8gb3BlbiB0aGUgbG9naW4gcG9wdXAuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWlmKG51bGw9PXQuY29yZS5pZnJhbWVSZWZyZXNoVGltZW91dCl0cnl7by5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbigpe3RoaXMudW5zdWJzY3JpYmUoKSxlLmNsZWFyVGltZW91dCh0LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQpLHQuY29yZS5pZnJhbWVSZWZyZXNoVGltZW91dD1udWxsLHQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5jbGVhcih0Lk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCksKG4ubG9naW5Qb3B1cEF1dG9DbG9zZXx8bi5sb2dpbk9wdGlvbnMmJm4ubG9naW5PcHRpb25zLmF1dG9DbG9zZSkmJnQuY29yZS5sb2dpbldpbmRvdyYmKHQuY29yZS5sb2dpbldpbmRvdy5jbG9zZSgpLHQuY29yZS5sb2dpbldpbmRvdz1udWxsKX0pKSx0LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHQ9MCx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQobixyKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciBvY2N1cnJlZCB3aGlsZSByZWZyZXNoaW5nIGlmcmFtZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5nZXRTREtDbGllbnRDb25maWc9ZnVuY3Rpb24oKXt2YXIgZTtpZighdC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXRocm93IG5ldyBFcnJvcigiUHJvdmlkZXIgaXMgbm90IGluaXRpYWxpemVkIik7cmV0dXJue3Byb3ZpZGVyOm51bGw9PT0oZT10LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb3ZpZGVyfX07dmFyIE49ZnVuY3Rpb24oZSx0LG4scil7dGhpcy5jb25kdWl0PWUsdGhpcy5ldmVudEJ1cz10LHRoaXMuc3luVGltZW91dD1uLHRoaXMuYWNrVGltZW91dD1yLHRoaXMuYWNrVGltZXI9bnVsbCx0aGlzLnN5blRpbWVyPW51bGwsdGhpcy5hY2tTdWI9bnVsbCx0aGlzLl9lbmFibGVBY2tUaW1lb3V0PSExfTtOLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5jb25kdWl0LnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5TWU5DSFJPTklaRSksdGhpcy5hY2tTdWI9dGhpcy5jb25kdWl0Lm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZSgpLGUuY2xlYXJUaW1lb3V0KG4uYWNrVGltZXIpLG4uX2RlZmVyU3RhcnQoKX0pKSx0aGlzLmFja1RpbWVyPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLmFja1N1Yi51bnN1YnNjcmliZSgpLHQuaXNBY3RpdmVDb25kdWl0KG4uY29uZHVpdCkmJm4uX2VuYWJsZUFja1RpbWVvdXQ/KHQuZ2V0TG9nKCkuaW5mbygiQUNLX1RJTUVPVVQgZXZlbnQgaXMgZGV0ZWN0ZWQgZnJvbSB0aGUgS2VlcGFsaXZlTWFuYWdlci4gIi5jb25jYXQobi5jb25kdWl0Lm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZXZlbnRCdXMudHJpZ2dlcih0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCkpOm4uX2VuYWJsZUFja1RpbWVvdXQmJnQuZ2V0TG9nKCkud2FybigiQUNLX1RJTUVPVVQgZXZlbnQgaXMgZGV0ZWN0ZWQgZnJvbSB0aGUgS2VlcGFsaXZlTWFuYWdlciBidXQgc3VwcHJlc3NlZCBhcyBpdCBpcyBmcm9tIGFuIGluYWN0aXZlIHJlZ2lvbi4gIi5jb25jYXQobi5jb25kdWl0Lm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uX2RlZmVyU3RhcnQoKX0pLHRoaXMuYWNrVGltZW91dCl9LE4ucHJvdG90eXBlLl9kZWZlclN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zeW5UaW1lcj1lLnNldFRpbWVvdXQodC5oaXRjaCh0aGlzLHRoaXMuc3RhcnQpLHRoaXMuc3luVGltZW91dCl9LE4ucHJvdG90eXBlLmRlZmVyU3RhcnQ9ZnVuY3Rpb24oKXtudWxsPT10aGlzLnN5blRpbWVyJiYodGhpcy5zeW5UaW1lcj1lLnNldFRpbWVvdXQodC5oaXRjaCh0aGlzLHRoaXMuc3RhcnQpLHRoaXMuc3luVGltZW91dCkpfSxOLnByb3RvdHlwZS5lbmFibGVBY2tUaW1lb3V0PWZ1bmN0aW9uKGUpe3RoaXMuX2VuYWJsZUFja1RpbWVvdXQ9ZX07dmFyIFA9ZnVuY3Rpb24oKXt2YXIgZT17aW5pdEZhaWx1cmU6bmV3IFNldCxzdWJzY3JpcHRpb25VcGRhdGU6bmV3IFNldCxzdWJzY3JpcHRpb25GYWlsdXJlOm5ldyBTZXQsdG9waWM6bmV3IE1hcCxhbGxNZXNzYWdlOm5ldyBTZXQsY29ubmVjdGlvbkdhaW46bmV3IFNldCxjb25uZWN0aW9uTG9zdDpuZXcgU2V0LGNvbm5lY3Rpb25PcGVuOm5ldyBTZXQsY29ubmVjdGlvbkNsb3NlOm5ldyBTZXQsZGVlcEhlYXJ0YmVhdFN1Y2Nlc3M6bmV3IFNldCxkZWVwSGVhcnRiZWF0RmFpbHVyZTpuZXcgU2V0LHRvcGljRmFpbHVyZTpuZXcgU2V0fSxuPWZ1bmN0aW9uKGUsdCl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlKHQpfSkpfTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRSwoZnVuY3Rpb24oKXtuKGUuaW5pdEZhaWx1cmUpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9PUEVOLChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbk9wZW4sdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0NMT1NFLChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbkNsb3NlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9HQUlOLChmdW5jdGlvbigpe24oZS5jb25uZWN0aW9uR2Fpbil9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0xPU1QsKGZ1bmN0aW9uKHQpe24oZS5jb25uZWN0aW9uTG9zdCx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9VUERBVEUsKGZ1bmN0aW9uKHQpe24oZS5zdWJzY3JpcHRpb25VcGRhdGUsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fRkFJTFVSRSwoZnVuY3Rpb24odCl7bihlLnN1YnNjcmlwdGlvbkZhaWx1cmUsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5BTExfTUVTU0FHRSwoZnVuY3Rpb24odCl7bihlLmFsbE1lc3NhZ2UsdCksZS50b3BpYy5oYXModC50b3BpYykmJm4oZS50b3BpYy5nZXQodC50b3BpYyksdCl9KSksdGhpcy5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU0VORCxlKX0sdGhpcy5vbkluaXRGYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5pbml0RmFpbHVyZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5pbml0RmFpbHVyZS5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbk9wZW49ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25PcGVuLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmNvbm5lY3Rpb25PcGVuLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uQ2xvc2U9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25DbG9zZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uQ2xvc2UuZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25HYWluPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uR2Fpbi5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uR2Fpbi5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25Mb3N0LmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmNvbm5lY3Rpb25Mb3N0LmRlbGV0ZShuKX19LHRoaXMub25TdWJzY3JpcHRpb25VcGRhdGU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLnN1YnNjcmlwdGlvblVwZGF0ZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5zdWJzY3JpcHRpb25VcGRhdGUuZGVsZXRlKG4pfX0sdGhpcy5vblN1YnNjcmlwdGlvbkZhaWx1cmU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLnN1YnNjcmlwdGlvbkZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3Vic2NyaXB0aW9uRmFpbHVyZS5kZWxldGUobil9fSx0aGlzLnN1YnNjcmliZVRvcGljcz1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwidG9waWNzIiksdC5hc3NlcnRUcnVlKHQuaXNBcnJheShlKSwidG9waWNzIG11c3QgYmUgYSBhcnJheSIpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJQkUsZSl9LHRoaXMub25NZXNzYWdlPWZ1bmN0aW9uKG4scil7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChuLCJ0b3BpY05hbWUiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKHIpLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS50b3BpYy5oYXMobik/ZS50b3BpYy5nZXQobikuYWRkKHIpOmUudG9waWMuc2V0KG4sbmV3IFNldChbcl0pKSxmdW5jdGlvbigpe3JldHVybiBlLnRvcGljLmdldChuKS5kZWxldGUocil9fSx0aGlzLm9uQWxsTWVzc2FnZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuYWxsTWVzc2FnZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5hbGxNZXNzYWdlLmRlbGV0ZShuKX19LHRoaXMub25EZWVwSGVhcnRiZWF0U3VjY2Vzcz1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuZGVlcEhlYXJ0YmVhdFN1Y2Nlc3MuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVlcEhlYXJ0YmVhdFN1Y2Nlc3MuZGVsZXRlKG4pfX0sdGhpcy5vbkRlZXBIZWFydGJlYXRGYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5kZWVwSGVhcnRiZWF0RmFpbHVyZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWVwSGVhcnRiZWF0RmFpbHVyZS5kZWxldGUobil9fSx0aGlzLm9uVG9waWNGYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS50b3BpY0ZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUudG9waWNGYWlsdXJlLmRlbGV0ZShuKX19fTt0LmNvcmUuX3JlbW92ZUNvbnRhY3RGcm9tRW5kZWRTZXQ9ZnVuY3Rpb24oZSl7dHJ5e3QuZ2V0TG9nKCkuaW5mbygiW0NvbnRhY3RFdmVudF0gUmVtb3ZpbmcgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmRlbGV0ZShlKSx0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIFJlbW92ZWQgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5lbnRyaWVzKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcigiW0NvbnRhY3RFdmVudF0gRmFpbGVkIHRvIHJlbW92ZSBjb250YWN0IGZyb20gRU5ERUQgZXZlbnQgdHJhY2tlciIpLndpdGhPYmplY3Qoe2NvbnRhY3RJZDplfHwidW5rbm93biJ9KS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX2hhbmRsZUVuZGVkRXZlbnQ9ZnVuY3Rpb24oZSxuKXt0cnl7dC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmhhcyhlKSYmUy5pbmNsdWRlcyhuKSYmKHQuZ2V0TG9nKCkuaW5mbygiW0NvbnRhY3RFdmVudF0gRU5ERUQgd2FzIHRyaWdnZXJlZCIpLndpdGhPYmplY3Qoe2NvbnRhY3RJZDplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuX3JlbW92ZUNvbnRhY3RGcm9tRW5kZWRTZXQoZSkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltDb250YWN0RXZlbnRdIEZhaWxlZCB0byBoYW5kbGUgcHJvcGVyIEVOREVEIGV2ZW50IGJlaW5nIHRyaWdnZXJlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5fc2hvdWxkVHJpZ2dlckludmFsaWRTdGF0ZVRyYW5zaXRpb249ZnVuY3Rpb24oZSl7aWYodC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmhhcyhlLmNvbnRhY3RJZCkpdHJ5e3JldHVybiB0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIENvbnRhY3QgZGlkIG5vdCB0cmFuc2l0aW9uIHRvIHRoZSBFTkRFRCBzdGF0ZSBwcmlvciB0byBERVNUUk9ZRUQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0KGUuY29udGFjdElkKSwhMH1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbQ29udGFjdEV2ZW50XSBGYWlsZWQgdG8gaGFuZGxlIGludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBlcnJvciBoYW5kbGluZyIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1yZXR1cm4hMX07dmFyIEQ9ZnVuY3Rpb24oZSl7dGhpcy5idXM9ZSx0aGlzLmFnZW50VXBkYXRlU3Vic2NyaWJlcj10aGlzLmJ1cy5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5VUERBVEUsdC5oaXRjaCh0aGlzLHRoaXMudXBkYXRlQWdlbnREYXRhKSl9O0QucHJvdG90eXBlLnVwZGF0ZUFnZW50RGF0YT1mdW5jdGlvbihlKXt2YXIgbixyPXRoaXMuYWdlbnREYXRhO3RoaXMuYWdlbnREYXRhPWUsbnVsbCE9PShuPXQuYWdlbnQpJiZ2b2lkIDAhPT1uJiZuLmluaXRpYWxpemVkfHwodC5hZ2VudC5pbml0aWFsaXplZD0hMCx0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuSU5JVCxuZXcgdC5BZ2VudCkpLHRoaXMuYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5SRUZSRVNILG5ldyB0LkFnZW50KSx0aGlzLl9maXJlQWdlbnRVcGRhdGVFdmVudHMocil9LEQucHJvdG90eXBlLmdldEFnZW50RGF0YT1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuYWdlbnREYXRhKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIk5vIGFnZW50IGRhdGEgaXMgYXZhaWxhYmxlIHlldCEiKTtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LEQucHJvdG90eXBlLmdldENvbnRhY3REYXRhPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuZ2V0QWdlbnREYXRhKCkscj10LmZpbmQobi5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29udGFjdElkPT09ZX0pKTtpZihudWxsPT1yKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLGUpO3JldHVybiByfSxELnByb3RvdHlwZS5nZXRDb25uZWN0aW9uRGF0YT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuZ2V0Q29udGFjdERhdGEoZSksbz10LmZpbmQoci5jb25uZWN0aW9ucywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29ubmVjdGlvbklkPT09bn0pKTtpZihudWxsPT1vKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbm5lY3Rpb24gJXMgZm9yIGNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLG4sZSk7cmV0dXJuIG99LEQucHJvdG90eXBlLmdldEluc3RhbmNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBZ2VudERhdGEoKS5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQubWF0Y2goL2luc3RhbmNlXC8oWzAtOWEtZkEtRnwtXSspXC8vKVsxXX0sRC5wcm90b3R5cGUuZ2V0QVdTQWNjb3VudElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWdlbnREYXRhKCkuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkLm1hdGNoKC86KFswLTldKyk6aW5zdGFuY2UvKVsxXX0sRC5wcm90b3R5cGUuX2RpZmZDb250YWN0cz1mdW5jdGlvbihlKXt2YXIgbj17YWRkZWQ6e30scmVtb3ZlZDp7fSxjb21tb246e30sb2xkTWFwOnQuaW5kZXgobnVsbD09ZT9bXTplLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSksbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOjB9O3JldHVybiB0LmtleXMobi5vbGRNYXApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29udGFpbnMobi5uZXdNYXAsZSk/bi5jb21tb25bZV09bi5uZXdNYXBbZV06bi5yZW1vdmVkW2VdPW4ub2xkTWFwW2VdfSkpLHQua2V5cyhuLm5ld01hcCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5jb250YWlucyhuLm9sZE1hcCxlKXx8KG4uYWRkZWRbZV09bi5uZXdNYXBbZV0pfSkpLG4uZW5kVGltZT1wZXJmb3JtYW5jZS5ub3coKSxufSxELnByb3RvdHlwZS5fZmlyZUFnZW50VXBkYXRlRXZlbnRzPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj1udWxsLG89bnVsbD09ZT90LkFnZW50QXZhaWxTdGF0ZXMuSU5JVDplLnNuYXBzaG90LnN0YXRlLm5hbWUsaT10aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5zdGF0ZS5uYW1lLGE9bnVsbD09ZT90LkFnZW50U3RhdGVUeXBlLklOSVQ6ZS5zbmFwc2hvdC5zdGF0ZS50eXBlLHM9dGhpcy5hZ2VudERhdGEuc25hcHNob3Quc3RhdGUudHlwZTthIT09cyYmdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxhLHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSksbyE9PWkmJih0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLHthZ2VudDpuZXcgdC5BZ2VudCxvbGRTdGF0ZTpvLG5ld1N0YXRlOml9KSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxvLGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSkpO3ZhciBjPWUmJmUuc25hcHNob3QubmV4dFN0YXRlP2Uuc25hcHNob3QubmV4dFN0YXRlLm5hbWU6bnVsbCx1PXRoaXMuYWdlbnREYXRhLnNuYXBzaG90Lm5leHRTdGF0ZT90aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5uZXh0U3RhdGUubmFtZTpudWxsO2MhPT11JiZ1JiZuLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuRU5RVUVVRURfTkVYVF9TVEFURSxuZXcgdC5BZ2VudCkscj1udWxsIT09ZT90aGlzLl9kaWZmQ29udGFjdHMoZSk6e2FkZGVkOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxyZW1vdmVkOnt9LGNvbW1vbjp7fSxvbGRNYXA6e30sbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOnBlcmZvcm1hbmNlLm5vdygpfSx0LnZhbHVlcyhyLmFkZGVkKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5JTklULG5ldyB0LkNvbnRhY3QoZS5jb250YWN0SWQpKSxuLl9maXJlQ29udGFjdFVwZGF0ZUV2ZW50cyhlLmNvbnRhY3RJZCx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5JVCxlLnN0YXRlLnR5cGUpfSkpLHQudmFsdWVzKHIucmVtb3ZlZCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcih0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELG5ldyB0LkNvbnRhY3RTbmFwc2hvdChlKSksbi5idXMudHJpZ2dlcih0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELGUuY29udGFjdElkKSxuZXcgdC5Db250YWN0U25hcHNob3QoZSkpLG4uX3Vuc3ViQWxsQ29udGFjdEV2ZW50c0ZvckNvbnRhY3QoZS5jb250YWN0SWQpfSkpLHQua2V5cyhyLmNvbW1vbikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHMoZSxyLm9sZE1hcFtlXS5zdGF0ZS50eXBlLHIubmV3TWFwW2VdLnN0YXRlLnR5cGUpfSkpfSxELnByb3RvdHlwZS5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXM7biE9PXImJnQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaCgpLmdldEFzc29jaWF0aW9ucyh0aGlzLG4scikuZm9yRWFjaCgoZnVuY3Rpb24obil7by5idXMudHJpZ2dlcihuLG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUobixlKSxuZXcgdC5Db250YWN0KGUpKX0pKSxvLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5SRUZSRVNILG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gsZSksbmV3IHQuQ29udGFjdChlKSl9LEQucHJvdG90eXBlLl91bnN1YkFsbENvbnRhY3RFdmVudHNGb3JDb250YWN0PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dC52YWx1ZXModC5Db250YWN0RXZlbnRzKS5mb3JFYWNoKChmdW5jdGlvbihyKXtuLmJ1cy5nZXRTdWJzY3JpcHRpb25zKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHIsZSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS51bnN1YnNjcmliZSgpfSkpfSkpfSxELnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudFVwZGF0ZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKX0sdC5jb3JlLm9uVmlld0NvbnRhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuVklFVyxlKX0sdC5jb3JlLnZpZXdDb250YWN0PWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5WSUVXLGRhdGE6e2NvbnRhY3RJZDplfX0pfSx0LmNvcmUub25BY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZSl9LHQuY29yZS5hY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2YXIgYT17dmlld1R5cGU6ZSxtZWRpYVR5cGU6bn07ciYmKGEuc291cmNlPXIpLG8mJihhLmNhc2VJZD1vKSxhLmNsaWVudFRva2VuPWl8fHQucmFuZG9tSWQoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZGF0YTphfSl9LHQuY29yZS50cmlnZ2VyVGFza0NyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LlRhc2tFdmVudHMuQ1JFQVRFRCxlKX0sdC5jb3JlLnRyaWdnZXJFbWFpbENyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkVtYWlsRXZlbnRzLkNSRUFURUQsZSl9LHQuY29yZS5vbkFjY2Vzc0RlbmllZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFDQ0VTU19ERU5JRUQsZSl9LHQuY29yZS5vbkF1dGhGYWlsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSE9SSVpFX1NVQ0NFU1MsZSl9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbigpe3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCwwKX0sdC5jb3JlLl9oYW5kbGVBdXRoRmFpbD1mdW5jdGlvbihlLG4scil7ciYmci5hdXRob3JpemU/dC5jb3JlLl9oYW5kbGVBdXRob3JpemVGYWlsKGUpOnQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWwobil9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplRmFpbD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50KCk7aWYoIXQuY29yZS5hdXRob3JpemVUaW1lb3V0SWQpaWYobjx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTil7dC5jb3JlLl9pbmNyZW1lbnRBdXRoUmV0cnlDb3VudCgpO3ZhciByPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkobisxfHwwLHtiYXNlOjJlM30pO3QuY29yZS5hdXRob3JpemVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuX3JlZGlyZWN0VG9Mb2dpbihlKX0pLHIpfWVsc2UgdC5nZXRMb2coKS53YXJuKCJXZSBoYXZlIGV4aGF1c3RlZCBvdXIgYXV0aG9yaXphdGlvbiByZXRyaWVzIGR1ZSB0byA0MDFzIGZyb20gdGhlIGF1dGhvcml6ZSBhcGkuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCBpbiB0aGlzIHNlc3Npb24gdW50aWwgdGhlIGF1dGhvcml6ZSBhcGkgcmV0dXJucyAyMDAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LHQuY29yZS5fcmVkaXJlY3RUb0xvZ2luPWZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZT9sb2NhdGlvbi5hc3NpZ24oZSk6bG9jYXRpb24ucmVsb2FkKCl9LHQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWw9ZnVuY3Rpb24oZSl7aWYoIXQuY29yZS5jdGlUaW1lb3V0SWQpaWYodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQpe3QuY29yZS5jdGlBdXRoUmV0cnlDb3VudCsrO3ZhciBuPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50fHwwLHtiYXNlOjUwMH0pO3QuY29yZS5jdGlUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuYXV0aG9yaXplKGUpLnRoZW4odC5jb3JlLl90cmlnZ2VyQXV0aG9yaXplU3VjY2Vzcy5iaW5kKHQuY29yZSkpLmNhdGNoKHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsLmJpbmQodC5jb3JlLHthdXRob3JpemU6ITB9KSksdC5jb3JlLmN0aVRpbWVvdXRJZD1udWxsfSksbil9ZWxzZSB0LmdldExvZygpLndhcm4oIldlIGhhdmUgZXhoYXVzdGVkIG91ciBhdXRob3JpemF0aW9uIHJldHJpZXMgZHVlIHRvIDQwMXMgZnJvbSB0aGUgQ1RJIHNlcnZpY2UuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCB1bnRpbCB0aGUgcGFnZSBpcyByZWZyZXNoZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSx0LmNvcmUuX3RyaWdnZXJBdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkV2ZW50VHlwZS5BVVRIT1JJWkVfU1VDQ0VTUyl9LHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50PWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5UKTtpZihudWxsIT09ZSl7aWYoaXNOYU4ocGFyc2VJbnQoZSkpKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBzZXNzaW9uIHN0b3JhZ2UgdmFsdWUgZm9yIGF1dGggcmV0cnkgY291bnQgd2FzIE5hTiIpO3JldHVybiBwYXJzZUludChlKX1yZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5ULDApLDB9LHQuY29yZS5faW5jcmVtZW50QXV0aFJldHJ5Q291bnQ9ZnVuY3Rpb24oKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5BVVRIT1JJWkVfUkVUUllfQ09VTlQsKHQuY29yZS5fZ2V0QXV0aFJldHJ5Q291bnQoKSsxKS50b1N0cmluZygpKX0sdC5jb3JlLm9uQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCxlKX0sdC5jb3JlLm9uQ1RJQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5vblNvZnRwaG9uZVNlc3Npb25Jbml0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxlKX0sdC5jb3JlLm9uQ29uZmlndXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkNPTkZJR1VSRSxlKX0sdC5jb3JlLm9uSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JTklULGUpfSx0LmNvcmUuc2VuZENvbmZpZ3VyZT1mdW5jdGlvbihlLG4scil7aWYoZS5zb2Z0cGhvbmV8fGUuY2hhdHx8ZS50YXNrfHxlLnBhZ2VPcHRpb25zfHxlLnNob3VsZEFkZE5hbWVzcGFjZVRvTG9nc3x8ZS5kaXNhc3RlclJlY292ZXJ5T24pe3ZhciBvPXtzb2Z0cGhvbmU6ZS5zb2Z0cGhvbmUsY2hhdDplLmNoYXQsdGFzazplLnRhc2sscGFnZU9wdGlvbnM6ZS5wYWdlT3B0aW9ucyxzaG91bGRBZGROYW1lc3BhY2VUb0xvZ3M6ZS5zaG91bGRBZGROYW1lc3BhY2VUb0xvZ3N9O3I/KG8uZW5hYmxlR2xvYmFsUmVzaWxpZW5jeT1lLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3ksby5pbnN0YW5jZVN0YXRlPXQuaXNBY3RpdmVDb25kdWl0KG4pPyJhY3RpdmUiOiJpbmFjdGl2ZSIpOm8uZGlzYXN0ZXJSZWNvdmVyeU9uPWUuZGlzYXN0ZXJSZWNvdmVyeU9uLG4uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSxvKX19LHQuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0PWZ1bmN0aW9uKGUsbixyKXtuLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuUkVRVUVTVF9DT05GSUdVUkUsKGZ1bmN0aW9uKCl7dC5jb3JlLnNlbmRDb25maWd1cmUoZSxuLHIpfSkpfSx0LmNvcmUuY2hlY2tJZkNvbmZpZ3VyZVJlY2VpdmVkPWZ1bmN0aW9uKG4pe3QuaXNGcmFtZWQoKSYmZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5oYXNSZWNlaXZlZENSTUNvbmZpZ3VyZXx8KHQuZ2V0TG9nKCkud2FybigiQ0NQIGhhcyBub3QgcmVjZWl2ZWQgYSBjb25maWd1cmUgbWVzc2FnZS4gU2VuZGluZyByZXF1ZXN0IHRvIENSTSBmb3IgY29uZmlndXJhdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuUkVRVUVTVF9DT05GSUdVUkUpKX0pLDFlMyl9LHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lPWZ1bmN0aW9uKGUsbil7aWYodC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJjb250YWN0SWQiKSwhdC5jb250YWlucyh0LnZhbHVlcyh0LkNvbnRhY3RFdmVudHMpLGUpKXRocm93IG5ldyB0LlZhbHVlRXJyb3IoIiVzIGlzIG5vdCBhIHZhbGlkIGNvbnRhY3QgZXZlbnQuIixlKTtyZXR1cm4gdC5zcHJpbnRmKCIlczo6JXMiLGUsbil9LHQuY29yZS5nZXRFdmVudEJ1cz1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZXZlbnRCdXN9LHQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS53ZWJTb2NrZXRQcm92aWRlcn0sdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5hZ2VudERhdGFQcm92aWRlcn0sdC5jb3JlLmdldExvY2FsVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFnZW50RGF0YSgpLnNuYXBzaG90LmxvY2FsVGltZXN0YW1wfSx0LmNvcmUuZ2V0U2tldz1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKS5zbmFwc2hvdC5za2V3fSx0LmNvcmUuZ2V0QWdlbnRSb3V0aW5nRXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnRSb3V0aW5nRXZlbnRHcmFwaH0sdC5jb3JlLmFnZW50Um91dGluZ0V2ZW50R3JhcGg9KG5ldyB0LkV2ZW50R3JhcGgpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5BZ2VudFN0YXRlVHlwZS5ST1VUQUJMRSx0LkFnZW50RXZlbnRzLlJPVVRBQkxFKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuTk9UX1JPVVRBQkxFLHQuQWdlbnRFdmVudHMuTk9UX1JPVVRBQkxFKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuT0ZGTElORSx0LkFnZW50RXZlbnRzLk9GRkxJTkUpLHQuY29yZS5nZXRBZ2VudFN0YXRlRXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnRTdGF0ZUV2ZW50R3JhcGh9LHQuY29yZS5hZ2VudFN0YXRlRXZlbnRHcmFwaD0obmV3IHQuRXZlbnRHcmFwaCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LnZhbHVlcyh0LkFnZW50RXJyb3JTdGF0ZXMpLHQuQWdlbnRFdmVudHMuRVJST1IpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5BZ2VudEF2YWlsU3RhdGVzLkFGVEVSX0NBTExfV09SSyx0LkFnZW50RXZlbnRzLkFDVyksdC5jb3JlLmdldENvbnRhY3RFdmVudEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5jb250YWN0RXZlbnRHcmFwaH0sdC5jb3JlLmNvbnRhY3RFdmVudEdyYXBoPShuZXcgdC5FdmVudEdyYXBoKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RFdmVudHMuSU5DT01JTkcpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLlBFTkRJTkcsdC5Db250YWN0RXZlbnRzLlBFTkRJTkcpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRCx0LkNvbnRhY3RFdmVudHMuQ09OTkVDVEVEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLklOQ09NSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5FUlJPUix0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5FTkRFRCx0LkNvbnRhY3RFdmVudHMuQUNXKS5hc3NvYyh0LnZhbHVlcyh0LkNPTlRBQ1RfQUNUSVZFX1NUQVRFUyksdC52YWx1ZXModC5yZWxhdGl2ZUNvbXBsZW1lbnQodC5DT05UQUNUX0FDVElWRV9TVEFURVMsdC5Db250YWN0U3RhdGVUeXBlKSksdC5Db250YWN0RXZlbnRzLkVOREVEKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5FUlJPUix0LkNvbnRhY3RFdmVudHMuRVJST1IpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5NSVNTRUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLklOQ09NSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5NSVNTRUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0U3RhdGVUeXBlLlJFSkVDVEVELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuUkVKRUNURUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCksdC5jb3JlLmdldENsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuY2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IGNvcmUgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUuY2xpZW50fSx0LmNvcmUuY2xpZW50PW51bGwsdC5jb3JlLmdldEFwaVByb3h5Q2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5hcGlQcm94eUNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBhcGlQcm94eSBDbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUuYXBpUHJveHlDbGllbnR9LHQuY29yZS5hcGlQcm94eUNsaWVudD1udWxsLHQuY29yZS5nZXRBZ2VudEFwcENsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuYWdlbnRBcHBDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgQWdlbnRBcHAgQ2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmFnZW50QXBwQ2xpZW50fSx0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0VGFza1RlbXBsYXRlc0NsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBUYXNrVGVtcGxhdGVzIENsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50fSx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1udWxsLHQuY29yZS5nZXRNYXN0ZXJDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLm1hc3RlckNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBtYXN0ZXIgY2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLm1hc3RlckNsaWVudH0sdC5jb3JlLm1hc3RlckNsaWVudD1udWxsLHQuY29yZS5nZXRTb2Z0cGhvbmVNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyfSx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1udWxsLHQuY29yZS5nZXROb3RpZmljYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyfHwodC5jb3JlLm5vdGlmaWNhdGlvbk1hbmFnZXI9bmV3IHQuTm90aWZpY2F0aW9uTWFuYWdlciksdC5jb3JlLm5vdGlmaWNhdGlvbk1hbmFnZXJ9LHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyPW51bGwsdC5jb3JlLmdldFBvcHVwTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUucG9wdXBNYW5hZ2VyfSx0LmNvcmUucG9wdXBNYW5hZ2VyPW5ldyB0LlBvcHVwTWFuYWdlcix0LmNvcmUuZ2V0VXBzdHJlYW09ZnVuY3Rpb24oKXtpZighdC5jb3JlLnVwc3RyZWFtKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZXJlIGlzIG5vIHVwc3RyZWFtIGNvbmR1aXQhIik7cmV0dXJuIHQuY29yZS51cHN0cmVhbX0sdC5jb3JlLnVwc3RyZWFtPW51bGwsdC5nbG9iYWxSZXNpbGllbmN5Lm9uRmFpbG92ZXJQZW5kaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkdfQ1JNLGUpfSx0Lmdsb2JhbFJlc2lsaWVuY3kub25GYWlsb3ZlckNvbXBsZXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSxlKX0sdC5nbG9iYWxSZXNpbGllbmN5Lm9uQ29uZmlndXJlRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0VSUk9SLGUpfSx0Lmdsb2JhbFJlc2lsaWVuY3kuZ2V0QWN0aXZlUmVnaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2xvYmFsUmVzaWxpZW5jeS5fYWN0aXZlUmVnaW9ufSx0LmNvcmUuQWdlbnREYXRhUHJvdmlkZXI9RCx0LldlYlNvY2tldFByb3ZpZGVyPVAsdC5LZWVwYWxpdmVNYW5hZ2VyPU59KCl9LDY4MjooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10O3ZhciBuPSI8PGFsbD4+IixyPXQubWFrZUVudW0oWyJhY2tub3dsZWRnZSIsImFja190aW1lb3V0IiwiaW5pdCIsImFwaV9yZXF1ZXN0IiwiYXBpX3Jlc3BvbnNlIiwiYXV0aF9mYWlsIiwiYWNjZXNzX2RlbmllZCIsImNsb3NlIiwiY29uZmlndXJlIiwibG9nIiwiZG93bmxvYWRfbG9nX2Zyb21fY2NwIiwibWFzdGVyX3JlcXVlc3QiLCJtYXN0ZXJfcmVzcG9uc2UiLCJzeW5jaHJvbml6ZSIsInRlcm1pbmF0ZSIsInRlcm1pbmF0ZWQiLCJzZW5kX2xvZ3MiLCJyZWxvYWRfYWdlbnRfY29uZmlndXJhdGlvbiIsImJyb2FkY2FzdCIsImFwaV9tZXRyaWMiLCJjbGllbnRfbWV0cmljIiwic29mdHBob25lX3N0YXRzIiwic29mdHBob25lX3JlcG9ydCIsImNsaWVudF9zaWRlX2xvZ3MiLCJzZXJ2ZXJfYm91bmRfaW50ZXJuYWxfbG9nIiwibXV0ZSIsImlmcmFtZV9zdHlsZSIsImlmcmFtZV9yZXRyaWVzX2V4aGF1c3RlZCIsInVwZGF0ZV9jb25uZWN0ZWRfY2NwcyIsIm91dGVyX2NvbnRleHRfaW5mbyIsIm1lZGlhX2RldmljZV9yZXF1ZXN0IiwibWVkaWFfZGV2aWNlX3Jlc3BvbnNlIiwidGFiX2lkIiwiYXV0aG9yaXplX3N1Y2Nlc3MiLCJhdXRob3JpemVfcmV0cmllc19leGhhdXN0ZWQiLCJjdGlfYXV0aG9yaXplX3JldHJpZXNfZXhoYXVzdGVkIiwiY2xpY2tfc3RyZWFtX2RhdGEiLCJzZXRfcXVpY2tfZ2V0X2FnZW50X3NuYXBzaG90X2ZsYWciLCJhcGlfcHJveHlfcmVxdWVzdCIsImFwaV9wcm94eV9yZXNwb25zZSIsInJlcXVlc3RfY29uZmlndXJlIl0pLG89dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbm5lY3QiLFsibG9naW5Qb3B1cCIsInNlbmRMb2dzIiwic29mdHBob25lIiwicmluZ3RvbmUiLCJtZXRyaWNzIiwiZmFpbG92ZXIiXSksaT10Lm1ha2VOYW1lc3BhY2VkRW51bSgiYWdlbnQiLFsiaW5pdCIsInVwZGF0ZSIsInJlZnJlc2giLCJyb3V0YWJsZSIsIm5vdF9yb3V0YWJsZSIsInBlbmRpbmciLCJjb250YWN0X3BlbmRpbmciLCJvZmZsaW5lIiwiZXJyb3IiLCJzb2Z0cGhvbmVfZXJyb3IiLCJ3ZWJzb2NrZXRfY29ubmVjdGlvbl9sb3N0Iiwid2Vic29ja2V0X2Nvbm5lY3Rpb25fZ2FpbmVkIiwic3RhdGVfY2hhbmdlIiwiYWN3IiwibXV0ZV90b2dnbGUiLCJsb2NhbF9tZWRpYV9zdHJlYW1fY3JlYXRlZCIsImVucXVldWVkX25leHRfc3RhdGUiLCJmZXRjaF9hZ2VudF9kYXRhX2Zyb21fY2NwIl0pLGE9dC5tYWtlTmFtZXNwYWNlZEVudW0oIndlYlNvY2tldCIsWyJpbml0X2ZhaWx1cmUiLCJjb25uZWN0aW9uX29wZW4iLCJjb25uZWN0aW9uX2Nsb3NlIiwiY29ubmVjdGlvbl9lcnJvciIsImNvbm5lY3Rpb25fZ2FpbiIsImNvbm5lY3Rpb25fbG9zdCIsInN1YnNjcmlwdGlvbl91cGRhdGUiLCJzdWJzY3JpcHRpb25fZmFpbHVyZSIsImFsbF9tZXNzYWdlIiwic2VuZCIsInN1YnNjcmliZSJdKSxzPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb250YWN0IixbImluaXQiLCJyZWZyZXNoIiwiZGVzdHJveWVkIiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsIm1pc3NlZCIsImFjdyIsInZpZXciLCJlbmRlZCIsImVycm9yIiwiYWNjZXB0ZWQiLCJpbnZhbGlkX3N0YXRlX3RyYW5zaXRpb24iLCJzY3JlZW5fc2hhcmluZ19zdGFydGVkIiwic2NyZWVuX3NoYXJpbmdfc3RvcHBlZCIsInNjcmVlbl9zaGFyaW5nX2Vycm9yIl0pLGM9dC5tYWtlTmFtZXNwYWNlZEVudW0oInRhc2tMaXN0IixbImFjdGl2YXRlX2NoYW5uZWxfd2l0aF92aWV3X3R5cGUiXSksdT10Lm1ha2VOYW1lc3BhY2VkRW51bSgidGFzayIsWyJjcmVhdGVkIl0pLGw9dC5tYWtlTmFtZXNwYWNlZEVudW0oImVtYWlsIixbImNyZWF0ZWQiXSkscD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29ubmVjdGlvbiIsWyJzZXNzaW9uX2luaXQiLCJyZWFkeV90b19zdGFydF9zZXNzaW9uIl0pLGQ9dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbmZpZ3VyYXRpb24iLFsiY29uZmlndXJlIiwic2V0X3NwZWFrZXJfZGV2aWNlIiwic2V0X21pY3JvcGhvbmVfZGV2aWNlIiwic2V0X3Jpbmdlcl9kZXZpY2UiLCJzcGVha2VyX2RldmljZV9jaGFuZ2VkIiwibWljcm9waG9uZV9kZXZpY2VfY2hhbmdlZCIsInJpbmdlcl9kZXZpY2VfY2hhbmdlZCIsImNhbWVyYV9kZXZpY2VfY2hhbmdlZCIsImJhY2tncm91bmRfYmx1cl9jaGFuZ2VkIl0pLGg9dC5tYWtlTmFtZXNwYWNlZEVudW0oImRpc2FzdGVyUmVjb3ZlcnkiLFsic3VwcHJlc3MiLCJmb3JjZV9vZmZsaW5lIiwic2V0X29mZmxpbmUiLCJpbml0X2Rpc2FzdGVyX3JlY292ZXJ5IiwiZmFpbG92ZXIiLCJmYWlsb3Zlcl9wZW5kaW5nIiwiaW5pdF9kcl9wb2xsaW5nIl0pLGY9dC5tYWtlTmFtZXNwYWNlZEVudW0oImdsb2JhbFJlc2lsaWVuY3kiLFsiY29uZmlndXJlIiwiY29uZmlndXJlX2NjcF9jb25kdWl0IiwiaW5pdCIsImNvbmZpZ3VyZV9lcnJvciIsImZhaWxvdmVyX2luaXRpYXRlZCIsImZhaWxvdmVyX3BlbmRpbmciLCJmYWlsb3Zlcl9wZW5kaW5nX2NybSIsImZhaWxvdmVyX2NvbXBsZXRlIiwiaGVhcnRiZWF0X3N5biIsImhlYXJ0YmVhdF9hY2siXSksZz10Lm1ha2VOYW1lc3BhY2VkRW51bSgidm9pY2VJZCIsWyJ1cGRhdGVfZG9tYWluX2lkIl0pLG09ZnVuY3Rpb24oKXt9O20uY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLG4scil7cmV0dXJue2V2ZW50OmUscmVxdWVzdElkOnQucmFuZG9tSWQoKSxtZXRob2Q6bixwYXJhbXM6cn19LG0uY3JlYXRlUmVzcG9uc2U9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJue2V2ZW50OmUscmVxdWVzdElkOnQucmVxdWVzdElkLGRhdGE6bixlcnI6cnx8bnVsbH19O3ZhciB2PWZ1bmN0aW9uKGUsbixyKXt0aGlzLnN1Yk1hcD1lLHRoaXMuaWQ9dC5yYW5kb21JZCgpLHRoaXMuZXZlbnROYW1lPW4sdGhpcy5mPXJ9O3YucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5zdWJNYXAudW5zdWJzY3JpYmUodGhpcy5ldmVudE5hbWUsdGhpcy5pZCl9O3ZhciB5PWZ1bmN0aW9uKCl7dGhpcy5zdWJJZE1hcD17fSx0aGlzLnN1YkV2ZW50TmFtZU1hcD17fX07eS5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHYodGhpcyxlLHQpO3RoaXMuc3ViSWRNYXBbbi5pZF09bjt2YXIgcj10aGlzLnN1YkV2ZW50TmFtZU1hcFtlXXx8W107cmV0dXJuIHIucHVzaChuKSx0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXT1yLG59LHkucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsbil7dC5jb250YWlucyh0aGlzLnN1YkV2ZW50TmFtZU1hcCxlKSYmKHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdPXRoaXMuc3ViRXZlbnROYW1lTWFwW2VdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQhPT1ufSkpLHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdLmxlbmd0aDwxJiZkZWxldGUgdGhpcy5zdWJFdmVudE5hbWVNYXBbZV0pLHQuY29udGFpbnModGhpcy5zdWJJZE1hcCxuKSYmZGVsZXRlIHRoaXMuc3ViSWRNYXBbbl19LHkucHJvdG90eXBlLmdldEFsbFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdC52YWx1ZXModGhpcy5zdWJFdmVudE5hbWVNYXApLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSl9LHkucHJvdG90eXBlLmdldFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdfHxbXX07dmFyIGI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dGhpcy5zdWJNYXA9bmV3IHksdGhpcy5sb2dFdmVudHM9dC5sb2dFdmVudHN8fCExfTtiLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJmIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnN1Yk1hcC5zdWJzY3JpYmUoZSxuKX0sYi5wcm90b3R5cGUuc3Vic2NyaWJlQWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFzc2VydE5vdE51bGwoZSwiZiIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24oZSksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5zdWJNYXAuc3Vic2NyaWJlKG4sZSl9LGIucHJvdG90eXBlLmdldFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3ViTWFwLmdldFN1YnNjcmlwdGlvbnMoZSl9LGIucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oZSxyKXt0LmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIik7dmFyIG89dGhpcyxpPXRoaXMuc3ViTWFwLmdldFN1YnNjcmlwdGlvbnMobiksYT10aGlzLnN1Yk1hcC5nZXRTdWJzY3JpcHRpb25zKGUpO3RoaXMubG9nRXZlbnRzJiZlIT09dC5FdmVudFR5cGUuTE9HJiZlIT09dC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFJiZlIT09dC5FdmVudFR5cGUuQVBJX01FVFJJQyYmZSE9PXQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0cmJnQuZ2V0TG9nKCkudHJhY2UoIlB1Ymxpc2hpbmcgZXZlbnQ6ICVzIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuc3RhcnRzV2l0aCh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQpJiZyJiZyLmNvbnRhY3RJZCYmIShyIGluc3RhbmNlb2YgdC5Db250YWN0KSYmKHI9bmV3IHQuQ29udGFjdChyLmNvbnRhY3RJZCkpLGkuY29uY2F0KGEpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3RyeXtuLmYocnx8bnVsbCxlLG8pfWNhdGNoKG4pe3QuZ2V0TG9nKCkuZXJyb3IoIiclcycgZXZlbnQgaGFuZGxlciBmYWlsZWQuIixlKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpfSxiLnByb3RvdHlwZS5icmlkZ2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LG4pe2UudHJpZ2dlcihuLHQpfX0sYi5wcm90b3R5cGUudW5zdWJzY3JpYmVBbGw9ZnVuY3Rpb24oKXt0aGlzLnN1Yk1hcC5nZXRBbGxTdWJzY3JpcHRpb25zKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51bnN1YnNjcmliZSgpfSkpfSx0LkV2ZW50QnVzPWIsdC5FdmVudEZhY3Rvcnk9bSx0LkV2ZW50VHlwZT1yLHQuQWdlbnRFdmVudHM9aSx0LkNvbmZpZ3VyYXRpb25FdmVudHM9ZCx0LkNvbm5lY3Rpb25FdmVudHM9cCx0LkNvbm5uZWN0aW9uRXZlbnRzPXAsdC5Db250YWN0RXZlbnRzPXMsdC5DaGFubmVsVmlld0V2ZW50cz1jLHQuVGFza0V2ZW50cz11LHQuRW1haWxFdmVudHM9bCx0LlZvaWNlSWRFdmVudHM9Zyx0LldlYlNvY2tldEV2ZW50cz1hLHQuTWFzdGVyVG9waWNzPW8sdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzPWgsdC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzPWZ9KCl9LDk0OTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxyPXQuY29ubmVjdHx8e307dC5jb25uZWN0PXI7dmFyIG89IklmcmFtZVJlZnJlc2hBdHRlbXB0cyIsaT0iSWZyYW1lSW5pdGlhbGl6YXRpb25TdWNjZXNzIjtyLmdsb2JhbFJlc2lsaWVuY3kuX2Rvd25sb2FkQ0NQTG9ncz1mdW5jdGlvbigpe3IuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQKX0sci5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBvO3QmJihudWxsPT09KG89ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyKXx8dm9pZCAwPT09b3x8by5kZXN0cm95KCksci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyP3IuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cD1uZXcgci5jb3JlLkFnZW50RGF0YVByb3ZpZGVyKHIuY29yZS5nZXRFdmVudEJ1cygpKTpyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IHIuY29yZS5BZ2VudERhdGFQcm92aWRlcihyLmNvcmUuZ2V0RXZlbnRCdXMoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKHIuQWdlbnRFdmVudHMuRkVUQ0hfQUdFTlRfREFUQV9GUk9NX0NDUCkpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlaW5pdGlhbGl6aW5nIHRoZSBhZ2VudCBkYXRhIHByb3ZpZGVyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25BZ2VudERhdGFQcm92aWRlckZhaWx1cmUiLGRhdGE6e2NvdW50OjF9fSl9ci5jb3JlLmtlZXBhbGl2ZU1hbmFnZXI9ZS5nZXRBY3RpdmVDb25kdWl0KCkua2VlcGFsaXZlTWFuYWdlcixyLmNvcmUuY2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdENsaWVudChlLmdldEFjdGl2ZUNvbmR1aXQoKSksci5jb3JlLm1hc3RlckNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoZS5nZXRBY3RpdmVDb25kdWl0KCkpLHIuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHIuTWVkaWFGYWN0b3J5KG4obih7fSxyLmdsb2JhbFJlc2lsaWVuY3kucGFyYW1zKSx7fSx7Y2NwVXJsOmUuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWV9KSk7dHJ5e3ZhciBpO251bGwhPT0oaT1yLmNvcmUpJiZ2b2lkIDAhPT1pJiZpLnNvZnRwaG9uZU1hbmFnZXI/ci5jb3JlLl9hbGxvd1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uPyhyLmdldExvZygpLmluZm8oIltHUl0gUmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlciBSVEMgcGVlciBjb25uZWN0aW9uIG1hbmFnZXIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuc29mdHBob25lTWFuYWdlci5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKSk6KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWZyZXNoaW5nIHNvZnRwaG9uZSBtYW5hZ2VyIFJUQyBwZWVyIGNvbm5lY3Rpb24gZmFjdG9yeS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLl9yZWZyZXNoUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KCkpOnIuZ2V0TG9nKCkuaW5mbygiW0dSXSBTb2Z0cGhvbmUgbWFuYWdlciBub3QgaW5pdGlhbGl6ZWQgb3Igbm90IHVzZWQsIG5vdCByZWZyZXNoaW5nIHNvZnRwaG9uZSBtYW5hZ2VyLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBUaGVyZSB3YXMgYW4gZXJyb3IgcmVmcmVzaGluZyB0aGUgc29mdHBob25lIG1hbmFnZXIuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvbldlYlJUQ0ZhaWx1cmUiLGRhdGE6e2NvdW50OjF9fSl9dCYmKHIuZ2xvYmFsUmVzaWxpZW5jeS5fYWN0aXZlUmVnaW9uPXQsci5DaGF0U2Vzc2lvbj9yLkNoYXRTZXNzaW9uLnNldFJlZ2lvbk92ZXJyaWRlPyhyLmdldExvZygpLmluZm8oIltHUl0gVXBkYXRpbmcgQ2hhdEpTIHJlZ2lvbiB0byAiLmNvbmNhdCh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLkNoYXRTZXNzaW9uLnNldFJlZ2lvbk92ZXJyaWRlKHQpKTpyLmdldExvZygpLndhcm4oIltHUl0gQ2hhdEpTIHByZXNlbnQsIGJ1dCBzZXRSZWdpb25PdmVycmlkZSBub3QgZm91bmQuIENvbnNpZGVyIHVwZGF0aW5nIHRvIGxhdGVzdCBDaGF0SlMgdmVyc2lvbiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6ci5nZXRMb2coKS5pbmZvKCJbR1JdIENoYXRKUyBub3QgcHJlc2VudCwgbm90IHVwZGF0aW5nIENoYXRTZXNzaW9uIHJlZ2lvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmdldEFjdGl2ZUNvbmR1aXQoKS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9DQ1BfQ09ORFVJVCx7aW5zdGFuY2VTdGF0ZToiYWN0aXZlIn0pLGUuZ2V0SW5hY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6ImluYWN0aXZlIn0pO3RyeXtyLmNvcmUuX3Nob3dJZnJhbWUoZS5nZXRBY3RpdmVDb25kdWl0KCkuaWZyYW1lKSxyLmNvcmUuX2hpZGVJZnJhbWUoZS5nZXRJbmFjdGl2ZUNvbmR1aXQoKS5pZnJhbWUpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHVwZGF0aW5nIHRoZSBJRnJhbWUgdmlzaWJpbGl0eS4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uSUZyYW1lU3dhcEZhaWx1cmUiLGRhdGE6e2NvdW50OjF9fSl9fSxyLmdsb2JhbFJlc2lsaWVuY3kuX3N3aXRjaEFjdGl2ZVJlZ2lvbj1mdW5jdGlvbih0LG4pe3ZhciBvLGksYSxzLGM7aWYoISh0IGluc3RhbmNlb2Ygci5HUlByb3h5SWZyYW1lQ29uZHVpdCkpcmV0dXJuIHIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVHJpZWQgdG8gc3dpdGNoIG92ZXIgYWN0aXZlIHJlZ2lvbiwgYnV0IHByb3h5IGNvbmR1aXQgd2FzIG5vdCBvZiBleHBlY3RlZCB0eXBlLiIpLndpdGhPYmplY3Qoe3R5cGU6ZSh0KX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITE7dmFyIHU9dC5nZXRDb25kdWl0QnlOYW1lKG4pO3JldHVybiB1IGluc3RhbmNlb2Ygci5JRnJhbWVDb25kdWl0P3QuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWU9PT11Lm5hbWUmJnIuZ2xvYmFsUmVzaWxpZW5jeS5fYWN0aXZlUmVnaW9uPT09dS5yZWdpb24/KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBOb3Qgc3dpdGNoaW5nIG92ZXIgYWN0aXZlIHJlZ2lvbiBhcyB3ZSBhcmUgYWxyZWFkeSBvbiBhY3RpdmUgcmVnaW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEpOihyLmdldExvZygpLmluZm8oIltHUl0gU3dpdGNoaW5nIGFjdGl2ZSByZWdpb24gZnJvbSAiLmNvbmNhdChudWxsPT09KG89dC5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlZ2lvbiwiIC8gIikuY29uY2F0KG51bGw9PT0oaT10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubmFtZSwiIHRvICIpLmNvbmNhdChudWxsPT11P3ZvaWQgMDp1LnJlZ2lvbiwiIC8gIikuY29uY2F0KG51bGw9PXU/dm9pZCAwOnUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbnVsbD09PShhPXIuY29yZSl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLnNvZnRwaG9uZU1hbmFnZXIpfHx2b2lkIDA9PT1hfHxhLl9jbGVhckFsbFNlc3Npb25zKCksdC5zZXRBY3RpdmVDb25kdWl0KHUubmFtZSksci5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uKHQsdS5yZWdpb24pLHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hlZCBhY3RpdmUgcmVnaW9uIHRvICIuY29uY2F0KG51bGw9PT0ocz10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMucmVnaW9uLCIgLyAiKS5jb25jYXQobnVsbD09PShjPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNhbGxlZEludGVybmFsU3dpdGNoQWN0aXZlUmVnaW9uU3VjY2Vzc2Z1bCIsZGF0YTp7Y291bnQ6MX19KSwhMCk6KHIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVHJpZWQgdG8gc3dpdGNoIG92ZXIgYWN0aXZlIHJlZ2lvbiwgYnV0IGNvbmR1aXQgbmFtZSB3YXMgaW52YWxpZCIpLndpdGhPYmplY3Qoe25ld0FjdGl2ZUNvbmR1aXROYW1lOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExKX0sci5nbG9iYWxSZXNpbGllbmN5LmluaXRHUkNDUD1mdW5jdGlvbihlLGEpe3ZhciBzPW4oe30sYSk7ci5nbG9iYWxSZXNpbGllbmN5LnBhcmFtcz1zO3ZhciBjLHUsbCxwPXt9LGQ9ITE7aWYoci5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb249bnVsbCxyLmdsb2JhbFJlc2lsaWVuY3kuZ2xvYmFsUmVzaWxpZW5jeUVuYWJsZWQ9ITAsci5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQoKSwhci5jb3JlLmluaXRpYWxpemVkKXtyLmdldExvZygpLmluZm8oIltHUl0gSWZyYW1lIGluaXRpYWxpemF0aW9uIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBoPURhdGUubm93KCk7ci5hc3NlcnROb3ROdWxsKGUsImNvbnRhaW5lckRpdiIpO3ZhciBmPW5ldyBVUkwocy5jY3BVcmwpLm9yaWdpbixnPW5ldyBVUkwocy5zZWNvbmRhcnlDQ1BVcmwpLm9yaWdpbixtPXIuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGUscyxmKSx2PXIuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGUsbihuKHt9LHMpLHt9LHtjY3BVcmw6cy5zZWNvbmRhcnlDQ1BVcmx9KSxnKSx5PW5ldyByLkdSUHJveHlJZnJhbWVDb25kdWl0KHdpbmRvdyxbbSx2XSxtLnNyYyk7ci5jb3JlLnVwc3RyZWFtPXksci5jb3JlLmV2ZW50QnVzPW5ldyByLkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSxyLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb24oeSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJJbml0R2xvYmFsUmVzaWxpZW5jeUNDUENhbGxlZCIsZGF0YTp7Y291bnQ6MX19KSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShlLmlmcmFtZSxlKX0pKSxyLmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IHIuV2ViU29ja2V0UHJvdmlkZXIseS5vbkFsbFVwc3RyZWFtKHIuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5rZWVwYWxpdmVNYW5hZ2VyPW5ldyByLktlZXBhbGl2ZU1hbmFnZXIoZSxyLmNvcmUuZ2V0RXZlbnRCdXMoKSxzLmNjcFN5blRpbWVvdXR8fDFlMyxzLmNjcEFja1RpbWVvdXR8fDNlMyl9KSksci5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtT3V0ZXJDb250ZXh0Q0NQTG9nc1B1c2goeSksci5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzUHVzaCh5KSx5Lm9uVXBzdHJlYW0oci5BZ2VudEV2ZW50cy5GRVRDSF9BR0VOVF9EQVRBX0ZST01fQ0NQLChmdW5jdGlvbihlKXtyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA/KHIuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cC51cGRhdGVBZ2VudERhdGEoZSksci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPXIuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cCxyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA9bnVsbCk6ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyLnVwZGF0ZUFnZW50RGF0YShlKSxyLmdldExvZygpLmluZm8oIltHUl0gRmV0Y2hlZCBhZ2VudCBkYXRhIGZyb20gQ0NQLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3BbZS5uYW1lXT17aWZyYW1lUmVmcmVzaFRpbWVvdXQ6bnVsbH0scFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsLHIuaXNBY3RpdmVDb25kdWl0KGUpPyhyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkFDS19USU1FT1VUKSxyLmdldExvZygpLmluZm8oIkNDUCBMb2FkVGltZW91dCB0cmlnZ2VyZWQuICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOnIuZ2V0TG9nKCkuZXJyb3IoIkNDUCBMb2FkVGltZW91dCBkZXRlY3RlZCBidXQgaWdub3JlZCBmb3Igbm9uLXByaW1hcnkgcmVnaW9ucy4gIi5jb25jYXQoZS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLHMuY2NwTG9hZFRpbWVvdXR8fDVlMyl9KSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uub25VcHN0cmVhbShyLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7ci5nZXRMb2coKS5pbmZvKCJBY2tub3dsZWRnZWQgYnkgdGhlIENDUCEgIi5jb25jYXQoZS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYT0hMDtyLmNvcmUuc2VuZENvbmZpZ3VyZShzLGUsYSksci5jb3JlLmxpc3RlbkZvckNvbmZpZ3VyZVJlcXVlc3QocyxlLGEpLHBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlJiYodC5jbGVhclRpbWVvdXQocFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UpLHBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwpLGUuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTyx7c3RyZWFtc1ZlcnNpb246ci52ZXJzaW9uLGluaXRDQ1BQYXJhbXM6c30pO3ZhciBjPShzLmxvZ2luT3B0aW9uc3x8e30pLmVuYWJsZUFja1RpbWVvdXQ7aWYoYyYmZS5rZWVwYWxpdmVNYW5hZ2VyLmVuYWJsZUFja1RpbWVvdXQoYyksZS5rZWVwYWxpdmVNYW5hZ2VyLnN0YXJ0KCksci5pc0FjdGl2ZUNvbmR1aXQoZSkmJihyLmNvcmUuY2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdENsaWVudChlKSxyLmNvcmUubWFzdGVyQ2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChlKSxyLmNvcmUucG9ydFN0cmVhbUlkPW4uaWQsaCkpe3ZhciB1PURhdGUubm93KCktaCxsPXBbZS5uYW1lXS5pZnJhbWVSZWZyZXNoQXR0ZW1wdHx8MDtyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHRpbWUgIi5jb25jYXQodSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgcmVmcmVzaCBhdHRlbXB0cyAiLmNvbmNhdChsKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IucHVibGlzaE1ldHJpYyh7bmFtZTpvLGRhdGE6e2NvdW50Omx9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOmksZGF0YTp7Y291bnQ6MX19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IklmcmFtZUluaXRpYWxpemF0aW9uVGltZSIsZGF0YTp7Y291bnQ6dX19KSxoPW51bGx9KSwxZTMpfWUucG9ydFN0cmVhbUlkPW4uaWQsdGhpcy51bnN1YnNjcmliZSgpfSkpfSkpLHkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5MT0csKGZ1bmN0aW9uKGUpe2UubG9nZ2VySWQhPT1yLmdldExvZygpLmdldExvZ2dlcklkKCkmJnIuZ2V0TG9nKCkuYWRkTG9nRW50cnkoci5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuQUNLX1RJTUVPVVQsKGZ1bmN0aW9uKCl7aWYoITEhPT1zLmxvZ2luUG9wdXApdHJ5e3ZhciBvPXMubG9naW5Vcmw7ci5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBvY2N1cnJlZCwgYXR0ZW1wdGluZyB0byBwb3AgdGhlIGxvZ2luIHBhZ2UgaWYgbm90IGFscmVhZHkgb3Blbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5jbGVhcihyLk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCksci5jb3JlLl9vcGVuUG9wdXBXaXRoTG9jayhvLHMubG9naW5PcHRpb25zKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJBQ0tfVElNRU9VVCBvY2N1cnJlZCBidXQgd2UgYXJlIHVuYWJsZSB0byBvcGVuIHRoZSBsb2dpbiBwb3B1cC4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9eS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKG51bGw9PT1wW28ubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e28ub25VcHN0cmVhbShyLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksdC5jbGVhclRpbWVvdXQocFtvLm5hbWVdLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxwW28ubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCxyLmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIoci5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChzLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fHMubG9naW5PcHRpb25zJiZzLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZyLmNvcmUubG9naW5XaW5kb3cmJihyLmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSxyLmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSksci5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KG4obih7fSxzKSx7fSx7Y2NwVXJsOm8uaWZyYW1lLnNyY30pLGUscFtvLm5hbWVdLG8ubmFtZSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQsKGZ1bmN0aW9uKHQpe2lmKG51bGwhPXQmJnQuaW5zdGFuY2VSZWdpb24mJm51bGwhPXQmJnQuaW5zdGFuY2VTdGF0ZSYmbnVsbCE9dCYmdC5hY3RpdmVSZWdpb24pe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQgaW5kaWNhdGluZyAiLmNvbmNhdChlLm5hbWUsIiBpbiByZWdpb24gIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuaW5zdGFuY2VSZWdpb24sIiBpcyAiKS5jb25jYXQobnVsbD09dD92b2lkIDA6dC5pbnN0YW5jZVN0YXRlLCIuIikpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5pbnN0YW5jZVJlZ2lvbj09PXQuYWN0aXZlUmVnaW9uP2U6eS5nZXRPdGhlckNvbmR1aXQoZSk7aWYoZS5yZWdpb24mJm4ucmVnaW9ufHwoZS5yZWdpb249dC5pbnN0YW5jZVJlZ2lvbixuLnJlZ2lvbj10LmFjdGl2ZVJlZ2lvbiksZS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9DQ1BfQ09ORFVJVCx7aW5zdGFuY2VTdGF0ZTp0Lmluc3RhbmNlU3RhdGV9KSxyLmNvcmUuaW5pdGlhbGl6ZWQpci5nZXRMb2coKS5sb2coIltHUl0gRGVkdXBpbmcgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIC0gQ29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXtyLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBpbml0aWFsIGFjdGl2ZSBpZnJhbWUgdG8gIi5jb25jYXQobi5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChuLnJlZ2lvbiwiIGJlY2F1c2UgdGhlIGluc3RhbmNlIHN0YXRlIHdhcyBhY3RpdmUiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt0cnl7ci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxuLm5hbWUpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uIGF0IGluaXRpYWxpemF0aW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuSU5JVCksci5jb3JlLmluaXRpYWxpemVkPSEwLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUNvcmVJbml0aWFsaXplZCIsZGF0YTp7Y291bnQ6MX19KX19ZWxzZSByLmdldExvZygpLmVycm9yKCJbR1JdIEV4cGVjdGVkIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSU5JVCB0byBoYXZlIGluc3RhbmNlIHJlZ2lvbiwgc3RhdGUsIGFuZCBjdXJyZW50IGFjdGl2ZSByZWdpb24sIGJ1dCBkaWQgbm90IGZpbmQgaXQuIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCwoZnVuY3Rpb24oZSl7aWYodT1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVySW5pdGlhdGVkUmVjZWl2ZWQiLGRhdGE6e2NvdW50OjF9fSksZCYmci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5UGVuZGluZ1RvSW5pdGlhdGVkTGF0ZW5jeSIsZGF0YTp7bGF0ZW5jeTp1LWN9fSksbnVsbCE9ZSYmZS5hY3RpdmVSZWdpb24pe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCBpbmRpY2F0aW5nIHRoZSBhY3RpdmVSZWdpb24gaXMgIi5jb25jYXQoZS5hY3RpdmVSZWdpb24sIi4iKSk7dmFyIHQsbj15LmdldENvbmR1aXRCeVJlZ2lvbihlLmFjdGl2ZVJlZ2lvbik7bnx8KHIuZ2V0TG9nKCkuZGVidWcoIltHUl0gQSBjb25kdWl0IGRpZCBub3QgcmVjZWl2ZWQgR0xPQkFMX1JFU0lMSUVOQ1kuSU5JVCBldmVudCwgbGVhZGluZyB0byB0aGUgcmVnaW9uIGZpZWxkIGJlaW5nIHVucG9wdWxhdGVkLiIpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2b2lkIDAhPT10LnJlZ2lvbiYmbnVsbCE9PXQucmVnaW9ufHwodC5yZWdpb249ZS5hY3RpdmVSZWdpb24sbj10KX0pKSk7dHJ5e3Q9ci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxuLm5hbWUpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfWlmKHQpe2Q9ITE7dmFyIG89eS5vblVwc3RyZWFtKHIuQWdlbnRFdmVudHMuVVBEQVRFLChmdW5jdGlvbigpe28udW5zdWJzY3JpYmUoKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSx7YWN0aXZlUmVnaW9uOmUuYWN0aXZlUmVnaW9ufSkseS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFKSxyLmdldExvZygpLmluZm8oIltHUl0gR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSBlbWl0dGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbD1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVyQ29tcGxldGVkIixkYXRhOntjb3VudDoxfX0pLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUluaXRpYXRlZFRvQ29tcGxldGVkTGF0ZW5jeSIsZGF0YTp7bGF0ZW5jeTpsLXV9fSl9KSl9fWVsc2Ugci5nZXRMb2coKS5lcnJvcigiW0dSXSBFeHBlY3RlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCB0byBoYXZlIG5ldyBhY3RpdmUgcmVnaW9uLCBidXQgZGlkIG5vdCBmaW5kIGl0LiIpLndpdGhPYmplY3Qoe2RhdGE6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSkscy5vblZpZXdDb250YWN0JiZyLmNvcmUub25WaWV3Q29udGFjdChzLm9uVmlld0NvbnRhY3QpLHkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3IubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5Wb2ljZUlkRXZlbnRzLlVQREFURV9ET01BSU5fSUQsKGZ1bmN0aW9uKHQpe3QmJnQuZG9tYWluSWQmJihlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkLHIuaXNBY3RpdmVDb25kdWl0KGUpJiYoci5jb3JlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkKSl9KSl9KSksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oZSl7aWYoZT09PXkuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWUmJmgpe3ZhciB0PXBbeS5nZXRBY3RpdmVDb25kdWl0KCkubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTtyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLWgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOm8sZGF0YTp7Y291bnQ6dH19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6aSxkYXRhOntjb3VudDowfX0pLGg9bnVsbH19KSksci5jb3JlLnNvZnRwaG9uZVBhcmFtcz1zLnNvZnRwaG9uZSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HLChmdW5jdGlvbih0KXtyLmlzQWN0aXZlQ29uZHVpdChlKSYmKGQ/ci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEZBSUxPVkVSX1BFTkRJTkcgLSBkZWR1cGluZywgd2lsbCBub3QgdHJpZ2dlciBldmVudCBzdWJzY3JpcHRpb24uIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTooci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEZBSUxPVkVSX1BFTkRJTkciKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkdfQ1JNLHtuZXh0QWN0aXZlUmVnaW9uOnQuYWN0aXZlUmVnaW9ufSksZD0hMCxjPURhdGUubm93KCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5RmFpbG92ZXJQZW5kaW5nUmVjZWl2ZWQiLGRhdGE6e2NvdW50OjF9fSkpKX0pKX0pKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkcpLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfSU5JVElBVEVEKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkhFQVJUQkVBVF9TWU4pLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSEVBUlRCRUFUX0FDSyksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCwoZnVuY3Rpb24oKXt5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWdpb258fCJyZWdpb24iO2Uuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCx7bG9nTmFtZToiY2NwLSIuY29uY2F0KHQsIi1hZ2VudC1sb2ciKX0pfSkpfSkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9MDt5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5yZWdpb24mJihlKz0xKX0pKSxlPDImJihyLmdldExvZygpLmluZm8oIltHUl0gT25lIG9yIG1vcmUgY29uZHVpdHMgZGlkIG5vdCBHbG9iYWxSZXNpbGllbmN5LklOSVQgZXZlbnQgdG8gQ1JNIGxheWVyLiIpLndpdGhPYmplY3Qoe2ZpcnN0Q29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzBdLm5hbWUsZmlyc3RDb25kdWl0UmVnaW9uOnkuZ2V0QWxsQ29uZHVpdHMoKVswXS5yZWdpb24sc2Vjb25kQ29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzFdLm5hbWUsc2Vjb25kQ29uZHVpdFJlZ2lvbjp5LmdldEFsbENvbmR1aXRzKClbMV0ucmVnaW9ufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lQYXJ0aWFsSW5pdGlhbGl6YXRpb24iLGRhdGE6e2NvdW50OjF9fSkpfSksM2U0KX19fSgpfSw5NTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9IWZ1bmN0aW9uKHQpe3ZhciBuPXt9O2Z1bmN0aW9uIHIoZSl7aWYobltlXSlyZXR1cm4gbltlXS5leHBvcnRzO3ZhciBvPW5bZV09e2k6ZSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2VdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8ubD0hMCxvLmV4cG9ydHN9ci5tPXQsci5jPW4sci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKHQsbil7aWYoMSZuJiYodD1yKHQpKSw4Jm4pcmV0dXJuIHQ7aWYoNCZuJiYib2JqZWN0Ij09ZSh0KSYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBvPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZuJiYic3RyaW5nIiE9dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpci5kKG8saSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGkpKTtyZXR1cm4gb30sci5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiByLmQodCwiYSIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9IiIscihyLnM9Mil9KFtmdW5jdGlvbih0LG4scil7InVzZSBzdHJpY3QiO3ZhciBvPXIoMSksaT0iREVCVUciLGE9IkFNWl9XRUJfU09DS0VUX01BTkFHRVI6IixzPSJOZXR3b3JrIG9mZmxpbmUiLGM9Ik5ldHdvcmsgb25saW5lLCBjb25uZWN0aW5nIHRvIFdlYlNvY2tldCBzZXJ2ZXIiLHU9Ik5ldHdvcmsgb2ZmbGluZSwgaWdub3JpbmcgdGhpcyBnZXRXZWJTb2NrZXRDb25uQ29uZmlnIHJlcXVlc3QiLGw9IkhlYXJ0YmVhdCByZXNwb25zZSBub3QgcmVjZWl2ZWQiLHA9IkZhaWxlZCB0byBzZW5kIGhlYXJ0YmVhdCBzaW5jZSBXZWJTb2NrZXQgaXMgbm90IG9wZW4iLGQ9IldlYlNvY2tldCBjb25uZWN0aW9uIGVzdGFibGlzaGVkISIsaD0iV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgY2xvc2VkIixmPSJXZWJTb2NrZXRNYW5hZ2VyIEVycm9yLCBlcnJvcl9ldmVudDogIixnPSJTY2hlZHVsaW5nIFdlYlNvY2tldCByZWluaXRpYWxpemF0aW9uLCBhZnRlciBkZWxheSAiLG09IldlYlNvY2tldCBVUkwgY2Fubm90IGJlIHVzZWQgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24iLHY9IldlYlNvY2tldCBJbml0aWFsaXphdGlvbiBmYWlsZWQgLSBUZXJtaW5hdGluZyBhbmQgY2xlYW5pbmcgc3Vic2NyaXB0aW9ucyIseT0iRmV0Y2hpbmcgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLGI9IlN1Y2Nlc3NmdWxseSBmZXRjaGVkIHdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLEU9IkZhaWxlZCB0byBmZXRjaCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixTPSJSZXRyeWluZyBmZXRjaGluZyBuZXcgV2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsQz0iSW5pdGlhbGl6aW5nIFdlYnNvY2tldCBNYW5hZ2VyIixJPSJXZWJTb2NrZXRNYW5hZ2VyIE1lc3NhZ2UgRXJyb3IiLFQ9Ik1lc3NhZ2UgcmVjZWl2ZWQgZm9yIHRvcGljICIsdz0iSW52YWxpZCBpbmNvbWluZyBtZXNzYWdlIixBPSJhd3Mvc3Vic2NyaWJlIixfPSJhd3MvaGVhcnRiZWF0IixSPSJkaXNjb25uZWN0ZWQiO2Z1bmN0aW9uIE8odCl7cmV0dXJuKE89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PWUoU3ltYm9sLml0ZXJhdG9yKT9mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOmUodCl9KSh0KX12YXIgTD17YXNzZXJ0VHJ1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0KX0sYXNzZXJ0Tm90TnVsbDpmdW5jdGlvbihlLHQpe3JldHVybiBMLmFzc2VydFRydWUobnVsbCE9PWUmJnZvaWQgMCE9PU8oZSksT2JqZWN0KG8uc3ByaW50ZikoIiVzIG11c3QgYmUgcHJvdmlkZWQiLHR8fCJBIHZhbHVlIikpLGV9LGlzTm9uRW1wdHlTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wfSxhc3NlcnRJc0xpc3Q6ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhbiBhcnJheSIpfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuY29uc3RydWN0b3ImJmUuY2FsbCYmZS5hcHBseSl9LGlzT2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiEoIm9iamVjdCIhPT1PKGUpfHxudWxsPT09ZSl9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX0saXNOdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfX0saz1uZXcgUmVnRXhwKCJeKHdzczovLylcXHcqIik7TC52YWxpZFdTVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBrLnRlc3QoZSl9LEwuZ2V0U3Vic2NyaXB0aW9uUmVzcG9uc2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybnt0b3BpYzplLGNvbnRlbnQ6e3N0YXR1czp0PyJzdWNjZXNzIjoiZmFpbHVyZSIsdG9waWNzOm59fX0sTC5hc3NlcnRJc09iamVjdD1mdW5jdGlvbihlLHQpe2lmKCFMLmlzT2JqZWN0KGUpKXRocm93IG5ldyBFcnJvcih0KyIgaXMgbm90IGFuIG9iamVjdCEiKX0sTC5hZGRKaXR0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7dD1NYXRoLm1pbih0LDEpO3ZhciBuPU1hdGgucmFuZG9tKCk+LjU/MTotMTtyZXR1cm4gTWF0aC5mbG9vcihlK24qZSpNYXRoLnJhbmRvbSgpKnQpfSxMLmlzTmV0d29ya09ubGluZT1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3Iub25MaW5lfSxMLmlzTmV0d29ya0ZhaWx1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5fZGVidWd8fCFlLl9kZWJ1Zy50eXBlKSYmIk5ldHdvcmtpbmdFcnJvciI9PT1lLl9kZWJ1Zy50eXBlfTt2YXIgTj1MO2Z1bmN0aW9uIFAoZSl7cmV0dXJuKFA9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIEQoZSx0KXtyZXR1cm4oRD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9ZnVuY3Rpb24geCh0KXtyZXR1cm4oeD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09ZShTeW1ib2wuaXRlcmF0b3IpP2Z1bmN0aW9uKHQpe3JldHVybiBlKHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6ZSh0KX0pKHQpfWZ1bmN0aW9uIE0oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBVKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19ZnVuY3Rpb24gRihlLHQsbil7cmV0dXJuIHQmJlUoZS5wcm90b3R5cGUsdCksbiYmVShlLG4pLGV9dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7TSh0aGlzLGUpfXJldHVybiBGKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiYWR2YW5jZWRMb2ciLHZhbHVlOmZ1bmN0aW9uKGUpe319XSksZX0oKSxxPWEsQj17REVCVUc6MTAsSU5GTzoyMCxXQVJOOjMwLEVSUk9SOjQwLEFEVkFOQ0VEX0xPRzo1MH0sRz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtNKHRoaXMsZSksdGhpcy51cGRhdGVMb2dnZXJDb25maWcoKSx0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyPUgoKX1yZXR1cm4gRihlLFt7a2V5OiJ3cml0ZVRvQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuaGFzQ2xpZW50TG9nZ2VyKCkpc3dpdGNoKGUpe2Nhc2UgQi5ERUJVRzpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmRlYnVnKHQpfHx0O2Nhc2UgQi5JTkZPOnJldHVybiB0aGlzLl9jbGllbnRMb2dnZXIuaW5mbyh0KXx8dDtjYXNlIEIuV0FSTjpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLndhcm4odCl8fHQ7Y2FzZSBCLkVSUk9SOnJldHVybiB0aGlzLl9jbGllbnRMb2dnZXIuZXJyb3IodCl8fHQ7Y2FzZSBCLkFEVkFOQ0VEX0xPRzpyZXR1cm4gdGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI/dGhpcy5fY2xpZW50TG9nZ2VyW3RoaXMuX2FkdmFuY2VkTG9nV3JpdGVyXSh0KXx8dDoiIn19fSx7a2V5OiJpc0xldmVsRW5hYmxlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuX2xldmVsfX0se2tleToiaGFzQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5fY2xpZW50TG9nZ2VyfX0se2tleToiZ2V0TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByZWZpeHx8cTtyZXR1cm4gdGhpcy5fbG9nc0Rlc3RpbmF0aW9uPT09aT90aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyOm5ldyBXKHQpfX0se2tleToidXBkYXRlTG9nZ2VyQ29uZmlnIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lfHx7fTt0aGlzLl9sZXZlbD10LmxldmVsfHxCLklORk8sdGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI9Indhcm4iLHQuYWR2YW5jZWRMb2dXcml0ZXImJih0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcj10LmFkdmFuY2VkTG9nV3JpdGVyKSx0LmN1c3RvbWl6ZWRMb2dnZXImJiJvYmplY3QiPT09eCh0LmN1c3RvbWl6ZWRMb2dnZXIpJiYodGhpcy51c2VDbGllbnRMb2dnZXI9ITApLHRoaXMuX2NsaWVudExvZ2dlcj10LmxvZ2dlcnx8dGhpcy5zZWxlY3RMb2dnZXIodCksdGhpcy5fbG9nc0Rlc3RpbmF0aW9uPSJOVUxMIix0LmRlYnVnJiYodGhpcy5fbG9nc0Rlc3RpbmF0aW9uPWkpLHQubG9nZ2VyJiYodGhpcy5fbG9nc0Rlc3RpbmF0aW9uPSJDTElFTlRfTE9HR0VSIil9fSx7a2V5OiJzZWxlY3RMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmN1c3RvbWl6ZWRMb2dnZXImJiJvYmplY3QiPT09eChlLmN1c3RvbWl6ZWRMb2dnZXIpP2UuY3VzdG9taXplZExvZ2dlcjplLnVzZURlZmF1bHRMb2dnZXI/KHRoaXMuY29uc29sZUxvZ2dlcldyYXBwZXI9SCgpLHRoaXMuY29uc29sZUxvZ2dlcldyYXBwZXIpOm51bGx9fV0pLGV9KCksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtNKHRoaXMsZSl9cmV0dXJuIEYoZSxbe2tleToiZGVidWciLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbigpe319XSksZX0oKSxXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gTSh0aGlzLGUpLChuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fCJvYmplY3QiIT09eCh0KSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKTp0fSh0aGlzLFAoZSkuY2FsbCh0aGlzKSkpLnByZWZpeD10fHxxLG59cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJkQoZSx0KX0oZSxWKSxGKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5ERUJVRyx0KX19LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLklORk8sdCl9fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5XQVJOLHQpfX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLkVSUk9SLHQpfX0se2tleToiYWR2YW5jZWRMb2ciLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLkFEVkFOQ0VEX0xPRyx0KX19LHtrZXk6Il9zaG91bGRMb2ciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB6Lmhhc0NsaWVudExvZ2dlcigpJiZ6LmlzTGV2ZWxFbmFibGVkKGUpfX0se2tleToiX3dyaXRlVG9DbGllbnRMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHoud3JpdGVUb0NsaWVudExvZ2dlcihlLHQpfX0se2tleToiX2xvZyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9zaG91bGRMb2coZSkpe3ZhciBuPXoudXNlQ2xpZW50TG9nZ2VyP3Q6dGhpcy5fY29udmVydFRvU2luZ2xlU3RhdGVtZW50KHQsZSk7cmV0dXJuIHRoaXMuX3dyaXRlVG9DbGllbnRMb2dnZXIoZSxuKX19fSx7a2V5OiJfY29udmVydFRvU2luZ2xlU3RhdGVtZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBEYXRlKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCkscj10aGlzLl9nZXRMb2dMZXZlbEJ5VmFsdWUodCksbz0iWyIuY29uY2F0KG4sIl1bIikuY29uY2F0KHIsIl0iKTt0aGlzLnByZWZpeCYmKG8rPXRoaXMucHJlZml4KyIgIiksdGhpcy5vcHRpb25zJiYodGhpcy5vcHRpb25zLnByZWZpeD9vKz0iICIrdGhpcy5vcHRpb25zLnByZWZpeCsiOiI6bys9IiIsdGhpcy5vcHRpb25zLmxvZ01ldGFEYXRhP28rPSIgTWV0YSBkYXRhOiAiK0pTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucy5sb2dNZXRhRGF0YSk6bys9IiIpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgYT1lW2ldO28rPXRoaXMuX2NvbnZlcnRUb1N0cmluZyhhKSsiICJ9cmV0dXJuIG99fSx7a2V5OiJfZ2V0TG9nTGV2ZWxCeVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxMDpyZXR1cm4iREVCVUciO2Nhc2UgMjA6cmV0dXJuIklORk8iO2Nhc2UgMzA6cmV0dXJuIldBUk4iO2Nhc2UgNDA6cmV0dXJuIkVSUk9SIjtjYXNlIDUwOnJldHVybiJBRFZBTkNFRF9MT0cifX19LHtrZXk6Il9jb252ZXJ0VG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtpZighZSlyZXR1cm4iIjtpZihOLmlzU3RyaW5nKGUpKXJldHVybiBlO2lmKE4uaXNPYmplY3QoZSkmJk4uaXNGdW5jdGlvbihlLnRvU3RyaW5nKSl7dmFyIHQ9ZS50b1N0cmluZygpO2lmKCJbb2JqZWN0IE9iamVjdF0iIT09dClyZXR1cm4gdH1yZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIkVycm9yIHdoaWxlIGNvbnZlcnRpbmcgYXJndW1lbnQgdG8gc3RyaW5nIixlLHQpLCIifX19XSksZX0oKSxIPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFY7cmV0dXJuIGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5kZWJ1Zy5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlLmluZm89ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5pbmZvLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGUud2Fybj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBjb25zb2xlLndhcm4uYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBjb25zb2xlLmVycm9yLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGV9LHo9bmV3IEc7ZnVuY3Rpb24gSyhlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MmUzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpLHRoaXMubnVtQXR0ZW1wdHM9MCx0aGlzLmV4ZWN1dG9yPXQsdGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb249ITEsdGhpcy5kZWZhdWx0UmV0cnk9bn12YXIgdCxuO3JldHVybiB0PWUsKG49W3trZXk6InJldHJ5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb258fCh0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbj0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX2V4ZWN1dGUoKX0pLHRoaXMuX2dldERlbGF5KCkpKX19LHtrZXk6Il9leGVjdXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9uPSExLHRoaXMuZXhlY3V0b3IoKSx0aGlzLm51bUF0dGVtcHRzKyt9fSx7a2V5OiJjb25uZWN0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5udW1BdHRlbXB0cz0wfX0se2tleToiX2dldERlbGF5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU1hdGgucG93KDIsdGhpcy5udW1BdHRlbXB0cykqdGhpcy5kZWZhdWx0UmV0cnk7cmV0dXJuIGU8PTNlND9lOjNlNH19LHtrZXk6ImdldElzQ29ubmVjdGVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLm51bUF0dGVtcHRzfX1dKSYmSyh0LnByb3RvdHlwZSxuKSxlfSgpO3IuZChuLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gSn0pKTt2YXIgWD1mdW5jdGlvbigpe3ZhciBlPXouZ2V0TG9nZ2VyKHtwcmVmaXg6YX0pLHQ9Ti5pc05ldHdvcmtPbmxpbmUoKSxuPXtwcmltYXJ5Om51bGwsc2Vjb25kYXJ5Om51bGx9LHI9e3JlY29ubmVjdFdlYlNvY2tldDohMCx3ZWJzb2NrZXRJbml0RmFpbGVkOiExLGV4cG9uZW50aWFsQmFja09mZlRpbWU6MWUzLGV4cG9uZW50aWFsVGltZW91dEhhbmRsZTpudWxsLGxpZmVUaW1lVGltZW91dEhhbmRsZTpudWxsLHdlYlNvY2tldEluaXRDaGVja2VyVGltZW91dElkOm51bGwsY29ublN0YXRlOm51bGx9LG89e2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50OjAsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6bnVsbCxub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcDpudWxsfSxpPXtwZW5kaW5nUmVzcG9uc2U6ITEsaW50ZXJ2YWxIYW5kbGU6bnVsbH0sTz17aW5pdEZhaWx1cmU6bmV3IFNldCxnZXRXZWJTb2NrZXRUcmFuc3BvcnQ6bnVsbCxzdWJzY3JpcHRpb25VcGRhdGU6bmV3IFNldCxzdWJzY3JpcHRpb25GYWlsdXJlOm5ldyBTZXQsdG9waWM6bmV3IE1hcCxhbGxNZXNzYWdlOm5ldyBTZXQsY29ubmVjdGlvbkdhaW46bmV3IFNldCxjb25uZWN0aW9uTG9zdDpuZXcgU2V0LGNvbm5lY3Rpb25PcGVuOm5ldyBTZXQsY29ubmVjdGlvbkNsb3NlOm5ldyBTZXR9LEw9e2Nvbm5Db25maWc6bnVsbCxwcm9taXNlSGFuZGxlOm51bGwscHJvbWlzZUNvbXBsZXRlZDohMH0saz17c3Vic2NyaWJlZDpuZXcgU2V0LHBlbmRpbmc6bmV3IFNldCxzdWJzY3JpcHRpb25IaXN0b3J5Om5ldyBTZXR9LFA9e3Jlc3BvbnNlQ2hlY2tJbnRlcnZhbElkOm51bGwscmVxdWVzdENvbXBsZXRlZDohMCxyZVN1YnNjcmliZUludGVydmFsSWQ6bnVsbCxjb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzOjAsY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdDowfSxEPW5ldyBZKChmdW5jdGlvbigpe3NlKCl9KSkseD1uZXcgU2V0KFtBLCJhd3MvdW5zdWJzY3JpYmUiLF9dKSxNPXNldEludGVydmFsKChmdW5jdGlvbigpe2lmKHQhPT1OLmlzTmV0d29ya09ubGluZSgpKXtpZighKHQ9Ti5pc05ldHdvcmtPbmxpbmUoKSkpcmV0dXJuIGUuYWR2YW5jZWRMb2cocyksdm9pZCBsZShlLmluZm8ocykpO3ZhciBuPVYoKTt0JiYoIW58fHEobixXZWJTb2NrZXQuQ0xPU0lORyl8fHEobixXZWJTb2NrZXQuQ0xPU0VEKSkmJihlLmFkdmFuY2VkTG9nKGMpLGxlKGUuaW5mbyhjKSksc2UoKSl9fSksMjUwKSxVPWZ1bmN0aW9uKHQsbil7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0cnl7dChuKX1jYXRjaCh0KXtsZShlLmVycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLHQpKX19KSl9LEY9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuIk5VTEwiO3N3aXRjaChlLnJlYWR5U3RhdGUpe2Nhc2UgV2ViU29ja2V0LkNPTk5FQ1RJTkc6cmV0dXJuIkNPTk5FQ1RJTkciO2Nhc2UgV2ViU29ja2V0Lk9QRU46cmV0dXJuIk9QRU4iO2Nhc2UgV2ViU29ja2V0LkNMT1NJTkc6cmV0dXJuIkNMT1NJTkciO2Nhc2UgV2ViU29ja2V0LkNMT1NFRDpyZXR1cm4iQ0xPU0VEIjtkZWZhdWx0OnJldHVybiJVTkRFRklORUQifX0saj1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIjtsZShlLmRlYnVnKCJbIit0KyJdIFByaW1hcnkgV2ViU29ja2V0OiAiK0Yobi5wcmltYXJ5KSsiIHwgU2Vjb25kYXJ5IFdlYlNvY2tldDogIitGKG4uc2Vjb25kYXJ5KSkpfSxxPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUucmVhZHlTdGF0ZT09PXR9LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIHEoZSxXZWJTb2NrZXQuT1BFTil9LEc9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHx2b2lkIDA9PT1lLnJlYWR5U3RhdGV8fHEoZSxXZWJTb2NrZXQuQ0xPU0VEKX0sVj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09bi5zZWNvbmRhcnk/bi5zZWNvbmRhcnk6bi5wcmltYXJ5fSxXPWZ1bmN0aW9uKCl7cmV0dXJuIEIoVigpKX0sSD1mdW5jdGlvbigpe2lmKGkucGVuZGluZ1Jlc3BvbnNlKXJldHVybiBlLmFkdmFuY2VkTG9nKGwpLGxlKGUud2FybihsKSksY2xlYXJJbnRlcnZhbChpLmludGVydmFsSGFuZGxlKSxpLnBlbmRpbmdSZXNwb25zZT0hMSx2b2lkIHNlKCk7VygpPyhsZShlLmRlYnVnKCJTZW5kaW5nIGhlYXJ0YmVhdCIpKSxWKCkuc2VuZChpZShfKSksaS5wZW5kaW5nUmVzcG9uc2U9ITApOihlLmFkdmFuY2VkTG9nKHApLGxlKGUud2FybihwKSksaigic2VuZEhlYXJ0QmVhdCIpLHNlKCkpfSxLPWZ1bmN0aW9uKCl7ZS5hZHZhbmNlZExvZygiUmVzZXQgV2Vic29ja2V0IHN0YXRlIiksci5leHBvbmVudGlhbEJhY2tPZmZUaW1lPTFlMyxpLnBlbmRpbmdSZXNwb25zZT0hMSxyLnJlY29ubmVjdFdlYlNvY2tldD0hMCxjbGVhclRpbWVvdXQoci5saWZlVGltZVRpbWVvdXRIYW5kbGUpLGNsZWFySW50ZXJ2YWwoaS5pbnRlcnZhbEhhbmRsZSksY2xlYXJUaW1lb3V0KHIuZXhwb25lbnRpYWxUaW1lb3V0SGFuZGxlKSxjbGVhclRpbWVvdXQoci53ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZCl9LFg9ZnVuY3Rpb24oKXtQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHM9MCxQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q9MCxjbGVhckludGVydmFsKFAucmVzcG9uc2VDaGVja0ludGVydmFsSWQpLGNsZWFySW50ZXJ2YWwoUC5yZVN1YnNjcmliZUludGVydmFsSWQpfSxKPWZ1bmN0aW9uKCl7by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudD0wLG8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU9bnVsbCxvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wPW51bGx9LFE9ZnVuY3Rpb24oKXtELmNvbm5lY3RlZCgpO3RyeXtlLmFkdmFuY2VkTG9nKGQpLGxlKGUuaW5mbyhkKSksaigid2ViU29ja2V0T25PcGVuIiksbnVsbCE9PXIuY29ublN0YXRlJiZyLmNvbm5TdGF0ZSE9PVJ8fFUoTy5jb25uZWN0aW9uR2Fpbiksci5jb25uU3RhdGU9ImNvbm5lY3RlZCI7dmFyIHQ9RGF0ZS5ub3coKTtVKE8uY29ubmVjdGlvbk9wZW4se2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50Om8uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSxub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcDpvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wLGNvbm5lY3Rpb25Fc3RhYmxpc2hlZFRpbWU6dCx0aW1lVG9Db25uZWN0OnQtby5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSx0aW1lV2l0aG91dENvbm5lY3Rpb246by5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD90LW8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6bnVsbH0pLEooKSxLKCksVigpLm9wZW5UaW1lc3RhbXA9RGF0ZS5ub3coKSwwPT09ay5zdWJzY3JpYmVkLnNpemUmJkIobi5zZWNvbmRhcnkpJiZ0ZShuLnByaW1hcnksIltQcmltYXJ5IFdlYlNvY2tldF0gQ2xvc2luZyBXZWJTb2NrZXQiKSwoay5zdWJzY3JpYmVkLnNpemU+MHx8ay5wZW5kaW5nLnNpemU+MCkmJihCKG4uc2Vjb25kYXJ5KSYmbGUoZS5pbmZvKCJTdWJzY3JpYmluZyBzZWNvbmRhcnkgd2Vic29ja2V0IHRvIHRvcGljcyBvZiBwcmltYXJ5IHdlYnNvY2tldCIpKSxrLnN1YnNjcmliZWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ay5zdWJzY3JpcHRpb25IaXN0b3J5LmFkZChlKSxrLnBlbmRpbmcuYWRkKGUpfSkpLGsuc3Vic2NyaWJlZC5jbGVhcigpLGVlKCkpLEgoKSxpLmludGVydmFsSGFuZGxlPXNldEludGVydmFsKEgsMWU0KTt2YXIgYT0xZTMqTC5jb25uQ29uZmlnLndlYlNvY2tldFRyYW5zcG9ydC50cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcztsZShlLmRlYnVnKCJTY2hlZHVsaW5nIFdlYlNvY2tldCBtYW5hZ2VyIHJlY29ubmVjdGlvbiwgYWZ0ZXIgZGVsYXkgIithKyIgbXMiKSksci5saWZlVGltZVRpbWVvdXRIYW5kbGU9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtsZShlLmRlYnVnKCJTdGFydGluZyBzY2hlZHVsZWQgV2ViU29ja2V0IG1hbmFnZXIgcmVjb25uZWN0aW9uIikpLHNlKCl9KSxhKX1jYXRjaCh0KXtsZShlLmVycm9yKCJFcnJvciBhZnRlciBlc3RhYmxpc2hpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb24iLHQpKX19LFo9ZnVuY3Rpb24odCl7aigid2ViU29ja2V0T25FcnJvciIpLGUuYWR2YW5jZWRMb2coZixKU09OLnN0cmluZ2lmeSh0KSksbGUoZS5lcnJvcihmLEpTT04uc3RyaW5naWZ5KHQpKSksRC5nZXRJc0Nvbm5lY3RlZCgpP3NlKCk6RC5yZXRyeSgpfSwkPWZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodC5kYXRhKTtzd2l0Y2goci50b3BpYyl7Y2FzZSBBOmlmKGxlKGUuZGVidWcoIlN1YnNjcmlwdGlvbiBNZXNzYWdlIHJlY2VpdmVkIGZyb20gd2ViU29ja2V0IHNlcnZlciIsdC5kYXRhKSksUC5yZXF1ZXN0Q29tcGxldGVkPSEwLFAuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD0wLCJzdWNjZXNzIj09PXIuY29udGVudC5zdGF0dXMpUC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTAsci5jb250ZW50LnRvcGljcy5mb3JFYWNoKChmdW5jdGlvbihlKXtrLnN1YnNjcmlwdGlvbkhpc3RvcnkuZGVsZXRlKGUpLGsucGVuZGluZy5kZWxldGUoZSksay5zdWJzY3JpYmVkLmFkZChlKX0pKSwwPT09ay5zdWJzY3JpcHRpb25IaXN0b3J5LnNpemU/QihuLnNlY29uZGFyeSkmJihsZShlLmluZm8oIlN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHNlY29uZGFyeSB3ZWJzb2NrZXQgdG8gYWxsIHRvcGljcyBvZiBwcmltYXJ5IHdlYnNvY2tldCIpKSx0ZShuLnByaW1hcnksIltQcmltYXJ5IFdlYlNvY2tldF0gQ2xvc2luZyBXZWJTb2NrZXQiKSk6ZWUoKSxVKE8uc3Vic2NyaXB0aW9uVXBkYXRlLHIpO2Vsc2V7aWYoY2xlYXJJbnRlcnZhbChQLnJlU3Vic2NyaWJlSW50ZXJ2YWxJZCksKytQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHMsNT09PVAuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cylyZXR1cm4gVShPLnN1YnNjcmlwdGlvbkZhaWx1cmUsciksdm9pZChQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHM9MCk7UC5yZVN1YnNjcmliZUludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZWUoKX0pLDUwMCl9YnJlYWs7Y2FzZSBfOmxlKGUuZGVidWcoIkhlYXJ0YmVhdCByZXNwb25zZSByZWNlaXZlZCIpKSxpLnBlbmRpbmdSZXNwb25zZT0hMTticmVhaztkZWZhdWx0OmlmKHIudG9waWMpe2lmKGUuYWR2YW5jZWRMb2coVCxyLnRvcGljKSxsZShlLmRlYnVnKFQrci50b3BpYykpLEIobi5wcmltYXJ5KSYmQihuLnNlY29uZGFyeSkmJjA9PT1rLnN1YnNjcmlwdGlvbkhpc3Rvcnkuc2l6ZSYmdGhpcz09PW4ucHJpbWFyeSlyZXR1cm4gdm9pZCBsZShlLndhcm4oIklnbm9yaW5nIE1lc3NhZ2UgZm9yIFRvcGljICIrci50b3BpYysiLCB0byBhdm9pZCBkdXBsaWNhdGVzIikpO2lmKDA9PT1PLmFsbE1lc3NhZ2Uuc2l6ZSYmMD09PU8udG9waWMuc2l6ZSlyZXR1cm4gdm9pZCBsZShlLndhcm4oIk5vIHJlZ2lzdGVyZWQgY2FsbGJhY2sgbGlzdGVuZXIgZm9yIFRvcGljIixyLnRvcGljKSk7ZS5hZHZhbmNlZExvZygiV2Vic29ja2V0TWFuYWdlciBpbnZva2UgY2FsbGJhY2tzIGZvciB0b3BpYyBzdWNjZXNzICIsci50b3BpYyksVShPLmFsbE1lc3NhZ2UsciksTy50b3BpYy5oYXMoci50b3BpYykmJlUoTy50b3BpYy5nZXQoci50b3BpYykscil9ZWxzZSByLm1lc3NhZ2U/KGUuYWR2YW5jZWRMb2coSSxyKSxsZShlLndhcm4oSSxyKSkpOihlLmFkdmFuY2VkTG9nKHcsciksbGUoZS53YXJuKHcscikpKX19LGVlPWZ1bmN0aW9uIHQoKXtpZihQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q+MylyZXR1cm4gbGUoZS53YXJuKCJJZ25vcmluZyBzdWJzY3JpYmVQZW5kaW5nVG9waWNzIHNpbmNlIHdlIGhhdmUgZXhoYXVzdGVkIG1heCBzdWJzY3JpcHRpb24gcmV0cmllcyB3aXRoIG5vIHJlc3BvbnNlIikpLHZvaWQgVShPLnN1YnNjcmlwdGlvbkZhaWx1cmUsTi5nZXRTdWJzY3JpcHRpb25SZXNwb25zZShBLCExLEFycmF5LmZyb20oay5wZW5kaW5nKSkpO1coKT8wIT09QXJyYXkuZnJvbShrLnBlbmRpbmcpLmxlbmd0aCYmKGNsZWFySW50ZXJ2YWwoUC5yZXNwb25zZUNoZWNrSW50ZXJ2YWxJZCksVigpLnNlbmQoaWUoQSx7dG9waWNzOkFycmF5LmZyb20oay5wZW5kaW5nKX0pKSxQLnJlcXVlc3RDb21wbGV0ZWQ9ITEsUC5yZXNwb25zZUNoZWNrSW50ZXJ2YWxJZD1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtQLnJlcXVlc3RDb21wbGV0ZWR8fCgrK1AuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdCx0KCkpfSksMWUzKSk6bGUoZS53YXJuKCJJZ25vcmluZyBzdWJzY3JpYmVQZW5kaW5nVG9waWNzIGNhbGwgc2luY2UgRGVmYXVsdCBXZWJTb2NrZXQgaXMgbm90IG9wZW4iKSl9LHRlPWZ1bmN0aW9uKHQsbil7cSh0LFdlYlNvY2tldC5DT05ORUNUSU5HKXx8cSh0LFdlYlNvY2tldC5PUEVOKT90LmNsb3NlKDFlMyxuKTpsZShlLndhcm4oIklnbm9yaW5nIFdlYlNvY2tldCBDbG9zZSByZXF1ZXN0LCBXZWJTb2NrZXQgU3RhdGU6ICIrRih0KSkpfSxuZT1mdW5jdGlvbihlKXt0ZShuLnByaW1hcnksIltQcmltYXJ5XSBXZWJTb2NrZXQgIitlKSx0ZShuLnNlY29uZGFyeSwiW1NlY29uZGFyeV0gV2ViU29ja2V0ICIrZSl9LHJlPWZ1bmN0aW9uKCl7by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudCsrO3ZhciB0PU4uYWRkSml0dGVyKHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZSwuMyk7RGF0ZS5ub3coKSt0PD1MLmNvbm5Db25maWcudXJsQ29ublZhbGlkVGltZT8oZS5hZHZhbmNlZExvZyhnKSxsZShlLmRlYnVnKGcrdCsiIG1zIikpLHIuZXhwb25lbnRpYWxUaW1lb3V0SGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGNlKCl9KSx0KSxyLmV4cG9uZW50aWFsQmFja09mZlRpbWUqPTIpOihlLmFkdmFuY2VkTG9nKG0pLGxlKGUud2FybihtKSksc2UoKSl9LG9lPWZ1bmN0aW9uKHQpe0soKSxYKCksZS5hZHZhbmNlZExvZyh2LHQpLGxlKGUuZXJyb3IodikpLHIud2Vic29ja2V0SW5pdEZhaWxlZD0hMCxuZSgiVGVybWluYXRpbmcgV2ViU29ja2V0IE1hbmFnZXIiKSxjbGVhckludGVydmFsKE0pLFUoTy5pbml0RmFpbHVyZSx7Y29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ6by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudCxjb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZTpvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lLHJlYXNvbjp0fSksSigpfSxpZT1mdW5jdGlvbihlLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7dG9waWM6ZSxjb250ZW50OnR9KX0sYWU9ZnVuY3Rpb24odCl7cmV0dXJuISEoTi5pc09iamVjdCh0KSYmTi5pc09iamVjdCh0LndlYlNvY2tldFRyYW5zcG9ydCkmJk4uaXNOb25FbXB0eVN0cmluZyh0LndlYlNvY2tldFRyYW5zcG9ydC51cmwpJiZOLnZhbGlkV1NVcmwodC53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKSYmMWUzKnQud2ViU29ja2V0VHJhbnNwb3J0LnRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzPj0zZTUpfHwobGUoZS5lcnJvcigiSW52YWxpZCBXZWJTb2NrZXQgQ29ubmVjdGlvbiBDb25maWd1cmF0aW9uIix0KSksITEpfSxzZT1mdW5jdGlvbigpe2lmKCFOLmlzTmV0d29ya09ubGluZSgpKXJldHVybiBlLmFkdmFuY2VkTG9nKHUpLHZvaWQgbGUoZS5pbmZvKHUpKTtpZihyLndlYnNvY2tldEluaXRGYWlsZWQpbGUoZS5kZWJ1ZygiV2ViU29ja2V0IEluaXQgaGFkIGZhaWxlZCwgaWdub3JpbmcgdGhpcyBnZXRXZWJTb2NrZXRDb25uQ29uZmlnIHJlcXVlc3QiKSk7ZWxzZXtpZihMLnByb21pc2VDb21wbGV0ZWQpcmV0dXJuIEsoKSxlLmFkdmFuY2VkTG9nKHkpLGxlKGUuaW5mbyh5KSksby5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZT1vLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lfHxEYXRlLm5vdygpLEwucHJvbWlzZUNvbXBsZXRlZD0hMSxMLnByb21pc2VIYW5kbGU9Ty5nZXRXZWJTb2NrZXRUcmFuc3BvcnQoKSxMLnByb21pc2VIYW5kbGUudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIEwucHJvbWlzZUNvbXBsZXRlZD0hMCxlLmFkdmFuY2VkTG9nKGIpLGxlKGUuZGVidWcoYix0KSksYWUodCk/KEwuY29ubkNvbmZpZz10LEwuY29ubkNvbmZpZy51cmxDb25uVmFsaWRUaW1lPURhdGUubm93KCkrODVlMyxjZSgpKToob2UoIkludmFsaWQgV2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbjogIit0KSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH0pfSksKGZ1bmN0aW9uKHQpe3JldHVybiBMLnByb21pc2VDb21wbGV0ZWQ9ITAsZS5hZHZhbmNlZExvZyhFKSxsZShlLmVycm9yKEUsdCkpLE4uaXNOZXR3b3JrRmFpbHVyZSh0KT8oZS5hZHZhbmNlZExvZyhTK0pTT04uc3RyaW5naWZ5KHQpKSxsZShlLmluZm8oUytKU09OLnN0cmluZ2lmeSh0KSkpLEQucmV0cnkoKSk6b2UoIkZhaWxlZCB0byBmZXRjaCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uOiAiK0pTT04uc3RyaW5naWZ5KHQpKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH19KSk7bGUoZS5kZWJ1ZygiVGhlcmUgaXMgYW4gb25nb2luZyBnZXRXZWJTb2NrZXRDb25uQ29uZmlnIHJlcXVlc3QsIHRoaXMgcmVxdWVzdCB3aWxsIGJlIGlnbm9yZWQiKSl9fSxjZT1mdW5jdGlvbigpe2lmKHIud2Vic29ja2V0SW5pdEZhaWxlZClyZXR1cm4gbGUoZS5pbmZvKCJ3ZWItc29ja2V0IGluaXRpYWxpemluZyBoYWQgZmFpbGVkLCBhYm9ydGluZyByZS1pbml0IikpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfTtpZighTi5pc05ldHdvcmtPbmxpbmUoKSlyZXR1cm4gbGUoZS53YXJuKCJTeXN0ZW0gaXMgb2ZmbGluZSBhYm9ydGluZyB3ZWItc29ja2V0IGluaXQiKSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9O2UuYWR2YW5jZWRMb2coQyksbGUoZS5pbmZvKEMpKSxqKCJpbml0V2ViU29ja2V0Iik7dHJ5e2lmKGFlKEwuY29ubkNvbmZpZykpe3ZhciB0PW51bGw7cmV0dXJuIEIobi5wcmltYXJ5KT8obGUoZS5kZWJ1ZygiUHJpbWFyeSBTb2NrZXQgY29ubmVjdGlvbiBpcyBhbHJlYWR5IG9wZW4iKSkscShuLnNlY29uZGFyeSxXZWJTb2NrZXQuQ09OTkVDVElORyl8fChsZShlLmRlYnVnKCJFc3RhYmxpc2hpbmcgYSBzZWNvbmRhcnkgd2ViLXNvY2tldCBjb25uZWN0aW9uIikpLEQubnVtQXR0ZW1wdHM9MCxuLnNlY29uZGFyeT11ZSgpKSx0PW4uc2Vjb25kYXJ5KToocShuLnByaW1hcnksV2ViU29ja2V0LkNPTk5FQ1RJTkcpfHwobGUoZS5kZWJ1ZygiRXN0YWJsaXNoaW5nIGEgcHJpbWFyeSB3ZWItc29ja2V0IGNvbm5lY3Rpb24iKSksbi5wcmltYXJ5PXVlKCkpLHQ9bi5wcmltYXJ5KSxyLndlYlNvY2tldEluaXRDaGVja2VyVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Qih0KXx8cmUoKX0pLDFlMykse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITF9fX1jYXRjaCh0KXtyZXR1cm4gbGUoZS5lcnJvcigiRXJyb3IgSW5pdGlhbGl6aW5nIHdlYi1zb2NrZXQtbWFuYWdlciIsdCkpLG9lKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBuZXcgV2ViU29ja2V0OiAiK3QubWVzc2FnZSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9fX0sdWU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgV2ViU29ja2V0KEwuY29ubkNvbmZpZy53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKTtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKCJvcGVuIixRKSx0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCQpLHQuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLFopLHQuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLChmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtlLmFkdmFuY2VkTG9nKGgsSlNPTi5zdHJpbmdpZnkodCkpLGxlKGUuaW5mbyhoLEpTT04uc3RyaW5naWZ5KHQpKSksaigid2ViU29ja2V0T25DbG9zZSBiZWZvcmUtY2xlYW51cCIpLFUoTy5jb25uZWN0aW9uQ2xvc2Use29wZW5UaW1lc3RhbXA6aS5vcGVuVGltZXN0YW1wLGNsb3NlVGltZXN0YW1wOkRhdGUubm93KCksY29ubmVjdGlvbkR1cmF0aW9uOkRhdGUubm93KCktaS5vcGVuVGltZXN0YW1wLGNvZGU6dC5jb2RlLHJlYXNvbjp0LnJlYXNvbn0pLEcobi5wcmltYXJ5KSYmKG4ucHJpbWFyeT1udWxsKSxHKG4uc2Vjb25kYXJ5KSYmKG4uc2Vjb25kYXJ5PW51bGwpLHIucmVjb25uZWN0V2ViU29ja2V0JiYoQihuLnByaW1hcnkpfHxCKG4uc2Vjb25kYXJ5KT9HKG4ucHJpbWFyeSkmJkIobi5zZWNvbmRhcnkpJiYobGUoZS5pbmZvKCJbUHJpbWFyeV0gV2ViU29ja2V0IENsZWFubHkgQ2xvc2VkIikpLG4ucHJpbWFyeT1uLnNlY29uZGFyeSxuLnNlY29uZGFyeT1udWxsKToobGUoZS53YXJuKCJOZWl0aGVyIHByaW1hcnkgd2Vic29ja2V0IGFuZCBub3Igc2Vjb25kYXJ5IHdlYnNvY2tldCBoYXZlIG9wZW4gY29ubmVjdGlvbnMsIGF0dGVtcHRpbmcgdG8gcmUtZXN0YWJsaXNoIGNvbm5lY3Rpb24iKSksci5jb25uU3RhdGU9PT1SP2xlKGUuaW5mbygiSWdub3JpbmcgY29ubmVjdGlvbkxvc3QgY2FsbGJhY2sgaW52b2NhdGlvbiIpKTooVShPLmNvbm5lY3Rpb25Mb3N0LHtvcGVuVGltZXN0YW1wOmkub3BlblRpbWVzdGFtcCxjbG9zZVRpbWVzdGFtcDpEYXRlLm5vdygpLGNvbm5lY3Rpb25EdXJhdGlvbjpEYXRlLm5vdygpLWkub3BlblRpbWVzdGFtcCxjb2RlOnQuY29kZSxyZWFzb246dC5yZWFzb259KSxvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wPURhdGUubm93KCkpLHIuY29ublN0YXRlPVIsc2UoKSksaigid2ViU29ja2V0T25DbG9zZSBhZnRlci1jbGVhbnVwIikpfShpLHQpfSkpLHR9LGxlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlciYmZS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGV9O3RoaXMuaW5pdD1mdW5jdGlvbih0KXtpZihOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJ0cmFuc3BvcnRIYW5kbGUgbXVzdCBiZSBhIGZ1bmN0aW9uIiksbnVsbD09PU8uZ2V0V2ViU29ja2V0VHJhbnNwb3J0KXJldHVybiBPLmdldFdlYlNvY2tldFRyYW5zcG9ydD10LHNlKCk7bGUoZS53YXJuKCJXZWIgU29ja2V0IE1hbmFnZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQiKSl9LHRoaXMub25Jbml0RmFpbHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiSW5pdGlhbGl6aW5nIFdlYnNvY2tldCBNYW5hZ2VyIEZhaWxlZCEiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmluaXRGYWlsdXJlLmFkZCh0KSxyLndlYnNvY2tldEluaXRGYWlsZWQmJnQoKSxmdW5jdGlvbigpe3JldHVybiBPLmluaXRGYWlsdXJlLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uT3Blbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gb3BlbiIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uY29ubmVjdGlvbk9wZW4uYWRkKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uY29ubmVjdGlvbk9wZW4uZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25DbG9zZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2UiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmNvbm5lY3Rpb25DbG9zZS5hZGQodCksZnVuY3Rpb24oKXtyZXR1cm4gTy5jb25uZWN0aW9uQ2xvc2UuZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25HYWluPWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBnYWluIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5jb25uZWN0aW9uR2Fpbi5hZGQodCksVygpJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTy5jb25uZWN0aW9uR2Fpbi5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIGxvc3QiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmNvbm5lY3Rpb25Mb3N0LmFkZCh0KSxyLmNvbm5TdGF0ZT09PVImJnQoKSxmdW5jdGlvbigpe3JldHVybiBPLmNvbm5lY3Rpb25Mb3N0LmRlbGV0ZSh0KX19LHRoaXMub25TdWJzY3JpcHRpb25VcGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24oZSksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uc3Vic2NyaXB0aW9uVXBkYXRlLmFkZChlKSxmdW5jdGlvbigpe3JldHVybiBPLnN1YnNjcmlwdGlvblVwZGF0ZS5kZWxldGUoZSl9fSx0aGlzLm9uU3Vic2NyaXB0aW9uRmFpbHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IHN1YnNjcmlwdGlvbiBmYWlsdXJlIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5zdWJzY3JpcHRpb25GYWlsdXJlLmFkZCh0KSxmdW5jdGlvbigpe3JldHVybiBPLnN1YnNjcmlwdGlvbkZhaWx1cmUuZGVsZXRlKHQpfX0sdGhpcy5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTi5hc3NlcnROb3ROdWxsKGUsInRvcGljTmFtZSIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8udG9waWMuaGFzKGUpP08udG9waWMuZ2V0KGUpLmFkZCh0KTpPLnRvcGljLnNldChlLG5ldyBTZXQoW3RdKSksZnVuY3Rpb24oKXtyZXR1cm4gTy50b3BpYy5nZXQoZSkuZGVsZXRlKHQpfX0sdGhpcy5vbkFsbE1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24oZSksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uYWxsTWVzc2FnZS5hZGQoZSksZnVuY3Rpb24oKXtyZXR1cm4gTy5hbGxNZXNzYWdlLmRlbGV0ZShlKX19LHRoaXMuc3Vic2NyaWJlVG9waWNzPWZ1bmN0aW9uKGUpe04uYXNzZXJ0Tm90TnVsbChlLCJ0b3BpY3MiKSxOLmFzc2VydElzTGlzdChlKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2suc3Vic2NyaWJlZC5oYXMoZSl8fGsucGVuZGluZy5hZGQoZSl9KSksUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PTAsZWUoKX0sdGhpcy5zZW5kTWVzc2FnZT1mdW5jdGlvbih0KXtpZihOLmFzc2VydElzT2JqZWN0KHQsInBheWxvYWQiKSx2b2lkIDA9PT10LnRvcGljfHx4Lmhhcyh0LnRvcGljKSlsZShlLndhcm4oIkNhbm5vdCBzZW5kIG1lc3NhZ2UsIEludmFsaWQgdG9waWMiLHQpKTtlbHNle3RyeXt0PUpTT04uc3RyaW5naWZ5KHQpfWNhdGNoKG4pe3JldHVybiB2b2lkIGxlKGUud2FybigiRXJyb3Igc3RyaW5naWZ5IG1lc3NhZ2UiLHQpKX1XKCk/VigpLnNlbmQodCk6bGUoZS53YXJuKCJDYW5ub3Qgc2VuZCBtZXNzYWdlLCB3ZWIgc29ja2V0IGNvbm5lY3Rpb24gaXMgbm90IG9wZW4iKSl9fSx0aGlzLmNsb3NlV2ViU29ja2V0PWZ1bmN0aW9uKCl7SygpLFgoKSxyLnJlY29ubmVjdFdlYlNvY2tldD0hMSxjbGVhckludGVydmFsKE0pLG5lKCJVc2VyIHJlcXVlc3QgdG8gY2xvc2UgV2ViU29ja2V0Iil9LHRoaXMudGVybWluYXRlV2ViU29ja2V0TWFuYWdlcj1vZX0sSj17Y3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYfSxzZXRHbG9iYWxDb25maWc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5sb2dnZXJDb25maWc7ei51cGRhdGVMb2dnZXJDb25maWcodCl9LExvZ0xldmVsOkIsTG9nZ2VyOmp9fSxmdW5jdGlvbih0LG4scil7dmFyIG87IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBpPXtub3Rfc3RyaW5nOi9bXnNdLyxub3RfYm9vbDovW150XS8sbm90X3R5cGU6L1teVF0vLG5vdF9wcmltaXRpdmU6L1tedl0vLG51bWJlcjovW2RpZWZnXS8sbnVtZXJpY19hcmc6L1tiY2RpZWZndXhYXS8sanNvbjovW2pdLyxub3RfanNvbjovW15qXS8sdGV4dDovXlteXHgyNV0rLyxtb2R1bG86L15ceDI1ezJ9LyxwbGFjZWhvbGRlcjovXlx4MjUoPzooWzEtOV1cZCopXCR8XCgoW14pXSspXCkpPyhcKyk/KDB8J1teJF0pPygtKT8oXGQrKT8oPzpcLihcZCspKT8oW2ItZ2lqb3N0VHV2eFhdKS8sa2V5Oi9eKFthLXpfXVthLXpfXGRdKikvaSxrZXlfYWNjZXNzOi9eXC4oW2Etel9dW2Etel9cZF0qKS9pLGluZGV4X2FjY2VzczovXlxbKFxkKylcXS8sc2lnbjovXlsrLV0vfTtmdW5jdGlvbiBhKHQpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciByLG8scyxjLHUsbCxwLGQsaCxmPTEsZz10Lmxlbmd0aCxtPSIiO2ZvcihvPTA7bzxnO28rKylpZigic3RyaW5nIj09dHlwZW9mIHRbb10pbSs9dFtvXTtlbHNlIGlmKCJvYmplY3QiPT1lKHRbb10pKXtpZigoYz10W29dKS5rZXlzKWZvcihyPW5bZl0scz0wO3M8Yy5rZXlzLmxlbmd0aDtzKyspe2lmKG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKGEoJ1tzcHJpbnRmXSBDYW5ub3QgYWNjZXNzIHByb3BlcnR5ICIlcyIgb2YgdW5kZWZpbmVkIHZhbHVlICIlcyInLGMua2V5c1tzXSxjLmtleXNbcy0xXSkpO3I9cltjLmtleXNbc11dfWVsc2Ugcj1jLnBhcmFtX25vP25bYy5wYXJhbV9ub106bltmKytdO2lmKGkubm90X3R5cGUudGVzdChjLnR5cGUpJiZpLm5vdF9wcmltaXRpdmUudGVzdChjLnR5cGUpJiZyIGluc3RhbmNlb2YgRnVuY3Rpb24mJihyPXIoKSksaS5udW1lcmljX2FyZy50ZXN0KGMudHlwZSkmJiJudW1iZXIiIT10eXBlb2YgciYmaXNOYU4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcihhKCJbc3ByaW50Zl0gZXhwZWN0aW5nIG51bWJlciBidXQgZm91bmQgJVQiLHIpKTtzd2l0Y2goaS5udW1iZXIudGVzdChjLnR5cGUpJiYoZD1yPj0wKSxjLnR5cGUpe2Nhc2UiYiI6cj1wYXJzZUludChyLDEwKS50b1N0cmluZygyKTticmVhaztjYXNlImMiOnI9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChyLDEwKSk7YnJlYWs7Y2FzZSJkIjpjYXNlImkiOnI9cGFyc2VJbnQociwxMCk7YnJlYWs7Y2FzZSJqIjpyPUpTT04uc3RyaW5naWZ5KHIsbnVsbCxjLndpZHRoP3BhcnNlSW50KGMud2lkdGgpOjApO2JyZWFrO2Nhc2UiZSI6cj1jLnByZWNpc2lvbj9wYXJzZUZsb2F0KHIpLnRvRXhwb25lbnRpYWwoYy5wcmVjaXNpb24pOnBhcnNlRmxvYXQocikudG9FeHBvbmVudGlhbCgpO2JyZWFrO2Nhc2UiZiI6cj1jLnByZWNpc2lvbj9wYXJzZUZsb2F0KHIpLnRvRml4ZWQoYy5wcmVjaXNpb24pOnBhcnNlRmxvYXQocik7YnJlYWs7Y2FzZSJnIjpyPWMucHJlY2lzaW9uP1N0cmluZyhOdW1iZXIoci50b1ByZWNpc2lvbihjLnByZWNpc2lvbikpKTpwYXJzZUZsb2F0KHIpO2JyZWFrO2Nhc2UibyI6cj0ocGFyc2VJbnQociwxMCk+Pj4wKS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOnI9U3RyaW5nKHIpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlInQiOnI9U3RyaW5nKCEhcikscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UiVCI6cj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKSxyPWMucHJlY2lzaW9uP3Iuc3Vic3RyaW5nKDAsYy5wcmVjaXNpb24pOnI7YnJlYWs7Y2FzZSJ1IjpyPXBhcnNlSW50KHIsMTApPj4+MDticmVhaztjYXNlInYiOnI9ci52YWx1ZU9mKCkscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UieCI6cj0ocGFyc2VJbnQociwxMCk+Pj4wKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjpyPShwYXJzZUludChyLDEwKT4+PjApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWkuanNvbi50ZXN0KGMudHlwZSk/bSs9cjooIWkubnVtYmVyLnRlc3QoYy50eXBlKXx8ZCYmIWMuc2lnbj9oPSIiOihoPWQ/IisiOiItIixyPXIudG9TdHJpbmcoKS5yZXBsYWNlKGkuc2lnbiwiIikpLGw9Yy5wYWRfY2hhcj8iMCI9PT1jLnBhZF9jaGFyPyIwIjpjLnBhZF9jaGFyLmNoYXJBdCgxKToiICIscD1jLndpZHRoLShoK3IpLmxlbmd0aCx1PWMud2lkdGgmJnA+MD9sLnJlcGVhdChwKToiIixtKz1jLmFsaWduP2grcit1OiIwIj09PWw/aCt1K3I6dStoK3IpfXJldHVybiBtfShmdW5jdGlvbihlKXtpZihjW2VdKXJldHVybiBjW2VdO2Zvcih2YXIgdCxuPWUscj1bXSxvPTA7bjspe2lmKG51bGwhPT0odD1pLnRleHQuZXhlYyhuKSkpci5wdXNoKHRbMF0pO2Vsc2UgaWYobnVsbCE9PSh0PWkubW9kdWxvLmV4ZWMobikpKXIucHVzaCgiJSIpO2Vsc2V7aWYobnVsbD09PSh0PWkucGxhY2Vob2xkZXIuZXhlYyhuKSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJbc3ByaW50Zl0gdW5leHBlY3RlZCBwbGFjZWhvbGRlciIpO2lmKHRbMl0pe298PTE7dmFyIGE9W10scz10WzJdLHU9W107aWYobnVsbD09PSh1PWkua2V5LmV4ZWMocykpKXRocm93IG5ldyBTeW50YXhFcnJvcigiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXkiKTtmb3IoYS5wdXNoKHVbMV0pOyIiIT09KHM9cy5zdWJzdHJpbmcodVswXS5sZW5ndGgpKTspaWYobnVsbCE9PSh1PWkua2V5X2FjY2Vzcy5leGVjKHMpKSlhLnB1c2godVsxXSk7ZWxzZXtpZihudWxsPT09KHU9aS5pbmRleF9hY2Nlc3MuZXhlYyhzKSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleSIpO2EucHVzaCh1WzFdKX10WzJdPWF9ZWxzZSBvfD0yO2lmKDM9PT1vKXRocm93IG5ldyBFcnJvcigiW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZCIpO3IucHVzaCh7cGxhY2Vob2xkZXI6dFswXSxwYXJhbV9ubzp0WzFdLGtleXM6dFsyXSxzaWduOnRbM10scGFkX2NoYXI6dFs0XSxhbGlnbjp0WzVdLHdpZHRoOnRbNl0scHJlY2lzaW9uOnRbN10sdHlwZTp0WzhdfSl9bj1uLnN1YnN0cmluZyh0WzBdLmxlbmd0aCl9cmV0dXJuIGNbZV09cn0odCksYXJndW1lbnRzKX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGEuYXBwbHkobnVsbCxbZV0uY29uY2F0KHR8fFtdKSl9dmFyIGM9T2JqZWN0LmNyZWF0ZShudWxsKTtuLnNwcmludGY9YSxuLnZzcHJpbnRmPXMsInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuc3ByaW50Zj1hLHdpbmRvdy52c3ByaW50Zj1zLHZvaWQgMD09PShvPWZ1bmN0aW9uKCl7cmV0dXJue3NwcmludGY6YSx2c3ByaW50ZjpzfX0uY2FsbChuLHIsbix0KSl8fCh0LmV4cG9ydHM9bykpfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24ucih0KSxmdW5jdGlvbihlKXtuLmQodCwiV2ViU29ja2V0TWFuYWdlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigwKTtlLmNvbm5lY3Q9ZS5jb25uZWN0fHx7fSxjb25uZWN0LldlYlNvY2tldE1hbmFnZXI9ci5hO3ZhciBvPXIuYX0uY2FsbCh0aGlzLG4oMykpfSxmdW5jdGlvbih0LG4pe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaCh0KXsib2JqZWN0Ij09KCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PyJ1bmRlZmluZWQiOmUod2luZG93KSkmJihyPXdpbmRvdyl9dC5leHBvcnRzPXJ9XSl9LDE0NDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxuPXQuY29ubmVjdHx8e307dC5jb25uZWN0PW4sdC5saWx5PW47dmFyIHI9e1RFU1Q6IlRFU1QiLFRSQUNFOiJUUkFDRSIsREVCVUc6IkRFQlVHIixJTkZPOiJJTkZPIixMT0c6IkxPRyIsV0FSTjoiV0FSTiIsRVJST1I6IkVSUk9SIixDUklUSUNBTDoiQ1JJVElDQUwifSxvPXtDQ1A6ImNjcCIsU09GVFBIT05FOiJzb2Z0cGhvbmUiLENIQVQ6ImNoYXQiLFRBU0s6InRhc2sifSxpPXtURVNUOjAsVFJBQ0U6MTAsREVCVUc6MjAsSU5GTzozMCxMT0c6NDAsV0FSTjo1MCxFUlJPUjoxMDAsQ1JJVElDQUw6MjAwfSxhPSJDQ1AiLHM9IlNoYXJlZFdvcmtlciIsYz0iQ1JNIix1PXtUUkFDRTpmdW5jdGlvbihlKXtjb25zb2xlLmluZm8oZSl9LERFQlVHOmZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sSU5GTzpmdW5jdGlvbihlKXtjb25zb2xlLmluZm8oZSl9LExPRzpmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKX0sVEVTVDpmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKX0sV0FSTjpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oZSl9LEVSUk9SOmZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoZSl9LENSSVRJQ0FMOmZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoZSl9fSxsPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApLGk9ci5zaGlmdCgpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU9iamVjdC52YWx1ZXMobykuaW5kZXhPZihlKX0oaSk/KG49aSx0PXIuc2hpZnQoKSk6KHQ9aSxuPW8uQ0NQKSx7Zm9ybWF0OnQsY29tcG9uZW50Om4sYXJnczpyfX0scD1mdW5jdGlvbihlLHQscixvLGksdSl7dGhpcy5jb21wb25lbnQ9ZSx0aGlzLmxldmVsPXQsdGhpcy50ZXh0PXIsdGhpcy50aW1lPW5ldyBEYXRlLHRoaXMudGFiSWQ9bnVsbD09PWk/bnVsbDppfHxuLmNvcmUudGFiSWQsdGhpcy5leGNlcHRpb249bnVsbCx0aGlzLm9iamVjdHM9W10sdGhpcy5saW5lPTAsdGhpcy5hZ2VudFJlc291cmNlSWQ9bnVsbDt0cnl7bi5hZ2VudC5pbml0aWFsaXplZCYmKHRoaXMuYWdlbnRSZXNvdXJjZUlkPShuZXcgbi5BZ2VudCkuX2dldFJlc291cmNlSWQoKSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coIklzc3VlIGZpbmRpbmcgYWdlbnRSZXNvdXJjZUlkOiAiLGUpfXRoaXMubG9nZ2VySWQ9byx1P3RoaXMuY29udGV4dExheWVyPXU6bi5pc1NoYXJlZFdvcmtlcigpP3RoaXMuY29udGV4dExheWVyPXM6bi5pc0NSTSgpP3RoaXMuY29udGV4dExheWVyPWM6bi5pc0NDUCgpJiYodGhpcy5jb250ZXh0TGF5ZXI9YSl9O3AuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRhYklkfHxudWxsLG49ZS5jb250ZXh0TGF5ZXJ8fG51bGwscj1uZXcgcChvLkNDUCxlLmxldmVsLGUudGV4dCxlLmxvZ2dlcklkLHQsbik7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUudGltZSk/ci50aW1lPW5ldyBEYXRlKGUudGltZS5nZXRUaW1lKCkpOiJudW1iZXIiPT10eXBlb2YgZS50aW1lP3IudGltZT1uZXcgRGF0ZShlLnRpbWUpOiJzdHJpbmciPT10eXBlb2YgZS50aW1lP3IudGltZT1EYXRlLnBhcnNlKGUudGltZSk6ci50aW1lPW5ldyBEYXRlLHIuZXhjZXB0aW9uPWUuZXhjZXB0aW9uLHIub2JqZWN0cz1lLm9iamVjdHMscn07dmFyIGQ9ZnVuY3Rpb24odCl7dmFyIG49LyhBdXRoVG9rZW4uKikvZ2k7dCYmIm9iamVjdCI9PT1lKHQpJiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihyKXsib2JqZWN0Ij09PWUodFtyXSk/ZCh0W3JdKToic3RyaW5nIj09dHlwZW9mIHRbcl0mJigidXJsIj09PXJ8fCJ0ZXh0Ij09PXI/dFtyXT10W3JdLnJlcGxhY2UobiwiW3JlZGFjdGVkXSIpOlsicXVpY2tDb25uZWN0TmFtZSJdLmluY2x1ZGVzKHIpP3Rbcl09IltyZWRhY3RlZF0iOlsiY3VzdG9tZXJJZCIsIkN1c3RvbWVySWQiLCJTcGVha2VySWQiLCJDdXN0b21lclNwZWFrZXJJZCJdLmluY2x1ZGVzKHIpJiYodFtyXT0iIi5jb25jYXQoIltvYmZ1c2NhdGVkIHZhbHVlXSIsIiAiKS5jb25jYXQobWQ1KHRbcl0pKSkpfSkpfSxoPWZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZT10IGluc3RhbmNlb2YgRXJyb3I/dC5uYW1lOnQuY29kZXx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLHRoaXMubWVzc2FnZT10Lm1lc3NhZ2UsdGhpcy5zdGFjaz1bXSx0LnN0YWNrKXRyeXtBcnJheS5pc0FycmF5KHQuc3RhY2spP3RoaXMuc3RhY2s9dC5zdGFjazoib2JqZWN0Ij09PWUodC5zdGFjayk/dGhpcy5zdGFjaz1bSlNPTi5zdHJpbmdpZnkodC5zdGFjayldOiJzdHJpbmciPT10eXBlb2YgdC5zdGFjayYmKHRoaXMuc3RhY2s9dC5zdGFjay5zcGxpdCgiXG4iKSl9Y2F0Y2goZSl7fX07cC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbi5zcHJpbnRmKCJbJXNdIFslc10gWyVzXTogJXMiLHRoaXMuZ2V0VGltZSgpJiZ0aGlzLmdldFRpbWUoKS50b0lTT1N0cmluZz90aGlzLmdldFRpbWUoKS50b0lTT1N0cmluZygpOiI/Pz8iLHRoaXMuZ2V0TGV2ZWwoKSx0aGlzLmdldEFnZW50UmVzb3VyY2VJZCgpLHRoaXMuZ2V0VGV4dCgpKX0scC5wcm90b3R5cGUuZ2V0VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWV9LHAucHJvdG90eXBlLmdldEFnZW50UmVzb3VyY2VJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFnZW50UmVzb3VyY2VJZH0scC5wcm90b3R5cGUuZ2V0VGFiSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJJZH0scC5wcm90b3R5cGUuZ2V0Q29udGV4dExheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dExheWVyfSxwLnByb3RvdHlwZS5nZXRMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxldmVsfSxwLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0scC5wcm90b3R5cGUuZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50fSxwLnByb3RvdHlwZS53aXRoRXhjZXB0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4Y2VwdGlvbj1uZXcgaChlKSx0aGlzfSxwLnByb3RvdHlwZS53aXRoT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZGVlcGNvcHkoZSk7cmV0dXJuIGQodCksdGhpcy5vYmplY3RzLnB1c2godCksdGhpc30scC5wcm90b3R5cGUud2l0aENyb3NzT3JpZ2luRXZlbnRPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWVwY29weUNyb3NzT3JpZ2luRXZlbnQoZSk7cmV0dXJuIGQodCksdGhpcy5vYmplY3RzLnB1c2godCksdGhpc30scC5wcm90b3R5cGUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRMb2coKS5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MucHVzaCh0aGlzKSx0aGlzfTt2YXIgZj1mdW5jdGlvbigpe3RoaXMuX2xvZ3M9W10sdGhpcy5fcm9sbGVkTG9ncz1bXSx0aGlzLl9sb2dzVG9QdXNoPVtdLHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdLHRoaXMuX2VjaG9MZXZlbD1pLklORk8sdGhpcy5fbG9nTGV2ZWw9aS5JTkZPLHRoaXMuX2xpbmVDb3VudD0wLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD0wLHRoaXMuX2xvZ1JvbGxUaW1lcj1udWxsLHRoaXMuX2xvZ2dlcklkPShuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSx0aGlzLnNldExvZ1JvbGxJbnRlcnZhbCgxOGU1KSx0aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoPTB9O2YucHJvdG90eXBlLnNldExvZ1JvbGxJbnRlcnZhbD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3RoaXMuX2xvZ1JvbGxUaW1lciYmZT09PXRoaXMuX2xvZ1JvbGxJbnRlcnZhbD90aGlzLndhcm4oIkxvZ2dlciBpcyBhbHJlYWR5IHNldCB0byB0aGUgZ2l2ZW4gaW50ZXJ2YWw6ICVkIix0aGlzLl9sb2dSb2xsSW50ZXJ2YWwpOih0aGlzLl9sb2dSb2xsVGltZXImJnQuY2xlYXJJbnRlcnZhbCh0aGlzLl9sb2dSb2xsVGltZXIpLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD1lLHRoaXMuX2xvZ1JvbGxUaW1lcj10LnNldEludGVydmFsKChmdW5jdGlvbigpe24uX3JvbGxlZExvZ3M9bi5fbG9ncyxuLl9sb2dzPVtdLG4uX3N0YXJ0TG9nSW5kZXhUb1B1c2g9MCxuLmluZm8oIkxvZyByb2xsIGludGVydmFsIG9jY3VycmVkLiIpfSksdGhpcy5fbG9nUm9sbEludGVydmFsKSl9LGYucHJvdG90eXBlLnNldExvZ0xldmVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbG9nZ2luZyBsZXZlbDogIitlKTt0aGlzLl9sb2dMZXZlbD1pW2VdfSxmLnByb3RvdHlwZS5zZXRFY2hvTGV2ZWw9ZnVuY3Rpb24oZSl7aWYoIShlIGluIGkpKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsb2dnaW5nIGxldmVsOiAiK2UpO3RoaXMuX2VjaG9MZXZlbD1pW2VdfSxmLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IHAoZSx0LG4sdGhpcy5nZXRMb2dnZXJJZCgpKTtyZXR1cm4gZChyKSx0aGlzLmFkZExvZ0VudHJ5KHIpLHJ9LGYucHJvdG90eXBlLmFkZExvZ0VudHJ5PWZ1bmN0aW9uKGUpe2QoZSksdGhpcy5fbG9ncy5wdXNoKGUpLG8uU09GVFBIT05FPT09ZS5jb21wb25lbnQmJnRoaXMuX2xvZ3NUb1B1c2gucHVzaChlKSxlLmxldmVsIGluIGkmJmlbZS5sZXZlbF0+PXRoaXMuX2xvZ0xldmVsJiYoaVtlLmxldmVsXT49dGhpcy5fZWNob0xldmVsJiZ1W2UuZ2V0TGV2ZWwoKV0oZS50b1N0cmluZygpKSxlLmxpbmU9dGhpcy5fbGluZUNvdW50KyspfSxmLnByb3RvdHlwZS5zZW5kSW50ZXJuYWxMb2dFbnRyeVRvU2VydmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnB1c2goZSksZS5sZXZlbCBpbiBpJiZpW2UubGV2ZWxdPj10aGlzLl9sb2dMZXZlbCYmKGlbZS5sZXZlbF0+PXRoaXMuX2VjaG9MZXZlbCYmdVtlLmdldExldmVsKCldKGUudG9TdHJpbmcoKSksZS5saW5lPXRoaXMuX2xpbmVDb3VudCsrKX0sZi5wcm90b3R5cGUuY2xlYXJPYmplY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9sb2dzLmxlbmd0aDtlKyspdGhpcy5fbG9nc1tlXS5vYmplY3RzJiZkZWxldGUgdGhpcy5fbG9nc1tlXS5vYmplY3RzfSxmLnByb3RvdHlwZS5jbGVhckV4Y2VwdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2xvZ3MubGVuZ3RoO2UrKyl0aGlzLl9sb2dzW2VdLmV4Y2VwdGlvbiYmZGVsZXRlIHRoaXMuX2xvZ3NbZV0uZXhjZXB0aW9ufSxmLnByb3RvdHlwZS50cmFjZT1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLlRSQUNFLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuREVCVUcsbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZi5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLklORk8sbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZi5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuTE9HLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5URVNULG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5XQVJOLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuRVJST1Isbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZi5wcm90b3R5cGUuY3JpdGljYWw9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5FUlJPUixuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLl9sb2dzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMuX2xvZ3NbdF0udG9TdHJpbmcoKSk7cmV0dXJuIGUuam9pbigiXG4iKX0sZi5wcm90b3R5cGUuZG93bmxvYWQ9ZnVuY3Rpb24ocil7dmFyIG8sYT0iYWdlbnQtbG9nIixzPSExLGM9ITA9PT0obnVsbD09PShvPW4pfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by5nbG9iYWxSZXNpbGllbmN5KXx8dm9pZCAwPT09bz92b2lkIDA6by5nbG9iYWxSZXNpbGllbmN5RW5hYmxlZCk7Im9iamVjdCI9PT1lKHIpJiZudWxsIT09cj8oYT1yLmxvZ05hbWV8fGEscz1yLmZpbHRlckJ5TG9nTGV2ZWx8fHMpOiJzdHJpbmciPT10eXBlb2YgciYmKGE9cnx8YSksYyYmKG4uZ2xvYmFsUmVzaWxpZW5jeS5fZG93bmxvYWRDQ1BMb2dzKCksYT0iY3JtLSIrYSk7dmFyIHU9dGhpcyxsPXRoaXMuX3JvbGxlZExvZ3MuY29uY2F0KHRoaXMuX2xvZ3MpO3MmJihsPWwuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaVtlLmxldmVsXT49dS5fbG9nTGV2ZWx9KSkpO3ZhciBwPW5ldyB0LkJsb2IoW0pTT04uc3RyaW5naWZ5KGwsdm9pZCAwLDQpXSxbInRleHQvcGxhaW4iXSksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YT1hfHwiYWdlbnQtbG9nIixkLmhyZWY9dC5VUkwuY3JlYXRlT2JqZWN0VVJMKHApLGQuZG93bmxvYWQ9YSsiLnR4dCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKSxkLmNsaWNrKCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkKX0sZi5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbUxvZ1B1c2g9ZnVuY3Rpb24oZSl7bi51cHN0cmVhbUxvZ1B1c2hTY2hlZHVsZWR8fChuLnVwc3RyZWFtTG9nUHVzaFNjaGVkdWxlZD0hMCx0LnNldEludGVydmFsKG4uaGl0Y2godGhpcyx0aGlzLnJlcG9ydE1hc3RlckxvZ3NVcFN0cmVhbSxlKSw1ZTMpKX0sZi5wcm90b3R5cGUucmVwb3J0TWFzdGVyTG9nc1VwU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvZ3NUb1B1c2guc2xpY2UoKTt0aGlzLl9sb2dzVG9QdXNoPVtdLG4uaWZNYXN0ZXIobi5NYXN0ZXJUb3BpY3MuU0VORF9MT0dTLChmdW5jdGlvbigpe3QubGVuZ3RoPjAmJmUuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLlNFTkRfTE9HUyx0KX0pKX0sZi5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1B1c2g9ZnVuY3Rpb24oZSl7dC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5wdXNoT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzVXBzdHJlYW0sZSksMWUzKX0sZi5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUExvZ3NQdXNoPWZ1bmN0aW9uKGUpe3Quc2V0SW50ZXJ2YWwobi5oaXRjaCh0aGlzLHRoaXMucHVzaE91dGVyQ29udGV4dENDUExvZ3NVcHN0cmVhbSxlKSwxZTMpfSxmLnByb3RvdHlwZS5wdXNoT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzVXBzdHJlYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPjApe2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO3QrKyl0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1t0XS50ZXh0PXRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzW3RdLnRleHQ7ZS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyksdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119fSxmLnByb3RvdHlwZS5wdXNoT3V0ZXJDb250ZXh0Q0NQTG9nc1Vwc3RyZWFtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoO3Q8dGhpcy5fbG9ncy5sZW5ndGg7dCsrKXRoaXMuX2xvZ3NbdF0ubG9nZ2VySWQ9PT10aGlzLl9sb2dnZXJJZCYmZS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuTE9HLHRoaXMuX2xvZ3NbdF0pO3RoaXMuX3N0YXJ0TG9nSW5kZXhUb1B1c2g9dGhpcy5fbG9ncy5sZW5ndGh9LGYucHJvdG90eXBlLmdldExvZ2dlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ2dlcklkfSxmLnByb3RvdHlwZS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2g9ZnVuY3Rpb24oKXt0LnNldEludGVydmFsKG4uaGl0Y2godGhpcyx0aGlzLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW0pLDVlMyl9LGYucHJvdG90eXBlLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT1bXTt0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg8NTB8fCh0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg+NTAwP2U9dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3Muc3BsaWNlKDAsNTAwKTooZT10aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncz1bXSksbi5wdWJsaXNoQ2xpZW50U2lkZUxvZ3MoZSkpfTt2YXIgZz1mdW5jdGlvbihlKXtmLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWUsdC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5fcHVzaExvZ3NEb3duc3RyZWFtKSxnLkxPR19QVVNIX0lOVEVSVkFMKSx0LmNsZWFySW50ZXJ2YWwodGhpcy5fbG9nUm9sbFRpbWVyKSx0aGlzLl9sb2dSb2xsVGltZXI9bnVsbH07Zy5MT0dfUFVTSF9JTlRFUlZBTD0xZTMsZy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmLnByb3RvdHlwZSksZy5wcm90b3R5cGUuY29uc3RydWN0b3I9ZyxnLnByb3RvdHlwZS5wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5MT0csZSl9KSl9LGcucHJvdG90eXBlLl9wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2xvZ3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLkxPRyx0KX0pKSx0aGlzLl9sb2dzPVtdO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO3QrKyl0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1t0XSk7dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119O3ZhciBtPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7dS5FUlJPUihlKX19fTtuLnJvb3RMb2dnZXI9bmV3IGYsZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpImZ1bmN0aW9uIj09dHlwZW9mIGVbdF0mJihlW3RdPW0oZVt0XSkpfShuLnJvb3RMb2dnZXIpLChuPW58fHt9KS5nZXRMb2c9ZnVuY3Rpb24oKXtyZXR1cm4gbi5yb290TG9nZ2VyfSxuLkxvZ0VudHJ5PXAsbi5Mb2dnZXI9ZixuLkxvZ0xldmVsPXIsbi5Mb2dDb21wb25lbnQ9byxuLkRvd25zdHJlYW1Db25kdWl0TG9nZ2VyPWd9KCl9LDI1NDpmdW5jdGlvbigpeyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIHQodCxuLHIsbyxpLGEpe3JldHVybiBlKChzPWUoZShuLHQpLGUobyxhKSkpPDwoYz1pKXxzPj4+MzItYyxyKTt2YXIgcyxjfWZ1bmN0aW9uIG4oZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQobiZyfH5uJm8sZSxuLGksYSxzKX1mdW5jdGlvbiByKGUsbixyLG8saSxhLHMpe3JldHVybiB0KG4mb3xyJn5vLGUsbixpLGEscyl9ZnVuY3Rpb24gbyhlLG4scixvLGksYSxzKXtyZXR1cm4gdChuXnJebyxlLG4saSxhLHMpfWZ1bmN0aW9uIGkoZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQocl4obnx+byksZSxuLGksYSxzKX1mdW5jdGlvbiBhKHQsYSl7dmFyIHMsYyx1LGwscDt0W2E+PjVdfD0xMjg8PGElMzIsdFsxNCsoYSs2ND4+Pjk8PDQpXT1hO3ZhciBkPTE3MzI1ODQxOTMsaD0tMjcxNzMzODc5LGY9LTE3MzI1ODQxOTQsZz0yNzE3MzM4Nzg7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrPTE2KWM9ZCx1PWgsbD1mLHA9ZyxkPW4oZCxoLGYsZyx0W3NdLDcsLTY4MDg3NjkzNiksZz1uKGcsZCxoLGYsdFtzKzFdLDEyLC0zODk1NjQ1ODYpLGY9bihmLGcsZCxoLHRbcysyXSwxNyw2MDYxMDU4MTkpLGg9bihoLGYsZyxkLHRbcyszXSwyMiwtMTA0NDUyNTMzMCksZD1uKGQsaCxmLGcsdFtzKzRdLDcsLTE3NjQxODg5NyksZz1uKGcsZCxoLGYsdFtzKzVdLDEyLDEyMDAwODA0MjYpLGY9bihmLGcsZCxoLHRbcys2XSwxNywtMTQ3MzIzMTM0MSksaD1uKGgsZixnLGQsdFtzKzddLDIyLC00NTcwNTk4MyksZD1uKGQsaCxmLGcsdFtzKzhdLDcsMTc3MDAzNTQxNiksZz1uKGcsZCxoLGYsdFtzKzldLDEyLC0xOTU4NDE0NDE3KSxmPW4oZixnLGQsaCx0W3MrMTBdLDE3LC00MjA2MyksaD1uKGgsZixnLGQsdFtzKzExXSwyMiwtMTk5MDQwNDE2MiksZD1uKGQsaCxmLGcsdFtzKzEyXSw3LDE4MDQ2MDM2ODIpLGc9bihnLGQsaCxmLHRbcysxM10sMTIsLTQwMzQxMTAxKSxmPW4oZixnLGQsaCx0W3MrMTRdLDE3LC0xNTAyMDAyMjkwKSxkPXIoZCxoPW4oaCxmLGcsZCx0W3MrMTVdLDIyLDEyMzY1MzUzMjkpLGYsZyx0W3MrMV0sNSwtMTY1Nzk2NTEwKSxnPXIoZyxkLGgsZix0W3MrNl0sOSwtMTA2OTUwMTYzMiksZj1yKGYsZyxkLGgsdFtzKzExXSwxNCw2NDM3MTc3MTMpLGg9cihoLGYsZyxkLHRbc10sMjAsLTM3Mzg5NzMwMiksZD1yKGQsaCxmLGcsdFtzKzVdLDUsLTcwMTU1ODY5MSksZz1yKGcsZCxoLGYsdFtzKzEwXSw5LDM4MDE2MDgzKSxmPXIoZixnLGQsaCx0W3MrMTVdLDE0LC02NjA0NzgzMzUpLGg9cihoLGYsZyxkLHRbcys0XSwyMCwtNDA1NTM3ODQ4KSxkPXIoZCxoLGYsZyx0W3MrOV0sNSw1Njg0NDY0MzgpLGc9cihnLGQsaCxmLHRbcysxNF0sOSwtMTAxOTgwMzY5MCksZj1yKGYsZyxkLGgsdFtzKzNdLDE0LC0xODczNjM5NjEpLGg9cihoLGYsZyxkLHRbcys4XSwyMCwxMTYzNTMxNTAxKSxkPXIoZCxoLGYsZyx0W3MrMTNdLDUsLTE0NDQ2ODE0NjcpLGc9cihnLGQsaCxmLHRbcysyXSw5LC01MTQwMzc4NCksZj1yKGYsZyxkLGgsdFtzKzddLDE0LDE3MzUzMjg0NzMpLGQ9byhkLGg9cihoLGYsZyxkLHRbcysxMl0sMjAsLTE5MjY2MDc3MzQpLGYsZyx0W3MrNV0sNCwtMzc4NTU4KSxnPW8oZyxkLGgsZix0W3MrOF0sMTEsLTIwMjI1NzQ0NjMpLGY9byhmLGcsZCxoLHRbcysxMV0sMTYsMTgzOTAzMDU2MiksaD1vKGgsZixnLGQsdFtzKzE0XSwyMywtMzUzMDk1NTYpLGQ9byhkLGgsZixnLHRbcysxXSw0LC0xNTMwOTkyMDYwKSxnPW8oZyxkLGgsZix0W3MrNF0sMTEsMTI3Mjg5MzM1MyksZj1vKGYsZyxkLGgsdFtzKzddLDE2LC0xNTU0OTc2MzIpLGg9byhoLGYsZyxkLHRbcysxMF0sMjMsLTEwOTQ3MzA2NDApLGQ9byhkLGgsZixnLHRbcysxM10sNCw2ODEyNzkxNzQpLGc9byhnLGQsaCxmLHRbc10sMTEsLTM1ODUzNzIyMiksZj1vKGYsZyxkLGgsdFtzKzNdLDE2LC03MjI1MjE5NzkpLGg9byhoLGYsZyxkLHRbcys2XSwyMyw3NjAyOTE4OSksZD1vKGQsaCxmLGcsdFtzKzldLDQsLTY0MDM2NDQ4NyksZz1vKGcsZCxoLGYsdFtzKzEyXSwxMSwtNDIxODE1ODM1KSxmPW8oZixnLGQsaCx0W3MrMTVdLDE2LDUzMDc0MjUyMCksZD1pKGQsaD1vKGgsZixnLGQsdFtzKzJdLDIzLC05OTUzMzg2NTEpLGYsZyx0W3NdLDYsLTE5ODYzMDg0NCksZz1pKGcsZCxoLGYsdFtzKzddLDEwLDExMjY4OTE0MTUpLGY9aShmLGcsZCxoLHRbcysxNF0sMTUsLTE0MTYzNTQ5MDUpLGg9aShoLGYsZyxkLHRbcys1XSwyMSwtNTc0MzQwNTUpLGQ9aShkLGgsZixnLHRbcysxMl0sNiwxNzAwNDg1NTcxKSxnPWkoZyxkLGgsZix0W3MrM10sMTAsLTE4OTQ5ODY2MDYpLGY9aShmLGcsZCxoLHRbcysxMF0sMTUsLTEwNTE1MjMpLGg9aShoLGYsZyxkLHRbcysxXSwyMSwtMjA1NDkyMjc5OSksZD1pKGQsaCxmLGcsdFtzKzhdLDYsMTg3MzMxMzM1OSksZz1pKGcsZCxoLGYsdFtzKzE1XSwxMCwtMzA2MTE3NDQpLGY9aShmLGcsZCxoLHRbcys2XSwxNSwtMTU2MDE5ODM4MCksaD1pKGgsZixnLGQsdFtzKzEzXSwyMSwxMzA5MTUxNjQ5KSxkPWkoZCxoLGYsZyx0W3MrNF0sNiwtMTQ1NTIzMDcwKSxnPWkoZyxkLGgsZix0W3MrMTFdLDEwLC0xMTIwMjEwMzc5KSxmPWkoZixnLGQsaCx0W3MrMl0sMTUsNzE4Nzg3MjU5KSxoPWkoaCxmLGcsZCx0W3MrOV0sMjEsLTM0MzQ4NTU1MSksZD1lKGQsYyksaD1lKGgsdSksZj1lKGYsbCksZz1lKGcscCk7cmV0dXJuW2QsaCxmLGddfWZ1bmN0aW9uIHMoZSl7dmFyIHQsbj0iIixyPTMyKmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW3Q+PjVdPj4+dCUzMiYyNTUpO3JldHVybiBufWZ1bmN0aW9uIGMoZSl7dmFyIHQsbj1bXTtmb3IoblsoZS5sZW5ndGg+PjIpLTFdPXZvaWQgMCx0PTA7dDxuLmxlbmd0aDt0Kz0xKW5bdF09MDt2YXIgcj04KmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpblt0Pj41XXw9KDI1NSZlLmNoYXJDb2RlQXQodC84KSk8PHQlMzI7cmV0dXJuIG59ZnVuY3Rpb24gdShlKXt2YXIgdCxuLHI9IjAxMjM0NTY3ODlhYmNkZWYiLG89IiI7Zm9yKG49MDtuPGUubGVuZ3RoO24rPTEpdD1lLmNoYXJDb2RlQXQobiksbys9ci5jaGFyQXQodD4+PjQmMTUpK3IuY2hhckF0KDE1JnQpO3JldHVybiBvfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHMoYShjKGUpLDgqZS5sZW5ndGgpKX0obChlKSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1jKGUpLGk9W10sdT1bXTtmb3IoaVsxNV09dVsxNV09dm9pZCAwLG8ubGVuZ3RoPjE2JiYobz1hKG8sOCplLmxlbmd0aCkpLG49MDtuPDE2O24rPTEpaVtuXT05MDk1MjI0ODZeb1tuXSx1W25dPTE1NDk1NTY4Mjheb1tuXTtyZXR1cm4gcj1hKGkuY29uY2F0KGModCkpLDUxMis4KnQubGVuZ3RoKSxzKGEodS5jb25jYXQociksNjQwKSl9KGwoZSksbCh0KSl9KHRoaXN8fGdsb2JhbFRoaXMpLm1kNT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ/bj9kKHQsZSk6dShkKHQsZSkpOm4/cChlKTp1KHAoZSkpfX0oKX0sMTQyOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5DaGF0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5nZXRMb2coKSxvPXQuTG9nQ29tcG9uZW50LkNIQVQsaT1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0sYT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7ci5lcnJvcihvLCJDaGF0IFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIixlKX0pKSxlLm9uQ29ubmVjdGlvbkVzdGFibGlzaGVkKChmdW5jdGlvbihlKXtyLmluZm8obywiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiLGUpfSkpfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7aSgiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiLGUuY29udGFjdElkKSxyLmluZm8obywiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5DaGF0U2Vzc2lvbi5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOnJ9LHJlZ2lvbjpuLnJlZ2lvbn0pO3ZhciBzPXQuQ2hhdFNlc3Npb24uY3JlYXRlKHtjaGF0RGV0YWlsczplLHR5cGU6IkFHRU5UIix3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gYShzKSxzLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gci5pbmZvKG8sIkNoYXQgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgZm9yIGNvbnRhY3RJZCAlcyIsZS5jb250YWN0SWQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLHN9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IHIuZXJyb3IobywiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKCJDaGF0IFNlc3Npb24gZXN0YWJsaXNoZW1lbnQgZmFpbGVkIixlLmNvbnRhY3RJZCx0KSx0fSkpfSgpfX19fSgpfSw4ODQ6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0Lk1lZGlhRmFjdG9yeT1mdW5jdGlvbihlKXt2YXIgbj17fSxyPW5ldyBTZXQsbz10LmdldExvZygpLGk9dC5Mb2dDb21wb25lbnQuQ0hBVCxhPXQubWVyZ2Uoe30sZSl8fHt9O2EucmVnaW9uPWEucmVnaW9ufHwidXMtd2VzdC0yIjt2YXIgcz1mdW5jdGlvbihlKXtuW2VdJiYhci5oYXMoZSkmJihvLmluZm8oaSwiRGVzdHJveWluZyBtZWRpYUNvbnRyb2xsZXIgZm9yICVzIixlKSxyLmFkZChlKSxuW2VdLnRoZW4oKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0LmNsZWFuVXAmJnQuY2xlYW5VcCgpLGRlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpLmNhdGNoKChmdW5jdGlvbigpe2RlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpKX07cmV0dXJue2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0oZSk/ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXRDb25uZWN0aW9uSWQoKTtpZighZS5nZXRNZWRpYUluZm8oKSlyZXR1cm4gby5lcnJvcihpLCJNZWRpYSBpbmZvIGRvZXMgbm90IGV4aXN0IGZvciBhIG1lZGlhIHR5cGUgJXMiLGUuZ2V0TWVkaWFUeXBlKCkpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxQcm9taXNlLnJlamVjdCgiTWVkaWEgaW5mbyBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBjb25uZWN0aW9uIik7aWYobltyXSlyZXR1cm4gbltyXTtzd2l0Y2goby5pbmZvKGksIm1lZGlhIGNvbnRyb2xsZXIgb2YgdHlwZSAlcyBpbml0IixlLmdldE1lZGlhVHlwZSgpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5nZXRNZWRpYVR5cGUoKSl7Y2FzZSB0Lk1lZGlhVHlwZS5DSEFUOnJldHVybiBuW3JdPW5ldyB0LkNoYXRNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSxhKS5nZXQoKTtjYXNlIHQuTWVkaWFUeXBlLlNPRlRQSE9ORTpyZXR1cm4gbltyXT1uZXcgdC5Tb2Z0cGhvbmVNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7Y2FzZSB0Lk1lZGlhVHlwZS5UQVNLOnJldHVybiBuW3JdPW5ldyB0LlRhc2tNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7ZGVmYXVsdDpyZXR1cm4gby5lcnJvcihpLCJVbnJlY29nbml6ZWQgbWVkaWEgdHlwZSAlcyAiLGUuZ2V0TWVkaWFUeXBlKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUHJvbWlzZS5yZWplY3QoKX19KGUpOihzKGUuZ2V0Q29ubmVjdGlvbklkKCkpLFByb21pc2UucmVqZWN0KCJNZWRpYSBDb250cm9sbGVyIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgZm9yIHRoaXMgY29ubmVjdGlvbiIpKX0sZGVzdHJveTpzfX19KCl9LDM5MDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LHQuU29mdHBob25lTWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfX19fSgpfSwyNjk6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0LlRhc2tNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dmFyIG49dC5nZXRMb2coKSxyPXQuTG9nQ29tcG9uZW50LlRBU0ssbz1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0saT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7bi5lcnJvcihyLCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLG8oIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGJyb2tlbiIsZSl9KSksZS5vbkNvbm5lY3Rpb25Fc3RhYmxpc2hlZCgoZnVuY3Rpb24oZSl7bi5pbmZvKHIsIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIikud2l0aE9iamVjdChlKSxvKCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCIsZSl9KSl9O3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtvKCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIsZS5jb250YWN0SWQpLG4uaW5mbyhyLCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIpLndpdGhPYmplY3QoZSk7dmFyIGE9dC5UYXNrU2Vzc2lvbi5jcmVhdGUoe2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOmUuaW5pdGlhbENvbnRhY3RJZCx3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gaShhKSxhLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmluZm8ociwiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBmb3IgY29udGFjdElkICVzIixlLmNvbnRhY3RJZCksbygiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLGF9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IG4uZXJyb3IociwiVGFzayBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCksbygiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCIsZS5jb250YWN0SWQsdCksdH0pKX0oKX19fX0oKX0sNDE0OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgcixvPSIvcmVxdWVzdC1zdG9yYWdlLWFjY2VzcyIsaT17Y2FuUmVxdWVzdDohMSxtb2RlOiJkZWZhdWx0IixjdXN0b206e2hpZGVDQ1A6ITB9fSxhPXt9LHM9IiIsYz1udWxsLHU9ITEsbD17SU5JVDoic3RvcmFnZUFjY2Vzczo6aW5pdCIsR1JBTlRFRDoic3RvcmFnZUFjY2Vzczo6Z3JhbnRlZCIsREVOSUVEOiJzdG9yYWdlQWNjZXNzOjpkZW5pZWQiLFJFUVVFU1Q6InN0b3JhZ2VBY2Nlc3M6OnJlcXVlc3QifSxwPWZ1bmN0aW9uKCl7cmV0dXJue3Nob3c6ZnVuY3Rpb24oKXtjLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0saGlkZTpmdW5jdGlvbigpe2Muc3R5bGUuZGlzcGxheT0ibm9uZSJ9fX0sZD1mdW5jdGlvbigpe3JldHVybiBhJiYiY3VzdG9tIj09PWEubW9kZX0saD1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvLmNvbm5lY3QuYXdzLmEyei5jb218Lm15LmNvbm5lY3QuYXdzfC5nb3ZjbG91ZC5jb25uZWN0LmF3c3wuYXdzYXBwcy5jb20vKX0sZj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVVJMKGUpLG49dC5vcmlnaW4scj10LnBhdGhuYW1lO2lmKG4ubWF0Y2goLy5hd3NhcHBzLmNvbS8pKXt2YXIgaT0iY29ubmVjdCI7cmV0dXJuIHIuc3RhcnRzV2l0aCgiL2Nvbm5lY3QtZ2FtbWEiKSYmKGk9ImNvbm5lY3QtZ2FtbWEiKSwiIi5jb25jYXQobiwiLyIpLmNvbmNhdChpKS5jb25jYXQobyl9cmV0dXJuIiIuY29uY2F0KG4pLmNvbmNhdChvKX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvXmh0dHBzPzpcL1wvbG9jYWxob3N0Lyl9LG09ZnVuY3Rpb24oKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0bGFuZEF0UGF0aF0gSW52b2tlIGNvbm5lY3Quc3RvcmFnZUFjY2Vzcy5pbml0IGZpcnN0Iik7cmV0dXJuIGgocyl8fGcocyk/bmV3IFVSTChzKS5wYXRobmFtZToiL2Nvbm5lY3QvY2NwLXYyIn0sdj1mdW5jdGlvbihlKXt2YXIgbj1lLm9uSW5pdCxyPWUub25EZW55LG89ZS5vbkdyYW50O2Z1bmN0aW9uIGkoZSl7dmFyIGE9ZS5kYXRhLHM9ZS5zb3VyY2U7aWYodC5jb3JlLl9nZXRDQ1BJZnJhbWUoKS5jb250ZW50V2luZG93IT09cylyZXR1cm4hMTtzd2l0Y2godC5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSksYS5ldmVudCl7Y2FzZSBsLklOSVQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bSU5JVF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksbiYmbihhKTticmVhaztjYXNlIGwuR1JBTlRFRDp0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtHUkFOVEVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChhKSxvJiZvKGEpO2JyZWFrO2Nhc2UgbC5ERU5JRUQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bREVOSUVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChhKSxyJiZyKGEpO2JyZWFrO2RlZmF1bHQ6dC5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fXJldHVybiBhLmNhblJlcXVlc3QmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpKSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fX07dC5zdG9yYWdlQWNjZXNzPU9iamVjdC5mcmVlemUoe2NhblJlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYW5SZXF1ZXN0fSxvcHRPdXRGcm9tUmVxdWVzdEFjY2VzczpmdW5jdGlvbigpe2kuY2FuUmVxdWVzdD0hMX0sb3B0SW5Gb3JSZXF1ZXN0QWNjZXNzOmZ1bmN0aW9uKCl7aS5jYW5SZXF1ZXN0PSEwfSxpbml0OmZ1bmN0aW9uKGUscil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3QuYXNzZXJ0Tm90TnVsbChlLCJjY3BVcmwiKSx0LmFzc2VydE5vdE51bGwociwiY29udGFpbmVyIiksYz1yLHM9ZSxmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtlLmN1c3RvbT1lLmN1c3RvbXx8e30sKGE9bihuKG4oe30saSksZSkse30se2N1c3RvbTpuKG4oe30saS5jdXN0b20pLGUuY3VzdG9tKX0pKS5jYW5SZXF1ZXN0PSEoImZhbHNlIj09PWEuY2FuUmVxdWVzdHx8ITE9PT1hLmNhblJlcXVlc3QpfShvKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtpbml0XSBSZXF1ZXN0IFN0b3JhZ2UgQWNjY2VzcyBpbml0IGNhbGxlZCB3aXRoIGNjcFVybCAtICIuY29uY2F0KGUsIiAtICIpLmNvbmNhdChhLmNhblJlcXVlc3Q/IlByb2NlZWRpbmcgd2l0aCByZXF1ZXN0aW5nIHN0b3JhZ2UgYWNjZXNzIjoidXNlciBoYXMgb3B0ZWQgb3V0LCBza2lwcGluZyByZXF1ZXN0IHN0b3JhZ2UgYWNjZXNzIikpLndpdGhPYmplY3QoYSl9LHNldHVwUmVxdWVzdEhhbmRsZXJzOmZ1bmN0aW9uKGUpe3ZhciBuPWUub25HcmFudDtyJiZyLnVuc3Vic2NyaWJlKCkscj12KHtvbkluaXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0lOSVRdIiwiYmFja2dyb3VuZDp5ZWxsb3c7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkluaXRdIGNhbGxiYWNrIGV4ZWN1dGVkIikud2l0aE9iamVjdChudWxsPT1lP3ZvaWQgMDplLmRhdGEpLG51bGwhPWUmJmUuZGF0YS5oYXNBY2Nlc3N8fCFkKCl8fHAoKS5zaG93KCl9LG9uRGVueTpmdW5jdGlvbigpe2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtERU5JRURdIiwiYmFja2dyb3VuZDpyZWQ7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkRlbnldIGNhbGxiYWNrIGV4ZWN1dGVkIiksZCgpJiZwKCkuc2hvdygpfSxvbkdyYW50OmZ1bmN0aW9uKCl7dmFyIGU7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0dSQU5URURdIiwiYmFja2dyb3VuZDpsaW1lOyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25HcmFudF0gY2FsbGJhY2sgZXhlY3V0ZWQiKSxkKCkmJihudWxsPT09KGU9YSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmN1c3RvbSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaGlkZUNDUCkmJnAoKS5oaWRlKCksdXx8KG4oKSx1PSEwKX19KX0sZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmw6ZnVuY3Rpb24oKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludm9rZSBjb25uZWN0LnN0b3JhZ2VBY2Nlc3MuaW5pdCBmaXJzdCIpO2lmKGgocykpcmV0dXJuIGYocyk7aWYoZyhzKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW0NDUF0gTG9jYWwgdGVzdGluZyIpLCIiLmNvbmNhdChzKS5jb25jYXQobyk7aWYoYS5pbnN0YW5jZVVybCYmaChhLmluc3RhbmNlVXJsKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBDdXN0b21lciBoYXMgcHJvdmlkZWQgc3RvcmFnZVBhcmFtcy5pbnN0YW5jZVVybCAiLmNvbmNhdChhLmluc3RhbmNlVXJsKSksZihhLmluc3RhbmNlVXJsKTtpZihhLmluc3RhbmNlVXJsJiZnKGEuaW5zdGFuY2VVcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIExvY2FsIHRlc3RpbmciKSwiIi5jb25jYXQoYS5pbnN0YW5jZVVybCkuY29uY2F0KG8pO3Rocm93IHQuZ2V0TG9nKCkuZXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludmFsaWQgQ29ubmVjdCBpbnN0YW5jZS9DQ1AgVVJMIHByb3ZpZGVkLCBwbGVhc2UgcGFzcyB0aGUgY29ycmVjdCBjY3BVcmwgb3Igc3RvcmFnZUFjY2Vzcy5pbnN0YW5jZVVybCBwYXJhbWV0ZXJzIiksbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZhbGlkIENvbm5lY3QgaW5zdGFuY2UvQ0NQIFVSTCBwcm92aWRlZCwgcGxlYXNlIHBhc3MgdGhlIHZhbGlkIENvbm5lY3QgQ0NQIFVSTCBvciBpbiBjYXNlIENDUCBVUkwgaXMgY29uZmlndXJlZCB0byBiZSB0aGUgU1NPIFVSTCB0aGVuIHVzZSBzdG9yYWdlQWNjZXNzLmluc3RhbmNlVXJsIGFuZCBwYXNzIHRoZSBDb25uZWN0IENDUCBVUkwiKX0sc3RvcmFnZUFjY2Vzc0V2ZW50czpsLHJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlOmZ1bmN0aW9uKCl7YT17fSxzPSIiLGM9bnVsbCx1PSExfSxnZXRPbkdyYW50Q2FsbGJhY2tJbnZva2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldFN0b3JhZ2VBY2Nlc3NQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sb25SZXF1ZXN0OnYscmVxdWVzdDpmdW5jdGlvbigpe3QuY29yZS5fZ2V0Q0NQSWZyYW1lKCkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7ZXZlbnQ6bC5SRVFVRVNULGRhdGE6bihuKHt9LGEpLHt9LHtsYW5kYXQ6bSgpfSl9LCIqIil9fSl9KCl9LDkwNjooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdCgpeyJ1c2Ugc3RyaWN0Ijt0PWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O3ZhciBuLHI9e30sbz1PYmplY3QucHJvdG90eXBlLGk9by5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaChuKXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGgoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1yLndyYXA9ZDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIEUoKXt9ZnVuY3Rpb24gUygpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgST1PYmplY3QuZ2V0UHJvdG90eXBlT2YsVD1JJiZJKEkoUChbXSkpKTtUJiZUIT09byYmaS5jYWxsKFQsYykmJihDPVQpO3ZhciB3PVMucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyh0LG4pe2Z1bmN0aW9uIHIobyxhLHMsYyl7dmFyIHU9aCh0W29dLHQsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09ZShwKSYmaS5jYWxsKHAsIl9fYXdhaXQiKT9uLnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtyKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7cigidGhyb3ciLGUscyxjKX0pKTpuLnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIG87YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBuKChmdW5jdGlvbihuLG8pe3IoZSx0LG4sbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUihlLHQscil7dmFyIG89ZjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTpuLGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1PKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09Zil0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9aChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTyhlLHQpe3ZhciByPXQubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09bilyZXR1cm4gdC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPW4sTyhlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWgobyxlLml0ZXJhdG9yLHQuYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiB0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPWkuYXJnLHQuZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8odFtlLnJlc3VsdE5hbWVdPWEudmFsdWUsdC5uZXh0PWUubmV4dExvYywicmV0dXJuIiE9PXQubWV0aG9kJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPW4pLHQuZGVsZWdhdGU9bnVsbCx5KTphOih0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksdC5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIEwoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKEwsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUCh0KXtpZih0fHwiIj09PXQpe3ZhciByPXRbY107aWYocilyZXR1cm4gci5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBlKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKGkuY2FsbCh0LG8pKXJldHVybiBlLnZhbHVlPXRbb10sZS5kb25lPSExLGU7cmV0dXJuIGUudmFsdWU9bixlLmRvbmU9ITAsZX07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKGUodCkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gRS5wcm90b3R5cGU9UyxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxhKFMsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxFLmRpc3BsYXlOYW1lPXAoUyxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHIuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09RXx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sci5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsUyk6KGUuX19wcm90b19fPVMscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sci5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHIuQXN5bmNJdGVyYXRvcj1fLHIuYXN5bmM9ZnVuY3Rpb24oZSx0LG4sbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsdCxuLG8pLGkpO3JldHVybiByLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLHIua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSxyLnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PW4sdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9bix0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhZSlmb3IodmFyIHQgaW4gdGhpcykidCI9PT10LmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPW4pfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHQ9dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPWUsdC5uZXh0PXIsbyYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1uKSwhIW99Zm9yKHZhciBvPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW29dLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PWkuY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgbz1yO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKGUpLHJlc3VsdE5hbWU6dCxuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9bikseX19LHJ9ZnVuY3Rpb24gbihlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIHMoZSl7bihhLG8saSxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7bihhLG8saSxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9fSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uLGUubGlseT1uO3ZhciBvPWZ1bmN0aW9uKGUpe24uYXNzZXJ0Tm90TnVsbChlLCJyaW5ndG9uZUNvbmZpZyIpLHRoaXMuX2F1ZGlvPW51bGwsdGhpcy5fZGV2aWNlSWQ9IiIsdGhpcy5fcmluZ3RvbmVVcmw9ZS5yaW5ndG9uZVVybCx0aGlzLl9sb2FkUmluZ3RvbmUodGhpcy5fcmluZ3RvbmVVcmwpLmNhdGNoKChmdW5jdGlvbigpe30pKSx0aGlzLl9kcml2ZVJpbmd0b25lKCl9O28ucHJvdG90eXBlLl9sb2FkUmluZ3RvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZXx8byhFcnJvcigicmluZ3RvbmVVcmwgaXMgcmVxdWlyZWQhIikpLHQuX2F1ZGlvPW5ldyBBdWRpbyhlKSx0Ll9hdWRpby5sb29wPSEwLHQuc2V0T3V0cHV0RGV2aWNlKHQuX2RldmljZUlkKTt2YXIgaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uZ2V0TG9nKCkud2FybigiUmluZ3RvbmUgaXNuJ3QgbG9hZGVkIGluIDEgc2Vjb25kIGJ1dCBwcm9jZWVkaW5nOiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoKX0pLDFlMyk7dC5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheSIsKGZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBpcyByZWFkeSB0byBwbGF5OiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGNsZWFyVGltZW91dChpKSxyKCl9KSksdC5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbigpe24uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIsK2UpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksY2xlYXJUaW1lb3V0KGkpLG8oRXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIrZSkpfSkpfSkpfSxvLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkLiIpfSxvLnByb3RvdHlwZS5fc3RhcnRSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXIodCgpLm1hcmsoKGZ1bmN0aW9uIGUobyl7dmFyIGksYSxzPXRoaXMsYz1hcmd1bWVudHM7cmV0dXJuIHQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gaT1jLmxlbmd0aD4xJiZ2b2lkIDAhPT1jWzFdP2NbMV06MCxhPWMubGVuZ3RoPjImJnZvaWQgMCE9PWNbMl0/Y1syXTpbXSxlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxjKXtzLl9hdWRpb3x8YyhFcnJvcigiTm8gYXVkaW8gb2JqZWN0IGZvdW5kIikpLG4uZ2V0TG9nKCkuaW5mbygiQXR0ZW1wdGluZyB0byBzdGFydCByaW5ndG9uZSB0byBkZXZpY2UgIi5jb25jYXQocy5fYXVkaW8uc2lua0lkfHwiJyciKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzLl9hdWRpby5wbGF5KCkudGhlbigoZnVuY3Rpb24oKXtzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFN0YXJ0IixvKSxuLmdldExvZygpLmluZm8oIlJpbmd0b25lIFN0YXJ0OiBTdWNjZWVkZWQgd2l0aCAiLmNvbmNhdChpLCIgcmV0cmllcyByZW1haW5pbmciKSkud2l0aE9iamVjdCh7ZXJyb3JMaXN0OmEsY29udGFjdElkOm8uZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUoKX0pKS5jYXRjaChmdW5jdGlvbigpe3ZhciB1PXIodCgpLm1hcmsoKGZ1bmN0aW9uIHIodSl7cmV0dXJuIHQoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmUiLG8pLG4uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmU6ICIuY29uY2F0KGksIiByZXRyaWVzIHJlbWFpbmluZy4iKSkud2l0aEV4Y2VwdGlvbih1KS53aXRoT2JqZWN0KHtjdXJyZW50U3JjOnMuX2F1ZGlvLmN1cnJlbnRTcmMsc2lua0lkOnMuX2F1ZGlvLnNpbmtJZCx2b2x1bWU6cy5fYXVkaW8udm9sdW1lLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLnB1c2godS50b1N0cmluZygpKSwhKGk+MCkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5uZXh0PTYscy5fbG9hZFJpbmd0b25lKHMuX3Jpbmd0b25lVXJsKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSk7Y2FzZSA2OnJldHVybiB0Lm5leHQ9OCxzLl9zdGFydFJpbmd0b25lKG8saS0xLGEpLnRoZW4oZSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIGMoYSl9KSk7Y2FzZSA4OnQubmV4dD0xMjticmVhaztjYXNlIDEwOm4uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFJldHJpZXMgRXhoYXVzdGVkIikud2l0aE9iamVjdCh7ZXJyb3JMaXN0OmEsY29udGFjdElkOm8uZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGMoYSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHIpfSkpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9KSkpO2Nhc2UgMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxvLnByb3RvdHlwZS5fc3RvcFJpbmd0b25lPWZ1bmN0aW9uKGUpe3RoaXMuX2F1ZGlvJiYodGhpcy5fYXVkaW8ucGF1c2UoKSx0aGlzLl9hdWRpby5jdXJyZW50VGltZT0wLHRoaXMuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgU3RvcCIsZSksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdG9wIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LG8ucHJvdG90eXBlLnN0b3BSaW5ndG9uZT1mdW5jdGlvbigpe3RoaXMuX3N0b3BSaW5ndG9uZSgpfSxvLnByb3RvdHlwZS5fcmluZ3RvbmVTZXR1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO24uaWZNYXN0ZXIobi5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dC5fc3RhcnRSaW5ndG9uZShlLDIpLmNhdGNoKChmdW5jdGlvbigpe30pKSxlLm9uQ29ubmVjdGVkKGxpbHkuaGl0Y2godCx0Ll9zdG9wUmluZ3RvbmUpKSxlLm9uQWNjZXB0ZWQobGlseS5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25FbmRlZChsaWx5LmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09bi5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlORyYmdC5fc3RvcFJpbmd0b25lKCl9KSl9KSl9LG8ucHJvdG90eXBlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQ9ZnVuY3Rpb24oZSx0KXt0JiZ0LmdldENvbnRhY3RJZCgpJiZuLnB1Ymxpc2hNZXRyaWMoe25hbWU6ZSxjb250YWN0SWQ6dC5nZXRDb250YWN0SWQoKX0pfSxvLnByb3RvdHlwZS5zZXRPdXRwdXREZXZpY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5fYXVkaW8mJnQuX2F1ZGlvLnNldFNpbmtJZD90Ll9hdWRpby5zZXRTaW5rSWQoZSkudGhlbigoZnVuY3Rpb24oKXt0Ll9kZXZpY2VJZD1lLG4oZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoIlJpbmd0b25lRW5naW5lQmFzZS5zZXRPdXRwdXREZXZpY2UgZmFpbGVkOiBhdWRpby5zZXRTaW5rSWQoKSBmYWlsZWQgd2l0aCBlcnJvciAiLmNvbmNhdChlKSl9KSk6cigiUmluZ3RvbmVFbmdpbmVCYXNlLnNldE91dHB1dERldmljZSBmYWlsZWQ6ICIuY29uY2F0KHQuX2F1ZGlvPyJhdWRpbyI6ImF1ZGlvLnNldFNpbmtJZCIsIiBub3QgZm91bmQuIikpfSkpfTt2YXIgaT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bi5Db250YWN0VHlwZS5WT0lDRSYmdC5pc1NvZnRwaG9uZUNhbGwoKSYmdC5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIlJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKSwobmV3IG4uQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRTdGF0dXMoKS50eXBlPT09bi5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZ0KGUpfSkpfTt2YXIgYT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5DSEFUJiZ0LmlzSW5ib3VuZCgpJiYwPT09dC5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VHlwZSgpPT09bi5Db25uZWN0aW9uVHlwZS5BR0VOVCYmZS5pc1NpbGVudE1vbml0b3IoKX0pKS5sZW5ndGgmJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2hhdCBSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIkNoYXQgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTtuLmNvbnRhY3QoKGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW5nKHQpfSkpfTt2YXIgcz1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zLHMucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5UQVNLJiZ0LmlzSW5ib3VuZCgpJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlRhc2sgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJUYXNrIFJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKX07dmFyIGM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PW4uQ29udGFjdFR5cGUuRU1BSUwmJnQuaXNJbmJvdW5kKCkmJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiRW1haWwgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJFbWFpbCBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O24uY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3RpbmcodCl9KSl9O3ZhciB1PWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUpfTsodS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXUsdS5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO24uY29udGFjdCgoZnVuY3Rpb24odCl7dC5vbkluY29taW5nKChmdW5jdGlvbigpe3QuZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSyYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJDYWxsYmFjayBSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIkNhbGxiYWNrIFJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX0pKX0pKX0sbi5Wb2ljZVJpbmd0b25lRW5naW5lPWksbi5DaGF0UmluZ3RvbmVFbmdpbmU9YSxuLlRhc2tSaW5ndG9uZUVuZ2luZT1zLG4uUXVldWVDYWxsYmFja1Jpbmd0b25lRW5naW5lPXUsbi5FbWFpbFJpbmd0b25lRW5naW5lPWN9KCl9LDgwNjooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxyPXQuY29ubmVjdHx8e307dC5jb25uZWN0PXIsdC5saWx5PXIsdC5jY3BWZXJzaW9uPSJWMiI7dmFyIG89IkNJVFJJWCIsaT0iQVdTX1dPUktTUEFDRSIsYT0iYnJvd3NlcklkIixzPXt9O3Nbci5Tb2Z0cGhvbmVDYWxsVHlwZS5BVURJT19PTkxZXT0iQXVkaW8iLHNbci5Tb2Z0cGhvbmVDYWxsVHlwZS5WSURFT19PTkxZXT0iVmlkZW8iLHNbci5Tb2Z0cGhvbmVDYWxsVHlwZS5BVURJT19WSURFT109IkF1ZGlvVmlkZW8iLHNbci5Tb2Z0cGhvbmVDYWxsVHlwZS5OT05FXT0iTm9uZSI7dmFyIGM9ImF1ZGlvX2lucHV0Iix1PSJhdWRpb19vdXRwdXQiOyh7fSlbci5Db250YWN0VHlwZS5WT0lDRV09IlZvaWNlIjt2YXIgbD1bXSxwPVtdLGQ9W10saD17fSxmPXt9LGc9MCxtPTAsdj0wLHk9MCxiPTAsRT0hMSxTPSExLEM9bnVsbCxJPW51bGwsVD1udWxsLHc9bnVsbCxBPXIuU29mdHBob25lRXJyb3JUeXBlcyxfPXt9LFI9ci5yYW5kb21JZCgpLE89ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3IuY29yZS5nZXRDbGllbnQoKS5jYWxsKHIuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dChlLnNvZnRwaG9uZVRyYW5zcG9ydC5zb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtlLm1lc3NhZ2UmJmUubWVzc2FnZS5pbmNsdWRlcygiU29mdHBob25lQ29ubmVjdGlvbkxpbWl0QnJlYWNoZWRFeGNlcHRpb24iKSYmVigibXVsdGlwbGVfc29mdHBob25lX2FjdGl2ZV9zZXNzaW9ucyIsIk51bWJlciBvZiBhY3RpdmUgc2Vzc2lvbnMgYXJlIG1vcmUgdGhlbiBhbGxvd2VkIGxpbWl0LiIsIiIpLG4oRXJyb3IoInJlcXVlc3RJY2VBY2Nlc3MgZmFpbGVkIikpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe24oRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSByZXF1ZXN0SWNlQWNjZXNzIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtuKEVycm9yKCJBY2Nlc3MgRGVuaWVkIHdoaWxlIHJlcXVlc3RJY2VBY2Nlc3MiKSl9fSl9KSl9LEw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHM9dGhpczt0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLHRoaXMucnRjSnNTdHJhdGVneT1udWxsLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW51bGwsdGhpcy5fc2V0UnRjSnNTdHJhdGVneT1mdW5jdGlvbigpe2lmKG4uVkRJUGxhdGZvcm0pe0M9bi5WRElQbGF0Zm9ybTt0cnl7aWYobi5WRElQbGF0Zm9ybT09PW8pdGhpcy5ydGNKc1N0cmF0ZWd5PW5ldyByLkNpdHJpeFZESVN0cmF0ZWd5LHcuaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIFN0cmF0ZWd5IGNvbnN0cnVjdG9yIHJldHJpZXZlZDogIi5jb25jYXQodGhpcy5ydGNKc1N0cmF0ZWd5KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNle2lmKG4uVkRJUGxhdGZvcm0hPT1pKXRocm93IG5ldyBFcnJvcigiVkRJIFN0cmF0ZWd5IG5vdCBzdXBwb3J0ZWQiKTt0aGlzLnJ0Y0pzU3RyYXRlZ3k9bmV3IHIuRENWV2ViUlRDU3RyYXRlZ3ksdy5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gU3RyYXRlZ3kgY29uc3RydWN0b3IgcmV0cmlldmVkOiAiLmNvbmNhdCh0aGlzLnJ0Y0pzU3RyYXRlZ3kpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX1jYXRjaChlKXt0aHJvdyJWREkgU3RyYXRlZ3kgbm90IHN1cHBvcnRlZCI9PT1lLm1lc3NhZ2U/KFYoQS5WRElfU1RSQVRFR1lfTk9UX1NVUFBPUlRFRCxlLm1lc3NhZ2UsIiIpLGUpOiJDaXRyaXggV2ViUlRDIHJlZGlyZWN0aW9uIGZlYXR1cmUgaXMgTk9UIHN1cHBvcnRlZCEiPT09ZS5tZXNzYWdlfHwiRENWIFdlYlJUQyByZWRpcmVjdGlvbiBmZWF0dXJlIGlzIE5PVCBzdXBwb3J0ZWQhIj09PWUubWVzc2FnZT8oVihBLlZESV9SRURJUl9OT1RfU1VQUE9SVEVELGUubWVzc2FnZSwiIiksZSk6KFYoQS5PVEhFUixlLm1lc3NhZ2UsIiIpLGUpfX19LHRoaXMuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9ZnVuY3Rpb24oKXt2YXIgZTtudWxsIT1yJiZudWxsIT09KGU9ci5jb3JlKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUuc29mdHBob25lTWFuYWdlcikmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSkmJnZvaWQgMCE9PWUmJmUuY2xvc2UmJnIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbG9zZSgpLHIuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5JiYodGhpcy5ydGNKc1N0cmF0ZWd5P3RoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW5ldyByLlJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSh3LHIuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCksUixyLmhpdGNoKHMsTyx7dHJhbnNwb3J0VHlwZToic29mdHBob25lIixzb2Z0cGhvbmVDbGllbnRJZDpSfSksci5oaXRjaChzLFYpLHRoaXMucnRjSnNTdHJhdGVneSk6dGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bmV3IHIuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KHcsci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxSLHIuaGl0Y2gocyxPLHt0cmFuc3BvcnRUeXBlOiJzb2Z0cGhvbmUiLHNvZnRwaG9uZUNsaWVudElkOlJ9KSxyLmhpdGNoKHMsVikpKX0sdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgZTtudWxsIT1yJiZudWxsIT09KGU9ci5jb3JlKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUuc29mdHBob25lTWFuYWdlcikmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcikmJnZvaWQgMCE9PWUmJmUuY2xvc2UmJihyLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xvc2UoKSxyLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9bnVsbCk7dmFyIG8saSxjPW4uaXNTb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQ7dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKXx8dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShhLEFXUy51dGlsLnV1aWQudjQoKSksbz10LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGEpLHIuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPyhFPSExLG51bGwhPT0oaT1zLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSkmJnZvaWQgMCE9PWkmJmkuY2xvc2UmJihzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbG9zZSgpLHMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwpLHMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW5ldyByLlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcihudWxsLG51bGwsci5oaXRjaChzLE8se3RyYW5zcG9ydFR5cGU6InNvZnRwaG9uZSIsc29mdHBob25lQ2xpZW50SWQ6Un0pLHIuaGl0Y2gocyxWKSxSLG51bGwsdyxudWxsLG51bGwsci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxudWxsPT09cy5ydGNKc1N0cmF0ZWd5P25ldyByLlN0YW5kYXJkU3RyYXRlZ3k6cy5ydGNKc1N0cmF0ZWd5LGMsbykpOncuaW5mbygiUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGRvZXMgTk9UIGV4aXN0LCBwbGVhc2UgdXBncmFkZSBSVEMuanMiKX0sKHc9bmV3IGllKHIuZ2V0TG9nKCkpKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIHNvZnRwaG9uZSBtYW5hZ2VyIGluaXRpYWxpemF0aW9uIGhhcyBiZWd1biIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEhPT1uLmFsbG93RWFybHlHdW0mJihyLmlzQ2hyb21lQnJvd3NlcigpfHxyLmlzRWRnZUJyb3dzZXIoKSk/KHcuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBlYXJseUd1bSBtZWNoYW5pc20gZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksRT0hMCk6KHcuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBlYXJseUd1bSBtZWNoYW5pc20gTk9UIGVuYWJsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLEU9ITEpLHcuaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIENsaWVudCBQcm92aWRlZCBTdHJhdGVneTogIi5jb25jYXQobi5WRElQbGF0Zm9ybSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5fc2V0UnRjSnNTdHJhdGVneSgpLHRoaXMuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkoKSxyLmNvcmUuX2FsbG93U29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24mJm51bGw9PT10aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciYmdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKSxyLmFnZW50KChmdW5jdGlvbih0KXt2YXIgbj10Lm9uUmVmcmVzaCgoZnVuY3Rpb24odCl7aWYoZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIpe3ZhciBvPXQuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uO2UucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmlzUFBDRW5hYmxlZCE9PW8mJihlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5pc1BQQ0VuYWJsZWQ9byxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5pc1BQQ0VuYWJsZWQ/KHcuaW5mbygic29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24gY2hhbmdlZCB0byB0dXJlLCBpbml0aWF0ZSBhIHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5ydGNKc1N0cmF0ZWd5PWUucnRjSnNTdHJhdGVneSxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jbG9zZUVhcmx5TWVkaWFDb25uZWN0aW9uKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIucmVxdWVzdFBlZXJDb25uZWN0aW9uKCkudGhlbigoZnVuY3Rpb24oKXtlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jcmVhdGVTZXNzaW9uKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY29ubmVjdCgpfSkpKToody5pbmZvKCJzb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiBjaGFuZ2VkIHRvIGZhbHNlLCBkZXN0cm95IHRoZSBleGlzdGluZyBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuZGVzdHJveSgpLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLnJlcXVlc3RQZWVyQ29ubmVjdGlvbigpKSl9ZWxzZSByLmNvcmUuX2FsbG93U29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24/ZS5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKTpuLnVuc3Vic2NyaWJlKCl9KSl9KSksTC5pc0Jyb3dzZXJTb2Z0UGhvbmVTdXBwb3J0ZWQoKXx8VihBLlVOU1VQUE9SVEVEX0JST1dTRVIsIkNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIGJyb3dzZXIuIFNvbWUgZnVuY3Rpb25hbGl0eSBtYXkgbm90IHdvcmsuICIsIiIpLG4uVkRJUGxhdGZvcm0hPT1pJiZHKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe0goIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImdyYW50ZWQifSksSCgiTWljQ2hlY2tTdWNjZWVkZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtWKGUsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpLEgoIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImRlbmllZCJ9KSxIKCJHdW1GYWlsZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX19KTt2YXIgYz1OKCksdT1QKCksbD1EKCFuLmRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uKTt4KCksdGhpcy5yaW5ndG9uZUVuZ2luZT1udWxsO3ZhciBwPXt9LGQ9e30saD0hMSxmPW51bGwsZz1udWxsLG09ZnVuY3Rpb24oKXtoPSExLGY9bnVsbCxnPW51bGx9O3RoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gcFtlXX0sdGhpcy5yZXBsYWNlTG9jYWxNZWRpYVRyYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9X1tlXS5zdHJlYW07aWYocil7dmFyIG89ci5nZXRBdWRpb1RyYWNrcygpWzBdO3QuZW5hYmxlZD1vLmVuYWJsZWQsby5lbmFibGVkPSExLHIucmVtb3ZlVHJhY2sobyksbi5WRElQbGF0Zm9ybT09PWkmJm8uc3RvcCgpLHIuYWRkVHJhY2sodCl9fTt2YXIgdj1mdW5jdGlvbih0KXtpZihwLmhhc093blByb3BlcnR5KHQpKXt2YXIgbj1wW3RdO25ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2RlbGV0ZSBwW3RdLGRlbGV0ZSBkW3RdLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyP2UucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmhhbmd1cCgpOm4uaGFuZ3VwKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2xpbHkuZ2V0TG9nKCkud2FybigiVGhlcmUgd2FzIGFuIGVycm9yIGRlc3Ryb3lpbmcgdGhlIHNvZnRwaG9uZSBzZXNzaW9uIGZvciBjb25uZWN0aW9uIElEICIuY29uY2F0KHQsIiA6ICIpLmNvbmNhdChlLm1lc3NhZ2UpKS53aXRoT2JqZWN0KHthZ2VudENvbm5lY3Rpb25JZDp0LGVycm9yTWVzc2FnZTplLm1lc3NhZ2V9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfX07dGhpcy5fY2xlYXJBbGxTZXNzaW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiByLmdldExvZygpLmluZm8oIkNsZWFyaW5nIGFsbCBhY3RpdmUgc2Vzc2lvbnMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHApcC5oYXNPd25Qcm9wZXJ0eShlKSYmdihlKX0sdGhpcy5zdGFydFNlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgbz1oP2Y6ZSxpPWg/Zzp0O2lmKG8mJmkpe20oKSxkW2ldPSEwLHcuaW5mbygiU29mdHBob25lIGNhbGwgZGV0ZWN0ZWQ6IiwiY29udGFjdElkICIrby5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIraSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlKXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGg+MCl7Zm9yKHZhciB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKHooIk11bHRpU2Vzc2lvbkhhbmdVcCIsZVt0XS5jYWxsSWQsdCksdih0KSk7dGhyb3cgbmV3IEVycm9yKCJkdXBsaWNhdGUgc2Vzc2lvbiBkZXRlY3RlZCwgcmVmdXNpbmcgdG8gc2V0dXAgbmV3IGNvbm5lY3Rpb24iKX19KHApLG8uZ2V0U3RhdHVzKCkudHlwZT09PXIuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmSCgiU29mdHBob25lIENvbm5lY3RpbmciLG8uZ2V0Q29udGFjdElkKCkpLEooKTt2YXIgYSxzLGM9by5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKSx1PUIoYy5jYWxsQ29uZmlnSnNvbik7dS51c2VXZWJTb2NrZXRQcm92aWRlciYmKGE9ci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSksKHM9dGhpcy5ydGNKc1N0cmF0ZWd5P25ldyByLlJUQ1Nlc3Npb24odS5zaWduYWxpbmdFbmRwb2ludCx1LmljZVNlcnZlcnMsYy5jYWxsQ29udGV4dFRva2VuLHcsby5nZXRDb250YWN0SWQoKSxpLGEsdGhpcy5ydGNKc1N0cmF0ZWd5KTpuZXcgci5SVENTZXNzaW9uKHUuc2lnbmFsaW5nRW5kcG9pbnQsdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbix3LG8uZ2V0Q29udGFjdElkKCksaSxhKSkuZWNob0NhbmNlbGxhdGlvbj0hbi5kaXNhYmxlRWNob0NhbmNlbGxhdGlvbixwW2ldPXMsci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KSxzLm9uU2Vzc2lvbkZhaWxlZD1mdW5jdGlvbihlLHQpe2RlbGV0ZSBwW2ldLGRlbGV0ZSBkW2ldLHEoZSx0KSxXKG8uZ2V0Q29udGFjdElkKCksdCksbmUobyxlLnNlc3Npb25SZXBvcnQpfSxzLm9uU2Vzc2lvbkNvbm5lY3RlZD1mdW5jdGlvbihlKXtIKCJTb2Z0cGhvbmUgU2Vzc2lvbiBDb25uZWN0ZWQiLG8uZ2V0Q29udGFjdElkKCkpLHIuYmVjb21lTWFzdGVyKHIuTWFzdGVyVG9waWNzLlNFTkRfTE9HUyksWShlKSxYKG8pLGsobyl9LHMub25TZXNzaW9uQ29tcGxldGVkPWZ1bmN0aW9uKGUpe0goIlNvZnRwaG9uZSBTZXNzaW9uIENvbXBsZXRlZCIsby5nZXRDb250YWN0SWQoKSksZGVsZXRlIHBbaV0sZGVsZXRlIGRbaV0sbmUobyxlLnNlc3Npb25SZXBvcnQpLE0oaSl9LHMub25Mb2NhbFN0cmVhbUFkZGVkPWZ1bmN0aW9uKGUsdCl7X1tpXT17c3RyZWFtOnR9LHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuTE9DQUxfTUVESUFfU1RSRUFNX0NSRUFURUQsZGF0YTp7Y29ubmVjdGlvbklkOml9fSl9LHMucmVtb3RlQXVkaW9FbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKXx8d2luZG93LnBhcmVudC5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpLHRoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5P3MuY29ubmVjdCh0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5nZXQodS5pY2VTZXJ2ZXJzKSk6cy5jb25uZWN0KCl9fTt2YXIgeT1mdW5jdGlvbihlLHQpe3ZhciBuO3BbdF0mJmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVOREVEfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVSUk9SfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLk1JU1NFRH0oZSkmJih2KHQpLG0oKSksIWUuaXNTb2Z0cGhvbmVDYWxsKCl8fGRbdF18fGUuZ2V0U3RhdHVzKCkudHlwZSE9PXIuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09ci5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlOR3x8KEgoIlNvZnRwaG9uZUNvbmZpZ0RldGVjdGVkIixlLmdldENvbnRhY3RJZCgpLHt9LCEwKSxyLmlzRmlyZWZveEJyb3dzZXIoKSYmci5oYXNPdGhlckNvbm5lY3RlZENDUHMoKT8ody5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFBvc3Rwb25lIHN0YXJ0aW5nIHNlc3Npb246ICIrZS5nZXRDb250YWN0SWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlLHQpe2g9ITAsZj1lLGc9dH0oZSx0KSk6RSYmbnVsbCE9PShuPXIuY29yZS51c2VyTWVkaWFQcm92aWRlcikmJnZvaWQgMCE9PW4mJm4ucHJlY2FwdHVyZWRNZWRpYVN0cmVhbUF2YWlsYWJsZSgpPyhTPSEwLHcuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBzdGFydGluZyBzZXNzaW9uIHVzaW5nIHByZWNhcHR1cmVkTWVkaWFTdHJlYW0iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMuc3RhcnRTZXNzaW9uKGUsdCxyLmNvcmUudXNlck1lZGlhUHJvdmlkZXIuZ2V0UHJlY2FwdHVyZWRNZWRpYVN0cmVhbSgpKSk6KFM9ITEsci5jb3JlLl9pc0Vhcmx5R3VtRGlzYWJsZWQmJihFPSExKSxzLnN0YXJ0U2Vzc2lvbihlLHQpKSl9LGI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7dy5pbmZvKCJDb250YWN0IGRldGVjdGVkOiIsImNvbnRhY3RJZCAiK2UuZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK3QpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZFt0XXx8KGUub25SZWZyZXNoKChmdW5jdGlvbihlKXt5KGUsdCl9KSksZS5vbkRlc3Ryb3koKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe3BbZV0mJnYoZSl9KHQpLF9bdF0mJk0odCl9KSkpfSxJPXIuY29udGFjdChiKTsobmV3IHIuQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7dy5pbmZvKCJDb250YWN0IGV4aXN0IGluIHRoZSBzbmFwc2hvdC4gUmVpbml0aWF0ZSB0aGUgQ29udGFjdCBhbmQgUlRDIHNlc3Npb24gY3JlYXRpb24gZm9yIGNvbnRhY3RJZCIrZS5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIrdCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxiKGUpLHkoZSx0KX0pKSx0aGlzLnRlcm1pbmF0ZT1mdW5jdGlvbigpe0kmJkkudW5zdWJzY3JpYmUmJkkudW5zdWJzY3JpYmUoKSxjJiZjLnVuc3Vic2NyaWJlJiZjLnVuc3Vic2NyaWJlKCksdSYmdS51bnN1YnNjcmliZSYmdS51bnN1YnNjcmliZSgpLGwmJmwudW5zdWJzY3JpYmUmJmwudW5zdWJzY3JpYmUoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQmJmUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpLGUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwsZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXImJmUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCYmZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkKCl9fSxrPWZ1bmN0aW9uKGUpe3ZhciB0PXIuY29yZS5nZXRVcHN0cmVhbSgpLG49ZS5nZXRBZ2VudENvbm5lY3Rpb24oKTtpZihuKXt2YXIgbz1uLmdldFNvZnRwaG9uZU1lZGlhSW5mbygpO28/ITA9PT1vLmF1dG9BY2NlcHQ/KHcuaW5mbygiQXV0by1hY2NlcHQgaXMgZW5hYmxlZCwgc2VuZGluZyBvdXQgQWNjZXB0ZWQgZXZlbnQgdG8gc3RvcCByaW5ndG9uZS4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCxkYXRhOm5ldyByLkNvbnRhY3QoZS5jb250YWN0SWQpfSksdC5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZShyLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZS5jb250YWN0SWQpLGRhdGE6bmV3IHIuQ29udGFjdChlLmNvbnRhY3RJZCl9KSk6dy5pbmZvKCJBdXRvLWFjY2VwdCBpcyBkaXNhYmxlZCwgcmluZ3RvbmUgd2lsbCBiZSBzdG9wcGVkIGJ5IHVzZXIgYWN0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6dy5pbmZvKCJOb3QgYWJsZSB0byByZXRyaWV2ZSB0aGUgYXV0by1hY2NlcHQgc2V0dGluZyBmcm9tIG51bGwgU29mdHBob25lTWVkaWFJbmZvLCBpZ25vcmluZyBldmVudCBwdWJsaXNoLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2Ugdy5pbmZvKCJOb3QgYWJsZSB0byByZXRyaWV2ZSB0aGUgYXV0by1hY2NlcHQgc2V0dGluZyBmcm9tIG51bGwgQWdlbnRDb25uZWN0aW9uLCBpZ25vcmluZyBldmVudCBwdWJsaXNoLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxOPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5NVVRFLFUpfSxQPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1NQRUFLRVJfREVWSUNFLEYpfSxEPWZ1bmN0aW9uKGUpe3JldHVybiByLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9NSUNST1BIT05FX0RFVklDRSwoZnVuY3Rpb24odCl7cmV0dXJuIGoobihuKHt9LHQpLHt9LHtlbmFibGVFY2hvQ2FuY2VsbGF0aW9uOmV9KSl9KSl9LHg9ZnVuY3Rpb24oKXt0cnl7ci5pc0Nocm9tZUJyb3dzZXIoKSYmci5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbigpPjQzJiZuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6Im1pY3JvcGhvbmUifSkudGhlbigoZnVuY3Rpb24oZSl7ZS5vbmNoYW5nZT1mdW5jdGlvbigpe3cuaW5mbygiTWljcm9waG9uZSBQZXJtaXNzaW9uOiAiK2Uuc3RhdGUpLEgoIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ZS5zdGF0ZX0pLCJkZW5pZWQiPT09ZS5zdGF0ZSYmVihBLk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCwiWW91ciBtaWNyb3Bob25lIGlzIG5vdCBlbmFibGVkIGluIHlvdXIgYnJvd3Nlci4gIiwiIil9fSkpfWNhdGNoKGUpe3cuZXJyb3IoIkZhaWxlZCBpbiBkZXRlY3RpbmcgbWljcm9waG9uZSBwZXJtaXNzaW9uIHN0YXR1czogIitlKX19LE09ZnVuY3Rpb24oZSl7ZGVsZXRlIF9bZV0sci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5BZ2VudEV2ZW50cy5NVVRFX1RPR0dMRSxkYXRhOnttdXRlZDohMX19KX0sVT1mdW5jdGlvbihlKXt2YXIgdDtpZigwIT09ci5rZXlzKF8pLmxlbmd0aCl7Zm9yKHZhciBuIGluIGUmJnZvaWQgMCE9PWUubXV0ZSYmKHQ9ZS5tdXRlKSxfKWlmKF8uaGFzT3duUHJvcGVydHkobikpe3ZhciBvPV9bbl0uc3RyZWFtO2lmKG8pe3ZhciBpPW8uZ2V0QXVkaW9UcmFja3MoKVswXTt2b2lkIDAhPT10PyhpLmVuYWJsZWQ9IXQsX1tuXS5tdXRlZD10LHQ/dy5pbmZvKCJBZ2VudCBoYXMgbXV0ZWQgdGhlIGNvbnRhY3QsIGNvbm5lY3Rpb25JZCAtICAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6dy5pbmZvKCJBZ2VudCBoYXMgdW5tdXRlZCB0aGUgY29udGFjdCwgY29ubmVjdGlvbklkIC0gIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTp0PV9bbl0ubXV0ZWR8fCExfX1yLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGRhdGE6e211dGVkOnR9fSl9fSxGPWZ1bmN0aW9uKCl7dmFyIGU9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuZGV2aWNlSWR8fCIiO2lmKHIuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gQXR0ZW1wdGluZyB0byBzZXQgc3BlYWtlciBkZXZpY2UgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpfHx3aW5kb3cucGFyZW50LnBhcmVudC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIik7dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuc2V0U2lua0lkP3Quc2V0U2lua0lkKGUpLnRoZW4oKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTcGVha2VyIGRldmljZSAiLmNvbmNhdChlLCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBzcGVha2VyIGF1ZGlvIGVsZW1lbnQiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkNvbmZpZ3VyYXRpb25FdmVudHMuU1BFQUtFUl9ERVZJQ0VfQ0hBTkdFRCxkYXRhOntkZXZpY2VJZDplfX0pfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IHNwZWFrZXIgZGV2aWNlICIrZSkud2l0aEV4Y2VwdGlvbih0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpOnIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBzcGVha2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgcmVtb3RlQXVkaW9FbGVtZW50Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBzcGVha2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxqPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5kZXZpY2VJZHx8IiI7aWYoci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBBdHRlbXB0aW5nIHRvIHNldCBtaWNyb3Bob25lIGRldmljZSAiLmNvbmNhdCh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwwIT09ci5rZXlzKF8pLmxlbmd0aClpZih0KXt2YXIgbj1yLmNvcmUuZ2V0U29mdHBob25lTWFuYWdlcigpLG89e2F1ZGlvOntkZXZpY2VJZDp7ZXhhY3Q6dH19fTtlLmVuYWJsZUVjaG9DYW5jZWxsYXRpb258fChvLmF1ZGlvLmVjaG9DYW5jZWxsYXRpb249ITEpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiZWNob0NhbmNlbGxhdGlvbkNoZWNrIixkYXRhOntjb3VudDoxLGRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uOiFlLmVuYWJsZUVjaG9DYW5jZWxsYXRpb259fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobykudGhlbigoZnVuY3Rpb24oZSl7dHJ5e3ZhciBvPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtmb3IodmFyIGkgaW4gXylfLmhhc093blByb3BlcnR5KGkpJiYoX1tpXS5zdHJlYW0sbi5nZXRTZXNzaW9uKGkpLl9wYy5nZXRTZW5kZXJzKClbMF0ucmVwbGFjZVRyYWNrKG8pLnRoZW4oKGZ1bmN0aW9uKCl7bi5yZXBsYWNlTG9jYWxNZWRpYVRyYWNrKGksbyksci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBNaWNyb3Bob25lIGRldmljZSAiLmNvbmNhdCh0LCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBsb2NhbCBtZWRpYSBzdHJlYW0gaW4gUlRDUnRwU2VuZGVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkpfWNhdGNoKGUpe3JldHVybiB2b2lkIHIuZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgbWljcm9waG9uZSBkZXZpY2UgIit0KS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25maWd1cmF0aW9uRXZlbnRzLk1JQ1JPUEhPTkVfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6dH19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5nZXRMb2coKS5lcnJvcigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gRmFpbGVkIHRvIHNldCBtaWNyb3Bob25lIGRldmljZSAiK3QpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX1lbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBtaWNyb3Bob25lIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2Ugci5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIG1pY3JvcGhvbmUgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBsb2NhbE1lZGlhU3RyZWFtIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0scT1mdW5jdGlvbihlLHQpe2lmKHQ9PT1yLlJUQ0Vycm9ycy5JQ0VfQ09MTEVDVElPTl9USU1FT1VUKXtmb3IodmFyIG49IlxuIixvPTA7bzxlLl9pY2VTZXJ2ZXJzLmxlbmd0aDtvKyspZm9yKHZhciBpPTA7aTxlLl9pY2VTZXJ2ZXJzW29dLnVybHMubGVuZ3RoO2krKyluPW4rZS5faWNlU2VydmVyc1tvXS51cmxzW2ldKyJcbiI7VihBLklDRV9DT0xMRUNUSU9OX1RJTUVPVVQsIkljZSBjb2xsZWN0aW9uIHRpbWVkb3V0LiAiLG4pfWVsc2UgdD09PXIuUlRDRXJyb3JzLlVTRVJfQlVTWT9WKEEuVVNFUl9CVVNZX0VSUk9SLCJTb2Z0cGhvbmUgY2FsbCBVc2VyQnVzeSBlcnJvci4gIiwiIik6dD09PXIuUlRDRXJyb3JzLlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkU/VihBLlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkUsIkhhbmRzaGFraW5nIHdpdGggU2lnbmFsbGluZyBTZXJ2ZXIgIitlLl9zaWduYWxpbmdVcmkrIiBmYWlsZWQuICIsZS5fc2lnbmFsaW5nVXJpKTp0PT09ci5SVENFcnJvcnMuR1VNX1RJTUVPVVRfRkFJTFVSRXx8dD09PXIuUlRDRXJyb3JzLkdVTV9PVEhFUl9GQUlMVVJFP1YoQS5NSUNST1BIT05FX05PVF9TSEFSRUQsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpOnQ9PT1yLlJUQ0Vycm9ycy5TSUdOQUxMSU5HX0NPTk5FQ1RJT05fRkFJTFVSRT9WKEEuU0lHTkFMTElOR19DT05ORUNUSU9OX0ZBSUxVUkUsIlVSTCAiK2UuX3NpZ25hbGluZ1VyaSsiIGNhbm5vdCBiZSByZWFjaGVkLiAiLGUuX3NpZ25hbGluZ1VyaSk6dD09PXIuUlRDRXJyb3JzLkNBTExfTk9UX0ZPVU5EP3cuZXJyb3IoIlNvZnRwaG9uZSBjYWxsIGZhaWxlZCBkdWUgdG8gQ2FsbE5vdEZvdW5kRXhjZXB0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6VihBLldFQlJUQ19FUlJPUiwid2VicnRjIHN5c3RlbSBlcnJvci4gIiwiIil9LEI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC8mcXVvdDsvZywnIicpO3JldHVybiBKU09OLnBhcnNlKHQpfSxHPWZ1bmN0aW9uKHQpe3ZhciBuPXR8fHt9O24uc3VjY2Vzcz1uLnN1Y2Nlc3N8fGZ1bmN0aW9uKCl7fSxuLmZhaWx1cmU9bi5mYWlsdXJlfHxmdW5jdGlvbigpe307dmFyIHI9e2F1ZGlvOiEwfSxvPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2Upe2lmKCJvYmplY3QiPT09ZShuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSYmImZ1bmN0aW9uIj09dHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKW89bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocik7ZWxzZXtpZigiZnVuY3Rpb24iIT10eXBlb2YgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSlyZXR1cm4gdm9pZCBuLmZhaWx1cmUoQS5VTlNVUFBPUlRFRF9CUk9XU0VSKTtvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe25hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEocixlLHQpfSkpfXJldHVybiBvLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXVkaW9UcmFja3MoKTt0JiZ0Lmxlbmd0aD4wP24uc3VjY2VzcyhlKTpuLmZhaWx1cmUoQS5NSUNST1BIT05FX05PVF9TSEFSRUQpfSksKGZ1bmN0aW9uKGUpe24uZmFpbHVyZShBLk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCl9KSksb31uLmZhaWx1cmUoQS5VTlNVUFBPUlRFRF9CUk9XU0VSKX0sVj1mdW5jdGlvbihlLHQsbil7dy5lcnJvcigiU29mdHBob25lIGVycm9yIG9jY3VycmVkIDogIixlLHR8fCIiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuU09GVFBIT05FX0VSUk9SLGRhdGE6bmV3IHIuU29mdHBob25lRXJyb3IoZSx0LG4pfSl9LFc9ZnVuY3Rpb24oZSx0KXtIKCJTb2Z0cGhvbmUgU2Vzc2lvbiBGYWlsZWQiLGUse2ZhaWxlZFJlYXNvbjp0fSl9LEg9ZnVuY3Rpb24oZSx0LG4pe3IucHVibGlzaE1ldHJpYyh7bmFtZTplLGNvbnRhY3RJZDp0LGRhdGE6bn0pfSx6PWZ1bmN0aW9uKGUsdCxuKXtIKGUsdCxbe25hbWU6IkFnZW50Q29ubmVjdGlvbklkIix2YWx1ZTpufV0pLHcuaW5mbygiUHVibGlzaCBtdWx0aXBsZSBzZXNzaW9uIGVycm9yIG1ldHJpY3MiLGUsImNvbnRhY3RJZCAiK3QsImFnZW50IGNvbm5lY3Rpb25JZCAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9O0wuaXNCcm93c2VyU29mdFBob25lU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISEoci5pc09wZXJhQnJvd3NlcigpJiZyLmdldE9wZXJhQnJvd3NlclZlcnNpb24oKT4xNyl8fCEhKHIuaXNDaHJvbWVCcm93c2VyKCkmJnIuZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKT4yMil8fCEhKHIuaXNGaXJlZm94QnJvd3NlcigpJiZyLmdldEZpcmVmb3hCcm93c2VyVmVyc2lvbigpPjIxKX07dmFyIEs9ZnVuY3Rpb24oZSl7dmFyIHQ9bC5zbGljZSgpO2w9W10sdC5sZW5ndGg+MCYmZS5zZW5kU29mdHBob25lTWV0cmljcyh0LHtzdWNjZXNzOmZ1bmN0aW9uKCl7dy5pbmZvKCJzZW5kU29mdHBob25lTWV0cmljcyBzdWNjZXNzIitKU09OLnN0cmluZ2lmeSh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt3LmVycm9yKCJzZW5kU29mdHBob25lTWV0cmljcyBmYWlsZWQuIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pfSxZPWZ1bmN0aW9uKGUpe0k9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2UuZ2V0VXNlckF1ZGlvU3RhdHMoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1oLG49UShoPWUsdCxjKTtsLnB1c2gobiksWihuKX0pLChmdW5jdGlvbihlKXt3LmRlYnVnKCJGYWlsZWQgdG8gZ2V0IHVzZXIgYXVkaW8gc3RhdHMuIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLGUuZ2V0UmVtb3RlQXVkaW9TdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWYsbj1RKGY9ZSx0LHUpO2wucHVzaChuKSxaKG4pfSksKGZ1bmN0aW9uKGUpe3cuZGVidWcoIkZhaWxlZCB0byBnZXQgcmVtb3RlIGF1ZGlvIHN0YXRzLiIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pLDFlMyl9LFg9ZnVuY3Rpb24oZSl7VD13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7SyhlKX0pLDNlNCl9LEo9ZnVuY3Rpb24oKXtoPW51bGwsZj1udWxsLGw9W10scD1bXSxkPVtdLEk9bnVsbCxUPW51bGwsZz0wLG09MCx2PTAseT0wLGI9MH0sUT1mdW5jdGlvbihlLHQsbil7aWYodCYmZSl7dmFyIHI9ZS5wYWNrZXRzTG9zdD50LnBhY2tldHNMb3N0P2UucGFja2V0c0xvc3QtdC5wYWNrZXRzTG9zdDowLG89ZS5wYWNrZXRzQ291bnQ+dC5wYWNrZXRzQ291bnQ/ZS5wYWNrZXRzQ291bnQtdC5wYWNrZXRzQ291bnQ6MDtyZXR1cm4gJChvLG4pLGVlKGUuYXVkaW9MZXZlbCxuKSxuZXcgcmUoZS50aW1lc3RhbXAscixvLG4sZS5hdWRpb0xldmVsLGUuamJNaWxsaXNlY29uZHMsZS5ydHRNaWxsaXNlY29uZHMpfXJldHVybiBuZXcgcmUoZS50aW1lc3RhbXAsZS5wYWNrZXRzTG9zdCxlLnBhY2tldHNDb3VudCxuLGUuYXVkaW9MZXZlbCxlLmpiTWlsbGlzZWNvbmRzLGUucnR0TWlsbGlzZWNvbmRzKX0sWj1mdW5jdGlvbihlKXtpZihlLnNvZnRwaG9uZVN0cmVhbVR5cGU9PT1jKXtmb3IoO3AubGVuZ3RoPj0xMDgwMDspcC5zaGlmdCgpO3AucHVzaChlKX1lbHNlIGlmKGUuc29mdHBob25lU3RyZWFtVHlwZT09PXUpe2Zvcig7ZC5sZW5ndGg+PTEwODAwOylkLnNoaWZ0KCk7ZC5wdXNoKGUpfX0sJD1mdW5jdGlvbihlLHQpe3Q9PT1jPyhiKyssZTw9MD9nKys6Zz0wKTp0PT09dSYmKGU8PTA/disrOnY9MCl9LGVlPWZ1bmN0aW9uKGUsdCl7dD09PWM/bnVsbCE9PWUmJmU8PTE/bSsrOm09MDp0PT09dSYmKG51bGwhPT1lJiZlPD0xP3krKzp5PTApfSx0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJndpbmRvdy5jbGVhckludGVydmFsKGUpLG51bGx9LG5lPWZ1bmN0aW9uKGUsbyl7ST10ZShJKSxUPXRlKFQpLGZ1bmN0aW9uKGUsbyxpLGEpe28uc3RyZWFtU3RhdHM9W29lKGksYyksb2UoYSx1KV07dmFyIHM9e2NhbGxTdGFydFRpbWU6by5zZXNzaW9uU3RhcnRUaW1lLGNhbGxFbmRUaW1lOm8uc2Vzc2lvbkVuZFRpbWUsZ3VtVGltZU1pbGxpczpvLmd1bVRpbWVNaWxsaXMsaW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzOm8uaW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzLGljZUNvbGxlY3Rpb25UaW1lTWlsbGlzOm8uaWNlQ29sbGVjdGlvblRpbWVNaWxsaXMsc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzOm8uc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzLGhhbmRzaGFraW5nVGltZU1pbGxpczpvLmhhbmRzaGFraW5nVGltZU1pbGxpcyxwcmVUYWxraW5nVGltZU1pbGxpczpvLnByZVRhbGtpbmdUaW1lTWlsbGlzLHRhbGtpbmdUaW1lTWlsbGlzOm8udGFsa2luZ1RpbWVNaWxsaXMsY2xlYW51cFRpbWVNaWxsaXM6by5jbGVhbnVwVGltZU1pbGxpcyxpY2VDb2xsZWN0aW9uRmFpbHVyZTpvLmljZUNvbGxlY3Rpb25GYWlsdXJlLHNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZTpvLnNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZSxoYW5kc2hha2luZ0ZhaWx1cmU6by5oYW5kc2hha2luZ0ZhaWx1cmUsZ3VtT3RoZXJGYWlsdXJlOm8uZ3VtT3RoZXJGYWlsdXJlLGd1bVRpbWVvdXRGYWlsdXJlOm8uZ3VtVGltZW91dEZhaWx1cmUsY3JlYXRlT2ZmZXJGYWlsdXJlOm8uY3JlYXRlT2ZmZXJGYWlsdXJlLHNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlOm8uc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmUsdXNlckJ1c3lGYWlsdXJlOm8udXNlckJ1c3lGYWlsdXJlLGludmFsaWRSZW1vdGVTRFBGYWlsdXJlOm8uaW52YWxpZFJlbW90ZVNEUEZhaWx1cmUsbm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlOm8ubm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlLHNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZTpvLnNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOm8uc3RyZWFtU3RhdHN9O2Uuc2VuZFNvZnRwaG9uZVJlcG9ydChzLHtzdWNjZXNzOmZ1bmN0aW9uKCl7dy5pbmZvKCJzZW5kU29mdHBob25lUmVwb3J0IHN1Y2Nlc3MiK0pTT04uc3RyaW5naWZ5KHMpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3cuZXJyb3IoInNlbmRTb2Z0cGhvbmVSZXBvcnQgZmFpbGVkLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KTt2YXIgbD17QVVESU9fSU5QVVQ6e3BhY2tldHNDb3VudDpwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0NvdW50fSkpLHBhY2tldHNMb3N0OnAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYWNrZXRzTG9zdH0pKSxhdWRpb0xldmVsOnAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hdWRpb0xldmVsfSkpLGppdHRlckJ1ZmZlck1pbGxpczpwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaml0dGVyQnVmZmVyTWlsbGlzfSkpfSxBVURJT19PVVRQVVQ6e3BhY2tldHNDb3VudDpkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0NvdW50fSkpLHBhY2tldHNMb3N0OmQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYWNrZXRzTG9zdH0pKSxhdWRpb0xldmVsOmQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hdWRpb0xldmVsfSkpLGppdHRlckJ1ZmZlck1pbGxpczpkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaml0dGVyQnVmZmVyTWlsbGlzfSkpLHJvdW5kVHJpcFRpbWVNaWxsaXM6ZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJvdW5kVHJpcFRpbWVNaWxsaXN9KSl9fSxoPW4obih7fSxzKSx7fSx7c29mdHBob25lU3RyZWFtUGVyU2Vjb25kU3RhdGlzdGljczpsLGljZUNvbm5lY3Rpb25zTG9zdDpvLmljZUNvbm5lY3Rpb25zTG9zdCxpY2VDb25uZWN0aW9uc0ZhaWxlZDpvLmljZUNvbm5lY3Rpb25zRmFpbGVkfHxudWxsLHBlZXJDb25uZWN0aW9uRmFpbGVkOm8ucGVlckNvbm5lY3Rpb25GYWlsZWR8fG51bGwscnRjSnNWZXJzaW9uOm8ucnRjSnNWZXJzaW9ufHxudWxsLGNvbnNlY3V0aXZlTm9BdWRpb0lucHV0UGFja2V0czpnLGNvbnNlY3V0aXZlTG93SW5wdXRBdWRpb0xldmVsOm0sY29uc2VjdXRpdmVOb0F1ZGlvT3V0cHV0UGFja2V0czp2LGNvbnNlY3V0aXZlTG93T3V0cHV0QXVkaW9MZXZlbDp5LGF1ZGlvSW5wdXRDb25uZWN0ZWREdXJhdGlvblNlY29uZHM6YixjY3BNZWRpYVJlYWR5TGF0ZW5jeU1pbGxpczowLGNvbnRhY3RTdWJ0eXBlOmUuZ2V0Q29udGFjdFN1YnR5cGUoKSxlYXJseUd1bUVuYWJsZWQ6RSxlYXJseUd1bVdvcmtlZDpTLHZkaVBsYXRmb3JtOkN8fG51bGwsc3RyZWFtSnNWZXJzaW9uOnIudmVyc2lvbn0pO3IucHVibGlzaFNvZnRwaG9uZVJlcG9ydCh7Y29udGFjdElkOmUuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjp0LmNjcFZlcnNpb24scmVwb3J0Omh9KSx3LmluZm8oInNlbnQgVGVsZW1ldHJ5Q2FsbFJlcG9ydCAiK0pTT04uc3RyaW5naWZ5KGgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfShlLG8sb2UoaCxjKSxvZShmLHUpKSxLKGUpfSxyZT1mdW5jdGlvbihlLHQsbixyLG8saSxhKXt0aGlzLnNvZnRwaG9uZVN0cmVhbVR5cGU9cix0aGlzLnRpbWVzdGFtcD1lLHRoaXMucGFja2V0c0xvc3Q9dCx0aGlzLnBhY2tldHNDb3VudD1uLHRoaXMuYXVkaW9MZXZlbD1vLHRoaXMuaml0dGVyQnVmZmVyTWlsbGlzPWksdGhpcy5yb3VuZFRyaXBUaW1lTWlsbGlzPWF9LG9lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyByZSgoZT1lfHx7fSkudGltZXN0YW1wLGUucGFja2V0c0xvc3QsZS5wYWNrZXRzQ291bnQsdCxlLmF1ZGlvTGV2ZWwpfSxpZT1mdW5jdGlvbihlKXt0aGlzLl9vcmlnaW5hbExvZ2dlcj1lO3ZhciB0PXRoaXM7dGhpcy5fdGVlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzWzBdKSxvPSIiO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKCl7bys9IiAlcyJ9KSksbi5hcHBseSh0Ll9vcmlnaW5hbExvZ2dlcixbci5Mb2dDb21wb25lbnQuU09GVFBIT05FLG9dLmNvbmNhdChlKSl9fX07aWUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSgxLHRoaXMuX29yaWdpbmFsTG9nZ2VyLmRlYnVnKShhcmd1bWVudHMpfSxpZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMix0aGlzLl9vcmlnaW5hbExvZ2dlci5pbmZvKShhcmd1bWVudHMpfSxpZS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSgzLHRoaXMuX29yaWdpbmFsTG9nZ2VyLmxvZykoYXJndW1lbnRzKX0saWUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDQsdGhpcy5fb3JpZ2luYWxMb2dnZXIud2FybikoYXJndW1lbnRzKX0saWUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSg1LHRoaXMuX29yaWdpbmFsTG9nZ2VyLmVycm9yKShhcmd1bWVudHMpfSxyLlNvZnRwaG9uZU1hbmFnZXI9TH0oKX0sMzQ0OigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FjaGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzWzBdKXx8KHQuY2FjaGVbYXJndW1lbnRzWzBdXT10LnBhcnNlKGFyZ3VtZW50c1swXSkpLHQuZm9ybWF0LmNhbGwobnVsbCx0LmNhY2hlW2FyZ3VtZW50c1swXV0sYXJndW1lbnRzKX07ZnVuY3Rpb24gbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj1bXTt0PjA7blstLXRdPWUpO3JldHVybiBuLmpvaW4oIiIpfXQuZm9ybWF0PWZ1bmN0aW9uKGUsbyl7dmFyIGksYSxzLGMsdSxsLHAsZD0xLGg9ZS5sZW5ndGgsZj0iIixnPVtdO2ZvcihhPTA7YTxoO2ErKylpZigic3RyaW5nIj09PShmPW4oZVthXSkpKWcucHVzaChlW2FdKTtlbHNlIGlmKCJhcnJheSI9PT1mKXtpZigoYz1lW2FdKVsyXSlmb3IoaT1vW2RdLHM9MDtzPGNbMl0ubGVuZ3RoO3MrKyl7aWYoIWkuaGFzT3duUHJvcGVydHkoY1syXVtzXSkpdGhyb3cgdCgnW3NwcmludGZdIHByb3BlcnR5ICIlcyIgZG9lcyBub3QgZXhpc3QnLGNbMl1bc10pO2k9aVtjWzJdW3NdXX1lbHNlIGk9Y1sxXT9vW2NbMV1dOm9bZCsrXTtpZigvW15zXS8udGVzdChjWzhdKSYmIm51bWJlciIhPW4oaSkpdGhyb3cgdCgiW3NwcmludGZdIGV4cGVjdGluZyBudW1iZXIgYnV0IGZvdW5kICVzIixuKGkpKTtzd2l0Y2goY1s4XSl7Y2FzZSJiIjppPWkudG9TdHJpbmcoMik7YnJlYWs7Y2FzZSJjIjppPVN0cmluZy5mcm9tQ2hhckNvZGUoaSk7YnJlYWs7Y2FzZSJkIjppPXBhcnNlSW50KGksMTApO2JyZWFrO2Nhc2UiZSI6aT1jWzddP2kudG9FeHBvbmVudGlhbChjWzddKTppLnRvRXhwb25lbnRpYWwoKTticmVhaztjYXNlImYiOmk9Y1s3XT9wYXJzZUZsb2F0KGkpLnRvRml4ZWQoY1s3XSk6cGFyc2VGbG9hdChpKTticmVhaztjYXNlIm8iOmk9aS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOmk9KGk9U3RyaW5nKGkpKSYmY1s3XT9pLnN1YnN0cmluZygwLGNbN10pOmk7YnJlYWs7Y2FzZSJ1IjppPj4+PTA7YnJlYWs7Y2FzZSJ4IjppPWkudG9TdHJpbmcoMTYpO2JyZWFrO2Nhc2UiWCI6aT1pLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWk9L1tkZWZdLy50ZXN0KGNbOF0pJiZjWzNdJiZpPj0wPyIrIitpOmksbD1jWzRdPyIwIj09Y1s0XT8iMCI6Y1s0XS5jaGFyQXQoMSk6IiAiLHA9Y1s2XS1TdHJpbmcoaSkubGVuZ3RoLHU9Y1s2XT9yKGwscCk6IiIsZy5wdXNoKGNbNV0/aSt1OnUraSl9cmV0dXJuIGcuam9pbigiIil9LHQuY2FjaGU9e30sdC5wYXJzZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSxuPVtdLHI9W10sbz0wO3Q7KXtpZihudWxsIT09KG49L15bXlx4MjVdKy8uZXhlYyh0KSkpci5wdXNoKG5bMF0pO2Vsc2UgaWYobnVsbCE9PShuPS9eXHgyNXsyfS8uZXhlYyh0KSkpci5wdXNoKCIlIik7ZWxzZXtpZihudWxsPT09KG49L15ceDI1KD86KFsxLTldXGQqKVwkfFwoKFteXCldKylcKSk/KFwrKT8oMHwnW14kXSk/KC0pPyhcZCspPyg/OlwuKFxkKykpPyhbYi1mb3N1eFhdKS8uZXhlYyh0KSkpdGhyb3ciW3NwcmludGZdIGh1aD8iO2lmKG5bMl0pe298PTE7dmFyIGk9W10sYT1uWzJdLHM9W107aWYobnVsbD09PShzPS9eKFthLXpfXVthLXpfXGRdKikvaS5leGVjKGEpKSl0aHJvdyJbc3ByaW50Zl0gaHVoPyI7Zm9yKGkucHVzaChzWzFdKTsiIiE9PShhPWEuc3Vic3RyaW5nKHNbMF0ubGVuZ3RoKSk7KWlmKG51bGwhPT0ocz0vXlwuKFthLXpfXVthLXpfXGRdKikvaS5leGVjKGEpKSlpLnB1c2goc1sxXSk7ZWxzZXtpZihudWxsPT09KHM9L15cWyhcZCspXF0vLmV4ZWMoYSkpKXRocm93IltzcHJpbnRmXSBodWg/IjtpLnB1c2goc1sxXSl9blsyXT1pfWVsc2Ugb3w9MjtpZigzPT09byl0aHJvdyJbc3ByaW50Zl0gbWl4aW5nIHBvc2l0aW9uYWwgYW5kIG5hbWVkIHBsYWNlaG9sZGVycyBpcyBub3QgKHlldCkgc3VwcG9ydGVkIjtyLnB1c2gobil9dD10LnN1YnN0cmluZyhuWzBdLmxlbmd0aCl9cmV0dXJuIHJ9LGUuc3ByaW50Zj10LGUudnNwcmludGY9ZnVuY3Rpb24oZSxuLHIpe3JldHVybihyPW4uc2xpY2UoMCkpLnNwbGljZSgwLDAsZSksdC5hcHBseShudWxsLHIpfX0oKX0sNDMxOigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuKG8ua2V5KSxvKX19ZnVuY3Rpb24gbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBvKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG8oZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byhlLHQpOnZvaWQgMH19KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uLGUubGlseT1uO3ZhciBvPWZ1bmN0aW9uKCl7fTtvLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBuLk5vdEltcGxlbWVudGVkRXJyb3J9LG8ucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aHJvdyBuZXcgbi5Ob3RJbXBsZW1lbnRlZEVycm9yfTt2YXIgaT1mdW5jdGlvbigpe28uY2FsbCh0aGlzKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7fTt2YXIgYT1mdW5jdGlvbihlLHQpe28uY2FsbCh0aGlzKSx0aGlzLndpbmRvdz1lLHRoaXMuZG9tYWluPXR8fCIqIn07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy53aW5kb3cucG9zdE1lc3NhZ2UoZSx0aGlzLmRvbWFpbil9LGEucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKX07dmFyIHM9ZnVuY3Rpb24oZSx0LG4pe28uY2FsbCh0aGlzKSx0aGlzLmlucHV0PWUsdGhpcy5vdXRwdXQ9dCx0aGlzLmRvbWFpbj1ufHwiKiJ9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cyxzLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMub3V0cHV0LnBvc3RNZXNzYWdlKGUsdGhpcy5kb21haW4pfSxzLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihuKXtuLnNvdXJjZT09PXQub3V0cHV0JiZlKG4pfSkpfTt2YXIgYz1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyksdGhpcy5wb3J0PWUsdGhpcy5pZD1uLnJhbmRvbUlkKCl9OyhjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMucG9ydC5wb3N0TWVzc2FnZShlKX0sYy5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMucG9ydC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKX0sYy5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH07dmFyIHU9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMpLHRoaXMuc3RyZWFtTWFwPWU/bi5pbmRleChlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRJZCgpfSkpOnt9LHRoaXMubWVzc2FnZUxpc3RlbmVycz1bXX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5nZXRTdHJlYW1zKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3Quc2VuZChlKX1jYXRjaChlKXt9fSkpfSx1LnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5tZXNzYWdlTGlzdGVuZXJzLnB1c2goZSksdGhpcy5nZXRTdHJlYW1zKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5vbk1lc3NhZ2UoZSl9KSl9LHUucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLnN0cmVhbU1hcFtlLmdldElkKCldPWUsdGhpcy5tZXNzYWdlTGlzdGVuZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Uub25NZXNzYWdlKHQpfSkpfSx1LnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuc3RyZWFtTWFwW2UuZ2V0SWQoKV19LHUucHJvdG90eXBlLmdldFN0cmVhbXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4udmFsdWVzKHRoaXMuc3RyZWFtTWFwKX0sdS5wcm90b3R5cGUuZ2V0U3RyZWFtRm9yUG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gbi5maW5kKHRoaXMuZ2V0U3RyZWFtcygpLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3J0PT09ZX0pKX07dmFyIGw9ZnVuY3Rpb24oZSx0LG8pe3RoaXMubmFtZT1lLHRoaXMudXBzdHJlYW09dHx8bmV3IGksdGhpcy5kb3duc3RyZWFtPW98fG5ldyBpLHRoaXMuZG93bnN0cmVhbUJ1cz1uZXcgbi5FdmVudEJ1cyx0aGlzLnVwc3RyZWFtQnVzPW5ldyBuLkV2ZW50QnVzLHRoaXMudXBzdHJlYW0ub25NZXNzYWdlKG4uaGl0Y2godGhpcyx0aGlzLl9kaXNwYXRjaEV2ZW50LHRoaXMudXBzdHJlYW1CdXMpKSx0aGlzLmRvd25zdHJlYW0ub25NZXNzYWdlKG4uaGl0Y2godGhpcyx0aGlzLl9kaXNwYXRjaEV2ZW50LHRoaXMuZG93bnN0cmVhbUJ1cykpLHRoaXMuYWN0aXZlPSEwLHRoaXMuYWxsb3dlZEV2ZW50cz1bXS5jb25jYXQocihPYmplY3QuZW50cmllcyhuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV19KSkpLFtuLkV2ZW50VHlwZS5DT05GSUdVUkUsbi5FdmVudFR5cGUuU1lOQ0hST05JWkUsbi5FdmVudFR5cGUuQUNLTk9XTEVER0Usbi5FdmVudFR5cGUuTE9HLG4uRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csbi5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQXSl9O2wucHJvdG90eXBlLm9uVXBzdHJlYW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLG4uYXNzZXJ0Tm90TnVsbCh0LCJmIiksbi5hc3NlcnRUcnVlKG4uaXNGdW5jdGlvbih0KSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnVwc3RyZWFtQnVzLnN1YnNjcmliZShlLHQpfSxsLnByb3RvdHlwZS5vbkFsbFVwc3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24oZSksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy51cHN0cmVhbUJ1cy5zdWJzY3JpYmVBbGwoZSl9LGwucHJvdG90eXBlLm9uRG93bnN0cmVhbT1mdW5jdGlvbihlLHQpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksbi5hc3NlcnROb3ROdWxsKHQsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKHQpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuZG93bnN0cmVhbUJ1cy5zdWJzY3JpYmUoZSx0KX0sbC5wcm90b3R5cGUub25BbGxEb3duc3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24oZSksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5kb3duc3RyZWFtQnVzLnN1YnNjcmliZUFsbChlKX0sbC5wcm90b3R5cGUuc2VuZFVwc3RyZWFtPWZ1bmN0aW9uKGUsdCl7bi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHRoaXMudXBzdHJlYW0uc2VuZCh7ZXZlbnQ6ZSxkYXRhOnR9KX0sbC5wcm90b3R5cGUuc2VuZERvd25zdHJlYW09ZnVuY3Rpb24oZSx0KXtuLmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksdGhpcy5kb3duc3RyZWFtLnNlbmQoe2V2ZW50OmUsZGF0YTp0fSl9LGwucHJvdG90eXBlLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5kYXRhO24uZXZlbnQmJmUudHJpZ2dlcihuLmV2ZW50LG4uZGF0YSl9LGwucHJvdG90eXBlLnBhc3NVcHN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQscil7ZS5hY3RpdmV8fGUuYWxsb3dlZEV2ZW50cy5pbmNsdWRlcyhyKT9lLnVwc3RyZWFtLnNlbmQoe2V2ZW50OnIsZGF0YTp0fSk6bi5nZXRMb2coKS5kZWJ1ZygiW0dSXSBDb25kdWl0ICIuY29uY2F0KGUubmFtZSwiIGhhcyBibG9ja2VkIGV2ZW50ICIpLmNvbmNhdChyLCIgZnJvbSBnb2luZyB1cHN0cmVhbS4iKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LGwucHJvdG90eXBlLnBhc3NEb3duc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxyKXtlLmFjdGl2ZXx8ZS5hbGxvd2VkRXZlbnRzLmluY2x1ZGVzKHIpP2UuZG93bnN0cmVhbS5zZW5kKHtldmVudDpyLGRhdGE6dH0pOm4uZ2V0TG9nKCkuZGVidWcoIltHUl0gQ29uZHVpdCAiLmNvbmNhdChlLm5hbWUsIiBoYXMgYmxvY2tlZCBldmVudCAiKS5jb25jYXQociwiIGZyb20gZ29pbmcgZG93bnN0cmVhbS4iKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LGwucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7dGhpcy51cHN0cmVhbUJ1cy51bnN1YnNjcmliZUFsbCgpLHRoaXMuZG93bnN0cmVhbUJ1cy51bnN1YnNjcmliZUFsbCgpfSxsLnByb3RvdHlwZS5zZXRBY3RpdmU9ZnVuY3Rpb24oKXtuLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBDQ1AgY29uZHVpdCBhcyBhY3RpdmUiKSx0aGlzLmFjdGl2ZT0hMH0sbC5wcm90b3R5cGUuc2V0SW5hY3RpdmU9ZnVuY3Rpb24oKXtuLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBDQ1AgY29uZHVpdCBhcyBpbmFjdGl2ZSIpLHRoaXMuYWN0aXZlPSExfTt2YXIgcD1mdW5jdGlvbihlLHQsbixyKXtsLmNhbGwodGhpcyxlLG5ldyBzKHQsbi5jb250ZW50V2luZG93LHJ8fCIqIiksbnVsbCl9OyhwLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cDt2YXIgZD1mdW5jdGlvbigpe3JldHVybiBlPWZ1bmN0aW9uIGUodCxuLHIpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpO3ZhciBvPW5ldyBVUkwocikub3JpZ2luO3RoaXMuYWN0aXZlUmVnaW9uVXJsPW8sdGhpcy5jb25kdWl0cz1uLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49bmV3IHAoZS5zcmMsdCxlKTtuLmlmcmFtZT1lO3ZhciByPW5ldyBVUkwoZS5zcmMpLm9yaWdpbjtyZXR1cm4gbi5uYW1lPXIsbn0pKSx0aGlzLnNldEFjdGl2ZUNvbmR1aXQobyl9LChyPVt7a2V5OiJvblVwc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gbi5vblVwc3RyZWFtKGUsdCl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToib25BbGxVcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb25kdWl0cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uQWxsVXBzdHJlYW0oZSl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToib25Eb3duc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gbi5vbkRvd25zdHJlYW0oZSx0KX0pKTtyZXR1cm57dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS51bnN1YnNjcmliZSgpfSkpfX19fSx7a2V5OiJvbkFsbERvd25zdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vbkFsbERvd25zdHJlYW0oZSl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToic2VuZFVwc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY29uZHVpdHMuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5zZW5kVXBzdHJlYW0oZSx0KX0pKX19LHtrZXk6InNlbmREb3duc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY29uZHVpdHMuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5zZW5kRG93bnN0cmVhbShlLHQpfSkpfX0se2tleToicmVsYXlVcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKHIpe3Iub25VcHN0cmVhbShlLChmdW5jdGlvbihvKXt2YXIgaT10LmdldE90aGVyQ29uZHVpdChyKTtpLnNlbmRVcHN0cmVhbShlLG8pLG4uZ2V0TG9nKCkuaW5mbygiUmVsYXllZCBldmVudCAiLmNvbmNhdChlLCIgZnJvbSAiKS5jb25jYXQoci5uYW1lLCIgdG8gIikuY29uY2F0KGkubmFtZSwiIHNoYXJlZCB3b3JrZXIiKSkud2l0aE9iamVjdCh7ZGF0YTpvfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pKX19LHtrZXk6ImdldEFsbENvbmR1aXRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmR1aXRzfX0se2tleToic2V0QWN0aXZlQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpPyh0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe24ubmFtZT09PWUmJih0LmFjdGl2ZVJlZ2lvblVybD1lLHQubmFtZT1uLm5hbWUsdC51cHN0cmVhbT1uLnVwc3RyZWFtLHQuZG93bnN0cmVhbT1uLmRvd25zdHJlYW0sdC51cHN0cmVhbUJ1cz1uLnVwc3RyZWFtQnVzLHQuZG93bnN0cmVhbUJ1cz1uLmRvd25zdHJlYW1CdXMpfSkpLG4uZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hlZCB0byBhY3RpdmUgY29uZHVpdCAiLmNvbmNhdCh0aGlzLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6bi5nZXRMb2coKS5lcnJvcigiW0dSXSBObyBjb25kdWl0IGZvdW5kIHdpdGggdGhlIGdpdmVuIGNjcFVybDogIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx7a2V5OiJnZXRBY3RpdmVDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUuYWN0aXZlUmVnaW9uVXJsfSkpfX0se2tleToiZ2V0SW5hY3RpdmVDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZSE9PWUuYWN0aXZlUmVnaW9uVXJsfSkpfX0se2tleToiZ2V0T3RoZXJDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gZS5uYW1lIT09dC5uYW1lfSkpfX0se2tleToiZ2V0Q29uZHVpdEJ5UmVnaW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWdpb249PT1lfSkpfX0se2tleToiZ2V0Q29uZHVpdEJ5TmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSl9fV0pJiZ0KGUucHJvdG90eXBlLHIpLG8mJnQoZSxvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlO3ZhciBlLHIsb30oKTtuLlN0cmVhbT1vLG4uTnVsbFN0cmVhbT1pLG4uV2luZG93U3RyZWFtPWEsbi5XaW5kb3dJT1N0cmVhbT1zLG4uUG9ydFN0cmVhbT1jLG4uU3RyZWFtTXVsdGlwbGV4ZXI9dSxuLkNvbmR1aXQ9bCxuLklGcmFtZUNvbmR1aXQ9cCxuLkdSUHJveHlJZnJhbWVDb25kdWl0PWR9KCl9LDgzMDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10O3ZhciBuPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJ0b1N0YXRlIiksdGhpcy5mcm9tU3RhdGU9ZSx0aGlzLnRvU3RhdGU9bn07bi5wcm90b3R5cGUuZ2V0QXNzb2NpYXRpb25zPWZ1bmN0aW9uKGUpe3Rocm93IHQuTm90SW1wbGVtZW50ZWRFcnJvcigpfSxuLnByb3RvdHlwZS5nZXRGcm9tU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcm9tU3RhdGV9LG4ucHJvdG90eXBlLmdldFRvU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0YXRlfTt2YXIgcj1mdW5jdGlvbihlLHIsbyl7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIiksdC5hc3NlcnROb3ROdWxsKG8sImFzc29jaWF0aW9ucyIpLG4uY2FsbCh0aGlzLGUsciksdGhpcy5hc3NvY2lhdGlvbnM9b307KHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hc3NvY2lhdGlvbnN9O3ZhciBvPWZ1bmN0aW9uKGUscixvKXt0LmFzc2VydE5vdE51bGwoZSwiZnJvbVN0YXRlIiksdC5hc3NlcnROb3ROdWxsKHIsInRvU3RhdGUiKSx0LmFzc2VydE5vdE51bGwobywiY2xvc3VyZSIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obyksImNsb3N1cmUgbXVzdCBiZSBhIGZ1bmN0aW9uIiksbi5jYWxsKHRoaXMsZSxyKSx0aGlzLmNsb3N1cmU9b307KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zdXJlKGUsdGhpcy5nZXRGcm9tU3RhdGUoKSx0aGlzLmdldFRvU3RhdGUoKSl9O3ZhciBpPWZ1bmN0aW9uKCl7dGhpcy5mcm9tTWFwPXt9fTtpLkFOWT0iPDxhbnk+PiIsaS5wcm90b3R5cGUuYXNzb2M9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJmcm9tU3RhdGVPYmogaXMgbm90IGRlZmluZWQuIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJ0b1N0YXRlT2JqIGlzIG5vdCBkZWZpbmVkLiIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiYXNzb2NPYmogaXMgbm90IGRlZmluZWQuIik7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9lLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuYXNzb2MoZSx0LG4pfSkpOnQgaW5zdGFuY2VvZiBBcnJheT90LmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuYXNzb2MoZSx0LG4pfSkpOiJmdW5jdGlvbiI9PXR5cGVvZiBuP3RoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyBvKGUsdCxuKSk6biBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyByKGUsdCxuKSk6dGhpcy5fYWRkQXNzb2NpYXRpb24obmV3IHIoZSx0LFtuXSkpLHRoaXN9LGkucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlLG4scil7dC5hc3NlcnROb3ROdWxsKG4sImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIik7dmFyIG89W10sYT10aGlzLmZyb21NYXBbaS5BTlldfHx7fSxzPXRoaXMuZnJvbU1hcFtuXXx8e307cmV0dXJuIG89KG89by5jb25jYXQodGhpcy5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcChhLGUsbixyKSkpLmNvbmNhdCh0aGlzLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwKHMsZSxuLHIpKX0saS5wcm90b3R5cGUuX2FkZEFzc29jaWF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZnJvbU1hcFtlLmdldEZyb21TdGF0ZSgpXTt0fHwodD10aGlzLmZyb21NYXBbZS5nZXRGcm9tU3RhdGUoKV09e30pO3ZhciBuPXRbZS5nZXRUb1N0YXRlKCldO258fChuPXRbZS5nZXRUb1N0YXRlKCldPVtdKSxuLnB1c2goZSl9LGkucHJvdG90eXBlLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybihlW2kuQU5ZXXx8W10pLmNvbmNhdChlW3JdfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlLmNvbmNhdChuLmdldEFzc29jaWF0aW9ucyh0KSl9KSxbXSl9LHQuRXZlbnRHcmFwaD1pfSgpfSw2MDooKT0+e2Z1bmN0aW9uIGUoKXsidXNlIHN0cmljdCI7ZT1mdW5jdGlvbigpe3JldHVybiBufTt2YXIgdCxuPXt9LHI9T2JqZWN0LnByb3RvdHlwZSxvPXIuaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2godCl7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19bi53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBFKCl7fWZ1bmN0aW9uIFMoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PXImJm8uY2FsbChULGMpJiYoQz1UKTt2YXIgdz1TLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8oZSx0KXtmdW5jdGlvbiBuKHIsYSxzLGMpe3ZhciB1PWgoZVtyXSxlLGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PWkocCkmJm8uY2FsbChwLCJfX2F3YWl0Iik/dC5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7bigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe24oInRocm93IixlLHMsYyl9KSk6dC5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBuKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciByO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUsbyl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxyKXtuKGUsbyx0LHIpfSkpfXJldHVybiByPXI/ci50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIoZSxuLHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TyhzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgoZSxuLHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIE8oZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD0icmV0dXJuIixuLmFyZz10LE8oZSxuKSwidGhyb3ciPT09bi5tZXRob2QpfHwicmV0dXJuIiE9PXImJihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwseSk6YToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBMKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChMLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAoZSl7aWYoZXx8IiI9PT1lKXt2YXIgbj1lW2NdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciByPS0xLGE9ZnVuY3Rpb24gbigpe2Zvcig7KytyPGUubGVuZ3RoOylpZihvLmNhbGwoZSxyKSlyZXR1cm4gbi52YWx1ZT1lW3JdLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPXQsbi5kb25lPSEwLG59O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihpKGUpKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIEUucHJvdG90eXBlPVMsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksYShTLCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksRS5kaXNwbGF5TmFtZT1wKFMsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxuLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PUV8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LG4ubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLFMpOihlLl9fcHJvdG9fXz1TLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LG4uYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxuLkFzeW5jSXRlcmF0b3I9XyxuLmFzeW5jPWZ1bmN0aW9uKGUsdCxyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLHQscixvKSxpKTtyZXR1cm4gbi5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxuLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sbi52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIWUpZm9yKHZhciBuIGluIHRoaXMpInQiPT09bi5jaGFyQXQoMCkmJm8uY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9by5jYWxsKGEsImNhdGNoTG9jIiksdT1vLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmby5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIGk9cjticmVha319aSYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJmkudHJ5TG9jPD10JiZ0PD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LGk/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UChlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHl9fSxufWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9aShlKXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09aSh0KT90OnQrIiJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIG8oZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiBpKGUpe3JldHVybiBpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxpKGUpfSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMscj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1yLHQubGlseT1yO3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQscz1bImJ1YmJsZXMiLCJjYW5jZWxCdWJibGUiLCJjYW5jZWxhYmxlIiwiY29tcG9zZWQiLCJkYXRhIiwiZGVmYXVsdFByZXZlbnRlZCIsImV2ZW50UGhhc2UiLCJpc1RydXN0ZWQiLCJsYXN0RXZlbnRJZCIsIm9yaWdpbiIsInJldHVyblZhbHVlIiwidGltZVN0YW1wIiwidHlwZSJdO3Iuc3ByaW50Zj10LnNwcmludGYsci52c3ByaW50Zj10LnZzcHJpbnRmLGRlbGV0ZSB0LnNwcmludGYsZGVsZXRlIHQudnNwcmludGYsci5IVFRQX1NUQVRVU19DT0RFUz17U1VDQ0VTUzoyMDAsVU5BVVRIT1JJWkVEOjQwMSxBQ0NFU1NfREVOSUVEOjQwMyxUT09fTUFOWV9SRVFVRVNUUzo0MjksSU5URVJOQUxfU0VSVkVSX0VSUk9SOjUwMH0sci5UUkFOU1BPUlRfVFlQRVM9e0NIQVRfVE9LRU46ImNoYXRfdG9rZW4iLFdFQl9TT0NLRVQ6IndlYl9zb2NrZXQiLEFHRU5UX0RJU0NPVkVSWToiYWdlbnRfZGlzY292ZXJ5IixXRUJfUlRDOiJ3ZWJfcnRjIn0sci5oaXRjaD1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdD1lLnNoaWZ0KCksbj1lLnNoaWZ0KCk7cmV0dXJuIHIuYXNzZXJ0Tm90TnVsbCh0LCJzY29wZSIpLHIuYXNzZXJ0Tm90TnVsbChuLCJtZXRob2QiKSxyLmFzc2VydFRydWUoci5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZnVuY3Rpb24oKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBuLmFwcGx5KHQsZS5jb25jYXQocikpfX0sci5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuY29uc3RydWN0b3ImJmUuY2FsbCYmZS5hcHBseSl9LHIuaXNBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxyLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHIuYXNzZXJ0Tm90TnVsbChlLCJtYXAiKSxlKXQucHVzaChuKTtyZXR1cm4gdH0sci52YWx1ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHIuYXNzZXJ0Tm90TnVsbChlLCJtYXAiKSxlKXQucHVzaChlW25dKTtyZXR1cm4gdH0sci5lbnRyaWVzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaCh7a2V5Om4sdmFsdWU6ZVtuXX0pO3JldHVybiB0fSxyLm1lcmdlPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5lbnRyaWVzKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS5rZXldPWUudmFsdWV9KSl9KSksdH0sci5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sci5maW5kPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYodChlW25dKSlyZXR1cm4gZVtuXTtyZXR1cm4gbnVsbH0sci5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/bnVsbCE9ci5maW5kKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTp0IGluIGV9LHIuY29udGFpbnNWYWx1ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/bnVsbCE9ci5maW5kKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTpudWxsIT1yLmZpbmQoci52YWx1ZXMoZSksKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKX0sci5yYW5kb21JZD1mdW5jdGlvbigpe3JldHVybiByLnNwcmludGYoIiVzLSVzIixyLm5vdygpLE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpKX0sci5tYWtlRW51bT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UoL1wuPyhbYS16XSspXz8vZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpKyJfIn0pKS5yZXBsYWNlKC9fJC8sIiIpO3Rbbl09ZX0pKSx0fSxyLm1ha2VOYW1lc3BhY2VkRW51bT1mdW5jdGlvbihlLHQpe3ZhciBuPXIubWFrZUVudW0odCk7cmV0dXJuIHIua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPXIuc3ByaW50ZigiJXM6OiVzIixlLG5bdF0pfSkpLG59LHIubWFrZUdlbmVyaWNOYW1lc3BhY2VkRW51bT1mdW5jdGlvbihlLHQsbil7dmFyIG89ci5tYWtlRW51bSh0KTtyZXR1cm4gci5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09ci5zcHJpbnRmKCIlcyIrbisiJXMiLGUsb1t0XSl9KSksb30sci5pc0Nocm9tZUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiQ2hyb21lIil9LHIuaXNGaXJlZm94QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09YS5pbmRleE9mKCJGaXJlZm94Iil9LHIuaXNPcGVyYUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiT3BlcmEiKX0sci5pc0VkZ2VCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIkVkZyIpfSxyLmdldENocm9tZUJyb3dzZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9YS5zdWJzdHJpbmcoYS5pbmRleE9mKCJDaHJvbWUiKSs3KTtyZXR1cm4gZT9wYXJzZUZsb2F0KGUpOi0xfSxyLmdldEZpcmVmb3hCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiRmlyZWZveCIpKzgpO3JldHVybiBlP3BhcnNlRmxvYXQoZSk6LTF9LHIuaXNWYWxpZExvY2FsZT1mdW5jdGlvbihlKXtyZXR1cm5be2lkOiJlbl9VUyIsbGFiZWw6IkVuZ2xpc2gifSx7aWQ6ImRlX0RFIixsYWJlbDoiRGV1dHNjaCJ9LHtpZDoiZXNfRVMiLGxhYmVsOiJFc3Bhw7FvbCJ9LHtpZDoiZnJfRlIiLGxhYmVsOiJGcmFuw6dhaXMifSx7aWQ6ImphX0pQIixsYWJlbDoi5pel5pys6KqeIn0se2lkOiJpdF9JVCIsbGFiZWw6Ikl0YWxpYW5vIn0se2lkOiJrb19LUiIsbGFiZWw6Iu2VnOq1reyWtCJ9LHtpZDoicHRfQlIiLGxhYmVsOiJQb3J0dWd1w6pzIn0se2lkOiJ6aF9DTiIsbGFiZWw6IuS4reaWhyjnroDkvZMpIn0se2lkOiJ6aF9UVyIsbGFiZWw6IuS4reaWhyjnuYHpq5QpIn1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkuaW5jbHVkZXMoZSl9LHIuZ2V0T3BlcmFCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEuaW5kZXhPZigiT3BlcmEiKSx0PS0xIT09YS5pbmRleE9mKCJWZXJzaW9uIik/YS5zdWJzdHJpbmcoZSs4KTphLnN1YnN0cmluZyhlKzYpO3JldHVybiB0P3BhcnNlRmxvYXQodCk6LTF9LHIuaW5kZXg9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW3QoZSldPWV9KSksbn0sci5zZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0xfSkpLHR9LHIucmVsYXRpdmVDb21wbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIHIua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihyKXtyIGluIGV8fChuW3JdPXRbcl0pfSkpLG59LHIuYXNzZXJ0VHJ1ZT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyByLlZhbHVlRXJyb3IodCl9LHIuYXNzZXJ0Tm90TnVsbD1mdW5jdGlvbihlLHQpe3JldHVybiByLmFzc2VydFRydWUobnVsbCE9ZSYmdm9pZCAwIT09aShlKSxyLnNwcmludGYoIiVzIG11c3QgYmUgcHJvdmlkZWQiLHR8fCJBIHZhbHVlIikpLGV9LHIuZGVlcGNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpfSxyLmRlZXBjb3B5Q3Jvc3NPcmlnaW5FdmVudD1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gcy5mb3JFYWNoKChmdW5jdGlvbihuKXt0cnl7dFtuXT1lW25dfWNhdGNoKGUpe3IuZ2V0TG9nKCkuaW5mbygiZGVlcGNvcHlDcm9zc09yaWdpbkV2ZW50IGZhaWxlZCBvbiBrZXk6ICIsbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSksci5kZWVwY29weSh0KX0sci5nZXRCYXNlVXJsPWZ1bmN0aW9uKCl7dmFyIGU9dC5sb2NhdGlvbjtyZXR1cm4gci5zcHJpbnRmKCIlcy8vJXM6JXMiLGUucHJvdG9jb2wsZS5ob3N0bmFtZSxlLnBvcnQpfSxyLmdldFVybFdpdGhQcm90b2NvbD1mdW5jdGlvbihlKXt2YXIgbj10LmxvY2F0aW9uLnByb3RvY29sO3JldHVybiBlLnN1YnN0cigwLG4ubGVuZ3RoKSE9PW4/ci5zcHJpbnRmKCIlcy8vJXMiLG4sZSk6ZX0sci5pc0ZyYW1lZD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnNlbGYhPT13aW5kb3cudG9wfWNhdGNoKGUpe3JldHVybiEwfX0sci5oYXNPdGhlckNvbm5lY3RlZENDUHM9ZnVuY3Rpb24oKXtyZXR1cm4gci5udW1iZXJPZkNvbm5lY3RlZENDUHM+MX0sci5mZXRjaD1mdW5jdGlvbihlLHQsbixvKXtyZXR1cm4gbz1vfHw1LG49bnx8MWUzLHQ9dHx8e30sbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksYSl7IWZ1bmN0aW9uIG8ocyl7ZmV0Y2goZSx0KS50aGVuKChmdW5jdGlvbihlKXtlLnN0YXR1cz09PXIuSFRUUF9TVEFUVVNfQ09ERVMuU1VDQ0VTUz9lLmpzb24oKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtyZXR1cm4gaSh7fSl9KSk6MSE9PXMmJihlLnN0YXR1cz49ci5IVFRQX1NUQVRVU19DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1J8fGUuc3RhdHVzPT09ci5IVFRQX1NUQVRVU19DT0RFUy5UT09fTUFOWV9SRVFVRVNUUyk/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtvKC0tcyl9KSxuKTphKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfShvKX0pKX0sci5mZXRjaFdpdGhUaW1lb3V0PWZ1bmN0aW9uKCl7dmFyIHQsaT0odD1lKCkubWFyaygoZnVuY3Rpb24gdChvLGksYSxzLGMpe3ZhciB1LGwscDtyZXR1cm4gZSgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGE9YXx8e30saSl7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHIuZmV0Y2gobyxhLHMsYykpO2Nhc2UgMzpyZXR1cm4gdT1uZXcgQWJvcnRDb250cm9sbGVyLGw9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdS5hYm9ydCgpfSksaSksZS5uZXh0PTcsci5mZXRjaChvLG4obih7fSxhKSx7fSx7c2lnbmFsOnUuc2lnbmFsfSkscyxjKTtjYXNlIDc6cmV0dXJuIHA9ZS5zZW50LGNsZWFyVGltZW91dChsKSxlLmFicnVwdCgicmV0dXJuIixwKTtjYXNlIDEwOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksdCl9KSksZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgYT10LmFwcGx5KGUsbik7ZnVuY3Rpb24gcyhlKXtvKGEscixpLHMsYywibmV4dCIsZSl9ZnVuY3Rpb24gYyhlKXtvKGEscixpLHMsYywidGhyb3ciLGUpfXModm9pZCAwKX0pKX0pO3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8pe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksci5iYWNrb2ZmPWZ1bmN0aW9uKGUsbixvLGkpe3IuYXNzZXJ0VHJ1ZShyLmlzRnVuY3Rpb24oZSksImZ1bmMgbXVzdCBiZSBhIEZ1bmN0aW9uIik7dmFyIGE9dGhpcztlKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kmJmkuc3VjY2VzcyYmaS5zdWNjZXNzKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKHIscyl7aWYobz4wKXt2YXIgYz0yKm4qTWF0aC5yYW5kb20oKTt0LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YS5iYWNrb2ZmKGUsMipjLC0tbyxpKX0pLGMpfWVsc2UgaSYmaS5mYWlsdXJlJiZpLmZhaWx1cmUocixzKX19KX0sci5wdWJsaXNoTWV0cmljPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLkNMSUVOVF9NRVRSSUMsZGF0YTplfSl9LHIucHVibGlzaFNvZnRwaG9uZVN0YXRzPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLlNPRlRQSE9ORV9TVEFUUyxkYXRhOmV9KX0sci5wdWJsaXNoU29mdHBob25lUmVwb3J0PWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLlNPRlRQSE9ORV9SRVBPUlQsZGF0YTplfSl9LHIucHVibGlzaENsaWNrU3RyZWFtRGF0YT1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5DTElDS19TVFJFQU1fREFUQSxkYXRhOmV9KX0sci5wdWJsaXNoQ2xpZW50U2lkZUxvZ3M9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5DTElFTlRfU0lERV9MT0dTLGUpfSxyLmFkZE5hbWVzcGFjZVRvTG9ncz1mdW5jdGlvbihlKXtbImxvZyIsImVycm9yIiwid2FybiIsImluZm8iLCJkZWJ1ZyJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXdpbmRvdy5jb25zb2xlW3RdO3dpbmRvdy5jb25zb2xlW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkuZnJvbShhcmd1bWVudHMpO3QudW5zaGlmdCgiWyIuY29uY2F0KGUsIl0iKSksbi5hcHBseSh3aW5kb3cuY29uc29sZSx0KX19KSl9LHIuUG9wdXBNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bnVsbDtpZihuKXt2YXIgbz1uLmhlaWdodHx8NTc4LGk9bi53aWR0aHx8NDMzLGE9bi50b3B8fDAscz1uLmxlZnR8fDA7KHI9d2luZG93Lm9wZW4oIiIsdCwid2lkdGg9IitpKyIsIGhlaWdodD0iK28rIiwgdG9wPSIrYSsiLCBsZWZ0PSIrcykpLmxvY2F0aW9uIT09ZSYmKHI9d2luZG93Lm9wZW4oZSx0LCJ3aWR0aD0iK2krIiwgaGVpZ2h0PSIrbysiLCB0b3A9IithKyIsIGxlZnQ9IitzKSl9ZWxzZShyPXdpbmRvdy5vcGVuKCIiLHQpKS5sb2NhdGlvbiE9PWUmJihyPXdpbmRvdy5vcGVuKGUsdCkpO3JldHVybiByfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fZ2V0TG9jYWxTdG9yYWdlS2V5KGUpO3QubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obil9LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0TGFzdE9wZW5lZFRpbWVzdGFtcD1mdW5jdGlvbihlKXt2YXIgbj10aGlzLl9nZXRMb2NhbFN0b3JhZ2VLZXkoZSkscj10LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pO3JldHVybiByP3BhcnNlSW50KHIsMTApOjB9LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fc2V0TGFzdE9wZW5lZFRpbWVzdGFtcD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuX2dldExvY2FsU3RvcmFnZUtleShlKTt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHIsIiIrbil9LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0TG9jYWxTdG9yYWdlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiJjb25uZWN0UG9wdXBNYW5hZ2VyOjoiK2V9O3ZhciBjPXIubWFrZUVudW0oWyJncmFudGVkIiwiZGVuaWVkIiwiZGVmYXVsdCJdKTtyLk5vdGlmaWNhdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt0aGlzLnF1ZXVlPVtdLHRoaXMucGVybWlzc2lvbj1jLkRFRkFVTFR9LHIuTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUucmVxdWVzdFBlcm1pc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzOyJOb3RpZmljYXRpb24iaW4gdD90Lk5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uPT09Yy5ERU5JRUQ/KHIuZ2V0TG9nKCkud2FybigiVGhlIHVzZXIgaGFzIHJlcXVlc3RlZCB0byBub3QgcmVjZWl2ZSBub3RpZmljYXRpb25zLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5wZXJtaXNzaW9uPWMuREVOSUVEKTp0aGlzLnBlcm1pc3Npb24hPT1jLkdSQU5URUQmJnQuTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbigoZnVuY3Rpb24odCl7ZS5wZXJtaXNzaW9uPXQsdD09PWMuR1JBTlRFRD9lLl9zaG93UXVldWVkKCk6ZS5xdWV1ZT1bXX0pKTooci5nZXRMb2coKS53YXJuKCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IG5vdGlmaWNhdGlvbnMuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnBlcm1pc3Npb249Yy5ERU5JRUQpfSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnBlcm1pc3Npb249PT1jLkdSQU5URUQpcmV0dXJuIHRoaXMuX3Nob3dJbXBsKHt0aXRsZTplLG9wdGlvbnM6dH0pO2lmKHRoaXMucGVybWlzc2lvbj09PWMuREVOSUVEKXIuZ2V0TG9nKCkud2FybigiVW5hYmxlIHRvIHNob3cgbm90aWZpY2F0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7dGl0bGU6ZSxvcHRpb25zOnR9KTtlbHNle3ZhciBuPXt0aXRsZTplLG9wdGlvbnM6dH07ci5nZXRMb2coKS53YXJuKCJEZWZlcnJpbmcgbm90aWZpY2F0aW9uIHVudGlsIHVzZXIgZGVjaWRlcyB0byBhbGxvdyBvciBkZW55LiIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnF1ZXVlLnB1c2gobil9fSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLl9zaG93UXVldWVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucXVldWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2hvd0ltcGwodCl9KSk7cmV0dXJuIHRoaXMucXVldWU9W10sdH0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5fc2hvd0ltcGw9ZnVuY3Rpb24oZSl7dmFyIG49bmV3IHQuTm90aWZpY2F0aW9uKGUudGl0bGUsZS5vcHRpb25zKTtyZXR1cm4gZS5vcHRpb25zLmNsaWNrZWQmJihuLm9uY2xpY2s9ZnVuY3Rpb24oKXtlLm9wdGlvbnMuY2xpY2tlZC5jYWxsKG4pfSksbn0sci5WYWx1ZUVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9ZS5zaGlmdCgpLG49bmV3IEVycm9yKHIudnNwcmludGYodCxlKSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLHIuVmFsdWVFcnJvci5wcm90b3R5cGUpLG59LE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlZhbHVlRXJyb3IucHJvdG90eXBlLEVycm9yLnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuVmFsdWVFcnJvcixFcnJvciksci5WYWx1ZUVycm9yLnByb3RvdHlwZS5uYW1lPSJWYWx1ZUVycm9yIixyLk5vdEltcGxlbWVudGVkRXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD1lLnNoaWZ0KCksbj1uZXcgRXJyb3Ioci52c3ByaW50Zih0LGUpKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5Ob3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZSksbn0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUsRXJyb3IucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5Ob3RJbXBsZW1lbnRlZEVycm9yLEVycm9yKSxyLk5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlLm5hbWU9Ik5vdEltcGxlbWVudGVkRXJyb3IiLHIuU3RhdGVFcnJvcj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PWUuc2hpZnQoKSxuPW5ldyBFcnJvcihyLnZzcHJpbnRmKHQsZSkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YobixyLlN0YXRlRXJyb3IucHJvdG90eXBlKSxufSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5TdGF0ZUVycm9yLnByb3RvdHlwZSxFcnJvci5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlN0YXRlRXJyb3IsRXJyb3IpLHIuU3RhdGVFcnJvci5wcm90b3R5cGUubmFtZT0iU3RhdGVFcnJvciIsci5Wb2ljZUlkRXJyb3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9O3JldHVybiByLnR5cGU9ZSxyLm1lc3NhZ2U9dCxyLnN0YWNrPUVycm9yKHQpLnN0YWNrLHIuZXJyPW4scn0sci5pc0NDUD1mdW5jdGlvbigpe3JldHVybiEhci5jb3JlLnVwc3RyZWFtJiYiQ29ubmVjdFNoYXJlZFdvcmtlckNvbmR1aXQiPT09ci5jb3JlLmdldFVwc3RyZWFtKCkubmFtZX0sci5pc1NoYXJlZFdvcmtlcj1mdW5jdGlvbigpe3JldHVybiByLndvcmtlciYmISFyLndvcmtlci5jbGllbnRFbmdpbmV9LHIuaXNDUk09ZnVuY3Rpb24oKXtyZXR1cm4hIXIuY29yZS51cHN0cmVhbSYmKHIuY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiByLklGcmFtZUNvbmR1aXR8fHIuY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiByLkdSUHJveHlJZnJhbWVDb25kdWl0KX0sci5pc0FjdGl2ZUNvbmR1aXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5jb3JlLmdldFVwc3RyZWFtKCk7cmV0dXJuIHQgaW5zdGFuY2VvZiByLkdSUHJveHlJZnJhbWVDb25kdWl0P2UubmFtZT09PXQuYWN0aXZlUmVnaW9uVXJsOihyLmdldExvZygpLmRlYnVnKCJjb25uZWN0LmlzQWN0aXZlQ29uZHVpdCBpcyBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIEdSIHByb3h5IGNvbmR1aXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCEwKX19KCl9LDM1NDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQsdC53b3JrZXI9e307dmFyIHI9IkxBRFMuR2V0QWdlbnRGYWlsb3ZlckNvbmZpZ3VyYXRpb24iLG89e2NyZWF0ZVRhc2tDb250YWN0OiJjcmVhdGVUYXNrQ29udGFjdCIsY3JlYXRlT3V0Ym91bmRDb250YWN0OiJjcmVhdGVPdXRib3VuZENvbnRhY3QiLGNyZWF0ZVRlbXBsYXRlZFRhc2s6ImNyZWF0ZVRlbXBsYXRlZFRhc2sifSxpPWZ1bmN0aW9uKCl7dGhpcy50b3BpY01hc3Rlck1hcD17fX07aS5wcm90b3R5cGUuZ2V0TWFzdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFzc2VydE5vdE51bGwoZSwidG9waWMiKSx0aGlzLnRvcGljTWFzdGVyTWFwW2VdfHxudWxsfSxpLnByb3RvdHlwZS5zZXRNYXN0ZXI9ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwidG9waWMiKSx0LmFzc2VydE5vdE51bGwobiwiaWQiKSx0aGlzLnRvcGljTWFzdGVyTWFwW2VdPW59LGkucHJvdG90eXBlLnJlbW92ZU1hc3Rlcj1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwiaWQiKTt2YXIgbj10aGlzO3QuZW50cmllcyh0aGlzLnRvcGljTWFzdGVyTWFwKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtkZWxldGUgbi50b3BpY01hc3Rlck1hcFtlLmtleV19KSl9O3ZhciBhPWZ1bmN0aW9uKGUpe3QuQ2xpZW50QmFzZS5jYWxsKHRoaXMpLHRoaXMuY29uZHVpdD1lfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LkNsaWVudEJhc2UucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMsaT0obmV3IERhdGUpLmdldFRpbWUoKTt0LmNvbnRhaW5zVmFsdWUodC5BZ2VudEFwcENsaWVudE1ldGhvZHMsZSk/dC5jb3JlLmdldEFnZW50QXBwQ2xpZW50KCkuX2NhbGxJbXBsKGUsbix7c3VjY2VzczpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuKSxyLnN1Y2Nlc3ModCl9LGZhaWx1cmU6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmZhaWx1cmUodCl9fSk6dC5jb250YWluc1ZhbHVlKHQuVGFza1RlbXBsYXRlc0NsaWVudE1ldGhvZHMsZSk/dC5jb3JlLmdldFRhc2tUZW1wbGF0ZXNDbGllbnQoKS5fY2FsbEltcGwoZSxuLHtzdWNjZXNzOmZ1bmN0aW9uKHQpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4pLHIuc3VjY2Vzcyh0KX0sZmFpbHVyZTpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuZmFpbHVyZSh0KX19KTp0LmNvcmUuZ2V0Q2xpZW50KCkuX2NhbGxJbXBsKGUsbix7c3VjY2VzczpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4pLHIuc3VjY2Vzcyh0LGEpfSxmYWlsdXJlOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmZhaWx1cmUodCxhKX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24odCxhKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuYXV0aEZhaWx1cmUoKX0sYWNjZXNzRGVuaWVkOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmFjY2Vzc0RlbmllZCYmci5hY2Nlc3NEZW5pZWQoKX19KX0sYS5wcm90b3R5cGUuX3JlY29yZEFQSUxhdGVuY3k9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89KG5ldyBEYXRlKS5nZXRUaW1lKCktdDt0aGlzLl9zZW5kQVBJTWV0cmljcyhlLG8sbixyKX0sYS5wcm90b3R5cGUuX3NlbmRBUElNZXRyaWNzPWZ1bmN0aW9uKGUscixpLGEpe3ZhciBzPXtuYW1lOmUsdGltZTpyLGVycm9yOmEsZXJyb3I1eHg6MH0sYz1be25hbWU6IkNhdGVnb3J5Iix2YWx1ZToiQVBJIn1dLHU9YSYmYS5zdGF0dXNDb2RlfHwyMDAsbD1hJiZhLnJldHJ5U3RhdHVzfHx0LlJldHJ5U3RhdHVzLk5PTkUscD1be25hbWU6Ikh0dHBTdGF0dXNDb2RlIix2YWx1ZTp1fSx7bmFtZToiSHR0cEdlbmVyaWNTdGF0dXNDb2RlIix2YWx1ZToiIi5jb25jYXQodS50b1N0cmluZygpLmNoYXJBdCgwKSwiWFgiKX0se25hbWU6IlJldHJ5U3RhdHVzIix2YWx1ZTpsfV07aWYoIjUiPT09dS50b1N0cmluZygpLmNoYXJBdCgwKSYmKHMuZXJyb3I1eHg9MSksIjUiPT09dS50b1N0cmluZygpLmNoYXJBdCgwKT9zLmZhdWx0PTE6IjIiPT09dS50b1N0cmluZygpLmNoYXJBdCgwKSYmKHMuZmF1bHQ9MCksb1tlXSYmaSYmaS5yZWxhdGVkQ29udGFjdElkKXt2YXIgZD17bmFtZToiIi5jb25jYXQoZSwiV2l0aFJlbGF0ZWRDb250YWN0SWQiKSx0aW1lOnMudGltZSxlcnJvcjpzLmVycm9yLGVycm9yNXh4OnMuZXJyb3I1eHh9O3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfTUVUUklDLG4obih7fSxkKSx7fSx7ZGltZW5zaW9uczpjLG9wdGlvbmFsRGltZW5zaW9uczpwfSkpfXRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfTUVUUklDLG4obih7fSxzKSx7fSx7ZGltZW5zaW9uczpjLG9wdGlvbmFsRGltZW5zaW9uczpwfSkpfTt2YXIgcz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5tdWx0aXBsZXhlcj1uZXcgdC5TdHJlYW1NdWx0aXBsZXhlcix0aGlzLmNvbmR1aXQ9bmV3IHQuQ29uZHVpdCgiQW1hem9uQ29ubmVjdFNoYXJlZFdvcmtlciIsbnVsbCx0aGlzLm11bHRpcGxleGVyKSx0aGlzLmNsaWVudD1uZXcgYSh0aGlzLmNvbmR1aXQpLHRoaXMudGltZW91dD1udWxsLHRoaXMuYWdlbnQ9bnVsbCx0aGlzLm5leHRUb2tlbj1udWxsLHRoaXMuaW5pdERhdGE9e30sdGhpcy5wb3J0Q29uZHVpdE1hcD17fSx0aGlzLnN0cmVhbU1hcEJ5VGFiSWQ9e30sdGhpcy5tYXN0ZXJDb29yZD1uZXcgaSx0aGlzLmxvZ3NCdWZmZXI9W10sdGhpcy5zdXBwcmVzcz0hMSx0aGlzLmZvcmNlT2ZmbGluZT0hMSx0aGlzLmxvbmdQb2xsaW5nT3B0aW9ucz17YWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGU6ITEsYWxsb3dMb25nUG9sbGluZ1dlYnNvY2tldE9ubHlNb2RlOiExfSx0aGlzLmRyUG9sbGluZ1VybD1udWxsLHRoaXMudGhpc0Fybj1udWxsLHRoaXMub3RoZXJBcm49bnVsbCx0aGlzLnBlbmRpbmdGYWlsb3Zlcj1udWxsO3ZhciByPW51bGw7dC5yb290TG9nZ2VyPW5ldyB0LkRvd25zdHJlYW1Db25kdWl0TG9nZ2VyKHRoaXMuY29uZHVpdCksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TRU5EX0xPR1MsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkucHVzaExvZ3NEb3duc3RyZWFtKGUpLG4ubG9nc0J1ZmZlcj1uLmxvZ3NCdWZmZXIuY29uY2F0KGUpLG4ubG9nc0J1ZmZlci5sZW5ndGg+NDAwJiZuLmhhbmRsZVNlbmRMb2dzUmVxdWVzdChuLmxvZ3NCdWZmZXIpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLlNVUFBSRVNTLChmdW5jdGlvbihlKXt0LmdldExvZygpLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNldHRpbmcgU3VwcHJlc3MgdG8gJXMiLGUuc3VwcHJlc3MpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5zdXBwcmVzcz1lLnN1cHByZXNzfHwhMSxuLnN1cHByZXNzfHwobi5mb3JjZU9mZmxpbmU9ITEpLCh2b2lkIDA9PT1lLnNob3VsZFNlbmRGYWlsb3ZlckRvd25zdHJlYW18fGUuc2hvdWxkU2VuZEZhaWxvdmVyRG93bnN0cmVhbSkmJm4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse2lzUHJpbWFyeTohbi5zdXBwcmVzc30pfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gU2V0dGluZyBGT1JDRV9PRkZMSU5FIHRvICVzIixlLm9mZmxpbmUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5mb3JjZU9mZmxpbmV8fChuLnBlbmRpbmdGYWlsb3Zlcj0hMSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtpc1ByaW1hcnk6ITEsbmV4dEFjdGl2ZUFybjplLm5leHRBY3RpdmVBcm59KSksbi5mb3JjZU9mZmxpbmU9ZS5vZmZsaW5lfHwhMX0pKSx0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HJiZ0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RSX1BPTExJTkcsKGZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0TG9nKCk7bi5kclBvbGxpbmdVcmw/KHIuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gQWRkaW5nIG5ldyBDQ1AgdG8gYWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZvciBpbnN0YW5jZSAiLmNvbmNhdChlLmluc3RhbmNlQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnBvbGxGb3JBY3RpdmVSZWdpb24oITAsITEpKTooci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluaXRpYWxpemluZyBhY3RpdmUgcmVnaW9uIHBvbGxpbmcgZm9yIGluc3RhbmNlICIuY29uY2F0KGUuaW5zdGFuY2VBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4udGhpc0Fybj1lLmluc3RhbmNlQXJuLG4ub3RoZXJBcm49ZS5vdGhlckFybixuLmdldFByZXNpZ25lZERpc2NvdmVyeVVybCgpLnRoZW4oKGZ1bmN0aW9uKGUpe24uZHJQb2xsaW5nVXJsPWUsbi5wb2xsRm9yQWN0aXZlUmVnaW9uKCEwLCEwKX0pLChmdW5jdGlvbih0KXtyLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybiwiOyBzdXBwcmVzc2luZyBjb250YWN0cyIpKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5zdXBwcmVzcz0hMH0pKSl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJAQEAgY29uZmlndXJlIGV2ZW50IGhhbmRsZXIiLG8pO3RyeXtvLmF1dGhUb2tlbiYmby5hdXRoVG9rZW4hPT1uLmluaXREYXRhLmF1dGhUb2tlbiYmKG4uaW5pdERhdGE9byx0LmNvcmUuaW5pdChvKSxvLmxvbmdQb2xsaW5nT3B0aW9ucyYmKCJib29sZWFuIj09dHlwZW9mIG8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlJiYobi5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGU9by5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGUpLCJib29sZWFuIj09dHlwZW9mIG8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZSYmKG4ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZT1vLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGUpKSxyP3QuZ2V0TG9nKCkuaW5mbygiTm90IEluaXRpYWxpemluZyBhIG5ldyBXZWJzb2NrZXRNYW5hZ2VyIGluc3RhbmNlLCBzaW5jZSBvbmUgYWxyZWFkeSBleGlzdHMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOih0LmdldExvZygpLmluZm8oIkNyZWF0aW5nIGEgbmV3IFdlYnNvY2tldCBjb25uZWN0aW9uIGZvciBDQ1AiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuV2ViU29ja2V0TWFuYWdlci5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOnQuZ2V0TG9nKCksYWR2YW5jZWRMb2dXcml0ZXI6ImluZm8iLGxldmVsOjEwfX0pLChyPXQuV2ViU29ja2V0TWFuYWdlci5jcmVhdGUoKSkub25Jbml0RmFpbHVyZSgoZnVuY3Rpb24oKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFKX0pKSxyLm9uQ29ubmVjdGlvbk9wZW4oKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX09QRU4sZSl9KSksci5vbkNvbm5lY3Rpb25DbG9zZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fQ0xPU0UsZSl9KSksci5vbkNvbm5lY3Rpb25HYWluKChmdW5jdGlvbigpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0dBSU5FRCksbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fR0FJTil9KSksci5vbkNvbm5lY3Rpb25Mb3N0KChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9MT1NULGUpLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0xPU1QsZSl9KSksci5vblN1YnNjcmlwdGlvblVwZGF0ZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9VUERBVEUsZSl9KSksci5vblN1YnNjcmlwdGlvbkZhaWx1cmUoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fRkFJTFVSRSxlKX0pKSxyLm9uQWxsTWVzc2FnZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkFMTF9NRVNTQUdFLGUpfSkpLG4uY29uZHVpdC5vbkRvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU0VORCwoZnVuY3Rpb24oZSl7ci5zZW5kTWVzc2FnZShlKX0pKSxuLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklCRSwoZnVuY3Rpb24oZSl7ci5zdWJzY3JpYmVUb3BpY3MoZSl9KSksci5pbml0KHQuaGl0Y2gobixuLmdldFdlYlNvY2tldFVybCkpLnRoZW4oKGZ1bmN0aW9uKHIpe3RyeXtpZihyJiYhci53ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkKXQuZ2V0TG9nKCkuaW5mbygiS2lja2luZyBvZmYgYWdlbnQgcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wb2xsRm9yQWdlbnQoKSx0LmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGNvbmZpZyBwb2xsaW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24oe3JlcGVhdEZvcmV2ZXI6ITB9KSx0LmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGF1dGggdG9rZW4gcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZXRJbnRlcnZhbCh0LmhpdGNoKG4sbi5jaGVja0F1dGhUb2tlbiksM2U1KTtlbHNlIGlmKCF0LndlYlNvY2tldEluaXRGYWlsZWQpe3ZhciBvPXQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRTt0aHJvdyBuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obyksdC53ZWJTb2NrZXRJbml0RmFpbGVkPSEwLG5ldyBFcnJvcihvKX19Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiV2ViU29ja2V0IGZhaWxlZCB0byBpbml0aWFsaXplIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKSkpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoIkBAQCBlcnJvciIsZSl9fSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuVEVSTUlOQVRFLChmdW5jdGlvbigpe24uaGFuZGxlU2VuZExvZ3NSZXF1ZXN0KG4ubG9nc0J1ZmZlciksdC5jb3JlLnRlcm1pbmF0ZSgpLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5URVJNSU5BVEVEKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlNZTkNIUk9OSVpFLChmdW5jdGlvbigpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1QsKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbShlLmV2ZW50LGUuZGF0YSl9KSksZS5vbmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5wb3J0c1swXSxvPW5ldyB0LlBvcnRTdHJlYW0ocik7bi5tdWx0aXBsZXhlci5hZGRTdHJlYW0obyksci5zdGFydCgpO3ZhciBpPW5ldyB0LkNvbmR1aXQoby5nZXRJZCgpLG51bGwsbyk7aS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSx7aWQ6by5nZXRJZCgpfSksbi5wb3J0Q29uZHVpdE1hcFtvLmdldElkKCldPWksbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyx7bGVuZ3RoOk9iamVjdC5rZXlzKG4ucG9ydENvbmR1aXRNYXApLmxlbmd0aH0pLG51bGwhPT1uLmFnZW50JiZuLnVwZGF0ZUFnZW50KCksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFUVVFU1QsdC5oaXRjaChuLG4uaGFuZGxlQVBJUmVxdWVzdCxpKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuTUFTVEVSX1JFUVVFU1QsdC5oaXRjaChuLG4uaGFuZGxlTWFzdGVyUmVxdWVzdCxpLG8uZ2V0SWQoKSkpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlJFTE9BRF9BR0VOVF9DT05GSUdVUkFUSU9OLHQuaGl0Y2gobixuLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24pKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5UQUJfSUQsdC5oaXRjaChuLG4uaGFuZGxlVGFiSWRFdmVudCxvKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQ0xPU0UsdC5oaXRjaChuLG4uaGFuZGxlQ2xvc2VFdmVudCxvKSl9fTtzLnByb3RvdHlwZS5wb2xsRm9yQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKG8saSl7dmFyIGE9dGhpcyxzPXQuZ2V0TG9nKCk7aWYoIWEuZHJQb2xsaW5nVXJsKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gVHJpZWQgdG8gcG9sbCBmb3IgYWN0aXZlIHJlZ2lvbiB3aXRob3V0IGZpcnN0IGluaXRpYWxpemluZyBEUiBwb2xsaW5nIGluIHRoZSB3b3JrZXIuIik7cy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBQb2xsaW5nIGZvciBmYWlsb3ZlciB3aXRoIHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIHQuZmV0Y2hXaXRoVGltZW91dChhLmRyUG9sbGluZ1VybCwxZTQpLmNhdGNoKChmdW5jdGlvbihlKXtpZihlLnN0YXR1cyl7aWYoYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjLHtzdGF0dXNDb2RlOmUuc3RhdHVzfSksW3QuSFRUUF9TVEFUVVNfQ09ERVMuQUNDRVNTX0RFTklFRCx0LkhUVFBfU1RBVFVTX0NPREVTLlVOQVVUSE9SSVpFRF0uaW5jbHVkZXMoZS5zdGF0dXMpKXJldHVybiBzLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gQWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZhaWxlZDsgdHJ5aW5nIHRvIGdldCBhIG5ldyBVUkwgZm9yIHBvbGxpbmcuIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsKCkudGhlbigoZnVuY3Rpb24oZSl7YS5kclBvbGxpbmdVcmw9ZX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQuZmV0Y2hXaXRoVGltZW91dChhLmRyUG9sbGluZ1VybCwxZTQpfSkpO3ZhciBuPSJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBwb2xsIGZvciBmYWlsb3ZlciBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIsICIpKyJyZWNlaXZlZCB1bmV4cGVjdGVkIHJlc3BvbnNlIGNvZGUgIi5jb25jYXQoZS5zdGF0dXMpO3Rocm93IHMuZXJyb3Iobikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG5ldyBFcnJvcihuKX10aHJvdyBuPSJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBwb2xsIGZvciBmYWlsb3ZlciBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIsIHJlcXVlc3QgdGltZWQgb3V0IG9yIGFib3J0ZWQiKSxhLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMse3N0YXR1c0NvZGU6LTF9KSxzLmVycm9yKG4pLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuZXcgRXJyb3Iobil9KSkudGhlbigoZnVuY3Rpb24oZSl7aWYoYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjKSwiYm9vbGVhbiI9PXR5cGVvZiBlLlRlcm1pbmF0ZUFjdGl2ZUNvbnRhY3RzKXt2YXIgbj0hZS5UZXJtaW5hdGVBY3RpdmVDb250YWN0cztpZihlLkluc3RhbmNlQXJuKWlmKHMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gU3VjY2Vzc2Z1bGx5IHBvbGxlZCBmb3IgYWN0aXZlIHJlZ2lvbi4gUHJpbWFyeSBpbnN0YW5jZSBBUk4gaXMgIi5jb25jYXQoZS5JbnN0YW5jZUFybiwiICIpKyJhbmQgc29mdCBmYWlsb3ZlciBpcyAiLmNvbmNhdChuPyJlbmFibGVkIjoiZGlzYWJsZWQiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLnRoaXNBcm49PT1lLkluc3RhbmNlQXJuJiYhYS5zdXBwcmVzcyYmbylzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIGlzIGJlaW5nIHNldCB0byBwcmltYXJ5IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7bmV4dEFjdGl2ZUFybjplLkluc3RhbmNlQXJufSk7ZWxzZSBpZihhLm90aGVyQXJuPT09ZS5JbnN0YW5jZUFybil7aWYoIW58fGl8fCFvfHxhLnN1cHByZXNzJiYhYS5wZW5kaW5nRmFpbG92ZXJ8fGEuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse25leHRBY3RpdmVBcm46YS50aGlzQXJufSksIWEuc3VwcHJlc3Mpe2Euc3VwcHJlc3M9ITA7dmFyIHU9biYmIWk7dT8oYS5wZW5kaW5nRmFpbG92ZXI9ITAscy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiB3aWxsIGJlIHNldCB0byBzdGFuZC1ieSB1c2luZyBzb2Z0IGZhaWxvdmVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOnMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgaXMgYmVpbmcgc2V0IHRvIHN0YW5kLWJ5IGltbWVkaWF0ZWx5IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLHtzb2Z0RmFpbG92ZXI6dSxuZXh0QWN0aXZlQXJuOmUuSW5zdGFuY2VBcm59KX19ZWxzZVthLnRoaXNBcm4sYS5vdGhlckFybl0uaW5jbHVkZXMoZS5JbnN0YW5jZUFybil8fHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gVGhlIGN1cnJlbnQgcHJpbWFyeSBpbnN0YW5jZSBpbiB0aGlzIGFnZW50J3MgZmFpbG92ZXIgZ3JvdXAgIi5jb25jYXQoZS5JbnN0YW5jZUFybiwiICIpKyJkb2Vzbid0IG1hdGNoIHRoaXMgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgb3IgdGhlIG90aGVyIGluc3RhbmNlICIpLmNvbmNhdChhLm90aGVyQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNlIHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gRFIgcG9sbGluZyByZXNwb25zZSBkaWQgbm90IGNvbnRhaW4gYSB0cnV0aHkgYWN0aXZlIGluc3RhbmNlIEFSTi4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSBzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIERSIHBvbGxpbmcgcmVzcG9uc2UgZGlkIG5vdCBjb250YWluIGEgdmFsaWQgdmFsdWUgZm9yIFRlcm1pbmF0ZUFjdGl2ZUNvbnRhY3RzLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ZS5zdGF0dXMmJmEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyxuKG4oe30sZSkse30se3N0YXR1c0NvZGU6ZS5zdGF0dXN9KSkscy5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBY3RpdmUgcmVnaW9uIHBvbGxpbmcgZmFpbGVkIGZvciBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIi4iKSkud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmZpbmFsbHkoKGZ1bmN0aW9uKCl7IWkmJm98fGUuc2V0VGltZW91dCh0LmhpdGNoKGEsYS5wb2xsRm9yQWN0aXZlUmVnaW9uKSw2ZTQpfSkpfSxzLnByb3RvdHlwZS5nZXRQcmVzaWduZWREaXNjb3ZlcnlVcmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7dC5nZXRMb2coKS5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEdldHRpbmcgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQobi50aGlzQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHt0cmFuc3BvcnRUeXBlOnQuVFJBTlNQT1JUX1RZUEVTLkFHRU5UX0RJU0NPVkVSWX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZSYmZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydCYmZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydC5wcmVzaWduZWRVcmw/KHQuZ2V0TG9nKCkuaW5mbygiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlLmFnZW50RGlzY292ZXJ5VHJhbnNwb3J0LnByZXNpZ25lZFVybCkpOih0LmdldExvZygpLmluZm8oImdldFByZXNpZ25lZERpc2NvdmVyeVVybCByZWNlaXZlZCBlbXB0eS9pbnZhbGlkIGRhdGEiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbyhFcnJvcigiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHJlY2VpdmVkIGVtcHR5L2ludmFsaWQgZGF0YSIpKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxyKXt0LmdldExvZygpLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQobi50aGlzQXJuKSkud2l0aEV4Y2VwdGlvbihlKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbyhuZXcgRXJyb3IoIkZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCIpKX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXt0LmhpdGNoKG4sbi5oYW5kbGVBdXRoRmFpbCkoKSxvKG5ldyBFcnJvcigiRW5jb3VudGVyZWQgYXV0aCBmYWlsdXJlIHdoZW4gZ2V0dGluZyBwcmVzaWduZWQgVVJMIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXt0LmhpdGNoKG4sbi5oYW5kbGVBY2Nlc3NEZW5pZWQpKCksbyhuZXcgRXJyb3IoIkVuY291bnRlcmVkIGFjY2VzcyBkZW5pZWQgd2hlbiBnZXR0aW5nIHByZXNpZ25lZCBVUkwiKSl9fSl9KSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudD1mdW5jdGlvbigpe3ZhciBuPXRoaXMscj10LmhpdGNoKG4sbi5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpO3RoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TTkFQU0hPVCx7bmV4dFRva2VuOm4ubmV4dFRva2VuLHRpbWVvdXQ6M2U0fSx7c3VjY2VzczpmdW5jdGlvbihyLG8pe3RyeXtuLmFnZW50PW4uYWdlbnR8fHt9LG4uYWdlbnQuc25hcHNob3Q9ci5zbmFwc2hvdCxuLmFnZW50LnNuYXBzaG90LmxvY2FsVGltZXN0YW1wPXQubm93KCksbi5hZ2VudC5zbmFwc2hvdC5za2V3PW4uYWdlbnQuc25hcHNob3Quc25hcHNob3RUaW1lc3RhbXAtbi5hZ2VudC5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcCxuLm5leHRUb2tlbj1yLm5leHRUb2tlbixvJiZvLmhhc093blByb3BlcnR5KCJjb250ZW50TGVuZ3RoIikmJihuLmFnZW50LnNuYXBzaG90LmNvbnRlbnRMZW5ndGg9by5jb250ZW50TGVuZ3RoKSx0LmdldExvZygpLnRyYWNlKCJHRVRfQUdFTlRfU05BUFNIT1Qgc3VjY2VlZGVkLiIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnVwZGF0ZUFnZW50KCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiTG9uZyBwb2xsIGZhaWxlZCB0byB1cGRhdGUgYWdlbnQuIikud2l0aE9iamVjdChyKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZmluYWxseXtlLnNldFRpbWVvdXQodC5oaXRjaChuLG4ucG9sbEZvckFnZW50KSwxMDApfX0sZmFpbHVyZTpmdW5jdGlvbihyLG8pe3RyeXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZ2V0IGFnZW50IGRhdGEuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6cixkYXRhOm99KX1maW5hbGx5e2Uuc2V0VGltZW91dCh0LmhpdGNoKG4sbi5wb2xsRm9yQWdlbnQpLDVlMyl9fSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3IoKX0sYWNjZXNzRGVuaWVkOnQuaGl0Y2gobixuLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbihuKXt2YXIgcj10aGlzLG89bnx8e30saT10LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpO3RoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9DT05GSUdVUkFUSU9OLHt9LHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciBpPW4uY29uZmlndXJhdGlvbjtyLnBvbGxGb3JBZ2VudFBlcm1pc3Npb25zKGkpLHIucG9sbEZvckFnZW50U3RhdGVzKGkpLHIucG9sbEZvckRpYWxhYmxlQ291bnRyeUNvZGVzKGkpLHIucG9sbEZvclJvdXRpbmdQcm9maWxlUXVldWVzKGkpLG8ucmVwZWF0Rm9yZXZlciYmZS5zZXRUaW1lb3V0KHQuaGl0Y2gocixyLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24sbyksM2U0KX0sZmFpbHVyZTpmdW5jdGlvbihuLGkpe3RyeXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgY29uZmlndXJhdGlvbiBkYXRhLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOm4sZGF0YTppfSl9ZmluYWxseXtvLnJlcGVhdEZvcmV2ZXImJmUuc2V0VGltZW91dCh0LmhpdGNoKHIsci5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKSwzZTQsbyl9fSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe2koKX0sYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50U3RhdGVzPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPW58fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TVEFURVMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yQWdlbnRTdGF0ZXMoZSx7c3RhdGVzOihvLnN0YXRlc3x8W10pLmNvbmNhdCh0LnN0YXRlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUuYWdlbnRTdGF0ZXM9KG8uc3RhdGVzfHxbXSkuY29uY2F0KHQuc3RhdGVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgc3RhdGVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfUEVSTUlTU0lPTlMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucyhlLHtwZXJtaXNzaW9uczooby5wZXJtaXNzaW9uc3x8W10pLmNvbmNhdCh0LnBlcm1pc3Npb25zKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5wZXJtaXNzaW9ucz0oby5wZXJtaXNzaW9uc3x8W10pLmNvbmNhdCh0LnBlcm1pc3Npb25zKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgcGVybWlzc2lvbnMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2Rlcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfRElBTEFCTEVfQ09VTlRSWV9DT0RFUyx7bmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2RlcyhlLHtjb3VudHJ5Q29kZXM6KG8uY291bnRyeUNvZGVzfHxbXSkuY29uY2F0KHQuY291bnRyeUNvZGVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5kaWFsYWJsZUNvdW50cmllcz0oby5jb3VudHJ5Q29kZXN8fFtdKS5jb25jYXQodC5jb3VudHJ5Q29kZXMpLHIudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKGUpKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBkaWFsYWJsZSBjb3VudHJ5IGNvZGVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yUm91dGluZ1Byb2ZpbGVRdWV1ZXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX1JPVVRJTkdfUFJPRklMRV9RVUVVRVMse3JvdXRpbmdQcm9maWxlQVJOOmUucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVBUk4sbmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JSb3V0aW5nUHJvZmlsZVF1ZXVlcyhlLHtjb3VudHJ5Q29kZXM6KG8ucXVldWVzfHxbXSkuY29uY2F0KHQucXVldWVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5yb3V0aW5nUHJvZmlsZS5xdWV1ZXM9KG8ucXVldWVzfHxbXSkuY29uY2F0KHQucXVldWVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggcm91dGluZyBwcm9maWxlIHF1ZXVlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUuaGFuZGxlQVBJUmVxdWVzdD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7dGhpcy5jbGllbnQuY2FsbChuLm1ldGhvZCxuLnBhcmFtcyx7c3VjY2VzczpmdW5jdGlvbihyKXt2YXIgbz10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0UsbixyKTtlLnNlbmREb3duc3RyZWFtKG8uZXZlbnQsbyl9LGZhaWx1cmU6ZnVuY3Rpb24obyxpKXt2YXIgYT10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0UsbixpLEpTT04uc3RyaW5naWZ5KG8pKTtlLnNlbmREb3duc3RyZWFtKGEuZXZlbnQsYSksdC5nZXRMb2coKS5lcnJvcigiJyVzJyBBUEkgcmVxdWVzdCBmYWlsZWQiLG4ubWV0aG9kKS53aXRoT2JqZWN0KHtyZXF1ZXN0OnIuZmlsdGVyQXV0aFRva2VuKG4pLHJlc3BvbnNlOmF9KS53aXRoRXhjZXB0aW9uKG8pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZUF1dGhGYWlsLHthdXRob3JpemU6ITB9KX0pfSxzLnByb3RvdHlwZS5oYW5kbGVNYXN0ZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzLmNvbmR1aXQsaT1udWxsO3N3aXRjaChyLm1ldGhvZCl7Y2FzZSB0Lk1hc3Rlck1ldGhvZHMuQkVDT01FX01BU1RFUjp2YXIgYT10aGlzLm1hc3RlckNvb3JkLmdldE1hc3RlcihyLnBhcmFtcy50b3BpYykscz1Cb29sZWFuKGEpJiZhIT09bjt0aGlzLm1hc3RlckNvb3JkLnNldE1hc3RlcihyLnBhcmFtcy50b3BpYyxuKSxpPXQuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSxyLHttYXN0ZXJJZDpuLHRha2VPdmVyOnMsdG9waWM6ci5wYXJhbXMudG9waWN9KSxzJiZvLnNlbmREb3duc3RyZWFtKGkuZXZlbnQsaSk7YnJlYWs7Y2FzZSB0Lk1hc3Rlck1ldGhvZHMuQ0hFQ0tfTUFTVEVSOihhPXRoaXMubWFzdGVyQ29vcmQuZ2V0TWFzdGVyKHIucGFyYW1zLnRvcGljKSl8fHIucGFyYW1zLnNob3VsZE5vdEJlY29tZU1hc3RlcklmTm9uZXx8KHRoaXMubWFzdGVyQ29vcmQuc2V0TWFzdGVyKHIucGFyYW1zLnRvcGljLG4pLGE9biksaT10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0Uscix7bWFzdGVySWQ6YSxpc01hc3RlcjpuPT09YSx0b3BpYzpyLnBhcmFtcy50b3BpY30pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIG1hc3RlciBtZXRob2Q6ICIrci5tZXRob2QpfWUuc2VuZERvd25zdHJlYW0oaS5ldmVudCxpKX0scy5wcm90b3R5cGUuaGFuZGxlVGFiSWRFdmVudD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7dHJ5e3ZhciBvPW4udGFiSWQsaT1yLnN0cmVhbU1hcEJ5VGFiSWRbb10sYT1lLmdldElkKCkscz1PYmplY3Qua2V5cyhyLnN0cmVhbU1hcEJ5VGFiSWQpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIuc3RyZWFtTWFwQnlUYWJJZFtlXS5sZW5ndGg+MH0pKS5sZW5ndGg7aWYoaSYmaS5sZW5ndGg+MCl7aWYoIWkuaW5jbHVkZXMoYSkpe3Iuc3RyZWFtTWFwQnlUYWJJZFtvXS5wdXNoKGEpO3ZhciBjPXtsZW5ndGg6T2JqZWN0LmtleXMoci5wb3J0Q29uZHVpdE1hcCkubGVuZ3RoLHRhYklkOm8sc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyOnN9O2Nbb109e2xlbmd0aDppLmxlbmd0aH0sci5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyxjKX19ZWxzZXtyLnN0cmVhbU1hcEJ5VGFiSWRbb109W2UuZ2V0SWQoKV07dmFyIHU9e2xlbmd0aDpPYmplY3Qua2V5cyhyLnBvcnRDb25kdWl0TWFwKS5sZW5ndGgsdGFiSWQ6byxzdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXI6cysxfTt1W29dPXtsZW5ndGg6ci5zdHJlYW1NYXBCeVRhYklkW29dLmxlbmd0aH0sci5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyx1KX19Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZHNdIElzc3VlIHVwZGF0aW5nIGNvbm5lY3RlZCBDQ1BzIHdpdGhpbiB0aGUgc2FtZSB0YWIiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxzLnByb3RvdHlwZS5oYW5kbGVDbG9zZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7bi5tdWx0aXBsZXhlci5yZW1vdmVTdHJlYW0oZSksZGVsZXRlIG4ucG9ydENvbmR1aXRNYXBbZS5nZXRJZCgpXSxuLm1hc3RlckNvb3JkLnJlbW92ZU1hc3RlcihlLmdldElkKCkpO3ZhciByPXtsZW5ndGg6T2JqZWN0LmtleXMobi5wb3J0Q29uZHVpdE1hcCkubGVuZ3RofSxvPU9iamVjdC5rZXlzKG4uc3RyZWFtTWFwQnlUYWJJZCk7dHJ5e3ZhciBpPW8uZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uc3RyZWFtTWFwQnlUYWJJZFt0XS5pbmNsdWRlcyhlLmdldElkKCkpfSkpO2lmKGkpe3ZhciBhPW4uc3RyZWFtTWFwQnlUYWJJZFtpXS5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldElkKCk9PT10fSkpO24uc3RyZWFtTWFwQnlUYWJJZFtpXS5zcGxpY2UoYSwxKTt2YXIgcz1uLnN0cmVhbU1hcEJ5VGFiSWRbaV0/bi5zdHJlYW1NYXBCeVRhYklkW2ldLmxlbmd0aDowO3JbaV09e2xlbmd0aDpzfSxyLnRhYklkPWl9dmFyIGM9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnN0cmVhbU1hcEJ5VGFiSWRbZV0ubGVuZ3RoPjB9KSkubGVuZ3RoO3Iuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyPWN9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZHNdIElzc3VlIHVwZGF0aW5nIHRhYklkLXNwZWNpZmljIHN0cmVhbSBkYXRhIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfW4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMscil9LHMucHJvdG90eXBlLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbihlKXtlLnBlcm1pc3Npb25zJiZlLmRpYWxhYmxlQ291bnRyaWVzJiZlLmFnZW50U3RhdGVzJiZlLnJvdXRpbmdQcm9maWxlLnF1ZXVlcz8odGhpcy5hZ2VudD10aGlzLmFnZW50fHx7fSx0aGlzLmFnZW50LmNvbmZpZ3VyYXRpb249ZSx0aGlzLnVwZGF0ZUFnZW50KCkpOnQuZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IGNvbmZpZ3VyYXRpb24gdW50aWwgYWxsIGNvbmZpZyBkYXRhIGhhcyBiZWVuIGZldGNoZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0scy5wcm90b3R5cGUudXBkYXRlQWdlbnQ9ZnVuY3Rpb24oKXt0aGlzLmFnZW50P3RoaXMuYWdlbnQuc25hcHNob3Q/dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uPyh0aGlzLmFnZW50LnNuYXBzaG90LnN0YXR1cz10aGlzLmFnZW50LnN0YXRlLHRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMmJnRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMubGVuZ3RoPjEmJnRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpLXQuc3RhdGUudGltZXN0YW1wLmdldFRpbWUoKX0pKSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RhdHVzPWUuc3RhdGUsZS5jb25uZWN0aW9ucy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmFkZHJlc3M9ZS5lbmRwb2ludH0pKX0pKSx0aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVJZD10aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVBUk4sdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnF1ZXVlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnF1ZXVlSWQ9ZS5xdWV1ZUFSTn0pKSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucXVldWUmJihlLnF1ZXVlLnF1ZXVlSWQ9ZS5xdWV1ZS5xdWV1ZUFSTil9KSksdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQ9dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlQVJOLHRoaXMuc3VwcHJlc3MmJih0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzPXRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0ZS50eXBlPT10LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVEVEfHxlLnN0YXRlLnR5cGU9PXQuQ29udGFjdFN0YXRlVHlwZS5FTkRFRH0pKSx0aGlzLmZvcmNlT2ZmbGluZSYmdGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FKSksdGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuQWdlbnRFdmVudHMuVVBEQVRFLHRoaXMuYWdlbnQpKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCB1bnRpbCB0aGUgYWdlbnQgY29uZmlndXJhdGlvbiBpcyBhdmFpbGFibGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCB1bnRpbCB0aGUgYWdlbnQgc25hcHNob3QgaXMgYXZhaWxhYmxlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IGhhcyBiZWVuIGZ1bGx5IGNvbnN0cnVjdGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHMucHJvdG90eXBlLmdldFdlYlNvY2tldFVybD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj10LmNvcmUuZ2V0Q2xpZW50KCkscj10LmhpdGNoKGUsZS5oYW5kbGVBdXRoRmFpbCksbz10LmhpdGNoKGUsZS5oYW5kbGVBY2Nlc3NEZW5pZWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXtuLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQse3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuV0VCX1NPQ0tFVH0se3N1Y2Nlc3M6ZnVuY3Rpb24obil7dC5nZXRMb2coKS5pbmZvKCJnZXRXZWJTb2NrZXRVcmwgc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKG4pfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiZ2V0V2ViU29ja2V0VXJsIGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSksaSh7cmVhc29uOiJnZXRXZWJTb2NrZXRVcmwgZmFpbGVkIixfZGVidWc6ZX0pfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3QuZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBBdXRoIEZhaWx1cmUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSBnZXR0aW5nIGdldFdlYlNvY2tldFVybCIpKSxyKCl9LGFjY2Vzc0RlbmllZDpmdW5jdGlvbigpe3QuZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBBY2Nlc3MgRGVuaWVkIEZhaWx1cmUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoRXJyb3IoIkFjY2VzcyBEZW5pZWQgRmFpbHVyZSB3aGlsZSBnZXR0aW5nIGdldFdlYlNvY2tldFVybCIpKSxvKCl9fSl9KSl9LHMucHJvdG90eXBlLmhhbmRsZVNlbmRMb2dzUmVxdWVzdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1bXSxyPWUubG9nc0J1ZmZlci5zbGljZSgpO2UubG9nc0J1ZmZlcj1bXSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaCh7dGltZXN0YW1wOmUudGltZSxjb21wb25lbnQ6ZS5jb21wb25lbnQsbWVzc2FnZTplLnRleHR9KX0pKSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5TRU5EX0NMSUVOVF9MT0dTLHtsb2dFdmVudHM6bn0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJTZW5kTG9ncyByZXF1ZXN0IHN1Y2NlZWRlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiU2VuZExvZ3MgcmVxdWVzdCBmYWlsZWQuIikud2l0aE9iamVjdChuKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGF1dGhGYWlsdXJlOnQuaGl0Y2goZSxlLmhhbmRsZUF1dGhGYWlsKX0pfSxzLnByb3RvdHlwZS5oYW5kbGVBdXRoRmFpbD1mdW5jdGlvbihlKXtlP3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BVVRIX0ZBSUwsZSk6dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCl9LHMucHJvdG90eXBlLmhhbmRsZVBvbGxpbmdBdXRoRmFpbD1mdW5jdGlvbigpe3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5DVElfQVVUSE9SSVpFX1JFVFJJRVNfRVhIQVVTVEVEKX0scy5wcm90b3R5cGUuaGFuZGxlQWNjZXNzRGVuaWVkPWZ1bmN0aW9uKCl7dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFDQ0VTU19ERU5JRUQpfSxzLnByb3RvdHlwZS5jaGVja0F1dGhUb2tlbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1uZXcgRGF0ZShlLmluaXREYXRhLmF1dGhUb2tlbkV4cGlyYXRpb24pLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bi5nZXRUaW1lKCk8cisxOGU1JiYodC5nZXRMb2coKS5pbmZvKCJBdXRoIHRva2VuIGV4cGlyZXMgYXQgIituKyIgU3RhcnQgcmVmcmVzaGluZyB0b2tlbiB3aXRoIHJldHJ5LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5iYWNrb2ZmKHQuaGl0Y2goZSxlLmF1dGhvcml6ZSksMWU0LDQpKX0scy5wcm90b3R5cGUuYXV0aG9yaXplPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dC5jb3JlLmF1dGhvcml6ZSh0aGlzLmluaXREYXRhLmF1dGhvcml6ZUVuZHBvaW50KS50aGVuKChmdW5jdGlvbihyKXt2YXIgbz1uZXcgRGF0ZShyLmV4cGlyYXRpb24pO3QuZ2V0TG9nKCkuaW5mbygiQXV0aG9yaXphdGlvbiBzdWNjZWVkZWQgYW5kIHRoZSB0b2tlbiBleHBpcmVzIGF0ICVzIixvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uaW5pdERhdGEuYXV0aFRva2VuPXIuYWNjZXNzVG9rZW4sbi5pbml0RGF0YS5hdXRoVG9rZW5FeHBpcmF0aW9uPW8sdC5jb3JlLmluaXRDbGllbnQobi5pbml0RGF0YSksdC5jb3JlLmluaXRBZ2VudEFwcENsaWVudChuLmluaXREYXRhKSxlLnN1Y2Nlc3MoKX0pKS5jYXRjaCgoZnVuY3Rpb24ocil7dC5nZXRMb2coKS5lcnJvcigiQXV0aG9yaXphdGlvbiBmYWlsZWQgd2l0aCBjb2RlICVzIixyLnN0YXR1cykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSw0MDE9PT1yLnN0YXR1cz9uLmhhbmRsZUF1dGhGYWlsKCk6ZS5mYWlsdXJlKCl9KSl9LHMucHJvdG90eXBlLmZpbHRlckF1dGhUb2tlbj1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlpZigicGFyYW1zIj09PW4pe3ZhciByPXt9O2Zvcih2YXIgbyBpbiBlLnBhcmFtcykiYXV0aGVudGljYXRpb24iIT09byYmKHJbb109ZS5wYXJhbXNbb10pO3QucGFyYW1zPXJ9ZWxzZSB0W25dPWVbbl07cmV0dXJuIHR9LHQud29ya2VyLm1haW49ZnVuY3Rpb24oKXt0Lndvcmtlci5jbGllbnRFbmdpbmU9bmV3IHN9fSgpfX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmFtZE89e30sbi5kPShlLHQpPT57Zm9yKHZhciByIGluIHQpbi5vKHQscikmJiFuLm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dFtyXX0pfSxuLmc9ZnVuY3Rpb24oKXtpZigib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChlKXtpZigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLG4ucj1lPT57InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbigxNjcpLG4oMjU0KSxuKDM0NCksbigxNDQpLG4oNjApLG4oNjgyKSxuKDQzMSksbig1NTUpLG4oODMwKSxuKDQxNCksbig2MTApLG4oOTUpLG4oMzk5KSxuKDkwNiksbig4MDYpLG4oMzU0KSxuKDE0Miksbig4ODQpLG4oMzkwKSxuKDI2OSksbig4MjUpLG4oOTYxKSxuKDk0OSl9KSgpOw=="),d=function(l){this.id=l.region,l.region=this._normalizeRegionString(l.region),this.height=l.height,this.style=l.iframe_style,this.ccp=this._createFramedCcp(l)};d.prototype._createFramedCcp=function(l){var Z=Z||"microphone; autoplay; clipboard-write",b=this.style||"margin: 0; border: 0; padding: 0px; width: 0px; height: 0px",d=document.createElement("iframe");return d.srcdoc=this.getContent(l),d.allow=Z,d.id=this.id,d.style=b,d.scrolling="no",d},d.prototype.getContent=function(l){return["<!DOCTYPE html>","<meta charset='UTF-8'>","<html>","<head>","<script type='text/javascript'>",b,"<\/script>","<style>","html, body, iframe { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}","</style>","</head>","<body>","<div id=containerDiv style='width: 100%;height: 100%;'></div>","<script type='text/javascript'>","function init() {","connect.core.initCCP(containerDiv,"+JSON.stringify(l)+");","}","<\/script>","</body>","</html>"].join("")},d.prototype._normalizeRegionString=function(l){const Z=l.indexOf(".");return-1===Z?l:l.substring(0,Z)},globalConnect.Container=d}()},96:()=>{!function(){var l=this||globalThis,Z=l.connect||{},b=l.globalConnect||{};l.connect=Z,l.globalConnect=b,l.lily=Z,b.core={};var d="globalCCP",m="465px";b.extractCcpRegionParams=function(l,b){Z.assertNotNull(b.standByRegion,"ccpBackupResource"),Z.assertNotNull(b.standByRegion.ccpUrl,"ccpUrl"),Z.assertNotNull(b.standByRegion.region,"region"),b.pollForFailover&&(Z.assertNotNull(b.loginUrl,"loginUrl"),Z.assertNotNull(b.instanceArn,"primary ARN"),b.otherArn=Z.assertNotNull(b.standByRegion.instanceArn,"backup ARN"));var d=b,W=Object.assign({},b,{ccpUrl:b.standByRegion.ccpUrl,region:b.standByRegion.region,instanceArn:b.standByRegion.instanceArn,otherArn:b.instanceArn,loginPopup:!1}),G=c(l);return parseInt(G.height)<=0&&(l.style.height=m,G.height=m),[d,W].map((function(l){return Z.assertNotNull(l.ccpUrl,"ccpUrl"),Z.assertNotNull(l.region,"region"),delete l.standByRegion,l.disasterRecoveryOn=!0,l.iframe_style="margin: 0; border: 0; padding:0px;width: 0px;height: 0px",l.height=G.height,l}))};var c=function(l){var Z=window.getComputedStyle(l);return{height:Z.getPropertyValue("height"),width:Z.getPropertyValue("width"),display:Z.getPropertyValue("display")}},W=function(l,d){if(Z.assertTrue("string"==typeof l,"Region provided "+l+" is not a valid string"),!(d||b.core.regions).hasOwnProperty(l)){var m="Region provided "+l+" is not found!";throw new Z.ValueError(m)}};b.core.initCCP=function(l,m){Z.assertNotNull(m.getPrimaryRegion,"getPrimaryRegion"),Z.assertTrue(Z.isFunction(m.getPrimaryRegion),"getPrimaryRegion must be a function");var c=m.getPrimaryRegion;delete m.getPrimaryRegion,delete m.provider;var u=b.extractCcpRegionParams(l,m);c((function(c){return new Promise((R=>{var p;p=m.pollForFailover?c||m.region:Z.assertNotNull(c),b.core.regions=u.reduce((function(l,Z){return l[Z.region]={ccpParams:Z},l}),{});var i=u.reduce((function(l,Z){return l[Z.instanceArn]=Z.region,l}),{});W(p,b.core.regions),b.core.primaryRegion=p,b.core.secondaryRegion=Object.keys(b.core.regions).find((function(l){return l!=b.core.primaryRegion}));var Y=u.map((function(l){return l.region===b.core.primaryRegion&&(l.isPrimary=!0),new b.Container(l)})),y=Y.map((function(l){return l.ccp.outerHTML})),h=document.createElement("iframe");h.style="margin: 0; border: 0; padding:0px;width: 100%;height: 100%",h.allow="microphone; camera; autoplay; clipboard-write; identity-credentials-get",h.id=d,h.scrolling="no",h.onload=function(){X(b.core.primaryRegion),V(b.core.secondaryRegion),Y.map((function(l){var Z=h.contentDocument.getElementById(l.id),d=Z.contentDocument,c=Z.contentWindow;m.additionalScripts&&Array.isArray(m.additionalScripts)&&m.additionalScripts.forEach((l=>{var Z=d.createElement("script");Z.src=l,d.body.appendChild(Z)})),c.init();var W=c.connect;b.core.regions[l.id].connect=W,W.core.getUpstream().onUpstream(W.DisasterRecoveryEvents.FAILOVER,(function(Z){if(Z.nextActiveArn&&b.core.secondaryRegion===i[Z.nextActiveArn])G(i[Z.nextActiveArn],b.core.primaryRegion);else{if(!1!==Z.isPrimary||l.id!==b.core.primaryRegion)return;G(b.core.secondaryRegion,l.id)}delete b._failoverPending,b._triggerFailoverCompleteHandlers({activeRegion:b.core.primaryRegion,activeCcpUrl:b.core.regions[b.core.primaryRegion].ccpParams.ccpUrl})})),W.core.getUpstream().onUpstream(W.DisasterRecoveryEvents.FAILOVER_PENDING,(function({nextActiveArn:l}){b._failoverPending||(b._triggerFailoverPendingHandlers({nextActiveArn:l}),b._failoverPending=!0)})),l.id===b.core.primaryRegion&&(window.connect=W),b._triggerInitHandlers(W,l.id)})),R(b.core.regions[b.core.primaryRegion].connect)},h.srcdoc=["<!DOCTYPE html>","<meta charset='UTF-8'>","<html>","<head>","<style>","html, body { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}","</style>","</head>","<body>",y.join(""),"</body>","</html>"].join(""),l.appendChild(h)}))}),(function(l){console.error("[Disaster Recovery] An error occured, while attempting to retrieve your primary region;"),l()}))};var G=function(l,Z){b.core.primaryRegion=l,b.core.secondaryRegion=Z,window.connect=b.core.regions[l].connect,b.core.activate(l),X(l),V(Z)},V=function(l){document.getElementById(d).contentDocument.getElementById(l).style="height: 0; width: 0; border: 0px"},X=function(l){document.getElementById(d).contentDocument.getElementById(l).style="height:100%;width:100%;border:0px"};b.core.onInit=function(l){b.core._onInitHandlers=b.core._onInitHandlers||{};const d=Z.randomId();return b.core._onInitHandlers[d]=l,()=>delete b.core._onInitHandlers[d]},b._triggerInitHandlers=function(l,Z){const d=b.core._onInitHandlers;d&&Object.values(d).forEach((b=>b(l,Z)))},b.core.onFailoverComplete=function(l){b.core._failoverCompleteHandlers=b.core._failoverCompleteHandlers||{};const d=Z.randomId();return b.core._failoverCompleteHandlers[d]=l,()=>delete b.core._failoverCompleteHandlers[d]},b._triggerFailoverCompleteHandlers=function(l){const Z=b.core._failoverCompleteHandlers;Z&&Object.values(Z).forEach((Z=>Z(l)))},b.core.onFailoverPending=function(l){b.core._failoverPendingHandlers=b.core._failoverPendingHandlers||{};const d=Z.randomId();return b.core._failoverPendingHandlers[d]=l,()=>delete b.core._failoverPendingHandlers[d]},b._triggerFailoverPendingHandlers=function(l){const Z=b.core._failoverPendingHandlers;Z&&Object.values(Z).forEach((Z=>Z(l)))},b.core.downloadLogs=function(l){if(!(b.core.regions&&b.core.regions[b.core.primaryRegion]&&b.core.regions[b.core.primaryRegion].connect))throw new Error("CCP is not initialized yet. Please call initCCP() first and wait until the getPrimaryRegion promise resolves.");Object.entries(b.core.regions).forEach((([Z,{connect:b}])=>{const d=`${Z}-${l&&l.logName||"agent-log"}`;b.getLog().download({logName:d,filterByLogLevel:l&&l.filterByLogLevel})}))},b.core.failover=function(l){b.core.failoverTo(b.core.secondaryRegion,l)},b.core.failoverTo=function(l,d){W(l),l===b.core.primaryRegion?Z.getLog().info(`[Disaster Recovery] Ignoring request to fail over to region ${l} since it is already the currently active region.`).sendInternalLogToServer():b.core.deactivate(b.core.primaryRegion,d)},b.core.deactivate=function(l,Z){var d=b.core.regions[l].connect;d.getLog().info("[Disaster Recovery] Deactivating %s region.",l).sendInternalLogToServer(),d.core.suppressContacts&&d.core.forceOffline?(d.core.suppressContacts(!0),d.core.forceOffline({softFailover:Z})):d.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to deactivate region",l)},b.core.activate=function(l){var Z=b.core.regions[l].connect;Z.getLog().info("[Disaster Recovery] Activating %s region.",l).sendInternalLogToServer(),Z.core.suppressContacts?Z.core.suppressContacts(!1):Z.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to activate region",l)}}()},236:function(){!function(){function l(l,Z){var b=(65535&l)+(65535&Z);return(l>>16)+(Z>>16)+(b>>16)<<16|65535&b}function Z(Z,b,d,m,c,W){return l((G=l(l(b,Z),l(m,W)))<<(V=c)|G>>>32-V,d);var G,V}function b(l,b,d,m,c,W,G){return Z(b&d|~b&m,l,b,c,W,G)}function d(l,b,d,m,c,W,G){return Z(b&m|d&~m,l,b,c,W,G)}function m(l,b,d,m,c,W,G){return Z(b^d^m,l,b,c,W,G)}function c(l,b,d,m,c,W,G){return Z(d^(b|~m),l,b,c,W,G)}function W(Z,W){var G,V,X,u,R;Z[W>>5]|=128<<W%32,Z[14+(W+64>>>9<<4)]=W;var p=1732584193,i=-271733879,Y=-1732584194,y=271733878;for(G=0;G<Z.length;G+=16)V=p,X=i,u=Y,R=y,p=b(p,i,Y,y,Z[G],7,-680876936),y=b(y,p,i,Y,Z[G+1],12,-389564586),Y=b(Y,y,p,i,Z[G+2],17,606105819),i=b(i,Y,y,p,Z[G+3],22,-1044525330),p=b(p,i,Y,y,Z[G+4],7,-176418897),y=b(y,p,i,Y,Z[G+5],12,1200080426),Y=b(Y,y,p,i,Z[G+6],17,-1473231341),i=b(i,Y,y,p,Z[G+7],22,-45705983),p=b(p,i,Y,y,Z[G+8],7,1770035416),y=b(y,p,i,Y,Z[G+9],12,-1958414417),Y=b(Y,y,p,i,Z[G+10],17,-42063),i=b(i,Y,y,p,Z[G+11],22,-1990404162),p=b(p,i,Y,y,Z[G+12],7,1804603682),y=b(y,p,i,Y,Z[G+13],12,-40341101),Y=b(Y,y,p,i,Z[G+14],17,-1502002290),p=d(p,i=b(i,Y,y,p,Z[G+15],22,1236535329),Y,y,Z[G+1],5,-165796510),y=d(y,p,i,Y,Z[G+6],9,-1069501632),Y=d(Y,y,p,i,Z[G+11],14,643717713),i=d(i,Y,y,p,Z[G],20,-373897302),p=d(p,i,Y,y,Z[G+5],5,-701558691),y=d(y,p,i,Y,Z[G+10],9,38016083),Y=d(Y,y,p,i,Z[G+15],14,-660478335),i=d(i,Y,y,p,Z[G+4],20,-405537848),p=d(p,i,Y,y,Z[G+9],5,568446438),y=d(y,p,i,Y,Z[G+14],9,-1019803690),Y=d(Y,y,p,i,Z[G+3],14,-187363961),i=d(i,Y,y,p,Z[G+8],20,1163531501),p=d(p,i,Y,y,Z[G+13],5,-1444681467),y=d(y,p,i,Y,Z[G+2],9,-51403784),Y=d(Y,y,p,i,Z[G+7],14,1735328473),p=m(p,i=d(i,Y,y,p,Z[G+12],20,-1926607734),Y,y,Z[G+5],4,-378558),y=m(y,p,i,Y,Z[G+8],11,-2022574463),Y=m(Y,y,p,i,Z[G+11],16,1839030562),i=m(i,Y,y,p,Z[G+14],23,-35309556),p=m(p,i,Y,y,Z[G+1],4,-1530992060),y=m(y,p,i,Y,Z[G+4],11,1272893353),Y=m(Y,y,p,i,Z[G+7],16,-155497632),i=m(i,Y,y,p,Z[G+10],23,-1094730640),p=m(p,i,Y,y,Z[G+13],4,681279174),y=m(y,p,i,Y,Z[G],11,-358537222),Y=m(Y,y,p,i,Z[G+3],16,-722521979),i=m(i,Y,y,p,Z[G+6],23,76029189),p=m(p,i,Y,y,Z[G+9],4,-640364487),y=m(y,p,i,Y,Z[G+12],11,-421815835),Y=m(Y,y,p,i,Z[G+15],16,530742520),p=c(p,i=m(i,Y,y,p,Z[G+2],23,-995338651),Y,y,Z[G],6,-198630844),y=c(y,p,i,Y,Z[G+7],10,1126891415),Y=c(Y,y,p,i,Z[G+14],15,-1416354905),i=c(i,Y,y,p,Z[G+5],21,-57434055),p=c(p,i,Y,y,Z[G+12],6,1700485571),y=c(y,p,i,Y,Z[G+3],10,-1894986606),Y=c(Y,y,p,i,Z[G+10],15,-1051523),i=c(i,Y,y,p,Z[G+1],21,-2054922799),p=c(p,i,Y,y,Z[G+8],6,1873313359),y=c(y,p,i,Y,Z[G+15],10,-30611744),Y=c(Y,y,p,i,Z[G+6],15,-1560198380),i=c(i,Y,y,p,Z[G+13],21,1309151649),p=c(p,i,Y,y,Z[G+4],6,-145523070),y=c(y,p,i,Y,Z[G+11],10,-1120210379),Y=c(Y,y,p,i,Z[G+2],15,718787259),i=c(i,Y,y,p,Z[G+9],21,-343485551),p=l(p,V),i=l(i,X),Y=l(Y,u),y=l(y,R);return[p,i,Y,y]}function G(l){var Z,b="",d=32*l.length;for(Z=0;Z<d;Z+=8)b+=String.fromCharCode(l[Z>>5]>>>Z%32&255);return b}function V(l){var Z,b=[];for(b[(l.length>>2)-1]=void 0,Z=0;Z<b.length;Z+=1)b[Z]=0;var d=8*l.length;for(Z=0;Z<d;Z+=8)b[Z>>5]|=(255&l.charCodeAt(Z/8))<<Z%32;return b}function X(l){var Z,b,d="0123456789abcdef",m="";for(b=0;b<l.length;b+=1)Z=l.charCodeAt(b),m+=d.charAt(Z>>>4&15)+d.charAt(15&Z);return m}function u(l){return unescape(encodeURIComponent(l))}function R(l){return function(l){return G(W(V(l),8*l.length))}(u(l))}function p(l,Z){return function(l,Z){var b,d,m=V(l),c=[],X=[];for(c[15]=X[15]=void 0,m.length>16&&(m=W(m,8*l.length)),b=0;b<16;b+=1)c[b]=909522486^m[b],X[b]=1549556828^m[b];return d=W(c.concat(V(Z)),512+8*Z.length),G(W(X.concat(d),640))}(u(l),u(Z))}(this||globalThis).md5=function(l,Z,b){return Z?b?p(Z,l):X(p(Z,l)):b?R(l):X(R(l))}}()},790:()=>{!function(){var l=this||globalThis,Z=function(){return Z.cache.hasOwnProperty(arguments[0])||(Z.cache[arguments[0]]=Z.parse(arguments[0])),Z.format.call(null,Z.cache[arguments[0]],arguments)};function b(l){return Object.prototype.toString.call(l).slice(8,-1).toLowerCase()}function d(l,Z){for(var b=[];Z>0;b[--Z]=l);return b.join("")}Z.format=function(l,m){var c,W,G,V,X,u,R,p=1,i=l.length,Y="",y=[];for(W=0;W<i;W++)if("string"===(Y=b(l[W])))y.push(l[W]);else if("array"===Y){if((V=l[W])[2])for(c=m[p],G=0;G<V[2].length;G++){if(!c.hasOwnProperty(V[2][G]))throw Z('[sprintf] property "%s" does not exist',V[2][G]);c=c[V[2][G]]}else c=V[1]?m[V[1]]:m[p++];if(/[^s]/.test(V[8])&&"number"!=b(c))throw Z("[sprintf] expecting number but found %s",b(c));switch(V[8]){case"b":c=c.toString(2);break;case"c":c=String.fromCharCode(c);break;case"d":c=parseInt(c,10);break;case"e":c=V[7]?c.toExponential(V[7]):c.toExponential();break;case"f":c=V[7]?parseFloat(c).toFixed(V[7]):parseFloat(c);break;case"o":c=c.toString(8);break;case"s":c=(c=String(c))&&V[7]?c.substring(0,V[7]):c;break;case"u":c>>>=0;break;case"x":c=c.toString(16);break;case"X":c=c.toString(16).toUpperCase()}c=/[def]/.test(V[8])&&V[3]&&c>=0?"+"+c:c,u=V[4]?"0"==V[4]?"0":V[4].charAt(1):" ",R=V[6]-String(c).length,X=V[6]?d(u,R):"",y.push(V[5]?c+X:X+c)}return y.join("")},Z.cache={},Z.parse=function(l){for(var Z=l,b=[],d=[],m=0;Z;){if(null!==(b=/^[^\x25]+/.exec(Z)))d.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(Z)))d.push("%");else{if(null===(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(Z)))throw"[sprintf] huh?";if(b[2]){m|=1;var c=[],W=b[2],G=[];if(null===(G=/^([a-z_][a-z_\d]*)/i.exec(W)))throw"[sprintf] huh?";for(c.push(G[1]);""!==(W=W.substring(G[0].length));)if(null!==(G=/^\.([a-z_][a-z_\d]*)/i.exec(W)))c.push(G[1]);else{if(null===(G=/^\[(\d+)\]/.exec(W)))throw"[sprintf] huh?";c.push(G[1])}b[2]=c}else m|=2;if(3===m)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(b)}Z=Z.substring(b[0].length)}return d},l.sprintf=Z,l.vsprintf=function(l,b,d){return(d=b.slice(0)).splice(0,0,l),Z.apply(null,d)}}()},94:()=>{!function(){var l=this||globalThis,Z=l.connect||{};l.connect=Z,l.lily=Z;var b=navigator.userAgent,d=["bubbles","cancelBubble","cancelable","composed","data","defaultPrevented","eventPhase","isTrusted","lastEventId","origin","returnValue","timeStamp","type"];Z.sprintf=l.sprintf,Z.vsprintf=l.vsprintf,delete l.sprintf,delete l.vsprintf,Z.HTTP_STATUS_CODES={SUCCESS:200,UNAUTHORIZED:401,ACCESS_DENIED:403,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500},Z.TRANSPORT_TYPES={CHAT_TOKEN:"chat_token",WEB_SOCKET:"web_socket",AGENT_DISCOVERY:"agent_discovery",WEB_RTC:"web_rtc"},Z.hitch=function(){var l=Array.prototype.slice.call(arguments),b=l.shift(),d=l.shift();return Z.assertNotNull(b,"scope"),Z.assertNotNull(d,"method"),Z.assertTrue(Z.isFunction(d),"method must be a function"),function(){var Z=Array.prototype.slice.call(arguments);return d.apply(b,l.concat(Z))}},Z.isFunction=function(l){return!!(l&&l.constructor&&l.call&&l.apply)},Z.isArray=function(l){return"[object Array]"===Object.prototype.toString.call(l)},Z.keys=function(l){var b=[];for(var d in Z.assertNotNull(l,"map"),l)b.push(d);return b},Z.values=function(l){var b=[];for(var d in Z.assertNotNull(l,"map"),l)b.push(l[d]);return b},Z.entries=function(l){var Z=[];for(var b in l)Z.push({key:b,value:l[b]});return Z},Z.merge=function(){var l=Array.prototype.slice.call(arguments,0),b={};return l.forEach((function(l){Z.entries(l).forEach((function(l){b[l.key]=l.value}))})),b},Z.now=function(){return(new Date).getTime()},Z.find=function(l,Z){for(var b=0;b<l.length;b++)if(Z(l[b]))return l[b];return null},Z.contains=function(l,b){return l instanceof Array?null!=Z.find(l,(function(l){return l===b})):b in l},Z.containsValue=function(l,b){return l instanceof Array?null!=Z.find(l,(function(l){return l===b})):null!=Z.find(Z.values(l),(function(l){return l===b}))},Z.randomId=function(){return Z.sprintf("%s-%s",Z.now(),Math.random().toString(36).slice(2))},Z.makeEnum=function(l){var Z={};return l.forEach((function(l){var b=l.replace(/\.?([a-z]+)_?/g,(function(l,Z){return Z.toUpperCase()+"_"})).replace(/_$/,"");Z[b]=l})),Z},Z.makeNamespacedEnum=function(l,b){var d=Z.makeEnum(b);return Z.keys(d).forEach((function(b){d[b]=Z.sprintf("%s::%s",l,d[b])})),d},Z.makeGenericNamespacedEnum=function(l,b,d){var m=Z.makeEnum(b);return Z.keys(m).forEach((function(b){m[b]=Z.sprintf("%s"+d+"%s",l,m[b])})),m},Z.isChromeBrowser=function(){return-1!==b.indexOf("Chrome")},Z.isFirefoxBrowser=function(){return-1!==b.indexOf("Firefox")},Z.isOperaBrowser=function(){return-1!==b.indexOf("Opera")},Z.isEdgeBrowser=function(){return-1!==b.indexOf("Edg")},Z.getChromeBrowserVersion=function(){var l=b.substring(b.indexOf("Chrome")+7);return l?parseFloat(l):-1},Z.getFirefoxBrowserVersion=function(){var l=b.substring(b.indexOf("Firefox")+8);return l?parseFloat(l):-1},Z.isValidLocale=function(l){return[{id:"en_US",label:"English"},{id:"de_DE",label:"Deutsch"},{id:"es_ES",label:"Espaol"},{id:"fr_FR",label:"Franais"},{id:"ja_JP",label:""},{id:"it_IT",label:"Italiano"},{id:"ko_KR",label:""},{id:"pt_BR",label:"Portugus"},{id:"zh_CN",label:"()"},{id:"zh_TW",label:"()"}].map((function(l){return l.id})).includes(l)},Z.getOperaBrowserVersion=function(){var l=b.indexOf("Opera"),Z=-1!==b.indexOf("Version")?b.substring(l+8):b.substring(l+6);return Z?parseFloat(Z):-1},Z.index=function(l,Z){var b={};return l.forEach((function(l){b[Z(l)]=l})),b},Z.set=function(l){var Z={};return l.forEach((function(l){Z[l]=1})),Z},Z.relativeComplement=function(l,b){var d={};return Z.keys(b).forEach((function(Z){Z in l||(d[Z]=b[Z])})),d},Z.assertTrue=function(l,b){if(!l)throw new Z.ValueError(b)},Z.assertNotNull=function(l,b){return Z.assertTrue(null!=l&&void 0!==typeof l,Z.sprintf("%s must be provided",b||"A value")),l},Z.deepcopy=function(l){return JSON.parse(JSON.stringify(l))},Z.deepcopyCrossOriginEvent=function(l){const b={};return d.forEach((d=>{try{b[d]=l[d]}catch(l){Z.getLog().info("deepcopyCrossOriginEvent failed on key: ",d).sendInternalLogToServer()}})),Z.deepcopy(b)},Z.getBaseUrl=function(){var b=l.location;return Z.sprintf("%s//%s:%s",b.protocol,b.hostname,b.port)},Z.getUrlWithProtocol=function(b){var d=l.location.protocol;return b.substr(0,d.length)!==d?Z.sprintf("%s//%s",d,b):b},Z.isFramed=function(){try{return window.self!==window.top}catch(l){return!0}},Z.hasOtherConnectedCCPs=function(){return Z.numberOfConnectedCCPs>1},Z.fetch=function(l,b,d,m){return m=m||5,d=d||1e3,b=b||{},new Promise((function(c,W){!function m(G){fetch(l,b).then((function(l){l.status===Z.HTTP_STATUS_CODES.SUCCESS?l.json().then((l=>c(l))).catch((()=>c({}))):1!==G&&(l.status>=Z.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR||l.status===Z.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)?setTimeout((function(){m(--G)}),d):W(l)})).catch((function(l){W(l)}))}(m)}))},Z.fetchWithTimeout=async function(l,b,d,m,c){if(d=d||{},!b)return Z.fetch(l,d,m,c);const W=new AbortController,G=setTimeout((()=>W.abort()),b),V=await Z.fetch(l,{...d,signal:W.signal},m,c);return clearTimeout(G),V},Z.backoff=function(b,d,m,c){Z.assertTrue(Z.isFunction(b),"func must be a Function");var W=this;b({success:function(l){c&&c.success&&c.success(l)},failure:function(Z,G){if(m>0){var V=2*d*Math.random();l.setTimeout((function(){W.backoff(b,2*V,--m,c)}),V)}else c&&c.failure&&c.failure(Z,G)}})},Z.publishMetric=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.CLIENT_METRIC,data:l})},Z.publishSoftphoneStats=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.SOFTPHONE_STATS,data:l})},Z.publishSoftphoneReport=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.SOFTPHONE_REPORT,data:l})},Z.publishClickStreamData=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.CLICK_STREAM_DATA,data:l})},Z.publishClientSideLogs=function(l){Z.core.getEventBus().trigger(Z.EventType.CLIENT_SIDE_LOGS,l)},Z.addNamespaceToLogs=function(l){["log","error","warn","info","debug"].forEach((Z=>{const b=window.console[Z];window.console[Z]=function(){const Z=Array.from(arguments);Z.unshift(`[${l}]`),b.apply(window.console,Z)}}))},Z.PopupManager=function(){},Z.PopupManager.prototype.open=function(l,Z,b){var d=null;if(b){var m=b.height||578,c=b.width||433,W=b.top||0,G=b.left||0;(d=window.open("",Z,"width="+c+", height="+m+", top="+W+", left="+G)).location!==l&&(d=window.open(l,Z,"width="+c+", height="+m+", top="+W+", left="+G))}else(d=window.open("",Z)).location!==l&&(d=window.open(l,Z));return d},Z.PopupManager.prototype.clear=function(Z){var b=this._getLocalStorageKey(Z);l.localStorage.removeItem(b)},Z.PopupManager.prototype._getLastOpenedTimestamp=function(Z){var b=this._getLocalStorageKey(Z),d=l.localStorage.getItem(b);return d?parseInt(d,10):0},Z.PopupManager.prototype._setLastOpenedTimestamp=function(Z,b){var d=this._getLocalStorageKey(Z);l.localStorage.setItem(d,""+b)},Z.PopupManager.prototype._getLocalStorageKey=function(l){return"connectPopupManager::"+l};var m=Z.makeEnum(["granted","denied","default"]);Z.NotificationManager=function(){this.queue=[],this.permission=m.DEFAULT},Z.NotificationManager.prototype.requestPermission=function(){var b=this;"Notification"in l?l.Notification.permission===m.DENIED?(Z.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer(),this.permission=m.DENIED):this.permission!==m.GRANTED&&l.Notification.requestPermission().then((function(l){b.permission=l,l===m.GRANTED?b._showQueued():b.queue=[]})):(Z.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer(),this.permission=m.DENIED)},Z.NotificationManager.prototype.show=function(l,b){if(this.permission===m.GRANTED)return this._showImpl({title:l,options:b});if(this.permission===m.DENIED)Z.getLog().warn("Unable to show notification.").sendInternalLogToServer().withObject({title:l,options:b});else{var d={title:l,options:b};Z.getLog().warn("Deferring notification until user decides to allow or deny.").withObject(d).sendInternalLogToServer(),this.queue.push(d)}},Z.NotificationManager.prototype._showQueued=function(){var l=this,Z=this.queue.map((function(Z){return l._showImpl(Z)}));return this.queue=[],Z},Z.NotificationManager.prototype._showImpl=function(Z){var b=new l.Notification(Z.title,Z.options);return Z.options.clicked&&(b.onclick=function(){Z.options.clicked.call(b)}),b},Z.ValueError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.ValueError.prototype),d},Object.setPrototypeOf(Z.ValueError.prototype,Error.prototype),Object.setPrototypeOf(Z.ValueError,Error),Z.ValueError.prototype.name="ValueError",Z.NotImplementedError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.NotImplementedError.prototype),d},Object.setPrototypeOf(Z.NotImplementedError.prototype,Error.prototype),Object.setPrototypeOf(Z.NotImplementedError,Error),Z.NotImplementedError.prototype.name="NotImplementedError",Z.StateError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.StateError.prototype),d},Object.setPrototypeOf(Z.StateError.prototype,Error.prototype),Object.setPrototypeOf(Z.StateError,Error),Z.StateError.prototype.name="StateError",Z.VoiceIdError=function(l,Z,b){var d={};return d.type=l,d.message=Z,d.stack=Error(Z).stack,d.err=b,d},Z.isCCP=function(){return!!Z.core.upstream&&"ConnectSharedWorkerConduit"===Z.core.getUpstream().name},Z.isSharedWorker=function(){return Z.worker&&!!Z.worker.clientEngine},Z.isCRM=function(){return!!Z.core.upstream&&(Z.core.getUpstream()instanceof Z.IFrameConduit||Z.core.getUpstream()instanceof Z.GRProxyIframeConduit)},Z.isActiveConduit=function(l){const b=Z.core.getUpstream();return b instanceof Z.GRProxyIframeConduit?l.name===b.activeRegionUrl:(Z.getLog().debug("connect.isActiveConduit is called but there is no GR proxy conduit").sendInternalLogToServer(),!0)}}()}})[790](),l[236](),l[94](),l[296](),l[96]()})();