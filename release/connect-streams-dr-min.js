(()=>{var l;(l={296:()=>{!function(){var l=this||globalThis,Z=l.connect||{};l.connect=Z,l.globalConnect={},l.lily=Z,globalConnect.Container=null;var b=window.atob("KCgpPT57dmFyIGU9ezU3ODooZSx0LG4pPT57InVzZSBzdHJpY3QiO24ucih0KSxuLmQodCx7QWN0aXZpdHlSb3V0ZXM6KCk9Pm8sQWN0aXZpdHlUb3BpY0tleXM6KCk9PmYsU2Vzc2lvbkV4cGlyYXRpb25XYXJuaW5nQ2xpZW50OigpPT5nLGFjdGl2aXR5TmFtZXNwYWNlOigpPT5yLHNlbmRBY3Rpdml0eTooKT0+aH0pO2NvbnN0IHI9ImF3cy5jb25uZWN0LmFjdGl2aXR5Ijt2YXIgbzshZnVuY3Rpb24oZSl7ZS5zZW5kQWN0aXZpdHk9InNlbmRBY3Rpdml0eSJ9KG98fChvPXt9KSk7dmFyIGk9bigyMzgpLGE9bigxODEpLHM9bi5uKGEpLGM9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NvbnN0IHU9MWUzO2xldCBsLHAsZD0wO2Z1bmN0aW9uIGgoZSl7aWYoIXApe2w9bmV3IGkucGcoe3Byb3ZpZGVyOmUsc291cmNlOnJ9KSxsLmRlYnVnKCJDcmVhdGluZyBhY3Rpdml0eSBjYWxsYmFjay4uIik7Y29uc3QgdD0oKT0+eyFmdW5jdGlvbihlKXtjKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtwcm92aWRlcjplfSl7dHJ5e3lpZWxkIGUuZ2V0UHJveHkoKS5yZXF1ZXN0KHIsby5zZW5kQWN0aXZpdHkpLGQ9MH1jYXRjaChlKXtkPDUmJihsLmVycm9yKCJGYWlsZWQgdG8gcmVjb3JkIGFnZW50IGFjdGl2aXR5Iix7ZXJyb3I6ZSxlcnJvckNvdW50OmR9KSxkKyspfX0pKX0oe3Byb3ZpZGVyOmV9KX07cD1zKCkodCx1LHtsZWFkaW5nOiEwLHRyYWlsaW5nOiExfSl9cCgpfXZhciBmOyFmdW5jdGlvbihlKXtlLmV4cGlyYXRpb25XYXJuaW5nPSJleHBpcmF0aW9uLXdhcm5pbmciLGUuZXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkPSJleHBpcmF0aW9uLXdhcm5pbmctY2xlYXJlZCIsZS5zZXNzaW9uRXh0ZW5zaW9uRXJyb3I9InNlc3Npb24tZXh0ZW5zaW9uLWVycm9yIn0oZnx8KGY9e30pKTtjbGFzcyBnIGV4dGVuZHMgaS5DJHtjb25zdHJ1Y3RvcihlKXtzdXBlcihyLGUpfW9uRXhwaXJhdGlvbldhcm5pbmcoZSl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmYuZXhwaXJhdGlvbldhcm5pbmd9LGUpfW9mZkV4cGlyYXRpb25XYXJuaW5nKGUpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmYuZXhwaXJhdGlvbldhcm5pbmd9LGUpfW9uRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpmLmV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZH0sZSl9b2ZmRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmYuZXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkfSxlKX1vblNlc3Npb25FeHRlbnNpb25FcnJvcihlKXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6Zi5zZXNzaW9uRXh0ZW5zaW9uRXJyb3J9LGUpfW9mZlNlc3Npb25FeHRlbnNpb25FcnJvcihlKXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpmLnNlc3Npb25FeHRlbnNpb25FcnJvcn0sZSl9fX0sNzkxOihlLHQsbik9PnsidXNlIHN0cmljdCI7bi5yKHQpLG4uZCh0LHtBZ2VudENsaWVudDooKT0+cCxBZ2VudFJvdXRlczooKT0+aSxBZ2VudFRvcGljS2V5OigpPT5jLENvbnRhY3RDbGllbnQ6KCk9PmcsQ29udGFjdExpZmVjeWNsZVRvcGljS2V5OigpPT5zLENvbnRhY3RSb3V0ZXM6KCk9PmEsQ29udGFjdFN0YXRlVHlwZTooKT0+ZCxDb250YWN0VG9waWNLZXk6KCk9PnUsUGFydGljaXBhbnRTdGF0ZVR5cGU6KCk9PmgsY29udGFjdE5hbWVzcGFjZTooKT0+b30pO3ZhciByPW4oMjM4KTtjb25zdCBvPSJhd3MuY29ubmVjdC5jb250YWN0Ijt2YXIgaSxhLHMsYyx1OyFmdW5jdGlvbihlKXtlLmdldEFSTj0iYWdlbnQvZ2V0QVJOIixlLmdldE5hbWU9ImFnZW50L2dldE5hbWUiLGUuZ2V0U3RhdGU9ImFnZW50L2dldFN0YXRlIixlLmdldFJvdXRpbmdQcm9maWxlPSJhZ2VudC9nZXRSb3V0aW5nUHJvZmlsZSIsZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ImFnZW50L2dldENoYW5uZWxDb25jdXJyZW5jeSIsZS5nZXRFeHRlbnNpb249ImFnZW50L2dldEV4dGVuc2lvbiIsZS5nZXREaWFsYWJsZUNvdW50cmllcz0iYWdlbnQvZ2V0RGlhbGFibGVDb3VudHJpZXMiLGUuc2V0QXZhaWxhYmlsaXR5U3RhdGU9ImFnZW50L3NldEF2YWlsYWJpbGl0eVN0YXRlIixlLnNldEF2YWlsYWJpbGl0eVN0YXRlQnlOYW1lPSJhZ2VudC9zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZSIsZS5zZXRPZmZsaW5lPSJhZ2VudC9zZXRPZmZsaW5lIixlLmxpc3RBdmFpbGFiaWxpdHlTdGF0ZXM9ImFnZW50L2xpc3RBdmFpbGFiaWxpdHlTdGF0ZXMiLGUubGlzdFF1aWNrQ29ubmVjdHM9ImFnZW50L2xpc3RRdWlja0Nvbm5lY3RzIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLmdldEF0dHJpYnV0ZXM9ImNvbnRhY3QvZ2V0QXR0cmlidXRlcyIsZS5nZXRJbml0aWFsQ29udGFjdElkPSJjb250YWN0L2dldEluaXRpYWxDb250YWN0SWQiLGUuZ2V0VHlwZT0iY29udGFjdC9nZXRUeXBlIixlLmdldFN0YXRlRHVyYXRpb249ImNvbnRhY3QvZ2V0U3RhdGVEdXJhdGlvbiIsZS5nZXRRdWV1ZT0iY29udGFjdC9nZXRRdWV1ZSIsZS5nZXRRdWV1ZVRpbWVzdGFtcD0iY29udGFjdC9nZXRRdWV1ZVRpbWVzdGFtcCIsZS5nZXREZXNjcmlwdGlvbj0iY29udGFjdC9nZXREZXNjcmlwdGlvbiIsZS5nZXRSZWZlcmVuY2VzPSJjb250YWN0L2dldFJlZmVyZW5jZXMiLGUuZ2V0Q2hhbm5lbFR5cGU9ImNvbnRhY3QvZ2V0Q2hhbm5lbFR5cGUiLGUuYWRkUGFydGljaXBhbnQ9ImNvbnRhY3QvYWRkUGFydGljaXBhbnQiLGUudHJhbnNmZXI9ImNvbnRhY3QvdHJhbnNmZXIiLGUuYWNjZXB0PSJjb250YWN0L2FjY2VwdCIsZS5jbGVhcj0iY29udGFjdC9jbGVhciIsZS5pc1ByZXZpZXdNb2RlPSJjb250YWN0L2lzUHJldmlld01vZGUiLGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb249ImNvbnRhY3QvZ2V0UHJldmlld0NvbmZpZ3VyYXRpb24iLGUuZW5nYWdlUHJldmlld0NvbnRhY3Q9ImNvbnRhY3QvZW5nYWdlUHJldmlld0NvbnRhY3QifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhcnRpbmdBQ1c9ImNvbnRhY3QvYWN3IixlLkNvbm5lY3RlZD0iY29udGFjdC9jb25uZWN0ZWQiLGUuRGVzdHJveWVkPSJjb250YWN0L2Rlc3Ryb3kiLGUuTWlzc2VkPSJjb250YWN0L21pc3NlZCIsZS5DbGVhcmVkPSJjb250YWN0L2NsZWFyZWQiLGUuSW5jb21pbmc9ImNvbnRhY3QvaW5jb21pbmcifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhdGVDaGFuZ2VkPSJhZ2VudC9zdGF0ZUNoYW5nZSIsZS5Sb3V0aW5nUHJvZmlsZUNoYW5nZWQ9ImFnZW50L3JvdXRpbmdQcm9maWxlQ2hhbmdlZCIsZS5FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkPSJhZ2VudC9lbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkIn0oY3x8KGM9e30pKSx1fHwodT17fSk7dmFyIGw9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NsYXNzIHAgZXh0ZW5kcyByLnVVe2NvbnN0cnVjdG9yKGUpe3N1cGVyKG8sZSl9Z2V0QVJOKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtBUk46ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXRBUk4pO3JldHVybiBlfSkpfWdldE5hbWUoKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e25hbWU6ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXROYW1lKTtyZXR1cm4gZX0pKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLmdldFN0YXRlKX1nZXRSb3V0aW5nUHJvZmlsZSgpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLmdldFJvdXRpbmdQcm9maWxlKX1nZXRDaGFubmVsQ29uY3VycmVuY3koKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXRDaGFubmVsQ29uY3VycmVuY3kpfWdldEV4dGVuc2lvbigpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7ZXh0ZW5zaW9uOmV9PXlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGkuZ2V0RXh0ZW5zaW9uKTtyZXR1cm4gZX0pKX1nZXREaWFsYWJsZUNvdW50cmllcygpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7ZGlhbGFibGVDb3VudHJpZXM6ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXREaWFsYWJsZUNvdW50cmllcyk7cmV0dXJuIGV9KSl9b25TdGF0ZUNoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmMuU3RhdGVDaGFuZ2VkfSxlKX1vZmZTdGF0ZUNoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnVuc3Vic2NyaWJlKHtrZXk6Yy5TdGF0ZUNoYW5nZWR9LGUpfXNldEF2YWlsYWJpbGl0eVN0YXRlKGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLnNldEF2YWlsYWJpbGl0eVN0YXRlLHthZ2VudFN0YXRlQVJOOmV9KX1zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZShlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZSx7YWdlbnRTdGF0ZU5hbWU6ZX0pfXNldE9mZmxpbmUoKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5zZXRPZmZsaW5lLHt9KX1saXN0QXZhaWxhYmlsaXR5U3RhdGVzKCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGkubGlzdEF2YWlsYWJpbGl0eVN0YXRlcyl9bGlzdFF1aWNrQ29ubmVjdHMoZSx0KXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5saXN0UXVpY2tDb25uZWN0cyx7cXVldWVBUk5zOmUsb3B0aW9uczp0fSl9b25FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkKGUpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpjLkVuYWJsZWRDaGFubmVsTGlzdENoYW5nZWR9LGUpfW9mZkVuYWJsZWRDaGFubmVsTGlzdENoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnVuc3Vic2NyaWJlKHtrZXk6Yy5FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkfSxlKX1vblJvdXRpbmdQcm9maWxlQ2hhbmdlZChlKXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6Yy5Sb3V0aW5nUHJvZmlsZUNoYW5nZWR9LGUpfW9mZlJvdXRpbmdQcm9maWxlQ2hhbmdlZChlKXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpjLlJvdXRpbmdQcm9maWxlQ2hhbmdlZH0sZSl9fXZhciBkLGgsZj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX07Y2xhc3MgZyBleHRlbmRzIHIudVV7Y29uc3RydWN0b3IoZSl7c3VwZXIobyxlKX1nZXRBdHRyaWJ1dGVzKGUsdCl7Y29uc3Qgbj17Y29udGFjdElkOmUsYXR0cmlidXRlczp0fTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRBdHRyaWJ1dGVzLG4pfWdldEF0dHJpYnV0ZShlLHQpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuZ2V0QXR0cmlidXRlcyhlLFt0XSkpW3RdfSkpfWdldEluaXRpYWxDb250YWN0SWQoZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRJbml0aWFsQ29udGFjdElkLHtjb250YWN0SWQ6ZX0pKS5pbml0aWFsQ29udGFjdElkfSkpfWdldFR5cGUoZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRUeXBlLHtjb250YWN0SWQ6ZX0pKS50eXBlfSkpfWdldFN0YXRlRHVyYXRpb24oZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRTdGF0ZUR1cmF0aW9uLHtjb250YWN0SWQ6ZX0pKS5zdGF0ZUR1cmF0aW9ufSkpfWdldFF1ZXVlKGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmdldFF1ZXVlLHtjb250YWN0SWQ6ZX0pfWdldFF1ZXVlVGltZXN0YW1wKGUpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEuZ2V0UXVldWVUaW1lc3RhbXAse2NvbnRhY3RJZDplfSkpLnF1ZXVlVGltZXN0YW1wfSkpfW9uU3RhcnRpbmdBY3coZSx0KXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6cy5TdGFydGluZ0FDVyxwYXJhbWV0ZXI6dH0sZSl9b25EZXN0cm95ZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6cy5EZXN0cm95ZWQscGFyYW1ldGVyOnR9LGUpfW9uQ29ubmVjdGVkKGUsdCl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OnMuQ29ubmVjdGVkLHBhcmFtZXRlcjp0fSxlKX1vbk1pc3NlZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpzLk1pc3NlZCxwYXJhbWV0ZXI6dH0sZSl9b25JbmNvbWluZyhlLHQpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpzLkluY29taW5nLHBhcmFtZXRlcjp0fSxlKX1vZmZTdGFydGluZ0FjdyhlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OnMuU3RhcnRpbmdBQ1cscGFyYW1ldGVyOnR9LGUpfW9mZkRlc3Ryb3llZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OnMuRGVzdHJveWVkLHBhcmFtZXRlcjp0fSxlKX1vZmZNaXNzZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpzLk1pc3NlZCxwYXJhbWV0ZXI6dH0sZSl9b2ZmSW5jb21pbmcoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpzLkluY29taW5nLHBhcmFtZXRlcjp0fSxlKX1vZmZDb25uZWN0ZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpzLkNvbm5lY3RlZCxwYXJhbWV0ZXI6dH0sZSl9Z2V0Q2hhbm5lbFR5cGUoZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRDaGFubmVsVHlwZSx7Y29udGFjdElkOmV9KX0pKX1hZGRQYXJ0aWNpcGFudChlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmFkZFBhcnRpY2lwYW50LHtjb250YWN0SWQ6ZSxxdWlja0Nvbm5lY3Q6dH0pfXRyYW5zZmVyKGUsdCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEudHJhbnNmZXIse2NvbnRhY3RJZDplLHF1aWNrQ29ubmVjdDp0fSl9b25DbGVhcmVkKGUsdCl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OnMuQ2xlYXJlZCxwYXJhbWV0ZXI6dH0sZSl9b2ZmQ2xlYXJlZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OnMuQ2xlYXJlZCxwYXJhbWV0ZXI6dH0sZSl9YWNjZXB0KGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmFjY2VwdCx7Y29udGFjdElkOmV9KX1jbGVhcihlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5jbGVhcix7Y29udGFjdElkOmV9KX1pc1ByZXZpZXdNb2RlKGUpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEuaXNQcmV2aWV3TW9kZSx7Y29udGFjdElkOmV9KSkuaXNQcmV2aWV3TW9kZX0pKX1nZXRQcmV2aWV3Q29uZmlndXJhdGlvbihlKXtyZXR1cm4gZih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmdldFByZXZpZXdDb25maWd1cmF0aW9uLHtjb250YWN0SWQ6ZX0pfSkpfWVuZ2FnZVByZXZpZXdDb250YWN0KGUpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEuZW5nYWdlUHJldmlld0NvbnRhY3Qse2NvbnRhY3RJZDplfSl9KSl9fWR8fChkPXt9KSxofHwoaD17fSl9LDIzODooZSx0LG4pPT57InVzZSBzdHJpY3QiO2xldCByO2Z1bmN0aW9uIG8oZSl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKG51bGwhPWU/ZToiQXR0ZW1wdGVkIHRvIGdldCBHbG9iYWwgQW1hem9uQ29ubmVjdFByb3ZpZGVyIHRoYXQgaGFzIG5vdCBiZWVuIHNldC4iKTtyZXR1cm4gcn1uLmQodCx7THQ6KCk9PmssQyQ6KCk9PngsdVU6KCk9Pk0scGc6KCk9Pk8sYnk6KCk9PlIsTHo6KCk9Pm8seFE6KCk9Pmx9KTtjbGFzcyBpIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3Ioe3JlYXNvbjplLG5hbWVzcGFjZTp0LGVycm9yS2V5Om4sZGV0YWlsczpyfSl7c3VwZXIoYENvbm5lY3RFcnJvciB3aXRoIGVycm9yIGtleSAiJHtufSJgKSx0aGlzLmVycm9yVHlwZT1pLkVycm9yVHlwZSx0aGlzLm5hbWVzcGFjZT10LHRoaXMuZXJyb3JLZXk9bix0aGlzLnJlYXNvbj1lLHRoaXMuZGV0YWlscz1udWxsIT1yP3I6e319fWkuRXJyb3JUeXBlPSJDb25uZWN0RXJyb3IiO2NsYXNzIGF7Y29uc3RydWN0b3Ioe3Byb3ZpZGVyOmUsbG9nZ2VyS2V5OnR9KXt0aGlzLmV2ZW50cz1uZXcgTWFwLHRoaXMubG9nZ2VyPW5ldyBPKHtwcm92aWRlcjplLHNvdXJjZToiZW1pdHRlciIsbWl4aW46KCk9Pih7ZW1pdHRlckxvZ2dlcktleTp0fSl9KX1vbihlLHQpe2NvbnN0IG49dGhpcy5ldmVudHMuZ2V0KGUpO24/bi5hZGQodCk6dGhpcy5ldmVudHMuc2V0KGUsbmV3IFNldChbdF0pKX1vZmYoZSx0KXtjb25zdCBuPXRoaXMuZXZlbnRzLmdldChlKTtuJiYobi5kZWxldGUodCksbi5zaXplPDEmJnRoaXMuZXZlbnRzLmRlbGV0ZShlKSl9Z2V0SGFuZGxlcnMoZSl7dmFyIHQ7cmV0dXJuIEFycmF5LmZyb20obnVsbCE9PSh0PXRoaXMuZXZlbnRzLmdldChlKSkmJnZvaWQgMCE9PXQ/dDpbXSl9fXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfTtjbGFzcyBjIGV4dGVuZHMgYXtlbWl0KGUsdCl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBuPXRoaXMuZ2V0SGFuZGxlcnMoZSk7eWllbGQgUHJvbWlzZS5hbGxTZXR0bGVkKG4ubWFwKChuPT5zKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e3lpZWxkIG4odCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdoZW4gaW52b2tpbmcgZXZlbnQgaGFuZGxlciIse2Vycm9yOnQscGFyYW1ldGVyOmV9KX19KSkpKSl9KSl9fWZ1bmN0aW9uIHUoKXtyZXR1cm4icmFuZG9tVVVJRCJpbiBjcnlwdG8/Y3J5cHRvLnJhbmRvbVVVSUQoKToiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwIi5yZXBsYWNlKC9bMDE4XS9nLChlPT57Y29uc3QgdD1wYXJzZUludChlKTtyZXR1cm4odF5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSYxNT4+dC80KS50b1N0cmluZygxNil9KSl9ZnVuY3Rpb24gbCgpe3ZhciBlLHQsbixyO3JldHVybntvcmlnaW46bnVsbCE9PSh0PW51bGw9PT0oZT1udWxsPT09ZG9jdW1lbnR8fHZvaWQgMD09PWRvY3VtZW50P3ZvaWQgMDpkb2N1bWVudC5sb2NhdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUub3JpZ2luKSYmdm9pZCAwIT09dD90OiJ1bmtub3duIixwYXRoOm51bGwhPT0ocj1udWxsPT09KG49bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD92b2lkIDA6ZG9jdW1lbnQubG9jYXRpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBhdGhuYW1lKSYmdm9pZCAwIT09cj9yOiJ1bmtub3duIn19Y2xhc3MgcHtjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzQnlIYW5kbGVyPW5ldyBNYXAsdGhpcy5oYW5kbGVyc0J5SWQ9bmV3IE1hcH1hZGQoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7aWYodClyZXR1cm57aGFuZGxlcklkOnR9O2NvbnN0IG49dSgpO3JldHVybiB0aGlzLmlkc0J5SGFuZGxlci5zZXQoZSxuKSx0aGlzLmhhbmRsZXJzQnlJZC5zZXQobixlKSx7aGFuZGxlcklkOm59fWdldElkQnlIYW5kbGVyKGUpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9dGhpcy5pZHNCeUhhbmRsZXIuZ2V0KGUpKSYmdm9pZCAwIT09dD90Om51bGx9Z2V0SGFuZGxlckJ5SWQoZSl7dmFyIHQ7cmV0dXJuIG51bGwhPT0odD10aGlzLmhhbmRsZXJzQnlJZC5nZXQoZSkpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQoKXtyZXR1cm5bLi4udGhpcy5pZHNCeUhhbmRsZXIuZW50cmllcygpXS5tYXAoKChbZSx0XSk9Pih7aGFuZGxlcjplLGhhbmRsZXJJZDp0fSkpKX1kZWxldGUoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7cmV0dXJuIHQmJnRoaXMuaGFuZGxlcnNCeUlkLmRlbGV0ZSh0KSx0aGlzLmlkc0J5SGFuZGxlci5kZWxldGUoZSkse2lzRW1wdHk6dGhpcy5pZHNCeUhhbmRsZXIuc2l6ZTwxfX1zaXplKCl7cmV0dXJuIHRoaXMuaWRzQnlIYW5kbGVyLnNpemV9fWNsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnM9bmV3IE1hcCx0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucz1uZXcgTWFwfWFkZCh7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59LHIpe3ZhciBvLGksYSxzLGM7aWYobil7aWYoIXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmhhcyhlKSlyZXR1cm4gdm9pZCB0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5zZXQoZSxuZXcgTWFwKFtbdCxuZXcgTWFwKFtbbixyXV0pXV0pKTtpZighKG51bGw9PT0obz10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmhhcyh0KSkpcmV0dXJuIHZvaWQobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuc2V0KHQsbmV3IE1hcChbW24scl1dKSkpO251bGw9PT0ocz1udWxsPT09KGE9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5nZXQodCkpfHx2b2lkIDA9PT1zfHxzLnNldChuLHIpfWVsc2V7aWYoIXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5oYXMoZSkpcmV0dXJuIHZvaWQgdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLnNldChlLG5ldyBNYXAoW1t0LHJdXSkpO251bGw9PT0oYz10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09Y3x8Yy5zZXQodCxyKX19ZGVsZXRlKHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0pe3ZhciByLG8saSxhO24/KG51bGw9PT0obz1udWxsPT09KHI9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXQodCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRlbGV0ZShuKSkmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkuc2l6ZTwxJiYobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuZGVsZXRlKHQpLHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5zaXplPDEmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmRlbGV0ZShlKSk6KG51bGw9PT0oYT10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5kZWxldGUodCkpJiZ0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLnNpemU8MSYmdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1nZXQoe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSl7dmFyIHIsbyxpO3JldHVybiBuP251bGw9PT0oaT1udWxsPT09KG89dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bz92b2lkIDA6by5nZXQodCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChuKTpudWxsPT09KHI9dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0KHQpfWdldE9yQWRkKGUsdCl7bGV0IG49dGhpcy5nZXQoZSk7cmV0dXJuIG58fChuPXQoKSx0aGlzLmFkZChlLG4pKSxufWFkZE9yVXBkYXRlKGUsdCxuKXtsZXQgcj10aGlzLmdldChlKTtyZXR1cm4gcj1yP24ocik6dCgpLHRoaXMuYWRkKGUscikscn1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuWy4uLkFycmF5LmZyb20odGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmtleXMoKSkuZmxhdE1hcCgodD0+KHtuYW1lc3BhY2U6ZSxrZXk6dH0pKSkpKSwuLi5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkua2V5cygpKS5mbGF0TWFwKCh0PT5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkua2V5cygpKS5mbGF0TWFwKChuPT4oe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSkpKSkpKSldfX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJzY3JpcHRpb25zPW5ldyBkfWFkZChlLHQpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0T3JBZGQoZSwoKCk9Pm5ldyBwKSkuYWRkKHQpfWdldChlKXt2YXIgdCxuO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldCgpKSYmdm9pZCAwIT09bj9uOltdfWdldEJ5SWQoZSx0KXt2YXIgbixyO3JldHVybiBudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldEhhbmRsZXJCeUlkKHQpKSYmdm9pZCAwIT09cj9yOm51bGx9ZGVsZXRlKGUsdCl7dmFyIG4scjtudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlbGV0ZSh0KS5pc0VtcHR5KSYmdm9pZCAwIT09ciYmciYmdGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1zaXplKGUpe3ZhciB0LG47cmV0dXJuIG51bGwhPT0obj1udWxsPT09KHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2l6ZSgpKSYmdm9pZCAwIT09bj9uOjB9aXNFbXB0eShlKXtyZXR1cm4gMD09PXRoaXMuc2l6ZShlKX1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXRBbGxTdWJzY3JpcHRpb25zKCl9Z2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9ucygpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHRoaXMuZ2V0KHQpLm1hcCgoKHtoYW5kbGVySWQ6ZX0pPT4oe3RvcGljOnQsaGFuZGxlcklkOmV9KSkpKSksW10pfX1jbGFzcyBme2NvbnN0cnVjdG9yKHtzZW5kTWV0cmljOmUsbWV0cmljTmFtZTp0LG1ldHJpY09wdGlvbnM6bn0pe3RoaXMudW5pdD0iTWlsbGlzZWNvbmRzIix0aGlzLnNlbmRNZXRyaWM9ZSx0aGlzLnN0YXJ0VGltZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLm1ldHJpY05hbWU9dCx0aGlzLmRpbWVuc2lvbnM9KG51bGw9PW4/dm9pZCAwOm4uZGltZW5zaW9ucyk/bi5kaW1lbnNpb25zOnt9LHRoaXMub3B0aW9uYWxEaW1lbnNpb25zPShudWxsPT1uP3ZvaWQgMDpuLm9wdGlvbmFsRGltZW5zaW9ucyk/bi5vcHRpb25hbERpbWVuc2lvbnM6e319c3RvcER1cmF0aW9uQ291bnRlcigpe2NvbnN0IGU9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS10aGlzLnN0YXJ0VGltZSk7cmV0dXJuIHRoaXMuc2VuZE1ldHJpYyh7bWV0cmljTmFtZTp0aGlzLm1ldHJpY05hbWUsdW5pdDp0aGlzLnVuaXQsdmFsdWU6ZSxkaW1lbnNpb25zOnRoaXMuZGltZW5zaW9ucyxvcHRpb25hbERpbWVuc2lvbnM6dGhpcy5vcHRpb25hbERpbWVuc2lvbnN9KSx7ZHVyYXRpb246ZX19fWNsYXNzIGd7Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJveHk9bnVsbCx0aGlzLm5hbWVzcGFjZT1lLm5hbWVzcGFjZSxlLnByb3ZpZGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5wcm92aWRlcj90aGlzLnByb3ZpZGVyRmFjdG9yeT1lLnByb3ZpZGVyOnRoaXMucHJvdmlkZXI9ZS5wcm92aWRlcn1yZWNvcmRTdWNjZXNzKGUsdCl7dmFyIG47Y29uc3Qgcj1PYmplY3QuYXNzaWduKHt9LG51bGwhPT0obj1udWxsPT10P3ZvaWQgMDp0LmRpbWVuc2lvbnMpJiZ2b2lkIDAhPT1uP246e30pLG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtkaW1lbnNpb25zOnJ9KTt0aGlzLnJlY29yZENvdW50KGUsMCxvKX1yZWNvcmRFcnJvcihlLHQpe3ZhciBuO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSxudWxsIT09KG49bnVsbD09dD92b2lkIDA6dC5kaW1lbnNpb25zKSYmdm9pZCAwIT09bj9uOnt9KSxvPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7ZGltZW5zaW9uczpyfSk7dGhpcy5yZWNvcmRDb3VudChlLDEsbyl9cmVjb3JkQ291bnQoZSx0LG4pe3RoaXMuc2VuZE1ldHJpYyh7bWV0cmljTmFtZTplLHVuaXQ6IkNvdW50Iix2YWx1ZTp0LGRpbWVuc2lvbnM6bnVsbD09bj92b2lkIDA6bi5kaW1lbnNpb25zLG9wdGlvbmFsRGltZW5zaW9uczpudWxsPT1uP3ZvaWQgMDpuLm9wdGlvbmFsRGltZW5zaW9uc30pfXN0YXJ0RHVyYXRpb25Db3VudGVyKGUsdCl7cmV0dXJuIG5ldyBmKHtzZW5kTWV0cmljOnRoaXMuc2VuZE1ldHJpYy5iaW5kKHRoaXMpLG1ldHJpY05hbWU6ZSxtZXRyaWNPcHRpb25zOnR9KX1zZW5kTWV0cmljKHttZXRyaWNOYW1lOmUsdW5pdDp0LHZhbHVlOm4sZGltZW5zaW9uczpyLG9wdGlvbmFsRGltZW5zaW9uczpvfSl7ciYmZnVuY3Rpb24oZSx0KXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGgrT2JqZWN0LmtleXMobnVsbCE9dD90Ont9KS5sZW5ndGg+MzApdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYWRkIG1vcmUgdGhhbiAzMCBkaW1lbnNpb25zIHRvIGEgbWV0cmljIil9KHIsbyk7Y29uc3QgaT17bWV0cmljTmFtZTplLHVuaXQ6dCx2YWx1ZTpuLGRpbWVuc2lvbnM6cixvcHRpb25hbERpbWVuc2lvbnM6b30sYT1uZXcgRGF0ZTt0aGlzLmdldFByb3h5KCkuc2VuZE1ldHJpYyh7bWV0cmljRGF0YTppLHRpbWU6YSxuYW1lc3BhY2U6dGhpcy5uYW1lc3BhY2V9KX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX19Y29uc3QgbT0iY2xpZW50VGltZW91dCI7ZnVuY3Rpb24gdihlLHQsbixyKXtjb25zdCBvPU1hdGgubWF4KDEsbnVsbCE9cj9yOjNlNCk7cmV0dXJuIG5ldyBQcm9taXNlKCgocixhKT0+e2xldCBzPSExO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PntuKHt0aW1lb3V0TXM6byxyZXF1ZXN0OmV9KSxhKGZ1bmN0aW9uKGUsdCl7Y29uc3R7bmFtZXNwYWNlOm4sY29tbWFuZDpyLGRhdGE6b309ZTtyZXR1cm57bmFtZXNwYWNlOm4scmVhc29uOiJDbGllbnQgVGltZW91dCIsZGV0YWlsczp7Y29tbWFuZDpyLHJlcXVlc3REYXRhOm8sdGltZW91dE1zOnR9LGVycm9yS2V5Om19fShlLG8pKSxzPSEwfSksbyk7dCgoZT0+e2NsZWFyVGltZW91dChjKSxzfHwoZS5pc0Vycm9yP2EobmV3IGkoZSkpOnIoZS5kYXRhKSl9KSl9KSl9Y2xhc3MgeXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlcXVlc3RNYXA9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucmVxdWVzdE1hbmFnZXIifSl9cHJvY2Vzc1JlcXVlc3QoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWU7cmV0dXJuIHYoZSwoZT0+dGhpcy5yZXF1ZXN0TWFwLnNldCh0LGUpKSwoKHtyZXF1ZXN0OmUsdGltZW91dE1zOnR9KT0+dGhpcy5oYW5kbGVUaW1lb3V0KGUsdCkpKX1wcm9jZXNzUmVzcG9uc2UoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWUsbj10aGlzLnJlcXVlc3RNYXAuZ2V0KHQpO24/KG4oZSksdGhpcy5yZXF1ZXN0TWFwLmRlbGV0ZSh0KSk6dGhpcy5sb2dnZXIuZXJyb3IoIlJldHVybmVkIGEgcmVzcG9uc2UgbWVzc2FnZSB3aXRoIG5vIGhhbmRsZXIiLHttZXNzYWdlOmV9KX1oYW5kbGVUaW1lb3V0KGUsdCl7Y29uc3R7cmVxdWVzdElkOm4sbmFtZXNwYWNlOnIsY29tbWFuZDpvfT1lO3RoaXMucmVxdWVzdE1hcC5kZWxldGUobiksdGhpcy5sb2dnZXIuZXJyb3IoIkNsaWVudCByZXF1ZXN0IHRpbWVvdXQiLHtyZXF1ZXN0SWQ6bixuYW1lc3BhY2U6cixjb21tYW5kOm8sdGltZW91dE1zOnR9KX19dmFyIGI9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn07ZnVuY3Rpb24gUyhlKXt0cnl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6Y2FzZSJlcnJvciI6Y2FzZSJjaGlsZENvbm5lY3Rpb25DbG9zZSI6ZGVmYXVsdDpyZXR1cm4gZTtjYXNlImNoaWxkRG93bnN0cmVhbU1lc3NhZ2UiOnJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse21lc3NhZ2U6UyhlLm1lc3NhZ2UpfSk7Y2FzZSJwdWJsaXNoIjp7Y29uc3R7ZGF0YTp0fT1lLG49YihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX1jYXNlInJlc3BvbnNlIjppZihlLmlzRXJyb3IpcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7ZGV0YWlsczp7Y29tbWFuZDplLmRldGFpbHMuY29tbWFuZH19KTt7Y29uc3R7ZGF0YTp0fT1lLG49YihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX19fWNhdGNoKHQpe3JldHVybnttZXNzYWdlRGV0YWlsczoiZXJyb3Igd2hlbiBzYW5pdGl6aW5nIGRvd25zdHJlYW0gbWVzc2FnZSIsbWVzc2FnZTplLGVycm9yOnR9fX1jbGFzcyBFe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm92aWRlcj1lLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZT10LHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNoaWxkQ29ubmVjdGlvbk1hbmFnZXIifSl9YWRkQ2hhbm5lbChlKXtjb25zdHtjb25uZWN0aW9uSWQ6dH09ZTt0aGlzLmNoYW5uZWxzLmhhcyh0KT90aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBjaGlsZCBjb25uZWN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMuIE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk6KCJpZnJhbWUiPT09ZS50eXBlP3RoaXMuc2V0dXBJZnJhbWUoZSk6dGhpcy5zZXR1cENvbXBvbmVudChlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiQ2hpbGQgY2hhbm5lbCBhZGRlZCIse2Nvbm5lY3Rpb25JZDp0LHR5cGU6ZS50eXBlfSkpfXVwZGF0ZUNoYW5uZWxQb3J0KGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0fT1lLG49dGhpcy5jaGFubmVscy5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgY2hpbGQgY29ubmVjdGlvbiB0aGF0IGRvZXMgbm90IGV4aXN0IE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk7aWYoImNvbXBvbmVudCI9PT1uLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYSBjb21wb25lbnQgY2hhbm5lbCBjb25uZWN0aW9uIGFzIE1lc3NhZ2VQb3J0LiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIix7Y29ubmVjdGlvbklkOnR9KTtjb25zdCByPW47ci5wb3J0Lm9ubWVzc2FnZT1udWxsLHIucG9ydC5jbG9zZSgpO2NvbnN0IG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSk7dGhpcy5zZXR1cElmcmFtZShvKSx0aGlzLmxvZ2dlci5pbmZvKCJVcGRhdGVkIGNoaWxkIHBvcnQiLHtjb25uZWN0aW9uSWQ6dH0pfXNldHVwSWZyYW1lKGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0LHBvcnQ6bixwcm92aWRlcklkOnJ9PWUsbz10aGlzLmNyZWF0ZU1lc3NhZ2VIYW5kbGVyKHQscik7bi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixvKSxuLnN0YXJ0KCksdGhpcy5jaGFubmVscy5zZXQodCx7dHlwZToiaWZyYW1lIixwb3J0Om4saGFuZGxlcjpvLHByb3ZpZGVySWQ6cn0pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpyLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9c2V0dXBDb21wb25lbnQoZSl7Y29uc3R7Y29ubmVjdGlvbklkOnQscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b309ZTtvKChlPT57dGhpcy5yZWxheUNoaWxkVXBzdHJlYW1NZXNzYWdlKHt0eXBlOiJjaGlsZFVwc3RyZWFtIixzb3VyY2VQcm92aWRlcklkOm4scGFyZW50UHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkLGNvbm5lY3Rpb25JZDp0LG1lc3NhZ2U6ZX0pfSkpLHRoaXMuY2hhbm5lbHMuc2V0KHQse3R5cGU6ImNvbXBvbmVudCIscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b30pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpuLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9aGFuZGxlRG93bnN0cmVhbU1lc3NhZ2Uoe2Nvbm5lY3Rpb25JZDplLG1lc3NhZ2U6dCx0YXJnZXRQcm92aWRlcklkOm59KXtjb25zdCByPXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byByb3V0ZSBkb3duc3RyZWFtIG1lc3NhZ2UgdG8gY2hpbGQgY2hhbm5lbCB0aGF0IGRvZXMgbm90IGV4aXN0Iix7Y29ubmVjdGlvbklkOmUsbWVzc2FnZTpTKHQpfSk7Y29uc3R7cHJvdmlkZXJJZDpvfT1yO28mJm8hPT1uP3RoaXMubG9nZ2VyLmVycm9yKCJEb3duc3RyZWFtIHRhcmdldCBtZXNzYWdlIGRpZCBub3QgbWF0Y2ggdGFyZ2V0IHByb3ZpZGVyIGlkLiBOb3Qgc2VuZGluZyBtZXNzYWdlLiIse2Nvbm5lY3Rpb25JZDplLHRhcmdldFByb3ZpZGVySWQ6bixhY3R1YWxQcm92aWRlcklkOm8sbWVzc2FnZTpTKHQpfSk6ImlmcmFtZSI9PT1yLnR5cGU/ci5wb3J0LnBvc3RNZXNzYWdlKHQpOnIuc2VuZERvd25zdHJlYW1NZXNzYWdlKHQpfWhhbmRsZUNsb3NlTWVzc2FnZSh7Y29ubmVjdGlvbklkOmV9KXtjb25zdCB0PXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKHQpe2lmKCJpZnJhbWUiPT09dC50eXBlKXtjb25zdHtwb3J0OmUsaGFuZGxlcjpufT10O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksZS5jbG9zZSgpfXRoaXMuY2hhbm5lbHMuZGVsZXRlKGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJSZW1vdmVkIGNoaWxkIGNoYW5uZWwiLHtjb25uZWN0aW9uSWQ6ZSx0eXBlOnQudHlwZX0pfWVsc2UgdGhpcy5sb2dnZXIud2FybigiQXR0ZW1wdGVkIHRvIGNsb3NlIGNoaWxkIGNoYW5uZWwgdGhhdCB3YXMgbm90IGZvdW5kIix7Y29ubmVjdGlvbklkOmV9KX1jcmVhdGVNZXNzYWdlSGFuZGxlcihlLHQpe3JldHVybiBuPT50aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2Uoe3R5cGU6ImNoaWxkVXBzdHJlYW0iLHNvdXJjZVByb3ZpZGVySWQ6dCxwYXJlbnRQcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWQsY29ubmVjdGlvbklkOmUsbWVzc2FnZTpuLmRhdGF9KX19Y2xhc3MgQ3tjb25zdHJ1Y3RvcihlKXt0aGlzLmVycm9ySGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucHJveHkuZXJyb3IifSl9aW52b2tlKGUpe2NvbnN0e21lc3NhZ2U6dCxrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX09ZTt0aGlzLmxvZ2dlci5lcnJvcih0LHtrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITAscmVtb3RlSWdub3JlOiEwfSksWy4uLnRoaXMuZXJyb3JIYW5kbGVyc10uZm9yRWFjaCgodD0+e3RyeXt0KGUpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aXRoaW4gYSBBbWF6b25Db25uZWN0RXJyb3JIYW5kbGVyIix7aGFuZGxlckVycm9yOnQsb3JpZ2luYWxFcnJvcjplfSl9fSkpfW9uRXJyb3IoZSl7dGhpcy5lcnJvckhhbmRsZXJzLmFkZChlKX1vZmZFcnJvcihlKXt0aGlzLmVycm9ySGFuZGxlcnMuZGVsZXRlKGUpfX1jbGFzcyBJe2NvbnN0cnVjdG9yKHtwcm92aWRlcjplLHNlbmRIZWFsdGhDaGVjazp0LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjpufSl7dGhpcy5jb25uZWN0aW9uSWQ9bnVsbCx0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWw9bnVsbCx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsLHRoaXMuc2VuZEhlYWx0aENoZWNrPXQsdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW49bix0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwsdGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1udWxsLHRoaXMuX3N0YXR1cz0idW5rbm93biIsdGhpcy5sb2dnZXI9bmV3IE8oe3NvdXJjZToiY29yZS5wcm94eS5oZWFsdGgtY2hlY2siLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9KSx0aGlzLmV2ZW50cz1uZXcgYyh7cHJvdmlkZXI6ZSxsb2dnZXJLZXk6ImNvcmUucHJveHkuaGVhbHRoLWNoZWNrIn0pfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5fc3RhdHVzfWdldCBpc1J1bm5pbmcoKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWx9Z2V0IGxhc3RDaGVja0NvdW50ZXIoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KHQ9bnVsbD09PShlPXRoaXMubGFzdEhlYWx0aENoZWNrUmVzcG9uc2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvdW50ZXIpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQgbGFzdENoZWNrVGltZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGU9dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGltZSkmJnZvaWQgMCE9PXQ/dDpudWxsfXN0YXJ0KHtoZWFsdGhDaGVja0ludGVydmFsOmUsY29ubmVjdGlvbklkOnR9KXt0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuaGVhbHRoQ2hlY2tJbnRlcnZhbD1lLHRoaXMuY2xlYXJJbnRlcnZhbCgpLGU8PTA/dGhpcy5sb2dnZXIuZGVidWcoIkhlYWx0aCBjaGVjayBkaXNhYmxlZCIpOmU8MWUzP3RoaXMubG9nZ2VyLmVycm9yKCJIZWFsdGggY2hlY2sgaW50ZXJ2YWwgaXMgbGVzcyB0aGFuIDEgc2Vjb25kLiBOb3QgcnVubmluZyIse2ludGVydmFsOmV9KToodGhpcy5zZW5kSGVhbHRoQ2hlY2tNZXNzYWdlKCksdGhpcy5zZW5kSGVhbHRoQ2hlY2tJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKCk9PnRoaXMuc2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpKSxlKSx0aGlzLnN0YXJ0VGltZW91dCgpKX1zdG9wKCl7dGhpcy5jbGVhckludGVydmFsKCksdGhpcy5jbGVhclRpbWVvdXQoKX1oYW5kbGVSZXNwb25zZShlKXt0aGlzLnNldEhlYWx0aHkoe3RpbWU6ZS50aW1lLGNvdW50ZXI6ZS5jb3VudGVyfSl9c2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpe3RoaXMuc2VuZEhlYWx0aENoZWNrKHt0eXBlOiJoZWFsdGhDaGVjayIsbWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfSl9c3RhcnRUaW1lb3V0KCl7dGhpcy5oZWFsdGhDaGVja0ludGVydmFsPyh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5zZXRVbmhlYWx0aHkoKX0pLDMqdGhpcy5oZWFsdGhDaGVja0ludGVydmFsKSk6dGhpcy5sb2dnZXIuZXJyb3IoIkhlYWx0aCBjaGVjayBpbnRlcnZhbCBub3Qgc2V0LiBDYW5ub3Qgc3RhcnQgdGltZW91dCIpfWNsZWFySW50ZXJ2YWwoKXt0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsKSx0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwpfWNsZWFyVGltZW91dCgpe3RoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0KSx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsKX1zZXRVbmhlYWx0aHkoKXtpZigidW5oZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuaW5mbygiQ29ubmVjdGlvbiB1bmhlYWx0aHkiLHtwcmV2aW91c1N0YXR1czplfSksdGhpcy5fc3RhdHVzPSJ1bmhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoInVuaGVhbHRoeSIsZSl9fXNldEhlYWx0aHkoZSl7aWYodGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1PYmplY3QuYXNzaWduKHt9LGUpLCJoZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuZGVidWcoIkNvbm5lY3Rpb24gaGVhbHRoeSIse3ByZXZpb3VzU3RhdHVzOmV9KSx0aGlzLl9zdGF0dXM9ImhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoImhlYWx0aHkiLGUpfXRoaXMuc3RhcnRUaW1lb3V0KCl9ZW1pdFN0YXR1c0NoYW5nZWQoZSx0KXt2YXIgbixyLG8saTt0aGlzLmV2ZW50cy5lbWl0KEkuc3RhdHVzQ2hhbmdlZEtleSx7c3RhdHVzOmUscHJldmlvdXNTdGF0dXM6dCxsYXN0Q2hlY2tUaW1lOm51bGwhPT0ocj1udWxsPT09KG49dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGltZSkmJnZvaWQgMCE9PXI/cjpudWxsLGxhc3RDaGVja0NvdW50ZXI6bnVsbCE9PShpPW51bGw9PT0obz10aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5jb3VudGVyKSYmdm9pZCAwIT09aT9pOm51bGx9KX1vblN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub24oSS5zdGF0dXNDaGFuZ2VkS2V5LGUpfW9mZlN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub2ZmKEkuc3RhdHVzQ2hhbmdlZEtleSxlKX19SS5zdGF0dXNDaGFuZ2VkS2V5PSJzdGF0dXNDaGFuZ2VkIjtjbGFzcyBUe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3RhdHVzPSJub3RDb25uZWN0ZWQiLHRoaXMuY2hhbmdlSGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTyh7c291cmNlOiJjb3JlLnByb3h5LmNvbm5lY3Rpb24tc3RhdHVzLW1hbmFnZXIiLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7c3RhdHVzOnRoaXMuc3RhdHVzfSl9KX1nZXRTdGF0dXMoKXtyZXR1cm4gdGhpcy5zdGF0dXN9dXBkYXRlKGUpe3RoaXMuc3RhdHVzPWUuc3RhdHVzLHRoaXMubG9nZ2VyLnRyYWNlKCJQcm94eSBDb25uZWN0aW9uIFN0YXR1cyBDaGFuZ2VkIix7c3RhdHVzOmUuc3RhdHVzfSksWy4uLnRoaXMuY2hhbmdlSGFuZGxlcnNdLmZvckVhY2goKHQ9Pnt0cnl7dChlKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2l0aGluIGEgUHJveHlDb25uZWN0aW9uQ2hhbmdlZEhhbmRsZXIiLHtlcnJvcjplfSl9fSkpfW9uQ2hhbmdlKGUpe3RoaXMuY2hhbmdlSGFuZGxlcnMuYWRkKGUpfW9mZkNoYW5nZShlKXt0aGlzLmNoYW5nZUhhbmRsZXJzLmRlbGV0ZShlKX19dmFyIHcsQT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sXz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHIubGVuZ3RoO28rKyl0LmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscltvXSkmJihuW3Jbb11dPWVbcltvXV0pfXJldHVybiBufTtjbGFzcyBSe2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXI9ZSx0aGlzLmxvZ2dlcj1uZXcgTyh7c291cmNlOiJjb3JlLnByb3h5Iixwcm92aWRlcjplLG1peGluOigpPT4oe3Byb3h5VHlwZTp0aGlzLnByb3h5VHlwZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KX0pLHRoaXMucmVxdWVzdE1hbmFnZXI9bmV3IHkoZSksdGhpcy5zdGF0dXM9bmV3IFQoZSksdGhpcy5lcnJvclNlcnZpY2U9bmV3IEMoZSksdGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZT1bXSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITEsdGhpcy5zdWJzY3JpcHRpb25zPW5ldyBoLHRoaXMuY29ubmVjdGlvbklkPW51bGwsdGhpcy5jaGFubmVsTWFuYWdlcj1uZXcgRShlLHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0LmJpbmQodGhpcykpLHRoaXMuaGVhbHRoQ2hlY2s9bmV3IEkoe3Byb3ZpZGVyOmUsc2VuZEhlYWx0aENoZWNrOnRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0LmJpbmQodGhpcyksZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luLmJpbmQodGhpcyl9KX1pbml0KCl7aWYodGhpcy5pc0luaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcigiUHJveHkgYWxyZWFkeSBpbml0aWFsaXplZCIpO3RoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLmluaXRQcm94eSgpfXJlcXVlc3QoZSx0LG4scil7Y29uc3Qgbz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57dHlwZToicmVxdWVzdCIsbmFtZXNwYWNlOmUsY29tbWFuZDp0LHJlcXVlc3RJZDp1KCksZGF0YTpuLG1lc3NhZ2VPcmlnaW46cn19KGUsdCxuLG51bGwhPXI/cjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpKSxpPXRoaXMucmVxdWVzdE1hbmFnZXIucHJvY2Vzc1JlcXVlc3Qobyk7cmV0dXJuIHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KG8pLGl9c3Vic2NyaWJlKGUsdCxuKXtjb25zdHtoYW5kbGVySWQ6cn09dGhpcy5zdWJzY3JpcHRpb25zLmFkZChlLHQpLG89e3R5cGU6InN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpLGhhbmRsZXJJZDpyfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChvKX11bnN1YnNjcmliZShlLHQsbil7aWYodGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlLHQpLHRoaXMuc3Vic2NyaXB0aW9ucy5pc0VtcHR5KGUpKXtjb25zdCB0PXt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdCh0KX19bG9nKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oe2xldmVsOmUsc291cmNlOnQsbWVzc2FnZTpuLGxvZ2dlcklkOnIsZGF0YTpvfSxhLHMpe2NvbnN0IGM9ZnVuY3Rpb24oZSl7aWYoZSl0cnl7cmV0dXJuIGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gc3RydWN0dXJlZENsb25lKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IGkoe2Vycm9yS2V5OiJkZWVwQ2xvbmVGYWlsZWQiLGRldGFpbHM6e2FjdHVhbEVycm9yOmV9fSl9fX0oZSl9Y2F0Y2goZSl7cmV0dXJue2Vycm9yOiJEYXRhIGZhaWxlZCB0byBzYW5pdGl6ZS4gVGhlIG9yaWdpbmFsIGRhdGEgaXMgbm90IGF2YWlsYWJsZSJ9fX0obyk7cmV0dXJue3R5cGU6ImxvZyIsbGV2ZWw6ZSx0aW1lOm5ldyBEYXRlLHNvdXJjZTp0LG1lc3NhZ2U6bixsb2dnZXJJZDpyLGRhdGE6Yyxjb250ZXh0OmEsbWVzc2FnZU9yaWdpbjpzfX0oZSx0aGlzLmFkZENvbnRleHRUb0xvZ2dlcigpLHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHQpfXNlbmRMb2dNZXNzYWdlKGUpeyJsb2ciPT09ZS50eXBlPyhlLmNvbnRleHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuY29udGV4dCksdGhpcy5hZGRDb250ZXh0VG9Mb2dnZXIoKSksdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIGxvZyBtZXNzYWdlIix7bWVzc2FnZTplfSl9c2VuZE1ldHJpYyh7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0pe2NvbnN0IHI9ZnVuY3Rpb24oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHIpe3ZhciBvLGk7cmV0dXJue3R5cGU6Im1ldHJpYyIsbmFtZXNwYWNlOm4sbWV0cmljTmFtZTplLm1ldHJpY05hbWUsdW5pdDplLnVuaXQsdmFsdWU6ZS52YWx1ZSx0aW1lOnQsZGltZW5zaW9uczpudWxsIT09KG89ZS5kaW1lbnNpb25zKSYmdm9pZCAwIT09bz9vOnt9LG9wdGlvbmFsRGltZW5zaW9uczpudWxsIT09KGk9ZS5vcHRpb25hbERpbWVuc2lvbnMpJiZ2b2lkIDAhPT1pP2k6e30sbWVzc2FnZU9yaWdpbjpyfX0oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHIpfXNlbmRNZXRyaWNNZXNzYWdlKGUpeyJtZXRyaWMiPT09ZS50eXBlP3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIG1ldHJpYyBtZXNzYWdlIix7bWV0cmljTWVzc2FnZTplfSl9c2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpe3RoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkP3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSk6dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5wdXNoKGUpfWNvbnN1bWVyTWVzc2FnZUhhbmRsZXIoZSl7aWYoIXRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIHByb2Nlc3MgbWVzc2FnZSBmcm9tIHN1YmplY3QgcHJpb3IgdG8gcHJveHkgYmVpbmcgaW5pdGlhbGl6aW5nLiBNZXNzYWdlIG5vdCBwcm9jZXNzZWQiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZS5kYXRhfSk7Y29uc3R7ZGF0YTp0fT1lO2lmKCEoInR5cGUiaW4gdCkpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6dH0pO2NvbnN0IG49dDt0aGlzLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChuKX1oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QoZSl7dGhpcy5oYW5kbGVEZWZhdWx0TWVzc2FnZUZyb21TdWJqZWN0KGUpfWhhbmRsZURlZmF1bHRNZXNzYWdlRnJvbVN1YmplY3QoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6dGhpcy5oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSk7YnJlYWs7Y2FzZSJyZXNwb25zZSI6dGhpcy5oYW5kbGVSZXNwb25zZShlKTticmVhaztjYXNlInB1Ymxpc2giOnRoaXMuaGFuZGxlUHVibGlzaChlKTticmVhaztjYXNlImVycm9yIjp0aGlzLmhhbmRsZUVycm9yKGUpO2JyZWFrO2Nhc2UiY2hpbGREb3duc3RyZWFtTWVzc2FnZSI6dGhpcy5jaGFubmVsTWFuYWdlci5oYW5kbGVEb3duc3RyZWFtTWVzc2FnZShlKTticmVhaztjYXNlImNoaWxkQ29ubmVjdGlvbkNsb3NlIjp0aGlzLmNoYW5uZWxNYW5hZ2VyLmhhbmRsZUNsb3NlTWVzc2FnZShlKTticmVhaztjYXNlImhlYWx0aENoZWNrUmVzcG9uc2UiOnRoaXMuaGVhbHRoQ2hlY2suaGFuZGxlUmVzcG9uc2UoZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZX0pfX1oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSl7Zm9yKHRoaXMuY29ubmVjdGlvbklkPWUuY29ubmVjdGlvbklkLHRoaXMubG9nZ2VyLmRlYnVnKCJDb25uZWN0aW9uIGFja25vd2xlZGdlZCBieSBzdWJqZWN0Iix7Y29ubmVjdGlvbklkOmUuY29ubmVjdGlvbklkLHF1ZXVlZE1lc3NhZ2VDb3VudDp0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLmxlbmd0aCxzdGF0dXM6ZS5zdGF0dXN9KSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVhZHkiLGNvbm5lY3Rpb25JZDplLmNvbm5lY3Rpb25JZH0pLHRoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkPSEwO3RoaXMudXBzdHJlYW1NZXNzYWdlUXVldWUubGVuZ3RoOyl7Y29uc3QgZT10aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLnNoaWZ0KCk7dGhpcy5zZW5kTWVzc2FnZVRvU3ViamVjdChlKX10aGlzLmhlYWx0aENoZWNrLnN0YXJ0KGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJQcm94eSBjb25uZWN0aW9uIHJlYWR5Iix7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9aGFuZGxlUmVzcG9uc2UoZSl7dGhpcy5yZXF1ZXN0TWFuYWdlci5wcm9jZXNzUmVzcG9uc2UoZSl9aGFuZGxlUHVibGlzaChlKXtjb25zdHtoYW5kbGVySWQ6dCx0b3BpYzpufT1lO2lmKHQpe2NvbnN0IHI9dGhpcy5zdWJzY3JpcHRpb25zLmdldEJ5SWQobix0KTtyJiZ0aGlzLmhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZSh7aGFuZGxlcjpyLGhhbmRsZXJJZDp0fSxlKX1lbHNlIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXQobikubWFwKCh0PT57dGhpcy5oYW5kbGVBc3luY1N1YnNjcmlwdGlvbkhhbmRsZXJJbnZva2UodCxlKX0pKX1oYW5kbGVFcnJvcihlKXtpZihlLmlzRmF0YWwpe2NvbnN0e21lc3NhZ2U6dCx0eXBlOm59PWUscj1fKGUsWyJtZXNzYWdlIiwidHlwZSJdKTt0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiZXJyb3IiLHJlYXNvbjp0LGRldGFpbHM6cn0pfXRoaXMucHVibGlzaEVycm9yKHttZXNzYWdlOmUubWVzc2FnZSxrZXk6ZS5rZXksZGV0YWlsczplLmRldGFpbHMsaXNGYXRhbDplLmlzRmF0YWwscHJveHlTdGF0dXM6ZS5zdGF0dXN9KX1wdWJsaXNoRXJyb3IoZSl7Y29uc3QgdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2Nvbm5lY3Rpb25TdGF0dXM6dGhpcy5jb25uZWN0aW9uU3RhdHVzfSk7dGhpcy5lcnJvclNlcnZpY2UuaW52b2tlKHQpfWhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZShlLHQpe3JldHVybiBBKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtoYW5kbGVyOmUsaGFuZGxlcklkOnR9LHt0b3BpYzpuLGRhdGE6cn0pe3RyeXt5aWVsZCBlKHIpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGhhbmRsaW5nIHN1YnNjcmlwdGlvbiIse3RvcGljOm4sZXJyb3I6ZSxoYW5kbGVySWQ6dH0pfX0pKX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLnN0YXR1cy5nZXRTdGF0dXMoKX1vbkVycm9yKGUpe3RoaXMuZXJyb3JTZXJ2aWNlLm9uRXJyb3IoZSl9b2ZmRXJyb3IoZSl7dGhpcy5lcnJvclNlcnZpY2Uub2ZmRXJyb3IoZSl9b25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKGUpe3RoaXMuc3RhdHVzLm9uQ2hhbmdlKGUpfW9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UoZSl7dGhpcy5zdGF0dXMub2ZmQ2hhbmdlKGUpfW9uSGVhbHRoQ2hlY2tTdGF0dXNDaGFuZ2VkKGUpe3RoaXMuaGVhbHRoQ2hlY2sub25TdGF0dXNDaGFuZ2VkKGUpfW9mZkhlYWx0aENoZWNrU3RhdHVzQ2hhbmdlZChlKXt0aGlzLmhlYWx0aENoZWNrLm9mZlN0YXR1c0NoYW5nZWQoZSl9YWRkQ2hpbGRDaGFubmVsKGUpe3RoaXMuYWRkQ2hpbGRJZnJhbWVDaGFubmVsKGUpfWFkZENoaWxkSWZyYW1lQ2hhbm5lbChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSkpfWFkZENoaWxkQ29tcG9uZW50Q2hhbm5lbChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJjb21wb25lbnQifSkpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5jaGFubmVsTWFuYWdlci51cGRhdGVDaGFubmVsUG9ydChlKX11cGRhdGVDaGlsZENoYW5uZWxQb3J0KGUpe3RoaXMudXBkYXRlQ2hpbGRJZnJhbWVDaGFubmVsUG9ydChlKX1nZXRDb25uZWN0aW9uSWQoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWQ/UHJvbWlzZS5yZXNvbHZlKHRoaXMuY29ubmVjdGlvbklkKTpuZXcgUHJvbWlzZSgoKGUsdCk9PntsZXQgbjtjb25zdCByPXQ9PnsicmVhZHkiPT09dC5zdGF0dXMmJih0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksY2xlYXJJbnRlcnZhbChuKSxlKHQuY29ubmVjdGlvbklkKSl9O249c2V0VGltZW91dCgoKCk9Pnt0aGlzLmxvZ2dlci5lcnJvcigiVGltZW91dCBnZXR0aW5nIGNvbm5lY3Rpb24gaWQiKSx0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksdChuZXcgRXJyb3IoIlRpbWVvdXQgZ2V0dGluZyBjb25uZWN0aW9uSWQiKSl9KSwxZTQpLHRoaXMub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHIpfSkpfXJlc2V0Q29ubmVjdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZygiUmVzZXR0aW5nIGNvbm5lY3Rpb24iLHtyZWFzb246ZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVzZXQiLHJlYXNvbjplfSk7Y29uc3R7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50OnR9PXRoaXMucmVzdG9yZUFsbEhhbmRsZXIoKTt0aGlzLmxvZ2dlci5pbmZvKCJSZXNldHRpbmcgcHJveHkiLHtyZWFzb246ZSxzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH0pLHRoaXMubG9nZ2VyLmRlYnVnKCJDb25uZWN0aW9uIHJlc2V0IGNvbXBsZXRlLCByZXN0b3JpbmcgaGFuZGxlcnMiLHtzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH0pfXJlc3RvcmVBbGxIYW5kbGVyKCl7dmFyIGU7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpO3JldHVybiBudWxsPT10fHx0Lm1hcCgoKHt0b3BpYzplLGhhbmRsZXJJZDp0fSk9Pih7dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSxoYW5kbGVySWQ6dH0pKSkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpKSx7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50Om51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnZvaWQgMCE9PWU/ZTotMX19dW5zdWJzY3JpYmVBbGxIYW5kbGVycygpe3ZhciBlO2NvbnN0IHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldEFsbFN1YnNjcmlwdGlvbkhhbmRsZXJJZHMoKTt0aGlzLmxvZ2dlci5pbmZvKCJVbnN1YnNjcmliaW5nIGFsbCBoYW5kbGVycyBmcm9tIHByb3h5Iix7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50Om51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnZvaWQgMCE9PWU/ZTotMX0pLG51bGw9PXR8fHQubWFwKCgoe3RvcGljOmV9KT0+KHt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9KSkpLmZvckVhY2goKGU9PnRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpKSl9fSFmdW5jdGlvbihlKXtlW2UudHJhY2U9MV09InRyYWNlIixlW2UuZGVidWc9Ml09ImRlYnVnIixlW2UuaW5mbz0zXT0iaW5mbyIsZVtlLndhcm49NF09Indhcm4iLGVbZS5lcnJvcj01XT0iZXJyb3IifSh3fHwodz17fSkpO2NsYXNzIEx7Y29uc3RydWN0b3IoZSl7dGhpcy5taXhpbj1lfWdldFRyYW5zZm9ybWVkRGF0YShlLHQpe3JldHVybiB0aGlzLm1peGluP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxudWxsIT10P3Q6e30pLHRoaXMubWl4aW4obnVsbCE9dD90Ont9LGUpKTp0fX1jbGFzcyBPe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3h5PW51bGwsdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWw9bnVsbCx0aGlzLmxvZ2dlcklkPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKGUvMikpO3JldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLEFycmF5LmZyb20odCwoZT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKSkuam9pbigiIikuc3Vic3RyaW5nKDAsZSl9KDgpLCJzdHJpbmciPT10eXBlb2YgZT8odGhpcy5zb3VyY2U9ZSx0aGlzLmRhdGFUcmFuc2Zvcm1lcj1uZXcgTCh2b2lkIDApKToodGhpcy5zb3VyY2U9ZS5zb3VyY2UsZS5wcm92aWRlciYmImZ1bmN0aW9uIj09dHlwZW9mIGUucHJvdmlkZXI/dGhpcy5wcm92aWRlckZhY3Rvcnk9ZS5wcm92aWRlcjp0aGlzLnByb3ZpZGVyPWUucHJvdmlkZXIsdGhpcy5kYXRhVHJhbnNmb3JtZXI9bmV3IEwoZS5taXhpbiksdGhpcy5sb2dPcHRpb25zPWUub3B0aW9ucyl9dHJhY2UoZSx0LG4pe3RoaXMubG9nKHcudHJhY2UsZSx0LG4pfWRlYnVnKGUsdCxuKXt0aGlzLmxvZyh3LmRlYnVnLGUsdCxuKX1pbmZvKGUsdCxuKXt0aGlzLmxvZyh3LmluZm8sZSx0LG4pfXdhcm4oZSx0LG4pe3RoaXMubG9nKHcud2FybixlLHQsbil9ZXJyb3IoZSx0LG4pe3RoaXMubG9nKHcuZXJyb3IsZSx0LG4pfWxvZyhlLHQsbixyKXtjb25zdCBvPXRoaXMuZGF0YVRyYW5zZm9ybWVyLmdldFRyYW5zZm9ybWVkRGF0YShlLG4pO3RoaXMuaWdub3JlUmVtb3RlKHIpfHx0aGlzLmdldFByb3h5KCkubG9nKHtsZXZlbDplLHNvdXJjZTp0aGlzLnNvdXJjZSxsb2dnZXJJZDp0aGlzLmxvZ2dlcklkLG1lc3NhZ2U6dCxkYXRhOm99KSx0aGlzLmFwcGx5RHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZShlLHIpJiZmdW5jdGlvbihlLHQsbil7aWYobilzd2l0Y2goZSl7Y2FzZSB3LmVycm9yOmNvbnNvbGUuZXJyb3IodCxuKTticmVhaztjYXNlIHcud2Fybjpjb25zb2xlLndhcm4odCxuKTticmVhaztjYXNlIHcuaW5mbzpjb25zb2xlLmluZm8odCxuKTticmVhaztjYXNlIHcuZGVidWc6Y29uc29sZS5kZWJ1Zyh0LG4pO2JyZWFrO2Nhc2Ugdy50cmFjZTpjb25zb2xlLnRyYWNlKHQsbik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0LG4pfWVsc2Ugc3dpdGNoKGUpe2Nhc2Ugdy5lcnJvcjpjb25zb2xlLmVycm9yKHQpO2JyZWFrO2Nhc2Ugdy53YXJuOmNvbnNvbGUud2Fybih0KTticmVhaztjYXNlIHcuaW5mbzpjb25zb2xlLmluZm8odCk7YnJlYWs7Y2FzZSB3LmRlYnVnOmNvbnNvbGUuZGVidWcodCk7YnJlYWs7Y2FzZSB3LnRyYWNlOmNvbnNvbGUudHJhY2UodCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0KX19KGUsdCxvKX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX1hcHBseUR1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGUoZSx0KXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5kdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlKXx8dGhpcy5nZXRMb2dDb25zb2xlTGV2ZWwoKTw9ZX1nZXRMb2dDb25zb2xlTGV2ZWwoKXt2YXIgZSx0LG4scjtyZXR1cm4gdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx8fCh0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbD0obnVsbD09PShlPXRoaXMubG9nT3B0aW9ucyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWluTG9nVG9Db25zb2xlTGV2ZWxPdmVycmlkZSk/dGhpcy5sb2dPcHRpb25zLm1pbkxvZ1RvQ29uc29sZUxldmVsT3ZlcnJpZGU6bnVsbCE9PShyPW51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5nZXRQcm92aWRlcigpLmNvbmZpZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubG9nZ2luZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWluTG9nVG9Db25zb2xlTGV2ZWwpJiZ2b2lkIDAhPT1yP3I6dy5lcnJvciksdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx9aWdub3JlUmVtb3RlKGUpe3ZhciB0LG4scjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0odD10aGlzLmxvZ09wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PW4mJm58fG51bGwhPT0ocj1udWxsPT1lP3ZvaWQgMDplLnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PXImJnJ9fWNsYXNzIGt7Y29uc3RydWN0b3Ioe2NvbmZpZzplLHByb3h5RmFjdG9yeTp0fSl7aWYodGhpcy5faWQ9dSgpLCF0KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGdldCBQcm94eSBiZWZvcmUgc2V0dGluZyB1cCBmYWN0b3J5Iik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5jbHVkZSBjb25maWciKTt0aGlzLnByb3h5RmFjdG9yeT10LHRoaXMuX2NvbmZpZz1lfWdldCBpZCgpe3JldHVybiB0aGlzLl9pZH1nZXRQcm94eSgpe3JldHVybiB0aGlzLnByb3h5fHwodGhpcy5wcm94eT10aGlzLnByb3h5RmFjdG9yeSh0aGlzKSx0aGlzLnByb3h5LmluaXQoKSksdGhpcy5wcm94eX1nZXQgY29uZmlnKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdGhpcy5fY29uZmlnKX1vbkVycm9yKGUpe3RoaXMuZ2V0UHJveHkoKS5vbkVycm9yKGUpfW9mZkVycm9yKGUpe3RoaXMuZ2V0UHJveHkoKS5vZmZFcnJvcihlKX1zdGF0aWMgaW5pdGlhbGl6ZVByb3ZpZGVyKGUpe2lmKHRoaXMuaXNJbml0aWFsaXplZCl7Y29uc3QgZT0iQXR0ZW1wdGVkIHRvIGluaXRpYWxpemUgcHJvdmlkZXIgbW9yZSB0aGFuIG9uZSB0aW1lLiIsdD17fTt0cnl7Y29uc3QgdD1vKCk7bmV3IE8oe3NvdXJjZToiY29yZS5hbWF6b25Db25uZWN0UHJvdmlkZXIuaW5pdCIscHJvdmlkZXI6dH0pLmVycm9yKGUpfWNhdGNoKGUpe3QubG9nZ2luZ0Vycm9yPW51bGw9PWU/dm9pZCAwOmUubWVzc2FnZX10aHJvdyBuZXcgaSh7ZXJyb3JLZXk6ImF0dGVtcHRJbml0aWFsaXplTXVsdGlwbGVQcm92aWRlcnMiLHJlYXNvbjplLGRldGFpbHM6dH0pfXJldHVybiBmdW5jdGlvbihlKXtpZihyKXRocm93IG5ldyBFcnJvcigiR2xvYmFsIFByb3ZpZGVyIGlzIGFscmVhZHkgc2V0Iik7cj1lfShlKSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITAsZS5nZXRQcm94eSgpLGV9fWsuaXNJbml0aWFsaXplZD0hMTtjbGFzcyBOe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5lbmdpbmVDb250ZXh0PWUsdGhpcy5tb2R1bGVOYW1lc3BhY2U9dH1nZXQgcHJveHkoKXtpZighdGhpcy5tb2R1bGVQcm94eSl7Y29uc3QgZT10aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpLHQ9dGhpcy5tb2R1bGVOYW1lc3BhY2U7dGhpcy5tb2R1bGVQcm94eT1mdW5jdGlvbihlLHQpe3JldHVybntyZXF1ZXN0OihuLHIpPT5lLnJlcXVlc3QodCxuLHIpLHN1YnNjcmliZToobixyKT0+ZS5zdWJzY3JpYmUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtuYW1lc3BhY2U6dH0pLHIpLHVuc3Vic2NyaWJlOihuLHIpPT5lLnVuc3Vic2NyaWJlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7bmFtZXNwYWNlOnR9KSxyKSxnZXRQcm94eUluZm86KCk9Pih7Y29ubmVjdGlvblN0YXR1czplLmNvbm5lY3Rpb25TdGF0dXMscHJveHlUeXBlOmUucHJveHlUeXBlfSksb25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlOnQ9PmUub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHQpLG9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2U6dD0+ZS5vZmZDb25uZWN0aW9uU3RhdHVzQ2hhbmdlKHQpfX0oZSx0KX1yZXR1cm4gdGhpcy5tb2R1bGVQcm94eX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX1jcmVhdGVMb2dnZXIoZSl7cmV0dXJuIG5ldyBPKCJvYmplY3QiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Byb3ZpZGVyOigpPT50aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX0pOntzb3VyY2U6ZSxwcm92aWRlcjooKT0+dGhpcy5lbmdpbmVDb250ZXh0LmdldFByb3ZpZGVyKCl9KX1jcmVhdGVNZXRyaWNSZWNvcmRlcihlKXtyZXR1cm4gbmV3IGcoIm9iamVjdCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cHJvdmlkZXI6KCk9PnRoaXMuZW5naW5lQ29udGV4dC5nZXRQcm92aWRlcigpfSk6e25hbWVzcGFjZTplLHByb3ZpZGVyOigpPT50aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX0pfX1jbGFzcyBQe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3ZpZGVyPWV9Z2V0UHJvdmlkZXIoKXtyZXR1cm4gdGhpcy5fcHJvdmlkZXI/dGhpcy5fcHJvdmlkZXI6bygpfWdldE1vZHVsZUNvbnRleHQoZSl7cmV0dXJuIG5ldyBOKHRoaXMsZSl9fWZ1bmN0aW9uIEQoe25hbWVzcGFjZTplLGNvbmZpZzp0fSl7cmV0dXJuIHQmJiJjb250ZXh0ImluIHQmJnQuY29udGV4dD90LmNvbnRleHQ6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4hMTtjb25zdCB0PWU7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0LmlkJiYiY29uZmlnImluIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldFByb3h5fSh0KT9uZXcgUCh0KS5nZXRNb2R1bGVDb250ZXh0KGUpOm5ldyBQKG51bGw9PXQ/dm9pZCAwOnQucHJvdmlkZXIpLmdldE1vZHVsZUNvbnRleHQoZSl9Y2xhc3MgeHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubmFtZXNwYWNlPWUsdGhpcy5jb250ZXh0PUQoe25hbWVzcGFjZTplLGNvbmZpZzp0fSl9fWNsYXNzIE17Y29uc3RydWN0b3IoZSx0KXt0aGlzLm5hbWVzcGFjZT1lLHRoaXMuY29udGV4dD1EKHtuYW1lc3BhY2U6ZSxjb25maWc6dH0pfX19LDI3NTooZSx0LG4pPT57InVzZSBzdHJpY3QiO24ucih0KSxuLmQodCx7QW1hem9uQ29ubmVjdEdSU3RyZWFtc1NpdGU6KCk9PnAsQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlOigpPT5zLEdsb2JhbFJlc2lsaWVuY3lSZWdpb246KCk9PnJ9KTt2YXIgcixvPW4oMjM4KTtjbGFzcyBpIGV4dGVuZHMgby5ieXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuaW5zdGFuY2VVcmw9dm9pZCAwIT09dD90OmUuY29uZmlnLmluc3RhbmNlVXJsLHRoaXMucG9zdE1lc3NhZ2VIYW5kbGVyPXRoaXMubGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBvLnBnKHtzb3VyY2U6InNpdGVQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJjb25uZWN0aW5nIn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcil9cmVzZXRDb25uZWN0aW9uKGUpe3N1cGVyLnJlc2V0Q29ubmVjdGlvbihlKSx0aGlzLm1lc3NhZ2VQb3J0PXZvaWQgMCx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiY29ubmVjdGluZyJ9KX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLm1lc3NhZ2VQb3J0P3RoaXMubWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoZSk6dGhpcy5wcm94eUxvZ2dlci5lcnJvcigiRmFpbGVkIHRvIHNlbmQgVXBzdHJlYW1NZXNzYWdlLiBNZXNzYWdlUG9ydCBub3Qgc2V0Iix7bWVzc2FnZVR5cGU6ZS50eXBlfSl9YWRkQ29udGV4dFRvTG9nZ2VyKCl7cmV0dXJue319bGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UoZSl7aWYodGhpcy52ZXJpZnlPcmlnaW4oZSkmJnRoaXMudmVyaWZ5RXZlbnRTb3VyY2UoZSkpe2lmKCJjcm9zcy1kb21haW4tYWRhcHRlci1pbml0IiE9PWUuZGF0YS50eXBlKXJldHVybiB2b2lkIHRoaXMuaW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcihlLmRhdGEpO2lmKHRoaXMubWVzc2FnZVBvcnQmJih0aGlzLnJlc2V0Q29ubmVjdGlvbigiU3Vic2VxdWVudCBNZXNzYWdlIFBvcnQgRGV0ZWN0ZWQiKSx0aGlzLnByb3h5TG9nZ2VyLmluZm8oIlN1YnNlcXVlbnQgbWVzc2FnZSBwb3J0IHJlY2VpdmVkLiBSZXNldHRpbmcgY29ubmVjdGlvbiIpKSx0aGlzLm1lc3NhZ2VQb3J0PWUucG9ydHNbMF0sIXRoaXMubWVzc2FnZVBvcnQpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIHBvcnQgbm90IHByb3ZpZGVkIGJ5IGlmcmFtZSIpO3RoaXMubWVzc2FnZVBvcnQub25tZXNzYWdlPXRoaXMuY29uc3VtZXJNZXNzYWdlSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJpbml0aWFsaXppbmcifSksdGhpcy5tZXNzYWdlUG9ydC5wb3N0TWVzc2FnZSh7dHlwZToiY3Jvc3MtZG9tYWluLXNpdGUtcmVhZHkiLHByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZH0pLHRoaXMucHJveHlMb2dnZXIuZGVidWcoIkNEQSBQb3N0IG1lc3NhZ2UgaGFuZGxlciByZW1vdmVkIil9fXZlcmlmeU9yaWdpbihlKXtjb25zdCB0PWUub3JpZ2luO2lmKCF0KXJldHVybiB0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk5vIG9yaWdpbiBwcm92aWRlZCBpbiBldmVudC4gSWdub3JpbmcgZXZlbnQuIiksITE7bGV0IG47dHJ5e249bmV3IFVSTCh0aGlzLmluc3RhbmNlVXJsKS5vcmlnaW59Y2F0Y2goZSl7cmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIlVuYWJsZSB0byBwYXJzZSBleHBlY3RlZCBvcmlnaW4gZnJvbSBpbnN0YW5jZVVybC4gQ2Fubm90IG1hdGNoIix7ZXJyb3I6ZSxldmVudE9yaWdpbjp0LGluc3RhbmNlVXJsOnRoaXMuaW5zdGFuY2VVcmx9LHtkdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlOiEwfSksITF9cmV0dXJuIHQ9PT1ufHwoImNyb3NzLWRvbWFpbi1hZGFwdGVyLWluaXQiPT09ZS5kYXRhLnR5cGUmJnRoaXMucHJveHlMb2dnZXIud2FybigiT3JpZ2luIG9mIG1lc3NhZ2Ugd2l0aCB0eXBlICdjcm9zcy1kb21haW4tYWRhcHRlci1pbml0JyBkaWQgbm90IGV4cGVjdGVkIGluc3RhbmNlIHZhbHVlLiBJZ25vcmluZyIse2V4cGVjdGVkT3JpZ2luOm4sZXZlbnRPcmlnaW46dH0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITB9KSwhMSl9fWNsYXNzIGEgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTB9Z2V0IHByb3h5VHlwZSgpe3JldHVybiJzdHJlYW1zLXNpdGUifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpe3JldHVybiBPYmplY3QuYXNzaWduKHtfdHlwZToic3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LCgwLG8ueFEpKCkpfXZlcmlmeUV2ZW50U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5jY3BJRnJhbWU7aWYoIXQpcmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIkNDUCBJZnJhbWUgbm90IHByb3ZpZGVkIHRvIHByb3h5LiBVbmFibGUgdG8gdmVyaWZ5IGV2ZW50IHRvIENvbm5lY3QgdG8gQ0NQLiIse29yaWdpbjplLm9yaWdpbn0pLCExO2NvbnN0IG49ZS5zb3VyY2U9PT10LmNvbnRlbnRXaW5kb3c7cmV0dXJuIG58fCh0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQrKyx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ8NSYmdGhpcy5wcm94eUxvZ2dlci53YXJuKCJNZXNzYWdlIGNhbWUgZnJvbSB1bmV4cGVjdGVkIGlmcmFtZS4gTm90IGEgdmFsaWQgQ0NQLiBXaWxsIG5vdCBjb25uZWN0Iix7b3JpZ2luOmUub3JpZ2luLHVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ6dGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50fSkpLG59aW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcigpe319Y2xhc3MgcyBleHRlbmRzIG8uTHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoe2NvbmZpZzplLHByb3h5RmFjdG9yeTplPT5uZXcgYShlKX0pfXN0YXRpYyBpbml0KGUpe2NvbnN0IHQ9bmV3IHMoZSk7cmV0dXJuIHMuaW5pdGlhbGl6ZVByb3ZpZGVyKHQpLHtwcm92aWRlcjp0fX1zdGF0aWMgZ2V0IGRlZmF1bHQoKXtyZXR1cm4oMCxvLkx6KSgiQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCIpfXNldENDUElmcmFtZShlKXt0aGlzLmdldFByb3h5KCkuc2V0Q0NQSWZyYW1lKGUpfX0hZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PSJwcmltYXJ5IixlLlNlY29uZGFyeT0ic2Vjb25kYXJ5In0ocnx8KHI9e30pKTtjbGFzcyBjIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcih7cHJvdmlkZXI6ZSxyZWdpb246dCxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46bixyZWxheVRvR2xvYmFsUmVzaWxpZW5jeVByb3h5Om99KXtzdXBlcihlLHQ9PT1yLlByaW1hcnk/ZS5jb25maWcucHJpbWFyeUluc3RhbmNlVXJsOmUuY29uZmlnLnNlY29uZGFyeUluc3RhbmNlVXJsKSx0aGlzLmdldFBhcmVudFVwc3RyZWFtTWVzc2FnZU9yaWdpbj1uLHRoaXMucmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eT1vLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy5yZWdpb249dCx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ9MH1nZXQgcHJveHlUeXBlKCl7cmV0dXJuImFjZ3ItcmVnaW9uYWwtcHJveHkifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKXtzd2l0Y2goZS50eXBlKXtjYXNlInJlc3BvbnNlIjpjYXNlInB1Ymxpc2giOmNhc2UiZXJyb3IiOnRoaXMucmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eShlKTticmVhaztkZWZhdWx0OnN1cGVyLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKX19Z2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9dmVyaWZ5RXZlbnRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLmNjcElGcmFtZTtpZighdClyZXR1cm4gdGhpcy5wcm94eUxvZ2dlci5lcnJvcigiQ0NQIElmcmFtZSBub3QgcHJvdmlkZWQgdG8gcHJveHkuIFVuYWJsZSB0byB2ZXJpZnkgZXZlbnQgdG8gQ29ubmVjdCB0byBDQ1AuIix7b3JpZ2luOmUub3JpZ2lufSksITE7Y29uc3Qgbj1lLnNvdXJjZT09PXQuY29udGVudFdpbmRvdztyZXR1cm4gbnx8KHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudCsrLHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudDw1JiZ0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk1lc3NhZ2UgY2FtZSBmcm9tIHVuZXhwZWN0ZWQgaWZyYW1lLiBOb3QgYSB2YWxpZCBDQ1AuIFdpbGwgbm90IGNvbm5lY3QiLHtvcmlnaW46ZS5vcmlnaW4sdW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudDp0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnR9KSksbn1zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl7c3VwZXIuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpfWludmFsaWRJbml0TWVzc2FnZUhhbmRsZXIoKXt9fWZ1bmN0aW9uIHUoZSl7Y29uc3QgdD1PYmplY3QudmFsdWVzKHIpO2lmKCF0LmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZWdpb246ICR7ZX0uIFZhbGlkIHJlZ2lvbnMgYXJlOiAke3Quam9pbigiLCAiKX1gKX1jbGFzcyBsIGV4dGVuZHMgby5ieXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmFjdGl2ZVJlZ2lvbj1yLlByaW1hcnksdGhpcy5yZWdpb25Qcm94aWVzPXtbci5QcmltYXJ5XTpuZXcgYyh7cHJvdmlkZXI6ZSxyZWdpb246ci5QcmltYXJ5LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbi5iaW5kKHRoaXMpLHJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk6dGhpcy5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QuYmluZCh0aGlzKX0pLFtyLlNlY29uZGFyeV06bmV3IGMoe3Byb3ZpZGVyOmUscmVnaW9uOnIuU2Vjb25kYXJ5LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbi5iaW5kKHRoaXMpLHJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk6dGhpcy5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QuYmluZCh0aGlzKX0pfSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBvLnBnKHtzb3VyY2U6Imdsb2JhbFJlc2lsaWVuY3lQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe09iamVjdC52YWx1ZXModGhpcy5yZWdpb25Qcm94aWVzKS5mb3JFYWNoKChlPT5lLmluaXQoKSkpfXNldENDUElmcmFtZSh7aWZyYW1lOmUscmVnaW9uOnR9KXt1KHQpLHRoaXMucmVnaW9uUHJveGllc1t0XS5zZXRDQ1BJZnJhbWUoZSl9c2V0QWN0aXZlUmVnaW9uKGUpe2lmKHUoZSksZSE9PXRoaXMuYWN0aXZlUmVnaW9uKXtjb25zdCB0PXRoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0sbj10aGlzLnJlZ2lvblByb3hpZXNbZV07dGhpcy51bnN1YnNjcmliZUFsbEhhbmRsZXJzKCksdGhpcy5wcm94eUxvZ2dlci5pbmZvKCJBY3RpdmUgcmVnaW9uIGNoYW5nZWQiLHtjdXJyZW50OmUsaW5zdGFuY2VVcmw6bi5pbnN0YW5jZVVybCxwcmV2aW91c0luc3RhbmNlVXJsOnQuaW5zdGFuY2VVcmx9KSx0aGlzLmFjdGl2ZVJlZ2lvbj1lLHRoaXMucmVzdG9yZUFsbEhhbmRsZXIoKTtjb25zdCByPXRoaXMuc3RhdHVzLmdldFN0YXR1cygpLG89bi5jb25uZWN0aW9uU3RhdHVzO3N3aXRjaChvKXtjYXNlInJlYWR5Ijp0aGlzLnByb3h5TG9nZ2VyLmluZm8oIkFjdGl2ZSByZWdpb24gaXMgcmVhZHkiLHthY3RpdmVSZWdpb25TdGF0dXM6b30pLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJyZWFkeSIsY29ubmVjdGlvbklkOm4uY29ubmVjdGlvbklkfSk7YnJlYWs7Y2FzZSJjb25uZWN0aW5nIjpjYXNlImluaXRpYWxpemluZyI6ciE9PW8mJnRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOm99KTticmVhaztjYXNlImVycm9yIjpyIT09byYmdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6ImVycm9yIixyZWFzb246Im5ldyBhY3RpdmUgcmVnaW9uIGluIGVycm9yIG9uIHRyYW5zaXRpb24iLGRldGFpbHM6e3JlZ2lvbjp0aGlzLmFjdGl2ZVJlZ2lvbn19KX19fWdldCBwcm94eVR5cGUoKXtyZXR1cm4iZ2xvYmFsLXJlc2lsaWVuY3ktcHJveHkifXNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1hZGRDb250ZXh0VG9Mb2dnZXIoKXtyZXR1cm57YWN0aXZlUmVnaW9uOnRoaXMuYWN0aXZlUmVnaW9ufX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtfdHlwZToiZ2xvYmFsLXJlc2lsaWVuY3ktc3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LCgwLG8ueFEpKCkpLHthY3RpdmVSZWdpb246dGhpcy5hY3RpdmVSZWdpb259KX1hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS5hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl9YWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpe3RoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0uYWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS51cGRhdGVDaGlsZElmcmFtZUNoYW5uZWxQb3J0KGUpfX1jbGFzcyBwIGV4dGVuZHMgby5MdHtjb25zdHJ1Y3RvcihlKXtzdXBlcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OmU9Pm5ldyBsKGUpfSl9c3RhdGljIGluaXQoZSl7Y29uc3QgdD1uZXcgcChlKTtyZXR1cm4gcC5pbml0aWFsaXplUHJvdmlkZXIodCkse3Byb3ZpZGVyOnR9fXN0YXRpYyBnZXQgZGVmYXVsdCgpe3JldHVybigwLG8uTHopKCJBbWF6b25Db25uZWN0R1JTdHJlYW1zU2l0ZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKX1zZXRDQ1BJZnJhbWUoZSl7dGhpcy5nZXRQcm94eSgpLnNldENDUElmcmFtZShlKX1zZXRBY3RpdmVSZWdpb24oZSl7dGhpcy5nZXRQcm94eSgpLnNldEFjdGl2ZVJlZ2lvbihlKX19fSw5NTM6KGUsdCxuKT0+eyJ1c2Ugc3RyaWN0IjtuLnIodCksbi5kKHQse1ZvaWNlQ2xpZW50OigpPT5jLFZvaWNlUm91dGVzOigpPT5vLFZvaWNlVG9waWNLZXlzOigpPT5pLHZvaWNlTmFtZXNwYWNlOigpPT5yfSk7Y29uc3Qgcj0iYXdzLmNvbm5lY3Qudm9pY2UiO3ZhciBvLGk7IWZ1bmN0aW9uKGUpe2UuZ2V0UGhvbmVOdW1iZXI9ImNvbnRhY3QvZ2V0UGhvbmVOdW1iZXIiLGUuZ2V0SW5pdGlhbEN1c3RvbWVyUGhvbmVOdW1iZXI9InZvaWNlL2dldEluaXRpYWxDdXN0b21lclBob25lTnVtYmVyIixlLmxpc3REaWFsYWJsZUNvdW50cmllcz0idm9pY2UvbGlzdERpYWxhYmxlQ291bnRyaWVzIixlLmNyZWF0ZU91dGJvdW5kQ2FsbD0idm9pY2UvY3JlYXRlT3V0Ym91bmRDYWxsIixlLmdldE91dGJvdW5kQ2FsbFBlcm1pc3Npb249InZvaWNlL2dldE91dGJvdW5kQ2FsbFBlcm1pc3Npb24ifShvfHwobz17fSkpLGl8fChpPXt9KTt2YXIgYT1uKDIzOCkscz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX07Y2xhc3MgYyBleHRlbmRzIGEudVV7Y29uc3RydWN0b3IoZSl7c3VwZXIocixlKX1nZXRQaG9uZU51bWJlcihlKXtyZXR1cm4gcyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3Bob25lTnVtYmVyOnR9PXlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KG8uZ2V0UGhvbmVOdW1iZXIse2NvbnRhY3RJZDplfSk7cmV0dXJuIHR9KSl9Z2V0SW5pdGlhbEN1c3RvbWVyUGhvbmVOdW1iZXIoZSl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtwaG9uZU51bWJlcjp0fT15aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmdldEluaXRpYWxDdXN0b21lclBob25lTnVtYmVyLHtjb250YWN0SWQ6ZX0pO3JldHVybiB0fSkpfWxpc3REaWFsYWJsZUNvdW50cmllcygpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmxpc3REaWFsYWJsZUNvdW50cmllcyl9Z2V0T3V0Ym91bmRDYWxsUGVybWlzc2lvbigpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3V0Ym91bmRDYWxsUGVybWlzc2lvbjplfT15aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmdldE91dGJvdW5kQ2FsbFBlcm1pc3Npb24pO3JldHVybiBlfSkpfWNyZWF0ZU91dGJvdW5kQ2FsbChlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmNyZWF0ZU91dGJvdW5kQ2FsbCx7cGhvbmVOdW1iZXI6ZSxvcHRpb25zOnR9KX19fSw4MjU6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0LmFnZW50QXBwPXt9O3ZhciBuPXtDQ1A6ImNjcCIsR1VJREVTOiJjdXN0b212aWV3cyJ9O3QuYWdlbnRBcHAuaW5pdENDUD10LmNvcmUuaW5pdENDUCx0LmFnZW50QXBwLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7fSx0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSksbz1uZXcgdC5JRnJhbWVDb25kdWl0KG4sd2luZG93LHIpLGk9W3QuQWdlbnRFdmVudHMuVVBEQVRFLHQuQ29udGFjdEV2ZW50cy5WSUVXLHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsdC5UYXNrRXZlbnRzLkNSRUFURUQsdC5FbWFpbEV2ZW50cy5DUkVBVEVEXTtyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24odCl7by5zZW5kVXBzdHJlYW0oZSx0KX0pKX0pKX0pKX07dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCJjY3AtdjIiKTtyZXR1cm4gZS5zbGljZSgwLHQtMSl9LG89ZnVuY3Rpb24oZSxyLG8pe3ZhciBhLHMsYyx1PW8uY3VzdG9tVmlld3NQYXJhbXMsbD11LmNvbnRhY3QscD11LmRpc2FibGVBdXRvRGVzdHJveSxkPXUuaWZyYW1lU3VmZml4LGg9dS50ZXJtaW5hdGVDdXN0b21WaWV3T3B0aW9ucyxmPXZvaWQgMD09PWg/e306aCxnPXUuZGVkdXBsaWNhdGUsbT12b2lkIDA9PT1nfHxnLHY9by5jdXN0b21WaWV3c1BhcmFtcy5jb250YWN0Rmxvd0lkLHk9aShsKTtjPWZ1bmN0aW9uKG8pe28mJihzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS50b1NuYXBzaG90KCkuY29udGFjdERhdGEuc3RhdGUudHlwZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oIltDdXN0b21WaWV3c10gRmFpbGVkIHRvIGV4dHJhY3QgY29udGFjdCBzdGF0dXMuIil9fShvKSx5PWkobyksYT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS50b1NuYXBzaG90KCkuY29udGFjdERhdGEuY29ubmVjdGlvbnMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuImFnZW50Ij09PWUudHlwZX0pKTtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5jb25uZWN0aW9uSWR9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIEZhaWxlZCB0byBleHRyYWN0IGFnZW50Q29ubmVjdGlvbklkLiIpfX0obyksYSYmY29uc29sZS5kZWJ1ZygiW0N1c3RvbVZpZXdzXSBBZ2VudCBjb25uZWN0aW9uIElEIGRlcml2ZWQgZnJvbSBjb250YWN0IG9iamVjdCIpLGZ1bmN0aW9uKG4pe3B8fChuLm9uRGVzdHJveSgoZnVuY3Rpb24oKXt2YXIgbixyLG87dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXcoZSxkLHt0aW1lb3V0Om51bGwhPT0obj1mLnRpbWVvdXQpJiZ2b2lkIDAhPT1uP246NWUzLGhpZGVJZnJhbWU6bnVsbD09PShyPWYuaGlkZUlmcmFtZSl8fHZvaWQgMD09PXJ8fHIscmVzb2x2ZUlmcmFtZTpudWxsPT09KG89Zi5yZXNvbHZlSWZyYW1lKXx8dm9pZCAwPT09b3x8b30pfSkpLGNvbnNvbGUuZGVidWcoIltDdXN0b21WaWV3c10gb25EZXN0cm95IGhhbmRsZXIgcmVnaXN0ZXJlZC4iKSl9KG8pKSxmdW5jdGlvbih0LG8saSl7dmFyIGEscz1kPyIiLmNvbmNhdChuLkdVSURFUykuY29uY2F0KGQpOm4uR1VJREVTLGM9KG51bGw9PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvcigiaWZyYW1lW2lkPSciLmNvbmNhdChzLCInXSIpKSl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpfHwobnVsbD09PShhPXdpbmRvdy50b3ApfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpKTtpZighYyl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c10gSWZyYW1lIG5vdCBmb3VuZCBmb3IgYXBwOiAiLmNvbmNhdChzKSk7dmFyIHU9QVdTLnV0aWwudXVpZC52NCgpLGw9bmV3IFVSTFNlYXJjaFBhcmFtcyh7YWdlbnRBcHBUYWJJZDoiIi5jb25jYXQodSwiLXRhYiIpfSk7diYmbC5zZXQoImNvbnRhY3RGbG93SWQiLHYpLHQmJmwuc2V0KCJjdXJyZW50Q29udGFjdElkIix0KSxvJiZsLnNldCgiYWdlbnRDb25uZWN0aW9uSWQiLG8pO3ZhciBwPW0/aT9pLnRvVXBwZXJDYXNlKCk6IkRFRkFVTFQiOiJBREhPQyI7bC5zZXQoImR1cGxpY2F0ZUN1c3RvbVZpZXdzQXBwSWQiLHApLGMuc3JjPSIiLmNvbmNhdChlLCI/IikuY29uY2F0KGwudG9TdHJpbmcoKSksY29uc29sZS5kZWJ1ZygiW0N1c3RvbVZpZXdzXSBJZnJhbWUgc291cmNlIGluaXRpYWxpemVkIHdpdGggc3RhdGUgaWRlbnRpZmllcjogIixwKX0oeSxhLHMpfSwic3RyaW5nIj09dHlwZW9mIGw/KGNvbnNvbGUuZGVidWcoIltDdXN0b21WaWV3c10gUmVzb2x2aW5nIGNvbnRhY3QgSUQgc3RyaW5nLi4uIiksdC5hZ2VudCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDb250YWN0cygpLmZpbmQoKGZ1bmN0aW9uKGUpe3RyeXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PWUuZ2V0Q29udGFjdElkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKGUpKT09PWx9Y2F0Y2goZSl7cmV0dXJuITF9fSkpO3R8fGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSBVbmFibGUgdG8gcmVzb2x2ZSBjb250YWN0IElEIHRvIGxpdmUgY29udGFjdCBvYmplY3QuIiksYyh0KX0pKSk6YyhsKX0saT1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7dHJ5e3JldHVybiBlLmdldENvbnRhY3RJZCgpfWNhdGNoKHQpe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIltDdXN0b21WaWV3c106IEludmFsaWQgQ29udGFjdCBQcm92aWRlZDogIixlKX19O3QuYWdlbnRBcHAuaW5pdEFwcD1mdW5jdGlvbihlLGksYSxzKXtzPXN8fHt9O3ZhciBjLHU9YS5lbmRzV2l0aCgiLyIpfHwvWz8mXT9bXj0/Jl0rPVtePT8mXSsvZy50ZXN0KGEpP2E6YSsiLyIsbD1zLm9uTG9hZD9zLm9uTG9hZDpudWxsLHA9e2VuZHBvaW50OnUsc3R5bGU6cy5zdHlsZSxvbkxvYWQ6bH07aWYoZT09PW4uQ0NQX0RSKWM9bi5DQ1A7ZWxzZSBpZihlPT09bi5HVUlERVMmJnMuY3VzdG9tVmlld3NQYXJhbXMpe3ZhciBkPXMuY3VzdG9tVmlld3NQYXJhbXMuaWZyYW1lU3VmZml4O2lmKGM9ZD8iIi5jb25jYXQobi5HVUlERVMpLmNvbmNhdChkKToiIi5jb25jYXQobi5HVUlERVMpLHZvaWQgMCE9PXQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuZ2V0KGMpKXRocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXTogQ3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIHByb3ZpZGUgYSBkaWZmZXJlbnQgaWZyYW1lU3VmZml4IGZvciB0aGUgY3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uLiIpfWVsc2UgYz1lO3ZhciBoPSJzdHJpbmciPT10eXBlb2YgaT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKTppO3QuYWdlbnRBcHAuQXBwUmVnaXN0cnkucmVnaXN0ZXIoYyxwLGgpLHQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuc3RhcnQoYywoZnVuY3Rpb24oaSl7dmFyIGE9aS5lbmRwb2ludCx1PWkuY29udGFpbmVyRE9NO3JldHVybntpbml0OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIHMuY2NwUGFyYW1zPXMuY2NwUGFyYW1zP3MuY2NwUGFyYW1zOnt9LHMuc3R5bGUmJihzLmNjcFBhcmFtcy5zdHlsZT1zLnN0eWxlKSxmdW5jdGlvbihlLG4sbyl7dmFyIGk9e2NjcFVybDplLGNjcExvYWRUaW1lb3V0OjFlNCxsb2dpblBvcHVwOiEwLGxvZ2luVXJsOnIoZSkrIi9sb2dpbiIsc29mdHBob25lOnthbGxvd0ZyYW1lZFNvZnRwaG9uZTohMCxkaXNhYmxlUmluZ3RvbmU6ITEsYWxsb3dGcmFtZWRWaWRlb0NhbGw6ITAsYWxsb3dGcmFtZWRTY3JlZW5TaGFyaW5nOiEwLGFsbG93RnJhbWVkU2NyZWVuU2hhcmluZ1BvcFVwOiExfX0sYT10Lm1lcmdlKGksby5jY3BQYXJhbXMpO3QuY29yZS5pbml0Q0NQKG4sYSl9KGEsdSxzKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1zLmN1c3RvbVZpZXdzUGFyYW1zPyh0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uKGMsYSx1KSxvKGEsdSxzKSk6dC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSk7ZGVmYXVsdDpyZXR1cm4gdC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIGk9cihhKSsiL2xvZ291dCIsdC5mZXRjaChpLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLlRFUk1JTkFURSksITB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldExvZygpLmVycm9yKCJBbiBlcnJvciBvY2N1cmVkIG9uIGxvZ291dC4iK2UpLndpdGhFeGNlcHRpb24oZSksd2luZG93LmxvY2F0aW9uLmhyZWY9aSwhMX0pKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1zLmN1c3RvbVZpZXdzUGFyYW1zPyhvPWMsdm9pZCB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmRlbGV0ZShvKSk6bnVsbDtkZWZhdWx0OnJldHVybiBudWxsfXZhciBvLGl9fX0pKX0sdC5hZ2VudEFwcC5zdG9wQXBwPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnN0b3AoZSl9fSgpfSw5NjE6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbixyPSJjY3AiO2UuY29ubmVjdC5hZ2VudEFwcC5BcHBSZWdpc3RyeT0obj17fSx7cmVnaXN0ZXI6ZnVuY3Rpb24oZSx0LHIpe25bZV09e2NvbnRhaW5lckRPTTpyLGVuZHBvaW50OnQuZW5kcG9pbnQsc3R5bGU6dC5zdHlsZSxpbnN0YW5jZTp2b2lkIDAsb25Mb2FkOnQub25Mb2FkfX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXtpZihuW2VdKXt2YXIgbz1uW2VdLmNvbnRhaW5lckRPTSxpPW5bZV0uZW5kcG9pbnQsYT1uW2VdLnN0eWxlLHM9bltlXS5vbkxvYWQ7aWYoZSE9PXIpe3ZhciBjPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBvLnNyYz10LG8uc3R5bGU9bnx8IndpZHRoOiAxMDAlOyBoZWlnaHQ6MTAwJTsiLG8uaWQ9ZSxvWyJhcmlhLWxhYmVsIl09ZSxvLm9ubG9hZD1yLG8uYWxsb3c9ImNsaXBib2FyZC1yZWFkOyBjbGlwYm9hcmQtd3JpdGUiLG8uc2V0QXR0cmlidXRlKCJzYW5kYm94IiwiYWxsb3ctZm9ybXMgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIiksb30oZSxpLGEscyk7by5hcHBlbmRDaGlsZChjKX1yZXR1cm4gbltlXS5pbnN0YW5jZT10KG5bZV0pLG5bZV0uaW5zdGFuY2UuaW5pdCgpfX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSxkZWxldGU6ZnVuY3Rpb24oZSl7ZGVsZXRlIG5bZV19LHN0b3A6ZnVuY3Rpb24oZSl7aWYobltlXSl7dmFyIHQscj1uW2VdLG89ci5jb250YWluZXJET00ucXVlcnlTZWxlY3RvcigiaWZyYW1lIik7aWYoZS5pbmNsdWRlcygiY3VzdG9tdmlld3MiKSl7dmFyIGk9ImlmcmFtZVtpZD0nIi5jb25jYXQoZSwiJ10iKTtvPXIuY29udGFpbmVyRE9NLnF1ZXJ5U2VsZWN0b3IoaSl9cmV0dXJuIHIuY29udGFpbmVyRE9NLnJlbW92ZUNoaWxkKG8pLHIuaW5zdGFuY2UmJih0PXIuaW5zdGFuY2UuZGVzdHJveSgpLGRlbGV0ZSByLmluc3RhbmNlKSx0fX19KX0oKX0sNjEwOihlLHQsbik9PntmdW5jdGlvbiByKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtnKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLGM9ITAsdT0hMTt0cnl7aWYoaT0obj1uLmNhbGwoZSkpLm5leHQsMD09PXQpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO2M9ITF9ZWxzZSBmb3IoOyEoYz0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09dCk7Yz0hMCk7fWNhdGNoKGUpe3U9ITAsbz1lfWZpbmFsbHl7dHJ5e2lmKCFjJiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZih1KXRocm93IG99fXJldHVybiBzfX0oZSx0KXx8bChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sYShlKX1mdW5jdGlvbiBzKCl7InVzZSBzdHJpY3QiO3M9ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIGUsdD17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9aS5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9aS5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPWkudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKGUpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIGk9dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBvKGEsIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGF9ZnVuY3Rpb24gaChlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fXQud3JhcD1kO3ZhciBmPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBFKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBJPU9iamVjdC5nZXRQcm90b3R5cGVPZixUPUkmJkkoSShQKFtdKSkpO1QmJlQhPT1uJiZyLmNhbGwoVCxjKSYmKEM9VCk7dmFyIHc9RS5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihvLGkscyxjKXt2YXIgdT1oKGVbb10sZSxpKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1hKHApJiZyLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgaTtvKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7bihlLHIsdCxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBSKHQsbixyKXt2YXIgbz1mO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPUwocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1mKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1oKHQsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBMKHQsbil7dmFyIHI9bi5tZXRob2Qsbz10Lml0ZXJhdG9yW3JdO2lmKG89PT1lKXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxMKHQsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9aChvLHQuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW3QucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9ZSksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKHQpe2lmKHR8fCIiPT09dCl7dmFyIG49dFtjXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYoci5jYWxsKHQsbykpcmV0dXJuIG4udmFsdWU9dFtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoYSh0KSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBTLnByb3RvdHlwZT1FLG8odywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLG8oRSwiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLFMuZGlzcGxheU5hbWU9cChFLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1TfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxFKTooZS5fX3Byb3RvX189RSxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSx0LmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdC5Bc3luY0l0ZXJhdG9yPV8sdC5hc3luYz1mdW5jdGlvbihlLG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSxuLHIsbyksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksdC5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LHQudmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCF0KWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIG8oImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPXIuY2FsbChhLCJjYXRjaExvYyIpLHU9ci5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAodCkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSx5fX0sdH1mdW5jdGlvbiBjKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt2YXIgaT1lLmFwcGx5KHQsbik7ZnVuY3Rpb24gYShlKXtjKGkscixvLGEscywibmV4dCIsZSl9ZnVuY3Rpb24gcyhlKXtjKGkscixvLGEscywidGhyb3ciLGUpfWEodm9pZCAwKX0pKX19ZnVuY3Rpb24gbChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9wKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBkKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxtKHIua2V5KSxyKX19ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIHQmJmQoZS5wcm90b3R5cGUsdCksbiYmZChlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLGV9ZnVuY3Rpb24gZihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGcoZSx0LG4pe3JldHVybih0PW0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT1hKGUpfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9YShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1hKHQpP3Q6dCsiIn0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgcj1uKDU3OCksYz1yLlNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudCxwPXIuc2VuZEFjdGl2aXR5LGQ9big3OTEpLkNvbnRhY3RDbGllbnQsbT1uKDk1MykuVm9pY2VDbGllbnQ7dC5BZ2VudFN0YXRlVHlwZT10Lm1ha2VFbnVtKFsiaW5pdCIsInJvdXRhYmxlIiwibm90X3JvdXRhYmxlIiwib2ZmbGluZSIsInN5c3RlbSIsImVycm9yIl0pLHQuQWdlbnRTdGF0dXNUeXBlPXQuQWdlbnRTdGF0ZVR5cGUsdC5BZ2VudEF2YWlsU3RhdGVzPXQubWFrZUVudW0oWyJJbml0IiwiQnVzeSIsIkFmdGVyQ2FsbFdvcmsiLCJDYWxsaW5nQ3VzdG9tZXIiLCJEaWFsaW5nIiwiSm9pbmluZyIsIlBlbmRpbmdBdmFpbGFibGUiLCJQZW5kaW5nQnVzeSJdKSx0LkFnZW50RXJyb3JTdGF0ZXM9dC5tYWtlRW51bShbIkVycm9yIiwiQWdlbnRIdW5nVXAiLCJCYWRBZGRyZXNzQWdlbnQiLCJCYWRBZGRyZXNzQ3VzdG9tZXIiLCJEZWZhdWx0IiwiRmFpbGVkQ29ubmVjdEFnZW50IiwiRmFpbGVkQ29ubmVjdEN1c3RvbWVyIiwiSW52YWxpZExvY2FsZSIsIkxpbmVFbmdhZ2VkQWdlbnQiLCJMaW5lRW5nYWdlZEN1c3RvbWVyIiwiTWlzc2VkQ2FsbEFnZW50IiwiTWlzc2VkQ2FsbEN1c3RvbWVyIiwiTXVsdGlwbGVDY3BXaW5kb3dzIiwiUmVhbHRpbWVDb21tdW5pY2F0aW9uRXJyb3IiXSksdC5FbmRwb2ludFR5cGU9dC5tYWtlRW51bShbInBob25lX251bWJlciIsImFnZW50IiwicXVldWUiXSksdC5BZGRyZXNzVHlwZT10LkVuZHBvaW50VHlwZSx0LkNvbm5lY3Rpb25UeXBlPXQubWFrZUVudW0oWyJhZ2VudCIsImluYm91bmQiLCJvdXRib3VuZCIsIm1vbml0b3JpbmciXSksdC5Db25uZWN0aW9uU3RhdGVUeXBlPXQubWFrZUVudW0oWyJpbml0IiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsImhvbGQiLCJkaXNjb25uZWN0ZWQiLCJzaWxlbnRfbW9uaXRvciIsImJhcmdlIl0pLHQuQ29ubmVjdGlvblN0YXR1c1R5cGU9dC5Db25uZWN0aW9uU3RhdGVUeXBlLHQuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTPXQuc2V0KFt0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVEVELHQuQ29ubmVjdGlvblN0YXRlVHlwZS5IT0xELHQuQ29ubmVjdGlvblN0YXRlVHlwZS5TSUxFTlRfTU9OSVRPUix0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQkFSR0VdKSx0LkNPTk5FQ1RJT05fQ09OTkVDVEVEX1NUQVRFUz10LnNldChbdC5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RFRCx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuU0lMRU5UX01PTklUT1IsdC5Db25uZWN0aW9uU3RhdGVUeXBlLkJBUkdFXSksdC5Db250YWN0U3RhdGVUeXBlPXQubWFrZUVudW0oWyJpbml0IiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsIm1pc3NlZCIsImVycm9yIiwiZW5kZWQiLCJyZWplY3RlZCIsInBhdXNlZCJdKSx0LkNvbnRhY3RTdGF0dXNUeXBlPXQuQ29udGFjdFN0YXRlVHlwZSx0LkNPTlRBQ1RfQUNUSVZFX1NUQVRFUz10Lm1ha2VFbnVtKFsicGF1c2VkIiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCJdKSx0LkNvbnRhY3RUeXBlPXQubWFrZUVudW0oWyJ2b2ljZSIsInF1ZXVlX2NhbGxiYWNrIiwiY2hhdCIsInRhc2siLCJlbWFpbCJdKSx0LkNvbnRhY3RJbml0aWF0aW9uTWV0aG9kPXQubWFrZUVudW0oWyJpbmJvdW5kIiwib3V0Ym91bmQiLCJ0cmFuc2ZlciIsInF1ZXVlX3RyYW5zZmVyIiwiY2FsbGJhY2siLCJhcGkiLCJkaXNjb25uZWN0Iiwid2VicnRjX2FwaSIsImFnZW50X3JlcGx5Il0pLHQuTW9uaXRvcmluZ01vZGU9dC5tYWtlRW51bShbIlNJTEVOVF9NT05JVE9SIiwiQkFSR0UiXSksdC5Nb25pdG9yaW5nRXJyb3JUeXBlcz10Lm1ha2VFbnVtKFsiaW52YWxpZF90YXJnZXRfc3RhdGUiXSksdC5DaGFubmVsVHlwZT10Lm1ha2VFbnVtKFsiVk9JQ0UiLCJDSEFUIiwiVEFTSyJdKSx0Lk1lZGlhVHlwZT10Lm1ha2VFbnVtKFsic29mdHBob25lIiwiY2hhdCIsInRhc2siLCJlbWFpbCJdKSx0LlNvZnRwaG9uZUNhbGxUeXBlPXQubWFrZUVudW0oWyJhdWRpb192aWRlbyIsInZpZGVvX29ubHkiLCJhdWRpb19vbmx5Iiwibm9uZSJdKSx0LlNvZnRwaG9uZUVycm9yVHlwZXM9dC5tYWtlRW51bShbInVuc3VwcG9ydGVkX2Jyb3dzZXIiLCJtaWNyb3Bob25lX25vdF9zaGFyZWQiLCJzaWduYWxsaW5nX2hhbmRzaGFrZV9mYWlsdXJlIiwic2lnbmFsbGluZ19jb25uZWN0aW9uX2ZhaWx1cmUiLCJpY2VfY29sbGVjdGlvbl90aW1lb3V0IiwidXNlcl9idXN5X2Vycm9yIiwid2VicnRjX2Vycm9yIiwicmVhbHRpbWVfY29tbXVuaWNhdGlvbl9lcnJvciIsInZkaV9zdHJhdGVneV9ub3Rfc3VwcG9ydGVkIiwidmRpX3JlZGlyX25vdF9zdXBwb3J0ZWQiLCJvdGhlciJdKSx0LkNsaWNrVHlwZT10Lm1ha2VFbnVtKFsiQWNjZXB0IiwiUmVqZWN0IiwiSGFuZ3VwIl0pLHQuVm9pY2VJZEVycm9yVHlwZXM9dC5tYWtlRW51bShbIm5vX3NwZWFrZXJfaWRfZm91bmQiLCJzcGVha2VyX2lkX25vdF9lbnJvbGxlZCIsImdldF9zcGVha2VyX2lkX2ZhaWxlZCIsImdldF9zcGVha2VyX3N0YXR1c19mYWlsZWQiLCJvcHRfb3V0X3NwZWFrZXJfZmFpbGVkIiwib3B0X291dF9zcGVha2VyX2luX2xjbXNfZmFpbGVkIiwiZGVsZXRlX3NwZWFrZXJfZmFpbGVkIiwic3RhcnRfc2Vzc2lvbl9mYWlsZWQiLCJldmFsdWF0ZV9zcGVha2VyX2ZhaWxlZCIsInNlc3Npb25fbm90X2V4aXN0cyIsImRlc2NyaWJlX3Nlc3Npb25fZmFpbGVkIiwiZW5yb2xsX3NwZWFrZXJfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfaW5fbGNtc19mYWlsZWQiLCJub3Rfc3VwcG9ydGVkX29uX2NvbmZlcmVuY2VfY2FsbHMiLCJlbnJvbGxfc3BlYWtlcl90aW1lb3V0IiwiZXZhbHVhdGVfc3BlYWtlcl90aW1lb3V0IiwiZ2V0X2RvbWFpbl9pZF9mYWlsZWQiLCJub19kb21haW5faWRfZm91bmQiXSksdC5DVElFeGNlcHRpb25zPXQubWFrZUVudW0oWyJBY2Nlc3NEZW5pZWRFeGNlcHRpb24iLCJJbnZhbGlkU3RhdGVFeGNlcHRpb24iLCJCYWRFbmRwb2ludEV4Y2VwdGlvbiIsIkludmFsaWRBZ2VudEFSTkV4Y2VwdGlvbiIsIkludmFsaWRDb25maWd1cmF0aW9uRXhjZXB0aW9uIiwiSW52YWxpZENvbnRhY3RUeXBlRXhjZXB0aW9uIiwiUGFnaW5hdGlvbkV4Y2VwdGlvbiIsIlJlZnJlc2hUb2tlbkV4cGlyZWRFeGNlcHRpb24iLCJTZW5kRGF0YUZhaWxlZEV4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZEV4Y2VwdGlvbiIsIlF1b3RhRXhjZWVkZWRFeGNlcHRpb24iXSksdC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzPXQubWFrZUVudW0oWyJPTkdPSU5HIiwiRU5ERUQiLCJQRU5ESU5HX0NPTkZJR1VSQVRJT04iXSksdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiQUNDRVBUIiwiUkVKRUNUIiwiTk9UX0VOT1VHSF9TUEVFQ0giLCJTUEVBS0VSX05PVF9FTlJPTExFRCIsIlNQRUFLRVJfT1BURURfT1VUIiwiU1BFQUtFUl9JRF9OT1RfUFJPVklERUQiLCJTUEVBS0VSX0VYUElSRUQiXSksdC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJISUdIX1JJU0siLCJMT1dfUklTSyJdKSx0LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiQXV0aGVudGljYXRlZCIsIk5vdEF1dGhlbnRpY2F0ZWQiLCJJbmNvbmNsdXNpdmUiLCJOb3RFbnJvbGxlZCIsIk9wdGVkT3V0IiwiTm90RW5hYmxlZCIsIkVycm9yIl0pLHQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uPXQubWFrZUVudW0oWyJIaWdoUmlzayIsIkxvd1Jpc2siLCJJbmNvbmNsdXNpdmUiLCJOb3RFbmFibGVkIiwiRXJyb3IiXSksdC5DdXN0b21lckF1dGhlbnRpY2F0aW9uU3RhdHVzPXQubWFrZUVudW0oWyJBVVRIRU5USUNBVEVEIiwiRkFJTEVEIiwiVElNRU9VVCJdKSx0LlZpZGVvQ2FwYWJpbGl0eT10Lm1ha2VFbnVtKFsiU0VORCJdKSx0LlNjcmVlblNoYXJlQ2FwYWJpbGl0eT10Lm1ha2VFbnVtKFsiU0VORCJdKSx0LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cz10Lm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJJTl9QUk9HUkVTUyIsIkNPTVBMRVRFRCIsIkZBSUxFRCJdKSx0LlZvaWNlSWRTcGVha2VyU3RhdHVzPXQubWFrZUVudW0oWyJPUFRFRF9PVVQiLCJFTlJPTExFRCIsIlBFTkRJTkciXSksdC5Wb2ljZUlkQ29uc3RhbnRzPXtFVkFMVUFURV9TRVNTSU9OX0RFTEFZOjFlNCxFVkFMVUFUSU9OX01BWF9QT0xMX1RJTUVTOjI0LEVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTDo1ZTMsRU5ST0xMTUVOVF9NQVhfUE9MTF9USU1FUzoxMjAsRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMOjVlMyxTVEFSVF9TRVNTSU9OX0RFTEFZOjhlM30sdC5BZ2VudFBlcm1pc3Npb25zPXtPVVRCT1VORF9DQUxMOiJvdXRib3VuZENhbGwiLFZPSUNFX0lEOiJ2b2ljZUlkIn07dmFyIHY9aCgoZnVuY3Rpb24gZSgpe2YodGhpcyxlKX0pKTtnKHYsImlzRW5hYmxlZCIsKGZ1bmN0aW9uKCl7dmFyIGU9dC5pc0NSTSgpP3QuY29yZS5nZXRDbGllbnQoKTp0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5jYWxsKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLlFSX0lOVEVHUkFUSU9OX0VYSVNUUyxudWxsLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiUXVpY2sgUmVzcG9uc2VzIGlzRW5hYmxlZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJRdWljayBSZXNwb25zZXMgaXNFbmFibGVkIGZhaWxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUpfX0pfSkpfSkpLGcodiwic2VhcmNoUXVpY2tSZXNwb25zZXMiLChmdW5jdGlvbihlKXt2YXIgbj10LmlzQ1JNKCk/dC5jb3JlLmdldENsaWVudCgpOnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLHI9bnVsbCE9ZSYmZS5jb250YWN0SWQ/bmV3IFMoZS5jb250YWN0SWQpLmdldEF0dHJpYnV0ZXMoKTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe24uY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5RUl9TRUFSQ0hfUVVJQ0tfUkVTUE9OU0VTLG8obyh7fSxlKSx7fSx7YXR0cmlidXRlczpyfSkse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYShlKX19KX0pKX0pKTt2YXIgeT1mdW5jdGlvbigpe2lmKCF0LmFnZW50LmluaXRpYWxpemVkKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBhZ2VudCBpcyBub3QgeWV0IGluaXRpYWxpemVkISIpfTt5LnByb3RvdHlwZS5fZ2V0U0RLVm9pY2VDbGllbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52b2ljZUNsaWVudHx8KHRoaXMudm9pY2VDbGllbnQ9bmV3IG0odC5jb3JlLmdldFNES0NsaWVudENvbmZpZygpKSksdGhpcy52b2ljZUNsaWVudH0seS5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCl9LHkucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db250YWN0KGUuY29udGFjdElkKX0seS5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5SRUZSRVNILGUpfSx5LnByb3RvdHlwZS5vblJvdXRhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5ST1VUQUJMRSxlKX0seS5wcm90b3R5cGUub25Ob3RSb3V0YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuTk9UX1JPVVRBQkxFLGUpfSx5LnByb3RvdHlwZS5vbk9mZmxpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLk9GRkxJTkUsZSl9LHkucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkVSUk9SLGUpfSx5LnByb3RvdHlwZS5vblNvZnRwaG9uZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5TT0ZUUEhPTkVfRVJST1IsZSl9LHkucHJvdG90eXBlLm9uV2ViU29ja2V0Q29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0xPU1QsZSl9LHkucHJvdG90eXBlLm9uV2ViU29ja2V0Q29ubmVjdGlvbkdhaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fR0FJTkVELGUpfSx5LnByb3RvdHlwZS5vbkFmdGVyQ2FsbFdvcms9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkFDVyxlKX0seS5wcm90b3R5cGUub25TdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLGUpfSx5LnByb3RvdHlwZS5vbk11dGVUb2dnbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGUpfSx5LnByb3RvdHlwZS5vbkxvY2FsTWVkaWFTdHJlYW1DcmVhdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5MT0NBTF9NRURJQV9TVFJFQU1fQ1JFQVRFRCxlKX0seS5wcm90b3R5cGUub25TcGVha2VyRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5TUEVBS0VSX0RFVklDRV9DSEFOR0VELGUpfSx5LnByb3RvdHlwZS5vbk1pY3JvcGhvbmVEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLk1JQ1JPUEhPTkVfREVWSUNFX0NIQU5HRUQsZSl9LHkucHJvdG90eXBlLm9uUmluZ2VyRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5SSU5HRVJfREVWSUNFX0NIQU5HRUQsZSl9LHkucHJvdG90eXBlLm9uQ2FtZXJhRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZSl9LHkucHJvdG90eXBlLm9uQmFja2dyb3VuZEJsdXJDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkJBQ0tHUk9VTkRfQkxVUl9DSEFOR0VELGUpfSx5LnByb3RvdHlwZS5vblZvaWNlRW5oYW5jZW1lbnRNb2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZnVuY3Rpb24odCl7dmFyIG49dC52b2ljZUVuaGFuY2VtZW50TW9kZTtyZXR1cm4gZSh7dm9pY2VFbmhhbmNlbWVudE1vZGU6bn0pLFByb21pc2UucmVzb2x2ZSgpfTtyZXR1cm4gdGhpcy5fZ2V0U0RLVm9pY2VDbGllbnQoKS5vblZvaWNlRW5oYW5jZW1lbnRNb2RlQ2hhbmdlZChuKSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fZ2V0U0RLVm9pY2VDbGllbnQoKS5vZmZWb2ljZUVuaGFuY2VtZW50TW9kZUNoYW5nZWQobil9fX0seS5wcm90b3R5cGUubXV0ZT1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuRXZlbnRUeXBlLk1VVEUsZGF0YTp7bXV0ZTohMH19KX0seS5wcm90b3R5cGUudW5tdXRlPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5FdmVudFR5cGUuTVVURSxkYXRhOnttdXRlOiExfX0pfSx5LnByb3RvdHlwZS5zZXRTcGVha2VyRGV2aWNlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfU1BFQUtFUl9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0seS5wcm90b3R5cGUuc2V0TWljcm9waG9uZURldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX01JQ1JPUEhPTkVfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHkucHJvdG90eXBlLnNldFJpbmdlckRldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1JJTkdFUl9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0seS5wcm90b3R5cGUuc2V0Q2FtZXJhRGV2aWNlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0seS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZEJsdXI9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLkJBQ0tHUk9VTkRfQkxVUl9DSEFOR0VELGRhdGE6e2lzQmFja2dyb3VuZEJsdXJFbmFibGVkOmV9fSl9LHkucHJvdG90eXBlLnNldFZvaWNlRW5oYW5jZW1lbnRNb2RlPWZ1bmN0aW9uKGUpe2lmKCFuZXcgU2V0KFsiVk9JQ0VfSVNPTEFUSU9OIiwiTk9JU0VfU1VQUFJFU1NJT04iLCJOT05FIl0pLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdm9pY2UgZW5oYW5jZW1lbnQgbW9kZSAiLmNvbmNhdChlKSk7cmV0dXJuIHRoaXMuX2dldFNES1ZvaWNlQ2xpZW50KCkuc2V0Vm9pY2VFbmhhbmNlbWVudE1vZGUoZSl9LHkucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5zdGF0ZX0seS5wcm90b3R5cGUuZ2V0TmV4dFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5uZXh0U3RhdGV9LHkucHJvdG90eXBlLmdldEF2YWlsYWJpbGl0eVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5hZ2VudEF2YWlsYWJpbGl0eVN0YXRlfSx5LnByb3RvdHlwZS5nZXRTdGF0dXM9eS5wcm90b3R5cGUuZ2V0U3RhdGUseS5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5zdGF0ZS5zdGFydFRpbWVzdGFtcC5nZXRUaW1lKCkrdC5jb3JlLmdldFNrZXcoKX0seS5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249eS5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbix5LnByb3RvdHlwZS5nZXRQZXJtaXNzaW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5wZXJtaXNzaW9uc30seS5wcm90b3R5cGUuZ2V0Q29udGFjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90LmNvbnRhY3RzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2NyZWF0ZUNvbnRhY3RBUEkoZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hZXx8dC5nZXRUeXBlKCk9PT1lfSkpfSx5LnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb25maWd1cmF0aW9ufSx5LnByb3RvdHlwZS5nZXRBZ2VudFN0YXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5hZ2VudFN0YXRlc30seS5wcm90b3R5cGUuZ2V0Um91dGluZ1Byb2ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucm91dGluZ1Byb2ZpbGV9LHkucHJvdG90eXBlLmdldFZvaWNlRW5oYW5jZW1lbnRNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnZvaWNlRW5oYW5jZW1lbnRNb2RlfSx5LnByb3RvdHlwZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5nZXRSb3V0aW5nUHJvZmlsZSgpLmNoYW5uZWxDb25jdXJyZW5jeU1hcDtyZXR1cm4gbnx8KG49T2JqZWN0LmtleXModC5DaGFubmVsVHlwZSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiJUQVNLIiE9PW4mJihlW3QuQ2hhbm5lbFR5cGVbbl1dPTEpLGV9KSx7fSkpLGU/bltlXXx8MDpufSx5LnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWV9LHkucHJvdG90eXBlLmdldEFnZW50QVJOPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmFnZW50QVJOfSx5LnByb3RvdHlwZS5nZXRFeHRlbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuZXh0ZW5zaW9ufSx5LnByb3RvdHlwZS5nZXREaWFsYWJsZUNvdW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5kaWFsYWJsZUNvdW50cmllc30seS5wcm90b3R5cGUuaXNTb2Z0cGhvbmVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZUVuYWJsZWR9LHkucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCk7ZSYmZS5hZ2VudFByZWZlcmVuY2VzJiZlLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UmJiFlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlJiYoZS5hZ2VudFByZWZlcmVuY2VzLmxvY2FsZT1lLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UpLGUmJmUuYWdlbnRQcmVmZXJlbmNlcyYmIXQuaXNWYWxpZExvY2FsZShlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlKT9uJiZuLmZhaWx1cmUmJm4uZmFpbHVyZSh0LkFnZW50RXJyb3JTdGF0ZXMuSU5WQUxJRF9MT0NBTEUpOnIuY2FsbCh0LkNsaWVudE1ldGhvZHMuVVBEQVRFX0FHRU5UX0NPTkZJR1VSQVRJT04se2NvbmZpZ3VyYXRpb246dC5hc3NlcnROb3ROdWxsKGUsImNvbmZpZ3VyYXRpb24iKX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlJFTE9BRF9BR0VOVF9DT05GSUdVUkFUSU9OKSxuLnN1Y2Nlc3MmJm4uc3VjY2VzcyhlKX0sZmFpbHVyZTpuJiZuLmZhaWx1cmV9KX0seS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSxuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5QVVRfQUdFTlRfU1RBVEUse3N0YXRlOnQuYXNzZXJ0Tm90TnVsbChlLCJzdGF0ZSIpLGVucXVldWVOZXh0U3RhdGU6ciYmISFyLmVucXVldWVOZXh0U3RhdGV9LG4pfSx5LnByb3RvdHlwZS5vbkVucXVldWVkTmV4dFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5FTlFVRVVFRF9ORVhUX1NUQVRFLGUpfSx5LnByb3RvdHlwZS5zZXRTdGF0dXM9eS5wcm90b3R5cGUuc2V0U3RhdGUseS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQ7dmFyIGk9e2VuZHBvaW50OnQuYXNzZXJ0Tm90TnVsbChvLCJlbmRwb2ludCIpLHF1ZXVlQVJOOm4mJihuLnF1ZXVlQVJOfHxuLnF1ZXVlSWQpfHx0aGlzLmdldFJvdXRpbmdQcm9maWxlKCkuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVBUk59O24mJm4ucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PW4ucmVsYXRlZENvbnRhY3RJZCYmKGkucmVsYXRlZENvbnRhY3RJZD1uLnJlbGF0ZWRDb250YWN0SWQsbi5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIGkucHJldmlvdXNDb250YWN0SWQpLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX09VVEJPVU5EX0NPTlRBQ1QsaSxuJiZ7c3VjY2VzczpuLnN1Y2Nlc3MsZmFpbHVyZTpuLmZhaWx1cmV9KX0seS5wcm90b3R5cGUuZ2V0QWxsUXVldWVBUk5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnJvdXRpbmdQcm9maWxlLnF1ZXVlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnF1ZXVlQVJOfSkpfSx5LnByb3RvdHlwZS5nZXRFbmRwb2ludHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMsaT10LmNvcmUuZ2V0Q2xpZW50KCk7dC5hc3NlcnROb3ROdWxsKG4sImNhbGxiYWNrcyIpLHQuYXNzZXJ0Tm90TnVsbChuLnN1Y2Nlc3MsImNhbGxiYWNrcy5zdWNjZXNzIik7dmFyIGE9cnx8e307YS5lbmRwb2ludHM9YS5lbmRwb2ludHN8fFtdLGEubWF4UmVzdWx0cz1hLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHQuaXNBcnJheShlKXx8KGU9W2VdKSxpLmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9FTkRQT0lOVFMse3F1ZXVlQVJOczplLG5leHRUb2tlbjphLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOmEubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24ocil7aWYoci5uZXh0VG9rZW4pby5nZXRFbmRwb2ludHMoZSxuLHtuZXh0VG9rZW46ci5uZXh0VG9rZW4sbWF4UmVzdWx0czphLm1heFJlc3VsdHMsZW5kcG9pbnRzOmEuZW5kcG9pbnRzLmNvbmNhdChyLmVuZHBvaW50cyl9KTtlbHNle2EuZW5kcG9pbnRzPWEuZW5kcG9pbnRzLmNvbmNhdChyLmVuZHBvaW50cyk7dmFyIGk9YS5lbmRwb2ludHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQuRW5kcG9pbnQoZSl9KSk7bi5zdWNjZXNzKHtlbmRwb2ludHM6aSxhZGRyZXNzZXM6aX0pfX0sZmFpbHVyZTpuLmZhaWx1cmV9KX0seS5wcm90b3R5cGUuZ2V0QWRkcmVzc2VzPXkucHJvdG90eXBlLmdldEVuZHBvaW50cyx5LnByb3RvdHlwZS5fZ2V0UmVzb3VyY2VJZD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRBbGxRdWV1ZUFSTnMoKSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1sKGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGksYT0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gYT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGk9ZX0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19fX0odCk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLm1hdGNoKC9cL2FnZW50XC8oW14vXSspLyk7aWYocilyZXR1cm4gclsxXX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG5ldyBFcnJvcigiQWdlbnQucHJvdG90eXBlLl9nZXRSZXNvdXJjZUlkOiBxdWV1ZUFybnMgZGlkIG5vdCBjb250YWluIGFnZW50UmVzb3VyY2VJZDogIix0KX0seS5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5BZ2VudFNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9O3ZhciBiPWZ1bmN0aW9uKGUpe3QuQWdlbnQuY2FsbCh0aGlzKSx0aGlzLmFnZW50RGF0YT1lfTsoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh5LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LGIucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db250YWN0U25hcHNob3QoZSl9O3ZhciBTPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O1MucHJvdG90eXBlLl9nZXRTREtDbGllbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRhY3RDbGllbnQpcmV0dXJuIHRoaXMuY29udGFjdENsaWVudDt0cnl7dmFyIGUsbixyLG89e3Byb3ZpZGVySWQ6bnVsbD09PShlPXQuY29yZSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUucHJvdmlkZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkLGNvbmZpZzpudWxsPT09KG49dC5jb3JlKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5wcm92aWRlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29uZmlnLGlzU3RyZWFtc1Byb3ZpZGVyOm51bGw9PT0ocj10LmNvcmUpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNTdHJlYW1zUHJvdmlkZXJ9O3JldHVybiB0LmdldExvZygpLmluZm8oIkluaXRpYWxpemluZyBDb250YWN0IFNESyBDbGllbnRzIikud2l0aE9iamVjdChvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuY29udGFjdENsaWVudD1uZXcgZCh0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpLHRoaXMuY29udGFjdENsaWVudH1jYXRjaChlKXt2YXIgaSxhLHMsYz17cHJvdmlkZXJJZDpudWxsPT09KGk9dC5jb3JlKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5wcm92aWRlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQsY29uZmlnOm51bGw9PT0oYT10LmNvcmUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLnByb3ZpZGVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jb25maWcsaXNTdHJlYW1zUHJvdmlkZXI6bnVsbD09PShzPXQuY29yZSl8fHZvaWQgMD09PXN8fG51bGw9PT0ocz1zLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09cz92b2lkIDA6cy5pc1N0cmVhbXNQcm92aWRlcixlcnJvcjplfTt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBDb250YWN0IFNESyBDbGllbnRzIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sUy5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5nZXRDb250YWN0SWQoKSl9LFMucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuQ0hBVD9uZXcgdC5DaGF0Q29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCk6dGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlRBU0s/bmV3IHQuVGFza0Nvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOnRoaXMuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5FTUFJTD9uZXcgdC5FbWFpbENvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOm5ldyB0LlZvaWNlQ29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCl9LFMucHJvdG90eXBlLmdldEV2ZW50TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoZSx0aGlzLmdldENvbnRhY3RJZCgpKX0sUy5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gpLGUpfSxTLnByb3RvdHlwZS5vbkluY29taW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLklOQ09NSU5HKSxlKX0sUy5wcm90b3R5cGUub25Db25uZWN0aW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLGUpfSxTLnByb3RvdHlwZS5vblBlbmRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuUEVORElORyksZSl9LFMucHJvdG90eXBlLm9uQWNjZXB0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQpLGUpfSxTLnByb3RvdHlwZS5vbk1pc3NlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLGUpfSxTLnByb3RvdHlwZS5vbkVuZGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkVOREVEKSxlKX0sUy5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkRFU1RST1lFRCksZSl9LFMucHJvdG90eXBlLm9uQUNXPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkFDVyksZSl9LFMucHJvdG90eXBlLm9uQ29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCksZSl9LFMucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuRVJST1IpLGUpfSxTLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LFMucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsQ29udGFjdElkfSxTLnByb3RvdHlwZS5nZXRJbml0aWFsQ29udGFjdElkPVMucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkLFMucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnR5cGV9LFMucHJvdG90eXBlLmdldENvbnRhY3REdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdER1cmF0aW9ufSxTLnByb3RvdHlwZS5lbmdhZ2VQcmV2aWV3Q29udGFjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFNES0NsaWVudCgpLHQ9dGhpcy5nZXRDb250YWN0SWQoKTtyZXR1cm4gZS5lbmdhZ2VQcmV2aWV3Q29udGFjdCh0KX0sUy5wcm90b3R5cGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRTREtDbGllbnQoKSx0PXRoaXMuZ2V0Q29udGFjdElkKCk7cmV0dXJuIGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb24odCl9LFMucHJvdG90eXBlLmlzUHJldmlld01vZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRTREtDbGllbnQoKSx0PXRoaXMuZ2V0Q29udGFjdElkKCk7cmV0dXJuIGUuaXNQcmV2aWV3TW9kZSh0KX0sUy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxTLnByb3RvdHlwZS5nZXRTdGF0dXM9Uy5wcm90b3R5cGUuZ2V0U3RhdGUsUy5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LFMucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPVMucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24sUy5wcm90b3R5cGUuZ2V0UXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnF1ZXVlfSxTLnByb3RvdHlwZS5nZXRRdWV1ZVRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVldWVUaW1lc3RhbXB9LFMucHJvdG90eXBlLmdldENvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbm5lY3Rpb25zLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIGUuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5DSEFUP25ldyB0LkNoYXRDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKTplLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuVEFTSz9uZXcgdC5UYXNrQ29ubmVjdGlvbihlLmNvbnRhY3RJZCxuLmNvbm5lY3Rpb25JZCk6ZS5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLkVNQUlMP25ldyB0LkVtYWlsQ29ubmVjdGlvbihlLmNvbnRhY3RJZCxuLmNvbm5lY3Rpb25JZCk6bmV3IHQuVm9pY2VDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKX0pKX0sUy5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNJbml0aWFsQ29ubmVjdGlvbigpfSkpfHxudWxsfSxTLnByb3RvdHlwZS5nZXRBY3RpdmVJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm4gbnVsbCE9ZSYmZS5pc0FjdGl2ZSgpP2U6bnVsbH0sUy5wcm90b3R5cGUuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzSW5pdGlhbENvbm5lY3Rpb24oKSYmZS5nZXRUeXBlKCkhPT10LkNvbm5lY3Rpb25UeXBlLkFHRU5UfSkpfSxTLnByb3RvdHlwZS5nZXRTaW5nbGVBY3RpdmVUaGlyZFBhcnR5Q29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRoaXJkUGFydHlDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKVswXXx8bnVsbH0sUy5wcm90b3R5cGUuZ2V0QWdlbnRDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0VHlwZSgpO3JldHVybiBuPT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVHx8bj09PXQuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR30pKX0sUy5wcm90b3R5cGUuZ2V0QWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKX0sUy5wcm90b3R5cGUuaGFzVHdvQWN0aXZlUGFydGljaXBhbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10aGlzLmdldEFjdGl2ZUNvbm5lY3Rpb25zKCkubGVuZ3RofSxTLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5uYW1lfSxTLnByb3RvdHlwZS5nZXRJbml0aWF0aW9uTWV0aG9kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWF0aW9uTWV0aG9kfSxTLnByb3RvdHlwZS5nZXRDb250YWN0TWV0YWRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RNZXRhZGF0YX0sUy5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmRlc2NyaXB0aW9ufSxTLnByb3RvdHlwZS5nZXRSZWxhdGVkQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5yZWxhdGVkQ29udGFjdElkfSxTLnByb3RvdHlwZS5nZXRDb250YWN0QXNzb2NpYXRpb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdEFzc29jaWF0aW9uSWR9LFMucHJvdG90eXBlLmdldEN1c3RvbWVyRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmN1c3RvbWVyRW5kcG9pbnR9LFMucHJvdG90eXBlLmdldENvbm5lY3RTeXN0ZW1FbmRwb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29ubmVjdFN5c3RlbUVuZHBvaW50fSxTLnByb3RvdHlwZS5nZXRSZWZlcmVuY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5yZWZlcmVuY2VzfSxTLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5hdHRyaWJ1dGVzfSxTLnByb3RvdHlwZS5nZXRDb250YWN0RmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RGZWF0dXJlc30sUy5wcm90b3R5cGUuZ2V0Q2hhbm5lbENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNoYW5uZWxDb250ZXh0fSxTLnByb3RvdHlwZS5nZXRTZWdtZW50QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc2VnbWVudEF0dHJpYnV0ZXN9LFMucHJvdG90eXBlLmdldENvbnRhY3RTdWJ0eXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWdtZW50QXR0cmlidXRlcygpO3JldHVybiBlJiZlWyJjb25uZWN0OlN1YnR5cGUiXT9lWyJjb25uZWN0OlN1YnR5cGUiXS5WYWx1ZVN0cmluZzpudWxsfSxTLnByb3RvdHlwZS5pc1NvZnRwaG9uZUNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlZPSUNFfHx0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0spJiZCb29sZWFuKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKX0pKSl9LFMucHJvdG90eXBlLmhhc1ZpZGVvUlRDQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9KSl9LFMucHJvdG90eXBlLmNhbkFnZW50U2VuZFZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9LFMucHJvdG90eXBlLmNhbkFnZW50UmVjZWl2ZVZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO2lmKGUuY2FuU2VuZFZpZGVvJiZlLmNhblNlbmRWaWRlbygpKXJldHVybiEwO3ZhciB0PXRoaXMuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zKCk7cmV0dXJuIHQmJnQubGVuZ3RoPjAmJnRoaXMuY2FuQWdlbnRTZW5kVmlkZW8oKX0sUy5wcm90b3R5cGUuaGFzU2NyZWVuU2hhcmVDYXBhYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9KSl9LFMucHJvdG90eXBlLmNhbkFnZW50U2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9LFMucHJvdG90eXBlLmNhbkN1c3RvbWVyU2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0sUy5wcm90b3R5cGUuc3RhcnRTY3JlZW5TaGFyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dShzKCkubWFyaygoZnVuY3Rpb24gZShuKXt2YXIgcixvLGk7cmV0dXJuIHMoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPXRoaXMuZ2V0Q29udGFjdElkKCksImNvbm5lY3Q6V2ViUlRDIj09PXRoaXMuZ2V0Q29udGFjdFN1YnR5cGUoKSl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2Nhc2UgMzppZih0aGlzLmlzQ29ubmVjdGVkKCkpe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgaXMgbm90IGNvbm5lY3RlZC4iLHIpO2Nhc2UgNTppZihuKXtlLm5leHQ9MTE7YnJlYWt9cmV0dXJuIG89dC5pc0NSTSgpP3QuY29yZS5nZXRDbGllbnQoKTp0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKSxpPXtJbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxDb250YWN0SWQ6cixQYXJ0aWNpcGFudElkOnRoaXMuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZ2V0Q29ubmVjdGlvbklkKCl9LGUuYWJydXB0KCJyZXR1cm4iLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe28uY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5TVEFSVF9TQ1JFRU5fU0hBUklORyxpLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3QuZ2V0TG9nKCkuaW5mbygic3RhcnRTY3JlZW5TaGFyaW5nIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxkYXRhOntjb250YWN0SWQ6cn19KSxlKG4pfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0U2NyZWVuU2hhcmluZyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX0VSUk9SLGRhdGE6e2NvbnRhY3RJZDpyfX0pLG4oZSl9fSl9KSkpO2Nhc2UgMTE6dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUQVJURUQsZGF0YTp7Y29udGFjdElkOnJ9fSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLFMucHJvdG90eXBlLm9uU2NyZWVuU2hhcmluZ1N0YXJ0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxlKX0sUy5wcm90b3R5cGUuc3RvcFNjcmVlblNoYXJpbmc9dShzKCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciBuO3JldHVybiBzKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYobj10aGlzLmdldENvbnRhY3RJZCgpLCJjb25uZWN0OldlYlJUQyI9PT10aGlzLmdldENvbnRhY3RTdWJ0eXBlKCkpe2UubmV4dD0zO2JyZWFrfXRocm93IG5ldyBFcnJvcigiU2NyZWVuIHNoYXJpbmcgaXMgb25seSBzdXBwb3J0ZWQgZm9yIFdlYlJUQyBjb250YWN0cy4iKTtjYXNlIDM6aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXtlLm5leHQ9NTticmVha310aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJDb250YWN0ICVzIGlzIG5vdCBjb25uZWN0ZWQuIixuKTtjYXNlIDU6dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUT1BQRUQsZGF0YTp7Y29udGFjdElkOm59fSk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksUy5wcm90b3R5cGUub25TY3JlZW5TaGFyaW5nU3RvcHBlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVE9QUEVELGUpfSxTLnByb3RvdHlwZS5vblNjcmVlblNoYXJpbmdFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19FUlJPUixlKX0sUy5wcm90b3R5cGUuX2lzSW5ib3VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhdGlvbk1ldGhvZCE9PXQuQ29udGFjdEluaXRpYXRpb25NZXRob2QuT1VUQk9VTkR9LFMucHJvdG90eXBlLmlzSW5ib3VuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm5bdC5NZWRpYVR5cGUuVEFTSyx0Lk1lZGlhVHlwZS5FTUFJTF0uaW5jbHVkZXMoZS5nZXRNZWRpYVR5cGUoKSk/dGhpcy5faXNJbmJvdW5kKCk6ISFlJiZlLmdldFR5cGUoKT09PXQuQ29ubmVjdGlvblR5cGUuSU5CT1VORH0sUy5wcm90b3R5cGUuaXNDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRH0sUy5wcm90b3R5cGUuYWNjZXB0PWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKSxyPXRoaXMsbz10aGlzLmdldENvbnRhY3RJZCgpO3QucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOnQuQ2xpY2tUeXBlLkFDQ0VQVCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksbi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5BQ0NFUFRfQ09OVEFDVCx7Y29udGFjdElkOm99LHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciBpPXQuY29yZS5nZXRVcHN0cmVhbSgpO2kuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLkFDQ0VQVEVELGRhdGE6bmV3IHQuQ29udGFjdChvKX0pLGkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkFDQ0VQVEVELHIuZ2V0Q29udGFjdElkKCkpLGRhdGE6bmV3IHQuQ29udGFjdChvKX0pO3ZhciBhPW5ldyB0LkNvbnRhY3Qobyk7dC5pc0ZpcmVmb3hCcm93c2VyKCkmJmEuaXNTb2Z0cGhvbmVDYWxsKCkmJnQuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50KCksZSYmZS5zdWNjZXNzJiZlLnN1Y2Nlc3Mobil9LGZhaWx1cmU6ZnVuY3Rpb24obixyKXt0LmdldExvZygpLmVycm9yKCJBY2NlcHQgQ29udGFjdCBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhFeGNlcHRpb24obikud2l0aE9iamVjdCh7ZGF0YTpyfSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDb250YWN0QWNjZXB0RmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KSxlJiZlLmZhaWx1cmUmJmUuZmFpbHVyZSh0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IpfX0pfSxTLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dC5nZXRMb2coKS53YXJuKCJjb250YWN0LmRlc3Ryb3koKSBoYXMgYmVlbiBkZXByZWNhdGVkLiIpfSxTLnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3QucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOnQuQ2xpY2tUeXBlLlJFSkVDVCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksbi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5SRUpFQ1RfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ09NUExFVEVfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ0xFQVJfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5ub3RpZnlJc3N1ZT1mdW5jdGlvbihlLG4scil7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLk5PVElGWV9DT05UQUNUX0lTU1VFLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxpc3N1ZUNvZGU6ZSxkZXNjcmlwdGlvbjpufSxyKX0sUy5wcm90b3R5cGUuYWRkQ29ubmVjdGlvbj1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQsci5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfQURESVRJT05BTF9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxlbmRwb2ludDpvfSxuKX0sUy5wcm90b3R5cGUudG9nZ2xlQWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldENsaWVudCgpLHI9bnVsbCxvPXQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRH0pKTtpZihudWxsIT1vKXI9by5nZXRDb25uZWN0aW9uSWQoKTtlbHNle3ZhciBpPXRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQWN0aXZlKCl9KSk7aS5sZW5ndGg+MCYmKHI9aVswXS5nZXRDb25uZWN0aW9uSWQoKSl9bi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5UT0dHTEVfQUNUSVZFX0NPTk5FQ1RJT05TLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6cn0sZSl9LFMucHJvdG90eXBlLnNlbmRTb2Z0cGhvbmVNZXRyaWNzPWZ1bmN0aW9uKG4scil7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24sc29mdHBob25lU3RyZWFtU3RhdGlzdGljczpufSxyKSx0LnB1Ymxpc2hTb2Z0cGhvbmVTdGF0cyh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24sc3RhdHM6bn0pfSxTLnByb3RvdHlwZS5zZW5kU29mdHBob25lUmVwb3J0PWZ1bmN0aW9uKG4scil7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfUkVQT1JULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixyZXBvcnQ6bn0scil9LFMucHJvdG90eXBlLmNvbmZlcmVuY2VDb25uZWN0aW9ucz1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ09ORkVSRU5DRV9DT05ORUNUSU9OUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkNvbnRhY3RTbmFwc2hvdCh0aGlzLl9nZXREYXRhKCkpfSxTLnByb3RvdHlwZS5pc011bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29udGFjdEZlYXR1cmVzKCk7cmV0dXJuISghZXx8IWUubXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkKX0sUy5wcm90b3R5cGUudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGU9ZnVuY3Rpb24oZSxuKXtlJiZPYmplY3QudmFsdWVzKHQuTW9uaXRvcmluZ01vZGUpLmluY2x1ZGVzKGUudG9VcHBlckNhc2UoKSk/dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlVQREFURV9NT05JVE9SX1BBUlRJQ0lQQU5UX1NUQVRFLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSx0YXJnZXRNb25pdG9yTW9kZTplLnRvVXBwZXJDYXNlKCl9LG4pOih0LmdldExvZygpLmVycm9yKCJJbnZhbGlkIHRhcmdldCBzdGF0ZSB3YXMgcHJvdmlkZWQ6ICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4mJm4uZmFpbHVyZSYmbi5mYWlsdXJlKHQuTW9uaXRvcmluZ0Vycm9yVHlwZXMuSU5WQUxJRF9UQVJHRVRfU1RBVEUpKX0sUy5wcm90b3R5cGUuaXNVbmRlclN1cGVydmlzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VHlwZSgpIT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVH0pKTtyZXR1cm4gdm9pZCAwIT09KGUmJmUuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNCYXJnZSgpJiZlLmlzQWN0aXZlKCl9KSkpfSxTLnByb3RvdHlwZS5pc0F1dG9BY2NlcHRFbmFibGVkPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlLG4scixvLGk9dGhpcy5nZXRUeXBlKCksYT10aGlzLl9nZXREYXRhKCk7cmV0dXJuIGEuYWdlbnRDb250YWN0SGFuZGxpbmdDb25maWc/bnVsbCE9PShlPW51bGw9PT0obj1hLmFnZW50Q29udGFjdEhhbmRsaW5nQ29uZmlnKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hdXRvQWNjZXB0KSYmdm9pZCAwIT09ZSYmZTppPT09dC5Db250YWN0VHlwZS5WT0lDRSYmbnVsbCE9PShyPW51bGw9PT0obz10aGlzLmdldEFnZW50Q29ubmVjdGlvbigpLmdldFNvZnRwaG9uZU1lZGlhSW5mbygpKXx8dm9pZCAwPT09bz92b2lkIDA6by5hdXRvQWNjZXB0KSYmdm9pZCAwIT09ciYmcn1jYXRjaChlKXtyZXR1cm4gdC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgaWYgYXV0byBhY2NlcHQgaXMgZW5hYmxlZCBmb3IgdGhlIGNvbnRhY3QuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExfX0sUy5wcm90b3R5cGUuc2lsZW50TW9uaXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZSh0Lk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SLGUpfSxTLnByb3RvdHlwZS5iYXJnZUluPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlKHQuTW9uaXRvcmluZ01vZGUuQkFSR0UsZSl9LFMucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5QQVVTRV9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LFMucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuUkVTVU1FX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0sUy5wcm90b3R5cGUuYWRkUGFydGljaXBhbnQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCksbz1uZXcgdC5FbmRwb2ludChlKTtkZWxldGUgby5lbmRwb2ludElkLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuQUREX05FV19DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxlbmRwb2ludDpvfSxuKX0sUy5wcm90b3R5cGUudHJhbnNmZXI9ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCksbz1uZXcgdC5FbmRwb2ludChlKTtkZWxldGUgby5lbmRwb2ludElkLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuVFJBTlNGRVJfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksZW5kcG9pbnQ6b30sbil9O3ZhciBFPWZ1bmN0aW9uKGUpe3QuQ29udGFjdC5jYWxsKHRoaXMsZS5jb250YWN0SWQpLHRoaXMuY29udGFjdERhdGE9ZX07KEUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1FLEUucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdERhdGF9LEUucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db25uZWN0aW9uU25hcHNob3QoZSl9O3ZhciBDPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250YWN0SWQ9ZSx0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuX2luaXRNZWRpYUNvbnRyb2xsZXIoKX07Qy5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29ubmVjdGlvbkRhdGEodGhpcy5nZXRDb250YWN0SWQoKSx0aGlzLmdldENvbm5lY3Rpb25JZCgpKX0sQy5wcm90b3R5cGUuZ2V0Q29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdElkfSxDLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWR9LEMucHJvdG90eXBlLmdldEVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkVuZHBvaW50KHRoaXMuX2dldERhdGEoKS5lbmRwb2ludCl9LEMucHJvdG90eXBlLmdldEFkZHJlc3M9Qy5wcm90b3R5cGUuZ2V0RW5kcG9pbnQsQy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxDLnByb3RvdHlwZS5nZXRTdGF0dXM9Qy5wcm90b3R5cGUuZ2V0U3RhdGUsQy5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LEMucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPUMucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24sQy5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkudHlwZX0sQy5wcm90b3R5cGUuaXNJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhbH0sQy5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb250YWlucyh0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUyx0aGlzLmdldFN0YXR1cygpLnR5cGUpfSxDLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRhaW5zKHQuQ09OTkVDVElPTl9DT05ORUNURURfU1RBVEVTLHRoaXMuZ2V0U3RhdHVzKCkudHlwZSl9LEMucHJvdG90eXBlLmlzQ29ubmVjdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVElOR30sQy5wcm90b3R5cGUuaXNPbkhvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09dC5Db25uZWN0aW9uU3RhdGVUeXBlLkhPTER9LEMucHJvdG90eXBlLmdldFNvZnRwaG9uZU1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxDLnByb3RvdHlwZS5nZXRNb25pdG9ySW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvcmluZ0luZm99LEMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dC5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6dC5DbGlja1R5cGUuSEFOR1VQLGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSx0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuREVTVFJPWV9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LEMucHJvdG90eXBlLnNlbmREaWdpdHM9ZnVuY3Rpb24oZSxuKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9ESUdJVFMse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpLGRpZ2l0czplfSxuKX0sQy5wcm90b3R5cGUuaG9sZD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuSE9MRF9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LEMucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuUkVTVU1FX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sQy5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5Db25uZWN0aW9uU25hcHNob3QodGhpcy5fZ2V0RGF0YSgpKX0sQy5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt0aGlzLmdldE1lZGlhSW5mbygpJiZ0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9LEMucHJvdG90eXBlLl9pc0FnZW50Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFR5cGUoKTtyZXR1cm4gZT09PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR8fGU9PT10LkNvbm5lY3Rpb25UeXBlLk1PTklUT1JJTkd9LEMucHJvdG90eXBlLl9pc0FnZW50Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFR5cGUoKTtyZXR1cm4gZT09PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR8fGU9PT10LkNvbm5lY3Rpb25UeXBlLk1PTklUT1JJTkd9O3ZhciBJPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O0kucHJvdG90eXBlLmdldFNwZWFrZXJJZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt2YXIgaT17Y29udGFjdElkOmUuY29udGFjdElkLGluc3RhbmNlSWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLGF3c0FjY291bnRJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBV1NBY2NvdW50SWQoKX07dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VySWQgY2FsbGVkIikud2l0aE9iamVjdChpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5HRVRfQ09OVEFDVCxpLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKGUuY29udGFjdERhdGEuY3VzdG9tZXJJZCl7dmFyIG49e3NwZWFrZXJJZDplLmNvbnRhY3REYXRhLmN1c3RvbWVySWR9O3QuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlcklkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKG4pfWVsc2V7dmFyIGk9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5OT19TUEVBS0VSX0lEX0ZPVU5ELCJObyBzcGVha2VySWQgYXNzb3RpYXRlZCB3aXRoIHRoaXMgY2FsbCIpO28oaSl9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkdldCBTcGVha2VySWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuR0VUX1NQRUFLRVJfSURfRkFJTEVELCJHZXQgU3BlYWtlcklkIGZhaWxlZCIsZSk7byhuKX19KX0pKX0sSS5wcm90b3R5cGUuZ2V0U3BlYWtlclN0YXR1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKGkpe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYT17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChpLnNwZWFrZXJJZCwic3BlYWtlcklkIiksRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VyU3RhdHVzIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVTQ1JJQkVfU1BFQUtFUixhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlclN0YXR1cyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgbj1KU09OLnBhcnNlKGUpO3N3aXRjaChuLnN0YXR1cyl7Y2FzZSA0MDA6Y2FzZSA0MDQ6dmFyIGk9bjtpLnR5cGU9aS50eXBlP2kudHlwZTp0LlZvaWNlSWRFcnJvclR5cGVzLlNQRUFLRVJfSURfTk9UX0VOUk9MTEVELHQuZ2V0TG9nKCkuaW5mbygiU3BlYWtlciBpcyBub3QgZW5yb2xsZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGkpO2JyZWFrO2RlZmF1bHQ6dC5nZXRMb2coKS5lcnJvcigiZ2V0U3BlYWtlclN0YXR1cyBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGE9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfU1BFQUtFUl9TVEFUVVNfRkFJTEVELCJHZXQgU3BlYWtlclN0YXR1cyBmYWlsZWQiLGUpO28oYSl9fX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5fb3B0T3V0U3BlYWtlckluTGNtcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBzPXtDb250YWN0SWQ6ci5jb250YWN0SWQsSW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksQVdTQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLEN1c3RvbWVySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLFZvaWNlSWRSZXN1bHQ6e1NwZWFrZXJPcHRlZE91dDohMCxnZW5lcmF0ZWRTcGVha2VySWQ6bn19O3QuZ2V0TG9nKCkuaW5mbygiX29wdE91dFNwZWFrZXJJbkxjbXMgY2FsbGVkIikud2l0aE9iamVjdChzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfVk9JQ0VfSURfREFUQSxzLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlckluTGNtcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJvcHRPdXRTcGVha2VySW5MY21zIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk9QVF9PVVRfU1BFQUtFUl9JTl9MQ01TX0ZBSUxFRCwib3B0T3V0U3BlYWtlckluTGNtcyBmYWlsZWQiLGUpO2Eobil9fSl9KSl9LEkucHJvdG90eXBlLm9wdE91dFNwZWFrZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oYSl7dmFyIHM9aS5zcGVha2VySWQsYz17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChzLCJzcGVha2VySWQiKSxEb21haW5JZDphfTt0LmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5PUFRfT1VUX1NQRUFLRVIsYyx7c3VjY2VzczpmdW5jdGlvbihuKXtlLl9vcHRPdXRTcGVha2VySW5MY21zKHMsbi5nZW5lcmF0ZWRTcGVha2VySWQpLmNhdGNoKChmdW5jdGlvbigpe30pKSx0LmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIobil9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigib3B0T3V0U3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5PUFRfT1VUX1NQRUFLRVJfRkFJTEVELCJvcHRPdXRTcGVha2VyIGZhaWxlZC4iLGUpO28obil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LEkucHJvdG90eXBlLmRlbGV0ZVNwZWFrZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGE9e1NwZWFrZXJJZDp0LmFzc2VydE5vdE51bGwoaS5zcGVha2VySWQsInNwZWFrZXJJZCIpLERvbWFpbklkOmV9O3QuZ2V0TG9nKCkuaW5mbygiZGVsZXRlU3BlYWtlciBjYWxsZWQiKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkRFTEVURV9TUEVBS0VSLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJkZWxldGVTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoImRlbGV0ZVNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuREVMRVRFX1NQRUFLRVJfRkFJTEVELCJkZWxldGVTcGVha2VyIGZhaWxlZC4iLGUpO28obil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LEkucHJvdG90eXBlLnN0YXJ0U2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIGE9e2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxjdXN0b21lckFjY291bnRJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBV1NBY2NvdW50SWQoKSxjbGllbnRUb2tlbjpBV1MudXRpbC51dWlkLnY0KCksZG9tYWluSWQ6aX07dC5nZXRMb2coKS5pbmZvKCJzdGFydFNlc3Npb24gY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5TVEFSVF9WT0lDRV9JRF9TRVNTSU9OLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoZS5zZXNzaW9uSWQpcihlKTtlbHNle3QuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0Vm9pY2VJZFNlc3Npb24gZmFpbGVkLCBubyBzZXNzaW9uIGlkIHJldHVybmVkIikud2l0aE9iamVjdCh7ZGF0YTplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlNUQVJUX1NFU1NJT05fRkFJTEVELCJObyBzZXNzaW9uIGlkIHJldHVybmVkIGZyb20gc3RhcnQgc2Vzc2lvbiBhcGkiKTtvKG4pfX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzdGFydFZvaWNlSWRTZXNzaW9uIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlNUQVJUX1NFU1NJT05fRkFJTEVELCJzdGFydFZvaWNlSWRTZXNzaW9uIGZhaWxlZCIsZSk7byhuKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sSS5wcm90b3R5cGUuZXZhbHVhdGVTcGVha2VyPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7bi5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpLGk9MDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGEscyl7ZnVuY3Rpb24gYygpe24uZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdT17U2Vzc2lvbk5hbWVPcklkOm8uaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdCh1KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5FVkFMVUFURV9TRVNTSU9OLHUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoKytpPHQuVm9pY2VJZENvbnN0YW50cy5FVkFMVUFUSU9OX01BWF9QT0xMX1RJTUVTKWlmKGUuU3RyZWFtaW5nU3RhdHVzPT09dC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLlBFTkRJTkdfQ09ORklHVVJBVElPTilzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTCk7ZWxzZXtpZihlLkF1dGhlbnRpY2F0aW9uUmVzdWx0fHwoZS5BdXRoZW50aWNhdGlvblJlc3VsdD17fSxlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEKSxlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0fHwoZS5GcmF1ZERldGVjdGlvblJlc3VsdD17fSxlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEKSwhbi5pc0F1dGhFbmFibGVkKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYhbi5pc0ZyYXVkRW5hYmxlZChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgYShlKTtpZihlLlN0cmVhbWluZ1N0YXR1cz09PXQuVm9pY2VJZFN0cmVhbWluZ1N0YXR1cy5FTkRFRCYmKG4uaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkUpLG4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSYmKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFKSksbi5pc0F1dGhSZXN1bHRJbmNvbmNsdXNpdmUoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNGcmF1ZFJlc3VsdEluY29uY2x1c2l2ZShlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgYShlKTtpZighbi5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNBdXRoRW5hYmxlZChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSlzd2l0Y2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbil7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkFDQ0VQVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkFVVEhFTlRJQ0FURUQ7YnJlYWs7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLlJFSkVDVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9BVVRIRU5USUNBVEVEO2JyZWFrO2Nhc2UgdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5TUEVBS0VSX09QVEVEX09VVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk9QVEVEX09VVDticmVhaztjYXNlIHQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uU1BFQUtFUl9OT1RfRU5ST0xMRUQ6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5ST0xMRUQ7YnJlYWs7ZGVmYXVsdDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkVSUk9SfWlmKCFuLmlzRnJhdWRSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNGcmF1ZEVuYWJsZWQoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikpc3dpdGNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pe2Nhc2UgdC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5ISUdIX1JJU0s6ZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5ISUdIX1JJU0s7YnJlYWs7Y2FzZSB0LlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkxPV19SSVNLOmUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTE9XX1JJU0s7YnJlYWs7ZGVmYXVsdDplLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkVSUk9SfWlmKCFuLmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmIW4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgYShlKTtzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTCl9ZWxzZXt0LmdldExvZygpLmVycm9yKCJldmFsdWF0ZVNwZWFrZXIgdGltZW91dCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHI9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FVkFMVUFURV9TUEVBS0VSX1RJTUVPVVQsImV2YWx1YXRlU3BlYWtlciB0aW1lb3V0Iik7cyhyKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dmFyIG47c3dpdGNoKEpTT04ucGFyc2UoZSkuc3RhdHVzKXtjYXNlIDQwMDpjYXNlIDQwNDpuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuU0VTU0lPTl9OT1RfRVhJU1RTLCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiLGUpLHQuZ2V0TG9nKCkuZXJyb3IoImV2YWx1YXRlU3BlYWtlciBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTticmVhaztkZWZhdWx0Om49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FVkFMVUFURV9TUEVBS0VSX0ZBSUxFRCwiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCIsZSksdC5nZXRMb2coKS5lcnJvcigiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1zKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtzKGUpfSkpfWU/bi5zdGFydFNlc3Npb24oKS50aGVuKChmdW5jdGlvbihlKXtuLnN5bmNTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRFX1NFU1NJT05fREVMQVkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzeW5jU3BlYWtlcklkIGZhaWxlZCB3aGVuIHNlc3Npb24gc3RhcnROZXc9dHJ1ZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzdGFydFNlc3Npb24gZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz10cnVlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMoZSl9KSk6bi5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oKXtjKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN5bmNTcGVha2VySWQgZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz1mYWxzZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5kZXNjcmliZVNlc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dC5jb3JlLmdldENsaWVudCgpLHI9dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGE9e1Nlc3Npb25OYW1lT3JJZDpyLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLERvbWFpbklkOmV9O3QuZ2V0TG9nKCkuaW5mbygiZGVzY3JpYmVTZXNzaW9uIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVTQ1JJQkVfU0VTU0lPTixhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe28oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiZGVzY3JpYmVTZXNzaW9uIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkRFU0NSSUJFX1NFU1NJT05fRkFJTEVELCJkZXNjcmliZVNlc3Npb24gZmFpbGVkIixlKTtpKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5jaGVja0Vucm9sbG1lbnRTdGF0dXM9ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJjaGVja0Vucm9sbG1lbnRTdGF0dXMgY2FsbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10aGlzLHI9MCxvPSExO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXshZnVuY3Rpb24gcygpe2lmKCsrcjx0LlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9NQVhfUE9MTF9USU1FUyluLmRlc2NyaWJlU2Vzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKHIpe3N3aXRjaChyLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLlN0YXR1cyl7Y2FzZSB0LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5DT01QTEVURUQ6aShyKTticmVhaztjYXNlIHQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTOm98fCJmdW5jdGlvbiIhPXR5cGVvZiBlfHwoZShyKSxvPSEwKSxzZXRUaW1lb3V0KHMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVOUk9MTE1FTlRfUE9MTElOR19JTlRFUlZBTCk7YnJlYWs7Y2FzZSB0LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5OT1RfRU5PVUdIX1NQRUVDSDpyLlNlc3Npb24uU3RyZWFtaW5nU3RhdHVzIT09dC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLkVOREVEP3NldFRpbWVvdXQocyx0LlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMKTpzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uc3RhcnRTZXNzaW9uKCkudGhlbigoZnVuY3Rpb24oZSl7cygpfSkpLmNhdGNoKChmdW5jdGlvbihlLHQpe2EoZSl9KSl9KSx0LlZvaWNlSWRDb25zdGFudHMuU1RBUlRfU0VTU0lPTl9ERUxBWSk7YnJlYWs7ZGVmYXVsdDp2YXIgYz1yLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLk1lc3NhZ2U/ci5TZXNzaW9uLkVucm9sbG1lbnRSZXF1ZXN0RGV0YWlscy5NZXNzYWdlOiJlbnJvbGxTcGVha2VyIGZhaWxlZC4gVW5rbm93biBlbnJvbGxtZW50IHN0YXR1cyBoYXMgYmVlbiByZWNlaXZlZCI7dC5nZXRMb2coKS5lcnJvcihjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB1PXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfRkFJTEVELGMsci5TZXNzaW9uLkVucm9sbG1lbnRSZXF1ZXN0RGV0YWlscy5TdGF0dXMpO2EodSl9fSkpO2Vsc2V7dC5nZXRMb2coKS5lcnJvcigiZW5yb2xsU3BlYWtlciB0aW1lb3V0Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYz10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkVOUk9MTF9TUEVBS0VSX1RJTUVPVVQsImVucm9sbFNwZWFrZXIgdGltZW91dCIpO2EoYyl9fSgpfSkpfSxJLnByb3RvdHlwZS5lbnJvbGxTcGVha2VyPWZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlciBjYWxsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXRoaXM7cmV0dXJuIG4uY2hlY2tDb25mZXJlbmNlQ2FsbCgpLG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe24uc3luY1NwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKCl7bi5nZXRTcGVha2VyU3RhdHVzKCkudGhlbigoZnVuY3Rpb24oaSl7aS5TcGVha2VyJiZpLlNwZWFrZXIuU3RhdHVzPT10LlZvaWNlSWRTcGVha2VyU3RhdHVzLk9QVEVEX09VVD9uLmRlbGV0ZVNwZWFrZXIoKS50aGVuKChmdW5jdGlvbigpe24uZW5yb2xsU3BlYWtlckhlbHBlcihyLG8sZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSk6bi5lbnJvbGxTcGVha2VySGVscGVyKHIsbyxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sSS5wcm90b3R5cGUuZW5yb2xsU3BlYWtlckhlbHBlcj1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcyxpPXQuY29yZS5nZXRDbGllbnQoKSxhPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtvLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24ocyl7dmFyIGM9e1Nlc3Npb25OYW1lT3JJZDphLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLERvbWFpbklkOnN9O3QuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlckhlbHBlciBjYWxsZWQiKS53aXRoT2JqZWN0KGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaS5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkVOUk9MTF9CWV9TRVNTSU9OLGMse3N1Y2Nlc3M6ZnVuY3Rpb24oaSl7aS5TdGF0dXM9PT10LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5DT01QTEVURUQ/KHQuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZShpKSk6by5jaGVja0Vucm9sbG1lbnRTdGF0dXMocikudGhlbigoZnVuY3Rpb24obil7dC5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKG4pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoImVucm9sbFNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciByPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfRkFJTEVELCJlbnJvbGxTcGVha2VyIGZhaWxlZCIsZSk7bihyKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0sSS5wcm90b3R5cGUuX3VwZGF0ZVNwZWFrZXJJZEluTGNtcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBzPXtDb250YWN0SWQ6ci5jb250YWN0SWQsSW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksQVdTQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLEN1c3RvbWVySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLFZvaWNlSWRSZXN1bHQ6e2dlbmVyYXRlZFNwZWFrZXJJZDpufX07dC5nZXRMb2coKS5pbmZvKCJfdXBkYXRlU3BlYWtlcklkSW5MY21zIGNhbGxlZCIpLndpdGhPYmplY3Qocykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuVVBEQVRFX1ZPSUNFX0lEX0RBVEEscyx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJbkxjbXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuVVBEQVRFX1NQRUFLRVJfSURfSU5fTENNU19GQUlMRUQsInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBmYWlsZWQiLGUpO2Eobil9fSl9KSl9LEkucHJvdG90eXBlLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO24uY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksYSl7bi5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKHMpe3ZhciBjPXtTZXNzaW9uTmFtZU9ySWQ6by5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxTcGVha2VySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLERvbWFpbklkOnN9O3QuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGNhbGxlZCIpLndpdGhPYmplY3QoYykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuVVBEQVRFX1NFU1NJT04sYyx7c3VjY2VzczpmdW5jdGlvbihyKXt0LmdldExvZygpLmluZm8oInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG89ciYmci5TZXNzaW9uJiZyLlNlc3Npb24uR2VuZXJhdGVkU3BlYWtlcklkO24uX3VwZGF0ZVNwZWFrZXJJZEluTGNtcyhlLG8pLnRoZW4oKGZ1bmN0aW9uKCl7aShyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7YShlKX0pKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgbjtzd2l0Y2goSlNPTi5wYXJzZShlKS5zdGF0dXMpe2Nhc2UgNDAwOmNhc2UgNDA0Om49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5TRVNTSU9OX05PVF9FWElTVFMsInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIsZSksdC5nZXRMb2coKS5lcnJvcigidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2JyZWFrO2RlZmF1bHQ6bj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlVQREFURV9TUEVBS0VSX0lEX0ZBSUxFRCwidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCIsZSksdC5nZXRMb2coKS5lcnJvcigidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1hKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5zeW5jU3BlYWtlcklkPWZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJzeW5jU3BlYWtlcklkIGNhbGxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihyKXtlLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZChyLnNwZWFrZXJJZCkudGhlbigoZnVuY3Rpb24oZSl7dChlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0pKX0sSS5wcm90b3R5cGUuZ2V0RG9tYWluSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7aWYoKG5ldyB0LkFnZW50KS5nZXRQZXJtaXNzaW9ucygpLmluY2x1ZGVzKHQuQWdlbnRQZXJtaXNzaW9ucy5WT0lDRV9JRCkpaWYodC5jb3JlLnZvaWNlSWREb21haW5JZCllKHQuY29yZS52b2ljZUlkRG9tYWluSWQpO2Vsc2V7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89e0luc3RhbmNlSWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLEludGVncmF0aW9uVHlwZToiVk9JQ0VfSUQifTt0LmdldExvZygpLmluZm8oImdldERvbWFpbklkIGNhbGxlZCIpLndpdGhPYmplY3Qobykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuTElTVF9JTlRFR1JBVElPTl9BU1NPQ0lBVElPTlMsbyx7c3VjY2VzczpmdW5jdGlvbihyKXt0cnl7dmFyIG87aWYoci5JbnRlZ3JhdGlvbkFzc29jaWF0aW9uU3VtbWFyeUxpc3QubGVuZ3RoPj0xJiYobz1yLkludGVncmF0aW9uQXNzb2NpYXRpb25TdW1tYXJ5TGlzdFswXS5JbnRlZ3JhdGlvbkFybi5yZXBsYWNlKC9eLipkb21haW5cLy9pLCIiKSksIW8pe3QuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQ6IG5vIGRvbWFpbklkIGZvdW5kIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgaT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk5PX0RPTUFJTl9JRF9GT1VORCk7cmV0dXJuIHZvaWQgbihpKX10LmdldExvZygpLmluZm8oImdldERvbWFpbklkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCxkYXRhOntkb21haW5JZDpvfX0pLGUobyl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiZ2V0RG9tYWluSWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGk9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfRE9NQUlOX0lEX0ZBSUxFRCwiZ2V0RG9tYWluSWQgZmFpbGVkIixlKSxuKGkpfX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJnZXREb21haW5JZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHI9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfRE9NQUlOX0lEX0ZBSUxFRCwiZ2V0RG9tYWluSWQgZmFpbGVkIixlKTtuKHIpfX0pfWVsc2UgbihuZXcgRXJyb3IoIkFnZW50IGRvZXNuJ3QgaGF2ZSB0aGUgcGVybWlzc2lvbiBmb3IgVm9pY2UgSUQiKSl9KSl9LEkucHJvdG90eXBlLmNoZWNrQ29uZmVyZW5jZUNhbGw9ZnVuY3Rpb24oKXtpZih0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCkuY29ubmVjdGlvbnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC5jb250YWlucyh0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUyxlLnN0YXRlLnR5cGUpfSkpLmxlbmd0aD4yKXRocm93IG5ldyB0Lk5vdEltcGxlbWVudGVkRXJyb3IoIlZvaWNlSWQgaXMgbm90IHN1cHBvcnRlZCBmb3IgY29uZmVyZW5jZSBjYWxscyIpfSxJLnByb3RvdHlwZS5pc0F1dGhFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUR9LEkucHJvdG90eXBlLmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOT1VHSF9TUEVFQ0h9LEkucHJvdG90eXBlLmlzQXV0aFJlc3VsdEluY29uY2x1c2l2ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRX0sSS5wcm90b3R5cGUuaXNGcmF1ZEVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5OT1RfRU5BQkxFRH0sSS5wcm90b3R5cGUuaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuVm9pY2VJZEZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTk9UX0VOT1VHSF9TUEVFQ0h9LEkucHJvdG90eXBlLmlzRnJhdWRSZXN1bHRJbmNvbmNsdXNpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkV9O3ZhciBUPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3I9bmV3IEkoZSksQy5jYWxsKHRoaXMsZSx0KX07KFQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1ULFQucHJvdG90eXBlLmdldFNvZnRwaG9uZU1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxULnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNvZnRwaG9uZU1lZGlhSW5mb30sVC5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTWVkaWFUeXBlLlNPRlRQSE9ORX0sVC5wcm90b3R5cGUuZ2V0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpfSxULnByb3RvdHlwZS5nZXRWb2ljZUlkU3BlYWtlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmdldFNwZWFrZXJJZCgpfSxULnByb3RvdHlwZS5nZXRWb2ljZUlkU3BlYWtlclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5nZXRTcGVha2VyU3RhdHVzKCl9LFQucHJvdG90eXBlLm9wdE91dFZvaWNlSWRTcGVha2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLm9wdE91dFNwZWFrZXIoKX0sVC5wcm90b3R5cGUuZGVsZXRlVm9pY2VJZFNwZWFrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZGVsZXRlU3BlYWtlcigpfSxULnByb3RvdHlwZS5ldmFsdWF0ZVNwZWFrZXJXaXRoVm9pY2VJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZXZhbHVhdGVTcGVha2VyKGUpfSxULnByb3RvdHlwZS5lbnJvbGxTcGVha2VySW5Wb2ljZUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5lbnJvbGxTcGVha2VyKGUpfSxULnByb3RvdHlwZS51cGRhdGVWb2ljZUlkU3BlYWtlcklkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci51cGRhdGVTcGVha2VySWRJblZvaWNlSWQoZSl9LFQucHJvdG90eXBlLmdldFF1aWNrQ29ubmVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnF1aWNrQ29ubmVjdE5hbWV9LFQucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1J9LFQucHJvdG90eXBlLmlzQmFyZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb25pdG9yU3RhdHVzKCk9PT10Lk1vbml0b3JpbmdNb2RlLkJBUkdFfSxULnByb3RvdHlwZS5pc0JhcmdlRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKHQuTW9uaXRvcmluZ01vZGUuQkFSR0UpfSxULnByb3RvdHlwZS5pc1NpbGVudE1vbml0b3JFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXModC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUil9LFQucHJvdG90eXBlLmdldE1vbml0b3JDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JDYXBhYmlsaXRpZXN9LFQucHJvdG90eXBlLmdldE1vbml0b3JTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JTdGF0dXN9LFQucHJvdG90eXBlLmlzTXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubXV0ZX0sVC5wcm90b3R5cGUuaXNGb3JjZWRNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5mb3JjZWRNdXRlfSxULnByb3RvdHlwZS5tdXRlUGFydGljaXBhbnQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLk1VVEVfUEFSVElDSVBBTlQse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sVC5wcm90b3R5cGUudW5tdXRlUGFydGljaXBhbnQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlVOTVVURV9QQVJUSUNJUEFOVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxULnByb3RvdHlwZS5jYW5TZW5kVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLlZpZGVvPT09dC5WaWRlb0NhcGFiaWxpdHkuU0VORH0sVC5wcm90b3R5cGUuY2FuU2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5TY3JlZW5TaGFyZT09PXQuU2NyZWVuU2hhcmVDYXBhYmlsaXR5LlNFTkR9LFQucHJvdG90eXBlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY2FwYWJpbGl0aWVzfSxULnByb3RvdHlwZS5nZXRWaWRlb0Nvbm5lY3Rpb25JbmZvPWZ1bmN0aW9uKCl7dmFyIGU9dC5jb3JlLmdldENsaWVudCgpLG49e3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuV0VCX1JUQyxjb250YWN0SWQ6dGhpcy5jb250YWN0SWR9O3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQsbix7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImdldFZpZGVvQ29ubmVjdGlvbkluZm8gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUud2ViUlRDVHJhbnNwb3J0KX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoImdldFZpZGVvQ29ubmVjdGlvbkluZm8gZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KSxvKEVycm9yKCJnZXRWaWRlb0Nvbm5lY3Rpb25JbmZvIGZhaWxlZCIpKX19KX0pKX07dmFyIHc9ZnVuY3Rpb24oZSx0KXtDLmNhbGwodGhpcyxlLHQpfTsody5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXcsdy5wcm90b3R5cGUuZ2V0TWVkaWFJbmZvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm87aWYoZSl7dmFyIG49dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpLHI9e2NvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOm4uaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQscGFydGljaXBhbnRJZDp0aGlzLmNvbm5lY3Rpb25JZCxnZXRDb25uZWN0aW9uVG9rZW46dC5oaXRjaCh0aGlzLHRoaXMuZ2V0Q29ubmVjdGlvblRva2VuKX07aWYoZS5jb25uZWN0aW9uRGF0YSl0cnl7ci5wYXJ0aWNpcGFudFRva2VuPUpTT04ucGFyc2UoZS5jb25uZWN0aW9uRGF0YSkuQ29ubmVjdGlvbkF1dGhlbnRpY2F0aW9uVG9rZW59Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcih0LkxvZ0NvbXBvbmVudC5DSEFULCJDb25uZWN0aW9uIGRhdGEgaXMgaW52YWxpZCIpLndpdGhPYmplY3QoZSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucGFydGljaXBhbnRUb2tlbj1udWxsfXJldHVybiByLnBhcnRpY2lwYW50VG9rZW49ci5wYXJ0aWNpcGFudFRva2VufHxudWxsLHIub3JpZ2luYWxJbmZvPXRoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvLHJ9cmV0dXJuIG51bGx9LHcucHJvdG90eXBlLmdldENvbm5lY3Rpb25Ub2tlbj1mdW5jdGlvbigpe3ZhciBlPXQuY29yZS5nZXRDbGllbnQoKSxuPSh0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCkse3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuQ0hBVF9UT0tFTixwYXJ0aWNpcGFudElkOnRoaXMuY29ubmVjdGlvbklkLGNvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZH0pO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQsbix7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImdldENvbm5lY3Rpb25Ub2tlbiBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJnZXRDb25uZWN0aW9uVG9rZW4gZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KSxvKEVycm9yKCJnZXRDb25uZWN0aW9uVG9rZW4gZmFpbGVkIikpfX0pfSkpfSx3LnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5NZWRpYVR5cGUuQ0hBVH0sdy5wcm90b3R5cGUuZ2V0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpfSx3LnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3RoaXMuX2lzQWdlbnRDb25uZWN0aW9uVHlwZSgpJiZ0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9LHcucHJvdG90eXBlLmlzQmFyZ2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXModC5Nb25pdG9yaW5nTW9kZS5CQVJHRSl9LHcucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvckVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyh0Lk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SKX0sdy5wcm90b3R5cGUuZ2V0TW9uaXRvckNhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvckNhcGFiaWxpdGllc30sdy5wcm90b3R5cGUuaXNCYXJnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuQkFSR0V9LHcucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1J9LHcucHJvdG90eXBlLmdldE1vbml0b3JTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JTdGF0dXN9LHcucHJvdG90eXBlLmdldEF1dGhlbnRpY2F0aW9uRGV0YWlscz1mdW5jdGlvbigpe3ZhciBlO2lmKHRoaXMuX2lzQWdlbnRDb25uZWN0aW9uVHlwZSgpKXRocm93IG5ldyBFcnJvcigiQXV0aGVudGljYXRpb24gZGV0YWlscyBhcmUgYXZhaWxhYmxlIG9ubHkgZm9yIGN1c3RvbWVyIGNvbm5lY3Rpb24iKTt2YXIgbj10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7aWYobnVsbCE9biYmbnVsbCE9PShlPW4uc2VnbWVudEF0dHJpYnV0ZXMpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZVsiY29ubmVjdDpDdXN0b21lckF1dGhlbnRpY2F0aW9uIl0pJiZ2b2lkIDAhPT1lJiZlLlZhbHVlTWFwKXt2YXIgcj1uLnNlZ21lbnRBdHRyaWJ1dGVzWyJjb25uZWN0OkN1c3RvbWVyQXV0aGVudGljYXRpb24iXS5WYWx1ZU1hcDtpZigib2JqZWN0Ij09PWEocikmJm51bGwhPT1yKXtmb3IodmFyIG89e30scz0wLGM9T2JqZWN0LmVudHJpZXMocik7czxjLmxlbmd0aDtzKyspe3ZhciB1PWkoY1tzXSwyKSxsPXVbMF0scD11WzFdO251bGwhPT0obnVsbD09cD92b2lkIDA6cC5WYWx1ZVN0cmluZykmJihvW2xdPXAuVmFsdWVTdHJpbmcpfXJldHVybiBvfX1yZXR1cm4gbnVsbH0sdy5wcm90b3R5cGUuaXNBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBdXRoZW50aWNhdGlvbkRldGFpbHMoKTtyZXR1cm4obnVsbD09ZT92b2lkIDA6ZS5TdGF0dXMpPT09dC5DdXN0b21lckF1dGhlbnRpY2F0aW9uU3RhdHVzLkFVVEhFTlRJQ0FURUR9LHcucHJvdG90eXBlLmdldFBhcnRpY2lwYW50TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0FnZW50Q29ubmVjdGlvblR5cGUoKT8obmV3IHQuQWdlbnQpLmdldENvbmZpZ3VyYXRpb24oKS5uYW1lOnRoaXMuaXNJbml0aWFsQ29ubmVjdGlvbigpP3RoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvLmN1c3RvbWVyTmFtZTp0aGlzLl9nZXREYXRhKCkuY2hhdE1lZGlhSW5mby5hZ2VudE5hbWV9O3ZhciBBPWZ1bmN0aW9uKGUsdCl7Qy5jYWxsKHRoaXMsZSx0KX07KEEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1BLEEucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiB0Lk1lZGlhVHlwZS5UQVNLfSxBLnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXt2YXIgZT10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7cmV0dXJue2NvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOmUuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWR9fSxBLnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9O3ZhciBfPWZ1bmN0aW9uKGUsdCl7Qy5jYWxsKHRoaXMsZSx0KX07KF8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1fLF8ucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiB0Lk1lZGlhVHlwZS5FTUFJTH0sXy5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt9O3ZhciBSPWZ1bmN0aW9uKGUpe3QuQ29ubmVjdGlvbi5jYWxsKHRoaXMsZS5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpLHRoaXMuY29ubmVjdGlvbkRhdGE9ZX07KFIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1SLFIucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbkRhdGF9LFIucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7fTt2YXIgTD1mdW5jdGlvbihlKXt2YXIgdD1lfHx7fTt0aGlzLmVuZHBvaW50QVJOPXQuZW5kcG9pbnRJZHx8dC5lbmRwb2ludEFSTnx8bnVsbCx0aGlzLmVuZHBvaW50SWQ9dGhpcy5lbmRwb2ludEFSTix0aGlzLnR5cGU9dC50eXBlfHxudWxsLHRoaXMubmFtZT10Lm5hbWV8fG51bGwsdGhpcy5waG9uZU51bWJlcj10LnBob25lTnVtYmVyfHxudWxsLHRoaXMuYWdlbnRMb2dpbj10LmFnZW50TG9naW58fG51bGwsdGhpcy5xdWV1ZT10LnF1ZXVlfHxudWxsfTtMLnByb3RvdHlwZS5zdHJpcFBob25lTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGhvbmVOdW1iZXI/dGhpcy5waG9uZU51bWJlci5yZXBsYWNlKC9zaXA6KFteQF0qKUAuKi8sIiQxIik6IiJ9LEwuYnlQaG9uZU51bWJlcj1mdW5jdGlvbihlLG4pe3JldHVybiBuZXcgTCh7dHlwZTp0LkVuZHBvaW50VHlwZS5QSE9ORV9OVU1CRVIscGhvbmVOdW1iZXI6ZSxuYW1lOm58fG51bGx9KX07dmFyIE89ZnVuY3Rpb24oKXtyZXR1cm4gaCgoZnVuY3Rpb24gZSgpe2YodGhpcyxlKSx0aGlzLnNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudD1uZXcgYyh0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpfSksW3trZXk6Il9nZXRTREtDbGllbnQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vzc2lvbkV4cGlyYXRpb25XYXJuaW5nQ2xpZW50fHwodGhpcy5zZXNzaW9uRXhwaXJhdGlvbldhcm5pbmdDbGllbnQ9bmV3IGModC5jb3JlLmdldFNES0NsaWVudENvbmZpZygpKSksdGhpcy5zZXNzaW9uRXhwaXJhdGlvbldhcm5pbmdDbGllbnR9fSx7a2V5OiJvbkV4cGlyYXRpb25XYXJuaW5nIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZnVuY3Rpb24odCl7cmV0dXJuIGUodCksUHJvbWlzZS5yZXNvbHZlKCl9O3JldHVybiB0aGlzLl9nZXRTREtDbGllbnQoKS5vbkV4cGlyYXRpb25XYXJuaW5nKG4pLHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0Ll9nZXRTREtDbGllbnQoKS5vZmZFeHBpcmF0aW9uV2FybmluZyhuKX19fX0se2tleToib25FeHBpcmF0aW9uV2FybmluZ0NsZWFyZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KSxQcm9taXNlLnJlc29sdmUoKX07cmV0dXJuIHRoaXMuX2dldFNES0NsaWVudCgpLm9uRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKG4pLHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0Ll9nZXRTREtDbGllbnQoKS5vZmZFeHBpcmF0aW9uV2FybmluZ0NsZWFyZWQobil9fX19LHtrZXk6Im9uU2Vzc2lvbkV4dGVuc2lvbkVycm9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZnVuY3Rpb24odCl7cmV0dXJuIGUodCksUHJvbWlzZS5yZXNvbHZlKCl9O3JldHVybiB0aGlzLl9nZXRTREtDbGllbnQoKS5vblNlc3Npb25FeHRlbnNpb25FcnJvcihuKSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fZ2V0U0RLQ2xpZW50KCkub2ZmRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKG4pfX19fV0pfSgpO3Quc2VuZEFjdGl2aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHAodC5jb3JlLmdldFNES0NsaWVudENvbmZpZygpLnByb3ZpZGVyKX07dmFyIGs9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZXJyb3JUeXBlPWUsdGhpcy5lcnJvck1lc3NhZ2U9dCx0aGlzLmVuZFBvaW50VXJsPW59O2sucHJvdG90eXBlLmdldEVycm9yVHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yVHlwZX0say5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JNZXNzYWdlfSxrLnByb3RvdHlwZS5nZXRFbmRQb2ludFVybD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZFBvaW50VXJsfSx0LmFnZW50PWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLklOSVQsZSk7cmV0dXJuIHQuYWdlbnQuaW5pdGlhbGl6ZWQmJmUobmV3IHQuQWdlbnQpLG59LHQuYWdlbnQuaW5pdGlhbGl6ZWQ9ITEsdC5jb250YWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db250YWN0RXZlbnRzLklOSVQsZSl9LHQub25XZWJzb2NrZXRJbml0RmFpbHVyZT1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFLGUpO3JldHVybiB0LndlYlNvY2tldEluaXRGYWlsZWQmJmUoKSxufSx0LmlmTWFzdGVyPWZ1bmN0aW9uKGUsbixyLG8pe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJBIHRvcGljIG11c3QgYmUgcHJvdmlkZWQuIiksdC5hc3NlcnROb3ROdWxsKG4sIkEgdHJ1ZSBjYWxsYmFjayBtdXN0IGJlIHByb3ZpZGVkLiIpLCF0LmNvcmUubWFzdGVyQ2xpZW50KXJldHVybiB0LmdldExvZygpLndhcm4oIldlIGNhbid0IGJlIHRoZSBtYXN0ZXIgZm9yIHRvcGljICclcycgYmVjYXVzZSB0aGVyZSBpcyBubyBtYXN0ZXIgY2xpZW50ISIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkKHImJnIoKSk7dC5jb3JlLmdldE1hc3RlckNsaWVudCgpLmNhbGwodC5NYXN0ZXJNZXRob2RzLkNIRUNLX01BU1RFUix7dG9waWM6ZSxzaG91bGROb3RCZWNvbWVNYXN0ZXJJZk5vbmU6b30se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZS5pc01hc3Rlcj9uKCk6ciYmcigpfX0pfSx0LmJlY29tZU1hc3Rlcj1mdW5jdGlvbihlLG4scil7dC5hc3NlcnROb3ROdWxsKGUsIkEgdG9waWMgbXVzdCBiZSBwcm92aWRlZC4iKSx0LmNvcmUubWFzdGVyQ2xpZW50P3QuY29yZS5nZXRNYXN0ZXJDbGllbnQoKS5jYWxsKHQuTWFzdGVyTWV0aG9kcy5CRUNPTUVfTUFTVEVSLHt0b3BpYzplfSx7c3VjY2VzczpmdW5jdGlvbigpe24mJm4oKX19KToodC5nZXRMb2coKS53YXJuKCJXZSBjYW4ndCBiZSB0aGUgbWFzdGVyIGZvciB0b3BpYyAnJXMnIGJlY2F1c2UgdGhlcmUgaXMgbm8gbWFzdGVyIGNsaWVudCEiLGUpLHImJnIoKSl9LHQuQWdlbnQ9eSx0LkFnZW50U25hcHNob3Q9Yix0LkNvbnRhY3Q9Uyx0LkNvbnRhY3RTbmFwc2hvdD1FLHQuQ29ubmVjdGlvbj1ULHQuQmFzZUNvbm5lY3Rpb249Qyx0LlZvaWNlQ29ubmVjdGlvbj1ULHQuQ2hhdENvbm5lY3Rpb249dyx0LlRhc2tDb25uZWN0aW9uPUEsdC5FbWFpbENvbm5lY3Rpb249Xyx0LkNvbm5lY3Rpb25TbmFwc2hvdD1SLHQuRW5kcG9pbnQ9TCx0LkFkZHJlc3M9TCx0LlNvZnRwaG9uZUVycm9yPWssdC5Wb2ljZUlkPUksdC5RdWlja1Jlc3BvbnNlcz12LHQuU2Vzc2lvbkV4cGlyYXRpb25XYXJuaW5nTWFuYWdlcj1PfSgpfSwxNjc6KGUsdCxuKT0+e3ZhciByO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIG89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LG8oZSl9IWZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIG8oYSxzKXtpZighblthXSl7aWYoIXRbYV0pe2lmKGkpcmV0dXJuIGkoYSwhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYSsiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW2FdPXtleHBvcnRzOnt9fTt0W2FdWzBdLmNhbGwodS5leHBvcnRzLChmdW5jdGlvbihlKXtyZXR1cm4gbyh0W2FdWzFdW2VdfHxlKX0pLHUsdS5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW2FdLmV4cG9ydHN9Zm9yKHZhciBpPXZvaWQgMCxhPTA7YTxyLmxlbmd0aDthKyspbyhyW2FdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3ZlcnNpb246IjIuMCIsbWV0YWRhdGE6e2FwaVZlcnNpb246IjIwMTQtMDYtMzAiLGVuZHBvaW50UHJlZml4OiJjb2duaXRvLWlkZW50aXR5Iixqc29uVmVyc2lvbjoiMS4xIixwcm90b2NvbDoianNvbiIsc2VydmljZUZ1bGxOYW1lOiJBbWF6b24gQ29nbml0byBJZGVudGl0eSIsc2VydmljZUlkOiJDb2duaXRvIElkZW50aXR5IixzaWduYXR1cmVWZXJzaW9uOiJ2NCIsdGFyZ2V0UHJlZml4OiJBV1NDb2duaXRvSWRlbnRpdHlTZXJ2aWNlIix1aWQ6ImNvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMCJ9LG9wZXJhdGlvbnM6e0NyZWF0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xOYW1lIiwiQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sTmFtZTp7fSxBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXM6e3R5cGU6ImJvb2xlYW4ifSxBbGxvd0NsYXNzaWNGbG93Ont0eXBlOiJib29sZWFuIn0sU3VwcG9ydGVkTG9naW5Qcm92aWRlcnM6e3NoYXBlOiJTNSJ9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxPcGVuSWRDb25uZWN0UHJvdmlkZXJBUk5zOntzaGFwZToiUzkifSxDb2duaXRvSWRlbnRpdHlQcm92aWRlcnM6e3NoYXBlOiJTYiJ9LFNhbWxQcm92aWRlckFSTnM6e3NoYXBlOiJTZyJ9LElkZW50aXR5UG9vbFRhZ3M6e3NoYXBlOiJTaCJ9fX0sb3V0cHV0OntzaGFwZToiU2sifX0sRGVsZXRlSWRlbnRpdGllczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkc1RvRGVsZXRlIl0sbWVtYmVyczp7SWRlbnRpdHlJZHNUb0RlbGV0ZTp7dHlwZToibGlzdCIsbWVtYmVyOnt9fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntVbnByb2Nlc3NlZElkZW50aXR5SWRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxFcnJvckNvZGU6e319fX19fX0sRGVsZXRlSWRlbnRpdHlQb29sOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e319fX0sRGVzY3JpYmVJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fX19LG91dHB1dDp7c2hhcGU6IlN2In19LERlc2NyaWJlSWRlbnRpdHlQb29sOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e319fSxvdXRwdXQ6e3NoYXBlOiJTayJ9fSxHZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9LEN1c3RvbVJvbGVBcm46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxDcmVkZW50aWFsczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntBY2Nlc3NLZXlJZDp7fSxTZWNyZXRLZXk6e30sU2Vzc2lvblRva2VuOnt9LEV4cGlyYXRpb246e3R5cGU6InRpbWVzdGFtcCJ9fX19fSxhdXRodHlwZToibm9uZSJ9LEdldElkOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7QWNjb3VudElkOnt9LElkZW50aXR5UG9vbElkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e319fSxhdXRodHlwZToibm9uZSJ9LEdldElkZW50aXR5UG9vbFJvbGVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sUm9sZXM6e3NoYXBlOiJTMWMifSxSb2xlTWFwcGluZ3M6e3NoYXBlOiJTMWUifX19fSxHZXRPcGVuSWRUb2tlbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LFRva2VuOnt9fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRPcGVuSWRUb2tlbkZvckRldmVsb3BlcklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiTG9naW5zIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifSxQcmluY2lwYWxUYWdzOntzaGFwZToiUzFzIn0sVG9rZW5EdXJhdGlvbjp7dHlwZToibG9uZyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sVG9rZW46e319fX0sR2V0UHJpbmNpcGFsVGFnQXR0cmlidXRlTWFwOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiSWRlbnRpdHlQcm92aWRlck5hbWUiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVByb3ZpZGVyTmFtZTp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVByb3ZpZGVyTmFtZTp7fSxVc2VEZWZhdWx0czp7dHlwZToiYm9vbGVhbiJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifX19fSxMaXN0SWRlbnRpdGllczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIk1heFJlc3VsdHMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxNYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn0sTmV4dFRva2VuOnt9LEhpZGVEaXNhYmxlZDp7dHlwZToiYm9vbGVhbiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXRpZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlN2In19LE5leHRUb2tlbjp7fX19fSxMaXN0SWRlbnRpdHlQb29sczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJNYXhSZXN1bHRzIl0sbWVtYmVyczp7TWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQb29sTmFtZTp7fX19fSxOZXh0VG9rZW46e319fX0sTGlzdFRhZ3NGb3JSZXNvdXJjZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSZXNvdXJjZUFybiJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1RhZ3M6e3NoYXBlOiJTaCJ9fX19LExvb2t1cERldmVsb3BlcklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlJZDp7fSxEZXZlbG9wZXJVc2VySWRlbnRpZmllcjp7fSxNYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn0sTmV4dFRva2VuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sRGV2ZWxvcGVyVXNlcklkZW50aWZpZXJMaXN0Ont0eXBlOiJsaXN0IixtZW1iZXI6e319LE5leHRUb2tlbjp7fX19fSxNZXJnZURldmVsb3BlcklkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiU291cmNlVXNlcklkZW50aWZpZXIiLCJEZXN0aW5hdGlvblVzZXJJZGVudGlmaWVyIiwiRGV2ZWxvcGVyUHJvdmlkZXJOYW1lIiwiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntTb3VyY2VVc2VySWRlbnRpZmllcjp7fSxEZXN0aW5hdGlvblVzZXJJZGVudGlmaWVyOnt9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxJZGVudGl0eVBvb2xJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9fX19LFNldElkZW50aXR5UG9vbFJvbGVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiUm9sZXMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxSb2xlczp7c2hhcGU6IlMxYyJ9LFJvbGVNYXBwaW5nczp7c2hhcGU6IlMxZSJ9fX19LFNldFByaW5jaXBhbFRhZ0F0dHJpYnV0ZU1hcDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIklkZW50aXR5UHJvdmlkZXJOYW1lIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e30sVXNlRGVmYXVsdHM6e3R5cGU6ImJvb2xlYW4ifSxQcmluY2lwYWxUYWdzOntzaGFwZToiUzFzIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e30sVXNlRGVmYXVsdHM6e3R5cGU6ImJvb2xlYW4ifSxQcmluY2lwYWxUYWdzOntzaGFwZToiUzFzIn19fX0sVGFnUmVzb3VyY2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUmVzb3VyY2VBcm4iLCJUYWdzIl0sbWVtYmVyczp7UmVzb3VyY2VBcm46e30sVGFnczp7c2hhcGU6IlNoIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVubGlua0RldmVsb3BlcklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiLCJJZGVudGl0eVBvb2xJZCIsIkRldmVsb3BlclByb3ZpZGVyTmFtZSIsIkRldmVsb3BlclVzZXJJZGVudGlmaWVyIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxJZGVudGl0eVBvb2xJZDp7fSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sRGV2ZWxvcGVyVXNlcklkZW50aWZpZXI6e319fX0sVW5saW5rSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCIsIkxvZ2lucyIsIkxvZ2luc1RvUmVtb3ZlIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifSxMb2dpbnNUb1JlbW92ZTp7c2hhcGU6IlN3In19fSxhdXRodHlwZToibm9uZSJ9LFVudGFnUmVzb3VyY2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUmVzb3VyY2VBcm4iLCJUYWdLZXlzIl0sbWVtYmVyczp7UmVzb3VyY2VBcm46e30sVGFnS2V5czp7dHlwZToibGlzdCIsbWVtYmVyOnt9fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVXBkYXRlSWRlbnRpdHlQb29sOntpbnB1dDp7c2hhcGU6IlNrIn0sb3V0cHV0OntzaGFwZToiU2sifX19LHNoYXBlczp7UzU6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTOTp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTYjp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1Byb3ZpZGVyTmFtZTp7fSxDbGllbnRJZDp7fSxTZXJ2ZXJTaWRlVG9rZW5DaGVjazp7dHlwZToiYm9vbGVhbiJ9fX19LFNnOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LFNoOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sU2s6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIklkZW50aXR5UG9vbE5hbWUiLCJBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVBvb2xOYW1lOnt9LEFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllczp7dHlwZToiYm9vbGVhbiJ9LEFsbG93Q2xhc3NpY0Zsb3c6e3R5cGU6ImJvb2xlYW4ifSxTdXBwb3J0ZWRMb2dpblByb3ZpZGVyczp7c2hhcGU6IlM1In0sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LE9wZW5JZENvbm5lY3RQcm92aWRlckFSTnM6e3NoYXBlOiJTOSJ9LENvZ25pdG9JZGVudGl0eVByb3ZpZGVyczp7c2hhcGU6IlNiIn0sU2FtbFByb3ZpZGVyQVJOczp7c2hhcGU6IlNnIn0sSWRlbnRpdHlQb29sVGFnczp7c2hhcGU6IlNoIn19fSxTdjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlN3In0sQ3JlYXRpb25EYXRlOnt0eXBlOiJ0aW1lc3RhbXAifSxMYXN0TW9kaWZpZWREYXRlOnt0eXBlOiJ0aW1lc3RhbXAifX19LFN3Ont0eXBlOiJsaXN0IixtZW1iZXI6e319LFMxMDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFMxYzp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFMxZTp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJUeXBlIl0sbWVtYmVyczp7VHlwZTp7fSxBbWJpZ3VvdXNSb2xlUmVzb2x1dGlvbjp7fSxSdWxlc0NvbmZpZ3VyYXRpb246e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSdWxlcyJdLG1lbWJlcnM6e1J1bGVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJDbGFpbSIsIk1hdGNoVHlwZSIsIlZhbHVlIiwiUm9sZUFSTiJdLG1lbWJlcnM6e0NsYWltOnt9LE1hdGNoVHlwZTp7fSxWYWx1ZTp7fSxSb2xlQVJOOnt9fX19fX19fX0sUzFzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX19fX0se31dLDI6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3BhZ2luYXRpb246e0xpc3RJZGVudGl0eVBvb2xzOntpbnB1dF90b2tlbjoiTmV4dFRva2VuIixsaW1pdF9rZXk6Ik1heFJlc3VsdHMiLG91dHB1dF90b2tlbjoiTmV4dFRva2VuIixyZXN1bHRfa2V5OiJJZGVudGl0eVBvb2xzIn19fX0se31dLDM6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3ZlcnNpb246IjIuMCIsbWV0YWRhdGE6e2FwaVZlcnNpb246IjIwMTctMDItMTUiLGVuZHBvaW50UHJlZml4OiJjb25uZWN0Iixqc29uVmVyc2lvbjoiMS4wIixwcm90b2NvbDoianNvbiIsc2VydmljZUFiYnJldmlhdGlvbjoiQ29ubmVjdCIsc2VydmljZUZ1bGxOYW1lOiJBbWF6b25Db25uZWN0Q1RJU2VydmljZSIsc2lnbmF0dXJlVmVyc2lvbjoiIix0YXJnZXRQcmVmaXg6IkFtYXpvbkNvbm5lY3RDVElTZXJ2aWNlIix1aWQ6ImNvbm5lY3QtMjAxNy0wMi0xNSJ9LG9wZXJhdGlvbnM6e0FjY2VwdENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDbGVhckNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDb21wbGV0ZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDb25mZXJlbmNlQ29ubmVjdGlvbnM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDcmVhdGVBZGRpdGlvbmFsQ29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImVuZHBvaW50Il0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxlbmRwb2ludDp7c2hhcGU6IlNlIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENyZWF0ZU91dGJvdW5kQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImVuZHBvaW50Il0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGVuZHBvaW50OntzaGFwZToiU2UifSxxdWV1ZUFSTjp7fSxyZWxhdGVkQ29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDcmVhdGVUYXNrQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJlbmRwb2ludCIsIm5hbWUiXSxtZW1iZXJzOntlbmRwb2ludDp7c2hhcGU6IlNlIn0scHJldmlvdXNDb250YWN0SWQ6e30sbmFtZTp7fSxkZXNjcmlwdGlvbjp7fSxyZWZlcmVuY2VzOntzaGFwZToiU3QifSxpZGVtcG90ZW5jeVRva2VuOnt9LHNjaGVkdWxlZFRpbWU6e3R5cGU6ImxvbmcifSxyZWxhdGVkQ29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19fSxDcmVhdGVUcmFuc3BvcnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHJhbnNwb3J0VHlwZSIsImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7dHJhbnNwb3J0VHlwZTp7fSxwYXJ0aWNpcGFudElkOnt9LGNvbnRhY3RJZDp7fSxzb2Z0cGhvbmVDbGllbnRJZDp7fSxhdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7d2ViU29ja2V0VHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidXJsIiwidHJhbnNwb3J0TGlmZVRpbWVJblNlY29uZHMiXSxtZW1iZXJzOnt1cmw6e30sdHJhbnNwb3J0TGlmZVRpbWVJblNlY29uZHM6e3R5cGU6ImxvbmcifSxleHBpcnk6e319fSxjaGF0VG9rZW5UcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJwYXJ0aWNpcGFudFRva2VuIiwiZXhwaXJ5Il0sbWVtYmVyczp7cGFydGljaXBhbnRUb2tlbjp7fSxleHBpcnk6e319fSxzb2Z0cGhvbmVUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJzb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zIl0sbWVtYmVyczp7c29mdHBob25lTWVkaWFDb25uZWN0aW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidXNlcm5hbWUiLCJjcmVkZW50aWFsIiwidXJscyJdLG1lbWJlcnM6e3VzZXJuYW1lOnt9LGNyZWRlbnRpYWw6e30sdXJsczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fX19fX19LGFnZW50RGlzY292ZXJ5VHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicHJlc2lnbmVkVXJsIl0sbWVtYmVyczp7cHJlc2lnbmVkVXJsOnt9fX0sd2ViUlRDVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsibWVldGluZyIsImF0dGVuZGVlIl0sbWVtYmVyczp7bWVldGluZzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnttZWV0aW5nSWQ6e30sbWVkaWFSZWdpb246e30sbWVkaWFQbGFjZW1lbnQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXVkaW9Ib3N0VXJsOnt9LGF1ZGlvRmFsbGJhY2tVcmw6e30sc2lnbmFsaW5nVXJsOnt9LHR1cm5Db250cm9sVXJsOnt9LGV2ZW50SW5nZXN0aW9uVXJsOnt9fX0sbWVldGluZ0ZlYXR1cmVzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F1ZGlvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2VjaG9SZWR1Y3Rpb246e319fX19fX0sYXR0ZW5kZWU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXR0ZW5kZWVJZDp7fSxqb2luVG9rZW46e3R5cGU6InN0cmluZyIsc2Vuc2l0aXZlOiEwfX19fX19fX0sRGVzdHJveUNvbm5lY3Rpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sR2V0QWdlbnRDb25maWd1cmF0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29uZmlndXJhdGlvbiJdLG1lbWJlcnM6e2NvbmZpZ3VyYXRpb246e3NoYXBlOiJTMXYifX19fSxHZXRBZ2VudFBlcm1pc3Npb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJwZXJtaXNzaW9ucyJdLG1lbWJlcnM6e3Blcm1pc3Npb25zOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LG5leHRUb2tlbjp7fX19fSxHZXRBZ2VudFNuYXBzaG90OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LG5leHRUb2tlbjp7fSx0aW1lb3V0Ont0eXBlOiJsb25nIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJzbmFwc2hvdCIsIm5leHRUb2tlbiJdLG1lbWJlcnM6e3NuYXBzaG90Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic3RhdGUiLCJjb250YWN0cyIsInNuYXBzaG90VGltZXN0YW1wIl0sbWVtYmVyczp7c3RhdGU6e3NoYXBlOiJTMmUifSxuZXh0U3RhdGU6e3NoYXBlOiJTMmUifSxhZ2VudEF2YWlsYWJpbGl0eVN0YXRlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3N0YXRlOnt9LHRpbWVTdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxjb250YWN0czp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIiwidHlwZSIsInN0YXRlIiwiY29ubmVjdGlvbnMiLCJhdHRyaWJ1dGVzIl0sbWVtYmVyczp7Y29udGFjdElkOnt9LGluaXRpYWxDb250YWN0SWQ6e30scmVsYXRlZENvbnRhY3RJZDp7fSxjb250YWN0QXNzb2NpYXRpb25JZDp7fSx0eXBlOnt9LHN0YXRlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSIsInRpbWVzdGFtcCJdLG1lbWJlcnM6e3R5cGU6e30sdGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LHF1ZXVlOntzaGFwZToiU2wifSxxdWV1ZVRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn0sY29ubmVjdGlvbnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbm5lY3Rpb25JZCIsInN0YXRlIiwidHlwZSIsImluaXRpYWwiXSxtZW1iZXJzOntjb25uZWN0aW9uSWQ6e30sZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LHN0YXRlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSIsInRpbWVzdGFtcCJdLG1lbWJlcnM6e3R5cGU6e30sdGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LHR5cGU6e30saW5pdGlhbDp7dHlwZToiYm9vbGVhbiJ9LHNvZnRwaG9uZU1lZGlhSW5mbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjYWxsVHlwZTp7fSxhdXRvQWNjZXB0Ont0eXBlOiJib29sZWFuIn0sbWVkaWFMZWdDb250ZXh0VG9rZW46e30sY2FsbENvbnRleHRUb2tlbjp7fSxjYWxsQ29uZmlnSnNvbjp7fX19LGNoYXRNZWRpYUluZm86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Y2hhdEF1dG9BY2NlcHQ6e3R5cGU6ImJvb2xlYW4ifSxjb25uZWN0aW9uRGF0YTp7fSxjdXN0b21lck5hbWU6e319fSxtb25pdG9yaW5nSW5mbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthZ2VudDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthZ2VudE5hbWU6e319fSxqb2luVGltZVN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LG11dGU6e3R5cGU6ImJvb2xlYW4ifSxmb3JjZWRNdXRlOnt0eXBlOiJib29sZWFuIn0scXVpY2tDb25uZWN0TmFtZTp7fSxtb25pdG9yQ2FwYWJpbGl0aWVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LG1vbml0b3JTdGF0dXM6e30sY2FwYWJpbGl0aWVzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1ZpZGVvOnt9fX19fX0sYXR0cmlidXRlczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJuYW1lIl0sbWVtYmVyczp7bmFtZTp7fSx2YWx1ZTp7fX19fSxjb250YWN0RHVyYXRpb246e30sbmFtZTp7fSxkZXNjcmlwdGlvbjp7fSxyZWZlcmVuY2VzOntzaGFwZToiU3QifSxpbml0aWF0aW9uTWV0aG9kOnt9LGNvbnRhY3RGZWF0dXJlczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdHRhY2htZW50c0VuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxtZXNzYWdpbmdNYXJrZG93bkVuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxtdWx0aVBhcnR5Q29uZmVyZW5jZUVuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzY3JlZW5SZWNvcmRpbmdFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sc2NyZWVuUmVjb3JkaW5nU3RhdGU6e30sc2NyZWVuUmVjb3JkaW5nQ29uZmlnOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3NjcmVlblJlY29yZGluZ0VuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzY3JlZW5SZWNvcmRpbmdTdGF0ZTp7fX19fX0sY2hhbm5lbENvbnRleHQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7c2NoZWR1bGVkVGltZTp7dHlwZToibG9uZyJ9LHRhc2tUZW1wbGF0ZUlkOnt9LHRhc2tUZW1wbGF0ZVZlcnNpb246e3R5cGU6ImludGVnZXIifX19LHNlZ21lbnRBdHRyaWJ1dGVzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntWYWx1ZVN0cmluZzp7fX19fSxjdXN0b21lckVuZHBvaW50OntzaGFwZToiU2UifSxjb25uZWN0U3lzdGVtRW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LGxhbmd1YWdlQ29kZTp7fSxlbWFpbFJlY2lwaWVudHM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7dG9MaXN0Ont0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTM2kifX0sY2NMaXN0Ont0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTM2kifX0sZnJvbVJlY2lwaWVudDp7c2hhcGU6IlMzaSJ9fX19fX0sc25hcHNob3RUaW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sbmV4dFRva2VuOnt9fX19LEdldEFnZW50U3RhdGVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJzdGF0ZXMiXSxtZW1iZXJzOntzdGF0ZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlMyZSJ9fSxuZXh0VG9rZW46e319fX0sR2V0RGlhbGFibGVDb3VudHJ5Q29kZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvdW50cnlDb2RlcyJdLG1lbWJlcnM6e2NvdW50cnlDb2Rlczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxuZXh0VG9rZW46e319fX0sR2V0RW5kcG9pbnRzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwicXVldWVBUk5zIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHF1ZXVlQVJOczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2VuZHBvaW50czp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiU2UifX0sbmV4dFRva2VuOnt9fX19LEdldE5ld0F1dGhUb2tlbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInJlZnJlc2hUb2tlbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxyZWZyZXNoVG9rZW46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7bmV3QXV0aFRva2VuOnt9LGV4cGlyYXRpb25EYXRlVGltZTp7dHlwZToidGltZXN0YW1wIn19fX0sR2V0Um91dGluZ1Byb2ZpbGVRdWV1ZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJyb3V0aW5nUHJvZmlsZUFSTiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxyb3V0aW5nUHJvZmlsZUFSTjp7fSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicXVldWVzIl0sbWVtYmVyczp7cXVldWVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTbCJ9fSxuZXh0VG9rZW46e319fX0sSG9sZENvbm5lY3Rpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sTXV0ZVBhcnRpY2lwYW50OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LE5vdGlmeUNvbnRhY3RJc3N1ZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30saXNzdWVDb2RlOnt9LGRlc2NyaXB0aW9uOnt9LGNsaWVudExvZ3M6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFBhdXNlQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFB1dEFnZW50U3RhdGU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJzdGF0ZSJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxzdGF0ZTp7c2hhcGU6IlMyZSJ9LGVucXVldWVOZXh0U3RhdGU6e3R5cGU6ImJvb2xlYW4ifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUmVqZWN0Q29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlc3VtZUNvbm5lY3Rpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUmVzdW1lQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFNlbmRDbGllbnRMb2dzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwibG9nRXZlbnRzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGxvZ0V2ZW50czp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3RpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn0sY29tcG9uZW50Ont9LG1lc3NhZ2U6e319fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFNlbmREaWdpdHM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiLCJkaWdpdHMiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fSxkaWdpdHM6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFNlbmRTb2Z0cGhvbmVDYWxsTWV0cmljczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsInNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3MiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNjcFZlcnNpb246e30sc29mdHBob25lU3RyZWFtU3RhdGlzdGljczp7c2hhcGU6IlM0cCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kU29mdHBob25lQ2FsbFJlcG9ydDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsInJlcG9ydCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY2NwVmVyc2lvbjp7fSxyZXBvcnQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Y2FsbFN0YXJ0VGltZTp7dHlwZToidGltZXN0YW1wIn0sY2FsbEVuZFRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9LHNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M6e3NoYXBlOiJTNHAifSxndW1UaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0saW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0saWNlQ29sbGVjdGlvblRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxzaWduYWxsaW5nQ29ubmVjdFRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxoYW5kc2hha2VUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0scHJlVGFsa1RpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSx0YWxrVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGNsZWFudXBUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0saWNlQ29sbGVjdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxzaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxoYW5kc2hha2VGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sZ3VtT3RoZXJGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sZ3VtVGltZW91dEZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxjcmVhdGVPZmZlckZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxzZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHVzZXJCdXN5RmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGludmFsaWRSZW1vdGVTRFBGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sbm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2V0UmVtb3RlRGVzY3JpcHRpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn19fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVG9nZ2xlQWN0aXZlQ29ubmVjdGlvbnM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVW5tdXRlUGFydGljaXBhbnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVXBkYXRlQWdlbnRDb25maWd1cmF0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29uZmlndXJhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb25maWd1cmF0aW9uOntzaGFwZToiUzF2In19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCIsInRhcmdldE1vbml0b3JNb2RlIl0sbWVtYmVyczp7Y29udGFjdElkOnt9LHRhcmdldE1vbml0b3JNb2RlOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fX0sc2hhcGVzOntTMjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthZ2VudEFSTjp7fSxhdXRoVG9rZW46e319fSxTZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiXSxtZW1iZXJzOntlbmRwb2ludEFSTjp7fSx0eXBlOnt9LG5hbWU6e30sZGlzcGxheU5hbWU6e30scGhvbmVOdW1iZXI6e30sYWdlbnRMb2dpbjp7fSxxdWV1ZTp7c2hhcGU6IlNsIn0sZW1haWxBZGRyZXNzOnt9fX0sU2w6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7cXVldWVBUk46e30sbmFtZTp7fX19LFN0Ont0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiXSxtZW1iZXJzOnt2YWx1ZTp7fSx0eXBlOnt9LGFybjp7fSxzdGF0dXM6e30sc3RhdHVzUmVhc29uOnt9fX19LFMxdjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm5hbWUiLCJzb2Z0cGhvbmVFbmFibGVkIiwic29mdHBob25lQXV0b0FjY2VwdCIsImV4dGVuc2lvbiIsInJvdXRpbmdQcm9maWxlIl0sbWVtYmVyczp7bmFtZTp7fSx1c2VybmFtZTp7fSxzb2Z0cGhvbmVFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sc29mdHBob25lQXV0b0FjY2VwdDp7dHlwZToiYm9vbGVhbiJ9LGV4dGVuc2lvbjp7fSxyb3V0aW5nUHJvZmlsZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntuYW1lOnt9LHJvdXRpbmdQcm9maWxlQVJOOnt9LGRlZmF1bHRPdXRib3VuZFF1ZXVlOntzaGFwZToiU2wifSxjaGFubmVsQ29uY3VycmVuY3lNYXA6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJsb25nIn19fX0sYWdlbnRQcmVmZXJlbmNlczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LGFnZW50QVJOOnt9fX0sUzJlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSIsIm5hbWUiXSxtZW1iZXJzOnthZ2VudFN0YXRlQVJOOnt9LHR5cGU6e30sbmFtZTp7fSxzdGFydFRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxTM2k6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWRkcmVzczp7fSxkaXNwbGF5TmFtZTp7fX19LFM0cDp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3RpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn0sc29mdHBob25lU3RyZWFtVHlwZTp7fSxwYWNrZXRDb3VudDp7dHlwZToibG9uZyJ9LHBhY2tldHNMb3N0Ont0eXBlOiJsb25nIn0sYXVkaW9MZXZlbDp7dHlwZToiZG91YmxlIn0saml0dGVyQnVmZmVyTWlsbGlzOnt0eXBlOiJsb25nIn0scm91bmRUcmlwVGltZU1pbGxpczp7dHlwZToibG9uZyJ9fX19fX19LHt9XSw0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXthY206e25hbWU6IkFDTSIsY29yczohMH0sYXBpZ2F0ZXdheTp7bmFtZToiQVBJR2F0ZXdheSIsY29yczohMH0sYXBwbGljYXRpb25hdXRvc2NhbGluZzp7cHJlZml4OiJhcHBsaWNhdGlvbi1hdXRvc2NhbGluZyIsbmFtZToiQXBwbGljYXRpb25BdXRvU2NhbGluZyIsY29yczohMH0sYXBwc3RyZWFtOntuYW1lOiJBcHBTdHJlYW0ifSxhdXRvc2NhbGluZzp7bmFtZToiQXV0b1NjYWxpbmciLGNvcnM6ITB9LGJhdGNoOntuYW1lOiJCYXRjaCJ9LGJ1ZGdldHM6e25hbWU6IkJ1ZGdldHMifSxjbG91ZGRpcmVjdG9yeTp7bmFtZToiQ2xvdWREaXJlY3RvcnkiLHZlcnNpb25zOlsiMjAxNi0wNS0xMCoiXX0sY2xvdWRmb3JtYXRpb246e25hbWU6IkNsb3VkRm9ybWF0aW9uIixjb3JzOiEwfSxjbG91ZGZyb250OntuYW1lOiJDbG91ZEZyb250Iix2ZXJzaW9uczpbIjIwMTMtMDUtMTIqIiwiMjAxMy0xMS0xMSoiLCIyMDE0LTA1LTMxKiIsIjIwMTQtMTAtMjEqIiwiMjAxNC0xMS0wNioiLCIyMDE1LTA0LTE3KiIsIjIwMTUtMDctMjcqIiwiMjAxNS0wOS0xNyoiLCIyMDE2LTAxLTEzKiIsIjIwMTYtMDEtMjgqIiwiMjAxNi0wOC0wMSoiLCIyMDE2LTA4LTIwKiIsIjIwMTYtMDktMDcqIiwiMjAxNi0wOS0yOSoiLCIyMDE2LTExLTI1KiIsIjIwMTctMDMtMjUqIiwiMjAxNy0xMC0zMCoiLCIyMDE4LTA2LTE4KiIsIjIwMTgtMTEtMDUqIiwiMjAxOS0wMy0yNioiXSxjb3JzOiEwfSxjbG91ZGhzbTp7bmFtZToiQ2xvdWRIU00iLGNvcnM6ITB9LGNsb3Vkc2VhcmNoOntuYW1lOiJDbG91ZFNlYXJjaCJ9LGNsb3Vkc2VhcmNoZG9tYWluOntuYW1lOiJDbG91ZFNlYXJjaERvbWFpbiJ9LGNsb3VkdHJhaWw6e25hbWU6IkNsb3VkVHJhaWwiLGNvcnM6ITB9LGNsb3Vkd2F0Y2g6e3ByZWZpeDoibW9uaXRvcmluZyIsbmFtZToiQ2xvdWRXYXRjaCIsY29yczohMH0sY2xvdWR3YXRjaGV2ZW50czp7cHJlZml4OiJldmVudHMiLG5hbWU6IkNsb3VkV2F0Y2hFdmVudHMiLHZlcnNpb25zOlsiMjAxNC0wMi0wMyoiXSxjb3JzOiEwfSxjbG91ZHdhdGNobG9nczp7cHJlZml4OiJsb2dzIixuYW1lOiJDbG91ZFdhdGNoTG9ncyIsY29yczohMH0sY29kZWJ1aWxkOntuYW1lOiJDb2RlQnVpbGQiLGNvcnM6ITB9LGNvZGVjb21taXQ6e25hbWU6IkNvZGVDb21taXQiLGNvcnM6ITB9LGNvZGVkZXBsb3k6e25hbWU6IkNvZGVEZXBsb3kiLGNvcnM6ITB9LGNvZGVwaXBlbGluZTp7bmFtZToiQ29kZVBpcGVsaW5lIixjb3JzOiEwfSxjb2duaXRvaWRlbnRpdHk6e3ByZWZpeDoiY29nbml0by1pZGVudGl0eSIsbmFtZToiQ29nbml0b0lkZW50aXR5Iixjb3JzOiEwfSxjb2duaXRvaWRlbnRpdHlzZXJ2aWNlcHJvdmlkZXI6e3ByZWZpeDoiY29nbml0by1pZHAiLG5hbWU6IkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlciIsY29yczohMH0sY29nbml0b3N5bmM6e3ByZWZpeDoiY29nbml0by1zeW5jIixuYW1lOiJDb2duaXRvU3luYyIsY29yczohMH0sY29uZmlnc2VydmljZTp7cHJlZml4OiJjb25maWciLG5hbWU6IkNvbmZpZ1NlcnZpY2UiLGNvcnM6ITB9LGN1cjp7bmFtZToiQ1VSIixjb3JzOiEwfSxkYXRhcGlwZWxpbmU6e25hbWU6IkRhdGFQaXBlbGluZSJ9LGRldmljZWZhcm06e25hbWU6IkRldmljZUZhcm0iLGNvcnM6ITB9LGRpcmVjdGNvbm5lY3Q6e25hbWU6IkRpcmVjdENvbm5lY3QiLGNvcnM6ITB9LGRpcmVjdG9yeXNlcnZpY2U6e3ByZWZpeDoiZHMiLG5hbWU6IkRpcmVjdG9yeVNlcnZpY2UifSxkaXNjb3Zlcnk6e25hbWU6IkRpc2NvdmVyeSJ9LGRtczp7bmFtZToiRE1TIn0sZHluYW1vZGI6e25hbWU6IkR5bmFtb0RCIixjb3JzOiEwfSxkeW5hbW9kYnN0cmVhbXM6e3ByZWZpeDoic3RyZWFtcy5keW5hbW9kYiIsbmFtZToiRHluYW1vREJTdHJlYW1zIixjb3JzOiEwfSxlYzI6e25hbWU6IkVDMiIsdmVyc2lvbnM6WyIyMDEzLTA2LTE1KiIsIjIwMTMtMTAtMTUqIiwiMjAxNC0wMi0wMSoiLCIyMDE0LTA1LTAxKiIsIjIwMTQtMDYtMTUqIiwiMjAxNC0wOS0wMSoiLCIyMDE0LTEwLTAxKiIsIjIwMTUtMDMtMDEqIiwiMjAxNS0wNC0xNSoiLCIyMDE1LTEwLTAxKiIsIjIwMTYtMDQtMDEqIiwiMjAxNi0wOS0xNSoiXSxjb3JzOiEwfSxlY3I6e25hbWU6IkVDUiIsY29yczohMH0sZWNzOntuYW1lOiJFQ1MiLGNvcnM6ITB9LGVmczp7cHJlZml4OiJlbGFzdGljZmlsZXN5c3RlbSIsbmFtZToiRUZTIixjb3JzOiEwfSxlbGFzdGljYWNoZTp7bmFtZToiRWxhc3RpQ2FjaGUiLHZlcnNpb25zOlsiMjAxMi0xMS0xNSoiLCIyMDE0LTAzLTI0KiIsIjIwMTQtMDctMTUqIiwiMjAxNC0wOS0zMCoiXSxjb3JzOiEwfSxlbGFzdGljYmVhbnN0YWxrOntuYW1lOiJFbGFzdGljQmVhbnN0YWxrIixjb3JzOiEwfSxlbGI6e3ByZWZpeDoiZWxhc3RpY2xvYWRiYWxhbmNpbmciLG5hbWU6IkVMQiIsY29yczohMH0sZWxidjI6e3ByZWZpeDoiZWxhc3RpY2xvYWRiYWxhbmNpbmd2MiIsbmFtZToiRUxCdjIiLGNvcnM6ITB9LGVtcjp7cHJlZml4OiJlbGFzdGljbWFwcmVkdWNlIixuYW1lOiJFTVIiLGNvcnM6ITB9LGVzOntuYW1lOiJFUyJ9LGVsYXN0aWN0cmFuc2NvZGVyOntuYW1lOiJFbGFzdGljVHJhbnNjb2RlciIsY29yczohMH0sZmlyZWhvc2U6e25hbWU6IkZpcmVob3NlIixjb3JzOiEwfSxnYW1lbGlmdDp7bmFtZToiR2FtZUxpZnQiLGNvcnM6ITB9LGdsYWNpZXI6e25hbWU6IkdsYWNpZXIifSxoZWFsdGg6e25hbWU6IkhlYWx0aCJ9LGlhbTp7bmFtZToiSUFNIixjb3JzOiEwfSxpbXBvcnRleHBvcnQ6e25hbWU6IkltcG9ydEV4cG9ydCJ9LGluc3BlY3Rvcjp7bmFtZToiSW5zcGVjdG9yIix2ZXJzaW9uczpbIjIwMTUtMDgtMTgqIl0sY29yczohMH0saW90OntuYW1lOiJJb3QiLGNvcnM6ITB9LGlvdGRhdGE6e3ByZWZpeDoiaW90LWRhdGEiLG5hbWU6IklvdERhdGEiLGNvcnM6ITB9LGtpbmVzaXM6e25hbWU6IktpbmVzaXMiLGNvcnM6ITB9LGtpbmVzaXNhbmFseXRpY3M6e25hbWU6IktpbmVzaXNBbmFseXRpY3MifSxrbXM6e25hbWU6IktNUyIsY29yczohMH0sbGFtYmRhOntuYW1lOiJMYW1iZGEiLGNvcnM6ITB9LGxleHJ1bnRpbWU6e3ByZWZpeDoicnVudGltZS5sZXgiLG5hbWU6IkxleFJ1bnRpbWUiLGNvcnM6ITB9LGxpZ2h0c2FpbDp7bmFtZToiTGlnaHRzYWlsIn0sbWFjaGluZWxlYXJuaW5nOntuYW1lOiJNYWNoaW5lTGVhcm5pbmciLGNvcnM6ITB9LG1hcmtldHBsYWNlY29tbWVyY2VhbmFseXRpY3M6e25hbWU6Ik1hcmtldHBsYWNlQ29tbWVyY2VBbmFseXRpY3MiLGNvcnM6ITB9LG1hcmtldHBsYWNlbWV0ZXJpbmc6e3ByZWZpeDoibWV0ZXJpbmdtYXJrZXRwbGFjZSIsbmFtZToiTWFya2V0cGxhY2VNZXRlcmluZyJ9LG10dXJrOntwcmVmaXg6Im10dXJrLXJlcXVlc3RlciIsbmFtZToiTVR1cmsiLGNvcnM6ITB9LG1vYmlsZWFuYWx5dGljczp7bmFtZToiTW9iaWxlQW5hbHl0aWNzIixjb3JzOiEwfSxvcHN3b3Jrczp7bmFtZToiT3BzV29ya3MiLGNvcnM6ITB9LG9wc3dvcmtzY206e25hbWU6Ik9wc1dvcmtzQ00ifSxvcmdhbml6YXRpb25zOntuYW1lOiJPcmdhbml6YXRpb25zIn0scGlucG9pbnQ6e25hbWU6IlBpbnBvaW50In0scG9sbHk6e25hbWU6IlBvbGx5Iixjb3JzOiEwfSxyZHM6e25hbWU6IlJEUyIsdmVyc2lvbnM6WyIyMDE0LTA5LTAxKiJdLGNvcnM6ITB9LHJlZHNoaWZ0OntuYW1lOiJSZWRzaGlmdCIsY29yczohMH0scmVrb2duaXRpb246e25hbWU6IlJla29nbml0aW9uIixjb3JzOiEwfSxyZXNvdXJjZWdyb3Vwc3RhZ2dpbmdhcGk6e25hbWU6IlJlc291cmNlR3JvdXBzVGFnZ2luZ0FQSSJ9LHJvdXRlNTM6e25hbWU6IlJvdXRlNTMiLGNvcnM6ITB9LHJvdXRlNTNkb21haW5zOntuYW1lOiJSb3V0ZTUzRG9tYWlucyIsY29yczohMH0sczM6e25hbWU6IlMzIixkdWFsc3RhY2tBdmFpbGFibGU6ITAsY29yczohMH0sczNjb250cm9sOntuYW1lOiJTM0NvbnRyb2wiLGR1YWxzdGFja0F2YWlsYWJsZTohMCx4bWxOb0RlZmF1bHRMaXN0czohMH0sc2VydmljZWNhdGFsb2c6e25hbWU6IlNlcnZpY2VDYXRhbG9nIixjb3JzOiEwfSxzZXM6e3ByZWZpeDoiZW1haWwiLG5hbWU6IlNFUyIsY29yczohMH0sc2hpZWxkOntuYW1lOiJTaGllbGQifSxzaW1wbGVkYjp7cHJlZml4OiJzZGIiLG5hbWU6IlNpbXBsZURCIn0sc21zOntuYW1lOiJTTVMifSxzbm93YmFsbDp7bmFtZToiU25vd2JhbGwifSxzbnM6e25hbWU6IlNOUyIsY29yczohMH0sc3FzOntuYW1lOiJTUVMiLGNvcnM6ITB9LHNzbTp7bmFtZToiU1NNIixjb3JzOiEwfSxzdG9yYWdlZ2F0ZXdheTp7bmFtZToiU3RvcmFnZUdhdGV3YXkiLGNvcnM6ITB9LHN0ZXBmdW5jdGlvbnM6e3ByZWZpeDoic3RhdGVzIixuYW1lOiJTdGVwRnVuY3Rpb25zIn0sc3RzOntuYW1lOiJTVFMiLGNvcnM6ITB9LHN1cHBvcnQ6e25hbWU6IlN1cHBvcnQifSxzd2Y6e25hbWU6IlNXRiJ9LHhyYXk6e25hbWU6IlhSYXkiLGNvcnM6ITB9LHdhZjp7bmFtZToiV0FGIixjb3JzOiEwfSx3YWZyZWdpb25hbDp7cHJlZml4OiJ3YWYtcmVnaW9uYWwiLG5hbWU6IldBRlJlZ2lvbmFsIn0sd29ya2RvY3M6e25hbWU6IldvcmtEb2NzIixjb3JzOiEwfSx3b3Jrc3BhY2VzOntuYW1lOiJXb3JrU3BhY2VzIn0sY29kZXN0YXI6e25hbWU6IkNvZGVTdGFyIn0sbGV4bW9kZWxidWlsZGluZ3NlcnZpY2U6e3ByZWZpeDoibGV4LW1vZGVscyIsbmFtZToiTGV4TW9kZWxCdWlsZGluZ1NlcnZpY2UiLGNvcnM6ITB9LG1hcmtldHBsYWNlZW50aXRsZW1lbnRzZXJ2aWNlOntwcmVmaXg6ImVudGl0bGVtZW50Lm1hcmtldHBsYWNlIixuYW1lOiJNYXJrZXRwbGFjZUVudGl0bGVtZW50U2VydmljZSJ9LGF0aGVuYTp7bmFtZToiQXRoZW5hIixjb3JzOiEwfSxncmVlbmdyYXNzOntuYW1lOiJHcmVlbmdyYXNzIn0sZGF4OntuYW1lOiJEQVgifSxtaWdyYXRpb25odWI6e3ByZWZpeDoiQVdTTWlncmF0aW9uSHViIixuYW1lOiJNaWdyYXRpb25IdWIifSxjbG91ZGhzbXYyOntuYW1lOiJDbG91ZEhTTVYyIixjb3JzOiEwfSxnbHVlOntuYW1lOiJHbHVlIn0sbW9iaWxlOntuYW1lOiJNb2JpbGUifSxwcmljaW5nOntuYW1lOiJQcmljaW5nIixjb3JzOiEwfSxjb3N0ZXhwbG9yZXI6e3ByZWZpeDoiY2UiLG5hbWU6IkNvc3RFeHBsb3JlciIsY29yczohMH0sbWVkaWFjb252ZXJ0OntuYW1lOiJNZWRpYUNvbnZlcnQifSxtZWRpYWxpdmU6e25hbWU6Ik1lZGlhTGl2ZSJ9LG1lZGlhcGFja2FnZTp7bmFtZToiTWVkaWFQYWNrYWdlIn0sbWVkaWFzdG9yZTp7bmFtZToiTWVkaWFTdG9yZSJ9LG1lZGlhc3RvcmVkYXRhOntwcmVmaXg6Im1lZGlhc3RvcmUtZGF0YSIsbmFtZToiTWVkaWFTdG9yZURhdGEiLGNvcnM6ITB9LGFwcHN5bmM6e25hbWU6IkFwcFN5bmMifSxndWFyZGR1dHk6e25hbWU6Ikd1YXJkRHV0eSJ9LG1xOntuYW1lOiJNUSJ9LGNvbXByZWhlbmQ6e25hbWU6IkNvbXByZWhlbmQiLGNvcnM6ITB9LGlvdGpvYnNkYXRhcGxhbmU6e3ByZWZpeDoiaW90LWpvYnMtZGF0YSIsbmFtZToiSW9USm9ic0RhdGFQbGFuZSJ9LGtpbmVzaXN2aWRlb2FyY2hpdmVkbWVkaWE6e3ByZWZpeDoia2luZXNpcy12aWRlby1hcmNoaXZlZC1tZWRpYSIsbmFtZToiS2luZXNpc1ZpZGVvQXJjaGl2ZWRNZWRpYSIsY29yczohMH0sa2luZXNpc3ZpZGVvbWVkaWE6e3ByZWZpeDoia2luZXNpcy12aWRlby1tZWRpYSIsbmFtZToiS2luZXNpc1ZpZGVvTWVkaWEiLGNvcnM6ITB9LGtpbmVzaXN2aWRlbzp7bmFtZToiS2luZXNpc1ZpZGVvIixjb3JzOiEwfSxzYWdlbWFrZXJydW50aW1lOntwcmVmaXg6InJ1bnRpbWUuc2FnZW1ha2VyIixuYW1lOiJTYWdlTWFrZXJSdW50aW1lIn0sc2FnZW1ha2VyOntuYW1lOiJTYWdlTWFrZXIifSx0cmFuc2xhdGU6e25hbWU6IlRyYW5zbGF0ZSIsY29yczohMH0scmVzb3VyY2Vncm91cHM6e3ByZWZpeDoicmVzb3VyY2UtZ3JvdXBzIixuYW1lOiJSZXNvdXJjZUdyb3VwcyIsY29yczohMH0sYWxleGFmb3JidXNpbmVzczp7bmFtZToiQWxleGFGb3JCdXNpbmVzcyJ9LGNsb3VkOTp7bmFtZToiQ2xvdWQ5In0sc2VydmVybGVzc2FwcGxpY2F0aW9ucmVwb3NpdG9yeTp7cHJlZml4OiJzZXJ2ZXJsZXNzcmVwbyIsbmFtZToiU2VydmVybGVzc0FwcGxpY2F0aW9uUmVwb3NpdG9yeSJ9LHNlcnZpY2VkaXNjb3Zlcnk6e25hbWU6IlNlcnZpY2VEaXNjb3ZlcnkifSx3b3JrbWFpbDp7bmFtZToiV29ya01haWwifSxhdXRvc2NhbGluZ3BsYW5zOntwcmVmaXg6ImF1dG9zY2FsaW5nLXBsYW5zIixuYW1lOiJBdXRvU2NhbGluZ1BsYW5zIn0sdHJhbnNjcmliZXNlcnZpY2U6e3ByZWZpeDoidHJhbnNjcmliZSIsbmFtZToiVHJhbnNjcmliZVNlcnZpY2UifSxjb25uZWN0OntuYW1lOiJDb25uZWN0Iixjb3JzOiEwfSxhY21wY2E6e3ByZWZpeDoiYWNtLXBjYSIsbmFtZToiQUNNUENBIn0sZm1zOntuYW1lOiJGTVMifSxzZWNyZXRzbWFuYWdlcjp7bmFtZToiU2VjcmV0c01hbmFnZXIiLGNvcnM6ITB9LGlvdGFuYWx5dGljczp7bmFtZToiSW9UQW5hbHl0aWNzIixjb3JzOiEwfSxpb3QxY2xpY2tkZXZpY2Vzc2VydmljZTp7cHJlZml4OiJpb3QxY2xpY2stZGV2aWNlcyIsbmFtZToiSW9UMUNsaWNrRGV2aWNlc1NlcnZpY2UifSxpb3QxY2xpY2twcm9qZWN0czp7cHJlZml4OiJpb3QxY2xpY2stcHJvamVjdHMiLG5hbWU6IklvVDFDbGlja1Byb2plY3RzIn0scGk6e25hbWU6IlBJIn0sbmVwdHVuZTp7bmFtZToiTmVwdHVuZSJ9LG1lZGlhdGFpbG9yOntuYW1lOiJNZWRpYVRhaWxvciJ9LGVrczp7bmFtZToiRUtTIn0sZGxtOntuYW1lOiJETE0ifSxzaWduZXI6e25hbWU6IlNpZ25lciJ9LGNoaW1lOntuYW1lOiJDaGltZSJ9LHBpbnBvaW50ZW1haWw6e3ByZWZpeDoicGlucG9pbnQtZW1haWwiLG5hbWU6IlBpbnBvaW50RW1haWwifSxyYW06e25hbWU6IlJBTSJ9LHJvdXRlNTNyZXNvbHZlcjp7bmFtZToiUm91dGU1M1Jlc29sdmVyIn0scGlucG9pbnRzbXN2b2ljZTp7cHJlZml4OiJzbXMtdm9pY2UiLG5hbWU6IlBpbnBvaW50U01TVm9pY2UifSxxdWlja3NpZ2h0OntuYW1lOiJRdWlja1NpZ2h0In0scmRzZGF0YXNlcnZpY2U6e3ByZWZpeDoicmRzLWRhdGEiLG5hbWU6IlJEU0RhdGFTZXJ2aWNlIn0sYW1wbGlmeTp7bmFtZToiQW1wbGlmeSJ9LGRhdGFzeW5jOntuYW1lOiJEYXRhU3luYyJ9LHJvYm9tYWtlcjp7bmFtZToiUm9ib01ha2VyIn0sdHJhbnNmZXI6e25hbWU6IlRyYW5zZmVyIn0sZ2xvYmFsYWNjZWxlcmF0b3I6e25hbWU6Ikdsb2JhbEFjY2VsZXJhdG9yIn0sY29tcHJlaGVuZG1lZGljYWw6e25hbWU6IkNvbXByZWhlbmRNZWRpY2FsIixjb3JzOiEwfSxraW5lc2lzYW5hbHl0aWNzdjI6e25hbWU6IktpbmVzaXNBbmFseXRpY3NWMiJ9LG1lZGlhY29ubmVjdDp7bmFtZToiTWVkaWFDb25uZWN0In0sZnN4OntuYW1lOiJGU3gifSxzZWN1cml0eWh1Yjp7bmFtZToiU2VjdXJpdHlIdWIifSxhcHBtZXNoOntuYW1lOiJBcHBNZXNoIix2ZXJzaW9uczpbIjIwMTgtMTAtMDEqIl19LGxpY2Vuc2VtYW5hZ2VyOntwcmVmaXg6ImxpY2Vuc2UtbWFuYWdlciIsbmFtZToiTGljZW5zZU1hbmFnZXIifSxrYWZrYTp7bmFtZToiS2Fma2EifSxhcGlnYXRld2F5bWFuYWdlbWVudGFwaTp7bmFtZToiQXBpR2F0ZXdheU1hbmFnZW1lbnRBcGkifSxhcGlnYXRld2F5djI6e25hbWU6IkFwaUdhdGV3YXlWMiJ9LGRvY2RiOntuYW1lOiJEb2NEQiJ9LGJhY2t1cDp7bmFtZToiQmFja3VwIn0sd29ya2xpbms6e25hbWU6IldvcmtMaW5rIn0sdGV4dHJhY3Q6e25hbWU6IlRleHRyYWN0In0sbWFuYWdlZGJsb2NrY2hhaW46e25hbWU6Ik1hbmFnZWRCbG9ja2NoYWluIn0sbWVkaWFwYWNrYWdldm9kOntwcmVmaXg6Im1lZGlhcGFja2FnZS12b2QiLG5hbWU6Ik1lZGlhUGFja2FnZVZvZCJ9LGdyb3VuZHN0YXRpb246e25hbWU6Ikdyb3VuZFN0YXRpb24ifSxpb3R0aGluZ3NncmFwaDp7bmFtZToiSW9UVGhpbmdzR3JhcGgifSxpb3RldmVudHM6e25hbWU6IklvVEV2ZW50cyJ9LGlvdGV2ZW50c2RhdGE6e3ByZWZpeDoiaW90ZXZlbnRzLWRhdGEiLG5hbWU6IklvVEV2ZW50c0RhdGEifSxwZXJzb25hbGl6ZTp7bmFtZToiUGVyc29uYWxpemUiLGNvcnM6ITB9LHBlcnNvbmFsaXplZXZlbnRzOntwcmVmaXg6InBlcnNvbmFsaXplLWV2ZW50cyIsbmFtZToiUGVyc29uYWxpemVFdmVudHMiLGNvcnM6ITB9LHBlcnNvbmFsaXplcnVudGltZTp7cHJlZml4OiJwZXJzb25hbGl6ZS1ydW50aW1lIixuYW1lOiJQZXJzb25hbGl6ZVJ1bnRpbWUiLGNvcnM6ITB9LGFwcGxpY2F0aW9uaW5zaWdodHM6e3ByZWZpeDoiYXBwbGljYXRpb24taW5zaWdodHMiLG5hbWU6IkFwcGxpY2F0aW9uSW5zaWdodHMifSxzZXJ2aWNlcXVvdGFzOntwcmVmaXg6InNlcnZpY2UtcXVvdGFzIixuYW1lOiJTZXJ2aWNlUXVvdGFzIn0sZWMyaW5zdGFuY2Vjb25uZWN0OntwcmVmaXg6ImVjMi1pbnN0YW5jZS1jb25uZWN0IixuYW1lOiJFQzJJbnN0YW5jZUNvbm5lY3QifSxldmVudGJyaWRnZTp7bmFtZToiRXZlbnRCcmlkZ2UifSxsYWtlZm9ybWF0aW9uOntuYW1lOiJMYWtlRm9ybWF0aW9uIn0sZm9yZWNhc3RzZXJ2aWNlOntwcmVmaXg6ImZvcmVjYXN0IixuYW1lOiJGb3JlY2FzdFNlcnZpY2UiLGNvcnM6ITB9LGZvcmVjYXN0cXVlcnlzZXJ2aWNlOntwcmVmaXg6ImZvcmVjYXN0cXVlcnkiLG5hbWU6IkZvcmVjYXN0UXVlcnlTZXJ2aWNlIixjb3JzOiEwfSxxbGRiOntuYW1lOiJRTERCIn0scWxkYnNlc3Npb246e3ByZWZpeDoicWxkYi1zZXNzaW9uIixuYW1lOiJRTERCU2Vzc2lvbiJ9LHdvcmttYWlsbWVzc2FnZWZsb3c6e25hbWU6IldvcmtNYWlsTWVzc2FnZUZsb3cifSxjb2Rlc3Rhcm5vdGlmaWNhdGlvbnM6e3ByZWZpeDoiY29kZXN0YXItbm90aWZpY2F0aW9ucyIsbmFtZToiQ29kZVN0YXJOb3RpZmljYXRpb25zIn0sc2F2aW5nc3BsYW5zOntuYW1lOiJTYXZpbmdzUGxhbnMifSxzc286e25hbWU6IlNTTyJ9LHNzb29pZGM6e3ByZWZpeDoic3NvLW9pZGMiLG5hbWU6IlNTT09JREMifSxtYXJrZXRwbGFjZWNhdGFsb2c6e3ByZWZpeDoibWFya2V0cGxhY2UtY2F0YWxvZyIsbmFtZToiTWFya2V0cGxhY2VDYXRhbG9nIixjb3JzOiEwfSxkYXRhZXhjaGFuZ2U6e25hbWU6IkRhdGFFeGNoYW5nZSJ9LHNlc3YyOntuYW1lOiJTRVNWMiJ9LG1pZ3JhdGlvbmh1YmNvbmZpZzp7cHJlZml4OiJtaWdyYXRpb25odWItY29uZmlnIixuYW1lOiJNaWdyYXRpb25IdWJDb25maWcifSxjb25uZWN0cGFydGljaXBhbnQ6e25hbWU6IkNvbm5lY3RQYXJ0aWNpcGFudCJ9LGFwcGNvbmZpZzp7bmFtZToiQXBwQ29uZmlnIn0saW90c2VjdXJldHVubmVsaW5nOntuYW1lOiJJb1RTZWN1cmVUdW5uZWxpbmcifSx3YWZ2Mjp7bmFtZToiV0FGVjIifSxlbGFzdGljaW5mZXJlbmNlOntwcmVmaXg6ImVsYXN0aWMtaW5mZXJlbmNlIixuYW1lOiJFbGFzdGljSW5mZXJlbmNlIn0saW1hZ2VidWlsZGVyOntuYW1lOiJJbWFnZWJ1aWxkZXIifSxzY2hlbWFzOntuYW1lOiJTY2hlbWFzIn0sYWNjZXNzYW5hbHl6ZXI6e25hbWU6IkFjY2Vzc0FuYWx5emVyIn0sY29kZWd1cnVyZXZpZXdlcjp7cHJlZml4OiJjb2RlZ3VydS1yZXZpZXdlciIsbmFtZToiQ29kZUd1cnVSZXZpZXdlciJ9LGNvZGVndXJ1cHJvZmlsZXI6e25hbWU6IkNvZGVHdXJ1UHJvZmlsZXIifSxjb21wdXRlb3B0aW1pemVyOntwcmVmaXg6ImNvbXB1dGUtb3B0aW1pemVyIixuYW1lOiJDb21wdXRlT3B0aW1pemVyIn0sZnJhdWRkZXRlY3Rvcjp7bmFtZToiRnJhdWREZXRlY3RvciJ9LGtlbmRyYTp7bmFtZToiS2VuZHJhIn0sbmV0d29ya21hbmFnZXI6e25hbWU6Ik5ldHdvcmtNYW5hZ2VyIn0sb3V0cG9zdHM6e25hbWU6Ik91dHBvc3RzIn0sYXVnbWVudGVkYWlydW50aW1lOntwcmVmaXg6InNhZ2VtYWtlci1hMmktcnVudGltZSIsbmFtZToiQXVnbWVudGVkQUlSdW50aW1lIn0sZWJzOntuYW1lOiJFQlMifSxraW5lc2lzdmlkZW9zaWduYWxpbmdjaGFubmVsczp7cHJlZml4OiJraW5lc2lzLXZpZGVvLXNpZ25hbGluZyIsbmFtZToiS2luZXNpc1ZpZGVvU2lnbmFsaW5nQ2hhbm5lbHMiLGNvcnM6ITB9LGRldGVjdGl2ZTp7bmFtZToiRGV0ZWN0aXZlIn0sY29kZXN0YXJjb25uZWN0aW9uczp7cHJlZml4OiJjb2Rlc3Rhci1jb25uZWN0aW9ucyIsbmFtZToiQ29kZVN0YXJjb25uZWN0aW9ucyJ9LHN5bnRoZXRpY3M6e25hbWU6IlN5bnRoZXRpY3MifSxpb3RzaXRld2lzZTp7bmFtZToiSW9UU2l0ZVdpc2UifSxtYWNpZTI6e25hbWU6Ik1hY2llMiJ9LGNvZGVhcnRpZmFjdDp7bmFtZToiQ29kZUFydGlmYWN0In0saG9uZXljb2RlOntuYW1lOiJIb25leWNvZGUifSxpdnM6e25hbWU6IklWUyJ9LGJyYWtldDp7bmFtZToiQnJha2V0In0saWRlbnRpdHlzdG9yZTp7bmFtZToiSWRlbnRpdHlTdG9yZSJ9LGFwcGZsb3c6e25hbWU6IkFwcGZsb3cifSxyZWRzaGlmdGRhdGE6e3ByZWZpeDoicmVkc2hpZnQtZGF0YSIsbmFtZToiUmVkc2hpZnREYXRhIn0sc3NvYWRtaW46e3ByZWZpeDoic3NvLWFkbWluIixuYW1lOiJTU09BZG1pbiJ9LHRpbWVzdHJlYW1xdWVyeTp7cHJlZml4OiJ0aW1lc3RyZWFtLXF1ZXJ5IixuYW1lOiJUaW1lc3RyZWFtUXVlcnkifSx0aW1lc3RyZWFtd3JpdGU6e3ByZWZpeDoidGltZXN0cmVhbS13cml0ZSIsbmFtZToiVGltZXN0cmVhbVdyaXRlIn0sczNvdXRwb3N0czp7bmFtZToiUzNPdXRwb3N0cyJ9LGRhdGFicmV3OntuYW1lOiJEYXRhQnJldyJ9LHNlcnZpY2VjYXRhbG9nYXBwcmVnaXN0cnk6e3ByZWZpeDoic2VydmljZWNhdGFsb2ctYXBwcmVnaXN0cnkiLG5hbWU6IlNlcnZpY2VDYXRhbG9nQXBwUmVnaXN0cnkifSxuZXR3b3JrZmlyZXdhbGw6e3ByZWZpeDoibmV0d29yay1maXJld2FsbCIsbmFtZToiTmV0d29ya0ZpcmV3YWxsIn0sbXdhYTp7bmFtZToiTVdBQSJ9LGFtcGxpZnliYWNrZW5kOntuYW1lOiJBbXBsaWZ5QmFja2VuZCJ9LGFwcGludGVncmF0aW9uczp7bmFtZToiQXBwSW50ZWdyYXRpb25zIn0sY29ubmVjdGNvbnRhY3RsZW5zOntwcmVmaXg6ImNvbm5lY3QtY29udGFjdC1sZW5zIixuYW1lOiJDb25uZWN0Q29udGFjdExlbnMifSxkZXZvcHNndXJ1OntwcmVmaXg6ImRldm9wcy1ndXJ1IixuYW1lOiJEZXZPcHNHdXJ1In0sZWNycHVibGljOntwcmVmaXg6ImVjci1wdWJsaWMiLG5hbWU6IkVDUlBVQkxJQyJ9LGxvb2tvdXR2aXNpb246e25hbWU6Ikxvb2tvdXRWaXNpb24ifSxzYWdlbWFrZXJmZWF0dXJlc3RvcmVydW50aW1lOntwcmVmaXg6InNhZ2VtYWtlci1mZWF0dXJlc3RvcmUtcnVudGltZSIsbmFtZToiU2FnZU1ha2VyRmVhdHVyZVN0b3JlUnVudGltZSJ9LGN1c3RvbWVycHJvZmlsZXM6e3ByZWZpeDoiY3VzdG9tZXItcHJvZmlsZXMiLG5hbWU6IkN1c3RvbWVyUHJvZmlsZXMifSxhdWRpdG1hbmFnZXI6e25hbWU6IkF1ZGl0TWFuYWdlciJ9LGVtcmNvbnRhaW5lcnM6e3ByZWZpeDoiZW1yLWNvbnRhaW5lcnMiLG5hbWU6IkVNUmNvbnRhaW5lcnMifSxoZWFsdGhsYWtlOntuYW1lOiJIZWFsdGhMYWtlIn0sc2FnZW1ha2VyZWRnZTp7cHJlZml4OiJzYWdlbWFrZXItZWRnZSIsbmFtZToiU2FnZW1ha2VyRWRnZSJ9LGFtcDp7bmFtZToiQW1wIixjb3JzOiEwfSxncmVlbmdyYXNzdjI6e25hbWU6IkdyZWVuZ3Jhc3NWMiJ9LGlvdGRldmljZWFkdmlzb3I6e25hbWU6IklvdERldmljZUFkdmlzb3IifSxpb3RmbGVldGh1Yjp7bmFtZToiSW9URmxlZXRIdWIifSxpb3R3aXJlbGVzczp7bmFtZToiSW9UV2lyZWxlc3MifSxsb2NhdGlvbjp7bmFtZToiTG9jYXRpb24iLGNvcnM6ITB9LHdlbGxhcmNoaXRlY3RlZDp7bmFtZToiV2VsbEFyY2hpdGVjdGVkIn0sbGV4bW9kZWxzdjI6e3ByZWZpeDoibW9kZWxzLmxleC52MiIsbmFtZToiTGV4TW9kZWxzVjIifSxsZXhydW50aW1ldjI6e3ByZWZpeDoicnVudGltZS5sZXgudjIiLG5hbWU6IkxleFJ1bnRpbWVWMiIsY29yczohMH0sZmlzOntuYW1lOiJGaXMifSxsb29rb3V0bWV0cmljczp7bmFtZToiTG9va291dE1ldHJpY3MifSxtZ246e25hbWU6Ik1nbiJ9LGxvb2tvdXRlcXVpcG1lbnQ6e25hbWU6Ikxvb2tvdXRFcXVpcG1lbnQifSxuaW1ibGU6e25hbWU6Ik5pbWJsZSJ9LGZpbnNwYWNlOntuYW1lOiJGaW5zcGFjZSJ9LGZpbnNwYWNlZGF0YTp7cHJlZml4OiJmaW5zcGFjZS1kYXRhIixuYW1lOiJGaW5zcGFjZWRhdGEifSxzc21jb250YWN0czp7cHJlZml4OiJzc20tY29udGFjdHMiLG5hbWU6IlNTTUNvbnRhY3RzIn0sc3NtaW5jaWRlbnRzOntwcmVmaXg6InNzbS1pbmNpZGVudHMiLG5hbWU6IlNTTUluY2lkZW50cyJ9LGFwcGxpY2F0aW9uY29zdHByb2ZpbGVyOntuYW1lOiJBcHBsaWNhdGlvbkNvc3RQcm9maWxlciJ9LGFwcHJ1bm5lcjp7bmFtZToiQXBwUnVubmVyIn0scHJvdG9uOntuYW1lOiJQcm90b24ifSxyb3V0ZTUzcmVjb3ZlcnljbHVzdGVyOntwcmVmaXg6InJvdXRlNTMtcmVjb3ZlcnktY2x1c3RlciIsbmFtZToiUm91dGU1M1JlY292ZXJ5Q2x1c3RlciJ9LHJvdXRlNTNyZWNvdmVyeWNvbnRyb2xjb25maWc6e3ByZWZpeDoicm91dGU1My1yZWNvdmVyeS1jb250cm9sLWNvbmZpZyIsbmFtZToiUm91dGU1M1JlY292ZXJ5Q29udHJvbENvbmZpZyJ9LHJvdXRlNTNyZWNvdmVyeXJlYWRpbmVzczp7cHJlZml4OiJyb3V0ZTUzLXJlY292ZXJ5LXJlYWRpbmVzcyIsbmFtZToiUm91dGU1M1JlY292ZXJ5UmVhZGluZXNzIn0sY2hpbWVzZGtpZGVudGl0eTp7cHJlZml4OiJjaGltZS1zZGstaWRlbnRpdHkiLG5hbWU6IkNoaW1lU0RLSWRlbnRpdHkifSxjaGltZXNka21lc3NhZ2luZzp7cHJlZml4OiJjaGltZS1zZGstbWVzc2FnaW5nIixuYW1lOiJDaGltZVNES01lc3NhZ2luZyJ9LHNub3dkZXZpY2VtYW5hZ2VtZW50OntwcmVmaXg6InNub3ctZGV2aWNlLW1hbmFnZW1lbnQiLG5hbWU6IlNub3dEZXZpY2VNYW5hZ2VtZW50In0sbWVtb3J5ZGI6e25hbWU6Ik1lbW9yeURCIn0sb3BlbnNlYXJjaDp7bmFtZToiT3BlblNlYXJjaCJ9LGthZmthY29ubmVjdDp7bmFtZToiS2Fma2FDb25uZWN0In0sdm9pY2VpZDp7cHJlZml4OiJ2b2ljZS1pZCIsbmFtZToiVm9pY2VJRCJ9LHdpc2RvbTp7bmFtZToiV2lzZG9tIn0sYWNjb3VudDp7bmFtZToiQWNjb3VudCJ9LGNsb3VkY29udHJvbDp7bmFtZToiQ2xvdWRDb250cm9sIn0sZ3JhZmFuYTp7bmFtZToiR3JhZmFuYSJ9LHBhbm9yYW1hOntuYW1lOiJQYW5vcmFtYSJ9LGNoaW1lc2RrbWVldGluZ3M6e3ByZWZpeDoiY2hpbWUtc2RrLW1lZXRpbmdzIixuYW1lOiJDaGltZVNES01lZXRpbmdzIn0scmVzaWxpZW5jZWh1Yjp7bmFtZToiUmVzaWxpZW5jZWh1YiJ9LG1pZ3JhdGlvbmh1YnN0cmF0ZWd5OntuYW1lOiJNaWdyYXRpb25IdWJTdHJhdGVneSJ9LGFwcGNvbmZpZ2RhdGE6e25hbWU6IkFwcENvbmZpZ0RhdGEifSxkcnM6e25hbWU6IkRycyJ9LG1pZ3JhdGlvbmh1YnJlZmFjdG9yc3BhY2VzOntwcmVmaXg6Im1pZ3JhdGlvbi1odWItcmVmYWN0b3Itc3BhY2VzIixuYW1lOiJNaWdyYXRpb25IdWJSZWZhY3RvclNwYWNlcyJ9LGV2aWRlbnRseTp7bmFtZToiRXZpZGVudGx5In0saW5zcGVjdG9yMjp7bmFtZToiSW5zcGVjdG9yMiJ9LHJiaW46e25hbWU6IlJiaW4ifSxydW06e25hbWU6IlJVTSJ9LGJhY2t1cGdhdGV3YXk6e3ByZWZpeDoiYmFja3VwLWdhdGV3YXkiLG5hbWU6IkJhY2t1cEdhdGV3YXkifSxpb3R0d2lubWFrZXI6e25hbWU6IklvVFR3aW5NYWtlciJ9LHdvcmtzcGFjZXN3ZWI6e3ByZWZpeDoid29ya3NwYWNlcy13ZWIiLG5hbWU6IldvcmtTcGFjZXNXZWIifSxhbXBsaWZ5dWlidWlsZGVyOntuYW1lOiJBbXBsaWZ5VUlCdWlsZGVyIn0sa2V5c3BhY2VzOntuYW1lOiJLZXlzcGFjZXMifSxiaWxsaW5nY29uZHVjdG9yOntuYW1lOiJCaWxsaW5nY29uZHVjdG9yIn0scGlucG9pbnRzbXN2b2ljZXYyOntwcmVmaXg6InBpbnBvaW50LXNtcy12b2ljZS12MiIsbmFtZToiUGlucG9pbnRTTVNWb2ljZVYyIn0saXZzY2hhdDp7bmFtZToiSXZzY2hhdCJ9LGNoaW1lc2RrbWVkaWFwaXBlbGluZXM6e3ByZWZpeDoiY2hpbWUtc2RrLW1lZGlhLXBpcGVsaW5lcyIsbmFtZToiQ2hpbWVTREtNZWRpYVBpcGVsaW5lcyJ9LGVtcnNlcnZlcmxlc3M6e3ByZWZpeDoiZW1yLXNlcnZlcmxlc3MiLG5hbWU6IkVNUlNlcnZlcmxlc3MifSxtMjp7bmFtZToiTTIifSxjb25uZWN0Y2FtcGFpZ25zOntuYW1lOiJDb25uZWN0Q2FtcGFpZ25zIn0scmVkc2hpZnRzZXJ2ZXJsZXNzOntwcmVmaXg6InJlZHNoaWZ0LXNlcnZlcmxlc3MiLG5hbWU6IlJlZHNoaWZ0U2VydmVybGVzcyJ9LHJvbGVzYW55d2hlcmU6e25hbWU6IlJvbGVzQW55d2hlcmUifSxsaWNlbnNlbWFuYWdlcnVzZXJzdWJzY3JpcHRpb25zOntwcmVmaXg6ImxpY2Vuc2UtbWFuYWdlci11c2VyLXN1YnNjcmlwdGlvbnMiLG5hbWU6IkxpY2Vuc2VNYW5hZ2VyVXNlclN1YnNjcmlwdGlvbnMifSxiYWNrdXBzdG9yYWdlOntuYW1lOiJCYWNrdXBTdG9yYWdlIn0scHJpdmF0ZW5ldHdvcmtzOntuYW1lOiJQcml2YXRlTmV0d29ya3MifSxzdXBwb3J0YXBwOntwcmVmaXg6InN1cHBvcnQtYXBwIixuYW1lOiJTdXBwb3J0QXBwIn0sY29udHJvbHRvd2VyOntuYW1lOiJDb250cm9sVG93ZXIifSxpb3RmbGVldHdpc2U6e25hbWU6IklvVEZsZWV0V2lzZSJ9LG1pZ3JhdGlvbmh1Ym9yY2hlc3RyYXRvcjp7bmFtZToiTWlncmF0aW9uSHViT3JjaGVzdHJhdG9yIn0sY29ubmVjdGNhc2VzOntuYW1lOiJDb25uZWN0Q2FzZXMifSxyZXNvdXJjZWV4cGxvcmVyMjp7cHJlZml4OiJyZXNvdXJjZS1leHBsb3Jlci0yIixuYW1lOiJSZXNvdXJjZUV4cGxvcmVyMiJ9LHNjaGVkdWxlcjp7bmFtZToiU2NoZWR1bGVyIn0sY2hpbWVzZGt2b2ljZTp7cHJlZml4OiJjaGltZS1zZGstdm9pY2UiLG5hbWU6IkNoaW1lU0RLVm9pY2UifSxzc21zYXA6e3ByZWZpeDoic3NtLXNhcCIsbmFtZToiU3NtU2FwIn0sb2FtOntuYW1lOiJPQU0ifSxhcmN6b25hbHNoaWZ0OntwcmVmaXg6ImFyYy16b25hbC1zaGlmdCIsbmFtZToiQVJDWm9uYWxTaGlmdCJ9LG9taWNzOntuYW1lOiJPbWljcyJ9LG9wZW5zZWFyY2hzZXJ2ZXJsZXNzOntuYW1lOiJPcGVuU2VhcmNoU2VydmVybGVzcyJ9LHNlY3VyaXR5bGFrZTp7bmFtZToiU2VjdXJpdHlMYWtlIn0sc2ltc3BhY2V3ZWF2ZXI6e25hbWU6IlNpbVNwYWNlV2VhdmVyIn0sZG9jZGJlbGFzdGljOntwcmVmaXg6ImRvY2RiLWVsYXN0aWMiLG5hbWU6IkRvY0RCRWxhc3RpYyJ9LHNhZ2VtYWtlcmdlb3NwYXRpYWw6e3ByZWZpeDoic2FnZW1ha2VyLWdlb3NwYXRpYWwiLG5hbWU6IlNhZ2VNYWtlckdlb3NwYXRpYWwifSxjb2RlY2F0YWx5c3Q6e25hbWU6IkNvZGVDYXRhbHlzdCJ9LHBpcGVzOntuYW1lOiJQaXBlcyJ9LHNhZ2VtYWtlcm1ldHJpY3M6e3ByZWZpeDoic2FnZW1ha2VyLW1ldHJpY3MiLG5hbWU6IlNhZ2VNYWtlck1ldHJpY3MifSxraW5lc2lzdmlkZW93ZWJydGNzdG9yYWdlOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8td2VicnRjLXN0b3JhZ2UiLG5hbWU6IktpbmVzaXNWaWRlb1dlYlJUQ1N0b3JhZ2UifSxsaWNlbnNlbWFuYWdlcmxpbnV4c3Vic2NyaXB0aW9uczp7cHJlZml4OiJsaWNlbnNlLW1hbmFnZXItbGludXgtc3Vic2NyaXB0aW9ucyIsbmFtZToiTGljZW5zZU1hbmFnZXJMaW51eFN1YnNjcmlwdGlvbnMifSxrZW5kcmFyYW5raW5nOntwcmVmaXg6ImtlbmRyYS1yYW5raW5nIixuYW1lOiJLZW5kcmFSYW5raW5nIn0sY2xlYW5yb29tczp7bmFtZToiQ2xlYW5Sb29tcyJ9LGNsb3VkdHJhaWxkYXRhOntwcmVmaXg6ImNsb3VkdHJhaWwtZGF0YSIsbmFtZToiQ2xvdWRUcmFpbERhdGEifSx0bmI6e25hbWU6IlRuYiJ9LGludGVybmV0bW9uaXRvcjp7bmFtZToiSW50ZXJuZXRNb25pdG9yIn0saXZzcmVhbHRpbWU6e3ByZWZpeDoiaXZzLXJlYWx0aW1lIixuYW1lOiJJVlNSZWFsVGltZSJ9LHZwY2xhdHRpY2U6e3ByZWZpeDoidnBjLWxhdHRpY2UiLG5hbWU6IlZQQ0xhdHRpY2UifSxvc2lzOntuYW1lOiJPU0lTIn0sbWVkaWFwYWNrYWdldjI6e25hbWU6Ik1lZGlhUGFja2FnZVYyIn0scGF5bWVudGNyeXB0b2dyYXBoeTp7cHJlZml4OiJwYXltZW50LWNyeXB0b2dyYXBoeSIsbmFtZToiUGF5bWVudENyeXB0b2dyYXBoeSJ9LHBheW1lbnRjcnlwdG9ncmFwaHlkYXRhOntwcmVmaXg6InBheW1lbnQtY3J5cHRvZ3JhcGh5LWRhdGEiLG5hbWU6IlBheW1lbnRDcnlwdG9ncmFwaHlEYXRhIn0sY29kZWd1cnVzZWN1cml0eTp7cHJlZml4OiJjb2RlZ3VydS1zZWN1cml0eSIsbmFtZToiQ29kZUd1cnVTZWN1cml0eSJ9LHZlcmlmaWVkcGVybWlzc2lvbnM6e25hbWU6IlZlcmlmaWVkUGVybWlzc2lvbnMifSxhcHBmYWJyaWM6e25hbWU6IkFwcEZhYnJpYyJ9LG1lZGljYWxpbWFnaW5nOntwcmVmaXg6Im1lZGljYWwtaW1hZ2luZyIsbmFtZToiTWVkaWNhbEltYWdpbmcifSxlbnRpdHlyZXNvbHV0aW9uOntuYW1lOiJFbnRpdHlSZXNvbHV0aW9uIn0sbWFuYWdlZGJsb2NrY2hhaW5xdWVyeTp7cHJlZml4OiJtYW5hZ2VkYmxvY2tjaGFpbi1xdWVyeSIsbmFtZToiTWFuYWdlZEJsb2NrY2hhaW5RdWVyeSJ9LG5lcHR1bmVkYXRhOntuYW1lOiJOZXB0dW5lZGF0YSJ9LHBjYWNvbm5lY3RvcmFkOntwcmVmaXg6InBjYS1jb25uZWN0b3ItYWQiLG5hbWU6IlBjYUNvbm5lY3RvckFkIn0sYmVkcm9jazp7bmFtZToiQmVkcm9jayJ9LGJlZHJvY2tydW50aW1lOntwcmVmaXg6ImJlZHJvY2stcnVudGltZSIsbmFtZToiQmVkcm9ja1J1bnRpbWUifSxkYXRhem9uZTp7bmFtZToiRGF0YVpvbmUifSxsYXVuY2h3aXphcmQ6e3ByZWZpeDoibGF1bmNoLXdpemFyZCIsbmFtZToiTGF1bmNoV2l6YXJkIn0sdHJ1c3RlZGFkdmlzb3I6e25hbWU6IlRydXN0ZWRBZHZpc29yIn0saW5zcGVjdG9yc2Nhbjp7cHJlZml4OiJpbnNwZWN0b3Itc2NhbiIsbmFtZToiSW5zcGVjdG9yU2NhbiJ9LGJjbWRhdGFleHBvcnRzOntwcmVmaXg6ImJjbS1kYXRhLWV4cG9ydHMiLG5hbWU6IkJDTURhdGFFeHBvcnRzIn0sY29zdG9wdGltaXphdGlvbmh1Yjp7cHJlZml4OiJjb3N0LW9wdGltaXphdGlvbi1odWIiLG5hbWU6IkNvc3RPcHRpbWl6YXRpb25IdWIifSxla3NhdXRoOntwcmVmaXg6ImVrcy1hdXRoIixuYW1lOiJFS1NBdXRoIn0sZnJlZXRpZXI6e25hbWU6IkZyZWVUaWVyIn0scmVwb3N0c3BhY2U6e25hbWU6IlJlcG9zdHNwYWNlIn0sd29ya3NwYWNlc3RoaW5jbGllbnQ6e3ByZWZpeDoid29ya3NwYWNlcy10aGluLWNsaWVudCIsbmFtZToiV29ya1NwYWNlc1RoaW5DbGllbnQifSxiMmJpOntuYW1lOiJCMmJpIn0sYmVkcm9ja2FnZW50OntwcmVmaXg6ImJlZHJvY2stYWdlbnQiLG5hbWU6IkJlZHJvY2tBZ2VudCJ9LGJlZHJvY2thZ2VudHJ1bnRpbWU6e3ByZWZpeDoiYmVkcm9jay1hZ2VudC1ydW50aW1lIixuYW1lOiJCZWRyb2NrQWdlbnRSdW50aW1lIn0scWJ1c2luZXNzOntuYW1lOiJRQnVzaW5lc3MifSxxY29ubmVjdDp7bmFtZToiUUNvbm5lY3QifSxjbGVhbnJvb21zbWw6e25hbWU6IkNsZWFuUm9vbXNNTCJ9LG1hcmtldHBsYWNlYWdyZWVtZW50OntwcmVmaXg6Im1hcmtldHBsYWNlLWFncmVlbWVudCIsbmFtZToiTWFya2V0cGxhY2VBZ3JlZW1lbnQifSxtYXJrZXRwbGFjZWRlcGxveW1lbnQ6e3ByZWZpeDoibWFya2V0cGxhY2UtZGVwbG95bWVudCIsbmFtZToiTWFya2V0cGxhY2VEZXBsb3ltZW50In0sbmV0d29ya21vbml0b3I6e25hbWU6Ik5ldHdvcmtNb25pdG9yIn0sc3VwcGx5Y2hhaW46e25hbWU6IlN1cHBseUNoYWluIn0sYXJ0aWZhY3Q6e25hbWU6IkFydGlmYWN0In0sY2hhdGJvdDp7bmFtZToiQ2hhdGJvdCJ9LHRpbWVzdHJlYW1pbmZsdXhkYjp7cHJlZml4OiJ0aW1lc3RyZWFtLWluZmx1eGRiIixuYW1lOiJUaW1lc3RyZWFtSW5mbHV4REIifSxjb2RlY29ubmVjdGlvbnM6e25hbWU6IkNvZGVDb25uZWN0aW9ucyJ9fX0se31dLDU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3ZlcnNpb246IjIuMCIsbWV0YWRhdGE6e2FwaVZlcnNpb246IjIwMTEtMDYtMTUiLGVuZHBvaW50UHJlZml4OiJzdHMiLGdsb2JhbEVuZHBvaW50OiJzdHMuYW1hem9uYXdzLmNvbSIscHJvdG9jb2w6InF1ZXJ5IixzZXJ2aWNlQWJicmV2aWF0aW9uOiJBV1MgU1RTIixzZXJ2aWNlRnVsbE5hbWU6IkFXUyBTZWN1cml0eSBUb2tlbiBTZXJ2aWNlIixzZXJ2aWNlSWQ6IlNUUyIsc2lnbmF0dXJlVmVyc2lvbjoidjQiLHVpZDoic3RzLTIwMTEtMDYtMTUiLHhtbE5hbWVzcGFjZToiaHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS9kb2MvMjAxMS0wNi0xNS8ifSxvcGVyYXRpb25zOntBc3N1bWVSb2xlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJvbGVBcm4iLCJSb2xlU2Vzc2lvbk5hbWUiXSxtZW1iZXJzOntSb2xlQXJuOnt9LFJvbGVTZXNzaW9uTmFtZTp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxQb2xpY3k6e30sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn0sVGFnczp7c2hhcGU6IlM4In0sVHJhbnNpdGl2ZVRhZ0tleXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sRXh0ZXJuYWxJZDp7fSxTZXJpYWxOdW1iZXI6e30sVG9rZW5Db2RlOnt9LFNvdXJjZUlkZW50aXR5Ont9LFByb3ZpZGVkQ29udGV4dHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntQcm92aWRlckFybjp7fSxDb250ZXh0QXNzZXJ0aW9uOnt9fX19fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJBc3N1bWVSb2xlUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxTb3VyY2VJZGVudGl0eTp7fX19fSxBc3N1bWVSb2xlV2l0aFNBTUw6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUm9sZUFybiIsIlByaW5jaXBhbEFybiIsIlNBTUxBc3NlcnRpb24iXSxtZW1iZXJzOntSb2xlQXJuOnt9LFByaW5jaXBhbEFybjp7fSxTQU1MQXNzZXJ0aW9uOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sUG9saWN5Ont9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJBc3N1bWVSb2xlV2l0aFNBTUxSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LEFzc3VtZWRSb2xlVXNlcjp7c2hhcGU6IlNxIn0sUGFja2VkUG9saWN5U2l6ZTp7dHlwZToiaW50ZWdlciJ9LFN1YmplY3Q6e30sU3ViamVjdFR5cGU6e30sSXNzdWVyOnt9LEF1ZGllbmNlOnt9LE5hbWVRdWFsaWZpZXI6e30sU291cmNlSWRlbnRpdHk6e319fX0sQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSb2xlQXJuIiwiUm9sZVNlc3Npb25OYW1lIiwiV2ViSWRlbnRpdHlUb2tlbiJdLG1lbWJlcnM6e1JvbGVBcm46e30sUm9sZVNlc3Npb25OYW1lOnt9LFdlYklkZW50aXR5VG9rZW46e3R5cGU6InN0cmluZyIsc2Vuc2l0aXZlOiEwfSxQcm92aWRlcklkOnt9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LFBvbGljeTp7fSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sU3ViamVjdEZyb21XZWJJZGVudGl0eVRva2VuOnt9LEFzc3VtZWRSb2xlVXNlcjp7c2hhcGU6IlNxIn0sUGFja2VkUG9saWN5U2l6ZTp7dHlwZToiaW50ZWdlciJ9LFByb3ZpZGVyOnt9LEF1ZGllbmNlOnt9LFNvdXJjZUlkZW50aXR5Ont9fX19LERlY29kZUF1dGhvcml6YXRpb25NZXNzYWdlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkVuY29kZWRNZXNzYWdlIl0sbWVtYmVyczp7RW5jb2RlZE1lc3NhZ2U6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkRlY29kZUF1dGhvcml6YXRpb25NZXNzYWdlUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0RlY29kZWRNZXNzYWdlOnt9fX19LEdldEFjY2Vzc0tleUluZm86e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQWNjZXNzS2V5SWQiXSxtZW1iZXJzOntBY2Nlc3NLZXlJZDp7fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0QWNjZXNzS2V5SW5mb1Jlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntBY2NvdW50Ont9fX19LEdldENhbGxlcklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldENhbGxlcklkZW50aXR5UmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1VzZXJJZDp7fSxBY2NvdW50Ont9LEFybjp7fX19fSxHZXRGZWRlcmF0aW9uVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiTmFtZSJdLG1lbWJlcnM6e05hbWU6e30sUG9saWN5Ont9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFRhZ3M6e3NoYXBlOiJTOCJ9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRGZWRlcmF0aW9uVG9rZW5SZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LEZlZGVyYXRlZFVzZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJGZWRlcmF0ZWRVc2VySWQiLCJBcm4iXSxtZW1iZXJzOntGZWRlcmF0ZWRVc2VySWQ6e30sQXJuOnt9fX0sUGFja2VkUG9saWN5U2l6ZTp7dHlwZToiaW50ZWdlciJ9fX19LEdldFNlc3Npb25Ub2tlbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7RHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn0sU2VyaWFsTnVtYmVyOnt9LFRva2VuQ29kZTp7fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0U2Vzc2lvblRva2VuUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifX19fX0sc2hhcGVzOntTNDp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2Fybjp7fX19fSxTODp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiS2V5IiwiVmFsdWUiXSxtZW1iZXJzOntLZXk6e30sVmFsdWU6e319fX0sU2w6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJBY2Nlc3NLZXlJZCIsIlNlY3JldEFjY2Vzc0tleSIsIlNlc3Npb25Ub2tlbiIsIkV4cGlyYXRpb24iXSxtZW1iZXJzOntBY2Nlc3NLZXlJZDp7fSxTZWNyZXRBY2Nlc3NLZXk6e3R5cGU6InN0cmluZyIsc2Vuc2l0aXZlOiEwfSxTZXNzaW9uVG9rZW46e30sRXhwaXJhdGlvbjp7dHlwZToidGltZXN0YW1wIn19fSxTcTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkFzc3VtZWRSb2xlSWQiLCJBcm4iXSxtZW1iZXJzOntBc3N1bWVkUm9sZUlkOnt9LEFybjp7fX19fX19LHt9XSw2OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtwYWdpbmF0aW9uOnt9fX0se31dLDc6W2Z1bmN0aW9uKGUsdCxuKXtlKCIuLi9saWIvbm9kZV9sb2FkZXIiKTt2YXIgcj1lKCIuLi9saWIvY29yZSIpLG89ci5TZXJ2aWNlLGk9ci5hcGlMb2FkZXI7aS5zZXJ2aWNlcy5jb2duaXRvaWRlbnRpdHk9e30sci5Db2duaXRvSWRlbnRpdHk9by5kZWZpbmVTZXJ2aWNlKCJjb2duaXRvaWRlbnRpdHkiLFsiMjAxNC0wNi0zMCJdKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5zZXJ2aWNlcy5jb2duaXRvaWRlbnRpdHksIjIwMTQtMDYtMzAiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1lKCIuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5taW4uanNvbiIpO3JldHVybiB0LnBhZ2luYXRvcnM9ZSgiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAucGFnaW5hdG9ycy5qc29uIikucGFnaW5hdGlvbix0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQuZXhwb3J0cz1yLkNvZ25pdG9JZGVudGl0eX0seyIuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5taW4uanNvbiI6MSwiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAucGFnaW5hdG9ycy5qc29uIjoyLCIuLi9saWIvY29yZSI6MTksIi4uL2xpYi9ub2RlX2xvYWRlciI6MTZ9XSw4OltmdW5jdGlvbihlLHQsbil7ZSgiLi4vbGliL25vZGVfbG9hZGVyIik7dmFyIHI9ZSgiLi4vbGliL2NvcmUiKSxvPXIuU2VydmljZSxpPXIuYXBpTG9hZGVyO2kuc2VydmljZXMuc3RzPXt9LHIuU1RTPW8uZGVmaW5lU2VydmljZSgic3RzIixbIjIwMTEtMDYtMTUiXSksZSgiLi4vbGliL3NlcnZpY2VzL3N0cyIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnNlcnZpY2VzLnN0cywiMjAxMS0wNi0xNSIse2dldDpmdW5jdGlvbigpe3ZhciB0PWUoIi4uL2FwaXMvc3RzLTIwMTEtMDYtMTUubWluLmpzb24iKTtyZXR1cm4gdC5wYWdpbmF0b3JzPWUoIi4uL2FwaXMvc3RzLTIwMTEtMDYtMTUucGFnaW5hdG9ycy5qc29uIikucGFnaW5hdGlvbix0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQuZXhwb3J0cz1yLlNUU30seyIuLi9hcGlzL3N0cy0yMDExLTA2LTE1Lm1pbi5qc29uIjo1LCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1LnBhZ2luYXRvcnMuanNvbiI6NiwiLi4vbGliL2NvcmUiOjE5LCIuLi9saWIvbm9kZV9sb2FkZXIiOjE2LCIuLi9saWIvc2VydmljZXMvc3RzIjo2M31dLDk6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7aWYoIXIuc2VydmljZXMuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkU2VydmljZTogRmFpbGVkIHRvIGxvYWQgYXBpIGZvciAiK2UpO3JldHVybiByLnNlcnZpY2VzW2VdW3RdfXIuc2VydmljZXM9e30sdC5leHBvcnRzPXJ9LHt9XSwxMDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vYnJvd3NlckhtYWMiKSxvPWUoIi4vYnJvd3Nlck1kNSIpLGk9ZSgiLi9icm93c2VyU2hhMSIpLGE9ZSgiLi9icm93c2VyU2hhMjU2Iik7dC5leHBvcnRzPXtjcmVhdGVIYXNoOmZ1bmN0aW9uKGUpe2lmKCJtZDUiPT09KGU9ZS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gbmV3IG87aWYoInNoYTI1NiI9PT1lKXJldHVybiBuZXcgYTtpZigic2hhMSI9PT1lKXJldHVybiBuZXcgaTt0aHJvdyBuZXcgRXJyb3IoIkhhc2ggYWxnb3JpdGhtICIrZSsiIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIgU0RLIil9LGNyZWF0ZUhtYWM6ZnVuY3Rpb24oZSx0KXtpZigibWQ1Ij09PShlPWUudG9Mb3dlckNhc2UoKSkpcmV0dXJuIG5ldyByKG8sdCk7aWYoInNoYTI1NiI9PT1lKXJldHVybiBuZXcgcihhLHQpO2lmKCJzaGExIj09PWUpcmV0dXJuIG5ldyByKGksdCk7dGhyb3cgbmV3IEVycm9yKCJITUFDIGFsZ29yaXRobSAiK2UrIiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyIFNESyIpfSxjcmVhdGVTaWduOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJjcmVhdGVTaWduIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGUgYnJvd3NlciIpfX19LHsiLi9icm93c2VySG1hYyI6MTIsIi4vYnJvd3Nlck1kNSI6MTMsIi4vYnJvd3NlclNoYTEiOjE0LCIuL2Jyb3dzZXJTaGEyNTYiOjE1fV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJidWZmZXIvIikuQnVmZmVyOyJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnZvaWQgMD09PUFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldz1mdW5jdGlvbihlKXtyZXR1cm4gby5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSk+LTF9KTt2YXIgbz1bIltvYmplY3QgSW50OEFycmF5XSIsIltvYmplY3QgVWludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSIsIltvYmplY3QgSW50MTZBcnJheV0iLCJbb2JqZWN0IFVpbnQxNkFycmF5XSIsIltvYmplY3QgSW50MzJBcnJheV0iLCJbb2JqZWN0IFVpbnQzMkFycmF5XSIsIltvYmplY3QgRmxvYXQzMkFycmF5XSIsIltvYmplY3QgRmxvYXQ2NEFycmF5XSIsIltvYmplY3QgRGF0YVZpZXddIl07dC5leHBvcnRzPXtpc0VtcHR5RGF0YTpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/MD09PWUubGVuZ3RoOjA9PT1lLmJ5dGVMZW5ndGh9LGNvbnZlcnRUb0J1ZmZlcjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlPW5ldyByKGUsInV0ZjgiKSksQXJyYXlCdWZmZXIuaXNWaWV3KGUpP25ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgvVWludDhBcnJheS5CWVRFU19QRVJfRUxFTUVOVCk6bmV3IFVpbnQ4QXJyYXkoZSl9fX0seyJidWZmZXIvIjo4Nn1dLDEyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9icm93c2VySGFzaFV0aWxzIik7ZnVuY3Rpb24gbyhlLHQpe3RoaXMuaGFzaD1uZXcgZSx0aGlzLm91dGVyPW5ldyBlO3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5jb252ZXJ0VG9CdWZmZXIodCk7aWYobi5ieXRlTGVuZ3RoPmUuQkxPQ0tfU0laRSl7dmFyIG89bmV3IGU7by51cGRhdGUobiksbj1vLmRpZ2VzdCgpfXZhciBpPW5ldyBVaW50OEFycmF5KGUuQkxPQ0tfU0laRSk7cmV0dXJuIGkuc2V0KG4pLGl9KGUsdCksbz1uZXcgVWludDhBcnJheShlLkJMT0NLX1NJWkUpO28uc2V0KG4pO2Zvcih2YXIgaT0wO2k8ZS5CTE9DS19TSVpFO2krKyluW2ldXj01NCxvW2ldXj05Mjtmb3IodGhpcy5oYXNoLnVwZGF0ZShuKSx0aGlzLm91dGVyLnVwZGF0ZShvKSxpPTA7aTxuLmJ5dGVMZW5ndGg7aSsrKW5baV09MH10LmV4cG9ydHM9byxvLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7aWYoci5pc0VtcHR5RGF0YShlKXx8dGhpcy5lcnJvcilyZXR1cm4gdGhpczt0cnl7dGhpcy5oYXNoLnVwZGF0ZShyLmNvbnZlcnRUb0J1ZmZlcihlKSl9Y2F0Y2goZSl7dGhpcy5lcnJvcj1lfXJldHVybiB0aGlzfSxvLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3V0ZXIuZmluaXNoZWR8fHRoaXMub3V0ZXIudXBkYXRlKHRoaXMuaGFzaC5kaWdlc3QoKSksdGhpcy5vdXRlci5kaWdlc3QoZSl9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTF9XSwxMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpLG89ZSgiYnVmZmVyLyIpLkJ1ZmZlcixpPTY0O2Z1bmN0aW9uIGEoKXt0aGlzLnN0YXRlPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzhdLHRoaXMuYnVmZmVyPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoaSkpLHRoaXMuYnVmZmVyTGVuZ3RoPTAsdGhpcy5ieXRlc0hhc2hlZD0wLHRoaXMuZmluaXNoZWQ9ITF9ZnVuY3Rpb24gcyhlLHQsbixyLG8saSl7cmV0dXJuKCh0PSh0K2UmNDI5NDk2NzI5NSkrKHIraSY0Mjk0OTY3Mjk1KSY0Mjk0OTY3Mjk1KTw8b3x0Pj4+MzItbykrbiY0Mjk0OTY3Mjk1fWZ1bmN0aW9uIGMoZSx0LG4scixvLGksYSl7cmV0dXJuIHModCZufH50JnIsZSx0LG8saSxhKX1mdW5jdGlvbiB1KGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKHQmcnxuJn5yLGUsdCxvLGksYSl9ZnVuY3Rpb24gbChlLHQsbixyLG8saSxhKXtyZXR1cm4gcyh0Xm5ecixlLHQsbyxpLGEpfWZ1bmN0aW9uIHAoZSx0LG4scixvLGksYSl7cmV0dXJuIHMobl4odHx+ciksZSx0LG8saSxhKX10LmV4cG9ydHM9YSxhLkJMT0NLX1NJWkU9aSxhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7aWYoci5pc0VtcHR5RGF0YShlKSlyZXR1cm4gdGhpcztpZih0aGlzLmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHVwZGF0ZSBhbiBhbHJlYWR5IGZpbmlzaGVkIGhhc2guIik7dmFyIHQ9ci5jb252ZXJ0VG9CdWZmZXIoZSksbj0wLG89dC5ieXRlTGVuZ3RoO2Zvcih0aGlzLmJ5dGVzSGFzaGVkKz1vO28+MDspdGhpcy5idWZmZXIuc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKyx0W24rK10pLG8tLSx0aGlzLmJ1ZmZlckxlbmd0aD09PWkmJih0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmZpbmlzaGVkKXt2YXIgdD10aGlzLG49dC5idWZmZXIscj10LmJ1ZmZlckxlbmd0aCxhPTgqdC5ieXRlc0hhc2hlZDtpZihuLnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssMTI4KSxyJWk+PTU2KXtmb3IodmFyIHM9dGhpcy5idWZmZXJMZW5ndGg7czxpO3MrKyluLnNldFVpbnQ4KHMsMCk7dGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MH1mb3Iocz10aGlzLmJ1ZmZlckxlbmd0aDtzPDU2O3MrKyluLnNldFVpbnQ4KHMsMCk7bi5zZXRVaW50MzIoNTYsYT4+PjAsITApLG4uc2V0VWludDMyKDYwLE1hdGguZmxvb3IoYS80Mjk0OTY3Mjk2KSwhMCksdGhpcy5oYXNoQnVmZmVyKCksdGhpcy5maW5pc2hlZD0hMH12YXIgYz1uZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDE2KSk7Zm9yKHM9MDtzPDQ7cysrKWMuc2V0VWludDMyKDQqcyx0aGlzLnN0YXRlW3NdLCEwKTt2YXIgdT1uZXcgbyhjLmJ1ZmZlcixjLmJ5dGVPZmZzZXQsYy5ieXRlTGVuZ3RoKTtyZXR1cm4gZT91LnRvU3RyaW5nKGUpOnV9LGEucHJvdG90eXBlLmhhc2hCdWZmZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ1ZmZlcix0PXRoaXMuc3RhdGUsbj10WzBdLHI9dFsxXSxvPXRbMl0saT10WzNdO249YyhuLHIsbyxpLGUuZ2V0VWludDMyKDAsITApLDcsMzYxNDA5MDM2MCksaT1jKGksbixyLG8sZS5nZXRVaW50MzIoNCwhMCksMTIsMzkwNTQwMjcxMCksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoOCwhMCksMTcsNjA2MTA1ODE5KSxyPWMocixvLGksbixlLmdldFVpbnQzMigxMiwhMCksMjIsMzI1MDQ0MTk2Niksbj1jKG4scixvLGksZS5nZXRVaW50MzIoMTYsITApLDcsNDExODU0ODM5OSksaT1jKGksbixyLG8sZS5nZXRVaW50MzIoMjAsITApLDEyLDEyMDAwODA0MjYpLG89YyhvLGksbixyLGUuZ2V0VWludDMyKDI0LCEwKSwxNywyODIxNzM1OTU1KSxyPWMocixvLGksbixlLmdldFVpbnQzMigyOCwhMCksMjIsNDI0OTI2MTMxMyksbj1jKG4scixvLGksZS5nZXRVaW50MzIoMzIsITApLDcsMTc3MDAzNTQxNiksaT1jKGksbixyLG8sZS5nZXRVaW50MzIoMzYsITApLDEyLDIzMzY1NTI4NzkpLG89YyhvLGksbixyLGUuZ2V0VWludDMyKDQwLCEwKSwxNyw0Mjk0OTI1MjMzKSxyPWMocixvLGksbixlLmdldFVpbnQzMig0NCwhMCksMjIsMjMwNDU2MzEzNCksbj1jKG4scixvLGksZS5nZXRVaW50MzIoNDgsITApLDcsMTgwNDYwMzY4MiksaT1jKGksbixyLG8sZS5nZXRVaW50MzIoNTIsITApLDEyLDQyNTQ2MjYxOTUpLG89YyhvLGksbixyLGUuZ2V0VWludDMyKDU2LCEwKSwxNywyNzkyOTY1MDA2KSxuPXUobixyPWMocixvLGksbixlLmdldFVpbnQzMig2MCwhMCksMjIsMTIzNjUzNTMyOSksbyxpLGUuZ2V0VWludDMyKDQsITApLDUsNDEyOTE3MDc4NiksaT11KGksbixyLG8sZS5nZXRVaW50MzIoMjQsITApLDksMzIyNTQ2NTY2NCksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoNDQsITApLDE0LDY0MzcxNzcxMykscj11KHIsbyxpLG4sZS5nZXRVaW50MzIoMCwhMCksMjAsMzkyMTA2OTk5NCksbj11KG4scixvLGksZS5nZXRVaW50MzIoMjAsITApLDUsMzU5MzQwODYwNSksaT11KGksbixyLG8sZS5nZXRVaW50MzIoNDAsITApLDksMzgwMTYwODMpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDYwLCEwKSwxNCwzNjM0NDg4OTYxKSxyPXUocixvLGksbixlLmdldFVpbnQzMigxNiwhMCksMjAsMzg4OTQyOTQ0OCksbj11KG4scixvLGksZS5nZXRVaW50MzIoMzYsITApLDUsNTY4NDQ2NDM4KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMig1NiwhMCksOSwzMjc1MTYzNjA2KSxvPXUobyxpLG4scixlLmdldFVpbnQzMigxMiwhMCksMTQsNDEwNzYwMzMzNSkscj11KHIsbyxpLG4sZS5nZXRVaW50MzIoMzIsITApLDIwLDExNjM1MzE1MDEpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDUyLCEwKSw1LDI4NTAyODU4MjkpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDgsITApLDksNDI0MzU2MzUxMiksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoMjgsITApLDE0LDE3MzUzMjg0NzMpLG49bChuLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDQ4LCEwKSwyMCwyMzY4MzU5NTYyKSxvLGksZS5nZXRVaW50MzIoMjAsITApLDQsNDI5NDU4ODczOCksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoMzIsITApLDExLDIyNzIzOTI4MzMpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDQ0LCEwKSwxNiwxODM5MDMwNTYyKSxyPWwocixvLGksbixlLmdldFVpbnQzMig1NiwhMCksMjMsNDI1OTY1Nzc0MCksbj1sKG4scixvLGksZS5nZXRVaW50MzIoNCwhMCksNCwyNzYzOTc1MjM2KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMigxNiwhMCksMTEsMTI3Mjg5MzM1Myksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoMjgsITApLDE2LDQxMzk0Njk2NjQpLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDQwLCEwKSwyMywzMjAwMjM2NjU2KSxuPWwobixyLG8saSxlLmdldFVpbnQzMig1MiwhMCksNCw2ODEyNzkxNzQpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDAsITApLDExLDM5MzY0MzAwNzQpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDEyLCEwKSwxNiwzNTcyNDQ1MzE3KSxyPWwocixvLGksbixlLmdldFVpbnQzMigyNCwhMCksMjMsNzYwMjkxODkpLG49bChuLHIsbyxpLGUuZ2V0VWludDMyKDM2LCEwKSw0LDM2NTQ2MDI4MDkpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDQ4LCEwKSwxMSwzODczMTUxNDYxKSxvPWwobyxpLG4scixlLmdldFVpbnQzMig2MCwhMCksMTYsNTMwNzQyNTIwKSxuPXAobixyPWwocixvLGksbixlLmdldFVpbnQzMig4LCEwKSwyMywzMjk5NjI4NjQ1KSxvLGksZS5nZXRVaW50MzIoMCwhMCksNiw0MDk2MzM2NDUyKSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMigyOCwhMCksMTAsMTEyNjg5MTQxNSksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoNTYsITApLDE1LDI4Nzg2MTIzOTEpLHI9cChyLG8saSxuLGUuZ2V0VWludDMyKDIwLCEwKSwyMSw0MjM3NTMzMjQxKSxuPXAobixyLG8saSxlLmdldFVpbnQzMig0OCwhMCksNiwxNzAwNDg1NTcxKSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMigxMiwhMCksMTAsMjM5OTk4MDY5MCksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoNDAsITApLDE1LDQyOTM5MTU3NzMpLHI9cChyLG8saSxuLGUuZ2V0VWludDMyKDQsITApLDIxLDIyNDAwNDQ0OTcpLG49cChuLHIsbyxpLGUuZ2V0VWludDMyKDMyLCEwKSw2LDE4NzMzMTMzNTkpLGk9cChpLG4scixvLGUuZ2V0VWludDMyKDYwLCEwKSwxMCw0MjY0MzU1NTUyKSxvPXAobyxpLG4scixlLmdldFVpbnQzMigyNCwhMCksMTUsMjczNDc2ODkxNikscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoNTIsITApLDIxLDEzMDkxNTE2NDkpLG49cChuLHIsbyxpLGUuZ2V0VWludDMyKDE2LCEwKSw2LDQxNDk0NDQyMjYpLGk9cChpLG4scixvLGUuZ2V0VWludDMyKDQ0LCEwKSwxMCwzMTc0NzU2OTE3KSxvPXAobyxpLG4scixlLmdldFVpbnQzMig4LCEwKSwxNSw3MTg3ODcyNTkpLHI9cChyLG8saSxuLGUuZ2V0VWludDMyKDM2LCEwKSwyMSwzOTUxNDgxNzQ1KSx0WzBdPW4rdFswXSY0Mjk0OTY3Mjk1LHRbMV09cit0WzFdJjQyOTQ5NjcyOTUsdFsyXT1vK3RbMl0mNDI5NDk2NzI5NSx0WzNdPWkrdFszXSY0Mjk0OTY3Mjk1fX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExLCJidWZmZXIvIjo4Nn1dLDE0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcixvPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpO2Z1bmN0aW9uIGkoKXt0aGlzLmgwPTE3MzI1ODQxOTMsdGhpcy5oMT00MDIzMjMzNDE3LHRoaXMuaDI9MjU2MjM4MzEwMix0aGlzLmgzPTI3MTczMzg3OCx0aGlzLmg0PTMyODUzNzc1MjAsdGhpcy5ibG9jaz1uZXcgVWludDMyQXJyYXkoODApLHRoaXMub2Zmc2V0PTAsdGhpcy5zaGlmdD0yNCx0aGlzLnRvdGFsTGVuZ3RoPTB9bmV3IFVpbnQzMkFycmF5KFsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsLTE4OTQwMDc1ODgsLTg5OTQ5NzUxNF0pLE1hdGgucG93KDIsNTMpLHQuZXhwb3J0cz1pLGkuQkxPQ0tfU0laRT02NCxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO2lmKG8uaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7dmFyIHQ9KGU9by5jb252ZXJ0VG9CdWZmZXIoZSkpLmxlbmd0aDt0aGlzLnRvdGFsTGVuZ3RoKz04KnQ7Zm9yKHZhciBuPTA7bjx0O24rKyl0aGlzLndyaXRlKGVbbl0pO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXt0aGlzLmJsb2NrW3RoaXMub2Zmc2V0XXw9KDI1NSZlKTw8dGhpcy5zaGlmdCx0aGlzLnNoaWZ0P3RoaXMuc2hpZnQtPTg6KHRoaXMub2Zmc2V0KyssdGhpcy5zaGlmdD0yNCksMTY9PT10aGlzLm9mZnNldCYmdGhpcy5wcm9jZXNzQmxvY2soKX0saS5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe3RoaXMud3JpdGUoMTI4KSwodGhpcy5vZmZzZXQ+MTR8fDE0PT09dGhpcy5vZmZzZXQmJnRoaXMuc2hpZnQ8MjQpJiZ0aGlzLnByb2Nlc3NCbG9jaygpLHRoaXMub2Zmc2V0PTE0LHRoaXMuc2hpZnQ9MjQsdGhpcy53cml0ZSgwKSx0aGlzLndyaXRlKDApLHRoaXMud3JpdGUodGhpcy50b3RhbExlbmd0aD4weGZmZmZmZmZmZmY/dGhpcy50b3RhbExlbmd0aC8xMDk5NTExNjI3Nzc2OjApLHRoaXMud3JpdGUodGhpcy50b3RhbExlbmd0aD40Mjk0OTY3Mjk1P3RoaXMudG90YWxMZW5ndGgvNDI5NDk2NzI5NjowKTtmb3IodmFyIHQ9MjQ7dD49MDt0LT04KXRoaXMud3JpdGUodGhpcy50b3RhbExlbmd0aD4+dCk7dmFyIG49bmV3IHIoMjApLG89bmV3IERhdGFWaWV3KG4uYnVmZmVyKTtyZXR1cm4gby5zZXRVaW50MzIoMCx0aGlzLmgwLCExKSxvLnNldFVpbnQzMig0LHRoaXMuaDEsITEpLG8uc2V0VWludDMyKDgsdGhpcy5oMiwhMSksby5zZXRVaW50MzIoMTIsdGhpcy5oMywhMSksby5zZXRVaW50MzIoMTYsdGhpcy5oNCwhMSksZT9uLnRvU3RyaW5nKGUpOm59LGkucHJvdG90eXBlLnByb2Nlc3NCbG9jaz1mdW5jdGlvbigpe2Zvcih2YXIgZT0xNjtlPDgwO2UrKyl7dmFyIHQ9dGhpcy5ibG9ja1tlLTNdXnRoaXMuYmxvY2tbZS04XV50aGlzLmJsb2NrW2UtMTRdXnRoaXMuYmxvY2tbZS0xNl07dGhpcy5ibG9ja1tlXT10PDwxfHQ+Pj4zMX12YXIgbixyLG89dGhpcy5oMCxpPXRoaXMuaDEsYT10aGlzLmgyLHM9dGhpcy5oMyxjPXRoaXMuaDQ7Zm9yKGU9MDtlPDgwO2UrKyl7ZTwyMD8obj1zXmkmKGFecykscj0xNTE4NTAwMjQ5KTplPDQwPyhuPWleYV5zLHI9MTg1OTc3NTM5Myk6ZTw2MD8obj1pJmF8cyYoaXxhKSxyPTI0MDA5NTk3MDgpOihuPWleYV5zLHI9MzM5NTQ2OTc4Mik7dmFyIHU9KG88PDV8bz4+PjI3KStuK2MrcisoMHx0aGlzLmJsb2NrW2VdKTtjPXMscz1hLGE9aTw8MzB8aT4+PjIsaT1vLG89dX1mb3IodGhpcy5oMD10aGlzLmgwK298MCx0aGlzLmgxPXRoaXMuaDEraXwwLHRoaXMuaDI9dGhpcy5oMithfDAsdGhpcy5oMz10aGlzLmgzK3N8MCx0aGlzLmg0PXRoaXMuaDQrY3wwLHRoaXMub2Zmc2V0PTAsZT0wO2U8MTY7ZSsrKXRoaXMuYmxvY2tbZV09MH19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoImJ1ZmZlci8iKS5CdWZmZXIsbz1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKSxpPTY0LGE9bmV3IFVpbnQzMkFycmF5KFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdKSxzPU1hdGgucG93KDIsNTMpLTE7ZnVuY3Rpb24gYygpe3RoaXMuc3RhdGU9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSx0aGlzLnRlbXA9bmV3IEludDMyQXJyYXkoNjQpLHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5KDY0KSx0aGlzLmJ1ZmZlckxlbmd0aD0wLHRoaXMuYnl0ZXNIYXNoZWQ9MCx0aGlzLmZpbmlzaGVkPSExfXQuZXhwb3J0cz1jLGMuQkxPQ0tfU0laRT1pLGMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHVwZGF0ZSBhbiBhbHJlYWR5IGZpbmlzaGVkIGhhc2guIik7aWYoby5pc0VtcHR5RGF0YShlKSlyZXR1cm4gdGhpczt2YXIgdD0wLG49KGU9by5jb252ZXJ0VG9CdWZmZXIoZSkpLmJ5dGVMZW5ndGg7aWYodGhpcy5ieXRlc0hhc2hlZCs9biw4KnRoaXMuYnl0ZXNIYXNoZWQ+cyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBoYXNoIG1vcmUgdGhhbiAyXjUzIC0gMSBiaXRzIik7Zm9yKDtuPjA7KXRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyTGVuZ3RoKytdPWVbdCsrXSxuLS0sdGhpcy5idWZmZXJMZW5ndGg9PT1pJiYodGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MCk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtpZighdGhpcy5maW5pc2hlZCl7dmFyIHQ9OCp0aGlzLmJ5dGVzSGFzaGVkLG49bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLmJ1ZmZlcix0aGlzLmJ1ZmZlci5ieXRlT2Zmc2V0LHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpLG89dGhpcy5idWZmZXJMZW5ndGg7aWYobi5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLDEyOCksbyVpPj01Nil7Zm9yKHZhciBhPXRoaXMuYnVmZmVyTGVuZ3RoO2E8aTthKyspbi5zZXRVaW50OChhLDApO3RoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTB9Zm9yKGE9dGhpcy5idWZmZXJMZW5ndGg7YTw1NjthKyspbi5zZXRVaW50OChhLDApO24uc2V0VWludDMyKDU2LE1hdGguZmxvb3IodC80Mjk0OTY3Mjk2KSwhMCksbi5zZXRVaW50MzIoNjAsdCksdGhpcy5oYXNoQnVmZmVyKCksdGhpcy5maW5pc2hlZD0hMH12YXIgcz1uZXcgcigzMik7Zm9yKGE9MDthPDg7YSsrKXNbNCphXT10aGlzLnN0YXRlW2FdPj4+MjQmMjU1LHNbNCphKzFdPXRoaXMuc3RhdGVbYV0+Pj4xNiYyNTUsc1s0KmErMl09dGhpcy5zdGF0ZVthXT4+PjgmMjU1LHNbNCphKzNdPXRoaXMuc3RhdGVbYV0+Pj4wJjI1NTtyZXR1cm4gZT9zLnRvU3RyaW5nKGUpOnN9LGMucHJvdG90eXBlLmhhc2hCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5idWZmZXIsdD10aGlzLnN0YXRlLG49dFswXSxyPXRbMV0sbz10WzJdLHM9dFszXSxjPXRbNF0sdT10WzVdLGw9dFs2XSxwPXRbN10sZD0wO2Q8aTtkKyspe2lmKGQ8MTYpdGhpcy50ZW1wW2RdPSgyNTUmZVs0KmRdKTw8MjR8KDI1NSZlWzQqZCsxXSk8PDE2fCgyNTUmZVs0KmQrMl0pPDw4fDI1NSZlWzQqZCszXTtlbHNle3ZhciBoPXRoaXMudGVtcFtkLTJdLGY9KGg+Pj4xN3xoPDwxNSleKGg+Pj4xOXxoPDwxMyleaD4+PjEwLGc9KChoPXRoaXMudGVtcFtkLTE1XSk+Pj43fGg8PDI1KV4oaD4+PjE4fGg8PDE0KV5oPj4+Mzt0aGlzLnRlbXBbZF09KGYrdGhpcy50ZW1wW2QtN118MCkrKGcrdGhpcy50ZW1wW2QtMTZdfDApfXZhciBtPSgoKGM+Pj42fGM8PDI2KV4oYz4+PjExfGM8PDIxKV4oYz4+PjI1fGM8PDcpKSsoYyZ1Xn5jJmwpfDApKyhwKyhhW2RdK3RoaXMudGVtcFtkXXwwKXwwKXwwLHY9KChuPj4+MnxuPDwzMCleKG4+Pj4xM3xuPDwxOSleKG4+Pj4yMnxuPDwxMCkpKyhuJnJebiZvXnImbyl8MDtwPWwsbD11LHU9YyxjPXMrbXwwLHM9byxvPXIscj1uLG49bSt2fDB9dFswXSs9bix0WzFdKz1yLHRbMl0rPW8sdFszXSs9cyx0WzRdKz1jLHRbNV0rPXUsdFs2XSs9bCx0WzddKz1wfX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExLCJidWZmZXIvIjo4Nn1dLDE2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciBuPWUoIi4vdXRpbCIpO24uY3J5cHRvLmxpYj1lKCIuL2Jyb3dzZXJDcnlwdG9MaWIiKSxuLkJ1ZmZlcj1lKCJidWZmZXIvIikuQnVmZmVyLG4udXJsPWUoInVybC8iKSxuLnF1ZXJ5c3RyaW5nPWUoInF1ZXJ5c3RyaW5nLyIpLG4ucmVhbENsb2NrPWUoIi4vcmVhbGNsb2NrL2Jyb3dzZXJDbG9jayIpLG4uZW52aXJvbm1lbnQ9ImpzIixuLmNyZWF0ZUV2ZW50U3RyZWFtPWUoIi4vZXZlbnQtc3RyZWFtL2J1ZmZlcmVkLWNyZWF0ZS1ldmVudC1zdHJlYW0iKS5jcmVhdGVFdmVudFN0cmVhbSxuLmlzQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybiEwfSxuLmlzTm9kZT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgcj1lKCIuL2NvcmUiKTtpZih0LmV4cG9ydHM9cixlKCIuL2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluIiksZSgiLi9jcmVkZW50aWFscy90ZW1wb3JhcnlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NoYWluYWJsZV90ZW1wb3JhcnlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL3dlYl9pZGVudGl0eV9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY29nbml0b19pZGVudGl0eV9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvc2FtbF9jcmVkZW50aWFscyIpLHIuWE1MLlBhcnNlcj1lKCIuL3htbC9icm93c2VyX3BhcnNlciIpLGUoIi4vaHR0cC94aHIiKSx2b2lkIDA9PT1vKXZhciBvPXticm93c2VyOiEwfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9icm93c2VyQ3J5cHRvTGliIjoxMCwiLi9jb3JlIjoxOSwiLi9jcmVkZW50aWFscyI6MjAsIi4vY3JlZGVudGlhbHMvY2hhaW5hYmxlX3RlbXBvcmFyeV9jcmVkZW50aWFscyI6MjEsIi4vY3JlZGVudGlhbHMvY29nbml0b19pZGVudGl0eV9jcmVkZW50aWFscyI6MjIsIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiI6MjMsIi4vY3JlZGVudGlhbHMvc2FtbF9jcmVkZW50aWFscyI6MjQsIi4vY3JlZGVudGlhbHMvdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIjoyNSwiLi9jcmVkZW50aWFscy93ZWJfaWRlbnRpdHlfY3JlZGVudGlhbHMiOjI2LCIuL2V2ZW50LXN0cmVhbS9idWZmZXJlZC1jcmVhdGUtZXZlbnQtc3RyZWFtIjoyOCwiLi9odHRwL3hociI6MzYsIi4vcmVhbGNsb2NrL2Jyb3dzZXJDbG9jayI6NTQsIi4vdXRpbCI6NzQsIi4veG1sL2Jyb3dzZXJfcGFyc2VyIjo3NSxfcHJvY2Vzczo5MSwiYnVmZmVyLyI6ODYsInF1ZXJ5c3RyaW5nLyI6OTgsInVybC8iOjEwMH1dLDE3OltmdW5jdGlvbihlLHQsbil7dmFyIHIsbz1lKCIuL2NvcmUiKTtlKCIuL2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluIiksby5Db25maWc9by51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXt9KSxlPXRoaXMuZXh0cmFjdENyZWRlbnRpYWxzKGUpLG8udXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLmtleXMsKGZ1bmN0aW9uKHQsbil7dGhpcy5zZXQodCxlW3RdLG4pfSkpfSxnZXRDcmVkZW50aWFsczpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXM7ZnVuY3Rpb24gcih0KXtlKHQsdD9udWxsOm4uY3JlZGVudGlhbHMpfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gbmV3IG8udXRpbC5lcnJvcih0fHxuZXcgRXJyb3Ise2NvZGU6IkNyZWRlbnRpYWxzRXJyb3IiLG1lc3NhZ2U6ZSxuYW1lOiJDcmVkZW50aWFsc0Vycm9yIn0pfW4uY3JlZGVudGlhbHM/ImZ1bmN0aW9uIj09dHlwZW9mIG4uY3JlZGVudGlhbHMuZ2V0P24uY3JlZGVudGlhbHMuZ2V0KChmdW5jdGlvbihlKXtlJiYoZT1pKCJDb3VsZCBub3QgbG9hZCBjcmVkZW50aWFscyBmcm9tICIrbi5jcmVkZW50aWFscy5jb25zdHJ1Y3Rvci5uYW1lLGUpKSxyKGUpfSkpOih0PW51bGwsbi5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCYmbi5jcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXl8fCh0PWkoIk1pc3NpbmcgY3JlZGVudGlhbHMiKSkscih0KSk6bi5jcmVkZW50aWFsUHJvdmlkZXI/bi5jcmVkZW50aWFsUHJvdmlkZXIucmVzb2x2ZSgoZnVuY3Rpb24oZSx0KXtlJiYoZT1pKCJDb3VsZCBub3QgbG9hZCBjcmVkZW50aWFscyBmcm9tIGFueSBwcm92aWRlcnMiLGUpKSxuLmNyZWRlbnRpYWxzPXQscihlKX0pKTpyKGkoIk5vIGNyZWRlbnRpYWxzIHRvIGxvYWQiKSl9LGdldFRva2VuOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztmdW5jdGlvbiByKHQpe2UodCx0P251bGw6bi50b2tlbil9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBuZXcgby51dGlsLmVycm9yKHR8fG5ldyBFcnJvcix7Y29kZToiVG9rZW5FcnJvciIsbWVzc2FnZTplLG5hbWU6IlRva2VuRXJyb3IifSl9bi50b2tlbj8iZnVuY3Rpb24iPT10eXBlb2Ygbi50b2tlbi5nZXQ/bi50b2tlbi5nZXQoKGZ1bmN0aW9uKGUpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIHRva2VuIGZyb20gIituLnRva2VuLmNvbnN0cnVjdG9yLm5hbWUsZSkpLHIoZSl9KSk6KHQ9bnVsbCxuLnRva2VuLnRva2VufHwodD1pKCJNaXNzaW5nIHRva2VuIikpLHIodCkpOm4udG9rZW5Qcm92aWRlcj9uLnRva2VuUHJvdmlkZXIucmVzb2x2ZSgoZnVuY3Rpb24oZSx0KXtlJiYoZT1pKCJDb3VsZCBub3QgbG9hZCB0b2tlbiBmcm9tIGFueSBwcm92aWRlcnMiLGUpKSxuLnRva2VuPXQscihlKX0pKTpyKGkoIk5vIHRva2VuIHRvIGxvYWQiKSl9LHVwZGF0ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ITEsZT10aGlzLmV4dHJhY3RDcmVkZW50aWFscyhlKSxvLnV0aWwuZWFjaC5jYWxsKHRoaXMsZSwoZnVuY3Rpb24oZSxuKXsodHx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMua2V5cyxlKXx8by5TZXJ2aWNlLmhhc1NlcnZpY2UoZSkpJiZ0aGlzLnNldChlLG4pfSkpfSxsb2FkRnJvbVBhdGg6ZnVuY3Rpb24oZSl7dGhpcy5jbGVhcigpO3ZhciB0PUpTT04ucGFyc2Uoby51dGlsLnJlYWRGaWxlU3luYyhlKSksbj1uZXcgby5GaWxlU3lzdGVtQ3JlZGVudGlhbHMoZSkscj1uZXcgby5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbjtyZXR1cm4gci5wcm92aWRlcnMudW5zaGlmdChuKSxyLnJlc29sdmUoKGZ1bmN0aW9uKGUsbil7aWYoZSl0aHJvdyBlO3QuY3JlZGVudGlhbHM9bn0pKSx0aGlzLmNvbnN0cnVjdG9yKHQpLHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7by51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMua2V5cywoZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXNbZV19KSksdGhpcy5zZXQoImNyZWRlbnRpYWxzIix2b2lkIDApLHRoaXMuc2V0KCJjcmVkZW50aWFsUHJvdmlkZXIiLHZvaWQgMCl9LHNldDpmdW5jdGlvbihlLHQsbil7dm9pZCAwPT09dD8odm9pZCAwPT09biYmKG49dGhpcy5rZXlzW2VdKSx0aGlzW2VdPSJmdW5jdGlvbiI9PXR5cGVvZiBuP24uY2FsbCh0aGlzKTpuKToiaHR0cE9wdGlvbnMiPT09ZSYmdGhpc1tlXT90aGlzW2VdPW8udXRpbC5tZXJnZSh0aGlzW2VdLHQpOnRoaXNbZV09dH0sa2V5czp7Y3JlZGVudGlhbHM6bnVsbCxjcmVkZW50aWFsUHJvdmlkZXI6bnVsbCxyZWdpb246bnVsbCxsb2dnZXI6bnVsbCxhcGlWZXJzaW9uczp7fSxhcGlWZXJzaW9uOm51bGwsZW5kcG9pbnQ6dm9pZCAwLGh0dHBPcHRpb25zOnt0aW1lb3V0OjEyZTR9LG1heFJldHJpZXM6dm9pZCAwLG1heFJlZGlyZWN0czoxMCxwYXJhbVZhbGlkYXRpb246ITAsc3NsRW5hYmxlZDohMCxzM0ZvcmNlUGF0aFN0eWxlOiExLHMzQnVja2V0RW5kcG9pbnQ6ITEsczNEaXNhYmxlQm9keVNpZ25pbmc6ITAsczNVc0Vhc3QxUmVnaW9uYWxFbmRwb2ludDoibGVnYWN5IixzM1VzZUFyblJlZ2lvbjp2b2lkIDAsY29tcHV0ZUNoZWNrc3VtczohMCxjb252ZXJ0UmVzcG9uc2VUeXBlczohMCxjb3JyZWN0Q2xvY2tTa2V3OiExLGN1c3RvbVVzZXJBZ2VudDpudWxsLGR5bmFtb0RiQ3JjMzI6ITAsc3lzdGVtQ2xvY2tPZmZzZXQ6MCxzaWduYXR1cmVWZXJzaW9uOm51bGwsc2lnbmF0dXJlQ2FjaGU6ITAscmV0cnlEZWxheU9wdGlvbnM6e30sdXNlQWNjZWxlcmF0ZUVuZHBvaW50OiExLGNsaWVudFNpZGVNb25pdG9yaW5nOiExLGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDp2b2lkIDAsZW5kcG9pbnRDYWNoZVNpemU6MWUzLGhvc3RQcmVmaXhFbmFibGVkOiEwLHN0c1JlZ2lvbmFsRW5kcG9pbnRzOiJsZWdhY3kiLHVzZUZpcHNFbmRwb2ludDohMSx1c2VEdWFsc3RhY2tFbmRwb2ludDohMSx0b2tlbjpudWxsfSxleHRyYWN0Q3JlZGVudGlhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWNjZXNzS2V5SWQmJmUuc2VjcmV0QWNjZXNzS2V5JiYoKGU9by51dGlsLmNvcHkoZSkpLmNyZWRlbnRpYWxzPW5ldyBvLkNyZWRlbnRpYWxzKGUpKSxlfSxzZXRQcm9taXNlc0RlcGVuZGVuY3k6ZnVuY3Rpb24oZSl7cj1lLG51bGw9PT1lJiYiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZSYmKHI9UHJvbWlzZSk7dmFyIHQ9W28uUmVxdWVzdCxvLkNyZWRlbnRpYWxzLG8uQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW5dO28uUzMmJih0LnB1c2goby5TMyksby5TMy5NYW5hZ2VkVXBsb2FkJiZ0LnB1c2goby5TMy5NYW5hZ2VkVXBsb2FkKSksby51dGlsLmFkZFByb21pc2VzKHQscil9LGdldFByb21pc2VzRGVwZW5kZW5jeTpmdW5jdGlvbigpe3JldHVybiByfX0pLG8uY29uZmlnPW5ldyBvLkNvbmZpZ30seyIuL2NvcmUiOjE5LCIuL2NyZWRlbnRpYWxzIjoyMCwiLi9jcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluIjoyM31dLDE4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciByPWUoIi4vY29yZSIpO2Z1bmN0aW9uIG8oZSx0KXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKFsibGVnYWN5IiwicmVnaW9uYWwiXS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSk+PTApcmV0dXJuIGUudG9Mb3dlckNhc2UoKTt0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHQpfX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgaTtpZigoZT1lfHx7fSlbdC5jbGllbnRDb25maWddJiYoaT1vKGVbdC5jbGllbnRDb25maWddLHtjb2RlOiJJbnZhbGlkQ29uZmlndXJhdGlvbiIsbWVzc2FnZTonaW52YWxpZCAiJyt0LmNsaWVudENvbmZpZysnIiBjb25maWd1cmF0aW9uLiBFeHBlY3QgImxlZ2FjeSIgIG9yICJyZWdpb25hbCIuIEdvdCAiJytlW3QuY2xpZW50Q29uZmlnXSsnIi4nfSkpKXJldHVybiBpO2lmKCFyLnV0aWwuaXNOb2RlKCkpcmV0dXJuIGk7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4uZW52LHQuZW52KSYmKGk9byhuLmVudlt0LmVudl0se2NvZGU6IkludmFsaWRFbnZpcm9ubWVudGFsVmFyaWFibGUiLG1lc3NhZ2U6ImludmFsaWQgIit0LmVudisnIGVudmlyb25tZW50YWwgdmFyaWFibGUuIEV4cGVjdCAibGVnYWN5IiAgb3IgInJlZ2lvbmFsIi4gR290ICInK24uZW52W3QuZW52XSsnIi4nfSkpKXJldHVybiBpO3ZhciBhPXt9O3RyeXthPXIudXRpbC5nZXRQcm9maWxlc0Zyb21TaGFyZWRDb25maWcoci51dGlsLmluaUxvYWRlcilbbi5lbnYuQVdTX1BST0ZJTEV8fHIudXRpbC5kZWZhdWx0UHJvZmlsZV19Y2F0Y2goZSl7fXJldHVybiBhJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0LnNoYXJlZENvbmZpZykmJihpPW8oYVt0LnNoYXJlZENvbmZpZ10se2NvZGU6IkludmFsaWRDb25maWd1cmF0aW9uIixtZXNzYWdlOiJpbnZhbGlkICIrdC5zaGFyZWRDb25maWcrJyBwcm9maWxlIGNvbmZpZy4gRXhwZWN0ICJsZWdhY3kiICBvciAicmVnaW9uYWwiLiBHb3QgIicrYVt0LnNoYXJlZENvbmZpZ10rJyIuJ30pKSxpfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSxfcHJvY2Vzczo5MX1dLDE5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9e3V0aWw6ZSgiLi91dGlsIil9Oyh7fSkudG9TdHJpbmcoKSx0LmV4cG9ydHM9cixyLnV0aWwudXBkYXRlKHIse1ZFUlNJT046IjIuMTU4OS4wIixTaWduZXJzOnt9LFByb3RvY29sOntKc29uOmUoIi4vcHJvdG9jb2wvanNvbiIpLFF1ZXJ5OmUoIi4vcHJvdG9jb2wvcXVlcnkiKSxSZXN0OmUoIi4vcHJvdG9jb2wvcmVzdCIpLFJlc3RKc29uOmUoIi4vcHJvdG9jb2wvcmVzdF9qc29uIiksUmVzdFhtbDplKCIuL3Byb3RvY29sL3Jlc3RfeG1sIil9LFhNTDp7QnVpbGRlcjplKCIuL3htbC9idWlsZGVyIiksUGFyc2VyOm51bGx9LEpTT046e0J1aWxkZXI6ZSgiLi9qc29uL2J1aWxkZXIiKSxQYXJzZXI6ZSgiLi9qc29uL3BhcnNlciIpfSxNb2RlbDp7QXBpOmUoIi4vbW9kZWwvYXBpIiksT3BlcmF0aW9uOmUoIi4vbW9kZWwvb3BlcmF0aW9uIiksU2hhcGU6ZSgiLi9tb2RlbC9zaGFwZSIpLFBhZ2luYXRvcjplKCIuL21vZGVsL3BhZ2luYXRvciIpLFJlc291cmNlV2FpdGVyOmUoIi4vbW9kZWwvcmVzb3VyY2Vfd2FpdGVyIil9LGFwaUxvYWRlcjplKCIuL2FwaV9sb2FkZXIiKSxFbmRwb2ludENhY2hlOmUoIi4uL3ZlbmRvci9lbmRwb2ludC1jYWNoZSIpLkVuZHBvaW50Q2FjaGV9KSxlKCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiKSxlKCIuL3NlcnZpY2UiKSxlKCIuL2NvbmZpZyIpLGUoIi4vaHR0cCIpLGUoIi4vZXZlbnRfbGlzdGVuZXJzIiksZSgiLi9yZXF1ZXN0IiksZSgiLi9yZXNwb25zZSIpLGUoIi4vcmVzb3VyY2Vfd2FpdGVyIiksZSgiLi9zaWduZXJzL3JlcXVlc3Rfc2lnbmVyIiksZSgiLi9wYXJhbV92YWxpZGF0b3IiKSxlKCIuL21haW50ZW5hbmNlX21vZGVfbWVzc2FnZSIpLHIuZXZlbnRzPW5ldyByLlNlcXVlbnRpYWxFeGVjdXRvcixyLnV0aWwubWVtb2l6ZWRQcm9wZXJ0eShyLCJlbmRwb2ludENhY2hlIiwoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIuRW5kcG9pbnRDYWNoZShyLmNvbmZpZy5lbmRwb2ludENhY2hlU2l6ZSl9KSwhMCl9LHsiLi4vdmVuZG9yL2VuZHBvaW50LWNhY2hlIjoxMTEsIi4vYXBpX2xvYWRlciI6OSwiLi9jb25maWciOjE3LCIuL2V2ZW50X2xpc3RlbmVycyI6MzQsIi4vaHR0cCI6MzUsIi4vanNvbi9idWlsZGVyIjozNywiLi9qc29uL3BhcnNlciI6MzgsIi4vbWFpbnRlbmFuY2VfbW9kZV9tZXNzYWdlIjozOSwiLi9tb2RlbC9hcGkiOjQwLCIuL21vZGVsL29wZXJhdGlvbiI6NDIsIi4vbW9kZWwvcGFnaW5hdG9yIjo0MywiLi9tb2RlbC9yZXNvdXJjZV93YWl0ZXIiOjQ0LCIuL21vZGVsL3NoYXBlIjo0NSwiLi9wYXJhbV92YWxpZGF0b3IiOjQ2LCIuL3Byb3RvY29sL2pzb24iOjQ4LCIuL3Byb3RvY29sL3F1ZXJ5Ijo0OSwiLi9wcm90b2NvbC9yZXN0Ijo1MCwiLi9wcm90b2NvbC9yZXN0X2pzb24iOjUxLCIuL3Byb3RvY29sL3Jlc3RfeG1sIjo1MiwiLi9yZXF1ZXN0Ijo1OCwiLi9yZXNvdXJjZV93YWl0ZXIiOjU5LCIuL3Jlc3BvbnNlIjo2MCwiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIjo2MSwiLi9zZXJ2aWNlIjo2MiwiLi9zaWduZXJzL3JlcXVlc3Rfc2lnbmVyIjo2NiwiLi91dGlsIjo3NCwiLi94bWwvYnVpbGRlciI6NzZ9XSwyMDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpO3IuQ3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7aWYoci51dGlsLmhpZGVQcm9wZXJ0aWVzKHRoaXMsWyJzZWNyZXRBY2Nlc3NLZXkiXSksdGhpcy5leHBpcmVkPSExLHRoaXMuZXhwaXJlVGltZT1udWxsLHRoaXMucmVmcmVzaENhbGxiYWNrcz1bXSwxPT09YXJndW1lbnRzLmxlbmd0aCYmIm9iamVjdCI9PT1vKGFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50c1swXS5jcmVkZW50aWFsc3x8YXJndW1lbnRzWzBdO3RoaXMuYWNjZXNzS2V5SWQ9ZS5hY2Nlc3NLZXlJZCx0aGlzLnNlY3JldEFjY2Vzc0tleT1lLnNlY3JldEFjY2Vzc0tleSx0aGlzLnNlc3Npb25Ub2tlbj1lLnNlc3Npb25Ub2tlbn1lbHNlIHRoaXMuYWNjZXNzS2V5SWQ9YXJndW1lbnRzWzBdLHRoaXMuc2VjcmV0QWNjZXNzS2V5PWFyZ3VtZW50c1sxXSx0aGlzLnNlc3Npb25Ub2tlbj1hcmd1bWVudHNbMl19LGV4cGlyeVdpbmRvdzoxNSxuZWVkc1JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT1yLnV0aWwuZGF0ZS5nZXREYXRlKCkuZ2V0VGltZSgpLHQ9bmV3IERhdGUoZSsxZTMqdGhpcy5leHBpcnlXaW5kb3cpO3JldHVybiEhKHRoaXMuZXhwaXJlVGltZSYmdD50aGlzLmV4cGlyZVRpbWUpfHx0aGlzLmV4cGlyZWR8fCF0aGlzLmFjY2Vzc0tleUlkfHwhdGhpcy5zZWNyZXRBY2Nlc3NLZXl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMubmVlZHNSZWZyZXNoKCk/dGhpcy5yZWZyZXNoKChmdW5jdGlvbihuKXtufHwodC5leHBpcmVkPSExKSxlJiZlKG4pfSkpOmUmJmUoKX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmV4cGlyZWQ9ITEsZSgpfSxjb2FsZXNjZVJlZnJlc2g6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzOzE9PT1uLnJlZnJlc2hDYWxsYmFja3MucHVzaChlKSYmbi5sb2FkKChmdW5jdGlvbihlKXtyLnV0aWwuYXJyYXlFYWNoKG4ucmVmcmVzaENhbGxiYWNrcywoZnVuY3Rpb24obil7dD9uKGUpOnIudXRpbC5kZWZlcigoZnVuY3Rpb24oKXtuKGUpfSkpfSkpLG4ucmVmcmVzaENhbGxiYWNrcy5sZW5ndGg9MH0pKX0sbG9hZDpmdW5jdGlvbihlKXtlKCl9fSksci5DcmVkZW50aWFscy5hZGRQcm9taXNlc1RvQ2xhc3M9ZnVuY3Rpb24oZSl7dGhpcy5wcm90b3R5cGUuZ2V0UHJvbWlzZT1yLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCJnZXQiLGUpLHRoaXMucHJvdG90eXBlLnJlZnJlc2hQcm9taXNlPXIudXRpbC5wcm9taXNpZnlNZXRob2QoInJlZnJlc2giLGUpfSxyLkNyZWRlbnRpYWxzLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJvdG90eXBlLmdldFByb21pc2UsZGVsZXRlIHRoaXMucHJvdG90eXBlLnJlZnJlc2hQcm9taXNlfSxyLnV0aWwuYWRkUHJvbWlzZXMoci5DcmVkZW50aWFscyl9LHsiLi9jb3JlIjoxOX1dLDIxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLkNoYWluYWJsZVRlbXBvcmFyeUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSxlPWV8fHt9LHRoaXMuZXJyb3JDb2RlPSJDaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZSIsdGhpcy5leHBpcmVkPSEwLHRoaXMudG9rZW5Db2RlRm49bnVsbDt2YXIgdD1yLnV0aWwuY29weShlLnBhcmFtcyl8fHt9O2lmKHQuUm9sZUFybiYmKHQuUm9sZVNlc3Npb25OYW1lPXQuUm9sZVNlc3Npb25OYW1lfHwidGVtcG9yYXJ5LWNyZWRlbnRpYWxzIiksdC5TZXJpYWxOdW1iZXIpe2lmKCFlLnRva2VuQ29kZUZufHwiZnVuY3Rpb24iIT10eXBlb2YgZS50b2tlbkNvZGVGbil0aHJvdyBuZXcgci51dGlsLmVycm9yKG5ldyBFcnJvcigidG9rZW5Db2RlRm4gbXVzdCBiZSBhIGZ1bmN0aW9uIHdoZW4gcGFyYW1zLlNlcmlhbE51bWJlciBpcyBnaXZlbiIpLHtjb2RlOnRoaXMuZXJyb3JDb2RlfSk7dGhpcy50b2tlbkNvZGVGbj1lLnRva2VuQ29kZUZufXZhciBuPXIudXRpbC5tZXJnZSh7cGFyYW1zOnQsY3JlZGVudGlhbHM6ZS5tYXN0ZXJDcmVkZW50aWFsc3x8ci5jb25maWcuY3JlZGVudGlhbHN9LGUuc3RzQ29uZmlnfHx7fSk7dGhpcy5zZXJ2aWNlPW5ldyBvKG4pfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXQuc2VydmljZS5jb25maWcucGFyYW1zLlJvbGVBcm4/ImFzc3VtZVJvbGUiOiJnZXRTZXNzaW9uVG9rZW4iO3RoaXMuZ2V0VG9rZW5Db2RlKChmdW5jdGlvbihyLG8pe3ZhciBpPXt9O3I/ZShyKToobyYmKGkuVG9rZW5Db2RlPW8pLHQuc2VydmljZVtuXShpLChmdW5jdGlvbihuLHIpe258fHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSxlKG4pfSkpKX0pKX0sZ2V0VG9rZW5Db2RlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy50b2tlbkNvZGVGbj90aGlzLnRva2VuQ29kZUZuKHRoaXMuc2VydmljZS5jb25maWcucGFyYW1zLlNlcmlhbE51bWJlciwoZnVuY3Rpb24obixvKXtpZihuKXt2YXIgaT1uO3JldHVybiBuIGluc3RhbmNlb2YgRXJyb3ImJihpPW4ubWVzc2FnZSksdm9pZCBlKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIkVycm9yIGZldGNoaW5nIE1GQSB0b2tlbjogIitpKSx7Y29kZTp0LmVycm9yQ29kZX0pKX1lKG51bGwsbyl9KSk6ZShudWxsKX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxpPWUoIi4uLy4uL2NsaWVudHMvY29nbml0b2lkZW50aXR5IiksYT1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuQ29nbml0b0lkZW50aXR5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7bG9jYWxTdG9yYWdlS2V5OntpZDoiYXdzLmNvZ25pdG8uaWRlbnRpdHktaWQuIixwcm92aWRlcnM6ImF3cy5jb2duaXRvLmlkZW50aXR5LXByb3ZpZGVycy4ifSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZSx0aGlzLmRhdGE9bnVsbCx0aGlzLl9pZGVudGl0eUlkPW51bGwsdGhpcy5fY2xpZW50Q29uZmlnPXIudXRpbC5jb3B5KHR8fHt9KSx0aGlzLmxvYWRDYWNoZWRJZCgpO3ZhciBuPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkZW50aXR5SWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2FkQ2FjaGVkSWQoKSxuLl9pZGVudGl0eUlkfHxuLnBhcmFtcy5JZGVudGl0eUlkfSxzZXQ6ZnVuY3Rpb24oZSl7bi5faWRlbnRpdHlJZD1lfX0pfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0LmRhdGE9bnVsbCx0Ll9pZGVudGl0eUlkPW51bGwsdC5nZXRJZCgoZnVuY3Rpb24obil7bj8odC5jbGVhcklkT25Ob3RBdXRob3JpemVkKG4pLGUobikpOnQucGFyYW1zLlJvbGVBcm4/dC5nZXRDcmVkZW50aWFsc0Zyb21TVFMoZSk6dC5nZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5KGUpfSkpfSxjbGVhckNhY2hlZElkOmZ1bmN0aW9uKCl7dGhpcy5faWRlbnRpdHlJZD1udWxsLGRlbGV0ZSB0aGlzLnBhcmFtcy5JZGVudGl0eUlkO3ZhciBlPXRoaXMucGFyYW1zLklkZW50aXR5UG9vbElkLHQ9dGhpcy5wYXJhbXMuTG9naW5JZHx8IiI7ZGVsZXRlIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleS5pZCtlK3RdLGRlbGV0ZSB0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXkucHJvdmlkZXJzK2UrdF19LGNsZWFySWRPbk5vdEF1dGhvcml6ZWQ6ZnVuY3Rpb24oZSl7Ik5vdEF1dGhvcml6ZWRFeGNlcHRpb24iPT1lLmNvZGUmJnRoaXMuY2xlYXJDYWNoZWRJZCgpfSxnZXRJZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgdC5wYXJhbXMuSWRlbnRpdHlJZClyZXR1cm4gZShudWxsLHQucGFyYW1zLklkZW50aXR5SWQpO3QuY29nbml0by5nZXRJZCgoZnVuY3Rpb24obixyKXshbiYmci5JZGVudGl0eUlkPyh0LnBhcmFtcy5JZGVudGl0eUlkPXIuSWRlbnRpdHlJZCxlKG51bGwsci5JZGVudGl0eUlkKSk6ZShuKX0pKX0sbG9hZENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUsdCl7ZSYmdCYmKHQuZXhwaXJlZD0hMSx0LmFjY2Vzc0tleUlkPWUuQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQsdC5zZWNyZXRBY2Nlc3NLZXk9ZS5DcmVkZW50aWFscy5TZWNyZXRLZXksdC5zZXNzaW9uVG9rZW49ZS5DcmVkZW50aWFscy5TZXNzaW9uVG9rZW4sdC5leHBpcmVUaW1lPWUuQ3JlZGVudGlhbHMuRXhwaXJhdGlvbil9LGdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvZ25pdG8uZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eSgoZnVuY3Rpb24obixyKXtuP3QuY2xlYXJJZE9uTm90QXV0aG9yaXplZChuKToodC5jYWNoZUlkKHIpLHQuZGF0YT1yLHQubG9hZENyZWRlbnRpYWxzKHQuZGF0YSx0KSksZShuKX0pKX0sZ2V0Q3JlZGVudGlhbHNGcm9tU1RTOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jb2duaXRvLmdldE9wZW5JZFRva2VuKChmdW5jdGlvbihuLHIpe24/KHQuY2xlYXJJZE9uTm90QXV0aG9yaXplZChuKSxlKG4pKToodC5jYWNoZUlkKHIpLHQucGFyYW1zLldlYklkZW50aXR5VG9rZW49ci5Ub2tlbix0LndlYklkZW50aXR5Q3JlZGVudGlhbHMucmVmcmVzaCgoZnVuY3Rpb24obil7bnx8KHQuZGF0YT10LndlYklkZW50aXR5Q3JlZGVudGlhbHMuZGF0YSx0LnN0cy5jcmVkZW50aWFsc0Zyb20odC5kYXRhLHQpKSxlKG4pfSkpKX0pKX0sbG9hZENhY2hlZElkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihyLnV0aWwuaXNCcm93c2VyKCkmJiFlLnBhcmFtcy5JZGVudGl0eUlkKXt2YXIgdD1lLmdldFN0b3JhZ2UoImlkIik7aWYodCYmZS5wYXJhbXMuTG9naW5zKXt2YXIgbj1PYmplY3Qua2V5cyhlLnBhcmFtcy5Mb2dpbnMpOzAhPT0oZS5nZXRTdG9yYWdlKCJwcm92aWRlcnMiKXx8IiIpLnNwbGl0KCIsIikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PW4uaW5kZXhPZihlKX0pKS5sZW5ndGgmJihlLnBhcmFtcy5JZGVudGl0eUlkPXQpfWVsc2UgdCYmKGUucGFyYW1zLklkZW50aXR5SWQ9dCl9fSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY2xpZW50Q29uZmlnO2lmKHRoaXMud2ViSWRlbnRpdHlDcmVkZW50aWFscz10aGlzLndlYklkZW50aXR5Q3JlZGVudGlhbHN8fG5ldyByLldlYklkZW50aXR5Q3JlZGVudGlhbHModGhpcy5wYXJhbXMsZSksIXRoaXMuY29nbml0byl7dmFyIHQ9ci51dGlsLm1lcmdlKHt9LGUpO3QucGFyYW1zPXRoaXMucGFyYW1zLHRoaXMuY29nbml0bz1uZXcgaSh0KX10aGlzLnN0cz10aGlzLnN0c3x8bmV3IGEoZSl9LGNhY2hlSWQ6ZnVuY3Rpb24oZSl7dGhpcy5faWRlbnRpdHlJZD1lLklkZW50aXR5SWQsdGhpcy5wYXJhbXMuSWRlbnRpdHlJZD10aGlzLl9pZGVudGl0eUlkLHIudXRpbC5pc0Jyb3dzZXIoKSYmKHRoaXMuc2V0U3RvcmFnZSgiaWQiLGUuSWRlbnRpdHlJZCksdGhpcy5wYXJhbXMuTG9naW5zJiZ0aGlzLnNldFN0b3JhZ2UoInByb3ZpZGVycyIsT2JqZWN0LmtleXModGhpcy5wYXJhbXMuTG9naW5zKS5qb2luKCIsIikpKX0sZ2V0U3RvcmFnZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5W2VdK3RoaXMucGFyYW1zLklkZW50aXR5UG9vbElkKyh0aGlzLnBhcmFtcy5Mb2dpbklkfHwiIildfSxzZXRTdG9yYWdlOmZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleVtlXSt0aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCsodGhpcy5wYXJhbXMuTG9naW5JZHx8IiIpXT10fWNhdGNoKGUpe319LHN0b3JhZ2U6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9ci51dGlsLmlzQnJvd3NlcigpJiZudWxsIT09d2luZG93LmxvY2FsU3RvcmFnZSYmIm9iamVjdCI9PT1vKHdpbmRvdy5sb2NhbFN0b3JhZ2UpP3dpbmRvdy5sb2NhbFN0b3JhZ2U6e307cmV0dXJuIGVbImF3cy50ZXN0LXN0b3JhZ2UiXT0iZm9vYmFyIixkZWxldGUgZVsiYXdzLnRlc3Qtc3RvcmFnZSJdLGV9Y2F0Y2goZSl7cmV0dXJue319fSgpfSl9LHsiLi4vLi4vY2xpZW50cy9jb2duaXRvaWRlbnRpdHkiOjcsIi4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDIzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpO3IuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW49ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dGhpcy5wcm92aWRlcnM9ZXx8ci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzLnNsaWNlKDApLHRoaXMucmVzb2x2ZUNhbGxiYWNrcz1bXX0scmVzb2x2ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKDA9PT10LnByb3ZpZGVycy5sZW5ndGgpcmV0dXJuIGUobmV3IEVycm9yKCJObyBwcm92aWRlcnMiKSksdDtpZigxPT09dC5yZXNvbHZlQ2FsbGJhY2tzLnB1c2goZSkpe3ZhciBuPWZ1bmN0aW9uKGUsYSl7aWYoIWUmJmF8fG89PT1pLmxlbmd0aClyZXR1cm4gci51dGlsLmFycmF5RWFjaCh0LnJlc29sdmVDYWxsYmFja3MsKGZ1bmN0aW9uKHQpe3QoZSxhKX0pKSx2b2lkKHQucmVzb2x2ZUNhbGxiYWNrcy5sZW5ndGg9MCk7dmFyIHM9aVtvKytdOyhhPSJmdW5jdGlvbiI9PXR5cGVvZiBzP3MuY2FsbCgpOnMpLmdldD9hLmdldCgoZnVuY3Rpb24oZSl7bihlLGU/bnVsbDphKX0pKTpuKG51bGwsYSl9LG89MCxpPXQucHJvdmlkZXJzLnNsaWNlKDApO24oKX1yZXR1cm4gdH19KSxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlZmF1bHRQcm92aWRlcnM9W10sci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5hZGRQcm9taXNlc1RvQ2xhc3M9ZnVuY3Rpb24oZSl7dGhpcy5wcm90b3R5cGUucmVzb2x2ZVByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgicmVzb2x2ZSIsZSl9LHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3M9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm90b3R5cGUucmVzb2x2ZVByb21pc2V9LHIudXRpbC5hZGRQcm9taXNlcyhyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluKX0seyIuLi9jb3JlIjoxOX1dLDI0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLlNBTUxDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWV9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQuc2VydmljZS5hc3N1bWVSb2xlV2l0aFNBTUwoKGZ1bmN0aW9uKG4scil7bnx8dC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpLGUobil9KSl9LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXt0aGlzLnNlcnZpY2U9dGhpcy5zZXJ2aWNlfHxuZXcgbyh7cGFyYW1zOnRoaXMucGFyYW1zfSl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuVGVtcG9yYXJ5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5sb2FkTWFzdGVyQ3JlZGVudGlhbHModCksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWV8fHt9LHRoaXMucGFyYW1zLlJvbGVBcm4mJih0aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWU9dGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lfHwidGVtcG9yYXJ5LWNyZWRlbnRpYWxzIil9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQubWFzdGVyQ3JlZGVudGlhbHMuZ2V0KChmdW5jdGlvbigpe3Quc2VydmljZS5jb25maWcuY3JlZGVudGlhbHM9dC5tYXN0ZXJDcmVkZW50aWFscywodC5wYXJhbXMuUm9sZUFybj90LnNlcnZpY2UuYXNzdW1lUm9sZTp0LnNlcnZpY2UuZ2V0U2Vzc2lvblRva2VuKS5jYWxsKHQuc2VydmljZSwoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKX0pKX0sbG9hZE1hc3RlckNyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe2Zvcih0aGlzLm1hc3RlckNyZWRlbnRpYWxzPWV8fHIuY29uZmlnLmNyZWRlbnRpYWxzO3RoaXMubWFzdGVyQ3JlZGVudGlhbHMubWFzdGVyQ3JlZGVudGlhbHM7KXRoaXMubWFzdGVyQ3JlZGVudGlhbHM9dGhpcy5tYXN0ZXJDcmVkZW50aWFscy5tYXN0ZXJDcmVkZW50aWFsczsiZnVuY3Rpb24iIT10eXBlb2YgdGhpcy5tYXN0ZXJDcmVkZW50aWFscy5nZXQmJih0aGlzLm1hc3RlckNyZWRlbnRpYWxzPW5ldyByLkNyZWRlbnRpYWxzKHRoaXMubWFzdGVyQ3JlZGVudGlhbHMpKX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3RoaXMuc2VydmljZT10aGlzLnNlcnZpY2V8fG5ldyBvKHtwYXJhbXM6dGhpcy5wYXJhbXN9KX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5XZWJJZGVudGl0eUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lLHRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZT10aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWV8fCJ3ZWItaWRlbnRpdHkiLHRoaXMuZGF0YT1udWxsLHRoaXMuX2NsaWVudENvbmZpZz1yLnV0aWwuY29weSh0fHx7fSl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQuc2VydmljZS5hc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5KChmdW5jdGlvbihuLHIpe3QuZGF0YT1udWxsLG58fCh0LmRhdGE9cix0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCkpLGUobil9KSl9LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXtpZighdGhpcy5zZXJ2aWNlKXt2YXIgZT1yLnV0aWwubWVyZ2Uoe30sdGhpcy5fY2xpZW50Q29uZmlnKTtlLnBhcmFtcz10aGlzLnBhcmFtcyx0aGlzLnNlcnZpY2U9bmV3IG8oZSl9fX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDI3OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciByPWUoIi4vY29yZSIpLG89ZSgiLi91dGlsIiksaT1bIkFXU19FTkFCTEVfRU5EUE9JTlRfRElTQ09WRVJZIiwiQVdTX0VORFBPSU5UX0RJU0NPVkVSWV9FTkFCTEVEIl07ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmFwaXx8e30scj0obi5vcGVyYXRpb25zLHt9KTtyZXR1cm4gdC5jb25maWcucmVnaW9uJiYoci5yZWdpb249dC5jb25maWcucmVnaW9uKSxuLnNlcnZpY2VJZCYmKHIuc2VydmljZUlkPW4uc2VydmljZUlkKSx0LmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCYmKHIuYWNjZXNzS2V5SWQ9dC5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpLHJ9ZnVuY3Rpb24gcyhlLHQsbil7biYmbnVsbCE9dCYmInN0cnVjdHVyZSI9PT1uLnR5cGUmJm4ucmVxdWlyZWQmJm4ucmVxdWlyZWQubGVuZ3RoPjAmJm8uYXJyYXlFYWNoKG4ucmVxdWlyZWQsKGZ1bmN0aW9uKHIpe3ZhciBvPW4ubWVtYmVyc1tyXTtpZighMD09PW8uZW5kcG9pbnREaXNjb3ZlcnlJZCl7dmFyIGk9by5pc0xvY2F0aW9uTmFtZT9vLm5hbWU6cjtlW2ldPVN0cmluZyh0W3JdKX1lbHNlIHMoZSx0W3JdLG8pfSkpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fTtyZXR1cm4gcyhuLGUucGFyYW1zLHQpLG59ZnVuY3Rpb24gdShlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmFwaSxpPW4ub3BlcmF0aW9ucz9uLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dOnZvaWQgMCxzPWMoZSxpP2kuaW5wdXQ6dm9pZCAwKSx1PWEoZSk7T2JqZWN0LmtleXMocykubGVuZ3RoPjAmJih1PW8udXBkYXRlKHUscyksaSYmKHUub3BlcmF0aW9uPWkubmFtZSkpO3ZhciBsPXIuZW5kcG9pbnRDYWNoZS5nZXQodSk7aWYoIWx8fDEhPT1sLmxlbmd0aHx8IiIhPT1sWzBdLkFkZHJlc3MpaWYobCYmbC5sZW5ndGg+MCllLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGxbMF0uQWRkcmVzcyk7ZWxzZXt2YXIgcD10Lm1ha2VSZXF1ZXN0KG4uZW5kcG9pbnRPcGVyYXRpb24se09wZXJhdGlvbjppLm5hbWUsSWRlbnRpZmllcnM6c30pO2QocCkscC5yZW1vdmVMaXN0ZW5lcigidmFsaWRhdGUiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9QQVJBTUVURVJTKSxwLnJlbW92ZUxpc3RlbmVyKCJyZXRyeSIsci5FdmVudExpc3RlbmVycy5Db3JlLlJFVFJZX0NIRUNLKSxyLmVuZHBvaW50Q2FjaGUucHV0KHUsW3tBZGRyZXNzOiIiLENhY2hlUGVyaW9kSW5NaW51dGVzOjF9XSkscC5zZW5kKChmdW5jdGlvbihlLHQpe3QmJnQuRW5kcG9pbnRzP3IuZW5kcG9pbnRDYWNoZS5wdXQodSx0LkVuZHBvaW50cyk6ZSYmci5lbmRwb2ludENhY2hlLnB1dCh1LFt7QWRkcmVzczoiIixDYWNoZVBlcmlvZEluTWludXRlczoxfV0pfSkpfX12YXIgbD17fTtmdW5jdGlvbiBwKGUsdCl7dmFyIG49ZS5zZXJ2aWNlLGk9bi5hcGkscz1pLm9wZXJhdGlvbnM/aS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTp2b2lkIDAsdT1zP3MuaW5wdXQ6dm9pZCAwLHA9YyhlLHUpLGg9YShlKTtPYmplY3Qua2V5cyhwKS5sZW5ndGg+MCYmKGg9by51cGRhdGUoaCxwKSxzJiYoaC5vcGVyYXRpb249cy5uYW1lKSk7dmFyIGY9ci5FbmRwb2ludENhY2hlLmdldEtleVN0cmluZyhoKSxnPXIuZW5kcG9pbnRDYWNoZS5nZXQoZik7aWYoZyYmMT09PWcubGVuZ3RoJiYiIj09PWdbMF0uQWRkcmVzcylyZXR1cm4gbFtmXXx8KGxbZl09W10pLHZvaWQgbFtmXS5wdXNoKHtyZXF1ZXN0OmUsY2FsbGJhY2s6dH0pO2lmKGcmJmcubGVuZ3RoPjApZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChnWzBdLkFkZHJlc3MpLHQoKTtlbHNle3ZhciBtPW4ubWFrZVJlcXVlc3QoaS5lbmRwb2ludE9wZXJhdGlvbix7T3BlcmF0aW9uOnMubmFtZSxJZGVudGlmaWVyczpwfSk7bS5yZW1vdmVMaXN0ZW5lcigidmFsaWRhdGUiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9QQVJBTUVURVJTKSxkKG0pLHIuZW5kcG9pbnRDYWNoZS5wdXQoZixbe0FkZHJlc3M6IiIsQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6NjB9XSksbS5zZW5kKChmdW5jdGlvbihuLGkpe2lmKG4pe2lmKGUucmVzcG9uc2UuZXJyb3I9by5lcnJvcihuLHtyZXRyeWFibGU6ITF9KSxyLmVuZHBvaW50Q2FjaGUucmVtb3ZlKGgpLGxbZl0pe3ZhciBhPWxbZl07by5hcnJheUVhY2goYSwoZnVuY3Rpb24oZSl7ZS5yZXF1ZXN0LnJlc3BvbnNlLmVycm9yPW8uZXJyb3Iobix7cmV0cnlhYmxlOiExfSksZS5jYWxsYmFjaygpfSkpLGRlbGV0ZSBsW2ZdfX1lbHNlIGkmJihyLmVuZHBvaW50Q2FjaGUucHV0KGYsaS5FbmRwb2ludHMpLGUuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoaS5FbmRwb2ludHNbMF0uQWRkcmVzcyksbFtmXSkmJihhPWxbZl0sby5hcnJheUVhY2goYSwoZnVuY3Rpb24oZSl7ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGkuRW5kcG9pbnRzWzBdLkFkZHJlc3MpLGUuY2FsbGJhY2soKX0pKSxkZWxldGUgbFtmXSk7dCgpfSkpfX1mdW5jdGlvbiBkKGUpe3ZhciB0PWUuc2VydmljZS5hcGkuYXBpVmVyc2lvbjt0JiYhZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1hcGktdmVyc2lvbiJdJiYoZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1hcGktdmVyc2lvbiJdPXQpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5lcnJvcixuPWUuaHR0cFJlc3BvbnNlO2lmKHQmJigiSW52YWxpZEVuZHBvaW50RXhjZXB0aW9uIj09PXQuY29kZXx8NDIxPT09bi5zdGF0dXNDb2RlKSl7dmFyIGk9ZS5yZXF1ZXN0LHM9aS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSx1PWMoaSxzW2kub3BlcmF0aW9uXT9zW2kub3BlcmF0aW9uXS5pbnB1dDp2b2lkIDApLGw9YShpKTtPYmplY3Qua2V5cyh1KS5sZW5ndGg+MCYmKGw9by51cGRhdGUobCx1KSxzW2kub3BlcmF0aW9uXSYmKGwub3BlcmF0aW9uPXNbaS5vcGVyYXRpb25dLm5hbWUpKSxyLmVuZHBvaW50Q2FjaGUucmVtb3ZlKGwpfX1mdW5jdGlvbiBmKGUpe3JldHVyblsiZmFsc2UiLCIwIl0uaW5kZXhPZihlKT49MH10LmV4cG9ydHM9e2Rpc2NvdmVyRW5kcG9pbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgYT1lLnNlcnZpY2V8fHt9O2lmKGZ1bmN0aW9uKGUpe2lmKGUuX29yaWdpbmFsQ29uZmlnJiZlLl9vcmlnaW5hbENvbmZpZy5lbmRwb2ludCYmITA9PT1lLl9vcmlnaW5hbENvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQpdGhyb3cgby5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6IkN1c3RvbSBlbmRwb2ludCBpcyBzdXBwbGllZDsgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkIG11c3Qgbm90IGJlIHRydWUuIn0pO3ZhciB0PXIuY29uZmlnW2Uuc2VydmljZUlkZW50aWZpZXJdfHx7fTtyZXR1cm4gQm9vbGVhbihyLmNvbmZpZy5lbmRwb2ludHx8dC5lbmRwb2ludHx8ZS5fb3JpZ2luYWxDb25maWcmJmUuX29yaWdpbmFsQ29uZmlnLmVuZHBvaW50KX0oYSl8fGUuaXNQcmVzaWduZWQoKSlyZXR1cm4gdCgpO3ZhciBzPShhLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dLGM9cz9zLmVuZHBvaW50RGlzY292ZXJ5UmVxdWlyZWQ6Ik5VTEwiLGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlfHx7fTtpZih2b2lkIDAhPT10LmNvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQpcmV0dXJuIHQuY29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDtpZighby5pc0Jyb3dzZXIoKSl7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBzPWlbYV07aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4uZW52LHMpKXtpZigiIj09PW4uZW52W3NdfHx2b2lkIDA9PT1uLmVudltzXSl0aHJvdyBvLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiZW52aXJvbm1lbnRhbCB2YXJpYWJsZSAiK3MrIiBjYW5ub3QgYmUgc2V0IHRvIG5vdGhpbmcifSk7cmV0dXJuIWYobi5lbnZbc10pfX12YXIgYz17fTt0cnl7Yz1yLnV0aWwuaW5pTG9hZGVyP3IudXRpbC5pbmlMb2FkZXIubG9hZEZyb20oe2lzQ29uZmlnOiEwLGZpbGVuYW1lOm4uZW52W3IudXRpbC5zaGFyZWRDb25maWdGaWxlRW52XX0pOnt9fWNhdGNoKGUpe312YXIgdT1jW24uZW52LkFXU19QUk9GSUxFfHxyLnV0aWwuZGVmYXVsdFByb2ZpbGVdfHx7fTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSwiZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQiKSl7aWYodm9pZCAwPT09dS5lbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCl0aHJvdyBvLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiY29uZmlnIGZpbGUgZW50cnkgJ2VuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkJyBjYW5ub3QgYmUgc2V0IHRvIG5vdGhpbmcifSk7cmV0dXJuIWYodS5lbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCl9fX0oZSksZD1hLmFwaS5oYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5O3N3aXRjaCgobHx8ZCkmJmUuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoImVuZHBvaW50LWRpc2NvdmVyeSIpLGMpe2Nhc2UiT1BUSU9OQUwiOihsfHxkKSYmKHUoZSksZS5hZGROYW1lZExpc3RlbmVyKCJJTlZBTElEQVRFX0NBQ0hFRF9FTkRQT0lOVFMiLCJleHRyYWN0RXJyb3IiLGgpKSx0KCk7YnJlYWs7Y2FzZSJSRVFVSVJFRCI6aWYoITE9PT1sKXtlLnJlc3BvbnNlLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJFbmRwb2ludCBEaXNjb3ZlcnkgaXMgZGlzYWJsZWQgYnV0ICIrYS5hcGkuY2xhc3NOYW1lKyIuIitlLm9wZXJhdGlvbisiKCkgcmVxdWlyZXMgaXQuIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb25zLiJ9KSx0KCk7YnJlYWt9ZS5hZGROYW1lZExpc3RlbmVyKCJJTlZBTElEQVRFX0NBQ0hFRF9FTkRQT0lOVFMiLCJleHRyYWN0RXJyb3IiLGgpLHAoZSx0KTticmVhaztkZWZhdWx0OnQoKX19LHJlcXVpcmVkRGlzY292ZXJFbmRwb2ludDpwLG9wdGlvbmFsRGlzY292ZXJFbmRwb2ludDp1LG1hcnNoYWxsQ3VzdG9tSWRlbnRpZmllcnM6YyxnZXRDYWNoZUtleTphLGludmFsaWRhdGVDYWNoZWRFbmRwb2ludDpofX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi91dGlsIjo3NCxfcHJvY2Vzczo5MX1dLDI4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vZXZlbnQtc3RyZWFtL2V2ZW50LW1lc3NhZ2UtY2h1bmtlciIpLmV2ZW50TWVzc2FnZUNodW5rZXIsbz1lKCIuL3BhcnNlLWV2ZW50IikucGFyc2VFdmVudDt0LmV4cG9ydHM9e2NyZWF0ZUV2ZW50U3RyZWFtOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9cihlKSxhPVtdLHM9MDtzPGkubGVuZ3RoO3MrKylhLnB1c2gobyh0LGlbc10sbikpO3JldHVybiBhfX19LHsiLi4vZXZlbnQtc3RyZWFtL2V2ZW50LW1lc3NhZ2UtY2h1bmtlciI6MjksIi4vcGFyc2UtZXZlbnQiOjMxfV0sMjk6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2V2ZW50TWVzc2FnZUNodW5rZXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoOyl7dmFyIHI9ZS5yZWFkSW50MzJCRShuKSxvPWUuc2xpY2UobixyK24pO24rPXIsdC5wdXNoKG8pfXJldHVybiB0fX19LHt9XSwzMDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKS51dGlsLG89ci5idWZmZXIudG9CdWZmZXI7ZnVuY3Rpb24gaShlKXtpZig4IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnQ2NCBidWZmZXJzIG11c3QgYmUgZXhhY3RseSA4IGJ5dGVzIik7ci5CdWZmZXIuaXNCdWZmZXIoZSl8fChlPW8oZSkpLHRoaXMuYnl0ZXM9ZX1mdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD0wO3Q8ODt0KyspZVt0XV49MjU1O2Zvcih0PTc7dD4tMSYmKGVbdF0rKywwPT09ZVt0XSk7dC0tKTt9aS5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUpe2lmKGU+MHg4MDAwMDAwMDAwMDAwMDAwfHxlPC0weDgwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKGUrIiBpcyB0b28gbGFyZ2UgKG9yLCBpZiBuZWdhdGl2ZSwgdG9vIHNtYWxsKSB0byByZXByZXNlbnQgYXMgYW4gSW50NjQiKTtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoOCksbj03LHI9TWF0aC5hYnMoTWF0aC5yb3VuZChlKSk7bj4tMSYmcj4wO24tLSxyLz0yNTYpdFtuXT1yO3JldHVybiBlPDAmJmEodCksbmV3IGkodCl9LGkucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ5dGVzLnNsaWNlKDApLHQ9MTI4JmVbMF07cmV0dXJuIHQmJmEoZSkscGFyc2VJbnQoZS50b1N0cmluZygiaGV4IiksMTYpKih0Py0xOjEpfSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcy52YWx1ZU9mKCkpfSx0LmV4cG9ydHM9e0ludDY0Oml9fSx7Ii4uL2NvcmUiOjE5fV0sMzE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL3BhcnNlLW1lc3NhZ2UiKS5wYXJzZU1lc3NhZ2U7dC5leHBvcnRzPXtwYXJzZUV2ZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yKHQpLGk9by5oZWFkZXJzWyI6bWVzc2FnZS10eXBlIl07aWYoaSl7aWYoImVycm9yIj09PWkudmFsdWUpdGhyb3cgZnVuY3Rpb24oZSl7dmFyIHQ9ZS5oZWFkZXJzWyI6ZXJyb3ItY29kZSJdLG49ZS5oZWFkZXJzWyI6ZXJyb3ItbWVzc2FnZSJdLHI9bmV3IEVycm9yKG4udmFsdWV8fG4pO3JldHVybiByLmNvZGU9ci5uYW1lPXQudmFsdWV8fHQscn0obyk7aWYoImV2ZW50IiE9PWkudmFsdWUpcmV0dXJufXZhciBhPW8uaGVhZGVyc1siOmV2ZW50LXR5cGUiXSxzPW4ubWVtYmVyc1thLnZhbHVlXTtpZihzKXt2YXIgYz17fSx1PXMuZXZlbnRQYXlsb2FkTWVtYmVyTmFtZTtpZih1KXt2YXIgbD1zLm1lbWJlcnNbdV07ImJpbmFyeSI9PT1sLnR5cGU/Y1t1XT1vLmJvZHk6Y1t1XT1lLnBhcnNlKG8uYm9keS50b1N0cmluZygpLGwpfWZvcih2YXIgcD1zLmV2ZW50SGVhZGVyTWVtYmVyTmFtZXMsZD0wO2Q8cC5sZW5ndGg7ZCsrKXt2YXIgaD1wW2RdO28uaGVhZGVyc1toXSYmKGNbaF09cy5tZW1iZXJzW2hdLnRvVHlwZShvLmhlYWRlcnNbaF0udmFsdWUpKX12YXIgZj17fTtyZXR1cm4gZlthLnZhbHVlXT1jLGZ9fX19LHsiLi9wYXJzZS1tZXNzYWdlIjozMn1dLDMyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9pbnQ2NCIpLkludDY0LG89ZSgiLi9zcGxpdC1tZXNzYWdlIikuc3BsaXRNZXNzYWdlLGk9ImJvb2xlYW4iO2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoOyl7dmFyIG89ZS5yZWFkVUludDgobisrKSxhPWUuc2xpY2UobixuK28pLnRvU3RyaW5nKCk7c3dpdGNoKG4rPW8sZS5yZWFkVUludDgobisrKSl7Y2FzZSAwOnRbYV09e3R5cGU6aSx2YWx1ZTohMH07YnJlYWs7Y2FzZSAxOnRbYV09e3R5cGU6aSx2YWx1ZTohMX07YnJlYWs7Y2FzZSAyOnRbYV09e3R5cGU6ImJ5dGUiLHZhbHVlOmUucmVhZEludDgobisrKX07YnJlYWs7Y2FzZSAzOnRbYV09e3R5cGU6InNob3J0Iix2YWx1ZTplLnJlYWRJbnQxNkJFKG4pfSxuKz0yO2JyZWFrO2Nhc2UgNDp0W2FdPXt0eXBlOiJpbnRlZ2VyIix2YWx1ZTplLnJlYWRJbnQzMkJFKG4pfSxuKz00O2JyZWFrO2Nhc2UgNTp0W2FdPXt0eXBlOiJsb25nIix2YWx1ZTpuZXcgcihlLnNsaWNlKG4sbis4KSl9LG4rPTg7YnJlYWs7Y2FzZSA2OnZhciBzPWUucmVhZFVJbnQxNkJFKG4pO24rPTIsdFthXT17dHlwZToiYmluYXJ5Iix2YWx1ZTplLnNsaWNlKG4sbitzKX0sbis9czticmVhaztjYXNlIDc6dmFyIGM9ZS5yZWFkVUludDE2QkUobik7bis9Mix0W2FdPXt0eXBlOiJzdHJpbmciLHZhbHVlOmUuc2xpY2UobixuK2MpLnRvU3RyaW5nKCl9LG4rPWM7YnJlYWs7Y2FzZSA4OnRbYV09e3R5cGU6InRpbWVzdGFtcCIsdmFsdWU6bmV3IERhdGUobmV3IHIoZS5zbGljZShuLG4rOCkpLnZhbHVlT2YoKSl9LG4rPTg7YnJlYWs7Y2FzZSA5OnZhciB1PWUuc2xpY2UobixuKzE2KS50b1N0cmluZygiaGV4Iik7bis9MTYsdFthXT17dHlwZToidXVpZCIsdmFsdWU6dS5zdWJzdHIoMCw4KSsiLSIrdS5zdWJzdHIoOCw0KSsiLSIrdS5zdWJzdHIoMTIsNCkrIi0iK3Uuc3Vic3RyKDE2LDQpKyItIit1LnN1YnN0cigyMCl9O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgaGVhZGVyIHR5cGUgdGFnIil9fXJldHVybiB0fXQuZXhwb3J0cz17cGFyc2VNZXNzYWdlOmZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7cmV0dXJue2hlYWRlcnM6YSh0LmhlYWRlcnMpLGJvZHk6dC5ib2R5fX19fSx7Ii4vaW50NjQiOjMwLCIuL3NwbGl0LW1lc3NhZ2UiOjMzfV0sMzM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIikudXRpbCxvPXIuYnVmZmVyLnRvQnVmZmVyO3QuZXhwb3J0cz17c3BsaXRNZXNzYWdlOmZ1bmN0aW9uKGUpe2lmKHIuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1vKGUpKSxlLmxlbmd0aDwxNil0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVkIG1lc3NhZ2UgdG9vIHNob3J0IHRvIGFjY29tbW9kYXRlIGV2ZW50IHN0cmVhbSBtZXNzYWdlIG92ZXJoZWFkIik7aWYoZS5sZW5ndGghPT1lLnJlYWRVSW50MzJCRSgwKSl0aHJvdyBuZXcgRXJyb3IoIlJlcG9ydGVkIG1lc3NhZ2UgbGVuZ3RoIGRvZXMgbm90IG1hdGNoIHJlY2VpdmVkIG1lc3NhZ2UgbGVuZ3RoIik7dmFyIHQ9ZS5yZWFkVUludDMyQkUoOCk7aWYodCE9PXIuY3J5cHRvLmNyYzMyKGUuc2xpY2UoMCw4KSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJlbHVkZSBjaGVja3N1bSBzcGVjaWZpZWQgaW4gdGhlIG1lc3NhZ2UgKCIrdCsiKSBkb2VzIG5vdCBtYXRjaCB0aGUgY2FsY3VsYXRlZCBDUkMzMiBjaGVja3N1bS4iKTt2YXIgbj1lLnJlYWRVSW50MzJCRShlLmxlbmd0aC00KTtpZihuIT09ci5jcnlwdG8uY3JjMzIoZS5zbGljZSgwLGUubGVuZ3RoLTQpKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBtZXNzYWdlIGNoZWNrc3VtIGRpZCBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHZhbHVlIG9mICIrbik7dmFyIGk9MTIrZS5yZWFkVUludDMyQkUoNCk7cmV0dXJue2hlYWRlcnM6ZS5zbGljZSgxMixpKSxib2R5OmUuc2xpY2UoaSxlLmxlbmd0aC00KX19fX0seyIuLi9jb3JlIjoxOX1dLDM0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciBuPWUoIi4vY29yZSIpLHI9ZSgiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIiksbz1lKCIuL2Rpc2NvdmVyX2VuZHBvaW50IikuZGlzY292ZXJFbmRwb2ludDtmdW5jdGlvbiBpKGUpe2lmKCFlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpcmV0dXJuIiI7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtyZXR1cm4gdD90LmF1dGh0eXBlOiIifWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5zZXJ2aWNlO3JldHVybiB0LmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uP3QuY29uZmlnLnNpZ25hdHVyZVZlcnNpb246dC5hcGkuc2lnbmF0dXJlVmVyc2lvbj90LmFwaS5zaWduYXR1cmVWZXJzaW9uOmkoZSl9bi5FdmVudExpc3RlbmVycz17Q29yZTp7fX0sbi5FdmVudExpc3RlbmVycz17Q29yZToobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlLHIpe3IoIlZBTElEQVRFX0NSRURFTlRJQUxTIiwidmFsaWRhdGUiLChmdW5jdGlvbihlLHQpe2lmKCFlLnNlcnZpY2UuYXBpLnNpZ25hdHVyZVZlcnNpb24mJiFlLnNlcnZpY2UuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24pcmV0dXJuIHQoKTsiYmVhcmVyIiE9PWEoZSk/ZS5zZXJ2aWNlLmNvbmZpZy5nZXRDcmVkZW50aWFscygoZnVuY3Rpb24ocil7ciYmKGUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKHIse2NvZGU6IkNyZWRlbnRpYWxzRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgY3JlZGVudGlhbHMgaW4gY29uZmlnLCBpZiB1c2luZyBBV1NfQ09ORklHX0ZJTEUsIHNldCBBV1NfU0RLX0xPQURfQ09ORklHPTEifSkpLHQoKX0pKTplLnNlcnZpY2UuY29uZmlnLmdldFRva2VuKChmdW5jdGlvbihyKXtyJiYoZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3Iocix7Y29kZToiVG9rZW5FcnJvciJ9KSksdCgpfSkpfSkpLGUoIlZBTElEQVRFX1JFR0lPTiIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSl7aWYoIWUuc2VydmljZS5pc0dsb2JhbEVuZHBvaW50KXt2YXIgdD1uZXcgUmVnRXhwKC9eKFthLXpBLVowLTldfFthLXpBLVowLTldW2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pJC8pO2Uuc2VydmljZS5jb25maWcucmVnaW9uP3QudGVzdChlLnNlcnZpY2UuY29uZmlnLnJlZ2lvbil8fChlLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ0Vycm9yIixtZXNzYWdlOiJJbnZhbGlkIHJlZ2lvbiBpbiBjb25maWcifSkpOmUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyJ9KX19KSksZSgiQlVJTERfSURFTVBPVEVOQ1lfVE9LRU5TIiwidmFsaWRhdGUiLChmdW5jdGlvbihlKXtpZihlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07aWYodCl7dmFyIHI9dC5pZGVtcG90ZW50TWVtYmVycztpZihyLmxlbmd0aCl7Zm9yKHZhciBvPW4udXRpbC5jb3B5KGUucGFyYW1zKSxpPTAsYT1yLmxlbmd0aDtpPGE7aSsrKW9bcltpXV18fChvW3JbaV1dPW4udXRpbC51dWlkLnY0KCkpO2UucGFyYW1zPW99fX19KSksZSgiVkFMSURBVEVfUEFSQU1FVEVSUyIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSl7aWYoZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0LHI9ZS5zZXJ2aWNlLmNvbmZpZy5wYXJhbVZhbGlkYXRpb247bmV3IG4uUGFyYW1WYWxpZGF0b3IocikudmFsaWRhdGUodCxlLnBhcmFtcyl9fSkpLGUoIkNPTVBVVEVfQ0hFQ0tTVU0iLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7aWYoZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO2lmKHQpe3ZhciByPWUuaHR0cFJlcXVlc3QuYm9keSxvPXImJihuLnV0aWwuQnVmZmVyLmlzQnVmZmVyKHIpfHwic3RyaW5nIj09dHlwZW9mIHIpLGk9ZS5odHRwUmVxdWVzdC5oZWFkZXJzO2lmKHQuaHR0cENoZWNrc3VtUmVxdWlyZWQmJmUuc2VydmljZS5jb25maWcuY29tcHV0ZUNoZWNrc3VtcyYmbyYmIWlbIkNvbnRlbnQtTUQ1Il0pe3ZhciBhPW4udXRpbC5jcnlwdG8ubWQ1KHIsImJhc2U2NCIpO2lbIkNvbnRlbnQtTUQ1Il09YX19fX0pKSxyKCJDT01QVVRFX1NIQTI1NiIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlLHQpe2lmKGUuaGFsdEhhbmRsZXJzT25FcnJvcigpLGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHI9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxvPXI/ci5hdXRodHlwZToiIjtpZighZS5zZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uJiYhbyYmIWUuc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbilyZXR1cm4gdCgpO2lmKGUuc2VydmljZS5nZXRTaWduZXJDbGFzcyhlKT09PW4uU2lnbmVycy5WNCl7dmFyIGk9ZS5odHRwUmVxdWVzdC5ib2R5fHwiIjtpZihvLmluZGV4T2YoInVuc2lnbmVkLWJvZHkiKT49MClyZXR1cm4gZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdPSJVTlNJR05FRC1QQVlMT0FEIix0KCk7bi51dGlsLmNvbXB1dGVTaGEyNTYoaSwoZnVuY3Rpb24obixyKXtuP3Qobik6KGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT1yLHQoKSl9KSl9ZWxzZSB0KCl9fSkpLGUoIlNFVF9DT05URU5UX0xFTkdUSCIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXt2YXIgdD1pKGUpLHI9bi51dGlsLmdldFJlcXVlc3RQYXlsb2FkU2hhcGUoZSk7aWYodm9pZCAwPT09ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdKXRyeXt2YXIgbz1uLnV0aWwuc3RyaW5nLmJ5dGVMZW5ndGgoZS5odHRwUmVxdWVzdC5ib2R5KTtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl09b31jYXRjaChuKXtpZihyJiZyLmlzU3RyZWFtaW5nKXtpZihyLnJlcXVpcmVzTGVuZ3RoKXRocm93IG47aWYodC5pbmRleE9mKCJ1bnNpZ25lZC1ib2R5Iik+PTApcmV0dXJuIHZvaWQoZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJUcmFuc2Zlci1FbmNvZGluZyJdPSJjaHVua2VkIik7dGhyb3cgbn10aHJvdyBufX0pKSxlKCJTRVRfSFRUUF9IT1NUIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QuaGVhZGVycy5Ib3N0PWUuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdH0pKSxlKCJTRVRfVFJBQ0VfSUQiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7dmFyIHI9IlgtQW16bi1UcmFjZS1JZCI7aWYobi51dGlsLmlzTm9kZSgpJiYhT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZS5odHRwUmVxdWVzdC5oZWFkZXJzLHIpKXt2YXIgbz10LmVudi5BV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUUsaT10LmVudi5fWF9BTVpOX1RSQUNFX0lEOyJzdHJpbmciPT10eXBlb2YgbyYmby5sZW5ndGg+MCYmInN0cmluZyI9PXR5cGVvZiBpJiZpLmxlbmd0aD4wJiYoZS5odHRwUmVxdWVzdC5oZWFkZXJzW3JdPWkpfX0pKSxlKCJSRVNUQVJUIiwicmVzdGFydCIsKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXNwb25zZS5lcnJvcjtlJiZlLnJldHJ5YWJsZSYmKHRoaXMuaHR0cFJlcXVlc3Q9bmV3IG4uSHR0cFJlcXVlc3QodGhpcy5zZXJ2aWNlLmVuZHBvaW50LHRoaXMuc2VydmljZS5yZWdpb24pLHRoaXMucmVzcG9uc2UucmV0cnlDb3VudDx0aGlzLnNlcnZpY2UuY29uZmlnLm1heFJldHJpZXM/dGhpcy5yZXNwb25zZS5yZXRyeUNvdW50Kys6dGhpcy5yZXNwb25zZS5lcnJvcj1udWxsKX0pKSxyKCJESVNDT1ZFUl9FTkRQT0lOVCIsInNpZ24iLG8sITApLHIoIlNJR04iLCJzaWduIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNlcnZpY2Uscj1hKGUpO2lmKCFyfHwwPT09ci5sZW5ndGgpcmV0dXJuIHQoKTsiYmVhcmVyIj09PXI/bi5jb25maWcuZ2V0VG9rZW4oKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gZS5yZXNwb25zZS5lcnJvcj1yLHQoKTt0cnl7bmV3KG4uZ2V0U2lnbmVyQ2xhc3MoZSkpKGUuaHR0cFJlcXVlc3QpLmFkZEF1dGhvcml6YXRpb24obyl9Y2F0Y2godCl7ZS5yZXNwb25zZS5lcnJvcj10fXQoKX0pKTpuLmNvbmZpZy5nZXRDcmVkZW50aWFscygoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlLnJlc3BvbnNlLmVycm9yPXIsdCgpO3RyeXt2YXIgaT1uLmdldFNrZXdDb3JyZWN0ZWREYXRlKCksYT1uLmdldFNpZ25lckNsYXNzKGUpLHM9KGUuc2VydmljZS5hcGkub3BlcmF0aW9uc3x8e30pW2Uub3BlcmF0aW9uXSxjPW5ldyBhKGUuaHR0cFJlcXVlc3Qsbi5nZXRTaWduaW5nTmFtZShlKSx7c2lnbmF0dXJlQ2FjaGU6bi5jb25maWcuc2lnbmF0dXJlQ2FjaGUsb3BlcmF0aW9uOnMsc2lnbmF0dXJlVmVyc2lvbjpuLmFwaS5zaWduYXR1cmVWZXJzaW9ufSk7Yy5zZXRTZXJ2aWNlQ2xpZW50SWQobi5fY2xpZW50SWQpLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbixkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzLkRhdGUsZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdLGMuYWRkQXV0aG9yaXphdGlvbihvLGkpLGUuc2lnbmVkQXQ9aX1jYXRjaCh0KXtlLnJlc3BvbnNlLmVycm9yPXR9dCgpfSkpfSkpLGUoIlZBTElEQVRFX1JFU1BPTlNFIiwidmFsaWRhdGVSZXNwb25zZSIsKGZ1bmN0aW9uKGUpe3RoaXMuc2VydmljZS5zdWNjZXNzZnVsUmVzcG9uc2UoZSx0aGlzKT8oZS5kYXRhPXt9LGUuZXJyb3I9bnVsbCk6KGUuZGF0YT1udWxsLGUuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiVW5rbm93bkVycm9yIixtZXNzYWdlOiJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLiJ9KSl9KSksZSgiRVJST1IiLCJlcnJvciIsKGZ1bmN0aW9uKGUsdCl7aWYodC5yZXF1ZXN0LnNlcnZpY2UuYXBpLmF3c1F1ZXJ5Q29tcGF0aWJsZSl7dmFyIG49dC5odHRwUmVzcG9uc2UuaGVhZGVycyxyPW4/blsieC1hbXpuLXF1ZXJ5LWVycm9yIl06dm9pZCAwO3ImJnIuaW5jbHVkZXMoIjsiKSYmKHQuZXJyb3IuY29kZT1yLnNwbGl0KCI7IilbMF0pfX0pLCEwKSxyKCJTRU5EIiwic2VuZCIsKGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihyKXtlLmh0dHBSZXNwb25zZS5zdHJlYW09cjt2YXIgbz1lLnJlcXVlc3QuaHR0cFJlcXVlc3Quc3RyZWFtLGk9ZS5yZXF1ZXN0LnNlcnZpY2UsYT1pLmFwaSxzPWUucmVxdWVzdC5vcGVyYXRpb24sYz1hLm9wZXJhdGlvbnNbc118fHt9O3Iub24oImhlYWRlcnMiLChmdW5jdGlvbihvLGEscyl7aWYoZS5yZXF1ZXN0LmVtaXQoImh0dHBIZWFkZXJzIixbbyxhLGUsc10pLCFlLmh0dHBSZXNwb25zZS5zdHJlYW1pbmcpaWYoMj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbil7aWYoYy5oYXNFdmVudE91dHB1dCYmaS5zdWNjZXNzZnVsUmVzcG9uc2UoZSkpcmV0dXJuIGUucmVxdWVzdC5lbWl0KCJodHRwRG9uZSIpLHZvaWQgdCgpO3Iub24oInJlYWRhYmxlIiwoZnVuY3Rpb24oKXt2YXIgdD1yLnJlYWQoKTtudWxsIT09dCYmZS5yZXF1ZXN0LmVtaXQoImh0dHBEYXRhIixbdCxlXSl9KSl9ZWxzZSByLm9uKCJkYXRhIiwoZnVuY3Rpb24odCl7ZS5yZXF1ZXN0LmVtaXQoImh0dHBEYXRhIixbdCxlXSl9KSl9KSksci5vbigiZW5kIiwoZnVuY3Rpb24oKXtpZighb3x8IW8uZGlkQ2FsbGJhY2spe2lmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24mJmMuaGFzRXZlbnRPdXRwdXQmJmkuc3VjY2Vzc2Z1bFJlc3BvbnNlKGUpKXJldHVybjtlLnJlcXVlc3QuZW1pdCgiaHR0cERvbmUiKSx0KCl9fSkpfWZ1bmN0aW9uIG8ocil7aWYoIlJlcXVlc3RBYm9ydGVkRXJyb3IiIT09ci5jb2RlKXt2YXIgbz0iVGltZW91dEVycm9yIj09PXIuY29kZT9yLmNvZGU6Ik5ldHdvcmtpbmdFcnJvciI7cj1uLnV0aWwuZXJyb3Iocix7Y29kZTpvLHJlZ2lvbjplLnJlcXVlc3QuaHR0cFJlcXVlc3QucmVnaW9uLGhvc3RuYW1lOmUucmVxdWVzdC5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxyZXRyeWFibGU6ITB9KX1lLmVycm9yPXIsZS5yZXF1ZXN0LmVtaXQoImh0dHBFcnJvciIsW2UuZXJyb3IsZV0sKGZ1bmN0aW9uKCl7dCgpfSkpfWZ1bmN0aW9uIGkoKXt2YXIgdCxpPW4uSHR0cENsaWVudC5nZXRJbnN0YW5jZSgpLGE9ZS5yZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmh0dHBPcHRpb25zfHx7fTt0cnl7dmFyIHM9aS5oYW5kbGVSZXF1ZXN0KGUucmVxdWVzdC5odHRwUmVxdWVzdCxhLHIsbyk7KHQ9cykub24oInNlbmRQcm9ncmVzcyIsKGZ1bmN0aW9uKHQpe2UucmVxdWVzdC5lbWl0KCJodHRwVXBsb2FkUHJvZ3Jlc3MiLFt0LGVdKX0pKSx0Lm9uKCJyZWNlaXZlUHJvZ3Jlc3MiLChmdW5jdGlvbih0KXtlLnJlcXVlc3QuZW1pdCgiaHR0cERvd25sb2FkUHJvZ3Jlc3MiLFt0LGVdKX0pKX1jYXRjaChlKXtvKGUpfX1lLmh0dHBSZXNwb25zZS5fYWJvcnRDYWxsYmFjaz10LGUuZXJyb3I9bnVsbCxlLmRhdGE9bnVsbCwoZS5yZXF1ZXN0LnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS10aGlzLnNpZ25lZEF0KS8xZTM+PTYwMD90aGlzLmVtaXQoInNpZ24iLFt0aGlzXSwoZnVuY3Rpb24oZSl7ZT90KGUpOmkoKX0pKTppKCl9KSksZSgiSFRUUF9IRUFERVJTIiwiaHR0cEhlYWRlcnMiLChmdW5jdGlvbihlLHQscixvKXtyLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlPWUsci5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZT1vLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnM9dCxyLmh0dHBSZXNwb25zZS5ib2R5PW4udXRpbC5idWZmZXIudG9CdWZmZXIoIiIpLHIuaHR0cFJlc3BvbnNlLmJ1ZmZlcnM9W10sci5odHRwUmVzcG9uc2UubnVtQnl0ZXM9MDt2YXIgaT10LmRhdGV8fHQuRGF0ZSxhPXIucmVxdWVzdC5zZXJ2aWNlO2lmKGkpe3ZhciBzPURhdGUucGFyc2UoaSk7YS5jb25maWcuY29ycmVjdENsb2NrU2tldyYmYS5pc0Nsb2NrU2tld2VkKHMpJiZhLmFwcGx5Q2xvY2tPZmZzZXQocyl9fSkpLGUoIkhUVFBfREFUQSIsImh0dHBEYXRhIiwoZnVuY3Rpb24oZSx0KXtpZihlKXtpZihuLnV0aWwuaXNOb2RlKCkpe3QuaHR0cFJlc3BvbnNlLm51bUJ5dGVzKz1lLmxlbmd0aDt2YXIgcj10Lmh0dHBSZXNwb25zZS5oZWFkZXJzWyJjb250ZW50LWxlbmd0aCJdLG89e2xvYWRlZDp0Lmh0dHBSZXNwb25zZS5udW1CeXRlcyx0b3RhbDpyfTt0LnJlcXVlc3QuZW1pdCgiaHR0cERvd25sb2FkUHJvZ3Jlc3MiLFtvLHRdKX10Lmh0dHBSZXNwb25zZS5idWZmZXJzLnB1c2gobi51dGlsLmJ1ZmZlci50b0J1ZmZlcihlKSl9fSkpLGUoIkhUVFBfRE9ORSIsImh0dHBEb25lIiwoZnVuY3Rpb24oZSl7aWYoZS5odHRwUmVzcG9uc2UuYnVmZmVycyYmZS5odHRwUmVzcG9uc2UuYnVmZmVycy5sZW5ndGg+MCl7dmFyIHQ9bi51dGlsLmJ1ZmZlci5jb25jYXQoZS5odHRwUmVzcG9uc2UuYnVmZmVycyk7ZS5odHRwUmVzcG9uc2UuYm9keT10fWRlbGV0ZSBlLmh0dHBSZXNwb25zZS5udW1CeXRlcyxkZWxldGUgZS5odHRwUmVzcG9uc2UuYnVmZmVyc30pKSxlKCJGSU5BTElaRV9FUlJPUiIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKGUuZXJyb3Iuc3RhdHVzQ29kZT1lLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLHZvaWQgMD09PWUuZXJyb3IucmV0cnlhYmxlJiYoZS5lcnJvci5yZXRyeWFibGU9dGhpcy5zZXJ2aWNlLnJldHJ5YWJsZUVycm9yKGUuZXJyb3IsdGhpcykpKX0pKSxlKCJJTlZBTElEQVRFX0NSRURFTlRJQUxTIiwicmV0cnkiLChmdW5jdGlvbihlKXtpZihlLmVycm9yKXN3aXRjaChlLmVycm9yLmNvZGUpe2Nhc2UiUmVxdWVzdEV4cGlyZWQiOmNhc2UiRXhwaXJlZFRva2VuRXhjZXB0aW9uIjpjYXNlIkV4cGlyZWRUb2tlbiI6ZS5lcnJvci5yZXRyeWFibGU9ITAsZS5yZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmV4cGlyZWQ9ITB9fSkpLGUoIkVYUElSRURfU0lHTkFUVVJFIiwicmV0cnkiLChmdW5jdGlvbihlKXt2YXIgdD1lLmVycm9yO3QmJiJzdHJpbmciPT10eXBlb2YgdC5jb2RlJiYic3RyaW5nIj09dHlwZW9mIHQubWVzc2FnZSYmdC5jb2RlLm1hdGNoKC9TaWduYXR1cmUvKSYmdC5tZXNzYWdlLm1hdGNoKC9leHBpcmVkLykmJihlLmVycm9yLnJldHJ5YWJsZT0hMCl9KSksZSgiQ0xPQ0tfU0tFV0VEIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmVycm9yJiZ0aGlzLnNlcnZpY2UuY2xvY2tTa2V3RXJyb3IoZS5lcnJvcikmJnRoaXMuc2VydmljZS5jb25maWcuY29ycmVjdENsb2NrU2tldyYmKGUuZXJyb3IucmV0cnlhYmxlPSEwKX0pKSxlKCJSRURJUkVDVCIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmZS5lcnJvci5zdGF0dXNDb2RlPj0zMDAmJmUuZXJyb3Iuc3RhdHVzQ29kZTw0MDAmJmUuaHR0cFJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24mJih0aGlzLmh0dHBSZXF1ZXN0LmVuZHBvaW50PW5ldyBuLkVuZHBvaW50KGUuaHR0cFJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24pLHRoaXMuaHR0cFJlcXVlc3QuaGVhZGVycy5Ib3N0PXRoaXMuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdCxlLmVycm9yLnJlZGlyZWN0PSEwLGUuZXJyb3IucmV0cnlhYmxlPSEwKX0pKSxlKCJSRVRSWV9DSEVDSyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmKGUuZXJyb3IucmVkaXJlY3QmJmUucmVkaXJlY3RDb3VudDxlLm1heFJlZGlyZWN0cz9lLmVycm9yLnJldHJ5RGVsYXk9MDplLnJldHJ5Q291bnQ8ZS5tYXhSZXRyaWVzJiYoZS5lcnJvci5yZXRyeURlbGF5PXRoaXMuc2VydmljZS5yZXRyeURlbGF5cyhlLnJldHJ5Q291bnQsZS5lcnJvcil8fDApKX0pKSxyKCJSRVNFVF9SRVRSWV9TVEFURSIsImFmdGVyUmV0cnkiLChmdW5jdGlvbihlLHQpe3ZhciBuLHI9ITE7ZS5lcnJvciYmKG49ZS5lcnJvci5yZXRyeURlbGF5fHwwLGUuZXJyb3IucmV0cnlhYmxlJiZlLnJldHJ5Q291bnQ8ZS5tYXhSZXRyaWVzPyhlLnJldHJ5Q291bnQrKyxyPSEwKTplLmVycm9yLnJlZGlyZWN0JiZlLnJlZGlyZWN0Q291bnQ8ZS5tYXhSZWRpcmVjdHMmJihlLnJlZGlyZWN0Q291bnQrKyxyPSEwKSksciYmbj49MD8oZS5lcnJvcj1udWxsLHNldFRpbWVvdXQodCxuKSk6dCgpfSkpfSkpLENvcmVQb3N0OihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKGUpe2UoIkVYVFJBQ1RfUkVRVUVTVF9JRCIsImV4dHJhY3REYXRhIixuLnV0aWwuZXh0cmFjdFJlcXVlc3RJZCksZSgiRVhUUkFDVF9SRVFVRVNUX0lEIiwiZXh0cmFjdEVycm9yIixuLnV0aWwuZXh0cmFjdFJlcXVlc3RJZCksZSgiRU5PVEZPVU5EX0VSUk9SIiwiaHR0cEVycm9yIiwoZnVuY3Rpb24oZSl7aWYoIk5ldHdvcmtpbmdFcnJvciI9PT1lLmNvZGUmJmZ1bmN0aW9uKGUpe3JldHVybiJFTk9URk9VTkQiPT09ZS5lcnJub3x8Im51bWJlciI9PXR5cGVvZiBlLmVycm5vJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi51dGlsLmdldFN5c3RlbUVycm9yTmFtZSYmWyJFQUlfTk9OQU1FIiwiRUFJX05PREFUQSJdLmluZGV4T2Yobi51dGlsLmdldFN5c3RlbUVycm9yTmFtZShlLmVycm5vKT49MCl9KGUpKXt2YXIgdD0iSW5hY2Nlc3NpYmxlIGhvc3Q6IGAiK2UuaG9zdG5hbWUrIicgYXQgcG9ydCBgIitlLnBvcnQrIicuIFRoaXMgc2VydmljZSBtYXkgbm90IGJlIGF2YWlsYWJsZSBpbiB0aGUgYCIrZS5yZWdpb24rIicgcmVnaW9uLiI7dGhpcy5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yKHQpLHtjb2RlOiJVbmtub3duRW5kcG9pbnQiLHJlZ2lvbjplLnJlZ2lvbixob3N0bmFtZTplLmhvc3RuYW1lLHJldHJ5YWJsZTohMCxvcmlnaW5hbEVycm9yOmV9KX19KSl9KSksTG9nZ2VyOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3QoIkxPR19SRVFVRVNUIiwiY29tcGxldGUiLChmdW5jdGlvbih0KXt2YXIgcj10LnJlcXVlc3Qsbz1yLnNlcnZpY2UuY29uZmlnLmxvZ2dlcjtpZihvKXt2YXIgaT1mdW5jdGlvbigpe3ZhciBpPSh0LnJlcXVlc3Quc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLmdldFRpbWUoKS1yLnN0YXJ0VGltZS5nZXRUaW1lKCkpLzFlMyxzPSEhby5pc1RUWSxjPXQuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsdT1yLnBhcmFtcztyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMmJnIuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyLm9wZXJhdGlvbl0mJnIuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyLm9wZXJhdGlvbl0uaW5wdXQmJih1PWEoci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Iub3BlcmF0aW9uXS5pbnB1dCxyLnBhcmFtcykpO3ZhciBsPWUoInV0aWwiKS5pbnNwZWN0KHUsITAsbnVsbCkscD0iIjtyZXR1cm4gcyYmKHArPSIbWzMzbSIpLHArPSJbQVdTICIrci5zZXJ2aWNlLnNlcnZpY2VJZGVudGlmaWVyKyIgIitjLHArPSIgIitpLnRvU3RyaW5nKCkrInMgIit0LnJldHJ5Q291bnQrIiByZXRyaWVzXSIscyYmKHArPSIbWzA7MW0iKSxwKz0iICIrbi51dGlsLnN0cmluZy5sb3dlckZpcnN0KHIub3BlcmF0aW9uKSxwKz0iKCIrbCsiKSIscyYmKHArPSIbWzBtIikscH0oKTsiZnVuY3Rpb24iPT10eXBlb2Ygby5sb2c/by5sb2coaSk6ImZ1bmN0aW9uIj09dHlwZW9mIG8ud3JpdGUmJm8ud3JpdGUoaSsiXG4iKX1mdW5jdGlvbiBhKGUsdCl7aWYoIXQpcmV0dXJuIHQ7aWYoZS5pc1NlbnNpdGl2ZSlyZXR1cm4iKioqU2Vuc2l0aXZlSW5mb3JtYXRpb24qKioiO3N3aXRjaChlLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjp2YXIgcj17fTtyZXR1cm4gbi51dGlsLmVhY2godCwoZnVuY3Rpb24odCxuKXtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5tZW1iZXJzLHQpP3JbdF09YShlLm1lbWJlcnNbdF0sbik6clt0XT1ufSkpLHI7Y2FzZSJsaXN0Ijp2YXIgbz1bXTtyZXR1cm4gbi51dGlsLmFycmF5RWFjaCh0LChmdW5jdGlvbih0LG4pe28ucHVzaChhKGUubWVtYmVyLHQpKX0pKSxvO2Nhc2UibWFwIjp2YXIgaT17fTtyZXR1cm4gbi51dGlsLmVhY2godCwoZnVuY3Rpb24odCxuKXtpW3RdPWEoZS52YWx1ZSxuKX0pKSxpO2RlZmF1bHQ6cmV0dXJuIHR9fX0pKX0pKSxKc29uOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvanNvbiIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpLFJlc3Q6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9yZXN0Iik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSksUmVzdEpzb246KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9yZXN0X2pzb24iKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKSx0KCJVTlNFVF9DT05URU5UX0xFTkdUSCIsImFmdGVyQnVpbGQiLG4udW5zZXRDb250ZW50TGVuZ3RoKX0pKSxSZXN0WG1sOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcmVzdF94bWwiKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKSxRdWVyeToobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3F1ZXJ5Iik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL2Rpc2NvdmVyX2VuZHBvaW50IjoyNywiLi9wcm90b2NvbC9qc29uIjo0OCwiLi9wcm90b2NvbC9xdWVyeSI6NDksIi4vcHJvdG9jb2wvcmVzdCI6NTAsIi4vcHJvdG9jb2wvcmVzdF9qc29uIjo1MSwiLi9wcm90b2NvbC9yZXN0X3htbCI6NTIsIi4vc2VxdWVudGlhbF9leGVjdXRvciI6NjEsX3Byb2Nlc3M6OTEsdXRpbDo4NX1dLDM1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLkVuZHBvaW50PW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7aWYoci51dGlsLmhpZGVQcm9wZXJ0aWVzKHRoaXMsWyJzbGFzaGVzIiwiYXV0aCIsImhhc2giLCJzZWFyY2giLCJxdWVyeSJdKSxudWxsPT1lKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBlbmRwb2ludDogIitlKTtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHIudXRpbC5jb3B5KGUpO2UubWF0Y2goL15odHRwLyl8fChlPSgodCYmdm9pZCAwIT09dC5zc2xFbmFibGVkP3Quc3NsRW5hYmxlZDpyLmNvbmZpZy5zc2xFbmFibGVkKT8iaHR0cHMiOiJodHRwIikrIjovLyIrZSksci51dGlsLnVwZGF0ZSh0aGlzLHIudXRpbC51cmxQYXJzZShlKSksdGhpcy5wb3J0P3RoaXMucG9ydD1wYXJzZUludCh0aGlzLnBvcnQsMTApOnRoaXMucG9ydD0iaHR0cHM6Ij09PXRoaXMucHJvdG9jb2w/NDQzOjgwfX0pLHIuSHR0cFJlcXVlc3Q9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtlPW5ldyByLkVuZHBvaW50KGUpLHRoaXMubWV0aG9kPSJQT1NUIix0aGlzLnBhdGg9ZS5wYXRofHwiLyIsdGhpcy5oZWFkZXJzPXt9LHRoaXMuYm9keT0iIix0aGlzLmVuZHBvaW50PWUsdGhpcy5yZWdpb249dCx0aGlzLl91c2VyQWdlbnQ9IiIsdGhpcy5zZXRVc2VyQWdlbnQoKX0sc2V0VXNlckFnZW50OmZ1bmN0aW9uKCl7dGhpcy5fdXNlckFnZW50PXRoaXMuaGVhZGVyc1t0aGlzLmdldFVzZXJBZ2VudEhlYWRlck5hbWUoKV09ci51dGlsLnVzZXJBZ2VudCgpfSxnZXRVc2VyQWdlbnRIZWFkZXJOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuKHIudXRpbC5pc0Jyb3dzZXIoKT8iWC1BbXotIjoiIikrIlVzZXItQWdlbnQifSxhcHBlbmRUb1VzZXJBZ2VudDpmdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIGUmJmUmJih0aGlzLl91c2VyQWdlbnQrPSIgIitlKSx0aGlzLmhlYWRlcnNbdGhpcy5nZXRVc2VyQWdlbnRIZWFkZXJOYW1lKCldPXRoaXMuX3VzZXJBZ2VudH0sZ2V0VXNlckFnZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJBZ2VudH0scGF0aG5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnNwbGl0KCI/IiwxKVswXX0sc2VhcmNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXRoLnNwbGl0KCI/IiwyKVsxXTtyZXR1cm4gZT8oZT1yLnV0aWwucXVlcnlTdHJpbmdQYXJzZShlKSxyLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhlKSk6IiJ9LHVwZGF0ZUVuZHBvaW50OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyByLkVuZHBvaW50KGUpO3RoaXMuZW5kcG9pbnQ9dCx0aGlzLnBhdGg9dC5wYXRofHwiLyIsdGhpcy5oZWFkZXJzLkhvc3QmJih0aGlzLmhlYWRlcnMuSG9zdD10Lmhvc3QpfX0pLHIuSHR0cFJlc3BvbnNlPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5zdGF0dXNDb2RlPXZvaWQgMCx0aGlzLmhlYWRlcnM9e30sdGhpcy5ib2R5PXZvaWQgMCx0aGlzLnN0cmVhbWluZz0hMSx0aGlzLnN0cmVhbT1udWxsfSxjcmVhdGVVbmJ1ZmZlcmVkU3RyZWFtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZWFtaW5nPSEwLHRoaXMuc3RyZWFtfX0pLHIuSHR0cENsaWVudD1vKHt9KSxyLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5zaW5nbGV0b24mJih0aGlzLnNpbmdsZXRvbj1uZXcgdGhpcyksdGhpcy5zaW5nbGV0b259fSx7Ii4vY29yZSI6MTl9XSwzNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxpPWUoImV2ZW50cyIpLkV2ZW50RW1pdHRlcjtlKCIuLi9odHRwIiksci5YSFJDbGllbnQ9ci51dGlsLmluaGVyaXQoe2hhbmRsZVJlcXVlc3Q6ZnVuY3Rpb24oZSx0LG4sYSl7dmFyIHM9dGhpcyxjPWUuZW5kcG9pbnQsdT1uZXcgaSxsPWMucHJvdG9jb2wrIi8vIitjLmhvc3RuYW1lOzgwIT09Yy5wb3J0JiY0NDMhPT1jLnBvcnQmJihsKz0iOiIrYy5wb3J0KSxsKz1lLnBhdGg7dmFyIHA9bmV3IFhNTEh0dHBSZXF1ZXN0LGQ9ITE7ZS5zdHJlYW09cCxwLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLChmdW5jdGlvbigpe3RyeXtpZigwPT09cC5zdGF0dXMpcmV0dXJufWNhdGNoKGUpe3JldHVybn10aGlzLnJlYWR5U3RhdGU+PXRoaXMuSEVBREVSU19SRUNFSVZFRCYmIWQmJih1LnN0YXR1c0NvZGU9cC5zdGF0dXMsdS5oZWFkZXJzPXMucGFyc2VIZWFkZXJzKHAuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLHUuZW1pdCgiaGVhZGVycyIsdS5zdGF0dXNDb2RlLHUuaGVhZGVycyxwLnN0YXR1c1RleHQpLGQ9ITApLHRoaXMucmVhZHlTdGF0ZT09PXRoaXMuRE9ORSYmcy5maW5pc2hSZXF1ZXN0KHAsdSl9KSwhMSkscC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLChmdW5jdGlvbihlKXt1LmVtaXQoInNlbmRQcm9ncmVzcyIsZSl9KSkscC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsKGZ1bmN0aW9uKGUpe3UuZW1pdCgicmVjZWl2ZVByb2dyZXNzIixlKX0pLCExKSxwLmFkZEV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLChmdW5jdGlvbigpe2Eoci51dGlsLmVycm9yKG5ldyBFcnJvcigiVGltZW91dCIpLHtjb2RlOiJUaW1lb3V0RXJyb3IifSkpfSksITEpLHAuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbigpe2Eoci51dGlsLmVycm9yKG5ldyBFcnJvcigiTmV0d29yayBGYWlsdXJlIikse2NvZGU6Ik5ldHdvcmtpbmdFcnJvciJ9KSl9KSwhMSkscC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7YShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJSZXF1ZXN0IGFib3J0ZWQiKSx7Y29kZToiUmVxdWVzdEFib3J0ZWRFcnJvciJ9KSl9KSwhMSksbih1KSxwLm9wZW4oZS5tZXRob2QsbCwhMSE9PXQueGhyQXN5bmMpLHIudXRpbC5lYWNoKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXsiQ29udGVudC1MZW5ndGgiIT09ZSYmIlVzZXItQWdlbnQiIT09ZSYmIkhvc3QiIT09ZSYmcC5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSksdC50aW1lb3V0JiYhMSE9PXQueGhyQXN5bmMmJihwLnRpbWVvdXQ9dC50aW1lb3V0KSx0LnhocldpdGhDcmVkZW50aWFscyYmKHAud2l0aENyZWRlbnRpYWxzPSEwKTt0cnl7cC5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIn1jYXRjaChlKXt9dHJ5e2UuYm9keT9wLnNlbmQoZS5ib2R5KTpwLnNlbmQoKX1jYXRjaCh0KXtpZighZS5ib2R5fHwib2JqZWN0IiE9PW8oZS5ib2R5LmJ1ZmZlcikpdGhyb3cgdDtwLnNlbmQoZS5ib2R5LmJ1ZmZlcil9cmV0dXJuIHV9LHBhcnNlSGVhZGVyczpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gci51dGlsLmFycmF5RWFjaChlLnNwbGl0KC9ccj9cbi8pLChmdW5jdGlvbihlKXt2YXIgbj1lLnNwbGl0KCI6IiwxKVswXSxyPWUuc3Vic3RyaW5nKG4ubGVuZ3RoKzIpO24ubGVuZ3RoPjAmJih0W24udG9Mb3dlckNhc2UoKV09cil9KSksdH0sZmluaXNoUmVxdWVzdDpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKCJhcnJheWJ1ZmZlciI9PT1lLnJlc3BvbnNlVHlwZSYmZS5yZXNwb25zZSl7dmFyIG89ZS5yZXNwb25zZTtuPW5ldyByLnV0aWwuQnVmZmVyKG8uYnl0ZUxlbmd0aCk7Zm9yKHZhciBpPW5ldyBVaW50OEFycmF5KG8pLGE9MDthPG4ubGVuZ3RoOysrYSluW2FdPWlbYV19dHJ5e258fCJzdHJpbmciIT10eXBlb2YgZS5yZXNwb25zZVRleHR8fChuPW5ldyByLnV0aWwuQnVmZmVyKGUucmVzcG9uc2VUZXh0KSl9Y2F0Y2goZSl7fW4mJnQuZW1pdCgiZGF0YSIsbiksdC5lbWl0KCJlbmQiKX19KSxyLkh0dHBDbGllbnQucHJvdG90eXBlPXIuWEhSQ2xpZW50LnByb3RvdHlwZSxyLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb249MX0seyIuLi9jb3JlIjoxOSwiLi4vaHR0cCI6MzUsZXZlbnRzOjg3fV0sMzc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUsdCl7aWYodCYmbnVsbCE9ZSlzd2l0Y2godC50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYodC5pc0RvY3VtZW50KXJldHVybiBlO3ZhciBuPXt9O3JldHVybiByLmVhY2goZSwoZnVuY3Rpb24oZSxyKXt2YXIgbz10Lm1lbWJlcnNbZV07aWYobyl7aWYoImJvZHkiIT09by5sb2NhdGlvbilyZXR1cm47dmFyIGE9by5pc0xvY2F0aW9uTmFtZT9vLm5hbWU6ZSxzPWkocixvKTt2b2lkIDAhPT1zJiYoblthXT1zKX19KSksbn0oZSx0KTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIHIuZWFjaChlLChmdW5jdGlvbihlLHIpe3ZhciBvPWkocix0LnZhbHVlKTt2b2lkIDAhPT1vJiYobltlXT1vKX0pKSxufShlLHQpO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49W107cmV0dXJuIHIuYXJyYXlFYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciByPWkoZSx0Lm1lbWJlcik7dm9pZCAwIT09ciYmbi5wdXNoKHIpfSkpLG59KGUsdCk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1dpcmVGb3JtYXQoZSl9KGUsdCl9fW8ucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGkoZSx0KSl9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sMzg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUsdCl7aWYodCYmdm9pZCAwIT09ZSlzd2l0Y2godC50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7aWYodC5pc0RvY3VtZW50KXJldHVybiBlO3ZhciBuPXt9LG89dC5tZW1iZXJzLGE9dC5hcGkmJnQuYXBpLmF3c1F1ZXJ5Q29tcGF0aWJsZTtyZXR1cm4gci5lYWNoKG8sKGZ1bmN0aW9uKHQscil7dmFyIG89ci5pc0xvY2F0aW9uTmFtZT9yLm5hbWU6dDtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIHM9aShlW29dLHIpO3ZvaWQgMCE9PXMmJihuW3RdPXMpfWVsc2UgYSYmci5kZWZhdWx0VmFsdWUmJiJsaXN0Ij09PXIudHlwZSYmKG5bdF09ImZ1bmN0aW9uIj09dHlwZW9mIHIuZGVmYXVsdFZhbHVlP3IuZGVmYXVsdFZhbHVlKCk6ci5kZWZhdWx0VmFsdWUpfSkpLG59fShlLHQpO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXt2YXIgbj17fTtyZXR1cm4gci5lYWNoKGUsKGZ1bmN0aW9uKGUscil7dmFyIG89aShyLHQudmFsdWUpO25bZV09dm9pZCAwPT09bz9udWxsOm99KSksbn19KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXt2YXIgbj1bXTtyZXR1cm4gci5hcnJheUVhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHI9aShlLHQubWVtYmVyKTt2b2lkIDA9PT1yP24ucHVzaChudWxsKTpuLnB1c2gocil9KSksbn19KGUsdCk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1R5cGUoZSl9KGUsdCl9fW8ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoSlNPTi5wYXJzZShlKSx0KX0sdC5leHBvcnRzPW99LHsiLi4vdXRpbCI6NzR9XSwzOTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXt2YXIgbj1bIlRoZSBBV1MgU0RLIGZvciBKYXZhU2NyaXB0ICh2Mikgd2lsbCBlbnRlciBtYWludGVuYW5jZSBtb2RlIiwib24gU2VwdGVtYmVyIDgsIDIwMjQgYW5kIHJlYWNoIGVuZC1vZi1zdXBwb3J0IG9uIFNlcHRlbWJlciA4LCAyMDI1LlxuIiwiUGxlYXNlIG1pZ3JhdGUgeW91ciBjb2RlIHRvIHVzZSBBV1MgU0RLIGZvciBKYXZhU2NyaXB0ICh2MykuIiwiRm9yIG1vcmUgaW5mb3JtYXRpb24sIGNoZWNrIGJsb2cgcG9zdCBhdCBodHRwczovL2EuY28vY1VQbnlpbCJdLmpvaW4oIlxuIik7dC5leHBvcnRzPXtzdXBwcmVzczohMX0sc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmV4cG9ydHMuc3VwcHJlc3N8fHZvaWQgMCE9PWUmJigib2JqZWN0Ij09PW8oZS5lbnYpJiZ2b2lkIDAhPT1lLmVudi5BV1NfRVhFQ1VUSU9OX0VOViYmMD09PWUuZW52LkFXU19FWEVDVVRJT05fRU5WLmluZGV4T2YoIkFXU19MYW1iZGFfIil8fCJvYmplY3QiPT09byhlLmVudikmJnZvaWQgMCE9PWUuZW52LkFXU19TREtfSlNfU1VQUFJFU1NfTUFJTlRFTkFOQ0VfTU9ERV9NRVNTQUdFfHwiZnVuY3Rpb24iPT10eXBlb2YgZS5lbWl0V2FybmluZyYmZS5lbWl0V2FybmluZyhuLHt0eXBlOiJOT1RFIn0pKX0pLDApfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0se19wcm9jZXNzOjkxfV0sNDA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvbGxlY3Rpb24iKSxvPWUoIi4vb3BlcmF0aW9uIiksaT1lKCIuL3NoYXBlIiksYT1lKCIuL3BhZ2luYXRvciIpLHM9ZSgiLi9yZXNvdXJjZV93YWl0ZXIiKSxjPWUoIi4uLy4uL2FwaXMvbWV0YWRhdGEuanNvbiIpLHU9ZSgiLi4vdXRpbCIpLGw9dS5wcm9wZXJ0eSxwPXUubWVtb2l6ZWRQcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2U9ZXx8e30sKHQ9dHx8e30pLmFwaT10aGlzLGUubWV0YWRhdGE9ZS5tZXRhZGF0YXx8e307dmFyIGQ9dC5zZXJ2aWNlSWRlbnRpZmllcjtkZWxldGUgdC5zZXJ2aWNlSWRlbnRpZmllcixsKHRoaXMsImlzQXBpIiwhMCwhMSksbCh0aGlzLCJhcGlWZXJzaW9uIixlLm1ldGFkYXRhLmFwaVZlcnNpb24pLGwodGhpcywiZW5kcG9pbnRQcmVmaXgiLGUubWV0YWRhdGEuZW5kcG9pbnRQcmVmaXgpLGwodGhpcywic2lnbmluZ05hbWUiLGUubWV0YWRhdGEuc2lnbmluZ05hbWUpLGwodGhpcywiZ2xvYmFsRW5kcG9pbnQiLGUubWV0YWRhdGEuZ2xvYmFsRW5kcG9pbnQpLGwodGhpcywic2lnbmF0dXJlVmVyc2lvbiIsZS5tZXRhZGF0YS5zaWduYXR1cmVWZXJzaW9uKSxsKHRoaXMsImpzb25WZXJzaW9uIixlLm1ldGFkYXRhLmpzb25WZXJzaW9uKSxsKHRoaXMsInRhcmdldFByZWZpeCIsZS5tZXRhZGF0YS50YXJnZXRQcmVmaXgpLGwodGhpcywicHJvdG9jb2wiLGUubWV0YWRhdGEucHJvdG9jb2wpLGwodGhpcywidGltZXN0YW1wRm9ybWF0IixlLm1ldGFkYXRhLnRpbWVzdGFtcEZvcm1hdCksbCh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUubWV0YWRhdGEueG1sTmFtZXNwYWNlKSxsKHRoaXMsImFiYnJldmlhdGlvbiIsZS5tZXRhZGF0YS5zZXJ2aWNlQWJicmV2aWF0aW9uKSxsKHRoaXMsImZ1bGxOYW1lIixlLm1ldGFkYXRhLnNlcnZpY2VGdWxsTmFtZSksbCh0aGlzLCJzZXJ2aWNlSWQiLGUubWV0YWRhdGEuc2VydmljZUlkKSxkJiZjW2RdJiZsKHRoaXMsInhtbE5vRGVmYXVsdExpc3RzIixjW2RdLnhtbE5vRGVmYXVsdExpc3RzLCExKSxwKHRoaXMsImNsYXNzTmFtZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5tZXRhZGF0YS5zZXJ2aWNlQWJicmV2aWF0aW9ufHxlLm1ldGFkYXRhLnNlcnZpY2VGdWxsTmFtZTtyZXR1cm4gdD8oIkVsYXN0aWNMb2FkQmFsYW5jaW5nIj09PSh0PXQucmVwbGFjZSgvXkFtYXpvbnxBV1Nccyp8XCguKnxccyt8XFcrL2csIiIpKSYmKHQ9IkVMQiIpLHQpOm51bGx9KSksbCh0aGlzLCJvcGVyYXRpb25zIixuZXcgcihlLm9wZXJhdGlvbnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IG8oZSxuLHQpfSksdS5zdHJpbmcubG93ZXJGaXJzdCwoZnVuY3Rpb24oZSx0KXshMD09PXQuZW5kcG9pbnRvcGVyYXRpb24mJmwobiwiZW5kcG9pbnRPcGVyYXRpb24iLHUuc3RyaW5nLmxvd2VyRmlyc3QoZSkpLHQuZW5kcG9pbnRkaXNjb3ZlcnkmJiFuLmhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3ZlcnkmJmwobiwiaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSIsITA9PT10LmVuZHBvaW50ZGlzY292ZXJ5LnJlcXVpcmVkKX0pKSksbCh0aGlzLCJzaGFwZXMiLG5ldyByKGUuc2hhcGVzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGkuY3JlYXRlKG4sdCl9KSkpLGwodGhpcywicGFnaW5hdG9ycyIsbmV3IHIoZS5wYWdpbmF0b3JzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBhKGUsbix0KX0pKSksbCh0aGlzLCJ3YWl0ZXJzIixuZXcgcihlLndhaXRlcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IHMoZSxuLHQpfSksdS5zdHJpbmcubG93ZXJGaXJzdCkpLHQuZG9jdW1lbnRhdGlvbiYmKGwodGhpcywiZG9jdW1lbnRhdGlvbiIsZS5kb2N1bWVudGF0aW9uKSxsKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLGUuZG9jdW1lbnRhdGlvblVybCkpLGwodGhpcywiYXdzUXVlcnlDb21wYXRpYmxlIixlLm1ldGFkYXRhLmF3c1F1ZXJ5Q29tcGF0aWJsZSl9fSx7Ii4uLy4uL2FwaXMvbWV0YWRhdGEuanNvbiI6NCwiLi4vdXRpbCI6NzQsIi4vY29sbGVjdGlvbiI6NDEsIi4vb3BlcmF0aW9uIjo0MiwiLi9wYWdpbmF0b3IiOjQzLCIuL3Jlc291cmNlX3dhaXRlciI6NDQsIi4vc2hhcGUiOjQ1fV0sNDE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIikubWVtb2l6ZWRQcm9wZXJ0eTtmdW5jdGlvbiBvKGUsdCxuLG8pe3IodGhpcyxvKGUpLChmdW5jdGlvbigpe3JldHVybiBuKGUsdCl9KSl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHZhciBhIGluIHI9cnx8U3RyaW5nLGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsYSkmJihvLmNhbGwodGhpcyxhLGVbYV0sbixyKSxpJiZpKGEsZVthXSkpfX0seyIuLi91dGlsIjo3NH1dLDQyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9zaGFwZSIpLG89ZSgiLi4vdXRpbCIpLGk9by5wcm9wZXJ0eSxhPW8ubWVtb2l6ZWRQcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXM7bj1ufHx7fSxpKHRoaXMsIm5hbWUiLHQubmFtZXx8ZSksaSh0aGlzLCJhcGkiLG4uYXBpLCExKSx0Lmh0dHA9dC5odHRwfHx7fSxpKHRoaXMsImVuZHBvaW50Iix0LmVuZHBvaW50KSxpKHRoaXMsImh0dHBNZXRob2QiLHQuaHR0cC5tZXRob2R8fCJQT1NUIiksaSh0aGlzLCJodHRwUGF0aCIsdC5odHRwLnJlcXVlc3RVcml8fCIvIiksaSh0aGlzLCJhdXRodHlwZSIsdC5hdXRodHlwZXx8IiIpLGkodGhpcywiZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZCIsdC5lbmRwb2ludGRpc2NvdmVyeT90LmVuZHBvaW50ZGlzY292ZXJ5LnJlcXVpcmVkPyJSRVFVSVJFRCI6Ik9QVElPTkFMIjoiTlVMTCIpO3ZhciBzPXQuaHR0cENoZWNrc3VtUmVxdWlyZWR8fHQuaHR0cENoZWNrc3VtJiZ0Lmh0dHBDaGVja3N1bS5yZXF1ZXN0Q2hlY2tzdW1SZXF1aXJlZDtpKHRoaXMsImh0dHBDaGVja3N1bVJlcXVpcmVkIixzLCExKSxhKHRoaXMsImlucHV0IiwoZnVuY3Rpb24oKXtyZXR1cm4gdC5pbnB1dD9yLmNyZWF0ZSh0LmlucHV0LG4pOm5ldyByLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0sbil9KSksYSh0aGlzLCJvdXRwdXQiLChmdW5jdGlvbigpe3JldHVybiB0Lm91dHB1dD9yLmNyZWF0ZSh0Lm91dHB1dCxuKTpuZXcgci5jcmVhdGUoe3R5cGU6InN0cnVjdHVyZSJ9LG4pfSkpLGEodGhpcywiZXJyb3JzIiwoZnVuY3Rpb24oKXt2YXIgZT1bXTtpZighdC5lcnJvcnMpcmV0dXJuIG51bGw7Zm9yKHZhciBvPTA7bzx0LmVycm9ycy5sZW5ndGg7bysrKWUucHVzaChyLmNyZWF0ZSh0LmVycm9yc1tvXSxuKSk7cmV0dXJuIGV9KSksYSh0aGlzLCJwYWdpbmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBuLmFwaS5wYWdpbmF0b3JzW2VdfSkpLG4uZG9jdW1lbnRhdGlvbiYmKGkodGhpcywiZG9jdW1lbnRhdGlvbiIsdC5kb2N1bWVudGF0aW9uKSxpKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLHQuZG9jdW1lbnRhdGlvblVybCkpLGEodGhpcywiaWRlbXBvdGVudE1lbWJlcnMiLChmdW5jdGlvbigpe3ZhciBlPVtdLHQ9by5pbnB1dCxuPXQubWVtYmVycztpZighdC5tZW1iZXJzKXJldHVybiBlO2Zvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJiEwPT09bltyXS5pc0lkZW1wb3RlbnQmJmUucHVzaChyKTtyZXR1cm4gZX0pKSxhKHRoaXMsImhhc0V2ZW50T3V0cHV0IiwoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZW1iZXJzLG49ZS5wYXlsb2FkO2lmKCFlLm1lbWJlcnMpcmV0dXJuITE7aWYobilyZXR1cm4gdFtuXS5pc0V2ZW50U3RyZWFtO2Zvcih2YXIgciBpbiB0KWlmKCF0Lmhhc093blByb3BlcnR5KHIpJiYhMD09PXRbcl0uaXNFdmVudFN0cmVhbSlyZXR1cm4hMDtyZXR1cm4hMX0oby5vdXRwdXQpfSkpfX0seyIuLi91dGlsIjo3NCwiLi9zaGFwZSI6NDV9XSw0MzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKS5wcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyKHRoaXMsImlucHV0VG9rZW4iLHQuaW5wdXRfdG9rZW4pLHIodGhpcywibGltaXRLZXkiLHQubGltaXRfa2V5KSxyKHRoaXMsIm1vcmVSZXN1bHRzIix0Lm1vcmVfcmVzdWx0cykscih0aGlzLCJvdXRwdXRUb2tlbiIsdC5vdXRwdXRfdG9rZW4pLHIodGhpcywicmVzdWx0S2V5Iix0LnJlc3VsdF9rZXkpfX0seyIuLi91dGlsIjo3NH1dLDQ0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ci5wcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe249bnx8e30sbyh0aGlzLCJuYW1lIixlKSxvKHRoaXMsImFwaSIsbi5hcGksITEpLHQub3BlcmF0aW9uJiZvKHRoaXMsIm9wZXJhdGlvbiIsci5zdHJpbmcubG93ZXJGaXJzdCh0Lm9wZXJhdGlvbikpO3ZhciBpPXRoaXM7WyJ0eXBlIiwiZGVzY3JpcHRpb24iLCJkZWxheSIsIm1heEF0dGVtcHRzIiwiYWNjZXB0b3JzIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49dFtlXTtuJiZvKGksZSxuKX0pKX19LHsiLi4vdXRpbCI6NzR9XSw0NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29sbGVjdGlvbiIpLGk9ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIGEoZSx0LG4pe251bGwhPW4mJmkucHJvcGVydHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHMoZSx0KXtlLmNvbnN0cnVjdG9yLnByb3RvdHlwZVt0XXx8aS5tZW1vaXplZFByb3BlcnR5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUsdCxuKXt0PXR8fHt9LGEodGhpcywic2hhcGUiLGUuc2hhcGUpLGEodGhpcywiYXBpIix0LmFwaSwhMSksYSh0aGlzLCJ0eXBlIixlLnR5cGUpLGEodGhpcywiZW51bSIsZS5lbnVtKSxhKHRoaXMsIm1pbiIsZS5taW4pLGEodGhpcywibWF4IixlLm1heCksYSh0aGlzLCJwYXR0ZXJuIixlLnBhdHRlcm4pLGEodGhpcywibG9jYXRpb24iLGUubG9jYXRpb258fHRoaXMubG9jYXRpb258fCJib2R5IiksYSh0aGlzLCJuYW1lIix0aGlzLm5hbWV8fGUueG1sTmFtZXx8ZS5xdWVyeU5hbWV8fGUubG9jYXRpb25OYW1lfHxuKSxhKHRoaXMsImlzU3RyZWFtaW5nIixlLnN0cmVhbWluZ3x8dGhpcy5pc1N0cmVhbWluZ3x8ITEpLGEodGhpcywicmVxdWlyZXNMZW5ndGgiLGUucmVxdWlyZXNMZW5ndGgsITEpLGEodGhpcywiaXNDb21wb3NpdGUiLGUuaXNDb21wb3NpdGV8fCExKSxhKHRoaXMsImlzU2hhcGUiLCEwLCExKSxhKHRoaXMsImlzUXVlcnlOYW1lIixCb29sZWFuKGUucXVlcnlOYW1lKSwhMSksYSh0aGlzLCJpc0xvY2F0aW9uTmFtZSIsQm9vbGVhbihlLmxvY2F0aW9uTmFtZSksITEpLGEodGhpcywiaXNJZGVtcG90ZW50IiwhMD09PWUuaWRlbXBvdGVuY3lUb2tlbiksYSh0aGlzLCJpc0pzb25WYWx1ZSIsITA9PT1lLmpzb252YWx1ZSksYSh0aGlzLCJpc1NlbnNpdGl2ZSIsITA9PT1lLnNlbnNpdGl2ZXx8ZS5wcm90b3R5cGUmJiEwPT09ZS5wcm90b3R5cGUuc2Vuc2l0aXZlKSxhKHRoaXMsImlzRXZlbnRTdHJlYW0iLEJvb2xlYW4oZS5ldmVudHN0cmVhbSksITEpLGEodGhpcywiaXNFdmVudCIsQm9vbGVhbihlLmV2ZW50KSwhMSksYSh0aGlzLCJpc0V2ZW50UGF5bG9hZCIsQm9vbGVhbihlLmV2ZW50cGF5bG9hZCksITEpLGEodGhpcywiaXNFdmVudEhlYWRlciIsQm9vbGVhbihlLmV2ZW50aGVhZGVyKSwhMSksYSh0aGlzLCJpc1RpbWVzdGFtcEZvcm1hdFNldCIsQm9vbGVhbihlLnRpbWVzdGFtcEZvcm1hdCl8fGUucHJvdG90eXBlJiYhMD09PWUucHJvdG90eXBlLmlzVGltZXN0YW1wRm9ybWF0U2V0LCExKSxhKHRoaXMsImVuZHBvaW50RGlzY292ZXJ5SWQiLEJvb2xlYW4oZS5lbmRwb2ludGRpc2NvdmVyeWlkKSwhMSksYSh0aGlzLCJob3N0TGFiZWwiLEJvb2xlYW4oZS5ob3N0TGFiZWwpLCExKSx0LmRvY3VtZW50YXRpb24mJihhKHRoaXMsImRvY3VtZW50YXRpb24iLGUuZG9jdW1lbnRhdGlvbiksYSh0aGlzLCJkb2N1bWVudGF0aW9uVXJsIixlLmRvY3VtZW50YXRpb25VcmwpKSxlLnhtbEF0dHJpYnV0ZSYmYSh0aGlzLCJpc1htbEF0dHJpYnV0ZSIsZS54bWxBdHRyaWJ1dGV8fCExKSxhKHRoaXMsImRlZmF1bHRWYWx1ZSIsbnVsbCksdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6ZX0sdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fWZ1bmN0aW9uIHUoZSl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksYSh0aGlzLCJpc0NvbXBvc2l0ZSIsITApLGUuZmxhdHRlbmVkJiZhKHRoaXMsImZsYXR0ZW5lZCIsZS5mbGF0dGVuZWR8fCExKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49dGhpcyxpPW51bGwsbD0hdGhpcy5pc1NoYXBlO3UuYXBwbHkodGhpcyxhcmd1bWVudHMpLGwmJihhKHRoaXMsImRlZmF1bHRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJue319KSksYSh0aGlzLCJtZW1iZXJzIix7fSksYSh0aGlzLCJtZW1iZXJOYW1lcyIsW10pLGEodGhpcywicmVxdWlyZWQiLFtdKSxhKHRoaXMsImlzUmVxdWlyZWQiLChmdW5jdGlvbigpe3JldHVybiExfSkpLGEodGhpcywiaXNEb2N1bWVudCIsQm9vbGVhbihlLmRvY3VtZW50KSkpLGUubWVtYmVycyYmKGEodGhpcywibWVtYmVycyIsbmV3IHIoZS5tZW1iZXJzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGMuY3JlYXRlKG4sdCxlKX0pKSkscyh0aGlzLCJtZW1iZXJOYW1lcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGUueG1sT3JkZXJ8fE9iamVjdC5rZXlzKGUubWVtYmVycyl9KSksZS5ldmVudCYmKHModGhpcywiZXZlbnRQYXlsb2FkTWVtYmVyTmFtZSIsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW4ubWVtYmVycyx0PW4ubWVtYmVyTmFtZXMscj0wLG89dC5sZW5ndGg7cjxvO3IrKylpZihlW3Rbcl1dLmlzRXZlbnRQYXlsb2FkKXJldHVybiB0W3JdfSkpLHModGhpcywiZXZlbnRIZWFkZXJNZW1iZXJOYW1lcyIsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW4ubWVtYmVycyx0PW4ubWVtYmVyTmFtZXMscj1bXSxvPTAsaT10Lmxlbmd0aDtvPGk7bysrKWVbdFtvXV0uaXNFdmVudEhlYWRlciYmci5wdXNoKHRbb10pO3JldHVybiByfSkpKSksZS5yZXF1aXJlZCYmKGEodGhpcywicmVxdWlyZWQiLGUucmVxdWlyZWQpLGEodGhpcywiaXNSZXF1aXJlZCIsKGZ1bmN0aW9uKHQpe2lmKCFpKXtpPXt9O2Zvcih2YXIgbj0wO248ZS5yZXF1aXJlZC5sZW5ndGg7bisrKWlbZS5yZXF1aXJlZFtuXV09ITB9cmV0dXJuIGlbdF19KSwhMSwhMCkpLGEodGhpcywicmVzdWx0V3JhcHBlciIsZS5yZXN1bHRXcmFwcGVyfHxudWxsKSxlLnBheWxvYWQmJmEodGhpcywicGF5bG9hZCIsZS5wYXlsb2FkKSwic3RyaW5nIj09dHlwZW9mIGUueG1sTmFtZXNwYWNlP2EodGhpcywieG1sTmFtZXNwYWNlVXJpIixlLnhtbE5hbWVzcGFjZSk6Im9iamVjdCI9PT1vKGUueG1sTmFtZXNwYWNlKSYmKGEodGhpcywieG1sTmFtZXNwYWNlUHJlZml4IixlLnhtbE5hbWVzcGFjZS5wcmVmaXgpLGEodGhpcywieG1sTmFtZXNwYWNlVXJpIixlLnhtbE5hbWVzcGFjZS51cmkpKX1mdW5jdGlvbiBwKGUsdCl7dmFyIG49dGhpcyxyPSF0aGlzLmlzU2hhcGU7aWYodS5hcHBseSh0aGlzLGFyZ3VtZW50cyksciYmYSh0aGlzLCJkZWZhdWx0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybltdfSkpLGUubWVtYmVyJiZzKHRoaXMsIm1lbWJlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY3JlYXRlKGUubWVtYmVyLHQpfSkpLHRoaXMuZmxhdHRlbmVkKXt2YXIgbz10aGlzLm5hbWU7cyh0aGlzLCJuYW1lIiwoZnVuY3Rpb24oKXtyZXR1cm4gbi5tZW1iZXIubmFtZXx8b30pKX19ZnVuY3Rpb24gZChlLHQpe3ZhciBuPSF0aGlzLmlzU2hhcGU7dS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbiYmKGEodGhpcywiZGVmYXVsdFZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm57fX0pKSxhKHRoaXMsImtleSIsYy5jcmVhdGUoe3R5cGU6InN0cmluZyJ9LHQpKSxhKHRoaXMsInZhbHVlIixjLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0sdCkpKSxlLmtleSYmcyh0aGlzLCJrZXkiLChmdW5jdGlvbigpe3JldHVybiBjLmNyZWF0ZShlLmtleSx0KX0pKSxlLnZhbHVlJiZzKHRoaXMsInZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm4gYy5jcmVhdGUoZS52YWx1ZSx0KX0pKX1mdW5jdGlvbiBoKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9WyJyZXN0LXhtbCIsInF1ZXJ5IiwiZWMyIl07dGhpcy50b1R5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5hcGkmJmUuaW5kZXhPZih0aGlzLmFwaS5wcm90b2NvbCk+LTE/dHx8IiI6dCx0aGlzLmlzSnNvblZhbHVlP0pTT04ucGFyc2UodCk6dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudG9TdHJpbmc/dC50b1N0cmluZygpOnR9LHRoaXMudG9XaXJlRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzSnNvblZhbHVlP0pTT04uc3RyaW5naWZ5KGUpOmV9fWZ1bmN0aW9uIGYoKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXt2YXIgdD1pLmJhc2U2NC5kZWNvZGUoZSk7aWYodGhpcy5pc1NlbnNpdGl2ZSYmaS5pc05vZGUoKSYmImZ1bmN0aW9uIj09dHlwZW9mIGkuQnVmZmVyLmFsbG9jKXt2YXIgbj1pLkJ1ZmZlci5hbGxvYyh0Lmxlbmd0aCx0KTt0LmZpbGwoMCksdD1ufXJldHVybiB0fSx0aGlzLnRvV2lyZUZvcm1hdD1pLmJhc2U2NC5lbmNvZGV9ZnVuY3Rpb24gZygpe2YuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG0oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U6bnVsbD09ZT9udWxsOiJ0cnVlIj09PWV9fWMubm9ybWFsaXplZFR5cGVzPXtjaGFyYWN0ZXI6InN0cmluZyIsZG91YmxlOiJmbG9hdCIsbG9uZzoiaW50ZWdlciIsc2hvcnQ6ImludGVnZXIiLGJpZ2ludGVnZXI6ImludGVnZXIiLGJpZ2RlY2ltYWw6ImZsb2F0IixibG9iOiJiaW5hcnkifSxjLnR5cGVzPXtzdHJ1Y3R1cmU6bCxsaXN0OnAsbWFwOmQsYm9vbGVhbjptLHRpbWVzdGFtcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGMuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudGltZXN0YW1wRm9ybWF0KWEodGhpcywidGltZXN0YW1wRm9ybWF0IixlLnRpbWVzdGFtcEZvcm1hdCk7ZWxzZSBpZih0LmlzVGltZXN0YW1wRm9ybWF0U2V0JiZ0aGlzLnRpbWVzdGFtcEZvcm1hdClhKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsdGhpcy50aW1lc3RhbXBGb3JtYXQpO2Vsc2UgaWYoImhlYWRlciI9PT10aGlzLmxvY2F0aW9uKWEodGhpcywidGltZXN0YW1wRm9ybWF0IiwicmZjODIyIik7ZWxzZSBpZigicXVlcnlzdHJpbmciPT09dGhpcy5sb2NhdGlvbilhKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsImlzbzg2MDEiKTtlbHNlIGlmKHRoaXMuYXBpKXN3aXRjaCh0aGlzLmFwaS5wcm90b2NvbCl7Y2FzZSJqc29uIjpjYXNlInJlc3QtanNvbiI6YSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJ1bml4VGltZXN0YW1wIik7YnJlYWs7Y2FzZSJyZXN0LXhtbCI6Y2FzZSJxdWVyeSI6Y2FzZSJlYzIiOmEodGhpcywidGltZXN0YW1wRm9ybWF0IiwiaXNvODYwMSIpfXRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6ImZ1bmN0aW9uIj09dHlwZW9mIGUudG9VVENTdHJpbmc/ZToic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZT9pLmRhdGUucGFyc2VUaW1lc3RhbXAoZSk6bnVsbH0sdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGF0ZS5mb3JtYXQoZSx0LnRpbWVzdGFtcEZvcm1hdCl9fSxmbG9hdDpmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6cGFyc2VGbG9hdChlKX0sdGhpcy50b1dpcmVGb3JtYXQ9dGhpcy50b1R5cGV9LGludGVnZXI6ZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9udWxsOnBhcnNlSW50KGUsMTApfSx0aGlzLnRvV2lyZUZvcm1hdD10aGlzLnRvVHlwZX0sc3RyaW5nOmgsYmFzZTY0OmcsYmluYXJ5OmZ9LGMucmVzb2x2ZT1mdW5jdGlvbihlLHQpe2lmKGUuc2hhcGUpe3ZhciBuPXQuYXBpLnNoYXBlc1tlLnNoYXBlXTtpZighbil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHNoYXBlIHJlZmVyZW5jZTogIitlLnNoYXBlKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH0sYy5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNTaGFwZSlyZXR1cm4gZTt2YXIgcj1jLnJlc29sdmUoZSx0KTtpZihyKXt2YXIgbz1PYmplY3Qua2V5cyhlKTt0LmRvY3VtZW50YXRpb258fChvPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5tYXRjaCgvZG9jdW1lbnRhdGlvbi8pfSkpKTt2YXIgaT1mdW5jdGlvbigpe3IuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUsdCxuKX07cmV0dXJuIGkucHJvdG90eXBlPXIsbmV3IGl9ZS50eXBlfHwoZS5tZW1iZXJzP2UudHlwZT0ic3RydWN0dXJlIjplLm1lbWJlcj9lLnR5cGU9Imxpc3QiOmUua2V5P2UudHlwZT0ibWFwIjplLnR5cGU9InN0cmluZyIpO3ZhciBhPWUudHlwZTtpZihjLm5vcm1hbGl6ZWRUeXBlc1tlLnR5cGVdJiYoZS50eXBlPWMubm9ybWFsaXplZFR5cGVzW2UudHlwZV0pLGMudHlwZXNbZS50eXBlXSlyZXR1cm4gbmV3IGMudHlwZXNbZS50eXBlXShlLHQsbik7dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgc2hhcGUgdHlwZTogIithKX0sYy5zaGFwZXM9e1N0cnVjdHVyZVNoYXBlOmwsTGlzdFNoYXBlOnAsTWFwU2hhcGU6ZCxTdHJpbmdTaGFwZTpoLEJvb2xlYW5TaGFwZTptLEJhc2U2NFNoYXBlOmd9LHQuZXhwb3J0cz1jfSx7Ii4uL3V0aWwiOjc0LCIuL2NvbGxlY3Rpb24iOjQxfV0sNDY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLlBhcmFtVmFsaWRhdG9yPXIudXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXshMCE9PWUmJnZvaWQgMCE9PWV8fChlPXttaW46ITB9KSx0aGlzLnZhbGlkYXRpb249ZX0sdmFsaWRhdGU6ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMuZXJyb3JzPVtdLHRoaXMudmFsaWRhdGVNZW1iZXIoZSx0fHx7fSxufHwicGFyYW1zIiksdGhpcy5lcnJvcnMubGVuZ3RoPjEpe3ZhciBvPXRoaXMuZXJyb3JzLmpvaW4oIlxuKiAiKTt0aHJvdyBvPSJUaGVyZSB3ZXJlICIrdGhpcy5lcnJvcnMubGVuZ3RoKyIgdmFsaWRhdGlvbiBlcnJvcnM6XG4qICIrbyxyLnV0aWwuZXJyb3IobmV3IEVycm9yKG8pLHtjb2RlOiJNdWx0aXBsZVZhbGlkYXRpb25FcnJvcnMiLGVycm9yczp0aGlzLmVycm9yc30pfWlmKDE9PT10aGlzLmVycm9ycy5sZW5ndGgpdGhyb3cgdGhpcy5lcnJvcnNbMF07cmV0dXJuITB9LGZhaWw6ZnVuY3Rpb24oZSx0KXt0aGlzLmVycm9ycy5wdXNoKHIudXRpbC5lcnJvcihuZXcgRXJyb3IodCkse2NvZGU6ZX0pKX0sdmFsaWRhdGVTdHJ1Y3R1cmU6ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNEb2N1bWVudClyZXR1cm4hMDt2YXIgcjt0aGlzLnZhbGlkYXRlVHlwZSh0LG4sWyJvYmplY3QiXSwic3RydWN0dXJlIik7Zm9yKHZhciBvPTA7ZS5yZXF1aXJlZCYmbzxlLnJlcXVpcmVkLmxlbmd0aDtvKyspe3ZhciBpPXRbcj1lLnJlcXVpcmVkW29dXTtudWxsPT1pJiZ0aGlzLmZhaWwoIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlciIsIk1pc3NpbmcgcmVxdWlyZWQga2V5ICciK3IrIicgaW4gIituKX1mb3IociBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpKXt2YXIgYT10W3JdLHM9ZS5tZW1iZXJzW3JdO2lmKHZvaWQgMCE9PXMpe3ZhciBjPVtuLHJdLmpvaW4oIi4iKTt0aGlzLnZhbGlkYXRlTWVtYmVyKHMsYSxjKX1lbHNlIG51bGwhPWEmJnRoaXMuZmFpbCgiVW5leHBlY3RlZFBhcmFtZXRlciIsIlVuZXhwZWN0ZWQga2V5ICciK3IrIicgZm91bmQgaW4gIituKX1yZXR1cm4hMH0sdmFsaWRhdGVNZW1iZXI6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChlLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cnVjdHVyZShlLHQsbik7Y2FzZSJsaXN0IjpyZXR1cm4gdGhpcy52YWxpZGF0ZUxpc3QoZSx0LG4pO2Nhc2UibWFwIjpyZXR1cm4gdGhpcy52YWxpZGF0ZU1hcChlLHQsbik7ZGVmYXVsdDpyZXR1cm4gdGhpcy52YWxpZGF0ZVNjYWxhcihlLHQsbil9fSx2YWxpZGF0ZUxpc3Q6ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmFsaWRhdGVUeXBlKHQsbixbQXJyYXldKSl7dGhpcy52YWxpZGF0ZVJhbmdlKGUsdC5sZW5ndGgsbiwibGlzdCBtZW1iZXIgY291bnQiKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLnZhbGlkYXRlTWVtYmVyKGUubWVtYmVyLHRbcl0sbisiWyIrcisiXSIpfX0sdmFsaWRhdGVNYXA6ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmFsaWRhdGVUeXBlKHQsbixbIm9iamVjdCJdLCJtYXAiKSl7dmFyIHI9MDtmb3IodmFyIG8gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKHRoaXMudmFsaWRhdGVNZW1iZXIoZS5rZXksbyxuKyJba2V5PSciK28rIiddIiksdGhpcy52YWxpZGF0ZU1lbWJlcihlLnZhbHVlLHRbb10sbisiWyciK28rIiddIikscisrKTt0aGlzLnZhbGlkYXRlUmFuZ2UoZSxyLG4sIm1hcCBtZW1iZXIgY291bnQiKX19LHZhbGlkYXRlU2NhbGFyOmZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2goZS50eXBlKXtjYXNlIG51bGw6Y2FzZSB2b2lkIDA6Y2FzZSJzdHJpbmciOnJldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nKGUsdCxuKTtjYXNlImJhc2U2NCI6Y2FzZSJiaW5hcnkiOnJldHVybiB0aGlzLnZhbGlkYXRlUGF5bG9hZCh0LG4pO2Nhc2UiaW50ZWdlciI6Y2FzZSJmbG9hdCI6cmV0dXJuIHRoaXMudmFsaWRhdGVOdW1iZXIoZSx0LG4pO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIHRoaXMudmFsaWRhdGVUeXBlKHQsbixbImJvb2xlYW4iXSk7Y2FzZSJ0aW1lc3RhbXAiOnJldHVybiB0aGlzLnZhbGlkYXRlVHlwZSh0LG4sW0RhdGUsL15cZHs0fS1cZHsyfS1cZHsyfVRcZHsyfTpcZHsyfTpcZHsyfShcLlxkKyk/WiQvLCJudW1iZXIiXSwiRGF0ZSBvYmplY3QsIElTTy04NjAxIHN0cmluZywgb3IgYSBVTklYIHRpbWVzdGFtcCIpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZmFpbCgiVW5rb3duVHlwZSIsIlVuaGFuZGxlZCB0eXBlICIrZS50eXBlKyIgZm9yICIrbil9fSx2YWxpZGF0ZVN0cmluZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9WyJzdHJpbmciXTtlLmlzSnNvblZhbHVlJiYocj1yLmNvbmNhdChbIm51bWJlciIsIm9iamVjdCIsImJvb2xlYW4iXSkpLG51bGwhPT10JiZ0aGlzLnZhbGlkYXRlVHlwZSh0LG4scikmJih0aGlzLnZhbGlkYXRlRW51bShlLHQsbiksdGhpcy52YWxpZGF0ZVJhbmdlKGUsdC5sZW5ndGgsbiwic3RyaW5nIGxlbmd0aCIpLHRoaXMudmFsaWRhdGVQYXR0ZXJuKGUsdCxuKSx0aGlzLnZhbGlkYXRlVXJpKGUsdCxuKSl9LHZhbGlkYXRlVXJpOmZ1bmN0aW9uKGUsdCxuKXsidXJpIj09PWUubG9jYXRpb24mJjA9PT10Lmxlbmd0aCYmdGhpcy5mYWlsKCJVcmlQYXJhbWV0ZXJFcnJvciIsJ0V4cGVjdGVkIHVyaSBwYXJhbWV0ZXIgdG8gaGF2ZSBsZW5ndGggPj0gMSwgYnV0IGZvdW5kICInK3QrJyIgZm9yICcrbil9LHZhbGlkYXRlUGF0dGVybjpmdW5jdGlvbihlLHQsbil7dGhpcy52YWxpZGF0aW9uLnBhdHRlcm4mJnZvaWQgMCE9PWUucGF0dGVybiYmKG5ldyBSZWdFeHAoZS5wYXR0ZXJuKS50ZXN0KHQpfHx0aGlzLmZhaWwoIlBhdHRlcm5NYXRjaEVycm9yIiwnUHJvdmlkZWQgdmFsdWUgIicrdCsnIiBkb2VzIG5vdCBtYXRjaCByZWdleCBwYXR0ZXJuIC8nK2UucGF0dGVybisiLyBmb3IgIituKSl9LHZhbGlkYXRlUmFuZ2U6ZnVuY3Rpb24oZSx0LG4scil7dGhpcy52YWxpZGF0aW9uLm1pbiYmdm9pZCAwIT09ZS5taW4mJnQ8ZS5taW4mJnRoaXMuZmFpbCgiTWluUmFuZ2VFcnJvciIsIkV4cGVjdGVkICIrcisiID49ICIrZS5taW4rIiwgYnV0IGZvdW5kICIrdCsiIGZvciAiK24pLHRoaXMudmFsaWRhdGlvbi5tYXgmJnZvaWQgMCE9PWUubWF4JiZ0PmUubWF4JiZ0aGlzLmZhaWwoIk1heFJhbmdlRXJyb3IiLCJFeHBlY3RlZCAiK3IrIiA8PSAiK2UubWF4KyIsIGJ1dCBmb3VuZCAiK3QrIiBmb3IgIituKX0sdmFsaWRhdGVFbnVtOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbGlkYXRpb24uZW51bSYmdm9pZCAwIT09ZS5lbnVtJiYtMT09PWUuZW51bS5pbmRleE9mKHQpJiZ0aGlzLmZhaWwoIkVudW1FcnJvciIsIkZvdW5kIHN0cmluZyB2YWx1ZSBvZiAiK3QrIiwgYnV0IGV4cGVjdGVkICIrZS5lbnVtLmpvaW4oInwiKSsiIGZvciAiK24pfSx2YWxpZGF0ZVR5cGU6ZnVuY3Rpb24oZSx0LG4saSl7aWYobnVsbD09ZSlyZXR1cm4hMTtmb3IodmFyIGE9ITEscz0wO3M8bi5sZW5ndGg7cysrKXtpZigic3RyaW5nIj09dHlwZW9mIG5bc10pe2lmKG8oZSk9PT1uW3NdKXJldHVybiEwfWVsc2UgaWYobltzXWluc3RhbmNlb2YgUmVnRXhwKXtpZigoZXx8IiIpLnRvU3RyaW5nKCkubWF0Y2gobltzXSkpcmV0dXJuITB9ZWxzZXtpZihlIGluc3RhbmNlb2YgbltzXSlyZXR1cm4hMDtpZihyLnV0aWwuaXNUeXBlKGUsbltzXSkpcmV0dXJuITA7aXx8YXx8KG49bi5zbGljZSgpKSxuW3NdPXIudXRpbC50eXBlTmFtZShuW3NdKX1hPSEwfXZhciBjPWk7Y3x8KGM9bi5qb2luKCIsICIpLnJlcGxhY2UoLywoW14sXSspJC8sIiwgb3IkMSIpKTt2YXIgdT1jLm1hdGNoKC9eW2FlaW91XS9pKT8ibiI6IiI7cmV0dXJuIHRoaXMuZmFpbCgiSW52YWxpZFBhcmFtZXRlclR5cGUiLCJFeHBlY3RlZCAiK3QrIiB0byBiZSBhIit1KyIgIitjKSwhMX0sdmFsaWRhdGVOdW1iZXI6ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGwhPXQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIHI9cGFyc2VGbG9hdCh0KTtyLnRvU3RyaW5nKCk9PT10JiYodD1yKX10aGlzLnZhbGlkYXRlVHlwZSh0LG4sWyJudW1iZXIiXSkmJnRoaXMudmFsaWRhdGVSYW5nZShlLHQsbiwibnVtZXJpYyB2YWx1ZSIpfX0sdmFsaWRhdGVQYXlsb2FkOmZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSYmInN0cmluZyIhPXR5cGVvZiBlJiYoIWV8fCJudW1iZXIiIT10eXBlb2YgZS5ieXRlTGVuZ3RoKSl7aWYoci51dGlsLmlzTm9kZSgpKXt2YXIgbj1yLnV0aWwuc3RyZWFtLlN0cmVhbTtpZihyLnV0aWwuQnVmZmVyLmlzQnVmZmVyKGUpfHxlIGluc3RhbmNlb2YgbilyZXR1cm59ZWxzZSBpZih2b2lkIDAhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiBCbG9iPyJ1bmRlZmluZWQiOm8oQmxvYikpJiZlIGluc3RhbmNlb2YgQmxvYilyZXR1cm47dmFyIGk9WyJCdWZmZXIiLCJTdHJlYW0iLCJGaWxlIiwiQmxvYiIsIkFycmF5QnVmZmVyIiwiRGF0YVZpZXciXTtpZihlKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXtpZihyLnV0aWwuaXNUeXBlKGUsaVthXSkpcmV0dXJuO2lmKHIudXRpbC50eXBlTmFtZShlLmNvbnN0cnVjdG9yKT09PWlbYV0pcmV0dXJufXRoaXMuZmFpbCgiSW52YWxpZFBhcmFtZXRlclR5cGUiLCJFeHBlY3RlZCAiK3QrIiB0byBiZSBhIHN0cmluZywgQnVmZmVyLCBTdHJlYW0sIEJsb2IsIG9yIHR5cGVkIGFycmF5IG9iamVjdCIpfX19KX0seyIuL2NvcmUiOjE5fV0sNDc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuLi9jb3JlIik7dC5leHBvcnRzPXtwb3B1bGF0ZUhvc3RQcmVmaXg6ZnVuY3Rpb24oZSl7aWYoIWUuc2VydmljZS5jb25maWcuaG9zdFByZWZpeEVuYWJsZWQpcmV0dXJuIGU7dmFyIHQsbixpLGEscyxjPWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07aWYoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaSxuPXQub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbz10LmVuZHBvaW50T3BlcmF0aW9uJiZ0LmVuZHBvaW50T3BlcmF0aW9uPT09ci5zdHJpbmcubG93ZXJGaXJzdChuLm5hbWUpO3JldHVybiJOVUxMIiE9PW4uZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZHx8ITA9PT1vfShlKSlyZXR1cm4gZTtpZihjLmVuZHBvaW50JiZjLmVuZHBvaW50Lmhvc3RQcmVmaXgpe3ZhciB1PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24obixvKXtpZighMD09PW8uaG9zdExhYmVsKXtpZigic3RyaW5nIiE9dHlwZW9mIHRbbl18fCIiPT09dFtuXSl0aHJvdyByLmVycm9yKG5ldyBFcnJvcix7bWVzc2FnZToiUGFyYW1ldGVyICIrbisiIHNob3VsZCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuIixjb2RlOiJJbnZhbGlkUGFyYW1ldGVyIn0pO3ZhciBpPW5ldyBSZWdFeHAoIlxceyIrbisiXFx9IiwiZyIpO2U9ZS5yZXBsYWNlKGksdFtuXSl9fSkpLGV9KGMuZW5kcG9pbnQuaG9zdFByZWZpeCxlLnBhcmFtcyxjLmlucHV0KTthPWUuaHR0cFJlcXVlc3QuZW5kcG9pbnQscz11LGEuaG9zdCYmKGEuaG9zdD1zK2EuaG9zdCksYS5ob3N0bmFtZSYmKGEuaG9zdG5hbWU9cythLmhvc3RuYW1lKSx0PWUuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUsbj10LnNwbGl0KCIuIiksaT0vXlthLXpBLVowLTldezF9JHxeW2EtekEtWjAtOV1bYS16QS1aMC05XC1dKlthLXpBLVowLTldJC8sci5hcnJheUVhY2gobiwoZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RofHxlLmxlbmd0aDwxfHxlLmxlbmd0aD42Myl0aHJvdyByLmVycm9yKG5ldyBFcnJvcix7Y29kZToiVmFsaWRhdGlvbkVycm9yIixtZXNzYWdlOiJIb3N0bmFtZSBsYWJlbCBsZW5ndGggc2hvdWxkIGJlIGJldHdlZW4gMSB0byA2MyBjaGFyYWN0ZXJzLCBpbmNsdXNpdmUuIn0pO2lmKCFpLnRlc3QoZSkpdGhyb3cgby51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiVmFsaWRhdGlvbkVycm9yIixtZXNzYWdlOmUrIiBpcyBub3QgaG9zdG5hbWUgY29tcGF0aWJsZS4ifSl9KSl9cmV0dXJuIGV9fX0seyIuLi9jb3JlIjoxOSwiLi4vdXRpbCI6NzR9XSw0ODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL2pzb24vYnVpbGRlciIpLGk9ZSgiLi4vanNvbi9wYXJzZXIiKSxhPWUoIi4vaGVscGVycyIpLnBvcHVsYXRlSG9zdFByZWZpeDt0LmV4cG9ydHM9e2J1aWxkUmVxdWVzdDpmdW5jdGlvbihlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LG49ZS5zZXJ2aWNlLmFwaSxyPW4udGFyZ2V0UHJlZml4KyIuIituLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLm5hbWUsaT1uLmpzb25WZXJzaW9ufHwiMS4wIixzPW4ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQsYz1uZXcgbzsxPT09aSYmKGk9IjEuMCIpLG4uYXdzUXVlcnlDb21wYXRpYmxlJiYodC5wYXJhbXN8fCh0LnBhcmFtcz17fSksT2JqZWN0LmFzc2lnbih0LnBhcmFtcyxlLnBhcmFtcykpLHQuYm9keT1jLmJ1aWxkKGUucGFyYW1zfHx7fSxzKSx0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LWFtei1qc29uLSIraSx0LmhlYWRlcnNbIlgtQW16LVRhcmdldCJdPXIsYShlKX0sZXh0cmFjdEVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49ZS5odHRwUmVzcG9uc2U7aWYodC5jb2RlPW4uaGVhZGVyc1sieC1hbXpuLWVycm9ydHlwZSJdfHwiVW5rbm93bkVycm9yIiwic3RyaW5nIj09dHlwZW9mIHQuY29kZSYmKHQuY29kZT10LmNvZGUuc3BsaXQoIjoiKVswXSksbi5ib2R5Lmxlbmd0aD4wKXRyeXt2YXIgbz1KU09OLnBhcnNlKG4uYm9keS50b1N0cmluZygpKSxpPW8uX190eXBlfHxvLmNvZGV8fG8uQ29kZTtmb3IodmFyIGEgaW4gaSYmKHQuY29kZT1pLnNwbGl0KCIjIikucG9wKCkpLCJSZXF1ZXN0RW50aXR5VG9vTGFyZ2UiPT09dC5jb2RlP3QubWVzc2FnZT0iUmVxdWVzdCBib2R5IG11c3QgYmUgbGVzcyB0aGFuIDEgTUIiOnQubWVzc2FnZT1vLm1lc3NhZ2V8fG8uTWVzc2FnZXx8bnVsbCxvfHx7fSkiY29kZSIhPT1hJiYibWVzc2FnZSIhPT1hJiYodFsiWyIrYSsiXSJdPSJTZWUgZXJyb3IuIithKyIgZm9yIGRldGFpbHMuIixPYmplY3QuZGVmaW5lUHJvcGVydHkodCxhLHt2YWx1ZTpvW2FdLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KSl9Y2F0Y2gobyl7dC5zdGF0dXNDb2RlPW4uc3RhdHVzQ29kZSx0Lm1lc3NhZ2U9bi5zdGF0dXNNZXNzYWdlfWVsc2UgdC5zdGF0dXNDb2RlPW4uc3RhdHVzQ29kZSx0Lm1lc3NhZ2U9bi5zdGF0dXNDb2RlLnRvU3RyaW5nKCk7ZS5lcnJvcj1yLmVycm9yKG5ldyBFcnJvcix0KX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5odHRwUmVzcG9uc2UuYm9keS50b1N0cmluZygpfHwie30iO2lmKCExPT09ZS5yZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmNvbnZlcnRSZXNwb25zZVR5cGVzKWUuZGF0YT1KU09OLnBhcnNlKHQpO2Vsc2V7dmFyIG49ZS5yZXF1ZXN0LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5yZXF1ZXN0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fSxyPW5ldyBpO2UuZGF0YT1yLnBhcnNlKHQsbil9fX19LHsiLi4vanNvbi9idWlsZGVyIjozNywiLi4vanNvbi9wYXJzZXIiOjM4LCIuLi91dGlsIjo3NCwiLi9oZWxwZXJzIjo0N31dLDQ5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vdXRpbCIpLGk9ZSgiLi4vcXVlcnkvcXVlcnlfcGFyYW1fc2VyaWFsaXplciIpLGE9ZSgiLi4vbW9kZWwvc2hhcGUiKSxzPWUoIi4vaGVscGVycyIpLnBvcHVsYXRlSG9zdFByZWZpeDt0LmV4cG9ydHM9e2J1aWxkUmVxdWVzdDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG49ZS5odHRwUmVxdWVzdDtuLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgiLG4ucGFyYW1zPXtWZXJzaW9uOmUuc2VydmljZS5hcGkuYXBpVmVyc2lvbixBY3Rpb246dC5uYW1lfSwobmV3IGkpLnNlcmlhbGl6ZShlLnBhcmFtcyx0LmlucHV0LChmdW5jdGlvbihlLHQpe24ucGFyYW1zW2VdPXR9KSksbi5ib2R5PW8ucXVlcnlQYXJhbXNUb1N0cmluZyhuLnBhcmFtcykscyhlKX0sZXh0cmFjdEVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5odHRwUmVzcG9uc2UuYm9keS50b1N0cmluZygpO2lmKG4ubWF0Y2goIjxVbmtub3duT3BlcmF0aW9uRXhjZXB0aW9uIikpdD17Q29kZToiVW5rbm93bk9wZXJhdGlvbiIsTWVzc2FnZToiVW5rbm93biBvcGVyYXRpb24gIitlLnJlcXVlc3Qub3BlcmF0aW9ufTtlbHNlIHRyeXt0PShuZXcgci5YTUwuUGFyc2VyKS5wYXJzZShuKX1jYXRjaChuKXt0PXtDb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsTWVzc2FnZTplLmh0dHBSZXNwb25zZS5zdGF0dXNNZXNzYWdlfX10LnJlcXVlc3RJZCYmIWUucmVxdWVzdElkJiYoZS5yZXF1ZXN0SWQ9dC5yZXF1ZXN0SWQpLHQuRXJyb3JzJiYodD10LkVycm9ycyksdC5FcnJvciYmKHQ9dC5FcnJvciksdC5Db2RlP2UuZXJyb3I9by5lcnJvcihuZXcgRXJyb3Ise2NvZGU6dC5Db2RlLG1lc3NhZ2U6dC5NZXNzYWdlfSk6ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLG1lc3NhZ2U6bnVsbH0pfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLm91dHB1dHx8e30saT1uO2lmKGkucmVzdWx0V3JhcHBlcil7dmFyIHM9YS5jcmVhdGUoe3R5cGU6InN0cnVjdHVyZSJ9KTtzLm1lbWJlcnNbaS5yZXN1bHRXcmFwcGVyXT1uLHMubWVtYmVyTmFtZXM9W2kucmVzdWx0V3JhcHBlcl0sby5wcm9wZXJ0eShuLCJuYW1lIixuLnJlc3VsdFdyYXBwZXIpLG49c312YXIgYz1uZXcgci5YTUwuUGFyc2VyO2lmKG4mJm4ubWVtYmVycyYmIW4ubWVtYmVycy5fWEFNWlJlcXVlc3RJZCl7dmFyIHU9YS5jcmVhdGUoe3R5cGU6InN0cmluZyJ9LHthcGk6e3Byb3RvY29sOiJxdWVyeSJ9fSwicmVxdWVzdElkIik7bi5tZW1iZXJzLl9YQU1aUmVxdWVzdElkPXV9dmFyIGw9Yy5wYXJzZShlLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCksbik7ZS5yZXF1ZXN0SWQ9bC5fWEFNWlJlcXVlc3RJZHx8bC5yZXF1ZXN0SWQsbC5fWEFNWlJlcXVlc3RJZCYmZGVsZXRlIGwuX1hBTVpSZXF1ZXN0SWQsaS5yZXN1bHRXcmFwcGVyJiZsW2kucmVzdWx0V3JhcHBlcl0mJihvLnVwZGF0ZShsLGxbaS5yZXN1bHRXcmFwcGVyXSksZGVsZXRlIGxbaS5yZXN1bHRXcmFwcGVyXSksZS5kYXRhPWx9fX0seyIuLi9jb3JlIjoxOSwiLi4vbW9kZWwvc2hhcGUiOjQ1LCIuLi9xdWVyeS9xdWVyeV9wYXJhbV9zZXJpYWxpemVyIjo1MywiLi4vdXRpbCI6NzQsIi4vaGVscGVycyI6NDd9XSw1MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4vaGVscGVycyIpLnBvcHVsYXRlSG9zdFByZWZpeDtmdW5jdGlvbiBpKGUsdCxuLG8pe3ZhciBpPVtlLHRdLmpvaW4oIi8iKTtpPWkucmVwbGFjZSgvXC8rL2csIi8iKTt2YXIgYT17fSxzPSExO2lmKHIuZWFjaChuLm1lbWJlcnMsKGZ1bmN0aW9uKGUsdCl7dmFyIG49b1tlXTtpZihudWxsIT1uKWlmKCJ1cmkiPT09dC5sb2NhdGlvbil7dmFyIGM9bmV3IFJlZ0V4cCgiXFx7Iit0Lm5hbWUrIihcXCspP1xcfSIpO2k9aS5yZXBsYWNlKGMsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ/ci51cmlFc2NhcGVQYXRoOnIudXJpRXNjYXBlKShTdHJpbmcobikpfSkpfWVsc2UicXVlcnlzdHJpbmciPT09dC5sb2NhdGlvbiYmKHM9ITAsImxpc3QiPT09dC50eXBlP2FbdC5uYW1lXT1uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIudXJpRXNjYXBlKHQubWVtYmVyLnRvV2lyZUZvcm1hdChlKS50b1N0cmluZygpKX0pKToibWFwIj09PXQudHlwZT9yLmVhY2gobiwoZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KHQpP2FbZV09dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLnVyaUVzY2FwZShTdHJpbmcoZSkpfSkpOmFbZV09ci51cmlFc2NhcGUoU3RyaW5nKHQpKX0pKTphW3QubmFtZV09ci51cmlFc2NhcGUodC50b1dpcmVGb3JtYXQobikudG9TdHJpbmcoKSkpfSkpLHMpe2krPWkuaW5kZXhPZigiPyIpPj0wPyImIjoiPyI7dmFyIGM9W107ci5hcnJheUVhY2goT2JqZWN0LmtleXMoYSkuc29ydCgpLChmdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KGFbZV0pfHwoYVtlXT1bYVtlXV0pO2Zvcih2YXIgdD0wO3Q8YVtlXS5sZW5ndGg7dCsrKWMucHVzaChyLnVyaUVzY2FwZShTdHJpbmcoZSkpKyI9IithW2VdW3RdKX0pKSxpKz1jLmpvaW4oIiYiKX1yZXR1cm4gaX10LmV4cG9ydHM9e2J1aWxkUmVxdWVzdDpmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5tZXRob2Q9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5odHRwTWV0aG9kfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG49dC5pbnB1dCxyPWkoZS5odHRwUmVxdWVzdC5lbmRwb2ludC5wYXRoLHQuaHR0cFBhdGgsbixlLnBhcmFtcyk7ZS5odHRwUmVxdWVzdC5wYXRoPXJ9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07ci5lYWNoKHQuaW5wdXQubWVtYmVycywoZnVuY3Rpb24odCxuKXt2YXIgbz1lLnBhcmFtc1t0XTtudWxsIT1vJiYoImhlYWRlcnMiPT09bi5sb2NhdGlvbiYmIm1hcCI9PT1uLnR5cGU/ci5lYWNoKG8sKGZ1bmN0aW9uKHQscil7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW24ubmFtZSt0XT1yfSkpOiJoZWFkZXIiPT09bi5sb2NhdGlvbiYmKG89bi50b1dpcmVGb3JtYXQobykudG9TdHJpbmcoKSxuLmlzSnNvblZhbHVlJiYobz1yLmJhc2U2NC5lbmNvZGUobykpLGUuaHR0cFJlcXVlc3QuaGVhZGVyc1tuLm5hbWVdPW8pKX0pKX0oZSksbyhlKX0sZXh0cmFjdEVycm9yOmZ1bmN0aW9uKCl7fSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17fSxvPWUuaHR0cFJlc3BvbnNlLGk9dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXS5vdXRwdXQsYT17fTtyLmVhY2goby5oZWFkZXJzLChmdW5jdGlvbihlLHQpe2FbZS50b0xvd2VyQ2FzZSgpXT10fSkpLHIuZWFjaChpLm1lbWJlcnMsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9KHQubmFtZXx8ZSkudG9Mb3dlckNhc2UoKTtpZigiaGVhZGVycyI9PT10LmxvY2F0aW9uJiYibWFwIj09PXQudHlwZSl7bltlXT17fTt2YXIgcz10LmlzTG9jYXRpb25OYW1lP3QubmFtZToiIixjPW5ldyBSZWdFeHAoIl4iK3MrIiguKykiLCJpIik7ci5lYWNoKG8uaGVhZGVycywoZnVuY3Rpb24odCxyKXt2YXIgbz10Lm1hdGNoKGMpO251bGwhPT1vJiYobltlXVtvWzFdXT1yKX0pKX1lbHNlIGlmKCJoZWFkZXIiPT09dC5sb2NhdGlvbil7aWYodm9pZCAwIT09YVtpXSl7dmFyIHU9dC5pc0pzb25WYWx1ZT9yLmJhc2U2NC5kZWNvZGUoYVtpXSk6YVtpXTtuW2VdPXQudG9UeXBlKHUpfX1lbHNlInN0YXR1c0NvZGUiPT09dC5sb2NhdGlvbiYmKG5bZV09cGFyc2VJbnQoby5zdGF0dXNDb2RlLDEwKSl9KSksZS5kYXRhPW59LGdlbmVyYXRlVVJJOml9fSx7Ii4uL3V0aWwiOjc0LCIuL2hlbHBlcnMiOjQ3fV0sNTE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuL3Jlc3QiKSxpPWUoIi4vanNvbiIpLGE9ZSgiLi4vanNvbi9idWlsZGVyIikscz1lKCIuLi9qc29uL3BhcnNlciIpLGM9WyJHRVQiLCJIRUFEIiwiREVMRVRFIl07ZnVuY3Rpb24gdShlLHQpe2lmKCFlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdKXt2YXIgbj10PyJiaW5hcnkvb2N0ZXQtc3RyZWFtIjoiYXBwbGljYXRpb24vanNvbiI7ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT1ufX10LmV4cG9ydHM9e2J1aWxkUmVxdWVzdDpmdW5jdGlvbihlKXtvLmJ1aWxkUmVxdWVzdChlKSxjLmluZGV4T2YoZS5odHRwUmVxdWVzdC5tZXRob2QpPDAmJmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBhLG49ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dDtpZihuLnBheWxvYWQpe3ZhciByLG89bi5tZW1iZXJzW24ucGF5bG9hZF07cj1lLnBhcmFtc1tuLnBheWxvYWRdLCJzdHJ1Y3R1cmUiPT09by50eXBlPyhlLmh0dHBSZXF1ZXN0LmJvZHk9dC5idWlsZChyfHx7fSxvKSx1KGUpKTp2b2lkIDAhPT1yJiYoZS5odHRwUmVxdWVzdC5ib2R5PXIsKCJiaW5hcnkiPT09by50eXBlfHxvLmlzU3RyZWFtaW5nKSYmdShlLCEwKSl9ZWxzZSBlLmh0dHBSZXF1ZXN0LmJvZHk9dC5idWlsZChlLnBhcmFtcyxuKSx1KGUpfShlKX0sZXh0cmFjdEVycm9yOmZ1bmN0aW9uKGUpe2kuZXh0cmFjdEVycm9yKGUpfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXtvLmV4dHJhY3REYXRhKGUpO3ZhciB0PWUucmVxdWVzdCxuPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0sYT10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLm91dHB1dHx8e307aWYobi5oYXNFdmVudE91dHB1dCxhLnBheWxvYWQpe3ZhciBjPWEubWVtYmVyc1thLnBheWxvYWRdLHU9ZS5odHRwUmVzcG9uc2UuYm9keTtpZihjLmlzRXZlbnRTdHJlYW0pbD1uZXcgcyxlLmRhdGFbcGF5bG9hZF09ci5jcmVhdGVFdmVudFN0cmVhbSgyPT09QVdTLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/ZS5odHRwUmVzcG9uc2Uuc3RyZWFtOnUsbCxjKTtlbHNlIGlmKCJzdHJ1Y3R1cmUiPT09Yy50eXBlfHwibGlzdCI9PT1jLnR5cGUpe3ZhciBsPW5ldyBzO2UuZGF0YVthLnBheWxvYWRdPWwucGFyc2UodSxjKX1lbHNlImJpbmFyeSI9PT1jLnR5cGV8fGMuaXNTdHJlYW1pbmc/ZS5kYXRhW2EucGF5bG9hZF09dTplLmRhdGFbYS5wYXlsb2FkXT1jLnRvVHlwZSh1KX1lbHNle3ZhciBwPWUuZGF0YTtpLmV4dHJhY3REYXRhKGUpLGUuZGF0YT1yLm1lcmdlKHAsZS5kYXRhKX19LHVuc2V0Q29udGVudExlbmd0aDpmdW5jdGlvbihlKXt2b2lkIDA9PT1yLmdldFJlcXVlc3RQYXlsb2FkU2hhcGUoZSkmJmMuaW5kZXhPZihlLmh0dHBSZXF1ZXN0Lm1ldGhvZCk+PTAmJmRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl19fX0seyIuLi9qc29uL2J1aWxkZXIiOjM3LCIuLi9qc29uL3BhcnNlciI6MzgsIi4uL3V0aWwiOjc0LCIuL2pzb24iOjQ4LCIuL3Jlc3QiOjUwfV0sNTI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi91dGlsIiksaT1lKCIuL3Jlc3QiKTt0LmV4cG9ydHM9e2J1aWxkUmVxdWVzdDpmdW5jdGlvbihlKXtpLmJ1aWxkUmVxdWVzdChlKSxbIkdFVCIsIkhFQUQiXS5pbmRleE9mKGUuaHR0cFJlcXVlc3QubWV0aG9kKTwwJiZmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0LG49bmV3IHIuWE1MLkJ1aWxkZXIsaT1lLnBhcmFtcyxhPXQucGF5bG9hZDtpZihhKXt2YXIgcz10Lm1lbWJlcnNbYV07aWYodm9pZCAwPT09KGk9aVthXSkpcmV0dXJuO2lmKCJzdHJ1Y3R1cmUiPT09cy50eXBlKXt2YXIgYz1zLm5hbWU7ZS5odHRwUmVxdWVzdC5ib2R5PW4udG9YTUwoaSxzLGMsITApfWVsc2UgZS5odHRwUmVxdWVzdC5ib2R5PWl9ZWxzZSBlLmh0dHBSZXF1ZXN0LmJvZHk9bi50b1hNTChpLHQsdC5uYW1lfHx0LnNoYXBlfHxvLnN0cmluZy51cHBlckZpcnN0KGUub3BlcmF0aW9uKSsiUmVxdWVzdCIpfShlKX0sZXh0cmFjdEVycm9yOmZ1bmN0aW9uKGUpe3ZhciB0O2kuZXh0cmFjdEVycm9yKGUpO3RyeXt0PShuZXcgci5YTUwuUGFyc2VyKS5wYXJzZShlLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCkpfWNhdGNoKG4pe3Q9e0NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxNZXNzYWdlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2V9fXQuRXJyb3JzJiYodD10LkVycm9ycyksdC5FcnJvciYmKHQ9dC5FcnJvciksdC5Db2RlP2UuZXJyb3I9by5lcnJvcihuZXcgRXJyb3Ise2NvZGU6dC5Db2RlLG1lc3NhZ2U6dC5NZXNzYWdlfSk6ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLG1lc3NhZ2U6bnVsbH0pfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdDtpLmV4dHJhY3REYXRhKGUpO3ZhciBuPWUucmVxdWVzdCxhPWUuaHR0cFJlc3BvbnNlLmJvZHkscz1uLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbbi5vcGVyYXRpb25dLGM9cy5vdXRwdXQsdT0ocy5oYXNFdmVudE91dHB1dCxjLnBheWxvYWQpO2lmKHUpe3ZhciBsPWMubWVtYmVyc1t1XTtsLmlzRXZlbnRTdHJlYW0/KHQ9bmV3IHIuWE1MLlBhcnNlcixlLmRhdGFbdV09by5jcmVhdGVFdmVudFN0cmVhbSgyPT09ci5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uP2UuaHR0cFJlc3BvbnNlLnN0cmVhbTplLmh0dHBSZXNwb25zZS5ib2R5LHQsbCkpOiJzdHJ1Y3R1cmUiPT09bC50eXBlPyh0PW5ldyByLlhNTC5QYXJzZXIsZS5kYXRhW3VdPXQucGFyc2UoYS50b1N0cmluZygpLGwpKToiYmluYXJ5Ij09PWwudHlwZXx8bC5pc1N0cmVhbWluZz9lLmRhdGFbdV09YTplLmRhdGFbdV09bC50b1R5cGUoYSl9ZWxzZSBpZihhLmxlbmd0aD4wKXt2YXIgcD0odD1uZXcgci5YTUwuUGFyc2VyKS5wYXJzZShhLnRvU3RyaW5nKCksYyk7by51cGRhdGUoZS5kYXRhLHApfX19fSx7Ii4uL2NvcmUiOjE5LCIuLi91dGlsIjo3NCwiLi9yZXN0Ijo1MH1dLDUzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5pc1F1ZXJ5TmFtZXx8ImVjMiIhPT1lLmFwaS5wcm90b2NvbD9lLm5hbWU6ZS5uYW1lWzBdLnRvVXBwZXJDYXNlKCkrZS5uYW1lLnN1YnN0cigxKX1mdW5jdGlvbiBhKGUsdCxuLG8pe3IuZWFjaChuLm1lbWJlcnMsKGZ1bmN0aW9uKG4scil7dmFyIGE9dFtuXTtpZihudWxsIT1hKXt2YXIgYz1pKHIpO3MoYz1lP2UrIi4iK2M6YyxhLHIsbyl9fSkpfWZ1bmN0aW9uIHMoZSx0LG4sbyl7bnVsbCE9dCYmKCJzdHJ1Y3R1cmUiPT09bi50eXBlP2EoZSx0LG4sbyk6Imxpc3QiPT09bi50eXBlP2Z1bmN0aW9uKGUsdCxuLG8pe3ZhciBhPW4ubWVtYmVyfHx7fTswIT09dC5sZW5ndGg/ci5hcnJheUVhY2godCwoZnVuY3Rpb24odCxyKXt2YXIgYz0iLiIrKHIrMSk7aWYoImVjMiI9PT1uLmFwaS5wcm90b2NvbCljKz0iIjtlbHNlIGlmKG4uZmxhdHRlbmVkKXtpZihhLm5hbWUpe3ZhciB1PWUuc3BsaXQoIi4iKTt1LnBvcCgpLHUucHVzaChpKGEpKSxlPXUuam9pbigiLiIpfX1lbHNlIGM9Ii4iKyhhLm5hbWU/YS5uYW1lOiJtZW1iZXIiKStjO3MoZStjLHQsYSxvKX0pKTpvLmNhbGwodGhpcyxlLG51bGwpfShlLHQsbixvKToibWFwIj09PW4udHlwZT9mdW5jdGlvbihlLHQsbixvKXt2YXIgaT0xO3IuZWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBhPShuLmZsYXR0ZW5lZD8iLiI6Ii5lbnRyeS4iKStpKysrIi4iLGM9YSsobi5rZXkubmFtZXx8ImtleSIpLHU9YSsobi52YWx1ZS5uYW1lfHwidmFsdWUiKTtzKGUrYyx0LG4ua2V5LG8pLHMoZSt1LHIsbi52YWx1ZSxvKX0pKX0oZSx0LG4sbyk6byhlLG4udG9XaXJlRm9ybWF0KHQpLnRvU3RyaW5nKCkpKX1vLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oZSx0LG4pe2EoIiIsZSx0LG4pfSx0LmV4cG9ydHM9b30seyIuLi91dGlsIjo3NH1dLDU0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHBlcmZvcm1hbmNlJiYiZnVuY3Rpb24iPT10eXBlb2YgcGVyZm9ybWFuY2Uubm93P3BlcmZvcm1hbmNlLm5vdygpOkRhdGUubm93KCl9fX0se31dLDU1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtpc0ZpcHNSZWdpb246ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZS5zdGFydHNXaXRoKCJmaXBzLSIpfHxlLmVuZHNXaXRoKCItZmlwcyIpKX0saXNHbG9iYWxSZWdpb246ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZbImF3cy1nbG9iYWwiLCJhd3MtdXMtZ292LWdsb2JhbCJdLmluY2x1ZGVzKGUpfSxnZXRSZWFsUmVnaW9uOmZ1bmN0aW9uKGUpe3JldHVyblsiZmlwcy1hd3MtZ2xvYmFsIiwiYXdzLWZpcHMiLCJhd3MtZ2xvYmFsIl0uaW5jbHVkZXMoZSk/InVzLWVhc3QtMSI6WyJmaXBzLWF3cy11cy1nb3YtZ2xvYmFsIiwiYXdzLXVzLWdvdi1nbG9iYWwiXS5pbmNsdWRlcyhlKT8idXMtZ292LXdlc3QtMSI6ZS5yZXBsYWNlKC9maXBzLShka3ItfHByb2QtKT98LWZpcHMvLCIiKX19fSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL3V0aWwiKSxvPWUoIi4vcmVnaW9uX2NvbmZpZ19kYXRhLmpzb24iKTtmdW5jdGlvbiBpKGUsdCl7ci5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7Imdsb2JhbEVuZHBvaW50IiE9PXQmJih2b2lkIDAhPT1lLmNvbmZpZ1t0XSYmbnVsbCE9PWUuY29uZmlnW3RdfHwoZS5jb25maWdbdF09bikpfSkpfXQuZXhwb3J0cz17Y29uZmlndXJlRW5kcG9pbnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29uZmlnLnJlZ2lvbixuPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciB0PWUuc3BsaXQoIi0iKTtyZXR1cm4gdC5sZW5ndGg8Mz9udWxsOnQuc2xpY2UoMCx0Lmxlbmd0aC0yKS5qb2luKCItIikrIi0qIn0odCkscj1lLmFwaS5lbmRwb2ludFByZWZpeDtyZXR1cm5bW3Qscl0sW24scl0sW3QsIioiXSxbbiwiKiJdLFsiKiIscl0sW3QsImludGVybmFsLSoiXSxbIioiLCIqIl1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0mJmVbMV0/ZS5qb2luKCIvIik6bnVsbH0pKX0oZSksbj1lLmNvbmZpZy51c2VGaXBzRW5kcG9pbnQscj1lLmNvbmZpZy51c2VEdWFsc3RhY2tFbmRwb2ludCxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXRbYV07aWYocyl7dmFyIGM9bj9yP28uZHVhbHN0YWNrRmlwc1J1bGVzOm8uZmlwc1J1bGVzOnI/by5kdWFsc3RhY2tSdWxlczpvLnJ1bGVzO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLHMpKXt2YXIgdT1jW3NdOyJzdHJpbmciPT10eXBlb2YgdSYmKHU9by5wYXR0ZXJuc1t1XSksZS5pc0dsb2JhbEVuZHBvaW50PSEhdS5nbG9iYWxFbmRwb2ludCx1LnNpZ25pbmdSZWdpb24mJihlLnNpZ25pbmdSZWdpb249dS5zaWduaW5nUmVnaW9uKSx1LnNpZ25hdHVyZVZlcnNpb258fCh1LnNpZ25hdHVyZVZlcnNpb249InY0Iik7dmFyIGw9ImJlYXJlciI9PT0oZS5hcGkmJmUuYXBpLnNpZ25hdHVyZVZlcnNpb24pO3JldHVybiB2b2lkIGkoZSxPYmplY3QuYXNzaWduKHt9LHUse3NpZ25hdHVyZVZlcnNpb246bD8iYmVhcmVyIjp1LnNpZ25hdHVyZVZlcnNpb259KSl9fX19LGdldEVuZHBvaW50U3VmZml4OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17Il4odXN8ZXV8YXB8c2F8Y2F8bWUpXFwtXFx3K1xcLVxcZCskIjoiYW1hem9uYXdzLmNvbSIsIl5jblxcLVxcdytcXC1cXGQrJCI6ImFtYXpvbmF3cy5jb20uY24iLCJedXNcXC1nb3ZcXC1cXHcrXFwtXFxkKyQiOiJhbWF6b25hd3MuY29tIiwiXnVzXFwtaXNvXFwtXFx3K1xcLVxcZCskIjoiYzJzLmljLmdvdiIsIl51c1xcLWlzb2JcXC1cXHcrXFwtXFxkKyQiOiJzYzJzLnNnb3YuZ292In0sbj1PYmplY3Qua2V5cyh0KSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPVJlZ0V4cChuW3JdKSxpPXRbbltyXV07aWYoby50ZXN0KGUpKXJldHVybiBpfXJldHVybiJhbWF6b25hd3MuY29tIn19fSx7Ii4vcmVnaW9uX2NvbmZpZ19kYXRhLmpzb24iOjU3LCIuL3V0aWwiOjc0fV0sNTc6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3J1bGVzOnsiKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImNuLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LCJldS1pc29lLSovKiI6ImV1SXNvZSIsInVzLWlzby0qLyoiOiJ1c0lzbyIsInVzLWlzb2ItKi8qIjoidXNJc29iIiwiKi9idWRnZXRzIjoiZ2xvYmFsU1NMIiwiKi9jbG91ZGZyb250IjoiZ2xvYmFsU1NMIiwiKi9zdHMiOiJnbG9iYWxTU0wiLCIqL2ltcG9ydGV4cG9ydCI6e2VuZHBvaW50OiJ7c2VydmljZX0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoidjIiLGdsb2JhbEVuZHBvaW50OiEwfSwiKi9yb3V0ZTUzIjoiZ2xvYmFsU1NMIiwiY24tKi9yb3V0ZTUzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aHdlc3QtMSJ9LCJ1cy1nb3YtKi9yb3V0ZTUzIjoiZ2xvYmFsR292Q2xvdWQiLCJ1cy1pc28tKi9yb3V0ZTUzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5jMnMuaWMuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc28tZWFzdC0xIn0sInVzLWlzb2ItKi9yb3V0ZTUzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5zYzJzLnNnb3YuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc29iLWVhc3QtMSJ9LCIqL3dhZiI6Imdsb2JhbFNTTCIsIiovaWFtIjoiZ2xvYmFsU1NMIiwiY24tKi9pYW0iOntlbmRwb2ludDoie3NlcnZpY2V9LmNuLW5vcnRoLTEuYW1hem9uYXdzLmNvbS5jbiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoiY24tbm9ydGgtMSJ9LCJ1cy1pc28tKi9pYW0iOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWlzby1lYXN0LTEuYzJzLmljLmdvdiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtaXNvLWVhc3QtMSJ9LCJ1cy1nb3YtKi9pYW0iOiJnbG9iYWxHb3ZDbG91ZCIsIiovY2UiOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWVhc3QtMS5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1lYXN0LTEifSwiY24tKi9jZSI6e2VuZHBvaW50OiJ7c2VydmljZX0uY24tbm9ydGh3ZXN0LTEuYW1hem9uYXdzLmNvbS5jbiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoiY24tbm9ydGh3ZXN0LTEifSwidXMtZ292LSovc3RzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sInVzLWdvdi13ZXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsInVzLXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtd2VzdC0yL3MzIjoiczNzaWduYXR1cmUiLCJldS13ZXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsImFwLXNvdXRoZWFzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJhcC1zb3V0aGVhc3QtMi9zMyI6InMzc2lnbmF0dXJlIiwiYXAtbm9ydGhlYXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsInNhLWVhc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtZWFzdC0xL3MzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJzMyJ9LCJ1cy1lYXN0LTEvc2RiIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiJ9LCIqL3NkYiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoidjIifSwiKi9yZXNvdXJjZS1leHBsb3Jlci0yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9rZW5kcmEtcmFua2luZyI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovaW50ZXJuZXRtb25pdG9yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9jb2RlY2F0YWx5c3QiOiJnbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQifSxmaXBzUnVsZXM6eyIqLyoiOiJmaXBzU3RhbmRhcmQiLCJ1cy1nb3YtKi8qIjoiZmlwc1N0YW5kYXJkIiwidXMtaXNvLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5jMnMuaWMuZ292In0sInVzLWlzby0qL2RtcyI6InVzSXNvIiwidXMtaXNvYi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uc2Mycy5zZ292LmdvdiJ9LCJ1cy1pc29iLSovZG1zIjoidXNJc29iIiwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSwiKi9hcGkuZWNyIjoiZmlwcy5hcGkuZWNyIiwiKi9hcGkuc2FnZW1ha2VyIjoiZmlwcy5hcGkuc2FnZW1ha2VyIiwiKi9iYXRjaCI6ImZpcHNEb3RQcmVmaXgiLCIqL2VrcyI6ImZpcHNEb3RQcmVmaXgiLCIqL21vZGVscy5sZXgiOiJmaXBzLm1vZGVscy5sZXgiLCIqL3J1bnRpbWUubGV4IjoiZmlwcy5ydW50aW1lLmxleCIsIiovcnVudGltZS5zYWdlbWFrZXIiOntlbmRwb2ludDoicnVudGltZS1maXBzLnNhZ2VtYWtlci57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sIiovaWFtIjoiZmlwc1dpdGhvdXRSZWdpb24iLCIqL3JvdXRlNTMiOiJmaXBzV2l0aG91dFJlZ2lvbiIsIiovdHJhbnNjcmliZSI6ImZpcHNEb3RQcmVmaXgiLCIqL3dhZiI6ImZpcHNXaXRob3V0UmVnaW9uIiwidXMtZ292LSovdHJhbnNjcmliZSI6ImZpcHNEb3RQcmVmaXgiLCJ1cy1nb3YtKi9hcGkuZWNyIjoiZmlwcy5hcGkuZWNyIiwidXMtZ292LSovbW9kZWxzLmxleCI6ImZpcHMubW9kZWxzLmxleCIsInVzLWdvdi0qL3J1bnRpbWUubGV4IjoiZmlwcy5ydW50aW1lLmxleCIsInVzLWdvdi0qL2FjY2Vzcy1hbmFseXplciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hY20iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYWNtLXBjYSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hcGkuc2FnZW1ha2VyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwcGNvbmZpZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hcHBsaWNhdGlvbi1hdXRvc2NhbGluZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hdXRvc2NhbGluZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hdXRvc2NhbGluZy1wbGFucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9iYXRjaCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jYXNzYW5kcmEiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY2xvdWRkaXJlY3RvcnkiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY2xvdWRmb3JtYXRpb24iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY2xvdWRzaGVsbCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZHRyYWlsIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2NvbmZpZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jb25uZWN0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2RhdGFicmV3IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2RsbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9kbXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZHluYW1vZGIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWMyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VrcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lbGFzdGljYWNoZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lbGFzdGljYmVhbnN0YWxrIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNsb2FkYmFsYW5jaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNtYXByZWR1Y2UiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZXZlbnRzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2ZpcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9nbGFjaWVyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2dyZWVuZ3Jhc3MiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZ3VhcmRkdXR5IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2lkZW50aXR5c3RvcmUiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovaW1hZ2VidWlsZGVyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2thZmthIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2tpbmVzaXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovbG9ncyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9tZWRpYWNvbnZlcnQiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovbW9uaXRvcmluZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9uZXR3b3JrbWFuYWdlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9vcmdhbml6YXRpb25zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL291dHBvc3RzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3BhcnRpY2lwYW50LmNvbm5lY3QiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcmFtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3JkcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9yZWRzaGlmdCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9yZXNvdXJjZS1ncm91cHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcnVudGltZS5zYWdlbWFrZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc2VydmVybGVzc3JlcG8iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc2VydmljZWNhdGFsb2ctYXBwcmVnaXN0cnkiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc2VydmljZXF1b3RhcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3FzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NzbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zdHJlYW1zLmR5bmFtb2RiIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N0cyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zdXBwb3J0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N3ZiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3Ytd2VzdC0xL3N0YXRlcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1pc28tZWFzdC0xL2VsYXN0aWNmaWxlc3lzdGVtIjp7ZW5kcG9pbnQ6ImVsYXN0aWNmaWxlc3lzdGVtLWZpcHMue3JlZ2lvbn0uYzJzLmljLmdvdiJ9LCJ1cy1nb3Ytd2VzdC0xL29yZ2FuaXphdGlvbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LXdlc3QtMS9yb3V0ZTUzIjp7ZW5kcG9pbnQ6InJvdXRlNTMudXMtZ292LmFtYXpvbmF3cy5jb20ifSwiKi9yZXNvdXJjZS1leHBsb3Jlci0yIjoiZmlwc0R1YWxzdGFja0J5RGVmYXVsdCIsIiova2VuZHJhLXJhbmtpbmciOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2ludGVybmV0bW9uaXRvciI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovY29kZWNhdGFseXN0IjoiZmlwc0dsb2JhbER1YWxzdGFja0J5RGVmYXVsdCJ9LGR1YWxzdGFja1J1bGVzOnsiKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYXdzIn0sImNuLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYXBpLmFtYXpvbndlYnNlcnZpY2VzLmNvbS5jbiJ9LCIqL3MzIjoiZHVhbHN0YWNrTGVnYWN5IiwiY24tKi9zMyI6ImR1YWxzdGFja0xlZ2FjeUNuIiwiKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrTGVnYWN5IiwiY24tKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrTGVnYWN5Q24iLCJhcC1zb3V0aC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsImV1LXdlc3QtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJzYS1lYXN0LTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwidXMtZWFzdC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInVzLWVhc3QtMi9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJ1cy13ZXN0LTIvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIn0sZHVhbHN0YWNrRmlwc1J1bGVzOnsiKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hd3MifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hbWF6b253ZWJzZXJ2aWNlcy5jb20uY24ifSwiKi9zMyI6ImR1YWxzdGFja0ZpcHNMZWdhY3kiLCJjbi0qL3MzIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeUNuIiwiKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeSIsImNuLSovczMtY29udHJvbCI6ImR1YWxzdGFja0ZpcHNMZWdhY3lDbiJ9LHBhdHRlcm5zOntnbG9iYWxTU0w6e2VuZHBvaW50OiJodHRwczovL3tzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1lYXN0LTEifSxnbG9iYWxHb3ZDbG91ZDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS51cy1nb3YuYW1hem9uYXdzLmNvbSIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtZ292LXdlc3QtMSJ9LHMzc2lnbmF0dXJlOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InMzIn0sZXVJc29lOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmNsb3VkLmFkYy1lLnVrIn0sdXNJc286e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYzJzLmljLmdvdiJ9LHVzSXNvYjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5zYzJzLnNnb3YuZ292In0sZmlwc1N0YW5kYXJkOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGZpcHNEb3RQcmVmaXg6e2VuZHBvaW50OiJmaXBzLntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZmlwc1dpdGhvdXRSZWdpb246e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy5hbWF6b25hd3MuY29tIn0sImZpcHMuYXBpLmVjciI6e2VuZHBvaW50OiJlY3ItZmlwcy57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImZpcHMuYXBpLnNhZ2VtYWtlciI6e2VuZHBvaW50OiJhcGktZmlwcy5zYWdlbWFrZXIue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJmaXBzLm1vZGVscy5sZXgiOntlbmRwb2ludDoibW9kZWxzLWZpcHMubGV4LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiZmlwcy5ydW50aW1lLmxleCI6e2VuZHBvaW50OiJydW50aW1lLWZpcHMubGV4LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxmaXBzV2l0aFNlcnZpY2VPbmx5OntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxkdWFsc3RhY2tMZWdhY3k6e2VuZHBvaW50OiJ7c2VydmljZX0uZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxkdWFsc3RhY2tMZWdhY3lDbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LGR1YWxzdGFja0ZpcHNMZWdhY3k6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0ZpcHNMZWdhY3lDbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sZHVhbHN0YWNrTGVnYWN5RWMyOntlbmRwb2ludDoiYXBpLmVjMi57cmVnaW9ufS5hd3MifSxkdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYXBpLmF3cyJ9LGZpcHNEdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hcGkuYXdzIn0sZ2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9Lmdsb2JhbC5hcGkuYXdzIn0sZmlwc0dsb2JhbER1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmdsb2JhbC5hcGkuYXdzIn19fX0se31dLDU4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciBuPWUoIi4vY29yZSIpLHI9ZSgiLi9zdGF0ZV9tYWNoaW5lIiksbz1uLnV0aWwuaW5oZXJpdCxpPW4udXRpbC5kb21haW4sYT1lKCJqbWVzcGF0aCIpLHM9e3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9LGM9bmV3IHI7Yy5zZXR1cFN0YXRlcz1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztuLl9oYWx0SGFuZGxlcnNPbkVycm9yPSExLG4uZW1pdChuLl9hc20uY3VycmVudFN0YXRlLChmdW5jdGlvbihlKXtpZihlKWlmKHI9bixPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxyLl9hc20uY3VycmVudFN0YXRlKSl7aWYoIShpJiZuLmRvbWFpbiBpbnN0YW5jZW9mIGkuRG9tYWluKSl0aHJvdyBlO2UuZG9tYWluRW1pdHRlcj1uLGUuZG9tYWluPW4uZG9tYWluLGUuZG9tYWluVGhyb3duPSExLG4uZG9tYWluLmVtaXQoImVycm9yIixlKX1lbHNlIG4ucmVzcG9uc2UuZXJyb3I9ZSx0KGUpO2Vsc2UgdChuLnJlc3BvbnNlLmVycm9yKTt2YXIgcn0pKX07dGhpcy5hZGRTdGF0ZSgidmFsaWRhdGUiLCJidWlsZCIsImVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJidWlsZCIsImFmdGVyQnVpbGQiLCJyZXN0YXJ0IixlKSx0aGlzLmFkZFN0YXRlKCJhZnRlckJ1aWxkIiwic2lnbiIsInJlc3RhcnQiLGUpLHRoaXMuYWRkU3RhdGUoInNpZ24iLCJzZW5kIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoInJldHJ5IiwiYWZ0ZXJSZXRyeSIsImFmdGVyUmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoImFmdGVyUmV0cnkiLCJzaWduIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoInNlbmQiLCJ2YWxpZGF0ZVJlc3BvbnNlIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoInZhbGlkYXRlUmVzcG9uc2UiLCJleHRyYWN0RGF0YSIsImV4dHJhY3RFcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgiZXh0cmFjdEVycm9yIiwiZXh0cmFjdERhdGEiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgiZXh0cmFjdERhdGEiLCJzdWNjZXNzIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoInJlc3RhcnQiLCJidWlsZCIsImVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJzdWNjZXNzIiwiY29tcGxldGUiLCJjb21wbGV0ZSIsZSksdGhpcy5hZGRTdGF0ZSgiZXJyb3IiLCJjb21wbGV0ZSIsImNvbXBsZXRlIixlKSx0aGlzLmFkZFN0YXRlKCJjb21wbGV0ZSIsbnVsbCxudWxsLGUpfSxjLnNldHVwU3RhdGVzKCksbi5SZXF1ZXN0PW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxvKXt2YXIgYT1lLmVuZHBvaW50LHM9ZS5jb25maWcucmVnaW9uLHU9ZS5jb25maWcuY3VzdG9tVXNlckFnZW50O2Uuc2lnbmluZ1JlZ2lvbj9zPWUuc2lnbmluZ1JlZ2lvbjplLmlzR2xvYmFsRW5kcG9pbnQmJihzPSJ1cy1lYXN0LTEiKSx0aGlzLmRvbWFpbj1pJiZpLmFjdGl2ZSx0aGlzLnNlcnZpY2U9ZSx0aGlzLm9wZXJhdGlvbj10LHRoaXMucGFyYW1zPW98fHt9LHRoaXMuaHR0cFJlcXVlc3Q9bmV3IG4uSHR0cFJlcXVlc3QoYSxzKSx0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KHUpLHRoaXMuc3RhcnRUaW1lPWUuZ2V0U2tld0NvcnJlY3RlZERhdGUoKSx0aGlzLnJlc3BvbnNlPW5ldyBuLlJlc3BvbnNlKHRoaXMpLHRoaXMuX2FzbT1uZXcgcihjLnN0YXRlcywidmFsaWRhdGUiKSx0aGlzLl9oYWx0SGFuZGxlcnNPbkVycm9yPSExLG4uU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcyksdGhpcy5lbWl0PXRoaXMuZW1pdEV2ZW50fSxzZW5kOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYodGhpcy5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgiY2FsbGJhY2siKSx0aGlzLm9uKCJjb21wbGV0ZSIsKGZ1bmN0aW9uKHQpe2UuY2FsbCh0LHQuZXJyb3IsdC5kYXRhKX0pKSksdGhpcy5ydW5UbygpLHRoaXMucmVzcG9uc2V9LGJ1aWxkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1blRvKCJzZW5kIixlKX0scnVuVG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fYXNtLnJ1blRvKGUsdCx0aGlzKSx0aGlzfSxhYm9ydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygidmFsaWRhdGVSZXNwb25zZSIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJleHRyYWN0RXJyb3IiKSx0aGlzLm9uKCJ2YWxpZGF0ZVJlc3BvbnNlIiwoZnVuY3Rpb24oZSl7ZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yKCJSZXF1ZXN0IGFib3J0ZWQgYnkgdXNlciIpLHtjb2RlOiJSZXF1ZXN0QWJvcnRlZEVycm9yIixyZXRyeWFibGU6ITF9KX0pKSx0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbSYmIXRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtLmRpZENhbGxiYWNrJiYodGhpcy5odHRwUmVxdWVzdC5zdHJlYW0uYWJvcnQoKSx0aGlzLmh0dHBSZXF1ZXN0Ll9hYm9ydENhbGxiYWNrP3RoaXMuaHR0cFJlcXVlc3QuX2Fib3J0Q2FsbGJhY2soKTp0aGlzLnJlbW92ZUFsbExpc3RlbmVycygic2VuZCIpKSx0aGlzfSxlYWNoUGFnZTpmdW5jdGlvbihlKXtlPW4udXRpbC5mbi5tYWtlQXN5bmMoZSwzKSx0aGlzLm9uKCJjb21wbGV0ZSIsKGZ1bmN0aW9uIHQocil7ZS5jYWxsKHIsci5lcnJvcixyLmRhdGEsKGZ1bmN0aW9uKG8peyExIT09byYmKHIuaGFzTmV4dFBhZ2UoKT9yLm5leHRQYWdlKCkub24oImNvbXBsZXRlIix0KS5zZW5kKCk6ZS5jYWxsKHIsbnVsbCxudWxsLG4udXRpbC5mbi5ub29wKSl9KSl9KSkuc2VuZCgpfSxlYWNoSXRlbTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuZWFjaFBhZ2UoKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gZShyLG51bGwpO2lmKG51bGw9PT1vKXJldHVybiBlKG51bGwsbnVsbCk7dmFyIGk9dC5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodC5vcGVyYXRpb24pLnJlc3VsdEtleTtBcnJheS5pc0FycmF5KGkpJiYoaT1pWzBdKTt2YXIgcz1hLnNlYXJjaChvLGkpLGM9ITA7cmV0dXJuIG4udXRpbC5hcnJheUVhY2gocywoZnVuY3Rpb24odCl7aWYoITE9PT0oYz1lKG51bGwsdCkpKXJldHVybiBuLnV0aWwuYWJvcnR9KSksY30pKX0saXNQYWdlYWJsZTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodGhpcy5vcGVyYXRpb24pfSxjcmVhdGVSZWFkU3RyZWFtOmZ1bmN0aW9uKCl7dmFyIGU9bi51dGlsLnN0cmVhbSxyPXRoaXMsbz1udWxsO3JldHVybiAyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uPyhvPW5ldyBlLlBhc3NUaHJvdWdoLHQubmV4dFRpY2soKGZ1bmN0aW9uKCl7ci5zZW5kKCl9KSkpOigobz1uZXcgZS5TdHJlYW0pLnJlYWRhYmxlPSEwLG8uc2VudD0hMSxvLm9uKCJuZXdMaXN0ZW5lciIsKGZ1bmN0aW9uKGUpe28uc2VudHx8ImRhdGEiIT09ZXx8KG8uc2VudD0hMCx0Lm5leHRUaWNrKChmdW5jdGlvbigpe3Iuc2VuZCgpfSkpKX0pKSksdGhpcy5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtvLmVtaXQoImVycm9yIixlKX0pKSx0aGlzLm9uKCJodHRwSGVhZGVycyIsKGZ1bmN0aW9uKHQsaSxhKXtpZih0PDMwMCl7ci5yZW1vdmVMaXN0ZW5lcigiaHR0cERhdGEiLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5IVFRQX0RBVEEpLHIucmVtb3ZlTGlzdGVuZXIoImh0dHBFcnJvciIsbi5FdmVudExpc3RlbmVycy5Db3JlLkhUVFBfRVJST1IpLHIub24oImh0dHBFcnJvciIsKGZ1bmN0aW9uKGUpe2EuZXJyb3I9ZSxhLmVycm9yLnJldHJ5YWJsZT0hMX0pKTt2YXIgcyxjPSExO2lmKCJIRUFEIiE9PXIuaHR0cFJlcXVlc3QubWV0aG9kJiYocz1wYXJzZUludChpWyJjb250ZW50LWxlbmd0aCJdLDEwKSksdm9pZCAwIT09cyYmIWlzTmFOKHMpJiZzPj0wKXtjPSEwO3ZhciB1PTB9dmFyIGw9ZnVuY3Rpb24oKXtjJiZ1IT09cz9vLmVtaXQoImVycm9yIixuLnV0aWwuZXJyb3IobmV3IEVycm9yKCJTdHJlYW0gY29udGVudCBsZW5ndGggbWlzbWF0Y2guIFJlY2VpdmVkICIrdSsiIG9mICIrcysiIGJ5dGVzLiIpLHtjb2RlOiJTdHJlYW1Db250ZW50TGVuZ3RoTWlzbWF0Y2gifSkpOjI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/by5lbmQoKTpvLmVtaXQoImVuZCIpfSxwPWEuaHR0cFJlc3BvbnNlLmNyZWF0ZVVuYnVmZmVyZWRTdHJlYW0oKTtpZigyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uKWlmKGMpe3ZhciBkPW5ldyBlLlBhc3NUaHJvdWdoO2QuX3dyaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aCYmKHUrPXQubGVuZ3RoKSxlLlBhc3NUaHJvdWdoLnByb3RvdHlwZS5fd3JpdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkLm9uKCJlbmQiLGwpLG8ub24oImVycm9yIiwoZnVuY3Rpb24oZSl7Yz0hMSxwLnVucGlwZShkKSxkLmVtaXQoImVuZCIpLGQuZW5kKCl9KSkscC5waXBlKGQpLnBpcGUobyx7ZW5kOiExfSl9ZWxzZSBwLnBpcGUobyk7ZWxzZSBjJiZwLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7ZSYmZS5sZW5ndGgmJih1Kz1lLmxlbmd0aCl9KSkscC5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe28uZW1pdCgiZGF0YSIsZSl9KSkscC5vbigiZW5kIixsKTtwLm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe2M9ITEsby5lbWl0KCJlcnJvciIsZSl9KSl9fSkpLG99LGVtaXRFdmVudDpmdW5jdGlvbihlLHQscil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQsdD1udWxsKSxyfHwocj1mdW5jdGlvbigpe30pLHR8fCh0PXRoaXMuZXZlbnRQYXJhbWV0ZXJzKGUsdGhpcy5yZXNwb25zZSkpLG4uU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxlLHQsKGZ1bmN0aW9uKGUpe2UmJih0aGlzLnJlc3BvbnNlLmVycm9yPWUpLHIuY2FsbCh0aGlzLGUpfSkpfSxldmVudFBhcmFtZXRlcnM6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UicmVzdGFydCI6Y2FzZSJ2YWxpZGF0ZSI6Y2FzZSJzaWduIjpjYXNlImJ1aWxkIjpjYXNlImFmdGVyVmFsaWRhdGUiOmNhc2UiYWZ0ZXJCdWlsZCI6cmV0dXJuW3RoaXNdO2Nhc2UiZXJyb3IiOnJldHVyblt0aGlzLnJlc3BvbnNlLmVycm9yLHRoaXMucmVzcG9uc2VdO2RlZmF1bHQ6cmV0dXJuW3RoaXMucmVzcG9uc2VdfX0scHJlc2lnbjpmdW5jdGlvbihlLHQpe3JldHVybiB0fHwiZnVuY3Rpb24iIT10eXBlb2YgZXx8KHQ9ZSxlPW51bGwpLChuZXcgbi5TaWduZXJzLlByZXNpZ24pLnNpZ24odGhpcy50b0dldCgpLGUsdCl9LGlzUHJlc2lnbmVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmh0dHBSZXF1ZXN0LmhlYWRlcnMsInByZXNpZ25lZC1leHBpcmVzIil9LHRvVW5hdXRoZW50aWNhdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuQXV0aGVudGljYXRlZD0hMCx0aGlzLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsbi5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX0NSRURFTlRJQUxTKSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJzaWduIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuU0lHTiksdGhpc30sdG9HZXQ6ZnVuY3Rpb24oKXtyZXR1cm4icXVlcnkiIT09dGhpcy5zZXJ2aWNlLmFwaS5wcm90b2NvbCYmImVjMiIhPT10aGlzLnNlcnZpY2UuYXBpLnByb3RvY29sfHwodGhpcy5yZW1vdmVMaXN0ZW5lcigiYnVpbGQiLHRoaXMuYnVpbGRBc0dldCksdGhpcy5hZGRMaXN0ZW5lcigiYnVpbGQiLHRoaXMuYnVpbGRBc0dldCkpLHRoaXN9LGJ1aWxkQXNHZXQ6ZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5tZXRob2Q9IkdFVCIsZS5odHRwUmVxdWVzdC5wYXRoPWUuc2VydmljZS5lbmRwb2ludC5wYXRoKyI/IitlLmh0dHBSZXF1ZXN0LmJvZHksZS5odHRwUmVxdWVzdC5ib2R5PSIiLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl0sZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl19LGhhbHRIYW5kbGVyc09uRXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oYWx0SGFuZGxlcnNPbkVycm9yPSEwfX0pLG4uUmVxdWVzdC5hZGRQcm9taXNlc1RvQ2xhc3M9ZnVuY3Rpb24oZSl7dGhpcy5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoInByb21pc2UiKSxuZXcgZSgoZnVuY3Rpb24oZSxuKXt0Lm9uKCJjb21wbGV0ZSIsKGZ1bmN0aW9uKHQpe3QuZXJyb3I/bih0LmVycm9yKTplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LmRhdGF8fHt9LCIkcmVzcG9uc2UiLHt2YWx1ZTp0fSkpfSkpLHQucnVuVG8oKX0pKX19LG4uUmVxdWVzdC5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5wcm9taXNlfSxuLnV0aWwuYWRkUHJvbWlzZXMobi5SZXF1ZXN0KSxuLnV0aWwubWl4aW4obi5SZXF1ZXN0LG4uU2VxdWVudGlhbEV4ZWN1dG9yKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi9zdGF0ZV9tYWNoaW5lIjo3MyxfcHJvY2Vzczo5MSxqbWVzcGF0aDo5MH1dLDU5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPWUoImptZXNwYXRoIik7ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnJlcXVlc3QuX3dhaXRlcixuPXQuY29uZmlnLmFjY2VwdG9ycyxyPSExLG89InJldHJ5IjtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFyKXt2YXIgaT10Lm1hdGNoZXJzW24ubWF0Y2hlcl07aSYmaShlLG4uZXhwZWN0ZWQsbi5hcmd1bWVudCkmJihyPSEwLG89bi5zdGF0ZSl9fSkpLCFyJiZlLmVycm9yJiYobz0iZmFpbHVyZSIpLCJzdWNjZXNzIj09PW8/dC5zZXRTdWNjZXNzKGUpOnQuc2V0RXJyb3IoZSwicmV0cnkiPT09byl9ci5SZXNvdXJjZVdhaXRlcj1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3RoaXMuc2VydmljZT1lLHRoaXMuc3RhdGU9dCx0aGlzLmxvYWRXYWl0ZXJDb25maWcodGhpcy5zdGF0ZSl9LHNlcnZpY2U6bnVsbCxzdGF0ZTpudWxsLGNvbmZpZzpudWxsLG1hdGNoZXJzOntwYXRoOmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfXJldHVybiBpLnN0cmljdERlZXBFcXVhbChyLHQpfSxwYXRoQWxsOmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfUFycmF5LmlzQXJyYXkocil8fChyPVtyXSk7dmFyIG89ci5sZW5ndGg7aWYoIW8pcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxvO2ErKylpZighaS5zdHJpY3REZWVwRXF1YWwoclthXSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0scGF0aEFueTpmdW5jdGlvbihlLHQsbil7dHJ5e3ZhciByPWkuc2VhcmNoKGUuZGF0YSxuKX1jYXRjaChlKXtyZXR1cm4hMX1BcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO2Zvcih2YXIgbz1yLmxlbmd0aCxhPTA7YTxvO2ErKylpZihpLnN0cmljdERlZXBFcXVhbChyW2FdLHQpKXJldHVybiEwO3JldHVybiExfSxzdGF0dXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO3JldHVybiJudW1iZXIiPT10eXBlb2YgbiYmbj09PXR9LGVycm9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiZlLmVycm9yP3Q9PT1lLmVycm9yLmNvZGU6dD09PSEhZS5lcnJvcn19LGxpc3RlbmVyczoobmV3IHIuU2VxdWVudGlhbEV4ZWN1dG9yKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24oZSl7ZSgiUkVUUllfQ0hFQ0siLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdC5fd2FpdGVyO2UuZXJyb3ImJiJSZXNvdXJjZU5vdFJlYWR5Ij09PWUuZXJyb3IuY29kZSYmKGUuZXJyb3IucmV0cnlEZWxheT0xZTMqKHQuY29uZmlnLmRlbGF5fHwwKSl9KSksZSgiQ0hFQ0tfT1VUUFVUIiwiZXh0cmFjdERhdGEiLGEpLGUoIkNIRUNLX0VSUk9SIiwiZXh0cmFjdEVycm9yIixhKX0pKSx3YWl0OmZ1bmN0aW9uKGUsdCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGUmJmUuJHdhaXRlciYmKCJudW1iZXIiPT10eXBlb2YoZT1yLnV0aWwuY29weShlKSkuJHdhaXRlci5kZWxheSYmKHRoaXMuY29uZmlnLmRlbGF5PWUuJHdhaXRlci5kZWxheSksIm51bWJlciI9PXR5cGVvZiBlLiR3YWl0ZXIubWF4QXR0ZW1wdHMmJih0aGlzLmNvbmZpZy5tYXhBdHRlbXB0cz1lLiR3YWl0ZXIubWF4QXR0ZW1wdHMpLGRlbGV0ZSBlLiR3YWl0ZXIpO3ZhciBuPXRoaXMuc2VydmljZS5tYWtlUmVxdWVzdCh0aGlzLmNvbmZpZy5vcGVyYXRpb24sZSk7cmV0dXJuIG4uX3dhaXRlcj10aGlzLG4ucmVzcG9uc2UubWF4UmV0cmllcz10aGlzLmNvbmZpZy5tYXhBdHRlbXB0cyxuLmFkZExpc3RlbmVycyh0aGlzLmxpc3RlbmVycyksdCYmbi5zZW5kKHQpLG59LHNldFN1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZS5lcnJvcj1udWxsLGUuZGF0YT1lLmRhdGF8fHt9LGUucmVxdWVzdC5yZW1vdmVBbGxMaXN0ZW5lcnMoImV4dHJhY3REYXRhIil9LHNldEVycm9yOmZ1bmN0aW9uKGUsdCl7ZS5kYXRhPW51bGwsZS5lcnJvcj1yLnV0aWwuZXJyb3IoZS5lcnJvcnx8bmV3IEVycm9yLHtjb2RlOiJSZXNvdXJjZU5vdFJlYWR5IixtZXNzYWdlOiJSZXNvdXJjZSBpcyBub3QgaW4gdGhlIHN0YXRlICIrdGhpcy5zdGF0ZSxyZXRyeWFibGU6dH0pfSxsb2FkV2FpdGVyQ29uZmlnOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnNlcnZpY2UuYXBpLndhaXRlcnNbZV0pdGhyb3cgbmV3IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IlN0YXRlTm90Rm91bmRFcnJvciIsbWVzc2FnZToiU3RhdGUgIitlKyIgbm90IGZvdW5kLiJ9KTt0aGlzLmNvbmZpZz1yLnV0aWwuY29weSh0aGlzLnNlcnZpY2UuYXBpLndhaXRlcnNbZV0pfX0pfSx7Ii4vY29yZSI6MTksam1lc3BhdGg6OTB9XSw2MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQsaT1lKCJqbWVzcGF0aCIpO3IuUmVzcG9uc2U9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dGhpcy5yZXF1ZXN0PWUsdGhpcy5kYXRhPW51bGwsdGhpcy5lcnJvcj1udWxsLHRoaXMucmV0cnlDb3VudD0wLHRoaXMucmVkaXJlY3RDb3VudD0wLHRoaXMuaHR0cFJlc3BvbnNlPW5ldyByLkh0dHBSZXNwb25zZSxlJiYodGhpcy5tYXhSZXRyaWVzPWUuc2VydmljZS5udW1SZXRyaWVzKCksdGhpcy5tYXhSZWRpcmVjdHM9ZS5zZXJ2aWNlLmNvbmZpZy5tYXhSZWRpcmVjdHMpfSxuZXh0UGFnZTpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMucmVxdWVzdC5zZXJ2aWNlLG89dGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbjt0cnl7dD1uLnBhZ2luYXRpb25Db25maWcobywhMCl9Y2F0Y2goZSl7dGhpcy5lcnJvcj1lfWlmKCF0aGlzLmhhc05leHRQYWdlKCkpe2lmKGUpZSh0aGlzLmVycm9yLG51bGwpO2Vsc2UgaWYodGhpcy5lcnJvcil0aHJvdyB0aGlzLmVycm9yO3JldHVybiBudWxsfXZhciBpPXIudXRpbC5jb3B5KHRoaXMucmVxdWVzdC5wYXJhbXMpO2lmKHRoaXMubmV4dFBhZ2VUb2tlbnMpe3ZhciBhPXQuaW5wdXRUb2tlbjsic3RyaW5nIj09dHlwZW9mIGEmJihhPVthXSk7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspaVthW3NdXT10aGlzLm5leHRQYWdlVG9rZW5zW3NdO3JldHVybiBuLm1ha2VSZXF1ZXN0KHRoaXMucmVxdWVzdC5vcGVyYXRpb24saSxlKX1yZXR1cm4gZT9lKG51bGwsbnVsbCk6bnVsbH0saGFzTmV4dFBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZU5leHRQYWdlVG9rZW5zKCksISF0aGlzLm5leHRQYWdlVG9rZW5zfHx2b2lkIDA9PT10aGlzLm5leHRQYWdlVG9rZW5zJiZ2b2lkIDB9LGNhY2hlTmV4dFBhZ2VUb2tlbnM6ZnVuY3Rpb24oKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywibmV4dFBhZ2VUb2tlbnMiKSlyZXR1cm4gdGhpcy5uZXh0UGFnZVRva2Vuczt0aGlzLm5leHRQYWdlVG9rZW5zPXZvaWQgMDt2YXIgZT10aGlzLnJlcXVlc3Quc2VydmljZS5wYWdpbmF0aW9uQ29uZmlnKHRoaXMucmVxdWVzdC5vcGVyYXRpb24pO2lmKCFlKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO2lmKHRoaXMubmV4dFBhZ2VUb2tlbnM9bnVsbCxlLm1vcmVSZXN1bHRzJiYhaS5zZWFyY2godGhpcy5kYXRhLGUubW9yZVJlc3VsdHMpKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO3ZhciB0PWUub3V0cHV0VG9rZW47cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD1bdF0pLHIudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLHQsKGZ1bmN0aW9uKGUpe3ZhciB0PWkuc2VhcmNoKHRoaXMuZGF0YSxlKTt0JiYodGhpcy5uZXh0UGFnZVRva2Vucz10aGlzLm5leHRQYWdlVG9rZW5zfHxbXSx0aGlzLm5leHRQYWdlVG9rZW5zLnB1c2godCkpfSkpLHRoaXMubmV4dFBhZ2VUb2tlbnN9fSl9LHsiLi9jb3JlIjoxOSxqbWVzcGF0aDo5MH1dLDYxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIik7ci5TZXF1ZW50aWFsRXhlY3V0b3I9ci51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRzPXt9fSxsaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT90aGlzLl9ldmVudHNbZV0uc2xpY2UoMCk6W119LG9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP24/dGhpcy5fZXZlbnRzW2VdLnVuc2hpZnQodCk6dGhpcy5fZXZlbnRzW2VdLnB1c2godCk6dGhpcy5fZXZlbnRzW2VdPVt0XSx0aGlzfSxvbkFzeW5jOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5faXNBc3luYz0hMCx0aGlzLm9uKGUsdCxuKX0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9ldmVudHNbZV07aWYobil7Zm9yKHZhciByPW4ubGVuZ3RoLG89LTEsaT0wO2k8cjsrK2kpbltpXT09PXQmJihvPWkpO28+LTEmJm4uc3BsaWNlKG8sMSl9cmV0dXJuIHRoaXN9LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gZT9kZWxldGUgdGhpcy5fZXZlbnRzW2VdOnRoaXMuX2V2ZW50cz17fSx0aGlzfSxlbWl0OmZ1bmN0aW9uKGUsdCxuKXtufHwobj1mdW5jdGlvbigpe30pO3ZhciByPXRoaXMubGlzdGVuZXJzKGUpLG89ci5sZW5ndGg7cmV0dXJuIHRoaXMuY2FsbExpc3RlbmVycyhyLHQsbiksbz4wfSxjYWxsTGlzdGVuZXJzOmZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPXRoaXMsYT1vfHxudWxsO2Z1bmN0aW9uIHMobyl7aWYobyYmKGE9ci51dGlsLmVycm9yKGF8fG5ldyBFcnJvcixvKSxpLl9oYWx0SGFuZGxlcnNPbkVycm9yKSlyZXR1cm4gbi5jYWxsKGksYSk7aS5jYWxsTGlzdGVuZXJzKGUsdCxuLGEpfWZvcig7ZS5sZW5ndGg+MDspe3ZhciBjPWUuc2hpZnQoKTtpZihjLl9pc0FzeW5jKXJldHVybiB2b2lkIGMuYXBwbHkoaSx0LmNvbmNhdChbc10pKTt0cnl7Yy5hcHBseShpLHQpfWNhdGNoKGUpe2E9ci51dGlsLmVycm9yKGF8fG5ldyBFcnJvcixlKX1pZihhJiZpLl9oYWx0SGFuZGxlcnNPbkVycm9yKXJldHVybiB2b2lkIG4uY2FsbChpLGEpfW4uY2FsbChpLGEpfSxhZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZS5fZXZlbnRzJiYoZT1lLl9ldmVudHMpLHIudXRpbC5lYWNoKGUsKGZ1bmN0aW9uKGUsbil7ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihuPVtuXSksci51dGlsLmFycmF5RWFjaChuLChmdW5jdGlvbihuKXt0Lm9uKGUsbil9KSl9KSksdH0sYWRkTmFtZWRMaXN0ZW5lcjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpc1tlXT1uLHRoaXMuYWRkTGlzdGVuZXIodCxuLHIpLHRoaXN9LGFkZE5hbWVkQXN5bmNMaXN0ZW5lcjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbi5faXNBc3luYz0hMCx0aGlzLmFkZE5hbWVkTGlzdGVuZXIoZSx0LG4scil9LGFkZE5hbWVkTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUoKGZ1bmN0aW9uKCl7dC5hZGROYW1lZExpc3RlbmVyLmFwcGx5KHQsYXJndW1lbnRzKX0pLChmdW5jdGlvbigpe3QuYWRkTmFtZWRBc3luY0xpc3RlbmVyLmFwcGx5KHQsYXJndW1lbnRzKX0pKSx0aGlzfX0pLHIuU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1yLlNlcXVlbnRpYWxFeGVjdXRvci5wcm90b3R5cGUub24sdC5leHBvcnRzPXIuU2VxdWVudGlhbEV4ZWN1dG9yfSx7Ii4vY29yZSI6MTl9XSw2MjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKSxpPWUoIi4vbW9kZWwvYXBpIiksYT1lKCIuL3JlZ2lvbl9jb25maWciKSxzPXIudXRpbC5pbmhlcml0LGM9MCx1PWUoIi4vcmVnaW9uL3V0aWxzIik7ci5TZXJ2aWNlPXMoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmxvYWRTZXJ2aWNlQ2xhc3MpdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvciwiU2VydmljZSBtdXN0IGJlIGNvbnN0cnVjdGVkIHdpdGggYG5ldycgb3BlcmF0b3IiKTtpZihlKXtpZihlLnJlZ2lvbil7dmFyIHQ9ZS5yZWdpb247dS5pc0ZpcHNSZWdpb24odCkmJihlLnJlZ2lvbj11LmdldFJlYWxSZWdpb24odCksZS51c2VGaXBzRW5kcG9pbnQ9ITApLHUuaXNHbG9iYWxSZWdpb24odCkmJihlLnJlZ2lvbj11LmdldFJlYWxSZWdpb24odCkpfSJib29sZWFuIj09dHlwZW9mIGUudXNlRHVhbHN0YWNrJiYiYm9vbGVhbiIhPXR5cGVvZiBlLnVzZUR1YWxzdGFja0VuZHBvaW50JiYoZS51c2VEdWFsc3RhY2tFbmRwb2ludD1lLnVzZUR1YWxzdGFjayl9dmFyIG49dGhpcy5sb2FkU2VydmljZUNsYXNzKGV8fHt9KTtpZihuKXt2YXIgbz1yLnV0aWwuY29weShlKSxpPW5ldyBuKGUpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX29yaWdpbmFsQ29uZmlnIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5fY2xpZW50SWQ9KytjLGl9dGhpcy5pbml0aWFsaXplKGUpfSxpbml0aWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0PXIuY29uZmlnW3RoaXMuc2VydmljZUlkZW50aWZpZXJdO2lmKHRoaXMuY29uZmlnPW5ldyByLkNvbmZpZyhyLmNvbmZpZyksdCYmdGhpcy5jb25maWcudXBkYXRlKHQsITApLGUmJnRoaXMuY29uZmlnLnVwZGF0ZShlLCEwKSx0aGlzLnZhbGlkYXRlU2VydmljZSgpLHRoaXMuY29uZmlnLmVuZHBvaW50fHxhLmNvbmZpZ3VyZUVuZHBvaW50KHRoaXMpLHRoaXMuY29uZmlnLmVuZHBvaW50PXRoaXMuZW5kcG9pbnRGcm9tVGVtcGxhdGUodGhpcy5jb25maWcuZW5kcG9pbnQpLHRoaXMuc2V0RW5kcG9pbnQodGhpcy5jb25maWcuZW5kcG9pbnQpLHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcyksci5TZXJ2aWNlLmFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzKHRoaXMpLCh0aGlzLmNvbmZpZy5jbGllbnRTaWRlTW9uaXRvcmluZ3x8ci5TZXJ2aWNlLl9jbGllbnRTaWRlTW9uaXRvcmluZykmJnRoaXMucHVibGlzaGVyKXt2YXIgbz10aGlzLnB1Ymxpc2hlcjt0aGlzLmFkZE5hbWVkTGlzdGVuZXIoIlBVQkxJU0hfQVBJX0NBTEwiLCJhcGlDYWxsIiwoZnVuY3Rpb24oZSl7bi5uZXh0VGljaygoZnVuY3Rpb24oKXtvLmV2ZW50SGFuZGxlcihlKX0pKX0pKSx0aGlzLmFkZE5hbWVkTGlzdGVuZXIoIlBVQkxJU0hfQVBJX0FUVEVNUFQiLCJhcGlDYWxsQXR0ZW1wdCIsKGZ1bmN0aW9uKGUpe24ubmV4dFRpY2soKGZ1bmN0aW9uKCl7by5ldmVudEhhbmRsZXIoZSl9KSl9KSl9fSx2YWxpZGF0ZVNlcnZpY2U6ZnVuY3Rpb24oKXt9LGxvYWRTZXJ2aWNlQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtpZihyLnV0aWwuaXNFbXB0eSh0aGlzLmFwaSkpe2lmKHQuYXBpQ29uZmlnKXJldHVybiByLlNlcnZpY2UuZGVmaW5lU2VydmljZUFwaSh0aGlzLmNvbnN0cnVjdG9yLHQuYXBpQ29uZmlnKTtpZih0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzKXsodD1uZXcgci5Db25maWcoci5jb25maWcpKS51cGRhdGUoZSwhMCk7dmFyIG49dC5hcGlWZXJzaW9uc1t0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VJZGVudGlmaWVyXTtyZXR1cm4gbj1ufHx0LmFwaVZlcnNpb24sdGhpcy5nZXRMYXRlc3RTZXJ2aWNlQ2xhc3Mobil9cmV0dXJuIG51bGx9cmV0dXJuIG51bGx9LGdldExhdGVzdFNlcnZpY2VDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldExhdGVzdFNlcnZpY2VWZXJzaW9uKGUpLG51bGw9PT10aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzW2VdJiZyLlNlcnZpY2UuZGVmaW5lU2VydmljZUFwaSh0aGlzLmNvbnN0cnVjdG9yLGUpLHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXNbZV19LGdldExhdGVzdFNlcnZpY2VWZXJzaW9uOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzfHwwPT09dGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJObyBzZXJ2aWNlcyBkZWZpbmVkIG9uICIrdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlSWRlbnRpZmllcik7aWYoZT9yLnV0aWwuaXNUeXBlKGUsRGF0ZSkmJihlPXIudXRpbC5kYXRlLmlzbzg2MDEoZSkuc3BsaXQoIlQiKVswXSk6ZT0ibGF0ZXN0IixPYmplY3QuaGFzT3duUHJvcGVydHkodGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcyxlKSlyZXR1cm4gZTtmb3IodmFyIHQ9T2JqZWN0LmtleXModGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcykuc29ydCgpLG49bnVsbCxvPXQubGVuZ3RoLTE7bz49MDtvLS0paWYoIioiIT09dFtvXVt0W29dLmxlbmd0aC0xXSYmKG49dFtvXSksdFtvXS5zdWJzdHIoMCwxMCk8PWUpcmV0dXJuIG47dGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCAiK3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXIrIiBBUEkgdG8gc2F0aXNmeSB2ZXJzaW9uIGNvbnN0cmFpbnQgYCIrZSsiJyIpfSxhcGk6e30sZGVmYXVsdFJldHJ5Q291bnQ6MyxjdXN0b21pemVSZXF1ZXN0czpmdW5jdGlvbihlKXtpZihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY2FsbGJhY2sgdHlwZSAnIitvKGUpKyInIHByb3ZpZGVkIGluIGN1c3RvbWl6ZVJlcXVlc3RzIik7dGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcj1lfWVsc2UgdGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcj1udWxsfSxtYWtlUmVxdWVzdDpmdW5jdGlvbihlLHQsbil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSx0PXR8fHt9LHRoaXMuY29uZmlnLnBhcmFtcyl7dmFyIG89dGhpcy5hcGkub3BlcmF0aW9uc1tlXTtvJiYodD1yLnV0aWwuY29weSh0KSxyLnV0aWwuZWFjaCh0aGlzLmNvbmZpZy5wYXJhbXMsKGZ1bmN0aW9uKGUsbil7by5pbnB1dC5tZW1iZXJzW2VdJiYodm9pZCAwIT09dFtlXSYmbnVsbCE9PXRbZV18fCh0W2VdPW4pKX0pKSl9dmFyIGk9bmV3IHIuUmVxdWVzdCh0aGlzLGUsdCk7cmV0dXJuIHRoaXMuYWRkQWxsUmVxdWVzdExpc3RlbmVycyhpKSx0aGlzLmF0dGFjaE1vbml0b3JpbmdFbWl0dGVyKGkpLG4mJmkuc2VuZChuKSxpfSxtYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdDpmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIHI9dGhpcy5tYWtlUmVxdWVzdChlLHQpLnRvVW5hdXRoZW50aWNhdGVkKCk7cmV0dXJuIG4/ci5zZW5kKG4pOnJ9LHdhaXRGb3I6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgci5SZXNvdXJjZVdhaXRlcih0aGlzLGUpLndhaXQodCxuKX0sYWRkQWxsUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W3IuZXZlbnRzLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZSx0aGlzLnNlcnZpY2VJbnRlcmZhY2UoKSxyLkV2ZW50TGlzdGVuZXJzLkNvcmVQb3N0XSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmZS5hZGRMaXN0ZW5lcnModFtuXSk7dGhpcy5jb25maWcucGFyYW1WYWxpZGF0aW9ufHxlLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLHRoaXMuY29uZmlnLmxvZ2dlciYmZS5hZGRMaXN0ZW5lcnMoci5FdmVudExpc3RlbmVycy5Mb2dnZXIpLHRoaXMuc2V0dXBSZXF1ZXN0TGlzdGVuZXJzKGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jdXN0b21SZXF1ZXN0SGFuZGxlciYmdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY3VzdG9tUmVxdWVzdEhhbmRsZXIoZSksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsImN1c3RvbVJlcXVlc3RIYW5kbGVyIikmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyJiZ0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyKGUpfSxhcGlDYWxsRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPXtUeXBlOiJBcGlDYWxsIixBcGk6dD90Lm5hbWU6ZS5vcGVyYXRpb24sVmVyc2lvbjoxLFNlcnZpY2U6ZS5zZXJ2aWNlLmFwaS5zZXJ2aWNlSWR8fGUuc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXgsUmVnaW9uOmUuaHR0cFJlcXVlc3QucmVnaW9uLE1heFJldHJpZXNFeGNlZWRlZDowLFVzZXJBZ2VudDplLmh0dHBSZXF1ZXN0LmdldFVzZXJBZ2VudCgpfSxyPWUucmVzcG9uc2U7aWYoci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKG4uRmluYWxIdHRwU3RhdHVzQ29kZT1yLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKSxyLmVycm9yKXt2YXIgbz1yLmVycm9yO3IuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU+Mjk5PyhvLmNvZGUmJihuLkZpbmFsQXdzRXhjZXB0aW9uPW8uY29kZSksby5tZXNzYWdlJiYobi5GaW5hbEF3c0V4Y2VwdGlvbk1lc3NhZ2U9by5tZXNzYWdlKSk6KChvLmNvZGV8fG8ubmFtZSkmJihuLkZpbmFsU2RrRXhjZXB0aW9uPW8uY29kZXx8by5uYW1lKSxvLm1lc3NhZ2UmJihuLkZpbmFsU2RrRXhjZXB0aW9uTWVzc2FnZT1vLm1lc3NhZ2UpKX1yZXR1cm4gbn0sYXBpQXR0ZW1wdEV2ZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj17VHlwZToiQXBpQ2FsbEF0dGVtcHQiLEFwaTp0P3QubmFtZTplLm9wZXJhdGlvbixWZXJzaW9uOjEsU2VydmljZTplLnNlcnZpY2UuYXBpLnNlcnZpY2VJZHx8ZS5zZXJ2aWNlLmFwaS5lbmRwb2ludFByZWZpeCxGcWRuOmUuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUsVXNlckFnZW50OmUuaHR0cFJlcXVlc3QuZ2V0VXNlckFnZW50KCl9LHI9ZS5yZXNwb25zZTtyZXR1cm4gci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKG4uSHR0cFN0YXR1c0NvZGU9ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSksIWUuX3VuQXV0aGVudGljYXRlZCYmZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscyYmZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCYmKG4uQWNjZXNzS2V5PWUuc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnM/KGUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXSYmKG4uU2Vzc2lvblRva2VuPWUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdJiYobi5YQW16blJlcXVlc3RJZD1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXSYmKG4uWEFtelJlcXVlc3RJZD1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1yZXF1ZXN0LWlkIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LWlkLTIiXSYmKG4uWEFteklkMj1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1pZC0yIl0pLG4pOm59LGF0dGVtcHRGYWlsRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hcGlBdHRlbXB0RXZlbnQoZSksbj1lLnJlc3BvbnNlLHI9bi5lcnJvcjtyZXR1cm4gbi5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT4yOTk/KHIuY29kZSYmKHQuQXdzRXhjZXB0aW9uPXIuY29kZSksci5tZXNzYWdlJiYodC5Bd3NFeGNlcHRpb25NZXNzYWdlPXIubWVzc2FnZSkpOigoci5jb2RlfHxyLm5hbWUpJiYodC5TZGtFeGNlcHRpb249ci5jb2RlfHxyLm5hbWUpLHIubWVzc2FnZSYmKHQuU2RrRXhjZXB0aW9uTWVzc2FnZT1yLm1lc3NhZ2UpKSx0fSxhdHRhY2hNb25pdG9yaW5nRW1pdHRlcjpmdW5jdGlvbihlKXt2YXIgdCxuLG8saSxhLHMsYz0wLHU9dGhpcyxsPSEwO2Uub24oInZhbGlkYXRlIiwoZnVuY3Rpb24oKXtpPXIudXRpbC5yZWFsQ2xvY2subm93KCkscz1EYXRlLm5vdygpfSksbCksZS5vbigic2lnbiIsKGZ1bmN0aW9uKCl7bj1yLnV0aWwucmVhbENsb2NrLm5vdygpLHQ9RGF0ZS5ub3coKSxhPWUuaHR0cFJlcXVlc3QucmVnaW9uLGMrK30pLGwpLGUub24oInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbigpe289TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLW4pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTExfQVRURU1QVCIsInN1Y2Nlc3MiLChmdW5jdGlvbigpe3ZhciBuPXUuYXBpQXR0ZW1wdEV2ZW50KGUpO24uVGltZXN0YW1wPXQsbi5BdHRlbXB0TGF0ZW5jeT1vPj0wP286MCxuLlJlZ2lvbj1hLHUuZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFtuXSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTF9BVFRFTVBUX1JFVFJZIiwicmV0cnkiLChmdW5jdGlvbigpe3ZhciBpPXUuYXR0ZW1wdEZhaWxFdmVudChlKTtpLlRpbWVzdGFtcD10LG89b3x8TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLW4pLGkuQXR0ZW1wdExhdGVuY3k9bz49MD9vOjAsaS5SZWdpb249YSx1LmVtaXQoImFwaUNhbGxBdHRlbXB0IixbaV0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTEwiLCJjb21wbGV0ZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9dS5hcGlDYWxsRXZlbnQoZSk7aWYodC5BdHRlbXB0Q291bnQ9YywhKHQuQXR0ZW1wdENvdW50PD0wKSl7dC5UaW1lc3RhbXA9czt2YXIgbj1NYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktaSk7dC5MYXRlbmN5PW4+PTA/bjowO3ZhciBvPWUucmVzcG9uc2U7by5lcnJvciYmby5lcnJvci5yZXRyeWFibGUmJiJudW1iZXIiPT10eXBlb2Ygby5yZXRyeUNvdW50JiYibnVtYmVyIj09dHlwZW9mIG8ubWF4UmV0cmllcyYmby5yZXRyeUNvdW50Pj1vLm1heFJldHJpZXMmJih0Lk1heFJldHJpZXNFeGNlZWRlZD0xKSx1LmVtaXQoImFwaUNhbGwiLFt0XSl9fSkpfSxzZXR1cFJlcXVlc3RMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7fSxnZXRTaWduaW5nTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFwaS5zaWduaW5nTmFtZXx8dGhpcy5hcGkuZW5kcG9pbnRQcmVmaXh9LGdldFNpZ25lckNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG49bnVsbCxvPSIiO3JldHVybiBlJiYobz0obj0oZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dfHxudWxsKT9uLmF1dGh0eXBlOiIiKSx0PXRoaXMuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24/dGhpcy5jb25maWcuc2lnbmF0dXJlVmVyc2lvbjoidjQiPT09b3x8InY0LXVuc2lnbmVkLWJvZHkiPT09bz8idjQiOiJiZWFyZXIiPT09bz8iYmVhcmVyIjp0aGlzLmFwaS5zaWduYXR1cmVWZXJzaW9uLHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb24odCl9LHNlcnZpY2VJbnRlcmZhY2U6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5hcGkucHJvdG9jb2wpe2Nhc2UiZWMyIjpjYXNlInF1ZXJ5IjpyZXR1cm4gci5FdmVudExpc3RlbmVycy5RdWVyeTtjYXNlImpzb24iOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLkpzb247Y2FzZSJyZXN0LWpzb24iOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlJlc3RKc29uO2Nhc2UicmVzdC14bWwiOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlJlc3RYbWx9aWYodGhpcy5hcGkucHJvdG9jb2wpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHNlcnZpY2UgYHByb3RvY29sJyAiK3RoaXMuYXBpLnByb3RvY29sKyIgaW4gQVBJIGNvbmZpZyIpfSxzdWNjZXNzZnVsUmVzcG9uc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU8MzAwfSxudW1SZXRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuY29uZmlnLm1heFJldHJpZXM/dGhpcy5jb25maWcubWF4UmV0cmllczp0aGlzLmRlZmF1bHRSZXRyeUNvdW50fSxyZXRyeURlbGF5czpmdW5jdGlvbihlLHQpe3JldHVybiByLnV0aWwuY2FsY3VsYXRlUmV0cnlEZWxheShlLHRoaXMuY29uZmlnLnJldHJ5RGVsYXlPcHRpb25zLHQpfSxyZXRyeWFibGVFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMudGltZW91dEVycm9yKGUpfHwhIXRoaXMubmV0d29ya2luZ0Vycm9yKGUpfHwhIXRoaXMuZXhwaXJlZENyZWRlbnRpYWxzRXJyb3IoZSl8fCEhdGhpcy50aHJvdHRsZWRFcnJvcihlKXx8ZS5zdGF0dXNDb2RlPj01MDB9LG5ldHdvcmtpbmdFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iTmV0d29ya2luZ0Vycm9yIj09PWUuY29kZX0sdGltZW91dEVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJUaW1lb3V0RXJyb3IiPT09ZS5jb2RlfSxleHBpcmVkQ3JlZGVudGlhbHNFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iRXhwaXJlZFRva2VuRXhjZXB0aW9uIj09PWUuY29kZX0sY2xvY2tTa2V3RXJyb3I6ZnVuY3Rpb24oZSl7c3dpdGNoKGUuY29kZSl7Y2FzZSJSZXF1ZXN0VGltZVRvb1NrZXdlZCI6Y2FzZSJSZXF1ZXN0RXhwaXJlZCI6Y2FzZSJJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uIjpjYXNlIlNpZ25hdHVyZURvZXNOb3RNYXRjaCI6Y2FzZSJBdXRoRmFpbHVyZSI6Y2FzZSJSZXF1ZXN0SW5UaGVGdXR1cmUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRTa2V3Q29ycmVjdGVkRGF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0KX0sYXBwbHlDbG9ja09mZnNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ9ZS1EYXRlLm5vdygpKX0saXNDbG9ja1NrZXdlZDpmdW5jdGlvbihlKXtpZihlKXJldHVybiBNYXRoLmFicyh0aGlzLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkuZ2V0VGltZSgpLWUpPj0zZTV9LHRocm90dGxlZEVycm9yOmZ1bmN0aW9uKGUpe2lmKDQyOT09PWUuc3RhdHVzQ29kZSlyZXR1cm4hMDtzd2l0Y2goZS5jb2RlKXtjYXNlIlByb3Zpc2lvbmVkVGhyb3VnaHB1dEV4Y2VlZGVkRXhjZXB0aW9uIjpjYXNlIlRocm90dGxpbmciOmNhc2UiVGhyb3R0bGluZ0V4Y2VwdGlvbiI6Y2FzZSJSZXF1ZXN0TGltaXRFeGNlZWRlZCI6Y2FzZSJSZXF1ZXN0VGhyb3R0bGVkIjpjYXNlIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb24iOmNhc2UiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uIjpjYXNlIlRyYW5zYWN0aW9uSW5Qcm9ncmVzc0V4Y2VwdGlvbiI6Y2FzZSJFQzJUaHJvdHRsZWRFeGNlcHRpb24iOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxlbmRwb2ludEZyb21UZW1wbGF0ZTpmdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIHQ9ZTtyZXR1cm4gdD0odD0odD10LnJlcGxhY2UoL1x7c2VydmljZVx9L2csdGhpcy5hcGkuZW5kcG9pbnRQcmVmaXgpKS5yZXBsYWNlKC9ce3JlZ2lvblx9L2csdGhpcy5jb25maWcucmVnaW9uKSkucmVwbGFjZSgvXHtzY2hlbWVcfS9nLHRoaXMuY29uZmlnLnNzbEVuYWJsZWQ/Imh0dHBzIjoiaHR0cCIpfSxzZXRFbmRwb2ludDpmdW5jdGlvbihlKXt0aGlzLmVuZHBvaW50PW5ldyByLkVuZHBvaW50KGUsdGhpcy5jb25maWcpfSxwYWdpbmF0aW9uQ29uZmlnOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5hcGkub3BlcmF0aW9uc1tlXS5wYWdpbmF0b3I7aWYoIW4pe2lmKHQpe3ZhciBvPW5ldyBFcnJvcjt0aHJvdyByLnV0aWwuZXJyb3IobywiTm8gcGFnaW5hdGlvbiBjb25maWd1cmF0aW9uIGZvciAiK2UpfXJldHVybiBudWxsfXJldHVybiBufX0pLHIudXRpbC51cGRhdGUoci5TZXJ2aWNlLHtkZWZpbmVNZXRob2RzOmZ1bmN0aW9uKGUpe3IudXRpbC5lYWNoKGUucHJvdG90eXBlLmFwaS5vcGVyYXRpb25zLChmdW5jdGlvbih0KXtlLnByb3RvdHlwZVt0XXx8KCJub25lIj09PWUucHJvdG90eXBlLmFwaS5vcGVyYXRpb25zW3RdLmF1dGh0eXBlP2UucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QodCxlLG4pfTplLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLm1ha2VSZXF1ZXN0KHQsZSxuKX0pfSkpfSxkZWZpbmVTZXJ2aWNlOmZ1bmN0aW9uKGUsdCxuKXtyLlNlcnZpY2UuX3NlcnZpY2VNYXBbZV09ITAsQXJyYXkuaXNBcnJheSh0KXx8KG49dCx0PVtdKTt2YXIgbz1zKHIuU2VydmljZSxufHx7fSk7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtyLlNlcnZpY2UuYWRkVmVyc2lvbnMobyx0KTt2YXIgaT1vLnNlcnZpY2VJZGVudGlmaWVyfHxlO28uc2VydmljZUlkZW50aWZpZXI9aX1lbHNlIG8ucHJvdG90eXBlLmFwaT1lLHIuU2VydmljZS5kZWZpbmVNZXRob2RzKG8pO2lmKHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcy5wcm90b3R5cGUpLCF0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXImJnIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZyl7dmFyIGE9ci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLlB1Ymxpc2hlcixjPSgwLHIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZy5jb25maWdQcm92aWRlcikoKTt0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXI9bmV3IGEoYyksYy5lbmFibGVkJiYoci5TZXJ2aWNlLl9jbGllbnRTaWRlTW9uaXRvcmluZz0hMCl9cmV0dXJuIHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwoby5wcm90b3R5cGUpLHIuU2VydmljZS5hZGREZWZhdWx0TW9uaXRvcmluZ0xpc3RlbmVycyhvLnByb3RvdHlwZSksb30sYWRkVmVyc2lvbnM6ZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLGUuc2VydmljZXM9ZS5zZXJ2aWNlc3x8e307Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdm9pZCAwPT09ZS5zZXJ2aWNlc1t0W25dXSYmKGUuc2VydmljZXNbdFtuXV09bnVsbCk7ZS5hcGlWZXJzaW9ucz1PYmplY3Qua2V5cyhlLnNlcnZpY2VzKS5zb3J0KCl9LGRlZmluZVNlcnZpY2VBcGk6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXMoZSx7c2VydmljZUlkZW50aWZpZXI6ZS5zZXJ2aWNlSWRlbnRpZmllcn0pO2Z1bmN0aW9uIGEodCl7dC5pc0FwaT9vLnByb3RvdHlwZS5hcGk9dDpvLnByb3RvdHlwZS5hcGk9bmV3IGkodCx7c2VydmljZUlkZW50aWZpZXI6ZS5zZXJ2aWNlSWRlbnRpZmllcn0pfWlmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYobilhKG4pO2Vsc2UgdHJ5e2Eoci5hcGlMb2FkZXIoZS5zZXJ2aWNlSWRlbnRpZmllcix0KSl9Y2F0Y2gobil7dGhyb3cgci51dGlsLmVycm9yKG4se21lc3NhZ2U6IkNvdWxkIG5vdCBmaW5kIEFQSSBjb25maWd1cmF0aW9uICIrZS5zZXJ2aWNlSWRlbnRpZmllcisiLSIrdH0pfU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLnNlcnZpY2VzLHQpfHwoZS5hcGlWZXJzaW9ucz1lLmFwaVZlcnNpb25zLmNvbmNhdCh0KS5zb3J0KCkpLGUuc2VydmljZXNbdF09b31lbHNlIGEodCk7cmV0dXJuIHIuU2VydmljZS5kZWZpbmVNZXRob2RzKG8pLG99LGhhc1NlcnZpY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLlNlcnZpY2UuX3NlcnZpY2VNYXAsZSl9LGFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2UuYWRkTmFtZWRMaXN0ZW5lcigiTU9OSVRPUl9FVkVOVFNfQlVCQkxFIiwiYXBpQ2FsbEF0dGVtcHQiLChmdW5jdGlvbih0KXt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7bi5fZXZlbnRzJiZuLmVtaXQoImFwaUNhbGxBdHRlbXB0IixbdF0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQ0FMTF9FVkVOVFNfQlVCQkxFIiwiYXBpQ2FsbCIsKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtuLl9ldmVudHMmJm4uZW1pdCgiYXBpQ2FsbCIsW3RdKX0pKX0sX3NlcnZpY2VNYXA6e319KSxyLnV0aWwubWl4aW4oci5TZXJ2aWNlLHIuU2VxdWVudGlhbEV4ZWN1dG9yKSx0LmV4cG9ydHM9ci5TZXJ2aWNlfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL21vZGVsL2FwaSI6NDAsIi4vcmVnaW9uL3V0aWxzIjo1NSwiLi9yZWdpb25fY29uZmlnIjo1NixfcHJvY2Vzczo5MX1dLDYzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vY29uZmlnX3JlZ2lvbmFsX2VuZHBvaW50Iik7ci51dGlsLnVwZGF0ZShyLlNUUy5wcm90b3R5cGUse2NyZWRlbnRpYWxzRnJvbTpmdW5jdGlvbihlLHQpe3JldHVybiBlPyh0fHwodD1uZXcgci5UZW1wb3JhcnlDcmVkZW50aWFscyksdC5leHBpcmVkPSExLHQuYWNjZXNzS2V5SWQ9ZS5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCx0LnNlY3JldEFjY2Vzc0tleT1lLkNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSx0LnNlc3Npb25Ub2tlbj1lLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbix0LmV4cGlyZVRpbWU9ZS5DcmVkZW50aWFscy5FeHBpcmF0aW9uLHQpOm51bGx9LGFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgiYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSIsZSx0KX0sYXNzdW1lUm9sZVdpdGhTQU1MOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QoImFzc3VtZVJvbGVXaXRoU0FNTCIsZSx0KX0sc2V0dXBSZXF1ZXN0TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2UuYWRkTGlzdGVuZXIoInZhbGlkYXRlIix0aGlzLm9wdEluUmVnaW9uYWxFbmRwb2ludCwhMCl9LG9wdEluUmVnaW9uYWxFbmRwb2ludDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmNvbmZpZztpZihuLnN0c1JlZ2lvbmFsRW5kcG9pbnRzPW8odC5fb3JpZ2luYWxDb25maWcse2VudjoiQVdTX1NUU19SRUdJT05BTF9FTkRQT0lOVFMiLHNoYXJlZENvbmZpZzoic3RzX3JlZ2lvbmFsX2VuZHBvaW50cyIsY2xpZW50Q29uZmlnOiJzdHNSZWdpb25hbEVuZHBvaW50cyJ9KSwicmVnaW9uYWwiPT09bi5zdHNSZWdpb25hbEVuZHBvaW50cyYmdC5pc0dsb2JhbEVuZHBvaW50KXtpZighbi5yZWdpb24pdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyJ9KTt2YXIgaT1uLmVuZHBvaW50LmluZGV4T2YoIi5hbWF6b25hd3MuY29tIiksYT1uLmVuZHBvaW50LnN1YnN0cmluZygwLGkpKyIuIituLnJlZ2lvbituLmVuZHBvaW50LnN1YnN0cmluZyhpKTtlLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGEpLGUuaHR0cFJlcXVlc3QucmVnaW9uPW4ucmVnaW9ufX19KX0seyIuLi9jb25maWdfcmVnaW9uYWxfZW5kcG9pbnQiOjE4LCIuLi9jb3JlIjoxOX1dLDY0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpO3IuU2lnbmVycy5CZWFyZXI9ci51dGlsLmluaGVyaXQoci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcyxlKX0sYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uPSJCZWFyZXIgIitlLnRva2VufX0pfSx7Ii4uL2NvcmUiOjE5fV0sNjU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPSJwcmVzaWduZWQtZXhwaXJlcyI7ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV0sbj1lLnNlcnZpY2UuZ2V0U2lnbmVyQ2xhc3MoZSk7aWYoZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siVXNlci1BZ2VudCJdLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LVVzZXItQWdlbnQiXSxuPT09ci5TaWduZXJzLlY0KXtpZih0PjYwNDgwMCl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJJbnZhbGlkRXhwaXJ5VGltZSIsbWVzc2FnZToiUHJlc2lnbmluZyBkb2VzIG5vdCBzdXBwb3J0IGV4cGlyeSB0aW1lIGdyZWF0ZXIgdGhhbiBhIHdlZWsgd2l0aCBTaWdWNCBzaWduaW5nLiIscmV0cnlhYmxlOiExfSk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXR9ZWxzZXtpZihuIT09ci5TaWduZXJzLlMzKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise21lc3NhZ2U6IlByZXNpZ25pbmcgb25seSBzdXBwb3J0cyBTMyBvciBTaWdWNCBzaWduaW5nLiIsY29kZToiVW5zdXBwb3J0ZWRTaWduZXIiLHJldHJ5YWJsZTohMX0pO3ZhciBvPWUuc2VydmljZT9lLnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKTpyLnV0aWwuZGF0ZS5nZXREYXRlKCk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXBhcnNlSW50KHIudXRpbC5kYXRlLnVuaXhUaW1lc3RhbXAobykrdCwxMCkudG9TdHJpbmcoKX19ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50LG49ci51dGlsLnVybFBhcnNlKGUuaHR0cFJlcXVlc3QucGF0aCksbz17fTtuLnNlYXJjaCYmKG89ci51dGlsLnF1ZXJ5U3RyaW5nUGFyc2Uobi5zZWFyY2guc3Vic3RyKDEpKSk7dmFyIGE9ZS5odHRwUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24uc3BsaXQoIiAiKTtpZigiQVdTIj09PWFbMF0pYT1hWzFdLnNwbGl0KCI6Iiksby5TaWduYXR1cmU9YS5wb3AoKSxvLkFXU0FjY2Vzc0tleUlkPWEuam9pbigiOiIpLHIudXRpbC5lYWNoKGUuaHR0cFJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtlPT09aSYmKGU9IkV4cGlyZXMiKSwwPT09ZS5pbmRleE9mKCJ4LWFtei1tZXRhLSIpJiYoZGVsZXRlIG9bZV0sZT1lLnRvTG93ZXJDYXNlKCkpLG9bZV09dH0pKSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldLGRlbGV0ZSBvLkF1dGhvcml6YXRpb24sZGVsZXRlIG8uSG9zdDtlbHNlIGlmKCJBV1M0LUhNQUMtU0hBMjU2Ij09PWFbMF0pe2Euc2hpZnQoKTt2YXIgcz1hLmpvaW4oIiAiKS5tYXRjaCgvU2lnbmF0dXJlPSguKj8pKD86LHxcc3xccj9cbnwkKS8pWzFdO29bIlgtQW16LVNpZ25hdHVyZSJdPXMsZGVsZXRlIG8uRXhwaXJlc310LnBhdGhuYW1lPW4ucGF0aG5hbWUsdC5zZWFyY2g9ci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobyl9ci5TaWduZXJzLlByZXNpZ249byh7c2lnbjpmdW5jdGlvbihlLHQsbil7aWYoZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXR8fDM2MDAsZS5vbigiYnVpbGQiLGEpLGUub24oInNpZ24iLHMpLGUucmVtb3ZlTGlzdGVuZXIoImFmdGVyQnVpbGQiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5TRVRfQ09OVEVOVF9MRU5HVEgpLGUucmVtb3ZlTGlzdGVuZXIoImFmdGVyQnVpbGQiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5DT01QVVRFX1NIQTI1NiksZS5lbWl0KCJiZWZvcmVQcmVzaWduIixbZV0pLCFuKXtpZihlLmJ1aWxkKCksZS5yZXNwb25zZS5lcnJvcil0aHJvdyBlLnJlc3BvbnNlLmVycm9yO3JldHVybiByLnV0aWwudXJsRm9ybWF0KGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQpfWUuYnVpbGQoKGZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZS5lcnJvcj9uKHRoaXMucmVzcG9uc2UuZXJyb3IpOm4obnVsbCxyLnV0aWwudXJsRm9ybWF0KGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQpKX0pKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlByZXNpZ259LHsiLi4vY29yZSI6MTl9XSw2NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucmVxdWVzdD1lfSxzZXRTZXJ2aWNlQ2xpZW50SWQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXJ2aWNlQ2xpZW50SWQ9ZX0sZ2V0U2VydmljZUNsaWVudElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VydmljZUNsaWVudElkfX0pLHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb249ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UidjIiOnJldHVybiByLlNpZ25lcnMuVjI7Y2FzZSJ2MyI6cmV0dXJuIHIuU2lnbmVycy5WMztjYXNlInMzdjQiOmNhc2UidjQiOnJldHVybiByLlNpZ25lcnMuVjQ7Y2FzZSJzMyI6cmV0dXJuIHIuU2lnbmVycy5TMztjYXNlInYzaHR0cHMiOnJldHVybiByLlNpZ25lcnMuVjNIdHRwcztjYXNlImJlYXJlciI6cmV0dXJuIHIuU2lnbmVycy5CZWFyZXJ9dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHNpZ25pbmcgdmVyc2lvbiAiK2UpfSxlKCIuL3YyIiksZSgiLi92MyIpLGUoIi4vdjNodHRwcyIpLGUoIi4vdjQiKSxlKCIuL3MzIiksZSgiLi9wcmVzaWduIiksZSgiLi9iZWFyZXIiKX0seyIuLi9jb3JlIjoxOSwiLi9iZWFyZXIiOjY0LCIuL3ByZXNpZ24iOjY1LCIuL3MzIjo2NywiLi92MiI6NjgsIi4vdjMiOjY5LCIuL3YzaHR0cHMiOjcwLCIuL3Y0Ijo3MX1dLDY3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlMzPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse3N1YlJlc291cmNlczp7YWNsOjEsYWNjZWxlcmF0ZToxLGFuYWx5dGljczoxLGNvcnM6MSxsaWZlY3ljbGU6MSxkZWxldGU6MSxpbnZlbnRvcnk6MSxsb2NhdGlvbjoxLGxvZ2dpbmc6MSxtZXRyaWNzOjEsbm90aWZpY2F0aW9uOjEscGFydE51bWJlcjoxLHBvbGljeToxLHJlcXVlc3RQYXltZW50OjEscmVwbGljYXRpb246MSxyZXN0b3JlOjEsdGFnZ2luZzoxLHRvcnJlbnQ6MSx1cGxvYWRJZDoxLHVwbG9hZHM6MSx2ZXJzaW9uSWQ6MSx2ZXJzaW9uaW5nOjEsdmVyc2lvbnM6MSx3ZWJzaXRlOjF9LHJlc3BvbnNlSGVhZGVyczp7InJlc3BvbnNlLWNvbnRlbnQtdHlwZSI6MSwicmVzcG9uc2UtY29udGVudC1sYW5ndWFnZSI6MSwicmVzcG9uc2UtZXhwaXJlcyI6MSwicmVzcG9uc2UtY2FjaGUtY29udHJvbCI6MSwicmVzcG9uc2UtY29udGVudC1kaXNwb3NpdGlvbiI6MSwicmVzcG9uc2UtY29udGVudC1lbmNvZGluZyI6MX0sYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3RoaXMucmVxdWVzdC5oZWFkZXJzWyJwcmVzaWduZWQtZXhwaXJlcyJdfHwodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT1yLnV0aWwuZGF0ZS5yZmM4MjIodCkpLGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pO3ZhciBuPXRoaXMuc2lnbihlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpKSxvPSJBV1MgIitlLmFjY2Vzc0tleUlkKyI6IituO3RoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249b30sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LHQ9W107dC5wdXNoKGUubWV0aG9kKSx0LnB1c2goZS5oZWFkZXJzWyJDb250ZW50LU1ENSJdfHwiIiksdC5wdXNoKGUuaGVhZGVyc1siQ29udGVudC1UeXBlIl18fCIiKSx0LnB1c2goZS5oZWFkZXJzWyJwcmVzaWduZWQtZXhwaXJlcyJdfHwiIik7dmFyIG49dGhpcy5jYW5vbmljYWxpemVkQW16SGVhZGVycygpO3JldHVybiBuJiZ0LnB1c2gobiksdC5wdXNoKHRoaXMuY2Fub25pY2FsaXplZFJlc291cmNlKCkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsaXplZEFtekhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLnV0aWwuZWFjaCh0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCl7dC5tYXRjaCgvXngtYW16LS9pKSYmZS5wdXNoKHQpfSkpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPHQudG9Mb3dlckNhc2UoKT8tMToxfSkpO3ZhciB0PVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlKXt0LnB1c2goZS50b0xvd2VyQ2FzZSgpKyI6IitTdHJpbmcodGhpcy5yZXF1ZXN0LmhlYWRlcnNbZV0pKX0pKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbGl6ZWRSZXNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdCx0PWUucGF0aC5zcGxpdCgiPyIpLG49dFswXSxvPXRbMV0saT0iIjtpZihlLnZpcnR1YWxIb3N0ZWRCdWNrZXQmJihpKz0iLyIrZS52aXJ0dWFsSG9zdGVkQnVja2V0KSxpKz1uLG8pe3ZhciBhPVtdO3IudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLG8uc3BsaXQoIiYiKSwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiPSIpWzBdLG49ZS5zcGxpdCgiPSIpWzFdO2lmKHRoaXMuc3ViUmVzb3VyY2VzW3RdfHx0aGlzLnJlc3BvbnNlSGVhZGVyc1t0XSl7dmFyIHI9e25hbWU6dH07dm9pZCAwIT09biYmKHRoaXMuc3ViUmVzb3VyY2VzW3RdP3IudmFsdWU9bjpyLnZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChuKSksYS5wdXNoKHIpfX0pKSxhLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubmFtZTx0Lm5hbWU/LTE6MX0pKSxhLmxlbmd0aCYmKG89W10sci51dGlsLmFycmF5RWFjaChhLChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLnZhbHVlP28ucHVzaChlLm5hbWUpOm8ucHVzaChlLm5hbWUrIj0iK2UudmFsdWUpfSkpLGkrPSI/IitvLmpvaW4oIiYiKSl9cmV0dXJuIGl9LHNpZ246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKGUsdCwiYmFzZTY0Iiwic2hhMSIpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuUzN9LHsiLi4vY29yZSI6MTl9XSw2ODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5WMj1vKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHthZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9ci51dGlsLmRhdGUuZ2V0RGF0ZSgpKTt2YXIgbj10aGlzLnJlcXVlc3Q7bi5wYXJhbXMuVGltZXN0YW1wPXIudXRpbC5kYXRlLmlzbzg2MDEodCksbi5wYXJhbXMuU2lnbmF0dXJlVmVyc2lvbj0iMiIsbi5wYXJhbXMuU2lnbmF0dXJlTWV0aG9kPSJIbWFjU0hBMjU2IixuLnBhcmFtcy5BV1NBY2Nlc3NLZXlJZD1lLmFjY2Vzc0tleUlkLGUuc2Vzc2lvblRva2VuJiYobi5wYXJhbXMuU2VjdXJpdHlUb2tlbj1lLnNlc3Npb25Ub2tlbiksZGVsZXRlIG4ucGFyYW1zLlNpZ25hdHVyZSxuLnBhcmFtcy5TaWduYXR1cmU9dGhpcy5zaWduYXR1cmUoZSksbi5ib2R5PXIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxuLmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl09bi5ib2R5Lmxlbmd0aH0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSwiYmFzZTY0Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKHRoaXMucmVxdWVzdC5lbmRwb2ludC5ob3N0LnRvTG93ZXJDYXNlKCkpLGUucHVzaCh0aGlzLnJlcXVlc3QucGF0aG5hbWUoKSksZS5wdXNoKHIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKHRoaXMucmVxdWVzdC5wYXJhbXMpKSxlLmpvaW4oIlxuIil9fSksdC5leHBvcnRzPXIuU2lnbmVycy5WMn0seyIuLi9jb3JlIjoxOX1dLDY5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlYzPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2FkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnV0aWwuZGF0ZS5yZmM4MjIodCk7dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT1uLGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtem4tQXV0aG9yaXphdGlvbiJdPXRoaXMuYXV0aG9yaXphdGlvbihlLG4pfSxhdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiJBV1MzIEFXU0FjY2Vzc0tleUlkPSIrZS5hY2Nlc3NLZXlJZCsiLEFsZ29yaXRobT1IbWFjU0hBMjU2LFNpZ25lZEhlYWRlcnM9Iit0aGlzLnNpZ25lZEhlYWRlcnMoKSsiLFNpZ25hdHVyZT0iK3RoaXMuc2lnbmF0dXJlKGUpfSxzaWduZWRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2godGhpcy5oZWFkZXJzVG9TaWduKCksKGZ1bmN0aW9uKHQpe2UucHVzaCh0LnRvTG93ZXJDYXNlKCkpfSkpLGUuc29ydCgpLmpvaW4oIjsiKX0sY2Fub25pY2FsSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdC5oZWFkZXJzLHQ9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2godGhpcy5oZWFkZXJzVG9TaWduKCksKGZ1bmN0aW9uKG4pe3QucHVzaChuLnRvTG93ZXJDYXNlKCkudHJpbSgpKyI6IitTdHJpbmcoZVtuXSkudHJpbSgpKX0pKSx0LnNvcnQoKS5qb2luKCJcbiIpKyJcbiJ9LGhlYWRlcnNUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmVhY2godGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQpeygiSG9zdCI9PT10fHwiQ29udGVudC1FbmNvZGluZyI9PT10fHx0Lm1hdGNoKC9eWC1BbXovaSkpJiZlLnB1c2godCl9KSksZX0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSwiYmFzZTY0Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKCIvIiksZS5wdXNoKCIiKSxlLnB1c2godGhpcy5jYW5vbmljYWxIZWFkZXJzKCkpLGUucHVzaCh0aGlzLnJlcXVlc3QuYm9keSksci51dGlsLmNyeXB0by5zaGEyNTYoZS5qb2luKCJcbiIpKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlYzfSx7Ii4uL2NvcmUiOjE5fV0sNzA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtlKCIuL3YzIiksci5TaWduZXJzLlYzSHR0cHM9byhyLlNpZ25lcnMuVjMse2F1dGhvcml6YXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIkFXUzMtSFRUUFMgQVdTQWNjZXNzS2V5SWQ9IitlLmFjY2Vzc0tleUlkKyIsQWxnb3JpdGhtPUhtYWNTSEEyNTYsU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSl9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjNIdHRwc30seyIuLi9jb3JlIjoxOSwiLi92MyI6Njl9XSw3MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4vdjRfY3JlZGVudGlhbHMiKSxpPXIudXRpbC5pbmhlcml0LGE9InByZXNpZ25lZC1leHBpcmVzIjtyLlNpZ25lcnMuVjQ9aShyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4pe3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcyxlKSx0aGlzLnNlcnZpY2VOYW1lPXQsbj1ufHx7fSx0aGlzLnNpZ25hdHVyZUNhY2hlPSJib29sZWFuIiE9dHlwZW9mIG4uc2lnbmF0dXJlQ2FjaGV8fG4uc2lnbmF0dXJlQ2FjaGUsdGhpcy5vcGVyYXRpb249bi5vcGVyYXRpb24sdGhpcy5zaWduYXR1cmVWZXJzaW9uPW4uc2lnbmF0dXJlVmVyc2lvbn0sYWxnb3JpdGhtOiJBV1M0LUhNQUMtU0hBMjU2IixhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49ci51dGlsLmRhdGUuaXNvODYwMSh0KS5yZXBsYWNlKC9bOlwtXXxcLlxkezN9L2csIiIpO3RoaXMuaXNQcmVzaWduZWQoKT90aGlzLnVwZGF0ZUZvclByZXNpZ25lZChlLG4pOnRoaXMuYWRkSGVhZGVycyhlLG4pLHRoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249dGhpcy5hdXRob3JpemF0aW9uKGUsbil9LGFkZEhlYWRlcnM6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPXQsZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbil9LHVwZGF0ZUZvclByZXNpZ25lZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlZGVudGlhbFN0cmluZyh0KSxvPXsiWC1BbXotRGF0ZSI6dCwiWC1BbXotQWxnb3JpdGhtIjp0aGlzLmFsZ29yaXRobSwiWC1BbXotQ3JlZGVudGlhbCI6ZS5hY2Nlc3NLZXlJZCsiLyIrbiwiWC1BbXotRXhwaXJlcyI6dGhpcy5yZXF1ZXN0LmhlYWRlcnNbYV0sIlgtQW16LVNpZ25lZEhlYWRlcnMiOnRoaXMuc2lnbmVkSGVhZGVycygpfTtlLnNlc3Npb25Ub2tlbiYmKG9bIlgtQW16LVNlY3VyaXR5LVRva2VuIl09ZS5zZXNzaW9uVG9rZW4pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSYmKG9bIkNvbnRlbnQtVHlwZSJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il0mJihvWyJDb250ZW50LU1ENSJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LU1ENSJdKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siQ2FjaGUtQ29udHJvbCJdJiYob1siQ2FjaGUtQ29udHJvbCJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDYWNoZS1Db250cm9sIl0pLHIudXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpZihlIT09YSYmdGhpcy5pc1NpZ25hYmxlSGVhZGVyKGUpKXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7MD09PW4uaW5kZXhPZigieC1hbXotbWV0YS0iKT9vW25dPXQ6MD09PW4uaW5kZXhPZigieC1hbXotIikmJihvW2VdPXQpfX0pKTt2YXIgaT10aGlzLnJlcXVlc3QucGF0aC5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt0aGlzLnJlcXVlc3QucGF0aCs9aStyLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhvKX0sYXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9dGhpcy5jcmVkZW50aWFsU3RyaW5nKHQpO3JldHVybiBuLnB1c2godGhpcy5hbGdvcml0aG0rIiBDcmVkZW50aWFsPSIrZS5hY2Nlc3NLZXlJZCsiLyIrciksbi5wdXNoKCJTaWduZWRIZWFkZXJzPSIrdGhpcy5zaWduZWRIZWFkZXJzKCkpLG4ucHVzaCgiU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSx0KSksbi5qb2luKCIsICIpfSxzaWduYXR1cmU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1vLmdldFNpZ25pbmdLZXkoZSx0LnN1YnN0cigwLDgpLHRoaXMucmVxdWVzdC5yZWdpb24sdGhpcy5zZXJ2aWNlTmFtZSx0aGlzLnNpZ25hdHVyZUNhY2hlKTtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKG4sdGhpcy5zdHJpbmdUb1NpZ24odCksImhleCIpfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQucHVzaCgiQVdTNC1ITUFDLVNIQTI1NiIpLHQucHVzaChlKSx0LnB1c2godGhpcy5jcmVkZW50aWFsU3RyaW5nKGUpKSx0LnB1c2godGhpcy5oZXhFbmNvZGVkSGFzaCh0aGlzLmNhbm9uaWNhbFN0cmluZygpKSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMucmVxdWVzdC5wYXRobmFtZSgpO3JldHVybiJzMyIhPT10aGlzLnNlcnZpY2VOYW1lJiYiczN2NCIhPT10aGlzLnNpZ25hdHVyZVZlcnNpb24mJih0PXIudXRpbC51cmlFc2NhcGVQYXRoKHQpKSxlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKHQpLGUucHVzaCh0aGlzLnJlcXVlc3Quc2VhcmNoKCkpLGUucHVzaCh0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSsiXG4iKSxlLnB1c2godGhpcy5zaWduZWRIZWFkZXJzKCkpLGUucHVzaCh0aGlzLmhleEVuY29kZWRCb2R5SGFzaCgpKSxlLmpvaW4oIlxuIil9LGNhbm9uaWNhbEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKFt0LG5dKX0pKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF0udG9Mb3dlckNhc2UoKTx0WzBdLnRvTG93ZXJDYXNlKCk/LTE6MX0pKTt2YXIgdD1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsZSwoZnVuY3Rpb24oZSl7dmFyIG49ZVswXS50b0xvd2VyQ2FzZSgpO2lmKHRoaXMuaXNTaWduYWJsZUhlYWRlcihuKSl7dmFyIG89ZVsxXTtpZihudWxsPT1vfHwiZnVuY3Rpb24iIT10eXBlb2Ygby50b1N0cmluZyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yKCJIZWFkZXIgIituKyIgY29udGFpbnMgaW52YWxpZCB2YWx1ZSIpLHtjb2RlOiJJbnZhbGlkSGVhZGVyIn0pO3QucHVzaChuKyI6Iit0aGlzLmNhbm9uaWNhbEhlYWRlclZhbHVlcyhvLnRvU3RyaW5nKCkpKX19KSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxIZWFkZXJWYWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXHMrL2csIiAiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9LHNpZ25lZEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKSx0aGlzLmlzU2lnbmFibGVIZWFkZXIodCkmJmUucHVzaCh0KX0pKSxlLnNvcnQoKS5qb2luKCI7Iil9LGNyZWRlbnRpYWxTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uY3JlYXRlU2NvcGUoZS5zdWJzdHIoMCw4KSx0aGlzLnJlcXVlc3QucmVnaW9uLHRoaXMuc2VydmljZU5hbWUpfSxoZXhFbmNvZGVkSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gci51dGlsLmNyeXB0by5zaGEyNTYoZSwiaGV4Iil9LGhleEVuY29kZWRCb2R5SGFzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdDtyZXR1cm4gdGhpcy5pc1ByZXNpZ25lZCgpJiZbInMzIiwiczMtb2JqZWN0LWxhbWJkYSJdLmluZGV4T2YodGhpcy5zZXJ2aWNlTmFtZSk+LTEmJiFlLmJvZHk/IlVOU0lHTkVELVBBWUxPQUQiOmUuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT9lLmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il06dGhpcy5oZXhFbmNvZGVkSGFzaCh0aGlzLnJlcXVlc3QuYm9keXx8IiIpfSx1bnNpZ25hYmxlSGVhZGVyczpbImF1dGhvcml6YXRpb24iLCJjb250ZW50LXR5cGUiLCJjb250ZW50LWxlbmd0aCIsInVzZXItYWdlbnQiLGEsImV4cGVjdCIsIngtYW16bi10cmFjZS1pZCJdLGlzU2lnbmFibGVIZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigieC1hbXotIil8fHRoaXMudW5zaWduYWJsZUhlYWRlcnMuaW5kZXhPZihlKTwwfSxpc1ByZXNpZ25lZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5yZXF1ZXN0LmhlYWRlcnNbYV19fSksdC5leHBvcnRzPXIuU2lnbmVycy5WNH0seyIuLi9jb3JlIjoxOSwiLi92NF9jcmVkZW50aWFscyI6NzJ9XSw3MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXt9LGk9W10sYT0iYXdzNF9yZXF1ZXN0Ijt0LmV4cG9ydHM9e2NyZWF0ZVNjb3BlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZS5zdWJzdHIoMCw4KSx0LG4sYV0uam9pbigiLyIpfSxnZXRTaWduaW5nS2V5OmZ1bmN0aW9uKGUsdCxuLHMsYyl7dmFyIHU9W3IudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSxlLmFjY2Vzc0tleUlkLCJiYXNlNjQiKSx0LG4sc10uam9pbigiXyIpO2lmKChjPSExIT09YykmJnUgaW4gbylyZXR1cm4gb1t1XTt2YXIgbD1yLnV0aWwuY3J5cHRvLmhtYWMoIkFXUzQiK2Uuc2VjcmV0QWNjZXNzS2V5LHQsImJ1ZmZlciIpLHA9ci51dGlsLmNyeXB0by5obWFjKGwsbiwiYnVmZmVyIiksZD1yLnV0aWwuY3J5cHRvLmhtYWMocCxzLCJidWZmZXIiKSxoPXIudXRpbC5jcnlwdG8uaG1hYyhkLGEsImJ1ZmZlciIpO3JldHVybiBjJiYob1t1XT1oLGkucHVzaCh1KSxpLmxlbmd0aD41MCYmZGVsZXRlIG9baS5zaGlmdCgpXSksaH0sZW1wdHlDYWNoZTpmdW5jdGlvbigpe289e30saT1bXX19fSx7Ii4uL2NvcmUiOjE5fV0sNzM6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7dGhpcy5jdXJyZW50U3RhdGU9dHx8bnVsbCx0aGlzLnN0YXRlcz1lfHx7fX1yLnByb3RvdHlwZS5ydW5Ubz1mdW5jdGlvbihlLHQsbixyKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHI9bixuPXQsdD1lLGU9bnVsbCk7dmFyIG89dGhpcyxpPW8uc3RhdGVzW28uY3VycmVudFN0YXRlXTtpLmZuLmNhbGwobnx8byxyLChmdW5jdGlvbihyKXtpZihyKXtpZighaS5mYWlsKXJldHVybiB0P3QuY2FsbChuLHIpOm51bGw7by5jdXJyZW50U3RhdGU9aS5mYWlsfWVsc2V7aWYoIWkuYWNjZXB0KXJldHVybiB0P3QuY2FsbChuKTpudWxsO28uY3VycmVudFN0YXRlPWkuYWNjZXB0fWlmKG8uY3VycmVudFN0YXRlPT09ZSlyZXR1cm4gdD90LmNhbGwobixyKTpudWxsO28ucnVuVG8oZSx0LG4scil9KSl9LHIucHJvdG90eXBlLmFkZFN0YXRlPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0PyhyPXQsdD1udWxsLG49bnVsbCk6ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSx0aGlzLmN1cnJlbnRTdGF0ZXx8KHRoaXMuY3VycmVudFN0YXRlPWUpLHRoaXMuc3RhdGVzW2VdPXthY2NlcHQ6dCxmYWlsOm4sZm46cn0sdGhpc30sdC5leHBvcnRzPXJ9LHt9XSw3NDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuLHIpeyhmdW5jdGlvbigpe3ZhciBpLGE9e2Vudmlyb25tZW50OiJub2RlanMiLGVuZ2luZTpmdW5jdGlvbigpe2lmKGEuaXNCcm93c2VyKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yKXJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBlPW4ucGxhdGZvcm0rIi8iK24udmVyc2lvbjtyZXR1cm4gbi5lbnYuQVdTX0VYRUNVVElPTl9FTlYmJihlKz0iIGV4ZWMtZW52LyIrbi5lbnYuQVdTX0VYRUNVVElPTl9FTlYpLGV9LHVzZXJBZ2VudDpmdW5jdGlvbigpe3ZhciB0PWEuZW52aXJvbm1lbnQsbj0iYXdzLXNkay0iK3QrIi8iK2UoIi4vY29yZSIpLlZFUlNJT047cmV0dXJuIm5vZGVqcyI9PT10JiYobis9IiAiK2EuZW5naW5lKCkpLG59LHVyaUVzY2FwZTpmdW5jdGlvbihlKXt2YXIgdD1lbmNvZGVVUklDb21wb25lbnQoZSk7cmV0dXJuIHQ9KHQ9dC5yZXBsYWNlKC9bXkEtWmEtejAtOV8uflwtJV0rL2csZXNjYXBlKSkucmVwbGFjZSgvWypdL2csKGZ1bmN0aW9uKGUpe3JldHVybiIlIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9KSl9LHVyaUVzY2FwZVBhdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGEuYXJyYXlFYWNoKGUuc3BsaXQoIi8iKSwoZnVuY3Rpb24oZSl7dC5wdXNoKGEudXJpRXNjYXBlKGUpKX0pKSx0LmpvaW4oIi8iKX0sdXJsUGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudXJsLnBhcnNlKGUpfSx1cmxGb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudXJsLmZvcm1hdChlKX0scXVlcnlTdHJpbmdQYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gYS5xdWVyeXN0cmluZy5wYXJzZShlKX0scXVlcnlQYXJhbXNUb1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWEudXJpRXNjYXBlLHI9T2JqZWN0LmtleXMoZSkuc29ydCgpO3JldHVybiBhLmFycmF5RWFjaChyLChmdW5jdGlvbihyKXt2YXIgbz1lW3JdLGk9bihyKSxzPWkrIj0iO2lmKEFycmF5LmlzQXJyYXkobykpe3ZhciBjPVtdO2EuYXJyYXlFYWNoKG8sKGZ1bmN0aW9uKGUpe2MucHVzaChuKGUpKX0pKSxzPWkrIj0iK2Muc29ydCgpLmpvaW4oIiYiK2krIj0iKX1lbHNlIG51bGwhPW8mJihzPWkrIj0iK24obykpO3QucHVzaChzKX0pKSx0LmpvaW4oIiYiKX0scmVhZEZpbGVTeW5jOmZ1bmN0aW9uKHQpe3JldHVybiBhLmlzQnJvd3NlcigpP251bGw6ZSgiZnMiKS5yZWFkRmlsZVN5bmModCwidXRmLTgiKX0sYmFzZTY0OntlbmNvZGU6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXRocm93IGEuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgYmFzZTY0IGVuY29kZSBudW1iZXIgIitlKSk7cmV0dXJuIG51bGw9PWU/ZTphLmJ1ZmZlci50b0J1ZmZlcihlKS50b1N0cmluZygiYmFzZTY0Iil9LGRlY29kZTpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBiYXNlNjQgZGVjb2RlIG51bWJlciAiK2UpKTtyZXR1cm4gbnVsbD09ZT9lOmEuYnVmZmVyLnRvQnVmZmVyKGUsImJhc2U2NCIpfX0sYnVmZmVyOnt0b0J1ZmZlcjpmdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLkJ1ZmZlci5mcm9tJiZhLkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tP2EuQnVmZmVyLmZyb20oZSx0KTpuZXcgYS5CdWZmZXIoZSx0KX0sYWxsb2M6ZnVuY3Rpb24oZSx0LG4pe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoInNpemUgcGFzc2VkIHRvIGFsbG9jIG11c3QgYmUgYSBudW1iZXIuIik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGEuQnVmZmVyLmFsbG9jKXJldHVybiBhLkJ1ZmZlci5hbGxvYyhlLHQsbik7dmFyIHI9bmV3IGEuQnVmZmVyKGUpO3JldHVybiB2b2lkIDAhPT10JiYiZnVuY3Rpb24iPT10eXBlb2Ygci5maWxsJiZyLmZpbGwodCx2b2lkIDAsdm9pZCAwLG4pLHJ9LHRvU3RyZWFtOmZ1bmN0aW9uKGUpe2EuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1hLmJ1ZmZlci50b0J1ZmZlcihlKSk7dmFyIHQ9bmV3IGEuc3RyZWFtLlJlYWRhYmxlLG49MDtyZXR1cm4gdC5fcmVhZD1mdW5jdGlvbihyKXtpZihuPj1lLmxlbmd0aClyZXR1cm4gdC5wdXNoKG51bGwpO3ZhciBvPW4rcjtvPmUubGVuZ3RoJiYobz1lLmxlbmd0aCksdC5wdXNoKGUuc2xpY2UobixvKSksbj1vfSx0fSxjb25jYXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPTAsbz0wO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspcis9ZVtuXS5sZW5ndGg7Zm9yKHQ9YS5idWZmZXIuYWxsb2Mociksbj0wO248ZS5sZW5ndGg7bisrKWVbbl0uY29weSh0LG8pLG8rPWVbbl0ubGVuZ3RoO3JldHVybiB0fX0sc3RyaW5nOntieXRlTGVuZ3RoOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuIDA7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1hLmJ1ZmZlci50b0J1ZmZlcih0KSksIm51bWJlciI9PXR5cGVvZiB0LmJ5dGVMZW5ndGgpcmV0dXJuIHQuYnl0ZUxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybiB0Lmxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIHQuc2l6ZSlyZXR1cm4gdC5zaXplO2lmKCJzdHJpbmciPT10eXBlb2YgdC5wYXRoKXJldHVybiBlKCJmcyIpLmxzdGF0U3luYyh0LnBhdGgpLnNpemU7dGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBkZXRlcm1pbmUgbGVuZ3RoIG9mICIrdCkse29iamVjdDp0fSl9LHVwcGVyRmlyc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0udG9VcHBlckNhc2UoKStlLnN1YnN0cigxKX0sbG93ZXJGaXJzdDpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyKDEpfX0saW5pOntwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxuPXt9O3JldHVybiBhLmFycmF5RWFjaChlLnNwbGl0KC9ccj9cbi8pLChmdW5jdGlvbihlKXtpZigiWyI9PT0oZT1lLnNwbGl0KC8oXnxccylbOyNdLylbMF0udHJpbSgpKVswXSYmIl0iPT09ZVtlLmxlbmd0aC0xXSl7aWYoIl9fcHJvdG9fXyI9PT0odD1lLnN1YnN0cmluZygxLGUubGVuZ3RoLTEpKXx8Il9fcHJvdG9fXyI9PT10LnNwbGl0KC9ccy8pWzFdKXRocm93IGEuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgbG9hZCBwcm9maWxlIG5hbWUgJyIrdCsiJyBmcm9tIHNoYXJlZCBpbmkgZmlsZS4iKSl9ZWxzZSBpZih0KXt2YXIgcj1lLmluZGV4T2YoIj0iKSxvPWUubGVuZ3RoLTE7aWYoLTEhPT1yJiYwIT09ciYmciE9PW8pe3ZhciBpPWUuc3Vic3RyaW5nKDAscikudHJpbSgpLHM9ZS5zdWJzdHJpbmcocisxKS50cmltKCk7blt0XT1uW3RdfHx7fSxuW3RdW2ldPXN9fX0pKSxufX0sZm46e25vb3A6ZnVuY3Rpb24oKXt9LGNhbGxiYWNrOmZ1bmN0aW9uKGUpe2lmKGUpdGhyb3cgZX0sbWFrZUFzeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJnQ8PWUubGVuZ3RoP2U6ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7dC5wb3AoKShlLmFwcGx5KG51bGwsdCkpfX19LGRhdGU6e2dldERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaXx8KGk9ZSgiLi9jb3JlIikpLGkuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0P25ldyBEYXRlKChuZXcgRGF0ZSkuZ2V0VGltZSgpK2kuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0KTpuZXcgRGF0ZX0saXNvODYwMTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9YS5kYXRlLmdldERhdGUoKSksZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1wuXGR7M31aJC8sIloiKX0scmZjODIyOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1hLmRhdGUuZ2V0RGF0ZSgpKSxlLnRvVVRDU3RyaW5nKCl9LHVuaXhUaW1lc3RhbXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWEuZGF0ZS5nZXREYXRlKCkpLGUuZ2V0VGltZSgpLzFlM30sZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGU/bmV3IERhdGUoMWUzKmUpOm5ldyBEYXRlKGUpfSxmb3JtYXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9Imlzbzg2MDEiKSxhLmRhdGVbdF0oYS5kYXRlLmZyb20oZSkpfSxwYXJzZVRpbWVzdGFtcDpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpcmV0dXJuIG5ldyBEYXRlKDFlMyplKTtpZihlLm1hdGNoKC9eXGQrJC8pKXJldHVybiBuZXcgRGF0ZSgxZTMqZSk7aWYoZS5tYXRjaCgvXlxkezR9LykpcmV0dXJuIG5ldyBEYXRlKGUpO2lmKGUubWF0Y2goL15cd3szfSwvKSlyZXR1cm4gbmV3IERhdGUoZSk7dGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoInVuaGFuZGxlZCB0aW1lc3RhbXAgZm9ybWF0OiAiK2UpLHtjb2RlOiJUaW1lc3RhbXBQYXJzZXJFcnJvciJ9KX19LGNyeXB0bzp7Y3JjMzJUYWJsZTpbMCwxOTk2OTU5ODk0LDM5OTM5MTk3ODgsMjU2NzUyNDc5NCwxMjQ2MzQxMzcsMTg4NjA1NzYxNSwzOTE1NjIxNjg1LDI2NTczOTIwMzUsMjQ5MjY4Mjc0LDIwNDQ1MDgzMjQsMzc3MjExNTIzMCwyNTQ3MTc3ODY0LDE2Mjk0MTk5NSwyMTI1NTYxMDIxLDM4ODc2MDcwNDcsMjQyODQ0NDA0OSw0OTg1MzY1NDgsMTc4OTkyNzY2Niw0MDg5MDE2NjQ4LDIyMjcwNjEyMTQsNDUwNTQ4ODYxLDE4NDMyNTg2MDMsNDEwNzU4MDc1MywyMjExNjc3NjM5LDMyNTg4Mzk5MCwxNjg0Nzc3MTUyLDQyNTExMjIwNDIsMjMyMTkyNjYzNiwzMzU2MzM0ODcsMTY2MTM2NTQ2NSw0MTk1MzAyNzU1LDIzNjYxMTUzMTcsOTk3MDczMDk2LDEyODE5NTM4ODYsMzU3OTg1NTMzMiwyNzI0Njg4MjQyLDEwMDY4ODgxNDUsMTI1ODYwNzY4NywzNTI0MTAxNjI5LDI3Njg5NDI0NDMsOTAxMDk3NzIyLDExMTkwMDA2ODQsMzY4NjUxNzIwNiwyODk4MDY1NzI4LDg1MzA0NDQ1MSwxMTcyMjY2MTAxLDM3MDUwMTU3NTksMjg4MjYxNjY2NSw2NTE3Njc5ODAsMTM3MzUwMzU0NiwzMzY5NTU0MzA0LDMyMTgxMDQ1OTgsNTY1NTA3MjUzLDE0NTQ2MjE3MzEsMzQ4NTExMTcwNSwzMDk5NDM2MzAzLDY3MTI2Njk3NCwxNTk0MTk4MDI0LDMzMjI3MzA5MzAsMjk3MDM0NzgxMiw3OTU4MzU1MjcsMTQ4MzIzMDIyNSwzMjQ0MzY3Mjc1LDMwNjAxNDk1NjUsMTk5NDE0NjE5MiwzMTE1ODUzNCwyNTYzOTA3NzcyLDQwMjM3MTc5MzAsMTkwNzQ1OTQ2NSwxMTI2MzcyMTUsMjY4MDE1MzI1MywzOTA0NDI3MDU5LDIwMTM3NzYyOTAsMjUxNzIyMDM2LDI1MTcyMTUzNzQsMzc3NTgzMDA0MCwyMTM3NjU2NzYzLDE0MTM3NjgxMywyNDM5Mjc3NzE5LDM4NjUyNzEyOTcsMTgwMjE5NTQ0NCw0NzY4NjQ4NjYsMjIzODAwMTM2OCw0MDY2NTA4ODc4LDE4MTIzNzA5MjUsNDUzMDkyNzMxLDIxODE2MjUwMjUsNDExMTQ1MTIyMywxNzA2MDg4OTAyLDMxNDA0MjcwNCwyMzQ0NTMyMjAyLDQyNDAwMTc1MzIsMTY1ODY1ODI3MSwzNjY2MTk5NzcsMjM2MjY3MDMyMyw0MjI0OTk0NDA1LDEzMDM1MzU5NjAsOTg0OTYxNDg2LDI3NDcwMDcwOTIsMzU2OTAzNzUzOCwxMjU2MTcwODE3LDEwMzc2MDQzMTEsMjc2NTIxMDczMywzNTU0MDc5OTk1LDExMzEwMTQ1MDYsODc5Njc5OTk2LDI5MDkyNDM0NjIsMzY2Mzc3MTg1NiwxMTQxMTI0NDY3LDg1NTg0MjI3NywyODUyODAxNjMxLDM3MDg2NDg2NDksMTM0MjUzMzk0OCw2NTQ0NTkzMDYsMzE4ODM5NjA0OCwzMzczMDE1MTc0LDE0NjY0Nzk5MDksNTQ0MTc5NjM1LDMxMTA1MjM5MTMsMzQ2MjUyMjAxNSwxNTkxNjcxMDU0LDcwMjEzODc3NiwyOTY2NDYwNDUwLDMzNTI3OTk0MTIsMTUwNDkxODgwNyw3ODM1NTE4NzMsMzA4MjY0MDQ0MywzMjMzNDQyOTg5LDM5ODgyOTIzODQsMjU5NjI1NDY0Niw2MjMxNzA2OCwxOTU3ODEwODQyLDM5Mzk4NDU5NDUsMjY0NzgxNjExMSw4MTQ3MDk5NywxOTQzODAzNTIzLDM4MTQ5MTg5MzAsMjQ4OTU5NjgwNCwyMjUyNzQ0MzAsMjA1Mzc5MDM3NiwzODI2MTc1NzU1LDI0NjY5MDYwMTMsMTY3ODE2NzQzLDIwOTc2NTEzNzcsNDAyNzU1MjU4MCwyMjY1NDkwMzg2LDUwMzQ0NDA3MiwxNzYyMDUwODE0LDQxNTA0MTcyNDUsMjE1NDEyOTM1NSw0MjY1MjIyMjUsMTg1MjUwNzg3OSw0Mjc1MzEzNTI2LDIzMTIzMTc5MjAsMjgyNzUzNjI2LDE3NDI1NTU4NTIsNDE4OTcwODE0MywyMzk0ODc3OTQ1LDM5NzkxNzc2MywxNjIyMTgzNjM3LDM2MDQzOTA4ODgsMjcxNDg2NjU1OCw5NTM3Mjk3MzIsMTM0MDA3NjYyNiwzNTE4NzE5OTg1LDI3OTczNjA5OTksMTA2ODgyODM4MSwxMjE5NjM4ODU5LDM2MjQ3NDE4NTAsMjkzNjY3NTE0OCw5MDYxODU0NjIsMTA5MDgxMjUxMiwzNzQ3NjcyMDAzLDI4MjUzNzk2NjksODI5MzI5MTM1LDExODEzMzUxNjEsMzQxMjE3NzgwNCwzMTYwODM0ODQyLDYyODA4NTQwOCwxMzgyNjA1MzY2LDM0MjMzNjkxMDksMzEzODA3ODQ2Nyw1NzA1NjIyMzMsMTQyNjQwMDgxNSwzMzE3MzE2NTQyLDI5OTg3MzM2MDgsNzMzMjM5OTU0LDE1NTUyNjE5NTYsMzI2ODkzNTU5MSwzMDUwMzYwNjI1LDc1MjQ1OTQwMywxNTQxMzIwMjIxLDI2MDcwNzE5MjAsMzk2NTk3MzAzMCwxOTY5OTIyOTcyLDQwNzM1NDk4LDI2MTc4MzcyMjUsMzk0MzU3NzE1MSwxOTEzMDg3ODc3LDgzOTA4MzcxLDI1MTIzNDE2MzQsMzgwMzc0MDY5MiwyMDc1MjA4NjIyLDIxMzI2MTExMiwyNDYzMjcyNjAzLDM4NTU5OTAyODUsMjA5NDg1NDA3MSwxOTg5NTg4ODEsMjI2MjAyOTAxMiw0MDU3MjYwNjEwLDE3NTkzNTk5OTIsNTM0NDE0MTkwLDIxNzY3MTg1NDEsNDEzOTMyOTExNSwxODczODM2MDAxLDQxNDY2NDU2NywyMjgyMjQ4OTM0LDQyNzkyMDAzNjgsMTcxMTY4NDU1NCwyODUyODExMTYsMjQwNTgwMTcyNyw0MTY3MjE2NzQ1LDE2MzQ0Njc3OTUsMzc2MjI5NzAxLDI2ODUwNjc4OTYsMzYwODAwNzQwNiwxMzA4OTE4NjEyLDk1NjU0MzkzOCwyODA4NTU1MTA1LDM0OTU5NTgyNjMsMTIzMTYzNjMwMSwxMDQ3NDI3MDM1LDI5MzI5NTk4MTgsMzY1NDcwMzgzNiwxMDg4MzU5MjcwLDkzNjkxOGUzLDI4NDc3MTQ4OTksMzczNjgzNzgyOSwxMjAyOTAwODYzLDgxNzIzMzg5NywzMTgzMzQyMTA4LDM0MDEyMzcxMzAsMTQwNDI3NzU1Miw2MTU4MTgxNTAsMzEzNDIwNzQ5MywzNDUzNDIxMjAzLDE0MjM4NTc0NDksNjAxNDUwNDMxLDMwMDk4Mzc2MTQsMzI5NDcxMDQ1NiwxNTY3MTAzNzQ2LDcxMTkyODcyNCwzMDIwNjY4NDcxLDMyNzIzODAwNjUsMTUxMDMzNDIzNSw3NTUxNjcxMTddLGNyYzMyOmZ1bmN0aW9uKGUpe3ZhciB0PWEuY3J5cHRvLmNyYzMyVGFibGUsbj0tMTsic3RyaW5nIj09dHlwZW9mIGUmJihlPWEuYnVmZmVyLnRvQnVmZmVyKGUpKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyluPW4+Pj44XnRbMjU1JihuXmUucmVhZFVJbnQ4KHIpKV07cmV0dXJufm4+Pj4wfSxobWFjOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBufHwobj0iYmluYXJ5IiksImJ1ZmZlciI9PT1uJiYobj12b2lkIDApLHJ8fChyPSJzaGEyNTYiKSwic3RyaW5nIj09dHlwZW9mIHQmJih0PWEuYnVmZmVyLnRvQnVmZmVyKHQpKSxhLmNyeXB0by5saWIuY3JlYXRlSG1hYyhyLGUpLnVwZGF0ZSh0KS5kaWdlc3Qobil9LG1kNTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuY3J5cHRvLmhhc2goIm1kNSIsZSx0LG4pfSxzaGEyNTY6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLmNyeXB0by5oYXNoKCJzaGEyNTYiLGUsdCxuKX0saGFzaDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1hLmNyeXB0by5jcmVhdGVIYXNoKGUpO258fChuPSJiaW5hcnkiKSwiYnVmZmVyIj09PW4mJihuPXZvaWQgMCksInN0cmluZyI9PXR5cGVvZiB0JiYodD1hLmJ1ZmZlci50b0J1ZmZlcih0KSk7dmFyIHM9YS5hcnJheVNsaWNlRm4odCksYz1hLkJ1ZmZlci5pc0J1ZmZlcih0KTtpZihhLmlzQnJvd3NlcigpJiYidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0JiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYoYz0hMCksciYmIm9iamVjdCI9PT1vKHQpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5vbiYmIWMpdC5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe2kudXBkYXRlKGUpfSkpLHQub24oImVycm9yIiwoZnVuY3Rpb24oZSl7cihlKX0pKSx0Lm9uKCJlbmQiLChmdW5jdGlvbigpe3IobnVsbCxpLmRpZ2VzdChuKSl9KSk7ZWxzZXtpZighcnx8IXN8fGN8fCJ1bmRlZmluZWQiPT10eXBlb2YgRmlsZVJlYWRlcil7YS5pc0Jyb3dzZXIoKSYmIm9iamVjdCI9PT1vKHQpJiYhYyYmKHQ9bmV3IGEuQnVmZmVyKG5ldyBVaW50OEFycmF5KHQpKSk7dmFyIHU9aS51cGRhdGUodCkuZGlnZXN0KG4pO3JldHVybiByJiZyKG51bGwsdSksdX12YXIgbD0wLHA9bmV3IEZpbGVSZWFkZXI7cC5vbmVycm9yPWZ1bmN0aW9uKCl7cihuZXcgRXJyb3IoIkZhaWxlZCB0byByZWFkIGRhdGEuIikpfSxwLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPW5ldyBhLkJ1ZmZlcihuZXcgVWludDhBcnJheShwLnJlc3VsdCkpO2kudXBkYXRlKGUpLGwrPWUubGVuZ3RoLHAuX2NvbnRpbnVlUmVhZGluZygpfSxwLl9jb250aW51ZVJlYWRpbmc9ZnVuY3Rpb24oKXtpZihsPj10LnNpemUpcihudWxsLGkuZGlnZXN0KG4pKTtlbHNle3ZhciBlPWwrNTI0Mjg4O2U+dC5zaXplJiYoZT10LnNpemUpLHAucmVhZEFzQXJyYXlCdWZmZXIocy5jYWxsKHQsbCxlKSl9fSxwLl9jb250aW51ZVJlYWRpbmcoKX19LHRvSGV4OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKCgiMCIrZS5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yLDIpKTtyZXR1cm4gdC5qb2luKCIiKX0sY3JlYXRlSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gYS5jcnlwdG8ubGliLmNyZWF0ZUhhc2goZSl9fSxhYm9ydDp7fSxlYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQuY2FsbCh0aGlzLG4sZVtuXSk9PT1hLmFib3J0KWJyZWFrfSxhcnJheUVhY2g6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxwYXJzZUludChuLDEwKSk9PT1hLmFib3J0KWJyZWFrfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7ZVt0XT1ufSkpLGV9LG1lcmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEudXBkYXRlKGEuY29weShlKSx0KX0sY29weTpmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiBlO3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gdH0saXNFbXB0eTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0sYXJyYXlTbGljZUZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2xpY2V8fGUud2Via2l0U2xpY2V8fGUubW96U2xpY2U7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsfSxpc1R5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmKHQ9YS50eXBlTmFtZSh0KSksT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPT09IltvYmplY3QgIit0KyJdIn0sdHlwZU5hbWU6ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIm5hbWUiKSlyZXR1cm4gZS5uYW1lO3ZhciB0PWUudG9TdHJpbmcoKSxuPXQubWF0Y2goL15ccypmdW5jdGlvbiAoLispXCgvKTtyZXR1cm4gbj9uWzFdOnR9LGVycm9yOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtmb3IodmFyIHIgaW4ic3RyaW5nIj09dHlwZW9mIGUubWVzc2FnZSYmIiIhPT1lLm1lc3NhZ2UmJigic3RyaW5nIj09dHlwZW9mIHR8fHQmJnQubWVzc2FnZSkmJigobj1hLmNvcHkoZSkpLm1lc3NhZ2U9ZS5tZXNzYWdlKSxlLm1lc3NhZ2U9ZS5tZXNzYWdlfHxudWxsLCJzdHJpbmciPT10eXBlb2YgdD9lLm1lc3NhZ2U9dDoib2JqZWN0Ij09PW8odCkmJm51bGwhPT10JiYoYS51cGRhdGUoZSx0KSx0Lm1lc3NhZ2UmJihlLm1lc3NhZ2U9dC5tZXNzYWdlKSwodC5jb2RlfHx0Lm5hbWUpJiYoZS5jb2RlPXQuY29kZXx8dC5uYW1lKSx0LnN0YWNrJiYoZS5zdGFjaz10LnN0YWNrKSksImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJuYW1lIix7d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJtZXNzYWdlIix7ZW51bWVyYWJsZTohMH0pKSxlLm5hbWU9U3RyaW5nKHQmJnQubmFtZXx8ZS5uYW1lfHxlLmNvZGV8fCJFcnJvciIpLGUudGltZT1uZXcgRGF0ZSxuJiYoZS5vcmlnaW5hbEVycm9yPW4pLHR8fHt9KWlmKCJbIj09PXJbMF0mJiJdIj09PXJbci5sZW5ndGgtMV0pe2lmKCJjb2RlIj09PShyPXIuc2xpY2UoMSwtMSkpfHwibWVzc2FnZSI9PT1yKWNvbnRpbnVlO2VbIlsiK3IrIl0iXT0iU2VlIGVycm9yLiIrcisiIGZvciBkZXRhaWxzLiIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6ZVtyXXx8dCYmdFtyXXx8biYmbltyXSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfSl9cmV0dXJuIGV9LGluaGVyaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsO2lmKHZvaWQgMD09PXQpdD1lLGU9T2JqZWN0LG49e307ZWxzZXt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbj1uZXcgcn1yZXR1cm4gdC5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKHQuY29uc3RydWN0b3I9ZnVuY3Rpb24oKXtpZihlIT09T2JqZWN0KXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHQuY29uc3RydWN0b3IucHJvdG90eXBlPW4sYS51cGRhdGUodC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksdC5jb25zdHJ1Y3Rvci5fX3N1cGVyX189ZSx0LmNvbnN0cnVjdG9yfSxtaXhpbjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBuIGluIGFyZ3VtZW50c1t0XS5wcm90b3R5cGUpe3ZhciByPWFyZ3VtZW50c1t0XS5wcm90b3R5cGVbbl07ImNvbnN0cnVjdG9yIiE9PW4mJihlLnByb3RvdHlwZVtuXT1yKX1yZXR1cm4gZX0saGlkZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5JiZhLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSkpfSxwcm9wZXJ0eTpmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTp2b2lkIDA9PT1yfHxyfTsiZnVuY3Rpb24iIT10eXBlb2Ygbnx8bz8oaS52YWx1ZT1uLGkud3JpdGFibGU9ITApOmkuZ2V0PW4sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxpKX0sbWVtb2l6ZWRQcm9wZXJ0eTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1udWxsO2EucHJvcGVydHkoZSx0LChmdW5jdGlvbigpe3JldHVybiBudWxsPT09byYmKG89bigpKSxvfSkscil9LGhvaXN0UGF5bG9hZE1lbWJlcjpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10Lm9wZXJhdGlvbixyPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1tuXSxvPXIub3V0cHV0O2lmKG8ucGF5bG9hZCYmIXIuaGFzRXZlbnRPdXRwdXQpe3ZhciBpPW8ubWVtYmVyc1tvLnBheWxvYWRdLHM9ZS5kYXRhW28ucGF5bG9hZF07InN0cnVjdHVyZSI9PT1pLnR5cGUmJmEuZWFjaChzLChmdW5jdGlvbih0LG4pe2EucHJvcGVydHkoZS5kYXRhLHQsbiwhMSl9KSl9fSxjb21wdXRlU2hhMjU2OmZ1bmN0aW9uKHQsbil7aWYoYS5pc05vZGUoKSl7dmFyIHI9YS5zdHJlYW0uU3RyZWFtLG89ZSgiZnMiKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmdCBpbnN0YW5jZW9mIHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdC5wYXRoKXJldHVybiBuKG5ldyBFcnJvcigiTm9uLWZpbGUgc3RyZWFtIG9iamVjdHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBTaWdWNCIpKTt2YXIgaT17fTsibnVtYmVyIj09dHlwZW9mIHQuc3RhcnQmJihpLnN0YXJ0PXQuc3RhcnQpLCJudW1iZXIiPT10eXBlb2YgdC5lbmQmJihpLmVuZD10LmVuZCksdD1vLmNyZWF0ZVJlYWRTdHJlYW0odC5wYXRoLGkpfX1hLmNyeXB0by5zaGEyNTYodCwiaGV4IiwoZnVuY3Rpb24oZSx0KXtlP24oZSk6bihudWxsLHQpfSkpfSxpc0Nsb2NrU2tld2VkOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGEucHJvcGVydHkoaS5jb25maWcsImlzQ2xvY2tTa2V3ZWQiLE1hdGguYWJzKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWUpPj0zZTUsITEpLGkuY29uZmlnLmlzQ2xvY2tTa2V3ZWR9LGFwcGx5Q2xvY2tPZmZzZXQ6ZnVuY3Rpb24oZSl7ZSYmKGkuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0PWUtKG5ldyBEYXRlKS5nZXRUaW1lKCkpfSxleHRyYWN0UmVxdWVzdElkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXXx8ZS5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdOyF0JiZlLmRhdGEmJmUuZGF0YS5SZXNwb25zZU1ldGFkYXRhJiYodD1lLmRhdGEuUmVzcG9uc2VNZXRhZGF0YS5SZXF1ZXN0SWQpLHQmJihlLnJlcXVlc3RJZD10KSxlLmVycm9yJiYoZS5lcnJvci5yZXF1ZXN0SWQ9dCl9LGFkZFByb21pc2VzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ITE7dm9pZCAwPT09dCYmaSYmaS5jb25maWcmJih0PWkuY29uZmlnLmdldFByb21pc2VzRGVwZW5kZW5jeSgpKSx2b2lkIDA9PT10JiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb21pc2UmJih0PVByb21pc2UpLCJmdW5jdGlvbiIhPXR5cGVvZiB0JiYobj0hMCksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTtuP28uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MmJm8uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MoKTpvLmFkZFByb21pc2VzVG9DbGFzcyYmby5hZGRQcm9taXNlc1RvQ2xhc3ModCl9fSxwcm9taXNpZnlNZXRob2Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7ci5wdXNoKChmdW5jdGlvbihlLG4pe2U/byhlKTp0KG4pfSkpLG5bZV0uYXBwbHkobixyKX0pKX19LGlzRHVhbHN0YWNrQXZhaWxhYmxlOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3ZhciBuPWUoIi4uL2FwaXMvbWV0YWRhdGEuanNvbiIpO3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmKHQ9dC5zZXJ2aWNlSWRlbnRpZmllciksISgic3RyaW5nIiE9dHlwZW9mIHR8fCFuLmhhc093blByb3BlcnR5KHQpfHwhblt0XS5kdWFsc3RhY2tBdmFpbGFibGUpfSxjYWxjdWxhdGVSZXRyeURlbGF5OmZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSk7dmFyIHI9dC5jdXN0b21CYWNrb2ZmfHxudWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiByKGUsbik7dmFyIG89Im51bWJlciI9PXR5cGVvZiB0LmJhc2U/dC5iYXNlOjEwMDtyZXR1cm4gTWF0aC5yYW5kb20oKSooTWF0aC5wb3coMixlKSpvKX0saGFuZGxlUmVxdWVzdFdpdGhSZXRyaWVzOmZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSk7dmFyIHI9aS5IdHRwQ2xpZW50LmdldEluc3RhbmNlKCksbz10Lmh0dHBPcHRpb25zfHx7fSxzPTAsYz1mdW5jdGlvbihlKXt2YXIgcj10Lm1heFJldHJpZXN8fDA7aWYoZSYmIlRpbWVvdXRFcnJvciI9PT1lLmNvZGUmJihlLnJldHJ5YWJsZT0hMCksZSYmZS5yZXRyeWFibGUmJnM8cil7dmFyIG89YS5jYWxjdWxhdGVSZXRyeURlbGF5KHMsdC5yZXRyeURlbGF5T3B0aW9ucyxlKTtpZihvPj0wKXJldHVybiBzKyssdm9pZCBzZXRUaW1lb3V0KHUsbysoZS5yZXRyeUFmdGVyfHwwKSl9bihlKX0sdT1mdW5jdGlvbigpe3ZhciB0PSIiO3IuaGFuZGxlUmVxdWVzdChlLG8sKGZ1bmN0aW9uKGUpe2Uub24oImRhdGEiLChmdW5jdGlvbihlKXt0Kz1lLnRvU3RyaW5nKCl9KSksZS5vbigiZW5kIiwoZnVuY3Rpb24oKXt2YXIgcj1lLnN0YXR1c0NvZGU7aWYocjwzMDApbihudWxsLHQpO2Vsc2V7dmFyIG89MWUzKnBhcnNlSW50KGUuaGVhZGVyc1sicmV0cnktYWZ0ZXIiXSwxMCl8fDAsaT1hLmVycm9yKG5ldyBFcnJvcix7c3RhdHVzQ29kZTpyLHJldHJ5YWJsZTpyPj01MDB8fDQyOT09PXJ9KTtvJiZpLnJldHJ5YWJsZSYmKGkucmV0cnlBZnRlcj1vKSxjKGkpfX0pKX0pLGMpfTtpLnV0aWwuZGVmZXIodSl9LHV1aWQ6e3Y0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoInV1aWQiKS52NCgpfX0sY29udmVydFBheWxvYWRUb1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10Lm9wZXJhdGlvbixyPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1tuXS5vdXRwdXR8fHt9O3IucGF5bG9hZCYmZS5kYXRhW3IucGF5bG9hZF0mJihlLmRhdGFbci5wYXlsb2FkXT1lLmRhdGFbci5wYXlsb2FkXS50b1N0cmluZygpKX0sZGVmZXI6ZnVuY3Rpb24oZSl7Im9iamVjdCI9PT1vKG4pJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZXh0VGljaz9uLm5leHRUaWNrKGUpOiJmdW5jdGlvbiI9PXR5cGVvZiByP3IoZSk6c2V0VGltZW91dChlLDApfSxnZXRSZXF1ZXN0UGF5bG9hZFNoYXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9ucztpZih0KXt2YXIgbj0odHx8e30pW2Uub3BlcmF0aW9uXTtpZihuJiZuLmlucHV0JiZuLmlucHV0LnBheWxvYWQpcmV0dXJuIG4uaW5wdXQubWVtYmVyc1tuLmlucHV0LnBheWxvYWRdfX0sZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30sbz17fTtuLmVudlthLmNvbmZpZ09wdEluRW52XSYmKG89ZS5sb2FkRnJvbSh7aXNDb25maWc6ITAsZmlsZW5hbWU6bi5lbnZbYS5zaGFyZWRDb25maWdGaWxlRW52XX0pKTt2YXIgaT17fTt0cnl7aT1lLmxvYWRGcm9tKHtmaWxlbmFtZTp0fHxuLmVudlthLmNvbmZpZ09wdEluRW52XSYmbi5lbnZbYS5zaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnZdfSl9Y2F0Y2goZSl7aWYoIW4uZW52W2EuY29uZmlnT3B0SW5FbnZdKXRocm93IGV9Zm9yKHZhciBzPTAsYz1PYmplY3Qua2V5cyhvKTtzPGMubGVuZ3RoO3MrKylyW2Nbc11dPXUocltjW3NdXXx8e30sb1tjW3NdXSk7Zm9yKHM9MCxjPU9iamVjdC5rZXlzKGkpO3M8Yy5sZW5ndGg7cysrKXJbY1tzXV09dShyW2Nbc11dfHx7fSxpW2Nbc11dKTtyZXR1cm4gcjtmdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciBuPTAscj1PYmplY3Qua2V5cyh0KTtuPHIubGVuZ3RoO24rKyllW3Jbbl1dPXRbcltuXV07cmV0dXJuIGV9fSxBUk46e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYwPT09ZS5pbmRleE9mKCJhcm46IikmJmUuc3BsaXQoIjoiKS5sZW5ndGg+PTZ9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIjoiKTtyZXR1cm57cGFydGl0aW9uOnRbMV0sc2VydmljZTp0WzJdLHJlZ2lvbjp0WzNdLGFjY291bnRJZDp0WzRdLHJlc291cmNlOnQuc2xpY2UoNSkuam9pbigiOiIpfX0sYnVpbGQ6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5zZXJ2aWNlfHx2b2lkIDA9PT1lLnJlZ2lvbnx8dm9pZCAwPT09ZS5hY2NvdW50SWR8fHZvaWQgMD09PWUucmVzb3VyY2UpdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIklucHV0IEFSTiBvYmplY3QgaXMgaW52YWxpZCIpKTtyZXR1cm4iYXJuOiIrKGUucGFydGl0aW9ufHwiYXdzIikrIjoiK2Uuc2VydmljZSsiOiIrZS5yZWdpb24rIjoiK2UuYWNjb3VudElkKyI6IitlLnJlc291cmNlfX0sZGVmYXVsdFByb2ZpbGU6ImRlZmF1bHQiLGNvbmZpZ09wdEluRW52OiJBV1NfU0RLX0xPQURfQ09ORklHIixzaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnY6IkFXU19TSEFSRURfQ1JFREVOVElBTFNfRklMRSIsc2hhcmVkQ29uZmlnRmlsZUVudjoiQVdTX0NPTkZJR19GSUxFIixpbWRzRGlzYWJsZWRFbnY6IkFXU19FQzJfTUVUQURBVEFfRElTQUJMRUQifTt0LmV4cG9ydHM9YX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSxlKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUpfSx7Ii4uL2FwaXMvbWV0YWRhdGEuanNvbiI6NCwiLi9jb3JlIjoxOSxfcHJvY2Vzczo5MSxmczo4Mix0aW1lcnM6OTksdXVpZDoxMDJ9XSw3NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL21vZGVsL3NoYXBlIik7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkscj0wLG89bi5sZW5ndGg7cjxvO3IrKylpZihuW3JdLnBhcmVudE5vZGU9PT1lKXJldHVybiBuW3JdfWZ1bmN0aW9uIHMoZSx0KXtzd2l0Y2godHx8KHQ9e30pLHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBjKGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17fSxyPXQua2V5Lm5hbWV8fCJrZXkiLG89dC52YWx1ZS5uYW1lfHwidmFsdWUiLGk9dC5mbGF0dGVuZWQ/dC5uYW1lOiJlbnRyeSIsYz1lLmZpcnN0RWxlbWVudENoaWxkO2M7KXtpZihjLm5vZGVOYW1lPT09aSl7dmFyIHU9YShjLHIpLnRleHRDb250ZW50LGw9YShjLG8pO25bdV09cyhsLHQudmFsdWUpfWM9Yy5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIG59KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj10LmZsYXR0ZW5lZD90Lm5hbWU6dC5tZW1iZXIubmFtZXx8Im1lbWJlciIsbz1lLmZpcnN0RWxlbWVudENoaWxkO287KW8ubm9kZU5hbWU9PT1yJiZuLnB1c2gocyhvLHQubWVtYmVyKSksbz1vLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbn0oZSx0KTtjYXNlIHZvaWQgMDpjYXNlIG51bGw6cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIiI7aWYoIWUuZmlyc3RFbGVtZW50Q2hpbGQpcmV0dXJuIG51bGw9PT1lLnBhcmVudE5vZGUucGFyZW50Tm9kZT97fTowPT09ZS5jaGlsZE5vZGVzLmxlbmd0aD8iIjplLnRleHRDb250ZW50O2Zvcih2YXIgdD17dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fSxuPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bjspe3ZhciByPW4ubm9kZU5hbWU7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQubWVtYmVycyxyKT90Lm1lbWJlcnNbcl0udHlwZT0ibGlzdCI6dC5tZW1iZXJzW3JdPXtuYW1lOnJ9LG49bi5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIGMoZSx0KX0oZSk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihlLmdldEF0dHJpYnV0ZSl7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoImVuY29kaW5nIik7ImJhc2U2NCI9PT1uJiYodD1uZXcgby5jcmVhdGUoe3R5cGU6bn0pKX12YXIgcj1lLnRleHRDb250ZW50O3JldHVybiIiPT09ciYmKHI9bnVsbCksImZ1bmN0aW9uIj09dHlwZW9mIHQudG9UeXBlP3QudG9UeXBlKHIpOnJ9KGUsdCl9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fTtyZXR1cm4gbnVsbD09PWV8fHIuZWFjaCh0Lm1lbWJlcnMsKGZ1bmN0aW9uKHIsbyl7aWYoby5pc1htbEF0dHJpYnV0ZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuYXR0cmlidXRlcyxvLm5hbWUpKXt2YXIgaT1lLmF0dHJpYnV0ZXNbby5uYW1lXS52YWx1ZTtuW3JdPXMoe3RleHRDb250ZW50Oml9LG8pfX1lbHNle3ZhciBjPW8uZmxhdHRlbmVkP2U6YShlLG8ubmFtZSk7Yz9uW3JdPXMoYyxvKTpvLmZsYXR0ZW5lZHx8Imxpc3QiIT09by50eXBlfHx0LmFwaS54bWxOb0RlZmF1bHRMaXN0c3x8KG5bcl09by5kZWZhdWx0VmFsdWUpfX0pKSxufWkucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7aWYoIiI9PT1lLnJlcGxhY2UoL15ccysvLCIiKSlyZXR1cm57fTt2YXIgbixvO3RyeXtpZih3aW5kb3cuRE9NUGFyc2VyKXt0cnl7bj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsInRleHQveG1sIil9Y2F0Y2goZSl7dGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIlBhcnNlIGVycm9yIGluIGRvY3VtZW50Iikse29yaWdpbmFsRXJyb3I6ZSxjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSl9aWYobnVsbD09PW4uZG9jdW1lbnRFbGVtZW50KXRocm93IHIuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgcGFyc2UgZW1wdHkgZG9jdW1lbnQuIikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KTt2YXIgaT1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdO2lmKGkmJihpLnBhcmVudE5vZGU9PT1ufHwiYm9keSI9PT1pLnBhcmVudE5vZGUubm9kZU5hbWV8fGkucGFyZW50Tm9kZS5wYXJlbnROb2RlPT09bnx8ImJvZHkiPT09aS5wYXJlbnROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUpKXt2YXIgYz1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXXx8aTt0aHJvdyByLmVycm9yKG5ldyBFcnJvcihjLnRleHRDb250ZW50fHwiUGFyc2VyIGVycm9yIGluIGRvY3VtZW50Iikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX19ZWxzZXtpZighd2luZG93LkFjdGl2ZVhPYmplY3QpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbG9hZCBYTUwgcGFyc2VyIik7aWYoKG49bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikpLmFzeW5jPSExLCFuLmxvYWRYTUwoZSkpdGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIlBhcnNlIGVycm9yIGluIGRvY3VtZW50Iikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX19Y2F0Y2goZSl7bz1lfWlmKG4mJm4uZG9jdW1lbnRFbGVtZW50JiYhbyl7dmFyIHU9cyhuLmRvY3VtZW50RWxlbWVudCx0KSxsPWEobi5kb2N1bWVudEVsZW1lbnQsIlJlc3BvbnNlTWV0YWRhdGEiKTtyZXR1cm4gbCYmKHUuUmVzcG9uc2VNZXRhZGF0YT1zKGwse30pKSx1fWlmKG8pdGhyb3cgci5lcnJvcihvfHxuZXcgRXJyb3Ise2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KTtyZXR1cm57fX0sdC5leHBvcnRzPWl9LHsiLi4vbW9kZWwvc2hhcGUiOjQ1LCIuLi91dGlsIjo3NH1dLDc2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi94bWwtbm9kZSIpLlhtbE5vZGUsaT1lKCIuL3htbC10ZXh0IikuWG1sVGV4dDtmdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIHMoZSx0LG4pe3N3aXRjaChuLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3IuYXJyYXlFYWNoKG4ubWVtYmVyTmFtZXMsKGZ1bmN0aW9uKHIpe3ZhciBpPW4ubWVtYmVyc1tyXTtpZigiYm9keSI9PT1pLmxvY2F0aW9uKXt2YXIgYT10W3JdLHU9aS5uYW1lO2lmKG51bGwhPWEpaWYoaS5pc1htbEF0dHJpYnV0ZSllLmFkZEF0dHJpYnV0ZSh1LGEpO2Vsc2UgaWYoaS5mbGF0dGVuZWQpcyhlLGEsaSk7ZWxzZXt2YXIgbD1uZXcgbyh1KTtlLmFkZENoaWxkTm9kZShsKSxjKGwsaSkscyhsLGEsaSl9fX0pKX0oZSx0LG4pO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4ua2V5Lm5hbWV8fCJrZXkiLGE9bi52YWx1ZS5uYW1lfHwidmFsdWUiO3IuZWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPW5ldyBvKG4uZmxhdHRlbmVkP24ubmFtZToiZW50cnkiKTtlLmFkZENoaWxkTm9kZShjKTt2YXIgdT1uZXcgbyhpKSxsPW5ldyBvKGEpO2MuYWRkQ2hpbGROb2RlKHUpLGMuYWRkQ2hpbGROb2RlKGwpLHModSx0LG4ua2V5KSxzKGwscixuLnZhbHVlKX0pKX0oZSx0LG4pO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtuLmZsYXR0ZW5lZD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXt2YXIgcj1uLm1lbWJlci5uYW1lfHxuLm5hbWUsaT1uZXcgbyhyKTtlLmFkZENoaWxkTm9kZShpKSxzKGksdCxuLm1lbWJlcil9KSk6ci5hcnJheUVhY2godCwoZnVuY3Rpb24odCl7dmFyIHI9bi5tZW1iZXIubmFtZXx8Im1lbWJlciIsaT1uZXcgbyhyKTtlLmFkZENoaWxkTm9kZShpKSxzKGksdCxuLm1lbWJlcil9KSl9KGUsdCxuKTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQsbil7ZS5hZGRDaGlsZE5vZGUobmV3IGkobi50b1dpcmVGb3JtYXQodCkpKX0oZSx0LG4pfX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcixvPSJ4bWxucyI7dC54bWxOYW1lc3BhY2VVcmk/KHI9dC54bWxOYW1lc3BhY2VVcmksdC54bWxOYW1lc3BhY2VQcmVmaXgmJihvKz0iOiIrdC54bWxOYW1lc3BhY2VQcmVmaXgpKTpuJiZ0LmFwaS54bWxOYW1lc3BhY2VVcmkmJihyPXQuYXBpLnhtbE5hbWVzcGFjZVVyaSksciYmZS5hZGRBdHRyaWJ1dGUobyxyKX1hLnByb3RvdHlwZS50b1hNTD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uZXcgbyhuKTtyZXR1cm4gYyhpLHQsITApLHMoaSxlLHQpLGkuY2hpbGRyZW4ubGVuZ3RoPjB8fHI/aS50b1N0cmluZygpOiIifSx0LmV4cG9ydHM9YX0seyIuLi91dGlsIjo3NCwiLi94bWwtbm9kZSI6NzksIi4veG1sLXRleHQiOjgwfV0sNzc6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2VzY2FwZUF0dHJpYnV0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvJy9nLCImYXBvczsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpfX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXNjYXBlRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvXHIvZywiJiN4MEQ7IikucmVwbGFjZSgvXG4vZywiJiN4MEE7IikucmVwbGFjZSgvXHUwMDg1L2csIiYjeDg1OyIpLnJlcGxhY2UoL1x1MjAyOC8sIiYjeDIwMjg7Iil9fX0se31dLDc5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9lc2NhcGUtYXR0cmlidXRlIikuZXNjYXBlQXR0cmlidXRlO2Z1bmN0aW9uIG8oZSx0KXt2b2lkIDA9PT10JiYodD1bXSksdGhpcy5uYW1lPWUsdGhpcy5jaGlsZHJlbj10LHRoaXMuYXR0cmlidXRlcz17fX1vLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2VdPXQsdGhpc30sby5wcm90b3R5cGUuYWRkQ2hpbGROb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNoaWxkcmVuLnB1c2goZSksdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe3JldHVybiBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW2VdLHRoaXN9LG8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPUJvb2xlYW4odGhpcy5jaGlsZHJlbi5sZW5ndGgpLHQ9IjwiK3RoaXMubmFtZSxuPXRoaXMuYXR0cmlidXRlcyxvPTAsaT1PYmplY3Qua2V5cyhuKTtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxzPW5bYV07bnVsbCE9cyYmKHQrPSIgIithKyc9IicrcigiIitzKSsnIicpfXJldHVybiB0KyhlPyI+Iit0aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9TdHJpbmcoKX0pKS5qb2luKCIiKSsiPC8iK3RoaXMubmFtZSsiPiI6Ii8+Iil9LHQuZXhwb3J0cz17WG1sTm9kZTpvfX0seyIuL2VzY2FwZS1hdHRyaWJ1dGUiOjc3fV0sODA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2VzY2FwZS1lbGVtZW50IikuZXNjYXBlRWxlbWVudDtmdW5jdGlvbiBvKGUpe3RoaXMudmFsdWU9ZX1vLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByKCIiK3RoaXMudmFsdWUpfSx0LmV4cG9ydHM9e1htbFRleHQ6b319LHsiLi9lc2NhcGUtZWxlbWVudCI6Nzh9XSw4MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9YyhlKSxuPXRbMF0scj10WzFdO3JldHVybiAzKihuK3IpLzQtcn0sbi50b0J5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9YyhlKSxhPXJbMF0scz1yWzFdLHU9bmV3IGkoZnVuY3Rpb24oZSx0LG4pe3JldHVybiAzKih0K24pLzQtbn0oMCxhLHMpKSxsPTAscD1zPjA/YS00OmE7Zm9yKG49MDtuPHA7bis9NCl0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MTh8b1tlLmNoYXJDb2RlQXQobisxKV08PDEyfG9bZS5jaGFyQ29kZUF0KG4rMildPDw2fG9bZS5jaGFyQ29kZUF0KG4rMyldLHVbbCsrXT10Pj4xNiYyNTUsdVtsKytdPXQ+PjgmMjU1LHVbbCsrXT0yNTUmdDtyZXR1cm4gMj09PXMmJih0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MnxvW2UuY2hhckNvZGVBdChuKzEpXT4+NCx1W2wrK109MjU1JnQpLDE9PT1zJiYodD1vW2UuY2hhckNvZGVBdChuKV08PDEwfG9bZS5jaGFyQ29kZUF0KG4rMSldPDw0fG9bZS5jaGFyQ29kZUF0KG4rMildPj4yLHVbbCsrXT10Pj44JjI1NSx1W2wrK109MjU1JnQpLHV9LG4uZnJvbUJ5dGVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aCxvPW4lMyxpPVtdLGE9MTYzODMscz0wLGM9bi1vO3M8YztzKz1hKWkucHVzaCh1KGUscyxzK2E+Yz9jOnMrYSkpO3JldHVybiAxPT09bz8odD1lW24tMV0saS5wdXNoKHJbdD4+Ml0rclt0PDw0JjYzXSsiPT0iKSk6Mj09PW8mJih0PShlW24tMl08PDgpK2Vbbi0xXSxpLnB1c2goclt0Pj4xMF0rclt0Pj40JjYzXStyW3Q8PDImNjNdKyI9IikpLGkuam9pbigiIil9O2Zvcih2YXIgcj1bXSxvPVtdLGk9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIscz0wO3M8NjQ7KytzKXJbc109YVtzXSxvW2EuY2hhckNvZGVBdChzKV09cztmdW5jdGlvbiBjKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQlND4wKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCIpO3ZhciBuPWUuaW5kZXhPZigiPSIpO3JldHVybi0xPT09biYmKG49dCksW24sbj09PXQ/MDo0LW4lNF19ZnVuY3Rpb24gdShlLHQsbil7Zm9yKHZhciBvLGksYT1bXSxzPXQ7czxuO3MrPTMpbz0oZVtzXTw8MTYmMTY3MTE2ODApKyhlW3MrMV08PDgmNjUyODApKygyNTUmZVtzKzJdKSxhLnB1c2goclsoaT1vKT4+MTgmNjNdK3JbaT4+MTImNjNdK3JbaT4+NiY2M10rcls2MyZpXSk7cmV0dXJuIGEuam9pbigiIil9b1siLSIuY2hhckNvZGVBdCgwKV09NjIsb1siXyIuY2hhckNvZGVBdCgwKV09NjN9LHt9XSw4MjpbZnVuY3Rpb24oZSx0LG4pe30se31dLDgzOltmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX06dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dDt2YXIgbj1mdW5jdGlvbigpe307bi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19LHt9XSw4NDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIm9iamVjdCI9PT1vKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jb3B5JiYiZnVuY3Rpb24iPT10eXBlb2YgZS5maWxsJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5yZWFkVUludDh9fSx7fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCxuKXsoZnVuY3Rpb24oKXt2YXIgaT0vJVtzZGolXS9nO3IuZm9ybWF0PWZ1bmN0aW9uKGUpe2lmKCF5KGUpKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGMoYXJndW1lbnRzW25dKSk7cmV0dXJuIHQuam9pbigiICIpfW49MTtmb3IodmFyIHI9YXJndW1lbnRzLG89ci5sZW5ndGgsYT1TdHJpbmcoZSkucmVwbGFjZShpLChmdW5jdGlvbihlKXtpZigiJSUiPT09ZSlyZXR1cm4iJSI7aWYobj49bylyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZSIlcyI6cmV0dXJuIFN0cmluZyhyW24rK10pO2Nhc2UiJWQiOnJldHVybiBOdW1iZXIocltuKytdKTtjYXNlIiVqIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJbbisrXSl9Y2F0Y2goZSl7cmV0dXJuIltDaXJjdWxhcl0ifWRlZmF1bHQ6cmV0dXJuIGV9fSkpLHM9cltuXTtuPG87cz1yWysrbl0pbShzKXx8IUUocyk/YSs9IiAiK3M6YSs9IiAiK2Mocyk7cmV0dXJuIGF9LHIuZGVwcmVjYXRlPWZ1bmN0aW9uKGUsbyl7aWYoYihuLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiByLmRlcHJlY2F0ZShlLG8pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoITA9PT10Lm5vRGVwcmVjYXRpb24pcmV0dXJuIGU7dmFyIGk9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWkpe2lmKHQudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3Iobyk7dC50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2Uobyk6Y29uc29sZS5lcnJvcihvKSxpPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O3ZhciBhLHM9e307ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXtzZWVuOltdLHN0eWxpemU6bH07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihuLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKG4uY29sb3JzPWFyZ3VtZW50c1szXSksZyh0KT9uLnNob3dIaWRkZW49dDp0JiZyLl9leHRlbmQobix0KSxiKG4uc2hvd0hpZGRlbikmJihuLnNob3dIaWRkZW49ITEpLGIobi5kZXB0aCkmJihuLmRlcHRoPTIpLGIobi5jb2xvcnMpJiYobi5jb2xvcnM9ITEpLGIobi5jdXN0b21JbnNwZWN0KSYmKG4uY3VzdG9tSW5zcGVjdD0hMCksbi5jb2xvcnMmJihuLnN0eWxpemU9dSkscChuLGUsbi5kZXB0aCl9ZnVuY3Rpb24gdShlLHQpe3ZhciBuPWMuc3R5bGVzW3RdO3JldHVybiBuPyIbWyIrYy5jb2xvcnNbbl1bMF0rIm0iK2UrIhtbIitjLmNvbG9yc1tuXVsxXSsibSI6ZX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQsbil7aWYoZS5jdXN0b21JbnNwZWN0JiZ0JiZUKHQuaW5zcGVjdCkmJnQuaW5zcGVjdCE9PXIuaW5zcGVjdCYmKCF0LmNvbnN0cnVjdG9yfHx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXQpKXt2YXIgbz10Lmluc3BlY3QobixlKTtyZXR1cm4geShvKXx8KG89cChlLG8sbikpLG99dmFyIGk9ZnVuY3Rpb24oZSx0KXtpZihiKHQpKXJldHVybiBlLnN0eWxpemUoInVuZGVmaW5lZCIsInVuZGVmaW5lZCIpO2lmKHkodCkpe3ZhciBuPSInIitKU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC9eInwiJC9nLCIiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykrIiciO3JldHVybiBlLnN0eWxpemUobiwic3RyaW5nIil9cmV0dXJuIHYodCk/ZS5zdHlsaXplKCIiK3QsIm51bWJlciIpOmcodCk/ZS5zdHlsaXplKCIiK3QsImJvb2xlYW4iKTptKHQpP2Uuc3R5bGl6ZSgibnVsbCIsIm51bGwiKTp2b2lkIDB9KGUsdCk7aWYoaSlyZXR1cm4gaTt2YXIgYT1PYmplY3Qua2V5cyh0KSxzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dFtlXT0hMH0pKSx0fShhKTtpZihlLnNob3dIaWRkZW4mJihhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpKSxJKHQpJiYoYS5pbmRleE9mKCJtZXNzYWdlIik+PTB8fGEuaW5kZXhPZigiZGVzY3JpcHRpb24iKT49MCkpcmV0dXJuIGQodCk7aWYoMD09PWEubGVuZ3RoKXtpZihUKHQpKXt2YXIgYz10Lm5hbWU/IjogIit0Lm5hbWU6IiI7cmV0dXJuIGUuc3R5bGl6ZSgiW0Z1bmN0aW9uIitjKyJdIiwic3BlY2lhbCIpfWlmKFModCkpcmV0dXJuIGUuc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksInJlZ2V4cCIpO2lmKEModCkpcmV0dXJuIGUuc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJkYXRlIik7aWYoSSh0KSlyZXR1cm4gZCh0KX12YXIgdSxsPSIiLEU9ITEsdz1bInsiLCJ9Il07cmV0dXJuIGYodCkmJihFPSEwLHc9WyJbIiwiXSJdKSxUKHQpJiYobD0iIFtGdW5jdGlvbiIrKHQubmFtZT8iOiAiK3QubmFtZToiIikrIl0iKSxTKHQpJiYobD0iICIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSxDKHQpJiYobD0iICIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh0KSksSSh0KSYmKGw9IiAiK2QodCkpLDAhPT1hLmxlbmd0aHx8RSYmMCE9dC5sZW5ndGg/bjwwP1ModCk/ZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik6ZS5zdHlsaXplKCJbT2JqZWN0XSIsInNwZWNpYWwiKTooZS5zZWVuLnB1c2godCksdT1FP2Z1bmN0aW9uKGUsdCxuLHIsbyl7Zm9yKHZhciBpPVtdLGE9MCxzPXQubGVuZ3RoO2E8czsrK2EpUih0LFN0cmluZyhhKSk/aS5wdXNoKGgoZSx0LG4scixTdHJpbmcoYSksITApKTppLnB1c2goIiIpO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKG8pe28ubWF0Y2goL15cZCskLyl8fGkucHVzaChoKGUsdCxuLHIsbywhMCkpfSkpLGl9KGUsdCxuLHMsYSk6YS5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiBoKGUsdCxuLHMscixFKX0pKSxlLnNlZW4ucG9wKCksZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmluZGV4T2YoIlxuIiksZSt0LnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSksMCk7cmV0dXJuIHI+NjA/blswXSsoIiI9PT10PyIiOnQrIlxuICIpKyIgIitlLmpvaW4oIixcbiAgIikrIiAiK25bMV06blswXSt0KyIgIitlLmpvaW4oIiwgIikrIiAiK25bMV19KHUsbCx3KSk6d1swXStsK3dbMV19ZnVuY3Rpb24gZChlKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkrIl0ifWZ1bmN0aW9uIGgoZSx0LG4scixvLGkpe3ZhciBhLHMsYztpZigoYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyl8fHt2YWx1ZTp0W29dfSkuZ2V0P3M9Yy5zZXQ/ZS5zdHlsaXplKCJbR2V0dGVyL1NldHRlcl0iLCJzcGVjaWFsIik6ZS5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTpjLnNldCYmKHM9ZS5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKSksUihyLG8pfHwoYT0iWyIrbysiXSIpLHN8fChlLnNlZW4uaW5kZXhPZihjLnZhbHVlKTwwPyhzPW0obik/cChlLGMudmFsdWUsbnVsbCk6cChlLGMudmFsdWUsbi0xKSkuaW5kZXhPZigiXG4iKT4tMSYmKHM9aT9zLnNwbGl0KCJcbiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiAgIitlfSkpLmpvaW4oIlxuIikuc3Vic3RyKDIpOiJcbiIrcy5zcGxpdCgiXG4iKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIgICAiK2V9KSkuam9pbigiXG4iKSk6cz1lLnN0eWxpemUoIltDaXJjdWxhcl0iLCJzcGVjaWFsIikpLGIoYSkpe2lmKGkmJm8ubWF0Y2goL15cZCskLykpcmV0dXJuIHM7KGE9SlNPTi5zdHJpbmdpZnkoIiIrbykpLm1hdGNoKC9eIihbYS16QS1aX11bYS16QS1aXzAtOV0qKSIkLyk/KGE9YS5zdWJzdHIoMSxhLmxlbmd0aC0yKSxhPWUuc3R5bGl6ZShhLCJuYW1lIikpOihhPWEucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpLnJlcGxhY2UoLyheInwiJCkvZywiJyIpLGE9ZS5zdHlsaXplKGEsInN0cmluZyIpKX1yZXR1cm4gYSsiOiAiK3N9ZnVuY3Rpb24gZihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBnKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4gbnVsbD09PWV9ZnVuY3Rpb24gdihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24geShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9ZnVuY3Rpb24gYihlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBTKGUpe3JldHVybiBFKGUpJiYiW29iamVjdCBSZWdFeHBdIj09PXcoZSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4ib2JqZWN0Ij09PW8oZSkmJm51bGwhPT1lfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIEUoZSkmJiJbb2JqZWN0IERhdGVdIj09PXcoZSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gRShlKSYmKCJbb2JqZWN0IEVycm9yXSI9PT13KGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIFQoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGU8MTA/IjAiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfXIuZGVidWdsb2c9ZnVuY3Rpb24oZSl7aWYoYihhKSYmKGE9dC5lbnYuTk9ERV9ERUJVR3x8IiIpLGU9ZS50b1VwcGVyQ2FzZSgpLCFzW2VdKWlmKG5ldyBSZWdFeHAoIlxcYiIrZSsiXFxiIiwiaSIpLnRlc3QoYSkpe3ZhciBuPXQucGlkO3NbZV09ZnVuY3Rpb24oKXt2YXIgdD1yLmZvcm1hdC5hcHBseShyLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcigiJXMgJWQ6ICVzIixlLG4sdCl9fWVsc2Ugc1tlXT1mdW5jdGlvbigpe307cmV0dXJuIHNbZV19LHIuaW5zcGVjdD1jLGMuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxjLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLGJvb2xlYW46InllbGxvdyIsdW5kZWZpbmVkOiJncmV5IixudWxsOiJib2xkIixzdHJpbmc6ImdyZWVuIixkYXRlOiJtYWdlbnRhIixyZWdleHA6InJlZCJ9LHIuaXNBcnJheT1mLHIuaXNCb29sZWFuPWcsci5pc051bGw9bSxyLmlzTnVsbE9yVW5kZWZpbmVkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfSxyLmlzTnVtYmVyPXYsci5pc1N0cmluZz15LHIuaXNTeW1ib2w9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PT1vKGUpfSxyLmlzVW5kZWZpbmVkPWIsci5pc1JlZ0V4cD1TLHIuaXNPYmplY3Q9RSxyLmlzRGF0ZT1DLHIuaXNFcnJvcj1JLHIuaXNGdW5jdGlvbj1ULHIuaXNQcmltaXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGV8fCJzdHJpbmciPT10eXBlb2YgZXx8InN5bWJvbCI9PT1vKGUpfHx2b2lkIDA9PT1lfSxyLmlzQnVmZmVyPWUoIi4vc3VwcG9ydC9pc0J1ZmZlciIpO3ZhciBfPVsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl07ZnVuY3Rpb24gUihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX1yLmxvZz1mdW5jdGlvbigpe3ZhciBlLHQ7Y29uc29sZS5sb2coIiVzIC0gJXMiLChlPW5ldyBEYXRlLHQ9W0EoZS5nZXRIb3VycygpKSxBKGUuZ2V0TWludXRlcygpKSxBKGUuZ2V0U2Vjb25kcygpKV0uam9pbigiOiIpLFtlLmdldERhdGUoKSxfW2UuZ2V0TW9udGgoKV0sdF0uam9pbigiICIpKSxyLmZvcm1hdC5hcHBseShyLGFyZ3VtZW50cykpfSxyLmluaGVyaXRzPWUoImluaGVyaXRzIiksci5fZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFFKHQpKXJldHVybiBlO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPW4ubGVuZ3RoO3ItLTspZVtuW3JdXT10W25bcl1dO3JldHVybiBlfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjo4NCxfcHJvY2Vzczo5MSxpbmhlcml0czo4M31dLDg2OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQsbil7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhc2U2NC1qcyIpLG89ZSgiaWVlZTc1NCIpLGk9ZSgiaXNhcnJheSIpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gYy5UWVBFRF9BUlJBWV9TVVBQT1JUPzIxNDc0ODM2NDc6MTA3Mzc0MTgyM31mdW5jdGlvbiBzKGUsdCl7aWYoYSgpPHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoIik7cmV0dXJuIGMuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT1uZXcgVWludDhBcnJheSh0KSkuX19wcm90b19fPWMucHJvdG90eXBlOihudWxsPT09ZSYmKGU9bmV3IGModCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gYyhlLHQsbil7aWYoIShjLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBjKSlyZXR1cm4gbmV3IGMoZSx0LG4pO2lmKCJudW1iZXIiPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmciKTtyZXR1cm4gcCh0aGlzLGUpfXJldHVybiB1KHRoaXMsZSx0LG4pfWZ1bmN0aW9uIHUoZSx0LG4scil7aWYoIm51bWJlciI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24oZSx0LG4scil7aWYodC5ieXRlTGVuZ3RoLG48MHx8dC5ieXRlTGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHMiKTtpZih0LmJ5dGVMZW5ndGg8bisocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHMiKTtyZXR1cm4gdD12b2lkIDA9PT1uJiZ2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCxuKTpuZXcgVWludDhBcnJheSh0LG4sciksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPXQpLl9fcHJvdG9fXz1jLnByb3RvdHlwZTplPWQoZSx0KSxlfShlLHQsbixyKToic3RyaW5nIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSx0LG4pe2lmKCJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1ufHwobj0idXRmOCIpLCFjLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcignImVuY29kaW5nIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyk7dmFyIHI9MHxmKHQsbiksbz0oZT1zKGUscikpLndyaXRlKHQsbik7cmV0dXJuIG8hPT1yJiYoZT1lLnNsaWNlKDAsbykpLGV9KGUsdCxuKTpmdW5jdGlvbihlLHQpe2lmKGMuaXNCdWZmZXIodCkpe3ZhciBuPTB8aCh0Lmxlbmd0aCk7cmV0dXJuIDA9PT0oZT1zKGUsbikpLmxlbmd0aHx8dC5jb3B5KGUsMCwwLG4pLGV9aWYodCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8Imxlbmd0aCJpbiB0KXJldHVybiJudW1iZXIiIT10eXBlb2YgdC5sZW5ndGh8fChyPXQubGVuZ3RoKSE9cj9zKGUsMCk6ZChlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiZpKHQuZGF0YSkpcmV0dXJuIGQoZSx0LmRhdGEpfXZhciByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX0oZSx0KX1mdW5jdGlvbiBsKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gcChlLHQpe2lmKGwodCksZT1zKGUsdDwwPzA6MHxoKHQpKSwhYy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgbj0wO248dDsrK24pZVtuXT0wO3JldHVybiBlfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj10Lmxlbmd0aDwwPzA6MHxoKHQubGVuZ3RoKTtlPXMoZSxuKTtmb3IodmFyIHI9MDtyPG47cis9MSllW3JdPTI1NSZ0W3JdO3JldHVybiBlfWZ1bmN0aW9uIGgoZSl7aWYoZT49YSgpKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IithKCkudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIGYoZSx0KXtpZihjLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiBlLmJ5dGVMZW5ndGg7InN0cmluZyIhPXR5cGVvZiBlJiYoZT0iIitlKTt2YXIgbj1lLmxlbmd0aDtpZigwPT09bilyZXR1cm4gMDtmb3IodmFyIHI9ITE7Oylzd2l0Y2godCl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gbjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiBxKGUpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIDIqbjtjYXNlImhleCI6cmV0dXJuIG4+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gQihlKS5sZW5ndGg7ZGVmYXVsdDppZihyKXJldHVybiBxKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIGcoZSx0LG4pe3ZhciByPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLG48PTApcmV0dXJuIiI7aWYoKG4+Pj49MCk8PSh0Pj4+PTApKXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gTyh0aGlzLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gQSh0aGlzLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIFIodGhpcyx0LG4pO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEwodGhpcyx0LG4pO2Nhc2UiYmFzZTY0IjpyZXR1cm4gdyh0aGlzLHQsbik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBrKHRoaXMsdCxuKTtkZWZhdWx0OmlmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtlPShlKyIiKS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIG0oZSx0LG4pe3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1mdW5jdGlvbiB2KGUsdCxuLHIsbyl7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xO2lmKCJzdHJpbmciPT10eXBlb2Ygbj8ocj1uLG49MCk6bj4yMTQ3NDgzNjQ3P249MjE0NzQ4MzY0NzpuPC0yMTQ3NDgzNjQ4JiYobj0tMjE0NzQ4MzY0OCksbj0rbixpc05hTihuKSYmKG49bz8wOmUubGVuZ3RoLTEpLG48MCYmKG49ZS5sZW5ndGgrbiksbj49ZS5sZW5ndGgpe2lmKG8pcmV0dXJuLTE7bj1lLmxlbmd0aC0xfWVsc2UgaWYobjwwKXtpZighbylyZXR1cm4tMTtuPTB9aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1jLmZyb20odCxyKSksYy5pc0J1ZmZlcih0KSlyZXR1cm4gMD09PXQubGVuZ3RoPy0xOnkoZSx0LG4scixvKTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuIHQmPTI1NSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQmJiJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP28/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxuKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxuKTp5KGUsW3RdLG4scixvKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiB5KGUsdCxuLHIsbyl7dmFyIGksYT0xLHM9ZS5sZW5ndGgsYz10Lmxlbmd0aDtpZih2b2lkIDAhPT1yJiYoInVjczIiPT09KHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09cnx8InV0ZjE2bGUiPT09cnx8InV0Zi0xNmxlIj09PXIpKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO2E9MixzLz0yLGMvPTIsbi89Mn1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIDE9PT1hP2VbdF06ZS5yZWFkVUludDE2QkUodCphKX1pZihvKXt2YXIgbD0tMTtmb3IoaT1uO2k8cztpKyspaWYodShlLGkpPT09dSh0LC0xPT09bD8wOmktbCkpe2lmKC0xPT09bCYmKGw9aSksaS1sKzE9PT1jKXJldHVybiBsKmF9ZWxzZS0xIT09bCYmKGktPWktbCksbD0tMX1lbHNlIGZvcihuK2M+cyYmKG49cy1jKSxpPW47aT49MDtpLS0pe2Zvcih2YXIgcD0hMCxkPTA7ZDxjO2QrKylpZih1KGUsaStkKSE9PXUodCxkKSl7cD0hMTticmVha31pZihwKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIGIoZSx0LG4scil7bj1OdW1iZXIobil8fDA7dmFyIG89ZS5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSk+byYmKHI9byk6cj1vO3ZhciBpPXQubGVuZ3RoO2lmKGklMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTtyPmkvMiYmKHI9aS8yKTtmb3IodmFyIGE9MDthPHI7KythKXt2YXIgcz1wYXJzZUludCh0LnN1YnN0cigyKmEsMiksMTYpO2lmKGlzTmFOKHMpKXJldHVybiBhO2VbbithXT1zfXJldHVybiBhfWZ1bmN0aW9uIFMoZSx0LG4scil7cmV0dXJuIEcocSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBFKGUsdCxuLHIpe3JldHVybiBHKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDsrK24pdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fSh0KSxlLG4scil9ZnVuY3Rpb24gQyhlLHQsbixyKXtyZXR1cm4gRShlLHQsbixyKX1mdW5jdGlvbiBJKGUsdCxuLHIpe3JldHVybiBHKEIodCksZSxuLHIpfWZ1bmN0aW9uIFQoZSx0LG4scil7cmV0dXJuIEcoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixvLGk9W10sYT0wO2E8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrYSlyPShuPWUuY2hhckNvZGVBdChhKSk+Pjgsbz1uJTI1NixpLnB1c2gobyksaS5wdXNoKHIpO3JldHVybiBpfSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiB3KGUsdCxyKXtyZXR1cm4gMD09PXQmJnI9PT1lLmxlbmd0aD9uLmZyb21CeXRlQXJyYXkoZSk6bi5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gQShlLHQsbil7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIHI9W10sbz10O288bjspe3ZhciBpLGEscyxjLHU9ZVtvXSxsPW51bGwscD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKG8rcDw9bilzd2l0Y2gocCl7Y2FzZSAxOnU8MTI4JiYobD11KTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihpPWVbbysxXSkpJiYoYz0oMzEmdSk8PDZ8NjMmaSk+MTI3JiYobD1jKTticmVhaztjYXNlIDM6aT1lW28rMV0sYT1lW28rMl0sMTI4PT0oMTkyJmkpJiYxMjg9PSgxOTImYSkmJihjPSgxNSZ1KTw8MTJ8KDYzJmkpPDw2fDYzJmEpPjIwNDcmJihjPDU1Mjk2fHxjPjU3MzQzKSYmKGw9Yyk7YnJlYWs7Y2FzZSA0Omk9ZVtvKzFdLGE9ZVtvKzJdLHM9ZVtvKzNdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImcykmJihjPSgxNSZ1KTw8MTh8KDYzJmkpPDwxMnwoNjMmYSk8PDZ8NjMmcyk+NjU1MzUmJmM8MTExNDExMiYmKGw9Yyl9bnVsbD09PWw/KGw9NjU1MzMscD0xKTpsPjY1NTM1JiYobC09NjU1MzYsci5wdXNoKGw+Pj4xMCYxMDIzfDU1Mjk2KSxsPTU2MzIwfDEwMjMmbCksci5wdXNoKGwpLG8rPXB9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PV8pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO2Zvcih2YXIgbj0iIixyPTA7cjx0OyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKHIscis9XykpO3JldHVybiBufShyKX1yLkJ1ZmZlcj1jLHIuU2xvd0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4rZSE9ZSYmKGU9MCksYy5hbGxvYygrZSl9LHIuSU5TUEVDVF9NQVhfQllURVM9NTAsYy5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PXQuVFlQRURfQVJSQVlfU1VQUE9SVD90LlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSxyLmtNYXhMZW5ndGg9YSgpLGMucG9vbFNpemU9ODE5MixjLl9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fXz1jLnByb3RvdHlwZSxlfSxjLmZyb209ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB1KG51bGwsZSx0LG4pfSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihjLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsYy5fX3Byb3RvX189VWludDhBcnJheSwidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJmNbU3ltYm9sLnNwZWNpZXNdPT09YyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGMsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLGMuYWxsb2M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbCh0KSx0PD0wP3MoZSx0KTp2b2lkIDAhPT1uPyJzdHJpbmciPT10eXBlb2Ygcj9zKGUsdCkuZmlsbChuLHIpOnMoZSx0KS5maWxsKG4pOnMoZSx0KX0obnVsbCxlLHQsbil9LGMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHAobnVsbCxlKX0sYy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHAobnVsbCxlKX0sYy5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCFjLmlzQnVmZmVyKGUpfHwhYy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciBuPWUubGVuZ3RoLHI9dC5sZW5ndGgsbz0wLGk9TWF0aC5taW4obixyKTtvPGk7KytvKWlmKGVbb10hPT10W29dKXtuPWVbb10scj10W29dO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0sYy5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxjLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFpKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGMuYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09dClmb3IodD0wLG49MDtuPGUubGVuZ3RoOysrbil0Kz1lW25dLmxlbmd0aDt2YXIgcj1jLmFsbG9jVW5zYWZlKHQpLG89MDtmb3Iobj0wO248ZS5sZW5ndGg7KytuKXt2YXIgYT1lW25dO2lmKCFjLmlzQnVmZmVyKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTthLmNvcHkocixvKSxvKz1hLmxlbmd0aH1yZXR1cm4gcn0sYy5ieXRlTGVuZ3RoPWYsYy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGMucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9MiltKHRoaXMsdCx0KzEpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpbSh0aGlzLHQsdCszKSxtKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OCltKHRoaXMsdCx0KzcpLG0odGhpcyx0KzEsdCs2KSxtKHRoaXMsdCsyLHQrNSksbSh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1lPyIiOjA9PT1hcmd1bWVudHMubGVuZ3RoP0EodGhpcywwLGUpOmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO3JldHVybiB0aGlzPT09ZXx8MD09PWMuY29tcGFyZSh0aGlzLGUpfSxjLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9IiIsdD1yLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoZT10aGlzLnRvU3RyaW5nKCJoZXgiLDAsdCkubWF0Y2goLy57Mn0vZykuam9pbigiICIpLHRoaXMubGVuZ3RoPnQmJihlKz0iIC4uLiAiKSksIjxCdWZmZXIgIitlKyI+In0sYy5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQsbixyLG8pe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSx0PDB8fG4+ZS5sZW5ndGh8fHI8MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocj49byYmdD49bilyZXR1cm4gMDtpZihyPj1vKXJldHVybi0xO2lmKHQ+PW4pcmV0dXJuIDE7aWYodGhpcz09PWUpcmV0dXJuIDA7Zm9yKHZhciBpPShvPj4+PTApLShyPj4+PTApLGE9KG4+Pj49MCktKHQ+Pj49MCkscz1NYXRoLm1pbihpLGEpLHU9dGhpcy5zbGljZShyLG8pLGw9ZS5zbGljZSh0LG4pLHA9MDtwPHM7KytwKWlmKHVbcF0hPT1sW3BdKXtpPXVbcF0sYT1sW3BdO2JyZWFrfXJldHVybiBpPGE/LTE6YTxpPzE6MH0sYy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybi0xIT09dGhpcy5pbmRleE9mKGUsdCxuKX0sYy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHYodGhpcyxlLHQsbiwhMCl9LGMucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0aGlzLGUsdCxuLCExKX0sYy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aWYodm9pZCAwPT09dClyPSJ1dGY4IixuPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PW4mJiJzdHJpbmciPT10eXBlb2YgdClyPXQsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3R8PTAsaXNGaW5pdGUobik/KG58PTAsdm9pZCAwPT09ciYmKHI9InV0ZjgiKSk6KHI9bixuPXZvaWQgMCl9dmFyIG89dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09bnx8bj5vKSYmKG49byksZS5sZW5ndGg+MCYmKG48MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTtyfHwocj0idXRmOCIpO2Zvcih2YXIgaT0hMTs7KXN3aXRjaChyKXtjYXNlImhleCI6cmV0dXJuIGIodGhpcyxlLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gUyh0aGlzLGUsdCxuKTtjYXNlImFzY2lpIjpyZXR1cm4gRSh0aGlzLGUsdCxuKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBDKHRoaXMsZSx0LG4pO2Nhc2UiYmFzZTY0IjpyZXR1cm4gSSh0aGlzLGUsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIFQodGhpcyxlLHQsbik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcik7cj0oIiIrcikudG9Mb3dlckNhc2UoKSxpPSEwfX0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkJ1ZmZlciIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgXz00MDk2O2Z1bmN0aW9uIFIoZSx0LG4pe3ZhciByPSIiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBvPXQ7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBMKGUsdCxuKXt2YXIgcj0iIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjsrK28pcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBPKGUsdCxuKXt2YXIgcixvPWUubGVuZ3RoOyghdHx8dDwwKSYmKHQ9MCksKCFufHxuPDB8fG4+bykmJihuPW8pO2Zvcih2YXIgaT0iIixhPXQ7YTxuOysrYSlpKz0ocj1lW2FdKTwxNj8iMCIrci50b1N0cmluZygxNik6ci50b1N0cmluZygxNik7cmV0dXJuIGl9ZnVuY3Rpb24gayhlLHQsbil7Zm9yKHZhciByPWUuc2xpY2UodCxuKSxvPSIiLGk9MDtpPHIubGVuZ3RoO2krPTIpbys9U3RyaW5nLmZyb21DaGFyQ29kZShyW2ldKzI1NipyW2krMV0pO3JldHVybiBvfWZ1bmN0aW9uIE4oZSx0LG4pe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihlK3Q+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfWZ1bmN0aW9uIFAoZSx0LG4scixvLGkpe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWZmZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih0Pm98fHQ8aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInZhbHVlIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYobityPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBEKGUsdCxuLHIpe3Q8MCYmKHQ9NjU1MzUrdCsxKTtmb3IodmFyIG89MCxpPU1hdGgubWluKGUubGVuZ3RoLW4sMik7bzxpOysrbyllW24rb109KHQmMjU1PDw4KihyP286MS1vKSk+Pj44KihyP286MS1vKX1mdW5jdGlvbiB4KGUsdCxuLHIpe3Q8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4oZS5sZW5ndGgtbiw0KTtvPGk7KytvKWVbbitvXT10Pj4+OCoocj9vOjMtbykmMjU1fWZ1bmN0aW9uIE0oZSx0LG4scixvLGkpe2lmKG4rcj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBVKGUsdCxuLHIsaSl7cmV0dXJuIGl8fE0oZSwwLG4sNCksby53cml0ZShlLHQsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBGKGUsdCxuLHIsaSl7cmV0dXJuIGl8fE0oZSwwLG4sOCksby53cml0ZShlLHQsbixyLDUyLDgpLG4rOH1jLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5sZW5ndGg7aWYoKGU9fn5lKTwwPyhlKz1yKTwwJiYoZT0wKTplPnImJihlPXIpLCh0PXZvaWQgMD09PXQ/cjp+fnQpPDA/KHQrPXIpPDAmJih0PTApOnQ+ciYmKHQ9ciksdDxlJiYodD1lKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQpKG49dGhpcy5zdWJhcnJheShlLHQpKS5fX3Byb3RvX189Yy5wcm90b3R5cGU7ZWxzZXt2YXIgbz10LWU7bj1uZXcgYyhvLHZvaWQgMCk7Zm9yKHZhciBpPTA7aTxvOysraSluW2ldPXRoaXNbaStlXX1yZXR1cm4gbn0sYy5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxvPTEsaT0wOysraTx0JiYobyo9MjU2KTspcis9dGhpc1tlK2ldKm87cmV0dXJuIHJ9LGMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZSstLXRdLG89MTt0PjAmJihvKj0yNTYpOylyKz10aGlzW2UrLS10XSpvO3JldHVybiByfSxjLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDEsdGhpcy5sZW5ndGgpLHRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LGMucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXTw8OHx0aGlzW2UrMV19LGMucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksKHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbZSszXX0sYy5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxjLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZV0sbz0xLGk9MDsrK2k8dCYmKG8qPTI1Nik7KXIrPXRoaXNbZStpXSpvO3JldHVybiByPj0obyo9MTI4KSYmKHItPU1hdGgucG93KDIsOCp0KSkscn0sYy5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10LG89MSxpPXRoaXNbZSstLXJdO3I+MCYmKG8qPTI1Nik7KWkrPXRoaXNbZSstLXJdKm87cmV0dXJuIGk+PShvKj0xMjgpJiYoaS09TWF0aC5wb3coMiw4KnQpKSxpfSxjLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7dHx8TihlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxjLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3R8fE4oZSwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0sYy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sYy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDI0fHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXX0sYy5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITAsMjMsNCl9LGMucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDIzLDQpfSxjLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDgsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITAsNTIsOCl9LGMucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMSw1Miw4KX0sYy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7ZT0rZSx0fD0wLG58PTAscnx8UCh0aGlzLGUsdCxuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPTEsaT0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxuJiYobyo9MjU2KTspdGhpc1t0K2ldPWUvbyYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24oZSx0LG4scil7ZT0rZSx0fD0wLG58PTAscnx8UCh0aGlzLGUsdCxuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPW4tMSxpPTE7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihpKj0yNTYpOyl0aGlzW3Qrb109ZS9pJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMSwyNTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSx0aGlzW3RdPTI1NSZlLHQrMX0sYy5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDIsNjU1MzUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6RCh0aGlzLGUsdCwhMCksdCsyfSxjLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiw2NTUzNSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpEKHRoaXMsZSx0LCExKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUpOngodGhpcyxlLHQsITApLHQrNH0sYy5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6eCh0aGlzLGUsdCwhMSksdCs0fSxjLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdHw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7UCh0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGk9MCxhPTEscz0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxuJiYoYSo9MjU2KTspZTwwJiYwPT09cyYmMCE9PXRoaXNbdCtpLTFdJiYocz0xKSx0aGlzW3QraV09KGUvYXwwKS1zJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdHw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7UCh0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGk9bi0xLGE9MSxzPTA7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K2krMV0mJihzPTEpLHRoaXNbdCtpXT0oZS9hfDApLXMmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDEsMTI3LC0xMjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksZTwwJiYoZT0yNTUrZSsxKSx0aGlzW3RdPTI1NSZlLHQrMX0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOkQodGhpcyxlLHQsITApLHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOkQodGhpcyxlLHQsITEpLHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzNdPWU+Pj4yNCk6eCh0aGlzLGUsdCwhMCksdCs0fSxjLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTp4KHRoaXMsZSx0LCExKSx0KzR9LGMucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUodGhpcyxlLHQsITAsbil9LGMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUodGhpcyxlLHQsITEsbil9LGMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKHRoaXMsZSx0LCEwLG4pfSxjLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRih0aGlzLGUsdCwhMSxuKX0sYy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQsbixyKXtpZihufHwobj0wKSxyfHwwPT09cnx8KHI9dGhpcy5sZW5ndGgpLHQ+PWUubGVuZ3RoJiYodD1lLmxlbmd0aCksdHx8KHQ9MCkscj4wJiZyPG4mJihyPW4pLHI9PT1uKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzIik7cj50aGlzLmxlbmd0aCYmKHI9dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXQ8ci1uJiYocj1lLmxlbmd0aC10K24pO3ZhciBvLGk9ci1uO2lmKHRoaXM9PT1lJiZuPHQmJnQ8cilmb3Iobz1pLTE7bz49MDstLW8pZVtvK3RdPXRoaXNbbytuXTtlbHNlIGlmKGk8MWUzfHwhYy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihvPTA7bzxpOysrbyllW28rdF09dGhpc1tvK25dO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4sbitpKSx0KTtyZXR1cm4gaX0sYy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdD8ocj10LHQ9MCxuPXRoaXMubGVuZ3RoKToic3RyaW5nIj09dHlwZW9mIG4mJihyPW4sbj10aGlzLmxlbmd0aCksMT09PWUubGVuZ3RoKXt2YXIgbz1lLmNoYXJDb2RlQXQoMCk7bzwyNTYmJihlPW8pfWlmKHZvaWQgMCE9PXImJiJzdHJpbmciIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiByJiYhYy5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcil9ZWxzZSJudW1iZXIiPT10eXBlb2YgZSYmKGUmPTI1NSk7aWYodDwwfHx0aGlzLmxlbmd0aDx0fHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCJPdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihuPD10KXJldHVybiB0aGlzO3ZhciBpO2lmKHQ+Pj49MCxuPXZvaWQgMD09PW4/dGhpcy5sZW5ndGg6bj4+PjAsZXx8KGU9MCksIm51bWJlciI9PXR5cGVvZiBlKWZvcihpPXQ7aTxuOysraSl0aGlzW2ldPWU7ZWxzZXt2YXIgYT1jLmlzQnVmZmVyKGUpP2U6cShuZXcgYyhlLHIpLnRvU3RyaW5nKCkpLHM9YS5sZW5ndGg7Zm9yKGk9MDtpPG4tdDsrK2kpdGhpc1tpK3RdPWFbaSVzXX1yZXR1cm4gdGhpc307dmFyIGo9L1teK1wvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gcShlLHQpe3ZhciBuO3Q9dHx8MS8wO2Zvcih2YXIgcj1lLmxlbmd0aCxvPW51bGwsaT1bXSxhPTA7YTxyOysrYSl7aWYoKG49ZS5jaGFyQ29kZUF0KGEpKT41NTI5NSYmbjw1NzM0NCl7aWYoIW8pe2lmKG4+NTYzMTkpeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihhKzE9PT1yKXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bz1uO2NvbnRpbnVlfWlmKG48NTYzMjApeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxvPW47Y29udGludWV9bj02NTUzNisoby01NTI5Njw8MTB8bi01NjMyMCl9ZWxzZSBvJiYodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYobz1udWxsLG48MTI4KXtpZigodC09MSk8MClicmVhaztpLnB1c2gobil9ZWxzZSBpZihuPDIwNDgpe2lmKCh0LT0yKTwwKWJyZWFrO2kucHVzaChuPj42fDE5Miw2MyZufDEyOCl9ZWxzZSBpZihuPDY1NTM2KXtpZigodC09Myk8MClicmVhaztpLnB1c2gobj4+MTJ8MjI0LG4+PjYmNjN8MTI4LDYzJm58MTI4KX1lbHNle2lmKCEobjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpO2lmKCh0LT00KTwwKWJyZWFrO2kucHVzaChuPj4xOHwyNDAsbj4+MTImNjN8MTI4LG4+PjYmNjN8MTI4LDYzJm58MTI4KX19cmV0dXJuIGl9ZnVuY3Rpb24gQihlKXtyZXR1cm4gbi50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfShlKS5yZXBsYWNlKGosIiIpKS5sZW5ndGg8MilyZXR1cm4iIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPSI9IjtyZXR1cm4gZX0oZSkpfWZ1bmN0aW9uIEcoZSx0LG4scil7Zm9yKHZhciBvPTA7bzxyJiYhKG8rbj49dC5sZW5ndGh8fG8+PWUubGVuZ3RoKTsrK28pdFtvK25dPWVbb107cmV0dXJuIG99fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKCJidWZmZXIiKS5CdWZmZXIpfSx7ImJhc2U2NC1qcyI6ODEsYnVmZmVyOjg2LGllZWU3NTQ6ODgsaXNhcnJheTo4OX1dLDg3OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBpKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIm9iamVjdCI9PT1vKGUpJiZudWxsIT09ZX1mdW5jdGlvbiBzKGUpe3JldHVybiB2b2lkIDA9PT1lfXQuZXhwb3J0cz1yLHIuRXZlbnRFbWl0dGVyPXIsci5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsci5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLHIucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGV8fGU8MHx8aXNOYU4oZSkpdGhyb3cgVHlwZUVycm9yKCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxjLHU7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSwiZXJyb3IiPT09ZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fGEodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZigodD1hcmd1bWVudHNbMV0paW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBsPW5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnK3QrIikiKTt0aHJvdyBsLmNvbnRleHQ9dCxsfWlmKHMobj10aGlzLl9ldmVudHNbZV0pKXJldHVybiExO2lmKGkobikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpuLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6bz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbi5hcHBseSh0aGlzLG8pfWVsc2UgaWYoYShuKSlmb3Iobz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj0odT1uLnNsaWNlKCkpLmxlbmd0aCxjPTA7YzxyO2MrKyl1W2NdLmFwcGx5KHRoaXMsbyk7cmV0dXJuITB9LHIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdCgibmV3TGlzdGVuZXIiLGUsaSh0Lmxpc3RlbmVyKT90Lmxpc3RlbmVyOnQpLHRoaXMuX2V2ZW50c1tlXT9hKHRoaXMuX2V2ZW50c1tlXSk/dGhpcy5fZXZlbnRzW2VdLnB1c2godCk6dGhpcy5fZXZlbnRzW2VdPVt0aGlzLl9ldmVudHNbZV0sdF06dGhpcy5fZXZlbnRzW2VdPXQsYSh0aGlzLl9ldmVudHNbZV0pJiYhdGhpcy5fZXZlbnRzW2VdLndhcm5lZCYmKG49cyh0aGlzLl9tYXhMaXN0ZW5lcnMpP3IuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMpJiZuPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+biYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcigiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4iLHRoaXMuX2V2ZW50c1tlXS5sZW5ndGgpLCJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpLHRoaXN9LHIucHJvdG90eXBlLm9uPXIucHJvdG90eXBlLmFkZExpc3RlbmVyLHIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3ZhciBuPSExO2Z1bmN0aW9uIHIoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGUsciksbnx8KG49ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiByLmxpc3RlbmVyPXQsdGhpcy5vbihlLHIpLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLHM7aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2VdKXJldHVybiB0aGlzO2lmKG89KG49dGhpcy5fZXZlbnRzW2VdKS5sZW5ndGgscj0tMSxuPT09dHx8aShuLmxpc3RlbmVyKSYmbi5saXN0ZW5lcj09PXQpZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCk7ZWxzZSBpZihhKG4pKXtmb3Iocz1vO3MtLSA+MDspaWYobltzXT09PXR8fG5bc10ubGlzdGVuZXImJm5bc10ubGlzdGVuZXI9PT10KXtyPXM7YnJlYWt9aWYocjwwKXJldHVybiB0aGlzOzE9PT1uLmxlbmd0aD8obi5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW2VdKTpuLnNwbGljZShyLDEpLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx0KX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2VdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih0IGluIHRoaXMuX2V2ZW50cykicmVtb3ZlTGlzdGVuZXIiIT09dCYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnModCk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKGkobj10aGlzLl9ldmVudHNbZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGlmKG4pZm9yKDtuLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bbi5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV0/aSh0aGlzLl9ldmVudHNbZV0pP1t0aGlzLl9ldmVudHNbZV1dOnRoaXMuX2V2ZW50c1tlXS5zbGljZSgpOltdfSxyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2V2ZW50cyl7dmFyIHQ9dGhpcy5fZXZlbnRzW2VdO2lmKGkodCkpcmV0dXJuIDE7aWYodClyZXR1cm4gdC5sZW5ndGh9cmV0dXJuIDB9LHIubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVyQ291bnQodCl9fSx7fV0sODg6W2Z1bmN0aW9uKGUsdCxuKXtuLnJlYWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHM9OCpvLXItMSxjPSgxPDxzKS0xLHU9Yz4+MSxsPS03LHA9bj9vLTE6MCxkPW4/LTE6MSxoPWVbdCtwXTtmb3IocCs9ZCxpPWgmKDE8PC1sKS0xLGg+Pj0tbCxsKz1zO2w+MDtpPTI1NippK2VbdCtwXSxwKz1kLGwtPTgpO2ZvcihhPWkmKDE8PC1sKS0xLGk+Pj0tbCxsKz1yO2w+MDthPTI1NiphK2VbdCtwXSxwKz1kLGwtPTgpO2lmKDA9PT1pKWk9MS11O2Vsc2V7aWYoaT09PWMpcmV0dXJuIGE/TmFOOjEvMCooaD8tMToxKTthKz1NYXRoLnBvdygyLHIpLGktPXV9cmV0dXJuKGg/LTE6MSkqYSpNYXRoLnBvdygyLGktcil9LG4ud3JpdGU9ZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBhLHMsYyx1PTgqaS1vLTEsbD0oMTw8dSktMSxwPWw+PjEsZD0yMz09PW8/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGg9cj8wOmktMSxmPXI/MTotMSxnPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsYT1sKTooYT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihjPU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLGMqPTIpLCh0Kz1hK3A+PTE/ZC9jOmQqTWF0aC5wb3coMiwxLXApKSpjPj0yJiYoYSsrLGMvPTIpLGErcD49bD8ocz0wLGE9bCk6YStwPj0xPyhzPSh0KmMtMSkqTWF0aC5wb3coMixvKSxhKz1wKToocz10Kk1hdGgucG93KDIscC0xKSpNYXRoLnBvdygyLG8pLGE9MCkpO28+PTg7ZVtuK2hdPTI1NSZzLGgrPWYscy89MjU2LG8tPTgpO2ZvcihhPWE8PG98cyx1Kz1vO3U+MDtlW24raF09MjU1JmEsaCs9ZixhLz0yNTYsdS09OCk7ZVtuK2gtZl18PTEyOCpnfX0se31dLDg5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9e30udG9TdHJpbmc7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PXIuY2FsbChlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gbnVsbCE9PWUmJiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbCE9PWUmJiJbb2JqZWN0IE9iamVjdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHIoZSxvKXtpZihlPT09bylyZXR1cm4hMDtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpcmV0dXJuITE7aWYoITA9PT10KGUpKXtpZihlLmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCExPT09cihlW2ldLG9baV0pKXJldHVybiExO3JldHVybiEwfWlmKCEwPT09bihlKSl7dmFyIGE9e307Zm9yKHZhciBzIGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHMpKXtpZighMT09PXIoZVtzXSxvW3NdKSlyZXR1cm4hMTthW3NdPSEwfWZvcih2YXIgYyBpbiBvKWlmKGhhc093blByb3BlcnR5LmNhbGwobyxjKSYmITAhPT1hW2NdKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG8oZSl7aWYoIiI9PT1lfHwhMT09PWV8fG51bGw9PT1lKXJldHVybiEwO2lmKHQoZSkmJjA9PT1lLmxlbmd0aClyZXR1cm4hMDtpZihuKGUpKXtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfXZhciBpO2k9ImZ1bmN0aW9uIj09dHlwZW9mIFN0cmluZy5wcm90b3R5cGUudHJpbUxlZnQ/ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbUxlZnQoKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15ccyooLiopLylbMV19O3ZhciBhPTAscz0yLGM9ezA6Im51bWJlciIsMToiYW55IiwyOiJzdHJpbmciLDM6ImFycmF5Iiw0OiJvYmplY3QiLDU6ImJvb2xlYW4iLDY6ImV4cHJlc3Npb24iLDc6Im51bGwiLDg6IkFycmF5PG51bWJlcj4iLDk6IkFycmF5PHN0cmluZz4ifSx1PSJFT0YiLGw9IlVucXVvdGVkSWRlbnRpZmllciIscD0iUXVvdGVkSWRlbnRpZmllciIsZD0iUmJyYWNrZXQiLGg9IlJwYXJlbiIsZj0iQ29tbWEiLGc9IkNvbG9uIixtPSJSYnJhY2UiLHY9Ik51bWJlciIseT0iQ3VycmVudCIsYj0iRXhwcmVmIixTPSJQaXBlIixFPSJPciIsQz0iQW5kIixJPSJFUSIsVD0iR1QiLHc9IkxUIixBPSJHVEUiLF89IkxURSIsUj0iTkUiLEw9IkZsYXR0ZW4iLE89IlN0YXIiLGs9IkZpbHRlciIsTj0iRG90IixQPSJOb3QiLEQ9IkxicmFjZSIseD0iTGJyYWNrZXQiLE09IkxwYXJlbiIsVT0iTGl0ZXJhbCIsRj17Ii4iOk4sIioiOk8sIiwiOmYsIjoiOmcsInsiOkQsIn0iOm0sIl0iOmQsIigiOk0sIikiOmgsIkAiOnl9LGo9eyI8IjohMCwiPiI6ITAsIj0iOiEwLCIhIjohMH0scT17IiAiOiEwLCJcdCI6ITAsIlxuIjohMH07ZnVuY3Rpb24gQihlKXtyZXR1cm4gZT49IjAiJiZlPD0iOSJ8fCItIj09PWV9ZnVuY3Rpb24gRygpe31HLnByb3RvdHlwZT17dG9rZW5pemU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1bXTtmb3IodGhpcy5fY3VycmVudD0wO3RoaXMuX2N1cnJlbnQ8ZS5sZW5ndGg7KWlmKChvPWVbdGhpcy5fY3VycmVudF0pPj0iYSImJm88PSJ6Inx8bz49IkEiJiZvPD0iWiJ8fCJfIj09PW8pdD10aGlzLl9jdXJyZW50LG49dGhpcy5fY29uc3VtZVVucXVvdGVkSWRlbnRpZmllcihlKSxpLnB1c2goe3R5cGU6bCx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKHZvaWQgMCE9PUZbZVt0aGlzLl9jdXJyZW50XV0paS5wdXNoKHt0eXBlOkZbZVt0aGlzLl9jdXJyZW50XV0sdmFsdWU6ZVt0aGlzLl9jdXJyZW50XSxzdGFydDp0aGlzLl9jdXJyZW50fSksdGhpcy5fY3VycmVudCsrO2Vsc2UgaWYoQihlW3RoaXMuX2N1cnJlbnRdKSlyPXRoaXMuX2NvbnN1bWVOdW1iZXIoZSksaS5wdXNoKHIpO2Vsc2UgaWYoIlsiPT09ZVt0aGlzLl9jdXJyZW50XSlyPXRoaXMuX2NvbnN1bWVMQnJhY2tldChlKSxpLnB1c2gocik7ZWxzZSBpZignIic9PT1lW3RoaXMuX2N1cnJlbnRdKXQ9dGhpcy5fY3VycmVudCxuPXRoaXMuX2NvbnN1bWVRdW90ZWRJZGVudGlmaWVyKGUpLGkucHVzaCh7dHlwZTpwLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYoIiciPT09ZVt0aGlzLl9jdXJyZW50XSl0PXRoaXMuX2N1cnJlbnQsbj10aGlzLl9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbChlKSxpLnB1c2goe3R5cGU6VSx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKCJgIj09PWVbdGhpcy5fY3VycmVudF0pe3Q9dGhpcy5fY3VycmVudDt2YXIgYT10aGlzLl9jb25zdW1lTGl0ZXJhbChlKTtpLnB1c2goe3R5cGU6VSx2YWx1ZTphLHN0YXJ0OnR9KX1lbHNlIGlmKHZvaWQgMCE9PWpbZVt0aGlzLl9jdXJyZW50XV0paS5wdXNoKHRoaXMuX2NvbnN1bWVPcGVyYXRvcihlKSk7ZWxzZSBpZih2b2lkIDAhPT1xW2VbdGhpcy5fY3VycmVudF1dKXRoaXMuX2N1cnJlbnQrKztlbHNlIGlmKCImIj09PWVbdGhpcy5fY3VycmVudF0pdD10aGlzLl9jdXJyZW50LHRoaXMuX2N1cnJlbnQrKywiJiI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50KyssaS5wdXNoKHt0eXBlOkMsdmFsdWU6IiYmIixzdGFydDp0fSkpOmkucHVzaCh7dHlwZTpiLHZhbHVlOiImIixzdGFydDp0fSk7ZWxzZXtpZigifCIhPT1lW3RoaXMuX2N1cnJlbnRdKXt2YXIgcz1uZXcgRXJyb3IoIlVua25vd24gY2hhcmFjdGVyOiIrZVt0aGlzLl9jdXJyZW50XSk7dGhyb3cgcy5uYW1lPSJMZXhlckVycm9yIixzfXQ9dGhpcy5fY3VycmVudCx0aGlzLl9jdXJyZW50KyssInwiPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLGkucHVzaCh7dHlwZTpFLHZhbHVlOiJ8fCIsc3RhcnQ6dH0pKTppLnB1c2goe3R5cGU6Uyx2YWx1ZToifCIsc3RhcnQ6dH0pfXJldHVybiBpfSxfY29uc3VtZVVucXVvdGVkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2N1cnJlbnQ7Zm9yKHRoaXMuX2N1cnJlbnQrKzt0aGlzLl9jdXJyZW50PGUubGVuZ3RoJiYoKHQ9ZVt0aGlzLl9jdXJyZW50XSk+PSJhIiYmdDw9InoifHx0Pj0iQSImJnQ8PSJaInx8dD49IjAiJiZ0PD0iOSJ8fCJfIj09PXQpOyl0aGlzLl9jdXJyZW50Kys7cmV0dXJuIGUuc2xpY2Uobix0aGlzLl9jdXJyZW50KX0sX2NvbnN1bWVRdW90ZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgbj1lLmxlbmd0aDsnIichPT1lW3RoaXMuX2N1cnJlbnRdJiZ0aGlzLl9jdXJyZW50PG47KXt2YXIgcj10aGlzLl9jdXJyZW50OyJcXCIhPT1lW3JdfHwiXFwiIT09ZVtyKzFdJiYnIichPT1lW3IrMV0/cisrOnIrPTIsdGhpcy5fY3VycmVudD1yfXJldHVybiB0aGlzLl9jdXJyZW50KyssSlNPTi5wYXJzZShlLnNsaWNlKHQsdGhpcy5fY3VycmVudCkpfSxfY29uc3VtZVJhd1N0cmluZ0xpdGVyYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoOyInIiE9PWVbdGhpcy5fY3VycmVudF0mJnRoaXMuX2N1cnJlbnQ8bjspe3ZhciByPXRoaXMuX2N1cnJlbnQ7IlxcIiE9PWVbcl18fCJcXCIhPT1lW3IrMV0mJiInIiE9PWVbcisxXT9yKys6cis9Mix0aGlzLl9jdXJyZW50PXJ9cmV0dXJuIHRoaXMuX2N1cnJlbnQrKyxlLnNsaWNlKHQrMSx0aGlzLl9jdXJyZW50LTEpLnJlcGxhY2UoIlxcJyIsIiciKX0sX2NvbnN1bWVOdW1iZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoO0IoZVt0aGlzLl9jdXJyZW50XSkmJnRoaXMuX2N1cnJlbnQ8bjspdGhpcy5fY3VycmVudCsrO3ZhciByPXBhcnNlSW50KGUuc2xpY2UodCx0aGlzLl9jdXJyZW50KSk7cmV0dXJue3R5cGU6dix2YWx1ZTpyLHN0YXJ0OnR9fSxfY29uc3VtZUxCcmFja2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7cmV0dXJuIHRoaXMuX2N1cnJlbnQrKywiPyI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6ayx2YWx1ZToiWz8iLHN0YXJ0OnR9KToiXSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6TCx2YWx1ZToiW10iLHN0YXJ0OnR9KTp7dHlwZTp4LHZhbHVlOiJbIixzdGFydDp0fX0sX2NvbnN1bWVPcGVyYXRvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50LG49ZVt0XTtyZXR1cm4gdGhpcy5fY3VycmVudCsrLCIhIj09PW4/Ij0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOlIsdmFsdWU6IiE9IixzdGFydDp0fSk6e3R5cGU6UCx2YWx1ZToiISIsc3RhcnQ6dH06IjwiPT09bj8iPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Xyx2YWx1ZToiPD0iLHN0YXJ0OnR9KTp7dHlwZTp3LHZhbHVlOiI8IixzdGFydDp0fToiPiI9PT1uPyI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpBLHZhbHVlOiI+PSIsc3RhcnQ6dH0pOnt0eXBlOlQsdmFsdWU6Ij4iLHN0YXJ0OnR9OiI9Ij09PW4mJiI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpJLHZhbHVlOiI9PSIsc3RhcnQ6dH0pOnZvaWQgMH0sX2NvbnN1bWVMaXRlcmFsOmZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIHQsbj10aGlzLl9jdXJyZW50LHI9ZS5sZW5ndGg7ImAiIT09ZVt0aGlzLl9jdXJyZW50XSYmdGhpcy5fY3VycmVudDxyOyl7dmFyIG89dGhpcy5fY3VycmVudDsiXFwiIT09ZVtvXXx8IlxcIiE9PWVbbysxXSYmImAiIT09ZVtvKzFdP28rKzpvKz0yLHRoaXMuX2N1cnJlbnQ9b312YXIgYT1pKGUuc2xpY2Uobix0aGlzLl9jdXJyZW50KSk7cmV0dXJuIGE9YS5yZXBsYWNlKCJcXGAiLCJgIiksdD10aGlzLl9sb29rc0xpa2VKU09OKGEpP0pTT04ucGFyc2UoYSk6SlNPTi5wYXJzZSgnIicrYSsnIicpLHRoaXMuX2N1cnJlbnQrKyx0fSxfbG9va3NMaWtlSlNPTjpmdW5jdGlvbihlKXtpZigiIj09PWUpcmV0dXJuITE7aWYoJ1t7IicuaW5kZXhPZihlWzBdKT49MClyZXR1cm4hMDtpZihbInRydWUiLCJmYWxzZSIsIm51bGwiXS5pbmRleE9mKGUpPj0wKXJldHVybiEwO2lmKCEoIi0wMTIzNDU2Nzg5Ii5pbmRleE9mKGVbMF0pPj0wKSlyZXR1cm4hMTt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX07dmFyIFY9e307ZnVuY3Rpb24gVygpe31mdW5jdGlvbiBIKGUpe3RoaXMucnVudGltZT1lfWZ1bmN0aW9uIHooZSl7dGhpcy5faW50ZXJwcmV0ZXI9ZSx0aGlzLmZ1bmN0aW9uVGFibGU9e2Ficzp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25BYnMsX3NpZ25hdHVyZTpbe3R5cGVzOlthXX1dfSxhdmc6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQXZnLF9zaWduYXR1cmU6W3t0eXBlczpbOF19XX0sY2VpbDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25DZWlsLF9zaWduYXR1cmU6W3t0eXBlczpbYV19XX0sY29udGFpbnM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQ29udGFpbnMsX3NpZ25hdHVyZTpbe3R5cGVzOltzLDNdfSx7dHlwZXM6WzFdfV19LGVuZHNfd2l0aDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25FbmRzV2l0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W3NdfSx7dHlwZXM6W3NdfV19LGZsb29yOntfZnVuYzp0aGlzLl9mdW5jdGlvbkZsb29yLF9zaWduYXR1cmU6W3t0eXBlczpbYV19XX0sbGVuZ3RoOntfZnVuYzp0aGlzLl9mdW5jdGlvbkxlbmd0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W3MsMyw0XX1dfSxtYXA6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWFwLF9zaWduYXR1cmU6W3t0eXBlczpbNl19LHt0eXBlczpbM119XX0sbWF4OntfZnVuYzp0aGlzLl9mdW5jdGlvbk1heCxfc2lnbmF0dXJlOlt7dHlwZXM6WzgsOV19XX0sbWVyZ2U6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWVyZ2UsX3NpZ25hdHVyZTpbe3R5cGVzOls0XSx2YXJpYWRpYzohMH1dfSxtYXhfYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWF4QnksX3NpZ25hdHVyZTpbe3R5cGVzOlszXX0se3R5cGVzOls2XX1dfSxzdW06e19mdW5jOnRoaXMuX2Z1bmN0aW9uU3VtLF9zaWduYXR1cmU6W3t0eXBlczpbOF19XX0sc3RhcnRzX3dpdGg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU3RhcnRzV2l0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W3NdfSx7dHlwZXM6W3NdfV19LG1pbjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NaW4sX3NpZ25hdHVyZTpbe3R5cGVzOls4LDldfV19LG1pbl9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NaW5CeSxfc2lnbmF0dXJlOlt7dHlwZXM6WzNdfSx7dHlwZXM6WzZdfV19LHR5cGU6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVHlwZSxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdfV19LGtleXM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uS2V5cyxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdfV19LHZhbHVlczp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25WYWx1ZXMsX3NpZ25hdHVyZTpbe3R5cGVzOls0XX1dfSxzb3J0OntfZnVuYzp0aGlzLl9mdW5jdGlvblNvcnQsX3NpZ25hdHVyZTpbe3R5cGVzOls5LDhdfV19LHNvcnRfYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU29ydEJ5LF9zaWduYXR1cmU6W3t0eXBlczpbM119LHt0eXBlczpbNl19XX0sam9pbjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Kb2luLF9zaWduYXR1cmU6W3t0eXBlczpbc119LHt0eXBlczpbOV19XX0scmV2ZXJzZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25SZXZlcnNlLF9zaWduYXR1cmU6W3t0eXBlczpbcywzXX1dfSx0b19hcnJheTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ub0FycmF5LF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sdG9fc3RyaW5nOntfZnVuYzp0aGlzLl9mdW5jdGlvblRvU3RyaW5nLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sdG9fbnVtYmVyOntfZnVuYzp0aGlzLl9mdW5jdGlvblRvTnVtYmVyLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sbm90X251bGw6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTm90TnVsbCxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdLHZhcmlhZGljOiEwfV19fX1WW3VdPTAsVltsXT0wLFZbcF09MCxWW2RdPTAsVltoXT0wLFZbZl09MCxWW21dPTAsVlt2XT0wLFZbeV09MCxWW2JdPTAsVltTXT0xLFZbRV09MixWW0NdPTMsVltJXT01LFZbVF09NSxWW3ddPTUsVltBXT01LFZbX109NSxWW1JdPTUsVltMXT05LFZbT109MjAsVltrXT0yMSxWW05dPTQwLFZbUF09NDUsVltEXT01MCxWW3hdPTU1LFZbTV09NjAsVy5wcm90b3R5cGU9e3BhcnNlOmZ1bmN0aW9uKGUpe3RoaXMuX2xvYWRUb2tlbnMoZSksdGhpcy5pbmRleD0wO3ZhciB0PXRoaXMuZXhwcmVzc2lvbigwKTtpZih0aGlzLl9sb29rYWhlYWQoMCkhPT11KXt2YXIgbj10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxyPW5ldyBFcnJvcigiVW5leHBlY3RlZCB0b2tlbiB0eXBlOiAiK24udHlwZSsiLCB2YWx1ZTogIituLnZhbHVlKTt0aHJvdyByLm5hbWU9IlBhcnNlckVycm9yIixyfXJldHVybiB0fSxfbG9hZFRva2VuczpmdW5jdGlvbihlKXt2YXIgdD0obmV3IEcpLnRva2VuaXplKGUpO3QucHVzaCh7dHlwZTp1LHZhbHVlOiIiLHN0YXJ0OmUubGVuZ3RofSksdGhpcy50b2tlbnM9dH0sZXhwcmVzc2lvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb29rYWhlYWRUb2tlbigwKTt0aGlzLl9hZHZhbmNlKCk7Zm9yKHZhciBuPXRoaXMubnVkKHQpLHI9dGhpcy5fbG9va2FoZWFkKDApO2U8VltyXTspdGhpcy5fYWR2YW5jZSgpLG49dGhpcy5sZWQocixuKSxyPXRoaXMuX2xvb2thaGVhZCgwKTtyZXR1cm4gbn0sX2xvb2thaGVhZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5pbmRleCtlXS50eXBlfSxfbG9va2FoZWFkVG9rZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMuaW5kZXgrZV19LF9hZHZhbmNlOmZ1bmN0aW9uKCl7dGhpcy5pbmRleCsrfSxudWQ6ZnVuY3Rpb24oZSl7dmFyIHQsbjtzd2l0Y2goZS50eXBlKXtjYXNlIFU6cmV0dXJue3R5cGU6IkxpdGVyYWwiLHZhbHVlOmUudmFsdWV9O2Nhc2UgbDpyZXR1cm57dHlwZToiRmllbGQiLG5hbWU6ZS52YWx1ZX07Y2FzZSBwOnZhciByPXt0eXBlOiJGaWVsZCIsbmFtZTplLnZhbHVlfTtpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1NKXRocm93IG5ldyBFcnJvcigiUXVvdGVkIGlkZW50aWZpZXIgbm90IGFsbG93ZWQgZm9yIGZ1bmN0aW9uIG5hbWVzLiIpO3JldHVybiByO2Nhc2UgUDpyZXR1cm57dHlwZToiTm90RXhwcmVzc2lvbiIsY2hpbGRyZW46W3Q9dGhpcy5leHByZXNzaW9uKFYuTm90KV19O2Nhc2UgTzpyZXR1cm4gdD1udWxsLHt0eXBlOiJWYWx1ZVByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZToiSWRlbnRpdHkifSx0PXRoaXMuX2xvb2thaGVhZCgwKT09PWQ/e3R5cGU6IklkZW50aXR5In06dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfTtjYXNlIGs6cmV0dXJuIHRoaXMubGVkKGUudHlwZSx7dHlwZToiSWRlbnRpdHkifSk7Y2FzZSBEOnJldHVybiB0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpO2Nhc2UgTDpyZXR1cm57dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOkwsY2hpbGRyZW46W3t0eXBlOiJJZGVudGl0eSJ9XX0sdD10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5GbGF0dGVuKV19O2Nhc2UgeDpyZXR1cm4gdGhpcy5fbG9va2FoZWFkKDApPT09dnx8dGhpcy5fbG9va2FoZWFkKDApPT09Zz8odD10aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpLHRoaXMuX3Byb2plY3RJZlNsaWNlKHt0eXBlOiJJZGVudGl0eSJ9LHQpKTp0aGlzLl9sb29rYWhlYWQoMCk9PT1PJiZ0aGlzLl9sb29rYWhlYWQoMSk9PT1kPyh0aGlzLl9hZHZhbmNlKCksdGhpcy5fYWR2YW5jZSgpLHt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6IklkZW50aXR5In0sdD10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19KTp0aGlzLl9wYXJzZU11bHRpc2VsZWN0TGlzdCgpO2Nhc2UgeTpyZXR1cm57dHlwZTp5fTtjYXNlIGI6cmV0dXJue3R5cGU6IkV4cHJlc3Npb25SZWZlcmVuY2UiLGNoaWxkcmVuOltuPXRoaXMuZXhwcmVzc2lvbihWLkV4cHJlZildfTtjYXNlIE06Zm9yKHZhciBvPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWg7KXRoaXMuX2xvb2thaGVhZCgwKT09PXk/KG49e3R5cGU6eX0sdGhpcy5fYWR2YW5jZSgpKTpuPXRoaXMuZXhwcmVzc2lvbigwKSxvLnB1c2gobik7cmV0dXJuIHRoaXMuX21hdGNoKGgpLG9bMF07ZGVmYXVsdDp0aGlzLl9lcnJvclRva2VuKGUpfX0sbGVkOmZ1bmN0aW9uKGUsdCl7dmFyIG47c3dpdGNoKGUpe2Nhc2UgTjp2YXIgcj1WLkRvdDtyZXR1cm4gdGhpcy5fbG9va2FoZWFkKDApIT09Tz97dHlwZToiU3ViZXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZURvdFJIUyhyKV19Oih0aGlzLl9hZHZhbmNlKCkse3R5cGU6IlZhbHVlUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMocildfSk7Y2FzZSBTOnJldHVybiBuPXRoaXMuZXhwcmVzc2lvbihWLlBpcGUpLHt0eXBlOlMsY2hpbGRyZW46W3Qsbl19O2Nhc2UgRTpyZXR1cm57dHlwZToiT3JFeHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuZXhwcmVzc2lvbihWLk9yKV19O2Nhc2UgQzpyZXR1cm57dHlwZToiQW5kRXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLmV4cHJlc3Npb24oVi5BbmQpXX07Y2FzZSBNOmZvcih2YXIgbyxpPXQubmFtZSxhPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWg7KXRoaXMuX2xvb2thaGVhZCgwKT09PXk/KG89e3R5cGU6eX0sdGhpcy5fYWR2YW5jZSgpKTpvPXRoaXMuZXhwcmVzc2lvbigwKSx0aGlzLl9sb29rYWhlYWQoMCk9PT1mJiZ0aGlzLl9tYXRjaChmKSxhLnB1c2gobyk7cmV0dXJuIHRoaXMuX21hdGNoKGgpLHt0eXBlOiJGdW5jdGlvbiIsbmFtZTppLGNoaWxkcmVuOmF9O2Nhc2Ugazp2YXIgcz10aGlzLmV4cHJlc3Npb24oMCk7cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJGaWx0ZXJQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX2xvb2thaGVhZCgwKT09PUw/e3R5cGU6IklkZW50aXR5In06dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuRmlsdGVyKSxzXX07Y2FzZSBMOnJldHVybnt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6TCxjaGlsZHJlbjpbdF19LHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLkZsYXR0ZW4pXX07Y2FzZSBJOmNhc2UgUjpjYXNlIFQ6Y2FzZSBBOmNhc2UgdzpjYXNlIF86cmV0dXJuIHRoaXMuX3BhcnNlQ29tcGFyYXRvcih0LGUpO2Nhc2UgeDp2YXIgYz10aGlzLl9sb29rYWhlYWRUb2tlbigwKTtyZXR1cm4gYy50eXBlPT09dnx8Yy50eXBlPT09Zz8obj10aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpLHRoaXMuX3Byb2plY3RJZlNsaWNlKHQsbikpOih0aGlzLl9tYXRjaChPKSx0aGlzLl9tYXRjaChkKSx7dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19KTtkZWZhdWx0OnRoaXMuX2Vycm9yVG9rZW4odGhpcy5fbG9va2FoZWFkVG9rZW4oMCkpfX0sX21hdGNoOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PWUpe3ZhciB0PXRoaXMuX2xvb2thaGVhZFRva2VuKDApLG49bmV3IEVycm9yKCJFeHBlY3RlZCAiK2UrIiwgZ290OiAiK3QudHlwZSk7dGhyb3cgbi5uYW1lPSJQYXJzZXJFcnJvciIsbn10aGlzLl9hZHZhbmNlKCl9LF9lcnJvclRva2VuOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBFcnJvcigiSW52YWxpZCB0b2tlbiAoIitlLnR5cGUrJyk6ICInK2UudmFsdWUrJyInKTt0aHJvdyB0Lm5hbWU9IlBhcnNlckVycm9yIix0fSxfcGFyc2VJbmRleEV4cHJlc3Npb246ZnVuY3Rpb24oKXtpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1nfHx0aGlzLl9sb29rYWhlYWQoMSk9PT1nKXJldHVybiB0aGlzLl9wYXJzZVNsaWNlRXhwcmVzc2lvbigpO3ZhciBlPXt0eXBlOiJJbmRleCIsdmFsdWU6dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkudmFsdWV9O3JldHVybiB0aGlzLl9hZHZhbmNlKCksdGhpcy5fbWF0Y2goZCksZX0sX3Byb2plY3RJZlNsaWNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e3R5cGU6IkluZGV4RXhwcmVzc2lvbiIsY2hpbGRyZW46W2UsdF19O3JldHVybiJTbGljZSI9PT10LnR5cGU/e3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOltuLHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX06bn0sX3BhcnNlU2xpY2VFeHByZXNzaW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtudWxsLG51bGwsbnVsbF0sdD0wLG49dGhpcy5fbG9va2FoZWFkKDApO24hPT1kJiZ0PDM7KXtpZihuPT09Zyl0KyssdGhpcy5fYWR2YW5jZSgpO2Vsc2V7aWYobiE9PXYpe3ZhciByPXRoaXMuX2xvb2thaGVhZCgwKSxvPW5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bmV4cGVjdGVkIHRva2VuOiAiK3IudmFsdWUrIigiK3IudHlwZSsiKSIpO3Rocm93IG8ubmFtZT0iUGFyc2VyZXJyb3IiLG99ZVt0XT10aGlzLl9sb29rYWhlYWRUb2tlbigwKS52YWx1ZSx0aGlzLl9hZHZhbmNlKCl9bj10aGlzLl9sb29rYWhlYWQoMCl9cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJTbGljZSIsY2hpbGRyZW46ZX19LF9wYXJzZUNvbXBhcmF0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZToiQ29tcGFyYXRvciIsbmFtZTp0LGNoaWxkcmVuOltlLHRoaXMuZXhwcmVzc2lvbihWW3RdKV19fSxfcGFyc2VEb3RSSFM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbG9va2FoZWFkKDApO3JldHVybltsLHAsT10uaW5kZXhPZih0KT49MD90aGlzLmV4cHJlc3Npb24oZSk6dD09PXg/KHRoaXMuX21hdGNoKHgpLHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RMaXN0KCkpOnQ9PT1EPyh0aGlzLl9tYXRjaChEKSx0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpKTp2b2lkIDB9LF9wYXJzZVByb2plY3Rpb25SSFM6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoVlt0aGlzLl9sb29rYWhlYWQoMCldPDEwKXQ9e3R5cGU6IklkZW50aXR5In07ZWxzZSBpZih0aGlzLl9sb29rYWhlYWQoMCk9PT14KXQ9dGhpcy5leHByZXNzaW9uKGUpO2Vsc2UgaWYodGhpcy5fbG9va2FoZWFkKDApPT09ayl0PXRoaXMuZXhwcmVzc2lvbihlKTtlbHNle2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PU4pe3ZhciBuPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLHI9bmV3IEVycm9yKCJTeXRhbnggZXJyb3IsIHVuZXhwZWN0ZWQgdG9rZW46ICIrbi52YWx1ZSsiKCIrbi50eXBlKyIpIik7dGhyb3cgci5uYW1lPSJQYXJzZXJFcnJvciIscn10aGlzLl9tYXRjaChOKSx0PXRoaXMuX3BhcnNlRG90UkhTKGUpfXJldHVybiB0fSxfcGFyc2VNdWx0aXNlbGVjdExpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W107dGhpcy5fbG9va2FoZWFkKDApIT09ZDspe3ZhciB0PXRoaXMuZXhwcmVzc2lvbigwKTtpZihlLnB1c2godCksdGhpcy5fbG9va2FoZWFkKDApPT09ZiYmKHRoaXMuX21hdGNoKGYpLHRoaXMuX2xvb2thaGVhZCgwKT09PWQpKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCB0b2tlbiBSYnJhY2tldCIpfXJldHVybiB0aGlzLl9tYXRjaChkKSx7dHlwZToiTXVsdGlTZWxlY3RMaXN0IixjaGlsZHJlbjplfX0sX3BhcnNlTXVsdGlzZWxlY3RIYXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsbixyPVtdLG89W2wscF07Oyl7aWYoZT10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxvLmluZGV4T2YoZS50eXBlKTwwKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGFuIGlkZW50aWZpZXIgdG9rZW4sIGdvdDogIitlLnR5cGUpO2lmKHQ9ZS52YWx1ZSx0aGlzLl9hZHZhbmNlKCksdGhpcy5fbWF0Y2goZyksbj17dHlwZToiS2V5VmFsdWVQYWlyIixuYW1lOnQsdmFsdWU6dGhpcy5leHByZXNzaW9uKDApfSxyLnB1c2gobiksdGhpcy5fbG9va2FoZWFkKDApPT09Zil0aGlzLl9tYXRjaChmKTtlbHNlIGlmKHRoaXMuX2xvb2thaGVhZCgwKT09PW0pe3RoaXMuX21hdGNoKG0pO2JyZWFrfX1yZXR1cm57dHlwZToiTXVsdGlTZWxlY3RIYXNoIixjaGlsZHJlbjpyfX19LEgucHJvdG90eXBlPXtzZWFyY2g6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52aXNpdChlLHQpfSx2aXNpdDpmdW5jdGlvbihlLGkpe3ZhciBhLHMsYyx1LGwscCxkLGgsZjtzd2l0Y2goZS50eXBlKXtjYXNlIkZpZWxkIjpyZXR1cm4gbnVsbCE9PWkmJm4oaSk/dm9pZCAwPT09KHA9aVtlLm5hbWVdKT9udWxsOnA6bnVsbDtjYXNlIlN1YmV4cHJlc3Npb24iOmZvcihjPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSxmPTE7ZjxlLmNoaWxkcmVuLmxlbmd0aDtmKyspaWYobnVsbD09PShjPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxjKSkpcmV0dXJuIG51bGw7cmV0dXJuIGM7Y2FzZSJJbmRleEV4cHJlc3Npb24iOnJldHVybiBkPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSx0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sZCk7Y2FzZSJJbmRleCI6aWYoIXQoaSkpcmV0dXJuIG51bGw7dmFyIGc9ZS52YWx1ZTtyZXR1cm4gZzwwJiYoZz1pLmxlbmd0aCtnKSx2b2lkIDA9PT0oYz1pW2ddKSYmKGM9bnVsbCksYztjYXNlIlNsaWNlIjppZighdChpKSlyZXR1cm4gbnVsbDt2YXIgbT1lLmNoaWxkcmVuLnNsaWNlKDApLHY9dGhpcy5jb21wdXRlU2xpY2VQYXJhbXMoaS5sZW5ndGgsbSksRT12WzBdLEM9dlsxXSxPPXZbMl07aWYoYz1bXSxPPjApZm9yKGY9RTtmPEM7Zis9TyljLnB1c2goaVtmXSk7ZWxzZSBmb3IoZj1FO2Y+QztmKz1PKWMucHVzaChpW2ZdKTtyZXR1cm4gYztjYXNlIlByb2plY3Rpb24iOnZhciBrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKTtpZighdChrKSlyZXR1cm4gbnVsbDtmb3IoaD1bXSxmPTA7ZjxrLmxlbmd0aDtmKyspbnVsbCE9PShzPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxrW2ZdKSkmJmgucHVzaChzKTtyZXR1cm4gaDtjYXNlIlZhbHVlUHJvamVjdGlvbiI6aWYoIW4oaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpKXJldHVybiBudWxsO2g9W107dmFyIE49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49W10scj0wO3I8dC5sZW5ndGg7cisrKW4ucHVzaChlW3Rbcl1dKTtyZXR1cm4gbn0oayk7Zm9yKGY9MDtmPE4ubGVuZ3RoO2YrKyludWxsIT09KHM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLE5bZl0pKSYmaC5wdXNoKHMpO3JldHVybiBoO2Nhc2UiRmlsdGVyUHJvamVjdGlvbiI6aWYoIXQoaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpKXJldHVybiBudWxsO3ZhciBQPVtdLEQ9W107Zm9yKGY9MDtmPGsubGVuZ3RoO2YrKylvKGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzJdLGtbZl0pKXx8UC5wdXNoKGtbZl0pO2Zvcih2YXIgeD0wO3g8UC5sZW5ndGg7eCsrKW51bGwhPT0ocz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sUFt4XSkpJiZELnB1c2gocyk7cmV0dXJuIEQ7Y2FzZSJDb21wYXJhdG9yIjpzd2l0Y2godT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksbD10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSksZS5uYW1lKXtjYXNlIEk6Yz1yKHUsbCk7YnJlYWs7Y2FzZSBSOmM9IXIodSxsKTticmVhaztjYXNlIFQ6Yz11Pmw7YnJlYWs7Y2FzZSBBOmM9dT49bDticmVhaztjYXNlIHc6Yz11PGw7YnJlYWs7Y2FzZSBfOmM9dTw9bDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21wYXJhdG9yOiAiK2UubmFtZSl9cmV0dXJuIGM7Y2FzZSBMOnZhciBNPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKTtpZighdChNKSlyZXR1cm4gbnVsbDt2YXIgVT1bXTtmb3IoZj0wO2Y8TS5sZW5ndGg7ZisrKXQocz1NW2ZdKT9VLnB1c2guYXBwbHkoVSxzKTpVLnB1c2gocyk7cmV0dXJuIFU7Y2FzZSJJZGVudGl0eSI6cmV0dXJuIGk7Y2FzZSJNdWx0aVNlbGVjdExpc3QiOmlmKG51bGw9PT1pKXJldHVybiBudWxsO2ZvcihoPVtdLGY9MDtmPGUuY2hpbGRyZW4ubGVuZ3RoO2YrKyloLnB1c2godGhpcy52aXNpdChlLmNoaWxkcmVuW2ZdLGkpKTtyZXR1cm4gaDtjYXNlIk11bHRpU2VsZWN0SGFzaCI6aWYobnVsbD09PWkpcmV0dXJuIG51bGw7dmFyIEY7Zm9yKGg9e30sZj0wO2Y8ZS5jaGlsZHJlbi5sZW5ndGg7ZisrKWhbKEY9ZS5jaGlsZHJlbltmXSkubmFtZV09dGhpcy52aXNpdChGLnZhbHVlLGkpO3JldHVybiBoO2Nhc2UiT3JFeHByZXNzaW9uIjpyZXR1cm4gbyhhPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkmJihhPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKSksYTtjYXNlIkFuZEV4cHJlc3Npb24iOnJldHVybiEwPT09byh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSk/dTp0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSk7Y2FzZSJOb3RFeHByZXNzaW9uIjpyZXR1cm4gbyh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSk7Y2FzZSJMaXRlcmFsIjpyZXR1cm4gZS52YWx1ZTtjYXNlIFM6cmV0dXJuIGQ9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLHRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxkKTtjYXNlIHk6cmV0dXJuIGk7Y2FzZSJGdW5jdGlvbiI6dmFyIGo9W107Zm9yKGY9MDtmPGUuY2hpbGRyZW4ubGVuZ3RoO2YrKylqLnB1c2godGhpcy52aXNpdChlLmNoaWxkcmVuW2ZdLGkpKTtyZXR1cm4gdGhpcy5ydW50aW1lLmNhbGxGdW5jdGlvbihlLm5hbWUsaik7Y2FzZSJFeHByZXNzaW9uUmVmZXJlbmNlIjp2YXIgcT1lLmNoaWxkcmVuWzBdO3JldHVybiBxLmptZXNwYXRoVHlwZT1iLHE7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbm9kZSB0eXBlOiAiK2UudHlwZSl9fSxjb21wdXRlU2xpY2VQYXJhbXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxvPXRbMl0saT1bbnVsbCxudWxsLG51bGxdO2lmKG51bGw9PT1vKW89MTtlbHNlIGlmKDA9PT1vKXt2YXIgYT1uZXcgRXJyb3IoIkludmFsaWQgc2xpY2UsIHN0ZXAgY2Fubm90IGJlIDAiKTt0aHJvdyBhLm5hbWU9IlJ1bnRpbWVFcnJvciIsYX12YXIgcz1vPDA7cmV0dXJuIG49bnVsbD09PW4/cz9lLTE6MDp0aGlzLmNhcFNsaWNlUmFuZ2UoZSxuLG8pLHI9bnVsbD09PXI/cz8tMTplOnRoaXMuY2FwU2xpY2VSYW5nZShlLHIsbyksaVswXT1uLGlbMV09cixpWzJdPW8saX0sY2FwU2xpY2VSYW5nZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ8MD8odCs9ZSk8MCYmKHQ9bjwwPy0xOjApOnQ+PWUmJih0PW48MD9lLTE6ZSksdH19LHoucHJvdG90eXBlPXtjYWxsRnVuY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmZ1bmN0aW9uVGFibGVbZV07aWYodm9pZCAwPT09bil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZnVuY3Rpb246ICIrZSsiKCkiKTtyZXR1cm4gdGhpcy5fdmFsaWRhdGVBcmdzKGUsdCxuLl9zaWduYXR1cmUpLG4uX2Z1bmMuY2FsbCh0aGlzLHQpfSxfdmFsaWRhdGVBcmdzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtpZihuW24ubGVuZ3RoLTFdLnZhcmlhZGljKXtpZih0Lmxlbmd0aDxuLmxlbmd0aCl0aHJvdyByPTE9PT1uLmxlbmd0aD8iIGFyZ3VtZW50IjoiIGFyZ3VtZW50cyIsbmV3IEVycm9yKCJBcmd1bWVudEVycm9yOiAiK2UrIigpIHRha2VzIGF0IGxlYXN0IituLmxlbmd0aCtyKyIgYnV0IHJlY2VpdmVkICIrdC5sZW5ndGgpfWVsc2UgaWYodC5sZW5ndGghPT1uLmxlbmd0aCl0aHJvdyByPTE9PT1uLmxlbmd0aD8iIGFyZ3VtZW50IjoiIGFyZ3VtZW50cyIsbmV3IEVycm9yKCJBcmd1bWVudEVycm9yOiAiK2UrIigpIHRha2VzICIrbi5sZW5ndGgrcisiIGJ1dCByZWNlaXZlZCAiK3QubGVuZ3RoKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl7YT0hMSxvPW5bc10udHlwZXMsaT10aGlzLl9nZXRUeXBlTmFtZSh0W3NdKTtmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKylpZih0aGlzLl90eXBlTWF0Y2hlcyhpLG9bdV0sdFtzXSkpe2E9ITA7YnJlYWt9aWYoIWEpe3ZhciBsPW8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gY1tlXX0pKS5qb2luKCIsIik7dGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6ICIrZSsiKCkgZXhwZWN0ZWQgYXJndW1lbnQgIisocysxKSsiIHRvIGJlIHR5cGUgIitsKyIgYnV0IHJlY2VpdmVkIHR5cGUgIitjW2ldKyIgaW5zdGVhZC4iKX19fSxfdHlwZU1hdGNoZXM6ZnVuY3Rpb24oZSx0LG4pe2lmKDE9PT10KXJldHVybiEwO2lmKDkhPT10JiY4IT09dCYmMyE9PXQpcmV0dXJuIGU9PT10O2lmKDM9PT10KXJldHVybiAzPT09ZTtpZigzPT09ZSl7dmFyIHI7OD09PXQ/cj1hOjk9PT10JiYocj1zKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZighdGhpcy5fdHlwZU1hdGNoZXModGhpcy5fZ2V0VHlwZU5hbWUobltvXSkscixuW29dKSlyZXR1cm4hMTtyZXR1cm4hMH19LF9nZXRUeXBlTmFtZTpmdW5jdGlvbihlKXtzd2l0Y2goT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIHM7Y2FzZSJbb2JqZWN0IE51bWJlcl0iOnJldHVybiBhO2Nhc2UiW29iamVjdCBBcnJheV0iOnJldHVybiAzO2Nhc2UiW29iamVjdCBCb29sZWFuXSI6cmV0dXJuIDU7Y2FzZSJbb2JqZWN0IE51bGxdIjpyZXR1cm4gNztjYXNlIltvYmplY3QgT2JqZWN0XSI6cmV0dXJuIGUuam1lc3BhdGhUeXBlPT09Yj82OjR9fSxfZnVuY3Rpb25TdGFydHNXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZVswXS5sYXN0SW5kZXhPZihlWzFdKX0sX2Z1bmN0aW9uRW5kc1dpdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV07cmV0dXJuLTEhPT10LmluZGV4T2Yobix0Lmxlbmd0aC1uLmxlbmd0aCl9LF9mdW5jdGlvblJldmVyc2U6ZnVuY3Rpb24oZSl7aWYodGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk9PT1zKXtmb3IodmFyIHQ9ZVswXSxuPSIiLHI9dC5sZW5ndGgtMTtyPj0wO3ItLSluKz10W3JdO3JldHVybiBufXZhciBvPWVbMF0uc2xpY2UoMCk7cmV0dXJuIG8ucmV2ZXJzZSgpLG99LF9mdW5jdGlvbkFiczpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hYnMoZVswXSl9LF9mdW5jdGlvbkNlaWw6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguY2VpbChlWzBdKX0sX2Z1bmN0aW9uQXZnOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZVswXSxyPTA7cjxuLmxlbmd0aDtyKyspdCs9bltyXTtyZXR1cm4gdC9uLmxlbmd0aH0sX2Z1bmN0aW9uQ29udGFpbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT49MH0sX2Z1bmN0aW9uRmxvb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZmxvb3IoZVswXSl9LF9mdW5jdGlvbkxlbmd0aDpmdW5jdGlvbihlKXtyZXR1cm4gbihlWzBdKT9PYmplY3Qua2V5cyhlWzBdKS5sZW5ndGg6ZVswXS5sZW5ndGh9LF9mdW5jdGlvbk1hcDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj10aGlzLl9pbnRlcnByZXRlcixyPWVbMF0sbz1lWzFdLGk9MDtpPG8ubGVuZ3RoO2krKyl0LnB1c2gobi52aXNpdChyLG9baV0pKTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWVyZ2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtmb3IodmFyIG8gaW4gcil0W29dPXJbb119cmV0dXJuIHR9LF9mdW5jdGlvbk1heDpmdW5jdGlvbihlKXtpZihlWzBdLmxlbmd0aD4wKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdWzBdKT09PWEpcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsZVswXSk7Zm9yKHZhciB0PWVbMF0sbj10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyluLmxvY2FsZUNvbXBhcmUodFtyXSk8MCYmKG49dFtyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LF9mdW5jdGlvbk1pbjpmdW5jdGlvbihlKXtpZihlWzBdLmxlbmd0aD4wKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdWzBdKT09PWEpcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsZVswXSk7Zm9yKHZhciB0PWVbMF0sbj10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyl0W3JdLmxvY2FsZUNvbXBhcmUobik8MCYmKG49dFtyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LF9mdW5jdGlvblN1bTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWVbMF0scj0wO3I8bi5sZW5ndGg7cisrKXQrPW5bcl07cmV0dXJuIHR9LF9mdW5jdGlvblR5cGU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pKXtjYXNlIGE6cmV0dXJuIm51bWJlciI7Y2FzZSBzOnJldHVybiJzdHJpbmciO2Nhc2UgMzpyZXR1cm4iYXJyYXkiO2Nhc2UgNDpyZXR1cm4ib2JqZWN0IjtjYXNlIDU6cmV0dXJuImJvb2xlYW4iO2Nhc2UgNjpyZXR1cm4iZXhwcmVmIjtjYXNlIDc6cmV0dXJuIm51bGwifX0sX2Z1bmN0aW9uS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZVswXSl9LF9mdW5jdGlvblZhbHVlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXSxuPU9iamVjdC5rZXlzKHQpLHI9W10sbz0wO288bi5sZW5ndGg7bysrKXIucHVzaCh0W25bb11dKTtyZXR1cm4gcn0sX2Z1bmN0aW9uSm9pbjpmdW5jdGlvbihlKXt2YXIgdD1lWzBdO3JldHVybiBlWzFdLmpvaW4odCl9LF9mdW5jdGlvblRvQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIDM9PT10aGlzLl9nZXRUeXBlTmFtZShlWzBdKT9lWzBdOltlWzBdXX0sX2Z1bmN0aW9uVG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pPT09cz9lWzBdOkpTT04uc3RyaW5naWZ5KGVbMF0pfSxfZnVuY3Rpb25Ub051bWJlcjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2dldFR5cGVOYW1lKGVbMF0pO3JldHVybiBuPT09YT9lWzBdOm4hPT1zfHwodD0rZVswXSxpc05hTih0KSk/bnVsbDp0fSxfZnVuY3Rpb25Ob3ROdWxsOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKDchPT10aGlzLl9nZXRUeXBlTmFtZShlW3RdKSlyZXR1cm4gZVt0XTtyZXR1cm4gbnVsbH0sX2Z1bmN0aW9uU29ydDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLnNsaWNlKDApO3JldHVybiB0LnNvcnQoKSx0fSxfZnVuY3Rpb25Tb3J0Qnk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS5zbGljZSgwKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHQ7dmFyIG49dGhpcy5faW50ZXJwcmV0ZXIscj1lWzFdLG89dGhpcy5fZ2V0VHlwZU5hbWUobi52aXNpdChyLHRbMF0pKTtpZihbYSxzXS5pbmRleE9mKG8pPDApdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3IiKTtmb3IodmFyIGk9dGhpcyxjPVtdLHU9MDt1PHQubGVuZ3RoO3UrKyljLnB1c2goW3UsdFt1XV0pO2Muc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgYT1uLnZpc2l0KHIsZVsxXSkscz1uLnZpc2l0KHIsdFsxXSk7aWYoaS5fZ2V0VHlwZU5hbWUoYSkhPT1vKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiBleHBlY3RlZCAiK28rIiwgcmVjZWl2ZWQgIitpLl9nZXRUeXBlTmFtZShhKSk7aWYoaS5fZ2V0VHlwZU5hbWUocykhPT1vKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiBleHBlY3RlZCAiK28rIiwgcmVjZWl2ZWQgIitpLl9nZXRUeXBlTmFtZShzKSk7cmV0dXJuIGE+cz8xOmE8cz8tMTplWzBdLXRbMF19KSk7Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspdFtsXT1jW2xdWzFdO3JldHVybiB0fSxfZnVuY3Rpb25NYXhCeTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWVbMV0sbz1lWzBdLGk9dGhpcy5jcmVhdGVLZXlGdW5jdGlvbihyLFthLHNdKSxjPS0xLzAsdT0wO3U8by5sZW5ndGg7dSsrKShuPWkob1t1XSkpPmMmJihjPW4sdD1vW3VdKTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWluQnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lWzFdLG89ZVswXSxpPXRoaXMuY3JlYXRlS2V5RnVuY3Rpb24ocixbYSxzXSksYz0xLzAsdT0wO3U8by5sZW5ndGg7dSsrKShuPWkob1t1XSkpPGMmJihjPW4sdD1vW3VdKTtyZXR1cm4gdH0sY3JlYXRlS2V5RnVuY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5faW50ZXJwcmV0ZXI7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPXIudmlzaXQoZSxvKTtpZih0LmluZGV4T2Yobi5fZ2V0VHlwZU5hbWUoaSkpPDApe3ZhciBhPSJUeXBlRXJyb3I6IGV4cGVjdGVkIG9uZSBvZiAiK3QrIiwgcmVjZWl2ZWQgIituLl9nZXRUeXBlTmFtZShpKTt0aHJvdyBuZXcgRXJyb3IoYSl9cmV0dXJuIGl9fX0sZS50b2tlbml6ZT1mdW5jdGlvbihlKXtyZXR1cm4obmV3IEcpLnRva2VuaXplKGUpfSxlLmNvbXBpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBXKS5wYXJzZShlKX0sZS5zZWFyY2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgVyxyPW5ldyB6LG89bmV3IEgocik7ci5faW50ZXJwcmV0ZXI9bzt2YXIgaT1uLnBhcnNlKHQpO3JldHVybiBvLnNlYXJjaChpLGUpfSxlLnN0cmljdERlZXBFcXVhbD1yfSh2b2lkIDA9PT1uP3RoaXMuam1lc3BhdGg9e306bil9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT10LmV4cG9ydHM9e307ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHMoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIGMoZSl7aWYocj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigocj09PWF8fCFyKSYmc2V0VGltZW91dClyZXR1cm4gcj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7cj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmF9Y2F0Y2goZSl7cj1hfXRyeXtvPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnN9Y2F0Y2goZSl7bz1zfX0oKTt2YXIgdSxsPVtdLHA9ITEsZD0tMTtmdW5jdGlvbiBoKCl7cCYmdSYmKHA9ITEsdS5sZW5ndGg/bD11LmNvbmNhdChsKTpkPS0xLGwubGVuZ3RoJiZmKCkpfWZ1bmN0aW9uIGYoKXtpZighcCl7dmFyIGU9YyhoKTtwPSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKHU9bCxsPVtdOysrZDx0Oyl1JiZ1W2RdLnJ1bigpO2Q9LTEsdD1sLmxlbmd0aH11PW51bGwscD0hMSxmdW5jdGlvbihlKXtpZihvPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKG89PT1zfHwhbykmJmNsZWFyVGltZW91dClyZXR1cm4gbz1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG8uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBvLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIG0oKXt9aS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2wucHVzaChuZXcgZyhlLHQpKSwxIT09bC5sZW5ndGh8fHB8fGMoZil9LGcucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9ImJyb3dzZXIiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPSIiLGkudmVyc2lvbnM9e30saS5vbj1tLGkuYWRkTGlzdGVuZXI9bSxpLm9uY2U9bSxpLm9mZj1tLGkucmVtb3ZlTGlzdGVuZXI9bSxpLnJlbW92ZUFsbExpc3RlbmVycz1tLGkuZW1pdD1tLGkucHJlcGVuZExpc3RlbmVyPW0saS5wcmVwZW5kT25jZUxpc3RlbmVyPW0saS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGkuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LGkudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSw5MjpbZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXshZnVuY3Rpb24oYSl7dmFyIHM9Im9iamVjdCI9PW8oaSkmJmkmJiFpLm5vZGVUeXBlJiZpLGM9Im9iamVjdCI9PW8odCkmJnQmJiF0Lm5vZGVUeXBlJiZ0LHU9Im9iamVjdCI9PW8oZSkmJmU7dS5nbG9iYWwhPT11JiZ1LndpbmRvdyE9PXUmJnUuc2VsZiE9PXV8fChhPXUpO3ZhciBsLHAsZD0yMTQ3NDgzNjQ3LGg9MzYsZj0vXnhuLS0vLGc9L1teXHgyMC1ceDdFXS8sbT0vW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csdj17b3ZlcmZsb3c6Ik92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzIiwibm90LWJhc2ljIjoiSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KSIsImludmFsaWQtaW5wdXQiOiJJbnZhbGlkIGlucHV0In0seT1NYXRoLmZsb29yLGI9U3RyaW5nLmZyb21DaGFyQ29kZTtmdW5jdGlvbiBTKGUpe3Rocm93IG5ldyBSYW5nZUVycm9yKHZbZV0pfWZ1bmN0aW9uIEUoZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj1bXTtuLS07KXJbbl09dChlW25dKTtyZXR1cm4gcn1mdW5jdGlvbiBDKGUsdCl7dmFyIG49ZS5zcGxpdCgiQCIpLHI9IiI7cmV0dXJuIG4ubGVuZ3RoPjEmJihyPW5bMF0rIkAiLGU9blsxXSkscitFKChlPWUucmVwbGFjZShtLCIuIikpLnNwbGl0KCIuIiksdCkuam9pbigiLiIpfWZ1bmN0aW9uIEkoZSl7Zm9yKHZhciB0LG4scj1bXSxvPTAsaT1lLmxlbmd0aDtvPGk7KSh0PWUuY2hhckNvZGVBdChvKyspKT49NTUyOTYmJnQ8PTU2MzE5JiZvPGk/NTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQobysrKSkpP3IucHVzaCgoKDEwMjMmdCk8PDEwKSsoMTAyMyZuKSs2NTUzNik6KHIucHVzaCh0KSxvLS0pOnIucHVzaCh0KTtyZXR1cm4gcn1mdW5jdGlvbiBUKGUpe3JldHVybiBFKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PSIiO3JldHVybiBlPjY1NTM1JiYodCs9YigoZS09NjU1MzYpPj4+MTAmMTAyM3w1NTI5NiksZT01NjMyMHwxMDIzJmUpLHQrPWIoZSl9KSkuam9pbigiIil9ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBlKzIyKzc1KihlPDI2KS0oKDAhPXQpPDw1KX1mdW5jdGlvbiBBKGUsdCxuKXt2YXIgcj0wO2ZvcihlPW4/eShlLzcwMCk6ZT4+MSxlKz15KGUvdCk7ZT40NTU7cis9aCllPXkoZS8zNSk7cmV0dXJuIHkociszNiplLyhlKzM4KSl9ZnVuY3Rpb24gXyhlKXt2YXIgdCxuLHIsbyxpLGEscyxjLHUsbCxwLGY9W10sZz1lLmxlbmd0aCxtPTAsdj0xMjgsYj03Mjtmb3IoKG49ZS5sYXN0SW5kZXhPZigiLSIpKTwwJiYobj0wKSxyPTA7cjxuOysrcillLmNoYXJDb2RlQXQocik+PTEyOCYmUygibm90LWJhc2ljIiksZi5wdXNoKGUuY2hhckNvZGVBdChyKSk7Zm9yKG89bj4wP24rMTowO288Zzspe2ZvcihpPW0sYT0xLHM9aDtvPj1nJiZTKCJpbnZhbGlkLWlucHV0IiksKChjPShwPWUuY2hhckNvZGVBdChvKyspKS00ODwxMD9wLTIyOnAtNjU8MjY/cC02NTpwLTk3PDI2P3AtOTc6aCk+PWh8fGM+eSgoZC1tKS9hKSkmJlMoIm92ZXJmbG93IiksbSs9YyphLCEoYzwodT1zPD1iPzE6cz49YisyNj8yNjpzLWIpKTtzKz1oKWE+eShkLyhsPWgtdSkpJiZTKCJvdmVyZmxvdyIpLGEqPWw7Yj1BKG0taSx0PWYubGVuZ3RoKzEsMD09aSkseShtL3QpPmQtdiYmUygib3ZlcmZsb3ciKSx2Kz15KG0vdCksbSU9dCxmLnNwbGljZShtKyssMCx2KX1yZXR1cm4gVChmKX1mdW5jdGlvbiBSKGUpe3ZhciB0LG4scixvLGksYSxzLGMsdSxsLHAsZixnLG0sdixFPVtdO2ZvcihmPShlPUkoZSkpLmxlbmd0aCx0PTEyOCxuPTAsaT03MixhPTA7YTxmOysrYSkocD1lW2FdKTwxMjgmJkUucHVzaChiKHApKTtmb3Iocj1vPUUubGVuZ3RoLG8mJkUucHVzaCgiLSIpO3I8Zjspe2ZvcihzPWQsYT0wO2E8ZjsrK2EpKHA9ZVthXSk+PXQmJnA8cyYmKHM9cCk7Zm9yKHMtdD55KChkLW4pLyhnPXIrMSkpJiZTKCJvdmVyZmxvdyIpLG4rPShzLXQpKmcsdD1zLGE9MDthPGY7KythKWlmKChwPWVbYV0pPHQmJisrbj5kJiZTKCJvdmVyZmxvdyIpLHA9PXQpe2ZvcihjPW4sdT1oOyEoYzwobD11PD1pPzE6dT49aSsyNj8yNjp1LWkpKTt1Kz1oKXY9Yy1sLG09aC1sLEUucHVzaChiKHcobCt2JW0sMCkpKSxjPXkodi9tKTtFLnB1c2goYih3KGMsMCkpKSxpPUEobixnLHI9PW8pLG49MCwrK3J9KytuLCsrdH1yZXR1cm4gRS5qb2luKCIiKX1pZihsPXt2ZXJzaW9uOiIxLjQuMSIsdWNzMjp7ZGVjb2RlOkksZW5jb2RlOlR9LGRlY29kZTpfLGVuY29kZTpSLHRvQVNDSUk6ZnVuY3Rpb24oZSl7cmV0dXJuIEMoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGcudGVzdChlKT8ieG4tLSIrUihlKTplfSkpfSx0b1VuaWNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIEMoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGYudGVzdChlKT9fKGUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSk6ZX0pKX19LCJvYmplY3QiPT1vKG4uYW1kTykmJm4uYW1kTyl2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBsfS5jYWxsKGksbixpLHQpKXx8KHQuZXhwb3J0cz1yKTtlbHNlIGlmKHMmJmMpaWYodC5leHBvcnRzPT1zKWMuZXhwb3J0cz1sO2Vsc2UgZm9yKHAgaW4gbClsLmhhc093blByb3BlcnR5KHApJiYoc1twXT1sW3BdKTtlbHNlIGEucHVueWNvZGU9bH0odGhpcyl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PW4uZz9uLmc6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDkzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe3Q9dHx8IiYiLG49bnx8Ij0iO3ZhciBhPXt9O2lmKCJzdHJpbmciIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiBhO3ZhciBzPS9cKy9nO2U9ZS5zcGxpdCh0KTt2YXIgYz0xZTM7aSYmIm51bWJlciI9PXR5cGVvZiBpLm1heEtleXMmJihjPWkubWF4S2V5cyk7dmFyIHU9ZS5sZW5ndGg7Yz4wJiZ1PmMmJih1PWMpO2Zvcih2YXIgbD0wO2w8dTsrK2wpe3ZhciBwLGQsaCxmLGc9ZVtsXS5yZXBsYWNlKHMsIiUyMCIpLG09Zy5pbmRleE9mKG4pO20+PTA/KHA9Zy5zdWJzdHIoMCxtKSxkPWcuc3Vic3RyKG0rMSkpOihwPWcsZD0iIiksaD1kZWNvZGVVUklDb21wb25lbnQocCksZj1kZWNvZGVVUklDb21wb25lbnQoZCkscihhLGgpP28oYVtoXSk/YVtoXS5wdXNoKGYpOmFbaF09W2FbaF0sZl06YVtoXT1mfXJldHVybiBhfTt2YXIgbz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfX0se31dLDk0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWZ1bmN0aW9uKGUpe3N3aXRjaChvKGUpKXtjYXNlInN0cmluZyI6cmV0dXJuIGU7Y2FzZSJib29sZWFuIjpyZXR1cm4gZT8idHJ1ZSI6ImZhbHNlIjtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKGUpP2U6IiI7ZGVmYXVsdDpyZXR1cm4iIn19O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixjKXtyZXR1cm4gdD10fHwiJiIsbj1ufHwiPSIsbnVsbD09PWUmJihlPXZvaWQgMCksIm9iamVjdCI9PT1vKGUpP2EocyhlKSwoZnVuY3Rpb24obyl7dmFyIHM9ZW5jb2RlVVJJQ29tcG9uZW50KHIobykpK247cmV0dXJuIGkoZVtvXSk/YShlW29dLChmdW5jdGlvbihlKXtyZXR1cm4gcytlbmNvZGVVUklDb21wb25lbnQocihlKSl9KSkuam9pbih0KTpzK2VuY29kZVVSSUNvbXBvbmVudChyKGVbb10pKX0pKS5qb2luKHQpOmM/ZW5jb2RlVVJJQ29tcG9uZW50KHIoYykpK24rZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpOiIifTt2YXIgaT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfTtmdW5jdGlvbiBhKGUsdCl7aWYoZS5tYXApcmV0dXJuIGUubWFwKHQpO2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspbi5wdXNoKHQoZVtyXSxyKSk7cmV0dXJuIG59dmFyIHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LnB1c2gobik7cmV0dXJuIHR9fSx7fV0sOTU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kZWNvZGU9bi5wYXJzZT1lKCIuL2RlY29kZSIpLG4uZW5jb2RlPW4uc3RyaW5naWZ5PWUoIi4vZW5jb2RlIil9LHsiLi9kZWNvZGUiOjkzLCIuL2VuY29kZSI6OTR9XSw5NjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXQuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixvKXt0PXR8fCImIixuPW58fCI9Ijt2YXIgaT17fTtpZigic3RyaW5nIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aClyZXR1cm4gaTt2YXIgYT0vXCsvZztlPWUuc3BsaXQodCk7dmFyIHM9MWUzO28mJiJudW1iZXIiPT10eXBlb2Ygby5tYXhLZXlzJiYocz1vLm1heEtleXMpO3ZhciBjPWUubGVuZ3RoO3M+MCYmYz5zJiYoYz1zKTtmb3IodmFyIHU9MDt1PGM7Kyt1KXt2YXIgbCxwLGQsaCxmPWVbdV0ucmVwbGFjZShhLCIlMjAiKSxnPWYuaW5kZXhPZihuKTtnPj0wPyhsPWYuc3Vic3RyKDAsZykscD1mLnN1YnN0cihnKzEpKToobD1mLHA9IiIpLGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGwpLGg9ZGVjb2RlVVJJQ29tcG9uZW50KHApLHIoaSxkKT9BcnJheS5pc0FycmF5KGlbZF0pP2lbZF0ucHVzaChoKTppW2RdPVtpW2RdLGhdOmlbZF09aH1yZXR1cm4gaX19LHt9XSw5NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mdW5jdGlvbihlKXtzd2l0Y2gobyhlKSl7Y2FzZSJzdHJpbmciOnJldHVybiBlO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIGU/InRydWUiOiJmYWxzZSI7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShlKT9lOiIiO2RlZmF1bHQ6cmV0dXJuIiJ9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIHQ9dHx8IiYiLG49bnx8Ij0iLG51bGw9PT1lJiYoZT12b2lkIDApLCJvYmplY3QiPT09byhlKT9PYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKG8pe3ZhciBpPWVuY29kZVVSSUNvbXBvbmVudChyKG8pKStuO3JldHVybiBBcnJheS5pc0FycmF5KGVbb10pP2Vbb10ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaStlbmNvZGVVUklDb21wb25lbnQocihlKSl9KSkuam9pbih0KTppK2VuY29kZVVSSUNvbXBvbmVudChyKGVbb10pKX0pKS5qb2luKHQpOmk/ZW5jb2RlVVJJQ29tcG9uZW50KHIoaSkpK24rZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpOiIifX0se31dLDk4OltmdW5jdGlvbihlLHQsbil7YXJndW1lbnRzWzRdWzk1XVswXS5hcHBseShuLGFyZ3VtZW50cyl9LHsiLi9kZWNvZGUiOjk2LCIuL2VuY29kZSI6OTcsZHVwOjk1fV0sOTk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCxyKXsoZnVuY3Rpb24oKXt2YXIgbz1lKCJwcm9jZXNzL2Jyb3dzZXIuanMiKS5uZXh0VGljayxpPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxzPXt9LGM9MDtmdW5jdGlvbiB1KGUsdCl7dGhpcy5faWQ9ZSx0aGlzLl9jbGVhckZuPXR9bi5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KGkuY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LG4uc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoaS5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxuLmNsZWFyVGltZW91dD1uLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZS5jbG9zZSgpfSx1LnByb3RvdHlwZS51bnJlZj11LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LHUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCl9LG4uZW5yb2xsPWZ1bmN0aW9uKGUsdCl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PXR9LG4udW5lbnJvbGw9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PS0xfSxuLl91bnJlZkFjdGl2ZT1uLmFjdGl2ZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCk7dmFyIHQ9ZS5faWRsZVRpbWVvdXQ7dD49MCYmKGUuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9vblRpbWVvdXQmJmUuX29uVGltZW91dCgpfSksdCkpfSxuLnNldEltbWVkaWF0ZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmZ1bmN0aW9uKGUpe3ZhciB0PWMrKyxyPSEoYXJndW1lbnRzLmxlbmd0aDwyKSYmYS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gc1t0XT0hMCxvKChmdW5jdGlvbigpe3NbdF0mJihyP2UuYXBwbHkobnVsbCxyKTplLmNhbGwobnVsbCksbi5jbGVhckltbWVkaWF0ZSh0KSl9KSksdH0sbi5jbGVhckltbWVkaWF0ZT0iZnVuY3Rpb24iPT10eXBlb2Ygcj9yOmZ1bmN0aW9uKGUpe2RlbGV0ZSBzW2VdfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgidGltZXJzIikuc2V0SW1tZWRpYXRlLGUoInRpbWVycyIpLmNsZWFySW1tZWRpYXRlKX0seyJwcm9jZXNzL2Jyb3dzZXIuanMiOjkxLHRpbWVyczo5OX1dLDEwMDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoInB1bnljb2RlIik7ZnVuY3Rpb24gaSgpe3RoaXMucHJvdG9jb2w9bnVsbCx0aGlzLnNsYXNoZXM9bnVsbCx0aGlzLmF1dGg9bnVsbCx0aGlzLmhvc3Q9bnVsbCx0aGlzLnBvcnQ9bnVsbCx0aGlzLmhvc3RuYW1lPW51bGwsdGhpcy5oYXNoPW51bGwsdGhpcy5zZWFyY2g9bnVsbCx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5wYXRobmFtZT1udWxsLHRoaXMucGF0aD1udWxsLHRoaXMuaHJlZj1udWxsfW4ucGFyc2U9eSxuLnJlc29sdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4geShlLCExLCEwKS5yZXNvbHZlKHQpfSxuLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT95KGUsITEsITApLnJlc29sdmVPYmplY3QodCk6dH0sbi5mb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGIoZSkmJihlPXkoZSkpLGUgaW5zdGFuY2VvZiBpP2UuZm9ybWF0KCk6aS5wcm90b3R5cGUuZm9ybWF0LmNhbGwoZSl9LG4uVXJsPWk7dmFyIGE9L14oW2EtejAtOS4rLV0rOikvaSxzPS86WzAtOV0qJC8sYz1bInsiLCJ9IiwifCIsIlxcIiwiXiIsImAiXS5jb25jYXQoWyI8IiwiPiIsJyInLCJgIiwiICIsIlxyIiwiXG4iLCJcdCJdKSx1PVsiJyJdLmNvbmNhdChjKSxsPVsiJSIsIi8iLCI/IiwiOyIsIiMiXS5jb25jYXQodSkscD1bIi8iLCI/IiwiIyJdLGQ9L15bYS16MC05QS1aXy1dezAsNjN9JC8saD0vXihbYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxmPXtqYXZhc2NyaXB0OiEwLCJqYXZhc2NyaXB0OiI6ITB9LGc9e2phdmFzY3JpcHQ6ITAsImphdmFzY3JpcHQ6IjohMH0sbT17aHR0cDohMCxodHRwczohMCxmdHA6ITAsZ29waGVyOiEwLGZpbGU6ITAsImh0dHA6IjohMCwiaHR0cHM6IjohMCwiZnRwOiI6ITAsImdvcGhlcjoiOiEwLCJmaWxlOiI6ITB9LHY9ZSgicXVlcnlzdHJpbmciKTtmdW5jdGlvbiB5KGUsdCxuKXtpZihlJiZTKGUpJiZlIGluc3RhbmNlb2YgaSlyZXR1cm4gZTt2YXIgcj1uZXcgaTtyZXR1cm4gci5wYXJzZShlLHQsbikscn1mdW5jdGlvbiBiKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX1mdW5jdGlvbiBTKGUpe3JldHVybiJvYmplY3QiPT09byhlKSYmbnVsbCE9PWV9ZnVuY3Rpb24gRShlKXtyZXR1cm4gbnVsbD09PWV9aS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LG4pe2lmKCFiKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgIitvKGUpKTt2YXIgaT1lO2k9aS50cmltKCk7dmFyIHM9YS5leGVjKGkpO2lmKHMpe3ZhciBjPShzPXNbMF0pLnRvTG93ZXJDYXNlKCk7dGhpcy5wcm90b2NvbD1jLGk9aS5zdWJzdHIocy5sZW5ndGgpfWlmKG58fHN8fGkubWF0Y2goL15cL1wvW15AXC9dK0BbXkBcL10rLykpe3ZhciB5PSIvLyI9PT1pLnN1YnN0cigwLDIpOyF5fHxzJiZnW3NdfHwoaT1pLnN1YnN0cigyKSx0aGlzLnNsYXNoZXM9ITApfWlmKCFnW3NdJiYoeXx8cyYmIW1bc10pKXtmb3IodmFyIFMsRSxDPS0xLEk9MDtJPHAubGVuZ3RoO0krKyktMSE9PShUPWkuaW5kZXhPZihwW0ldKSkmJigtMT09PUN8fFQ8QykmJihDPVQpO2ZvcigtMSE9PShFPS0xPT09Qz9pLmxhc3RJbmRleE9mKCJAIik6aS5sYXN0SW5kZXhPZigiQCIsQykpJiYoUz1pLnNsaWNlKDAsRSksaT1pLnNsaWNlKEUrMSksdGhpcy5hdXRoPWRlY29kZVVSSUNvbXBvbmVudChTKSksQz0tMSxJPTA7STxsLmxlbmd0aDtJKyspe3ZhciBUOy0xIT09KFQ9aS5pbmRleE9mKGxbSV0pKSYmKC0xPT09Q3x8VDxDKSYmKEM9VCl9LTE9PT1DJiYoQz1pLmxlbmd0aCksdGhpcy5ob3N0PWkuc2xpY2UoMCxDKSxpPWkuc2xpY2UoQyksdGhpcy5wYXJzZUhvc3QoKSx0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWV8fCIiO3ZhciB3PSJbIj09PXRoaXMuaG9zdG5hbWVbMF0mJiJdIj09PXRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGgtMV07aWYoIXcpZm9yKHZhciBBPXRoaXMuaG9zdG5hbWUuc3BsaXQoL1wuLyksXz0oST0wLEEubGVuZ3RoKTtJPF87SSsrKXt2YXIgUj1BW0ldO2lmKFImJiFSLm1hdGNoKGQpKXtmb3IodmFyIEw9IiIsTz0wLGs9Ui5sZW5ndGg7TzxrO08rKylSLmNoYXJDb2RlQXQoTyk+MTI3P0wrPSJ4IjpMKz1SW09dO2lmKCFMLm1hdGNoKGQpKXt2YXIgTj1BLnNsaWNlKDAsSSksUD1BLnNsaWNlKEkrMSksRD1SLm1hdGNoKGgpO0QmJihOLnB1c2goRFsxXSksUC51bnNoaWZ0KERbMl0pKSxQLmxlbmd0aCYmKGk9Ii8iK1Auam9pbigiLiIpK2kpLHRoaXMuaG9zdG5hbWU9Ti5qb2luKCIuIik7YnJlYWt9fX1pZih0aGlzLmhvc3RuYW1lLmxlbmd0aD4yNTU/dGhpcy5ob3N0bmFtZT0iIjp0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSwhdyl7dmFyIHg9dGhpcy5ob3N0bmFtZS5zcGxpdCgiLiIpLE09W107Zm9yKEk9MDtJPHgubGVuZ3RoOysrSSl7dmFyIFU9eFtJXTtNLnB1c2goVS5tYXRjaCgvW15BLVphLXowLTlfLV0vKT8ieG4tLSIrci5lbmNvZGUoVSk6VSl9dGhpcy5ob3N0bmFtZT1NLmpvaW4oIi4iKX12YXIgRj10aGlzLnBvcnQ/IjoiK3RoaXMucG9ydDoiIixqPXRoaXMuaG9zdG5hbWV8fCIiO3RoaXMuaG9zdD1qK0YsdGhpcy5ocmVmKz10aGlzLmhvc3QsdyYmKHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS5zdWJzdHIoMSx0aGlzLmhvc3RuYW1lLmxlbmd0aC0yKSwiLyIhPT1pWzBdJiYoaT0iLyIraSkpfWlmKCFmW2NdKWZvcihJPTAsXz11Lmxlbmd0aDtJPF87SSsrKXt2YXIgcT11W0ldLEI9ZW5jb2RlVVJJQ29tcG9uZW50KHEpO0I9PT1xJiYoQj1lc2NhcGUocSkpLGk9aS5zcGxpdChxKS5qb2luKEIpfXZhciBHPWkuaW5kZXhPZigiIyIpOy0xIT09RyYmKHRoaXMuaGFzaD1pLnN1YnN0cihHKSxpPWkuc2xpY2UoMCxHKSk7dmFyIFY9aS5pbmRleE9mKCI/Iik7cmV0dXJuLTEhPT1WPyh0aGlzLnNlYXJjaD1pLnN1YnN0cihWKSx0aGlzLnF1ZXJ5PWkuc3Vic3RyKFYrMSksdCYmKHRoaXMucXVlcnk9di5wYXJzZSh0aGlzLnF1ZXJ5KSksaT1pLnNsaWNlKDAsVikpOnQmJih0aGlzLnNlYXJjaD0iIix0aGlzLnF1ZXJ5PXt9KSxpJiYodGhpcy5wYXRobmFtZT1pKSxtW2NdJiZ0aGlzLmhvc3RuYW1lJiYhdGhpcy5wYXRobmFtZSYmKHRoaXMucGF0aG5hbWU9Ii8iKSwodGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpJiYoRj10aGlzLnBhdGhuYW1lfHwiIixVPXRoaXMuc2VhcmNofHwiIix0aGlzLnBhdGg9RitVKSx0aGlzLmhyZWY9dGhpcy5mb3JtYXQoKSx0aGlzfSxpLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF1dGh8fCIiO2UmJihlPShlPWVuY29kZVVSSUNvbXBvbmVudChlKSkucmVwbGFjZSgvJTNBL2ksIjoiKSxlKz0iQCIpO3ZhciB0PXRoaXMucHJvdG9jb2x8fCIiLG49dGhpcy5wYXRobmFtZXx8IiIscj10aGlzLmhhc2h8fCIiLG89ITEsaT0iIjt0aGlzLmhvc3Q/bz1lK3RoaXMuaG9zdDp0aGlzLmhvc3RuYW1lJiYobz1lKygtMT09PXRoaXMuaG9zdG5hbWUuaW5kZXhPZigiOiIpP3RoaXMuaG9zdG5hbWU6IlsiK3RoaXMuaG9zdG5hbWUrIl0iKSx0aGlzLnBvcnQmJihvKz0iOiIrdGhpcy5wb3J0KSksdGhpcy5xdWVyeSYmUyh0aGlzLnF1ZXJ5KSYmT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoJiYoaT12LnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KSk7dmFyIGE9dGhpcy5zZWFyY2h8fGkmJiI/IitpfHwiIjtyZXR1cm4gdCYmIjoiIT09dC5zdWJzdHIoLTEpJiYodCs9IjoiKSx0aGlzLnNsYXNoZXN8fCghdHx8bVt0XSkmJiExIT09bz8obz0iLy8iKyhvfHwiIiksbiYmIi8iIT09bi5jaGFyQXQoMCkmJihuPSIvIituKSk6b3x8KG89IiIpLHImJiIjIiE9PXIuY2hhckF0KDApJiYocj0iIyIrciksYSYmIj8iIT09YS5jaGFyQXQoMCkmJihhPSI/IithKSx0K28rKG49bi5yZXBsYWNlKC9bPyNdL2csKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkpKyhhPWEucmVwbGFjZSgiIyIsIiUyMyIpKStyfSxpLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlc29sdmVPYmplY3QoeShlLCExLCEwKSkuZm9ybWF0KCl9LGkucHJvdG90eXBlLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSl7aWYoYihlKSl7dmFyIHQ9bmV3IGk7dC5wYXJzZShlLCExLCEwKSxlPXR9dmFyIG49bmV3IGk7aWYoT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bltlXT10aGlzW2VdfSksdGhpcyksbi5oYXNoPWUuaGFzaCwiIj09PWUuaHJlZilyZXR1cm4gbi5ocmVmPW4uZm9ybWF0KCksbjtpZihlLnNsYXNoZXMmJiFlLnByb3RvY29sKXJldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXsicHJvdG9jb2wiIT09dCYmKG5bdF09ZVt0XSl9KSksbVtuLnByb3RvY29sXSYmbi5ob3N0bmFtZSYmIW4ucGF0aG5hbWUmJihuLnBhdGg9bi5wYXRobmFtZT0iLyIpLG4uaHJlZj1uLmZvcm1hdCgpLG47aWYoZS5wcm90b2NvbCYmZS5wcm90b2NvbCE9PW4ucHJvdG9jb2wpe2lmKCFtW2UucHJvdG9jb2xdKXJldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPWVbdF19KSksbi5ocmVmPW4uZm9ybWF0KCksbjtpZihuLnByb3RvY29sPWUucHJvdG9jb2wsZS5ob3N0fHxnW2UucHJvdG9jb2xdKW4ucGF0aG5hbWU9ZS5wYXRobmFtZTtlbHNle2Zvcih2YXIgcj0oZS5wYXRobmFtZXx8IiIpLnNwbGl0KCIvIik7ci5sZW5ndGgmJiEoZS5ob3N0PXIuc2hpZnQoKSk7KTtlLmhvc3R8fChlLmhvc3Q9IiIpLGUuaG9zdG5hbWV8fChlLmhvc3RuYW1lPSIiKSwiIiE9PXJbMF0mJnIudW5zaGlmdCgiIiksci5sZW5ndGg8MiYmci51bnNoaWZ0KCIiKSxuLnBhdGhuYW1lPXIuam9pbigiLyIpfWlmKG4uc2VhcmNoPWUuc2VhcmNoLG4ucXVlcnk9ZS5xdWVyeSxuLmhvc3Q9ZS5ob3N0fHwiIixuLmF1dGg9ZS5hdXRoLG4uaG9zdG5hbWU9ZS5ob3N0bmFtZXx8ZS5ob3N0LG4ucG9ydD1lLnBvcnQsbi5wYXRobmFtZXx8bi5zZWFyY2gpe3ZhciBvPW4ucGF0aG5hbWV8fCIiLGE9bi5zZWFyY2h8fCIiO24ucGF0aD1vK2F9cmV0dXJuIG4uc2xhc2hlcz1uLnNsYXNoZXN8fGUuc2xhc2hlcyxuLmhyZWY9bi5mb3JtYXQoKSxufXZhciBzPW4ucGF0aG5hbWUmJiIvIj09PW4ucGF0aG5hbWUuY2hhckF0KDApLGM9ZS5ob3N0fHxlLnBhdGhuYW1lJiYiLyI9PT1lLnBhdGhuYW1lLmNoYXJBdCgwKSx1PWN8fHN8fG4uaG9zdCYmZS5wYXRobmFtZSxsPXUscD1uLnBhdGhuYW1lJiZuLnBhdGhuYW1lLnNwbGl0KCIvIil8fFtdLGQ9KHI9ZS5wYXRobmFtZSYmZS5wYXRobmFtZS5zcGxpdCgiLyIpfHxbXSxuLnByb3RvY29sJiYhbVtuLnByb3RvY29sXSk7aWYoZCYmKG4uaG9zdG5hbWU9IiIsbi5wb3J0PW51bGwsbi5ob3N0JiYoIiI9PT1wWzBdP3BbMF09bi5ob3N0OnAudW5zaGlmdChuLmhvc3QpKSxuLmhvc3Q9IiIsZS5wcm90b2NvbCYmKGUuaG9zdG5hbWU9bnVsbCxlLnBvcnQ9bnVsbCxlLmhvc3QmJigiIj09PXJbMF0/clswXT1lLmhvc3Q6ci51bnNoaWZ0KGUuaG9zdCkpLGUuaG9zdD1udWxsKSx1PXUmJigiIj09PXJbMF18fCIiPT09cFswXSkpLGMpbi5ob3N0PWUuaG9zdHx8IiI9PT1lLmhvc3Q/ZS5ob3N0Om4uaG9zdCxuLmhvc3RuYW1lPWUuaG9zdG5hbWV8fCIiPT09ZS5ob3N0bmFtZT9lLmhvc3RuYW1lOm4uaG9zdG5hbWUsbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LHA9cjtlbHNlIGlmKHIubGVuZ3RoKXB8fChwPVtdKSxwLnBvcCgpLHA9cC5jb25jYXQociksbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5O2Vsc2UgaWYobnVsbCE9ZS5zZWFyY2gpcmV0dXJuIGQmJihuLmhvc3RuYW1lPW4uaG9zdD1wLnNoaWZ0KCksKFM9ISEobi5ob3N0JiZuLmhvc3QuaW5kZXhPZigiQCIpPjApJiZuLmhvc3Quc3BsaXQoIkAiKSkmJihuLmF1dGg9Uy5zaGlmdCgpLG4uaG9zdD1uLmhvc3RuYW1lPVMuc2hpZnQoKSkpLG4uc2VhcmNoPWUuc2VhcmNoLG4ucXVlcnk9ZS5xdWVyeSxFKG4ucGF0aG5hbWUpJiZFKG4uc2VhcmNoKXx8KG4ucGF0aD0obi5wYXRobmFtZT9uLnBhdGhuYW1lOiIiKSsobi5zZWFyY2g/bi5zZWFyY2g6IiIpKSxuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKCFwLmxlbmd0aClyZXR1cm4gbi5wYXRobmFtZT1udWxsLG4uc2VhcmNoP24ucGF0aD0iLyIrbi5zZWFyY2g6bi5wYXRoPW51bGwsbi5ocmVmPW4uZm9ybWF0KCksbjtmb3IodmFyIGg9cC5zbGljZSgtMSlbMF0sZj0obi5ob3N0fHxlLmhvc3QpJiYoIi4iPT09aHx8Ii4uIj09PWgpfHwiIj09PWgsdj0wLHk9cC5sZW5ndGg7eT49MDt5LS0pIi4iPT0oaD1wW3ldKT9wLnNwbGljZSh5LDEpOiIuLiI9PT1oPyhwLnNwbGljZSh5LDEpLHYrKyk6diYmKHAuc3BsaWNlKHksMSksdi0tKTtpZighdSYmIWwpZm9yKDt2LS07dilwLnVuc2hpZnQoIi4uIik7IXV8fCIiPT09cFswXXx8cFswXSYmIi8iPT09cFswXS5jaGFyQXQoMCl8fHAudW5zaGlmdCgiIiksZiYmIi8iIT09cC5qb2luKCIvIikuc3Vic3RyKC0xKSYmcC5wdXNoKCIiKTt2YXIgUyxDPSIiPT09cFswXXx8cFswXSYmIi8iPT09cFswXS5jaGFyQXQoMCk7cmV0dXJuIGQmJihuLmhvc3RuYW1lPW4uaG9zdD1DPyIiOnAubGVuZ3RoP3Auc2hpZnQoKToiIiwoUz0hIShuLmhvc3QmJm4uaG9zdC5pbmRleE9mKCJAIik+MCkmJm4uaG9zdC5zcGxpdCgiQCIpKSYmKG4uYXV0aD1TLnNoaWZ0KCksbi5ob3N0PW4uaG9zdG5hbWU9Uy5zaGlmdCgpKSksKHU9dXx8bi5ob3N0JiZwLmxlbmd0aCkmJiFDJiZwLnVuc2hpZnQoIiIpLHAubGVuZ3RoP24ucGF0aG5hbWU9cC5qb2luKCIvIik6KG4ucGF0aG5hbWU9bnVsbCxuLnBhdGg9bnVsbCksRShuLnBhdGhuYW1lKSYmRShuLnNlYXJjaCl8fChuLnBhdGg9KG4ucGF0aG5hbWU/bi5wYXRobmFtZToiIikrKG4uc2VhcmNoP24uc2VhcmNoOiIiKSksbi5hdXRoPWUuYXV0aHx8bi5hdXRoLG4uc2xhc2hlcz1uLnNsYXNoZXN8fGUuc2xhc2hlcyxuLmhyZWY9bi5mb3JtYXQoKSxufSxpLnByb3RvdHlwZS5wYXJzZUhvc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvc3QsdD1zLmV4ZWMoZSk7dCYmKCI6IiE9PSh0PXRbMF0pJiYodGhpcy5wb3J0PXQuc3Vic3RyKDEpKSxlPWUuc3Vic3RyKDAsZS5sZW5ndGgtdC5sZW5ndGgpKSxlJiYodGhpcy5ob3N0bmFtZT1lKX19LHtwdW55Y29kZTo5MixxdWVyeXN0cmluZzo5NX1dLDEwMTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDtmb3IodmFyIHI9W10sbz0wO288MjU2OysrbylyW29dPShvKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKTt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuPXR8fDAsbz1yO3JldHVybltvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dXS5qb2luKCIiKX07bi5kZWZhdWx0PWl9LHt9XSwxMDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2MSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2NSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdH19KTt2YXIgcj1zKGUoIi4vdjEuanMiKSksbz1zKGUoIi4vdjMuanMiKSksaT1zKGUoIi4vdjQuanMiKSksYT1zKGUoIi4vdjUuanMiKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSx7Ii4vdjEuanMiOjEwNiwiLi92My5qcyI6MTA3LCIuL3Y0LmpzIjoxMDksIi4vdjUuanMiOjExMH1dLDEwMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiBvKGUsdCxuLG8saSxhKXtyZXR1cm4gcigocz1yKHIodCxlKSxyKG8sYSkpKTw8KGM9aSl8cz4+PjMyLWMsbik7dmFyIHMsY31mdW5jdGlvbiBpKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKHQmbnx+dCZyLGUsdCxpLGEscyl9ZnVuY3Rpb24gYShlLHQsbixyLGksYSxzKXtyZXR1cm4gbyh0JnJ8biZ+cixlLHQsaSxhLHMpfWZ1bmN0aW9uIHMoZSx0LG4scixpLGEscyl7cmV0dXJuIG8odF5uXnIsZSx0LGksYSxzKX1mdW5jdGlvbiBjKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKG5eKHR8fnIpLGUsdCxpLGEscyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHU9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgdD11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpO2U9bmV3IEFycmF5KHQubGVuZ3RoKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllW25dPXQuY2hhckNvZGVBdChuKX1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89W10saT0zMiplLmxlbmd0aCxhPSIwMTIzNDU2Nzg5YWJjZGVmIjtmb3IodD0wO3Q8aTt0Kz04KW49ZVt0Pj41XT4+PnQlMzImMjU1LHI9cGFyc2VJbnQoYS5jaGFyQXQobj4+PjQmMTUpK2EuY2hhckF0KDE1Jm4pLDE2KSxvLnB1c2gocik7cmV0dXJuIG99KGZ1bmN0aW9uKGUsdCl7dmFyIG4sbyx1LGwscDtlW3Q+PjVdfD0xMjg8PHQlMzIsZVsxNCsodCs2ND4+Pjk8PDQpXT10O3ZhciBkPTE3MzI1ODQxOTMsaD0tMjcxNzMzODc5LGY9LTE3MzI1ODQxOTQsZz0yNzE3MzM4Nzg7Zm9yKG49MDtuPGUubGVuZ3RoO24rPTE2KW89ZCx1PWgsbD1mLHA9ZyxkPWkoZCxoLGYsZyxlW25dLDcsLTY4MDg3NjkzNiksZz1pKGcsZCxoLGYsZVtuKzFdLDEyLC0zODk1NjQ1ODYpLGY9aShmLGcsZCxoLGVbbisyXSwxNyw2MDYxMDU4MTkpLGg9aShoLGYsZyxkLGVbbiszXSwyMiwtMTA0NDUyNTMzMCksZD1pKGQsaCxmLGcsZVtuKzRdLDcsLTE3NjQxODg5NyksZz1pKGcsZCxoLGYsZVtuKzVdLDEyLDEyMDAwODA0MjYpLGY9aShmLGcsZCxoLGVbbis2XSwxNywtMTQ3MzIzMTM0MSksaD1pKGgsZixnLGQsZVtuKzddLDIyLC00NTcwNTk4MyksZD1pKGQsaCxmLGcsZVtuKzhdLDcsMTc3MDAzNTQxNiksZz1pKGcsZCxoLGYsZVtuKzldLDEyLC0xOTU4NDE0NDE3KSxmPWkoZixnLGQsaCxlW24rMTBdLDE3LC00MjA2MyksaD1pKGgsZixnLGQsZVtuKzExXSwyMiwtMTk5MDQwNDE2MiksZD1pKGQsaCxmLGcsZVtuKzEyXSw3LDE4MDQ2MDM2ODIpLGc9aShnLGQsaCxmLGVbbisxM10sMTIsLTQwMzQxMTAxKSxmPWkoZixnLGQsaCxlW24rMTRdLDE3LC0xNTAyMDAyMjkwKSxkPWEoZCxoPWkoaCxmLGcsZCxlW24rMTVdLDIyLDEyMzY1MzUzMjkpLGYsZyxlW24rMV0sNSwtMTY1Nzk2NTEwKSxnPWEoZyxkLGgsZixlW24rNl0sOSwtMTA2OTUwMTYzMiksZj1hKGYsZyxkLGgsZVtuKzExXSwxNCw2NDM3MTc3MTMpLGg9YShoLGYsZyxkLGVbbl0sMjAsLTM3Mzg5NzMwMiksZD1hKGQsaCxmLGcsZVtuKzVdLDUsLTcwMTU1ODY5MSksZz1hKGcsZCxoLGYsZVtuKzEwXSw5LDM4MDE2MDgzKSxmPWEoZixnLGQsaCxlW24rMTVdLDE0LC02NjA0NzgzMzUpLGg9YShoLGYsZyxkLGVbbis0XSwyMCwtNDA1NTM3ODQ4KSxkPWEoZCxoLGYsZyxlW24rOV0sNSw1Njg0NDY0MzgpLGc9YShnLGQsaCxmLGVbbisxNF0sOSwtMTAxOTgwMzY5MCksZj1hKGYsZyxkLGgsZVtuKzNdLDE0LC0xODczNjM5NjEpLGg9YShoLGYsZyxkLGVbbis4XSwyMCwxMTYzNTMxNTAxKSxkPWEoZCxoLGYsZyxlW24rMTNdLDUsLTE0NDQ2ODE0NjcpLGc9YShnLGQsaCxmLGVbbisyXSw5LC01MTQwMzc4NCksZj1hKGYsZyxkLGgsZVtuKzddLDE0LDE3MzUzMjg0NzMpLGQ9cyhkLGg9YShoLGYsZyxkLGVbbisxMl0sMjAsLTE5MjY2MDc3MzQpLGYsZyxlW24rNV0sNCwtMzc4NTU4KSxnPXMoZyxkLGgsZixlW24rOF0sMTEsLTIwMjI1NzQ0NjMpLGY9cyhmLGcsZCxoLGVbbisxMV0sMTYsMTgzOTAzMDU2MiksaD1zKGgsZixnLGQsZVtuKzE0XSwyMywtMzUzMDk1NTYpLGQ9cyhkLGgsZixnLGVbbisxXSw0LC0xNTMwOTkyMDYwKSxnPXMoZyxkLGgsZixlW24rNF0sMTEsMTI3Mjg5MzM1MyksZj1zKGYsZyxkLGgsZVtuKzddLDE2LC0xNTU0OTc2MzIpLGg9cyhoLGYsZyxkLGVbbisxMF0sMjMsLTEwOTQ3MzA2NDApLGQ9cyhkLGgsZixnLGVbbisxM10sNCw2ODEyNzkxNzQpLGc9cyhnLGQsaCxmLGVbbl0sMTEsLTM1ODUzNzIyMiksZj1zKGYsZyxkLGgsZVtuKzNdLDE2LC03MjI1MjE5NzkpLGg9cyhoLGYsZyxkLGVbbis2XSwyMyw3NjAyOTE4OSksZD1zKGQsaCxmLGcsZVtuKzldLDQsLTY0MDM2NDQ4NyksZz1zKGcsZCxoLGYsZVtuKzEyXSwxMSwtNDIxODE1ODM1KSxmPXMoZixnLGQsaCxlW24rMTVdLDE2LDUzMDc0MjUyMCksZD1jKGQsaD1zKGgsZixnLGQsZVtuKzJdLDIzLC05OTUzMzg2NTEpLGYsZyxlW25dLDYsLTE5ODYzMDg0NCksZz1jKGcsZCxoLGYsZVtuKzddLDEwLDExMjY4OTE0MTUpLGY9YyhmLGcsZCxoLGVbbisxNF0sMTUsLTE0MTYzNTQ5MDUpLGg9YyhoLGYsZyxkLGVbbis1XSwyMSwtNTc0MzQwNTUpLGQ9YyhkLGgsZixnLGVbbisxMl0sNiwxNzAwNDg1NTcxKSxnPWMoZyxkLGgsZixlW24rM10sMTAsLTE4OTQ5ODY2MDYpLGY9YyhmLGcsZCxoLGVbbisxMF0sMTUsLTEwNTE1MjMpLGg9YyhoLGYsZyxkLGVbbisxXSwyMSwtMjA1NDkyMjc5OSksZD1jKGQsaCxmLGcsZVtuKzhdLDYsMTg3MzMxMzM1OSksZz1jKGcsZCxoLGYsZVtuKzE1XSwxMCwtMzA2MTE3NDQpLGY9YyhmLGcsZCxoLGVbbis2XSwxNSwtMTU2MDE5ODM4MCksaD1jKGgsZixnLGQsZVtuKzEzXSwyMSwxMzA5MTUxNjQ5KSxkPWMoZCxoLGYsZyxlW24rNF0sNiwtMTQ1NTIzMDcwKSxnPWMoZyxkLGgsZixlW24rMTFdLDEwLC0xMTIwMjEwMzc5KSxmPWMoZixnLGQsaCxlW24rMl0sMTUsNzE4Nzg3MjU5KSxoPWMoaCxmLGcsZCxlW24rOV0sMjEsLTM0MzQ4NTU1MSksZD1yKGQsbyksaD1yKGgsdSksZj1yKGYsbCksZz1yKGcscCk7cmV0dXJuW2QsaCxmLGddfShmdW5jdGlvbihlKXt2YXIgdCxuPVtdO2ZvcihuWyhlLmxlbmd0aD4+MiktMV09dm9pZCAwLHQ9MDt0PG4ubGVuZ3RoO3QrPTEpblt0XT0wO3ZhciByPTgqZS5sZW5ndGg7Zm9yKHQ9MDt0PHI7dCs9OCluW3Q+PjVdfD0oMjU1JmVbdC84XSk8PHQlMzI7cmV0dXJuIG59KGUpLDgqZS5sZW5ndGgpKX07bi5kZWZhdWx0PXV9LHt9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD1mdW5jdGlvbigpe2lmKCFyKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gcihvKX07dmFyIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBjcnlwdG8mJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pfHwidW5kZWZpbmVkIiE9dHlwZW9mIG1zQ3J5cHRvJiYiZnVuY3Rpb24iPT10eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byksbz1uZXcgVWludDhBcnJheSgxNil9LHt9XSwxMDU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQsbixyKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0Jm5efnQmcjtjYXNlIDE6Y2FzZSAzOnJldHVybiB0Xm5ecjtjYXNlIDI6cmV0dXJuIHQmbl50JnJebiZyfX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9WzE1MTg1MDAyNDksMTg1OTc3NTM5MywyNDAwOTU5NzA4LDMzOTU0Njk3ODJdLG49WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBpPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1uZXcgQXJyYXkoaS5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWVbYV09aS5jaGFyQ29kZUF0KGEpfWUucHVzaCgxMjgpO3ZhciBzPWUubGVuZ3RoLzQrMixjPU1hdGguY2VpbChzLzE2KSx1PW5ldyBBcnJheShjKTtmb3IoYT0wO2E8YzthKyspe3VbYV09bmV3IEFycmF5KDE2KTtmb3IodmFyIGw9MDtsPDE2O2wrKyl1W2FdW2xdPWVbNjQqYSs0KmxdPDwyNHxlWzY0KmErNCpsKzFdPDwxNnxlWzY0KmErNCpsKzJdPDw4fGVbNjQqYSs0KmwrM119Zm9yKHVbYy0xXVsxNF09OCooZS5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMiksdVtjLTFdWzE0XT1NYXRoLmZsb29yKHVbYy0xXVsxNF0pLHVbYy0xXVsxNV09OCooZS5sZW5ndGgtMSkmNDI5NDk2NzI5NSxhPTA7YTxjO2ErKyl7Zm9yKHZhciBwPW5ldyBBcnJheSg4MCksZD0wO2Q8MTY7ZCsrKXBbZF09dVthXVtkXTtmb3IoZD0xNjtkPDgwO2QrKylwW2RdPW8ocFtkLTNdXnBbZC04XV5wW2QtMTRdXnBbZC0xNl0sMSk7dmFyIGg9blswXSxmPW5bMV0sZz1uWzJdLG09blszXSx2PW5bNF07Zm9yKGQ9MDtkPDgwO2QrKyl7dmFyIHk9TWF0aC5mbG9vcihkLzIwKSxiPW8oaCw1KStyKHksZixnLG0pK3YrdFt5XStwW2RdPj4+MDt2PW0sbT1nLGc9byhmLDMwKT4+PjAsZj1oLGg9Yn1uWzBdPW5bMF0raD4+PjAsblsxXT1uWzFdK2Y+Pj4wLG5bMl09blsyXStnPj4+MCxuWzNdPW5bM10rbT4+PjAsbls0XT1uWzRdK3Y+Pj4wfXJldHVybltuWzBdPj4yNCYyNTUsblswXT4+MTYmMjU1LG5bMF0+PjgmMjU1LDI1NSZuWzBdLG5bMV0+PjI0JjI1NSxuWzFdPj4xNiYyNTUsblsxXT4+OCYyNTUsMjU1Jm5bMV0sblsyXT4+MjQmMjU1LG5bMl0+PjE2JjI1NSxuWzJdPj44JjI1NSwyNTUmblsyXSxuWzNdPj4yNCYyNTUsblszXT4+MTYmMjU1LG5bM10+PjgmMjU1LDI1NSZuWzNdLG5bNF0+PjI0JjI1NSxuWzRdPj4xNiYyNTUsbls0XT4+OCYyNTUsMjU1Jm5bNF1dfTtuLmRlZmF1bHQ9aX0se31dLDEwNjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcixvLGk9cyhlKCIuL3JuZy5qcyIpKSxhPXMoZSgiLi9ieXRlc1RvVXVpZC5qcyIpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz0wLHU9MCxsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz10JiZufHwwLGw9dHx8W10scD0oZT1lfHx7fSkubm9kZXx8cixkPXZvaWQgMCE9PWUuY2xvY2tzZXE/ZS5jbG9ja3NlcTpvO2lmKG51bGw9PXB8fG51bGw9PWQpe3ZhciBoPWUucmFuZG9tfHwoZS5ybmd8fGkuZGVmYXVsdCkoKTtudWxsPT1wJiYocD1yPVsxfGhbMF0saFsxXSxoWzJdLGhbM10saFs0XSxoWzVdXSksbnVsbD09ZCYmKGQ9bz0xNjM4MyYoaFs2XTw8OHxoWzddKSl9dmFyIGY9dm9pZCAwIT09ZS5tc2Vjcz9lLm1zZWNzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGc9dm9pZCAwIT09ZS5uc2Vjcz9lLm5zZWNzOnUrMSxtPWYtYysoZy11KS8xZTQ7aWYobTwwJiZ2b2lkIDA9PT1lLmNsb2Nrc2VxJiYoZD1kKzEmMTYzODMpLChtPDB8fGY+YykmJnZvaWQgMD09PWUubnNlY3MmJihnPTApLGc+PTFlNCl0aHJvdyBuZXcgRXJyb3IoInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjIik7Yz1mLHU9ZyxvPWQ7dmFyIHY9KDFlNCooMjY4NDM1NDU1JihmKz0xMjIxOTI5MjhlNSkpK2cpJTQyOTQ5NjcyOTY7bFtzKytdPXY+Pj4yNCYyNTUsbFtzKytdPXY+Pj4xNiYyNTUsbFtzKytdPXY+Pj44JjI1NSxsW3MrK109MjU1JnY7dmFyIHk9Zi80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7bFtzKytdPXk+Pj44JjI1NSxsW3MrK109MjU1JnksbFtzKytdPXk+Pj4yNCYxNXwxNixsW3MrK109eT4+PjE2JjI1NSxsW3MrK109ZD4+Pjh8MTI4LGxbcysrXT0yNTUmZDtmb3IodmFyIGI9MDtiPDY7KytiKWxbcytiXT1wW2JdO3JldHVybiB0fHwoMCxhLmRlZmF1bHQpKGwpfTtuLmRlZmF1bHQ9bH0seyIuL2J5dGVzVG9VdWlkLmpzIjoxMDEsIi4vcm5nLmpzIjoxMDR9XSwxMDc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHI9aShlKCIuL3YzNS5qcyIpKSxvPWkoZSgiLi9tZDUuanMiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9KDAsci5kZWZhdWx0KSgidjMiLDQ4LG8uZGVmYXVsdCk7bi5kZWZhdWx0PWF9LHsiLi9tZDUuanMiOjEwMywiLi92MzUuanMiOjEwOH1dLDEwODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHIsaSxhKXt2YXIgcz1pJiZhfHwwO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZnVuY3Rpb24oZSl7ZT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpO2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLG49MDtuPGUubGVuZ3RoO24rKyl0W25dPWUuY2hhckNvZGVBdChuKTtyZXR1cm4gdH0oZSkpLCJzdHJpbmciPT10eXBlb2YgciYmKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUucmVwbGFjZSgvW2EtZkEtRjAtOV17Mn0vZywoZnVuY3Rpb24oZSl7dC5wdXNoKHBhcnNlSW50KGUsMTYpKX0pKSx0fShyKSksIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgVHlwZUVycm9yKCJ2YWx1ZSBtdXN0IGJlIGFuIGFycmF5IG9mIGJ5dGVzIik7aWYoIUFycmF5LmlzQXJyYXkocil8fDE2IT09ci5sZW5ndGgpdGhyb3cgVHlwZUVycm9yKCJuYW1lc3BhY2UgbXVzdCBiZSB1dWlkIHN0cmluZyBvciBhbiBBcnJheSBvZiAxNiBieXRlIHZhbHVlcyIpO3ZhciBjPW4oci5jb25jYXQoZSkpO2lmKGNbNl09MTUmY1s2XXx0LGNbOF09NjMmY1s4XXwxMjgsaSlmb3IodmFyIHU9MDt1PDE2OysrdSlpW3MrdV09Y1t1XTtyZXR1cm4gaXx8KDAsby5kZWZhdWx0KShjKX07dHJ5e3IubmFtZT1lfWNhdGNoKGUpe31yZXR1cm4gci5ETlM9aSxyLlVSTD1hLHJ9LG4uVVJMPW4uRE5TPXZvaWQgMDt2YXIgcixvPShyPWUoIi4vYnl0ZXNUb1V1aWQuanMiKSkmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9LGk9IjZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCI7bi5ETlM9aTt2YXIgYT0iNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtuLlVSTD1hfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMX1dLDEwOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vcm5nLmpzIikpLG89aShlKCIuL2J5dGVzVG9VdWlkLmpzIikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10JiZufHwwOyJzdHJpbmciPT10eXBlb2YgZSYmKHQ9ImJpbmFyeSI9PT1lP25ldyBBcnJheSgxNik6bnVsbCxlPW51bGwpO3ZhciBhPShlPWV8fHt9KS5yYW5kb218fChlLnJuZ3x8ci5kZWZhdWx0KSgpO2lmKGFbNl09MTUmYVs2XXw2NCxhWzhdPTYzJmFbOF18MTI4LHQpZm9yKHZhciBzPTA7czwxNjsrK3MpdFtpK3NdPWFbc107cmV0dXJuIHR8fCgwLG8uZGVmYXVsdCkoYSl9O24uZGVmYXVsdD1hfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMSwiLi9ybmcuanMiOjEwNH1dLDExMDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vdjM1LmpzIikpLG89aShlKCIuL3NoYTEuanMiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9KDAsci5kZWZhdWx0KSgidjUiLDgwLG8uZGVmYXVsdCk7bi5kZWZhdWx0PWF9LHsiLi9zaGExLmpzIjoxMDUsIi4vdjM1LmpzIjoxMDh9XSwxMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWUoIi4vdXRpbHMvTFJVIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwPT09ZSYmKGU9MWUzKSx0aGlzLm1heFNpemU9ZSx0aGlzLmNhY2hlPW5ldyByLkxSVUNhY2hlKGUpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZS5sZW5ndGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKHQsbil7dmFyIHI9InN0cmluZyIhPXR5cGVvZiB0P2UuZ2V0S2V5U3RyaW5nKHQpOnQsbz10aGlzLnBvcHVsYXRlVmFsdWUobik7dGhpcy5jYWNoZS5wdXQocixvKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBuPSJzdHJpbmciIT10eXBlb2YgdD9lLmdldEtleVN0cmluZyh0KTp0LHI9RGF0ZS5ub3coKSxvPXRoaXMuY2FjaGUuZ2V0KG4pO2lmKG8pe2Zvcih2YXIgaT1vLmxlbmd0aC0xO2k+PTA7aS0tKW9baV0uRXhwaXJlPHImJm8uc3BsaWNlKGksMSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuY2FjaGUucmVtb3ZlKG4pfXJldHVybiBvfSxlLmdldEtleVN0cmluZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1PYmplY3Qua2V5cyhlKS5zb3J0KCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO3ZvaWQgMCE9PWVbb10mJnQucHVzaChlW29dKX1yZXR1cm4gdC5qb2luKCIgIil9LGUucHJvdG90eXBlLnBvcHVsYXRlVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntBZGRyZXNzOmUuQWRkcmVzc3x8IiIsRXhwaXJlOnQrNjAqKGUuQ2FjaGVQZXJpb2RJbk1pbnV0ZXN8fDEpKjFlM319KSl9LGUucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7dGhpcy5jYWNoZS5lbXB0eSgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIG49InN0cmluZyIhPXR5cGVvZiB0P2UuZ2V0S2V5U3RyaW5nKHQpOnQ7dGhpcy5jYWNoZS5yZW1vdmUobil9LGV9KCk7bi5FbmRwb2ludENhY2hlPW99LHsiLi91dGlscy9MUlUiOjExMn1dLDExMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oZSx0KXt0aGlzLmtleT1lLHRoaXMudmFsdWU9dH0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodGhpcy5ub2RlTWFwPXt9LHRoaXMuc2l6ZT0wLCJudW1iZXIiIT10eXBlb2YgZXx8ZTwxKXRocm93IG5ldyBFcnJvcigiQ2FjaGUgc2l6ZSBjYW4gb25seSBiZSBwb3NpdGl2ZSBudW1iZXIiKTt0aGlzLnNpemVMaW1pdD1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucHJlcGVuZFRvTGlzdD1mdW5jdGlvbihlKXt0aGlzLmhlYWRlck5vZGU/KHRoaXMuaGVhZGVyTm9kZS5wcmV2PWUsZS5uZXh0PXRoaXMuaGVhZGVyTm9kZSk6dGhpcy50YWlsTm9kZT1lLHRoaXMuaGVhZGVyTm9kZT1lLHRoaXMuc2l6ZSsrfSxlLnByb3RvdHlwZS5yZW1vdmVGcm9tVGFpbD1mdW5jdGlvbigpe2lmKHRoaXMudGFpbE5vZGUpe3ZhciBlPXRoaXMudGFpbE5vZGUsdD1lLnByZXY7cmV0dXJuIHQmJih0Lm5leHQ9dm9pZCAwKSxlLnByZXY9dm9pZCAwLHRoaXMudGFpbE5vZGU9dCx0aGlzLnNpemUtLSxlfX0sZS5wcm90b3R5cGUuZGV0YWNoRnJvbUxpc3Q9ZnVuY3Rpb24oZSl7dGhpcy5oZWFkZXJOb2RlPT09ZSYmKHRoaXMuaGVhZGVyTm9kZT1lLm5leHQpLHRoaXMudGFpbE5vZGU9PT1lJiYodGhpcy50YWlsTm9kZT1lLnByZXYpLGUucHJldiYmKGUucHJldi5uZXh0PWUubmV4dCksZS5uZXh0JiYoZS5uZXh0LnByZXY9ZS5wcmV2KSxlLm5leHQ9dm9pZCAwLGUucHJldj12b2lkIDAsdGhpcy5zaXplLS19LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtpZih0aGlzLm5vZGVNYXBbZV0pe3ZhciB0PXRoaXMubm9kZU1hcFtlXTtyZXR1cm4gdGhpcy5kZXRhY2hGcm9tTGlzdCh0KSx0aGlzLnByZXBlbmRUb0xpc3QodCksdC52YWx1ZX19LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZih0aGlzLm5vZGVNYXBbZV0pe3ZhciB0PXRoaXMubm9kZU1hcFtlXTt0aGlzLmRldGFjaEZyb21MaXN0KHQpLGRlbGV0ZSB0aGlzLm5vZGVNYXBbZV19fSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm5vZGVNYXBbZV0pdGhpcy5yZW1vdmUoZSk7ZWxzZSBpZih0aGlzLnNpemU9PT10aGlzLnNpemVMaW1pdCl7dmFyIG49dGhpcy5yZW1vdmVGcm9tVGFpbCgpLmtleTtkZWxldGUgdGhpcy5ub2RlTWFwW25dfXZhciBvPW5ldyByKGUsdCk7dGhpcy5ub2RlTWFwW2VdPW8sdGhpcy5wcmVwZW5kVG9MaXN0KG8pfSxlLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0aGlzLm5vZGVNYXApLHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XSxyPXRoaXMubm9kZU1hcFtuXTt0aGlzLmRldGFjaEZyb21MaXN0KHIpLGRlbGV0ZSB0aGlzLm5vZGVNYXBbbl19fSxlfSgpO24uTFJVQ2FjaGU9b30se31dLDExMzpbZnVuY3Rpb24oZSx0LG4pe2UoIi4vYnJvd3Nlcl9sb2FkZXIiKTt2YXIgcj1lKCIuL2NvcmUiKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5BV1M9ciksdm9pZCAwIT09dCYmKHQuZXhwb3J0cz1yKSwidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJihzZWxmLkFXUz1yKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwociwiQ29ubmVjdCIpfHwoci5hcGlMb2FkZXIuc2VydmljZXMuY29ubmVjdD17fSxyLkNvbm5lY3Q9ci5TZXJ2aWNlLmRlZmluZVNlcnZpY2UoImNvbm5lY3QiLFsiMjAxNy0wMi0xNSJdKSksci5hcGlMb2FkZXIuc2VydmljZXMuY29ubmVjdFsiMjAxNy0wMi0xNSJdPWUoIi4uL2FwaXMvY29ubmVjdC0yMDE3LTAyLTE1Lm1pbiIpfSx7Ii4uL2FwaXMvY29ubmVjdC0yMDE3LTAyLTE1Lm1pbiI6MywiLi9icm93c2VyX2xvYWRlciI6MTYsIi4vY29yZSI6MTl9XX0se30sWzExM10pfSw1NTU6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMscj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1yLHQubGlseT1yLHIuQ2xpZW50TWV0aG9kcz1yLm1ha2VFbnVtKFsiZ2V0QWdlbnRTbmFwc2hvdCIsInB1dEFnZW50U3RhdGUiLCJnZXRBZ2VudFN0YXRlcyIsImdldERpYWxhYmxlQ291bnRyeUNvZGVzIiwiZ2V0Um91dGluZ1Byb2ZpbGVRdWV1ZXMiLCJnZXRBZ2VudFBlcm1pc3Npb25zIiwiZ2V0QWdlbnRDb25maWd1cmF0aW9uIiwidXBkYXRlQWdlbnRDb25maWd1cmF0aW9uIiwiYWNjZXB0Q29udGFjdCIsImNyZWF0ZU91dGJvdW5kQ29udGFjdCIsImNyZWF0ZVRhc2tDb250YWN0IiwiY2xlYXJDb250YWN0IiwiY29tcGxldGVDb250YWN0IiwiZGVzdHJveUNvbnRhY3QiLCJyZWplY3RDb250YWN0Iiwibm90aWZ5Q29udGFjdElzc3VlIiwidXBkYXRlQ29udGFjdEF0dHJpYnV0ZXMiLCJjcmVhdGVBZGRpdGlvbmFsQ29ubmVjdGlvbiIsImRlc3Ryb3lDb25uZWN0aW9uIiwiaG9sZENvbm5lY3Rpb24iLCJyZXN1bWVDb25uZWN0aW9uIiwidG9nZ2xlQWN0aXZlQ29ubmVjdGlvbnMiLCJjb25mZXJlbmNlQ29ubmVjdGlvbnMiLCJzZW5kQ2xpZW50TG9ncyIsInNlbmREaWdpdHMiLCJzZW5kU29mdHBob25lQ2FsbFJlcG9ydCIsInNlbmRTb2Z0cGhvbmVDYWxsTWV0cmljcyIsImdldEVuZHBvaW50cyIsImdldE5ld0F1dGhUb2tlbiIsImNyZWF0ZVRyYW5zcG9ydCIsIm11dGVQYXJ0aWNpcGFudCIsInVubXV0ZVBhcnRpY2lwYW50IiwidXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUiLCJwYXVzZUNvbnRhY3QiLCJyZXN1bWVDb250YWN0IiwiYWRkTmV3Q29ubmVjdGlvbiIsInRyYW5zZmVyQ29udGFjdCJdKSxyLkFnZW50QXBwQ2xpZW50TWV0aG9kcz17R0VUX0NPTlRBQ1Q6IkFnZW50QXBwU2VydmljZS5MY21zLmdldENvbnRhY3QiLERFTEVURV9TUEVBS0VSOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5kZWxldGVTcGVha2VyIixFTlJPTExfQllfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZW5yb2xsQnlTZXNzaW9uIixFVkFMVUFURV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5ldmFsdWF0ZVNlc3Npb24iLERFU0NSSUJFX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmRlc2NyaWJlU3BlYWtlciIsT1BUX09VVF9TUEVBS0VSOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5vcHRPdXRTcGVha2VyIixVUERBVEVfVk9JQ0VfSURfREFUQToiQWdlbnRBcHBTZXJ2aWNlLkxjbXMudXBkYXRlVm9pY2VJZERhdGEiLERFU0NSSUJFX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmRlc2NyaWJlU2Vzc2lvbiIsVVBEQVRFX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLnVwZGF0ZVNlc3Npb24iLFNUQVJUX1ZPSUNFX0lEX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5OYXNhLnN0YXJ0Vm9pY2VJZFNlc3Npb24iLExJU1RfSU5URUdSQVRJT05fQVNTT0NJQVRJT05TOiJBZ2VudEFwcFNlcnZpY2UuQWNzLmxpc3RJbnRlZ3JhdGlvbkFzc29jaWF0aW9ucyJ9LHIuTWFzdGVyTWV0aG9kcz1yLm1ha2VFbnVtKFsiYmVjb21lTWFzdGVyIiwiY2hlY2tNYXN0ZXIiXSksci5UYXNrVGVtcGxhdGVzQ2xpZW50TWV0aG9kcz1yLm1ha2VFbnVtKFsibGlzdFRhc2tUZW1wbGF0ZXMiLCJnZXRUYXNrVGVtcGxhdGUiLCJjcmVhdGVUZW1wbGF0ZWRUYXNrIiwidXBkYXRlQ29udGFjdCJdKSxyLkFwaVByb3h5Q2xpZW50TWV0aG9kcz17UVJfSU5URUdSQVRJT05fRVhJU1RTOiJxckludGVncmF0aW9uRXhpc3RzIixRUl9TRUFSQ0hfUVVJQ0tfUkVTUE9OU0VTOiJxclNlYXJjaFF1aWNrUmVzcG9uc2VzIixTVEFSVF9TQ1JFRU5fU0hBUklORzoic3RhcnRTY3JlZW5TaGFyaW5nIn0sci5SZXRyeWFibGVDbGllbnRNZXRob2RzTGlzdD1bci5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TTkFQU0hPVCxyLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX0NPTkZJR1VSQVRJT04sci5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9QRVJNSVNTSU9OUyxyLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1NUQVRFUyxyLkNsaWVudE1ldGhvZHMuR0VUX0RJQUxBQkxFX0NPVU5UUllfQ09ERVMsci5DbGllbnRNZXRob2RzLkdFVF9ST1VUSU5HX1BST0ZJTEVfUVVFVUVTXSxyLlJldHJ5YWJsZUVycm9ycz1yLm1ha2VFbnVtKFsidW5hdXRob3JpemVkIiwiYWNjZXNzRGVuaWVkIl0pLHIuUmV0cnlTdGF0dXM9ci5tYWtlRW51bShbInJldHJ5aW5nIiwiZXhoYXVzdGVkIiwibm9uZSJdKTt2YXIgbz1mdW5jdGlvbigpe307by5FTVBUWV9DQUxMQkFDS1M9e3N1Y2Nlc3M6ZnVuY3Rpb24oKXt9LGZhaWx1cmU6ZnVuY3Rpb24oKXt9fSxvLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKGUsdCxuKXtyLmFzc2VydE5vdE51bGwoZSwibWV0aG9kIik7dmFyIGk9dHx8e30sYT1ufHxvLkVNUFRZX0NBTExCQUNLUzt0aGlzLl9jYWxsSW1wbChlLGksYSl9LG8ucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dGhyb3cgbmV3IHIuTm90SW1wbGVtZW50ZWRFcnJvcn07dmFyIGk9ZnVuY3Rpb24oKXtvLmNhbGwodGhpcyl9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe2lmKG4mJm4uZmFpbHVyZSl7dmFyIG89ci5zcHJpbnRmKCJObyBzdWNoIG1ldGhvZCBleGlzdHMgb24gTlVMTCBjbGllbnQ6ICVzIixlKTtuLmZhaWx1cmUobmV3IHIuVmFsdWVFcnJvcihvKSx7bWVzc2FnZTpvfSl9fTt2YXIgYT1mdW5jdGlvbihlLHQsbil7by5jYWxsKHRoaXMpLHRoaXMuY29uZHVpdD1lLHRoaXMucmVxdWVzdEV2ZW50PXQsdGhpcy5yZXNwb25zZUV2ZW50PW4sdGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwPXt9LHRoaXMuY29uZHVpdC5vblVwc3RyZWFtKG4sci5oaXRjaCh0aGlzLHRoaXMuX2hhbmRsZVJlc3BvbnNlKSl9OyhhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXIuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlcXVlc3QodGhpcy5yZXF1ZXN0RXZlbnQsZSx0KTt0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbby5yZXF1ZXN0SWRdPW47dmFyIGk9W3IuQ2xpZW50TWV0aG9kcy5TRU5EX0NMSUVOVF9MT0dTLHIuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX01FVFJJQ1Msci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfUkVQT1JUXTt0cnl7by5ldmVudCE9PXIuRXZlbnRUeXBlLkFQSV9SRVFVRVNUfHxpLmluY2x1ZGVzKG8ubWV0aG9kKXx8ci5nZXRMb2coKS50cmFjZSgiU2VuZGluZyBBUElfUkVRVUVTVCBldmVudCBmb3IgIi5jb25jYXQoby5tZXRob2QsIiB0byB1cHN0cmVhbSIpKS53aXRoT2JqZWN0KHttZXRob2Q6by5tZXRob2QscGFyYW1zOm8ucGFyYW1zLHN0YWNrOihuZXcgRXJyb3IpLnN0YWNrfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJTdGFjayB0cmFjZSBMb2cgRmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXRoaXMuY29uZHVpdC5zZW5kVXBzdHJlYW0oby5ldmVudCxvKX0sYS5wcm90b3R5cGUuX2dldENhbGxiYWNrc0ZvclJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW2VdfHxudWxsO3JldHVybiBudWxsIT10JiZkZWxldGUgdGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW2VdLHR9LGEucHJvdG90eXBlLl9oYW5kbGVSZXNwb25zZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0KGUucmVxdWVzdElkKTtudWxsIT10JiYoZS5lcnImJnQuZmFpbHVyZT90LmZhaWx1cmUoZS5lcnIsZS5kYXRhKTp0LnN1Y2Nlc3MmJnQuc3VjY2VzcyhlLmRhdGEpKX07dmFyIHM9ZnVuY3Rpb24oZSl7YS5jYWxsKHRoaXMsZSxyLkV2ZW50VHlwZS5BUElfUkVRVUVTVCxyLkV2ZW50VHlwZS5BUElfUkVTUE9OU0UpfTsocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXM7dmFyIGM9ZnVuY3Rpb24oKXtvLmNhbGwodGhpcyksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkFQSV9QUk9YWV9SRVNQT05TRSxyLmhpdGNoKHRoaXMsdGhpcy5faGFuZGxlUmVzcG9uc2UpKSx0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXA9e319OyhjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXIuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlcXVlc3Qoci5FdmVudFR5cGUuQVBJX1BST1hZX1JFUVVFU1QsZSx0KTt0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbby5yZXF1ZXN0SWRdPW4sci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5BUElfUFJPWFlfUkVRVUVTVCxvKX0sYy5wcm90b3R5cGUuX2dldENhbGxiYWNrc0ZvclJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW2VdfHxudWxsO3JldHVybiBudWxsIT10JiZkZWxldGUgdGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW2VdLHR9LGMucHJvdG90eXBlLl9oYW5kbGVSZXNwb25zZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0KGUucmVxdWVzdElkKTtudWxsIT10JiYoZS5lcnImJnQuZmFpbHVyZT90LmZhaWx1cmUoZS5lcnIsZS5kYXRhKTp0LnN1Y2Nlc3MmJnQuc3VjY2VzcyhlLmRhdGEpKX07dmFyIHU9ZnVuY3Rpb24oZSl7YS5jYWxsKHRoaXMsZSxyLkV2ZW50VHlwZS5NQVNURVJfUkVRVUVTVCxyLkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0UpfTsodS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXU7dmFyIGw9ZnVuY3Rpb24oZSx0LG4pe3IuYXNzZXJ0Tm90TnVsbChlLCJhdXRoQ29va2llTmFtZSIpLHIuYXNzZXJ0Tm90TnVsbCh0LCJhdXRoVG9rZW4iKSxyLmFzc2VydE5vdE51bGwobiwiZW5kcG9pbnQiKSxvLmNhbGwodGhpcyksdGhpcy5lbmRwb2ludFVybD1yLmdldFVybFdpdGhQcm90b2NvbChuKSx0aGlzLmF1dGhUb2tlbj10LHRoaXMuYXV0aENvb2tpZU5hbWU9ZX07KGwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1sLGwucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcyxpPXt9O2lbby5hdXRoQ29va2llTmFtZV09by5hdXRoVG9rZW47dmFyIGE9e21ldGhvZDoicG9zdCIsYm9keTpKU09OLnN0cmluZ2lmeSh0fHx7fSksaGVhZGVyczp7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIiwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiIsIlgtQW16LXRhcmdldCI6ZSwiWC1BbXotQmVhcmVyIjpKU09OLnN0cmluZ2lmeShpKX19O3IuZmV0Y2goby5lbmRwb2ludFVybCxhKS50aGVuKChmdW5jdGlvbihlKXtuLnN1Y2Nlc3MoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keS5nZXRSZWFkZXIoKSxyPSIiLG89bmV3IFRleHREZWNvZGVyO3QucmVhZCgpLnRoZW4oKGZ1bmN0aW9uIGkoYSl7dmFyIHM9YS5kb25lLGM9YS52YWx1ZTtpZihzKXt2YXIgdT1KU09OLnBhcnNlKHIpO3JldHVybiB1LnN0YXR1cz1lLnN0YXR1cyx2b2lkIG4uZmFpbHVyZSh1KX1yZXR1cm4gcis9by5kZWNvZGUoYyksdC5yZWFkKCkudGhlbihpKX0pKX0pKX07dmFyIHA9ZnVuY3Rpb24oZSx0LG4pe3IuYXNzZXJ0Tm90TnVsbChlLCJhdXRoVG9rZW4iKSxyLmFzc2VydE5vdE51bGwodCwicmVnaW9uIiksby5jYWxsKHRoaXMpLEFXUy5jb25maWcuY3JlZGVudGlhbHM9bmV3IEFXUy5DcmVkZW50aWFscyh7fSksQVdTLmNvbmZpZy5yZWdpb249dCx0aGlzLmF1dGhUb2tlbj1lO3ZhciBpPXIuZ2V0QmFzZVVybCgpLGE9bnx8KGkuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpP2krIi9jb25uZWN0L2FwaSI6aSsiL2FwaSIpLHM9bmV3IEFXUy5FbmRwb2ludChhKTt0aGlzLmNsaWVudD1uZXcgQVdTLkNvbm5lY3Qoe2VuZHBvaW50OnN9KSx0aGlzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTAsdGhpcy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wfTsocC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXAscC5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzLGk9ci5nZXRMb2coKTtpZihyLmNvbnRhaW5zKHRoaXMuY2xpZW50LGUpKSh0PXRoaXMuX3RyYW5zbGF0ZVBhcmFtcyhlLHQpKSYmdC5yZWxhdGVkQ29udGFjdElkJiZudWxsIT09dC5yZWxhdGVkQ29udGFjdElkJiZ0LnByZXZpb3VzQ29udGFjdElkJiZkZWxldGUgdC5wcmV2aW91c0NvbnRhY3RJZCxpLnRyYWNlKCJBV1NDbGllbnQ6IC0tXHgzZSBDYWxsaW5nIG9wZXJhdGlvbiAnJXMnIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuY2xpZW50W2VdKHQpLm9uKCJidWlsZCIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQmVhcmVyIl09by5hdXRoVG9rZW59KSkuc2VuZCgoZnVuY3Rpb24odCxhKXt0cnl7aWYodCl0LmNvZGU9PT1yLkNUSUV4Y2VwdGlvbnMuVU5BVVRIT1JJWkVEX0VYQ0VQVElPTnx8NDAxPT09dC5zdGF0dXNDb2RlP28uX3JldHJ5TWV0aG9kKGUsbix0LGEsci5SZXRyeWFibGVFcnJvcnMuVU5BVVRIT1JJWkVEKTp0LmNvZGU9PT1yLkNUSUV4Y2VwdGlvbnMuQUNDRVNTX0RFTklFRF9FWENFUFRJT058fDQwMz09PXQuc3RhdHVzQ29kZT9vLl9yZXRyeU1ldGhvZChlLG4sdCxhLHIuUmV0cnlhYmxlRXJyb3JzLkFDQ0VTU19ERU5JRUQpOihvLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTAsby5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wLG4uZmFpbHVyZShvLl9mb3JtYXRDYWxsRXJyb3Ioby5fYWRkU3RhdHVzQ29kZVRvRXJyb3IodCkpLGEpKSxpLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gJyVzJyBmYWlsZWQ6ICVzIixlLEpTT04uc3RyaW5naWZ5KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2V7dmFyIHM9e307aS50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICclcycgc3VjY2VlZGVkLiIsZSkud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8udW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCxvLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTAsdGhpcy5odHRwUmVzcG9uc2UmJnRoaXMuaHR0cFJlc3BvbnNlLmhhc093blByb3BlcnR5KCJib2R5IikmJihzLmNvbnRlbnRMZW5ndGg9dGhpcy5odHRwUmVzcG9uc2UuYm9keS5sZW5ndGgpLG4uc3VjY2VzcyhhLHMpfX1jYXRjaCh0KXtyLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gaGFuZGxlIEFXUyBBUEkgcmVxdWVzdCBmb3IgbWV0aG9kICVzIixlKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpO2Vsc2V7dmFyIGE9ci5zcHJpbnRmKCJObyBzdWNoIG1ldGhvZCBleGlzdHMgb24gQVdTIGNsaWVudDogJXMiLGUpO24uZmFpbHVyZShuZXcgci5WYWx1ZUVycm9yKGEpLHttZXNzYWdlOmF9KX19LHAucHJvdG90eXBlLl9pc1JldHJ5YWJsZU1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gci5SZXRyeWFibGVDbGllbnRNZXRob2RzTGlzdC5pbmNsdWRlcyhlKX0scC5wcm90b3R5cGUuX3JldHJ5TWV0aG9kPWZ1bmN0aW9uKGUsdCxvLGksYSl7dmFyIHM9dGhpcyxjPXIuZ2V0TG9nKCksdT1mdW5jdGlvbihlKXtyZXR1cm4gcy5fZm9ybWF0Q2FsbEVycm9yKHMuX2FkZFN0YXR1c0NvZGVUb0Vycm9yKGUpKX0sbD17bWF4Q291bnQ6ci5jb3JlLk1BWF9VTkFVVEhPUklaRURfUkVUUllfQ09VTlQsZmFpbENvdW50ZXI6cy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcixpbmNyZWFzZUNvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcis9MX0scmVzZXRDb3VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHMudW5hdXRob3JpemVkRmFpbENvdW50ZXI9MH0sZXJyb3JNZXNzYWdlOiJ1bmF1dGhvcml6ZWQiLGV4aGF1c3RlZFJldHJpZXM6cy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj49ci5jb3JlLk1BWF9VTkFVVEhPUklaRURfUkVUUllfQ09VTlQscmV0cnlDYWxsYmFjazpmdW5jdGlvbihlLG4pe3JldHVybiB0LmZhaWx1cmUodShlKSxuKX0sZGVmYXVsdENhbGxiYWNrOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXV0aEZhaWx1cmUodShlKSxuKX19O3N3aXRjaChhKXtjYXNlIHIuUmV0cnlhYmxlRXJyb3JzLlVOQVVUSE9SSVpFRDpicmVhaztjYXNlIHIuUmV0cnlhYmxlRXJyb3JzLkFDQ0VTU19ERU5JRUQ6bD1uKG4oe30sbCkse30se21heENvdW50OnIuY29yZS5NQVhfQUNDRVNTX0RFTklFRF9SRVRSWV9DT1VOVCxmYWlsQ291bnRlcjpzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyLGluY3JlYXNlQ291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyKz0xfSxyZXNldENvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wfSxlcnJvck1lc3NhZ2U6ImFjY2VzcyBkZW5pZWQiLGV4aGF1c3RlZFJldHJpZXM6cy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj49ci5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5ULGRlZmF1bHRDYWxsYmFjazpmdW5jdGlvbihlLG4pe3JldHVybiB0LmFjY2Vzc0RlbmllZCh1KGUpLG4pfX0pfXZhciBwPW4obih7fSxvKSx7fSx7cmV0cnlTdGF0dXM6ci5SZXRyeVN0YXR1cy5OT05FfSk7aWYocy5faXNSZXRyeWFibGVNZXRob2QoZSkpe2lmKCFsLmV4aGF1c3RlZFJldHJpZXMpcmV0dXJuIGMudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAiLmNvbmNhdChlLCIgZmFpbGVkIHdpdGggIikuY29uY2F0KGwuZXJyb3JNZXNzYWdlLCIgZXJyb3IuIFJldHJ5aW5nIGNhbGwgZm9yIGEgIikuY29uY2F0KGwuZmFpbENvdW50ZXIrMSwiIHRpbWUiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxsLmluY3JlYXNlQ291bnRlcigpLHA9bihuKHt9LHApLHt9LHtyZXRyeVN0YXR1czpyLlJldHJ5U3RhdHVzLlJFVFJZSU5HfSksdm9pZCBsLnJldHJ5Q2FsbGJhY2socCxpKTtjLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gIi5jb25jYXQoZSwiIGV4aGF1c3RlZCBtYXggIikuY29uY2F0KGwubWF4Q291bnQsIiBudW1iZXIgb2YgcmV0cmllcyBmb3IgIikuY29uY2F0KGwuZXJyb3JNZXNzYWdlLCIgZXJyb3IiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxsLnJlc2V0Q291bnRlcigpLHA9bihuKHt9LHApLHt9LHtyZXRyeVN0YXR1czpyLlJldHJ5U3RhdHVzLkVYSEFVU1RFRH0pfWVsc2UgYy50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICIuY29uY2F0KGUsIiBmYWlsZWQ6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShvKSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7bC5kZWZhdWx0Q2FsbGJhY2socCxpKX0scC5wcm90b3R5cGUuX2Zvcm1hdENhbGxFcnJvcj1mdW5jdGlvbih0KXt2YXIgbz1uKHt0eXBlOnQuY29kZSxtZXNzYWdlOnQubWVzc2FnZSxzdGFjazpbXSxyZXRyeVN0YXR1czp0LnJldHJ5U3RhdHVzfHxyLlJldHJ5U3RhdHVzLk5PTkV9LHQuc3RhdHVzQ29kZSYme3N0YXR1c0NvZGU6dC5zdGF0dXNDb2RlfSk7aWYodC5zdGFjayl0cnl7QXJyYXkuaXNBcnJheSh0LnN0YWNrKT9vLnN0YWNrPXQuc3RhY2s6Im9iamVjdCI9PT1lKHQuc3RhY2spP28uc3RhY2s9W0pTT04uc3RyaW5naWZ5KHQuc3RhY2spXToic3RyaW5nIj09dHlwZW9mIHQuc3RhY2smJihvLnN0YWNrPXQuc3RhY2suc3BsaXQoIlxuIikpfWZpbmFsbHl7fXJldHVybiBvfSxwLnByb3RvdHlwZS5fYWRkU3RhdHVzQ29kZVRvRXJyb3I9ZnVuY3Rpb24oZSl7aWYoZS5zdGF0dXNDb2RlKXJldHVybiBlO3ZhciB0PW4oe30sZSk7aWYoZS5jb2RlKXN3aXRjaCh0LmNvZGUpe2Nhc2Ugci5DVElFeGNlcHRpb25zLlVOQVVUSE9SSVpFRF9FWENFUFRJT046dC5zdGF0dXNDb2RlPTQwMTticmVhaztjYXNlIHIuQ1RJRXhjZXB0aW9ucy5BQ0NFU1NfREVOSUVEX0VYQ0VQVElPTjp0LnN0YXR1c0NvZGU9NDAzfWVsc2UgdC5zdGF0dXNDb2RlPTQwMDtyZXR1cm4gdH0scC5wcm90b3R5cGUuX3JlcXVpcmVzQXV0aGVudGljYXRpb25QYXJhbT1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PXIuQ2xpZW50TWV0aG9kcy5DT01QTEVURV9DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLkNMRUFSX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuUkVKRUNUX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RBU0tfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5VUERBVEVfTU9OSVRPUl9QQVJUSUNJUEFOVF9TVEFURSYmZSE9PXIuQ2xpZW50TWV0aG9kcy5QQVVTRV9DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLlJFU1VNRV9DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLkFERF9ORVdfQ09OTkVDVElPTiYmZSE9PXIuQ2xpZW50TWV0aG9kcy5UUkFOU0ZFUl9DT05UQUNUfSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlUGFyYW1zPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2Ugci5DbGllbnRNZXRob2RzLlVQREFURV9BR0VOVF9DT05GSUdVUkFUSU9OOnQuY29uZmlndXJhdGlvbj10aGlzLl90cmFuc2xhdGVBZ2VudENvbmZpZ3VyYXRpb24odC5jb25maWd1cmF0aW9uKTticmVhaztjYXNlIHIuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX01FVFJJQ1M6dC5zb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzPXRoaXMuX3RyYW5zbGF0ZVNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3ModC5zb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKTticmVhaztjYXNlIHIuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX1JFUE9SVDp0LnJlcG9ydD10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVDYWxsUmVwb3J0KHQucmVwb3J0KX1yZXR1cm4gdGhpcy5fcmVxdWlyZXNBdXRoZW50aWNhdGlvblBhcmFtKGUpJiYodC5hdXRoZW50aWNhdGlvbj17YXV0aFRva2VuOnRoaXMuYXV0aFRva2VufSksdH0scC5wcm90b3R5cGUuX3RyYW5zbGF0ZUFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTplLm5hbWUsc29mdHBob25lRW5hYmxlZDplLnNvZnRwaG9uZUVuYWJsZWQsc29mdHBob25lQXV0b0FjY2VwdDplLnNvZnRwaG9uZUF1dG9BY2NlcHQsZXh0ZW5zaW9uOmUuZXh0ZW5zaW9uLHJvdXRpbmdQcm9maWxlOnRoaXMuX3RyYW5zbGF0ZVJvdXRpbmdQcm9maWxlKGUucm91dGluZ1Byb2ZpbGUpLGFnZW50UHJlZmVyZW5jZXM6ZS5hZ2VudFByZWZlcmVuY2VzLHZvaWNlRW5oYW5jZW1lbnRNb2RlOmUudm9pY2VFbmhhbmNlbWVudE1vZGV9fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlUm91dGluZ1Byb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6ZS5uYW1lLHJvdXRpbmdQcm9maWxlQVJOOmUucm91dGluZ1Byb2ZpbGVBUk4sZGVmYXVsdE91dGJvdW5kUXVldWU6dGhpcy5fdHJhbnNsYXRlUXVldWUoZS5kZWZhdWx0T3V0Ym91bmRRdWV1ZSl9fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlUXVldWU9ZnVuY3Rpb24oZSl7cmV0dXJue3F1ZXVlQVJOOmUucXVldWVBUk4sbmFtZTplLm5hbWV9fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlU29mdHBob25lU3RyZWFtU3RhdGlzdGljcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXsicGFja2V0c0NvdW50ImluIGUmJihlLnBhY2tldENvdW50PWUucGFja2V0c0NvdW50LGRlbGV0ZSBlLnBhY2tldHNDb3VudCl9KSksZX0scC5wcm90b3R5cGUuX3RyYW5zbGF0ZVNvZnRwaG9uZUNhbGxSZXBvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuImhhbmRzaGFraW5nVGltZU1pbGxpcyJpbiBlJiYoZS5oYW5kc2hha2VUaW1lTWlsbGlzPWUuaGFuZHNoYWtpbmdUaW1lTWlsbGlzLGRlbGV0ZSBlLmhhbmRzaGFraW5nVGltZU1pbGxpcyksInByZVRhbGtpbmdUaW1lTWlsbGlzImluIGUmJihlLnByZVRhbGtUaW1lTWlsbGlzPWUucHJlVGFsa2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUucHJlVGFsa2luZ1RpbWVNaWxsaXMpLCJoYW5kc2hha2luZ0ZhaWx1cmUiaW4gZSYmKGUuaGFuZHNoYWtlRmFpbHVyZT1lLmhhbmRzaGFraW5nRmFpbHVyZSxkZWxldGUgZS5oYW5kc2hha2luZ0ZhaWx1cmUpLCJ0YWxraW5nVGltZU1pbGxpcyJpbiBlJiYoZS50YWxrVGltZU1pbGxpcz1lLnRhbGtpbmdUaW1lTWlsbGlzLGRlbGV0ZSBlLnRhbGtpbmdUaW1lTWlsbGlzKSxlLnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M9dGhpcy5fdHJhbnNsYXRlU29mdHBob25lU3RyZWFtU3RhdGlzdGljcyhlLnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3MpLGV9O3ZhciBkPWZ1bmN0aW9uKGUpe2lmKHIuYXNzZXJ0Tm90TnVsbChlLCJlbmRwb2ludCIpLG8uY2FsbCh0aGlzKSxlLmluY2x1ZGVzKCIvdGFzay10ZW1wbGF0ZXMiKSl0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKGUpO2Vsc2V7dmFyIHQ9bmV3IEFXUy5FbmRwb2ludChlKSxuPWUuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpPyIvY29ubmVjdCI6IiI7dGhpcy5lbmRwb2ludFVybD1yLmdldFVybFdpdGhQcm90b2NvbCgiIi5jb25jYXQodC5ob3N0KS5jb25jYXQobiwiL3Rhc2stdGVtcGxhdGVzL2FwaS9jY3AiKSl9fTsoZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWQsZC5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt0JiZ0LnJlbGF0ZWRDb250YWN0SWQmJm51bGwhPT10LnJlbGF0ZWRDb250YWN0SWQmJnQucHJldmlvdXNDb250YWN0SWQmJmRlbGV0ZSB0LnByZXZpb3VzQ29udGFjdElkLHIuYXNzZXJ0Tm90TnVsbChlLCJtZXRob2QiKSxyLmFzc2VydE5vdE51bGwodCwicGFyYW1zIik7dmFyIG89e2NyZWRlbnRpYWxzOiJpbmNsdWRlIixtZXRob2Q6IkdFVCIsaGVhZGVyczp7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uIiwiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiIsIngtY3NyZi10b2tlbiI6ImNzcmYifX0saT10Lmluc3RhbmNlSWQsYT10aGlzLmVuZHBvaW50VXJsLHM9ci5UYXNrVGVtcGxhdGVzQ2xpZW50TWV0aG9kcztzd2l0Y2goZSl7Y2FzZSBzLkxJU1RfVEFTS19URU1QTEFURVM6aWYoYSs9Ii9wcm94eS9pbnN0YW5jZS8iLmNvbmNhdChpLCIvdGFzay90ZW1wbGF0ZSIpLHQucXVlcnlQYXJhbXMpe3ZhciBjPW5ldyBVUkxTZWFyY2hQYXJhbXModC5xdWVyeVBhcmFtcykudG9TdHJpbmcoKTtjJiYoYSs9Ij8iLmNvbmNhdChjKSl9YnJlYWs7Y2FzZSBzLkdFVF9UQVNLX1RFTVBMQVRFOnIuYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMiKTt2YXIgdT1yLmFzc2VydE5vdE51bGwodC50ZW1wbGF0ZVBhcmFtcy5pZCwicGFyYW1zLnRlbXBsYXRlUGFyYW1zLmlkIiksbD10LnRlbXBsYXRlUGFyYW1zLnZlcnNpb247YSs9Ii9wcm94eS9pbnN0YW5jZS8iLmNvbmNhdChpLCIvdGFzay90ZW1wbGF0ZS8iKS5jb25jYXQodSksbCYmKGErPSI/c25hcHNob3RWZXJzaW9uPSIuY29uY2F0KGwpKTticmVhaztjYXNlIHMuQ1JFQVRFX1RFTVBMQVRFRF9UQVNLOmErPSIvIi5jb25jYXQoZSksby5ib2R5PUpTT04uc3RyaW5naWZ5KHQpLG8ubWV0aG9kPSJQVVQiO2JyZWFrO2Nhc2Ugcy5VUERBVEVfQ09OVEFDVDphKz0iLyIuY29uY2F0KGUpLG8uYm9keT1KU09OLnN0cmluZ2lmeSh0KSxvLm1ldGhvZD0iUE9TVCJ9ci5mZXRjaChhLG8pLnRoZW4oKGZ1bmN0aW9uKGUpe24uc3VjY2VzcyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LmdldFJlYWRlcigpLHI9IiIsbz1uZXcgVGV4dERlY29kZXI7dC5yZWFkKCkudGhlbigoZnVuY3Rpb24gaShhKXt2YXIgcz1hLmRvbmUsYz1hLnZhbHVlO2lmKHMpe3ZhciB1PUpTT04ucGFyc2Uocik7cmV0dXJuIHUuc3RhdHVzPWUuc3RhdHVzLHZvaWQgbi5mYWlsdXJlKHUpfXJldHVybiByKz1vLmRlY29kZShjKSx0LnJlYWQoKS50aGVuKGkpfSkpfSkpfSxyLkNsaWVudEJhc2U9byxyLk51bGxDbGllbnQ9aSxyLlVwc3RyZWFtQ29uZHVpdENsaWVudD1zLHIuQXBpUHJveHlDbGllbnQ9YyxyLlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudD11LHIuQVdTQ2xpZW50PXAsci5BZ2VudEFwcENsaWVudD1sLHIuVGFza1RlbXBsYXRlc0NsaWVudD1kfSgpfSwzOTk6KGUsdCxuKT0+e2Z1bmN0aW9uIHIoZSl7cmV0dXJuIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LHIoZSl9ZnVuY3Rpb24gbygpeyJ1c2Ugc3RyaWN0IjtvPWZ1bmN0aW9uKCl7cmV0dXJuIHR9O3ZhciBlLHQ9e30sbj1PYmplY3QucHJvdG90eXBlLGk9bi5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaChlKXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGgoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX10LndyYXA9ZDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIFMoKXt9ZnVuY3Rpb24gRSgpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgST1PYmplY3QuZ2V0UHJvdG90eXBlT2YsVD1JJiZJKEkoUChbXSkpKTtUJiZUIT09biYmaS5jYWxsKFQsYykmJihDPVQpO3ZhciB3PUUucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyhlLHQpe2Z1bmN0aW9uIG4obyxhLHMsYyl7dmFyIHU9aChlW29dLGUsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09cihwKSYmaS5jYWxsKHAsIl9fYXdhaXQiKT90LnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtuKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7bigidGhyb3ciLGUscyxjKX0pKTp0LnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIG4oInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIG87YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyB0KChmdW5jdGlvbih0LG8pe24oZSxyLHQsbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUih0LG4scil7dmFyIG89ZjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTplLGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1MKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09Zil0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9aCh0LG4scik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTCh0LG4pe3ZhciByPW4ubWV0aG9kLG89dC5pdGVyYXRvcltyXTtpZihvPT09ZSlyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZ0Lml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPSJyZXR1cm4iLG4uYXJnPWUsTCh0LG4pLCJ0aHJvdyI9PT1uLm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWgobyx0Lml0ZXJhdG9yLG4uYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD0idGhyb3ciLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8oblt0LnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PXQubmV4dExvYywicmV0dXJuIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLG4uZGVsZWdhdGU9bnVsbCx5KTphOihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iiksbi5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKE8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUCh0KXtpZih0fHwiIj09PXQpe3ZhciBuPXRbY107aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBuKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKGkuY2FsbCh0LG8pKXJldHVybiBuLnZhbHVlPXRbb10sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9ZSxuLmRvbmU9ITAsbn07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKHIodCkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gUy5wcm90b3R5cGU9RSxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxhKEUsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxTLmRpc3BsYXlOYW1lPXAoRSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHQuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09U3x8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sdC5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsRSk6KGUuX19wcm90b19fPUUscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sdC5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHQuQXN5bmNJdGVyYXRvcj1fLHQuYXN5bmM9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsbixyLG8pLGkpO3JldHVybiB0LmlzR2VuZXJhdG9yRnVuY3Rpb24obik/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLHQua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSx0LnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9ZSx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhdClmb3IodmFyIG4gaW4gdGhpcykidCI9PT1uLmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPWUpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPXQsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSwhIW99Zm9yKHZhciBvPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW29dLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PWkuY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgbz1yO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKHQpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9ZSkseX19LHR9ZnVuY3Rpb24gaShlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIGEoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmEoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLHQsbil7cmV0dXJuKHQ9Yih0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbChlLHQpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9sKGUsdCk6dm9pZCAwfX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgaSxhPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBhPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX19fWZ1bmN0aW9uIGwoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0PWgodCksZnVuY3Rpb24oZSx0KXtpZih0JiYoIm9iamVjdCI9PXIodCl8fCJmdW5jdGlvbiI9PXR5cGVvZiB0KSlyZXR1cm4gdDtpZih2b2lkIDAhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX0oZSl9KGUsZCgpP1JlZmxlY3QuY29uc3RydWN0KHQsbnx8W10saChlKS5jb25zdHJ1Y3Rvcik6dC5hcHBseShlLG4pKX1mdW5jdGlvbiBkKCl7dHJ5e3ZhciBlPSFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpfWNhdGNoKGUpe31yZXR1cm4oZD1mdW5jdGlvbigpe3JldHVybiEhZX0pKCl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gaD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0saChlKX1mdW5jdGlvbiBmKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLHQmJmcoZSx0KX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGc9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSxnKGUsdCl9ZnVuY3Rpb24gbShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHYoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGIoci5rZXkpLHIpfX1mdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm4gdCYmdihlLnByb3RvdHlwZSx0KSxuJiZ2KGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBiKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXIoZSl8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgbz1uLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1yKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PXIodCk/dDp0KyIifSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10LHQuY29yZT17fSx0Lmdsb2JhbFJlc2lsaWVuY3k9dC5nbG9iYWxSZXNpbGllbmN5fHx7fSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITEsdC52ZXJzaW9uPSIyLjI1LjAiLHQub3V0ZXJDb250ZXh0U3RyZWFtc1ZlcnNpb249bnVsbCx0LmluaXRDQ1BQYXJhbXM9bnVsbCx0LmNvbnRhaW5lckRpdj1udWxsLHQuREVGQVVMVF9CQVRDSF9TSVpFPTUwMDt2YXIgcj0zZTMsYT0iQW1hem9uIENvbm5lY3QgQ0NQIixjPSJodHRwczovL3thbGlhc30uYXdzYXBwcy5jb20vYXV0aC8/Y2xpZW50X2lkPXtjbGllbnRfaWR9JnJlZGlyZWN0X3VyaT17cmVkaXJlY3R9IixsPSIwNjkxOWY0ZmQ4ZWQzMjRlIixkPSIvYXV0aC9hdXRob3JpemUiLGg9Ii9jb25uZWN0L2F1dGgvYXV0aG9yaXplIixnPSJJZnJhbWVSZWZyZXNoQXR0ZW1wdHMiLHY9IklmcmFtZVJlZnJlc2hBdHRlbXB0c0RyIixiPSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3MiLFM9IklmcmFtZUluaXRpYWxpemF0aW9uU3VjY2Vzc0RyIixFPSJjdXN0b212aWV3cyIsQz1bImVuZGVkIiwibWlzc2VkIiwiZXJyb3IiLCJyZWplY3RlZCIsImFjdyJdO3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPTAsdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWI9MCx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTj0zLHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQ9MTAsdC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PTAsdC5jb3JlLmF1dGhvcml6ZVRpbWVvdXRJZD1udWxsLHQuY29yZS5jdGlUaW1lb3V0SWQ9bnVsbCx0LmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVD0yMCx0LmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQ9MTAsdC5TZXNzaW9uU3RvcmFnZUtleXM9dC5tYWtlRW51bShbInRhYl9pZCIsImF1dGhvcml6ZV9yZXRyeV9jb3VudCJdKTt2YXIgST1mdW5jdGlvbigpe3JldHVybiB5KChmdW5jdGlvbiB0KG4pe20odGhpcyx0KSx0aGlzLmtleT0iIi5jb25jYXQobiwiUGFyYW1zU3RvcmFnZTo6IikuY29uY2F0KGUubG9jYXRpb24ub3JpZ2luKX0pLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dHJ5e3ZhciBuPWUubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5rZXkpO3JldHVybiBuJiZKU09OLnBhcnNlKG4pfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIiIuY29uY2F0KHRoaXMua2V5LCI6OiBGYWlsZWQgdG8gZ2V0IHNvZnRwaG9uZSBwYXJhbXMgZnJvbSBsb2NhbCBzdG9yYWdlISIpKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuIG51bGx9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKG4pe3RyeXtuJiZlLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LEpTT04uc3RyaW5naWZ5KG4pKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCIiLmNvbmNhdCh0aGlzLmtleSwiOjogRmFpbGVkIHRvIHNldCBzb2Z0cGhvbmUgcGFyYW1zIHRvIGxvY2FsIHN0b3JhZ2UhIikpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19fSx7a2V5OiJjbGVhbiIsdmFsdWU6ZnVuY3Rpb24oKXtlLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMua2V5KX19XSl9KCksVD1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJTb2Z0cGhvbmUiXSl9cmV0dXJuIGYodCxlKSx5KHQpfShJKSksdz1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJSaW5ndG9uZSJdKX1yZXR1cm4gZih0LGUpLHkodCl9KEkpKTtmdW5jdGlvbiBBKGUpe3ZhciB0PWUubWF0Y2goL14oPzpodHRwcz86XC9cLyk/KD86W15AXG5dK0ApPyg/Ond3d1wuKT8oW146XC9cbj9dKykvZ2kpO3JldHVybiB0Lmxlbmd0aD90WzBdOiIifW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG0odGhpcyx0KSxwKHRoaXMsdCxbIkdsb2JhbFJlc2lsaWVuY3kiXSl9cmV0dXJuIGYodCxlKSx5KHQpfShJKSksdC5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXt0LmNvcmUuaW5pdGlhbGl6ZWQmJnQuZ2V0TG9nKCkud2FybigiQ29ubmVjdCBjb3JlIGFscmVhZHkgaW5pdGlhbGl6ZWQsIG9ubHkgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgb25jZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTt2YXIgXz1mdW5jdGlvbihlLG4pe3ZhciByPWUuZ2V0QWdlbnRTdGF0ZXMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dC5BZ2VudFN0YXRlVHlwZS5PRkZMSU5FfSkpO2Uuc2V0U3RhdGUocixuKX0sUj1mdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gU2lnbmFsIHNoYXJlZHdvcmtlciB0byBzZXQgY29udGFjdHMgc3VwcHJlc3NvciB0byAlcyBmb3IgaW5zdGFuY2UgJXMuIixlLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TVVBQUkVTUyx7c3VwcHJlc3M6ZSxzaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtOiExfSl9LEw9ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmluZm8oIltESVNBU1RFUiBSRUNPVkVSWV0gU2lnbmFsIHNoYXJlZHdvcmtlciB0byBzZXQgZm9yY2VPZmZsaW5lIHRvICVzIGZvciBpbnN0YW5jZSAlcy4iLGUsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUse29mZmxpbmU6ZSxuZXh0QWN0aXZlQXJuOm59KX0sTz1mdW5jdGlvbihlLG4pe3ZhciByPXQuZ2V0TG9nKCksbz10LmFnZW50LmluaXRpYWxpemVkP3QuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKTp0LmNvcmUucmVnaW9uO3IuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBdHRlbXB0aW5nIHRvIGZvcmNlIGluc3RhbmNlICIuY29uY2F0KG8sIiBvZmZsaW5lIHVzaW5nICIpLmNvbmNhdChlPyJzb2Z0IjoiaGFyZCIsIiBmYWlsb3ZlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYWdlbnQoKGZ1bmN0aW9uKG8pe3ZhciBpPTAsYT1vLmdldENvbnRhY3RzKCkscz0hMTtpZihhLmxlbmd0aCl7dmFyIGMsbD11KGEpO3RyeXtmb3IobC5zKCk7IShjPWwubigpKS5kb25lOyl7dmFyIHA9Yy52YWx1ZTtpZihzKWJyZWFrOyFlfHxwLmdldFR5cGUoKSE9PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJnAuZ2V0VHlwZSgpIT09dC5Db250YWN0VHlwZS5WT0lDRT9wLmdldEFnZW50Q29ubmVjdGlvbigpLmRlc3Ryb3koe3N1Y2Nlc3M6ZnVuY3Rpb24oKXsrK2k9PT1hLmxlbmd0aCYmKEwoITEsbiksXyhvKSxyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgJXMgaXMgbm93IG9mZmxpbmUiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3Iud2FybigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBbiBlcnJvciBvY2N1cmVkIHdoaWxlIGF0dGVtcHRpbmcgdG8gZm9yY2UgdGhpcyBpbnN0YW5jZSB0byBvZmZsaW5lIGluIHJlZ2lvbiAlcyIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLndhcm4oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxMKCEwLG4pLHM9ITB9fSk6KHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBXaWxsIHdhaXQgdG8gY29tcGxldGUgZmFpbG92ZXIgb2YgaW5zdGFuY2UgJXMgdW50aWwgdm9pY2UgY29udGFjdCB3aXRoIElEICVzIGlzIGRlc3Ryb3llZCIsdC5jb3JlLnJlZ2lvbixwLmdldENvbnRhY3RJZCgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HLHtuZXh0QWN0aXZlQXJuOm59KSxwLm9uRGVzdHJveSgoZnVuY3Rpb24oZSl7ci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFZvaWNlIGNvbnRhY3Qgd2l0aCBJRCAlcyBkZXN0cm95ZWQsIGNvbnRpbnVpbmcgd2l0aCBmYWlsb3ZlciBpbiBpbnN0YW5jZSAlcyIsZS5nZXRDb250YWN0SWQoKSx0LmNvcmUucmVnaW9uKSxPKCEwLG4pfSkpKX19Y2F0Y2goZSl7bC5lKGUpfWZpbmFsbHl7bC5mKCl9fWVsc2UgTCghMSxuKSxfKG8pLHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAlcyBpcyBub3cgb2ZmbGluZSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX07dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXc9ZnVuY3Rpb24oZSl7dmFyIG4scixvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiIixpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxhPWkucmVzb2x2ZUlmcmFtZSxzPXZvaWQgMD09PWF8fGEsYz1pLnRpbWVvdXQsdT12b2lkIDA9PT1jPzVlMzpjLGw9aS5oaWRlSWZyYW1lLHA9dm9pZCAwPT09bHx8bCxkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5xdWVyeVNlbGVjdG9yKG4pKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl8fHdpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl9O3I9bz8iIi5jb25jYXQoRSkuY29uY2F0KG8pOiIiLmNvbmNhdChFKTt2YXIgaD1udWxsPT09KG49dC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5nZXQocikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvbnRhaW5lckRPTSxmPSJpZnJhbWVbaWQ9JyIuY29uY2F0KHIsIiddIiksZz1kKHIsaCxmKTtpZihnKXRyeXtnLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3RvcGljOiJsaWZlY3ljbGUudGVybWluYXRlZCJ9LGUpLHMmJihwJiYoZy5zdHlsZS5kaXNwbGF5PSJub25lIiksY29uc29sZS5pbmZvKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGlmcmFtZSBoaWRkZW4gZm9yIHJlc29sdXRpb24gZHVyaW5nIHRlcm1pbmF0aW9uIiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmFnZW50QXBwLnN0b3BBcHAociksZChyLGgsZik/Y29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGFwcGxpY2F0aW9uIGRpZCBub3Qgc3RvcCBzdWNjZXNzZnVsbHkgaW4gdGVybWluYXRlQ3VzdG9tVmlldyBvcGVyYXRpb24iKTpjb25zb2xlLmluZm8oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgYXBwbGljYXRpb24gc3VjY2Vzc2Z1bGx5IHN0b3BwZWQiKX0pLHUpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c10gRXJyb3IgaW4gdGVybWluYXRlQ3VzdG9tVmlldzogIixlKX1lbHNlIGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSB0ZXJtaW5hdGVDdXN0b21WaWV3IG9wZXJhdGlvbiBmYWlsZWQgZHVlIHRvIGlmcmFtZSBub3QgZm91bmQiKX0sdC5jb3JlLmluaXREaXNhc3RlclJlY292ZXJ5PWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10LmdldExvZygpO3QuY29yZS5yZWdpb249ZS5yZWdpb24sdC5jb3JlLnN1cHByZXNzQ29udGFjdHM9bnx8Uix0LmNvcmUuZm9yY2VPZmZsaW5lPXJ8fE8sdC5jb3JlLmdldFVwc3RyZWFtKCkub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TRVRfT0ZGTElORSwoZnVuY3Rpb24oZSl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5GQUlMT1ZFUiwoZnVuY3Rpb24oKXt0LmNvcmUuZm9yY2VPZmZsaW5lKGUmJmUuc29mdEZhaWxvdmVyKX0pKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe3QuY29yZS5mb3JjZU9mZmxpbmUoZSYmZS5zb2Z0RmFpbG92ZXIsZSYmZS5uZXh0QWN0aXZlQXJuKX0pKX0pKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe28uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbml0aWFsaXppbmcgcmVnaW9uICVzIGFzIHBhcnQgb2YgYSBEaXNhc3RlciBSZWNvdmVyeSBmbGVldCIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLChmdW5jdGlvbigpe28uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSAlcyBhbHJlYWR5IHBhcnQgb2YgYSBEaXNhc3RlciBSZWNvdmVyeSBmbGVldCIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLnBvbGxGb3JGYWlsb3ZlciYmdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORz90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORyx7aW5zdGFuY2VBcm46ZS5pbnN0YW5jZUFybixvdGhlckFybjplLm90aGVyQXJuLGF1dGhUb2tlbjplLmF1dGhUb2tlbn0pOmUuaXNQcmltYXJ5Pyh0LmNvcmUuc3VwcHJlc3NDb250YWN0cyghMSksby5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldICVzIGluc3RhbmNlIGlzIHNldCB0byBwcmltYXJ5Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKToodC5jb3JlLnN1cHByZXNzQ29udGFjdHMoITApLHQuY29yZS5mb3JjZU9mZmxpbmUoKSxvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gJXMgaW5zdGFuY2UgaXMgc2V0IHRvIHN0YW5kLWJ5Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX0sdC5jb3JlLmluaXQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzLHQuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgeCh0LmNvcmUuZ2V0RXZlbnRCdXMoKSksdC5jb3JlLmluaXRDbGllbnQoZSksdC5jb3JlLmluaXRBZ2VudEFwcENsaWVudChlKSx0LmNvcmUuaW5pdFRhc2tUZW1wbGF0ZXNDbGllbnQoZSksdC5jb3JlLmluaXRpYWxpemVkPSEwfSx0LmNvcmUuaW5pdENsaWVudD1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIik7dmFyIG49dC5hc3NlcnROb3ROdWxsKGUuYXV0aFRva2VuLCJwYXJhbXMuYXV0aFRva2VuIikscj10LmFzc2VydE5vdE51bGwoZS5yZWdpb24sInBhcmFtcy5yZWdpb24iKSxvPWUuZW5kcG9pbnR8fG51bGw7dC5jb3JlLmNsaWVudD1uZXcgdC5BV1NDbGllbnQobixyLG8pfSx0LmNvcmUuaW5pdEFnZW50QXBwQ2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj10LmFzc2VydE5vdE51bGwoZS5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxyPXQuYXNzZXJ0Tm90TnVsbChlLmF1dGhDb29raWVOYW1lLCJwYXJhbXMuYXV0aENvb2tpZU5hbWUiKSxvPXQuYXNzZXJ0Tm90TnVsbChlLmFnZW50QXBwRW5kcG9pbnQsInBhcmFtcy5hZ2VudEFwcEVuZHBvaW50Iik7dC5jb3JlLmFnZW50QXBwQ2xpZW50PW5ldyB0LkFnZW50QXBwQ2xpZW50KHIsbixvKX0sdC5jb3JlLmluaXRUYXNrVGVtcGxhdGVzQ2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj1lLnRhc2tUZW1wbGF0ZXNFbmRwb2ludHx8ZS5lbmRwb2ludDt0LmFzc2VydE5vdE51bGwobiwidGFza1RlbXBsYXRlc0VuZHBvaW50IiksdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bmV3IHQuVGFza1RlbXBsYXRlc0NsaWVudChuKX0sdC5jb3JlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3QuY29yZS5jbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUuYXBpUHJveHlDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuTnVsbENsaWVudDt2YXIgZT10LmNvcmUuZ2V0RXZlbnRCdXMoKTtlJiZlLnVuc3Vic2NyaWJlQWxsKCksdC5jb3JlLmJ1cz1uZXcgdC5FdmVudEJ1cyx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bnVsbCx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1udWxsLHQuY29yZS51cHN0cmVhbT1udWxsLHQuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPW51bGwsdC5zdG9yYWdlQWNjZXNzLnJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlKCksdC5hZ2VudC5pbml0aWFsaXplZD0hMSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITF9LHQuY29yZS5zb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09bnVsbCx0LmNvcmUuc2V0U29mdHBob25lVXNlck1lZGlhU3RyZWFtPWZ1bmN0aW9uKGUpe3QuY29yZS5zb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09ZX0sdC5jb3JlLmluaXRSaW5ndG9uZUVuZ2luZXM9ZnVuY3Rpb24obixyKXt0LmdldExvZygpLmluZm8oIltSaW5ndG9uZSBFbmdpbmVdIGluaXRSaW5ndG9uZUVuZ2luZSBzdGFydGVkIikud2l0aE9iamVjdCh7cGFyYW1zOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYXNzZXJ0Tm90TnVsbChuLCJwYXJhbXMiKTt2YXIgbz1yfHxOLGk9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInJpbmd0b25lU2V0dGluZ3MiKSx0LmFzc2VydE5vdE51bGwoZS52b2ljZSwicmluZ3RvbmVTZXR0aW5ncy52b2ljZSIpLHQuYXNzZXJ0VHJ1ZShlLnZvaWNlLnJpbmd0b25lVXJsfHxlLnZvaWNlLmRpc2FibGVkLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlLnJpbmd0b25lVXJsIG11c3QgYmUgcHJvdmlkZWQgb3IgcmluZ3RvbmVTZXR0aW5ncy52b2ljZS5kaXNhYmxlZCBtdXN0IGJlIHRydWUiKSx0LmFzc2VydE5vdE51bGwoZS5xdWV1ZV9jYWxsYmFjaywicmluZ3RvbmVTZXR0aW5ncy5xdWV1ZV9jYWxsYmFjayIpLHQuYXNzZXJ0VHJ1ZShlLnF1ZXVlX2NhbGxiYWNrLnJpbmd0b25lVXJsfHxlLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlLnJpbmd0b25lVXJsIG11c3QgYmUgcHJvdmlkZWQgb3IgcmluZ3RvbmVTZXR0aW5ncy5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZCBtdXN0IGJlIHRydWUiKSx0LmNvcmUucmluZ3RvbmVFbmdpbmVzPXt9LHQuYWdlbnQoKGZ1bmN0aW9uKG4pe24ub25SZWZyZXNoKChmdW5jdGlvbigpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dmFyIG49ITE7ZS52b2ljZS5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy52b2ljZXx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMudm9pY2U9bmV3IHQuVm9pY2VSaW5ndG9uZUVuZ2luZShlLnZvaWNlKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiVm9pY2VSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmNoYXQuZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuY2hhdHx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuY2hhdD1uZXcgdC5DaGF0UmluZ3RvbmVFbmdpbmUoZS5jaGF0KSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiQ2hhdFJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUudGFzay5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy50YXNrfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy50YXNrPW5ldyB0LlRhc2tSaW5ndG9uZUVuZ2luZShlLnRhc2spLG49ITAsdC5nZXRMb2coKS5pbmZvKCJUYXNrUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5lbWFpbC5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy5lbWFpbHx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuZW1haWw9bmV3IHQuRW1haWxSaW5ndG9uZUVuZ2luZShlLmVtYWlsKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiRW1haWxSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnF1ZXVlX2NhbGxiYWNrfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy5xdWV1ZV9jYWxsYmFjaz1uZXcgdC5RdWV1ZUNhbGxiYWNrUmluZ3RvbmVFbmdpbmUoZS5xdWV1ZV9jYWxsYmFjayksbj0hMCx0LmdldExvZygpLmluZm8oIlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmF1dG9BY2NlcHRUb25lLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmF1dG9BY2NlcHR8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmF1dG9BY2NlcHQ9bmV3IHQuQXV0b0FjY2VwdGVkUmluZ3RvbmVFbmdpbmUoZS5hdXRvQWNjZXB0VG9uZSksbj0hMCx0LmdldExvZygpLmluZm8oIkF1dG9BY2NlcHRlZFJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLG4mJnQuY29yZS5fcmluZ2VyRGV2aWNlSWQmJm8oe2RldmljZUlkOnQuY29yZS5fcmluZ2VyRGV2aWNlSWR9KX0pKX0pKX0pKSxrKCl9LGE9ZnVuY3Rpb24oZSxuKXtlLnJpbmd0b25lPWUucmluZ3RvbmV8fHt9LGUucmluZ3RvbmUudm9pY2U9ZS5yaW5ndG9uZS52b2ljZXx8e30sZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjaz1lLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrfHx7fSxlLnJpbmd0b25lLmNoYXQ9ZS5yaW5ndG9uZS5jaGF0fHx7ZGlzYWJsZWQ6ITB9LGUucmluZ3RvbmUudGFzaz1lLnJpbmd0b25lLnRhc2t8fHtkaXNhYmxlZDohMH0sZS5yaW5ndG9uZS5lbWFpbD1lLnJpbmd0b25lLmVtYWlsfHx7ZGlzYWJsZWQ6ITB9LGUucmluZ3RvbmUuYXV0b0FjY2VwdFRvbmU9ZS5yaW5ndG9uZS5hdXRvQWNjZXB0VG9uZXx8e2Rpc2FibGVkOiEwfSxuLnNvZnRwaG9uZSYmKG4uc29mdHBob25lLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUudm9pY2UuZGlzYWJsZWQ9ITAsZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZD0hMCksbi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLnZvaWNlLnJpbmd0b25lVXJsPW4uc29mdHBob25lLnJpbmd0b25lVXJsLGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2sucmluZ3RvbmVVcmw9bi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwpKSxuLmNoYXQmJihuLmNoYXQuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS5jaGF0LmRpc2FibGVkPSEwKSxuLmNoYXQucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLmNoYXQucmluZ3RvbmVVcmw9bi5jaGF0LnJpbmd0b25lVXJsKSksbi50YXNrJiYobi50YXNrLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUudGFzay5kaXNhYmxlZD0hMCksbi50YXNrLnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS50YXNrLnJpbmd0b25lVXJsPW4udGFzay5yaW5ndG9uZVVybCkpLG4uZW1haWwmJihuLmVtYWlsLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUuZW1haWwuZGlzYWJsZWQ9ITApLG4uZW1haWwucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLmVtYWlsLnJpbmd0b25lVXJsPW4uZW1haWwucmluZ3RvbmVVcmwpKSxuLmF1dG9BY2NlcHRUb25lJiYobi5hdXRvQWNjZXB0VG9uZS5kaXNhYmxlUmluZ3RvbmUmJihlLnJpbmd0b25lLmF1dG9BY2NlcHRUb25lLmRpc2FibGVkPSEwKSxuLmF1dG9BY2NlcHRUb25lLnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS5hdXRvQWNjZXB0VG9uZS5yaW5ndG9uZVVybD1uLmF1dG9BY2NlcHRUb25lLnJpbmd0b25lVXJsKSksbi5yaW5ndG9uZSYmKGUucmluZ3RvbmUudm9pY2U9dC5tZXJnZShlLnJpbmd0b25lLnZvaWNlLG4ucmluZ3RvbmUudm9pY2V8fHt9KSxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrPXQubWVyZ2UoZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjayxuLnJpbmd0b25lLnZvaWNlfHx7fSksZS5yaW5ndG9uZS5jaGF0PXQubWVyZ2UoZS5yaW5ndG9uZS5jaGF0LG4ucmluZ3RvbmUuY2hhdHx8e30pLGUucmluZ3RvbmUudGFzaz10Lm1lcmdlKGUucmluZ3RvbmUudGFzayxuLnJpbmd0b25lLnRhc2t8fHt9KSxlLnJpbmd0b25lLmVtYWlsPXQubWVyZ2UoZS5yaW5ndG9uZS5lbWFpbCxuLnJpbmd0b25lLmVtYWlsfHx7fSksZS5yaW5ndG9uZS5hdXRvQWNjZXB0VG9uZT10Lm1lcmdlKGUucmluZ3RvbmUuYXV0b0FjY2VwdFRvbmUsbi5yaW5ndG9uZS5hdXRvQWNjZXB0VG9uZXx8e30pKX07aWYoYShuLG4pLHQuaXNGcmFtZWQoKSl7dmFyIHM7dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24ocil7ZS5jbGVhclRpbWVvdXQocyksdC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmUgRW5naW5lXSBDb25maWd1cmUgZXZlbnQgaGFuZGxlciBleGVjdXRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy51bnN1YnNjcmliZSgpLGEobixyKSx3LnNldChuLnJpbmd0b25lKSxpKG4ucmluZ3RvbmUpfSkpO3ZhciBjPXcuZ2V0KCk7YyYmdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7biYmbi5pZCYmKHQuZ2V0TG9nKCkuaW5mbygiW1Jpbmd0b25lRW5naW5lXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseSBhbmQgd2FpdGluZyBmb3IgY29uZmlndXJlIE1lc3NhZ2UgaGFuZGxlciB0byBleGVjdXRlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnVuc3Vic2NyaWJlKCkscz1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmVFbmdpbmVdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgd2l0aG91dCBjb25maWd1cmUgbWVzc2FnZSAmIEluaXRpYWxpemluZyBzZXR1cFJpbmd0b25lRW5naW5lcyAoUmluZ3RvbmUgRW5naW5lKSBmcm9tIGxvY2FsU3RvcmFnZSByaW5ndG9uZSBwYXJhbXMuICIpLndpdGhPYmplY3Qoe3Jpbmd0b25lOmN9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoYyl9KSwxMDApKX0pKX1lbHNlIGkobi5yaW5ndG9uZSl9O3ZhciBrPWZ1bmN0aW9uKCl7dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfUklOR0VSX0RFVklDRSxOKX0sTj1mdW5jdGlvbigpe3ZhciBlPShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30pLmRldmljZUlkfHwiIjtpZih0LmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEF0dGVtcHRpbmcgdG8gc2V0IHJpbmdlciBkZXZpY2UgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksMD09PXQua2V5cyh0LmNvcmUucmluZ3RvbmVFbmdpbmVzKS5sZW5ndGgpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gc2V0UmluZ2VyRGV2aWNlIGNhbGxlZCBiZWZvcmUgcmluZ3RvbmUgZW5naW5lIGlzIGluaXRpYWxpemVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkKGUmJih0LmNvcmUuX3JpbmdlckRldmljZUlkPWUsdC5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBzdG9yZWQgZGV2aWNlIElkIGZvciBsYXRlciB1c2UsIG9uY2UgcmluZ3RvbmUgZW5naW5lIGlzIHVwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJTZXRSaW5nZXJEZXZpY2VCZWZvcmVJbml0UmluZ3RvbmVFbmdpbmUiLGRhdGE6e2NvdW50OjF9fSkpKTtpZihlKXt2YXIgbj1mdW5jdGlvbihuKXt0LmNvcmUucmluZ3RvbmVFbmdpbmVzW25dLnNldE91dHB1dERldmljZShlKS50aGVuKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIHJpbmd0b25lVHlwZSAiLmNvbmNhdChuLCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBkZXZpY2VpZCAiKS5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoZSl9KSl9O2Zvcih2YXIgciBpbiB0LmNvcmUucmluZ3RvbmVFbmdpbmVzKW4ocik7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLlJJTkdFUl9ERVZJQ0VfQ0hBTkdFRCxkYXRhOntkZXZpY2VJZDplfX0pfWVsc2UgdC5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIHJpbmdlciBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIGRldmljZUlkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX07dC5jb3JlLmluaXRTb2Z0cGhvbmVNYW5hZ2VyPWZ1bmN0aW9uKG4pe3ZhciByPW58fHt9O3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBpbml0U29mdHBob25lTWFuYWdlciBzdGFydGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbz1mdW5jdGlvbihlKXt2YXIgbj10Lm1lcmdlKHIuc29mdHBob25lfHx7fSxlKTt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gY29tcGV0ZUZvck1hc3Rlck9uQWdlbnRVcGRhdGUgZXhlY3V0ZWQiKS53aXRoT2JqZWN0KHtzb2Z0cGhvbmVQYXJhbXM6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5hZ2VudCgoZnVuY3Rpb24oZSl7ZS5nZXRDaGFubmVsQ29uY3VycmVuY3kodC5DaGFubmVsVHlwZS5WT0lDRSkmJihlLmlzU29mdHBob25lRW5hYmxlZCgpJiYobi5pc1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZD1lLmdldENvbmZpZ3VyYXRpb24oKS5zb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiksZS5vblJlZnJlc2goKGZ1bmN0aW9uKCl7dmFyIHI9dGhpczt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gYWdlbnQgcmVmcmVzaCBoYW5kbGVyIGV4ZWN1dGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gY29uZmlybWVkIGFzIHNvZnRwaG9uZSBtYXN0ZXIgdG9waWMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCF0LmNvcmUuc29mdHBob25lTWFuYWdlciYmZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW5ldyB0LlNvZnRwaG9uZU1hbmFnZXIobiksci51bnN1YnNjcmliZSgpKX0pKX0pKSl9KSl9O2lmKHQuaXNGcmFtZWQoKSYmdC5pc0NDUCgpKXt2YXIgaTt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihuKXtlLmNsZWFyVGltZW91dChpKSx0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gQ29uZmlndXJlIGV2ZW50IGhhbmRsZXIgZXhlY3V0ZWQiKS53aXRoT2JqZWN0KHtkYXRhOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLFQuc2V0KG4uc29mdHBob25lKSxuLnNvZnRwaG9uZSYmbi5zb2Z0cGhvbmUuYWxsb3dGcmFtZWRTb2Z0cGhvbmUmJih0aGlzLnVuc3Vic2NyaWJlKCksbyhuLnNvZnRwaG9uZSkpLHMobi5zb2Z0cGhvbmUpfSkpO3ZhciBhPVQuZ2V0KCk7YSYmdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7biYmbi5pZCYmKHQuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseSBhbmQgd2FpdGluZyBmb3IgY29uZmlndXJlIE1lc3NhZ2UgaGFuZGxlciB0byBleGVjdXRlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnVuc3Vic2NyaWJlKCksaT1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgd2l0aG91dCBjb25maWd1cmUgbWVzc2FnZSBoYW5kbGVyIGV4ZWN1dGlvbiIpLndpdGhPYmplY3Qoe3NvZnRwaG9uZVBhcmFtc0Zyb21Mb2NhbFN0b3JhZ2U6YX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJFbWJlZGRlZENDUFJlZnJlc2hlZFdpdGhvdXRJbml0Q0NQIixkYXRhOntjb3VudDoxfX0pLHMoYSksYS5hbGxvd0ZyYW1lZFNvZnRwaG9uZSYmKHQuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkICYgSW5pdGlhbGl6aW5nIGNvbXBldGVGb3JNYXN0ZXJPbkFnZW50VXBkYXRlIChTb2Z0cGhvbmUgbWFuYWdlcikgZnJvbSBsb2NhbFN0b3JhZ2Ugc29mdHBob25lIHBhcmFtcyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbyhhKSl9KSwxMDApKX0pKX1lbHNlIG8ocikscyhyKTtmdW5jdGlvbiBzKGUpe3ZhciBuPXQubWVyZ2Uoci5zb2Z0cGhvbmV8fHt9LGUpO3QuY29yZS5zb2Z0cGhvbmVQYXJhbXM9bix0LmlzRmlyZWZveEJyb3dzZXIoKSYmKHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFLChmdW5jdGlvbihlKXtlLmRhdGEmJmUuZGF0YS50b3BpYz09PXQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSYmZS5kYXRhLnRha2VPdmVyJiZlLmRhdGEubWFzdGVySWQhPT10LmNvcmUucG9ydFN0cmVhbUlkJiZ0LmNvcmUuc29mdHBob25lTWFuYWdlciYmKHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLm9uSW5pdENvbnRhY3RTdWIudW5zdWJzY3JpYmUoKSxkZWxldGUgdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIpfSkpLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTiwoZnVuY3Rpb24oKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmNvcmUuc29mdHBob25lTWFuYWdlciYmdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIuc3RhcnRTZXNzaW9uKCl9KSwoZnVuY3Rpb24oKXt0LmJlY29tZU1hc3Rlcih0Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUsKGZ1bmN0aW9uKCl7dC5hZ2VudCgoZnVuY3Rpb24oZSl7IXQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiZlLmlzU29mdHBob25lRW5hYmxlZCgpJiYodC5iZWNvbWVNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU0VORF9MT0dTKSx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1uZXcgdC5Tb2Z0cGhvbmVNYW5hZ2VyKG4pLHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnN0YXJ0U2Vzc2lvbigpKX0pKX0pKX0pKX0pKSx0LmNvbnRhY3QoKGZ1bmN0aW9uKGUpe3QuYWdlbnQoKGZ1bmN0aW9uKG4pe2Uub25SZWZyZXNoKChmdW5jdGlvbihlKXtpZih0Lmhhc090aGVyQ29ubmVjdGVkQ0NQcygpJiYidmlzaWJsZSI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUmJihlLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkd8fGUuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkcpKXt2YXIgcj1lLmlzU29mdHBob25lQ2FsbCgpJiYhZS5pc0luYm91bmQoKSxvPWUuaXNTb2Z0cGhvbmVDYWxsKCkmJm4uZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZUF1dG9BY2NlcHQsaT1lLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0s7KHJ8fG98fGkpJiZ0LmNvcmUudHJpZ2dlclJlYWR5VG9TdGFydFNlc3Npb25FdmVudCgpfX0pKX0pKX0pKSl9dC5hZ2VudCgoZnVuY3Rpb24oZSl7ZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmZS5nZXRDaGFubmVsQ29uY3VycmVuY3kodC5DaGFubmVsVHlwZS5WT0lDRSkmJnQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuRXZlbnRUeXBlLk1VVEV9KX0pKX0sdC5jb3JlLnRyaWdnZXJSZWFkeVRvU3RhcnRTZXNzaW9uRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10LmNvcmUuc29mdHBob25lUGFyYW1zJiZ0LmNvcmUuc29mdHBob25lUGFyYW1zLmFsbG93RnJhbWVkU29mdHBob25lO3QuaXNDQ1AoKT9lP3QuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOnQuaXNGcmFtZWQoKT90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6dC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6ZT90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOnQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pfSx0LmNvcmUuaW5pdFBhZ2VPcHRpb25zPWZ1bmN0aW9uKGUpe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKSx0LmlzRnJhbWVkKCkpe3ZhciBuPXQuY29yZS5nZXRFdmVudEJ1cygpO24uc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLkNPTkZJR1VSRSxkYXRhOmV9KX0pKSxuLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVRVUVTVCwoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVNQT05TRSxlKX1uYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXM/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZGV2aWNlcz10fHxbXSxkZXZpY2VzPWRldmljZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0pTT04oKX0pKSxlKGRldmljZXMpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtlKHtlcnJvcjp0Lm1lc3NhZ2V9KX0pKTplKHtlcnJvcjoiTm8gbmF2aWdhdG9yIG9yIG5hdmlnYXRvci5tZWRpYURldmljZXMgb2JqZWN0IGZvdW5kIn0pfSkpfX0sdC5jb3JlLmluaXRBcGlQcm94eVNlcnZpY2U9ZnVuY3Rpb24oKXt0LmNvcmUuYXBpUHJveHlDbGllbnQ9bmV3IHQuQXBpUHJveHlDbGllbnQsdC5pc0ZyYW1lZCgpJiYodC5jb3JlLmhhbmRsZUFwaVByb3h5UmVxdWVzdD1mdW5jdGlvbihlKXtudWxsIT1lJiZlLm1ldGhvZCYmdC5jb3JlLmdldEFwaVByb3h5Q2xpZW50KCkuY2FsbChlLm1ldGhvZCxlLnBhcmFtcyx7c3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcj17ZGF0YTpuLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLHIpfSxmYWlsdXJlOmZ1bmN0aW9uKG4pe3ZhciByPXtlcnI6bixyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWR9O3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSxyKX19KX0pfSx0LmNvcmUuZ2V0RnJhbWVNZWRpYURldmljZXM9ZnVuY3Rpb24oZSl7dmFyIG49bnVsbCxyPWV8fDFlMyxvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChuZXcgRXJyb3IoIlRpbWVvdXQgZXhjZWVkZWQiKSl9KSxyKX0pKSxpPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe2lmKHQuaXNDQ1AoKSluYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXM/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZGV2aWNlcz10fHxbXSxkZXZpY2VzPWRldmljZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0pTT04oKX0pKSxlKGRldmljZXMpfSkpOnIobmV3IEVycm9yKCJObyBuYXZpZ2F0b3Igb3IgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBvYmplY3QgZm91bmQiKSk7ZWxzZXt2YXIgbz10LmNvcmUuZ2V0RXZlbnRCdXMoKTtuPW8uc3Vic2NyaWJlKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVNQT05TRSwoZnVuY3Rpb24odCl7dC5lcnJvcj9yKG5ldyBFcnJvcih0LmVycm9yKSk6ZSh0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFUVVFU1QpfX0pKTtyZXR1cm4gUHJvbWlzZS5yYWNlKFtpLG9dKS5maW5hbGx5KChmdW5jdGlvbigpe24mJm4udW5zdWJzY3JpYmUoKX0pKX0sdC5jb3JlLmF1dGhvcml6ZT1mdW5jdGlvbihlKXt2YXIgbj1lO3JldHVybiBufHwobj10LmNvcmUuaXNMZWdhY3lEb21haW4oKT9oOmQpLHQuZmV0Y2gobix7Y3JlZGVudGlhbHM6ImluY2x1ZGUifSwyZTMsNSl9LHQuY29yZS52ZXJpZnlEb21haW5BY2Nlc3M9ZnVuY3Rpb24oZSxuKXtpZih0LmdldExvZygpLndhcm4oIlRoaXMgQVBJIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIHJlbGVhc2UiKSwhdC5pc0ZyYW1lZCgpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgcj17aGVhZGVyczp7IlgtQW16LUJlYXJlciI6ZX19LG89bnVsbDtyZXR1cm4gbz1ufHwodC5jb3JlLmlzTGVnYWN5RG9tYWluKCk/Ii9jb25uZWN0L3doaXRlbGlzdGVkLW9yaWdpbnMiOiIvd2hpdGVsaXN0ZWQtb3JpZ2lucyIpLHQuZmV0Y2gobyxyLDJlMyw1KS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1BKHdpbmRvdy5kb2N1bWVudC5yZWZlcnJlcik7cmV0dXJuIGUud2hpdGVsaXN0ZWRPcmlnaW5zLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0PT09QShlKX0pKT9Qcm9taXNlLnJlc29sdmUoKTpQcm9taXNlLnJlamVjdCgpfSkpfSx0LmNvcmUuaXNMZWdhY3lEb21haW49ZnVuY3Rpb24oZSl7cmV0dXJuKGU9ZXx8d2luZG93LmxvY2F0aW9uLmhyZWYpLmluY2x1ZGVzKCIuYXdzYXBwcy5jb20iKX0sdC5jb3JlLmluaXRTaGFyZWRXb3JrZXI9ZnVuY3Rpb24obil7aWYodC5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQoKSwhdC5jb3JlLmluaXRpYWxpemVkKXt0LmFzc2VydE5vdE51bGwobiwicGFyYW1zIik7dmFyIHI9dC5hc3NlcnROb3ROdWxsKG4uc2hhcmVkV29ya2VyVXJsLCJwYXJhbXMuc2hhcmVkV29ya2VyVXJsIiksbz10LmFzc2VydE5vdE51bGwobi5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxpPXQuYXNzZXJ0Tm90TnVsbChuLnJlZnJlc2hUb2tlbiwicGFyYW1zLnJlZnJlc2hUb2tlbiIpLGE9dC5hc3NlcnROb3ROdWxsKG4uYXV0aFRva2VuRXhwaXJhdGlvbiwicGFyYW1zLmF1dGhUb2tlbkV4cGlyYXRpb24iKSxzPXQuYXNzZXJ0Tm90TnVsbChuLnJlZ2lvbiwicGFyYW1zLnJlZ2lvbiIpLGM9bi5lbmRwb2ludHx8bnVsbCx1PW4uYXV0aG9yaXplRW5kcG9pbnQ7dXx8KHU9dC5jb3JlLmlzTGVnYWN5RG9tYWluKCk/aDpkKTt2YXIgbD1uLmFnZW50QXBwRW5kcG9pbnR8fG51bGwscD1uLnRhc2tUZW1wbGF0ZXNFbmRwb2ludHx8bnVsbCxmPW4uYXV0aENvb2tpZU5hbWV8fG51bGw7dHJ5e3QuY29yZS5ldmVudEJ1cz1uZXcgdC5FdmVudEJ1cyh7bG9nRXZlbnRzOiEwfSksdC5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW5ldyB4KHQuY29yZS5nZXRFdmVudEJ1cygpKSx0LmNvcmUubWVkaWFGYWN0b3J5PW5ldyB0Lk1lZGlhRmFjdG9yeShuKTt2YXIgZz1uZXcgU2hhcmVkV29ya2VyKHIsIkNvbm5lY3RTaGFyZWRXb3JrZXIiKSxtPW5ldyB0LkNvbmR1aXQoIkNvbm5lY3RTaGFyZWRXb3JrZXJDb25kdWl0IixuZXcgdC5Qb3J0U3RyZWFtKGcucG9ydCksbmV3IHQuV2luZG93SU9TdHJlYW0od2luZG93LHBhcmVudCkpO3QuY29yZS51cHN0cmVhbT1tLHQuY29yZS53ZWJTb2NrZXRQcm92aWRlcj1uZXcgRCx0LmNvcmUubGlzdGVuRm9yQWNnclZhbGlkYXRpb24obSksZS5vbnVubG9hZD1mdW5jdGlvbigpe20uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNMT1NFKSxnLnBvcnQuY2xvc2UoKX0sdC5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtTG9nUHVzaChtKSx0LmdldExvZygpLnNjaGVkdWxlRG93bnN0cmVhbUNsaWVudFNpZGVMb2dzUHVzaCgpLG0ub25BbGxVcHN0cmVhbSh0LmNvcmUuZ2V0RXZlbnRCdXMoKS5icmlkZ2UoKSksbS5vbkFsbFVwc3RyZWFtKG0ucGFzc0Rvd25zdHJlYW0oKSksdC5pc0ZyYW1lZCgpJiYobS5vbkFsbERvd25zdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLG0ub25BbGxEb3duc3RyZWFtKChmdW5jdGlvbihlLG4pe249PT10LkV2ZW50VHlwZS5BUElfUkVRVUVTVCYmdC5jb250YWluc1ZhbHVlKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLG51bGw9PWU/dm9pZCAwOmUubWV0aG9kKT90LmNvcmUuaGFuZGxlQXBpUHJveHlSZXF1ZXN0KGUpOm0ucGFzc1Vwc3RyZWFtKCkoZSxuKX0pKSksbS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQ09ORklHVVJFLHthdXRoVG9rZW46byxhdXRoVG9rZW5FeHBpcmF0aW9uOmEsZW5kcG9pbnQ6YyxyZWZyZXNoVG9rZW46aSxyZWdpb246cyxhdXRob3JpemVFbmRwb2ludDp1LGFnZW50QXBwRW5kcG9pbnQ6bCx0YXNrVGVtcGxhdGVzRW5kcG9pbnQ6cCxhdXRoQ29va2llTmFtZTpmLGxvbmdQb2xsaW5nT3B0aW9uczpuLmxvbmdQb2xsaW5nT3B0aW9uc3x8dm9pZCAwfSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ29ubmVjdFNoYXJlZFdvcmtlciEiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5pbml0aWFsaXplZD0hMCx0LmNvcmUuX3NldFRhYklkKCksdC5jb3JlLnBvcnRTdHJlYW1JZD1lLmlkLHRoaXMudW5zdWJzY3JpYmUoKX0pKSxtLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXtlLmxvZ2dlcklkIT09dC5nZXRMb2coKS5nZXRMb2dnZXJJZCgpJiZ0LmdldExvZygpLmFkZExvZ0VudHJ5KHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuc2VuZEludGVybmFsTG9nRW50cnlUb1NlcnZlcih0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG0ub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csKGZ1bmN0aW9uKGUpe3QuaXNGcmFtZWQoKSYmQXJyYXkuaXNBcnJheShlKSYmZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXIodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKX0pKSxtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5MT0csKGZ1bmN0aW9uKGUpe3QuaXNGcmFtZWQoKSYmZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5vbkF1dGhGYWlsKHQuaGl0Y2godC5jb3JlLHQuY29yZS5faGFuZGxlQXV0aEZhaWwsbi5sb2dpbkVuZHBvaW50fHxudWxsLHUpKSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzKHQuaGl0Y2godC5jb3JlLHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2VzcykpLHQuZ2V0TG9nKCkuaW5mbygiVXNlciBBZ2VudDogIituYXZpZ2F0b3IudXNlckFnZW50KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiaXNDQ1B2MjogIishMCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oImlzRnJhbWVkOiAiK3QuaXNGcmFtZWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUudXBzdHJlYW0ub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTywoZnVuY3Rpb24oZSl7dmFyIG49ZS5zdHJlYW1zVmVyc2lvbnx8bnVsbDt0LmdldExvZygpLmluZm8oIlN0cmVhbXNKUyBWZXJzaW9uOiAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5vdXRlckNvbnRleHRTdHJlYW1zVmVyc2lvbj1ufSkpLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiTnVtYmVyIG9mIGNvbm5lY3RlZCBDQ1BzIHVwZGF0ZWQ6ICIrZS5sZW5ndGgpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5udW1iZXJPZkNvbm5lY3RlZENDUHM9ZS5sZW5ndGgsZVt0LmNvcmUudGFiSWRdJiYhaXNOYU4oZVt0LmNvcmUudGFiSWRdLmxlbmd0aCkmJnQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiIT09ZVt0LmNvcmUudGFiSWRdLmxlbmd0aCYmKHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPWVbdC5jb3JlLnRhYklkXS5sZW5ndGgsdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWI+MSYmdC5nZXRMb2coKS53YXJuKCJUaGVyZSBhcmUgIit0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYisiIGNvbm5lY3RlZCBDQ1BzIGluIHRoaXMgdGFiLiBQbGVhc2UgYWRqdXN0IHlvdXIgaW1wbGVtZW50YXRpb24gdG8gYXZvaWQgY29tcGxpY2F0aW9ucy4gSWYgeW91IGFyZSBlbWJlZGRpbmcgQ0NQLCBwbGVhc2UgZG8gc28gZXhjbHVzaXZlbHkgd2l0aCBpbml0Q0NQLiBJbml0Q0NQIHdpbGwgbm90IGxldCB5b3UgZW1iZWQgbW9yZSB0aGFuIG9uZSBDQ1AuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNvbm5lY3RlZENDUFNpbmdsZVRhYkNvdW50IixkYXRhOntjb3VudDp0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYn19KSksZS50YWJJZCYmZS5zdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXImJnQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuTUVUUklDUywoZnVuY3Rpb24oKXtyZXR1cm4gdC5hZ2VudCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDQ1BUYWJzQWNyb3NzQnJvd3NlckNvdW50IixkYXRhOnt0YWJJZDplLnRhYklkLGNvdW50OmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyfX0pfSkpfSkpfSkpLHQuY29yZS5jbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0Q2xpZW50KG0pLHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KG0pLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEUsbS5wYXNzVXBzdHJlYW0oKSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLnJlbG9hZCghMCl9KSksZy5wb3J0LnN0YXJ0KCksbS5vblVwc3RyZWFtKHQuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELChmdW5jdGlvbihlKXtlJiZlLmRvbWFpbklkJiYodC5jb3JlLnZvaWNlSWREb21haW5JZD1lLmRvbWFpbklkKX0pKSx0LmFnZW50KChmdW5jdGlvbigpeyhuZXcgdC5Wb2ljZUlkKS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygidm9pY2VJZCBkb21haW5JZCBzdWNjZXNzZnVsbHkgZmV0Y2hlZCBhdCBhZ2VudCBpbml0aWFsaXphdGlvbjogIitlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInZvaWNlSWQgZG9tYWluSWQgbm90IGZldGNoZWQgYXQgYWdlbnQgaW5pdGlhbGl6YXRpb24iKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSksdC5jb3JlLmdldE5vdGlmaWNhdGlvbk1hbmFnZXIoKS5yZXF1ZXN0UGVybWlzc2lvbigpLG0ub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RJU0FTVEVSX1JFQ09WRVJZLChmdW5jdGlvbihlKXt0LmNvcmUuaW5pdERpc2FzdGVyUmVjb3ZlcnkoZSl9KSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIEFQSSBzaGFyZWQgd29ya2VyLCB3ZSdyZSBkZWFkISIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19fSx0LmNvcmUuX3NldFRhYklkPWZ1bmN0aW9uKCl7dHJ5e3QuY29yZS50YWJJZD13aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5UQUJfSUQpLHQuY29yZS50YWJJZHx8KHQuY29yZS50YWJJZD10LnJhbmRvbUlkKCksd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuVEFCX0lELHQuY29yZS50YWJJZCkpLHQuY29yZS51cHN0cmVhbS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuVEFCX0lELHt0YWJJZDp0LmNvcmUudGFiSWR9KX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbVGFiIElkXSBUaGVyZSB3YXMgYW4gaXNzdWUgc2V0dGluZyB0aGUgdGFiIElkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLnNldHVwQXV0aGVudGljYXRpb25FdmVudEhhbmRsZXJzPWZ1bmN0aW9uKGUsbixvKXt2YXIgaTt0LmNvcmUubG9naW5BY2tUaW1lb3V0U3ViPXQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5hdXRoZW50aWNhdGUoZSxuLG8pfSkpLG51bGwhPT0oaT1lLmxvZ2luT3B0aW9ucykmJnZvaWQgMCE9PWkmJmkuZGlzYWJsZUF1dGhQb3B1cEFmdGVyTG9nb3V0fHwodC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS53YXJuKCJURVJNSU5BVEVEIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBpPWUuY2NwQWNrVGltZW91dHx8cjtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5hdXRoZW50aWNhdGUoZSxuLG8pfSksaSl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFVVEhfRkFJTCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgaT1lLmNjcEFja1RpbWVvdXR8fHI7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuYXV0aGVudGljYXRlKGUsbixvKX0pLGkpfSkpKX0sdC5jb3JlLmluaXRDQ1A9ZnVuY3Rpb24obyxpKXt2YXIgYSxjO2lmKHQuY29yZS5jaGVja05vdEluaXRpYWxpemVkKCksIXQuY29yZS5pbml0aWFsaXplZCl7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHU9RGF0ZS5ub3coKTt0cnl7aWYodC5jb3JlLl9nZXRDQ1BJZnJhbWUoKSlyZXR1cm4gdm9pZCB0LmdldExvZygpLmVycm9yKCJBdHRlbXB0ZWQgdG8gY2FsbCBpbml0Q0NQIHdoZW4gYW4gaWZyYW1lIGdlbmVyYXRlZCBieSBpbml0Q0NQIGFscmVhZHkgZXhpc3RzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGlsZSBjaGVja2luZyBpZiBpbml0Q0NQIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXZhciBsPXt9LHA9dm9pZCAwLGQ9dm9pZCAwO2lmKCJzdHJpbmciPT10eXBlb2YgaT9sLmNjcFVybD1pOigobD1pKS5wcm92aWRlciYmKHA9bC5wcm92aWRlcixkZWxldGUgbC5wcm92aWRlciksbC5wbHVnaW5zJiYoZD1sLnBsdWdpbnMsZGVsZXRlIGwucGx1Z2lucykpLHQuaW5pdENDUFBhcmFtcz1sLHQuY29udGFpbmVyRGl2PW8sdC5hc3NlcnROb3ROdWxsKG8sImNvbnRhaW5lckRpdiIpLHQuYXNzZXJ0Tm90TnVsbChsLmNjcFVybCwicGFyYW1zLmNjcFVybCIpLHApdHJ5e3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT17cHJvdmlkZXI6cCxpc1N0cmVhbXNQcm92aWRlcjohMX0sdC5nZXRMb2coKS5pbmZvKCJVc2luZyBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZCxwcm92aWRlclR5cGU6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLmNvbnN0cnVjdG9yLm5hbWV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIHdoZW4gc2V0dGluZyB1cCBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSB0cnl7dmFyIGgsZixtPW4oMjc1KSx5PW0uQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlLEU9bS5BbWF6b25Db25uZWN0R1JTdHJlYW1zU2l0ZSxDPW5ldyBVUkwobC5jY3BVcmwpLm9yaWdpbjtpZighMD09PShudWxsPT09KGg9bCl8fHZvaWQgMD09PWg/dm9pZCAwOmguZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSkmJm51bGwhPT0oZj1sKSYmdm9pZCAwIT09ZiYmZi5zZWNvbmRhcnlDQ1BVcmwpe3ZhciBJPXtwcmltYXJ5SW5zdGFuY2VVcmw6QyxzZWNvbmRhcnlJbnN0YW5jZVVybDpuZXcgVVJMKGwuc2Vjb25kYXJ5Q0NQVXJsKS5vcmlnaW59O3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT1zKHMoe30sRS5pbml0KEkpKSx7fSx7aXNTdHJlYW1zUHJvdmlkZXI6ITAsaXNBQ0dSRW5hYmxlZDohMH0pLHQuZ2V0TG9nKCkuaW5mbygiW0dSXSBDcmVhdGVkIEFtYXpvbkNvbm5lY3RHUlN0cmVhbXNTaXRlIikud2l0aE9iamVjdCh7cHJvdmlkZXJJZDp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuaWR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2UgST17aW5zdGFuY2VVcmw6Q30sdC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhPXMocyh7fSx5LmluaXQoSSkpLHt9LHtpc1N0cmVhbXNQcm92aWRlcjohMH0pLHQuZ2V0TG9nKCkuaW5mbygiQ3JlYXRlZCBBbWF6b25Db25uZWN0U3RyZWFtc1NpdGUiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHVwIEFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pZihkKXRyeXsoZD1BcnJheS5pc0FycmF5KGQpP2Q6W2RdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQoZSl9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyKSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHBsdWdpbnMgZm9yIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXQuY29yZS5pZnJhbWVTdHlsZT1sLnN0eWxlfHwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiLG51bGwhPT0oYT1sLnNvZnRwaG9uZSkmJnZvaWQgMCE9PWEmJmEuZGlzYWJsZVN0b3JpbmdQYXJhbXNJbkxvY2FsU3RvcmFnZXx8KFQuY2xlYW4oKSx3LmNsZWFuKCkpO3ZhciBBLF8sTCxPLGs9bnVsbDtpZighMD09PShudWxsPT09KGM9bCl8fHZvaWQgMD09PWM/dm9pZCAwOmMuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSkpaWYoInN0cmluZyIhPXR5cGVvZihudWxsPT09KEE9bCl8fHZvaWQgMD09PUE/dm9pZCAwOkEuc2Vjb25kYXJ5Q0NQVXJsKXx8IiI9PT0obnVsbD09PShfPWwpfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLnNlY29uZGFyeUNDUFVybCkpe3ZhciBOPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBzZWNvbmRhcnlDQ1BVcmwgd2FzIG5vdCBwcm92aWRlZC4gR2xvYmFsIFJlc2lsaWVuY3kgd2lsbCBub3QgYmUgZW5hYmxlZCI7dC5nZXRMb2coKS5lcnJvcihOKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGs9e2V2ZW50OnQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfRVJST1IsZGF0YTpuZXcgRXJyb3IoTil9fWVsc2V7aWYoInN0cmluZyI9PXR5cGVvZihudWxsPT09KEw9bCl8fHZvaWQgMD09PUw/dm9pZCAwOkwubG9naW5VcmwpJiYiIiE9PShudWxsPT09KE89bCl8fHZvaWQgMD09PU8/dm9pZCAwOk8ubG9naW5VcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCBhbmQgc2Vjb25kYXJ5Q0NQVXJsIGFuZCBsb2dpblVybCB3YXMgcHJvdmlkZWQuIEdsb2JhbCBSZXNpbGllbmN5IHdpbGwgYmUgZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nbG9iYWxSZXNpbGllbmN5LmluaXRHUkNDUChvLGkpO3ZhciBNPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBsb2dpblVybCB3YXMgbm90IHByb3ZpZGVkLiBHbG9iYWwgUmVzaWxpZW5jeSB3aWxsIG5vdCBiZSBlbmFibGVkIjt0LmdldExvZygpLmVycm9yKE0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaz17ZXZlbnQ6dC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixkYXRhOm5ldyBFcnJvcihNKX19dC5zdG9yYWdlQWNjZXNzLmluaXQobC5jY3BVcmwsbyxsLnN0b3JhZ2VBY2Nlc3N8fHt9KTt2YXIgVT10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShvLGwpLEY9bmV3IHQuSUZyYW1lQ29uZHVpdChsLmNjcFVybCx3aW5kb3csVSk7dC5jb3JlLnVwc3RyZWFtPUYsdC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpP3Quc3RvcmFnZUFjY2Vzcy5zZXR1cFJlcXVlc3RIYW5kbGVycyh7b25HcmFudDpqfSk6aigpfWZ1bmN0aW9uIGooKXt0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IHgodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KGwpLHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoVSxGKSx0LmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IEQsRi5vbkFsbFVwc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlcj1uZXcgUChGLHQuY29yZS5nZXRFdmVudEJ1cygpLGwuY2NwU3luVGltZW91dHx8MWUzLGwuY2NwQWNrVGltZW91dHx8ciksdC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0PW51bGwsdC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCksdC5nZXRMb2coKS5pbmZvKCJDQ1AgTG9hZFRpbWVvdXQgdHJpZ2dlcmVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLGwuY2NwTG9hZFRpbWVvdXR8fDVlMyksRi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXt2YXIgcjt0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ0NQISIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRDbGllbnQoRiksdC5jb3JlLm1hc3RlckNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoRiksdC5jb3JlLnBvcnRTdHJlYW1JZD1uLmlkLHQuY29yZS5sb2dpbkFja1RpbWVvdXRTdWImJm51bGwhPT0ocj1sLmxvZ2luT3B0aW9ucykmJnZvaWQgMCE9PXImJnIuZGlzYWJsZUF1dGhQb3B1cEFmdGVyTG9nb3V0JiYodC5jb3JlLmxvZ2luQWNrVGltZW91dFN1Yi51bnN1YnNjcmliZSgpLHQuY29yZS5sb2dpbkFja1RpbWVvdXRTdWI9bnVsbCx0LmdldExvZygpLmluZm8oIkFDS19USU1FT1VUIHN1YnNjcmlwdGlvbiB1bnN1YnNjcmliZWQgYWZ0ZXIgcmVjZWl2aW5nIEFDS05PV0xFREdFIGR1ZSB0byBkaXNhYmxlQXV0aFBvcHVwQWZ0ZXJMb2dvdXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSx0LmNvcmUuc2VuZENvbmZpZ3VyZShsLEYsITEpLHQuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0KGwsRiwhMSksbC5kaXNhc3RlclJlY292ZXJ5T24mJih0LmNvcmUucmVnaW9uPWwucmVnaW9uLHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzPVIsdC5jb3JlLmZvcmNlT2ZmbGluZT1mdW5jdGlvbihlKXtGLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU0VUX09GRkxJTkUsZSl9LEYuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RJU0FTVEVSX1JFQ09WRVJZLGwpKSx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSYmKGUuY2xlYXJUaW1lb3V0KHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlKSx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsKSxGLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8se3N0cmVhbXNWZXJzaW9uOnQudmVyc2lvbn0pO3ZhciBvPShsLmxvZ2luT3B0aW9uc3x8e30pLmVuYWJsZUFja1RpbWVvdXQ7aWYobyYmdC5jb3JlLmtlZXBhbGl2ZU1hbmFnZXIuZW5hYmxlQWNrVGltZW91dChvKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHRoaXMudW5zdWJzY3JpYmUoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5JTklUKSxrJiZ0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKGsuZXZlbnQsay5kYXRhKSx1KXt2YXIgaT1EYXRlLm5vdygpLXUsYT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KGkpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoYSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZyxkYXRhOntjb3VudDphfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpiLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50Oml9fSksbC5kaXNhc3RlclJlY292ZXJ5T24mJih0LnB1Ymxpc2hNZXRyaWMoe25hbWU6dixkYXRhOntjb3VudDphfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpTLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWVEciIsZGF0YTp7Y291bnQ6aX19KSksdT1udWxsfSksMWUzKX19KSksRi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5zZXR1cEF1dGhlbnRpY2F0aW9uRXZlbnRIYW5kbGVycyhsLG8sRiksbC5vblZpZXdDb250YWN0JiZ0LmNvcmUub25WaWV3Q29udGFjdChsLm9uVmlld0NvbnRhY3QpLEYub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLEYub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oKXtpZih1KXt2YXIgZT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTt0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLXUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOmcsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6YixkYXRhOntjb3VudDowfX0pLGwuZGlzYXN0ZXJSZWNvdmVyeU9uJiYodC5wdWJsaXNoTWV0cmljKHtuYW1lOnYsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6UyxkYXRhOntjb3VudDowfX0pKSx1PW51bGx9fSkpLHQuY29yZS5zb2Z0cGhvbmVQYXJhbXM9bC5zb2Z0cGhvbmV9fSx0LmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrPWZ1bmN0aW9uKGUsbil7dmFyIHI9ImNvbm5lY3QtbG9naW4tcG9wdXAtbG9jayIrZTt0cnl7bmF2aWdhdG9yLmxvY2tzLnJlcXVlc3Qocix7bW9kZToiZXhjbHVzaXZlIixpZkF2YWlsYWJsZTohMH0sZnVuY3Rpb24oKXt2YXIgcixhPShyPW8oKS5tYXJrKChmdW5jdGlvbiByKGkpe3ZhciBhO3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6aWYoaSl7ci5uZXh0PTM7YnJlYWt9cmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiUG9wdXAgYWxyZWFkeSBvcGVuZWQgYnkgYW5vdGhlciB0YWIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmFicnVwdCgicmV0dXJuIik7Y2FzZSAzOnQuZ2V0TG9nKCkuaW5mbygiT3BlbmluZyBwb3B1cCB3aW5kb3cgd2l0aCB3ZWJsb2NrLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmxvZ2luV2luZG93PXQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5vcGVuKGUsdC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVAsbiksdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrPSEwLGE9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIGU7KCF0LmNvcmUubG9naW5XaW5kb3d8fG51bGwhPT0oZT10LmNvcmUubG9naW5XaW5kb3cpJiZ2b2lkIDAhPT1lJiZlLmNsb3NlZCkmJihjbGVhckludGVydmFsKGEpLHQuY29yZS5fc2hvdWxkSG9sZFBvcHVwTG9jaz0hMSx0LmdldExvZygpLmluZm8oIkNsZWFyZWQgY2hlY2sgcG9wdXAgaW50ZXJ2YWwuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSwxZTMpO2Nhc2UgNzppZighdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrKXtyLm5leHQ9MTI7YnJlYWt9cmV0dXJuIHIubmV4dD0xMCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSwxZTMpfSkpO2Nhc2UgMTA6ci5uZXh0PTc7YnJlYWs7Y2FzZSAxMjp0LmdldExvZygpLmluZm8oIlJlbGVhc2luZyB3ZWJsb2NrIGZvciBvcGVuaW5nIGxvZ2luIHBvcHVwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sbyl7dmFyIGE9ci5hcHBseShlLHQpO2Z1bmN0aW9uIHMoZSl7aShhLG4sbyxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7aShhLG4sbyxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9Y2F0Y2gocil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIHVzZSB3ZWJsb2NrIHRvIG9wZW4gcG9wdXAuIFlvdXIgYnJvd3NlciBtYXkgYmUgb3V0IG9mIGRhdGUuIikud2l0aEV4Y2VwdGlvbihyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5sb2dpbldpbmRvd3x8KHQuY29yZS5sb2dpbldpbmRvdz10LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkub3BlbihlLHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQLG4pKX19LHQuY29yZS5vbklmcmFtZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JRlJBTUVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dD1mdW5jdGlvbihuLHIsbyxpKXt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChyLCJjb250YWluZXJEaXYiKTt2YXIgYT1vfHx0LmNvcmUscz1uLmNjcExvYWRUaW1lb3V0P24uY2NwTG9hZFRpbWVvdXQ6bi5kaXNhc3RlclJlY292ZXJ5T24/MWU0OjVlMztlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxhLmlmcmFtZVJlZnJlc2hUaW1lb3V0PWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmlmcmFtZVJlZnJlc2hBdHRlbXB0PShhLmlmcmFtZVJlZnJlc2hBdHRlbXB0fHwwKSsxLGEuaWZyYW1lUmVmcmVzaEF0dGVtcHQ8PTEwPyh0LmdldExvZygpLmluZm8oIlJlZnJlc2hpbmcgdGhlIENDUCBJRnJhbWUgZm9yICIuY29uY2F0KG4uY2NwVXJsLCIgb24gYXR0ZW1wdCAiKS5jb25jYXQoYS5pZnJhbWVSZWZyZXNoQXR0ZW1wdCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lKHIsbixpKSx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQobixyLG8saSkpOih0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCxpKSxlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSl9KSxzKX0sdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixyKXt0cnl7dmFyIG89dC5jb3JlLl9nZXRDQ1BJZnJhbWUociksaT1udWxsO28mJihpPW8uc3R5bGUsby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKTt2YXIgYT10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4scik7aSYmKGEuc3R5bGU9aS5jc3NUZXh0KSx0LmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2YgdC5HUlByb3h5SWZyYW1lQ29uZHVpdD90LmNvcmUudXBzdHJlYW0uZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlmcmFtZS5kYXRhc2V0LmlkZW50aWZpZXI9PT1yJiYoZS51cHN0cmVhbS5vdXRwdXQ9YS5jb250ZW50V2luZG93LGUuaWZyYW1lPWEpfSkpOnQuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtLm91dHB1dD1hLmNvbnRlbnRXaW5kb3csdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShhLHQuY29yZS51cHN0cmVhbSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgZm9yLCBhbmQgcmVjcmVhdGluZywgdGhlIENDUCBJRnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX2dldENDUElmcmFtZT1mdW5jdGlvbihlKXt2YXIgdCxuPXUod2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSk7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXt2YXIgcixvPXQudmFsdWU7aWYoby5uYW1lPT09YSYmKCFlfHwobnVsbD09PShyPW8uZGF0YXNldCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWRlbnRpZmllcik9PT1lKSlyZXR1cm4gb319Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG51bGx9LHQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixyKXt2YXIgbzt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChlLCJjb250YWluZXJEaXYiKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtpZihpLnNyYz1uLmNjcFVybCxpLmFsbG93PSJtaWNyb3Bob25lOyBjYW1lcmE7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGlkZW50aXR5LWNyZWRlbnRpYWxzLWdldCIsaS5zdHlsZT1uLnN0eWxlfHx0LmNvcmUuaWZyYW1lU3R5bGUsaS50aXRsZT1uLmlmcmFtZVRpdGxlfHxhLGkubmFtZT1hLHImJihpLmRhdGFzZXQuaWRlbnRpZmllcj1yKSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpJiYoaS5zcmM9dC5zdG9yYWdlQWNjZXNzLmdldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsKCksaS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0LnN0b3JhZ2VBY2Nlc3MucmVxdWVzdCkpLG51bGwhPT0obz10LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpJiZ2b2lkIDAhPT1vJiZvLmlzU3RyZWFtc1Byb3ZpZGVyKXRyeXt2YXIgcztudWxsIT09KHM9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKSYmdm9pZCAwIT09cyYmcy5pc0FDR1JFbmFibGVkP3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5zZXRDQ1BJZnJhbWUoe2lmcmFtZTppLHJlZ2lvbjpuLmdsb2JhbFJlc2lsaWVuY3lSZWdpb259KTp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuc2V0Q0NQSWZyYW1lKGkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoZW4gc2V0dGluZyBDQ1AgaWZyYW1lIHRvIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiBlLmFwcGVuZENoaWxkKGkpLGl9LHQuY29yZS5faGlkZUlmcmFtZT1mdW5jdGlvbihlKXtlLnN0eWxlPXQuY29yZS5pZnJhbWVTdHlsZSsiZGlzcGxheTogbm9uZTsifSx0LmNvcmUuX3Nob3dJZnJhbWU9ZnVuY3Rpb24oZSl7ZS5zdHlsZT10LmNvcmUuaWZyYW1lU3R5bGV9LHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWU9ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwiaWZyYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImNvbmR1aXQiKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciByPXtkaXNwbGF5OndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZGlzcGxheSxvZmZzZXRXaWR0aDplLm9mZnNldFdpZHRoLG9mZnNldEhlaWdodDplLm9mZnNldEhlaWdodCxjbGllbnRSZWN0c0xlbmd0aDplLmdldENsaWVudFJlY3RzKCkubGVuZ3RofTtuLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5JRlJBTUVfU1RZTEUscil9KSwxZTQpfSx0LmNvcmUucmVhdXRoZW50aWNhdGVBZnRlckxvZ291dD1mdW5jdGlvbigpe3ZhciBlO2lmKCF0LmluaXRDQ1BQYXJhbXN8fCF0LmNvbnRhaW5lckRpdnx8IXQuY29yZS51cHN0cmVhbSl0aHJvdyB0LmdldExvZygpLmVycm9yKCJDYW5ub3QgcmVmcmVzaCBDQ1AsIG1pc3NpbmcgaW5pdENDUFBhcmFtcywgY29udGFpbmVyIGRpdiwgYW5kIG9yIHVwc3RyZWFtIikud2l0aE9iamVjdCh7aW5pdENDUFBhcmFtczp0LmluaXRDQ1BQYXJhbXMsY29udGFpbmVyRGl2OnQuY29udGFpbmVyRGl2LHVwc3RyZWFtOnQuY29yZS51cHN0cmVhbX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKCJNaXNzaW5nIHBhcmFtZXRlcnMgdG8gcmVmcmVzaCBDQ1AgaWZyYW1lIik7aWYobnVsbCE9PShlPXQuaW5pdENDUFBhcmFtcykmJnZvaWQgMCE9PWUmJmUuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSl0aHJvdyB0LmdldExvZygpLmVycm9yKCJSZWZyZXNoIENDUCBkb2VzIG5vdCBzdXBwb3J0IEFDR1IgYXQgdGhlIG1vbWVudCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKCJOb3Qgc3VwcG9ydGVkIGluIEFDR1IgaW5zdGFuY2UiKTt0LmNvcmUuYXV0aGVudGljYXRlKHQuaW5pdENDUFBhcmFtcyx0LmNvbnRhaW5lckRpdix0LmNvcmUudXBzdHJlYW0pfSx0LmNvcmUuYXV0aGVudGljYXRlPWZ1bmN0aW9uKG4scixvKXtpZighMSE9PW4ubG9naW5Qb3B1cCl0cnl7dmFyIGk9ZnVuY3Rpb24obil7dmFyIHI9Imh0dHBzOi8vbGlseS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS90YXcvYXV0aC9jb2RlIjtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKHIpLG4ubG9naW5Vcmw/bi5sb2dpblVybDpuLmFsaWFzPyhsb2cud2FybigiVGhlIGBhbGlhc2AgcGFyYW0gaXMgZGVwcmVjYXRlZCBhbmQgc2hvdWxkIG5vdCBiZSBleHBlY3RlZCB0byBmdW5jdGlvbiBwcm9wZXJseS4gUGxlYXNlIHVzZSBgY2NwVXJsYCBvciBgbG9naW5VcmxgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FtYXpvbi1jb25uZWN0L2FtYXpvbi1jb25uZWN0LXN0cmVhbXMvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kI2Nvbm5lY3Rjb3JlaW5pdGNjcCBmb3IgdmFsaWQgcGFyYW1ldGVycy4iKSxjLnJlcGxhY2UoInthbGlhc30iLG4uYWxpYXMpLnJlcGxhY2UoIntjbGllbnRfaWR9IixsKS5yZXBsYWNlKCJ7cmVkaXJlY3R9IixlLmVuY29kZVVSSUNvbXBvbmVudChyKSkpOm4uY2NwVXJsfShuKTt0LmdldExvZygpLndhcm4oIkF0dGVtcHRpbmcgdG8gcG9wIHRoZSBsb2dpbiBwYWdlIGlmIG5vdCBhbHJlYWR5IG9wZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmxvZ2luVXJsJiZ0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIodC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLHQuY29yZS5fb3BlblBvcHVwV2l0aExvY2soaSxuLmxvZ2luT3B0aW9ucyl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiVW5hYmxlIHRvIG9wZW4gdGhlIGxvZ2luIHBvcHVwLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pZihudWxsPT10LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e28ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksZS5jbGVhclRpbWVvdXQodC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSx0LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCx0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIodC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChuLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fG4ubG9naW5PcHRpb25zJiZuLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZ0LmNvcmUubG9naW5XaW5kb3cmJih0LmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSx0LmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSksdC5jb3JlLmlmcmFtZVJlZnJlc2hBdHRlbXB0PTAsdC5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KG4scil9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVyIGlzIG5vdCBpbml0aWFsaXplZCIpO3JldHVybntwcm92aWRlcjpudWxsPT09KGU9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm92aWRlcn19O3ZhciBQPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29uZHVpdD1lLHRoaXMuZXZlbnRCdXM9dCx0aGlzLnN5blRpbWVvdXQ9bix0aGlzLmFja1RpbWVvdXQ9cix0aGlzLmFja1RpbWVyPW51bGwsdGhpcy5zeW5UaW1lcj1udWxsLHRoaXMuYWNrU3ViPW51bGwsdGhpcy5fZW5hYmxlQWNrVGltZW91dD0hMX07UC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuY29uZHVpdC5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuU1lOQ0hST05JWkUpLHRoaXMuYWNrU3ViPXRoaXMuY29uZHVpdC5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbigpe3RoaXMudW5zdWJzY3JpYmUoKSxlLmNsZWFyVGltZW91dChuLmFja1RpbWVyKSxuLl9kZWZlclN0YXJ0KCl9KSksdGhpcy5hY2tUaW1lcj1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5hY2tTdWIudW5zdWJzY3JpYmUoKSx0LmlzQWN0aXZlQ29uZHVpdChuLmNvbmR1aXQpJiZuLl9lbmFibGVBY2tUaW1lb3V0Pyh0LmdldExvZygpLmluZm8oIkFDS19USU1FT1VUIGV2ZW50IGlzIGRldGVjdGVkIGZyb20gdGhlIEtlZXBhbGl2ZU1hbmFnZXIuICIuY29uY2F0KG4uY29uZHVpdC5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmV2ZW50QnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQpKTpuLl9lbmFibGVBY2tUaW1lb3V0JiZ0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIGV2ZW50IGlzIGRldGVjdGVkIGZyb20gdGhlIEtlZXBhbGl2ZU1hbmFnZXIgYnV0IHN1cHByZXNzZWQgYXMgaXQgaXMgZnJvbSBhbiBpbmFjdGl2ZSByZWdpb24uICIuY29uY2F0KG4uY29uZHVpdC5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLl9kZWZlclN0YXJ0KCl9KSx0aGlzLmFja1RpbWVvdXQpfSxQLnByb3RvdHlwZS5fZGVmZXJTdGFydD1mdW5jdGlvbigpe3RoaXMuc3luVGltZXI9ZS5zZXRUaW1lb3V0KHQuaGl0Y2godGhpcyx0aGlzLnN0YXJ0KSx0aGlzLnN5blRpbWVvdXQpfSxQLnByb3RvdHlwZS5kZWZlclN0YXJ0PWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5zeW5UaW1lciYmKHRoaXMuc3luVGltZXI9ZS5zZXRUaW1lb3V0KHQuaGl0Y2godGhpcyx0aGlzLnN0YXJ0KSx0aGlzLnN5blRpbWVvdXQpKX0sUC5wcm90b3R5cGUuZW5hYmxlQWNrVGltZW91dD1mdW5jdGlvbihlKXt0aGlzLl9lbmFibGVBY2tUaW1lb3V0PWV9O3ZhciBEPWZ1bmN0aW9uKCl7dmFyIGU9e2luaXRGYWlsdXJlOm5ldyBTZXQsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0LGRlZXBIZWFydGJlYXRTdWNjZXNzOm5ldyBTZXQsZGVlcEhlYXJ0YmVhdEZhaWx1cmU6bmV3IFNldCx0b3BpY0ZhaWx1cmU6bmV3IFNldH0sbj1mdW5jdGlvbihlLHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSh0KX0pKX07dC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkUsKGZ1bmN0aW9uKCl7bihlLmluaXRGYWlsdXJlKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fT1BFTiwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25PcGVuLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9DTE9TRSwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25DbG9zZSx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fR0FJTiwoZnVuY3Rpb24oKXtuKGUuY29ubmVjdGlvbkdhaW4pfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9MT1NULChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbkxvc3QsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fVVBEQVRFLChmdW5jdGlvbih0KXtuKGUuc3Vic2NyaXB0aW9uVXBkYXRlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX0ZBSUxVUkUsKGZ1bmN0aW9uKHQpe24oZS5zdWJzY3JpcHRpb25GYWlsdXJlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQUxMX01FU1NBR0UsKGZ1bmN0aW9uKHQpe24oZS5hbGxNZXNzYWdlLHQpLGUudG9waWMuaGFzKHQudG9waWMpJiZuKGUudG9waWMuZ2V0KHQudG9waWMpLHQpfSkpLHRoaXMuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNFTkQsZSl9LHRoaXMub25Jbml0RmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuaW5pdEZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5pdEZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25PcGVuPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uT3Blbi5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uT3Blbi5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbkNsb3NlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uQ2xvc2UuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkNsb3NlLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uR2Fpbj1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuY29ubmVjdGlvbkdhaW4uYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkdhaW4uZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uTG9zdC5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uTG9zdC5kZWxldGUobil9fSx0aGlzLm9uU3Vic2NyaXB0aW9uVXBkYXRlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5zdWJzY3JpcHRpb25VcGRhdGUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3Vic2NyaXB0aW9uVXBkYXRlLmRlbGV0ZShuKX19LHRoaXMub25TdWJzY3JpcHRpb25GYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5zdWJzY3JpcHRpb25GYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnN1YnNjcmlwdGlvbkZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5zdWJzY3JpYmVUb3BpY3M9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInRvcGljcyIpLHQuYXNzZXJ0VHJ1ZSh0LmlzQXJyYXkoZSksInRvcGljcyBtdXN0IGJlIGEgYXJyYXkiKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSUJFLGUpfSx0aGlzLm9uTWVzc2FnZT1mdW5jdGlvbihuLHIpe3JldHVybiB0LmFzc2VydE5vdE51bGwobiwidG9waWNOYW1lIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihyKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUudG9waWMuaGFzKG4pP2UudG9waWMuZ2V0KG4pLmFkZChyKTplLnRvcGljLnNldChuLG5ldyBTZXQoW3JdKSksZnVuY3Rpb24oKXtyZXR1cm4gZS50b3BpYy5nZXQobikuZGVsZXRlKHIpfX0sdGhpcy5vbkFsbE1lc3NhZ2U9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmFsbE1lc3NhZ2UuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWxsTWVzc2FnZS5kZWxldGUobil9fSx0aGlzLm9uRGVlcEhlYXJ0YmVhdFN1Y2Nlc3M9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmRlZXBIZWFydGJlYXRTdWNjZXNzLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmRlZXBIZWFydGJlYXRTdWNjZXNzLmRlbGV0ZShuKX19LHRoaXMub25EZWVwSGVhcnRiZWF0RmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuZGVlcEhlYXJ0YmVhdEZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVlcEhlYXJ0YmVhdEZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5vblRvcGljRmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUudG9waWNGYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnRvcGljRmFpbHVyZS5kZWxldGUobil9fX07dC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0PWZ1bmN0aW9uKGUpe3RyeXt0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIFJlbW92aW5nIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh7Y29udGFjdElkOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5kZWxldGUoZSksdC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBSZW1vdmVkIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh0LmNvcmUuZW5kZWRFdmVudFRyYWNrZXIuZW50cmllcygpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKG4pe3QuZ2V0TG9nKCkuZXJyb3IoIltDb250YWN0RXZlbnRdIEZhaWxlZCB0byByZW1vdmUgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZXx8InVua25vd24ifSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLl9oYW5kbGVFbmRlZEV2ZW50PWZ1bmN0aW9uKGUsbil7dHJ5e3QuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5oYXMoZSkmJkMuaW5jbHVkZXMobikmJih0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIEVOREVEIHdhcyB0cmlnZ2VyZWQiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0KGUpKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbQ29udGFjdEV2ZW50XSBGYWlsZWQgdG8gaGFuZGxlIHByb3BlciBFTkRFRCBldmVudCBiZWluZyB0cmlnZ2VyZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX3Nob3VsZFRyaWdnZXJJbnZhbGlkU3RhdGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGUpe2lmKHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5oYXMoZS5jb250YWN0SWQpKXRyeXtyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBDb250YWN0IGRpZCBub3QgdHJhbnNpdGlvbiB0byB0aGUgRU5ERUQgc3RhdGUgcHJpb3IgdG8gREVTVFJPWUVEIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5fcmVtb3ZlQ29udGFjdEZyb21FbmRlZFNldChlLmNvbnRhY3RJZCksITB9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW0NvbnRhY3RFdmVudF0gRmFpbGVkIHRvIGhhbmRsZSBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZXJyb3IgaGFuZGxpbmciKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuITF9LHQuY29yZS5nZXRMaWx5QWdlbnRDb25maWc9ZnVuY3Rpb24oKXt2YXIgZT10Ll9nZXRDb29raWUoImxpbHktYWdlbnQtY29uZmlnIik7aWYoIWV8fCIiPT09ZSlyZXR1cm4gdC5nZXRMb2coKS5kZWJ1ZygiW0dSXSBsaWx5QWdlbnRDb25maWcgQ29va2llIHdhcyBub3QgZm91bmQuIE5vIGZ1cnRoZXIgYWN0aW9uIHdpbGwgYmUgdGFrZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxudWxsO3QuZ2V0TG9nKCkuaW5mbygiW0dSXSBsaWx5QWdlbnRDb25maWcgQ29va2llIHdhcyBmb3VuZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49YXRvYihlKSxyPUpTT04ucGFyc2Uobik7aWYodC5faXNFbXB0eShyKSl0aHJvdyBuZXcgRXJyb3IoIltHUl0gTGlseSBhZ2VudCBjb25maWcgb2JqZWN0IHdhcyBlbXB0eSIpO3JldHVybiByfSx0LmNvcmUudmFsaWRhdGVHbG9iYWxTaWduaW49ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJbR1JdIFN0YXJ0aW5nIGdsb2JhbCBzaWduaW4gdmFsaWRhdGlvbiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dHJ5e2lmKCF0LmNvcmUuZ2V0TGlseUFnZW50Q29uZmlnKCkpcmV0dXJuIHQuZ2V0TG9nKCkuZXJyb3IoIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGZhaWxlZCAtIGF1dGhlbnRpY2F0aW9uIG5vdCBmb3VuZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBlLnNlbmREb3duc3RyZWFtKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5HTE9CQUxfU0lHTklOX0lOVkFMSUQse2Vycm9yVHlwZTp0Lkdsb2JhbFJlc2lsaWVuY3lDb25maWd1cmVFcnJvclR5cGUuTElMWV9BR0VOVF9DT05GSUdfTUlTU0lORyxlcnJvcjoiW0dSXSBHbG9iYWwgc2lnbmluIGF1dGhlbnRpY2F0aW9uIG5vdCBmb3VuZCJ9KTt0LmdldExvZygpLmluZm8oIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZW5kRG93bnN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuR0xPQkFMX1NJR05JTl9WQUxJRCx7bWVzc2FnZToiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHkifSl9Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcigiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gZmFpbGVkIC0gZXJyb3IgZHVyaW5nIHZhbGlkYXRpb24iKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZW5kRG93bnN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuR0xPQkFMX1NJR05JTl9JTlZBTElELHtlcnJvclR5cGU6dC5HbG9iYWxSZXNpbGllbmN5Q29uZmlndXJlRXJyb3JUeXBlLkxJTFlfQUdFTlRfQ09ORklHX1BBUlNFX0VSUk9SLGVycm9yOiJbR1JdIEVycm9yIHZhbGlkYXRpbmcgZ2xvYmFsIHNpZ25pbiBhdXRoZW50aWNhdGlvbiJ9KX19LHQuY29yZS5saXN0ZW5Gb3JBY2dyVmFsaWRhdGlvbj1mdW5jdGlvbihlKXt0LmNvcmUuX2FjZ3JWYWxpZGF0aW9uTGlzdGVuZXJSZWdpc3RlcmVkfHwodC5jb3JlLl9hY2dyVmFsaWRhdGlvbkxpc3RlbmVyUmVnaXN0ZXJlZD0hMCxlLm9uRG93bnN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuVkFMSURBVEVfR0xPQkFMX1NJR05JTiwoZnVuY3Rpb24oKXt0LmNvcmUudmFsaWRhdGVHbG9iYWxTaWduaW4oZSl9KSksdC5nZXRMb2coKS5pbmZvKCJbR1JdIEFDR1IgZ2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGxpc3RlbmVyIHJlZ2lzdGVyZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07dmFyIHg9ZnVuY3Rpb24oZSl7dGhpcy5idXM9ZSx0aGlzLmFnZW50VXBkYXRlU3Vic2NyaWJlcj10aGlzLmJ1cy5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5VUERBVEUsdC5oaXRjaCh0aGlzLHRoaXMudXBkYXRlQWdlbnREYXRhKSl9O3gucHJvdG90eXBlLnVwZGF0ZUFnZW50RGF0YT1mdW5jdGlvbihlKXt2YXIgbixyPXRoaXMuYWdlbnREYXRhO3RoaXMuYWdlbnREYXRhPWUsbnVsbCE9PShuPXQuYWdlbnQpJiZ2b2lkIDAhPT1uJiZuLmluaXRpYWxpemVkfHwodC5hZ2VudC5pbml0aWFsaXplZD0hMCx0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuSU5JVCxuZXcgdC5BZ2VudCkpLHRoaXMuYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5SRUZSRVNILG5ldyB0LkFnZW50KSx0aGlzLl9maXJlQWdlbnRVcGRhdGVFdmVudHMocil9LHgucHJvdG90eXBlLmdldEFnZW50RGF0YT1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuYWdlbnREYXRhKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIk5vIGFnZW50IGRhdGEgaXMgYXZhaWxhYmxlIHlldCEiKTtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LHgucHJvdG90eXBlLmdldENvbnRhY3REYXRhPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuZ2V0QWdlbnREYXRhKCkscj10LmZpbmQobi5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29udGFjdElkPT09ZX0pKTtpZihudWxsPT1yKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLGUpO3JldHVybiByfSx4LnByb3RvdHlwZS5nZXRDb25uZWN0aW9uRGF0YT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuZ2V0Q29udGFjdERhdGEoZSksbz10LmZpbmQoci5jb25uZWN0aW9ucywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29ubmVjdGlvbklkPT09bn0pKTtpZihudWxsPT1vKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbm5lY3Rpb24gJXMgZm9yIGNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLG4sZSk7cmV0dXJuIG99LHgucHJvdG90eXBlLmdldEluc3RhbmNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBZ2VudERhdGEoKS5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQubWF0Y2goL2luc3RhbmNlXC8oWzAtOWEtZkEtRnwtXSspXC8vKVsxXX0seC5wcm90b3R5cGUuZ2V0QVdTQWNjb3VudElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWdlbnREYXRhKCkuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkLm1hdGNoKC86KFswLTldKyk6aW5zdGFuY2UvKVsxXX0seC5wcm90b3R5cGUuX2RpZmZDb250YWN0cz1mdW5jdGlvbihlKXt2YXIgbj17YWRkZWQ6e30scmVtb3ZlZDp7fSxjb21tb246e30sb2xkTWFwOnQuaW5kZXgobnVsbD09ZT9bXTplLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSksbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOjB9O3JldHVybiB0LmtleXMobi5vbGRNYXApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29udGFpbnMobi5uZXdNYXAsZSk/bi5jb21tb25bZV09bi5uZXdNYXBbZV06bi5yZW1vdmVkW2VdPW4ub2xkTWFwW2VdfSkpLHQua2V5cyhuLm5ld01hcCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5jb250YWlucyhuLm9sZE1hcCxlKXx8KG4uYWRkZWRbZV09bi5uZXdNYXBbZV0pfSkpLG4uZW5kVGltZT1wZXJmb3JtYW5jZS5ub3coKSxufSx4LnByb3RvdHlwZS5fZmlyZUFnZW50VXBkYXRlRXZlbnRzPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj1udWxsLG89bnVsbD09ZT90LkFnZW50QXZhaWxTdGF0ZXMuSU5JVDplLnNuYXBzaG90LnN0YXRlLm5hbWUsaT10aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5zdGF0ZS5uYW1lLGE9bnVsbD09ZT90LkFnZW50U3RhdGVUeXBlLklOSVQ6ZS5zbmFwc2hvdC5zdGF0ZS50eXBlLHM9dGhpcy5hZ2VudERhdGEuc25hcHNob3Quc3RhdGUudHlwZTthIT09cyYmdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxhLHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSksbyE9PWkmJih0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLHthZ2VudDpuZXcgdC5BZ2VudCxvbGRTdGF0ZTpvLG5ld1N0YXRlOml9KSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxvLGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSkpO3ZhciBjPWUmJmUuc25hcHNob3QubmV4dFN0YXRlP2Uuc25hcHNob3QubmV4dFN0YXRlLm5hbWU6bnVsbCx1PXRoaXMuYWdlbnREYXRhLnNuYXBzaG90Lm5leHRTdGF0ZT90aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5uZXh0U3RhdGUubmFtZTpudWxsO2MhPT11JiZ1JiZuLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuRU5RVUVVRURfTkVYVF9TVEFURSxuZXcgdC5BZ2VudCkscj1udWxsIT09ZT90aGlzLl9kaWZmQ29udGFjdHMoZSk6e2FkZGVkOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxyZW1vdmVkOnt9LGNvbW1vbjp7fSxvbGRNYXA6e30sbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOnBlcmZvcm1hbmNlLm5vdygpfSx0LnZhbHVlcyhyLmFkZGVkKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5JTklULG5ldyB0LkNvbnRhY3QoZS5jb250YWN0SWQpKSxuLl9maXJlQ29udGFjdFVwZGF0ZUV2ZW50cyhlLmNvbnRhY3RJZCx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5JVCxlLnN0YXRlLnR5cGUpfSkpLHQudmFsdWVzKHIucmVtb3ZlZCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcih0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELG5ldyB0LkNvbnRhY3RTbmFwc2hvdChlKSksbi5idXMudHJpZ2dlcih0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELGUuY29udGFjdElkKSxuZXcgdC5Db250YWN0U25hcHNob3QoZSkpLG4uX3Vuc3ViQWxsQ29udGFjdEV2ZW50c0ZvckNvbnRhY3QoZS5jb250YWN0SWQpfSkpLHQua2V5cyhyLmNvbW1vbikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHMoZSxyLm9sZE1hcFtlXS5zdGF0ZS50eXBlLHIubmV3TWFwW2VdLnN0YXRlLnR5cGUpfSkpfSx4LnByb3RvdHlwZS5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXM7biE9PXImJnQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaCgpLmdldEFzc29jaWF0aW9ucyh0aGlzLG4scikuZm9yRWFjaCgoZnVuY3Rpb24obil7by5idXMudHJpZ2dlcihuLG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUobixlKSxuZXcgdC5Db250YWN0KGUpKX0pKSxvLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5SRUZSRVNILG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gsZSksbmV3IHQuQ29udGFjdChlKSl9LHgucHJvdG90eXBlLl91bnN1YkFsbENvbnRhY3RFdmVudHNGb3JDb250YWN0PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dC52YWx1ZXModC5Db250YWN0RXZlbnRzKS5mb3JFYWNoKChmdW5jdGlvbihyKXtuLmJ1cy5nZXRTdWJzY3JpcHRpb25zKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHIsZSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS51bnN1YnNjcmliZSgpfSkpfSkpfSx4LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudFVwZGF0ZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKX0sdC5jb3JlLm9uVmlld0NvbnRhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuVklFVyxlKX0sdC5jb3JlLnZpZXdDb250YWN0PWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5WSUVXLGRhdGE6e2NvbnRhY3RJZDplfX0pfSx0LmNvcmUub25BY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZSl9LHQuY29yZS5hY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2YXIgYT17dmlld1R5cGU6ZSxtZWRpYVR5cGU6bn07ciYmKGEuc291cmNlPXIpLG8mJihhLmNhc2VJZD1vKSxhLmNsaWVudFRva2VuPWl8fHQucmFuZG9tSWQoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZGF0YTphfSl9LHQuY29yZS50cmlnZ2VyVGFza0NyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LlRhc2tFdmVudHMuQ1JFQVRFRCxlKX0sdC5jb3JlLnRyaWdnZXJFbWFpbENyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkVtYWlsRXZlbnRzLkNSRUFURUQsZSl9LHQuY29yZS5vbkFjY2Vzc0RlbmllZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFDQ0VTU19ERU5JRUQsZSl9LHQuY29yZS5vbkF1dGhGYWlsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSE9SSVpFX1NVQ0NFU1MsZSl9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbigpe3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCwwKX0sdC5jb3JlLl9oYW5kbGVBdXRoRmFpbD1mdW5jdGlvbihlLG4scil7ciYmci5hdXRob3JpemU/dC5jb3JlLl9oYW5kbGVBdXRob3JpemVGYWlsKGUpOnQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWwobil9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplRmFpbD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50KCk7aWYoIXQuY29yZS5hdXRob3JpemVUaW1lb3V0SWQpaWYobjx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTil7dC5jb3JlLl9pbmNyZW1lbnRBdXRoUmV0cnlDb3VudCgpO3ZhciByPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkobisxfHwwLHtiYXNlOjJlM30pO3QuY29yZS5hdXRob3JpemVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuX3JlZGlyZWN0VG9Mb2dpbihlKX0pLHIpfWVsc2UgdC5nZXRMb2coKS53YXJuKCJXZSBoYXZlIGV4aGF1c3RlZCBvdXIgYXV0aG9yaXphdGlvbiByZXRyaWVzIGR1ZSB0byA0MDFzIGZyb20gdGhlIGF1dGhvcml6ZSBhcGkuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCBpbiB0aGlzIHNlc3Npb24gdW50aWwgdGhlIGF1dGhvcml6ZSBhcGkgcmV0dXJucyAyMDAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LHQuY29yZS5fcmVkaXJlY3RUb0xvZ2luPWZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZT9sb2NhdGlvbi5hc3NpZ24oZSk6bG9jYXRpb24ucmVsb2FkKCl9LHQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWw9ZnVuY3Rpb24oZSl7aWYoIXQuY29yZS5jdGlUaW1lb3V0SWQpaWYodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQpe3QuY29yZS5jdGlBdXRoUmV0cnlDb3VudCsrO3ZhciBuPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50fHwwLHtiYXNlOjUwMH0pO3QuY29yZS5jdGlUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuYXV0aG9yaXplKGUpLnRoZW4odC5jb3JlLl90cmlnZ2VyQXV0aG9yaXplU3VjY2Vzcy5iaW5kKHQuY29yZSkpLmNhdGNoKHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsLmJpbmQodC5jb3JlLHthdXRob3JpemU6ITB9KSksdC5jb3JlLmN0aVRpbWVvdXRJZD1udWxsfSksbil9ZWxzZSB0LmdldExvZygpLndhcm4oIldlIGhhdmUgZXhoYXVzdGVkIG91ciBhdXRob3JpemF0aW9uIHJldHJpZXMgZHVlIHRvIDQwMXMgZnJvbSB0aGUgQ1RJIHNlcnZpY2UuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCB1bnRpbCB0aGUgcGFnZSBpcyByZWZyZXNoZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSx0LmNvcmUuX3RyaWdnZXJBdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkV2ZW50VHlwZS5BVVRIT1JJWkVfU1VDQ0VTUyl9LHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50PWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5UKTtpZihudWxsIT09ZSl7aWYoaXNOYU4ocGFyc2VJbnQoZSkpKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBzZXNzaW9uIHN0b3JhZ2UgdmFsdWUgZm9yIGF1dGggcmV0cnkgY291bnQgd2FzIE5hTiIpO3JldHVybiBwYXJzZUludChlKX1yZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5ULDApLDB9LHQuY29yZS5faW5jcmVtZW50QXV0aFJldHJ5Q291bnQ9ZnVuY3Rpb24oKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5BVVRIT1JJWkVfUkVUUllfQ09VTlQsKHQuY29yZS5fZ2V0QXV0aFJldHJ5Q291bnQoKSsxKS50b1N0cmluZygpKX0sdC5jb3JlLm9uQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCxlKX0sdC5jb3JlLm9uQ1RJQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5vblNvZnRwaG9uZVNlc3Npb25Jbml0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxlKX0sdC5jb3JlLm9uQ29uZmlndXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkNPTkZJR1VSRSxlKX0sdC5jb3JlLm9uSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JTklULGUpfSx0LmNvcmUuc2VuZENvbmZpZ3VyZT1mdW5jdGlvbihlLG4scil7aWYoZS5zb2Z0cGhvbmV8fGUuY2hhdHx8ZS50YXNrfHxlLnBhZ2VPcHRpb25zfHxlLnNob3VsZEFkZE5hbWVzcGFjZVRvTG9nc3x8ZS5kaXNhc3RlclJlY292ZXJ5T24pe3ZhciBvLGk9e3NvZnRwaG9uZTplLnNvZnRwaG9uZSxjaGF0OmUuY2hhdCx0YXNrOmUudGFzayxhdXRvQWNjZXB0VG9uZTplLmF1dG9BY2NlcHRUb25lLHBhZ2VPcHRpb25zOmUucGFnZU9wdGlvbnMsc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzOmUuc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzLHNob3dJbmFjdGl2aXR5TW9kYWw6bnVsbD09PShvPWUucGFnZU9wdGlvbnMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnNob3dJbmFjdGl2aXR5TW9kYWx9O3I/KGkuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeT1lLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3ksaS5pbnN0YW5jZVN0YXRlPXQuaXNBY3RpdmVDb25kdWl0KG4pPyJhY3RpdmUiOiJpbmFjdGl2ZSIpOmkuZGlzYXN0ZXJSZWNvdmVyeU9uPWUuZGlzYXN0ZXJSZWNvdmVyeU9uLG4uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSxpKX19LHQuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0PWZ1bmN0aW9uKGUsbixyKXtuLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuUkVRVUVTVF9DT05GSUdVUkUsKGZ1bmN0aW9uKCl7dC5jb3JlLnNlbmRDb25maWd1cmUoZSxuLHIpfSkpfSx0LmNvcmUuY2hlY2tJZkNvbmZpZ3VyZVJlY2VpdmVkPWZ1bmN0aW9uKG4pe3QuaXNGcmFtZWQoKSYmZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5oYXNSZWNlaXZlZENSTUNvbmZpZ3VyZXx8KHQuZ2V0TG9nKCkud2FybigiQ0NQIGhhcyBub3QgcmVjZWl2ZWQgYSBjb25maWd1cmUgbWVzc2FnZS4gU2VuZGluZyByZXF1ZXN0IHRvIENSTSBmb3IgY29uZmlndXJhdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuUkVRVUVTVF9DT05GSUdVUkUpKX0pLDFlMyl9LHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lPWZ1bmN0aW9uKGUsbil7aWYodC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJjb250YWN0SWQiKSwhdC5jb250YWlucyh0LnZhbHVlcyh0LkNvbnRhY3RFdmVudHMpLGUpKXRocm93IG5ldyB0LlZhbHVlRXJyb3IoIiVzIGlzIG5vdCBhIHZhbGlkIGNvbnRhY3QgZXZlbnQuIixlKTtyZXR1cm4gdC5zcHJpbnRmKCIlczo6JXMiLGUsbil9LHQuY29yZS5nZXRFdmVudEJ1cz1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZXZlbnRCdXN9LHQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS53ZWJTb2NrZXRQcm92aWRlcn0sdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5hZ2VudERhdGFQcm92aWRlcn0sdC5jb3JlLmdldExvY2FsVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFnZW50RGF0YSgpLnNuYXBzaG90LmxvY2FsVGltZXN0YW1wfSx0LmNvcmUuZ2V0U2tldz1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKS5zbmFwc2hvdC5za2V3fSx0LmNvcmUuZ2V0QWdlbnRSb3V0aW5nRXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnRSb3V0aW5nRXZlbnRHcmFwaH0sdC5jb3JlLmFnZW50Um91dGluZ0V2ZW50R3JhcGg9KG5ldyB0LkV2ZW50R3JhcGgpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5BZ2VudFN0YXRlVHlwZS5ST1VUQUJMRSx0LkFnZW50RXZlbnRzLlJPVVRBQkxFKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuTk9UX1JPVVRBQkxFLHQuQWdlbnRFdmVudHMuTk9UX1JPVVRBQkxFKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuT0ZGTElORSx0LkFnZW50RXZlbnRzLk9GRkxJTkUpLHQuY29yZS5nZXRBZ2VudFN0YXRlRXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnRTdGF0ZUV2ZW50R3JhcGh9LHQuY29yZS5hZ2VudFN0YXRlRXZlbnRHcmFwaD0obmV3IHQuRXZlbnRHcmFwaCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LnZhbHVlcyh0LkFnZW50RXJyb3JTdGF0ZXMpLHQuQWdlbnRFdmVudHMuRVJST1IpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5BZ2VudEF2YWlsU3RhdGVzLkFGVEVSX0NBTExfV09SSyx0LkFnZW50RXZlbnRzLkFDVyksdC5jb3JlLmdldENvbnRhY3RFdmVudEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5jb250YWN0RXZlbnRHcmFwaH0sdC5jb3JlLmNvbnRhY3RFdmVudEdyYXBoPShuZXcgdC5FdmVudEdyYXBoKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RFdmVudHMuSU5DT01JTkcpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLlBFTkRJTkcsdC5Db250YWN0RXZlbnRzLlBFTkRJTkcpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRCx0LkNvbnRhY3RFdmVudHMuQ09OTkVDVEVEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLklOQ09NSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5FUlJPUix0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5FTkRFRCx0LkNvbnRhY3RFdmVudHMuQUNXKS5hc3NvYyh0LnZhbHVlcyh0LkNPTlRBQ1RfQUNUSVZFX1NUQVRFUyksdC52YWx1ZXModC5yZWxhdGl2ZUNvbXBsZW1lbnQodC5DT05UQUNUX0FDVElWRV9TVEFURVMsdC5Db250YWN0U3RhdGVUeXBlKSksdC5Db250YWN0RXZlbnRzLkVOREVEKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5FUlJPUix0LkNvbnRhY3RFdmVudHMuRVJST1IpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5NSVNTRUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLklOQ09NSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5NSVNTRUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0U3RhdGVUeXBlLlJFSkVDVEVELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuUkVKRUNURUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCksdC5jb3JlLmdldENsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuY2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IGNvcmUgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUuY2xpZW50fSx0LmNvcmUuY2xpZW50PW51bGwsdC5jb3JlLmdldEFwaVByb3h5Q2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5hcGlQcm94eUNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBhcGlQcm94eSBDbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUuYXBpUHJveHlDbGllbnR9LHQuY29yZS5hcGlQcm94eUNsaWVudD1udWxsLHQuY29yZS5nZXRBZ2VudEFwcENsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuYWdlbnRBcHBDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgQWdlbnRBcHAgQ2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmFnZW50QXBwQ2xpZW50fSx0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0VGFza1RlbXBsYXRlc0NsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBUYXNrVGVtcGxhdGVzIENsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50fSx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1udWxsLHQuY29yZS5nZXRNYXN0ZXJDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLm1hc3RlckNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBtYXN0ZXIgY2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLm1hc3RlckNsaWVudH0sdC5jb3JlLm1hc3RlckNsaWVudD1udWxsLHQuY29yZS5nZXRTb2Z0cGhvbmVNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyfSx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1udWxsLHQuY29yZS5nZXROb3RpZmljYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyfHwodC5jb3JlLm5vdGlmaWNhdGlvbk1hbmFnZXI9bmV3IHQuTm90aWZpY2F0aW9uTWFuYWdlciksdC5jb3JlLm5vdGlmaWNhdGlvbk1hbmFnZXJ9LHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyPW51bGwsdC5jb3JlLmdldFBvcHVwTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUucG9wdXBNYW5hZ2VyfSx0LmNvcmUucG9wdXBNYW5hZ2VyPW5ldyB0LlBvcHVwTWFuYWdlcix0LmNvcmUuZ2V0VXBzdHJlYW09ZnVuY3Rpb24oKXtpZighdC5jb3JlLnVwc3RyZWFtKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZXJlIGlzIG5vIHVwc3RyZWFtIGNvbmR1aXQhIik7cmV0dXJuIHQuY29yZS51cHN0cmVhbX0sdC5jb3JlLnVwc3RyZWFtPW51bGwsdC5nbG9iYWxSZXNpbGllbmN5Lm9uRmFpbG92ZXJQZW5kaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkdfQ1JNLGUpfSx0Lmdsb2JhbFJlc2lsaWVuY3kub25GYWlsb3ZlckNvbXBsZXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSxlKX0sdC5nbG9iYWxSZXNpbGllbmN5Lm9uQ29uZmlndXJlRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0VSUk9SLGUpfSx0Lmdsb2JhbFJlc2lsaWVuY3kuZ2V0QWN0aXZlUmVnaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2xvYmFsUmVzaWxpZW5jeS5fYWN0aXZlUmVnaW9ufSx0Lmdsb2JhbFJlc2lsaWVuY3kuZm9yY2VGYWlsb3Zlcj1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRk9SQ0VfRkFJTE9WRVIpfSx0LmNvcmUuQWdlbnREYXRhUHJvdmlkZXI9eCx0LldlYlNvY2tldFByb3ZpZGVyPUQsdC5LZWVwYWxpdmVNYW5hZ2VyPVB9KCl9LDY4MjooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10O3ZhciBuPSI8PGFsbD4+IixyPXQubWFrZUVudW0oWyJhY2tub3dsZWRnZSIsImFja190aW1lb3V0IiwiaW5pdCIsImFwaV9yZXF1ZXN0IiwiYXBpX3Jlc3BvbnNlIiwiYXV0aF9mYWlsIiwiYWNjZXNzX2RlbmllZCIsImNsb3NlIiwiY29uZmlndXJlIiwibG9nIiwiZG93bmxvYWRfbG9nX2Zyb21fY2NwIiwibWFzdGVyX3JlcXVlc3QiLCJtYXN0ZXJfcmVzcG9uc2UiLCJzeW5jaHJvbml6ZSIsInRlcm1pbmF0ZSIsInRlcm1pbmF0ZWQiLCJzZW5kX2xvZ3MiLCJyZWxvYWRfYWdlbnRfY29uZmlndXJhdGlvbiIsImJyb2FkY2FzdCIsImFwaV9tZXRyaWMiLCJjbGllbnRfbWV0cmljIiwic29mdHBob25lX3N0YXRzIiwic29mdHBob25lX3JlcG9ydCIsImNsaWVudF9zaWRlX2xvZ3MiLCJzZXJ2ZXJfYm91bmRfaW50ZXJuYWxfbG9nIiwibXV0ZSIsImlmcmFtZV9zdHlsZSIsImlmcmFtZV9yZXRyaWVzX2V4aGF1c3RlZCIsInVwZGF0ZV9jb25uZWN0ZWRfY2NwcyIsIm91dGVyX2NvbnRleHRfaW5mbyIsIm1lZGlhX2RldmljZV9yZXF1ZXN0IiwibWVkaWFfZGV2aWNlX3Jlc3BvbnNlIiwidGFiX2lkIiwiYXV0aG9yaXplX3N1Y2Nlc3MiLCJhdXRob3JpemVfcmV0cmllc19leGhhdXN0ZWQiLCJjdGlfYXV0aG9yaXplX3JldHJpZXNfZXhoYXVzdGVkIiwiY2xpY2tfc3RyZWFtX2RhdGEiLCJzZXRfcXVpY2tfZ2V0X2FnZW50X3NuYXBzaG90X2ZsYWciLCJhcGlfcHJveHlfcmVxdWVzdCIsImFwaV9wcm94eV9yZXNwb25zZSIsInJlcXVlc3RfY29uZmlndXJlIl0pLG89dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbm5lY3QiLFsibG9naW5Qb3B1cCIsInNlbmRMb2dzIiwic29mdHBob25lIiwicmluZ3RvbmUiLCJtZXRyaWNzIiwiZmFpbG92ZXIiXSksaT10Lm1ha2VOYW1lc3BhY2VkRW51bSgiYWdlbnQiLFsiaW5pdCIsInVwZGF0ZSIsInJlZnJlc2giLCJyb3V0YWJsZSIsIm5vdF9yb3V0YWJsZSIsInBlbmRpbmciLCJjb250YWN0X3BlbmRpbmciLCJvZmZsaW5lIiwiZXJyb3IiLCJzb2Z0cGhvbmVfZXJyb3IiLCJ3ZWJzb2NrZXRfY29ubmVjdGlvbl9sb3N0Iiwid2Vic29ja2V0X2Nvbm5lY3Rpb25fZ2FpbmVkIiwic3RhdGVfY2hhbmdlIiwiYWN3IiwibXV0ZV90b2dnbGUiLCJsb2NhbF9tZWRpYV9zdHJlYW1fY3JlYXRlZCIsImVucXVldWVkX25leHRfc3RhdGUiLCJmZXRjaF9hZ2VudF9kYXRhX2Zyb21fY2NwIl0pLGE9dC5tYWtlTmFtZXNwYWNlZEVudW0oIndlYlNvY2tldCIsWyJpbml0X2ZhaWx1cmUiLCJjb25uZWN0aW9uX29wZW4iLCJjb25uZWN0aW9uX2Nsb3NlIiwiY29ubmVjdGlvbl9lcnJvciIsImNvbm5lY3Rpb25fZ2FpbiIsImNvbm5lY3Rpb25fbG9zdCIsInN1YnNjcmlwdGlvbl91cGRhdGUiLCJzdWJzY3JpcHRpb25fZmFpbHVyZSIsImFsbF9tZXNzYWdlIiwic2VuZCIsInN1YnNjcmliZSJdKSxzPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb250YWN0IixbImluaXQiLCJyZWZyZXNoIiwiZGVzdHJveWVkIiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsIm1pc3NlZCIsImFjdyIsInZpZXciLCJlbmRlZCIsImVycm9yIiwiYWNjZXB0ZWQiLCJpbnZhbGlkX3N0YXRlX3RyYW5zaXRpb24iLCJzY3JlZW5fc2hhcmluZ19zdGFydGVkIiwic2NyZWVuX3NoYXJpbmdfc3RvcHBlZCIsInNjcmVlbl9zaGFyaW5nX2Vycm9yIl0pLGM9dC5tYWtlTmFtZXNwYWNlZEVudW0oInRhc2tMaXN0IixbImFjdGl2YXRlX2NoYW5uZWxfd2l0aF92aWV3X3R5cGUiXSksdT10Lm1ha2VOYW1lc3BhY2VkRW51bSgidGFzayIsWyJjcmVhdGVkIl0pLGw9dC5tYWtlTmFtZXNwYWNlZEVudW0oImVtYWlsIixbImNyZWF0ZWQiXSkscD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29ubmVjdGlvbiIsWyJzZXNzaW9uX2luaXQiLCJyZWFkeV90b19zdGFydF9zZXNzaW9uIl0pLGQ9dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbmZpZ3VyYXRpb24iLFsiY29uZmlndXJlIiwic2V0X3NwZWFrZXJfZGV2aWNlIiwic2V0X21pY3JvcGhvbmVfZGV2aWNlIiwic2V0X3Jpbmdlcl9kZXZpY2UiLCJzcGVha2VyX2RldmljZV9jaGFuZ2VkIiwibWljcm9waG9uZV9kZXZpY2VfY2hhbmdlZCIsInJpbmdlcl9kZXZpY2VfY2hhbmdlZCIsImNhbWVyYV9kZXZpY2VfY2hhbmdlZCIsImJhY2tncm91bmRfYmx1cl9jaGFuZ2VkIl0pLGg9dC5tYWtlTmFtZXNwYWNlZEVudW0oImRpc2FzdGVyUmVjb3ZlcnkiLFsic3VwcHJlc3MiLCJmb3JjZV9vZmZsaW5lIiwic2V0X29mZmxpbmUiLCJpbml0X2Rpc2FzdGVyX3JlY292ZXJ5IiwiZmFpbG92ZXIiLCJmYWlsb3Zlcl9wZW5kaW5nIiwiaW5pdF9kcl9wb2xsaW5nIl0pLGY9dC5tYWtlTmFtZXNwYWNlZEVudW0oImdsb2JhbFJlc2lsaWVuY3kiLFsiY29uZmlndXJlIiwiY29uZmlndXJlX2NjcF9jb25kdWl0IiwiaW5pdCIsImNvbmZpZ3VyZV9lcnJvciIsInZhbGlkYXRlX2dsb2JhbF9zaWduaW4iLCJnbG9iYWxfc2lnbmluX3ZhbGlkIiwiZ2xvYmFsX3NpZ25pbl9pbnZhbGlkIiwiZmFpbG92ZXJfaW5pdGlhdGVkIiwiZmFpbG92ZXJfcGVuZGluZyIsImZhaWxvdmVyX3BlbmRpbmdfY3JtIiwiZmFpbG92ZXJfY29tcGxldGUiLCJoZWFydGJlYXRfc3luIiwiaGVhcnRiZWF0X2FjayIsImZvcmNlX2ZhaWxvdmVyIl0pLGc9dC5tYWtlRW51bShbIkxJTFlfQUdFTlRfQ09ORklHX01JU1NJTkciLCJMSUxZX0FHRU5UX0NPTkZJR19QQVJTRV9FUlJPUiJdKSxtPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ2b2ljZUlkIixbInVwZGF0ZV9kb21haW5faWQiXSksdj1mdW5jdGlvbigpe307di5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUsbixyKXtyZXR1cm57ZXZlbnQ6ZSxyZXF1ZXN0SWQ6dC5yYW5kb21JZCgpLG1ldGhvZDpuLHBhcmFtczpyfX0sdi5jcmVhdGVSZXNwb25zZT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57ZXZlbnQ6ZSxyZXF1ZXN0SWQ6dC5yZXF1ZXN0SWQsZGF0YTpuLGVycjpyfHxudWxsfX07dmFyIHk9ZnVuY3Rpb24oZSxuLHIpe3RoaXMuc3ViTWFwPWUsdGhpcy5pZD10LnJhbmRvbUlkKCksdGhpcy5ldmVudE5hbWU9bix0aGlzLmY9cn07eS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLnN1Yk1hcC51bnN1YnNjcmliZSh0aGlzLmV2ZW50TmFtZSx0aGlzLmlkKX07dmFyIGI9ZnVuY3Rpb24oKXt0aGlzLnN1YklkTWFwPXt9LHRoaXMuc3ViRXZlbnROYW1lTWFwPXt9fTtiLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgeSh0aGlzLGUsdCk7dGhpcy5zdWJJZE1hcFtuLmlkXT1uO3ZhciByPXRoaXMuc3ViRXZlbnROYW1lTWFwW2VdfHxbXTtyZXR1cm4gci5wdXNoKG4pLHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdPXIsbn0sYi5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSxuKXt0LmNvbnRhaW5zKHRoaXMuc3ViRXZlbnROYW1lTWFwLGUpJiYodGhpcy5zdWJFdmVudE5hbWVNYXBbZV09dGhpcy5zdWJFdmVudE5hbWVNYXBbZV0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCE9PW59KSksdGhpcy5zdWJFdmVudE5hbWVNYXBbZV0ubGVuZ3RoPDEmJmRlbGV0ZSB0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXSksdC5jb250YWlucyh0aGlzLnN1YklkTWFwLG4pJiZkZWxldGUgdGhpcy5zdWJJZE1hcFtuXX0sYi5wcm90b3R5cGUuZ2V0QWxsU3Vic2NyaXB0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0LnZhbHVlcyh0aGlzLnN1YkV2ZW50TmFtZU1hcCkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLFtdKX0sYi5wcm90b3R5cGUuZ2V0U3Vic2NyaXB0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJFdmVudE5hbWVNYXBbZV18fFtdfTt2YXIgUz1mdW5jdGlvbihlKXt2YXIgdD1lfHx7fTt0aGlzLnN1Yk1hcD1uZXcgYix0aGlzLmxvZ0V2ZW50cz10LmxvZ0V2ZW50c3x8ITF9O1MucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLG4pe3JldHVybiB0LmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImYiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuc3ViTWFwLnN1YnNjcmliZShlLG4pfSxTLnByb3RvdHlwZS5zdWJzY3JpYmVBbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChlLCJmIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihlKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnN1Yk1hcC5zdWJzY3JpYmUobixlKX0sUy5wcm90b3R5cGUuZ2V0U3Vic2NyaXB0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJNYXAuZ2V0U3Vic2NyaXB0aW9ucyhlKX0sUy5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbihlLHIpe3QuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKTt2YXIgbz10aGlzLGk9dGhpcy5zdWJNYXAuZ2V0U3Vic2NyaXB0aW9ucyhuKSxhPXRoaXMuc3ViTWFwLmdldFN1YnNjcmlwdGlvbnMoZSk7dGhpcy5sb2dFdmVudHMmJmUhPT10LkV2ZW50VHlwZS5MT0cmJmUhPT10LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0UmJmUhPT10LkV2ZW50VHlwZS5BUElfTUVUUklDJiZlIT09dC5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyYmdC5nZXRMb2coKS50cmFjZSgiUHVibGlzaGluZyBldmVudDogJXMiLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zdGFydHNXaXRoKHQuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCkmJnImJnIuY29udGFjdElkJiYhKHIgaW5zdGFuY2VvZiB0LkNvbnRhY3QpJiYocj1uZXcgdC5Db250YWN0KHIuY29udGFjdElkKSksaS5jb25jYXQoYSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dHJ5e24uZihyfHxudWxsLGUsbyl9Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcigiJyVzJyBldmVudCBoYW5kbGVyIGZhaWxlZC4iLGUpLndpdGhFeGNlcHRpb24obikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSl9LFMucHJvdG90eXBlLmJyaWRnZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZS50cmlnZ2VyKG4sdCl9fSxTLnByb3RvdHlwZS51bnN1YnNjcmliZUFsbD1mdW5jdGlvbigpe3RoaXMuc3ViTWFwLmdldEFsbFN1YnNjcmlwdGlvbnMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnVuc3Vic2NyaWJlKCl9KSl9LHQuRXZlbnRCdXM9Uyx0LkV2ZW50RmFjdG9yeT12LHQuRXZlbnRUeXBlPXIsdC5BZ2VudEV2ZW50cz1pLHQuQ29uZmlndXJhdGlvbkV2ZW50cz1kLHQuQ29ubmVjdGlvbkV2ZW50cz1wLHQuQ29ubm5lY3Rpb25FdmVudHM9cCx0LkNvbnRhY3RFdmVudHM9cyx0LkNoYW5uZWxWaWV3RXZlbnRzPWMsdC5UYXNrRXZlbnRzPXUsdC5FbWFpbEV2ZW50cz1sLHQuVm9pY2VJZEV2ZW50cz1tLHQuV2ViU29ja2V0RXZlbnRzPWEsdC5NYXN0ZXJUb3BpY3M9byx0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHM9aCx0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHM9Zix0Lkdsb2JhbFJlc2lsaWVuY3lDb25maWd1cmVFcnJvclR5cGU9Z30oKX0sOTQ5OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cjt2YXIgbz0zZTMsaT0iSWZyYW1lUmVmcmVzaEF0dGVtcHRzIixhPSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3MiO3IuZ2xvYmFsUmVzaWxpZW5jeS5fZG93bmxvYWRDQ1BMb2dzPWZ1bmN0aW9uKCl7ci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5ET1dOTE9BRF9MT0dfRlJPTV9DQ1ApfSxyLmdsb2JhbFJlc2lsaWVuY3kuX3ZhbGlkYXRlR2xvYmFsU2lnbmluPWZ1bmN0aW9uKGUsdCxuLG8saSl7ci5nZXRMb2coKS5pbmZvKCJbR1JdIFN0YXJ0aW5nIGdsb2JhbCBzaWduaW4gdmFsaWRhdGlvbiBmb3IgIi5jb25jYXQoZS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYSxzLGMsdT0hMSxsPWZ1bmN0aW9uKHQsbil7dmFyIGwscDt1P3IuZ2V0TG9nKCkud2FybigiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gYWxyZWFkeSBjb21wbGV0ZWQgZm9yICIuY29uY2F0KGUubmFtZSwiLCBpZ25vcmluZyBkdXBsaWNhdGUgcmVzcG9uc2UiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKToodT0hMCxjbGVhclRpbWVvdXQoYSksbnVsbD09PShsPXMpfHx2b2lkIDA9PT1sfHxsLnVuc3Vic2NyaWJlKCksbnVsbD09PShwPWMpfHx2b2lkIDA9PT1wfHxwLnVuc3Vic2NyaWJlKCksdD8oci5nZXRMb2coKS5pbmZvKCJbR1JdIEdsb2JhbCBzaWduaW4gdmFsaWRhdGlvbiBzdWNjZWVkZWQgZm9yICIuY29uY2F0KGUubmFtZSkpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKCkpOihyLmdldExvZygpLndhcm4oIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGZhaWxlZCAtIHJlZ2lvbmFsIGxvZ2luIGRldGVjdGVkIGZvciAiLmNvbmNhdChlLm5hbWUpKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5lcnJvclR5cGUhPT1yLkdsb2JhbFJlc2lsaWVuY3lDb25maWd1cmVFcnJvclR5cGUuTElMWV9BR0VOVF9DT05GSUdfTUlTU0lORyYmbi5lcnJvclR5cGUhPT1yLkdsb2JhbFJlc2lsaWVuY3lDb25maWd1cmVFcnJvclR5cGUuTElMWV9BR0VOVF9DT05GSUdfUEFSU0VfRVJST1J8fHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVJlZ2lvbmFsTG9naW5BdHRlbXB0IixkYXRhOntjb3VudDoxfX0pLGkoKSkpfTthPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS53YXJuKCJbR1JdIEdsb2JhbCBzaWduaW4gdmFsaWRhdGlvbiB0aW1lb3V0IGZvciAiLmNvbmNhdChlLm5hbWUsIiAtIGFzc3VtaW5nIHZhbGlkIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbCghMCx7cmVhc29uOiJ0aW1lb3V0In0pfSksMjUwKSxzPWUub25VcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuR0xPQkFMX1NJR05JTl9WQUxJRCwoZnVuY3Rpb24oZSl7bCghMCx7cmVhc29uOiJnbG9iYWxfc2lnbmluX3ZhbGlkIixkYXRhOmV9KX0pKSxjPWUub25VcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuR0xPQkFMX1NJR05JTl9JTlZBTElELChmdW5jdGlvbihlKXtsKCExLHtyZWFzb246Imdsb2JhbF9zaWduaW5faW52YWxpZCIsZXJyb3I6bnVsbD09ZT92b2lkIDA6ZS5lcnJvcixlcnJvclR5cGU6bnVsbD09ZT92b2lkIDA6ZS5lcnJvclR5cGV9KX0pKSxlLnNlbmRVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuVkFMSURBVEVfR0xPQkFMX1NJR05JTiksci5nZXRMb2coKS5pbmZvKCJbR1JdIFNlbnQgVkFMSURBVEVfR0xPQkFMX1NJR05JTiByZXF1ZXN0IHRvICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHIuZ2xvYmFsUmVzaWxpZW5jeS5fY29tcGxldGVBY2tub3dsZWRnZUluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKGUsbixvLHMsYyl7aWYoci5nZXRMb2coKS5pbmZvKCJbR1JdIENvbXBsZXRpbmcgQUNLTk9XTEVER0UgaW5pdGlhbGl6YXRpb24gZm9yICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nZXRMb2coKS5pbmZvKCJBY2tub3dsZWRnZWQgYnkgdGhlIENDUCEgIi5jb25jYXQoZS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuc2VuZENvbmZpZ3VyZShuLGUsITApLHIuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0KG4sZSwhMCksc1tlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UmJih0LmNsZWFyVGltZW91dChzW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSksc1tlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCksZS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuT1VURVJfQ09OVEVYVF9JTkZPLHtzdHJlYW1zVmVyc2lvbjpyLnZlcnNpb24saW5pdENDUFBhcmFtczpufSksZS5rZWVwYWxpdmVNYW5hZ2VyLnN0YXJ0KCksci5pc0FjdGl2ZUNvbmR1aXQoZSkmJihyLmNvcmUuY2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdENsaWVudChlKSxyLmNvcmUubWFzdGVyQ2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChlKSxyLmNvcmUucG9ydFN0cmVhbUlkPW8uaWQsYykpe3ZhciB1PURhdGUubm93KCktYyxsPXNbZS5uYW1lXS5pZnJhbWVSZWZyZXNoQXR0ZW1wdHx8MDtyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHRpbWUgIi5jb25jYXQodSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgcmVmcmVzaCBhdHRlbXB0cyAiLmNvbmNhdChsKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IucHVibGlzaE1ldHJpYyh7bmFtZTppLGRhdGE6e2NvdW50Omx9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOmEsZGF0YTp7Y291bnQ6MX19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IklmcmFtZUluaXRpYWxpemF0aW9uVGltZSIsZGF0YTp7Y291bnQ6dX19KX0pLDFlMyl9ZS5wb3J0U3RyZWFtSWQ9by5pZH0sci5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBvO3QmJihudWxsPT09KG89ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyKXx8dm9pZCAwPT09b3x8by5kZXN0cm95KCksci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyP3IuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cD1uZXcgci5jb3JlLkFnZW50RGF0YVByb3ZpZGVyKHIuY29yZS5nZXRFdmVudEJ1cygpKTpyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IHIuY29yZS5BZ2VudERhdGFQcm92aWRlcihyLmNvcmUuZ2V0RXZlbnRCdXMoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKHIuQWdlbnRFdmVudHMuRkVUQ0hfQUdFTlRfREFUQV9GUk9NX0NDUCkpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlaW5pdGlhbGl6aW5nIHRoZSBhZ2VudCBkYXRhIHByb3ZpZGVyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25BZ2VudERhdGFQcm92aWRlckZhaWx1cmUiLGRhdGE6e2NvdW50OjF9fSl9ci5jb3JlLmtlZXBhbGl2ZU1hbmFnZXI9ZS5nZXRBY3RpdmVDb25kdWl0KCkua2VlcGFsaXZlTWFuYWdlcixyLmNvcmUuY2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdENsaWVudChlLmdldEFjdGl2ZUNvbmR1aXQoKSksci5jb3JlLm1hc3RlckNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoZS5nZXRBY3RpdmVDb25kdWl0KCkpLHIuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHIuTWVkaWFGYWN0b3J5KG4obih7fSxyLmdsb2JhbFJlc2lsaWVuY3kucGFyYW1zKSx7fSx7Y2NwVXJsOmUuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWV9KSk7dHJ5e3ZhciBpO251bGwhPT0oaT1yLmNvcmUpJiZ2b2lkIDAhPT1pJiZpLnNvZnRwaG9uZU1hbmFnZXI/KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWZyZXNoaW5nIHNvZnRwaG9uZSBtYW5hZ2VyIFJUQyBwZWVyIGNvbm5lY3Rpb24gbWFuYWdlci4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcigpKTpyLmdldExvZygpLmluZm8oIltHUl0gU29mdHBob25lIG1hbmFnZXIgbm90IGluaXRpYWxpemVkIG9yIG5vdCB1c2VkLCBub3QgcmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlci4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlZnJlc2hpbmcgdGhlIHNvZnRwaG9uZSBtYW5hZ2VyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25XZWJSVENGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXQmJihyLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj10LHIuQ2hhdFNlc3Npb24/ci5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZT8oci5nZXRMb2coKS5pbmZvKCJbR1JdIFVwZGF0aW5nIENoYXRKUyByZWdpb24gdG8gIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZSh0KSk6ci5nZXRMb2coKS53YXJuKCJbR1JdIENoYXRKUyBwcmVzZW50LCBidXQgc2V0UmVnaW9uT3ZlcnJpZGUgbm90IGZvdW5kLiBDb25zaWRlciB1cGRhdGluZyB0byBsYXRlc3QgQ2hhdEpTIHZlcnNpb24iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOnIuZ2V0TG9nKCkuaW5mbygiW0dSXSBDaGF0SlMgbm90IHByZXNlbnQsIG5vdCB1cGRhdGluZyBDaGF0U2Vzc2lvbiByZWdpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6ImFjdGl2ZSJ9KSxlLmdldEluYWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0NDUF9DT05EVUlULHtpbnN0YW5jZVN0YXRlOiJpbmFjdGl2ZSJ9KTt0cnl7ci5jb3JlLl9zaG93SWZyYW1lKGUuZ2V0QWN0aXZlQ29uZHVpdCgpLmlmcmFtZSksci5jb3JlLl9oaWRlSWZyYW1lKGUuZ2V0SW5hY3RpdmVDb25kdWl0KCkuaWZyYW1lKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciB1cGRhdGluZyB0aGUgSUZyYW1lIHZpc2liaWxpdHkuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvbklGcmFtZVN3YXBGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXRyeXt2YXIgYT1lLmlmcmFtZUxhYmVsTWFwW2UuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWVdO3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBTZXR0aW5nIHByb3ZpZGVyIGFjdGl2ZSByZWdpb24gdG8gIi5jb25jYXQoYSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLnNldEFjdGl2ZVJlZ2lvbihhKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFNldHRpbmcgYWN0aXZlIHJlZ2lvbiBmb3IgcHJvdmlkZXIgZmFpbGVkLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHIuZ2xvYmFsUmVzaWxpZW5jeS5fc3dpdGNoQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKHQsbil7dmFyIG8saSxhLHMsYztpZighKHQgaW5zdGFuY2VvZiByLkdSUHJveHlJZnJhbWVDb25kdWl0KSlyZXR1cm4gci5nZXRMb2coKS5lcnJvcigiW0dSXSBUcmllZCB0byBzd2l0Y2ggb3ZlciBhY3RpdmUgcmVnaW9uLCBidXQgcHJveHkgY29uZHVpdCB3YXMgbm90IG9mIGV4cGVjdGVkIHR5cGUuIikud2l0aE9iamVjdCh7dHlwZTplKHQpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMTt2YXIgdT10LmdldENvbmR1aXRCeU5hbWUobik7cmV0dXJuIHUgaW5zdGFuY2VvZiByLklGcmFtZUNvbmR1aXQ/dC5nZXRBY3RpdmVDb25kdWl0KCkubmFtZT09PXUubmFtZSYmci5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb249PT11LnJlZ2lvbj8oci5nZXRMb2coKS5pbmZvKCJbR1JdIE5vdCBzd2l0Y2hpbmcgb3ZlciBhY3RpdmUgcmVnaW9uIGFzIHdlIGFyZSBhbHJlYWR5IG9uIGFjdGl2ZSByZWdpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMSk6KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hpbmcgYWN0aXZlIHJlZ2lvbiBmcm9tICIuY29uY2F0KG51bGw9PT0obz10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucmVnaW9uLCIgLyAiKS5jb25jYXQobnVsbD09PShpPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5uYW1lLCIgdG8gIikuY29uY2F0KG51bGw9PXU/dm9pZCAwOnUucmVnaW9uLCIgLyAiKS5jb25jYXQobnVsbD09dT92b2lkIDA6dS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxudWxsPT09KGE9ci5jb3JlKXx8dm9pZCAwPT09YXx8bnVsbD09PShhPWEuc29mdHBob25lTWFuYWdlcil8fHZvaWQgMD09PWF8fGEuX2NsZWFyQWxsU2Vzc2lvbnMoKSx0LnNldEFjdGl2ZUNvbmR1aXQodS5uYW1lKSxyLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb24odCx1LnJlZ2lvbiksci5nZXRMb2coKS5pbmZvKCJbR1JdIFN3aXRjaGVkIGFjdGl2ZSByZWdpb24gdG8gIi5jb25jYXQobnVsbD09PShzPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09cz92b2lkIDA6cy5yZWdpb24sIiAvICIpLmNvbmNhdChudWxsPT09KGM9dC5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiQ2FsbGVkSW50ZXJuYWxTd2l0Y2hBY3RpdmVSZWdpb25TdWNjZXNzZnVsIixkYXRhOntjb3VudDoxfX0pLCEwKTooci5nZXRMb2coKS5lcnJvcigiW0dSXSBUcmllZCB0byBzd2l0Y2ggb3ZlciBhY3RpdmUgcmVnaW9uLCBidXQgY29uZHVpdCBuYW1lIHdhcyBpbnZhbGlkIikud2l0aE9iamVjdCh7bmV3QWN0aXZlQ29uZHVpdE5hbWU6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEpfSxyLmdsb2JhbFJlc2lsaWVuY3kuaW5pdEdSQ0NQPWZ1bmN0aW9uKGUscyl7dmFyIGMsdSxsLHA9bih7fSxzKSxkPSExO2lmKHIuZ2xvYmFsUmVzaWxpZW5jeS5wYXJhbXM9cCxyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwPXt9LHIuZ2xvYmFsUmVzaWxpZW5jeS5fYWN0aXZlUmVnaW9uPW51bGwsci5nbG9iYWxSZXNpbGllbmN5Lmdsb2JhbFJlc2lsaWVuY3lFbmFibGVkPSEwLHIuY29yZS5jaGVja05vdEluaXRpYWxpemVkKCksIXIuY29yZS5pbml0aWFsaXplZCl7ci5nZXRMb2coKS5pbmZvKCJbR1JdIElmcmFtZSBpbml0aWFsaXphdGlvbiBzdGFydGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgaD1EYXRlLm5vdygpO3IuYXNzZXJ0Tm90TnVsbChlLCJjb250YWluZXJEaXYiKTt2YXIgZj1uZXcgVVJMKHAuY2NwVXJsKS5vcmlnaW4sZz1uZXcgVVJMKHAuc2Vjb25kYXJ5Q0NQVXJsKS5vcmlnaW4sbT1yLmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4obih7fSxwKSx7fSx7Z2xvYmFsUmVzaWxpZW5jeVJlZ2lvbjoicHJpbWFyeSJ9KSxmKSx2PXIuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGUsbihuKHt9LHApLHt9LHtjY3BVcmw6cC5zZWNvbmRhcnlDQ1BVcmwsZ2xvYmFsUmVzaWxpZW5jeVJlZ2lvbjoic2Vjb25kYXJ5In0pLGcpLHk9bmV3IHIuR1JQcm94eUlmcmFtZUNvbmR1aXQod2luZG93LFt7aWZyYW1lOm0sbGFiZWw6InByaW1hcnkifSx7aWZyYW1lOnYsbGFiZWw6InNlY29uZGFyeSJ9XSxtLnNyYyk7ci5jb3JlLnVwc3RyZWFtPXksci5jb3JlLmV2ZW50QnVzPW5ldyByLkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSxyLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb24oeSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJJbml0R2xvYmFsUmVzaWxpZW5jeUNDUENhbGxlZCIsZGF0YTp7Y291bnQ6MX19KSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShlLmlmcmFtZSxlKX0pKSxyLmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IHIuV2ViU29ja2V0UHJvdmlkZXIseS5vbkFsbFVwc3RyZWFtKHIuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5rZWVwYWxpdmVNYW5hZ2VyPW5ldyByLktlZXBhbGl2ZU1hbmFnZXIoZSxyLmNvcmUuZ2V0RXZlbnRCdXMoKSxwLmNjcFN5blRpbWVvdXR8fDFlMyxwLmNjcEFja1RpbWVvdXR8fG8pfSkpLHkub25VcHN0cmVhbShyLkFnZW50RXZlbnRzLkZFVENIX0FHRU5UX0RBVEFfRlJPTV9DQ1AsKGZ1bmN0aW9uKGUpe3IuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cD8oci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyQmFja3VwLnVwZGF0ZUFnZW50RGF0YShlKSxyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyQmFja3VwLHIuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cD1udWxsKTpyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXIudXBkYXRlQWdlbnREYXRhKGUpLHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBGZXRjaGVkIGFnZW50IGRhdGEgZnJvbSBDQ1AuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFtlLm5hbWVdPXtpZnJhbWVSZWZyZXNoVGltZW91dDpudWxsfSxyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwsci5pc0FjdGl2ZUNvbmR1aXQoZSk/KHIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuQUNLX1RJTUVPVVQpLHIuZ2V0TG9nKCkuaW5mbygiQ0NQIExvYWRUaW1lb3V0IHRyaWdnZXJlZC4gIi5jb25jYXQoZS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6ci5nZXRMb2coKS5lcnJvcigiQ0NQIExvYWRUaW1lb3V0IGRldGVjdGVkIGJ1dCBpZ25vcmVkIGZvciBub24tcHJpbWFyeSByZWdpb25zLiAiLmNvbmNhdChlLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkscC5jY3BMb2FkVGltZW91dHx8NWUzKX0pKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5vblVwc3RyZWFtKHIuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihvKXtyLmdsb2JhbFJlc2lsaWVuY3kuX3ZhbGlkYXRlR2xvYmFsU2lnbmluKGUscCxvLChmdW5jdGlvbigpe24udW5zdWJzY3JpYmUoKSxyLmdsb2JhbFJlc2lsaWVuY3kuX2NvbXBsZXRlQWNrbm93bGVkZ2VJbml0aWFsaXphdGlvbihlLHAsbyxyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwLGgpfSksKGZ1bmN0aW9uKCl7ci5pc0FjdGl2ZUNvbmR1aXQoZSkmJihyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSYmKHQuY2xlYXJUaW1lb3V0KHIuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlKSxyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkFDS19USU1FT1VUKSl9KSl9KSl9KSksci5nbG9iYWxSZXNpbGllbmN5LnNldHVwQWNnckF1dGhIYW5kbGVycyhwLGUseSkseS5vblVwc3RyZWFtKHIuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXIuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmci5nZXRMb2coKS5hZGRMb2dFbnRyeShyLkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQsKGZ1bmN0aW9uKHQpe2lmKG51bGwhPXQmJnQuaW5zdGFuY2VSZWdpb24mJm51bGwhPXQmJnQuaW5zdGFuY2VTdGF0ZSYmbnVsbCE9dCYmdC5hY3RpdmVSZWdpb24pe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQgaW5kaWNhdGluZyAiLmNvbmNhdChlLm5hbWUsIiBpbiByZWdpb24gIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuaW5zdGFuY2VSZWdpb24sIiBpcyAiKS5jb25jYXQobnVsbD09dD92b2lkIDA6dC5pbnN0YW5jZVN0YXRlLCIuIikpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5pbnN0YW5jZVJlZ2lvbj09PXQuYWN0aXZlUmVnaW9uP2U6eS5nZXRPdGhlckNvbmR1aXQoZSk7aWYoZS5yZWdpb24mJm4ucmVnaW9ufHwoZS5yZWdpb249dC5pbnN0YW5jZVJlZ2lvbixuLnJlZ2lvbj10LmFjdGl2ZVJlZ2lvbiksZS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9DQ1BfQ09ORFVJVCx7aW5zdGFuY2VTdGF0ZTp0Lmluc3RhbmNlU3RhdGV9KSxyLmNvcmUuaW5pdGlhbGl6ZWQpci5nZXRMb2coKS5sb2coIltHUl0gRGVkdXBpbmcgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIC0gQ29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXtyLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBpbml0aWFsIGFjdGl2ZSBpZnJhbWUgdG8gIi5jb25jYXQobi5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChuLnJlZ2lvbiwiIGJlY2F1c2UgdGhlIGluc3RhbmNlIHN0YXRlIHdhcyBhY3RpdmUiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt0cnl7ci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxuLm5hbWUpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uIGF0IGluaXRpYWxpemF0aW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuSU5JVCksci5jb3JlLmluaXRpYWxpemVkPSEwLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUNvcmVJbml0aWFsaXplZCIsZGF0YTp7Y291bnQ6MX19KX19ZWxzZSByLmdldExvZygpLmVycm9yKCJbR1JdIEV4cGVjdGVkIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSU5JVCB0byBoYXZlIGluc3RhbmNlIHJlZ2lvbiwgc3RhdGUsIGFuZCBjdXJyZW50IGFjdGl2ZSByZWdpb24sIGJ1dCBkaWQgbm90IGZpbmQgaXQuIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCwoZnVuY3Rpb24oZSl7aWYodT1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVySW5pdGlhdGVkUmVjZWl2ZWQiLGRhdGE6e2NvdW50OjF9fSksZCYmci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5UGVuZGluZ1RvSW5pdGlhdGVkTGF0ZW5jeSIsZGF0YTp7bGF0ZW5jeTp1LWN9fSksbnVsbCE9ZSYmZS5hY3RpdmVSZWdpb24pe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCBpbmRpY2F0aW5nIHRoZSBhY3RpdmVSZWdpb24gaXMgIi5jb25jYXQoZS5hY3RpdmVSZWdpb24sIi4iKSk7dmFyIHQsbj15LmdldENvbmR1aXRCeVJlZ2lvbihlLmFjdGl2ZVJlZ2lvbik7bnx8KHIuZ2V0TG9nKCkuZGVidWcoIltHUl0gQSBjb25kdWl0IGRpZCBub3QgcmVjZWl2ZWQgR0xPQkFMX1JFU0lMSUVOQ1kuSU5JVCBldmVudCwgbGVhZGluZyB0byB0aGUgcmVnaW9uIGZpZWxkIGJlaW5nIHVucG9wdWxhdGVkLiIpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2b2lkIDAhPT10LnJlZ2lvbiYmbnVsbCE9PXQucmVnaW9ufHwodC5yZWdpb249ZS5hY3RpdmVSZWdpb24sbj10KX0pKSk7dHJ5e3Q9ci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxuLm5hbWUpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfWlmKHQpe2Q9ITE7dmFyIG89eS5vblVwc3RyZWFtKHIuQWdlbnRFdmVudHMuVVBEQVRFLChmdW5jdGlvbigpe28udW5zdWJzY3JpYmUoKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSx7YWN0aXZlUmVnaW9uOmUuYWN0aXZlUmVnaW9uLGFjdGl2ZUNjcFVybDpuLm5hbWV9KSx5LnNlbmRVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUpLHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFIGVtaXR0ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxsPURhdGUubm93KCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5RmFpbG92ZXJDb21wbGV0ZWQiLGRhdGE6e2NvdW50OjF9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5SW5pdGlhdGVkVG9Db21wbGV0ZWRMYXRlbmN5IixkYXRhOntsYXRlbmN5OmwtdX19KX0pKX19ZWxzZSByLmdldExvZygpLmVycm9yKCJbR1JdIEV4cGVjdGVkIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfSU5JVElBVEVEIHRvIGhhdmUgbmV3IGFjdGl2ZSByZWdpb24sIGJ1dCBkaWQgbm90IGZpbmQgaXQuIikud2l0aE9iamVjdCh7ZGF0YTplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pKSxwLm9uVmlld0NvbnRhY3QmJnIuY29yZS5vblZpZXdDb250YWN0KHAub25WaWV3Q29udGFjdCkseS5vblVwc3RyZWFtKHIuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUywoZnVuY3Rpb24oZSl7ci5udW1iZXJPZkNvbm5lY3RlZENDUHM9ZS5sZW5ndGh9KSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uub25VcHN0cmVhbShyLlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24odCl7dCYmdC5kb21haW5JZCYmKGUudm9pY2VJZERvbWFpbklkPXQuZG9tYWluSWQsci5pc0FjdGl2ZUNvbmR1aXQoZSkmJihyLmNvcmUudm9pY2VJZERvbWFpbklkPXQuZG9tYWluSWQpKX0pKX0pKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuSUZSQU1FX1JFVFJJRVNfRVhIQVVTVEVELChmdW5jdGlvbihlKXtpZihlPT09eS5nZXRBY3RpdmVDb25kdWl0KCkubmFtZSYmaCl7dmFyIHQ9ci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFt5LmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lXS5pZnJhbWVSZWZyZXNoQXR0ZW1wdC0xO3IuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nZXRMb2coKS5pbmZvKCJUaW1lIGFmdGVyIGlmcmFtZSBpbml0aWFsaXphdGlvbiBzdGFydGVkICIuY29uY2F0KERhdGUubm93KCktaCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgcmVmcmVzaCBhdHRlbXB0cyAiLmNvbmNhdCh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6aSxkYXRhOntjb3VudDp0fX0pLHIucHVibGlzaE1ldHJpYyh7bmFtZTphLGRhdGE6e2NvdW50OjB9fSksaD1udWxsfX0pKSxyLmNvcmUuc29mdHBob25lUGFyYW1zPXAuc29mdHBob25lLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkcsKGZ1bmN0aW9uKHQpe3IuaXNBY3RpdmVDb25kdWl0KGUpJiYoZD9yLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgRkFJTE9WRVJfUEVORElORyAtIGRlZHVwaW5nLCB3aWxsIG5vdCB0cmlnZ2VyIGV2ZW50IHN1YnNjcmlwdGlvbi4iKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOihyLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgRkFJTE9WRVJfUEVORElORyIpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElOR19DUk0se25leHRBY3RpdmVSZWdpb246dC5hY3RpdmVSZWdpb259KSxkPSEwLGM9RGF0ZS5ub3coKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lGYWlsb3ZlclBlbmRpbmdSZWNlaXZlZCIsZGF0YTp7Y291bnQ6MX19KSkpfSkpfSkpLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElORykseS5yZWxheVVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQpLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUpLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSEVBUlRCRUFUX1NZTikseS5yZWxheVVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5IRUFSVEJFQVRfQUNLKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQLChmdW5jdGlvbigpe3kuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnJlZ2lvbnx8InJlZ2lvbiI7ZS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQLHtsb2dOYW1lOiJjY3AtIi5jb25jYXQodCwiLWFnZW50LWxvZyIpfSl9KSl9KSksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgZT0wO3kuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnJlZ2lvbiYmKGUrPTEpfSkpLGU8MiYmKHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBPbmUgb3IgbW9yZSBjb25kdWl0cyBkaWQgbm90IEdsb2JhbFJlc2lsaWVuY3kuSU5JVCBldmVudCB0byBDUk0gbGF5ZXIuIikud2l0aE9iamVjdCh7Zmlyc3RDb25kdWl0TmFtZTp5LmdldEFsbENvbmR1aXRzKClbMF0ubmFtZSxmaXJzdENvbmR1aXRSZWdpb246eS5nZXRBbGxDb25kdWl0cygpWzBdLnJlZ2lvbixzZWNvbmRDb25kdWl0TmFtZTp5LmdldEFsbENvbmR1aXRzKClbMV0ubmFtZSxzZWNvbmRDb25kdWl0UmVnaW9uOnkuZ2V0QWxsQ29uZHVpdHMoKVsxXS5yZWdpb259KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVBhcnRpYWxJbml0aWFsaXphdGlvbiIsZGF0YTp7Y291bnQ6MX19KSl9KSwzZTQpfX0sci5nbG9iYWxSZXNpbGllbmN5LnNldHVwQWNnckF1dGhIYW5kbGVycz1mdW5jdGlvbihlLHQsbil7dmFyIGksYT0wO24uZ2V0QWN0aXZlQ29uZHVpdCgpLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkdMT0JBTF9TSUdOSU5fSU5WQUxJRCwoZnVuY3Rpb24oKXthKz0xLHIuZ2V0TG9nKCkud2FybigiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gZmFpbGVkIC0gcmVnaW9uYWwgbG9naW4gZGV0ZWN0ZWQiKS53aXRoT2JqZWN0KHthdHRlbXB0czphfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuSUZSQU1FX1JFVFJJRVNfRVhIQVVTVEVELChmdW5jdGlvbihlKXtlPT09bi5nZXRBY3RpdmVDb25kdWl0KCkubmFtZSYmKGE+MD8oci5nZXRMb2coKS5lcnJvcigiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gZmFpbGVkIC0gcmV0cmllcyBleGhhdXN0ZWQiKS53aXRoT2JqZWN0KHtjb25kdWl0TmFtZTplLHZhbGlkYXRpb25GYWlsdXJlczphfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTaWduaW5WYWxpZGF0aW9uUmV0cmllc0V4aGF1c3RlZCIsZGF0YTp7Y291bnQ6YX19KSk6ci5nZXRMb2coKS5lcnJvcigiW0dSXSBJZnJhbWUgaW5pdGlhbGl6YXRpb24gZmFpbGVkIC0gcmV0cmllcyBleGhhdXN0ZWQiKS53aXRoT2JqZWN0KHtjb25kdWl0TmFtZTplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSksci5jb3JlLmxvZ2luQWNrVGltZW91dFN1Yj1yLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuQUNLX1RJTUVPVVQsKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmdsb2JhbFJlc2lsaWVuY3kuYXV0aGVudGljYXRlQWNncihlLHQsbil9KSksbnVsbCE9PShpPWUubG9naW5PcHRpb25zKSYmdm9pZCAwIT09aSYmaS5kaXNhYmxlQXV0aFBvcHVwQWZ0ZXJMb2dvdXR8fChyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuVEVSTUlOQVRFRCwoZnVuY3Rpb24oKXtyLmdldExvZygpLndhcm4oIlRFUk1JTkFURUQgb2NjdXJyZWQuIEF0dGVtcHRpbmcgdG8gYXV0aGVudGljYXRlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGk9ZS5jY3BBY2tUaW1lb3V0fHxvO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5nbG9iYWxSZXNpbGllbmN5LmF1dGhlbnRpY2F0ZUFjZ3IoZSx0LG4pfSksaSl9KSksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkFVVEhfRkFJTCwoZnVuY3Rpb24oKXtyLmdldExvZygpLndhcm4oIkFVVEhfRkFJTCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgaT1lLmNjcEFja1RpbWVvdXR8fG87c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLmdsb2JhbFJlc2lsaWVuY3kuYXV0aGVudGljYXRlQWNncihlLHQsbil9KSxpKX0pKSl9LHIuZ2xvYmFsUmVzaWxpZW5jeS5hdXRoZW50aWNhdGVBY2dyPWZ1bmN0aW9uKGUsbyxpKXtpZighMSE9PWUubG9naW5Qb3B1cCl0cnl7dmFyIGE9ZS5sb2dpblVybDtyLmdldExvZygpLndhcm4oIkF0dGVtcHRpbmcgdG8gcG9wIHRoZSBsb2dpbiBwYWdlIGlmIG5vdCBhbHJlYWR5IG9wZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIoci5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLHIuY29yZS5fb3BlblBvcHVwV2l0aExvY2soYSxlLmxvZ2luT3B0aW9ucyl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiVW5hYmxlIHRvIG9wZW4gdGhlIGxvZ2luIHBvcHVwLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pLmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aWYobnVsbD09PXIuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbaS5uYW1lXS5pZnJhbWVSZWZyZXNoVGltZW91dCl0cnl7dmFyIGE9aS5vblVwc3RyZWFtKHIuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtyLmdsb2JhbFJlc2lsaWVuY3kuX3ZhbGlkYXRlR2xvYmFsU2lnbmluKGksZSxuLChmdW5jdGlvbigpe2EudW5zdWJzY3JpYmUoKSx0LmNsZWFyVGltZW91dChyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2kubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQpLHIuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbaS5uYW1lXS5pZnJhbWVSZWZyZXNoVGltZW91dD1udWxsLHIuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbaS5uYW1lXS5pZnJhbWVSZWZyZXNoQXR0ZW1wdD0wLHIuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5jbGVhcihyLk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCksKGUubG9naW5Qb3B1cEF1dG9DbG9zZXx8ZS5sb2dpbk9wdGlvbnMmJmUubG9naW5PcHRpb25zLmF1dG9DbG9zZSkmJnIuY29yZS5sb2dpbldpbmRvdyYmKHIuY29yZS5sb2dpbldpbmRvdy5jbG9zZSgpLHIuY29yZS5sb2dpbldpbmRvdz1udWxsKX0pLChmdW5jdGlvbigpe3IuaXNBY3RpdmVDb25kdWl0KGkpJiZyLmdldExvZygpLndhcm4oIltHUl0gUmV0cnkgdmFsaWRhdGlvbiBmYWlsZWQgZm9yICIuY29uY2F0KGkubmFtZSwiIC0gd2lsbCByZXRyeSB2aWEgaWZyYW1lIHJlZnJlc2ggdGltZW91dCIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfSkpLHM9ci5pc0FjdGl2ZUNvbmR1aXQoaSk/InByaW1hcnkiOiJzZWNvbmRhcnkiLGM9bihuKHt9LGUpLHt9LHtjY3BVcmw6aS5pZnJhbWUuc3JjLGdsb2JhbFJlc2lsaWVuY3lSZWdpb246c30pO3IuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dChjLG8sci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFtpLm5hbWVdLGkubmFtZSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpfX0oKX0sOTU6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfSFmdW5jdGlvbih0KXt2YXIgbj17fTtmdW5jdGlvbiByKGUpe2lmKG5bZV0pcmV0dXJuIG5bZV0uZXhwb3J0czt2YXIgbz1uW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtlXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxyKSxvLmw9ITAsby5leHBvcnRzfXIubT10LHIuYz1uLHIuZD1mdW5jdGlvbihlLHQsbil7ci5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LHIudD1mdW5jdGlvbih0LG4pe2lmKDEmbiYmKHQ9cih0KSksOCZuKXJldHVybiB0O2lmKDQmbiYmIm9iamVjdCI9PWUodCkmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImbiYmInN0cmluZyIhPXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KXIuZChvLGksZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxpKSk7cmV0dXJuIG99LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsImEiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPSIiLHIoci5zPTIpfShbZnVuY3Rpb24odCxuLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1yKDEpLGk9IkRFQlVHIixhPSJBTVpfV0VCX1NPQ0tFVF9NQU5BR0VSOiIscz0iTmV0d29yayBvZmZsaW5lIixjPSJOZXR3b3JrIG9ubGluZSwgY29ubmVjdGluZyB0byBXZWJTb2NrZXQgc2VydmVyIix1PSJOZXR3b3JrIG9mZmxpbmUsIGlnbm9yaW5nIHRoaXMgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0IixsPSJIZWFydGJlYXQgcmVzcG9uc2Ugbm90IHJlY2VpdmVkIixwPSJGYWlsZWQgdG8gc2VuZCBoZWFydGJlYXQgc2luY2UgV2ViU29ja2V0IGlzIG5vdCBvcGVuIixkPSJXZWJTb2NrZXQgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCEiLGg9IldlYlNvY2tldCBjb25uZWN0aW9uIGlzIGNsb3NlZCIsZj0iV2ViU29ja2V0TWFuYWdlciBFcnJvciwgZXJyb3JfZXZlbnQ6ICIsZz0iU2NoZWR1bGluZyBXZWJTb2NrZXQgcmVpbml0aWFsaXphdGlvbiwgYWZ0ZXIgZGVsYXkgIixtPSJXZWJTb2NrZXQgVVJMIGNhbm5vdCBiZSB1c2VkIHRvIGVzdGFibGlzaCBjb25uZWN0aW9uIix2PSJXZWJTb2NrZXQgSW5pdGlhbGl6YXRpb24gZmFpbGVkIC0gVGVybWluYXRpbmcgYW5kIGNsZWFuaW5nIHN1YnNjcmlwdGlvbnMiLHk9IkZldGNoaW5nIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixiPSJTdWNjZXNzZnVsbHkgZmV0Y2hlZCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixTPSJGYWlsZWQgdG8gZmV0Y2ggd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsRT0iUmV0cnlpbmcgZmV0Y2hpbmcgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLEM9IkluaXRpYWxpemluZyBXZWJzb2NrZXQgTWFuYWdlciIsST0iV2ViU29ja2V0TWFuYWdlciBNZXNzYWdlIEVycm9yIixUPSJNZXNzYWdlIHJlY2VpdmVkIGZvciB0b3BpYyAiLHc9IkludmFsaWQgaW5jb21pbmcgbWVzc2FnZSIsQT0iYXdzL3N1YnNjcmliZSIsXz0iYXdzL2hlYXJ0YmVhdCIsUj0iZGlzY29ubmVjdGVkIjtmdW5jdGlvbiBMKHQpe3JldHVybihMPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT1lKFN5bWJvbC5pdGVyYXRvcik/ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjplKHQpfSkodCl9dmFyIE89e2Fzc2VydFRydWU6ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodCl9LGFzc2VydE5vdE51bGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTy5hc3NlcnRUcnVlKG51bGwhPT1lJiZ2b2lkIDAhPT1MKGUpLE9iamVjdChvLnNwcmludGYpKCIlcyBtdXN0IGJlIHByb3ZpZGVkIix0fHwiQSB2YWx1ZSIpKSxlfSxpc05vbkVtcHR5U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmZS5sZW5ndGg+MH0sYXNzZXJ0SXNMaXN0OmZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3QgYW4gYXJyYXkiKX0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmNvbnN0cnVjdG9yJiZlLmNhbGwmJmUuYXBwbHkpfSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4hKCJvYmplY3QiIT09TChlKXx8bnVsbD09PWUpfSxpc1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9LGlzTnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX19LGs9bmV3IFJlZ0V4cCgiXih3c3M6Ly8pXFx3KiIpO08udmFsaWRXU1VybD1mdW5jdGlvbihlKXtyZXR1cm4gay50ZXN0KGUpfSxPLmdldFN1YnNjcmlwdGlvblJlc3BvbnNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57dG9waWM6ZSxjb250ZW50OntzdGF0dXM6dD8ic3VjY2VzcyI6ImZhaWx1cmUiLHRvcGljczpufX19LE8uYXNzZXJ0SXNPYmplY3Q9ZnVuY3Rpb24oZSx0KXtpZighTy5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIil9LE8uYWRkSml0dGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3Q9TWF0aC5taW4odCwxKTt2YXIgbj1NYXRoLnJhbmRvbSgpPi41PzE6LTE7cmV0dXJuIE1hdGguZmxvb3IoZStuKmUqTWF0aC5yYW5kb20oKSp0KX0sTy5pc05ldHdvcmtPbmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLm9uTGluZX0sTy5pc05ldHdvcmtGYWlsdXJlPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUuX2RlYnVnfHwhZS5fZGVidWcudHlwZSkmJiJOZXR3b3JraW5nRXJyb3IiPT09ZS5fZGVidWcudHlwZX07dmFyIE49TztmdW5jdGlvbiBQKGUpe3JldHVybihQPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBEKGUsdCl7cmV0dXJuKEQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIHgodCl7cmV0dXJuKHg9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PWUoU3ltYm9sLml0ZXJhdG9yKT9mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOmUodCl9KSh0KX1mdW5jdGlvbiBNKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gVShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fWZ1bmN0aW9uIEYoZSx0LG4pe3JldHVybiB0JiZVKGUucHJvdG90eXBlLHQpLG4mJlUoZSxuKSxlfXZhciBqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe00odGhpcyxlKX1yZXR1cm4gRihlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbihlKXt9fV0pLGV9KCkscT1hLEI9e0RFQlVHOjEwLElORk86MjAsV0FSTjozMCxFUlJPUjo0MCxBRFZBTkNFRF9MT0c6NTB9LEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7TSh0aGlzLGUpLHRoaXMudXBkYXRlTG9nZ2VyQ29uZmlnKCksdGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcj1IKCl9cmV0dXJuIEYoZSxbe2tleToid3JpdGVUb0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmhhc0NsaWVudExvZ2dlcigpKXN3aXRjaChlKXtjYXNlIEIuREVCVUc6cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci5kZWJ1Zyh0KXx8dDtjYXNlIEIuSU5GTzpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmluZm8odCl8fHQ7Y2FzZSBCLldBUk46cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci53YXJuKHQpfHx0O2Nhc2UgQi5FUlJPUjpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmVycm9yKHQpfHx0O2Nhc2UgQi5BRFZBTkNFRF9MT0c6cmV0dXJuIHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyP3RoaXMuX2NsaWVudExvZ2dlclt0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcl0odCl8fHQ6IiJ9fX0se2tleToiaXNMZXZlbEVuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPj10aGlzLl9sZXZlbH19LHtrZXk6Imhhc0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2NsaWVudExvZ2dlcn19LHtrZXk6ImdldExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcmVmaXh8fHE7cmV0dXJuIHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj09PWk/dGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcjpuZXcgVyh0KX19LHtrZXk6InVwZGF0ZUxvZ2dlckNvbmZpZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dGhpcy5fbGV2ZWw9dC5sZXZlbHx8Qi5JTkZPLHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyPSJ3YXJuIix0LmFkdmFuY2VkTG9nV3JpdGVyJiYodGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI9dC5hZHZhbmNlZExvZ1dyaXRlciksdC5jdXN0b21pemVkTG9nZ2VyJiYib2JqZWN0Ij09PXgodC5jdXN0b21pemVkTG9nZ2VyKSYmKHRoaXMudXNlQ2xpZW50TG9nZ2VyPSEwKSx0aGlzLl9jbGllbnRMb2dnZXI9dC5sb2dnZXJ8fHRoaXMuc2VsZWN0TG9nZ2VyKHQpLHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj0iTlVMTCIsdC5kZWJ1ZyYmKHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj1pKSx0LmxvZ2dlciYmKHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj0iQ0xJRU5UX0xPR0dFUiIpfX0se2tleToic2VsZWN0TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jdXN0b21pemVkTG9nZ2VyJiYib2JqZWN0Ij09PXgoZS5jdXN0b21pemVkTG9nZ2VyKT9lLmN1c3RvbWl6ZWRMb2dnZXI6ZS51c2VEZWZhdWx0TG9nZ2VyPyh0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyPUgoKSx0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyKTpudWxsfX1dKSxlfSgpLFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7TSh0aGlzLGUpfXJldHVybiBGKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJhZHZhbmNlZExvZyIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLGV9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIE0odGhpcyxlKSwobj1mdW5jdGlvbihlLHQpe3JldHVybiF0fHwib2JqZWN0IiE9PXgodCkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX0oZSk6dH0odGhpcyxQKGUpLmNhbGwodGhpcykpKS5wcmVmaXg9dHx8cSxufXJldHVybiBmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZEKGUsdCl9KGUsViksRihlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuREVCVUcsdCl9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5JTkZPLHQpfX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuV0FSTix0KX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5FUlJPUix0KX19LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5BRFZBTkNFRF9MT0csdCl9fSx7a2V5OiJfc2hvdWxkTG9nIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gei5oYXNDbGllbnRMb2dnZXIoKSYmei5pc0xldmVsRW5hYmxlZChlKX19LHtrZXk6Il93cml0ZVRvQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB6LndyaXRlVG9DbGllbnRMb2dnZXIoZSx0KX19LHtrZXk6Il9sb2ciLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fc2hvdWxkTG9nKGUpKXt2YXIgbj16LnVzZUNsaWVudExvZ2dlcj90OnRoaXMuX2NvbnZlcnRUb1NpbmdsZVN0YXRlbWVudCh0LGUpO3JldHVybiB0aGlzLl93cml0ZVRvQ2xpZW50TG9nZ2VyKGUsbil9fX0se2tleToiX2NvbnZlcnRUb1NpbmdsZVN0YXRlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpLHI9dGhpcy5fZ2V0TG9nTGV2ZWxCeVZhbHVlKHQpLG89IlsiLmNvbmNhdChuLCJdWyIpLmNvbmNhdChyLCJdIik7dGhpcy5wcmVmaXgmJihvKz10aGlzLnByZWZpeCsiICIpLHRoaXMub3B0aW9ucyYmKHRoaXMub3B0aW9ucy5wcmVmaXg/bys9IiAiK3RoaXMub3B0aW9ucy5wcmVmaXgrIjoiOm8rPSIiLHRoaXMub3B0aW9ucy5sb2dNZXRhRGF0YT9vKz0iIE1ldGEgZGF0YTogIitKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMubG9nTWV0YURhdGEpOm8rPSIiKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIGE9ZVtpXTtvKz10aGlzLl9jb252ZXJ0VG9TdHJpbmcoYSkrIiAifXJldHVybiBvfX0se2tleToiX2dldExvZ0xldmVsQnlWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMTA6cmV0dXJuIkRFQlVHIjtjYXNlIDIwOnJldHVybiJJTkZPIjtjYXNlIDMwOnJldHVybiJXQVJOIjtjYXNlIDQwOnJldHVybiJFUlJPUiI7Y2FzZSA1MDpyZXR1cm4iQURWQU5DRURfTE9HIn19fSx7a2V5OiJfY29udmVydFRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXt0cnl7aWYoIWUpcmV0dXJuIiI7aWYoTi5pc1N0cmluZyhlKSlyZXR1cm4gZTtpZihOLmlzT2JqZWN0KGUpJiZOLmlzRnVuY3Rpb24oZS50b1N0cmluZykpe3ZhciB0PWUudG9TdHJpbmcoKTtpZigiW29iamVjdCBPYmplY3RdIiE9PXQpcmV0dXJuIHR9cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKCJFcnJvciB3aGlsZSBjb252ZXJ0aW5nIGFyZ3VtZW50IHRvIHN0cmluZyIsZSx0KSwiIn19fV0pLGV9KCksSD1mdW5jdGlvbigpe3ZhciBlPW5ldyBWO3JldHVybiBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuZGVidWcuYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuaW5mby5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS53YXJuLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5lcnJvci5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlfSx6PW5ldyBHO2Z1bmN0aW9uIEsoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX12YXIgWT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjJlMzshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0odGhpcyxlKSx0aGlzLm51bUF0dGVtcHRzPTAsdGhpcy5leGVjdXRvcj10LHRoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9uPSExLHRoaXMuZGVmYXVsdFJldHJ5PW59dmFyIHQsbjtyZXR1cm4gdD1lLChuPVt7a2V5OiJyZXRyeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9ufHwodGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb249ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9leGVjdXRlKCl9KSx0aGlzLl9nZXREZWxheSgpKSl9fSx7a2V5OiJfZXhlY3V0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbj0hMSx0aGlzLmV4ZWN1dG9yKCksdGhpcy5udW1BdHRlbXB0cysrfX0se2tleToiY29ubmVjdGVkIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubnVtQXR0ZW1wdHM9MH19LHtrZXk6Il9nZXREZWxheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnBvdygyLHRoaXMubnVtQXR0ZW1wdHMpKnRoaXMuZGVmYXVsdFJldHJ5O3JldHVybiBlPD0zZTQ/ZTozZTR9fSx7a2V5OiJnZXRJc0Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5udW1BdHRlbXB0c319XSkmJksodC5wcm90b3R5cGUsbiksZX0oKTtyLmQobiwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSk7dmFyIFg9ZnVuY3Rpb24oKXt2YXIgZT16LmdldExvZ2dlcih7cHJlZml4OmF9KSx0PU4uaXNOZXR3b3JrT25saW5lKCksbj17cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfSxyPXtyZWNvbm5lY3RXZWJTb2NrZXQ6ITAsd2Vic29ja2V0SW5pdEZhaWxlZDohMSxleHBvbmVudGlhbEJhY2tPZmZUaW1lOjFlMyxleHBvbmVudGlhbFRpbWVvdXRIYW5kbGU6bnVsbCxsaWZlVGltZVRpbWVvdXRIYW5kbGU6bnVsbCx3ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZDpudWxsLGNvbm5TdGF0ZTpudWxsfSxvPXtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDowLGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm51bGwsbm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6bnVsbH0saT17cGVuZGluZ1Jlc3BvbnNlOiExLGludGVydmFsSGFuZGxlOm51bGx9LEw9e2luaXRGYWlsdXJlOm5ldyBTZXQsZ2V0V2ViU29ja2V0VHJhbnNwb3J0Om51bGwsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0fSxPPXtjb25uQ29uZmlnOm51bGwscHJvbWlzZUhhbmRsZTpudWxsLHByb21pc2VDb21wbGV0ZWQ6ITB9LGs9e3N1YnNjcmliZWQ6bmV3IFNldCxwZW5kaW5nOm5ldyBTZXQsc3Vic2NyaXB0aW9uSGlzdG9yeTpuZXcgU2V0fSxQPXtyZXNwb25zZUNoZWNrSW50ZXJ2YWxJZDpudWxsLHJlcXVlc3RDb21wbGV0ZWQ6ITAscmVTdWJzY3JpYmVJbnRlcnZhbElkOm51bGwsY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0czowLGNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q6MH0sRD1uZXcgWSgoZnVuY3Rpb24oKXtzZSgpfSkpLHg9bmV3IFNldChbQSwiYXdzL3Vuc3Vic2NyaWJlIixfXSksTT1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZih0IT09Ti5pc05ldHdvcmtPbmxpbmUoKSl7aWYoISh0PU4uaXNOZXR3b3JrT25saW5lKCkpKXJldHVybiBlLmFkdmFuY2VkTG9nKHMpLHZvaWQgbGUoZS5pbmZvKHMpKTt2YXIgbj1WKCk7dCYmKCFufHxxKG4sV2ViU29ja2V0LkNMT1NJTkcpfHxxKG4sV2ViU29ja2V0LkNMT1NFRCkpJiYoZS5hZHZhbmNlZExvZyhjKSxsZShlLmluZm8oYykpLHNlKCkpfX0pLDI1MCksVT1mdW5jdGlvbih0LG4pe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3Qobil9Y2F0Y2godCl7bGUoZS5lcnJvcigiRXJyb3IgZXhlY3V0aW5nIGNhbGxiYWNrIix0KSl9fSkpfSxGPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiJOVUxMIjtzd2l0Y2goZS5yZWFkeVN0YXRlKXtjYXNlIFdlYlNvY2tldC5DT05ORUNUSU5HOnJldHVybiJDT05ORUNUSU5HIjtjYXNlIFdlYlNvY2tldC5PUEVOOnJldHVybiJPUEVOIjtjYXNlIFdlYlNvY2tldC5DTE9TSU5HOnJldHVybiJDTE9TSU5HIjtjYXNlIFdlYlNvY2tldC5DTE9TRUQ6cmV0dXJuIkNMT1NFRCI7ZGVmYXVsdDpyZXR1cm4iVU5ERUZJTkVEIn19LGo9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06IiI7bGUoZS5kZWJ1ZygiWyIrdCsiXSBQcmltYXJ5IFdlYlNvY2tldDogIitGKG4ucHJpbWFyeSkrIiB8IFNlY29uZGFyeSBXZWJTb2NrZXQ6ICIrRihuLnNlY29uZGFyeSkpKX0scT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLnJlYWR5U3RhdGU9PT10fSxCPWZ1bmN0aW9uKGUpe3JldHVybiBxKGUsV2ViU29ja2V0Lk9QRU4pfSxHPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8dm9pZCAwPT09ZS5yZWFkeVN0YXRlfHxxKGUsV2ViU29ja2V0LkNMT1NFRCl9LFY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW4uc2Vjb25kYXJ5P24uc2Vjb25kYXJ5Om4ucHJpbWFyeX0sVz1mdW5jdGlvbigpe3JldHVybiBCKFYoKSl9LEg9ZnVuY3Rpb24oKXtpZihpLnBlbmRpbmdSZXNwb25zZSlyZXR1cm4gZS5hZHZhbmNlZExvZyhsKSxsZShlLndhcm4obCkpLGNsZWFySW50ZXJ2YWwoaS5pbnRlcnZhbEhhbmRsZSksaS5wZW5kaW5nUmVzcG9uc2U9ITEsdm9pZCBzZSgpO1coKT8obGUoZS5kZWJ1ZygiU2VuZGluZyBoZWFydGJlYXQiKSksVigpLnNlbmQoaWUoXykpLGkucGVuZGluZ1Jlc3BvbnNlPSEwKTooZS5hZHZhbmNlZExvZyhwKSxsZShlLndhcm4ocCkpLGooInNlbmRIZWFydEJlYXQiKSxzZSgpKX0sSz1mdW5jdGlvbigpe2UuYWR2YW5jZWRMb2coIlJlc2V0IFdlYnNvY2tldCBzdGF0ZSIpLHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZT0xZTMsaS5wZW5kaW5nUmVzcG9uc2U9ITEsci5yZWNvbm5lY3RXZWJTb2NrZXQ9ITAsY2xlYXJUaW1lb3V0KHIubGlmZVRpbWVUaW1lb3V0SGFuZGxlKSxjbGVhckludGVydmFsKGkuaW50ZXJ2YWxIYW5kbGUpLGNsZWFyVGltZW91dChyLmV4cG9uZW50aWFsVGltZW91dEhhbmRsZSksY2xlYXJUaW1lb3V0KHIud2ViU29ja2V0SW5pdENoZWNrZXJUaW1lb3V0SWQpfSxYPWZ1bmN0aW9uKCl7UC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTAsUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PTAsY2xlYXJJbnRlcnZhbChQLnJlc3BvbnNlQ2hlY2tJbnRlcnZhbElkKSxjbGVhckludGVydmFsKFAucmVTdWJzY3JpYmVJbnRlcnZhbElkKX0sUT1mdW5jdGlvbigpe28uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ9MCxvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lPW51bGwsby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD1udWxsfSxKPWZ1bmN0aW9uKCl7RC5jb25uZWN0ZWQoKTt0cnl7ZS5hZHZhbmNlZExvZyhkKSxsZShlLmluZm8oZCkpLGooIndlYlNvY2tldE9uT3BlbiIpLG51bGwhPT1yLmNvbm5TdGF0ZSYmci5jb25uU3RhdGUhPT1SfHxVKEwuY29ubmVjdGlvbkdhaW4pLHIuY29ublN0YXRlPSJjb25uZWN0ZWQiO3ZhciB0PURhdGUubm93KCk7VShMLmNvbm5lY3Rpb25PcGVuLHtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDpvLmNvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50LGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUsbm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6by5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcCxjb25uZWN0aW9uRXN0YWJsaXNoZWRUaW1lOnQsdGltZVRvQ29ubmVjdDp0LW8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUsdGltZVdpdGhvdXRDb25uZWN0aW9uOm8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA/dC1vLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wOm51bGx9KSxRKCksSygpLFYoKS5vcGVuVGltZXN0YW1wPURhdGUubm93KCksMD09PWsuc3Vic2NyaWJlZC5zaXplJiZCKG4uc2Vjb25kYXJ5KSYmdGUobi5wcmltYXJ5LCJbUHJpbWFyeSBXZWJTb2NrZXRdIENsb3NpbmcgV2ViU29ja2V0IiksKGsuc3Vic2NyaWJlZC5zaXplPjB8fGsucGVuZGluZy5zaXplPjApJiYoQihuLnNlY29uZGFyeSkmJmxlKGUuaW5mbygiU3Vic2NyaWJpbmcgc2Vjb25kYXJ5IHdlYnNvY2tldCB0byB0b3BpY3Mgb2YgcHJpbWFyeSB3ZWJzb2NrZXQiKSksay5zdWJzY3JpYmVkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2suc3Vic2NyaXB0aW9uSGlzdG9yeS5hZGQoZSksay5wZW5kaW5nLmFkZChlKX0pKSxrLnN1YnNjcmliZWQuY2xlYXIoKSxlZSgpKSxIKCksaS5pbnRlcnZhbEhhbmRsZT1zZXRJbnRlcnZhbChILDFlNCk7dmFyIGE9MWUzKk8uY29ubkNvbmZpZy53ZWJTb2NrZXRUcmFuc3BvcnQudHJhbnNwb3J0TGlmZVRpbWVJblNlY29uZHM7bGUoZS5kZWJ1ZygiU2NoZWR1bGluZyBXZWJTb2NrZXQgbWFuYWdlciByZWNvbm5lY3Rpb24sIGFmdGVyIGRlbGF5ICIrYSsiIG1zIikpLHIubGlmZVRpbWVUaW1lb3V0SGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bGUoZS5kZWJ1ZygiU3RhcnRpbmcgc2NoZWR1bGVkIFdlYlNvY2tldCBtYW5hZ2VyIHJlY29ubmVjdGlvbiIpKSxzZSgpfSksYSl9Y2F0Y2godCl7bGUoZS5lcnJvcigiRXJyb3IgYWZ0ZXIgZXN0YWJsaXNoaW5nIFdlYlNvY2tldCBjb25uZWN0aW9uIix0KSl9fSxaPWZ1bmN0aW9uKHQpe2ooIndlYlNvY2tldE9uRXJyb3IiKSxlLmFkdmFuY2VkTG9nKGYsSlNPTi5zdHJpbmdpZnkodCkpLGxlKGUuZXJyb3IoZixKU09OLnN0cmluZ2lmeSh0KSkpLEQuZ2V0SXNDb25uZWN0ZWQoKT9zZSgpOkQucmV0cnkoKX0sJD1mdW5jdGlvbih0KXt2YXIgcj1KU09OLnBhcnNlKHQuZGF0YSk7c3dpdGNoKHIudG9waWMpe2Nhc2UgQTppZihsZShlLmRlYnVnKCJTdWJzY3JpcHRpb24gTWVzc2FnZSByZWNlaXZlZCBmcm9tIHdlYlNvY2tldCBzZXJ2ZXIiLHQuZGF0YSkpLFAucmVxdWVzdENvbXBsZXRlZD0hMCxQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q9MCwic3VjY2VzcyI9PT1yLmNvbnRlbnQuc3RhdHVzKVAuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cz0wLHIuY29udGVudC50b3BpY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ay5zdWJzY3JpcHRpb25IaXN0b3J5LmRlbGV0ZShlKSxrLnBlbmRpbmcuZGVsZXRlKGUpLGsuc3Vic2NyaWJlZC5hZGQoZSl9KSksMD09PWsuc3Vic2NyaXB0aW9uSGlzdG9yeS5zaXplP0Iobi5zZWNvbmRhcnkpJiYobGUoZS5pbmZvKCJTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCBzZWNvbmRhcnkgd2Vic29ja2V0IHRvIGFsbCB0b3BpY3Mgb2YgcHJpbWFyeSB3ZWJzb2NrZXQiKSksdGUobi5wcmltYXJ5LCJbUHJpbWFyeSBXZWJTb2NrZXRdIENsb3NpbmcgV2ViU29ja2V0IikpOmVlKCksVShMLnN1YnNjcmlwdGlvblVwZGF0ZSxyKTtlbHNle2lmKGNsZWFySW50ZXJ2YWwoUC5yZVN1YnNjcmliZUludGVydmFsSWQpLCsrUC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzLDU9PT1QLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHMpcmV0dXJuIFUoTC5zdWJzY3JpcHRpb25GYWlsdXJlLHIpLHZvaWQoUC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTApO1AucmVTdWJzY3JpYmVJbnRlcnZhbElkPXNldEludGVydmFsKChmdW5jdGlvbigpe2VlKCl9KSw1MDApfWJyZWFrO2Nhc2UgXzpsZShlLmRlYnVnKCJIZWFydGJlYXQgcmVzcG9uc2UgcmVjZWl2ZWQiKSksaS5wZW5kaW5nUmVzcG9uc2U9ITE7YnJlYWs7ZGVmYXVsdDppZihyLnRvcGljKXtpZihlLmFkdmFuY2VkTG9nKFQsci50b3BpYyksbGUoZS5kZWJ1ZyhUK3IudG9waWMpKSxCKG4ucHJpbWFyeSkmJkIobi5zZWNvbmRhcnkpJiYwPT09ay5zdWJzY3JpcHRpb25IaXN0b3J5LnNpemUmJnRoaXM9PT1uLnByaW1hcnkpcmV0dXJuIHZvaWQgbGUoZS53YXJuKCJJZ25vcmluZyBNZXNzYWdlIGZvciBUb3BpYyAiK3IudG9waWMrIiwgdG8gYXZvaWQgZHVwbGljYXRlcyIpKTtpZigwPT09TC5hbGxNZXNzYWdlLnNpemUmJjA9PT1MLnRvcGljLnNpemUpcmV0dXJuIHZvaWQgbGUoZS53YXJuKCJObyByZWdpc3RlcmVkIGNhbGxiYWNrIGxpc3RlbmVyIGZvciBUb3BpYyIsci50b3BpYykpO2UuYWR2YW5jZWRMb2coIldlYnNvY2tldE1hbmFnZXIgaW52b2tlIGNhbGxiYWNrcyBmb3IgdG9waWMgc3VjY2VzcyAiLHIudG9waWMpLFUoTC5hbGxNZXNzYWdlLHIpLEwudG9waWMuaGFzKHIudG9waWMpJiZVKEwudG9waWMuZ2V0KHIudG9waWMpLHIpfWVsc2Ugci5tZXNzYWdlPyhlLmFkdmFuY2VkTG9nKEksciksbGUoZS53YXJuKEkscikpKTooZS5hZHZhbmNlZExvZyh3LHIpLGxlKGUud2Fybih3LHIpKSl9fSxlZT1mdW5jdGlvbiB0KCl7aWYoUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PjMpcmV0dXJuIGxlKGUud2FybigiSWdub3Jpbmcgc3Vic2NyaWJlUGVuZGluZ1RvcGljcyBzaW5jZSB3ZSBoYXZlIGV4aGF1c3RlZCBtYXggc3Vic2NyaXB0aW9uIHJldHJpZXMgd2l0aCBubyByZXNwb25zZSIpKSx2b2lkIFUoTC5zdWJzY3JpcHRpb25GYWlsdXJlLE4uZ2V0U3Vic2NyaXB0aW9uUmVzcG9uc2UoQSwhMSxBcnJheS5mcm9tKGsucGVuZGluZykpKTtXKCk/MCE9PUFycmF5LmZyb20oay5wZW5kaW5nKS5sZW5ndGgmJihjbGVhckludGVydmFsKFAucmVzcG9uc2VDaGVja0ludGVydmFsSWQpLFYoKS5zZW5kKGllKEEse3RvcGljczpBcnJheS5mcm9tKGsucGVuZGluZyl9KSksUC5yZXF1ZXN0Q29tcGxldGVkPSExLFAucmVzcG9uc2VDaGVja0ludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7UC5yZXF1ZXN0Q29tcGxldGVkfHwoKytQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3QsdCgpKX0pLDFlMykpOmxlKGUud2FybigiSWdub3Jpbmcgc3Vic2NyaWJlUGVuZGluZ1RvcGljcyBjYWxsIHNpbmNlIERlZmF1bHQgV2ViU29ja2V0IGlzIG5vdCBvcGVuIikpfSx0ZT1mdW5jdGlvbih0LG4pe3EodCxXZWJTb2NrZXQuQ09OTkVDVElORyl8fHEodCxXZWJTb2NrZXQuT1BFTik/dC5jbG9zZSgxZTMsbik6bGUoZS53YXJuKCJJZ25vcmluZyBXZWJTb2NrZXQgQ2xvc2UgcmVxdWVzdCwgV2ViU29ja2V0IFN0YXRlOiAiK0YodCkpKX0sbmU9ZnVuY3Rpb24oZSl7dGUobi5wcmltYXJ5LCJbUHJpbWFyeV0gV2ViU29ja2V0ICIrZSksdGUobi5zZWNvbmRhcnksIltTZWNvbmRhcnldIFdlYlNvY2tldCAiK2UpfSxyZT1mdW5jdGlvbigpe28uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQrKzt2YXIgdD1OLmFkZEppdHRlcihyLmV4cG9uZW50aWFsQmFja09mZlRpbWUsLjMpO0RhdGUubm93KCkrdDw9Ty5jb25uQ29uZmlnLnVybENvbm5WYWxpZFRpbWU/KGUuYWR2YW5jZWRMb2coZyksbGUoZS5kZWJ1ZyhnK3QrIiBtcyIpKSxyLmV4cG9uZW50aWFsVGltZW91dEhhbmRsZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBjZSgpfSksdCksci5leHBvbmVudGlhbEJhY2tPZmZUaW1lKj0yKTooZS5hZHZhbmNlZExvZyhtKSxsZShlLndhcm4obSkpLHNlKCkpfSxvZT1mdW5jdGlvbih0KXtLKCksWCgpLGUuYWR2YW5jZWRMb2codix0KSxsZShlLmVycm9yKHYpKSxyLndlYnNvY2tldEluaXRGYWlsZWQ9ITAsbmUoIlRlcm1pbmF0aW5nIFdlYlNvY2tldCBNYW5hZ2VyIiksY2xlYXJJbnRlcnZhbChNKSxVKEwuaW5pdEZhaWx1cmUse2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50Om8uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSxyZWFzb246dH0pLFEoKX0saWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe3RvcGljOmUsY29udGVudDp0fSl9LGFlPWZ1bmN0aW9uKHQpe3JldHVybiEhKE4uaXNPYmplY3QodCkmJk4uaXNPYmplY3QodC53ZWJTb2NrZXRUcmFuc3BvcnQpJiZOLmlzTm9uRW1wdHlTdHJpbmcodC53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKSYmTi52YWxpZFdTVXJsKHQud2ViU29ja2V0VHJhbnNwb3J0LnVybCkmJjFlMyp0LndlYlNvY2tldFRyYW5zcG9ydC50cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcz49M2U1KXx8KGxlKGUuZXJyb3IoIkludmFsaWQgV2ViU29ja2V0IENvbm5lY3Rpb24gQ29uZmlndXJhdGlvbiIsdCkpLCExKX0sc2U9ZnVuY3Rpb24oKXtpZighTi5pc05ldHdvcmtPbmxpbmUoKSlyZXR1cm4gZS5hZHZhbmNlZExvZyh1KSx2b2lkIGxlKGUuaW5mbyh1KSk7aWYoci53ZWJzb2NrZXRJbml0RmFpbGVkKWxlKGUuZGVidWcoIldlYlNvY2tldCBJbml0IGhhZCBmYWlsZWQsIGlnbm9yaW5nIHRoaXMgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0IikpO2Vsc2V7aWYoTy5wcm9taXNlQ29tcGxldGVkKXJldHVybiBLKCksZS5hZHZhbmNlZExvZyh5KSxsZShlLmluZm8oeSkpLG8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU9by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZXx8RGF0ZS5ub3coKSxPLnByb21pc2VDb21wbGV0ZWQ9ITEsTy5wcm9taXNlSGFuZGxlPUwuZ2V0V2ViU29ja2V0VHJhbnNwb3J0KCksTy5wcm9taXNlSGFuZGxlLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBPLnByb21pc2VDb21wbGV0ZWQ9ITAsZS5hZHZhbmNlZExvZyhiKSxsZShlLmRlYnVnKGIsdCkpLGFlKHQpPyhPLmNvbm5Db25maWc9dCxPLmNvbm5Db25maWcudXJsQ29ublZhbGlkVGltZT1EYXRlLm5vdygpKzg1ZTMsY2UoKSk6KG9lKCJJbnZhbGlkIFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb246ICIrdCkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9KX0pLChmdW5jdGlvbih0KXtyZXR1cm4gTy5wcm9taXNlQ29tcGxldGVkPSEwLGUuYWR2YW5jZWRMb2coUyksbGUoZS5lcnJvcihTLHQpKSxOLmlzTmV0d29ya0ZhaWx1cmUodCk/KGUuYWR2YW5jZWRMb2coRStKU09OLnN0cmluZ2lmeSh0KSksbGUoZS5pbmZvKEUrSlNPTi5zdHJpbmdpZnkodCkpKSxELnJldHJ5KCkpOm9lKCJGYWlsZWQgdG8gZmV0Y2ggd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbjogIitKU09OLnN0cmluZ2lmeSh0KSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9fSkpO2xlKGUuZGVidWcoIlRoZXJlIGlzIGFuIG9uZ29pbmcgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0LCB0aGlzIHJlcXVlc3Qgd2lsbCBiZSBpZ25vcmVkIikpfX0sY2U9ZnVuY3Rpb24oKXtpZihyLndlYnNvY2tldEluaXRGYWlsZWQpcmV0dXJuIGxlKGUuaW5mbygid2ViLXNvY2tldCBpbml0aWFsaXppbmcgaGFkIGZhaWxlZCwgYWJvcnRpbmcgcmUtaW5pdCIpKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH07aWYoIU4uaXNOZXR3b3JrT25saW5lKCkpcmV0dXJuIGxlKGUud2FybigiU3lzdGVtIGlzIG9mZmxpbmUgYWJvcnRpbmcgd2ViLXNvY2tldCBpbml0IikpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfTtlLmFkdmFuY2VkTG9nKEMpLGxlKGUuaW5mbyhDKSksaigiaW5pdFdlYlNvY2tldCIpO3RyeXtpZihhZShPLmNvbm5Db25maWcpKXt2YXIgdD1udWxsO3JldHVybiBCKG4ucHJpbWFyeSk/KGxlKGUuZGVidWcoIlByaW1hcnkgU29ja2V0IGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBvcGVuIikpLHEobi5zZWNvbmRhcnksV2ViU29ja2V0LkNPTk5FQ1RJTkcpfHwobGUoZS5kZWJ1ZygiRXN0YWJsaXNoaW5nIGEgc2Vjb25kYXJ5IHdlYi1zb2NrZXQgY29ubmVjdGlvbiIpKSxELm51bUF0dGVtcHRzPTAsbi5zZWNvbmRhcnk9dWUoKSksdD1uLnNlY29uZGFyeSk6KHEobi5wcmltYXJ5LFdlYlNvY2tldC5DT05ORUNUSU5HKXx8KGxlKGUuZGVidWcoIkVzdGFibGlzaGluZyBhIHByaW1hcnkgd2ViLXNvY2tldCBjb25uZWN0aW9uIikpLG4ucHJpbWFyeT11ZSgpKSx0PW4ucHJpbWFyeSksci53ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe0IodCl8fHJlKCl9KSwxZTMpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiExfX19Y2F0Y2godCl7cmV0dXJuIGxlKGUuZXJyb3IoIkVycm9yIEluaXRpYWxpemluZyB3ZWItc29ja2V0LW1hbmFnZXIiLHQpKSxvZSgiRmFpbGVkIHRvIGluaXRpYWxpemUgbmV3IFdlYlNvY2tldDogIit0Lm1lc3NhZ2UpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfX19LHVlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFdlYlNvY2tldChPLmNvbm5Db25maWcud2ViU29ja2V0VHJhbnNwb3J0LnVybCk7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcigib3BlbiIsSiksdC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwkKSx0LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixaKSx0LmFkZEV2ZW50TGlzdGVuZXIoImNsb3NlIiwoZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7ZS5hZHZhbmNlZExvZyhoLEpTT04uc3RyaW5naWZ5KHQpKSxsZShlLmluZm8oaCxKU09OLnN0cmluZ2lmeSh0KSkpLGooIndlYlNvY2tldE9uQ2xvc2UgYmVmb3JlLWNsZWFudXAiKSxVKEwuY29ubmVjdGlvbkNsb3NlLHtvcGVuVGltZXN0YW1wOmkub3BlblRpbWVzdGFtcCxjbG9zZVRpbWVzdGFtcDpEYXRlLm5vdygpLGNvbm5lY3Rpb25EdXJhdGlvbjpEYXRlLm5vdygpLWkub3BlblRpbWVzdGFtcCxjb2RlOnQuY29kZSxyZWFzb246dC5yZWFzb259KSxHKG4ucHJpbWFyeSkmJihuLnByaW1hcnk9bnVsbCksRyhuLnNlY29uZGFyeSkmJihuLnNlY29uZGFyeT1udWxsKSxyLnJlY29ubmVjdFdlYlNvY2tldCYmKEIobi5wcmltYXJ5KXx8QihuLnNlY29uZGFyeSk/RyhuLnByaW1hcnkpJiZCKG4uc2Vjb25kYXJ5KSYmKGxlKGUuaW5mbygiW1ByaW1hcnldIFdlYlNvY2tldCBDbGVhbmx5IENsb3NlZCIpKSxuLnByaW1hcnk9bi5zZWNvbmRhcnksbi5zZWNvbmRhcnk9bnVsbCk6KGxlKGUud2FybigiTmVpdGhlciBwcmltYXJ5IHdlYnNvY2tldCBhbmQgbm9yIHNlY29uZGFyeSB3ZWJzb2NrZXQgaGF2ZSBvcGVuIGNvbm5lY3Rpb25zLCBhdHRlbXB0aW5nIHRvIHJlLWVzdGFibGlzaCBjb25uZWN0aW9uIikpLHIuY29ublN0YXRlPT09Uj9sZShlLmluZm8oIklnbm9yaW5nIGNvbm5lY3Rpb25Mb3N0IGNhbGxiYWNrIGludm9jYXRpb24iKSk6KFUoTC5jb25uZWN0aW9uTG9zdCx7b3BlblRpbWVzdGFtcDppLm9wZW5UaW1lc3RhbXAsY2xvc2VUaW1lc3RhbXA6RGF0ZS5ub3coKSxjb25uZWN0aW9uRHVyYXRpb246RGF0ZS5ub3coKS1pLm9wZW5UaW1lc3RhbXAsY29kZTp0LmNvZGUscmVhc29uOnQucmVhc29ufSksby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD1EYXRlLm5vdygpKSxyLmNvbm5TdGF0ZT1SLHNlKCkpLGooIndlYlNvY2tldE9uQ2xvc2UgYWZ0ZXItY2xlYW51cCIpKX0oaSx0KX0pKSx0fSxsZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXImJmUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlfTt0aGlzLmluaXQ9ZnVuY3Rpb24odCl7aWYoTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwidHJhbnNwb3J0SGFuZGxlIG11c3QgYmUgYSBmdW5jdGlvbiIpLG51bGw9PT1MLmdldFdlYlNvY2tldFRyYW5zcG9ydClyZXR1cm4gTC5nZXRXZWJTb2NrZXRUcmFuc3BvcnQ9dCxzZSgpO2xlKGUud2FybigiV2ViIFNvY2tldCBNYW5hZ2VyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkIikpfSx0aGlzLm9uSW5pdEZhaWx1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIkluaXRpYWxpemluZyBXZWJzb2NrZXQgTWFuYWdlciBGYWlsZWQhIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC5pbml0RmFpbHVyZS5hZGQodCksci53ZWJzb2NrZXRJbml0RmFpbGVkJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTC5pbml0RmFpbHVyZS5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbk9wZW49ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIG9wZW4iKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxMLmNvbm5lY3Rpb25PcGVuLmFkZCh0KSxmdW5jdGlvbigpe3JldHVybiBMLmNvbm5lY3Rpb25PcGVuLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uQ2xvc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC5jb25uZWN0aW9uQ2xvc2UuYWRkKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuY29ubmVjdGlvbkNsb3NlLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uR2Fpbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gZ2FpbiIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLEwuY29ubmVjdGlvbkdhaW4uYWRkKHQpLFcoKSYmdCgpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuY29ubmVjdGlvbkdhaW4uZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBsb3N0IiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC5jb25uZWN0aW9uTG9zdC5hZGQodCksci5jb25uU3RhdGU9PT1SJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTC5jb25uZWN0aW9uTG9zdC5kZWxldGUodCl9fSx0aGlzLm9uU3Vic2NyaXB0aW9uVXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKGUpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxMLnN1YnNjcmlwdGlvblVwZGF0ZS5hZGQoZSksZnVuY3Rpb24oKXtyZXR1cm4gTC5zdWJzY3JpcHRpb25VcGRhdGUuZGVsZXRlKGUpfX0sdGhpcy5vblN1YnNjcmlwdGlvbkZhaWx1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBzdWJzY3JpcHRpb24gZmFpbHVyZSIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLEwuc3Vic2NyaXB0aW9uRmFpbHVyZS5hZGQodCksZnVuY3Rpb24oKXtyZXR1cm4gTC5zdWJzY3JpcHRpb25GYWlsdXJlLmRlbGV0ZSh0KX19LHRoaXMub25NZXNzYWdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE4uYXNzZXJ0Tm90TnVsbChlLCJ0b3BpY05hbWUiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxMLnRvcGljLmhhcyhlKT9MLnRvcGljLmdldChlKS5hZGQodCk6TC50b3BpYy5zZXQoZSxuZXcgU2V0KFt0XSkpLGZ1bmN0aW9uKCl7cmV0dXJuIEwudG9waWMuZ2V0KGUpLmRlbGV0ZSh0KX19LHRoaXMub25BbGxNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKGUpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxMLmFsbE1lc3NhZ2UuYWRkKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuYWxsTWVzc2FnZS5kZWxldGUoZSl9fSx0aGlzLnN1YnNjcmliZVRvcGljcz1mdW5jdGlvbihlKXtOLmFzc2VydE5vdE51bGwoZSwidG9waWNzIiksTi5hc3NlcnRJc0xpc3QoZSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtrLnN1YnNjcmliZWQuaGFzKGUpfHxrLnBlbmRpbmcuYWRkKGUpfSkpLFAuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD0wLGVlKCl9LHRoaXMuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24odCl7aWYoTi5hc3NlcnRJc09iamVjdCh0LCJwYXlsb2FkIiksdm9pZCAwPT09dC50b3BpY3x8eC5oYXModC50b3BpYykpbGUoZS53YXJuKCJDYW5ub3Qgc2VuZCBtZXNzYWdlLCBJbnZhbGlkIHRvcGljIix0KSk7ZWxzZXt0cnl7dD1KU09OLnN0cmluZ2lmeSh0KX1jYXRjaChuKXtyZXR1cm4gdm9pZCBsZShlLndhcm4oIkVycm9yIHN0cmluZ2lmeSBtZXNzYWdlIix0KSl9VygpP1YoKS5zZW5kKHQpOmxlKGUud2FybigiQ2Fubm90IHNlbmQgbWVzc2FnZSwgd2ViIHNvY2tldCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuIikpfX0sdGhpcy5jbG9zZVdlYlNvY2tldD1mdW5jdGlvbigpe0soKSxYKCksci5yZWNvbm5lY3RXZWJTb2NrZXQ9ITEsY2xlYXJJbnRlcnZhbChNKSxuZSgiVXNlciByZXF1ZXN0IHRvIGNsb3NlIFdlYlNvY2tldCIpfSx0aGlzLnRlcm1pbmF0ZVdlYlNvY2tldE1hbmFnZXI9b2V9LFE9e2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgWH0sc2V0R2xvYmFsQ29uZmlnOmZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUubG9nZ2VyQ29uZmlnO3oudXBkYXRlTG9nZ2VyQ29uZmlnKHQpfSxMb2dMZXZlbDpCLExvZ2dlcjpqfX0sZnVuY3Rpb24odCxuLHIpe3ZhciBvOyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT17bm90X3N0cmluZzovW15zXS8sbm90X2Jvb2w6L1tedF0vLG5vdF90eXBlOi9bXlRdLyxub3RfcHJpbWl0aXZlOi9bXnZdLyxudW1iZXI6L1tkaWVmZ10vLG51bWVyaWNfYXJnOi9bYmNkaWVmZ3V4WF0vLGpzb246L1tqXS8sbm90X2pzb246L1teal0vLHRleHQ6L15bXlx4MjVdKy8sbW9kdWxvOi9eXHgyNXsyfS8scGxhY2Vob2xkZXI6L15ceDI1KD86KFsxLTldXGQqKVwkfFwoKFteKV0rKVwpKT8oXCspPygwfCdbXiRdKT8oLSk/KFxkKyk/KD86XC4oXGQrKSk/KFtiLWdpam9zdFR1dnhYXSkvLGtleTovXihbYS16X11bYS16X1xkXSopL2ksa2V5X2FjY2VzczovXlwuKFthLXpfXVthLXpfXGRdKikvaSxpbmRleF9hY2Nlc3M6L15cWyhcZCspXF0vLHNpZ246L15bKy1dL307ZnVuY3Rpb24gYSh0KXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgcixvLHMsYyx1LGwscCxkLGgsZj0xLGc9dC5sZW5ndGgsbT0iIjtmb3Iobz0wO288ZztvKyspaWYoInN0cmluZyI9PXR5cGVvZiB0W29dKW0rPXRbb107ZWxzZSBpZigib2JqZWN0Ij09ZSh0W29dKSl7aWYoKGM9dFtvXSkua2V5cylmb3Iocj1uW2ZdLHM9MDtzPGMua2V5cy5sZW5ndGg7cysrKXtpZihudWxsPT1yKXRocm93IG5ldyBFcnJvcihhKCdbc3ByaW50Zl0gQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSAiJXMiIG9mIHVuZGVmaW5lZCB2YWx1ZSAiJXMiJyxjLmtleXNbc10sYy5rZXlzW3MtMV0pKTtyPXJbYy5rZXlzW3NdXX1lbHNlIHI9Yy5wYXJhbV9ubz9uW2MucGFyYW1fbm9dOm5bZisrXTtpZihpLm5vdF90eXBlLnRlc3QoYy50eXBlKSYmaS5ub3RfcHJpbWl0aXZlLnRlc3QoYy50eXBlKSYmciBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYocj1yKCkpLGkubnVtZXJpY19hcmcudGVzdChjLnR5cGUpJiYibnVtYmVyIiE9dHlwZW9mIHImJmlzTmFOKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoYSgiW3NwcmludGZdIGV4cGVjdGluZyBudW1iZXIgYnV0IGZvdW5kICVUIixyKSk7c3dpdGNoKGkubnVtYmVyLnRlc3QoYy50eXBlKSYmKGQ9cj49MCksYy50eXBlKXtjYXNlImIiOnI9cGFyc2VJbnQociwxMCkudG9TdHJpbmcoMik7YnJlYWs7Y2FzZSJjIjpyPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQociwxMCkpO2JyZWFrO2Nhc2UiZCI6Y2FzZSJpIjpyPXBhcnNlSW50KHIsMTApO2JyZWFrO2Nhc2UiaiI6cj1KU09OLnN0cmluZ2lmeShyLG51bGwsYy53aWR0aD9wYXJzZUludChjLndpZHRoKTowKTticmVhaztjYXNlImUiOnI9Yy5wcmVjaXNpb24/cGFyc2VGbG9hdChyKS50b0V4cG9uZW50aWFsKGMucHJlY2lzaW9uKTpwYXJzZUZsb2F0KHIpLnRvRXhwb25lbnRpYWwoKTticmVhaztjYXNlImYiOnI9Yy5wcmVjaXNpb24/cGFyc2VGbG9hdChyKS50b0ZpeGVkKGMucHJlY2lzaW9uKTpwYXJzZUZsb2F0KHIpO2JyZWFrO2Nhc2UiZyI6cj1jLnByZWNpc2lvbj9TdHJpbmcoTnVtYmVyKHIudG9QcmVjaXNpb24oYy5wcmVjaXNpb24pKSk6cGFyc2VGbG9hdChyKTticmVhaztjYXNlIm8iOnI9KHBhcnNlSW50KHIsMTApPj4+MCkudG9TdHJpbmcoOCk7YnJlYWs7Y2FzZSJzIjpyPVN0cmluZyhyKSxyPWMucHJlY2lzaW9uP3Iuc3Vic3RyaW5nKDAsYy5wcmVjaXNpb24pOnI7YnJlYWs7Y2FzZSJ0IjpyPVN0cmluZyghIXIpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlIlQiOnI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UidSI6cj1wYXJzZUludChyLDEwKT4+PjA7YnJlYWs7Y2FzZSJ2IjpyPXIudmFsdWVPZigpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlIngiOnI9KHBhcnNlSW50KHIsMTApPj4+MCkudG9TdHJpbmcoMTYpO2JyZWFrO2Nhc2UiWCI6cj0ocGFyc2VJbnQociwxMCk+Pj4wKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1pLmpzb24udGVzdChjLnR5cGUpP20rPXI6KCFpLm51bWJlci50ZXN0KGMudHlwZSl8fGQmJiFjLnNpZ24/aD0iIjooaD1kPyIrIjoiLSIscj1yLnRvU3RyaW5nKCkucmVwbGFjZShpLnNpZ24sIiIpKSxsPWMucGFkX2NoYXI/IjAiPT09Yy5wYWRfY2hhcj8iMCI6Yy5wYWRfY2hhci5jaGFyQXQoMSk6IiAiLHA9Yy53aWR0aC0oaCtyKS5sZW5ndGgsdT1jLndpZHRoJiZwPjA/bC5yZXBlYXQocCk6IiIsbSs9Yy5hbGlnbj9oK3IrdToiMCI9PT1sP2grdStyOnUraCtyKX1yZXR1cm4gbX0oZnVuY3Rpb24oZSl7aWYoY1tlXSlyZXR1cm4gY1tlXTtmb3IodmFyIHQsbj1lLHI9W10sbz0wO247KXtpZihudWxsIT09KHQ9aS50ZXh0LmV4ZWMobikpKXIucHVzaCh0WzBdKTtlbHNlIGlmKG51bGwhPT0odD1pLm1vZHVsby5leGVjKG4pKSlyLnB1c2goIiUiKTtlbHNle2lmKG51bGw9PT0odD1pLnBsYWNlaG9sZGVyLmV4ZWMobikpKXRocm93IG5ldyBTeW50YXhFcnJvcigiW3NwcmludGZdIHVuZXhwZWN0ZWQgcGxhY2Vob2xkZXIiKTtpZih0WzJdKXtvfD0xO3ZhciBhPVtdLHM9dFsyXSx1PVtdO2lmKG51bGw9PT0odT1pLmtleS5leGVjKHMpKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5Iik7Zm9yKGEucHVzaCh1WzFdKTsiIiE9PShzPXMuc3Vic3RyaW5nKHVbMF0ubGVuZ3RoKSk7KWlmKG51bGwhPT0odT1pLmtleV9hY2Nlc3MuZXhlYyhzKSkpYS5wdXNoKHVbMV0pO2Vsc2V7aWYobnVsbD09PSh1PWkuaW5kZXhfYWNjZXNzLmV4ZWMocykpKXRocm93IG5ldyBTeW50YXhFcnJvcigiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXkiKTthLnB1c2godVsxXSl9dFsyXT1hfWVsc2Ugb3w9MjtpZigzPT09byl0aHJvdyBuZXcgRXJyb3IoIltzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWQiKTtyLnB1c2goe3BsYWNlaG9sZGVyOnRbMF0scGFyYW1fbm86dFsxXSxrZXlzOnRbMl0sc2lnbjp0WzNdLHBhZF9jaGFyOnRbNF0sYWxpZ246dFs1XSx3aWR0aDp0WzZdLHByZWNpc2lvbjp0WzddLHR5cGU6dFs4XX0pfW49bi5zdWJzdHJpbmcodFswXS5sZW5ndGgpfXJldHVybiBjW2VdPXJ9KHQpLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBhLmFwcGx5KG51bGwsW2VdLmNvbmNhdCh0fHxbXSkpfXZhciBjPU9iamVjdC5jcmVhdGUobnVsbCk7bi5zcHJpbnRmPWEsbi52c3ByaW50Zj1zLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnNwcmludGY9YSx3aW5kb3cudnNwcmludGY9cyx2b2lkIDA9PT0obz1mdW5jdGlvbigpe3JldHVybntzcHJpbnRmOmEsdnNwcmludGY6c319LmNhbGwobixyLG4sdCkpfHwodC5leHBvcnRzPW8pKX0oKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCksZnVuY3Rpb24oZSl7bi5kKHQsIldlYlNvY2tldE1hbmFnZXIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMCk7ZS5jb25uZWN0PWUuY29ubmVjdHx8e30sY29ubmVjdC5XZWJTb2NrZXRNYW5hZ2VyPXIuYTt2YXIgbz1yLmF9LmNhbGwodGhpcyxuKDMpKX0sZnVuY3Rpb24odCxuKXt2YXIgcjtyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e3I9cnx8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2godCl7Im9iamVjdCI9PSgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdz8idW5kZWZpbmVkIjplKHdpbmRvdykpJiYocj13aW5kb3cpfXQuZXhwb3J0cz1yfV0pfSwxNDQ6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMsbj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1uLHQubGlseT1uO3ZhciByPXtURVNUOiJURVNUIixUUkFDRToiVFJBQ0UiLERFQlVHOiJERUJVRyIsSU5GTzoiSU5GTyIsTE9HOiJMT0ciLFdBUk46IldBUk4iLEVSUk9SOiJFUlJPUiIsQ1JJVElDQUw6IkNSSVRJQ0FMIn0sbz17Q0NQOiJjY3AiLFNPRlRQSE9ORToic29mdHBob25lIixDSEFUOiJjaGF0IixUQVNLOiJ0YXNrIn0saT17VEVTVDowLFRSQUNFOjEwLERFQlVHOjIwLElORk86MzAsTE9HOjQwLFdBUk46NTAsRVJST1I6MTAwLENSSVRJQ0FMOjIwMH0sYT0iQ0NQIixzPSJTaGFyZWRXb3JrZXIiLGM9IkNSTSIsdT17VFJBQ0U6ZnVuY3Rpb24oZSl7Y29uc29sZS5pbmZvKGUpfSxERUJVRzpmdW5jdGlvbihlKXtjb25zb2xlLmluZm8oZSl9LElORk86ZnVuY3Rpb24oZSl7Y29uc29sZS5pbmZvKGUpfSxMT0c6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9LFRFU1Q6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9LFdBUk46ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKGUpfSxFUlJPUjpmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUpfSxDUklUSUNBTDpmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUpfX0sbD0iW3JlZGFjdGVkXSIscD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKSxpPXIuc2hpZnQoKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1PYmplY3QudmFsdWVzKG8pLmluZGV4T2YoZSl9KGkpPyhuPWksdD1yLnNoaWZ0KCkpOih0PWksbj1vLkNDUCkse2Zvcm1hdDp0LGNvbXBvbmVudDpuLGFyZ3M6cn19LGQ9ZnVuY3Rpb24oZSx0LHIsbyxpLHUpe3RoaXMuY29tcG9uZW50PWUsdGhpcy5sZXZlbD10LHRoaXMudGV4dD1yLHRoaXMudGltZT1uZXcgRGF0ZSx0aGlzLnRhYklkPW51bGw9PT1pP251bGw6aXx8bi5jb3JlLnRhYklkLHRoaXMuZXhjZXB0aW9uPW51bGwsdGhpcy5vYmplY3RzPVtdLHRoaXMubGluZT0wLHRoaXMuYWdlbnRSZXNvdXJjZUlkPW51bGw7dHJ5e24uYWdlbnQuaW5pdGlhbGl6ZWQmJih0aGlzLmFnZW50UmVzb3VyY2VJZD0obmV3IG4uQWdlbnQpLl9nZXRSZXNvdXJjZUlkKCkpfWNhdGNoKGUpe2NvbnNvbGUubG9nKCJJc3N1ZSBmaW5kaW5nIGFnZW50UmVzb3VyY2VJZDogIixlKX10aGlzLmxvZ2dlcklkPW8sdT90aGlzLmNvbnRleHRMYXllcj11Om4uaXNTaGFyZWRXb3JrZXIoKT90aGlzLmNvbnRleHRMYXllcj1zOm4uaXNDUk0oKT90aGlzLmNvbnRleHRMYXllcj1jOm4uaXNDQ1AoKSYmKHRoaXMuY29udGV4dExheWVyPWEpfTtkLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YWJJZHx8bnVsbCxuPWUuY29udGV4dExheWVyfHxudWxsLHI9bmV3IGQoby5DQ1AsZS5sZXZlbCxlLnRleHQsZS5sb2dnZXJJZCx0LG4pO3JldHVybiJbb2JqZWN0IERhdGVdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLnRpbWUpP3IudGltZT1uZXcgRGF0ZShlLnRpbWUuZ2V0VGltZSgpKToibnVtYmVyIj09dHlwZW9mIGUudGltZT9yLnRpbWU9bmV3IERhdGUoZS50aW1lKToic3RyaW5nIj09dHlwZW9mIGUudGltZT9yLnRpbWU9RGF0ZS5wYXJzZShlLnRpbWUpOnIudGltZT1uZXcgRGF0ZSxyLmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbixyLm9iamVjdHM9ZS5vYmplY3RzLHJ9O3ZhciBoPWZ1bmN0aW9uKHQpe3ZhciBuPS8oQXV0aFRva2VuLiopL2dpLHI9L1Bob25lIG51bWJlci4qL2dpLG89L1NlbmQgZGlnaXQuKi9naSxpPS9Db25uZWN0aW9uQXV0aGVudGljYXRpb25Ub2tlbi4qL2dpLGE9LygiY3JlZGVudGlhbCI6IikoW14iXSopIi8scz0vW2EtekEtWjAtOS5fJSstXStAW2EtekEtWjAtOS4tXStcLlthLXpBLVpdezIsfS9nLGM9WyJxdWlja2Nvbm5lY3RuYW1lIiwidG9rZW4iLCJsb2dpbiIsImNyZWRlbnRpYWwiLCJpbnRlcm5hbGlwIiwiYXV0aHRva2VuIiwicGhvbmVudW1iZXIiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsImVtYWlsYWRkcmVzcyIsImFkZHJlc3MiLCJkaXNwbGF5bmFtZSIsImFnZW50bmFtZSIsImRlc2NyaXB0aW9uIiwibmFtZSIsInZhbHVlIiwic3VtbWFyeSIsInF1ZXVlLm5hbWUiXSx1PVsiY3VzdG9tZXJpZCIsInNwZWFrZXJpZCIsImN1c3RvbWVyc3BlYWtlcmlkIiwicHJlc2lnbmVkdXJsIl07dCYmIm9iamVjdCI9PT1lKHQpJiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihwKXtpZigib2JqZWN0Ij09PWUodFtwXSkpaWYoImF0dHJpYnV0ZXMiPT09cCl0W3BdPWw7ZWxzZXtpZigic3RhdGUiPT09cClyZXR1cm47aCh0W3BdKX1lbHNlInN0cmluZyI9PXR5cGVvZiB0W3BdJiYoInVybCI9PT1wfHwidGV4dCI9PT1wPyh0W3BdPXRbcF0ucmVwbGFjZShuLGwpLHRbcF09dFtwXS5yZXBsYWNlKHIsInBob25lIG51bWJlciIrbCksdFtwXT10W3BdLnJlcGxhY2Uobywic2VuZCBkaWdpdCAiK2wpLHRbcF09dFtwXS5yZXBsYWNlKGksbCksdFtwXT10W3BdLnJlcGxhY2UocywiZW1haWwgYWRkcmVzcyAiK2wpKTpjLmluY2x1ZGVzKHAudG9Mb3dlckNhc2UoKSk/dFtwXT1sOiJjYWxsY29uZmlnanNvbiI9PT1wLnRvTG93ZXJDYXNlKCk/dFtwXT10W3BdLnJlcGxhY2UoYSwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0K2wrJyInfSkpOnUuaW5jbHVkZXMocC50b0xvd2VyQ2FzZSgpKSYmKHRbcF09IiIuY29uY2F0KCJbb2JmdXNjYXRlZCB2YWx1ZV0iLCIgIikuY29uY2F0KG1kNSh0W3BdKSkpKX0pKX0sZj1mdW5jdGlvbih0KXtpZih0aGlzLnR5cGU9dCBpbnN0YW5jZW9mIEVycm9yP3QubmFtZTp0LmNvZGV8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSx0aGlzLm1lc3NhZ2U9dC5tZXNzYWdlLHRoaXMuc3RhY2s9W10sdC5zdGFjayl0cnl7QXJyYXkuaXNBcnJheSh0LnN0YWNrKT90aGlzLnN0YWNrPXQuc3RhY2s6Im9iamVjdCI9PT1lKHQuc3RhY2spP3RoaXMuc3RhY2s9W0pTT04uc3RyaW5naWZ5KHQuc3RhY2spXToic3RyaW5nIj09dHlwZW9mIHQuc3RhY2smJih0aGlzLnN0YWNrPXQuc3RhY2suc3BsaXQoIlxuIikpfWNhdGNoKGUpe319O2QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG4uc3ByaW50ZigiWyVzXSBbJXNdIFslc106ICVzIix0aGlzLmdldFRpbWUoKSYmdGhpcy5nZXRUaW1lKCkudG9JU09TdHJpbmc/dGhpcy5nZXRUaW1lKCkudG9JU09TdHJpbmcoKToiPz8/Iix0aGlzLmdldExldmVsKCksdGhpcy5nZXRBZ2VudFJlc291cmNlSWQoKSx0aGlzLmdldFRleHQoKSl9LGQucHJvdG90eXBlLmdldFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lfSxkLnByb3RvdHlwZS5nZXRBZ2VudFJlc291cmNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZ2VudFJlc291cmNlSWR9LGQucHJvdG90eXBlLmdldFRhYklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFiSWR9LGQucHJvdG90eXBlLmdldENvbnRleHRMYXllcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHRMYXllcn0sZC5wcm90b3R5cGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZXZlbH0sZC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9LGQucHJvdG90eXBlLmdldENvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudH0sZC5wcm90b3R5cGUud2l0aEV4Y2VwdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5leGNlcHRpb249bmV3IGYoZSksdGhpc30sZC5wcm90b3R5cGUud2l0aE9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZXBjb3B5KGUpO3JldHVybiBoKHQpLHRoaXMub2JqZWN0cy5wdXNoKHQpLHRoaXN9LGQucHJvdG90eXBlLndpdGhDcm9zc09yaWdpbkV2ZW50T2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZGVlcGNvcHlDcm9zc09yaWdpbkV2ZW50KGUpO3JldHVybiBoKHQpLHRoaXMub2JqZWN0cy5wdXNoKHQpLHRoaXN9LGQucHJvdG90eXBlLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyPWZ1bmN0aW9uKCl7aWYobi5nZXRMb2coKS5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MucHVzaCh0aGlzKSxuLmlzQ1JNKCkmJnRoaXMubG9nZ2VySWQ9PT1uLmdldExvZygpLmdldExvZ2dlcklkKCkpdHJ5e24uY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50Om4uRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csZGF0YTp0aGlzfSl9Y2F0Y2goZSl7fXJldHVybiB0aGlzfTt2YXIgZz1mdW5jdGlvbigpe3RoaXMuX2xvZ3M9W10sdGhpcy5fcm9sbGVkTG9ncz1bXSx0aGlzLl9sb2dzVG9QdXNoPVtdLHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdLHRoaXMuX2VjaG9MZXZlbD1pLklORk8sdGhpcy5fbG9nTGV2ZWw9aS5JTkZPLHRoaXMuX2xpbmVDb3VudD0wLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD0wLHRoaXMuX2xvZ1JvbGxUaW1lcj1udWxsLHRoaXMuX2xvZ2dlcklkPShuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSx0aGlzLnNldExvZ1JvbGxJbnRlcnZhbCgxOGU1KSx0aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoPTB9O2cucHJvdG90eXBlLnNldExvZ1JvbGxJbnRlcnZhbD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3RoaXMuX2xvZ1JvbGxUaW1lciYmZT09PXRoaXMuX2xvZ1JvbGxJbnRlcnZhbD90aGlzLndhcm4oIkxvZ2dlciBpcyBhbHJlYWR5IHNldCB0byB0aGUgZ2l2ZW4gaW50ZXJ2YWw6ICVkIix0aGlzLl9sb2dSb2xsSW50ZXJ2YWwpOih0aGlzLl9sb2dSb2xsVGltZXImJnQuY2xlYXJJbnRlcnZhbCh0aGlzLl9sb2dSb2xsVGltZXIpLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD1lLHRoaXMuX2xvZ1JvbGxUaW1lcj10LnNldEludGVydmFsKChmdW5jdGlvbigpe24uX3JvbGxlZExvZ3M9bi5fbG9ncyxuLl9sb2dzPVtdLG4uX3N0YXJ0TG9nSW5kZXhUb1B1c2g9MCxuLmluZm8oIkxvZyByb2xsIGludGVydmFsIG9jY3VycmVkLiIpfSksdGhpcy5fbG9nUm9sbEludGVydmFsKSl9LGcucHJvdG90eXBlLnNldExvZ0xldmVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbG9nZ2luZyBsZXZlbDogIitlKTt0aGlzLl9sb2dMZXZlbD1pW2VdfSxnLnByb3RvdHlwZS5zZXRFY2hvTGV2ZWw9ZnVuY3Rpb24oZSl7aWYoIShlIGluIGkpKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsb2dnaW5nIGxldmVsOiAiK2UpO3RoaXMuX2VjaG9MZXZlbD1pW2VdfSxnLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IGQoZSx0LG4sdGhpcy5nZXRMb2dnZXJJZCgpKTtyZXR1cm4gaChyKSx0aGlzLmFkZExvZ0VudHJ5KHIpLHJ9LGcucHJvdG90eXBlLmFkZExvZ0VudHJ5PWZ1bmN0aW9uKGUpe2lmKGgoZSksdGhpcy5fbG9ncy5wdXNoKGUpLG4uaXNDUk0oKSYmZS5sb2dnZXJJZD09PXRoaXMuZ2V0TG9nZ2VySWQoKSl0cnl7bi5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6bi5FdmVudFR5cGUuTE9HLGRhdGE6ZX0pfWNhdGNoKGUpe31vLlNPRlRQSE9ORT09PWUuY29tcG9uZW50JiZ0aGlzLl9sb2dzVG9QdXNoLnB1c2goZSksZS5sZXZlbCBpbiBpJiZpW2UubGV2ZWxdPj10aGlzLl9sb2dMZXZlbCYmKGlbZS5sZXZlbF0+PXRoaXMuX2VjaG9MZXZlbCYmdVtlLmdldExldmVsKCldKGUudG9TdHJpbmcoKSksZS5saW5lPXRoaXMuX2xpbmVDb3VudCsrKX0sZy5wcm90b3R5cGUuc2VuZEludGVybmFsTG9nRW50cnlUb1NlcnZlcj1mdW5jdGlvbihlKXt0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5wdXNoKGUpLGUubGV2ZWwgaW4gaSYmaVtlLmxldmVsXT49dGhpcy5fbG9nTGV2ZWwmJihpW2UubGV2ZWxdPj10aGlzLl9lY2hvTGV2ZWwmJnVbZS5nZXRMZXZlbCgpXShlLnRvU3RyaW5nKCkpLGUubGluZT10aGlzLl9saW5lQ291bnQrKyl9LGcucHJvdG90eXBlLmNsZWFyT2JqZWN0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbG9ncy5sZW5ndGg7ZSsrKXRoaXMuX2xvZ3NbZV0ub2JqZWN0cyYmZGVsZXRlIHRoaXMuX2xvZ3NbZV0ub2JqZWN0c30sZy5wcm90b3R5cGUuY2xlYXJFeGNlcHRpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9sb2dzLmxlbmd0aDtlKyspdGhpcy5fbG9nc1tlXS5leGNlcHRpb24mJmRlbGV0ZSB0aGlzLl9sb2dzW2VdLmV4Y2VwdGlvbn0sZy5wcm90b3R5cGUudHJhY2U9ZnVuY3Rpb24oKXt2YXIgZT1wKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5UUkFDRSxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe3ZhciBlPXAoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkRFQlVHLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXt2YXIgZT1wKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5JTkZPLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3ZhciBlPXAoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkxPRyxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKCl7dmFyIGU9cChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuVEVTVCxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7dmFyIGU9cChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuV0FSTixuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe3ZhciBlPXAoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkVSUk9SLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLmNyaXRpY2FsPWZ1bmN0aW9uKCl7dmFyIGU9cChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuRVJST1Isbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5fbG9ncy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLl9sb2dzW3RdLnRvU3RyaW5nKCkpO3JldHVybiBlLmpvaW4oIlxuIil9LGcucHJvdG90eXBlLmRvd25sb2FkPWZ1bmN0aW9uKHIpe3ZhciBvLGE9ImFnZW50LWxvZyIscz0hMSxjPSEwPT09KG51bGw9PT0obz1uKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uZ2xvYmFsUmVzaWxpZW5jeSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZ2xvYmFsUmVzaWxpZW5jeUVuYWJsZWQpOyJvYmplY3QiPT09ZShyKSYmbnVsbCE9PXI/KGE9ci5sb2dOYW1lfHxhLHM9ci5maWx0ZXJCeUxvZ0xldmVsfHxzKToic3RyaW5nIj09dHlwZW9mIHImJihhPXJ8fGEpLGMmJihuLmdsb2JhbFJlc2lsaWVuY3kuX2Rvd25sb2FkQ0NQTG9ncygpLGE9ImNybS0iK2EpO3ZhciB1PXRoaXMsbD10aGlzLl9yb2xsZWRMb2dzLmNvbmNhdCh0aGlzLl9sb2dzKTtzJiYobD1sLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZS5sZXZlbF0+PXUuX2xvZ0xldmVsfSkpKTt2YXIgcD1uZXcgdC5CbG9iKFtKU09OLnN0cmluZ2lmeShsLHZvaWQgMCw0KV0sWyJ0ZXh0L3BsYWluIl0pLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2E9YXx8ImFnZW50LWxvZyIsZC5ocmVmPXQuVVJMLmNyZWF0ZU9iamVjdFVSTChwKSxkLmRvd25sb2FkPWErIi50eHQiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCksZC5jbGljaygpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZCl9LGcucHJvdG90eXBlLnNjaGVkdWxlVXBzdHJlYW1Mb2dQdXNoPWZ1bmN0aW9uKGUpe24udXBzdHJlYW1Mb2dQdXNoU2NoZWR1bGVkfHwobi51cHN0cmVhbUxvZ1B1c2hTY2hlZHVsZWQ9ITAsdC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5yZXBvcnRNYXN0ZXJMb2dzVXBTdHJlYW0sZSksNWUzKSl9LGcucHJvdG90eXBlLnJlcG9ydE1hc3RlckxvZ3NVcFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb2dzVG9QdXNoLnNsaWNlKCk7dGhpcy5fbG9nc1RvUHVzaD1bXSxuLmlmTWFzdGVyKG4uTWFzdGVyVG9waWNzLlNFTkRfTE9HUywoZnVuY3Rpb24oKXt0Lmxlbmd0aD4wJiZlLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5TRU5EX0xPR1MsdCl9KSl9LGcucHJvdG90eXBlLmdldExvZ2dlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ2dlcklkfSxnLnByb3RvdHlwZS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2g9ZnVuY3Rpb24oKXt0LnNldEludGVydmFsKG4uaGl0Y2godGhpcyx0aGlzLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW0pLDVlMyl9LGcucHJvdG90eXBlLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT1bXTt0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg8NTB8fCh0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg+NTAwP2U9dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3Muc3BsaWNlKDAsNTAwKTooZT10aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncz1bXSksbi5wdWJsaXNoQ2xpZW50U2lkZUxvZ3MoZSkpfTt2YXIgbT1mdW5jdGlvbihlKXtnLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWUsdC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5fcHVzaExvZ3NEb3duc3RyZWFtKSxtLkxPR19QVVNIX0lOVEVSVkFMKSx0LmNsZWFySW50ZXJ2YWwodGhpcy5fbG9nUm9sbFRpbWVyKSx0aGlzLl9sb2dSb2xsVGltZXI9bnVsbH07bS5MT0dfUFVTSF9JTlRFUlZBTD0xZTMsbS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksbS5wcm90b3R5cGUuY29uc3RydWN0b3I9bSxtLnByb3RvdHlwZS5wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5MT0csZSl9KSl9LG0ucHJvdG90eXBlLl9wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2xvZ3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLkxPRyx0KX0pKSx0aGlzLl9sb2dzPVtdO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO3QrKyl0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1t0XSk7dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119O3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7dS5FUlJPUihlKX19fTtuLnJvb3RMb2dnZXI9bmV3IGcsZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpImZ1bmN0aW9uIj09dHlwZW9mIGVbdF0mJihlW3RdPXYoZVt0XSkpfShuLnJvb3RMb2dnZXIpLChuPW58fHt9KS5nZXRMb2c9ZnVuY3Rpb24oKXtyZXR1cm4gbi5yb290TG9nZ2VyfSxuLkxvZ0VudHJ5PWQsbi5Mb2dnZXI9ZyxuLkxvZ0xldmVsPXIsbi5Mb2dDb21wb25lbnQ9byxuLkRvd25zdHJlYW1Db25kdWl0TG9nZ2VyPW19KCl9LDI1NDpmdW5jdGlvbigpeyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIHQodCxuLHIsbyxpLGEpe3JldHVybiBlKChzPWUoZShuLHQpLGUobyxhKSkpPDwoYz1pKXxzPj4+MzItYyxyKTt2YXIgcyxjfWZ1bmN0aW9uIG4oZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQobiZyfH5uJm8sZSxuLGksYSxzKX1mdW5jdGlvbiByKGUsbixyLG8saSxhLHMpe3JldHVybiB0KG4mb3xyJn5vLGUsbixpLGEscyl9ZnVuY3Rpb24gbyhlLG4scixvLGksYSxzKXtyZXR1cm4gdChuXnJebyxlLG4saSxhLHMpfWZ1bmN0aW9uIGkoZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQocl4obnx+byksZSxuLGksYSxzKX1mdW5jdGlvbiBhKHQsYSl7dmFyIHMsYyx1LGwscDt0W2E+PjVdfD0xMjg8PGElMzIsdFsxNCsoYSs2ND4+Pjk8PDQpXT1hO3ZhciBkPTE3MzI1ODQxOTMsaD0tMjcxNzMzODc5LGY9LTE3MzI1ODQxOTQsZz0yNzE3MzM4Nzg7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrPTE2KWM9ZCx1PWgsbD1mLHA9ZyxkPW4oZCxoLGYsZyx0W3NdLDcsLTY4MDg3NjkzNiksZz1uKGcsZCxoLGYsdFtzKzFdLDEyLC0zODk1NjQ1ODYpLGY9bihmLGcsZCxoLHRbcysyXSwxNyw2MDYxMDU4MTkpLGg9bihoLGYsZyxkLHRbcyszXSwyMiwtMTA0NDUyNTMzMCksZD1uKGQsaCxmLGcsdFtzKzRdLDcsLTE3NjQxODg5NyksZz1uKGcsZCxoLGYsdFtzKzVdLDEyLDEyMDAwODA0MjYpLGY9bihmLGcsZCxoLHRbcys2XSwxNywtMTQ3MzIzMTM0MSksaD1uKGgsZixnLGQsdFtzKzddLDIyLC00NTcwNTk4MyksZD1uKGQsaCxmLGcsdFtzKzhdLDcsMTc3MDAzNTQxNiksZz1uKGcsZCxoLGYsdFtzKzldLDEyLC0xOTU4NDE0NDE3KSxmPW4oZixnLGQsaCx0W3MrMTBdLDE3LC00MjA2MyksaD1uKGgsZixnLGQsdFtzKzExXSwyMiwtMTk5MDQwNDE2MiksZD1uKGQsaCxmLGcsdFtzKzEyXSw3LDE4MDQ2MDM2ODIpLGc9bihnLGQsaCxmLHRbcysxM10sMTIsLTQwMzQxMTAxKSxmPW4oZixnLGQsaCx0W3MrMTRdLDE3LC0xNTAyMDAyMjkwKSxkPXIoZCxoPW4oaCxmLGcsZCx0W3MrMTVdLDIyLDEyMzY1MzUzMjkpLGYsZyx0W3MrMV0sNSwtMTY1Nzk2NTEwKSxnPXIoZyxkLGgsZix0W3MrNl0sOSwtMTA2OTUwMTYzMiksZj1yKGYsZyxkLGgsdFtzKzExXSwxNCw2NDM3MTc3MTMpLGg9cihoLGYsZyxkLHRbc10sMjAsLTM3Mzg5NzMwMiksZD1yKGQsaCxmLGcsdFtzKzVdLDUsLTcwMTU1ODY5MSksZz1yKGcsZCxoLGYsdFtzKzEwXSw5LDM4MDE2MDgzKSxmPXIoZixnLGQsaCx0W3MrMTVdLDE0LC02NjA0NzgzMzUpLGg9cihoLGYsZyxkLHRbcys0XSwyMCwtNDA1NTM3ODQ4KSxkPXIoZCxoLGYsZyx0W3MrOV0sNSw1Njg0NDY0MzgpLGc9cihnLGQsaCxmLHRbcysxNF0sOSwtMTAxOTgwMzY5MCksZj1yKGYsZyxkLGgsdFtzKzNdLDE0LC0xODczNjM5NjEpLGg9cihoLGYsZyxkLHRbcys4XSwyMCwxMTYzNTMxNTAxKSxkPXIoZCxoLGYsZyx0W3MrMTNdLDUsLTE0NDQ2ODE0NjcpLGc9cihnLGQsaCxmLHRbcysyXSw5LC01MTQwMzc4NCksZj1yKGYsZyxkLGgsdFtzKzddLDE0LDE3MzUzMjg0NzMpLGQ9byhkLGg9cihoLGYsZyxkLHRbcysxMl0sMjAsLTE5MjY2MDc3MzQpLGYsZyx0W3MrNV0sNCwtMzc4NTU4KSxnPW8oZyxkLGgsZix0W3MrOF0sMTEsLTIwMjI1NzQ0NjMpLGY9byhmLGcsZCxoLHRbcysxMV0sMTYsMTgzOTAzMDU2MiksaD1vKGgsZixnLGQsdFtzKzE0XSwyMywtMzUzMDk1NTYpLGQ9byhkLGgsZixnLHRbcysxXSw0LC0xNTMwOTkyMDYwKSxnPW8oZyxkLGgsZix0W3MrNF0sMTEsMTI3Mjg5MzM1MyksZj1vKGYsZyxkLGgsdFtzKzddLDE2LC0xNTU0OTc2MzIpLGg9byhoLGYsZyxkLHRbcysxMF0sMjMsLTEwOTQ3MzA2NDApLGQ9byhkLGgsZixnLHRbcysxM10sNCw2ODEyNzkxNzQpLGc9byhnLGQsaCxmLHRbc10sMTEsLTM1ODUzNzIyMiksZj1vKGYsZyxkLGgsdFtzKzNdLDE2LC03MjI1MjE5NzkpLGg9byhoLGYsZyxkLHRbcys2XSwyMyw3NjAyOTE4OSksZD1vKGQsaCxmLGcsdFtzKzldLDQsLTY0MDM2NDQ4NyksZz1vKGcsZCxoLGYsdFtzKzEyXSwxMSwtNDIxODE1ODM1KSxmPW8oZixnLGQsaCx0W3MrMTVdLDE2LDUzMDc0MjUyMCksZD1pKGQsaD1vKGgsZixnLGQsdFtzKzJdLDIzLC05OTUzMzg2NTEpLGYsZyx0W3NdLDYsLTE5ODYzMDg0NCksZz1pKGcsZCxoLGYsdFtzKzddLDEwLDExMjY4OTE0MTUpLGY9aShmLGcsZCxoLHRbcysxNF0sMTUsLTE0MTYzNTQ5MDUpLGg9aShoLGYsZyxkLHRbcys1XSwyMSwtNTc0MzQwNTUpLGQ9aShkLGgsZixnLHRbcysxMl0sNiwxNzAwNDg1NTcxKSxnPWkoZyxkLGgsZix0W3MrM10sMTAsLTE4OTQ5ODY2MDYpLGY9aShmLGcsZCxoLHRbcysxMF0sMTUsLTEwNTE1MjMpLGg9aShoLGYsZyxkLHRbcysxXSwyMSwtMjA1NDkyMjc5OSksZD1pKGQsaCxmLGcsdFtzKzhdLDYsMTg3MzMxMzM1OSksZz1pKGcsZCxoLGYsdFtzKzE1XSwxMCwtMzA2MTE3NDQpLGY9aShmLGcsZCxoLHRbcys2XSwxNSwtMTU2MDE5ODM4MCksaD1pKGgsZixnLGQsdFtzKzEzXSwyMSwxMzA5MTUxNjQ5KSxkPWkoZCxoLGYsZyx0W3MrNF0sNiwtMTQ1NTIzMDcwKSxnPWkoZyxkLGgsZix0W3MrMTFdLDEwLC0xMTIwMjEwMzc5KSxmPWkoZixnLGQsaCx0W3MrMl0sMTUsNzE4Nzg3MjU5KSxoPWkoaCxmLGcsZCx0W3MrOV0sMjEsLTM0MzQ4NTU1MSksZD1lKGQsYyksaD1lKGgsdSksZj1lKGYsbCksZz1lKGcscCk7cmV0dXJuW2QsaCxmLGddfWZ1bmN0aW9uIHMoZSl7dmFyIHQsbj0iIixyPTMyKmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW3Q+PjVdPj4+dCUzMiYyNTUpO3JldHVybiBufWZ1bmN0aW9uIGMoZSl7dmFyIHQsbj1bXTtmb3IoblsoZS5sZW5ndGg+PjIpLTFdPXZvaWQgMCx0PTA7dDxuLmxlbmd0aDt0Kz0xKW5bdF09MDt2YXIgcj04KmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpblt0Pj41XXw9KDI1NSZlLmNoYXJDb2RlQXQodC84KSk8PHQlMzI7cmV0dXJuIG59ZnVuY3Rpb24gdShlKXt2YXIgdCxuLHI9IjAxMjM0NTY3ODlhYmNkZWYiLG89IiI7Zm9yKG49MDtuPGUubGVuZ3RoO24rPTEpdD1lLmNoYXJDb2RlQXQobiksbys9ci5jaGFyQXQodD4+PjQmMTUpK3IuY2hhckF0KDE1JnQpO3JldHVybiBvfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHMoYShjKGUpLDgqZS5sZW5ndGgpKX0obChlKSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1jKGUpLGk9W10sdT1bXTtmb3IoaVsxNV09dVsxNV09dm9pZCAwLG8ubGVuZ3RoPjE2JiYobz1hKG8sOCplLmxlbmd0aCkpLG49MDtuPDE2O24rPTEpaVtuXT05MDk1MjI0ODZeb1tuXSx1W25dPTE1NDk1NTY4Mjheb1tuXTtyZXR1cm4gcj1hKGkuY29uY2F0KGModCkpLDUxMis4KnQubGVuZ3RoKSxzKGEodS5jb25jYXQociksNjQwKSl9KGwoZSksbCh0KSl9KHRoaXN8fGdsb2JhbFRoaXMpLm1kNT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ/bj9kKHQsZSk6dShkKHQsZSkpOm4/cChlKTp1KHAoZSkpfX0oKX0sMTQyOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5DaGF0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5nZXRMb2coKSxvPXQuTG9nQ29tcG9uZW50LkNIQVQsaT1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0sYT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7ci5lcnJvcihvLCJDaGF0IFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIixlKX0pKSxlLm9uQ29ubmVjdGlvbkVzdGFibGlzaGVkKChmdW5jdGlvbihlKXtyLmluZm8obywiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiLGUpfSkpfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7aSgiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiLGUuY29udGFjdElkKSxyLmluZm8obywiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5DaGF0U2Vzc2lvbi5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOnJ9LHJlZ2lvbjpuLnJlZ2lvbn0pO3ZhciBzPXQuQ2hhdFNlc3Npb24uY3JlYXRlKHtjaGF0RGV0YWlsczplLHR5cGU6IkFHRU5UIix3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gYShzKSxzLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gci5pbmZvKG8sIkNoYXQgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgZm9yIGNvbnRhY3RJZCAlcyIsZS5jb250YWN0SWQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLHN9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IHIuZXJyb3IobywiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKCJDaGF0IFNlc3Npb24gZXN0YWJsaXNoZW1lbnQgZmFpbGVkIixlLmNvbnRhY3RJZCx0KSx0fSkpfSgpfX19fSgpfSw4ODQ6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0Lk1lZGlhRmFjdG9yeT1mdW5jdGlvbihlKXt2YXIgbj17fSxyPW5ldyBTZXQsbz10LmdldExvZygpLGk9dC5Mb2dDb21wb25lbnQuQ0hBVCxhPXQubWVyZ2Uoe30sZSl8fHt9O2EucmVnaW9uPWEucmVnaW9ufHwidXMtd2VzdC0yIjt2YXIgcz1mdW5jdGlvbihlKXtuW2VdJiYhci5oYXMoZSkmJihvLmluZm8oaSwiRGVzdHJveWluZyBtZWRpYUNvbnRyb2xsZXIgZm9yICVzIixlKSxyLmFkZChlKSxuW2VdLnRoZW4oKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0LmNsZWFuVXAmJnQuY2xlYW5VcCgpLGRlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpLmNhdGNoKChmdW5jdGlvbigpe2RlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpKX07cmV0dXJue2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0oZSk/ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXRDb25uZWN0aW9uSWQoKTtpZighZS5nZXRNZWRpYUluZm8oKSlyZXR1cm4gby5lcnJvcihpLCJNZWRpYSBpbmZvIGRvZXMgbm90IGV4aXN0IGZvciBhIG1lZGlhIHR5cGUgJXMiLGUuZ2V0TWVkaWFUeXBlKCkpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxQcm9taXNlLnJlamVjdCgiTWVkaWEgaW5mbyBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBjb25uZWN0aW9uIik7aWYobltyXSlyZXR1cm4gbltyXTtzd2l0Y2goby5pbmZvKGksIm1lZGlhIGNvbnRyb2xsZXIgb2YgdHlwZSAlcyBpbml0IixlLmdldE1lZGlhVHlwZSgpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5nZXRNZWRpYVR5cGUoKSl7Y2FzZSB0Lk1lZGlhVHlwZS5DSEFUOnJldHVybiBuW3JdPW5ldyB0LkNoYXRNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSxhKS5nZXQoKTtjYXNlIHQuTWVkaWFUeXBlLlNPRlRQSE9ORTpyZXR1cm4gbltyXT1uZXcgdC5Tb2Z0cGhvbmVNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7Y2FzZSB0Lk1lZGlhVHlwZS5UQVNLOnJldHVybiBuW3JdPW5ldyB0LlRhc2tNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7ZGVmYXVsdDpyZXR1cm4gby5lcnJvcihpLCJVbnJlY29nbml6ZWQgbWVkaWEgdHlwZSAlcyAiLGUuZ2V0TWVkaWFUeXBlKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUHJvbWlzZS5yZWplY3QoKX19KGUpOihzKGUuZ2V0Q29ubmVjdGlvbklkKCkpLFByb21pc2UucmVqZWN0KCJNZWRpYSBDb250cm9sbGVyIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgZm9yIHRoaXMgY29ubmVjdGlvbiIpKX0sZGVzdHJveTpzfX19KCl9LDM5MDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LHQuU29mdHBob25lTWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfX19fSgpfSwyNjk6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0LlRhc2tNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dmFyIG49dC5nZXRMb2coKSxyPXQuTG9nQ29tcG9uZW50LlRBU0ssbz1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0saT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7bi5lcnJvcihyLCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLG8oIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGJyb2tlbiIsZSl9KSksZS5vbkNvbm5lY3Rpb25Fc3RhYmxpc2hlZCgoZnVuY3Rpb24oZSl7bi5pbmZvKHIsIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIikud2l0aE9iamVjdChlKSxvKCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCIsZSl9KSl9O3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtvKCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIsZS5jb250YWN0SWQpLG4uaW5mbyhyLCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIpLndpdGhPYmplY3QoZSk7dmFyIGE9dC5UYXNrU2Vzc2lvbi5jcmVhdGUoe2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOmUuaW5pdGlhbENvbnRhY3RJZCx3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gaShhKSxhLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmluZm8ociwiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBmb3IgY29udGFjdElkICVzIixlLmNvbnRhY3RJZCksbygiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLGF9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IG4uZXJyb3IociwiVGFzayBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCksbygiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCIsZS5jb250YWN0SWQsdCksdH0pKX0oKX19fX0oKX0sNDE0OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgcixvPSIvcmVxdWVzdC1zdG9yYWdlLWFjY2VzcyIsaT17Y2FuUmVxdWVzdDohMSxtb2RlOiJkZWZhdWx0IixjdXN0b206e2hpZGVDQ1A6ITB9fSxhPXt9LHM9IiIsYz1udWxsLHU9ITEsbD17SU5JVDoic3RvcmFnZUFjY2Vzczo6aW5pdCIsR1JBTlRFRDoic3RvcmFnZUFjY2Vzczo6Z3JhbnRlZCIsREVOSUVEOiJzdG9yYWdlQWNjZXNzOjpkZW5pZWQiLFJFUVVFU1Q6InN0b3JhZ2VBY2Nlc3M6OnJlcXVlc3QifSxwPWZ1bmN0aW9uKCl7cmV0dXJue3Nob3c6ZnVuY3Rpb24oKXtjLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0saGlkZTpmdW5jdGlvbigpe2Muc3R5bGUuZGlzcGxheT0ibm9uZSJ9fX0sZD1mdW5jdGlvbigpe3JldHVybiBhJiYiY3VzdG9tIj09PWEubW9kZX0saD1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvLmNvbm5lY3QuYXdzLmEyei5jb218Lm15LmNvbm5lY3QuYXdzfC5nb3ZjbG91ZC5jb25uZWN0LmF3c3wuYXdzYXBwcy5jb20vKX0sZj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVVJMKGUpLG49dC5vcmlnaW4scj10LnBhdGhuYW1lO2lmKG4ubWF0Y2goLy5hd3NhcHBzLmNvbS8pKXt2YXIgaT0iY29ubmVjdCI7cmV0dXJuIHIuc3RhcnRzV2l0aCgiL2Nvbm5lY3QtZ2FtbWEiKSYmKGk9ImNvbm5lY3QtZ2FtbWEiKSwiIi5jb25jYXQobiwiLyIpLmNvbmNhdChpKS5jb25jYXQobyl9cmV0dXJuIiIuY29uY2F0KG4pLmNvbmNhdChvKX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvXmh0dHBzPzpcL1wvbG9jYWxob3N0Lyl9LG09ZnVuY3Rpb24oKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0bGFuZEF0UGF0aF0gSW52b2tlIGNvbm5lY3Quc3RvcmFnZUFjY2Vzcy5pbml0IGZpcnN0Iik7cmV0dXJuIGgocyl8fGcocyk/bmV3IFVSTChzKS5wYXRobmFtZToiL2Nvbm5lY3QvY2NwLXYyIn0sdj1mdW5jdGlvbihlKXt2YXIgbj1lLm9uSW5pdCxyPWUub25EZW55LG89ZS5vbkdyYW50O2Z1bmN0aW9uIGkoZSl7dmFyIGE9ZS5kYXRhLHM9ZS5zb3VyY2U7aWYodC5jb3JlLl9nZXRDQ1BJZnJhbWUoKS5jb250ZW50V2luZG93IT09cylyZXR1cm4hMTtzd2l0Y2godC5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSksYS5ldmVudCl7Y2FzZSBsLklOSVQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bSU5JVF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksbiYmbihhKTticmVhaztjYXNlIGwuR1JBTlRFRDp0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtHUkFOVEVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChhKSxvJiZvKGEpO2JyZWFrO2Nhc2UgbC5ERU5JRUQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bREVOSUVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChhKSxyJiZyKGEpO2JyZWFrO2RlZmF1bHQ6dC5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fXJldHVybiBhLmNhblJlcXVlc3QmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpKSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fX07dC5zdG9yYWdlQWNjZXNzPU9iamVjdC5mcmVlemUoe2NhblJlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYW5SZXF1ZXN0fSxvcHRPdXRGcm9tUmVxdWVzdEFjY2VzczpmdW5jdGlvbigpe2kuY2FuUmVxdWVzdD0hMX0sb3B0SW5Gb3JSZXF1ZXN0QWNjZXNzOmZ1bmN0aW9uKCl7aS5jYW5SZXF1ZXN0PSEwfSxpbml0OmZ1bmN0aW9uKGUscil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3QuYXNzZXJ0Tm90TnVsbChlLCJjY3BVcmwiKSx0LmFzc2VydE5vdE51bGwociwiY29udGFpbmVyIiksYz1yLHM9ZSxmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtlLmN1c3RvbT1lLmN1c3RvbXx8e30sKGE9bihuKG4oe30saSksZSkse30se2N1c3RvbTpuKG4oe30saS5jdXN0b20pLGUuY3VzdG9tKX0pKS5jYW5SZXF1ZXN0PSEoImZhbHNlIj09PWEuY2FuUmVxdWVzdHx8ITE9PT1hLmNhblJlcXVlc3QpfShvKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtpbml0XSBSZXF1ZXN0IFN0b3JhZ2UgQWNjY2VzcyBpbml0IGNhbGxlZCB3aXRoIGNjcFVybCAtICIuY29uY2F0KGUsIiAtICIpLmNvbmNhdChhLmNhblJlcXVlc3Q/IlByb2NlZWRpbmcgd2l0aCByZXF1ZXN0aW5nIHN0b3JhZ2UgYWNjZXNzIjoidXNlciBoYXMgb3B0ZWQgb3V0LCBza2lwcGluZyByZXF1ZXN0IHN0b3JhZ2UgYWNjZXNzIikpLndpdGhPYmplY3QoYSl9LHNldHVwUmVxdWVzdEhhbmRsZXJzOmZ1bmN0aW9uKGUpe3ZhciBuPWUub25HcmFudDtyJiZyLnVuc3Vic2NyaWJlKCkscj12KHtvbkluaXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0lOSVRdIiwiYmFja2dyb3VuZDp5ZWxsb3c7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkluaXRdIGNhbGxiYWNrIGV4ZWN1dGVkIikud2l0aE9iamVjdChudWxsPT1lP3ZvaWQgMDplLmRhdGEpLG51bGwhPWUmJmUuZGF0YS5oYXNBY2Nlc3N8fCFkKCl8fHAoKS5zaG93KCl9LG9uRGVueTpmdW5jdGlvbigpe2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtERU5JRURdIiwiYmFja2dyb3VuZDpyZWQ7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkRlbnldIGNhbGxiYWNrIGV4ZWN1dGVkIiksZCgpJiZwKCkuc2hvdygpfSxvbkdyYW50OmZ1bmN0aW9uKCl7dmFyIGU7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0dSQU5URURdIiwiYmFja2dyb3VuZDpsaW1lOyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25HcmFudF0gY2FsbGJhY2sgZXhlY3V0ZWQiKSxkKCkmJihudWxsPT09KGU9YSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmN1c3RvbSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaGlkZUNDUCkmJnAoKS5oaWRlKCksdXx8KG4oKSx1PSEwKX19KX0sZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmw6ZnVuY3Rpb24oKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludm9rZSBjb25uZWN0LnN0b3JhZ2VBY2Nlc3MuaW5pdCBmaXJzdCIpO2lmKGgocykpcmV0dXJuIGYocyk7aWYoZyhzKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW0NDUF0gTG9jYWwgdGVzdGluZyIpLCIiLmNvbmNhdChzKS5jb25jYXQobyk7aWYoYS5pbnN0YW5jZVVybCYmaChhLmluc3RhbmNlVXJsKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBDdXN0b21lciBoYXMgcHJvdmlkZWQgc3RvcmFnZVBhcmFtcy5pbnN0YW5jZVVybCAiLmNvbmNhdChhLmluc3RhbmNlVXJsKSksZihhLmluc3RhbmNlVXJsKTtpZihhLmluc3RhbmNlVXJsJiZnKGEuaW5zdGFuY2VVcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIExvY2FsIHRlc3RpbmciKSwiIi5jb25jYXQoYS5pbnN0YW5jZVVybCkuY29uY2F0KG8pO3Rocm93IHQuZ2V0TG9nKCkuZXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludmFsaWQgQ29ubmVjdCBpbnN0YW5jZS9DQ1AgVVJMIHByb3ZpZGVkLCBwbGVhc2UgcGFzcyB0aGUgY29ycmVjdCBjY3BVcmwgb3Igc3RvcmFnZUFjY2Vzcy5pbnN0YW5jZVVybCBwYXJhbWV0ZXJzIiksbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZhbGlkIENvbm5lY3QgaW5zdGFuY2UvQ0NQIFVSTCBwcm92aWRlZCwgcGxlYXNlIHBhc3MgdGhlIHZhbGlkIENvbm5lY3QgQ0NQIFVSTCBvciBpbiBjYXNlIENDUCBVUkwgaXMgY29uZmlndXJlZCB0byBiZSB0aGUgU1NPIFVSTCB0aGVuIHVzZSBzdG9yYWdlQWNjZXNzLmluc3RhbmNlVXJsIGFuZCBwYXNzIHRoZSBDb25uZWN0IENDUCBVUkwiKX0sc3RvcmFnZUFjY2Vzc0V2ZW50czpsLHJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlOmZ1bmN0aW9uKCl7YT17fSxzPSIiLGM9bnVsbCx1PSExfSxnZXRPbkdyYW50Q2FsbGJhY2tJbnZva2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldFN0b3JhZ2VBY2Nlc3NQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sb25SZXF1ZXN0OnYscmVxdWVzdDpmdW5jdGlvbigpe3QuY29yZS5fZ2V0Q0NQSWZyYW1lKCkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7ZXZlbnQ6bC5SRVFVRVNULGRhdGE6bihuKHt9LGEpLHt9LHtsYW5kYXQ6bSgpfSl9LCIqIil9fSl9KCl9LDkwNjooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdCgpeyJ1c2Ugc3RyaWN0Ijt0PWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O3ZhciBuLHI9e30sbz1PYmplY3QucHJvdG90eXBlLGk9by5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaChuKXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGgoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1yLndyYXA9ZDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIFMoKXt9ZnVuY3Rpb24gRSgpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgST1PYmplY3QuZ2V0UHJvdG90eXBlT2YsVD1JJiZJKEkoUChbXSkpKTtUJiZUIT09byYmaS5jYWxsKFQsYykmJihDPVQpO3ZhciB3PUUucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyh0LG4pe2Z1bmN0aW9uIHIobyxhLHMsYyl7dmFyIHU9aCh0W29dLHQsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09ZShwKSYmaS5jYWxsKHAsIl9fYXdhaXQiKT9uLnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtyKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7cigidGhyb3ciLGUscyxjKX0pKTpuLnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIG87YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBuKChmdW5jdGlvbihuLG8pe3IoZSx0LG4sbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUihlLHQscil7dmFyIG89ZjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTpuLGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1MKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09Zil0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9aChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTChlLHQpe3ZhciByPXQubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09bilyZXR1cm4gdC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPW4sTChlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWgobyxlLml0ZXJhdG9yLHQuYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiB0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPWkuYXJnLHQuZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8odFtlLnJlc3VsdE5hbWVdPWEudmFsdWUsdC5uZXh0PWUubmV4dExvYywicmV0dXJuIiE9PXQubWV0aG9kJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPW4pLHQuZGVsZWdhdGU9bnVsbCx5KTphOih0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksdC5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKE8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUCh0KXtpZih0fHwiIj09PXQpe3ZhciByPXRbY107aWYocilyZXR1cm4gci5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBlKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKGkuY2FsbCh0LG8pKXJldHVybiBlLnZhbHVlPXRbb10sZS5kb25lPSExLGU7cmV0dXJuIGUudmFsdWU9bixlLmRvbmU9ITAsZX07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKGUodCkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gUy5wcm90b3R5cGU9RSxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxhKEUsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxTLmRpc3BsYXlOYW1lPXAoRSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHIuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09U3x8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sci5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsRSk6KGUuX19wcm90b19fPUUscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sci5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHIuQXN5bmNJdGVyYXRvcj1fLHIuYXN5bmM9ZnVuY3Rpb24oZSx0LG4sbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsdCxuLG8pLGkpO3JldHVybiByLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLHIua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSxyLnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PW4sdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9bix0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhZSlmb3IodmFyIHQgaW4gdGhpcykidCI9PT10LmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPW4pfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHQ9dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPWUsdC5uZXh0PXIsbyYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1uKSwhIW99Zm9yKHZhciBvPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW29dLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PWkuY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgbz1yO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKGUpLHJlc3VsdE5hbWU6dCxuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9bikseX19LHJ9ZnVuY3Rpb24gbihlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIHMoZSl7bihhLG8saSxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7bihhLG8saSxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9fSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uLGUubGlseT1uO3ZhciBvPWZ1bmN0aW9uKGUpe24uYXNzZXJ0Tm90TnVsbChlLCJyaW5ndG9uZUNvbmZpZyIpLHRoaXMuX2F1ZGlvPW51bGwsdGhpcy5fZGV2aWNlSWQ9IiIsdGhpcy5fcmluZ3RvbmVVcmw9ZS5yaW5ndG9uZVVybCx0aGlzLl9sb2FkUmluZ3RvbmUodGhpcy5fcmluZ3RvbmVVcmwpLmNhdGNoKChmdW5jdGlvbigpe30pKSx0aGlzLl9kcml2ZVJpbmd0b25lKCl9O28ucHJvdG90eXBlLl9sb2FkUmluZ3RvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe2V8fGkoRXJyb3IoInJpbmd0b25lVXJsIGlzIHJlcXVpcmVkISIpKSx0Ll9hdWRpbz1uZXcgQXVkaW8oZSksdC5fYXVkaW8ubG9vcD1yLHQuc2V0T3V0cHV0RGV2aWNlKHQuX2RldmljZUlkKTt2YXIgYT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uZ2V0TG9nKCkud2FybigiUmluZ3RvbmUgaXNuJ3QgbG9hZGVkIGluIDEgc2Vjb25kIGJ1dCBwcm9jZWVkaW5nOiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oKX0pLDFlMyk7dC5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheSIsKGZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBpcyByZWFkeSB0byBwbGF5OiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGNsZWFyVGltZW91dChhKSxvKCl9KSksdC5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbigpe24uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIsK2UpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksY2xlYXJUaW1lb3V0KGEpLGkoRXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIrZSkpfSkpfSkpfSxvLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkLiIpfSxvLnByb3RvdHlwZS5fc3RhcnRSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXIodCgpLm1hcmsoKGZ1bmN0aW9uIGUobyl7dmFyIGksYSxzPXRoaXMsYz1hcmd1bWVudHM7cmV0dXJuIHQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gaT1jLmxlbmd0aD4xJiZ2b2lkIDAhPT1jWzFdP2NbMV06MCxhPWMubGVuZ3RoPjImJnZvaWQgMCE9PWNbMl0/Y1syXTpbXSxlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxjKXtzLl9hdWRpb3x8YyhFcnJvcigiTm8gYXVkaW8gb2JqZWN0IGZvdW5kIikpLG4uZ2V0TG9nKCkuaW5mbygiQXR0ZW1wdGluZyB0byBzdGFydCByaW5ndG9uZSB0byBkZXZpY2UgIi5jb25jYXQocy5fYXVkaW8uc2lua0lkfHwiJyciKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzLl9hdWRpby5wbGF5KCkudGhlbigoZnVuY3Rpb24oKXtzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFN0YXJ0IixvKSxuLmdldExvZygpLmluZm8oIlJpbmd0b25lIFN0YXJ0OiBTdWNjZWVkZWQgd2l0aCAiLmNvbmNhdChpLCIgcmV0cmllcyByZW1haW5pbmciKSkud2l0aE9iamVjdCh7ZXJyb3JMaXN0OmEsY29udGFjdElkOm8uZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUoKX0pKS5jYXRjaChmdW5jdGlvbigpe3ZhciB1PXIodCgpLm1hcmsoKGZ1bmN0aW9uIHIodSl7cmV0dXJuIHQoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmUiLG8pLG4uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmU6ICIuY29uY2F0KGksIiByZXRyaWVzIHJlbWFpbmluZy4iKSkud2l0aEV4Y2VwdGlvbih1KS53aXRoT2JqZWN0KHtjdXJyZW50U3JjOnMuX2F1ZGlvLmN1cnJlbnRTcmMsc2lua0lkOnMuX2F1ZGlvLnNpbmtJZCx2b2x1bWU6cy5fYXVkaW8udm9sdW1lLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLnB1c2godS50b1N0cmluZygpKSwhKGk+MCkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5uZXh0PTYscy5fbG9hZFJpbmd0b25lKHMuX3Jpbmd0b25lVXJsKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSk7Y2FzZSA2OnJldHVybiB0Lm5leHQ9OCxzLl9zdGFydFJpbmd0b25lKG8saS0xLGEpLnRoZW4oZSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIGMoYSl9KSk7Y2FzZSA4OnQubmV4dD0xMjticmVhaztjYXNlIDEwOm4uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFJldHJpZXMgRXhoYXVzdGVkIikud2l0aE9iamVjdCh7ZXJyb3JMaXN0OmEsY29udGFjdElkOm8uZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGMoYSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHIpfSkpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9KSkpO2Nhc2UgMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxvLnByb3RvdHlwZS5fc3RvcFJpbmd0b25lPWZ1bmN0aW9uKGUpe3RoaXMuX2F1ZGlvJiYodGhpcy5fYXVkaW8ucGF1c2UoKSx0aGlzLl9hdWRpby5jdXJyZW50VGltZT0wLHRoaXMuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgU3RvcCIsZSksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdG9wIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LG8ucHJvdG90eXBlLnN0b3BSaW5ndG9uZT1mdW5jdGlvbigpe3RoaXMuX3N0b3BSaW5ndG9uZSgpfSxvLnByb3RvdHlwZS5fcmluZ3RvbmVTZXR1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO24uaWZNYXN0ZXIobi5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dC5fc3RhcnRSaW5ndG9uZShlLDIpLmNhdGNoKChmdW5jdGlvbigpe30pKSxlLm9uQ29ubmVjdGVkKGxpbHkuaGl0Y2godCx0Ll9zdG9wUmluZ3RvbmUpKSxlLm9uQWNjZXB0ZWQobGlseS5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25FbmRlZChsaWx5LmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09bi5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlORyYmdC5fc3RvcFJpbmd0b25lKCl9KSl9KSl9LG8ucHJvdG90eXBlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQ9ZnVuY3Rpb24oZSx0KXt0JiZ0LmdldENvbnRhY3RJZCgpJiZuLnB1Ymxpc2hNZXRyaWMoe25hbWU6ZSxjb250YWN0SWQ6dC5nZXRDb250YWN0SWQoKX0pfSxvLnByb3RvdHlwZS5zZXRPdXRwdXREZXZpY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5fYXVkaW8mJnQuX2F1ZGlvLnNldFNpbmtJZD90Ll9hdWRpby5zZXRTaW5rSWQoZSkudGhlbigoZnVuY3Rpb24oKXt0Ll9kZXZpY2VJZD1lLG4oZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoIlJpbmd0b25lRW5naW5lQmFzZS5zZXRPdXRwdXREZXZpY2UgZmFpbGVkOiBhdWRpby5zZXRTaW5rSWQoKSBmYWlsZWQgd2l0aCBlcnJvciAiLmNvbmNhdChlKSl9KSk6cigiUmluZ3RvbmVFbmdpbmVCYXNlLnNldE91dHB1dERldmljZSBmYWlsZWQ6ICIuY29uY2F0KHQuX2F1ZGlvPyJhdWRpbyI6ImF1ZGlvLnNldFNpbmtJZCIsIiBub3QgZm91bmQuIikpfSkpfTt2YXIgaT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bi5Db250YWN0VHlwZS5WT0lDRSYmdC5pc1NvZnRwaG9uZUNhbGwoKSYmdC5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIlJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKSwobmV3IG4uQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRTdGF0dXMoKS50eXBlPT09bi5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZ0KGUpfSkpfTt2YXIgYT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5DSEFUJiZ0LmlzSW5ib3VuZCgpJiYwPT09dC5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VHlwZSgpPT09bi5Db25uZWN0aW9uVHlwZS5BR0VOVCYmZS5pc1NpbGVudE1vbml0b3IoKX0pKS5sZW5ndGgmJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2hhdCBSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIkNoYXQgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTtuLmNvbnRhY3QoKGZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7ZS5vbkNvbm5lY3RpbmcodCksZS5vbkFjY2VwdGVkKChmdW5jdGlvbihlKXtlLmlzQXV0b0FjY2VwdEVuYWJsZWQoKSYmbi5pZk1hc3RlcihuLk1hc3RlclRvcGljcy5SSU5HVE9ORSwoZnVuY3Rpb24oKXtyLl9zdG9wUmluZ3RvbmUoKX0pKX0pKX0pKX07dmFyIHM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cyxzLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuVEFTSyYmdC5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJUYXNrIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiVGFzayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O24uY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3RpbmcodCl9KSl9O3ZhciBjPWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUpfTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7dC5nZXRUeXBlKCk9PT1uLkNvbnRhY3RUeXBlLkVNQUlMJiZ0LmlzSW5ib3VuZCgpJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkVtYWlsIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiRW1haWwgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTtuLmNvbnRhY3QoKGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW5nKHQpfSkpfTt2YXIgdT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztuLmNvbnRhY3QoKGZ1bmN0aW9uKHQpe3Qub25JbmNvbWluZygoZnVuY3Rpb24oKXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2FsbGJhY2sgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJDYWxsYmFjayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSl9KSl9LHUucHJvdG90eXBlLl9jYW5TdGFydFJpbmd0b25lPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygbi5Db250YWN0JiZlLmdldFN0YXR1cygpLnR5cGU9PT1uLkNvbnRhY3RTdGF0dXNUeXBlLklOQ09NSU5HfHwobi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdGFydCBza2lwcGVkIGJlY2F1c2UgdGhlIGNvbnRhY3QgaXMgYWxyZWFkeSBhY2NlcHRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEpfSx1LnByb3RvdHlwZS5fcmluZ3RvbmVTZXR1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO24uaWZNYXN0ZXIobi5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dC5fc3RhcnRSaW5ndG9uZShlLDIpLmNhdGNoKChmdW5jdGlvbigpe30pKSxlLm9uQWNjZXB0ZWQobi5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25Db25uZWN0ZWQobi5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25FbmRlZChuLmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vbkRlc3Ryb3kobi5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25QZW5kaW5nKG4uaGl0Y2godCx0Ll9zdG9wUmluZ3RvbmUpKSxlLm9uQ29ubmVjdGluZyhuLmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZT09PW4uQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkcmJmUuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNURUR8fChuLmdldExvZygpLmluZm8oIkNvbnRhY3Qgb25SZWZyZXNoIC0gX3N0b3BSaW5ndG9uZSBpcyBpbnZva2VkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0Ll9zdG9wUmluZ3RvbmUoKSl9KSl9KSl9O3ZhciBsPWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUpfTsobC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWwsbC5wcm90b3R5cGUuX2NhblN0YXJ0UmluZ3RvbmU9ZnVuY3Rpb24oZSl7bi5nZXRMb2coKS5pbmZvKCJDaGVja2luZyBpZiBhdXRvLWFjY2VwdCB0b25lIGNhbiBiZSBwbGF5ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PWUuZ2V0U3RhdGUoKS50eXBlLHI9ZS5nZXRUeXBlKCk7aWYodD09PW4uQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkcmJnI9PT1uLkNvbnRhY3RUeXBlLlFVRVVFX0NBTExCQUNLfHx0PT09bi5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZyIT09bi5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSyl7dmFyIG8saTtpZihyPT09bi5Db250YWN0VHlwZS5WT0lDRSlyZXR1cm4gbi5nZXRMb2coKS5pbmZvKCJTa2lwcGluZyBhdXRvLWFjY2VwdCB0b25lIGZvciBWb2ljZSBjb250YWN0cyIpLndpdGhPYmplY3Qoe2NvbnRhY3RTdGF0ZTp0LGNvbnRhY3RUeXBlOnJ9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExO24uZ2V0TG9nKCkuaW5mbygiQ29udGFjdCBpcyBpbiB0aGUgZXhwZWN0ZWQgc3RhdGUiKS53aXRoT2JqZWN0KHtjb250YWN0U3RhdGU6dCxjb250YWN0VHlwZTpyfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYT1udWxsIT09KG89ZS5pc0F1dG9BY2NlcHRFbmFibGVkKCkpJiZ2b2lkIDAhPT1vJiZvLHM9bnVsbCE9PShpPWUuaXNJbmJvdW5kKCkpJiZ2b2lkIDAhPT1pJiZpO3JldHVybiBuLmdldExvZygpLmluZm8oIkNoZWNraW5nIGlmIHRoZSB0b25lIHNob3VsZCBwbGF5Iikud2l0aE9iamVjdCh7aXNBdXRvQWNjZXB0RW5hYmxlZDphLGlzSW5ib3VuZDpzfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhJiZzfXJldHVybiExfSxsLnByb3RvdHlwZS5fbG9hZFJpbmd0b25lPWZ1bmN0aW9uKGUpe3JldHVybiBvLnByb3RvdHlwZS5fbG9hZFJpbmd0b25lLmNhbGwodGhpcyxlLCExKX0sbC5wcm90b3R5cGUuX3Jpbmd0b25lU2V0dXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztuLmlmTWFzdGVyKG4uTWFzdGVyVG9waWNzLlJJTkdUT05FLChmdW5jdGlvbigpe3QuX3N0YXJ0UmluZ3RvbmUoZSwxKX0pKX0sbC5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7ZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkF1dG9BY2NlcHQgdG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIkF1dG9BY2NlcHQgdG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0scj1mdW5jdGlvbih0KXtuLmlmTWFzdGVyKG4uTWFzdGVyVG9waWNzLlJJTkdUT05FLChmdW5jdGlvbigpe3QuaXNBdXRvQWNjZXB0RW5hYmxlZCgpJiYobi5nZXRMb2coKS5pbmZvKCJTdG9wcGluZyBhdXRvIGFjY2VwdCB0b25lIikud2l0aE9iamVjdCh7Y29udGFjdElkOnQuZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuX3N0b3BSaW5ndG9uZSgpKX0pKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQWNjZXB0ZWQodCksZS5vbkNvbm5lY3RlZChyKX0pKX0sbi5Wb2ljZVJpbmd0b25lRW5naW5lPWksbi5DaGF0UmluZ3RvbmVFbmdpbmU9YSxuLlRhc2tSaW5ndG9uZUVuZ2luZT1zLG4uUXVldWVDYWxsYmFja1Jpbmd0b25lRW5naW5lPXUsbi5FbWFpbFJpbmd0b25lRW5naW5lPWMsbi5BdXRvQWNjZXB0ZWRSaW5ndG9uZUVuZ2luZT1sfSgpfSw4MDY6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fWZ1bmN0aW9uIG8oKXsidXNlIHN0cmljdCI7bz1mdW5jdGlvbigpe3JldHVybiBufTt2YXIgdCxuPXt9LHI9T2JqZWN0LnByb3RvdHlwZSxpPXIuaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2godCl7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19bi53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PXImJmkuY2FsbChULGMpJiYoQz1UKTt2YXIgdz1FLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8odCxuKXtmdW5jdGlvbiByKG8sYSxzLGMpe3ZhciB1PWgodFtvXSx0LGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PWUocCkmJmkuY2FsbChwLCJfX2F3YWl0Iik/bi5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7cigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe3IoInRocm93IixlLHMsYyl9KSk6bi5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciBvO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgbigoZnVuY3Rpb24obixvKXtyKGUsdCxuLG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIoZSxuLHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TChzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgoZSxuLHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIEwoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD0icmV0dXJuIixuLmFyZz10LEwoZSxuKSwidGhyb3ciPT09bi5tZXRob2QpfHwicmV0dXJuIiE9PXImJihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwseSk6YToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChPLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAobil7aWYobnx8IiI9PT1uKXt2YXIgcj1uW2NdO2lmKHIpcmV0dXJuIHIuY2FsbChuKTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZXh0KXJldHVybiBuO2lmKCFpc05hTihuLmxlbmd0aCkpe3ZhciBvPS0xLGE9ZnVuY3Rpb24gZSgpe2Zvcig7KytvPG4ubGVuZ3RoOylpZihpLmNhbGwobixvKSlyZXR1cm4gZS52YWx1ZT1uW29dLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPXQsZS5kb25lPSEwLGV9O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihlKG4pKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIFMucHJvdG90eXBlPUUsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksYShFLCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksUy5kaXNwbGF5TmFtZT1wKEUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxuLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PVN8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LG4ubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLEUpOihlLl9fcHJvdG9fXz1FLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LG4uYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxuLkFzeW5jSXRlcmF0b3I9XyxuLmFzeW5jPWZ1bmN0aW9uKGUsdCxyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLHQscixvKSxpKTtyZXR1cm4gbi5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxuLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sbi52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIWUpZm9yKHZhciBuIGluIHRoaXMpInQiPT09bi5jaGFyQXQoMCkmJmkuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBhPXRoaXMudHJ5RW50cmllc1tvXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9aS5jYWxsKGEsImNhdGNoTG9jIiksdT1pLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIG89cjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9by5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UChlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHl9fSxufWZ1bmN0aW9uIGkoZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiBhKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3ZhciBhPWUuYXBwbHkodCxuKTtmdW5jdGlvbiBzKGUpe2koYSxyLG8scyxjLCJuZXh0IixlKX1mdW5jdGlvbiBjKGUpe2koYSxyLG8scyxjLCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfX0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cix0LmxpbHk9cix0LmNjcFZlcnNpb249IlYyIjt2YXIgaT0iQ0lUUklYIixzPSJBV1NfV09SS1NQQUNFIixjPSJPTU5JU1NBIix1PSJDSVRSSVhfNDEzIixsPSJicm93c2VySWQiLHA9e307cFtyLlNvZnRwaG9uZUNhbGxUeXBlLkFVRElPX09OTFldPSJBdWRpbyIscFtyLlNvZnRwaG9uZUNhbGxUeXBlLlZJREVPX09OTFldPSJWaWRlbyIscFtyLlNvZnRwaG9uZUNhbGxUeXBlLkFVRElPX1ZJREVPXT0iQXVkaW9WaWRlbyIscFtyLlNvZnRwaG9uZUNhbGxUeXBlLk5PTkVdPSJOb25lIjt2YXIgZD0iYXVkaW9faW5wdXQiLGg9ImF1ZGlvX291dHB1dCI7KHt9KVtyLkNvbnRhY3RUeXBlLlZPSUNFXT0iVm9pY2UiO3ZhciBmPVtdLGc9W10sbT1bXSx2PXt9LHk9e30sYj0wLFM9MCxFPTAsQz0wLEk9MCxUPTAsdz0hMSxBPTAsXz0hMSxSPSExLEw9bnVsbCxPPW51bGwsaz1udWxsLE49bnVsbCxQPXIuU29mdHBob25lRXJyb3JUeXBlcyxEPXt9LHg9ci5yYW5kb21JZCgpLE09ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3IuY29yZS5nZXRDbGllbnQoKS5jYWxsKHIuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dChlLnNvZnRwaG9uZVRyYW5zcG9ydC5zb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtlLm1lc3NhZ2UmJmUubWVzc2FnZS5pbmNsdWRlcygiU29mdHBob25lQ29ubmVjdGlvbkxpbWl0QnJlYWNoZWRFeGNlcHRpb24iKSYmUSgibXVsdGlwbGVfc29mdHBob25lX2FjdGl2ZV9zZXNzaW9ucyIsIk51bWJlciBvZiBhY3RpdmUgc2Vzc2lvbnMgYXJlIG1vcmUgdGhlbiBhbGxvd2VkIGxpbWl0LiIsIiIpLG4oRXJyb3IoInJlcXVlc3RJY2VBY2Nlc3MgZmFpbGVkIikpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe24oRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSByZXF1ZXN0SWNlQWNjZXNzIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtuKEVycm9yKCJBY2Nlc3MgRGVuaWVkIHdoaWxlIHJlcXVlc3RJY2VBY2Nlc3MiKSl9fSl9KSl9LFU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHA9dGhpczt0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLHRoaXMucnRjSnNTdHJhdGVneT1udWxsLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW51bGwsdGhpcy5fc2V0UnRjSnNTdHJhdGVneT1mdW5jdGlvbigpe2lmKG4uVkRJUGxhdGZvcm0pe0w9bi5WRElQbGF0Zm9ybTt0cnl7c3dpdGNoKEwpe2Nhc2UgaTpjYXNlIHU6dGhpcy5ydGNKc1N0cmF0ZWd5PW5ldyByLkNpdHJpeFZESVN0cmF0ZWd5KEwsITApO2JyZWFrO2Nhc2Ugczp0aGlzLnJ0Y0pzU3RyYXRlZ3k9bmV3IHIuRENWV2ViUlRDU3RyYXRlZ3k7YnJlYWs7Y2FzZSBjOnRoaXMucnRjSnNTdHJhdGVneT1uZXcgci5PbW5pc3NhVkRJU3RyYXRlZ3k7YnJlYWs7ZGVmYXVsdDpRKFAuVkRJX1NUUkFURUdZX05PVF9TVVBQT1JURUQsIlZESSBTdHJhdGVneSBub3Qgc3VwcG9ydGVkIiwiIil9Ti5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gU3RyYXRlZ3kgY29uc3RydWN0b3IgcmV0cmlldmVkOiAiLmNvbmNhdCh0aGlzLnJ0Y0pzU3RyYXRlZ3kpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3Rocm93IlZESSBTdHJhdGVneSBub3Qgc3VwcG9ydGVkIj09PWUubWVzc2FnZT8oUShQLlZESV9TVFJBVEVHWV9OT1RfU1VQUE9SVEVELGUubWVzc2FnZSwiIiksZSk6IkNpdHJpeCBXZWJSVEMgcmVkaXJlY3Rpb24gZmVhdHVyZSBpcyBOT1Qgc3VwcG9ydGVkISI9PT1lLm1lc3NhZ2V8fCJEQ1YgV2ViUlRDIHJlZGlyZWN0aW9uIGZlYXR1cmUgaXMgTk9UIHN1cHBvcnRlZCEiPT09ZS5tZXNzYWdlPyhRKFAuVkRJX1JFRElSX05PVF9TVVBQT1JURUQsZS5tZXNzYWdlLCIiKSxlKTooUShQLk9USEVSLGUubWVzc2FnZSwiIiksZSl9fX0sdGhpcy5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1mdW5jdGlvbigpe3ZhciBlO251bGwhPXImJm51bGwhPT0oZT1yLmNvcmUpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5zb2Z0cGhvbmVNYW5hZ2VyKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KSYmdm9pZCAwIT09ZSYmZS5jbG9zZSYmci5jb3JlLnNvZnRwaG9uZU1hbmFnZXIucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsb3NlKCksci5SdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkmJih0aGlzLnJ0Y0pzU3RyYXRlZ3k/dGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bmV3IHIuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KE4sci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSx4LHIuaGl0Y2gocCxNLHt0cmFuc3BvcnRUeXBlOiJzb2Z0cGhvbmUiLHNvZnRwaG9uZUNsaWVudElkOnh9KSxyLmhpdGNoKHAsUSksdGhpcy5ydGNKc1N0cmF0ZWd5KTp0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1uZXcgci5SdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkoTixyLmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpLHgsci5oaXRjaChwLE0se3RyYW5zcG9ydFR5cGU6InNvZnRwaG9uZSIsc29mdHBob25lQ2xpZW50SWQ6eH0pLHIuaGl0Y2gocCxRKSkpfSx0aGlzLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj1mdW5jdGlvbigpe3ZhciBlO251bGwhPXImJm51bGwhPT0oZT1yLmNvcmUpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5zb2Z0cGhvbmVNYW5hZ2VyKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKSYmdm9pZCAwIT09ZSYmZS5jbG9zZSYmKHIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jbG9zZSgpLHIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj1udWxsKTt2YXIgbyxpLGE9bi5pc1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZDt0LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGwpfHx0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGwsQVdTLnV0aWwudXVpZC52NCgpKSxvPXQubG9jYWxTdG9yYWdlLmdldEl0ZW0obCksci5SdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI/KF89ITEsbnVsbCE9PShpPXAucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KSYmdm9pZCAwIT09aSYmaS5jbG9zZSYmKHAucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsb3NlKCkscC5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bnVsbCkscC5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9bmV3IHIuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKG51bGwsbnVsbCxyLmhpdGNoKHAsTSx7dHJhbnNwb3J0VHlwZToic29mdHBob25lIixzb2Z0cGhvbmVDbGllbnRJZDp4fSksci5oaXRjaChwLFEpLHgsbnVsbCxOLG51bGwsbnVsbCxyLmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpLG51bGw9PT1wLnJ0Y0pzU3RyYXRlZ3k/bmV3IHIuU3RhbmRhcmRTdHJhdGVneTpwLnJ0Y0pzU3RyYXRlZ3ksYSxvKSk6Ti5pbmZvKCJSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIgZG9lcyBOT1QgZXhpc3QsIHBsZWFzZSB1cGdyYWRlIFJUQy5qcyIpfSwoTj1uZXcgZGUoci5nZXRMb2coKSkpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gc29mdHBob25lIG1hbmFnZXIgaW5pdGlhbGl6YXRpb24gaGFzIGJlZ3VuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMSE9PW4uYWxsb3dFYXJseUd1bSYmKHIuaXNDaHJvbWVCcm93c2VyKCl8fHIuaXNFZGdlQnJvd3NlcigpKT8oTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGVhcmx5R3VtIG1lY2hhbmlzbSBlbmFibGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxfPSEwKTooTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGVhcmx5R3VtIG1lY2hhbmlzbSBOT1QgZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksXz0hMSksTi5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gQ2xpZW50IFByb3ZpZGVkIFN0cmF0ZWd5OiAiLmNvbmNhdChuLlZESVBsYXRmb3JtKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLl9zZXRSdGNKc1N0cmF0ZWd5KCksdGhpcy5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSgpLG51bGw9PT10aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciYmdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKSxyLmFnZW50KChmdW5jdGlvbih0KXt0Lm9uUmVmcmVzaCgoZnVuY3Rpb24odCl7aWYoZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIpe3ZhciBuPXQuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uO2UucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmhhbmRsZVBlcnNpc3RlbnRQZWVyQ29ubmVjdGlvblRvZ2dsZShuKX1lbHNlIGUuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCl9KSl9KSksVS5pc0Jyb3dzZXJTb2Z0UGhvbmVTdXBwb3J0ZWQoKXx8UShQLlVOU1VQUE9SVEVEX0JST1dTRVIsIkNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIGJyb3dzZXIuIFNvbWUgZnVuY3Rpb25hbGl0eSBtYXkgbm90IHdvcmsuICIsIiIpLG4uVkRJUGxhdGZvcm0hPT1zJiZYKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe1ooIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImdyYW50ZWQifSksWigiTWljQ2hlY2tTdWNjZWVkZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtRKGUsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpLFooIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImRlbmllZCJ9KSxaKCJHdW1GYWlsZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX19KTt2YXIgZD1qKCksaD1xKCksZj1CKCFuLmRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uKTtHKCksdGhpcy5yaW5ndG9uZUVuZ2luZT1udWxsO3ZhciBnPXt9LG09e30sdj0hMSx5PW51bGwsYj1udWxsLFM9ZnVuY3Rpb24oKXt2PSExLHk9bnVsbCxiPW51bGx9O3RoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gZ1tlXX0sdGhpcy5yZXBsYWNlQXVkaW9UcmFja3NJblJUQ1Nlc3Npb25XaXRoVm9pY2VFbmhhbmNlZE1lZGlhPWZ1bmN0aW9uKCl7dmFyIGU9YShvKCkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgaSxhLHM7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihlLnByZXY9MCxudWxsPT1uLlZESVBsYXRmb3JtKXtlLm5leHQ9NDticmVha31yZXR1cm4gTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFNraXBwaW5nIG1lZGlhIHN0cmVhbSByZXBsYWNlIHdpdGggZW5oYW5jZWQgbWVkaWEgZm9yIFZESTogIi5jb25jYXQobi5WRElQbGF0Zm9ybSkpLGUuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDQ6cmV0dXJuIGk9e2F1ZGlvOntlY2hvQ2FuY2VsbGF0aW9uOiEwfX0sdCYmKGkuYXVkaW8uZGV2aWNlSWQ9e2V4YWN0OnR9KSxuLmRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uJiYoaS5hdWRpby5lY2hvQ2FuY2VsbGF0aW9uPSExLGkuYXVkaW8uYXV0b0dhaW5Db250cm9sPSEwKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IklzRWNob0NhbmNlbGxhdGlvbkVuYWJsZWQiLGRhdGE6e2NvdW50OmkuYXVkaW8uZWNob0NhbmNlbGxhdGlvbj8xOjB9fSksZS5uZXh0PTEwLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGkpO2Nhc2UgMTA6cmV0dXJuIGE9ZS5zZW50LE4uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBHb3Qgc3RyZWFtICIuY29uY2F0KG51bGw9PWE/dm9pZCAwOmEuaWQsIiBmb3IgZGV2aWNlICIpLmNvbmNhdChpLmF1ZGlvLmRldmljZUlkKSksZS5uZXh0PTE0LHIuVm9pY2VGb2N1c1Byb3ZpZGVyLmdldFZvaWNlRW5oYW5jZWRVc2VyTWVkaWEoYSx7b25FcnJvcjpmdW5jdGlvbigpe3JldHVybiBRKCJhdWRpb19lbmhhbmNlbWVudF9mYWlsdXJlIiwiRmFpbGVkIHRvIGVuaGFuY2UgYXVkaW8gc3RyZWFtIiwiIil9fSk7Y2FzZSAxNDpyZXR1cm4gcz1lLnNlbnQsZS5uZXh0PTE3LHRoaXMucmVwbGFjZU1lZGlhU3RyZWFtSW5SVENTZXNzaW9uKHMpO2Nhc2UgMTc6Ti5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFJlcGxhY2VkIGxvY2FsIGF1ZGlvIHN0cmVhbSAiLmNvbmNhdChhLmlkLCIgd2l0aCBhdWRpbyBzdHJlYW06ICIpLmNvbmNhdChzLmlkKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLm5leHQ9MjM7YnJlYWs7Y2FzZSAyMDplLnByZXY9MjAsZS50MD1lLmNhdGNoKDApLE4uZXJyb3IoIltTb2Z0cGhvbmUgTWFuYWdlcl0gRmFpbGVkIHRvIHJlcGxhY2UgbWVkaWEgc3RyZWFtIGluIHJ0YyBzZXNzaW9uIikud2l0aEV4Y2VwdGlvbihlLnQwKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1swLDIwXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSx0aGlzLnJlcGxhY2VNZWRpYVN0cmVhbUluUlRDU2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEobygpLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGEscz10aGlzO3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoZS5wcmV2PTAsdCYmdC5nZXRBdWRpb1RyYWNrcyYmdC5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG1lZGlhIHN0cmVhbSBvciBubyBhdWRpbyB0cmFja3MgYXZhaWxhYmxlIik7Y2FzZSAzOm49dC5nZXRBdWRpb1RyYWNrcygpWzBdLHI9W10saT1vKCkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgaSxhLGM7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighRC5oYXNPd25Qcm9wZXJ0eSh0KSl7ZS5uZXh0PTExO2JyZWFrfWlmKChpPXMuZ2V0U2Vzc2lvbih0KSkmJmkuX3BjJiZpLl9wYy5nZXRTZW5kZXJzKXtlLm5leHQ9NTticmVha31yZXR1cm4gTi53YXJuKCJbU29mdHBob25lIE1hbmFnZXJdIEludmFsaWQgc2Vzc2lvbiBvciBwZWVyIGNvbm5lY3Rpb24gZm9yIGNvbm5lY3Rpb25JZDogIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5hYnJ1cHQoInJldHVybiIsMCk7Y2FzZSA1OmlmKGE9aS5fcGMuZ2V0U2VuZGVycygpWzBdKXtlLm5leHQ9OTticmVha31yZXR1cm4gTi53YXJuKCJbU29mdHBob25lIE1hbmFnZXJdIE5vIFJUUCBzZW5kZXIgZm91bmQgZm9yIGNvbm5lY3Rpb25JZDogIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5hYnJ1cHQoInJldHVybiIsMCk7Y2FzZSA5OmM9YS5yZXBsYWNlVHJhY2sobikudGhlbigoZnVuY3Rpb24oKXtzLnJlcGxhY2VMb2NhbE1lZGlhVHJhY2sodCxuKSxpLl9pc1VzZXJQcm92aWRlZFN0cmVhbT0hMCxOLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gQXVkaW8gdHJhY2sgc3VjY2Vzc2Z1bGx5IHJlcGxhY2VkIGZvciBjb25uZWN0aW9uSWQ6ICIuY29uY2F0KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLE4uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBBdWRpbyB0cmFjayBzZXR0aW5nczogIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobi5nZXRTZXR0aW5ncygpKSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe04uZXJyb3IoIltTb2Z0cGhvbmUgTWFuYWdlcl0gRmFpbGVkIHRvIHJlcGxhY2UgdHJhY2sgZm9yIGNvbm5lY3Rpb25JZDogIi5jb25jYXQodCkpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxyLnB1c2goYyk7Y2FzZSAxMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpLGUudDA9bygpLmtleXMoRCk7Y2FzZSA3OmlmKChlLnQxPWUudDAoKSkuZG9uZSl7ZS5uZXh0PTE1O2JyZWFrfXJldHVybiBhPWUudDEudmFsdWUsZS5kZWxlZ2F0ZVlpZWxkKGkoYSksInQyIiwxMCk7Y2FzZSAxMDppZigwIT09ZS50Mil7ZS5uZXh0PTEzO2JyZWFrfXJldHVybiBlLmFicnVwdCgiY29udGludWUiLDcpO2Nhc2UgMTM6ZS5uZXh0PTc7YnJlYWs7Y2FzZSAxNTpyZXR1cm4gZS5uZXh0PTE3LFByb21pc2UuYWxsKHIpO2Nhc2UgMTc6Ti5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFN1Y2Nlc3NmdWxseSByZXBsYWNlZCBhbGwgYXVkaW8gdHJhY2tzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLm5leHQ9MjM7YnJlYWs7Y2FzZSAyMDplLnByZXY9MjAsZS50Mz1lLmNhdGNoKDApLE4uZXJyb3IoIltTb2Z0cGhvbmUgTWFuYWdlcl0gRmFpbGVkIHRvIHJlcGxhY2UgbWVkaWEgc3RyZWFtIGluIHJ0YyBzZXNzaW9uIikud2l0aEV4Y2VwdGlvbihlLnQzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1swLDIwXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSx0aGlzLnJlcGxhY2VMb2NhbE1lZGlhVHJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj1EW2VdLnN0cmVhbTtpZihyKXt2YXIgbz1yLmdldEF1ZGlvVHJhY2tzKClbMF07dC5lbmFibGVkPW8uZW5hYmxlZCxvLmVuYWJsZWQ9ITEsci5yZW1vdmVUcmFjayhvKSxuLlZESVBsYXRmb3JtPT09cyYmby5zdG9wKCksci5hZGRUcmFjayh0KX19O3ZhciBFPWZ1bmN0aW9uKHQpe2lmKGcuaGFzT3duUHJvcGVydHkodCkpe3ZhciBuPWdbdF07bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZGVsZXRlIGdbdF0sZGVsZXRlIG1bdF0sZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI/ZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuaGFuZ3VwKCk6bi5oYW5ndXAoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bGlseS5nZXRMb2coKS53YXJuKCJUaGVyZSB3YXMgYW4gZXJyb3IgZGVzdHJveWluZyB0aGUgc29mdHBob25lIHNlc3Npb24gZm9yIGNvbm5lY3Rpb24gSUQgIi5jb25jYXQodCwiIDogIikuY29uY2F0KGUubWVzc2FnZSkpLndpdGhPYmplY3Qoe2FnZW50Q29ubmVjdGlvbklkOnQsZXJyb3JNZXNzYWdlOmUubWVzc2FnZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9fTt0aGlzLl9jbGVhckFsbFNlc3Npb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHIuZ2V0TG9nKCkuaW5mbygiQ2xlYXJpbmcgYWxsIGFjdGl2ZSBzZXNzaW9ucyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZylnLmhhc093blByb3BlcnR5KGUpJiZFKGUpfSx0aGlzLnN0YXJ0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciBvPXY/eTplLGk9dj9iOnQ7aWYobyYmaSl7UygpLG1baV09ITAsTi5pbmZvKCJTb2Z0cGhvbmUgY2FsbCBkZXRlY3RlZDoiLCJjb250YWN0SWQgIitvLmdldENvbnRhY3RJZCgpLCJhZ2VudCBjb25uZWN0aW9uSWQgIitpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGZ1bmN0aW9uKGUpe2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aD4wKXtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYoJCgiTXVsdGlTZXNzaW9uSGFuZ1VwIixlW3RdLmNhbGxJZCx0KSxFKHQpKTt0aHJvdyBuZXcgRXJyb3IoImR1cGxpY2F0ZSBzZXNzaW9uIGRldGVjdGVkLCByZWZ1c2luZyB0byBzZXR1cCBuZXcgY29ubmVjdGlvbiIpfX0oZyksby5nZXRTdGF0dXMoKS50eXBlPT09ci5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZaKCJTb2Z0cGhvbmUgQ29ubmVjdGluZyIsby5nZXRDb250YWN0SWQoKSkscmUoKTt2YXIgYSxzLGM9by5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKSx1PVkoYy5jYWxsQ29uZmlnSnNvbik7dS51c2VXZWJTb2NrZXRQcm92aWRlciYmKGE9ci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSksbnVsbD09PXRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcigpLChzPXIuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj90aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jcmVhdGVTZXNzaW9uKG8uZ2V0Q29udGFjdElkKCksdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixpLGEsbnVsbD09PXRoaXMucnRjSnNTdHJhdGVneT9uZXcgci5TdGFuZGFyZFN0cmF0ZWd5OnRoaXMucnRjSnNTdHJhdGVneSk6dGhpcy5ydGNKc1N0cmF0ZWd5P25ldyByLlJUQ1Nlc3Npb24odS5zaWduYWxpbmdFbmRwb2ludCx1LmljZVNlcnZlcnMsYy5jYWxsQ29udGV4dFRva2VuLE4sby5nZXRDb250YWN0SWQoKSxpLGEsdGhpcy5ydGNKc1N0cmF0ZWd5KTpuZXcgci5SVENTZXNzaW9uKHUuc2lnbmFsaW5nRW5kcG9pbnQsdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixOLG8uZ2V0Q29udGFjdElkKCksaSxhKSkuZWNob0NhbmNlbGxhdGlvbj0hbi5kaXNhYmxlRWNob0NhbmNlbGxhdGlvbixnW2ldPXMsci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KSxzLm9uU2Vzc2lvbkZhaWxlZD1mdW5jdGlvbihlLHQpe2RlbGV0ZSBnW2ldLGRlbGV0ZSBtW2ldLEsoZSx0KSxKKG8uZ2V0Q29udGFjdElkKCksdCksdWUobyxlLnNlc3Npb25SZXBvcnQpLHIuVm9pY2VGb2N1c1Byb3ZpZGVyLnB1Ymxpc2hNZXRyaWNzKHtjb250YWN0SWR9KSxyLlZvaWNlRm9jdXNQcm92aWRlci5jbGVhblZvaWNlRm9jdXMoKX0scy5vblNlc3Npb25Db25uZWN0ZWQ9ZnVuY3Rpb24oZSl7WigiU29mdHBob25lIFNlc3Npb24gQ29ubmVjdGVkIixvLmdldENvbnRhY3RJZCgpKSxyLmJlY29tZU1hc3RlcihyLk1hc3RlclRvcGljcy5TRU5EX0xPR1MpLHRlKGUpLG5lKG8pLEYobyl9LHMub25TZXNzaW9uQ29tcGxldGVkPWZ1bmN0aW9uKGUpe1ooIlNvZnRwaG9uZSBTZXNzaW9uIENvbXBsZXRlZCIsby5nZXRDb250YWN0SWQoKSksZGVsZXRlIGdbaV0sZGVsZXRlIG1baV0sdWUobyxlLnNlc3Npb25SZXBvcnQpLFYoaSksci5Wb2ljZUZvY3VzUHJvdmlkZXIucHVibGlzaE1ldHJpY3Moe2NvbnRhY3RJZH0pLHIuVm9pY2VGb2N1c1Byb3ZpZGVyLmNsZWFuVm9pY2VGb2N1cygpfSxzLm9uTG9jYWxTdHJlYW1BZGRlZD1mdW5jdGlvbihlLHQpe0RbaV09e3N0cmVhbTp0fSxOLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gT24gbG9jYWwgbWVkaWEgc3RyZWFtIHNldCwgY2FsbCB2b2ljZSBlbmhhbmNlbWVudCBmb3Igc3RyZWFtOiAiLmNvbmNhdCh0LmlkKSkscC5yZXBsYWNlQXVkaW9UcmFja3NJblJUQ1Nlc3Npb25XaXRoVm9pY2VFbmhhbmNlZE1lZGlhKCkudGhlbigoZnVuY3Rpb24oKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLkxPQ0FMX01FRElBX1NUUkVBTV9DUkVBVEVELGRhdGE6e2Nvbm5lY3Rpb25JZDppfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtOLmVycm9yKCJbU29mdHBob25lIE1hbmFnZXJdIEZhaWxlZCB0byByZXBsYWNlIGF1ZGlvIHRyYWNrcyBpbiBSVEMgc2Vzc2lvbi4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5BZ2VudEV2ZW50cy5MT0NBTF9NRURJQV9TVFJFQU1fQ1JFQVRFRCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KX0pKX0scy5yZW1vdGVBdWRpb0VsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpfHx3aW5kb3cucGFyZW50LnBhcmVudC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIiksdGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI/dGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY29ubmVjdCgpOnRoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5P3MuY29ubmVjdCh0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5nZXQodS5pY2VTZXJ2ZXJzKSk6cy5jb25uZWN0KCl9fTt2YXIgQz1mdW5jdGlvbihlLHQpe3ZhciBuO2dbdF0mJmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVOREVEfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVSUk9SfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLk1JU1NFRH0oZSkmJihFKHQpLFMoKSksIWUuaXNTb2Z0cGhvbmVDYWxsKCl8fG1bdF18fGUuZ2V0U3RhdHVzKCkudHlwZSE9PXIuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09ci5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlOR3x8KFooIlNvZnRwaG9uZUNvbmZpZ0RldGVjdGVkIixlLmdldENvbnRhY3RJZCgpLHt9LCEwKSxyLmlzRmlyZWZveEJyb3dzZXIoKSYmci5oYXNPdGhlckNvbm5lY3RlZENDUHMoKT8oTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFBvc3Rwb25lIHN0YXJ0aW5nIHNlc3Npb246ICIrZS5nZXRDb250YWN0SWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlLHQpe3Y9ITAseT1lLGI9dH0oZSx0KSk6XyYmbnVsbCE9PShuPXIuY29yZS51c2VyTWVkaWFQcm92aWRlcikmJnZvaWQgMCE9PW4mJm4ucHJlY2FwdHVyZWRNZWRpYVN0cmVhbUF2YWlsYWJsZSgpPyhSPSEwLE4uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBzdGFydGluZyBzZXNzaW9uIHVzaW5nIHByZWNhcHR1cmVkTWVkaWFTdHJlYW0iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHAuc3RhcnRTZXNzaW9uKGUsdCxyLmNvcmUudXNlck1lZGlhUHJvdmlkZXIuZ2V0UHJlY2FwdHVyZWRNZWRpYVN0cmVhbSgpKSk6KFI9ITEsci5jb3JlLl9pc0Vhcmx5R3VtRGlzYWJsZWQmJihfPSExKSxwLnN0YXJ0U2Vzc2lvbihlLHQpKSl9LEk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7Ti5pbmZvKCJDb250YWN0IGRldGVjdGVkOiIsImNvbnRhY3RJZCAiK2UuZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK3QpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbVt0XXx8KGUub25SZWZyZXNoKChmdW5jdGlvbihlKXtDKGUsdCl9KSksZS5vbkRlc3Ryb3koKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe2dbZV0mJkUoZSl9KHQpLERbdF0mJlYodCl9KSkpfSxUPXIuY29udGFjdChJKTsobmV3IHIuQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7Ti5pbmZvKCJDb250YWN0IGV4aXN0IGluIHRoZSBzbmFwc2hvdC4gUmVpbml0aWF0ZSB0aGUgQ29udGFjdCBhbmQgUlRDIHNlc3Npb24gY3JlYXRpb24gZm9yIGNvbnRhY3RJZCIrZS5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIrdCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxJKGUpLEMoZSx0KX0pKSx0aGlzLnRlcm1pbmF0ZT1mdW5jdGlvbigpe1QmJlQudW5zdWJzY3JpYmUmJlQudW5zdWJzY3JpYmUoKSxkJiZkLnVuc3Vic2NyaWJlJiZkLnVuc3Vic2NyaWJlKCksaCYmaC51bnN1YnNjcmliZSYmaC51bnN1YnNjcmliZSgpLGYmJmYudW5zdWJzY3JpYmUmJmYudW5zdWJzY3JpYmUoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQmJmUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpLGUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwsZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXImJmUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCYmZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkKCl9fSxGPWZ1bmN0aW9uKGUpe3ZhciB0PXIuY29yZS5nZXRVcHN0cmVhbSgpO2UuZ2V0QWdlbnRDb25uZWN0aW9uKCk/ZS5pc0F1dG9BY2NlcHRFbmFibGVkKCkmJmUuZ2V0VHlwZSgpPT09ci5Db250YWN0VHlwZS5WT0lDRT8oTi5pbmZvKCJBdXRvLWFjY2VwdCBpcyBlbmFibGVkLCBzZW5kaW5nIG91dCBBY2NlcHRlZCBldmVudCB0byBzdG9wIHJpbmd0b25lLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db250YWN0RXZlbnRzLkFDQ0VQVEVELGRhdGE6bmV3IHIuQ29udGFjdChlLmNvbnRhY3RJZCl9KSx0LnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHIuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCxlLmNvbnRhY3RJZCksZGF0YTpuZXcgci5Db250YWN0KGUuY29udGFjdElkKX0pKTpOLmluZm8oIkF1dG8tYWNjZXB0IGlzIGRpc2FibGVkLCByaW5ndG9uZSB3aWxsIGJlIHN0b3BwZWQgYnkgdXNlciBhY3Rpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTpOLmluZm8oIk5vdCBhYmxlIHRvIHJldHJpZXZlIHRoZSBhdXRvLWFjY2VwdCBzZXR0aW5nIGZyb20gbnVsbCBBZ2VudENvbm5lY3Rpb24sIGlnbm9yaW5nIGV2ZW50IHB1Ymxpc2guLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGo9ZnVuY3Rpb24oKXtyZXR1cm4gci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLk1VVEUsVyl9LHE9ZnVuY3Rpb24oKXtyZXR1cm4gci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfU1BFQUtFUl9ERVZJQ0UsSCl9LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX01JQ1JPUEhPTkVfREVWSUNFLChmdW5jdGlvbih0KXtyZXR1cm4geihuKG4oe30sdCkse30se2VuYWJsZUVjaG9DYW5jZWxsYXRpb246ZX0pKX0pKX0sRz1mdW5jdGlvbigpe3RyeXtyLmlzQ2hyb21lQnJvd3NlcigpJiZyLmdldENocm9tZUJyb3dzZXJWZXJzaW9uKCk+NDMmJm5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZToibWljcm9waG9uZSJ9KS50aGVuKChmdW5jdGlvbihlKXtlLm9uY2hhbmdlPWZ1bmN0aW9uKCl7Ti5pbmZvKCJNaWNyb3Bob25lIFBlcm1pc3Npb246ICIrZS5zdGF0ZSksWigiQ29ubmVjdGl2aXR5Q2hlY2tSZXN1bHQiLG51bGwse2Nvbm5lY3Rpdml0eUNoZWNrVHlwZToiTWljcm9waG9uZVBlcm1pc3Npb24iLHN0YXR1czplLnN0YXRlfSksImRlbmllZCI9PT1lLnN0YXRlJiZRKFAuTUlDUk9QSE9ORV9OT1RfU0hBUkVELCJZb3VyIG1pY3JvcGhvbmUgaXMgbm90IGVuYWJsZWQgaW4geW91ciBicm93c2VyLiAiLCIiKX19KSl9Y2F0Y2goZSl7Ti5lcnJvcigiRmFpbGVkIGluIGRldGVjdGluZyBtaWNyb3Bob25lIHBlcm1pc3Npb24gc3RhdHVzOiAiK2UpfX0sVj1mdW5jdGlvbihlKXtkZWxldGUgRFtlXSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGRhdGE6e211dGVkOiExfX0pfSxXPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKDAhPT1yLmtleXMoRCkubGVuZ3RoKXtmb3IodmFyIG4gaW4gZSYmdm9pZCAwIT09ZS5tdXRlJiYodD1lLm11dGUpLEQpaWYoRC5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIG89RFtuXS5zdHJlYW07aWYobyl7dmFyIGk9by5nZXRBdWRpb1RyYWNrcygpWzBdO3ZvaWQgMCE9PXQ/KGkuZW5hYmxlZD0hdCxEW25dLm11dGVkPXQsdD9OLmluZm8oIkFnZW50IGhhcyBtdXRlZCB0aGUgY29udGFjdCwgY29ubmVjdGlvbklkIC0gICIrbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTpOLmluZm8oIkFnZW50IGhhcyB1bm11dGVkIHRoZSBjb250YWN0LCBjb25uZWN0aW9uSWQgLSAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOnQ9RFtuXS5tdXRlZHx8ITF9fXIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuTVVURV9UT0dHTEUsZGF0YTp7bXV0ZWQ6dH19KX19LEg9ZnVuY3Rpb24oKXt2YXIgZT0oYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9KS5kZXZpY2VJZHx8IiI7aWYoci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBBdHRlbXB0aW5nIHRvIHNldCBzcGVha2VyIGRldmljZSAiLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIil8fHdpbmRvdy5wYXJlbnQucGFyZW50LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKTt0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zZXRTaW5rSWQ/dC5zZXRTaW5rSWQoZSkudGhlbigoZnVuY3Rpb24oKXtyLmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNwZWFrZXIgZGV2aWNlICIuY29uY2F0KGUsIiBzdWNjZXNzZnVsbHkgc2V0IHRvIHNwZWFrZXIgYXVkaW8gZWxlbWVudCIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29uZmlndXJhdGlvbkV2ZW50cy5TUEVBS0VSX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOmV9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3IuZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgc3BlYWtlciBkZXZpY2UgIitlKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSk6ci5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIHNwZWFrZXIgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyByZW1vdGVBdWRpb0VsZW1lbnQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2Ugci5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIHNwZWFrZXIgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBkZXZpY2VJZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHo9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmRldmljZUlkfHwiIjtpZihyLmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEF0dGVtcHRpbmcgdG8gc2V0IG1pY3JvcGhvbmUgZGV2aWNlICIuY29uY2F0KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLDAhPT1yLmtleXMoRCkubGVuZ3RoKWlmKHQpe3ZhciBuPXIuY29yZS5nZXRTb2Z0cGhvbmVNYW5hZ2VyKCksbz17YXVkaW86e2RldmljZUlkOntleGFjdDp0fX19O2UuZW5hYmxlRWNob0NhbmNlbGxhdGlvbnx8KG8uYXVkaW8uZWNob0NhbmNlbGxhdGlvbj0hMSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJlY2hvQ2FuY2VsbGF0aW9uQ2hlY2siLGRhdGE6e2NvdW50OjEsZGlzYWJsZUVjaG9DYW5jZWxsYXRpb246IWUuZW5hYmxlRWNob0NhbmNlbGxhdGlvbn19KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShvKS50aGVuKChmdW5jdGlvbihlKXt0cnl7dmFyIG89ZS5nZXRBdWRpb1RyYWNrcygpWzBdO2Zvcih2YXIgaSBpbiBEKWlmKEQuaGFzT3duUHJvcGVydHkoaSkpe0RbaV0uc3RyZWFtO3ZhciBhPW4uZ2V0U2Vzc2lvbihpKTthLl9wYy5nZXRTZW5kZXJzKClbMF0ucmVwbGFjZVRyYWNrKG8pLnRoZW4oKGZ1bmN0aW9uKCl7bi5yZXBsYWNlTG9jYWxNZWRpYVRyYWNrKGksbyksYS5faXNVc2VyUHJvdmlkZWRTdHJlYW09ITAsci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBNaWNyb3Bob25lIGRldmljZSAiLmNvbmNhdCh0LCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBsb2NhbCBtZWRpYSBzdHJlYW0gaW4gUlRDUnRwU2VuZGVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9fWNhdGNoKGUpe3JldHVybiB2b2lkIHIuZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgbWljcm9waG9uZSBkZXZpY2UgIit0KS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25maWd1cmF0aW9uRXZlbnRzLk1JQ1JPUEhPTkVfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6dH19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5nZXRMb2coKS5lcnJvcigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gRmFpbGVkIHRvIHNldCBtaWNyb3Bob25lIGRldmljZSAiK3QpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX1lbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBtaWNyb3Bob25lIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2Ugci5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIG1pY3JvcGhvbmUgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBsb2NhbE1lZGlhU3RyZWFtIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sSz1mdW5jdGlvbihlLHQpe2lmKHQ9PT1yLlJUQ0Vycm9ycy5JQ0VfQ09MTEVDVElPTl9USU1FT1VUKXtmb3IodmFyIG49IlxuIixvPTA7bzxlLl9pY2VTZXJ2ZXJzLmxlbmd0aDtvKyspZm9yKHZhciBpPTA7aTxlLl9pY2VTZXJ2ZXJzW29dLnVybHMubGVuZ3RoO2krKyluPW4rZS5faWNlU2VydmVyc1tvXS51cmxzW2ldKyJcbiI7UShQLklDRV9DT0xMRUNUSU9OX1RJTUVPVVQsIkljZSBjb2xsZWN0aW9uIHRpbWVkb3V0LiAiLG4pfWVsc2UgdD09PXIuUlRDRXJyb3JzLlVTRVJfQlVTWT9RKFAuVVNFUl9CVVNZX0VSUk9SLCJTb2Z0cGhvbmUgY2FsbCBVc2VyQnVzeSBlcnJvci4gIiwiIik6dD09PXIuUlRDRXJyb3JzLlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkU/UShQLlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkUsIkhhbmRzaGFraW5nIHdpdGggU2lnbmFsbGluZyBTZXJ2ZXIgIitlLl9zaWduYWxpbmdVcmkrIiBmYWlsZWQuICIsZS5fc2lnbmFsaW5nVXJpKTp0PT09ci5SVENFcnJvcnMuR1VNX1RJTUVPVVRfRkFJTFVSRXx8dD09PXIuUlRDRXJyb3JzLkdVTV9PVEhFUl9GQUlMVVJFP1EoUC5NSUNST1BIT05FX05PVF9TSEFSRUQsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpOnQ9PT1yLlJUQ0Vycm9ycy5TSUdOQUxMSU5HX0NPTk5FQ1RJT05fRkFJTFVSRT9RKFAuU0lHTkFMTElOR19DT05ORUNUSU9OX0ZBSUxVUkUsIlVSTCAiK2UuX3NpZ25hbGluZ1VyaSsiIGNhbm5vdCBiZSByZWFjaGVkLiAiLGUuX3NpZ25hbGluZ1VyaSk6dD09PXIuUlRDRXJyb3JzLkNBTExfTk9UX0ZPVU5EP04uZXJyb3IoIlNvZnRwaG9uZSBjYWxsIGZhaWxlZCBkdWUgdG8gQ2FsbE5vdEZvdW5kRXhjZXB0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6UShQLldFQlJUQ19FUlJPUiwid2VicnRjIHN5c3RlbSBlcnJvci4gIiwiIil9LFk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC8mcXVvdDsvZywnIicpO3JldHVybiBKU09OLnBhcnNlKHQpfSxYPWZ1bmN0aW9uKHQpe3ZhciBuPXR8fHt9O24uc3VjY2Vzcz1uLnN1Y2Nlc3N8fGZ1bmN0aW9uKCl7fSxuLmZhaWx1cmU9bi5mYWlsdXJlfHxmdW5jdGlvbigpe307dmFyIHI9e2F1ZGlvOiEwfSxvPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2Upe2lmKCJvYmplY3QiPT09ZShuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSYmImZ1bmN0aW9uIj09dHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKW89bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocik7ZWxzZXtpZigiZnVuY3Rpb24iIT10eXBlb2YgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSlyZXR1cm4gdm9pZCBuLmZhaWx1cmUoUC5VTlNVUFBPUlRFRF9CUk9XU0VSKTtvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe25hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEocixlLHQpfSkpfXJldHVybiBvLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXVkaW9UcmFja3MoKTt0JiZ0Lmxlbmd0aD4wP24uc3VjY2VzcyhlKTpuLmZhaWx1cmUoUC5NSUNST1BIT05FX05PVF9TSEFSRUQpfSksKGZ1bmN0aW9uKGUpe24uZmFpbHVyZShQLk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCl9KSksb31uLmZhaWx1cmUoUC5VTlNVUFBPUlRFRF9CUk9XU0VSKX0sUT1mdW5jdGlvbihlLHQsbil7Ti5lcnJvcigiU29mdHBob25lIGVycm9yIG9jY3VycmVkIDogIixlLHR8fCIiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuU09GVFBIT05FX0VSUk9SLGRhdGE6bmV3IHIuU29mdHBob25lRXJyb3IoZSx0LG4pfSl9LEo9ZnVuY3Rpb24oZSx0KXtaKCJTb2Z0cGhvbmUgU2Vzc2lvbiBGYWlsZWQiLGUse2ZhaWxlZFJlYXNvbjp0fSl9LFo9ZnVuY3Rpb24oZSx0LG4pe3IucHVibGlzaE1ldHJpYyh7bmFtZTplLGNvbnRhY3RJZDp0LGRhdGE6bn0pfSwkPWZ1bmN0aW9uKGUsdCxuKXtaKGUsdCxbe25hbWU6IkFnZW50Q29ubmVjdGlvbklkIix2YWx1ZTpufV0pLE4uaW5mbygiUHVibGlzaCBtdWx0aXBsZSBzZXNzaW9uIGVycm9yIG1ldHJpY3MiLGUsImNvbnRhY3RJZCAiK3QsImFnZW50IGNvbm5lY3Rpb25JZCAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9O1UuaXNCcm93c2VyU29mdFBob25lU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISEoci5pc09wZXJhQnJvd3NlcigpJiZyLmdldE9wZXJhQnJvd3NlclZlcnNpb24oKT4xNyl8fCEhKHIuaXNDaHJvbWVCcm93c2VyKCkmJnIuZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKT4yMil8fCEhKHIuaXNGaXJlZm94QnJvd3NlcigpJiZyLmdldEZpcmVmb3hCcm93c2VyVmVyc2lvbigpPjIxKX07dmFyIGVlPWZ1bmN0aW9uKGUpe3ZhciB0PWYuc2xpY2UoKTtmPVtdLHQubGVuZ3RoPjAmJmUuc2VuZFNvZnRwaG9uZU1ldHJpY3ModCx7c3VjY2VzczpmdW5jdGlvbigpe04uaW5mbygic2VuZFNvZnRwaG9uZU1ldHJpY3Mgc3VjY2VzcyIrSlNPTi5zdHJpbmdpZnkodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7Ti5lcnJvcigic2VuZFNvZnRwaG9uZU1ldHJpY3MgZmFpbGVkLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KX0sdGU9ZnVuY3Rpb24oZSl7Tz13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIHQ7ZS5nZXRVc2VyQXVkaW9TdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PXYsbj1vZSh2PWUsdCxkKTtmLnB1c2gobiksaWUobil9KSwoZnVuY3Rpb24oZSl7Ti5kZWJ1ZygiRmFpbGVkIHRvIGdldCB1c2VyIGF1ZGlvIHN0YXRzLiIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLmdldFJlbW90ZUF1ZGlvU3RhdHMoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD15LG49b2UoeT1lLHQsaCk7Zi5wdXNoKG4pLGllKG4pfSksKGZ1bmN0aW9uKGUpe04uZGVidWcoIkZhaWxlZCB0byBnZXQgcmVtb3RlIGF1ZGlvIHN0YXRzLiIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxudWxsIT1lJiZudWxsIT09KHQ9ZS5tZWRpYVN0cmVhbSkmJnZvaWQgMCE9PXQmJm51bGwhPT0odD10LmdldEF1ZGlvVHJhY2tzKCkpJiZ2b2lkIDAhPT10JiZudWxsIT09KHQ9dFswXSkmJnZvaWQgMCE9PXQmJnQuZW5hYmxlZD9UPTA6VCsrfSksMWUzKX0sbmU9ZnVuY3Rpb24oZSl7az13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZWUoZSl9KSwzZTQpfSxyZT1mdW5jdGlvbigpe3Y9bnVsbCx5PW51bGwsZj1bXSxnPVtdLG09W10sTz1udWxsLGs9bnVsbCxiPTAsUz0wLEU9MCxDPTAsST0wfSxvZT1mdW5jdGlvbihlLHQsbil7aWYodCYmZSl7dmFyIHI9ZS5wYWNrZXRzTG9zdD50LnBhY2tldHNMb3N0P2UucGFja2V0c0xvc3QtdC5wYWNrZXRzTG9zdDowLG89ZS5wYWNrZXRzQ291bnQ+dC5wYWNrZXRzQ291bnQ/ZS5wYWNrZXRzQ291bnQtdC5wYWNrZXRzQ291bnQ6MDtyZXR1cm4gYWUobyxuKSxzZShlLmF1ZGlvTGV2ZWwsbiksbmV3IGxlKGUudGltZXN0YW1wLHIsbyxuLGUuYXVkaW9MZXZlbCxlLmpiTWlsbGlzZWNvbmRzLGUucnR0TWlsbGlzZWNvbmRzKX1yZXR1cm4gbmV3IGxlKGUudGltZXN0YW1wLGUucGFja2V0c0xvc3QsZS5wYWNrZXRzQ291bnQsbixlLmF1ZGlvTGV2ZWwsZS5qYk1pbGxpc2Vjb25kcyxlLnJ0dE1pbGxpc2Vjb25kcyl9LGllPWZ1bmN0aW9uKGUpe2lmKGUuc29mdHBob25lU3RyZWFtVHlwZT09PWQpe2Zvcig7Zy5sZW5ndGg+PTEwODAwOylnLnNoaWZ0KCk7Zy5wdXNoKGUpfWVsc2UgaWYoZS5zb2Z0cGhvbmVTdHJlYW1UeXBlPT09aCl7Zm9yKDttLmxlbmd0aD49MTA4MDA7KW0uc2hpZnQoKTttLnB1c2goZSl9fSxhZT1mdW5jdGlvbihlLHQpe3Q9PT1kPyhJKyssZTw9MD9iKys6Yj0wKTp0PT09aCYmKGU8PTA/RSsrOkU9MCl9LHNlPWZ1bmN0aW9uKGUsdCl7dD09PWQ/bnVsbCE9PWUmJmU8PTE/UysrOlM9MDp0PT09aCYmKG51bGwhPT1lJiZlPD0xP0MrKzpDPTApfSxjZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJndpbmRvdy5jbGVhckludGVydmFsKGUpLG51bGx9LHVlPWZ1bmN0aW9uKGUsbyl7Tz1jZShPKSxrPWNlKGspLGZ1bmN0aW9uKGUsbyxpLGEpe28uc3RyZWFtU3RhdHM9W3BlKGksZCkscGUoYSxoKV07dmFyIHM9e2NhbGxTdGFydFRpbWU6by5zZXNzaW9uU3RhcnRUaW1lLGNhbGxFbmRUaW1lOm8uc2Vzc2lvbkVuZFRpbWUsZ3VtVGltZU1pbGxpczpvLmd1bVRpbWVNaWxsaXMsaW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzOm8uaW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzLGljZUNvbGxlY3Rpb25UaW1lTWlsbGlzOm8uaWNlQ29sbGVjdGlvblRpbWVNaWxsaXMsc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzOm8uc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzLGhhbmRzaGFraW5nVGltZU1pbGxpczpvLmhhbmRzaGFraW5nVGltZU1pbGxpcyxwcmVUYWxraW5nVGltZU1pbGxpczpvLnByZVRhbGtpbmdUaW1lTWlsbGlzLHRhbGtpbmdUaW1lTWlsbGlzOm8udGFsa2luZ1RpbWVNaWxsaXMsY2xlYW51cFRpbWVNaWxsaXM6by5jbGVhbnVwVGltZU1pbGxpcyxpY2VDb2xsZWN0aW9uRmFpbHVyZTpvLmljZUNvbGxlY3Rpb25GYWlsdXJlLHNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZTpvLnNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZSxoYW5kc2hha2luZ0ZhaWx1cmU6by5oYW5kc2hha2luZ0ZhaWx1cmUsZ3VtT3RoZXJGYWlsdXJlOm8uZ3VtT3RoZXJGYWlsdXJlLGd1bVRpbWVvdXRGYWlsdXJlOm8uZ3VtVGltZW91dEZhaWx1cmUsY3JlYXRlT2ZmZXJGYWlsdXJlOm8uY3JlYXRlT2ZmZXJGYWlsdXJlLHNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlOm8uc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmUsdXNlckJ1c3lGYWlsdXJlOm8udXNlckJ1c3lGYWlsdXJlLGludmFsaWRSZW1vdGVTRFBGYWlsdXJlOm8uaW52YWxpZFJlbW90ZVNEUEZhaWx1cmUsbm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlOm8ubm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlLHNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZTpvLnNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOm8uc3RyZWFtU3RhdHN9O2Uuc2VuZFNvZnRwaG9uZVJlcG9ydChzLHtzdWNjZXNzOmZ1bmN0aW9uKCl7Ti5pbmZvKCJzZW5kU29mdHBob25lUmVwb3J0IHN1Y2Nlc3MiK0pTT04uc3RyaW5naWZ5KHMpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe04uZXJyb3IoInNlbmRTb2Z0cGhvbmVSZXBvcnQgZmFpbGVkLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KTt2YXIgYz17QVVESU9fSU5QVVQ6e3BhY2tldHNDb3VudDpnLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0NvdW50fSkpLHBhY2tldHNMb3N0OmcubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYWNrZXRzTG9zdH0pKSxhdWRpb0xldmVsOmcubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hdWRpb0xldmVsfSkpLGppdHRlckJ1ZmZlck1pbGxpczpnLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaml0dGVyQnVmZmVyTWlsbGlzfSkpfSxBVURJT19PVVRQVVQ6e3BhY2tldHNDb3VudDptLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0NvdW50fSkpLHBhY2tldHNMb3N0Om0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYWNrZXRzTG9zdH0pKSxhdWRpb0xldmVsOm0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hdWRpb0xldmVsfSkpLGppdHRlckJ1ZmZlck1pbGxpczptLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaml0dGVyQnVmZmVyTWlsbGlzfSkpLHJvdW5kVHJpcFRpbWVNaWxsaXM6bS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJvdW5kVHJpcFRpbWVNaWxsaXN9KSl9fSx1PW4obih7fSxzKSx7fSx7c29mdHBob25lU3RyZWFtUGVyU2Vjb25kU3RhdGlzdGljczpjLGljZUNvbm5lY3Rpb25zTG9zdDpvLmljZUNvbm5lY3Rpb25zTG9zdCxpY2VDb25uZWN0aW9uc0ZhaWxlZDpvLmljZUNvbm5lY3Rpb25zRmFpbGVkfHxudWxsLHBlZXJDb25uZWN0aW9uRmFpbGVkOm8ucGVlckNvbm5lY3Rpb25GYWlsZWR8fG51bGwscnRjSnNWZXJzaW9uOm8ucnRjSnNWZXJzaW9ufHxudWxsLGZpcnN0UlRQVGltZU1pbGxpczpvLmZpcnN0UlRQVGltZU1pbGxpc3x8bnVsbCxpc01lZGlhQ2x1c3RlclBhdGg6by5pc01lZGlhQ2x1c3RlclBhdGgsaXNQZXJzaXN0ZW50UGVlckNvbm5lY3Rpb246by5pc1BlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbixpc0V4aXN0aW5nUGVyc2lzdGVudFBlZXJDb25uZWN0aW9uOm8uaXNFeGlzdGluZ1BlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbnx8ITEsY29uc2VjdXRpdmVOb0F1ZGlvSW5wdXRQYWNrZXRzOmIsY29uc2VjdXRpdmVMb3dJbnB1dEF1ZGlvTGV2ZWw6Uyxjb25zZWN1dGl2ZU5vQXVkaW9PdXRwdXRQYWNrZXRzOkUsY29uc2VjdXRpdmVMb3dPdXRwdXRBdWRpb0xldmVsOkMsYXVkaW9JbnB1dENvbm5lY3RlZER1cmF0aW9uU2Vjb25kczpJLGNjcE1lZGlhUmVhZHlMYXRlbmN5TWlsbGlzOkEsY29udGFjdFN1YnR5cGU6ZS5nZXRDb250YWN0U3VidHlwZSgpLGVhcmx5R3VtRW5hYmxlZDpfLGVhcmx5R3VtV29ya2VkOlIsdmRpUGxhdGZvcm06THx8bnVsbCx1c2VyQWdlbnREYXRhOm8udXNlckFnZW50RGF0YXx8bnVsbCxpc0Nvbm5lY3RlZDp3LGNvbnNlY3V0aXZlQXVkaW9PdXRwdXRNdXRlRHVyYXRpb25TZWNvbmRzOlQsc3RyZWFtSnNWZXJzaW9uOnIudmVyc2lvbn0pO0E9MCx3PSExLFQ9MCxyLnB1Ymxpc2hTb2Z0cGhvbmVSZXBvcnQoe2NvbnRhY3RJZDplLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246dC5jY3BWZXJzaW9uLHJlcG9ydDp1fSksTi5pbmZvKCJzZW50IFRlbGVtZXRyeUNhbGxSZXBvcnQgIitKU09OLnN0cmluZ2lmeSh1KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0oZSxvLHBlKHYsZCkscGUoeSxoKSksZWUoZSl9LGxlPWZ1bmN0aW9uKGUsdCxuLHIsbyxpLGEpe3RoaXMuc29mdHBob25lU3RyZWFtVHlwZT1yLHRoaXMudGltZXN0YW1wPWUsdGhpcy5wYWNrZXRzTG9zdD10LHRoaXMucGFja2V0c0NvdW50PW4sdGhpcy5hdWRpb0xldmVsPW8sdGhpcy5qaXR0ZXJCdWZmZXJNaWxsaXM9aSx0aGlzLnJvdW5kVHJpcFRpbWVNaWxsaXM9YX0scGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGxlKChlPWV8fHt9KS50aW1lc3RhbXAsZS5wYWNrZXRzTG9zdCxlLnBhY2tldHNDb3VudCx0LGUuYXVkaW9MZXZlbCl9LGRlPWZ1bmN0aW9uKGUpe3RoaXMuX29yaWdpbmFsTG9nZ2VyPWU7dmFyIHQ9dGhpczt0aGlzLl90ZWU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHNbMF0pLG89IiI7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oKXtvKz0iICVzIn0pKSxuLmFwcGx5KHQuX29yaWdpbmFsTG9nZ2VyLFtyLkxvZ0NvbXBvbmVudC5TT0ZUUEhPTkUsb10uY29uY2F0KGUpKX19fTtkZS5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDEsdGhpcy5fb3JpZ2luYWxMb2dnZXIuZGVidWcpKGFyZ3VtZW50cyl9LGRlLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSgyLHRoaXMuX29yaWdpbmFsTG9nZ2VyLmluZm8pKGFyZ3VtZW50cyl9LGRlLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDMsdGhpcy5fb3JpZ2luYWxMb2dnZXIubG9nKShhcmd1bWVudHMpfSxkZS5wcm90b3R5cGUud2Fybj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoNCx0aGlzLl9vcmlnaW5hbExvZ2dlci53YXJuKShhcmd1bWVudHMpfSxkZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDUsdGhpcy5fb3JpZ2luYWxMb2dnZXIuZXJyb3IpKGFyZ3VtZW50cyl9LHIuU29mdHBob25lTWFuYWdlcj1VfSgpfSwzNDQ6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWNoZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHNbMF0pfHwodC5jYWNoZVthcmd1bWVudHNbMF1dPXQucGFyc2UoYXJndW1lbnRzWzBdKSksdC5mb3JtYXQuY2FsbChudWxsLHQuY2FjaGVbYXJndW1lbnRzWzBdXSxhcmd1bWVudHMpfTtmdW5jdGlvbiBuKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiByKGUsdCl7Zm9yKHZhciBuPVtdO3Q+MDtuWy0tdF09ZSk7cmV0dXJuIG4uam9pbigiIil9dC5mb3JtYXQ9ZnVuY3Rpb24oZSxvKXt2YXIgaSxhLHMsYyx1LGwscCxkPTEsaD1lLmxlbmd0aCxmPSIiLGc9W107Zm9yKGE9MDthPGg7YSsrKWlmKCJzdHJpbmciPT09KGY9bihlW2FdKSkpZy5wdXNoKGVbYV0pO2Vsc2UgaWYoImFycmF5Ij09PWYpe2lmKChjPWVbYV0pWzJdKWZvcihpPW9bZF0scz0wO3M8Y1syXS5sZW5ndGg7cysrKXtpZighaS5oYXNPd25Qcm9wZXJ0eShjWzJdW3NdKSl0aHJvdyB0KCdbc3ByaW50Zl0gcHJvcGVydHkgIiVzIiBkb2VzIG5vdCBleGlzdCcsY1syXVtzXSk7aT1pW2NbMl1bc11dfWVsc2UgaT1jWzFdP29bY1sxXV06b1tkKytdO2lmKC9bXnNdLy50ZXN0KGNbOF0pJiYibnVtYmVyIiE9bihpKSl0aHJvdyB0KCJbc3ByaW50Zl0gZXhwZWN0aW5nIG51bWJlciBidXQgZm91bmQgJXMiLG4oaSkpO3N3aXRjaChjWzhdKXtjYXNlImIiOmk9aS50b1N0cmluZygyKTticmVhaztjYXNlImMiOmk9U3RyaW5nLmZyb21DaGFyQ29kZShpKTticmVhaztjYXNlImQiOmk9cGFyc2VJbnQoaSwxMCk7YnJlYWs7Y2FzZSJlIjppPWNbN10/aS50b0V4cG9uZW50aWFsKGNbN10pOmkudG9FeHBvbmVudGlhbCgpO2JyZWFrO2Nhc2UiZiI6aT1jWzddP3BhcnNlRmxvYXQoaSkudG9GaXhlZChjWzddKTpwYXJzZUZsb2F0KGkpO2JyZWFrO2Nhc2UibyI6aT1pLnRvU3RyaW5nKDgpO2JyZWFrO2Nhc2UicyI6aT0oaT1TdHJpbmcoaSkpJiZjWzddP2kuc3Vic3RyaW5nKDAsY1s3XSk6aTticmVhaztjYXNlInUiOmk+Pj49MDticmVhaztjYXNlIngiOmk9aS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjppPWkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9aT0vW2RlZl0vLnRlc3QoY1s4XSkmJmNbM10mJmk+PTA/IisiK2k6aSxsPWNbNF0/IjAiPT1jWzRdPyIwIjpjWzRdLmNoYXJBdCgxKToiICIscD1jWzZdLVN0cmluZyhpKS5sZW5ndGgsdT1jWzZdP3IobCxwKToiIixnLnB1c2goY1s1XT9pK3U6dStpKX1yZXR1cm4gZy5qb2luKCIiKX0sdC5jYWNoZT17fSx0LnBhcnNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLG49W10scj1bXSxvPTA7dDspe2lmKG51bGwhPT0obj0vXlteXHgyNV0rLy5leGVjKHQpKSlyLnB1c2goblswXSk7ZWxzZSBpZihudWxsIT09KG49L15ceDI1ezJ9Ly5leGVjKHQpKSlyLnB1c2goIiUiKTtlbHNle2lmKG51bGw9PT0obj0vXlx4MjUoPzooWzEtOV1cZCopXCR8XCgoW15cKV0rKVwpKT8oXCspPygwfCdbXiRdKT8oLSk/KFxkKyk/KD86XC4oXGQrKSk/KFtiLWZvc3V4WF0pLy5leGVjKHQpKSl0aHJvdyJbc3ByaW50Zl0gaHVoPyI7aWYoblsyXSl7b3w9MTt2YXIgaT1bXSxhPW5bMl0scz1bXTtpZihudWxsPT09KHM9L14oW2Etel9dW2Etel9cZF0qKS9pLmV4ZWMoYSkpKXRocm93IltzcHJpbnRmXSBodWg/Ijtmb3IoaS5wdXNoKHNbMV0pOyIiIT09KGE9YS5zdWJzdHJpbmcoc1swXS5sZW5ndGgpKTspaWYobnVsbCE9PShzPS9eXC4oW2Etel9dW2Etel9cZF0qKS9pLmV4ZWMoYSkpKWkucHVzaChzWzFdKTtlbHNle2lmKG51bGw9PT0ocz0vXlxbKFxkKylcXS8uZXhlYyhhKSkpdGhyb3ciW3NwcmludGZdIGh1aD8iO2kucHVzaChzWzFdKX1uWzJdPWl9ZWxzZSBvfD0yO2lmKDM9PT1vKXRocm93IltzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWQiO3IucHVzaChuKX10PXQuc3Vic3RyaW5nKG5bMF0ubGVuZ3RoKX1yZXR1cm4gcn0sZS5zcHJpbnRmPXQsZS52c3ByaW50Zj1mdW5jdGlvbihlLG4scil7cmV0dXJuKHI9bi5zbGljZSgwKSkuc3BsaWNlKDAsMCxlKSx0LmFwcGx5KG51bGwscil9fSgpfSw0MzE6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4oby5rZXkpLG8pfX1mdW5jdGlvbiBuKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8oZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9vKGUsdCk6dm9pZCAwfX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyxuPWUuY29ubmVjdHx8e307ZS5jb25uZWN0PW4sZS5saWx5PW47dmFyIG89ZnVuY3Rpb24oKXt9O28ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IG4uTm90SW1wbGVtZW50ZWRFcnJvcn0sby5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBuLk5vdEltcGxlbWVudGVkRXJyb3J9O3ZhciBpPWZ1bmN0aW9uKCl7by5jYWxsKHRoaXMpfTsoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt9O3ZhciBhPWZ1bmN0aW9uKGUsdCl7by5jYWxsKHRoaXMpLHRoaXMud2luZG93PWUsdGhpcy5kb21haW49dHx8IioifTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLndpbmRvdy5wb3N0TWVzc2FnZShlLHRoaXMuZG9tYWluKX0sYS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpfTt2YXIgcz1mdW5jdGlvbihlLHQsbil7by5jYWxsKHRoaXMpLHRoaXMuaW5wdXQ9ZSx0aGlzLm91dHB1dD10LHRoaXMuZG9tYWluPW58fCIqIn07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zLHMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5vdXRwdXQucG9zdE1lc3NhZ2UoZSx0aGlzLmRvbWFpbil9LHMucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG4pe24uc291cmNlPT09dC5vdXRwdXQmJmUobil9KSl9O3ZhciBjPWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzKSx0aGlzLnBvcnQ9ZSx0aGlzLmlkPW4ucmFuZG9tSWQoKX07KGMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5wb3J0LnBvc3RNZXNzYWdlKGUpfSxjLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5wb3J0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpfSxjLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfTt2YXIgdT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyksdGhpcy5zdHJlYW1NYXA9ZT9uLmluZGV4KGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldElkKCl9KSk6e30sdGhpcy5tZXNzYWdlTGlzdGVuZXJzPVtdfTsodS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXUsdS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLmdldFN0cmVhbXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0cnl7dC5zZW5kKGUpfWNhdGNoKGUpe319KSl9LHUucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLm1lc3NhZ2VMaXN0ZW5lcnMucHVzaChlKSx0aGlzLmdldFN0cmVhbXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0Lm9uTWVzc2FnZShlKX0pKX0sdS5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuc3RyZWFtTWFwW2UuZ2V0SWQoKV09ZSx0aGlzLm1lc3NhZ2VMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5vbk1lc3NhZ2UodCl9KSl9LHUucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy5zdHJlYW1NYXBbZS5nZXRJZCgpXX0sdS5wcm90b3R5cGUuZ2V0U3RyZWFtcz1mdW5jdGlvbihlKXtyZXR1cm4gbi52YWx1ZXModGhpcy5zdHJlYW1NYXApfSx1LnByb3RvdHlwZS5nZXRTdHJlYW1Gb3JQb3J0PWZ1bmN0aW9uKGUpe3JldHVybiBuLmZpbmQodGhpcy5nZXRTdHJlYW1zKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcnQ9PT1lfSkpfTt2YXIgbD1mdW5jdGlvbihlLHQsbyl7dGhpcy5uYW1lPWUsdGhpcy51cHN0cmVhbT10fHxuZXcgaSx0aGlzLmRvd25zdHJlYW09b3x8bmV3IGksdGhpcy5kb3duc3RyZWFtQnVzPW5ldyBuLkV2ZW50QnVzLHRoaXMudXBzdHJlYW1CdXM9bmV3IG4uRXZlbnRCdXMsdGhpcy51cHN0cmVhbS5vbk1lc3NhZ2Uobi5oaXRjaCh0aGlzLHRoaXMuX2Rpc3BhdGNoRXZlbnQsdGhpcy51cHN0cmVhbUJ1cykpLHRoaXMuZG93bnN0cmVhbS5vbk1lc3NhZ2Uobi5oaXRjaCh0aGlzLHRoaXMuX2Rpc3BhdGNoRXZlbnQsdGhpcy5kb3duc3RyZWFtQnVzKSksdGhpcy5hY3RpdmU9ITAsdGhpcy5hbGxvd2VkRXZlbnRzPVtdLmNvbmNhdChyKE9iamVjdC5lbnRyaWVzKG4uR2xvYmFsUmVzaWxpZW5jeUV2ZW50cykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVsxXX0pKSksW24uRXZlbnRUeXBlLkNPTkZJR1VSRSxuLkV2ZW50VHlwZS5TWU5DSFJPTklaRSxuLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSxuLkV2ZW50VHlwZS5MT0csbi5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyxuLkV2ZW50VHlwZS5ET1dOTE9BRF9MT0dfRlJPTV9DQ1BdKX07bC5wcm90b3R5cGUub25VcHN0cmVhbT1mdW5jdGlvbihlLHQpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksbi5hc3NlcnROb3ROdWxsKHQsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKHQpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMudXBzdHJlYW1CdXMuc3Vic2NyaWJlKGUsdCl9LGwucHJvdG90eXBlLm9uQWxsVXBzdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXNzZXJ0Tm90TnVsbChlLCJmIiksbi5hc3NlcnRUcnVlKG4uaXNGdW5jdGlvbihlKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnVwc3RyZWFtQnVzLnN1YnNjcmliZUFsbChlKX0sbC5wcm90b3R5cGUub25Eb3duc3RyZWFtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSxuLmFzc2VydE5vdE51bGwodCwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24odCksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5kb3duc3RyZWFtQnVzLnN1YnNjcmliZShlLHQpfSxsLnByb3RvdHlwZS5vbkFsbERvd25zdHJlYW09ZnVuY3Rpb24oZSl7cmV0dXJuIG4uYXNzZXJ0Tm90TnVsbChlLCJmIiksbi5hc3NlcnRUcnVlKG4uaXNGdW5jdGlvbihlKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLmRvd25zdHJlYW1CdXMuc3Vic2NyaWJlQWxsKGUpfSxsLnByb3RvdHlwZS5zZW5kVXBzdHJlYW09ZnVuY3Rpb24oZSx0KXtuLmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksdGhpcy51cHN0cmVhbS5zZW5kKHtldmVudDplLGRhdGE6dH0pfSxsLnByb3RvdHlwZS5zZW5kRG93bnN0cmVhbT1mdW5jdGlvbihlLHQpe24uYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0aGlzLmRvd25zdHJlYW0uc2VuZCh7ZXZlbnQ6ZSxkYXRhOnR9KX0sbC5wcm90b3R5cGUuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmRhdGE7bi5ldmVudCYmZS50cmlnZ2VyKG4uZXZlbnQsbi5kYXRhKX0sbC5wcm90b3R5cGUucGFzc1Vwc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxyKXtlLmFjdGl2ZXx8ZS5hbGxvd2VkRXZlbnRzLmluY2x1ZGVzKHIpP2UudXBzdHJlYW0uc2VuZCh7ZXZlbnQ6cixkYXRhOnR9KTpuLmdldExvZygpLmRlYnVnKCJbR1JdIENvbmR1aXQgIi5jb25jYXQoZS5uYW1lLCIgaGFzIGJsb2NrZWQgZXZlbnQgIikuY29uY2F0KHIsIiBmcm9tIGdvaW5nIHVwc3RyZWFtLiIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sbC5wcm90b3R5cGUucGFzc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LHIpe2UuYWN0aXZlfHxlLmFsbG93ZWRFdmVudHMuaW5jbHVkZXMocik/ZS5kb3duc3RyZWFtLnNlbmQoe2V2ZW50OnIsZGF0YTp0fSk6bi5nZXRMb2coKS5kZWJ1ZygiW0dSXSBDb25kdWl0ICIuY29uY2F0KGUubmFtZSwiIGhhcyBibG9ja2VkIGV2ZW50ICIpLmNvbmNhdChyLCIgZnJvbSBnb2luZyBkb3duc3RyZWFtLiIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sbC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt0aGlzLnVwc3RyZWFtQnVzLnVuc3Vic2NyaWJlQWxsKCksdGhpcy5kb3duc3RyZWFtQnVzLnVuc3Vic2NyaWJlQWxsKCl9LGwucHJvdG90eXBlLnNldEFjdGl2ZT1mdW5jdGlvbigpe24uZ2V0TG9nKCkuaW5mbygiW0dSXSBTZXR0aW5nIENDUCBjb25kdWl0IGFzIGFjdGl2ZSIpLHRoaXMuYWN0aXZlPSEwfSxsLnByb3RvdHlwZS5zZXRJbmFjdGl2ZT1mdW5jdGlvbigpe24uZ2V0TG9nKCkuaW5mbygiW0dSXSBTZXR0aW5nIENDUCBjb25kdWl0IGFzIGluYWN0aXZlIiksdGhpcy5hY3RpdmU9ITF9O3ZhciBwPWZ1bmN0aW9uKGUsdCxuLHIpe2wuY2FsbCh0aGlzLGUsbmV3IHModCxuLmNvbnRlbnRXaW5kb3cscnx8IioiKSxudWxsKX07KHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1wO3ZhciBkPWZ1bmN0aW9uKCl7cmV0dXJuIGU9ZnVuY3Rpb24gZSh0LG4scil7dmFyIG89dGhpczshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0odGhpcyxlKSx0aGlzLmlmcmFtZUxhYmVsTWFwPXt9O3ZhciBpPW5ldyBVUkwocikub3JpZ2luO3RoaXMuYWN0aXZlUmVnaW9uVXJsPWksdGhpcy5jb25kdWl0cz1uLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5pZnJhbWUscj1lLmxhYmVsLGk9bmV3IHAobi5zcmMsdCxuKTtpLmlmcmFtZT1uO3ZhciBhPW5ldyBVUkwobi5zcmMpLm9yaWdpbjtyZXR1cm4gaS5uYW1lPWEsby5pZnJhbWVMYWJlbE1hcFthXT1yLGl9KSksdGhpcy5zZXRBY3RpdmVDb25kdWl0KGkpfSwocj1be2tleToib25VcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIG4ub25VcHN0cmVhbShlLHQpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6Im9uQWxsVXBzdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vbkFsbFVwc3RyZWFtKGUpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6Im9uRG93bnN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIG4ub25Eb3duc3RyZWFtKGUsdCl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToib25BbGxEb3duc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQub25BbGxEb3duc3RyZWFtKGUpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6InNlbmRVcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe24uc2VuZFVwc3RyZWFtKGUsdCl9KSl9fSx7a2V5OiJzZW5kRG93bnN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe24uc2VuZERvd25zdHJlYW0oZSx0KX0pKX19LHtrZXk6InJlbGF5VXBzdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jb25kdWl0cy5mb3JFYWNoKChmdW5jdGlvbihyKXtyLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24obyl7dmFyIGk9dC5nZXRPdGhlckNvbmR1aXQocik7aS5zZW5kVXBzdHJlYW0oZSxvKSxuLmdldExvZygpLmluZm8oIlJlbGF5ZWQgZXZlbnQgIi5jb25jYXQoZSwiIGZyb20gIikuY29uY2F0KHIubmFtZSwiIHRvICIpLmNvbmNhdChpLm5hbWUsIiBzaGFyZWQgd29ya2VyIikpLndpdGhPYmplY3Qoe2RhdGE6b30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSl9fSx7a2V5OiJnZXRBbGxDb25kdWl0cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25kdWl0c319LHtrZXk6InNldEFjdGl2ZUNvbmR1aXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKT8odGhpcy5jb25kdWl0cy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLm5hbWU9PT1lJiYodC5hY3RpdmVSZWdpb25Vcmw9ZSx0Lm5hbWU9bi5uYW1lLHQudXBzdHJlYW09bi51cHN0cmVhbSx0LmRvd25zdHJlYW09bi5kb3duc3RyZWFtLHQudXBzdHJlYW1CdXM9bi51cHN0cmVhbUJ1cyx0LmRvd25zdHJlYW1CdXM9bi5kb3duc3RyZWFtQnVzKX0pKSxuLmdldExvZygpLmluZm8oIltHUl0gU3dpdGNoZWQgdG8gYWN0aXZlIGNvbmR1aXQgIi5jb25jYXQodGhpcy5nZXRBY3RpdmVDb25kdWl0KCkubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOm4uZ2V0TG9nKCkuZXJyb3IoIltHUl0gTm8gY29uZHVpdCBmb3VuZCB3aXRoIHRoZSBnaXZlbiBjY3BVcmw6ICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0se2tleToiZ2V0QWN0aXZlQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLmFjdGl2ZVJlZ2lvblVybH0pKX19LHtrZXk6ImdldEluYWN0aXZlQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWUhPT1lLmFjdGl2ZVJlZ2lvblVybH0pKX19LHtrZXk6ImdldE90aGVyQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIGUubmFtZSE9PXQubmFtZX0pKX19LHtrZXk6ImdldENvbmR1aXRCeVJlZ2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVnaW9uPT09ZX0pKX19LHtrZXk6ImdldENvbmR1aXRCeU5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpfX1dKSYmdChlLnByb3RvdHlwZSxyKSxvJiZ0KGUsbyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZTt2YXIgZSxyLG99KCk7bi5TdHJlYW09byxuLk51bGxTdHJlYW09aSxuLldpbmRvd1N0cmVhbT1hLG4uV2luZG93SU9TdHJlYW09cyxuLlBvcnRTdHJlYW09YyxuLlN0cmVhbU11bHRpcGxleGVyPXUsbi5Db25kdWl0PWwsbi5JRnJhbWVDb25kdWl0PXAsbi5HUlByb3h5SWZyYW1lQ29uZHVpdD1kfSgpfSw4MzA6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgbj1mdW5jdGlvbihlLG4pe3QuYXNzZXJ0Tm90TnVsbChlLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwobiwidG9TdGF0ZSIpLHRoaXMuZnJvbVN0YXRlPWUsdGhpcy50b1N0YXRlPW59O24ucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXt0aHJvdyB0Lk5vdEltcGxlbWVudGVkRXJyb3IoKX0sbi5wcm90b3R5cGUuZ2V0RnJvbVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJvbVN0YXRlfSxuLnByb3RvdHlwZS5nZXRUb1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdGF0ZX07dmFyIHI9ZnVuY3Rpb24oZSxyLG8pe3QuYXNzZXJ0Tm90TnVsbChlLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwociwidG9TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChvLCJhc3NvY2lhdGlvbnMiKSxuLmNhbGwodGhpcyxlLHIpLHRoaXMuYXNzb2NpYXRpb25zPW99OyhyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cixyLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXNzb2NpYXRpb25zfTt2YXIgbz1mdW5jdGlvbihlLHIsbyl7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIiksdC5hc3NlcnROb3ROdWxsKG8sImNsb3N1cmUiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG8pLCJjbG9zdXJlIG11c3QgYmUgYSBmdW5jdGlvbiIpLG4uY2FsbCh0aGlzLGUsciksdGhpcy5jbG9zdXJlPW99OyhvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvc3VyZShlLHRoaXMuZ2V0RnJvbVN0YXRlKCksdGhpcy5nZXRUb1N0YXRlKCkpfTt2YXIgaT1mdW5jdGlvbigpe3RoaXMuZnJvbU1hcD17fX07aS5BTlk9Ijw8YW55Pj4iLGkucHJvdG90eXBlLmFzc29jPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigiZnJvbVN0YXRlT2JqIGlzIG5vdCBkZWZpbmVkLiIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigidG9TdGF0ZU9iaiBpcyBub3QgZGVmaW5lZC4iKTtpZighbil0aHJvdyBuZXcgRXJyb3IoImFzc29jT2JqIGlzIG5vdCBkZWZpbmVkLiIpO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLmFzc29jKGUsdCxuKX0pKTp0IGluc3RhbmNlb2YgQXJyYXk/dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFzc29jKGUsdCxuKX0pKToiZnVuY3Rpb24iPT10eXBlb2Ygbj90aGlzLl9hZGRBc3NvY2lhdGlvbihuZXcgbyhlLHQsbikpOm4gaW5zdGFuY2VvZiBBcnJheT90aGlzLl9hZGRBc3NvY2lhdGlvbihuZXcgcihlLHQsbikpOnRoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyByKGUsdCxbbl0pKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSxuLHIpe3QuYXNzZXJ0Tm90TnVsbChuLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwociwidG9TdGF0ZSIpO3ZhciBvPVtdLGE9dGhpcy5mcm9tTWFwW2kuQU5ZXXx8e30scz10aGlzLmZyb21NYXBbbl18fHt9O3JldHVybiBvPShvPW8uY29uY2F0KHRoaXMuX2dldEFzc29jaWF0aW9uc0Zyb21NYXAoYSxlLG4scikpKS5jb25jYXQodGhpcy5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcChzLGUsbixyKSl9LGkucHJvdG90eXBlLl9hZGRBc3NvY2lhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZyb21NYXBbZS5nZXRGcm9tU3RhdGUoKV07dHx8KHQ9dGhpcy5mcm9tTWFwW2UuZ2V0RnJvbVN0YXRlKCldPXt9KTt2YXIgbj10W2UuZ2V0VG9TdGF0ZSgpXTtufHwobj10W2UuZ2V0VG9TdGF0ZSgpXT1bXSksbi5wdXNoKGUpfSxpLnByb3RvdHlwZS5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4oZVtpLkFOWV18fFtdKS5jb25jYXQoZVtyXXx8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5jb25jYXQobi5nZXRBc3NvY2lhdGlvbnModCkpfSksW10pfSx0LkV2ZW50R3JhcGg9aX0oKX0sNjA6KCk9PntmdW5jdGlvbiBlKCl7InVzZSBzdHJpY3QiO2U9ZnVuY3Rpb24oKXtyZXR1cm4gbn07dmFyIHQsbj17fSxyPU9iamVjdC5wcm90b3R5cGUsbz1yLmhhc093blByb3BlcnR5LGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9cy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9cy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPXMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKHQpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBhKGksIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGl9ZnVuY3Rpb24gaChlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fW4ud3JhcD1kO3ZhciBmPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBFKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBJPU9iamVjdC5nZXRQcm90b3R5cGVPZixUPUkmJkkoSShQKFtdKSkpO1QmJlQhPT1yJiZvLmNhbGwoVCxjKSYmKEM9VCk7dmFyIHc9RS5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihyLGEscyxjKXt2YXIgdT1oKGVbcl0sZSxhKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1pKHApJiZvLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgcjthKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLG8pe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQscil7bihlLG8sdCxyKX0pKX1yZXR1cm4gcj1yP3IudGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBSKGUsbixyKXt2YXIgbz1mO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPUwocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1mKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1oKGUsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBMKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJmUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9dCxMKGUsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9aChvLGUuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKGUpe2lmKGV8fCIiPT09ZSl7dmFyIG49ZVtjXTtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgcj0tMSxhPWZ1bmN0aW9uIG4oKXtmb3IoOysrcjxlLmxlbmd0aDspaWYoby5jYWxsKGUscikpcmV0dXJuIG4udmFsdWU9ZVtyXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gYS5uZXh0PWF9fXRocm93IG5ldyBUeXBlRXJyb3IoaShlKSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBTLnByb3RvdHlwZT1FLGEodywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLGEoRSwiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLFMuZGlzcGxheU5hbWU9cChFLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksbi5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1TfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxuLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxFKTooZS5fX3Byb3RvX189RSxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSxuLmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksbi5Bc3luY0l0ZXJhdG9yPV8sbi5hc3luYz1mdW5jdGlvbihlLHQscixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSx0LHIsbyksaSk7cmV0dXJuIG4uaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksbi5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LG4udmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCFlKWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZvLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIHIocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPW8uY2FsbChhLCJjYXRjaExvYyIpLHU9by5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJm8uY2FsbChyLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxyLmZpbmFsbHlMb2Mpe3ZhciBpPXI7YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx5fX0sbn1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIoZSx0LG4pe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPWkoZSl8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1pKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWkodCk/dDp0KyIifSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBvKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0saShlKX0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cix0LmxpbHk9cjt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LHM9WyJidWJibGVzIiwiY2FuY2VsQnViYmxlIiwiY2FuY2VsYWJsZSIsImNvbXBvc2VkIiwiZGF0YSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudFBoYXNlIiwiaXNUcnVzdGVkIiwibGFzdEV2ZW50SWQiLCJvcmlnaW4iLCJyZXR1cm5WYWx1ZSIsInRpbWVTdGFtcCIsInR5cGUiXTtyLnNwcmludGY9dC5zcHJpbnRmLHIudnNwcmludGY9dC52c3ByaW50ZixkZWxldGUgdC5zcHJpbnRmLGRlbGV0ZSB0LnZzcHJpbnRmLHIuSFRUUF9TVEFUVVNfQ09ERVM9e1NVQ0NFU1M6MjAwLFVOQVVUSE9SSVpFRDo0MDEsQUNDRVNTX0RFTklFRDo0MDMsVE9PX01BTllfUkVRVUVTVFM6NDI5LElOVEVSTkFMX1NFUlZFUl9FUlJPUjo1MDB9LHIuVFJBTlNQT1JUX1RZUEVTPXtDSEFUX1RPS0VOOiJjaGF0X3Rva2VuIixXRUJfU09DS0VUOiJ3ZWJfc29ja2V0IixBR0VOVF9ESVNDT1ZFUlk6ImFnZW50X2Rpc2NvdmVyeSIsV0VCX1JUQzoid2ViX3J0YyJ9LHIuaGl0Y2g9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHQ9ZS5zaGlmdCgpLG49ZS5zaGlmdCgpO3JldHVybiByLmFzc2VydE5vdE51bGwodCwic2NvcGUiKSxyLmFzc2VydE5vdE51bGwobiwibWV0aG9kIiksci5hc3NlcnRUcnVlKHIuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGZ1bmN0aW9uKCl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gbi5hcHBseSh0LGUuY29uY2F0KHIpKX19LHIuaXNGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmNvbnN0cnVjdG9yJiZlLmNhbGwmJmUuYXBwbHkpfSxyLmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sci5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiByLmFzc2VydE5vdE51bGwoZSwibWFwIiksZSl0LnB1c2gobik7cmV0dXJuIHR9LHIudmFsdWVzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiByLmFzc2VydE5vdE51bGwoZSwibWFwIiksZSl0LnB1c2goZVtuXSk7cmV0dXJuIHR9LHIuZW50cmllcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2goe2tleTpuLHZhbHVlOmVbbl19KTtyZXR1cm4gdH0sci5tZXJnZT1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuZW50cmllcyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2Uua2V5XT1lLnZhbHVlfSkpfSkpLHR9LHIubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHIuZmluZD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKHQoZVtuXSkpcmV0dXJuIGVbbl07cmV0dXJuIG51bGx9LHIuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P251bGwhPXIuZmluZChlLChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk6dCBpbiBlfSxyLmNvbnRhaW5zVmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P251bGwhPXIuZmluZChlLChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk6bnVsbCE9ci5maW5kKHIudmFsdWVzKGUpLChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSl9LHIucmFuZG9tSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gci5zcHJpbnRmKCIlcy0lcyIsci5ub3coKSxNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSl9LHIubWFrZUVudW09ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKC9cLj8oW2Etel0rKV8/L2csKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKSsiXyJ9KSkucmVwbGFjZSgvXyQvLCIiKTt0W25dPWV9KSksdH0sci5tYWtlTmFtZXNwYWNlZEVudW09ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLm1ha2VFbnVtKHQpO3JldHVybiByLmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT1yLnNwcmludGYoIiVzOjolcyIsZSxuW3RdKX0pKSxufSxyLm1ha2VHZW5lcmljTmFtZXNwYWNlZEVudW09ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXIubWFrZUVudW0odCk7cmV0dXJuIHIua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvW3RdPXIuc3ByaW50ZigiJXMiK24rIiVzIixlLG9bdF0pfSkpLG99LHIuaXNDaHJvbWVCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIkNocm9tZSIpfSxyLmlzRmlyZWZveEJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiRmlyZWZveCIpfSxyLmlzT3BlcmFCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIk9wZXJhIil9LHIuaXNFZGdlQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09YS5pbmRleE9mKCJFZGciKX0sci5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiQ2hyb21lIikrNyk7cmV0dXJuIGU/cGFyc2VGbG9hdChlKTotMX0sci5nZXRGaXJlZm94QnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIkZpcmVmb3giKSs4KTtyZXR1cm4gZT9wYXJzZUZsb2F0KGUpOi0xfSxyLmlzVmFsaWRMb2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuW3tpZDoiZW5fVVMiLGxhYmVsOiJFbmdsaXNoIn0se2lkOiJkZV9ERSIsbGFiZWw6IkRldXRzY2gifSx7aWQ6ImVzX0VTIixsYWJlbDoiRXNwYcOxb2wifSx7aWQ6ImZyX0ZSIixsYWJlbDoiRnJhbsOnYWlzIn0se2lkOiJqYV9KUCIsbGFiZWw6IuaXpeacrOiqniJ9LHtpZDoiaXRfSVQiLGxhYmVsOiJJdGFsaWFubyJ9LHtpZDoia29fS1IiLGxhYmVsOiLtlZzqta3slrQifSx7aWQ6InB0X0JSIixsYWJlbDoiUG9ydHVndcOqcyJ9LHtpZDoiemhfQ04iLGxhYmVsOiLkuK3mloco566A5L2TKSJ9LHtpZDoiemhfVFciLGxhYmVsOiLkuK3mloco57mB6auUKSJ9XS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLmluY2x1ZGVzKGUpfSxyLmdldE9wZXJhQnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT1hLmluZGV4T2YoIk9wZXJhIiksdD0tMSE9PWEuaW5kZXhPZigiVmVyc2lvbiIpP2Euc3Vic3RyaW5nKGUrOCk6YS5zdWJzdHJpbmcoZSs2KTtyZXR1cm4gdD9wYXJzZUZsb2F0KHQpOi0xfSxyLmluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blt0KGUpXT1lfSkpLG59LHIuc2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09MX0pKSx0fSxyLnJlbGF0aXZlQ29tcGxlbWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiByLmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ciBpbiBlfHwobltyXT10W3JdKX0pKSxufSxyLmFzc2VydFRydWU9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgci5WYWx1ZUVycm9yKHQpfSxyLmFzc2VydE5vdE51bGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5hc3NlcnRUcnVlKG51bGwhPWUmJnZvaWQgMCE9PWkoZSksci5zcHJpbnRmKCIlcyBtdXN0IGJlIHByb3ZpZGVkIix0fHwiQSB2YWx1ZSIpKSxlfSxyLmRlZXBjb3B5PWZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX0sci5kZWVwY29weUNyb3NzT3JpZ2luRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24obil7dHJ5e3Rbbl09ZVtuXX1jYXRjaChlKXtyLmdldExvZygpLmluZm8oImRlZXBjb3B5Q3Jvc3NPcmlnaW5FdmVudCBmYWlsZWQgb24ga2V5OiAiLG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpLHIuZGVlcGNvcHkodCl9LHIuZ2V0QmFzZVVybD1mdW5jdGlvbigpe3ZhciBlPXQubG9jYXRpb247cmV0dXJuIHIuc3ByaW50ZigiJXMvLyVzOiVzIixlLnByb3RvY29sLGUuaG9zdG5hbWUsZS5wb3J0KX0sci5nZXRVcmxXaXRoUHJvdG9jb2w9ZnVuY3Rpb24oZSl7dmFyIG49dC5sb2NhdGlvbi5wcm90b2NvbDtyZXR1cm4gZS5zdWJzdHIoMCxuLmxlbmd0aCkhPT1uP3Iuc3ByaW50ZigiJXMvLyVzIixuLGUpOmV9LHIuaXNGcmFtZWQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaChlKXtyZXR1cm4hMH19LHIuaGFzT3RoZXJDb25uZWN0ZWRDQ1BzPWZ1bmN0aW9uKCl7cmV0dXJuIHIubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPjF9LHIuZmV0Y2g9ZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIG89b3x8NSxuPW58fDFlMyx0PXR8fHt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpeyFmdW5jdGlvbiBvKHMpe2ZldGNoKGUsdCkudGhlbigoZnVuY3Rpb24oZSl7ZS5zdGF0dXM9PT1yLkhUVFBfU1RBVFVTX0NPREVTLlNVQ0NFU1M/ZS5qc29uKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIGkoe30pfSkpOjEhPT1zJiYoZS5zdGF0dXM+PXIuSFRUUF9TVEFUVVNfQ09ERVMuSU5URVJOQUxfU0VSVkVSX0VSUk9SfHxlLnN0YXR1cz09PXIuSFRUUF9TVEFUVVNfQ09ERVMuVE9PX01BTllfUkVRVUVTVFMpP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bygtLXMpfSksbik6YShlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7YShlKX0pKX0obyl9KSl9LHIuZmV0Y2hXaXRoVGltZW91dD1mdW5jdGlvbigpe3ZhciB0LGk9KHQ9ZSgpLm1hcmsoKGZ1bmN0aW9uIHQobyxpLGEscyxjKXt2YXIgdSxsLHA7cmV0dXJuIGUoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihhPWF8fHt9LGkpe2UubmV4dD0zO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIixyLmZldGNoKG8sYSxzLGMpKTtjYXNlIDM6cmV0dXJuIHU9bmV3IEFib3J0Q29udHJvbGxlcixsPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHUuYWJvcnQoKX0pLGkpLGUubmV4dD03LHIuZmV0Y2gobyxuKG4oe30sYSkse30se3NpZ25hbDp1LnNpZ25hbH0pLHMsYyk7Y2FzZSA3OnJldHVybiBwPWUuc2VudCxjbGVhclRpbWVvdXQobCksZS5hYnJ1cHQoInJldHVybiIscCk7Y2FzZSAxMDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLHQpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIGE9dC5hcHBseShlLG4pO2Z1bmN0aW9uIHMoZSl7byhhLHIsaSxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7byhhLHIsaSxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLHIuYmFja29mZj1mdW5jdGlvbihlLG4sbyxpKXtyLmFzc2VydFRydWUoci5pc0Z1bmN0aW9uKGUpLCJmdW5jIG11c3QgYmUgYSBGdW5jdGlvbiIpO3ZhciBhPXRoaXM7ZSh7c3VjY2VzczpmdW5jdGlvbihlKXtpJiZpLnN1Y2Nlc3MmJmkuc3VjY2VzcyhlKX0sZmFpbHVyZTpmdW5jdGlvbihyLHMpe2lmKG8+MCl7dmFyIGM9MipuKk1hdGgucmFuZG9tKCk7dC5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2EuYmFja29mZihlLDIqYywtLW8saSl9KSxjKX1lbHNlIGkmJmkuZmFpbHVyZSYmaS5mYWlsdXJlKHIscyl9fSl9LHIucHVibGlzaE1ldHJpYz1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5DTElFTlRfTUVUUklDLGRhdGE6ZX0pfSxyLnB1Ymxpc2hTb2Z0cGhvbmVTdGF0cz1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5TT0ZUUEhPTkVfU1RBVFMsZGF0YTplfSl9LHIucHVibGlzaFNvZnRwaG9uZVJlcG9ydD1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5TT0ZUUEhPTkVfUkVQT1JULGRhdGE6ZX0pfSxyLnB1Ymxpc2hDbGlja1N0cmVhbURhdGE9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5FdmVudFR5cGUuQ0xJQ0tfU1RSRUFNX0RBVEEsZGF0YTplfSl9LHIucHVibGlzaENsaWVudFNpZGVMb2dzPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuQ0xJRU5UX1NJREVfTE9HUyxlKX0sci5hZGROYW1lc3BhY2VUb0xvZ3M9ZnVuY3Rpb24oZSl7WyJsb2ciLCJlcnJvciIsIndhcm4iLCJpbmZvIiwiZGVidWciXS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj13aW5kb3cuY29uc29sZVt0XTt3aW5kb3cuY29uc29sZVt0XT1mdW5jdGlvbigpe3ZhciB0PUFycmF5LmZyb20oYXJndW1lbnRzKTt0LnVuc2hpZnQoIlsiLmNvbmNhdChlLCJdIikpLG4uYXBwbHkod2luZG93LmNvbnNvbGUsdCl9fSkpfSxyLlBvcHVwTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMud2luZG93cz17fSx0aGlzLndpbmRvd1VybHM9e319LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz0iIjtpZihuKXt2YXIgaT1uLmhlaWdodHx8NTc4O289IndpZHRoPSIrKG4ud2lkdGh8fDQzMykrIiwgaGVpZ2h0PSIraSsiLCB0b3A9Iisobi50b3B8fDApKyIsIGxlZnQ9Iisobi5sZWZ0fHwwKX12YXIgYT10aGlzLndpbmRvd3NbdF0scz10aGlzLndpbmRvd1VybHNbdF07aWYoYSl0cnl7aWYoYS5jbG9zZWQpZGVsZXRlIHRoaXMud2luZG93c1t0XSxkZWxldGUgdGhpcy53aW5kb3dVcmxzW3RdO2Vsc2UgaWYocz09PWUpe3RyeXthLmZvY3VzKCl9Y2F0Y2goZSl7fXJldHVybiByLmdldExvZygpLmluZm8oIltQb3B1cE1hbmFnZXJdIFJldXNpbmcgZXhpc3RpbmcgcG9wdXAgd2luZG93Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhfX1jYXRjaChlKXtkZWxldGUgdGhpcy53aW5kb3dzW3RdLGRlbGV0ZSB0aGlzLndpbmRvd1VybHNbdF19dmFyIGM9d2luZG93Lm9wZW4oZSx0LG8pO2lmKGMpdHJ5e2MuY2xvc2VkfHwodGhpcy53aW5kb3dzW3RdPWMsdGhpcy53aW5kb3dVcmxzW3RdPWUsci5nZXRMb2coKS5pbmZvKCJbUG9wdXBNYW5hZ2VyXSBPcGVuZWQgcG9wdXAgd2luZG93Iikud2l0aE9iamVjdCh7dXJsOmUsbmFtZTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9Y2F0Y2goZSl7fXJldHVybiBjfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMud2luZG93c1tlXSxkZWxldGUgdGhpcy53aW5kb3dVcmxzW2VdO3ZhciBuPXRoaXMuX2dldExvY2FsU3RvcmFnZUtleShlKTt0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG4pfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuX2dldExhc3RPcGVuZWRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fZ2V0TG9jYWxTdG9yYWdlS2V5KGUpLHI9dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTtyZXR1cm4gcj9wYXJzZUludChyLDEwKTowfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuX3NldExhc3RPcGVuZWRUaW1lc3RhbXA9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLl9nZXRMb2NhbFN0b3JhZ2VLZXkoZSk7dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyLCIiK24pfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuX2dldExvY2FsU3RvcmFnZUtleT1mdW5jdGlvbihlKXtyZXR1cm4iY29ubmVjdFBvcHVwTWFuYWdlcjo6IitlfTt2YXIgYz1yLm1ha2VFbnVtKFsiZ3JhbnRlZCIsImRlbmllZCIsImRlZmF1bHQiXSk7ci5Ob3RpZmljYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5xdWV1ZT1bXSx0aGlzLnBlcm1pc3Npb249Yy5ERUZBVUxUfSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczsiTm90aWZpY2F0aW9uImluIHQ/dC5Ob3RpZmljYXRpb24ucGVybWlzc2lvbj09PWMuREVOSUVEPyhyLmdldExvZygpLndhcm4oIlRoZSB1c2VyIGhhcyByZXF1ZXN0ZWQgdG8gbm90IHJlY2VpdmUgbm90aWZpY2F0aW9ucy4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMucGVybWlzc2lvbj1jLkRFTklFRCk6dGhpcy5wZXJtaXNzaW9uIT09Yy5HUkFOVEVEJiZ0Lk5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKHQpe2UucGVybWlzc2lvbj10LHQ9PT1jLkdSQU5URUQ/ZS5fc2hvd1F1ZXVlZCgpOmUucXVldWU9W119KSk6KHIuZ2V0TG9nKCkud2FybigiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBub3RpZmljYXRpb25zLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5wZXJtaXNzaW9uPWMuREVOSUVEKX0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5wZXJtaXNzaW9uPT09Yy5HUkFOVEVEKXJldHVybiB0aGlzLl9zaG93SW1wbCh7dGl0bGU6ZSxvcHRpb25zOnR9KTtpZih0aGlzLnBlcm1pc3Npb249PT1jLkRFTklFRClyLmdldExvZygpLndhcm4oIlVuYWJsZSB0byBzaG93IG5vdGlmaWNhdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe3RpdGxlOmUsb3B0aW9uczp0fSk7ZWxzZXt2YXIgbj17dGl0bGU6ZSxvcHRpb25zOnR9O3IuZ2V0TG9nKCkud2FybigiRGVmZXJyaW5nIG5vdGlmaWNhdGlvbiB1bnRpbCB1c2VyIGRlY2lkZXMgdG8gYWxsb3cgb3IgZGVueS4iKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5xdWV1ZS5wdXNoKG4pfX0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5fc2hvd1F1ZXVlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnF1ZXVlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3Nob3dJbXBsKHQpfSkpO3JldHVybiB0aGlzLnF1ZXVlPVtdLHR9LHIuTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUuX3Nob3dJbXBsPWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB0Lk5vdGlmaWNhdGlvbihlLnRpdGxlLGUub3B0aW9ucyk7cmV0dXJuIGUub3B0aW9ucy5jbGlja2VkJiYobi5vbmNsaWNrPWZ1bmN0aW9uKCl7ZS5vcHRpb25zLmNsaWNrZWQuY2FsbChuKX0pLG59LHIuVmFsdWVFcnJvcj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PWUuc2hpZnQoKSxuPW5ldyBFcnJvcihyLnZzcHJpbnRmKHQsZSkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YobixyLlZhbHVlRXJyb3IucHJvdG90eXBlKSxufSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5WYWx1ZUVycm9yLnByb3RvdHlwZSxFcnJvci5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlZhbHVlRXJyb3IsRXJyb3IpLHIuVmFsdWVFcnJvci5wcm90b3R5cGUubmFtZT0iVmFsdWVFcnJvciIsci5Ob3RJbXBsZW1lbnRlZEVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9ZS5zaGlmdCgpLG49bmV3IEVycm9yKHIudnNwcmludGYodCxlKSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLHIuTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUpLG59LE9iamVjdC5zZXRQcm90b3R5cGVPZihyLk5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlLEVycm9yLnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuTm90SW1wbGVtZW50ZWRFcnJvcixFcnJvciksci5Ob3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZS5uYW1lPSJOb3RJbXBsZW1lbnRlZEVycm9yIixyLlN0YXRlRXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD1lLnNoaWZ0KCksbj1uZXcgRXJyb3Ioci52c3ByaW50Zih0LGUpKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5TdGF0ZUVycm9yLnByb3RvdHlwZSksbn0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuU3RhdGVFcnJvci5wcm90b3R5cGUsRXJyb3IucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5TdGF0ZUVycm9yLEVycm9yKSxyLlN0YXRlRXJyb3IucHJvdG90eXBlLm5hbWU9IlN0YXRlRXJyb3IiLHIuVm9pY2VJZEVycm9yPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyZXR1cm4gci50eXBlPWUsci5tZXNzYWdlPXQsci5zdGFjaz1FcnJvcih0KS5zdGFjayxyLmVycj1uLHJ9LHIuaXNDQ1A9ZnVuY3Rpb24oKXtyZXR1cm4hIXIuY29yZS51cHN0cmVhbSYmIkNvbm5lY3RTaGFyZWRXb3JrZXJDb25kdWl0Ij09PXIuY29yZS5nZXRVcHN0cmVhbSgpLm5hbWV9LHIuaXNTaGFyZWRXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gci53b3JrZXImJiEhci53b3JrZXIuY2xpZW50RW5naW5lfSxyLmlzQ1JNPWZ1bmN0aW9uKCl7cmV0dXJuISFyLmNvcmUudXBzdHJlYW0mJihyLmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2Ygci5JRnJhbWVDb25kdWl0fHxyLmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2Ygci5HUlByb3h5SWZyYW1lQ29uZHVpdCl9LHIuaXNBY3RpdmVDb25kdWl0PWZ1bmN0aW9uKGUpe3ZhciB0PXIuY29yZS5nZXRVcHN0cmVhbSgpO3JldHVybiB0IGluc3RhbmNlb2Ygci5HUlByb3h5SWZyYW1lQ29uZHVpdD9lLm5hbWU9PT10LmFjdGl2ZVJlZ2lvblVybDooci5nZXRMb2coKS5kZWJ1ZygiY29ubmVjdC5pc0FjdGl2ZUNvbmR1aXQgaXMgY2FsbGVkIGJ1dCB0aGVyZSBpcyBubyBHUiBwcm94eSBjb25kdWl0Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMCl9fSgpfSwzNTQ6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10LHQud29ya2VyPXt9O3ZhciByPSJMQURTLkdldEFnZW50RmFpbG92ZXJDb25maWd1cmF0aW9uIixvPXtjcmVhdGVUYXNrQ29udGFjdDoiY3JlYXRlVGFza0NvbnRhY3QiLGNyZWF0ZU91dGJvdW5kQ29udGFjdDoiY3JlYXRlT3V0Ym91bmRDb250YWN0IixjcmVhdGVUZW1wbGF0ZWRUYXNrOiJjcmVhdGVUZW1wbGF0ZWRUYXNrIn0saT1mdW5jdGlvbigpe3RoaXMudG9waWNNYXN0ZXJNYXA9e319O2kucHJvdG90eXBlLmdldE1hc3Rlcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsInRvcGljIiksdGhpcy50b3BpY01hc3Rlck1hcFtlXXx8bnVsbH0saS5wcm90b3R5cGUuc2V0TWFzdGVyPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsInRvcGljIiksdC5hc3NlcnROb3ROdWxsKG4sImlkIiksdGhpcy50b3BpY01hc3Rlck1hcFtlXT1ufSxpLnByb3RvdHlwZS5yZW1vdmVNYXN0ZXI9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsImlkIik7dmFyIG49dGhpczt0LmVudHJpZXModGhpcy50b3BpY01hc3Rlck1hcCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT09PWV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZGVsZXRlIG4udG9waWNNYXN0ZXJNYXBbZS5rZXldfSkpfTt2YXIgYT1mdW5jdGlvbihlKXt0LkNsaWVudEJhc2UuY2FsbCh0aGlzKSx0aGlzLmNvbmR1aXQ9ZX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5DbGllbnRCYXNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dC5jb250YWluc1ZhbHVlKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLGUpP3QuY29yZS5nZXRBZ2VudEFwcENsaWVudCgpLl9jYWxsSW1wbChlLG4se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbiksci5zdWNjZXNzKHQpfSxmYWlsdXJlOmZ1bmN0aW9uKHQpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5mYWlsdXJlKHQpfX0pOnQuY29udGFpbnNWYWx1ZSh0LlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzLGUpP3QuY29yZS5nZXRUYXNrVGVtcGxhdGVzQ2xpZW50KCkuX2NhbGxJbXBsKGUsbix7c3VjY2VzczpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuKSxyLnN1Y2Nlc3ModCl9LGZhaWx1cmU6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmZhaWx1cmUodCl9fSk6dC5jb3JlLmdldENsaWVudCgpLl9jYWxsSW1wbChlLG4se3N1Y2Nlc3M6ZnVuY3Rpb24odCxhKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuKSxyLnN1Y2Nlc3ModCxhKX0sZmFpbHVyZTpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5mYWlsdXJlKHQsYSl9LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmF1dGhGYWlsdXJlKCl9LGFjY2Vzc0RlbmllZDpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5hY2Nlc3NEZW5pZWQmJnIuYWNjZXNzRGVuaWVkKCl9fSl9LGEucHJvdG90eXBlLl9yZWNvcmRBUElMYXRlbmN5PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXQ7dGhpcy5fc2VuZEFQSU1ldHJpY3MoZSxvLG4scil9LGEucHJvdG90eXBlLl9zZW5kQVBJTWV0cmljcz1mdW5jdGlvbihlLHIsaSxhKXt2YXIgcz17bmFtZTplLHRpbWU6cixlcnJvcjphLGVycm9yNXh4OjB9LGM9W3tuYW1lOiJDYXRlZ29yeSIsdmFsdWU6IkFQSSJ9XSx1PWEmJmEuc3RhdHVzQ29kZXx8MjAwLGw9YSYmYS5yZXRyeVN0YXR1c3x8dC5SZXRyeVN0YXR1cy5OT05FLHA9W3tuYW1lOiJIdHRwU3RhdHVzQ29kZSIsdmFsdWU6dX0se25hbWU6Ikh0dHBHZW5lcmljU3RhdHVzQ29kZSIsdmFsdWU6IiIuY29uY2F0KHUudG9TdHJpbmcoKS5jaGFyQXQoMCksIlhYIil9LHtuYW1lOiJSZXRyeVN0YXR1cyIsdmFsdWU6bH1dO2lmKCI1Ij09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihzLmVycm9yNXh4PTEpLCI1Ij09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCk/cy5mYXVsdD0xOiIyIj09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihzLmZhdWx0PTApLG9bZV0mJmkmJmkucmVsYXRlZENvbnRhY3RJZCl7dmFyIGQ9e25hbWU6IiIuY29uY2F0KGUsIldpdGhSZWxhdGVkQ29udGFjdElkIiksdGltZTpzLnRpbWUsZXJyb3I6cy5lcnJvcixlcnJvcjV4eDpzLmVycm9yNXh4fTt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX01FVFJJQyxuKG4oe30sZCkse30se2RpbWVuc2lvbnM6YyxvcHRpb25hbERpbWVuc2lvbnM6cH0pKX10aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX01FVFJJQyxuKG4oe30scykse30se2RpbWVuc2lvbnM6YyxvcHRpb25hbERpbWVuc2lvbnM6cH0pKX07dmFyIHM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMubXVsdGlwbGV4ZXI9bmV3IHQuU3RyZWFtTXVsdGlwbGV4ZXIsdGhpcy5jb25kdWl0PW5ldyB0LkNvbmR1aXQoIkFtYXpvbkNvbm5lY3RTaGFyZWRXb3JrZXIiLG51bGwsdGhpcy5tdWx0aXBsZXhlciksdGhpcy5jbGllbnQ9bmV3IGEodGhpcy5jb25kdWl0KSx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmFnZW50PW51bGwsdGhpcy5uZXh0VG9rZW49bnVsbCx0aGlzLmluaXREYXRhPXt9LHRoaXMucG9ydENvbmR1aXRNYXA9e30sdGhpcy5zdHJlYW1NYXBCeVRhYklkPXt9LHRoaXMubWFzdGVyQ29vcmQ9bmV3IGksdGhpcy5sb2dzQnVmZmVyPVtdLHRoaXMuc3VwcHJlc3M9ITEsdGhpcy5mb3JjZU9mZmxpbmU9ITEsdGhpcy5sb25nUG9sbGluZ09wdGlvbnM9e2FsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlOiExLGFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZTohMX0sdGhpcy5kclBvbGxpbmdVcmw9bnVsbCx0aGlzLnRoaXNBcm49bnVsbCx0aGlzLm90aGVyQXJuPW51bGwsdGhpcy5wZW5kaW5nRmFpbG92ZXI9bnVsbDt2YXIgcj1udWxsO3Qucm9vdExvZ2dlcj1uZXcgdC5Eb3duc3RyZWFtQ29uZHVpdExvZ2dlcih0aGlzLmNvbmR1aXQpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuU0VORF9MT0dTLChmdW5jdGlvbihlKXt0LmdldExvZygpLnB1c2hMb2dzRG93bnN0cmVhbShlKSxuLmxvZ3NCdWZmZXI9bi5sb2dzQnVmZmVyLmNvbmNhdChlKSxuLmxvZ3NCdWZmZXIubGVuZ3RoPjQwMCYmbi5oYW5kbGVTZW5kTG9nc1JlcXVlc3Qobi5sb2dzQnVmZmVyKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TVVBQUkVTUywoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBTZXR0aW5nIFN1cHByZXNzIHRvICVzIixlLnN1cHByZXNzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uc3VwcHJlc3M9ZS5zdXBwcmVzc3x8ITEsbi5zdXBwcmVzc3x8KG4uZm9yY2VPZmZsaW5lPSExKSwodm9pZCAwPT09ZS5zaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtfHxlLnNob3VsZFNlbmRGYWlsb3ZlckRvd25zdHJlYW0pJiZuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtpc1ByaW1hcnk6IW4uc3VwcHJlc3N9KX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmdldExvZygpLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNldHRpbmcgRk9SQ0VfT0ZGTElORSB0byAlcyIsZS5vZmZsaW5lKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZm9yY2VPZmZsaW5lfHwobi5wZW5kaW5nRmFpbG92ZXI9ITEsbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7aXNQcmltYXJ5OiExLG5leHRBY3RpdmVBcm46ZS5uZXh0QWN0aXZlQXJufSkpLG4uZm9yY2VPZmZsaW5lPWUub2ZmbGluZXx8ITF9KSksdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORyYmdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HLChmdW5jdGlvbihlKXt2YXIgcj10LmdldExvZygpO24uZHJQb2xsaW5nVXJsPyhyLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFkZGluZyBuZXcgQ0NQIHRvIGFjdGl2ZSByZWdpb24gcG9sbGluZyBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wb2xsRm9yQWN0aXZlUmVnaW9uKCEwLCExKSk6KHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbml0aWFsaXppbmcgYWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZvciBpbnN0YW5jZSAiLmNvbmNhdChlLmluc3RhbmNlQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnRoaXNBcm49ZS5pbnN0YW5jZUFybixuLm90aGVyQXJuPWUub3RoZXJBcm4sbi5nZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwoKS50aGVuKChmdW5jdGlvbihlKXtuLmRyUG9sbGluZ1VybD1lLG4ucG9sbEZvckFjdGl2ZVJlZ2lvbighMCwhMCl9KSwoZnVuY3Rpb24odCl7ci5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gZ2V0IHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KGUuaW5zdGFuY2VBcm4sIjsgc3VwcHJlc3NpbmcgY29udGFjdHMiKSkud2l0aEV4Y2VwdGlvbih0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uc3VwcHJlc3M9ITB9KSkpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihvKXtjb25zb2xlLmxvZygiQEBAIGNvbmZpZ3VyZSBldmVudCBoYW5kbGVyIixvKTt0cnl7by5hdXRoVG9rZW4mJm8uYXV0aFRva2VuIT09bi5pbml0RGF0YS5hdXRoVG9rZW4mJihuLmluaXREYXRhPW8sdC5jb3JlLmluaXQobyksby5sb25nUG9sbGluZ09wdGlvbnMmJigiYm9vbGVhbiI9PXR5cGVvZiBvLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nU2hhZG93TW9kZSYmKG4ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlPW8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlKSwiYm9vbGVhbiI9PXR5cGVvZiBvLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGUmJihuLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGU9by5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1dlYnNvY2tldE9ubHlNb2RlKSkscj90LmdldExvZygpLmluZm8oIk5vdCBJbml0aWFsaXppbmcgYSBuZXcgV2Vic29ja2V0TWFuYWdlciBpbnN0YW5jZSwgc2luY2Ugb25lIGFscmVhZHkgZXhpc3RzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKToodC5nZXRMb2coKS5pbmZvKCJDcmVhdGluZyBhIG5ldyBXZWJzb2NrZXQgY29ubmVjdGlvbiBmb3IgQ0NQIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LldlYlNvY2tldE1hbmFnZXIuc2V0R2xvYmFsQ29uZmlnKHtsb2dnZXJDb25maWc6e2xvZ2dlcjp0LmdldExvZygpLGFkdmFuY2VkTG9nV3JpdGVyOiJpbmZvIixsZXZlbDoxMH19KSwocj10LldlYlNvY2tldE1hbmFnZXIuY3JlYXRlKCkpLm9uSW5pdEZhaWx1cmUoKGZ1bmN0aW9uKCl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRSl9KSksci5vbkNvbm5lY3Rpb25PcGVuKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9PUEVOLGUpfSkpLHIub25Db25uZWN0aW9uQ2xvc2UoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0NMT1NFLGUpfSkpLHIub25Db25uZWN0aW9uR2FpbigoZnVuY3Rpb24oKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9HQUlORUQpLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0dBSU4pfSkpLHIub25Db25uZWN0aW9uTG9zdCgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fTE9TVCxlKSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9MT1NULGUpfSkpLHIub25TdWJzY3JpcHRpb25VcGRhdGUoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fVVBEQVRFLGUpfSkpLHIub25TdWJzY3JpcHRpb25GYWlsdXJlKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX0ZBSUxVUkUsZSl9KSksci5vbkFsbE1lc3NhZ2UoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5BTExfTUVTU0FHRSxlKX0pKSxuLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNFTkQsKGZ1bmN0aW9uKGUpe3Iuc2VuZE1lc3NhZ2UoZSl9KSksbi5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJQkUsKGZ1bmN0aW9uKGUpe3Iuc3Vic2NyaWJlVG9waWNzKGUpfSkpLHIuaW5pdCh0LmhpdGNoKG4sbi5nZXRXZWJTb2NrZXRVcmwpKS50aGVuKChmdW5jdGlvbihyKXt0cnl7aWYociYmIXIud2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZCl0LmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGFnZW50IHBvbGxpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4ucG9sbEZvckFnZW50KCksdC5nZXRMb2coKS5pbmZvKCJLaWNraW5nIG9mZiBjb25maWcgcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKHtyZXBlYXRGb3JldmVyOiEwfSksdC5nZXRMb2coKS5pbmZvKCJLaWNraW5nIG9mZiBhdXRoIHRva2VuIHBvbGxpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuc2V0SW50ZXJ2YWwodC5oaXRjaChuLG4uY2hlY2tBdXRoVG9rZW4pLDNlNSk7ZWxzZSBpZighdC53ZWJTb2NrZXRJbml0RmFpbGVkKXt2YXIgbz10LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkU7dGhyb3cgbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKG8pLHQud2ViU29ja2V0SW5pdEZhaWxlZD0hMCxuZXcgRXJyb3Iobyl9fWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIldlYlNvY2tldCBmYWlsZWQgdG8gaW5pdGlhbGl6ZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSkpKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJAQEAgZXJyb3IiLGUpfX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlRFUk1JTkFURSwoZnVuY3Rpb24oKXtuLmhhbmRsZVNlbmRMb2dzUmVxdWVzdChuLmxvZ3NCdWZmZXIpLHQuY29yZS50ZXJtaW5hdGUoKSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVEVSTUlOQVRFRCl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TWU5DSFJPTklaRSwoZnVuY3Rpb24oKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0oZS5ldmVudCxlLmRhdGEpfSkpLGUub25jb25uZWN0PWZ1bmN0aW9uKGUpe3ZhciByPWUucG9ydHNbMF0sbz1uZXcgdC5Qb3J0U3RyZWFtKHIpO24ubXVsdGlwbGV4ZXIuYWRkU3RyZWFtKG8pLHIuc3RhcnQoKTt2YXIgaT1uZXcgdC5Db25kdWl0KG8uZ2V0SWQoKSxudWxsLG8pO2kuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0Use2lkOm8uZ2V0SWQoKX0pLG4ucG9ydENvbmR1aXRNYXBbby5nZXRJZCgpXT1pLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMse2xlbmd0aDpPYmplY3Qua2V5cyhuLnBvcnRDb25kdWl0TWFwKS5sZW5ndGh9KSxudWxsIT09bi5hZ2VudCYmbi51cGRhdGVBZ2VudCgpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9SRVFVRVNULHQuaGl0Y2gobixuLmhhbmRsZUFQSVJlcXVlc3QsaSkpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVFVRVNULHQuaGl0Y2gobixuLmhhbmRsZU1hc3RlclJlcXVlc3QsaSxvLmdldElkKCkpKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5SRUxPQURfQUdFTlRfQ09ORklHVVJBVElPTix0LmhpdGNoKG4sbi5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuVEFCX0lELHQuaGl0Y2gobixuLmhhbmRsZVRhYklkRXZlbnQsbykpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLkNMT1NFLHQuaGl0Y2gobixuLmhhbmRsZUNsb3NlRXZlbnQsbykpfX07cy5wcm90b3R5cGUucG9sbEZvckFjdGl2ZVJlZ2lvbj1mdW5jdGlvbihvLGkpe3ZhciBhPXRoaXMscz10LmdldExvZygpO2lmKCFhLmRyUG9sbGluZ1VybCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFRyaWVkIHRvIHBvbGwgZm9yIGFjdGl2ZSByZWdpb24gd2l0aG91dCBmaXJzdCBpbml0aWFsaXppbmcgRFIgcG9sbGluZyBpbiB0aGUgd29ya2VyLiIpO3MuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gUG9sbGluZyBmb3IgZmFpbG92ZXIgd2l0aCBwcmVzaWduZWQgVVJMIGZvciBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiB0LmZldGNoV2l0aFRpbWVvdXQoYS5kclBvbGxpbmdVcmwsMWU0KS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoZS5zdGF0dXMpe2lmKGEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyx7c3RhdHVzQ29kZTplLnN0YXR1c30pLFt0LkhUVFBfU1RBVFVTX0NPREVTLkFDQ0VTU19ERU5JRUQsdC5IVFRQX1NUQVRVU19DT0RFUy5VTkFVVEhPUklaRURdLmluY2x1ZGVzKGUuc3RhdHVzKSlyZXR1cm4gcy5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFjdGl2ZSByZWdpb24gcG9sbGluZyBmYWlsZWQ7IHRyeWluZyB0byBnZXQgYSBuZXcgVVJMIGZvciBwb2xsaW5nLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLmdldFByZXNpZ25lZERpc2NvdmVyeVVybCgpLnRoZW4oKGZ1bmN0aW9uKGUpe2EuZHJQb2xsaW5nVXJsPWV9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYz0obmV3IERhdGUpLmdldFRpbWUoKSx0LmZldGNoV2l0aFRpbWVvdXQoYS5kclBvbGxpbmdVcmwsMWU0KX0pKTt2YXIgbj0iW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gcG9sbCBmb3IgZmFpbG92ZXIgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiLCAiKSsicmVjZWl2ZWQgdW5leHBlY3RlZCByZXNwb25zZSBjb2RlICIuY29uY2F0KGUuc3RhdHVzKTt0aHJvdyBzLmVycm9yKG4pLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuZXcgRXJyb3Iobil9dGhyb3cgbj0iW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gcG9sbCBmb3IgZmFpbG92ZXIgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiLCByZXF1ZXN0IHRpbWVkIG91dCBvciBhYm9ydGVkIiksYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjLHtzdGF0dXNDb2RlOi0xfSkscy5lcnJvcihuKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKG4pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKGEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyksImJvb2xlYW4iPT10eXBlb2YgZS5UZXJtaW5hdGVBY3RpdmVDb250YWN0cyl7dmFyIG49IWUuVGVybWluYXRlQWN0aXZlQ29udGFjdHM7aWYoZS5JbnN0YW5jZUFybilpZihzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFN1Y2Nlc3NmdWxseSBwb2xsZWQgZm9yIGFjdGl2ZSByZWdpb24uIFByaW1hcnkgaW5zdGFuY2UgQVJOIGlzICIuY29uY2F0KGUuSW5zdGFuY2VBcm4sIiAiKSsiYW5kIHNvZnQgZmFpbG92ZXIgaXMgIi5jb25jYXQobj8iZW5hYmxlZCI6ImRpc2FibGVkIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS50aGlzQXJuPT09ZS5JbnN0YW5jZUFybiYmIWEuc3VwcHJlc3MmJm8pcy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiBpcyBiZWluZyBzZXQgdG8gcHJpbWFyeSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse25leHRBY3RpdmVBcm46ZS5JbnN0YW5jZUFybn0pO2Vsc2UgaWYoYS5vdGhlckFybj09PWUuSW5zdGFuY2VBcm4pe2lmKCFufHxpfHwhb3x8YS5zdXBwcmVzcyYmIWEucGVuZGluZ0ZhaWxvdmVyfHxhLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtuZXh0QWN0aXZlQXJuOmEudGhpc0Fybn0pLCFhLnN1cHByZXNzKXthLnN1cHByZXNzPSEwO3ZhciB1PW4mJiFpO3U/KGEucGVuZGluZ0ZhaWxvdmVyPSEwLHMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgd2lsbCBiZSBzZXQgdG8gc3RhbmQtYnkgdXNpbmcgc29mdCBmYWlsb3ZlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTpzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIGlzIGJlaW5nIHNldCB0byBzdGFuZC1ieSBpbW1lZGlhdGVseSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSx7c29mdEZhaWxvdmVyOnUsbmV4dEFjdGl2ZUFybjplLkluc3RhbmNlQXJufSl9fWVsc2VbYS50aGlzQXJuLGEub3RoZXJBcm5dLmluY2x1ZGVzKGUuSW5zdGFuY2VBcm4pfHxzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFRoZSBjdXJyZW50IHByaW1hcnkgaW5zdGFuY2UgaW4gdGhpcyBhZ2VudCdzIGZhaWxvdmVyIGdyb3VwICIuY29uY2F0KGUuSW5zdGFuY2VBcm4sIiAiKSsiZG9lc24ndCBtYXRjaCB0aGlzIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIG9yIHRoZSBvdGhlciBpbnN0YW5jZSAiKS5jb25jYXQoYS5vdGhlckFybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZSBzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIERSIHBvbGxpbmcgcmVzcG9uc2UgZGlkIG5vdCBjb250YWluIGEgdHJ1dGh5IGFjdGl2ZSBpbnN0YW5jZSBBUk4uIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2Ugcy5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBEUiBwb2xsaW5nIHJlc3BvbnNlIGRpZCBub3QgY29udGFpbiBhIHZhbGlkIHZhbHVlIGZvciBUZXJtaW5hdGVBY3RpdmVDb250YWN0cy4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2Uuc3RhdHVzJiZhLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMsbihuKHt9LGUpLHt9LHtzdGF0dXNDb2RlOmUuc3RhdHVzfSkpLHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gQWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZhaWxlZCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIuIikpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5maW5hbGx5KChmdW5jdGlvbigpeyFpJiZvfHxlLnNldFRpbWVvdXQodC5oaXRjaChhLGEucG9sbEZvckFjdGl2ZVJlZ2lvbiksNmU0KX0pKX0scy5wcm90b3R5cGUuZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3QuZ2V0TG9nKCkuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBHZXR0aW5nIHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KG4udGhpc0FybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCx7dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5BR0VOVF9ESVNDT1ZFUll9LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2UmJmUuYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQmJmUuYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQucHJlc2lnbmVkVXJsPyh0LmdldExvZygpLmluZm8oImdldFByZXNpZ25lZERpc2NvdmVyeVVybCBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydC5wcmVzaWduZWRVcmwpKToodC5nZXRMb2coKS5pbmZvKCJnZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwgcmVjZWl2ZWQgZW1wdHkvaW52YWxpZCBkYXRhIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oRXJyb3IoImdldFByZXNpZ25lZERpc2NvdmVyeVVybCByZWNlaXZlZCBlbXB0eS9pbnZhbGlkIGRhdGEiKSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUscil7dC5nZXRMb2coKS5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gZ2V0IHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KG4udGhpc0FybikpLndpdGhFeGNlcHRpb24oZSkud2l0aE9iamVjdChyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8obmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IHByZXNpZ25lZCBVUkwiKSl9LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKCl7dC5oaXRjaChuLG4uaGFuZGxlQXV0aEZhaWwpKCksbyhuZXcgRXJyb3IoIkVuY291bnRlcmVkIGF1dGggZmFpbHVyZSB3aGVuIGdldHRpbmcgcHJlc2lnbmVkIFVSTCIpKX0sYWNjZXNzRGVuaWVkOmZ1bmN0aW9uKCl7dC5oaXRjaChuLG4uaGFuZGxlQWNjZXNzRGVuaWVkKSgpLG8obmV3IEVycm9yKCJFbmNvdW50ZXJlZCBhY2Nlc3MgZGVuaWVkIHdoZW4gZ2V0dGluZyBwcmVzaWduZWQgVVJMIikpfX0pfSkpfSxzLnByb3RvdHlwZS5wb2xsRm9yQWdlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9dC5oaXRjaChuLG4uaGFuZGxlUG9sbGluZ0F1dGhGYWlsKTt0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU05BUFNIT1Qse25leHRUb2tlbjpuLm5leHRUb2tlbix0aW1lb3V0OjNlNH0se3N1Y2Nlc3M6ZnVuY3Rpb24ocixvKXt0cnl7bi5hZ2VudD1uLmFnZW50fHx7fSxuLmFnZW50LnNuYXBzaG90PXIuc25hcHNob3Qsbi5hZ2VudC5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcD10Lm5vdygpLG4uYWdlbnQuc25hcHNob3Quc2tldz1uLmFnZW50LnNuYXBzaG90LnNuYXBzaG90VGltZXN0YW1wLW4uYWdlbnQuc25hcHNob3QubG9jYWxUaW1lc3RhbXAsbi5uZXh0VG9rZW49ci5uZXh0VG9rZW4sbyYmby5oYXNPd25Qcm9wZXJ0eSgiY29udGVudExlbmd0aCIpJiYobi5hZ2VudC5zbmFwc2hvdC5jb250ZW50TGVuZ3RoPW8uY29udGVudExlbmd0aCksdC5nZXRMb2coKS50cmFjZSgiR0VUX0FHRU5UX1NOQVBTSE9UIHN1Y2NlZWRlZC4iKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi51cGRhdGVBZ2VudCgpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkxvbmcgcG9sbCBmYWlsZWQgdG8gdXBkYXRlIGFnZW50LiIpLndpdGhPYmplY3Qocikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWZpbmFsbHl7ZS5zZXRUaW1lb3V0KHQuaGl0Y2gobixuLnBvbGxGb3JBZ2VudCksMTAwKX19LGZhaWx1cmU6ZnVuY3Rpb24ocixvKXt0cnl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGdldCBhZ2VudCBkYXRhLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOnIsZGF0YTpvfSl9ZmluYWxseXtlLnNldFRpbWVvdXQodC5oaXRjaChuLG4ucG9sbEZvckFnZW50KSw1ZTMpfX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtyKCl9LGFjY2Vzc0RlbmllZDp0LmhpdGNoKG4sbi5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxvPW58fHt9LGk9dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKTt0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfQ09ORklHVVJBVElPTix7fSx7c3VjY2VzczpmdW5jdGlvbihuKXt2YXIgaT1uLmNvbmZpZ3VyYXRpb247ci5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucyhpKSxyLnBvbGxGb3JBZ2VudFN0YXRlcyhpKSxyLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2RlcyhpKSxyLnBvbGxGb3JSb3V0aW5nUHJvZmlsZVF1ZXVlcyhpKSxvLnJlcGVhdEZvcmV2ZXImJmUuc2V0VGltZW91dCh0LmhpdGNoKHIsci5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uLG8pLDNlNCl9LGZhaWx1cmU6ZnVuY3Rpb24obixpKXt0cnl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGFnZW50IGNvbmZpZ3VyYXRpb24gZGF0YS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjpuLGRhdGE6aX0pfWZpbmFsbHl7by5yZXBlYXRGb3JldmVyJiZlLnNldFRpbWVvdXQodC5oaXRjaChyLHIucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbiksM2U0LG8pfX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtpKCl9LGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudFN0YXRlcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU1RBVEVTLHtuZXh0VG9rZW46by5uZXh0VG9rZW58fG51bGwsbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QubmV4dFRva2VuP3IucG9sbEZvckFnZW50U3RhdGVzKGUse3N0YXRlczooby5zdGF0ZXN8fFtdKS5jb25jYXQodC5zdGF0ZXMpLG5leHRUb2tlbjp0Lm5leHRUb2tlbixtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30pOihlLmFnZW50U3RhdGVzPShvLnN0YXRlc3x8W10pLmNvbmNhdCh0LnN0YXRlcyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGFnZW50IHN0YXRlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50UGVybWlzc2lvbnM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1BFUk1JU1NJT05TLHtuZXh0VG9rZW46by5uZXh0VG9rZW58fG51bGwsbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QubmV4dFRva2VuP3IucG9sbEZvckFnZW50UGVybWlzc2lvbnMoZSx7cGVybWlzc2lvbnM6KG8ucGVybWlzc2lvbnN8fFtdKS5jb25jYXQodC5wZXJtaXNzaW9ucyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUucGVybWlzc2lvbnM9KG8ucGVybWlzc2lvbnN8fFtdKS5jb25jYXQodC5wZXJtaXNzaW9ucyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGFnZW50IHBlcm1pc3Npb25zIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yRGlhbGFibGVDb3VudHJ5Q29kZXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0RJQUxBQkxFX0NPVU5UUllfQ09ERVMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yRGlhbGFibGVDb3VudHJ5Q29kZXMoZSx7Y291bnRyeUNvZGVzOihvLmNvdW50cnlDb2Rlc3x8W10pLmNvbmNhdCh0LmNvdW50cnlDb2RlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUuZGlhbGFibGVDb3VudHJpZXM9KG8uY291bnRyeUNvZGVzfHxbXSkuY29uY2F0KHQuY291bnRyeUNvZGVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggZGlhbGFibGUgY291bnRyeSBjb2RlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvclJvdXRpbmdQcm9maWxlUXVldWVzPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPW58fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9ST1VUSU5HX1BST0ZJTEVfUVVFVUVTLHtyb3V0aW5nUHJvZmlsZUFSTjplLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlQVJOLG5leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yUm91dGluZ1Byb2ZpbGVRdWV1ZXMoZSx7Y291bnRyeUNvZGVzOihvLnF1ZXVlc3x8W10pLmNvbmNhdCh0LnF1ZXVlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUucm91dGluZ1Byb2ZpbGUucXVldWVzPShvLnF1ZXVlc3x8W10pLmNvbmNhdCh0LnF1ZXVlcyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIHJvdXRpbmcgcHJvZmlsZSBxdWV1ZXMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLmhhbmRsZUFQSVJlcXVlc3Q9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RoaXMuY2xpZW50LmNhbGwobi5tZXRob2Qsbi5wYXJhbXMse3N1Y2Nlc3M6ZnVuY3Rpb24ocil7dmFyIG89dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLG4scik7ZS5zZW5kRG93bnN0cmVhbShvLmV2ZW50LG8pfSxmYWlsdXJlOmZ1bmN0aW9uKG8saSl7dmFyIGE9dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLG4saSxKU09OLnN0cmluZ2lmeShvKSk7ZS5zZW5kRG93bnN0cmVhbShhLmV2ZW50LGEpLHQuZ2V0TG9nKCkuZXJyb3IoIiclcycgQVBJIHJlcXVlc3QgZmFpbGVkIixuLm1ldGhvZCkud2l0aE9iamVjdCh7cmVxdWVzdDpyLmZpbHRlckF1dGhUb2tlbihuKSxyZXNwb25zZTphfSkud2l0aEV4Y2VwdGlvbihvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVBdXRoRmFpbCx7YXV0aG9yaXplOiEwfSl9KX0scy5wcm90b3R5cGUuaGFuZGxlTWFzdGVyUmVxdWVzdD1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcy5jb25kdWl0LGk9bnVsbDtzd2l0Y2goci5tZXRob2Qpe2Nhc2UgdC5NYXN0ZXJNZXRob2RzLkJFQ09NRV9NQVNURVI6dmFyIGE9dGhpcy5tYXN0ZXJDb29yZC5nZXRNYXN0ZXIoci5wYXJhbXMudG9waWMpLHM9Qm9vbGVhbihhKSYmYSE9PW47dGhpcy5tYXN0ZXJDb29yZC5zZXRNYXN0ZXIoci5wYXJhbXMudG9waWMsbiksaT10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0Uscix7bWFzdGVySWQ6bix0YWtlT3ZlcjpzLHRvcGljOnIucGFyYW1zLnRvcGljfSkscyYmby5zZW5kRG93bnN0cmVhbShpLmV2ZW50LGkpO2JyZWFrO2Nhc2UgdC5NYXN0ZXJNZXRob2RzLkNIRUNLX01BU1RFUjooYT10aGlzLm1hc3RlckNvb3JkLmdldE1hc3RlcihyLnBhcmFtcy50b3BpYykpfHxyLnBhcmFtcy5zaG91bGROb3RCZWNvbWVNYXN0ZXJJZk5vbmV8fCh0aGlzLm1hc3RlckNvb3JkLnNldE1hc3RlcihyLnBhcmFtcy50b3BpYyxuKSxhPW4pLGk9dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFLHIse21hc3RlcklkOmEsaXNNYXN0ZXI6bj09PWEsdG9waWM6ci5wYXJhbXMudG9waWN9KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBtYXN0ZXIgbWV0aG9kOiAiK3IubWV0aG9kKX1lLnNlbmREb3duc3RyZWFtKGkuZXZlbnQsaSl9LHMucHJvdG90eXBlLmhhbmRsZVRhYklkRXZlbnQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RyeXt2YXIgbz1uLnRhYklkLGk9ci5zdHJlYW1NYXBCeVRhYklkW29dLGE9ZS5nZXRJZCgpLHM9T2JqZWN0LmtleXMoci5zdHJlYW1NYXBCeVRhYklkKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByLnN0cmVhbU1hcEJ5VGFiSWRbZV0ubGVuZ3RoPjB9KSkubGVuZ3RoO2lmKGkmJmkubGVuZ3RoPjApe2lmKCFpLmluY2x1ZGVzKGEpKXtyLnN0cmVhbU1hcEJ5VGFiSWRbb10ucHVzaChhKTt2YXIgYz17bGVuZ3RoOk9iamVjdC5rZXlzKHIucG9ydENvbmR1aXRNYXApLmxlbmd0aCx0YWJJZDpvLHN0cmVhbXNUYWJzQWNyb3NzQnJvd3NlcjpzfTtjW29dPXtsZW5ndGg6aS5sZW5ndGh9LHIuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsYyl9fWVsc2V7ci5zdHJlYW1NYXBCeVRhYklkW29dPVtlLmdldElkKCldO3ZhciB1PXtsZW5ndGg6T2JqZWN0LmtleXMoci5wb3J0Q29uZHVpdE1hcCkubGVuZ3RoLHRhYklkOm8sc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyOnMrMX07dVtvXT17bGVuZ3RoOnIuc3RyZWFtTWFwQnlUYWJJZFtvXS5sZW5ndGh9LHIuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsdSl9fWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltUYWIgSWRzXSBJc3N1ZSB1cGRhdGluZyBjb25uZWN0ZWQgQ0NQcyB3aXRoaW4gdGhlIHNhbWUgdGFiIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0scy5wcm90b3R5cGUuaGFuZGxlQ2xvc2VFdmVudD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO24ubXVsdGlwbGV4ZXIucmVtb3ZlU3RyZWFtKGUpLGRlbGV0ZSBuLnBvcnRDb25kdWl0TWFwW2UuZ2V0SWQoKV0sbi5tYXN0ZXJDb29yZC5yZW1vdmVNYXN0ZXIoZS5nZXRJZCgpKTt2YXIgcj17bGVuZ3RoOk9iamVjdC5rZXlzKG4ucG9ydENvbmR1aXRNYXApLmxlbmd0aH0sbz1PYmplY3Qua2V5cyhuLnN0cmVhbU1hcEJ5VGFiSWQpO3RyeXt2YXIgaT1vLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnN0cmVhbU1hcEJ5VGFiSWRbdF0uaW5jbHVkZXMoZS5nZXRJZCgpKX0pKTtpZihpKXt2YXIgYT1uLnN0cmVhbU1hcEJ5VGFiSWRbaV0uZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRJZCgpPT09dH0pKTtuLnN0cmVhbU1hcEJ5VGFiSWRbaV0uc3BsaWNlKGEsMSk7dmFyIHM9bi5zdHJlYW1NYXBCeVRhYklkW2ldP24uc3RyZWFtTWFwQnlUYWJJZFtpXS5sZW5ndGg6MDtyW2ldPXtsZW5ndGg6c30sci50YWJJZD1pfXZhciBjPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJlYW1NYXBCeVRhYklkW2VdLmxlbmd0aD4wfSkpLmxlbmd0aDtyLnN0cmVhbXNUYWJzQWNyb3NzQnJvd3Nlcj1jfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltUYWIgSWRzXSBJc3N1ZSB1cGRhdGluZyB0YWJJZC1zcGVjaWZpYyBzdHJlYW0gZGF0YSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1uLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLHIpfSxzLnByb3RvdHlwZS51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSl7ZS5wZXJtaXNzaW9ucyYmZS5kaWFsYWJsZUNvdW50cmllcyYmZS5hZ2VudFN0YXRlcyYmZS5yb3V0aW5nUHJvZmlsZS5xdWV1ZXM/KHRoaXMuYWdlbnQ9dGhpcy5hZ2VudHx8e30sdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uPWUsdGhpcy51cGRhdGVBZ2VudCgpKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCBjb25maWd1cmF0aW9uIHVudGlsIGFsbCBjb25maWcgZGF0YSBoYXMgYmVlbiBmZXRjaGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHMucHJvdG90eXBlLnVwZGF0ZUFnZW50PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudD90aGlzLmFnZW50LnNuYXBzaG90P3RoaXMuYWdlbnQuY29uZmlndXJhdGlvbj8odGhpcy5hZ2VudC5zbmFwc2hvdC5zdGF0dXM9dGhpcy5hZ2VudC5zdGF0ZSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzJiZ0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmxlbmd0aD4xJiZ0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RhdGUudGltZXN0YW1wLmdldFRpbWUoKS10LnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCl9KSksdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXR1cz1lLnN0YXRlLGUuY29ubmVjdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5hZGRyZXNzPWUuZW5kcG9pbnR9KSl9KSksdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLmRlZmF1bHRPdXRib3VuZFF1ZXVlLnF1ZXVlSWQ9dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLmRlZmF1bHRPdXRib3VuZFF1ZXVlLnF1ZXVlQVJOLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5xdWV1ZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5xdWV1ZUlkPWUucXVldWVBUk59KSksdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnF1ZXVlJiYoZS5xdWV1ZS5xdWV1ZUlkPWUucXVldWUucXVldWVBUk4pfSkpLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkPXRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUFSTix0aGlzLnN1cHByZXNzJiYodGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cz10aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGUudHlwZT09dC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRHx8ZS5zdGF0ZS50eXBlPT10LkNvbnRhY3RTdGF0ZVR5cGUuRU5ERUR9KSksdGhpcy5mb3JjZU9mZmxpbmUmJnRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSkpLHRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkFnZW50RXZlbnRzLlVQREFURSx0aGlzLmFnZW50KSk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IGNvbmZpZ3VyYXRpb24gaXMgYXZhaWxhYmxlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IHNuYXBzaG90IGlzIGF2YWlsYWJsZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOnQuZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IHVudGlsIHRoZSBhZ2VudCBoYXMgYmVlbiBmdWxseSBjb25zdHJ1Y3RlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxzLnByb3RvdHlwZS5nZXRXZWJTb2NrZXRVcmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dC5jb3JlLmdldENsaWVudCgpLHI9dC5oaXRjaChlLGUuaGFuZGxlQXV0aEZhaWwpLG89dC5oaXRjaChlLGUuaGFuZGxlQWNjZXNzRGVuaWVkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsaSl7bi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHt0cmFuc3BvcnRUeXBlOnQuVFJBTlNQT1JUX1RZUEVTLldFQl9TT0NLRVR9LHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3QuZ2V0TG9nKCkuaW5mbygiZ2V0V2ViU29ja2V0VXJsIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZShuKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pLGkoe3JlYXNvbjoiZ2V0V2ViU29ja2V0VXJsIGZhaWxlZCIsX2RlYnVnOmV9KX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXt0LmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgQXV0aCBGYWlsdXJlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKEVycm9yKCJBdXRoZW50aWNhdGlvbiBmYWlsZWQgd2hpbGUgZ2V0dGluZyBnZXRXZWJTb2NrZXRVcmwiKSkscigpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXt0LmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgQWNjZXNzIERlbmllZCBGYWlsdXJlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKEVycm9yKCJBY2Nlc3MgRGVuaWVkIEZhaWx1cmUgd2hpbGUgZ2V0dGluZyBnZXRXZWJTb2NrZXRVcmwiKSksbygpfX0pfSkpfSxzLnByb3RvdHlwZS5oYW5kbGVTZW5kTG9nc1JlcXVlc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49W10scj1lLmxvZ3NCdWZmZXIuc2xpY2UoKTtlLmxvZ3NCdWZmZXI9W10sci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2goe3RpbWVzdGFtcDplLnRpbWUsY29tcG9uZW50OmUuY29tcG9uZW50LG1lc3NhZ2U6ZS50ZXh0fSl9KSksdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9DTElFTlRfTE9HUyx7bG9nRXZlbnRzOm59LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiU2VuZExvZ3MgcmVxdWVzdCBzdWNjZWVkZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIlNlbmRMb2dzIHJlcXVlc3QgZmFpbGVkLiIpLndpdGhPYmplY3Qobikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxhdXRoRmFpbHVyZTp0LmhpdGNoKGUsZS5oYW5kbGVBdXRoRmFpbCl9KX0scy5wcm90b3R5cGUuaGFuZGxlQXV0aEZhaWw9ZnVuY3Rpb24oZSl7ZT90aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpOnRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BVVRIX0ZBSUwpfSxzLnByb3RvdHlwZS5oYW5kbGVQb2xsaW5nQXV0aEZhaWw9ZnVuY3Rpb24oKXt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQ1RJX0FVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LHMucHJvdG90eXBlLmhhbmRsZUFjY2Vzc0RlbmllZD1mdW5jdGlvbigpe3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BQ0NFU1NfREVOSUVEKX0scy5wcm90b3R5cGUuY2hlY2tBdXRoVG9rZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49bmV3IERhdGUoZS5pbml0RGF0YS5hdXRoVG9rZW5FeHBpcmF0aW9uKSxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpO24uZ2V0VGltZSgpPHIrMThlNSYmKHQuZ2V0TG9nKCkuaW5mbygiQXV0aCB0b2tlbiBleHBpcmVzIGF0ICIrbisiIFN0YXJ0IHJlZnJlc2hpbmcgdG9rZW4gd2l0aCByZXRyeS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYmFja29mZih0LmhpdGNoKGUsZS5hdXRob3JpemUpLDFlNCw0KSl9LHMucHJvdG90eXBlLmF1dGhvcml6ZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3QuY29yZS5hdXRob3JpemUodGhpcy5pbml0RGF0YS5hdXRob3JpemVFbmRwb2ludCkudGhlbigoZnVuY3Rpb24ocil7dmFyIG89bmV3IERhdGUoci5leHBpcmF0aW9uKTt0LmdldExvZygpLmluZm8oIkF1dGhvcml6YXRpb24gc3VjY2VlZGVkIGFuZCB0aGUgdG9rZW4gZXhwaXJlcyBhdCAlcyIsbykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmluaXREYXRhLmF1dGhUb2tlbj1yLmFjY2Vzc1Rva2VuLG4uaW5pdERhdGEuYXV0aFRva2VuRXhwaXJhdGlvbj1vLHQuY29yZS5pbml0Q2xpZW50KG4uaW5pdERhdGEpLHQuY29yZS5pbml0QWdlbnRBcHBDbGllbnQobi5pbml0RGF0YSksZS5zdWNjZXNzKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHIpe3QuZ2V0TG9nKCkuZXJyb3IoIkF1dGhvcml6YXRpb24gZmFpbGVkIHdpdGggY29kZSAlcyIsci5zdGF0dXMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksNDAxPT09ci5zdGF0dXM/bi5oYW5kbGVBdXRoRmFpbCgpOmUuZmFpbHVyZSgpfSkpfSxzLnByb3RvdHlwZS5maWx0ZXJBdXRoVG9rZW49ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpaWYoInBhcmFtcyI9PT1uKXt2YXIgcj17fTtmb3IodmFyIG8gaW4gZS5wYXJhbXMpImF1dGhlbnRpY2F0aW9uIiE9PW8mJihyW29dPWUucGFyYW1zW29dKTt0LnBhcmFtcz1yfWVsc2UgdFtuXT1lW25dO3JldHVybiB0fSx0Lndvcmtlci5tYWluPWZ1bmN0aW9uKCl7dC53b3JrZXIuY2xpZW50RW5naW5lPW5ldyBzfX0oKX0sMTgxOihlLHQsbik9Pnt2YXIgcj0vXlxzK3xccyskL2csbz0vXlstK10weFswLTlhLWZdKyQvaSxpPS9eMGJbMDFdKyQvaSxhPS9eMG9bMC03XSskL2kscz1wYXJzZUludCxjPSJvYmplY3QiPT10eXBlb2Ygbi5nJiZuLmcmJm4uZy5PYmplY3Q9PT1PYmplY3QmJm4uZyx1PSJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbD1jfHx1fHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpLHA9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxkPU1hdGgubWF4LGg9TWF0aC5taW4sZj1mdW5jdGlvbigpe3JldHVybiBsLkRhdGUubm93KCl9O2Z1bmN0aW9uIGcoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoIm9iamVjdCI9PXR8fCJmdW5jdGlvbiI9PXQpfWZ1bmN0aW9uIG0oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZXx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYib2JqZWN0Ij09dHlwZW9mIGV9KGUpJiYiW29iamVjdCBTeW1ib2xdIj09cC5jYWxsKGUpfShlKSlyZXR1cm4gTmFOO2lmKGcoZSkpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPWcodCk/dCsiIjp0fWlmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShyLCIiKTt2YXIgbj1pLnRlc3QoZSk7cmV0dXJuIG58fGEudGVzdChlKT9zKGUuc2xpY2UoMiksbj8yOjgpOm8udGVzdChlKT9OYU46K2V9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSxzLGMsdT0wLGw9ITEscD0hMSx2PSEwO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIkV4cGVjdGVkIGEgZnVuY3Rpb24iKTtmdW5jdGlvbiB5KHQpe3ZhciBuPXIsaT1vO3JldHVybiByPW89dm9pZCAwLHU9dCxhPWUuYXBwbHkoaSxuKX1mdW5jdGlvbiBiKGUpe3ZhciBuPWUtYztyZXR1cm4gdm9pZCAwPT09Y3x8bj49dHx8bjwwfHxwJiZlLXU+PWl9ZnVuY3Rpb24gUygpe3ZhciBlPWYoKTtpZihiKGUpKXJldHVybiBFKGUpO3M9c2V0VGltZW91dChTLGZ1bmN0aW9uKGUpe3ZhciBuPXQtKGUtYyk7cmV0dXJuIHA/aChuLGktKGUtdSkpOm59KGUpKX1mdW5jdGlvbiBFKGUpe3JldHVybiBzPXZvaWQgMCx2JiZyP3koZSk6KHI9bz12b2lkIDAsYSl9ZnVuY3Rpb24gQygpe3ZhciBlPWYoKSxuPWIoZSk7aWYocj1hcmd1bWVudHMsbz10aGlzLGM9ZSxuKXtpZih2b2lkIDA9PT1zKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdT1lLHM9c2V0VGltZW91dChTLHQpLGw/eShlKTphfShjKTtpZihwKXJldHVybiBzPXNldFRpbWVvdXQoUyx0KSx5KGMpfXJldHVybiB2b2lkIDA9PT1zJiYocz1zZXRUaW1lb3V0KFMsdCkpLGF9cmV0dXJuIHQ9bSh0KXx8MCxnKG4pJiYobD0hIW4ubGVhZGluZyxpPShwPSJtYXhXYWl0ImluIG4pP2QobShuLm1heFdhaXQpfHwwLHQpOmksdj0idHJhaWxpbmciaW4gbj8hIW4udHJhaWxpbmc6diksQy5jYW5jZWw9ZnVuY3Rpb24oKXt2b2lkIDAhPT1zJiZjbGVhclRpbWVvdXQocyksdT0wLHI9Yz1vPXM9dm9pZCAwfSxDLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXM/YTpFKGYoKSl9LEN9fX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmFtZE89e30sbi5uPWU9Pnt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gbi5kKHQse2E6dH0pLHR9LG4uZD0oZSx0KT0+e2Zvcih2YXIgciBpbiB0KW4ubyh0LHIpJiYhbi5vKGUscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITAsZ2V0OnRbcl19KX0sbi5nPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2goZSl7aWYoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+eyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LG4oMTY3KSxuKDI1NCksbigzNDQpLG4oMTQ0KSxuKDYwKSxuKDY4Miksbig0MzEpLG4oNTU1KSxuKDgzMCksbig0MTQpLG4oNjEwKSxuKDk1KSxuKDM5OSksbig5MDYpLG4oODA2KSxuKDM1NCksbigxNDIpLG4oODg0KSxuKDM5MCksbigyNjkpLG4oODI1KSxuKDk2MSksbig5NDkpfSkoKTs="),d=function(l){this.id=l.region,l.region=this._normalizeRegionString(l.region),this.height=l.height,this.style=l.iframe_style,this.ccp=this._createFramedCcp(l)};d.prototype._createFramedCcp=function(l){var Z=Z||"microphone; autoplay; clipboard-write",b=this.style||"margin: 0; border: 0; padding: 0px; width: 0px; height: 0px",d=document.createElement("iframe");return d.srcdoc=this.getContent(l),d.allow=Z,d.id=this.id,d.style=b,d.scrolling="no",d},d.prototype.getContent=function(l){return["<!DOCTYPE html>","<meta charset='UTF-8'>","<html>","<head>","<script type='text/javascript'>",b,"<\/script>","<style>","html, body, iframe { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}","</style>","</head>","<body>","<div id=containerDiv style='width: 100%;height: 100%;'></div>","<script type='text/javascript'>","function init() {","connect.core.initCCP(containerDiv,"+JSON.stringify(l)+");","}","<\/script>","</body>","</html>"].join("")},d.prototype._normalizeRegionString=function(l){const Z=l.indexOf(".");return-1===Z?l:l.substring(0,Z)},globalConnect.Container=d}()},96:()=>{!function(){var l=this||globalThis,Z=l.connect||{},b=l.globalConnect||{};l.connect=Z,l.globalConnect=b,l.lily=Z,b.core={};var d="globalCCP",m="465px";b.extractCcpRegionParams=function(l,b){Z.assertNotNull(b.standByRegion,"ccpBackupResource"),Z.assertNotNull(b.standByRegion.ccpUrl,"ccpUrl"),Z.assertNotNull(b.standByRegion.region,"region"),b.pollForFailover&&(Z.assertNotNull(b.loginUrl,"loginUrl"),Z.assertNotNull(b.instanceArn,"primary ARN"),b.otherArn=Z.assertNotNull(b.standByRegion.instanceArn,"backup ARN"));var d=b,W=Object.assign({},b,{ccpUrl:b.standByRegion.ccpUrl,region:b.standByRegion.region,instanceArn:b.standByRegion.instanceArn,otherArn:b.instanceArn,loginPopup:!1}),G=c(l);return parseInt(G.height)<=0&&(l.style.height=m,G.height=m),[d,W].map((function(l){return Z.assertNotNull(l.ccpUrl,"ccpUrl"),Z.assertNotNull(l.region,"region"),delete l.standByRegion,l.disasterRecoveryOn=!0,l.iframe_style="margin: 0; border: 0; padding:0px;width: 0px;height: 0px",l.height=G.height,l}))};var c=function(l){var Z=window.getComputedStyle(l);return{height:Z.getPropertyValue("height"),width:Z.getPropertyValue("width"),display:Z.getPropertyValue("display")}},W=function(l,d){if(Z.assertTrue("string"==typeof l,"Region provided "+l+" is not a valid string"),!(d||b.core.regions).hasOwnProperty(l)){var m="Region provided "+l+" is not found!";throw new Z.ValueError(m)}};b.core.initCCP=function(l,m){Z.assertNotNull(m.getPrimaryRegion,"getPrimaryRegion"),Z.assertTrue(Z.isFunction(m.getPrimaryRegion),"getPrimaryRegion must be a function");var c=m.getPrimaryRegion;delete m.getPrimaryRegion,delete m.provider,delete m.plugins;var u=b.extractCcpRegionParams(l,m);c((function(c){return new Promise((R=>{var p;p=m.pollForFailover?c||m.region:Z.assertNotNull(c),b.core.regions=u.reduce((function(l,Z){return l[Z.region]={ccpParams:Z},l}),{});var Y=u.reduce((function(l,Z){return l[Z.instanceArn]=Z.region,l}),{});W(p,b.core.regions),b.core.primaryRegion=p,b.core.secondaryRegion=Object.keys(b.core.regions).find((function(l){return l!=b.core.primaryRegion}));var i=u.map((function(l){return l.region===b.core.primaryRegion&&(l.isPrimary=!0),new b.Container(l)})),y=i.map((function(l){return l.ccp.outerHTML})),h=document.createElement("iframe");h.style="margin: 0; border: 0; padding:0px;width: 100%;height: 100%",h.allow="microphone; camera; autoplay; clipboard-write; identity-credentials-get",h.id=d,h.scrolling="no",h.onload=function(){V(b.core.primaryRegion),X(b.core.secondaryRegion),i.map((function(l){var Z=h.contentDocument.getElementById(l.id),d=Z.contentDocument,c=Z.contentWindow;m.additionalScripts&&Array.isArray(m.additionalScripts)&&m.additionalScripts.forEach((l=>{var Z=d.createElement("script");Z.src=l,d.body.appendChild(Z)})),c.init();var W=c.connect;b.core.regions[l.id].connect=W,W.core.getUpstream().onUpstream(W.DisasterRecoveryEvents.FAILOVER,(function(Z){if(Z.nextActiveArn&&b.core.secondaryRegion===Y[Z.nextActiveArn])G(Y[Z.nextActiveArn],b.core.primaryRegion);else{if(!1!==Z.isPrimary||l.id!==b.core.primaryRegion)return;G(b.core.secondaryRegion,l.id)}delete b._failoverPending,b._triggerFailoverCompleteHandlers({activeRegion:b.core.primaryRegion,activeCcpUrl:b.core.regions[b.core.primaryRegion].ccpParams.ccpUrl})})),W.core.getUpstream().onUpstream(W.DisasterRecoveryEvents.FAILOVER_PENDING,(function({nextActiveArn:l}){b._failoverPending||(b._triggerFailoverPendingHandlers({nextActiveArn:l}),b._failoverPending=!0)})),l.id===b.core.primaryRegion&&(window.connect=W),b._triggerInitHandlers(W,l.id)})),R(b.core.regions[b.core.primaryRegion].connect)},h.srcdoc=["<!DOCTYPE html>","<meta charset='UTF-8'>","<html>","<head>","<style>","html, body { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}","</style>","</head>","<body>",y.join(""),"</body>","</html>"].join(""),l.appendChild(h)}))}),(function(l){console.error("[Disaster Recovery] An error occured, while attempting to retrieve your primary region;"),l()}))};var G=function(l,Z){b.core.primaryRegion=l,b.core.secondaryRegion=Z,window.connect=b.core.regions[l].connect,b.core.activate(l),V(l),X(Z)},X=function(l){document.getElementById(d).contentDocument.getElementById(l).style="height: 0; width: 0; border: 0px"},V=function(l){document.getElementById(d).contentDocument.getElementById(l).style="height:100%;width:100%;border:0px"};b.core.onInit=function(l){b.core._onInitHandlers=b.core._onInitHandlers||{};const d=Z.randomId();return b.core._onInitHandlers[d]=l,()=>delete b.core._onInitHandlers[d]},b._triggerInitHandlers=function(l,Z){const d=b.core._onInitHandlers;d&&Object.values(d).forEach((b=>b(l,Z)))},b.core.onFailoverComplete=function(l){b.core._failoverCompleteHandlers=b.core._failoverCompleteHandlers||{};const d=Z.randomId();return b.core._failoverCompleteHandlers[d]=l,()=>delete b.core._failoverCompleteHandlers[d]},b._triggerFailoverCompleteHandlers=function(l){const Z=b.core._failoverCompleteHandlers;Z&&Object.values(Z).forEach((Z=>Z(l)))},b.core.onFailoverPending=function(l){b.core._failoverPendingHandlers=b.core._failoverPendingHandlers||{};const d=Z.randomId();return b.core._failoverPendingHandlers[d]=l,()=>delete b.core._failoverPendingHandlers[d]},b._triggerFailoverPendingHandlers=function(l){const Z=b.core._failoverPendingHandlers;Z&&Object.values(Z).forEach((Z=>Z(l)))},b.core.downloadLogs=function(l){if(!(b.core.regions&&b.core.regions[b.core.primaryRegion]&&b.core.regions[b.core.primaryRegion].connect))throw new Error("CCP is not initialized yet. Please call initCCP() first and wait until the getPrimaryRegion promise resolves.");Object.entries(b.core.regions).forEach((([Z,{connect:b}])=>{const d=`${Z}-${l&&l.logName||"agent-log"}`;b.getLog().download({logName:d,filterByLogLevel:l&&l.filterByLogLevel})}))},b.core.failover=function(l){b.core.failoverTo(b.core.secondaryRegion,l)},b.core.failoverTo=function(l,d){W(l),l===b.core.primaryRegion?Z.getLog().info(`[Disaster Recovery] Ignoring request to fail over to region ${l} since it is already the currently active region.`).sendInternalLogToServer():b.core.deactivate(b.core.primaryRegion,d)},b.core.deactivate=function(l,Z){var d=b.core.regions[l].connect;d.getLog().info("[Disaster Recovery] Deactivating %s region.",l).sendInternalLogToServer(),d.core.suppressContacts&&d.core.forceOffline?(d.core.suppressContacts(!0),d.core.forceOffline({softFailover:Z})):d.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to deactivate region",l)},b.core.activate=function(l){var Z=b.core.regions[l].connect;Z.getLog().info("[Disaster Recovery] Activating %s region.",l).sendInternalLogToServer(),Z.core.suppressContacts?Z.core.suppressContacts(!1):Z.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to activate region",l)}}()},236:function(){!function(){function l(l,Z){var b=(65535&l)+(65535&Z);return(l>>16)+(Z>>16)+(b>>16)<<16|65535&b}function Z(Z,b,d,m,c,W){return l((G=l(l(b,Z),l(m,W)))<<(X=c)|G>>>32-X,d);var G,X}function b(l,b,d,m,c,W,G){return Z(b&d|~b&m,l,b,c,W,G)}function d(l,b,d,m,c,W,G){return Z(b&m|d&~m,l,b,c,W,G)}function m(l,b,d,m,c,W,G){return Z(b^d^m,l,b,c,W,G)}function c(l,b,d,m,c,W,G){return Z(d^(b|~m),l,b,c,W,G)}function W(Z,W){var G,X,V,u,R;Z[W>>5]|=128<<W%32,Z[14+(W+64>>>9<<4)]=W;var p=1732584193,Y=-271733879,i=-1732584194,y=271733878;for(G=0;G<Z.length;G+=16)X=p,V=Y,u=i,R=y,p=b(p,Y,i,y,Z[G],7,-680876936),y=b(y,p,Y,i,Z[G+1],12,-389564586),i=b(i,y,p,Y,Z[G+2],17,606105819),Y=b(Y,i,y,p,Z[G+3],22,-1044525330),p=b(p,Y,i,y,Z[G+4],7,-176418897),y=b(y,p,Y,i,Z[G+5],12,1200080426),i=b(i,y,p,Y,Z[G+6],17,-1473231341),Y=b(Y,i,y,p,Z[G+7],22,-45705983),p=b(p,Y,i,y,Z[G+8],7,1770035416),y=b(y,p,Y,i,Z[G+9],12,-1958414417),i=b(i,y,p,Y,Z[G+10],17,-42063),Y=b(Y,i,y,p,Z[G+11],22,-1990404162),p=b(p,Y,i,y,Z[G+12],7,1804603682),y=b(y,p,Y,i,Z[G+13],12,-40341101),i=b(i,y,p,Y,Z[G+14],17,-1502002290),p=d(p,Y=b(Y,i,y,p,Z[G+15],22,1236535329),i,y,Z[G+1],5,-165796510),y=d(y,p,Y,i,Z[G+6],9,-1069501632),i=d(i,y,p,Y,Z[G+11],14,643717713),Y=d(Y,i,y,p,Z[G],20,-373897302),p=d(p,Y,i,y,Z[G+5],5,-701558691),y=d(y,p,Y,i,Z[G+10],9,38016083),i=d(i,y,p,Y,Z[G+15],14,-660478335),Y=d(Y,i,y,p,Z[G+4],20,-405537848),p=d(p,Y,i,y,Z[G+9],5,568446438),y=d(y,p,Y,i,Z[G+14],9,-1019803690),i=d(i,y,p,Y,Z[G+3],14,-187363961),Y=d(Y,i,y,p,Z[G+8],20,1163531501),p=d(p,Y,i,y,Z[G+13],5,-1444681467),y=d(y,p,Y,i,Z[G+2],9,-51403784),i=d(i,y,p,Y,Z[G+7],14,1735328473),p=m(p,Y=d(Y,i,y,p,Z[G+12],20,-1926607734),i,y,Z[G+5],4,-378558),y=m(y,p,Y,i,Z[G+8],11,-2022574463),i=m(i,y,p,Y,Z[G+11],16,1839030562),Y=m(Y,i,y,p,Z[G+14],23,-35309556),p=m(p,Y,i,y,Z[G+1],4,-1530992060),y=m(y,p,Y,i,Z[G+4],11,1272893353),i=m(i,y,p,Y,Z[G+7],16,-155497632),Y=m(Y,i,y,p,Z[G+10],23,-1094730640),p=m(p,Y,i,y,Z[G+13],4,681279174),y=m(y,p,Y,i,Z[G],11,-358537222),i=m(i,y,p,Y,Z[G+3],16,-722521979),Y=m(Y,i,y,p,Z[G+6],23,76029189),p=m(p,Y,i,y,Z[G+9],4,-640364487),y=m(y,p,Y,i,Z[G+12],11,-421815835),i=m(i,y,p,Y,Z[G+15],16,530742520),p=c(p,Y=m(Y,i,y,p,Z[G+2],23,-995338651),i,y,Z[G],6,-198630844),y=c(y,p,Y,i,Z[G+7],10,1126891415),i=c(i,y,p,Y,Z[G+14],15,-1416354905),Y=c(Y,i,y,p,Z[G+5],21,-57434055),p=c(p,Y,i,y,Z[G+12],6,1700485571),y=c(y,p,Y,i,Z[G+3],10,-1894986606),i=c(i,y,p,Y,Z[G+10],15,-1051523),Y=c(Y,i,y,p,Z[G+1],21,-2054922799),p=c(p,Y,i,y,Z[G+8],6,1873313359),y=c(y,p,Y,i,Z[G+15],10,-30611744),i=c(i,y,p,Y,Z[G+6],15,-1560198380),Y=c(Y,i,y,p,Z[G+13],21,1309151649),p=c(p,Y,i,y,Z[G+4],6,-145523070),y=c(y,p,Y,i,Z[G+11],10,-1120210379),i=c(i,y,p,Y,Z[G+2],15,718787259),Y=c(Y,i,y,p,Z[G+9],21,-343485551),p=l(p,X),Y=l(Y,V),i=l(i,u),y=l(y,R);return[p,Y,i,y]}function G(l){var Z,b="",d=32*l.length;for(Z=0;Z<d;Z+=8)b+=String.fromCharCode(l[Z>>5]>>>Z%32&255);return b}function X(l){var Z,b=[];for(b[(l.length>>2)-1]=void 0,Z=0;Z<b.length;Z+=1)b[Z]=0;var d=8*l.length;for(Z=0;Z<d;Z+=8)b[Z>>5]|=(255&l.charCodeAt(Z/8))<<Z%32;return b}function V(l){var Z,b,d="0123456789abcdef",m="";for(b=0;b<l.length;b+=1)Z=l.charCodeAt(b),m+=d.charAt(Z>>>4&15)+d.charAt(15&Z);return m}function u(l){return unescape(encodeURIComponent(l))}function R(l){return function(l){return G(W(X(l),8*l.length))}(u(l))}function p(l,Z){return function(l,Z){var b,d,m=X(l),c=[],V=[];for(c[15]=V[15]=void 0,m.length>16&&(m=W(m,8*l.length)),b=0;b<16;b+=1)c[b]=909522486^m[b],V[b]=1549556828^m[b];return d=W(c.concat(X(Z)),512+8*Z.length),G(W(V.concat(d),640))}(u(l),u(Z))}(this||globalThis).md5=function(l,Z,b){return Z?b?p(Z,l):V(p(Z,l)):b?R(l):V(R(l))}}()},790:()=>{!function(){var l=this||globalThis,Z=function(){return Z.cache.hasOwnProperty(arguments[0])||(Z.cache[arguments[0]]=Z.parse(arguments[0])),Z.format.call(null,Z.cache[arguments[0]],arguments)};function b(l){return Object.prototype.toString.call(l).slice(8,-1).toLowerCase()}function d(l,Z){for(var b=[];Z>0;b[--Z]=l);return b.join("")}Z.format=function(l,m){var c,W,G,X,V,u,R,p=1,Y=l.length,i="",y=[];for(W=0;W<Y;W++)if("string"===(i=b(l[W])))y.push(l[W]);else if("array"===i){if((X=l[W])[2])for(c=m[p],G=0;G<X[2].length;G++){if(!c.hasOwnProperty(X[2][G]))throw Z('[sprintf] property "%s" does not exist',X[2][G]);c=c[X[2][G]]}else c=X[1]?m[X[1]]:m[p++];if(/[^s]/.test(X[8])&&"number"!=b(c))throw Z("[sprintf] expecting number but found %s",b(c));switch(X[8]){case"b":c=c.toString(2);break;case"c":c=String.fromCharCode(c);break;case"d":c=parseInt(c,10);break;case"e":c=X[7]?c.toExponential(X[7]):c.toExponential();break;case"f":c=X[7]?parseFloat(c).toFixed(X[7]):parseFloat(c);break;case"o":c=c.toString(8);break;case"s":c=(c=String(c))&&X[7]?c.substring(0,X[7]):c;break;case"u":c>>>=0;break;case"x":c=c.toString(16);break;case"X":c=c.toString(16).toUpperCase()}c=/[def]/.test(X[8])&&X[3]&&c>=0?"+"+c:c,u=X[4]?"0"==X[4]?"0":X[4].charAt(1):" ",R=X[6]-String(c).length,V=X[6]?d(u,R):"",y.push(X[5]?c+V:V+c)}return y.join("")},Z.cache={},Z.parse=function(l){for(var Z=l,b=[],d=[],m=0;Z;){if(null!==(b=/^[^\x25]+/.exec(Z)))d.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(Z)))d.push("%");else{if(null===(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(Z)))throw"[sprintf] huh?";if(b[2]){m|=1;var c=[],W=b[2],G=[];if(null===(G=/^([a-z_][a-z_\d]*)/i.exec(W)))throw"[sprintf] huh?";for(c.push(G[1]);""!==(W=W.substring(G[0].length));)if(null!==(G=/^\.([a-z_][a-z_\d]*)/i.exec(W)))c.push(G[1]);else{if(null===(G=/^\[(\d+)\]/.exec(W)))throw"[sprintf] huh?";c.push(G[1])}b[2]=c}else m|=2;if(3===m)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(b)}Z=Z.substring(b[0].length)}return d},l.sprintf=Z,l.vsprintf=function(l,b,d){return(d=b.slice(0)).splice(0,0,l),Z.apply(null,d)}}()},94:()=>{!function(){var l=this||globalThis,Z=l.connect||{};l.connect=Z,l.lily=Z;var b=navigator.userAgent,d=["bubbles","cancelBubble","cancelable","composed","data","defaultPrevented","eventPhase","isTrusted","lastEventId","origin","returnValue","timeStamp","type"];Z.sprintf=l.sprintf,Z.vsprintf=l.vsprintf,delete l.sprintf,delete l.vsprintf,Z.HTTP_STATUS_CODES={SUCCESS:200,UNAUTHORIZED:401,ACCESS_DENIED:403,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500},Z.TRANSPORT_TYPES={CHAT_TOKEN:"chat_token",WEB_SOCKET:"web_socket",AGENT_DISCOVERY:"agent_discovery",WEB_RTC:"web_rtc"},Z.hitch=function(){var l=Array.prototype.slice.call(arguments),b=l.shift(),d=l.shift();return Z.assertNotNull(b,"scope"),Z.assertNotNull(d,"method"),Z.assertTrue(Z.isFunction(d),"method must be a function"),function(){var Z=Array.prototype.slice.call(arguments);return d.apply(b,l.concat(Z))}},Z.isFunction=function(l){return!!(l&&l.constructor&&l.call&&l.apply)},Z.isArray=function(l){return"[object Array]"===Object.prototype.toString.call(l)},Z.keys=function(l){var b=[];for(var d in Z.assertNotNull(l,"map"),l)b.push(d);return b},Z.values=function(l){var b=[];for(var d in Z.assertNotNull(l,"map"),l)b.push(l[d]);return b},Z.entries=function(l){var Z=[];for(var b in l)Z.push({key:b,value:l[b]});return Z},Z.merge=function(){var l=Array.prototype.slice.call(arguments,0),b={};return l.forEach((function(l){Z.entries(l).forEach((function(l){b[l.key]=l.value}))})),b},Z.now=function(){return(new Date).getTime()},Z.find=function(l,Z){for(var b=0;b<l.length;b++)if(Z(l[b]))return l[b];return null},Z.contains=function(l,b){return l instanceof Array?null!=Z.find(l,(function(l){return l===b})):b in l},Z.containsValue=function(l,b){return l instanceof Array?null!=Z.find(l,(function(l){return l===b})):null!=Z.find(Z.values(l),(function(l){return l===b}))},Z.randomId=function(){return Z.sprintf("%s-%s",Z.now(),Math.random().toString(36).slice(2))},Z.makeEnum=function(l){var Z={};return l.forEach((function(l){var b=l.replace(/\.?([a-z]+)_?/g,(function(l,Z){return Z.toUpperCase()+"_"})).replace(/_$/,"");Z[b]=l})),Z},Z.makeNamespacedEnum=function(l,b){var d=Z.makeEnum(b);return Z.keys(d).forEach((function(b){d[b]=Z.sprintf("%s::%s",l,d[b])})),d},Z.makeGenericNamespacedEnum=function(l,b,d){var m=Z.makeEnum(b);return Z.keys(m).forEach((function(b){m[b]=Z.sprintf("%s"+d+"%s",l,m[b])})),m},Z.isChromeBrowser=function(){return-1!==b.indexOf("Chrome")},Z.isFirefoxBrowser=function(){return-1!==b.indexOf("Firefox")},Z.isOperaBrowser=function(){return-1!==b.indexOf("Opera")},Z.isEdgeBrowser=function(){return-1!==b.indexOf("Edg")},Z.getChromeBrowserVersion=function(){var l=b.substring(b.indexOf("Chrome")+7);return l?parseFloat(l):-1},Z.getFirefoxBrowserVersion=function(){var l=b.substring(b.indexOf("Firefox")+8);return l?parseFloat(l):-1},Z.isValidLocale=function(l){return[{id:"en_US",label:"English"},{id:"de_DE",label:"Deutsch"},{id:"es_ES",label:"Espaol"},{id:"fr_FR",label:"Franais"},{id:"ja_JP",label:""},{id:"it_IT",label:"Italiano"},{id:"ko_KR",label:""},{id:"pt_BR",label:"Portugus"},{id:"zh_CN",label:"()"},{id:"zh_TW",label:"()"}].map((function(l){return l.id})).includes(l)},Z.getOperaBrowserVersion=function(){var l=b.indexOf("Opera"),Z=-1!==b.indexOf("Version")?b.substring(l+8):b.substring(l+6);return Z?parseFloat(Z):-1},Z.index=function(l,Z){var b={};return l.forEach((function(l){b[Z(l)]=l})),b},Z.set=function(l){var Z={};return l.forEach((function(l){Z[l]=1})),Z},Z.relativeComplement=function(l,b){var d={};return Z.keys(b).forEach((function(Z){Z in l||(d[Z]=b[Z])})),d},Z.assertTrue=function(l,b){if(!l)throw new Z.ValueError(b)},Z.assertNotNull=function(l,b){return Z.assertTrue(null!=l&&void 0!==typeof l,Z.sprintf("%s must be provided",b||"A value")),l},Z.deepcopy=function(l){return JSON.parse(JSON.stringify(l))},Z.deepcopyCrossOriginEvent=function(l){const b={};return d.forEach((d=>{try{b[d]=l[d]}catch(l){Z.getLog().info("deepcopyCrossOriginEvent failed on key: ",d).sendInternalLogToServer()}})),Z.deepcopy(b)},Z.getBaseUrl=function(){var b=l.location;return Z.sprintf("%s//%s:%s",b.protocol,b.hostname,b.port)},Z.getUrlWithProtocol=function(b){var d=l.location.protocol;return b.substr(0,d.length)!==d?Z.sprintf("%s//%s",d,b):b},Z.isFramed=function(){try{return window.self!==window.top}catch(l){return!0}},Z.hasOtherConnectedCCPs=function(){return Z.numberOfConnectedCCPs>1},Z.fetch=function(l,b,d,m){return m=m||5,d=d||1e3,b=b||{},new Promise((function(c,W){!function m(G){fetch(l,b).then((function(l){l.status===Z.HTTP_STATUS_CODES.SUCCESS?l.json().then((l=>c(l))).catch((()=>c({}))):1!==G&&(l.status>=Z.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR||l.status===Z.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)?setTimeout((function(){m(--G)}),d):W(l)})).catch((function(l){W(l)}))}(m)}))},Z.fetchWithTimeout=async function(l,b,d,m,c){if(d=d||{},!b)return Z.fetch(l,d,m,c);const W=new AbortController,G=setTimeout((()=>W.abort()),b),X=await Z.fetch(l,{...d,signal:W.signal},m,c);return clearTimeout(G),X},Z.backoff=function(b,d,m,c){Z.assertTrue(Z.isFunction(b),"func must be a Function");var W=this;b({success:function(l){c&&c.success&&c.success(l)},failure:function(Z,G){if(m>0){var X=2*d*Math.random();l.setTimeout((function(){W.backoff(b,2*X,--m,c)}),X)}else c&&c.failure&&c.failure(Z,G)}})},Z.publishMetric=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.CLIENT_METRIC,data:l})},Z.publishSoftphoneStats=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.SOFTPHONE_STATS,data:l})},Z.publishSoftphoneReport=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.SOFTPHONE_REPORT,data:l})},Z.publishClickStreamData=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.CLICK_STREAM_DATA,data:l})},Z.publishClientSideLogs=function(l){Z.core.getEventBus().trigger(Z.EventType.CLIENT_SIDE_LOGS,l)},Z.addNamespaceToLogs=function(l){["log","error","warn","info","debug"].forEach((Z=>{const b=window.console[Z];window.console[Z]=function(){const Z=Array.from(arguments);Z.unshift(`[${l}]`),b.apply(window.console,Z)}}))},Z.PopupManager=function(){this.windows={},this.windowUrls={}},Z.PopupManager.prototype.open=function(l,b,d){var m="";if(d){var c=d.height||578;m="width="+(d.width||433)+", height="+c+", top="+(d.top||0)+", left="+(d.left||0)}var W=this.windows[b],G=this.windowUrls[b];if(W)try{if(W.closed)delete this.windows[b],delete this.windowUrls[b];else if(G===l){try{W.focus()}catch(l){}return Z.getLog().info("[PopupManager] Reusing existing popup window").sendInternalLogToServer(),W}}catch(l){delete this.windows[b],delete this.windowUrls[b]}var X=window.open(l,b,m);if(X)try{X.closed||(this.windows[b]=X,this.windowUrls[b]=l,Z.getLog().info("[PopupManager] Opened popup window").withObject({url:l,name:b}).sendInternalLogToServer())}catch(l){}return X},Z.PopupManager.prototype.clear=function(Z){delete this.windows[Z],delete this.windowUrls[Z];var b=this._getLocalStorageKey(Z);l.localStorage.removeItem(b)},Z.PopupManager.prototype._getLastOpenedTimestamp=function(Z){var b=this._getLocalStorageKey(Z),d=l.localStorage.getItem(b);return d?parseInt(d,10):0},Z.PopupManager.prototype._setLastOpenedTimestamp=function(Z,b){var d=this._getLocalStorageKey(Z);l.localStorage.setItem(d,""+b)},Z.PopupManager.prototype._getLocalStorageKey=function(l){return"connectPopupManager::"+l};var m=Z.makeEnum(["granted","denied","default"]);Z.NotificationManager=function(){this.queue=[],this.permission=m.DEFAULT},Z.NotificationManager.prototype.requestPermission=function(){var b=this;"Notification"in l?l.Notification.permission===m.DENIED?(Z.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer(),this.permission=m.DENIED):this.permission!==m.GRANTED&&l.Notification.requestPermission().then((function(l){b.permission=l,l===m.GRANTED?b._showQueued():b.queue=[]})):(Z.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer(),this.permission=m.DENIED)},Z.NotificationManager.prototype.show=function(l,b){if(this.permission===m.GRANTED)return this._showImpl({title:l,options:b});if(this.permission===m.DENIED)Z.getLog().warn("Unable to show notification.").sendInternalLogToServer().withObject({title:l,options:b});else{var d={title:l,options:b};Z.getLog().warn("Deferring notification until user decides to allow or deny.").withObject(d).sendInternalLogToServer(),this.queue.push(d)}},Z.NotificationManager.prototype._showQueued=function(){var l=this,Z=this.queue.map((function(Z){return l._showImpl(Z)}));return this.queue=[],Z},Z.NotificationManager.prototype._showImpl=function(Z){var b=new l.Notification(Z.title,Z.options);return Z.options.clicked&&(b.onclick=function(){Z.options.clicked.call(b)}),b},Z.ValueError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.ValueError.prototype),d},Object.setPrototypeOf(Z.ValueError.prototype,Error.prototype),Object.setPrototypeOf(Z.ValueError,Error),Z.ValueError.prototype.name="ValueError",Z.NotImplementedError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.NotImplementedError.prototype),d},Object.setPrototypeOf(Z.NotImplementedError.prototype,Error.prototype),Object.setPrototypeOf(Z.NotImplementedError,Error),Z.NotImplementedError.prototype.name="NotImplementedError",Z.StateError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.StateError.prototype),d},Object.setPrototypeOf(Z.StateError.prototype,Error.prototype),Object.setPrototypeOf(Z.StateError,Error),Z.StateError.prototype.name="StateError",Z.VoiceIdError=function(l,Z,b){var d={};return d.type=l,d.message=Z,d.stack=Error(Z).stack,d.err=b,d},Z.isCCP=function(){return!!Z.core.upstream&&"ConnectSharedWorkerConduit"===Z.core.getUpstream().name},Z.isSharedWorker=function(){return Z.worker&&!!Z.worker.clientEngine},Z.isCRM=function(){return!!Z.core.upstream&&(Z.core.getUpstream()instanceof Z.IFrameConduit||Z.core.getUpstream()instanceof Z.GRProxyIframeConduit)},Z.isActiveConduit=function(l){const b=Z.core.getUpstream();return b instanceof Z.GRProxyIframeConduit?l.name===b.activeRegionUrl:(Z.getLog().debug("connect.isActiveConduit is called but there is no GR proxy conduit").sendInternalLogToServer(),!0)}}()}})[790](),l[236](),l[94](),l[296](),l[96]()})();