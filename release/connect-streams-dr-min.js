(()=>{var l;(l={296:()=>{!function(){var l=this||globalThis,Z=l.connect||{};l.connect=Z,l.globalConnect={},l.lily=Z,globalConnect.Container=null;var b=window.atob("KCgpPT57dmFyIGU9ezU3ODooZSx0LG4pPT57InVzZSBzdHJpY3QiO24ucih0KSxuLmQodCx7QWN0aXZpdHlSb3V0ZXM6KCk9Pm8sQWN0aXZpdHlUb3BpY0tleXM6KCk9PmYsU2Vzc2lvbkV4cGlyYXRpb25XYXJuaW5nQ2xpZW50OigpPT5nLGFjdGl2aXR5TmFtZXNwYWNlOigpPT5yLHNlbmRBY3Rpdml0eTooKT0+aH0pO2NvbnN0IHI9ImF3cy5jb25uZWN0LmFjdGl2aXR5Ijt2YXIgbzshZnVuY3Rpb24oZSl7ZS5zZW5kQWN0aXZpdHk9InNlbmRBY3Rpdml0eSJ9KG98fChvPXt9KSk7dmFyIGk9bigyMzgpLGE9bigxODEpLHM9bi5uKGEpLGM9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NvbnN0IHU9MWUzO2xldCBsLHAsZD0wO2Z1bmN0aW9uIGgoZSl7aWYoIXApe2w9bmV3IGkucGcoe3Byb3ZpZGVyOmUsc291cmNlOnJ9KSxsLmRlYnVnKCJDcmVhdGluZyBhY3Rpdml0eSBjYWxsYmFjay4uIik7Y29uc3QgdD0oKT0+eyFmdW5jdGlvbihlKXtjKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtwcm92aWRlcjplfSl7dHJ5e3lpZWxkIGUuZ2V0UHJveHkoKS5yZXF1ZXN0KHIsby5zZW5kQWN0aXZpdHkpLGQ9MH1jYXRjaChlKXtkPDUmJihsLmVycm9yKCJGYWlsZWQgdG8gcmVjb3JkIGFnZW50IGFjdGl2aXR5Iix7ZXJyb3I6ZSxlcnJvckNvdW50OmR9KSxkKyspfX0pKX0oe3Byb3ZpZGVyOmV9KX07cD1zKCkodCx1LHtsZWFkaW5nOiEwLHRyYWlsaW5nOiExfSl9cCgpfXZhciBmOyFmdW5jdGlvbihlKXtlLmV4cGlyYXRpb25XYXJuaW5nPSJleHBpcmF0aW9uLXdhcm5pbmciLGUuZXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkPSJleHBpcmF0aW9uLXdhcm5pbmctY2xlYXJlZCIsZS5zZXNzaW9uRXh0ZW5zaW9uRXJyb3I9InNlc3Npb24tZXh0ZW5zaW9uLWVycm9yIn0oZnx8KGY9e30pKTtjbGFzcyBnIGV4dGVuZHMgaS5DJHtjb25zdHJ1Y3RvcihlKXtzdXBlcihyLGUpfW9uRXhwaXJhdGlvbldhcm5pbmcoZSl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmYuZXhwaXJhdGlvbldhcm5pbmd9LGUpfW9mZkV4cGlyYXRpb25XYXJuaW5nKGUpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmYuZXhwaXJhdGlvbldhcm5pbmd9LGUpfW9uRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpmLmV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZH0sZSl9b2ZmRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmYuZXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkfSxlKX1vblNlc3Npb25FeHRlbnNpb25FcnJvcihlKXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6Zi5zZXNzaW9uRXh0ZW5zaW9uRXJyb3J9LGUpfW9mZlNlc3Npb25FeHRlbnNpb25FcnJvcihlKXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpmLnNlc3Npb25FeHRlbnNpb25FcnJvcn0sZSl9fX0sNzkxOihlLHQsbik9PnsidXNlIHN0cmljdCI7bi5yKHQpLG4uZCh0LHtBZ2VudENsaWVudDooKT0+cCxBZ2VudFJvdXRlczooKT0+aSxBZ2VudFRvcGljS2V5OigpPT5jLENvbnRhY3RDbGllbnQ6KCk9PmcsQ29udGFjdExpZmVjeWNsZVRvcGljS2V5OigpPT5zLENvbnRhY3RSb3V0ZXM6KCk9PmEsQ29udGFjdFN0YXRlVHlwZTooKT0+ZCxDb250YWN0VG9waWNLZXk6KCk9PnUsUGFydGljaXBhbnRTdGF0ZVR5cGU6KCk9PmgsY29udGFjdE5hbWVzcGFjZTooKT0+b30pO3ZhciByPW4oMjM4KTtjb25zdCBvPSJhd3MuY29ubmVjdC5jb250YWN0Ijt2YXIgaSxhLHMsYyx1OyFmdW5jdGlvbihlKXtlLmdldEFSTj0iYWdlbnQvZ2V0QVJOIixlLmdldE5hbWU9ImFnZW50L2dldE5hbWUiLGUuZ2V0U3RhdGU9ImFnZW50L2dldFN0YXRlIixlLmdldFJvdXRpbmdQcm9maWxlPSJhZ2VudC9nZXRSb3V0aW5nUHJvZmlsZSIsZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ImFnZW50L2dldENoYW5uZWxDb25jdXJyZW5jeSIsZS5nZXRFeHRlbnNpb249ImFnZW50L2dldEV4dGVuc2lvbiIsZS5nZXREaWFsYWJsZUNvdW50cmllcz0iYWdlbnQvZ2V0RGlhbGFibGVDb3VudHJpZXMiLGUuc2V0QXZhaWxhYmlsaXR5U3RhdGU9ImFnZW50L3NldEF2YWlsYWJpbGl0eVN0YXRlIixlLnNldEF2YWlsYWJpbGl0eVN0YXRlQnlOYW1lPSJhZ2VudC9zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZSIsZS5zZXRPZmZsaW5lPSJhZ2VudC9zZXRPZmZsaW5lIixlLmxpc3RBdmFpbGFiaWxpdHlTdGF0ZXM9ImFnZW50L2xpc3RBdmFpbGFiaWxpdHlTdGF0ZXMiLGUubGlzdFF1aWNrQ29ubmVjdHM9ImFnZW50L2xpc3RRdWlja0Nvbm5lY3RzIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLmdldEF0dHJpYnV0ZXM9ImNvbnRhY3QvZ2V0QXR0cmlidXRlcyIsZS5nZXRJbml0aWFsQ29udGFjdElkPSJjb250YWN0L2dldEluaXRpYWxDb250YWN0SWQiLGUuZ2V0VHlwZT0iY29udGFjdC9nZXRUeXBlIixlLmdldFN0YXRlRHVyYXRpb249ImNvbnRhY3QvZ2V0U3RhdGVEdXJhdGlvbiIsZS5nZXRRdWV1ZT0iY29udGFjdC9nZXRRdWV1ZSIsZS5nZXRRdWV1ZVRpbWVzdGFtcD0iY29udGFjdC9nZXRRdWV1ZVRpbWVzdGFtcCIsZS5nZXREZXNjcmlwdGlvbj0iY29udGFjdC9nZXREZXNjcmlwdGlvbiIsZS5nZXRSZWZlcmVuY2VzPSJjb250YWN0L2dldFJlZmVyZW5jZXMiLGUuZ2V0Q2hhbm5lbFR5cGU9ImNvbnRhY3QvZ2V0Q2hhbm5lbFR5cGUiLGUuYWRkUGFydGljaXBhbnQ9ImNvbnRhY3QvYWRkUGFydGljaXBhbnQiLGUudHJhbnNmZXI9ImNvbnRhY3QvdHJhbnNmZXIiLGUuYWNjZXB0PSJjb250YWN0L2FjY2VwdCIsZS5jbGVhcj0iY29udGFjdC9jbGVhciIsZS5pc1ByZXZpZXdNb2RlPSJjb250YWN0L2lzUHJldmlld01vZGUiLGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb249ImNvbnRhY3QvZ2V0UHJldmlld0NvbmZpZ3VyYXRpb24iLGUuZW5nYWdlUHJldmlld0NvbnRhY3Q9ImNvbnRhY3QvZW5nYWdlUHJldmlld0NvbnRhY3QifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhcnRpbmdBQ1c9ImNvbnRhY3QvYWN3IixlLkNvbm5lY3RlZD0iY29udGFjdC9jb25uZWN0ZWQiLGUuRGVzdHJveWVkPSJjb250YWN0L2Rlc3Ryb3kiLGUuTWlzc2VkPSJjb250YWN0L21pc3NlZCIsZS5DbGVhcmVkPSJjb250YWN0L2NsZWFyZWQiLGUuSW5jb21pbmc9ImNvbnRhY3QvaW5jb21pbmcifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhdGVDaGFuZ2VkPSJhZ2VudC9zdGF0ZUNoYW5nZSIsZS5Sb3V0aW5nUHJvZmlsZUNoYW5nZWQ9ImFnZW50L3JvdXRpbmdQcm9maWxlQ2hhbmdlZCIsZS5FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkPSJhZ2VudC9lbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkIn0oY3x8KGM9e30pKSx1fHwodT17fSk7dmFyIGw9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NsYXNzIHAgZXh0ZW5kcyByLnVVe2NvbnN0cnVjdG9yKGUpe3N1cGVyKG8sZSl9Z2V0QVJOKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtBUk46ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXRBUk4pO3JldHVybiBlfSkpfWdldE5hbWUoKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e25hbWU6ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXROYW1lKTtyZXR1cm4gZX0pKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLmdldFN0YXRlKX1nZXRSb3V0aW5nUHJvZmlsZSgpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLmdldFJvdXRpbmdQcm9maWxlKX1nZXRDaGFubmVsQ29uY3VycmVuY3koKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXRDaGFubmVsQ29uY3VycmVuY3kpfWdldEV4dGVuc2lvbigpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7ZXh0ZW5zaW9uOmV9PXlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGkuZ2V0RXh0ZW5zaW9uKTtyZXR1cm4gZX0pKX1nZXREaWFsYWJsZUNvdW50cmllcygpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7ZGlhbGFibGVDb3VudHJpZXM6ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXREaWFsYWJsZUNvdW50cmllcyk7cmV0dXJuIGV9KSl9b25TdGF0ZUNoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmMuU3RhdGVDaGFuZ2VkfSxlKX1vZmZTdGF0ZUNoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnVuc3Vic2NyaWJlKHtrZXk6Yy5TdGF0ZUNoYW5nZWR9LGUpfXNldEF2YWlsYWJpbGl0eVN0YXRlKGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLnNldEF2YWlsYWJpbGl0eVN0YXRlLHthZ2VudFN0YXRlQVJOOmV9KX1zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZShlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZSx7YWdlbnRTdGF0ZU5hbWU6ZX0pfXNldE9mZmxpbmUoKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5zZXRPZmZsaW5lLHt9KX1saXN0QXZhaWxhYmlsaXR5U3RhdGVzKCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGkubGlzdEF2YWlsYWJpbGl0eVN0YXRlcyl9bGlzdFF1aWNrQ29ubmVjdHMoZSx0KXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5saXN0UXVpY2tDb25uZWN0cyx7cXVldWVBUk5zOmUsb3B0aW9uczp0fSl9b25FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkKGUpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpjLkVuYWJsZWRDaGFubmVsTGlzdENoYW5nZWR9LGUpfW9mZkVuYWJsZWRDaGFubmVsTGlzdENoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnVuc3Vic2NyaWJlKHtrZXk6Yy5FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkfSxlKX1vblJvdXRpbmdQcm9maWxlQ2hhbmdlZChlKXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6Yy5Sb3V0aW5nUHJvZmlsZUNoYW5nZWR9LGUpfW9mZlJvdXRpbmdQcm9maWxlQ2hhbmdlZChlKXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpjLlJvdXRpbmdQcm9maWxlQ2hhbmdlZH0sZSl9fXZhciBkLGgsZj1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX07Y2xhc3MgZyBleHRlbmRzIHIudVV7Y29uc3RydWN0b3IoZSl7c3VwZXIobyxlKX1nZXRBdHRyaWJ1dGVzKGUsdCl7Y29uc3Qgbj17Y29udGFjdElkOmUsYXR0cmlidXRlczp0fTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRBdHRyaWJ1dGVzLG4pfWdldEF0dHJpYnV0ZShlLHQpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuZ2V0QXR0cmlidXRlcyhlLFt0XSkpW3RdfSkpfWdldEluaXRpYWxDb250YWN0SWQoZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRJbml0aWFsQ29udGFjdElkLHtjb250YWN0SWQ6ZX0pKS5pbml0aWFsQ29udGFjdElkfSkpfWdldFR5cGUoZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRUeXBlLHtjb250YWN0SWQ6ZX0pKS50eXBlfSkpfWdldFN0YXRlRHVyYXRpb24oZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRTdGF0ZUR1cmF0aW9uLHtjb250YWN0SWQ6ZX0pKS5zdGF0ZUR1cmF0aW9ufSkpfWdldFF1ZXVlKGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmdldFF1ZXVlLHtjb250YWN0SWQ6ZX0pfWdldFF1ZXVlVGltZXN0YW1wKGUpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEuZ2V0UXVldWVUaW1lc3RhbXAse2NvbnRhY3RJZDplfSkpLnF1ZXVlVGltZXN0YW1wfSkpfW9uU3RhcnRpbmdBY3coZSx0KXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6cy5TdGFydGluZ0FDVyxwYXJhbWV0ZXI6dH0sZSl9b25EZXN0cm95ZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6cy5EZXN0cm95ZWQscGFyYW1ldGVyOnR9LGUpfW9uQ29ubmVjdGVkKGUsdCl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OnMuQ29ubmVjdGVkLHBhcmFtZXRlcjp0fSxlKX1vbk1pc3NlZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpzLk1pc3NlZCxwYXJhbWV0ZXI6dH0sZSl9b25JbmNvbWluZyhlLHQpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpzLkluY29taW5nLHBhcmFtZXRlcjp0fSxlKX1vZmZTdGFydGluZ0FjdyhlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OnMuU3RhcnRpbmdBQ1cscGFyYW1ldGVyOnR9LGUpfW9mZkRlc3Ryb3llZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OnMuRGVzdHJveWVkLHBhcmFtZXRlcjp0fSxlKX1vZmZNaXNzZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpzLk1pc3NlZCxwYXJhbWV0ZXI6dH0sZSl9b2ZmSW5jb21pbmcoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpzLkluY29taW5nLHBhcmFtZXRlcjp0fSxlKX1vZmZDb25uZWN0ZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpzLkNvbm5lY3RlZCxwYXJhbWV0ZXI6dH0sZSl9Z2V0Q2hhbm5lbFR5cGUoZSl7cmV0dXJuIGYodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5nZXRDaGFubmVsVHlwZSx7Y29udGFjdElkOmV9KX0pKX1hZGRQYXJ0aWNpcGFudChlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmFkZFBhcnRpY2lwYW50LHtjb250YWN0SWQ6ZSxxdWlja0Nvbm5lY3Q6dH0pfXRyYW5zZmVyKGUsdCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEudHJhbnNmZXIse2NvbnRhY3RJZDplLHF1aWNrQ29ubmVjdDp0fSl9b25DbGVhcmVkKGUsdCl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OnMuQ2xlYXJlZCxwYXJhbWV0ZXI6dH0sZSl9b2ZmQ2xlYXJlZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OnMuQ2xlYXJlZCxwYXJhbWV0ZXI6dH0sZSl9YWNjZXB0KGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmFjY2VwdCx7Y29udGFjdElkOmV9KX1jbGVhcihlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoYS5jbGVhcix7Y29udGFjdElkOmV9KX1pc1ByZXZpZXdNb2RlKGUpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEuaXNQcmV2aWV3TW9kZSx7Y29udGFjdElkOmV9KSkuaXNQcmV2aWV3TW9kZX0pKX1nZXRQcmV2aWV3Q29uZmlndXJhdGlvbihlKXtyZXR1cm4gZih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChhLmdldFByZXZpZXdDb25maWd1cmF0aW9uLHtjb250YWN0SWQ6ZX0pfSkpfWVuZ2FnZVByZXZpZXdDb250YWN0KGUpe3JldHVybiBmKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGEuZW5nYWdlUHJldmlld0NvbnRhY3Qse2NvbnRhY3RJZDplfSl9KSl9fWR8fChkPXt9KSxofHwoaD17fSl9LDIzODooZSx0LG4pPT57InVzZSBzdHJpY3QiO2xldCByO2Z1bmN0aW9uIG8oZSl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKG51bGwhPWU/ZToiQXR0ZW1wdGVkIHRvIGdldCBHbG9iYWwgQW1hem9uQ29ubmVjdFByb3ZpZGVyIHRoYXQgaGFzIG5vdCBiZWVuIHNldC4iKTtyZXR1cm4gcn1uLmQodCx7THQ6KCk9PmssQyQ6KCk9PkQsdVU6KCk9Pk0scGc6KCk9Pk8sYnk6KCk9PlIsTHo6KCk9Pm8seFE6KCk9Pmx9KTtjbGFzcyBpIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3Ioe3JlYXNvbjplLG5hbWVzcGFjZTp0LGVycm9yS2V5Om4sZGV0YWlsczpyfSl7c3VwZXIoYENvbm5lY3RFcnJvciB3aXRoIGVycm9yIGtleSAiJHtufSJgKSx0aGlzLmVycm9yVHlwZT1pLkVycm9yVHlwZSx0aGlzLm5hbWVzcGFjZT10LHRoaXMuZXJyb3JLZXk9bix0aGlzLnJlYXNvbj1lLHRoaXMuZGV0YWlscz1udWxsIT1yP3I6e319fWkuRXJyb3JUeXBlPSJDb25uZWN0RXJyb3IiO2NsYXNzIGF7Y29uc3RydWN0b3Ioe3Byb3ZpZGVyOmUsbG9nZ2VyS2V5OnR9KXt0aGlzLmV2ZW50cz1uZXcgTWFwLHRoaXMubG9nZ2VyPW5ldyBPKHtwcm92aWRlcjplLHNvdXJjZToiZW1pdHRlciIsbWl4aW46KCk9Pih7ZW1pdHRlckxvZ2dlcktleTp0fSl9KX1vbihlLHQpe2NvbnN0IG49dGhpcy5ldmVudHMuZ2V0KGUpO24/bi5hZGQodCk6dGhpcy5ldmVudHMuc2V0KGUsbmV3IFNldChbdF0pKX1vZmYoZSx0KXtjb25zdCBuPXRoaXMuZXZlbnRzLmdldChlKTtuJiYobi5kZWxldGUodCksbi5zaXplPDEmJnRoaXMuZXZlbnRzLmRlbGV0ZShlKSl9Z2V0SGFuZGxlcnMoZSl7dmFyIHQ7cmV0dXJuIEFycmF5LmZyb20obnVsbCE9PSh0PXRoaXMuZXZlbnRzLmdldChlKSkmJnZvaWQgMCE9PXQ/dDpbXSl9fXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfTtjbGFzcyBjIGV4dGVuZHMgYXtlbWl0KGUsdCl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBuPXRoaXMuZ2V0SGFuZGxlcnMoZSk7eWllbGQgUHJvbWlzZS5hbGxTZXR0bGVkKG4ubWFwKChuPT5zKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e3lpZWxkIG4odCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdoZW4gaW52b2tpbmcgZXZlbnQgaGFuZGxlciIse2Vycm9yOnQscGFyYW1ldGVyOmV9KX19KSkpKSl9KSl9fWZ1bmN0aW9uIHUoKXtyZXR1cm4icmFuZG9tVVVJRCJpbiBjcnlwdG8/Y3J5cHRvLnJhbmRvbVVVSUQoKToiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwIi5yZXBsYWNlKC9bMDE4XS9nLChlPT57Y29uc3QgdD1wYXJzZUludChlKTtyZXR1cm4odF5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSYxNT4+dC80KS50b1N0cmluZygxNil9KSl9ZnVuY3Rpb24gbCgpe3ZhciBlLHQsbixyO3JldHVybntvcmlnaW46bnVsbCE9PSh0PW51bGw9PT0oZT1udWxsPT09ZG9jdW1lbnR8fHZvaWQgMD09PWRvY3VtZW50P3ZvaWQgMDpkb2N1bWVudC5sb2NhdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUub3JpZ2luKSYmdm9pZCAwIT09dD90OiJ1bmtub3duIixwYXRoOm51bGwhPT0ocj1udWxsPT09KG49bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD92b2lkIDA6ZG9jdW1lbnQubG9jYXRpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBhdGhuYW1lKSYmdm9pZCAwIT09cj9yOiJ1bmtub3duIn19Y2xhc3MgcHtjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzQnlIYW5kbGVyPW5ldyBNYXAsdGhpcy5oYW5kbGVyc0J5SWQ9bmV3IE1hcH1hZGQoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7aWYodClyZXR1cm57aGFuZGxlcklkOnR9O2NvbnN0IG49dSgpO3JldHVybiB0aGlzLmlkc0J5SGFuZGxlci5zZXQoZSxuKSx0aGlzLmhhbmRsZXJzQnlJZC5zZXQobixlKSx7aGFuZGxlcklkOm59fWdldElkQnlIYW5kbGVyKGUpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9dGhpcy5pZHNCeUhhbmRsZXIuZ2V0KGUpKSYmdm9pZCAwIT09dD90Om51bGx9Z2V0SGFuZGxlckJ5SWQoZSl7dmFyIHQ7cmV0dXJuIG51bGwhPT0odD10aGlzLmhhbmRsZXJzQnlJZC5nZXQoZSkpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQoKXtyZXR1cm5bLi4udGhpcy5pZHNCeUhhbmRsZXIuZW50cmllcygpXS5tYXAoKChbZSx0XSk9Pih7aGFuZGxlcjplLGhhbmRsZXJJZDp0fSkpKX1kZWxldGUoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7cmV0dXJuIHQmJnRoaXMuaGFuZGxlcnNCeUlkLmRlbGV0ZSh0KSx0aGlzLmlkc0J5SGFuZGxlci5kZWxldGUoZSkse2lzRW1wdHk6dGhpcy5pZHNCeUhhbmRsZXIuc2l6ZTwxfX1zaXplKCl7cmV0dXJuIHRoaXMuaWRzQnlIYW5kbGVyLnNpemV9fWNsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnM9bmV3IE1hcCx0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucz1uZXcgTWFwfWFkZCh7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59LHIpe3ZhciBvLGksYSxzLGM7aWYobil7aWYoIXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmhhcyhlKSlyZXR1cm4gdm9pZCB0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5zZXQoZSxuZXcgTWFwKFtbdCxuZXcgTWFwKFtbbixyXV0pXV0pKTtpZighKG51bGw9PT0obz10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmhhcyh0KSkpcmV0dXJuIHZvaWQobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuc2V0KHQsbmV3IE1hcChbW24scl1dKSkpO251bGw9PT0ocz1udWxsPT09KGE9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5nZXQodCkpfHx2b2lkIDA9PT1zfHxzLnNldChuLHIpfWVsc2V7aWYoIXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5oYXMoZSkpcmV0dXJuIHZvaWQgdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLnNldChlLG5ldyBNYXAoW1t0LHJdXSkpO251bGw9PT0oYz10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09Y3x8Yy5zZXQodCxyKX19ZGVsZXRlKHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0pe3ZhciByLG8saSxhO24/KG51bGw9PT0obz1udWxsPT09KHI9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXQodCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRlbGV0ZShuKSkmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkuc2l6ZTwxJiYobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuZGVsZXRlKHQpLHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5zaXplPDEmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmRlbGV0ZShlKSk6KG51bGw9PT0oYT10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5kZWxldGUodCkpJiZ0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLnNpemU8MSYmdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1nZXQoe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSl7dmFyIHIsbyxpO3JldHVybiBuP251bGw9PT0oaT1udWxsPT09KG89dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bz92b2lkIDA6by5nZXQodCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChuKTpudWxsPT09KHI9dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0KHQpfWdldE9yQWRkKGUsdCl7bGV0IG49dGhpcy5nZXQoZSk7cmV0dXJuIG58fChuPXQoKSx0aGlzLmFkZChlLG4pKSxufWFkZE9yVXBkYXRlKGUsdCxuKXtsZXQgcj10aGlzLmdldChlKTtyZXR1cm4gcj1yP24ocik6dCgpLHRoaXMuYWRkKGUscikscn1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuWy4uLkFycmF5LmZyb20odGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmtleXMoKSkuZmxhdE1hcCgodD0+KHtuYW1lc3BhY2U6ZSxrZXk6dH0pKSkpKSwuLi5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkua2V5cygpKS5mbGF0TWFwKCh0PT5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkua2V5cygpKS5mbGF0TWFwKChuPT4oe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSkpKSkpKSldfX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJzY3JpcHRpb25zPW5ldyBkfWFkZChlLHQpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0T3JBZGQoZSwoKCk9Pm5ldyBwKSkuYWRkKHQpfWdldChlKXt2YXIgdCxuO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldCgpKSYmdm9pZCAwIT09bj9uOltdfWdldEJ5SWQoZSx0KXt2YXIgbixyO3JldHVybiBudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldEhhbmRsZXJCeUlkKHQpKSYmdm9pZCAwIT09cj9yOm51bGx9ZGVsZXRlKGUsdCl7dmFyIG4scjtudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlbGV0ZSh0KS5pc0VtcHR5KSYmdm9pZCAwIT09ciYmciYmdGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1zaXplKGUpe3ZhciB0LG47cmV0dXJuIG51bGwhPT0obj1udWxsPT09KHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2l6ZSgpKSYmdm9pZCAwIT09bj9uOjB9aXNFbXB0eShlKXtyZXR1cm4gMD09PXRoaXMuc2l6ZShlKX1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXRBbGxTdWJzY3JpcHRpb25zKCl9Z2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9ucygpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHRoaXMuZ2V0KHQpLm1hcCgoKHtoYW5kbGVySWQ6ZX0pPT4oe3RvcGljOnQsaGFuZGxlcklkOmV9KSkpKSksW10pfX1jbGFzcyBme2NvbnN0cnVjdG9yKHtzZW5kTWV0cmljOmUsbWV0cmljTmFtZTp0LG1ldHJpY09wdGlvbnM6bn0pe3RoaXMudW5pdD0iTWlsbGlzZWNvbmRzIix0aGlzLnNlbmRNZXRyaWM9ZSx0aGlzLnN0YXJ0VGltZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLm1ldHJpY05hbWU9dCx0aGlzLmRpbWVuc2lvbnM9KG51bGw9PW4/dm9pZCAwOm4uZGltZW5zaW9ucyk/bi5kaW1lbnNpb25zOnt9LHRoaXMub3B0aW9uYWxEaW1lbnNpb25zPShudWxsPT1uP3ZvaWQgMDpuLm9wdGlvbmFsRGltZW5zaW9ucyk/bi5vcHRpb25hbERpbWVuc2lvbnM6e319c3RvcER1cmF0aW9uQ291bnRlcigpe2NvbnN0IGU9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS10aGlzLnN0YXJ0VGltZSk7cmV0dXJuIHRoaXMuc2VuZE1ldHJpYyh7bWV0cmljTmFtZTp0aGlzLm1ldHJpY05hbWUsdW5pdDp0aGlzLnVuaXQsdmFsdWU6ZSxkaW1lbnNpb25zOnRoaXMuZGltZW5zaW9ucyxvcHRpb25hbERpbWVuc2lvbnM6dGhpcy5vcHRpb25hbERpbWVuc2lvbnN9KSx7ZHVyYXRpb246ZX19fWNsYXNzIGd7Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJveHk9bnVsbCx0aGlzLm5hbWVzcGFjZT1lLm5hbWVzcGFjZSxlLnByb3ZpZGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5wcm92aWRlcj90aGlzLnByb3ZpZGVyRmFjdG9yeT1lLnByb3ZpZGVyOnRoaXMucHJvdmlkZXI9ZS5wcm92aWRlcn1yZWNvcmRTdWNjZXNzKGUsdCl7dmFyIG47Y29uc3Qgcj1PYmplY3QuYXNzaWduKHt9LG51bGwhPT0obj1udWxsPT10P3ZvaWQgMDp0LmRpbWVuc2lvbnMpJiZ2b2lkIDAhPT1uP246e30pLG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtkaW1lbnNpb25zOnJ9KTt0aGlzLnJlY29yZENvdW50KGUsMCxvKX1yZWNvcmRFcnJvcihlLHQpe3ZhciBuO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSxudWxsIT09KG49bnVsbD09dD92b2lkIDA6dC5kaW1lbnNpb25zKSYmdm9pZCAwIT09bj9uOnt9KSxvPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7ZGltZW5zaW9uczpyfSk7dGhpcy5yZWNvcmRDb3VudChlLDEsbyl9cmVjb3JkQ291bnQoZSx0LG4pe3RoaXMuc2VuZE1ldHJpYyh7bWV0cmljTmFtZTplLHVuaXQ6IkNvdW50Iix2YWx1ZTp0LGRpbWVuc2lvbnM6bnVsbD09bj92b2lkIDA6bi5kaW1lbnNpb25zLG9wdGlvbmFsRGltZW5zaW9uczpudWxsPT1uP3ZvaWQgMDpuLm9wdGlvbmFsRGltZW5zaW9uc30pfXN0YXJ0RHVyYXRpb25Db3VudGVyKGUsdCl7cmV0dXJuIG5ldyBmKHtzZW5kTWV0cmljOnRoaXMuc2VuZE1ldHJpYy5iaW5kKHRoaXMpLG1ldHJpY05hbWU6ZSxtZXRyaWNPcHRpb25zOnR9KX1zZW5kTWV0cmljKHttZXRyaWNOYW1lOmUsdW5pdDp0LHZhbHVlOm4sZGltZW5zaW9uczpyLG9wdGlvbmFsRGltZW5zaW9uczpvfSl7ciYmZnVuY3Rpb24oZSx0KXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGgrT2JqZWN0LmtleXMobnVsbCE9dD90Ont9KS5sZW5ndGg+MzApdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYWRkIG1vcmUgdGhhbiAzMCBkaW1lbnNpb25zIHRvIGEgbWV0cmljIil9KHIsbyk7Y29uc3QgaT17bWV0cmljTmFtZTplLHVuaXQ6dCx2YWx1ZTpuLGRpbWVuc2lvbnM6cixvcHRpb25hbERpbWVuc2lvbnM6b30sYT1uZXcgRGF0ZTt0aGlzLmdldFByb3h5KCkuc2VuZE1ldHJpYyh7bWV0cmljRGF0YTppLHRpbWU6YSxuYW1lc3BhY2U6dGhpcy5uYW1lc3BhY2V9KX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX19Y29uc3QgbT0iY2xpZW50VGltZW91dCI7ZnVuY3Rpb24gdihlLHQsbixyKXtjb25zdCBvPU1hdGgubWF4KDEsbnVsbCE9cj9yOjNlNCk7cmV0dXJuIG5ldyBQcm9taXNlKCgocixhKT0+e2xldCBzPSExO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PntuKHt0aW1lb3V0TXM6byxyZXF1ZXN0OmV9KSxhKGZ1bmN0aW9uKGUsdCl7Y29uc3R7bmFtZXNwYWNlOm4sY29tbWFuZDpyLGRhdGE6b309ZTtyZXR1cm57bmFtZXNwYWNlOm4scmVhc29uOiJDbGllbnQgVGltZW91dCIsZGV0YWlsczp7Y29tbWFuZDpyLHJlcXVlc3REYXRhOm8sdGltZW91dE1zOnR9LGVycm9yS2V5Om19fShlLG8pKSxzPSEwfSksbyk7dCgoZT0+e2NsZWFyVGltZW91dChjKSxzfHwoZS5pc0Vycm9yP2EobmV3IGkoZSkpOnIoZS5kYXRhKSl9KSl9KSl9Y2xhc3MgeXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlcXVlc3RNYXA9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucmVxdWVzdE1hbmFnZXIifSl9cHJvY2Vzc1JlcXVlc3QoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWU7cmV0dXJuIHYoZSwoZT0+dGhpcy5yZXF1ZXN0TWFwLnNldCh0LGUpKSwoKHtyZXF1ZXN0OmUsdGltZW91dE1zOnR9KT0+dGhpcy5oYW5kbGVUaW1lb3V0KGUsdCkpKX1wcm9jZXNzUmVzcG9uc2UoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWUsbj10aGlzLnJlcXVlc3RNYXAuZ2V0KHQpO24/KG4oZSksdGhpcy5yZXF1ZXN0TWFwLmRlbGV0ZSh0KSk6dGhpcy5sb2dnZXIuZXJyb3IoIlJldHVybmVkIGEgcmVzcG9uc2UgbWVzc2FnZSB3aXRoIG5vIGhhbmRsZXIiLHttZXNzYWdlOmV9KX1oYW5kbGVUaW1lb3V0KGUsdCl7Y29uc3R7cmVxdWVzdElkOm4sbmFtZXNwYWNlOnIsY29tbWFuZDpvfT1lO3RoaXMucmVxdWVzdE1hcC5kZWxldGUobiksdGhpcy5sb2dnZXIuZXJyb3IoIkNsaWVudCByZXF1ZXN0IHRpbWVvdXQiLHtyZXF1ZXN0SWQ6bixuYW1lc3BhY2U6cixjb21tYW5kOm8sdGltZW91dE1zOnR9KX19dmFyIGI9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn07ZnVuY3Rpb24gUyhlKXt0cnl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6Y2FzZSJlcnJvciI6Y2FzZSJjaGlsZENvbm5lY3Rpb25DbG9zZSI6ZGVmYXVsdDpyZXR1cm4gZTtjYXNlImNoaWxkRG93bnN0cmVhbU1lc3NhZ2UiOnJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse21lc3NhZ2U6UyhlLm1lc3NhZ2UpfSk7Y2FzZSJwdWJsaXNoIjp7Y29uc3R7ZGF0YTp0fT1lLG49YihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX1jYXNlInJlc3BvbnNlIjppZihlLmlzRXJyb3IpcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7ZGV0YWlsczp7Y29tbWFuZDplLmRldGFpbHMuY29tbWFuZH19KTt7Y29uc3R7ZGF0YTp0fT1lLG49YihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX19fWNhdGNoKHQpe3JldHVybnttZXNzYWdlRGV0YWlsczoiZXJyb3Igd2hlbiBzYW5pdGl6aW5nIGRvd25zdHJlYW0gbWVzc2FnZSIsbWVzc2FnZTplLGVycm9yOnR9fX1jbGFzcyBFe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm92aWRlcj1lLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZT10LHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNoaWxkQ29ubmVjdGlvbk1hbmFnZXIifSl9YWRkQ2hhbm5lbChlKXtjb25zdHtjb25uZWN0aW9uSWQ6dH09ZTt0aGlzLmNoYW5uZWxzLmhhcyh0KT90aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBjaGlsZCBjb25uZWN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMuIE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk6KCJpZnJhbWUiPT09ZS50eXBlP3RoaXMuc2V0dXBJZnJhbWUoZSk6dGhpcy5zZXR1cENvbXBvbmVudChlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiQ2hpbGQgY2hhbm5lbCBhZGRlZCIse2Nvbm5lY3Rpb25JZDp0LHR5cGU6ZS50eXBlfSkpfXVwZGF0ZUNoYW5uZWxQb3J0KGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0fT1lLG49dGhpcy5jaGFubmVscy5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgY2hpbGQgY29ubmVjdGlvbiB0aGF0IGRvZXMgbm90IGV4aXN0IE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk7aWYoImNvbXBvbmVudCI9PT1uLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYSBjb21wb25lbnQgY2hhbm5lbCBjb25uZWN0aW9uIGFzIE1lc3NhZ2VQb3J0LiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIix7Y29ubmVjdGlvbklkOnR9KTtjb25zdCByPW47ci5wb3J0Lm9ubWVzc2FnZT1udWxsLHIucG9ydC5jbG9zZSgpO2NvbnN0IG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSk7dGhpcy5zZXR1cElmcmFtZShvKSx0aGlzLmxvZ2dlci5pbmZvKCJVcGRhdGVkIGNoaWxkIHBvcnQiLHtjb25uZWN0aW9uSWQ6dH0pfXNldHVwSWZyYW1lKGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0LHBvcnQ6bixwcm92aWRlcklkOnJ9PWUsbz10aGlzLmNyZWF0ZU1lc3NhZ2VIYW5kbGVyKHQscik7bi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixvKSxuLnN0YXJ0KCksdGhpcy5jaGFubmVscy5zZXQodCx7dHlwZToiaWZyYW1lIixwb3J0Om4saGFuZGxlcjpvLHByb3ZpZGVySWQ6cn0pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpyLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9c2V0dXBDb21wb25lbnQoZSl7Y29uc3R7Y29ubmVjdGlvbklkOnQscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b309ZTtvKChlPT57dGhpcy5yZWxheUNoaWxkVXBzdHJlYW1NZXNzYWdlKHt0eXBlOiJjaGlsZFVwc3RyZWFtIixzb3VyY2VQcm92aWRlcklkOm4scGFyZW50UHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkLGNvbm5lY3Rpb25JZDp0LG1lc3NhZ2U6ZX0pfSkpLHRoaXMuY2hhbm5lbHMuc2V0KHQse3R5cGU6ImNvbXBvbmVudCIscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b30pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpuLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9aGFuZGxlRG93bnN0cmVhbU1lc3NhZ2Uoe2Nvbm5lY3Rpb25JZDplLG1lc3NhZ2U6dCx0YXJnZXRQcm92aWRlcklkOm59KXtjb25zdCByPXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byByb3V0ZSBkb3duc3RyZWFtIG1lc3NhZ2UgdG8gY2hpbGQgY2hhbm5lbCB0aGF0IGRvZXMgbm90IGV4aXN0Iix7Y29ubmVjdGlvbklkOmUsbWVzc2FnZTpTKHQpfSk7Y29uc3R7cHJvdmlkZXJJZDpvfT1yO28mJm8hPT1uP3RoaXMubG9nZ2VyLmVycm9yKCJEb3duc3RyZWFtIHRhcmdldCBtZXNzYWdlIGRpZCBub3QgbWF0Y2ggdGFyZ2V0IHByb3ZpZGVyIGlkLiBOb3Qgc2VuZGluZyBtZXNzYWdlLiIse2Nvbm5lY3Rpb25JZDplLHRhcmdldFByb3ZpZGVySWQ6bixhY3R1YWxQcm92aWRlcklkOm8sbWVzc2FnZTpTKHQpfSk6ImlmcmFtZSI9PT1yLnR5cGU/ci5wb3J0LnBvc3RNZXNzYWdlKHQpOnIuc2VuZERvd25zdHJlYW1NZXNzYWdlKHQpfWhhbmRsZUNsb3NlTWVzc2FnZSh7Y29ubmVjdGlvbklkOmV9KXtjb25zdCB0PXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKHQpe2lmKCJpZnJhbWUiPT09dC50eXBlKXtjb25zdHtwb3J0OmUsaGFuZGxlcjpufT10O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksZS5jbG9zZSgpfXRoaXMuY2hhbm5lbHMuZGVsZXRlKGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJSZW1vdmVkIGNoaWxkIGNoYW5uZWwiLHtjb25uZWN0aW9uSWQ6ZSx0eXBlOnQudHlwZX0pfWVsc2UgdGhpcy5sb2dnZXIud2FybigiQXR0ZW1wdGVkIHRvIGNsb3NlIGNoaWxkIGNoYW5uZWwgdGhhdCB3YXMgbm90IGZvdW5kIix7Y29ubmVjdGlvbklkOmV9KX1jcmVhdGVNZXNzYWdlSGFuZGxlcihlLHQpe3JldHVybiBuPT50aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2Uoe3R5cGU6ImNoaWxkVXBzdHJlYW0iLHNvdXJjZVByb3ZpZGVySWQ6dCxwYXJlbnRQcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWQsY29ubmVjdGlvbklkOmUsbWVzc2FnZTpuLmRhdGF9KX19Y2xhc3MgQ3tjb25zdHJ1Y3RvcihlKXt0aGlzLmVycm9ySGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucHJveHkuZXJyb3IifSl9aW52b2tlKGUpe2NvbnN0e21lc3NhZ2U6dCxrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX09ZTt0aGlzLmxvZ2dlci5lcnJvcih0LHtrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITAscmVtb3RlSWdub3JlOiEwfSksWy4uLnRoaXMuZXJyb3JIYW5kbGVyc10uZm9yRWFjaCgodD0+e3RyeXt0KGUpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aXRoaW4gYSBBbWF6b25Db25uZWN0RXJyb3JIYW5kbGVyIix7aGFuZGxlckVycm9yOnQsb3JpZ2luYWxFcnJvcjplfSl9fSkpfW9uRXJyb3IoZSl7dGhpcy5lcnJvckhhbmRsZXJzLmFkZChlKX1vZmZFcnJvcihlKXt0aGlzLmVycm9ySGFuZGxlcnMuZGVsZXRlKGUpfX1jbGFzcyBJe2NvbnN0cnVjdG9yKHtwcm92aWRlcjplLHNlbmRIZWFsdGhDaGVjazp0LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjpufSl7dGhpcy5jb25uZWN0aW9uSWQ9bnVsbCx0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWw9bnVsbCx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsLHRoaXMuc2VuZEhlYWx0aENoZWNrPXQsdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW49bix0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwsdGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1udWxsLHRoaXMuX3N0YXR1cz0idW5rbm93biIsdGhpcy5sb2dnZXI9bmV3IE8oe3NvdXJjZToiY29yZS5wcm94eS5oZWFsdGgtY2hlY2siLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9KSx0aGlzLmV2ZW50cz1uZXcgYyh7cHJvdmlkZXI6ZSxsb2dnZXJLZXk6ImNvcmUucHJveHkuaGVhbHRoLWNoZWNrIn0pfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5fc3RhdHVzfWdldCBpc1J1bm5pbmcoKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWx9Z2V0IGxhc3RDaGVja0NvdW50ZXIoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KHQ9bnVsbD09PShlPXRoaXMubGFzdEhlYWx0aENoZWNrUmVzcG9uc2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvdW50ZXIpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQgbGFzdENoZWNrVGltZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGU9dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGltZSkmJnZvaWQgMCE9PXQ/dDpudWxsfXN0YXJ0KHtoZWFsdGhDaGVja0ludGVydmFsOmUsY29ubmVjdGlvbklkOnR9KXt0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuaGVhbHRoQ2hlY2tJbnRlcnZhbD1lLHRoaXMuY2xlYXJJbnRlcnZhbCgpLGU8PTA/dGhpcy5sb2dnZXIuZGVidWcoIkhlYWx0aCBjaGVjayBkaXNhYmxlZCIpOmU8MWUzP3RoaXMubG9nZ2VyLmVycm9yKCJIZWFsdGggY2hlY2sgaW50ZXJ2YWwgaXMgbGVzcyB0aGFuIDEgc2Vjb25kLiBOb3QgcnVubmluZyIse2ludGVydmFsOmV9KToodGhpcy5zZW5kSGVhbHRoQ2hlY2tNZXNzYWdlKCksdGhpcy5zZW5kSGVhbHRoQ2hlY2tJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKCk9PnRoaXMuc2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpKSxlKSx0aGlzLnN0YXJ0VGltZW91dCgpKX1zdG9wKCl7dGhpcy5jbGVhckludGVydmFsKCksdGhpcy5jbGVhclRpbWVvdXQoKX1oYW5kbGVSZXNwb25zZShlKXt0aGlzLnNldEhlYWx0aHkoe3RpbWU6ZS50aW1lLGNvdW50ZXI6ZS5jb3VudGVyfSl9c2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpe3RoaXMuc2VuZEhlYWx0aENoZWNrKHt0eXBlOiJoZWFsdGhDaGVjayIsbWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfSl9c3RhcnRUaW1lb3V0KCl7dGhpcy5oZWFsdGhDaGVja0ludGVydmFsPyh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5zZXRVbmhlYWx0aHkoKX0pLDMqdGhpcy5oZWFsdGhDaGVja0ludGVydmFsKSk6dGhpcy5sb2dnZXIuZXJyb3IoIkhlYWx0aCBjaGVjayBpbnRlcnZhbCBub3Qgc2V0LiBDYW5ub3Qgc3RhcnQgdGltZW91dCIpfWNsZWFySW50ZXJ2YWwoKXt0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsKSx0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwpfWNsZWFyVGltZW91dCgpe3RoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0KSx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsKX1zZXRVbmhlYWx0aHkoKXtpZigidW5oZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuaW5mbygiQ29ubmVjdGlvbiB1bmhlYWx0aHkiLHtwcmV2aW91c1N0YXR1czplfSksdGhpcy5fc3RhdHVzPSJ1bmhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoInVuaGVhbHRoeSIsZSl9fXNldEhlYWx0aHkoZSl7aWYodGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1PYmplY3QuYXNzaWduKHt9LGUpLCJoZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuZGVidWcoIkNvbm5lY3Rpb24gaGVhbHRoeSIse3ByZXZpb3VzU3RhdHVzOmV9KSx0aGlzLl9zdGF0dXM9ImhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoImhlYWx0aHkiLGUpfXRoaXMuc3RhcnRUaW1lb3V0KCl9ZW1pdFN0YXR1c0NoYW5nZWQoZSx0KXt2YXIgbixyLG8saTt0aGlzLmV2ZW50cy5lbWl0KEkuc3RhdHVzQ2hhbmdlZEtleSx7c3RhdHVzOmUscHJldmlvdXNTdGF0dXM6dCxsYXN0Q2hlY2tUaW1lOm51bGwhPT0ocj1udWxsPT09KG49dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGltZSkmJnZvaWQgMCE9PXI/cjpudWxsLGxhc3RDaGVja0NvdW50ZXI6bnVsbCE9PShpPW51bGw9PT0obz10aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5jb3VudGVyKSYmdm9pZCAwIT09aT9pOm51bGx9KX1vblN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub24oSS5zdGF0dXNDaGFuZ2VkS2V5LGUpfW9mZlN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub2ZmKEkuc3RhdHVzQ2hhbmdlZEtleSxlKX19SS5zdGF0dXNDaGFuZ2VkS2V5PSJzdGF0dXNDaGFuZ2VkIjtjbGFzcyBUe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3RhdHVzPSJub3RDb25uZWN0ZWQiLHRoaXMuY2hhbmdlSGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTyh7c291cmNlOiJjb3JlLnByb3h5LmNvbm5lY3Rpb24tc3RhdHVzLW1hbmFnZXIiLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7c3RhdHVzOnRoaXMuc3RhdHVzfSl9KX1nZXRTdGF0dXMoKXtyZXR1cm4gdGhpcy5zdGF0dXN9dXBkYXRlKGUpe3RoaXMuc3RhdHVzPWUuc3RhdHVzLHRoaXMubG9nZ2VyLnRyYWNlKCJQcm94eSBDb25uZWN0aW9uIFN0YXR1cyBDaGFuZ2VkIix7c3RhdHVzOmUuc3RhdHVzfSksWy4uLnRoaXMuY2hhbmdlSGFuZGxlcnNdLmZvckVhY2goKHQ9Pnt0cnl7dChlKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2l0aGluIGEgUHJveHlDb25uZWN0aW9uQ2hhbmdlZEhhbmRsZXIiLHtlcnJvcjplfSl9fSkpfW9uQ2hhbmdlKGUpe3RoaXMuY2hhbmdlSGFuZGxlcnMuYWRkKGUpfW9mZkNoYW5nZShlKXt0aGlzLmNoYW5nZUhhbmRsZXJzLmRlbGV0ZShlKX19dmFyIHcsQT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sXz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHIubGVuZ3RoO28rKyl0LmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscltvXSkmJihuW3Jbb11dPWVbcltvXV0pfXJldHVybiBufTtjbGFzcyBSe2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXI9ZSx0aGlzLmxvZ2dlcj1uZXcgTyh7c291cmNlOiJjb3JlLnByb3h5Iixwcm92aWRlcjplLG1peGluOigpPT4oe3Byb3h5VHlwZTp0aGlzLnByb3h5VHlwZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KX0pLHRoaXMucmVxdWVzdE1hbmFnZXI9bmV3IHkoZSksdGhpcy5zdGF0dXM9bmV3IFQoZSksdGhpcy5lcnJvclNlcnZpY2U9bmV3IEMoZSksdGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZT1bXSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITEsdGhpcy5zdWJzY3JpcHRpb25zPW5ldyBoLHRoaXMuY29ubmVjdGlvbklkPW51bGwsdGhpcy5jaGFubmVsTWFuYWdlcj1uZXcgRShlLHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0LmJpbmQodGhpcykpLHRoaXMuaGVhbHRoQ2hlY2s9bmV3IEkoe3Byb3ZpZGVyOmUsc2VuZEhlYWx0aENoZWNrOnRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0LmJpbmQodGhpcyksZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luLmJpbmQodGhpcyl9KX1pbml0KCl7aWYodGhpcy5pc0luaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcigiUHJveHkgYWxyZWFkeSBpbml0aWFsaXplZCIpO3RoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLmluaXRQcm94eSgpfXJlcXVlc3QoZSx0LG4scil7Y29uc3Qgbz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57dHlwZToicmVxdWVzdCIsbmFtZXNwYWNlOmUsY29tbWFuZDp0LHJlcXVlc3RJZDp1KCksZGF0YTpuLG1lc3NhZ2VPcmlnaW46cn19KGUsdCxuLG51bGwhPXI/cjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpKSxpPXRoaXMucmVxdWVzdE1hbmFnZXIucHJvY2Vzc1JlcXVlc3Qobyk7cmV0dXJuIHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KG8pLGl9c3Vic2NyaWJlKGUsdCxuKXtjb25zdHtoYW5kbGVySWQ6cn09dGhpcy5zdWJzY3JpcHRpb25zLmFkZChlLHQpLG89e3R5cGU6InN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpLGhhbmRsZXJJZDpyfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChvKX11bnN1YnNjcmliZShlLHQsbil7aWYodGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlLHQpLHRoaXMuc3Vic2NyaXB0aW9ucy5pc0VtcHR5KGUpKXtjb25zdCB0PXt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdCh0KX19bG9nKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oe2xldmVsOmUsc291cmNlOnQsbWVzc2FnZTpuLGxvZ2dlcklkOnIsZGF0YTpvfSxhLHMpe2NvbnN0IGM9ZnVuY3Rpb24oZSl7aWYoZSl0cnl7cmV0dXJuIGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gc3RydWN0dXJlZENsb25lKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IGkoe2Vycm9yS2V5OiJkZWVwQ2xvbmVGYWlsZWQiLGRldGFpbHM6e2FjdHVhbEVycm9yOmV9fSl9fX0oZSl9Y2F0Y2goZSl7cmV0dXJue2Vycm9yOiJEYXRhIGZhaWxlZCB0byBzYW5pdGl6ZS4gVGhlIG9yaWdpbmFsIGRhdGEgaXMgbm90IGF2YWlsYWJsZSJ9fX0obyk7cmV0dXJue3R5cGU6ImxvZyIsbGV2ZWw6ZSx0aW1lOm5ldyBEYXRlLHNvdXJjZTp0LG1lc3NhZ2U6bixsb2dnZXJJZDpyLGRhdGE6Yyxjb250ZXh0OmEsbWVzc2FnZU9yaWdpbjpzfX0oZSx0aGlzLmFkZENvbnRleHRUb0xvZ2dlcigpLHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHQpfXNlbmRMb2dNZXNzYWdlKGUpeyJsb2ciPT09ZS50eXBlPyhlLmNvbnRleHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuY29udGV4dCksdGhpcy5hZGRDb250ZXh0VG9Mb2dnZXIoKSksdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIGxvZyBtZXNzYWdlIix7bWVzc2FnZTplfSl9c2VuZE1ldHJpYyh7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0pe2NvbnN0IHI9ZnVuY3Rpb24oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHIpe3ZhciBvLGk7cmV0dXJue3R5cGU6Im1ldHJpYyIsbmFtZXNwYWNlOm4sbWV0cmljTmFtZTplLm1ldHJpY05hbWUsdW5pdDplLnVuaXQsdmFsdWU6ZS52YWx1ZSx0aW1lOnQsZGltZW5zaW9uczpudWxsIT09KG89ZS5kaW1lbnNpb25zKSYmdm9pZCAwIT09bz9vOnt9LG9wdGlvbmFsRGltZW5zaW9uczpudWxsIT09KGk9ZS5vcHRpb25hbERpbWVuc2lvbnMpJiZ2b2lkIDAhPT1pP2k6e30sbWVzc2FnZU9yaWdpbjpyfX0oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHIpfXNlbmRNZXRyaWNNZXNzYWdlKGUpeyJtZXRyaWMiPT09ZS50eXBlP3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIG1ldHJpYyBtZXNzYWdlIix7bWV0cmljTWVzc2FnZTplfSl9c2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpe3RoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkP3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSk6dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5wdXNoKGUpfWNvbnN1bWVyTWVzc2FnZUhhbmRsZXIoZSl7aWYoIXRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIHByb2Nlc3MgbWVzc2FnZSBmcm9tIHN1YmplY3QgcHJpb3IgdG8gcHJveHkgYmVpbmcgaW5pdGlhbGl6aW5nLiBNZXNzYWdlIG5vdCBwcm9jZXNzZWQiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZS5kYXRhfSk7Y29uc3R7ZGF0YTp0fT1lO2lmKCEoInR5cGUiaW4gdCkpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6dH0pO2NvbnN0IG49dDt0aGlzLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChuKX1oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QoZSl7dGhpcy5oYW5kbGVEZWZhdWx0TWVzc2FnZUZyb21TdWJqZWN0KGUpfWhhbmRsZURlZmF1bHRNZXNzYWdlRnJvbVN1YmplY3QoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6dGhpcy5oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSk7YnJlYWs7Y2FzZSJyZXNwb25zZSI6dGhpcy5oYW5kbGVSZXNwb25zZShlKTticmVhaztjYXNlInB1Ymxpc2giOnRoaXMuaGFuZGxlUHVibGlzaChlKTticmVhaztjYXNlImVycm9yIjp0aGlzLmhhbmRsZUVycm9yKGUpO2JyZWFrO2Nhc2UiY2hpbGREb3duc3RyZWFtTWVzc2FnZSI6dGhpcy5jaGFubmVsTWFuYWdlci5oYW5kbGVEb3duc3RyZWFtTWVzc2FnZShlKTticmVhaztjYXNlImNoaWxkQ29ubmVjdGlvbkNsb3NlIjp0aGlzLmNoYW5uZWxNYW5hZ2VyLmhhbmRsZUNsb3NlTWVzc2FnZShlKTticmVhaztjYXNlImhlYWx0aENoZWNrUmVzcG9uc2UiOnRoaXMuaGVhbHRoQ2hlY2suaGFuZGxlUmVzcG9uc2UoZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZX0pfX1oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSl7Zm9yKHRoaXMuY29ubmVjdGlvbklkPWUuY29ubmVjdGlvbklkLHRoaXMubG9nZ2VyLmRlYnVnKCJDb25uZWN0aW9uIGFja25vd2xlZGdlZCBieSBzdWJqZWN0Iix7Y29ubmVjdGlvbklkOmUuY29ubmVjdGlvbklkLHF1ZXVlZE1lc3NhZ2VDb3VudDp0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLmxlbmd0aCxzdGF0dXM6ZS5zdGF0dXN9KSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVhZHkiLGNvbm5lY3Rpb25JZDplLmNvbm5lY3Rpb25JZH0pLHRoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkPSEwO3RoaXMudXBzdHJlYW1NZXNzYWdlUXVldWUubGVuZ3RoOyl7Y29uc3QgZT10aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLnNoaWZ0KCk7dGhpcy5zZW5kTWVzc2FnZVRvU3ViamVjdChlKX10aGlzLmhlYWx0aENoZWNrLnN0YXJ0KGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJQcm94eSBjb25uZWN0aW9uIHJlYWR5Iix7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9aGFuZGxlUmVzcG9uc2UoZSl7dGhpcy5yZXF1ZXN0TWFuYWdlci5wcm9jZXNzUmVzcG9uc2UoZSl9aGFuZGxlUHVibGlzaChlKXtjb25zdHtoYW5kbGVySWQ6dCx0b3BpYzpufT1lO2lmKHQpe2NvbnN0IHI9dGhpcy5zdWJzY3JpcHRpb25zLmdldEJ5SWQobix0KTtyJiZ0aGlzLmhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZSh7aGFuZGxlcjpyLGhhbmRsZXJJZDp0fSxlKX1lbHNlIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXQobikubWFwKCh0PT57dGhpcy5oYW5kbGVBc3luY1N1YnNjcmlwdGlvbkhhbmRsZXJJbnZva2UodCxlKX0pKX1oYW5kbGVFcnJvcihlKXtpZihlLmlzRmF0YWwpe2NvbnN0e21lc3NhZ2U6dCx0eXBlOm59PWUscj1fKGUsWyJtZXNzYWdlIiwidHlwZSJdKTt0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiZXJyb3IiLHJlYXNvbjp0LGRldGFpbHM6cn0pfXRoaXMucHVibGlzaEVycm9yKHttZXNzYWdlOmUubWVzc2FnZSxrZXk6ZS5rZXksZGV0YWlsczplLmRldGFpbHMsaXNGYXRhbDplLmlzRmF0YWwscHJveHlTdGF0dXM6ZS5zdGF0dXN9KX1wdWJsaXNoRXJyb3IoZSl7Y29uc3QgdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2Nvbm5lY3Rpb25TdGF0dXM6dGhpcy5jb25uZWN0aW9uU3RhdHVzfSk7dGhpcy5lcnJvclNlcnZpY2UuaW52b2tlKHQpfWhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZShlLHQpe3JldHVybiBBKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtoYW5kbGVyOmUsaGFuZGxlcklkOnR9LHt0b3BpYzpuLGRhdGE6cn0pe3RyeXt5aWVsZCBlKHIpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGhhbmRsaW5nIHN1YnNjcmlwdGlvbiIse3RvcGljOm4sZXJyb3I6ZSxoYW5kbGVySWQ6dH0pfX0pKX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLnN0YXR1cy5nZXRTdGF0dXMoKX1vbkVycm9yKGUpe3RoaXMuZXJyb3JTZXJ2aWNlLm9uRXJyb3IoZSl9b2ZmRXJyb3IoZSl7dGhpcy5lcnJvclNlcnZpY2Uub2ZmRXJyb3IoZSl9b25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKGUpe3RoaXMuc3RhdHVzLm9uQ2hhbmdlKGUpfW9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UoZSl7dGhpcy5zdGF0dXMub2ZmQ2hhbmdlKGUpfW9uSGVhbHRoQ2hlY2tTdGF0dXNDaGFuZ2VkKGUpe3RoaXMuaGVhbHRoQ2hlY2sub25TdGF0dXNDaGFuZ2VkKGUpfW9mZkhlYWx0aENoZWNrU3RhdHVzQ2hhbmdlZChlKXt0aGlzLmhlYWx0aENoZWNrLm9mZlN0YXR1c0NoYW5nZWQoZSl9YWRkQ2hpbGRDaGFubmVsKGUpe3RoaXMuYWRkQ2hpbGRJZnJhbWVDaGFubmVsKGUpfWFkZENoaWxkSWZyYW1lQ2hhbm5lbChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSkpfWFkZENoaWxkQ29tcG9uZW50Q2hhbm5lbChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJjb21wb25lbnQifSkpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5jaGFubmVsTWFuYWdlci51cGRhdGVDaGFubmVsUG9ydChlKX11cGRhdGVDaGlsZENoYW5uZWxQb3J0KGUpe3RoaXMudXBkYXRlQ2hpbGRJZnJhbWVDaGFubmVsUG9ydChlKX1nZXRDb25uZWN0aW9uSWQoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWQ/UHJvbWlzZS5yZXNvbHZlKHRoaXMuY29ubmVjdGlvbklkKTpuZXcgUHJvbWlzZSgoKGUsdCk9PntsZXQgbjtjb25zdCByPXQ9PnsicmVhZHkiPT09dC5zdGF0dXMmJih0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksY2xlYXJJbnRlcnZhbChuKSxlKHQuY29ubmVjdGlvbklkKSl9O249c2V0VGltZW91dCgoKCk9Pnt0aGlzLmxvZ2dlci5lcnJvcigiVGltZW91dCBnZXR0aW5nIGNvbm5lY3Rpb24gaWQiKSx0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksdChuZXcgRXJyb3IoIlRpbWVvdXQgZ2V0dGluZyBjb25uZWN0aW9uSWQiKSl9KSwxZTQpLHRoaXMub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHIpfSkpfXJlc2V0Q29ubmVjdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZygiUmVzZXR0aW5nIGNvbm5lY3Rpb24iLHtyZWFzb246ZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVzZXQiLHJlYXNvbjplfSk7Y29uc3R7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50OnR9PXRoaXMucmVzdG9yZUFsbEhhbmRsZXIoKTt0aGlzLmxvZ2dlci5pbmZvKCJSZXNldHRpbmcgcHJveHkiLHtyZWFzb246ZSxzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH0pLHRoaXMubG9nZ2VyLmRlYnVnKCJDb25uZWN0aW9uIHJlc2V0IGNvbXBsZXRlLCByZXN0b3JpbmcgaGFuZGxlcnMiLHtzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH0pfXJlc3RvcmVBbGxIYW5kbGVyKCl7dmFyIGU7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpO3JldHVybiBudWxsPT10fHx0Lm1hcCgoKHt0b3BpYzplLGhhbmRsZXJJZDp0fSk9Pih7dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSxoYW5kbGVySWQ6dH0pKSkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpKSx7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50Om51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnZvaWQgMCE9PWU/ZTotMX19dW5zdWJzY3JpYmVBbGxIYW5kbGVycygpe3ZhciBlO2NvbnN0IHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldEFsbFN1YnNjcmlwdGlvbkhhbmRsZXJJZHMoKTt0aGlzLmxvZ2dlci5pbmZvKCJVbnN1YnNjcmliaW5nIGFsbCBoYW5kbGVycyBmcm9tIHByb3h5Iix7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50Om51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnZvaWQgMCE9PWU/ZTotMX0pLG51bGw9PXR8fHQubWFwKCgoe3RvcGljOmV9KT0+KHt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9KSkpLmZvckVhY2goKGU9PnRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpKSl9fSFmdW5jdGlvbihlKXtlW2UudHJhY2U9MV09InRyYWNlIixlW2UuZGVidWc9Ml09ImRlYnVnIixlW2UuaW5mbz0zXT0iaW5mbyIsZVtlLndhcm49NF09Indhcm4iLGVbZS5lcnJvcj01XT0iZXJyb3IifSh3fHwodz17fSkpO2NsYXNzIEx7Y29uc3RydWN0b3IoZSl7dGhpcy5taXhpbj1lfWdldFRyYW5zZm9ybWVkRGF0YShlLHQpe3JldHVybiB0aGlzLm1peGluP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxudWxsIT10P3Q6e30pLHRoaXMubWl4aW4obnVsbCE9dD90Ont9LGUpKTp0fX1jbGFzcyBPe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3h5PW51bGwsdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWw9bnVsbCx0aGlzLmxvZ2dlcklkPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKGUvMikpO3JldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLEFycmF5LmZyb20odCwoZT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKSkuam9pbigiIikuc3Vic3RyaW5nKDAsZSl9KDgpLCJzdHJpbmciPT10eXBlb2YgZT8odGhpcy5zb3VyY2U9ZSx0aGlzLmRhdGFUcmFuc2Zvcm1lcj1uZXcgTCh2b2lkIDApKToodGhpcy5zb3VyY2U9ZS5zb3VyY2UsZS5wcm92aWRlciYmImZ1bmN0aW9uIj09dHlwZW9mIGUucHJvdmlkZXI/dGhpcy5wcm92aWRlckZhY3Rvcnk9ZS5wcm92aWRlcjp0aGlzLnByb3ZpZGVyPWUucHJvdmlkZXIsdGhpcy5kYXRhVHJhbnNmb3JtZXI9bmV3IEwoZS5taXhpbiksdGhpcy5sb2dPcHRpb25zPWUub3B0aW9ucyl9dHJhY2UoZSx0LG4pe3RoaXMubG9nKHcudHJhY2UsZSx0LG4pfWRlYnVnKGUsdCxuKXt0aGlzLmxvZyh3LmRlYnVnLGUsdCxuKX1pbmZvKGUsdCxuKXt0aGlzLmxvZyh3LmluZm8sZSx0LG4pfXdhcm4oZSx0LG4pe3RoaXMubG9nKHcud2FybixlLHQsbil9ZXJyb3IoZSx0LG4pe3RoaXMubG9nKHcuZXJyb3IsZSx0LG4pfWxvZyhlLHQsbixyKXtjb25zdCBvPXRoaXMuZGF0YVRyYW5zZm9ybWVyLmdldFRyYW5zZm9ybWVkRGF0YShlLG4pO3RoaXMuaWdub3JlUmVtb3RlKHIpfHx0aGlzLmdldFByb3h5KCkubG9nKHtsZXZlbDplLHNvdXJjZTp0aGlzLnNvdXJjZSxsb2dnZXJJZDp0aGlzLmxvZ2dlcklkLG1lc3NhZ2U6dCxkYXRhOm99KSx0aGlzLmFwcGx5RHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZShlLHIpJiZmdW5jdGlvbihlLHQsbil7aWYobilzd2l0Y2goZSl7Y2FzZSB3LmVycm9yOmNvbnNvbGUuZXJyb3IodCxuKTticmVhaztjYXNlIHcud2Fybjpjb25zb2xlLndhcm4odCxuKTticmVhaztjYXNlIHcuaW5mbzpjb25zb2xlLmluZm8odCxuKTticmVhaztjYXNlIHcuZGVidWc6Y29uc29sZS5kZWJ1Zyh0LG4pO2JyZWFrO2Nhc2Ugdy50cmFjZTpjb25zb2xlLnRyYWNlKHQsbik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0LG4pfWVsc2Ugc3dpdGNoKGUpe2Nhc2Ugdy5lcnJvcjpjb25zb2xlLmVycm9yKHQpO2JyZWFrO2Nhc2Ugdy53YXJuOmNvbnNvbGUud2Fybih0KTticmVhaztjYXNlIHcuaW5mbzpjb25zb2xlLmluZm8odCk7YnJlYWs7Y2FzZSB3LmRlYnVnOmNvbnNvbGUuZGVidWcodCk7YnJlYWs7Y2FzZSB3LnRyYWNlOmNvbnNvbGUudHJhY2UodCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0KX19KGUsdCxvKX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX1hcHBseUR1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGUoZSx0KXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5kdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlKXx8dGhpcy5nZXRMb2dDb25zb2xlTGV2ZWwoKTw9ZX1nZXRMb2dDb25zb2xlTGV2ZWwoKXt2YXIgZSx0LG4scjtyZXR1cm4gdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx8fCh0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbD0obnVsbD09PShlPXRoaXMubG9nT3B0aW9ucyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWluTG9nVG9Db25zb2xlTGV2ZWxPdmVycmlkZSk/dGhpcy5sb2dPcHRpb25zLm1pbkxvZ1RvQ29uc29sZUxldmVsT3ZlcnJpZGU6bnVsbCE9PShyPW51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5nZXRQcm92aWRlcigpLmNvbmZpZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubG9nZ2luZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWluTG9nVG9Db25zb2xlTGV2ZWwpJiZ2b2lkIDAhPT1yP3I6dy5lcnJvciksdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx9aWdub3JlUmVtb3RlKGUpe3ZhciB0LG4scjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0odD10aGlzLmxvZ09wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PW4mJm58fG51bGwhPT0ocj1udWxsPT1lP3ZvaWQgMDplLnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PXImJnJ9fWNsYXNzIGt7Y29uc3RydWN0b3Ioe2NvbmZpZzplLHByb3h5RmFjdG9yeTp0fSl7aWYodGhpcy5faWQ9dSgpLCF0KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGdldCBQcm94eSBiZWZvcmUgc2V0dGluZyB1cCBmYWN0b3J5Iik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5jbHVkZSBjb25maWciKTt0aGlzLnByb3h5RmFjdG9yeT10LHRoaXMuX2NvbmZpZz1lfWdldCBpZCgpe3JldHVybiB0aGlzLl9pZH1nZXRQcm94eSgpe3JldHVybiB0aGlzLnByb3h5fHwodGhpcy5wcm94eT10aGlzLnByb3h5RmFjdG9yeSh0aGlzKSx0aGlzLnByb3h5LmluaXQoKSksdGhpcy5wcm94eX1nZXQgY29uZmlnKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdGhpcy5fY29uZmlnKX1vbkVycm9yKGUpe3RoaXMuZ2V0UHJveHkoKS5vbkVycm9yKGUpfW9mZkVycm9yKGUpe3RoaXMuZ2V0UHJveHkoKS5vZmZFcnJvcihlKX1zdGF0aWMgaW5pdGlhbGl6ZVByb3ZpZGVyKGUpe2lmKHRoaXMuaXNJbml0aWFsaXplZCl7Y29uc3QgZT0iQXR0ZW1wdGVkIHRvIGluaXRpYWxpemUgcHJvdmlkZXIgbW9yZSB0aGFuIG9uZSB0aW1lLiIsdD17fTt0cnl7Y29uc3QgdD1vKCk7bmV3IE8oe3NvdXJjZToiY29yZS5hbWF6b25Db25uZWN0UHJvdmlkZXIuaW5pdCIscHJvdmlkZXI6dH0pLmVycm9yKGUpfWNhdGNoKGUpe3QubG9nZ2luZ0Vycm9yPW51bGw9PWU/dm9pZCAwOmUubWVzc2FnZX10aHJvdyBuZXcgaSh7ZXJyb3JLZXk6ImF0dGVtcHRJbml0aWFsaXplTXVsdGlwbGVQcm92aWRlcnMiLHJlYXNvbjplLGRldGFpbHM6dH0pfXJldHVybiBmdW5jdGlvbihlKXtpZihyKXRocm93IG5ldyBFcnJvcigiR2xvYmFsIFByb3ZpZGVyIGlzIGFscmVhZHkgc2V0Iik7cj1lfShlKSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITAsZS5nZXRQcm94eSgpLGV9fWsuaXNJbml0aWFsaXplZD0hMTtjbGFzcyBOe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5lbmdpbmVDb250ZXh0PWUsdGhpcy5tb2R1bGVOYW1lc3BhY2U9dH1nZXQgcHJveHkoKXtpZighdGhpcy5tb2R1bGVQcm94eSl7Y29uc3QgZT10aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpLHQ9dGhpcy5tb2R1bGVOYW1lc3BhY2U7dGhpcy5tb2R1bGVQcm94eT1mdW5jdGlvbihlLHQpe3JldHVybntyZXF1ZXN0OihuLHIpPT5lLnJlcXVlc3QodCxuLHIpLHN1YnNjcmliZToobixyKT0+ZS5zdWJzY3JpYmUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtuYW1lc3BhY2U6dH0pLHIpLHVuc3Vic2NyaWJlOihuLHIpPT5lLnVuc3Vic2NyaWJlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7bmFtZXNwYWNlOnR9KSxyKSxnZXRQcm94eUluZm86KCk9Pih7Y29ubmVjdGlvblN0YXR1czplLmNvbm5lY3Rpb25TdGF0dXMscHJveHlUeXBlOmUucHJveHlUeXBlfSksb25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlOnQ9PmUub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHQpLG9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2U6dD0+ZS5vZmZDb25uZWN0aW9uU3RhdHVzQ2hhbmdlKHQpfX0oZSx0KX1yZXR1cm4gdGhpcy5tb2R1bGVQcm94eX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX1jcmVhdGVMb2dnZXIoZSl7cmV0dXJuIG5ldyBPKCJvYmplY3QiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Byb3ZpZGVyOigpPT50aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX0pOntzb3VyY2U6ZSxwcm92aWRlcjooKT0+dGhpcy5lbmdpbmVDb250ZXh0LmdldFByb3ZpZGVyKCl9KX1jcmVhdGVNZXRyaWNSZWNvcmRlcihlKXtyZXR1cm4gbmV3IGcoIm9iamVjdCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cHJvdmlkZXI6KCk9PnRoaXMuZW5naW5lQ29udGV4dC5nZXRQcm92aWRlcigpfSk6e25hbWVzcGFjZTplLHByb3ZpZGVyOigpPT50aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX0pfX1jbGFzcyBQe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3ZpZGVyPWV9Z2V0UHJvdmlkZXIoKXtyZXR1cm4gdGhpcy5fcHJvdmlkZXI/dGhpcy5fcHJvdmlkZXI6bygpfWdldE1vZHVsZUNvbnRleHQoZSl7cmV0dXJuIG5ldyBOKHRoaXMsZSl9fWZ1bmN0aW9uIHgoe25hbWVzcGFjZTplLGNvbmZpZzp0fSl7cmV0dXJuIHQmJiJjb250ZXh0ImluIHQmJnQuY29udGV4dD90LmNvbnRleHQ6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4hMTtjb25zdCB0PWU7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0LmlkJiYiY29uZmlnImluIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldFByb3h5fSh0KT9uZXcgUCh0KS5nZXRNb2R1bGVDb250ZXh0KGUpOm5ldyBQKG51bGw9PXQ/dm9pZCAwOnQucHJvdmlkZXIpLmdldE1vZHVsZUNvbnRleHQoZSl9Y2xhc3MgRHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubmFtZXNwYWNlPWUsdGhpcy5jb250ZXh0PXgoe25hbWVzcGFjZTplLGNvbmZpZzp0fSl9fWNsYXNzIE17Y29uc3RydWN0b3IoZSx0KXt0aGlzLm5hbWVzcGFjZT1lLHRoaXMuY29udGV4dD14KHtuYW1lc3BhY2U6ZSxjb25maWc6dH0pfX19LDI3NTooZSx0LG4pPT57InVzZSBzdHJpY3QiO24ucih0KSxuLmQodCx7QW1hem9uQ29ubmVjdEdSU3RyZWFtc1NpdGU6KCk9PnAsQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlOigpPT5zLEdsb2JhbFJlc2lsaWVuY3lSZWdpb246KCk9PnJ9KTt2YXIgcixvPW4oMjM4KTtjbGFzcyBpIGV4dGVuZHMgby5ieXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuaW5zdGFuY2VVcmw9dm9pZCAwIT09dD90OmUuY29uZmlnLmluc3RhbmNlVXJsLHRoaXMucG9zdE1lc3NhZ2VIYW5kbGVyPXRoaXMubGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBvLnBnKHtzb3VyY2U6InNpdGVQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJjb25uZWN0aW5nIn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcil9cmVzZXRDb25uZWN0aW9uKGUpe3N1cGVyLnJlc2V0Q29ubmVjdGlvbihlKSx0aGlzLm1lc3NhZ2VQb3J0PXZvaWQgMCx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiY29ubmVjdGluZyJ9KX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLm1lc3NhZ2VQb3J0P3RoaXMubWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoZSk6dGhpcy5wcm94eUxvZ2dlci5lcnJvcigiRmFpbGVkIHRvIHNlbmQgVXBzdHJlYW1NZXNzYWdlLiBNZXNzYWdlUG9ydCBub3Qgc2V0Iix7bWVzc2FnZVR5cGU6ZS50eXBlfSl9YWRkQ29udGV4dFRvTG9nZ2VyKCl7cmV0dXJue319bGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UoZSl7aWYodGhpcy52ZXJpZnlPcmlnaW4oZSkmJnRoaXMudmVyaWZ5RXZlbnRTb3VyY2UoZSkpe2lmKCJjcm9zcy1kb21haW4tYWRhcHRlci1pbml0IiE9PWUuZGF0YS50eXBlKXJldHVybiB2b2lkIHRoaXMuaW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcihlLmRhdGEpO2lmKHRoaXMubWVzc2FnZVBvcnQmJih0aGlzLnJlc2V0Q29ubmVjdGlvbigiU3Vic2VxdWVudCBNZXNzYWdlIFBvcnQgRGV0ZWN0ZWQiKSx0aGlzLnByb3h5TG9nZ2VyLmluZm8oIlN1YnNlcXVlbnQgbWVzc2FnZSBwb3J0IHJlY2VpdmVkLiBSZXNldHRpbmcgY29ubmVjdGlvbiIpKSx0aGlzLm1lc3NhZ2VQb3J0PWUucG9ydHNbMF0sIXRoaXMubWVzc2FnZVBvcnQpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIHBvcnQgbm90IHByb3ZpZGVkIGJ5IGlmcmFtZSIpO3RoaXMubWVzc2FnZVBvcnQub25tZXNzYWdlPXRoaXMuY29uc3VtZXJNZXNzYWdlSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJpbml0aWFsaXppbmcifSksdGhpcy5tZXNzYWdlUG9ydC5wb3N0TWVzc2FnZSh7dHlwZToiY3Jvc3MtZG9tYWluLXNpdGUtcmVhZHkiLHByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZH0pLHRoaXMucHJveHlMb2dnZXIuZGVidWcoIkNEQSBQb3N0IG1lc3NhZ2UgaGFuZGxlciByZW1vdmVkIil9fXZlcmlmeU9yaWdpbihlKXtjb25zdCB0PWUub3JpZ2luO2lmKCF0KXJldHVybiB0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk5vIG9yaWdpbiBwcm92aWRlZCBpbiBldmVudC4gSWdub3JpbmcgZXZlbnQuIiksITE7bGV0IG47dHJ5e249bmV3IFVSTCh0aGlzLmluc3RhbmNlVXJsKS5vcmlnaW59Y2F0Y2goZSl7cmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIlVuYWJsZSB0byBwYXJzZSBleHBlY3RlZCBvcmlnaW4gZnJvbSBpbnN0YW5jZVVybC4gQ2Fubm90IG1hdGNoIix7ZXJyb3I6ZSxldmVudE9yaWdpbjp0LGluc3RhbmNlVXJsOnRoaXMuaW5zdGFuY2VVcmx9LHtkdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlOiEwfSksITF9cmV0dXJuIHQ9PT1ufHwoImNyb3NzLWRvbWFpbi1hZGFwdGVyLWluaXQiPT09ZS5kYXRhLnR5cGUmJnRoaXMucHJveHlMb2dnZXIud2FybigiT3JpZ2luIG9mIG1lc3NhZ2Ugd2l0aCB0eXBlICdjcm9zcy1kb21haW4tYWRhcHRlci1pbml0JyBkaWQgbm90IGV4cGVjdGVkIGluc3RhbmNlIHZhbHVlLiBJZ25vcmluZyIse2V4cGVjdGVkT3JpZ2luOm4sZXZlbnRPcmlnaW46dH0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITB9KSwhMSl9fWNsYXNzIGEgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTB9Z2V0IHByb3h5VHlwZSgpe3JldHVybiJzdHJlYW1zLXNpdGUifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpe3JldHVybiBPYmplY3QuYXNzaWduKHtfdHlwZToic3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LCgwLG8ueFEpKCkpfXZlcmlmeUV2ZW50U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5jY3BJRnJhbWU7aWYoIXQpcmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIkNDUCBJZnJhbWUgbm90IHByb3ZpZGVkIHRvIHByb3h5LiBVbmFibGUgdG8gdmVyaWZ5IGV2ZW50IHRvIENvbm5lY3QgdG8gQ0NQLiIse29yaWdpbjplLm9yaWdpbn0pLCExO2NvbnN0IG49ZS5zb3VyY2U9PT10LmNvbnRlbnRXaW5kb3c7cmV0dXJuIG58fCh0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQrKyx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ8NSYmdGhpcy5wcm94eUxvZ2dlci53YXJuKCJNZXNzYWdlIGNhbWUgZnJvbSB1bmV4cGVjdGVkIGlmcmFtZS4gTm90IGEgdmFsaWQgQ0NQLiBXaWxsIG5vdCBjb25uZWN0Iix7b3JpZ2luOmUub3JpZ2luLHVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ6dGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50fSkpLG59aW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcigpe319Y2xhc3MgcyBleHRlbmRzIG8uTHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoe2NvbmZpZzplLHByb3h5RmFjdG9yeTplPT5uZXcgYShlKX0pfXN0YXRpYyBpbml0KGUpe2NvbnN0IHQ9bmV3IHMoZSk7cmV0dXJuIHMuaW5pdGlhbGl6ZVByb3ZpZGVyKHQpLHtwcm92aWRlcjp0fX1zdGF0aWMgZ2V0IGRlZmF1bHQoKXtyZXR1cm4oMCxvLkx6KSgiQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCIpfXNldENDUElmcmFtZShlKXt0aGlzLmdldFByb3h5KCkuc2V0Q0NQSWZyYW1lKGUpfX0hZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PSJwcmltYXJ5IixlLlNlY29uZGFyeT0ic2Vjb25kYXJ5In0ocnx8KHI9e30pKTtjbGFzcyBjIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcih7cHJvdmlkZXI6ZSxyZWdpb246dCxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46bixyZWxheVRvR2xvYmFsUmVzaWxpZW5jeVByb3h5Om99KXtzdXBlcihlLHQ9PT1yLlByaW1hcnk/ZS5jb25maWcucHJpbWFyeUluc3RhbmNlVXJsOmUuY29uZmlnLnNlY29uZGFyeUluc3RhbmNlVXJsKSx0aGlzLmdldFBhcmVudFVwc3RyZWFtTWVzc2FnZU9yaWdpbj1uLHRoaXMucmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eT1vLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy5yZWdpb249dCx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ9MH1nZXQgcHJveHlUeXBlKCl7cmV0dXJuImFjZ3ItcmVnaW9uYWwtcHJveHkifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKXtzd2l0Y2goZS50eXBlKXtjYXNlInJlc3BvbnNlIjpjYXNlInB1Ymxpc2giOmNhc2UiZXJyb3IiOnRoaXMucmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eShlKTticmVhaztkZWZhdWx0OnN1cGVyLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKX19Z2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9dmVyaWZ5RXZlbnRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLmNjcElGcmFtZTtpZighdClyZXR1cm4gdGhpcy5wcm94eUxvZ2dlci5lcnJvcigiQ0NQIElmcmFtZSBub3QgcHJvdmlkZWQgdG8gcHJveHkuIFVuYWJsZSB0byB2ZXJpZnkgZXZlbnQgdG8gQ29ubmVjdCB0byBDQ1AuIix7b3JpZ2luOmUub3JpZ2lufSksITE7Y29uc3Qgbj1lLnNvdXJjZT09PXQuY29udGVudFdpbmRvdztyZXR1cm4gbnx8KHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudCsrLHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudDw1JiZ0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk1lc3NhZ2UgY2FtZSBmcm9tIHVuZXhwZWN0ZWQgaWZyYW1lLiBOb3QgYSB2YWxpZCBDQ1AuIFdpbGwgbm90IGNvbm5lY3QiLHtvcmlnaW46ZS5vcmlnaW4sdW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudDp0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnR9KSksbn1zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl7c3VwZXIuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpfWludmFsaWRJbml0TWVzc2FnZUhhbmRsZXIoKXt9fWZ1bmN0aW9uIHUoZSl7Y29uc3QgdD1PYmplY3QudmFsdWVzKHIpO2lmKCF0LmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZWdpb246ICR7ZX0uIFZhbGlkIHJlZ2lvbnMgYXJlOiAke3Quam9pbigiLCAiKX1gKX1jbGFzcyBsIGV4dGVuZHMgby5ieXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmFjdGl2ZVJlZ2lvbj1yLlByaW1hcnksdGhpcy5yZWdpb25Qcm94aWVzPXtbci5QcmltYXJ5XTpuZXcgYyh7cHJvdmlkZXI6ZSxyZWdpb246ci5QcmltYXJ5LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbi5iaW5kKHRoaXMpLHJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk6dGhpcy5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QuYmluZCh0aGlzKX0pLFtyLlNlY29uZGFyeV06bmV3IGMoe3Byb3ZpZGVyOmUscmVnaW9uOnIuU2Vjb25kYXJ5LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbi5iaW5kKHRoaXMpLHJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk6dGhpcy5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QuYmluZCh0aGlzKX0pfSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBvLnBnKHtzb3VyY2U6Imdsb2JhbFJlc2lsaWVuY3lQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe09iamVjdC52YWx1ZXModGhpcy5yZWdpb25Qcm94aWVzKS5mb3JFYWNoKChlPT5lLmluaXQoKSkpfXNldENDUElmcmFtZSh7aWZyYW1lOmUscmVnaW9uOnR9KXt1KHQpLHRoaXMucmVnaW9uUHJveGllc1t0XS5zZXRDQ1BJZnJhbWUoZSl9c2V0QWN0aXZlUmVnaW9uKGUpe2lmKHUoZSksZSE9PXRoaXMuYWN0aXZlUmVnaW9uKXtjb25zdCB0PXRoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0sbj10aGlzLnJlZ2lvblByb3hpZXNbZV07dGhpcy51bnN1YnNjcmliZUFsbEhhbmRsZXJzKCksdGhpcy5wcm94eUxvZ2dlci5pbmZvKCJBY3RpdmUgcmVnaW9uIGNoYW5nZWQiLHtjdXJyZW50OmUsaW5zdGFuY2VVcmw6bi5pbnN0YW5jZVVybCxwcmV2aW91c0luc3RhbmNlVXJsOnQuaW5zdGFuY2VVcmx9KSx0aGlzLmFjdGl2ZVJlZ2lvbj1lLHRoaXMucmVzdG9yZUFsbEhhbmRsZXIoKTtjb25zdCByPXRoaXMuc3RhdHVzLmdldFN0YXR1cygpLG89bi5jb25uZWN0aW9uU3RhdHVzO3N3aXRjaChvKXtjYXNlInJlYWR5Ijp0aGlzLnByb3h5TG9nZ2VyLmluZm8oIkFjdGl2ZSByZWdpb24gaXMgcmVhZHkiLHthY3RpdmVSZWdpb25TdGF0dXM6b30pLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJyZWFkeSIsY29ubmVjdGlvbklkOm4uY29ubmVjdGlvbklkfSk7YnJlYWs7Y2FzZSJjb25uZWN0aW5nIjpjYXNlImluaXRpYWxpemluZyI6ciE9PW8mJnRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOm99KTticmVhaztjYXNlImVycm9yIjpyIT09byYmdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6ImVycm9yIixyZWFzb246Im5ldyBhY3RpdmUgcmVnaW9uIGluIGVycm9yIG9uIHRyYW5zaXRpb24iLGRldGFpbHM6e3JlZ2lvbjp0aGlzLmFjdGl2ZVJlZ2lvbn19KX19fWdldCBwcm94eVR5cGUoKXtyZXR1cm4iZ2xvYmFsLXJlc2lsaWVuY3ktcHJveHkifXNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1hZGRDb250ZXh0VG9Mb2dnZXIoKXtyZXR1cm57YWN0aXZlUmVnaW9uOnRoaXMuYWN0aXZlUmVnaW9ufX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtfdHlwZToiZ2xvYmFsLXJlc2lsaWVuY3ktc3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LCgwLG8ueFEpKCkpLHthY3RpdmVSZWdpb246dGhpcy5hY3RpdmVSZWdpb259KX1hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS5hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl9YWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpe3RoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0uYWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS51cGRhdGVDaGlsZElmcmFtZUNoYW5uZWxQb3J0KGUpfX1jbGFzcyBwIGV4dGVuZHMgby5MdHtjb25zdHJ1Y3RvcihlKXtzdXBlcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OmU9Pm5ldyBsKGUpfSl9c3RhdGljIGluaXQoZSl7Y29uc3QgdD1uZXcgcChlKTtyZXR1cm4gcC5pbml0aWFsaXplUHJvdmlkZXIodCkse3Byb3ZpZGVyOnR9fXN0YXRpYyBnZXQgZGVmYXVsdCgpe3JldHVybigwLG8uTHopKCJBbWF6b25Db25uZWN0R1JTdHJlYW1zU2l0ZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKX1zZXRDQ1BJZnJhbWUoZSl7dGhpcy5nZXRQcm94eSgpLnNldENDUElmcmFtZShlKX1zZXRBY3RpdmVSZWdpb24oZSl7dGhpcy5nZXRQcm94eSgpLnNldEFjdGl2ZVJlZ2lvbihlKX19fSw5NTM6KGUsdCxuKT0+eyJ1c2Ugc3RyaWN0IjtuLnIodCksbi5kKHQse1ZvaWNlQ2xpZW50OigpPT5jLFZvaWNlUm91dGVzOigpPT5vLFZvaWNlVG9waWNLZXlzOigpPT5pLHZvaWNlTmFtZXNwYWNlOigpPT5yfSk7Y29uc3Qgcj0iYXdzLmNvbm5lY3Qudm9pY2UiO3ZhciBvLGk7IWZ1bmN0aW9uKGUpe2UuZ2V0UGhvbmVOdW1iZXI9ImNvbnRhY3QvZ2V0UGhvbmVOdW1iZXIiLGUuZ2V0SW5pdGlhbEN1c3RvbWVyUGhvbmVOdW1iZXI9InZvaWNlL2dldEluaXRpYWxDdXN0b21lclBob25lTnVtYmVyIixlLmxpc3REaWFsYWJsZUNvdW50cmllcz0idm9pY2UvbGlzdERpYWxhYmxlQ291bnRyaWVzIixlLmNyZWF0ZU91dGJvdW5kQ2FsbD0idm9pY2UvY3JlYXRlT3V0Ym91bmRDYWxsIixlLmdldE91dGJvdW5kQ2FsbFBlcm1pc3Npb249InZvaWNlL2dldE91dGJvdW5kQ2FsbFBlcm1pc3Npb24ifShvfHwobz17fSkpLGl8fChpPXt9KTt2YXIgYT1uKDIzOCkscz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX07Y2xhc3MgYyBleHRlbmRzIGEudVV7Y29uc3RydWN0b3IoZSl7c3VwZXIocixlKX1nZXRQaG9uZU51bWJlcihlKXtyZXR1cm4gcyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e3Bob25lTnVtYmVyOnR9PXlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KG8uZ2V0UGhvbmVOdW1iZXIse2NvbnRhY3RJZDplfSk7cmV0dXJuIHR9KSl9Z2V0SW5pdGlhbEN1c3RvbWVyUGhvbmVOdW1iZXIoZSl7cmV0dXJuIHModGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtwaG9uZU51bWJlcjp0fT15aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmdldEluaXRpYWxDdXN0b21lclBob25lTnVtYmVyLHtjb250YWN0SWQ6ZX0pO3JldHVybiB0fSkpfWxpc3REaWFsYWJsZUNvdW50cmllcygpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmxpc3REaWFsYWJsZUNvdW50cmllcyl9Z2V0T3V0Ym91bmRDYWxsUGVybWlzc2lvbigpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7b3V0Ym91bmRDYWxsUGVybWlzc2lvbjplfT15aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmdldE91dGJvdW5kQ2FsbFBlcm1pc3Npb24pO3JldHVybiBlfSkpfWNyZWF0ZU91dGJvdW5kQ2FsbChlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChvLmNyZWF0ZU91dGJvdW5kQ2FsbCx7cGhvbmVOdW1iZXI6ZSxvcHRpb25zOnR9KX19fSw4MjU6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0LmFnZW50QXBwPXt9O3ZhciBuPXtDQ1A6ImNjcCIsR1VJREVTOiJjdXN0b212aWV3cyJ9O3QuYWdlbnRBcHAuaW5pdENDUD10LmNvcmUuaW5pdENDUCx0LmFnZW50QXBwLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7fSx0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSksbz1uZXcgdC5JRnJhbWVDb25kdWl0KG4sd2luZG93LHIpLGk9W3QuQWdlbnRFdmVudHMuVVBEQVRFLHQuQ29udGFjdEV2ZW50cy5WSUVXLHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsdC5UYXNrRXZlbnRzLkNSRUFURUQsdC5FbWFpbEV2ZW50cy5DUkVBVEVEXTtyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24odCl7by5zZW5kVXBzdHJlYW0oZSx0KX0pKX0pKX0pKX07dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCJjY3AtdjIiKTtyZXR1cm4gZS5zbGljZSgwLHQtMSl9LG89ZnVuY3Rpb24oZSxyLG8pe3ZhciBhLHMsYyx1PW8uY3VzdG9tVmlld3NQYXJhbXMsbD11LmNvbnRhY3QscD11LmRpc2FibGVBdXRvRGVzdHJveSxkPXUuaWZyYW1lU3VmZml4LGg9dS50ZXJtaW5hdGVDdXN0b21WaWV3T3B0aW9ucyxmPXZvaWQgMD09PWg/e306aCxnPXUuZGVkdXBsaWNhdGUsbT12b2lkIDA9PT1nfHxnLHY9by5jdXN0b21WaWV3c1BhcmFtcy5jb250YWN0Rmxvd0lkLHk9aShsKTtjPWZ1bmN0aW9uKG8pe28mJihzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS50b1NuYXBzaG90KCkuY29udGFjdERhdGEuc3RhdGUudHlwZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oIltDdXN0b21WaWV3c10gRmFpbGVkIHRvIGV4dHJhY3QgY29udGFjdCBzdGF0dXMuIil9fShvKSx5PWkobyksYT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS50b1NuYXBzaG90KCkuY29udGFjdERhdGEuY29ubmVjdGlvbnMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuImFnZW50Ij09PWUudHlwZX0pKTtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5jb25uZWN0aW9uSWR9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIEZhaWxlZCB0byBleHRyYWN0IGFnZW50Q29ubmVjdGlvbklkLiIpfX0obyksYSYmY29uc29sZS5kZWJ1ZygiW0N1c3RvbVZpZXdzXSBBZ2VudCBjb25uZWN0aW9uIElEIGRlcml2ZWQgZnJvbSBjb250YWN0IG9iamVjdCIpLGZ1bmN0aW9uKG4pe3B8fChuLm9uRGVzdHJveSgoZnVuY3Rpb24oKXt2YXIgbixyLG87dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXcoZSxkLHt0aW1lb3V0Om51bGwhPT0obj1mLnRpbWVvdXQpJiZ2b2lkIDAhPT1uP246NWUzLGhpZGVJZnJhbWU6bnVsbD09PShyPWYuaGlkZUlmcmFtZSl8fHZvaWQgMD09PXJ8fHIscmVzb2x2ZUlmcmFtZTpudWxsPT09KG89Zi5yZXNvbHZlSWZyYW1lKXx8dm9pZCAwPT09b3x8b30pfSkpLGNvbnNvbGUuZGVidWcoIltDdXN0b21WaWV3c10gb25EZXN0cm95IGhhbmRsZXIgcmVnaXN0ZXJlZC4iKSl9KG8pKSxmdW5jdGlvbih0LG8saSl7dmFyIGEscz1kPyIiLmNvbmNhdChuLkdVSURFUykuY29uY2F0KGQpOm4uR1VJREVTLGM9KG51bGw9PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvcigiaWZyYW1lW2lkPSciLmNvbmNhdChzLCInXSIpKSl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpfHwobnVsbD09PShhPXdpbmRvdy50b3ApfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHMpKTtpZighYyl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c10gSWZyYW1lIG5vdCBmb3VuZCBmb3IgYXBwOiAiLmNvbmNhdChzKSk7dmFyIHU9QVdTLnV0aWwudXVpZC52NCgpLGw9bmV3IFVSTFNlYXJjaFBhcmFtcyh7YWdlbnRBcHBUYWJJZDoiIi5jb25jYXQodSwiLXRhYiIpfSk7diYmbC5zZXQoImNvbnRhY3RGbG93SWQiLHYpLHQmJmwuc2V0KCJjdXJyZW50Q29udGFjdElkIix0KSxvJiZsLnNldCgiYWdlbnRDb25uZWN0aW9uSWQiLG8pO3ZhciBwPW0/aT9pLnRvVXBwZXJDYXNlKCk6IkRFRkFVTFQiOiJBREhPQyI7bC5zZXQoImR1cGxpY2F0ZUN1c3RvbVZpZXdzQXBwSWQiLHApLGMuc3JjPSIiLmNvbmNhdChlLCI/IikuY29uY2F0KGwudG9TdHJpbmcoKSksY29uc29sZS5kZWJ1ZygiW0N1c3RvbVZpZXdzXSBJZnJhbWUgc291cmNlIGluaXRpYWxpemVkIHdpdGggc3RhdGUgaWRlbnRpZmllcjogIixwKX0oeSxhLHMpfSwic3RyaW5nIj09dHlwZW9mIGw/KGNvbnNvbGUuZGVidWcoIltDdXN0b21WaWV3c10gUmVzb2x2aW5nIGNvbnRhY3QgSUQgc3RyaW5nLi4uIiksdC5hZ2VudCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDb250YWN0cygpLmZpbmQoKGZ1bmN0aW9uKGUpe3RyeXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PWUuZ2V0Q29udGFjdElkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKGUpKT09PWx9Y2F0Y2goZSl7cmV0dXJuITF9fSkpO3R8fGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSBVbmFibGUgdG8gcmVzb2x2ZSBjb250YWN0IElEIHRvIGxpdmUgY29udGFjdCBvYmplY3QuIiksYyh0KX0pKSk6YyhsKX0saT1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7dHJ5e3JldHVybiBlLmdldENvbnRhY3RJZCgpfWNhdGNoKHQpe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIltDdXN0b21WaWV3c106IEludmFsaWQgQ29udGFjdCBQcm92aWRlZDogIixlKX19O3QuYWdlbnRBcHAuaW5pdEFwcD1mdW5jdGlvbihlLGksYSxzKXtzPXN8fHt9O3ZhciBjLHU9YS5lbmRzV2l0aCgiLyIpfHwvWz8mXT9bXj0/Jl0rPVtePT8mXSsvZy50ZXN0KGEpP2E6YSsiLyIsbD1zLm9uTG9hZD9zLm9uTG9hZDpudWxsLHA9e2VuZHBvaW50OnUsc3R5bGU6cy5zdHlsZSxvbkxvYWQ6bH07aWYoZT09PW4uQ0NQX0RSKWM9bi5DQ1A7ZWxzZSBpZihlPT09bi5HVUlERVMmJnMuY3VzdG9tVmlld3NQYXJhbXMpe3ZhciBkPXMuY3VzdG9tVmlld3NQYXJhbXMuaWZyYW1lU3VmZml4O2lmKGM9ZD8iIi5jb25jYXQobi5HVUlERVMpLmNvbmNhdChkKToiIi5jb25jYXQobi5HVUlERVMpLHZvaWQgMCE9PXQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuZ2V0KGMpKXRocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXTogQ3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIHByb3ZpZGUgYSBkaWZmZXJlbnQgaWZyYW1lU3VmZml4IGZvciB0aGUgY3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uLiIpfWVsc2UgYz1lO3ZhciBoPSJzdHJpbmciPT10eXBlb2YgaT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKTppO3QuYWdlbnRBcHAuQXBwUmVnaXN0cnkucmVnaXN0ZXIoYyxwLGgpLHQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuc3RhcnQoYywoZnVuY3Rpb24oaSl7dmFyIGE9aS5lbmRwb2ludCx1PWkuY29udGFpbmVyRE9NO3JldHVybntpbml0OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIHMuY2NwUGFyYW1zPXMuY2NwUGFyYW1zP3MuY2NwUGFyYW1zOnt9LHMuc3R5bGUmJihzLmNjcFBhcmFtcy5zdHlsZT1zLnN0eWxlKSxmdW5jdGlvbihlLG4sbyl7dmFyIGk9e2NjcFVybDplLGNjcExvYWRUaW1lb3V0OjFlNCxsb2dpblBvcHVwOiEwLGxvZ2luVXJsOnIoZSkrIi9sb2dpbiIsc29mdHBob25lOnthbGxvd0ZyYW1lZFNvZnRwaG9uZTohMCxkaXNhYmxlUmluZ3RvbmU6ITEsYWxsb3dGcmFtZWRWaWRlb0NhbGw6ITAsYWxsb3dGcmFtZWRTY3JlZW5TaGFyaW5nOiEwLGFsbG93RnJhbWVkU2NyZWVuU2hhcmluZ1BvcFVwOiExfX0sYT10Lm1lcmdlKGksby5jY3BQYXJhbXMpO3QuY29yZS5pbml0Q0NQKG4sYSl9KGEsdSxzKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1zLmN1c3RvbVZpZXdzUGFyYW1zPyh0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uKGMsYSx1KSxvKGEsdSxzKSk6dC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSk7ZGVmYXVsdDpyZXR1cm4gdC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIGk9cihhKSsiL2xvZ291dCIsdC5mZXRjaChpLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLlRFUk1JTkFURSksITB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldExvZygpLmVycm9yKCJBbiBlcnJvciBvY2N1cmVkIG9uIGxvZ291dC4iK2UpLndpdGhFeGNlcHRpb24oZSksd2luZG93LmxvY2F0aW9uLmhyZWY9aSwhMX0pKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1zLmN1c3RvbVZpZXdzUGFyYW1zPyhvPWMsdm9pZCB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmRlbGV0ZShvKSk6bnVsbDtkZWZhdWx0OnJldHVybiBudWxsfXZhciBvLGl9fX0pKX0sdC5hZ2VudEFwcC5zdG9wQXBwPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnN0b3AoZSl9fSgpfSw5NjE6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbixyPSJjY3AiO2UuY29ubmVjdC5hZ2VudEFwcC5BcHBSZWdpc3RyeT0obj17fSx7cmVnaXN0ZXI6ZnVuY3Rpb24oZSx0LHIpe25bZV09e2NvbnRhaW5lckRPTTpyLGVuZHBvaW50OnQuZW5kcG9pbnQsc3R5bGU6dC5zdHlsZSxpbnN0YW5jZTp2b2lkIDAsb25Mb2FkOnQub25Mb2FkfX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXtpZihuW2VdKXt2YXIgbz1uW2VdLmNvbnRhaW5lckRPTSxpPW5bZV0uZW5kcG9pbnQsYT1uW2VdLnN0eWxlLHM9bltlXS5vbkxvYWQ7aWYoZSE9PXIpe3ZhciBjPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBvLnNyYz10LG8uc3R5bGU9bnx8IndpZHRoOiAxMDAlOyBoZWlnaHQ6MTAwJTsiLG8uaWQ9ZSxvWyJhcmlhLWxhYmVsIl09ZSxvLm9ubG9hZD1yLG8uYWxsb3c9ImNsaXBib2FyZC1yZWFkOyBjbGlwYm9hcmQtd3JpdGUiLG8uc2V0QXR0cmlidXRlKCJzYW5kYm94IiwiYWxsb3ctZm9ybXMgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIiksb30oZSxpLGEscyk7by5hcHBlbmRDaGlsZChjKX1yZXR1cm4gbltlXS5pbnN0YW5jZT10KG5bZV0pLG5bZV0uaW5zdGFuY2UuaW5pdCgpfX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSxkZWxldGU6ZnVuY3Rpb24oZSl7ZGVsZXRlIG5bZV19LHN0b3A6ZnVuY3Rpb24oZSl7aWYobltlXSl7dmFyIHQscj1uW2VdLG89ci5jb250YWluZXJET00ucXVlcnlTZWxlY3RvcigiaWZyYW1lIik7aWYoZS5pbmNsdWRlcygiY3VzdG9tdmlld3MiKSl7dmFyIGk9ImlmcmFtZVtpZD0nIi5jb25jYXQoZSwiJ10iKTtvPXIuY29udGFpbmVyRE9NLnF1ZXJ5U2VsZWN0b3IoaSl9cmV0dXJuIHIuY29udGFpbmVyRE9NLnJlbW92ZUNoaWxkKG8pLHIuaW5zdGFuY2UmJih0PXIuaW5zdGFuY2UuZGVzdHJveSgpLGRlbGV0ZSByLmluc3RhbmNlKSx0fX19KX0oKX0sNjEwOihlLHQsbik9PntmdW5jdGlvbiByKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtnKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsIT1uKXt2YXIgcixvLGksYSxzPVtdLGM9ITAsdT0hMTt0cnl7aWYoaT0obj1uLmNhbGwoZSkpLm5leHQsMD09PXQpe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuO2M9ITF9ZWxzZSBmb3IoOyEoYz0ocj1pLmNhbGwobikpLmRvbmUpJiYocy5wdXNoKHIudmFsdWUpLHMubGVuZ3RoIT09dCk7Yz0hMCk7fWNhdGNoKGUpe3U9ITAsbz1lfWZpbmFsbHl7dHJ5e2lmKCFjJiZudWxsIT1uLnJldHVybiYmKGE9bi5yZXR1cm4oKSxPYmplY3QoYSkhPT1hKSlyZXR1cm59ZmluYWxseXtpZih1KXRocm93IG99fXJldHVybiBzfX0oZSx0KXx8bChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sYShlKX1mdW5jdGlvbiBzKCl7InVzZSBzdHJpY3QiO3M9ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIGUsdD17fSxuPU9iamVjdC5wcm90b3R5cGUscj1uLmhhc093blByb3BlcnR5LG89T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9aS5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9aS5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPWkudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKGUpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIGk9dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixhPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBvKGEsIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGF9ZnVuY3Rpb24gaChlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fXQud3JhcD1kO3ZhciBmPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBFKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBJPU9iamVjdC5nZXRQcm90b3R5cGVPZixUPUkmJkkoSShQKFtdKSkpO1QmJlQhPT1uJiZyLmNhbGwoVCxjKSYmKEM9VCk7dmFyIHc9RS5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihvLGkscyxjKXt2YXIgdT1oKGVbb10sZSxpKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1hKHApJiZyLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgaTtvKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7bihlLHIsdCxvKX0pKX1yZXR1cm4gaT1pP2kudGhlbihvLG8pOm8oKX19KX1mdW5jdGlvbiBSKHQsbixyKXt2YXIgbz1mO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPUwocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1mKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1oKHQsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBMKHQsbil7dmFyIHI9bi5tZXRob2Qsbz10Lml0ZXJhdG9yW3JdO2lmKG89PT1lKXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxMKHQsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9aChvLHQuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW3QucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9ZSksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKHQpe2lmKHR8fCIiPT09dCl7dmFyIG49dFtjXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxpPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYoci5jYWxsKHQsbykpcmV0dXJuIG4udmFsdWU9dFtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gaS5uZXh0PWl9fXRocm93IG5ldyBUeXBlRXJyb3IoYSh0KSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBTLnByb3RvdHlwZT1FLG8odywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLG8oRSwiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLFMuZGlzcGxheU5hbWU9cChFLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1TfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxFKTooZS5fX3Byb3RvX189RSxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSx0LmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdC5Bc3luY0l0ZXJhdG9yPV8sdC5hc3luYz1mdW5jdGlvbihlLG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSxuLHIsbyksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksdC5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LHQudmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCF0KWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZyLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIG8ocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIG8oImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPXIuY2FsbChhLCJjYXRjaExvYyIpLHU9ci5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiBvKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gbyhhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIG89dGhpcy50cnlFbnRyaWVzW25dO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJnIuY2FsbChvLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAodCkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSx5fX0sdH1mdW5jdGlvbiBjKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt2YXIgaT1lLmFwcGx5KHQsbik7ZnVuY3Rpb24gYShlKXtjKGkscixvLGEscywibmV4dCIsZSl9ZnVuY3Rpb24gcyhlKXtjKGkscixvLGEscywidGhyb3ciLGUpfWEodm9pZCAwKX0pKX19ZnVuY3Rpb24gbChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciBuPXt9LnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9wKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBkKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxtKHIua2V5KSxyKX19ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIHQmJmQoZS5wcm90b3R5cGUsdCksbiYmZChlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLGV9ZnVuY3Rpb24gZihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGcoZSx0LG4pe3JldHVybih0PW0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT1hKGUpfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9YShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1hKHQpP3Q6dCsiIn0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgcj1uKDU3OCksYz1yLlNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudCxwPXIuc2VuZEFjdGl2aXR5LGQ9big3OTEpLkNvbnRhY3RDbGllbnQsbT1uKDk1MykuVm9pY2VDbGllbnQ7dC5BZ2VudFN0YXRlVHlwZT10Lm1ha2VFbnVtKFsiaW5pdCIsInJvdXRhYmxlIiwibm90X3JvdXRhYmxlIiwib2ZmbGluZSIsInN5c3RlbSIsImVycm9yIl0pLHQuQWdlbnRTdGF0dXNUeXBlPXQuQWdlbnRTdGF0ZVR5cGUsdC5BZ2VudEF2YWlsU3RhdGVzPXQubWFrZUVudW0oWyJJbml0IiwiQnVzeSIsIkFmdGVyQ2FsbFdvcmsiLCJDYWxsaW5nQ3VzdG9tZXIiLCJEaWFsaW5nIiwiSm9pbmluZyIsIlBlbmRpbmdBdmFpbGFibGUiLCJQZW5kaW5nQnVzeSJdKSx0LkFnZW50RXJyb3JTdGF0ZXM9dC5tYWtlRW51bShbIkVycm9yIiwiQWdlbnRIdW5nVXAiLCJCYWRBZGRyZXNzQWdlbnQiLCJCYWRBZGRyZXNzQ3VzdG9tZXIiLCJEZWZhdWx0IiwiRmFpbGVkQ29ubmVjdEFnZW50IiwiRmFpbGVkQ29ubmVjdEN1c3RvbWVyIiwiSW52YWxpZExvY2FsZSIsIkxpbmVFbmdhZ2VkQWdlbnQiLCJMaW5lRW5nYWdlZEN1c3RvbWVyIiwiTWlzc2VkQ2FsbEFnZW50IiwiTWlzc2VkQ2FsbEN1c3RvbWVyIiwiTXVsdGlwbGVDY3BXaW5kb3dzIiwiUmVhbHRpbWVDb21tdW5pY2F0aW9uRXJyb3IiXSksdC5FbmRwb2ludFR5cGU9dC5tYWtlRW51bShbInBob25lX251bWJlciIsImFnZW50IiwicXVldWUiXSksdC5BZGRyZXNzVHlwZT10LkVuZHBvaW50VHlwZSx0LkNvbm5lY3Rpb25UeXBlPXQubWFrZUVudW0oWyJhZ2VudCIsImluYm91bmQiLCJvdXRib3VuZCIsIm1vbml0b3JpbmciXSksdC5Db25uZWN0aW9uU3RhdGVUeXBlPXQubWFrZUVudW0oWyJpbml0IiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsImhvbGQiLCJkaXNjb25uZWN0ZWQiLCJzaWxlbnRfbW9uaXRvciIsImJhcmdlIl0pLHQuQ29ubmVjdGlvblN0YXR1c1R5cGU9dC5Db25uZWN0aW9uU3RhdGVUeXBlLHQuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTPXQuc2V0KFt0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVEVELHQuQ29ubmVjdGlvblN0YXRlVHlwZS5IT0xELHQuQ29ubmVjdGlvblN0YXRlVHlwZS5TSUxFTlRfTU9OSVRPUix0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQkFSR0VdKSx0LkNPTk5FQ1RJT05fQ09OTkVDVEVEX1NUQVRFUz10LnNldChbdC5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RFRCx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuU0lMRU5UX01PTklUT1IsdC5Db25uZWN0aW9uU3RhdGVUeXBlLkJBUkdFXSksdC5Db250YWN0U3RhdGVUeXBlPXQubWFrZUVudW0oWyJpbml0IiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsIm1pc3NlZCIsImVycm9yIiwiZW5kZWQiLCJyZWplY3RlZCIsInBhdXNlZCJdKSx0LkNvbnRhY3RTdGF0dXNUeXBlPXQuQ29udGFjdFN0YXRlVHlwZSx0LkNPTlRBQ1RfQUNUSVZFX1NUQVRFUz10Lm1ha2VFbnVtKFsicGF1c2VkIiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCJdKSx0LkNvbnRhY3RUeXBlPXQubWFrZUVudW0oWyJ2b2ljZSIsInF1ZXVlX2NhbGxiYWNrIiwiY2hhdCIsInRhc2siLCJlbWFpbCJdKSx0LkNvbnRhY3RJbml0aWF0aW9uTWV0aG9kPXQubWFrZUVudW0oWyJpbmJvdW5kIiwib3V0Ym91bmQiLCJ0cmFuc2ZlciIsInF1ZXVlX3RyYW5zZmVyIiwiY2FsbGJhY2siLCJhcGkiLCJkaXNjb25uZWN0Iiwid2VicnRjX2FwaSIsImFnZW50X3JlcGx5Il0pLHQuTW9uaXRvcmluZ01vZGU9dC5tYWtlRW51bShbIlNJTEVOVF9NT05JVE9SIiwiQkFSR0UiXSksdC5Nb25pdG9yaW5nRXJyb3JUeXBlcz10Lm1ha2VFbnVtKFsiaW52YWxpZF90YXJnZXRfc3RhdGUiXSksdC5DaGFubmVsVHlwZT10Lm1ha2VFbnVtKFsiVk9JQ0UiLCJDSEFUIiwiVEFTSyJdKSx0Lk1lZGlhVHlwZT10Lm1ha2VFbnVtKFsic29mdHBob25lIiwiY2hhdCIsInRhc2siLCJlbWFpbCJdKSx0LlNvZnRwaG9uZUNhbGxUeXBlPXQubWFrZUVudW0oWyJhdWRpb192aWRlbyIsInZpZGVvX29ubHkiLCJhdWRpb19vbmx5Iiwibm9uZSJdKSx0LlNvZnRwaG9uZUVycm9yVHlwZXM9dC5tYWtlRW51bShbInVuc3VwcG9ydGVkX2Jyb3dzZXIiLCJtaWNyb3Bob25lX25vdF9zaGFyZWQiLCJzaWduYWxsaW5nX2hhbmRzaGFrZV9mYWlsdXJlIiwic2lnbmFsbGluZ19jb25uZWN0aW9uX2ZhaWx1cmUiLCJpY2VfY29sbGVjdGlvbl90aW1lb3V0IiwidXNlcl9idXN5X2Vycm9yIiwid2VicnRjX2Vycm9yIiwicmVhbHRpbWVfY29tbXVuaWNhdGlvbl9lcnJvciIsInZkaV9zdHJhdGVneV9ub3Rfc3VwcG9ydGVkIiwidmRpX3JlZGlyX25vdF9zdXBwb3J0ZWQiLCJvdGhlciJdKSx0LkNsaWNrVHlwZT10Lm1ha2VFbnVtKFsiQWNjZXB0IiwiUmVqZWN0IiwiSGFuZ3VwIl0pLHQuVm9pY2VJZEVycm9yVHlwZXM9dC5tYWtlRW51bShbIm5vX3NwZWFrZXJfaWRfZm91bmQiLCJzcGVha2VyX2lkX25vdF9lbnJvbGxlZCIsImdldF9zcGVha2VyX2lkX2ZhaWxlZCIsImdldF9zcGVha2VyX3N0YXR1c19mYWlsZWQiLCJvcHRfb3V0X3NwZWFrZXJfZmFpbGVkIiwib3B0X291dF9zcGVha2VyX2luX2xjbXNfZmFpbGVkIiwiZGVsZXRlX3NwZWFrZXJfZmFpbGVkIiwic3RhcnRfc2Vzc2lvbl9mYWlsZWQiLCJldmFsdWF0ZV9zcGVha2VyX2ZhaWxlZCIsInNlc3Npb25fbm90X2V4aXN0cyIsImRlc2NyaWJlX3Nlc3Npb25fZmFpbGVkIiwiZW5yb2xsX3NwZWFrZXJfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfaW5fbGNtc19mYWlsZWQiLCJub3Rfc3VwcG9ydGVkX29uX2NvbmZlcmVuY2VfY2FsbHMiLCJlbnJvbGxfc3BlYWtlcl90aW1lb3V0IiwiZXZhbHVhdGVfc3BlYWtlcl90aW1lb3V0IiwiZ2V0X2RvbWFpbl9pZF9mYWlsZWQiLCJub19kb21haW5faWRfZm91bmQiXSksdC5DVElFeGNlcHRpb25zPXQubWFrZUVudW0oWyJBY2Nlc3NEZW5pZWRFeGNlcHRpb24iLCJJbnZhbGlkU3RhdGVFeGNlcHRpb24iLCJCYWRFbmRwb2ludEV4Y2VwdGlvbiIsIkludmFsaWRBZ2VudEFSTkV4Y2VwdGlvbiIsIkludmFsaWRDb25maWd1cmF0aW9uRXhjZXB0aW9uIiwiSW52YWxpZENvbnRhY3RUeXBlRXhjZXB0aW9uIiwiUGFnaW5hdGlvbkV4Y2VwdGlvbiIsIlJlZnJlc2hUb2tlbkV4cGlyZWRFeGNlcHRpb24iLCJTZW5kRGF0YUZhaWxlZEV4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZEV4Y2VwdGlvbiIsIlF1b3RhRXhjZWVkZWRFeGNlcHRpb24iXSksdC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzPXQubWFrZUVudW0oWyJPTkdPSU5HIiwiRU5ERUQiLCJQRU5ESU5HX0NPTkZJR1VSQVRJT04iXSksdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiQUNDRVBUIiwiUkVKRUNUIiwiTk9UX0VOT1VHSF9TUEVFQ0giLCJTUEVBS0VSX05PVF9FTlJPTExFRCIsIlNQRUFLRVJfT1BURURfT1VUIiwiU1BFQUtFUl9JRF9OT1RfUFJPVklERUQiLCJTUEVBS0VSX0VYUElSRUQiXSksdC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJISUdIX1JJU0siLCJMT1dfUklTSyJdKSx0LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiQXV0aGVudGljYXRlZCIsIk5vdEF1dGhlbnRpY2F0ZWQiLCJJbmNvbmNsdXNpdmUiLCJOb3RFbnJvbGxlZCIsIk9wdGVkT3V0IiwiTm90RW5hYmxlZCIsIkVycm9yIl0pLHQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uPXQubWFrZUVudW0oWyJIaWdoUmlzayIsIkxvd1Jpc2siLCJJbmNvbmNsdXNpdmUiLCJOb3RFbmFibGVkIiwiRXJyb3IiXSksdC5DdXN0b21lckF1dGhlbnRpY2F0aW9uU3RhdHVzPXQubWFrZUVudW0oWyJBVVRIRU5USUNBVEVEIiwiRkFJTEVEIiwiVElNRU9VVCJdKSx0LlZpZGVvQ2FwYWJpbGl0eT10Lm1ha2VFbnVtKFsiU0VORCJdKSx0LlNjcmVlblNoYXJlQ2FwYWJpbGl0eT10Lm1ha2VFbnVtKFsiU0VORCJdKSx0LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cz10Lm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJJTl9QUk9HUkVTUyIsIkNPTVBMRVRFRCIsIkZBSUxFRCJdKSx0LlZvaWNlSWRTcGVha2VyU3RhdHVzPXQubWFrZUVudW0oWyJPUFRFRF9PVVQiLCJFTlJPTExFRCIsIlBFTkRJTkciXSksdC5Wb2ljZUlkQ29uc3RhbnRzPXtFVkFMVUFURV9TRVNTSU9OX0RFTEFZOjFlNCxFVkFMVUFUSU9OX01BWF9QT0xMX1RJTUVTOjI0LEVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTDo1ZTMsRU5ST0xMTUVOVF9NQVhfUE9MTF9USU1FUzoxMjAsRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMOjVlMyxTVEFSVF9TRVNTSU9OX0RFTEFZOjhlM30sdC5BZ2VudFBlcm1pc3Npb25zPXtPVVRCT1VORF9DQUxMOiJvdXRib3VuZENhbGwiLFZPSUNFX0lEOiJ2b2ljZUlkIn07dmFyIHY9aCgoZnVuY3Rpb24gZSgpe2YodGhpcyxlKX0pKTtnKHYsImlzRW5hYmxlZCIsKGZ1bmN0aW9uKCl7dmFyIGU9dC5pc0NSTSgpP3QuY29yZS5nZXRDbGllbnQoKTp0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5jYWxsKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLlFSX0lOVEVHUkFUSU9OX0VYSVNUUyxudWxsLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiUXVpY2sgUmVzcG9uc2VzIGlzRW5hYmxlZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJRdWljayBSZXNwb25zZXMgaXNFbmFibGVkIGZhaWxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUpfX0pfSkpfSkpLGcodiwic2VhcmNoUXVpY2tSZXNwb25zZXMiLChmdW5jdGlvbihlKXt2YXIgbj10LmlzQ1JNKCk/dC5jb3JlLmdldENsaWVudCgpOnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLHI9bnVsbCE9ZSYmZS5jb250YWN0SWQ/bmV3IFMoZS5jb250YWN0SWQpLmdldEF0dHJpYnV0ZXMoKTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe24uY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5RUl9TRUFSQ0hfUVVJQ0tfUkVTUE9OU0VTLG8obyh7fSxlKSx7fSx7YXR0cmlidXRlczpyfSkse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYShlKX19KX0pKX0pKTt2YXIgeT1mdW5jdGlvbigpe2lmKCF0LmFnZW50LmluaXRpYWxpemVkKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBhZ2VudCBpcyBub3QgeWV0IGluaXRpYWxpemVkISIpfTt5LnByb3RvdHlwZS5fZ2V0U0RLVm9pY2VDbGllbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52b2ljZUNsaWVudHx8KHRoaXMudm9pY2VDbGllbnQ9bmV3IG0odC5jb3JlLmdldFNES0NsaWVudENvbmZpZygpKSksdGhpcy52b2ljZUNsaWVudH0seS5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCl9LHkucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db250YWN0KGUuY29udGFjdElkKX0seS5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5SRUZSRVNILGUpfSx5LnByb3RvdHlwZS5vblJvdXRhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5ST1VUQUJMRSxlKX0seS5wcm90b3R5cGUub25Ob3RSb3V0YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuTk9UX1JPVVRBQkxFLGUpfSx5LnByb3RvdHlwZS5vbk9mZmxpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLk9GRkxJTkUsZSl9LHkucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkVSUk9SLGUpfSx5LnByb3RvdHlwZS5vblNvZnRwaG9uZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5TT0ZUUEhPTkVfRVJST1IsZSl9LHkucHJvdG90eXBlLm9uV2ViU29ja2V0Q29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0xPU1QsZSl9LHkucHJvdG90eXBlLm9uV2ViU29ja2V0Q29ubmVjdGlvbkdhaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fR0FJTkVELGUpfSx5LnByb3RvdHlwZS5vbkFmdGVyQ2FsbFdvcms9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkFDVyxlKX0seS5wcm90b3R5cGUub25TdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLGUpfSx5LnByb3RvdHlwZS5vbk11dGVUb2dnbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGUpfSx5LnByb3RvdHlwZS5vbkxvY2FsTWVkaWFTdHJlYW1DcmVhdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5MT0NBTF9NRURJQV9TVFJFQU1fQ1JFQVRFRCxlKX0seS5wcm90b3R5cGUub25TcGVha2VyRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5TUEVBS0VSX0RFVklDRV9DSEFOR0VELGUpfSx5LnByb3RvdHlwZS5vbk1pY3JvcGhvbmVEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLk1JQ1JPUEhPTkVfREVWSUNFX0NIQU5HRUQsZSl9LHkucHJvdG90eXBlLm9uUmluZ2VyRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5SSU5HRVJfREVWSUNFX0NIQU5HRUQsZSl9LHkucHJvdG90eXBlLm9uQ2FtZXJhRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZSl9LHkucHJvdG90eXBlLm9uQmFja2dyb3VuZEJsdXJDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkJBQ0tHUk9VTkRfQkxVUl9DSEFOR0VELGUpfSx5LnByb3RvdHlwZS5vblZvaWNlRW5oYW5jZW1lbnRNb2RlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZnVuY3Rpb24odCl7dmFyIG49dC52b2ljZUVuaGFuY2VtZW50TW9kZTtyZXR1cm4gZSh7dm9pY2VFbmhhbmNlbWVudE1vZGU6bn0pLFByb21pc2UucmVzb2x2ZSgpfTtyZXR1cm4gdGhpcy5fZ2V0U0RLVm9pY2VDbGllbnQoKS5vblZvaWNlRW5oYW5jZW1lbnRNb2RlQ2hhbmdlZChuKSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5fZ2V0U0RLVm9pY2VDbGllbnQoKS5vZmZWb2ljZUVuaGFuY2VtZW50TW9kZUNoYW5nZWQobil9fX0seS5wcm90b3R5cGUubXV0ZT1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuRXZlbnRUeXBlLk1VVEUsZGF0YTp7bXV0ZTohMH19KX0seS5wcm90b3R5cGUudW5tdXRlPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5FdmVudFR5cGUuTVVURSxkYXRhOnttdXRlOiExfX0pfSx5LnByb3RvdHlwZS5zZXRTcGVha2VyRGV2aWNlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfU1BFQUtFUl9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0seS5wcm90b3R5cGUuc2V0TWljcm9waG9uZURldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX01JQ1JPUEhPTkVfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHkucHJvdG90eXBlLnNldFJpbmdlckRldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1JJTkdFUl9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0seS5wcm90b3R5cGUuc2V0Q2FtZXJhRGV2aWNlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0seS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZEJsdXI9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLkJBQ0tHUk9VTkRfQkxVUl9DSEFOR0VELGRhdGE6e2lzQmFja2dyb3VuZEJsdXJFbmFibGVkOmV9fSl9LHkucHJvdG90eXBlLnNldFZvaWNlRW5oYW5jZW1lbnRNb2RlPWZ1bmN0aW9uKGUpe2lmKCFuZXcgU2V0KFsiVk9JQ0VfSVNPTEFUSU9OIiwiTk9JU0VfU1VQUFJFU1NJT04iLCJOT05FIl0pLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdm9pY2UgZW5oYW5jZW1lbnQgbW9kZSAiLmNvbmNhdChlKSk7cmV0dXJuIHRoaXMuX2dldFNES1ZvaWNlQ2xpZW50KCkuc2V0Vm9pY2VFbmhhbmNlbWVudE1vZGUoZSl9LHkucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5zdGF0ZX0seS5wcm90b3R5cGUuZ2V0TmV4dFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5uZXh0U3RhdGV9LHkucHJvdG90eXBlLmdldEF2YWlsYWJpbGl0eVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5hZ2VudEF2YWlsYWJpbGl0eVN0YXRlfSx5LnByb3RvdHlwZS5nZXRTdGF0dXM9eS5wcm90b3R5cGUuZ2V0U3RhdGUseS5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5zdGF0ZS5zdGFydFRpbWVzdGFtcC5nZXRUaW1lKCkrdC5jb3JlLmdldFNrZXcoKX0seS5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249eS5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbix5LnByb3RvdHlwZS5nZXRQZXJtaXNzaW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5wZXJtaXNzaW9uc30seS5wcm90b3R5cGUuZ2V0Q29udGFjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90LmNvbnRhY3RzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2NyZWF0ZUNvbnRhY3RBUEkoZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hZXx8dC5nZXRUeXBlKCk9PT1lfSkpfSx5LnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb25maWd1cmF0aW9ufSx5LnByb3RvdHlwZS5nZXRBZ2VudFN0YXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5hZ2VudFN0YXRlc30seS5wcm90b3R5cGUuZ2V0Um91dGluZ1Byb2ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucm91dGluZ1Byb2ZpbGV9LHkucHJvdG90eXBlLmdldFZvaWNlRW5oYW5jZW1lbnRNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnZvaWNlRW5oYW5jZW1lbnRNb2RlfSx5LnByb3RvdHlwZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5nZXRSb3V0aW5nUHJvZmlsZSgpLmNoYW5uZWxDb25jdXJyZW5jeU1hcDtyZXR1cm4gbnx8KG49T2JqZWN0LmtleXModC5DaGFubmVsVHlwZSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiJUQVNLIiE9PW4mJihlW3QuQ2hhbm5lbFR5cGVbbl1dPTEpLGV9KSx7fSkpLGU/bltlXXx8MDpufSx5LnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWV9LHkucHJvdG90eXBlLmdldEFnZW50QVJOPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmFnZW50QVJOfSx5LnByb3RvdHlwZS5nZXRFeHRlbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuZXh0ZW5zaW9ufSx5LnByb3RvdHlwZS5nZXREaWFsYWJsZUNvdW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5kaWFsYWJsZUNvdW50cmllc30seS5wcm90b3R5cGUuaXNTb2Z0cGhvbmVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZUVuYWJsZWR9LHkucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCk7ZSYmZS5hZ2VudFByZWZlcmVuY2VzJiZlLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UmJiFlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlJiYoZS5hZ2VudFByZWZlcmVuY2VzLmxvY2FsZT1lLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UpLGUmJmUuYWdlbnRQcmVmZXJlbmNlcyYmIXQuaXNWYWxpZExvY2FsZShlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlKT9uJiZuLmZhaWx1cmUmJm4uZmFpbHVyZSh0LkFnZW50RXJyb3JTdGF0ZXMuSU5WQUxJRF9MT0NBTEUpOnIuY2FsbCh0LkNsaWVudE1ldGhvZHMuVVBEQVRFX0FHRU5UX0NPTkZJR1VSQVRJT04se2NvbmZpZ3VyYXRpb246dC5hc3NlcnROb3ROdWxsKGUsImNvbmZpZ3VyYXRpb24iKX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlJFTE9BRF9BR0VOVF9DT05GSUdVUkFUSU9OKSxuLnN1Y2Nlc3MmJm4uc3VjY2VzcyhlKX0sZmFpbHVyZTpuJiZuLmZhaWx1cmV9KX0seS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSxuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5QVVRfQUdFTlRfU1RBVEUse3N0YXRlOnQuYXNzZXJ0Tm90TnVsbChlLCJzdGF0ZSIpLGVucXVldWVOZXh0U3RhdGU6ciYmISFyLmVucXVldWVOZXh0U3RhdGV9LG4pfSx5LnByb3RvdHlwZS5vbkVucXVldWVkTmV4dFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5FTlFVRVVFRF9ORVhUX1NUQVRFLGUpfSx5LnByb3RvdHlwZS5zZXRTdGF0dXM9eS5wcm90b3R5cGUuc2V0U3RhdGUseS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQ7dmFyIGk9e2VuZHBvaW50OnQuYXNzZXJ0Tm90TnVsbChvLCJlbmRwb2ludCIpLHF1ZXVlQVJOOm4mJihuLnF1ZXVlQVJOfHxuLnF1ZXVlSWQpfHx0aGlzLmdldFJvdXRpbmdQcm9maWxlKCkuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVBUk59O24mJm4ucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PW4ucmVsYXRlZENvbnRhY3RJZCYmKGkucmVsYXRlZENvbnRhY3RJZD1uLnJlbGF0ZWRDb250YWN0SWQsbi5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIGkucHJldmlvdXNDb250YWN0SWQpLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX09VVEJPVU5EX0NPTlRBQ1QsaSxuJiZ7c3VjY2VzczpuLnN1Y2Nlc3MsZmFpbHVyZTpuLmZhaWx1cmV9KX0seS5wcm90b3R5cGUuZ2V0QWxsUXVldWVBUk5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnJvdXRpbmdQcm9maWxlLnF1ZXVlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnF1ZXVlQVJOfSkpfSx5LnByb3RvdHlwZS5nZXRFbmRwb2ludHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMsaT10LmNvcmUuZ2V0Q2xpZW50KCk7dC5hc3NlcnROb3ROdWxsKG4sImNhbGxiYWNrcyIpLHQuYXNzZXJ0Tm90TnVsbChuLnN1Y2Nlc3MsImNhbGxiYWNrcy5zdWNjZXNzIik7dmFyIGE9cnx8e307YS5lbmRwb2ludHM9YS5lbmRwb2ludHN8fFtdLGEubWF4UmVzdWx0cz1hLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHQuaXNBcnJheShlKXx8KGU9W2VdKSxpLmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9FTkRQT0lOVFMse3F1ZXVlQVJOczplLG5leHRUb2tlbjphLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOmEubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24ocil7aWYoci5uZXh0VG9rZW4pby5nZXRFbmRwb2ludHMoZSxuLHtuZXh0VG9rZW46ci5uZXh0VG9rZW4sbWF4UmVzdWx0czphLm1heFJlc3VsdHMsZW5kcG9pbnRzOmEuZW5kcG9pbnRzLmNvbmNhdChyLmVuZHBvaW50cyl9KTtlbHNle2EuZW5kcG9pbnRzPWEuZW5kcG9pbnRzLmNvbmNhdChyLmVuZHBvaW50cyk7dmFyIGk9YS5lbmRwb2ludHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQuRW5kcG9pbnQoZSl9KSk7bi5zdWNjZXNzKHtlbmRwb2ludHM6aSxhZGRyZXNzZXM6aX0pfX0sZmFpbHVyZTpuLmZhaWx1cmV9KX0seS5wcm90b3R5cGUuZ2V0QWRkcmVzc2VzPXkucHJvdG90eXBlLmdldEVuZHBvaW50cyx5LnByb3RvdHlwZS5fZ2V0UmVzb3VyY2VJZD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRBbGxRdWV1ZUFSTnMoKSxuPWZ1bmN0aW9uKGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1sKGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGksYT0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gYT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGk9ZX0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19fX0odCk7dHJ5e2ZvcihuLnMoKTshKGU9bi5uKCkpLmRvbmU7KXt2YXIgcj1lLnZhbHVlLm1hdGNoKC9cL2FnZW50XC8oW14vXSspLyk7aWYocilyZXR1cm4gclsxXX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG5ldyBFcnJvcigiQWdlbnQucHJvdG90eXBlLl9nZXRSZXNvdXJjZUlkOiBxdWV1ZUFybnMgZGlkIG5vdCBjb250YWluIGFnZW50UmVzb3VyY2VJZDogIix0KX0seS5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5BZ2VudFNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9O3ZhciBiPWZ1bmN0aW9uKGUpe3QuQWdlbnQuY2FsbCh0aGlzKSx0aGlzLmFnZW50RGF0YT1lfTsoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh5LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LGIucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db250YWN0U25hcHNob3QoZSl9O3ZhciBTPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O1MucHJvdG90eXBlLl9nZXRTREtDbGllbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRhY3RDbGllbnQpcmV0dXJuIHRoaXMuY29udGFjdENsaWVudDt0cnl7dmFyIGUsbixyLG89e3Byb3ZpZGVySWQ6bnVsbD09PShlPXQuY29yZSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUucHJvdmlkZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkLGNvbmZpZzpudWxsPT09KG49dC5jb3JlKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5wcm92aWRlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29uZmlnLGlzU3RyZWFtc1Byb3ZpZGVyOm51bGw9PT0ocj10LmNvcmUpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNTdHJlYW1zUHJvdmlkZXJ9O3JldHVybiB0LmdldExvZygpLmluZm8oIkluaXRpYWxpemluZyBDb250YWN0IFNESyBDbGllbnRzIikud2l0aE9iamVjdChvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuY29udGFjdENsaWVudD1uZXcgZCh0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpLHRoaXMuY29udGFjdENsaWVudH1jYXRjaChlKXt2YXIgaSxhLHMsYz17cHJvdmlkZXJJZDpudWxsPT09KGk9dC5jb3JlKXx8dm9pZCAwPT09aXx8bnVsbD09PShpPWkuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5wcm92aWRlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQsY29uZmlnOm51bGw9PT0oYT10LmNvcmUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLnByb3ZpZGVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jb25maWcsaXNTdHJlYW1zUHJvdmlkZXI6bnVsbD09PShzPXQuY29yZSl8fHZvaWQgMD09PXN8fG51bGw9PT0ocz1zLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09cz92b2lkIDA6cy5pc1N0cmVhbXNQcm92aWRlcixlcnJvcjplfTt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBDb250YWN0IFNESyBDbGllbnRzIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sUy5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5nZXRDb250YWN0SWQoKSl9LFMucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuQ0hBVD9uZXcgdC5DaGF0Q29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCk6dGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlRBU0s/bmV3IHQuVGFza0Nvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOnRoaXMuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5FTUFJTD9uZXcgdC5FbWFpbENvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOm5ldyB0LlZvaWNlQ29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCl9LFMucHJvdG90eXBlLmdldEV2ZW50TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoZSx0aGlzLmdldENvbnRhY3RJZCgpKX0sUy5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gpLGUpfSxTLnByb3RvdHlwZS5vbkluY29taW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLklOQ09NSU5HKSxlKX0sUy5wcm90b3R5cGUub25Db25uZWN0aW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLGUpfSxTLnByb3RvdHlwZS5vblBlbmRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuUEVORElORyksZSl9LFMucHJvdG90eXBlLm9uQWNjZXB0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQpLGUpfSxTLnByb3RvdHlwZS5vbk1pc3NlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLGUpfSxTLnByb3RvdHlwZS5vbkVuZGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkVOREVEKSxlKX0sUy5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkRFU1RST1lFRCksZSl9LFMucHJvdG90eXBlLm9uQUNXPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkFDVyksZSl9LFMucHJvdG90eXBlLm9uQ29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCksZSl9LFMucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuRVJST1IpLGUpfSxTLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LFMucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsQ29udGFjdElkfSxTLnByb3RvdHlwZS5nZXRJbml0aWFsQ29udGFjdElkPVMucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkLFMucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnR5cGV9LFMucHJvdG90eXBlLmdldENvbnRhY3REdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdER1cmF0aW9ufSxTLnByb3RvdHlwZS5lbmdhZ2VQcmV2aWV3Q29udGFjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFNES0NsaWVudCgpLHQ9dGhpcy5nZXRDb250YWN0SWQoKTtyZXR1cm4gZS5lbmdhZ2VQcmV2aWV3Q29udGFjdCh0KX0sUy5wcm90b3R5cGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRTREtDbGllbnQoKSx0PXRoaXMuZ2V0Q29udGFjdElkKCk7cmV0dXJuIGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb24odCl9LFMucHJvdG90eXBlLmlzUHJldmlld01vZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRTREtDbGllbnQoKSx0PXRoaXMuZ2V0Q29udGFjdElkKCk7cmV0dXJuIGUuaXNQcmV2aWV3TW9kZSh0KX0sUy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxTLnByb3RvdHlwZS5nZXRTdGF0dXM9Uy5wcm90b3R5cGUuZ2V0U3RhdGUsUy5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LFMucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPVMucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24sUy5wcm90b3R5cGUuZ2V0UXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnF1ZXVlfSxTLnByb3RvdHlwZS5nZXRRdWV1ZVRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVldWVUaW1lc3RhbXB9LFMucHJvdG90eXBlLmdldENvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbm5lY3Rpb25zLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIGUuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5DSEFUP25ldyB0LkNoYXRDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKTplLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuVEFTSz9uZXcgdC5UYXNrQ29ubmVjdGlvbihlLmNvbnRhY3RJZCxuLmNvbm5lY3Rpb25JZCk6ZS5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLkVNQUlMP25ldyB0LkVtYWlsQ29ubmVjdGlvbihlLmNvbnRhY3RJZCxuLmNvbm5lY3Rpb25JZCk6bmV3IHQuVm9pY2VDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKX0pKX0sUy5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNJbml0aWFsQ29ubmVjdGlvbigpfSkpfHxudWxsfSxTLnByb3RvdHlwZS5nZXRBY3RpdmVJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm4gbnVsbCE9ZSYmZS5pc0FjdGl2ZSgpP2U6bnVsbH0sUy5wcm90b3R5cGUuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzSW5pdGlhbENvbm5lY3Rpb24oKSYmZS5nZXRUeXBlKCkhPT10LkNvbm5lY3Rpb25UeXBlLkFHRU5UfSkpfSxTLnByb3RvdHlwZS5nZXRTaW5nbGVBY3RpdmVUaGlyZFBhcnR5Q29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRoaXJkUGFydHlDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKVswXXx8bnVsbH0sUy5wcm90b3R5cGUuZ2V0QWdlbnRDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0VHlwZSgpO3JldHVybiBuPT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVHx8bj09PXQuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR30pKX0sUy5wcm90b3R5cGUuZ2V0QWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKX0sUy5wcm90b3R5cGUuaGFzVHdvQWN0aXZlUGFydGljaXBhbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10aGlzLmdldEFjdGl2ZUNvbm5lY3Rpb25zKCkubGVuZ3RofSxTLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5uYW1lfSxTLnByb3RvdHlwZS5nZXRJbml0aWF0aW9uTWV0aG9kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWF0aW9uTWV0aG9kfSxTLnByb3RvdHlwZS5nZXRDb250YWN0TWV0YWRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RNZXRhZGF0YX0sUy5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmRlc2NyaXB0aW9ufSxTLnByb3RvdHlwZS5nZXRSZWxhdGVkQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5yZWxhdGVkQ29udGFjdElkfSxTLnByb3RvdHlwZS5nZXRDb250YWN0QXNzb2NpYXRpb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdEFzc29jaWF0aW9uSWR9LFMucHJvdG90eXBlLmdldEN1c3RvbWVyRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmN1c3RvbWVyRW5kcG9pbnR9LFMucHJvdG90eXBlLmdldENvbm5lY3RTeXN0ZW1FbmRwb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29ubmVjdFN5c3RlbUVuZHBvaW50fSxTLnByb3RvdHlwZS5nZXRSZWZlcmVuY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5yZWZlcmVuY2VzfSxTLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5hdHRyaWJ1dGVzfSxTLnByb3RvdHlwZS5nZXRDb250YWN0RmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RGZWF0dXJlc30sUy5wcm90b3R5cGUuZ2V0Q2hhbm5lbENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNoYW5uZWxDb250ZXh0fSxTLnByb3RvdHlwZS5nZXRTZWdtZW50QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc2VnbWVudEF0dHJpYnV0ZXN9LFMucHJvdG90eXBlLmdldENvbnRhY3RTdWJ0eXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWdtZW50QXR0cmlidXRlcygpO3JldHVybiBlJiZlWyJjb25uZWN0OlN1YnR5cGUiXT9lWyJjb25uZWN0OlN1YnR5cGUiXS5WYWx1ZVN0cmluZzpudWxsfSxTLnByb3RvdHlwZS5pc1NvZnRwaG9uZUNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlZPSUNFfHx0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0spJiZCb29sZWFuKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKX0pKSl9LFMucHJvdG90eXBlLmhhc1ZpZGVvUlRDQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9KSl9LFMucHJvdG90eXBlLmNhbkFnZW50U2VuZFZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9LFMucHJvdG90eXBlLmNhbkFnZW50UmVjZWl2ZVZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO2lmKGUuY2FuU2VuZFZpZGVvJiZlLmNhblNlbmRWaWRlbygpKXJldHVybiEwO3ZhciB0PXRoaXMuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zKCk7cmV0dXJuIHQmJnQubGVuZ3RoPjAmJnRoaXMuY2FuQWdlbnRTZW5kVmlkZW8oKX0sUy5wcm90b3R5cGUuaGFzU2NyZWVuU2hhcmVDYXBhYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9KSl9LFMucHJvdG90eXBlLmNhbkFnZW50U2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9LFMucHJvdG90eXBlLmNhbkN1c3RvbWVyU2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0sUy5wcm90b3R5cGUuc3RhcnRTY3JlZW5TaGFyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9dShzKCkubWFyaygoZnVuY3Rpb24gZShuKXt2YXIgcixvLGk7cmV0dXJuIHMoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPXRoaXMuZ2V0Q29udGFjdElkKCksImNvbm5lY3Q6V2ViUlRDIj09PXRoaXMuZ2V0Q29udGFjdFN1YnR5cGUoKSl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2Nhc2UgMzppZih0aGlzLmlzQ29ubmVjdGVkKCkpe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgaXMgbm90IGNvbm5lY3RlZC4iLHIpO2Nhc2UgNTppZihuKXtlLm5leHQ9MTE7YnJlYWt9cmV0dXJuIG89dC5pc0NSTSgpP3QuY29yZS5nZXRDbGllbnQoKTp0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKSxpPXtJbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxDb250YWN0SWQ6cixQYXJ0aWNpcGFudElkOnRoaXMuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZ2V0Q29ubmVjdGlvbklkKCl9LGUuYWJydXB0KCJyZXR1cm4iLG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe28uY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5TVEFSVF9TQ1JFRU5fU0hBUklORyxpLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3QuZ2V0TG9nKCkuaW5mbygic3RhcnRTY3JlZW5TaGFyaW5nIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxkYXRhOntjb250YWN0SWQ6cn19KSxlKG4pfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0U2NyZWVuU2hhcmluZyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX0VSUk9SLGRhdGE6e2NvbnRhY3RJZDpyfX0pLG4oZSl9fSl9KSkpO2Nhc2UgMTE6dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUQVJURUQsZGF0YTp7Y29udGFjdElkOnJ9fSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLFMucHJvdG90eXBlLm9uU2NyZWVuU2hhcmluZ1N0YXJ0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxlKX0sUy5wcm90b3R5cGUuc3RvcFNjcmVlblNoYXJpbmc9dShzKCkubWFyaygoZnVuY3Rpb24gZSgpe3ZhciBuO3JldHVybiBzKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYobj10aGlzLmdldENvbnRhY3RJZCgpLCJjb25uZWN0OldlYlJUQyI9PT10aGlzLmdldENvbnRhY3RTdWJ0eXBlKCkpe2UubmV4dD0zO2JyZWFrfXRocm93IG5ldyBFcnJvcigiU2NyZWVuIHNoYXJpbmcgaXMgb25seSBzdXBwb3J0ZWQgZm9yIFdlYlJUQyBjb250YWN0cy4iKTtjYXNlIDM6aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXtlLm5leHQ9NTticmVha310aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJDb250YWN0ICVzIGlzIG5vdCBjb25uZWN0ZWQuIixuKTtjYXNlIDU6dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUT1BQRUQsZGF0YTp7Y29udGFjdElkOm59fSk7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksUy5wcm90b3R5cGUub25TY3JlZW5TaGFyaW5nU3RvcHBlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVE9QUEVELGUpfSxTLnByb3RvdHlwZS5vblNjcmVlblNoYXJpbmdFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19FUlJPUixlKX0sUy5wcm90b3R5cGUuX2lzSW5ib3VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhdGlvbk1ldGhvZCE9PXQuQ29udGFjdEluaXRpYXRpb25NZXRob2QuT1VUQk9VTkR9LFMucHJvdG90eXBlLmlzSW5ib3VuZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm5bdC5NZWRpYVR5cGUuVEFTSyx0Lk1lZGlhVHlwZS5FTUFJTF0uaW5jbHVkZXMoZS5nZXRNZWRpYVR5cGUoKSk/dGhpcy5faXNJbmJvdW5kKCk6ISFlJiZlLmdldFR5cGUoKT09PXQuQ29ubmVjdGlvblR5cGUuSU5CT1VORH0sUy5wcm90b3R5cGUuaXNDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRH0sUy5wcm90b3R5cGUuYWNjZXB0PWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKSxyPXRoaXMsbz10aGlzLmdldENvbnRhY3RJZCgpO3QucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOnQuQ2xpY2tUeXBlLkFDQ0VQVCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksbi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5BQ0NFUFRfQ09OVEFDVCx7Y29udGFjdElkOm99LHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciBpPXQuY29yZS5nZXRVcHN0cmVhbSgpO2kuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLkFDQ0VQVEVELGRhdGE6bmV3IHQuQ29udGFjdChvKX0pLGkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkFDQ0VQVEVELHIuZ2V0Q29udGFjdElkKCkpLGRhdGE6bmV3IHQuQ29udGFjdChvKX0pO3ZhciBhPW5ldyB0LkNvbnRhY3Qobyk7dC5pc0ZpcmVmb3hCcm93c2VyKCkmJmEuaXNTb2Z0cGhvbmVDYWxsKCkmJnQuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50KCksZSYmZS5zdWNjZXNzJiZlLnN1Y2Nlc3Mobil9LGZhaWx1cmU6ZnVuY3Rpb24obixyKXt0LmdldExvZygpLmVycm9yKCJBY2NlcHQgQ29udGFjdCBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhFeGNlcHRpb24obikud2l0aE9iamVjdCh7ZGF0YTpyfSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDb250YWN0QWNjZXB0RmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KSxlJiZlLmZhaWx1cmUmJmUuZmFpbHVyZSh0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IpfX0pfSxTLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dC5nZXRMb2coKS53YXJuKCJjb250YWN0LmRlc3Ryb3koKSBoYXMgYmVlbiBkZXByZWNhdGVkLiIpfSxTLnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3QucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOnQuQ2xpY2tUeXBlLlJFSkVDVCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksbi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5SRUpFQ1RfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ09NUExFVEVfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ0xFQVJfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5ub3RpZnlJc3N1ZT1mdW5jdGlvbihlLG4scil7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLk5PVElGWV9DT05UQUNUX0lTU1VFLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxpc3N1ZUNvZGU6ZSxkZXNjcmlwdGlvbjpufSxyKX0sUy5wcm90b3R5cGUuYWRkQ29ubmVjdGlvbj1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQsci5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfQURESVRJT05BTF9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxlbmRwb2ludDpvfSxuKX0sUy5wcm90b3R5cGUudG9nZ2xlQWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldENsaWVudCgpLHI9bnVsbCxvPXQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRH0pKTtpZihudWxsIT1vKXI9by5nZXRDb25uZWN0aW9uSWQoKTtlbHNle3ZhciBpPXRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQWN0aXZlKCl9KSk7aS5sZW5ndGg+MCYmKHI9aVswXS5nZXRDb25uZWN0aW9uSWQoKSl9bi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5UT0dHTEVfQUNUSVZFX0NPTk5FQ1RJT05TLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6cn0sZSl9LFMucHJvdG90eXBlLnNlbmRTb2Z0cGhvbmVNZXRyaWNzPWZ1bmN0aW9uKG4scil7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24sc29mdHBob25lU3RyZWFtU3RhdGlzdGljczpufSxyKSx0LnB1Ymxpc2hTb2Z0cGhvbmVTdGF0cyh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24sc3RhdHM6bn0pfSxTLnByb3RvdHlwZS5zZW5kU29mdHBob25lUmVwb3J0PWZ1bmN0aW9uKG4scil7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfUkVQT1JULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixyZXBvcnQ6bn0scil9LFMucHJvdG90eXBlLmNvbmZlcmVuY2VDb25uZWN0aW9ucz1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ09ORkVSRU5DRV9DT05ORUNUSU9OUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkNvbnRhY3RTbmFwc2hvdCh0aGlzLl9nZXREYXRhKCkpfSxTLnByb3RvdHlwZS5pc011bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29udGFjdEZlYXR1cmVzKCk7cmV0dXJuISghZXx8IWUubXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkKX0sUy5wcm90b3R5cGUudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGU9ZnVuY3Rpb24oZSxuKXtlJiZPYmplY3QudmFsdWVzKHQuTW9uaXRvcmluZ01vZGUpLmluY2x1ZGVzKGUudG9VcHBlckNhc2UoKSk/dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlVQREFURV9NT05JVE9SX1BBUlRJQ0lQQU5UX1NUQVRFLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSx0YXJnZXRNb25pdG9yTW9kZTplLnRvVXBwZXJDYXNlKCl9LG4pOih0LmdldExvZygpLmVycm9yKCJJbnZhbGlkIHRhcmdldCBzdGF0ZSB3YXMgcHJvdmlkZWQ6ICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4mJm4uZmFpbHVyZSYmbi5mYWlsdXJlKHQuTW9uaXRvcmluZ0Vycm9yVHlwZXMuSU5WQUxJRF9UQVJHRVRfU1RBVEUpKX0sUy5wcm90b3R5cGUuaXNVbmRlclN1cGVydmlzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VHlwZSgpIT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVH0pKTtyZXR1cm4gdm9pZCAwIT09KGUmJmUuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNCYXJnZSgpJiZlLmlzQWN0aXZlKCl9KSkpfSxTLnByb3RvdHlwZS5zaWxlbnRNb25pdG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlKHQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IsZSl9LFMucHJvdG90eXBlLmJhcmdlSW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUodC5Nb25pdG9yaW5nTW9kZS5CQVJHRSxlKX0sUy5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlBBVVNFX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0sUy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5SRVNVTUVfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxTLnByb3RvdHlwZS5hZGRQYXJ0aWNpcGFudD1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQsci5jYWxsKHQuQ2xpZW50TWV0aG9kcy5BRERfTkVXX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGVuZHBvaW50Om99LG4pfSxTLnByb3RvdHlwZS50cmFuc2Zlcj1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQsci5jYWxsKHQuQ2xpZW50TWV0aG9kcy5UUkFOU0ZFUl9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxlbmRwb2ludDpvfSxuKX07dmFyIEU9ZnVuY3Rpb24oZSl7dC5Db250YWN0LmNhbGwodGhpcyxlLmNvbnRhY3RJZCksdGhpcy5jb250YWN0RGF0YT1lfTsoRS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPUUsRS5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0RGF0YX0sRS5wcm90b3R5cGUuX2NyZWF0ZUNvbm5lY3Rpb25BUEk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0LkNvbm5lY3Rpb25TbmFwc2hvdChlKX07dmFyIEM9ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbnRhY3RJZD1lLHRoaXMuY29ubmVjdGlvbklkPXQsdGhpcy5faW5pdE1lZGlhQ29udHJvbGxlcigpfTtDLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb25uZWN0aW9uRGF0YSh0aGlzLmdldENvbnRhY3RJZCgpLHRoaXMuZ2V0Q29ubmVjdGlvbklkKCkpfSxDLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LEMucHJvdG90eXBlLmdldENvbm5lY3Rpb25JZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25JZH0sQy5wcm90b3R5cGUuZ2V0RW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQuRW5kcG9pbnQodGhpcy5fZ2V0RGF0YSgpLmVuZHBvaW50KX0sQy5wcm90b3R5cGUuZ2V0QWRkcmVzcz1DLnByb3RvdHlwZS5nZXRFbmRwb2ludCxDLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc3RhdGV9LEMucHJvdG90eXBlLmdldFN0YXR1cz1DLnByb3RvdHlwZS5nZXRTdGF0ZSxDLnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQubm93KCktdGhpcy5fZ2V0RGF0YSgpLnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCkrdC5jb3JlLmdldFNrZXcoKX0sQy5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249Qy5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbixDLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS50eXBlfSxDLnByb3RvdHlwZS5pc0luaXRpYWxDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsfSxDLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRhaW5zKHQuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTLHRoaXMuZ2V0U3RhdHVzKCkudHlwZSl9LEMucHJvdG90eXBlLmlzQ29ubmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29udGFpbnModC5DT05ORUNUSU9OX0NPTk5FQ1RFRF9TVEFURVMsdGhpcy5nZXRTdGF0dXMoKS50eXBlKX0sQy5wcm90b3R5cGUuaXNDb25uZWN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNUSU5HfSxDLnByb3RvdHlwZS5pc09uSG9sZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRH0sQy5wcm90b3R5cGUuZ2V0U29mdHBob25lTWVkaWFJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zb2Z0cGhvbmVNZWRpYUluZm99LEMucHJvdG90eXBlLmdldE1vbml0b3JJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yaW5nSW5mb30sQy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXt0LnB1Ymxpc2hDbGlja1N0cmVhbURhdGEoe2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNsaWNrVHlwZTp0LkNsaWNrVHlwZS5IQU5HVVAsY2xpY2tUaW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0pLHQuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5ERVNUUk9ZX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sQy5wcm90b3R5cGUuc2VuZERpZ2l0cz1mdW5jdGlvbihlLG4pe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5TRU5EX0RJR0lUUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCksZGlnaXRzOmV9LG4pfSxDLnByb3RvdHlwZS5ob2xkPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5IT0xEX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sQy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5SRVNVTUVfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxDLnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkNvbm5lY3Rpb25TbmFwc2hvdCh0aGlzLl9nZXREYXRhKCkpfSxDLnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3RoaXMuZ2V0TWVkaWFJbmZvKCkmJnQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpLmNhdGNoKChmdW5jdGlvbigpe30pKX0sQy5wcm90b3R5cGUuX2lzQWdlbnRDb25uZWN0aW9uVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0VHlwZSgpO3JldHVybiBlPT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVHx8ZT09PXQuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR30sQy5wcm90b3R5cGUuX2lzQWdlbnRDb25uZWN0aW9uVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0VHlwZSgpO3JldHVybiBlPT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVHx8ZT09PXQuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR307dmFyIEk9ZnVuY3Rpb24oZSl7dGhpcy5jb250YWN0SWQ9ZX07SS5wcm90b3R5cGUuZ2V0U3BlYWtlcklkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3ZhciBpPXtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksYXdzQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpfTt0LmdldExvZygpLmluZm8oImdldFNwZWFrZXJJZCBjYWxsZWQiKS53aXRoT2JqZWN0KGkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkdFVF9DT05UQUNULGkse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoZS5jb250YWN0RGF0YS5jdXN0b21lcklkKXt2YXIgbj17c3BlYWtlcklkOmUuY29udGFjdERhdGEuY3VzdG9tZXJJZH07dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VySWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIobil9ZWxzZXt2YXIgaT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk5PX1NQRUFLRVJfSURfRk9VTkQsIk5vIHNwZWFrZXJJZCBhc3NvdGlhdGVkIHdpdGggdGhpcyBjYWxsIik7byhpKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiR2V0IFNwZWFrZXJJZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfU1BFQUtFUl9JRF9GQUlMRUQsIkdldCBTcGVha2VySWQgZmFpbGVkIixlKTtvKG4pfX0pfSkpfSxJLnByb3RvdHlwZS5nZXRTcGVha2VyU3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuZ2V0U3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oaSl7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBhPXtTcGVha2VySWQ6dC5hc3NlcnROb3ROdWxsKGkuc3BlYWtlcklkLCJzcGVha2VySWQiKSxEb21haW5JZDplfTt0LmdldExvZygpLmluZm8oImdldFNwZWFrZXJTdGF0dXMgY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5ERVNDUklCRV9TUEVBS0VSLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VyU3RhdHVzIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciBuPUpTT04ucGFyc2UoZSk7c3dpdGNoKG4uc3RhdHVzKXtjYXNlIDQwMDpjYXNlIDQwNDp2YXIgaT1uO2kudHlwZT1pLnR5cGU/aS50eXBlOnQuVm9pY2VJZEVycm9yVHlwZXMuU1BFQUtFUl9JRF9OT1RfRU5ST0xMRUQsdC5nZXRMb2coKS5pbmZvKCJTcGVha2VyIGlzIG5vdCBlbnJvbGxlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoaSk7YnJlYWs7ZGVmYXVsdDp0LmdldExvZygpLmVycm9yKCJnZXRTcGVha2VyU3RhdHVzIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkdFVF9TUEVBS0VSX1NUQVRVU19GQUlMRUQsIkdldCBTcGVha2VyU3RhdHVzIGZhaWxlZCIsZSk7byhhKX19fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LEkucHJvdG90eXBlLl9vcHRPdXRTcGVha2VySW5MY21zPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksYSl7dmFyIHM9e0NvbnRhY3RJZDpyLmNvbnRhY3RJZCxJbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxBV1NBY2NvdW50SWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCksQ3VzdG9tZXJJZDp0LmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksVm9pY2VJZFJlc3VsdDp7U3BlYWtlck9wdGVkT3V0OiEwLGdlbmVyYXRlZFNwZWFrZXJJZDpufX07dC5nZXRMb2coKS5pbmZvKCJfb3B0T3V0U3BlYWtlckluTGNtcyBjYWxsZWQiKS53aXRoT2JqZWN0KHMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksby5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLlVQREFURV9WT0lDRV9JRF9EQVRBLHMse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJvcHRPdXRTcGVha2VySW5MY21zIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIm9wdE91dFNwZWFrZXJJbkxjbXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuT1BUX09VVF9TUEVBS0VSX0lOX0xDTVNfRkFJTEVELCJvcHRPdXRTcGVha2VySW5MY21zIGZhaWxlZCIsZSk7YShuKX19KX0pKX0sSS5wcm90b3R5cGUub3B0T3V0U3BlYWtlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKGkpe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihhKXt2YXIgcz1pLnNwZWFrZXJJZCxjPXtTcGVha2VySWQ6dC5hc3NlcnROb3ROdWxsKHMsInNwZWFrZXJJZCIpLERvbWFpbklkOmF9O3QuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlciBjYWxsZWQiKS53aXRoT2JqZWN0KGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLk9QVF9PVVRfU1BFQUtFUixjLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe2UuX29wdE91dFNwZWFrZXJJbkxjbXMocyxuLmdlbmVyYXRlZFNwZWFrZXJJZCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpLHQuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihuKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJvcHRPdXRTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk9QVF9PVVRfU1BFQUtFUl9GQUlMRUQsIm9wdE91dFNwZWFrZXIgZmFpbGVkLiIsZSk7byhuKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sSS5wcm90b3R5cGUuZGVsZXRlU3BlYWtlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKGkpe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYT17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChpLnNwZWFrZXJJZCwic3BlYWtlcklkIiksRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJkZWxldGVTcGVha2VyIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVMRVRFX1NQRUFLRVIsYSx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImRlbGV0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiZGVsZXRlU3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5ERUxFVEVfU1BFQUtFUl9GQUlMRUQsImRlbGV0ZVNwZWFrZXIgZmFpbGVkLiIsZSk7byhuKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sSS5wcm90b3R5cGUuc3RhcnRTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihpKXt2YXIgYT17Y29udGFjdElkOmUuY29udGFjdElkLGluc3RhbmNlSWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLGN1c3RvbWVyQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLGNsaWVudFRva2VuOkFXUy51dGlsLnV1aWQudjQoKSxkb21haW5JZDppfTt0LmdldExvZygpLmluZm8oInN0YXJ0U2Vzc2lvbiBjYWxsZWQiKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLlNUQVJUX1ZPSUNFX0lEX1NFU1NJT04sYSx7c3VjY2VzczpmdW5jdGlvbihlKXtpZihlLnNlc3Npb25JZClyKGUpO2Vsc2V7dC5nZXRMb2coKS5lcnJvcigic3RhcnRWb2ljZUlkU2Vzc2lvbiBmYWlsZWQsIG5vIHNlc3Npb24gaWQgcmV0dXJuZWQiKS53aXRoT2JqZWN0KHtkYXRhOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuU1RBUlRfU0VTU0lPTl9GQUlMRUQsIk5vIHNlc3Npb24gaWQgcmV0dXJuZWQgZnJvbSBzdGFydCBzZXNzaW9uIGFwaSIpO28obil9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0Vm9pY2VJZFNlc3Npb24gZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuU1RBUlRfU0VTU0lPTl9GQUlMRUQsInN0YXJ0Vm9pY2VJZFNlc3Npb24gZmFpbGVkIixlKTtvKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5ldmFsdWF0ZVNwZWFrZXI9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztuLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCksbz10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCksaT0wO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oYSxzKXtmdW5jdGlvbiBjKCl7bi5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB1PXtTZXNzaW9uTmFtZU9ySWQ6by5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxEb21haW5JZDplfTt0LmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBjYWxsZWQiKS53aXRoT2JqZWN0KHUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkVWQUxVQVRFX1NFU1NJT04sdSx7c3VjY2VzczpmdW5jdGlvbihlKXtpZigrK2k8dC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fTUFYX1BPTExfVElNRVMpaWYoZS5TdHJlYW1pbmdTdGF0dXM9PT10LlZvaWNlSWRTdHJlYW1pbmdTdGF0dXMuUEVORElOR19DT05GSUdVUkFUSU9OKXNldFRpbWVvdXQoYyx0LlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVElPTl9QT0xMSU5HX0lOVEVSVkFMKTtlbHNle2lmKGUuQXV0aGVudGljYXRpb25SZXN1bHR8fChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0PXt9LGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUQpLGUuRnJhdWREZXRlY3Rpb25SZXN1bHR8fChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0PXt9LGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUQpLCFuLmlzQXV0aEVuYWJsZWQoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJiFuLmlzRnJhdWRFbmFibGVkKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXJldHVybiB0LmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBhKGUpO2lmKGUuU3RyZWFtaW5nU3RhdHVzPT09dC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLkVOREVEJiYobi5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJihlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRSksbi5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pJiYoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkUpKSxuLmlzQXV0aFJlc3VsdEluY29uY2x1c2l2ZShlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmbi5pc0ZyYXVkUmVzdWx0SW5jb25jbHVzaXZlKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXJldHVybiB0LmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBhKGUpO2lmKCFuLmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmbi5pc0F1dGhFbmFibGVkKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pKXN3aXRjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKXtjYXNlIHQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uQUNDRVBUOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uQVVUSEVOVElDQVRFRDticmVhaztjYXNlIHQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uUkVKRUNUOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0FVVEhFTlRJQ0FURUQ7YnJlYWs7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLlNQRUFLRVJfT1BURURfT1VUOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uT1BURURfT1VUO2JyZWFrO2Nhc2UgdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5TUEVBS0VSX05PVF9FTlJPTExFRDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTlJPTExFRDticmVhaztkZWZhdWx0OmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uRVJST1J9aWYoIW4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSYmbi5pc0ZyYXVkRW5hYmxlZChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlzd2l0Y2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbil7Y2FzZSB0LlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkhJR0hfUklTSzplLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkhJR0hfUklTSzticmVhaztjYXNlIHQuVm9pY2VJZEZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTE9XX1JJU0s6ZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5MT1dfUklTSzticmVhaztkZWZhdWx0OmUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uRVJST1J9aWYoIW4uaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYhbi5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXJldHVybiB0LmdldExvZygpLmluZm8oImV2YWx1YXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBhKGUpO3NldFRpbWVvdXQoYyx0LlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVElPTl9QT0xMSU5HX0lOVEVSVkFMKX1lbHNle3QuZ2V0TG9nKCkuZXJyb3IoImV2YWx1YXRlU3BlYWtlciB0aW1lb3V0Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgcj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkVWQUxVQVRFX1NQRUFLRVJfVElNRU9VVCwiZXZhbHVhdGVTcGVha2VyIHRpbWVvdXQiKTtzKHIpfX0sZmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgbjtzd2l0Y2goSlNPTi5wYXJzZShlKS5zdGF0dXMpe2Nhc2UgNDAwOmNhc2UgNDA0Om49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5TRVNTSU9OX05PVF9FWElTVFMsImV2YWx1YXRlU3BlYWtlciBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIsZSksdC5nZXRMb2coKS5lcnJvcigiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2JyZWFrO2RlZmF1bHQ6bj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkVWQUxVQVRFX1NQRUFLRVJfRkFJTEVELCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkIixlKSx0LmdldExvZygpLmVycm9yKCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXMobil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3MoZSl9KSl9ZT9uLnN0YXJ0U2Vzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKGUpe24uc3luY1NwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoYyx0LlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVEVfU0VTU0lPTl9ERUxBWSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN5bmNTcGVha2VySWQgZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz10cnVlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMoZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0U2Vzc2lvbiBmYWlsZWQgd2hlbiBzZXNzaW9uIHN0YXJ0TmV3PXRydWUiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscyhlKX0pKTpuLnN5bmNTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbigpe2MoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigic3luY1NwZWFrZXJJZCBmYWlsZWQgd2hlbiBzZXNzaW9uIHN0YXJ0TmV3PWZhbHNlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMoZSl9KSl9KSl9LEkucHJvdG90eXBlLmRlc2NyaWJlU2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj10LmNvcmUuZ2V0Q2xpZW50KCkscj10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYT17U2Vzc2lvbk5hbWVPcklkOnIuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJkZXNjcmliZVNlc3Npb24gY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5ERVNDUklCRV9TRVNTSU9OLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7byhlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJkZXNjcmliZVNlc3Npb24gZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuREVTQ1JJQkVfU0VTU0lPTl9GQUlMRUQsImRlc2NyaWJlU2Vzc2lvbiBmYWlsZWQiLGUpO2kobil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2koZSl9KSl9KSl9LEkucHJvdG90eXBlLmNoZWNrRW5yb2xsbWVudFN0YXR1cz1mdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImNoZWNrRW5yb2xsbWVudFN0YXR1cyBjYWxsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXRoaXMscj0wLG89ITE7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpeyFmdW5jdGlvbiBzKCl7aWYoKytyPHQuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX01BWF9QT0xMX1RJTUVTKW4uZGVzY3JpYmVTZXNzaW9uKCkudGhlbigoZnVuY3Rpb24ocil7c3dpdGNoKHIuU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuU3RhdHVzKXtjYXNlIHQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRDppKHIpO2JyZWFrO2Nhc2UgdC5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1M6b3x8ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fChlKHIpLG89ITApLHNldFRpbWVvdXQocyx0LlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMKTticmVhaztjYXNlIHQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLk5PVF9FTk9VR0hfU1BFRUNIOnIuU2Vzc2lvbi5TdHJlYW1pbmdTdGF0dXMhPT10LlZvaWNlSWRTdHJlYW1pbmdTdGF0dXMuRU5ERUQ/c2V0VGltZW91dChzLHQuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX1BPTExJTkdfSU5URVJWQUwpOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5zdGFydFNlc3Npb24oKS50aGVuKChmdW5jdGlvbihlKXtzKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUsdCl7YShlKX0pKX0pLHQuVm9pY2VJZENvbnN0YW50cy5TVEFSVF9TRVNTSU9OX0RFTEFZKTticmVhaztkZWZhdWx0OnZhciBjPXIuU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuTWVzc2FnZT9yLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLk1lc3NhZ2U6ImVucm9sbFNwZWFrZXIgZmFpbGVkLiBVbmtub3duIGVucm9sbG1lbnQgc3RhdHVzIGhhcyBiZWVuIHJlY2VpdmVkIjt0LmdldExvZygpLmVycm9yKGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHU9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FTlJPTExfU1BFQUtFUl9GQUlMRUQsYyxyLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLlN0YXR1cyk7YSh1KX19KSk7ZWxzZXt0LmdldExvZygpLmVycm9yKCJlbnJvbGxTcGVha2VyIHRpbWVvdXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBjPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfVElNRU9VVCwiZW5yb2xsU3BlYWtlciB0aW1lb3V0Iik7YShjKX19KCl9KSl9LEkucHJvdG90eXBlLmVucm9sbFNwZWFrZXI9ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIGNhbGxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dGhpcztyZXR1cm4gbi5jaGVja0NvbmZlcmVuY2VDYWxsKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7bi5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oKXtuLmdldFNwZWFrZXJTdGF0dXMoKS50aGVuKChmdW5jdGlvbihpKXtpLlNwZWFrZXImJmkuU3BlYWtlci5TdGF0dXM9PXQuVm9pY2VJZFNwZWFrZXJTdGF0dXMuT1BURURfT1VUP24uZGVsZXRlU3BlYWtlcigpLnRoZW4oKGZ1bmN0aW9uKCl7bi5lbnJvbGxTcGVha2VySGVscGVyKHIsbyxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKTpuLmVucm9sbFNwZWFrZXJIZWxwZXIocixvLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5lbnJvbGxTcGVha2VySGVscGVyPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzLGk9dC5jb3JlLmdldENsaWVudCgpLGE9dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO28uZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihzKXt2YXIgYz17U2Vzc2lvbk5hbWVPcklkOmEuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6c307dC5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VySGVscGVyIGNhbGxlZCIpLndpdGhPYmplY3QoYykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuRU5ST0xMX0JZX1NFU1NJT04sYyx7c3VjY2VzczpmdW5jdGlvbihpKXtpLlN0YXR1cz09PXQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRD8odC5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoaSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKGkpKTpvLmNoZWNrRW5yb2xsbWVudFN0YXR1cyhyKS50aGVuKChmdW5jdGlvbihuKXt0LmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUobil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24oZSl9KSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiZW5yb2xsU3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHI9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FTlJPTExfU1BFQUtFUl9GQUlMRUQsImVucm9sbFNwZWFrZXIgZmFpbGVkIixlKTtuKHIpfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSxJLnByb3RvdHlwZS5fdXBkYXRlU3BlYWtlcklkSW5MY21zPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksYSl7dmFyIHM9e0NvbnRhY3RJZDpyLmNvbnRhY3RJZCxJbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxBV1NBY2NvdW50SWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCksQ3VzdG9tZXJJZDp0LmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksVm9pY2VJZFJlc3VsdDp7Z2VuZXJhdGVkU3BlYWtlcklkOm59fTt0LmdldExvZygpLmluZm8oIl91cGRhdGVTcGVha2VySWRJbkxjbXMgY2FsbGVkIikud2l0aE9iamVjdChzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfVk9JQ0VfSURfREFUQSxzLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5MY21zIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5VUERBVEVfU1BFQUtFUl9JRF9JTl9MQ01TX0ZBSUxFRCwidXBkYXRlU3BlYWtlcklkSW5MY21zIGZhaWxlZCIsZSk7YShuKX19KX0pKX0sSS5wcm90b3R5cGUudXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7bi5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXtuLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24ocyl7dmFyIGM9e1Nlc3Npb25OYW1lT3JJZDpvLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLFNwZWFrZXJJZDp0LmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksRG9tYWluSWQ6c307dC5nZXRMb2coKS5pbmZvKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfU0VTU0lPTixjLHtzdWNjZXNzOmZ1bmN0aW9uKHIpe3QuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbz1yJiZyLlNlc3Npb24mJnIuU2Vzc2lvbi5HZW5lcmF0ZWRTcGVha2VySWQ7bi5fdXBkYXRlU3BlYWtlcklkSW5MY21zKGUsbykudGhlbigoZnVuY3Rpb24oKXtpKHIpfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciBuO3N3aXRjaChKU09OLnBhcnNlKGUpLnN0YXR1cyl7Y2FzZSA0MDA6Y2FzZSA0MDQ6bj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlNFU1NJT05fTk9UX0VYSVNUUywidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIixlKSx0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7YnJlYWs7ZGVmYXVsdDpuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuVVBEQVRFX1NQRUFLRVJfSURfRkFJTEVELCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkIixlKSx0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWEobil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EoZSl9KSl9KSl9LEkucHJvdG90eXBlLnN5bmNTcGVha2VySWQ9ZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oInN5bmNTcGVha2VySWQgY2FsbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKHIpe2UudXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkKHIuc3BlYWtlcklkKS50aGVuKChmdW5jdGlvbihlKXt0KGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpfSxJLnByb3RvdHlwZS5nZXREb21haW5JZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXtpZigobmV3IHQuQWdlbnQpLmdldFBlcm1pc3Npb25zKCkuaW5jbHVkZXModC5BZ2VudFBlcm1pc3Npb25zLlZPSUNFX0lEKSlpZih0LmNvcmUudm9pY2VJZERvbWFpbklkKWUodC5jb3JlLnZvaWNlSWREb21haW5JZCk7ZWxzZXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCksbz17SW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksSW50ZWdyYXRpb25UeXBlOiJWT0lDRV9JRCJ9O3QuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQgY2FsbGVkIikud2l0aE9iamVjdChvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5MSVNUX0lOVEVHUkFUSU9OX0FTU09DSUFUSU9OUyxvLHtzdWNjZXNzOmZ1bmN0aW9uKHIpe3RyeXt2YXIgbztpZihyLkludGVncmF0aW9uQXNzb2NpYXRpb25TdW1tYXJ5TGlzdC5sZW5ndGg+PTEmJihvPXIuSW50ZWdyYXRpb25Bc3NvY2lhdGlvblN1bW1hcnlMaXN0WzBdLkludGVncmF0aW9uQXJuLnJlcGxhY2UoL14uKmRvbWFpblwvL2ksIiIpKSwhbyl7dC5nZXRMb2coKS5pbmZvKCJnZXREb21haW5JZDogbm8gZG9tYWluSWQgZm91bmQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBpPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuTk9fRE9NQUlOX0lEX0ZPVU5EKTtyZXR1cm4gdm9pZCBuKGkpfXQuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELGRhdGE6e2RvbWFpbklkOm99fSksZShvKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJnZXREb21haW5JZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkdFVF9ET01BSU5fSURfRkFJTEVELCJnZXREb21haW5JZCBmYWlsZWQiLGUpLG4oaSl9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoImdldERvbWFpbklkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgcj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkdFVF9ET01BSU5fSURfRkFJTEVELCJnZXREb21haW5JZCBmYWlsZWQiLGUpO24ocil9fSl9ZWxzZSBuKG5ldyBFcnJvcigiQWdlbnQgZG9lc24ndCBoYXZlIHRoZSBwZXJtaXNzaW9uIGZvciBWb2ljZSBJRCIpKX0pKX0sSS5wcm90b3R5cGUuY2hlY2tDb25mZXJlbmNlQ2FsbD1mdW5jdGlvbigpe2lmKHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKS5jb25uZWN0aW9ucy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbnRhaW5zKHQuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTLGUuc3RhdGUudHlwZSl9KSkubGVuZ3RoPjIpdGhyb3cgbmV3IHQuTm90SW1wbGVtZW50ZWRFcnJvcigiVm9pY2VJZCBpcyBub3Qgc3VwcG9ydGVkIGZvciBjb25mZXJlbmNlIGNhbGxzIil9LEkucHJvdG90eXBlLmlzQXV0aEVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5BQkxFRH0sSS5wcm90b3R5cGUuaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5PVUdIX1NQRUVDSH0sSS5wcm90b3R5cGUuaXNBdXRoUmVzdWx0SW5jb25jbHVzaXZlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFfSxJLnByb3RvdHlwZS5pc0ZyYXVkRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEfSxJLnByb3RvdHlwZS5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5OT1RfRU5PVUdIX1NQRUVDSH0sSS5wcm90b3R5cGUuaXNGcmF1ZFJlc3VsdEluY29uY2x1c2l2ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRX07dmFyIFQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvcj1uZXcgSShlKSxDLmNhbGwodGhpcyxlLHQpfTsoVC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPVQsVC5wcm90b3R5cGUuZ2V0U29mdHBob25lTWVkaWFJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zb2Z0cGhvbmVNZWRpYUluZm99LFQucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxULnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5NZWRpYVR5cGUuU09GVFBIT05FfSxULnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9LFQucHJvdG90eXBlLmdldFZvaWNlSWRTcGVha2VySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZ2V0U3BlYWtlcklkKCl9LFQucHJvdG90eXBlLmdldFZvaWNlSWRTcGVha2VyU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmdldFNwZWFrZXJTdGF0dXMoKX0sVC5wcm90b3R5cGUub3B0T3V0Vm9pY2VJZFNwZWFrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3Iub3B0T3V0U3BlYWtlcigpfSxULnByb3RvdHlwZS5kZWxldGVWb2ljZUlkU3BlYWtlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5kZWxldGVTcGVha2VyKCl9LFQucHJvdG90eXBlLmV2YWx1YXRlU3BlYWtlcldpdGhWb2ljZUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5ldmFsdWF0ZVNwZWFrZXIoZSl9LFQucHJvdG90eXBlLmVucm9sbFNwZWFrZXJJblZvaWNlSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmVucm9sbFNwZWFrZXIoZSl9LFQucHJvdG90eXBlLnVwZGF0ZVZvaWNlSWRTcGVha2VySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZChlKX0sVC5wcm90b3R5cGUuZ2V0UXVpY2tDb25uZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVpY2tDb25uZWN0TmFtZX0sVC5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09dC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUn0sVC5wcm90b3R5cGUuaXNCYXJnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuQkFSR0V9LFQucHJvdG90eXBlLmlzQmFyZ2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXModC5Nb25pdG9yaW5nTW9kZS5CQVJHRSl9LFQucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvckVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyh0Lk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SKX0sVC5wcm90b3R5cGUuZ2V0TW9uaXRvckNhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvckNhcGFiaWxpdGllc30sVC5wcm90b3R5cGUuZ2V0TW9uaXRvclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvclN0YXR1c30sVC5wcm90b3R5cGUuaXNNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tdXRlfSxULnByb3RvdHlwZS5pc0ZvcmNlZE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmZvcmNlZE11dGV9LFQucHJvdG90eXBlLm11dGVQYXJ0aWNpcGFudD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuTVVURV9QQVJUSUNJUEFOVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxULnByb3RvdHlwZS51bm11dGVQYXJ0aWNpcGFudD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuVU5NVVRFX1BBUlRJQ0lQQU5ULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LFQucHJvdG90eXBlLmNhblNlbmRWaWRlbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuVmlkZW89PT10LlZpZGVvQ2FwYWJpbGl0eS5TRU5EfSxULnByb3RvdHlwZS5jYW5TZW5kU2NyZWVuU2hhcmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLlNjcmVlblNoYXJlPT09dC5TY3JlZW5TaGFyZUNhcGFiaWxpdHkuU0VORH0sVC5wcm90b3R5cGUuZ2V0Q2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jYXBhYmlsaXRpZXN9LFQucHJvdG90eXBlLmdldFZpZGVvQ29ubmVjdGlvbkluZm89ZnVuY3Rpb24oKXt2YXIgZT10LmNvcmUuZ2V0Q2xpZW50KCksbj17dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5XRUJfUlRDLGNvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZH07cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCxuLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZS53ZWJSVENUcmFuc3BvcnQpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pLG8oRXJyb3IoImdldFZpZGVvQ29ubmVjdGlvbkluZm8gZmFpbGVkIikpfX0pfSkpfTt2YXIgdz1mdW5jdGlvbihlLHQpe0MuY2FsbCh0aGlzLGUsdCl9Oyh3LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dyx3LnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXREYXRhKCkuY2hhdE1lZGlhSW5mbztpZihlKXt2YXIgbj10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCkscj17Y29udGFjdElkOnRoaXMuY29udGFjdElkLGluaXRpYWxDb250YWN0SWQ6bi5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxwYXJ0aWNpcGFudElkOnRoaXMuY29ubmVjdGlvbklkLGdldENvbm5lY3Rpb25Ub2tlbjp0LmhpdGNoKHRoaXMsdGhpcy5nZXRDb25uZWN0aW9uVG9rZW4pfTtpZihlLmNvbm5lY3Rpb25EYXRhKXRyeXtyLnBhcnRpY2lwYW50VG9rZW49SlNPTi5wYXJzZShlLmNvbm5lY3Rpb25EYXRhKS5Db25uZWN0aW9uQXV0aGVudGljYXRpb25Ub2tlbn1jYXRjaChuKXt0LmdldExvZygpLmVycm9yKHQuTG9nQ29tcG9uZW50LkNIQVQsIkNvbm5lY3Rpb24gZGF0YSBpcyBpbnZhbGlkIikud2l0aE9iamVjdChlKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wYXJ0aWNpcGFudFRva2VuPW51bGx9cmV0dXJuIHIucGFydGljaXBhbnRUb2tlbj1yLnBhcnRpY2lwYW50VG9rZW58fG51bGwsci5vcmlnaW5hbEluZm89dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8scn1yZXR1cm4gbnVsbH0sdy5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dC5jb3JlLmdldENsaWVudCgpLG49KHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKSx7dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5DSEFUX1RPS0VOLHBhcnRpY2lwYW50SWQ6dGhpcy5jb25uZWN0aW9uSWQsY29udGFjdElkOnRoaXMuY29udGFjdElkfSk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCxuLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZ2V0Q29ubmVjdGlvblRva2VuIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoImdldENvbm5lY3Rpb25Ub2tlbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pLG8oRXJyb3IoImdldENvbm5lY3Rpb25Ub2tlbiBmYWlsZWQiKSl9fSl9KSl9LHcucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiB0Lk1lZGlhVHlwZS5DSEFUfSx3LnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9LHcucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7dGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCkmJnQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpLmNhdGNoKChmdW5jdGlvbigpe30pKX0sdy5wcm90b3R5cGUuaXNCYXJnZUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyh0Lk1vbml0b3JpbmdNb2RlLkJBUkdFKX0sdy5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKHQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IpfSx3LnByb3RvdHlwZS5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yQ2FwYWJpbGl0aWVzfSx3LnByb3RvdHlwZS5pc0JhcmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09dC5Nb25pdG9yaW5nTW9kZS5CQVJHRX0sdy5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09dC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUn0sdy5wcm90b3R5cGUuZ2V0TW9uaXRvclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvclN0YXR1c30sdy5wcm90b3R5cGUuZ2V0QXV0aGVudGljYXRpb25EZXRhaWxzPWZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCkpdGhyb3cgbmV3IEVycm9yKCJBdXRoZW50aWNhdGlvbiBkZXRhaWxzIGFyZSBhdmFpbGFibGUgb25seSBmb3IgY3VzdG9tZXIgY29ubmVjdGlvbiIpO3ZhciBuPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtpZihudWxsIT1uJiZudWxsIT09KGU9bi5zZWdtZW50QXR0cmlidXRlcykmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lWyJjb25uZWN0OkN1c3RvbWVyQXV0aGVudGljYXRpb24iXSkmJnZvaWQgMCE9PWUmJmUuVmFsdWVNYXApe3ZhciByPW4uc2VnbWVudEF0dHJpYnV0ZXNbImNvbm5lY3Q6Q3VzdG9tZXJBdXRoZW50aWNhdGlvbiJdLlZhbHVlTWFwO2lmKCJvYmplY3QiPT09YShyKSYmbnVsbCE9PXIpe2Zvcih2YXIgbz17fSxzPTAsYz1PYmplY3QuZW50cmllcyhyKTtzPGMubGVuZ3RoO3MrKyl7dmFyIHU9aShjW3NdLDIpLGw9dVswXSxwPXVbMV07bnVsbCE9PShudWxsPT1wP3ZvaWQgMDpwLlZhbHVlU3RyaW5nKSYmKG9bbF09cC5WYWx1ZVN0cmluZyl9cmV0dXJuIG99fXJldHVybiBudWxsfSx3LnByb3RvdHlwZS5pc0F1dGhlbnRpY2F0ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEF1dGhlbnRpY2F0aW9uRGV0YWlscygpO3JldHVybihudWxsPT1lP3ZvaWQgMDplLlN0YXR1cyk9PT10LkN1c3RvbWVyQXV0aGVudGljYXRpb25TdGF0dXMuQVVUSEVOVElDQVRFRH0sdy5wcm90b3R5cGUuZ2V0UGFydGljaXBhbnROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQWdlbnRDb25uZWN0aW9uVHlwZSgpPyhuZXcgdC5BZ2VudCkuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWU6dGhpcy5pc0luaXRpYWxDb25uZWN0aW9uKCk/dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8uY3VzdG9tZXJOYW1lOnRoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvLmFnZW50TmFtZX07dmFyIEE9ZnVuY3Rpb24oZSx0KXtDLmNhbGwodGhpcyxlLHQpfTsoQS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPUEsQS5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTWVkaWFUeXBlLlRBU0t9LEEucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3ZhciBlPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm57Y29udGFjdElkOnRoaXMuY29udGFjdElkLGluaXRpYWxDb250YWN0SWQ6ZS5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZH19LEEucHJvdG90eXBlLmdldE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKX07dmFyIF89ZnVuY3Rpb24oZSx0KXtDLmNhbGwodGhpcyxlLHQpfTsoXy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPV8sXy5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTWVkaWFUeXBlLkVNQUlMfSxfLnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe307dmFyIFI9ZnVuY3Rpb24oZSl7dC5Db25uZWN0aW9uLmNhbGwodGhpcyxlLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCksdGhpcy5jb25uZWN0aW9uRGF0YT1lfTsoUi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPVIsUi5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uRGF0YX0sUi5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt9O3ZhciBMPWZ1bmN0aW9uKGUpe3ZhciB0PWV8fHt9O3RoaXMuZW5kcG9pbnRBUk49dC5lbmRwb2ludElkfHx0LmVuZHBvaW50QVJOfHxudWxsLHRoaXMuZW5kcG9pbnRJZD10aGlzLmVuZHBvaW50QVJOLHRoaXMudHlwZT10LnR5cGV8fG51bGwsdGhpcy5uYW1lPXQubmFtZXx8bnVsbCx0aGlzLnBob25lTnVtYmVyPXQucGhvbmVOdW1iZXJ8fG51bGwsdGhpcy5hZ2VudExvZ2luPXQuYWdlbnRMb2dpbnx8bnVsbCx0aGlzLnF1ZXVlPXQucXVldWV8fG51bGx9O0wucHJvdG90eXBlLnN0cmlwUGhvbmVOdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waG9uZU51bWJlcj90aGlzLnBob25lTnVtYmVyLnJlcGxhY2UoL3NpcDooW15AXSopQC4qLywiJDEiKToiIn0sTC5ieVBob25lTnVtYmVyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBMKHt0eXBlOnQuRW5kcG9pbnRUeXBlLlBIT05FX05VTUJFUixwaG9uZU51bWJlcjplLG5hbWU6bnx8bnVsbH0pfTt2YXIgTz1mdW5jdGlvbigpe3JldHVybiBoKChmdW5jdGlvbiBlKCl7Zih0aGlzLGUpLHRoaXMuc2Vzc2lvbkV4cGlyYXRpb25XYXJuaW5nQ2xpZW50PW5ldyBjKHQuY29yZS5nZXRTREtDbGllbnRDb25maWcoKSl9KSxbe2tleToiX2dldFNES0NsaWVudCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXNzaW9uRXhwaXJhdGlvbldhcm5pbmdDbGllbnR8fCh0aGlzLnNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudD1uZXcgYyh0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpKSx0aGlzLnNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudH19LHtrZXk6Im9uRXhwaXJhdGlvbldhcm5pbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KSxQcm9taXNlLnJlc29sdmUoKX07cmV0dXJuIHRoaXMuX2dldFNES0NsaWVudCgpLm9uRXhwaXJhdGlvbldhcm5pbmcobikse3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX2dldFNES0NsaWVudCgpLm9mZkV4cGlyYXRpb25XYXJuaW5nKG4pfX19fSx7a2V5OiJvbkV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpLFByb21pc2UucmVzb2x2ZSgpfTtyZXR1cm4gdGhpcy5fZ2V0U0RLQ2xpZW50KCkub25FeHBpcmF0aW9uV2FybmluZ0NsZWFyZWQobikse3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX2dldFNES0NsaWVudCgpLm9mZkV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZChuKX19fX0se2tleToib25TZXNzaW9uRXh0ZW5zaW9uRXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1mdW5jdGlvbih0KXtyZXR1cm4gZSh0KSxQcm9taXNlLnJlc29sdmUoKX07cmV0dXJuIHRoaXMuX2dldFNES0NsaWVudCgpLm9uU2Vzc2lvbkV4dGVuc2lvbkVycm9yKG4pLHt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0Ll9nZXRTREtDbGllbnQoKS5vZmZFeHBpcmF0aW9uV2FybmluZ0NsZWFyZWQobil9fX19XSl9KCk7dC5zZW5kQWN0aXZpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gcCh0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkucHJvdmlkZXIpfTt2YXIgaz1mdW5jdGlvbihlLHQsbil7dGhpcy5lcnJvclR5cGU9ZSx0aGlzLmVycm9yTWVzc2FnZT10LHRoaXMuZW5kUG9pbnRVcmw9bn07ay5wcm90b3R5cGUuZ2V0RXJyb3JUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JUeXBlfSxrLnByb3RvdHlwZS5nZXRFcnJvck1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcnJvck1lc3NhZ2V9LGsucHJvdG90eXBlLmdldEVuZFBvaW50VXJsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kUG9pbnRVcmx9LHQuYWdlbnQ9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuSU5JVCxlKTtyZXR1cm4gdC5hZ2VudC5pbml0aWFsaXplZCYmZShuZXcgdC5BZ2VudCksbn0sdC5hZ2VudC5pbml0aWFsaXplZD0hMSx0LmNvbnRhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuSU5JVCxlKX0sdC5vbldlYnNvY2tldEluaXRGYWlsdXJlPWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkUsZSk7cmV0dXJuIHQud2ViU29ja2V0SW5pdEZhaWxlZCYmZSgpLG59LHQuaWZNYXN0ZXI9ZnVuY3Rpb24oZSxuLHIsbyl7aWYodC5hc3NlcnROb3ROdWxsKGUsIkEgdG9waWMgbXVzdCBiZSBwcm92aWRlZC4iKSx0LmFzc2VydE5vdE51bGwobiwiQSB0cnVlIGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWQuIiksIXQuY29yZS5tYXN0ZXJDbGllbnQpcmV0dXJuIHQuZ2V0TG9nKCkud2FybigiV2UgY2FuJ3QgYmUgdGhlIG1hc3RlciBmb3IgdG9waWMgJyVzJyBiZWNhdXNlIHRoZXJlIGlzIG5vIG1hc3RlciBjbGllbnQhIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQociYmcigpKTt0LmNvcmUuZ2V0TWFzdGVyQ2xpZW50KCkuY2FsbCh0Lk1hc3Rlck1ldGhvZHMuQ0hFQ0tfTUFTVEVSLHt0b3BpYzplLHNob3VsZE5vdEJlY29tZU1hc3RlcklmTm9uZTpvfSx7c3VjY2VzczpmdW5jdGlvbihlKXtlLmlzTWFzdGVyP24oKTpyJiZyKCl9fSl9LHQuYmVjb21lTWFzdGVyPWZ1bmN0aW9uKGUsbixyKXt0LmFzc2VydE5vdE51bGwoZSwiQSB0b3BpYyBtdXN0IGJlIHByb3ZpZGVkLiIpLHQuY29yZS5tYXN0ZXJDbGllbnQ/dC5jb3JlLmdldE1hc3RlckNsaWVudCgpLmNhbGwodC5NYXN0ZXJNZXRob2RzLkJFQ09NRV9NQVNURVIse3RvcGljOmV9LHtzdWNjZXNzOmZ1bmN0aW9uKCl7biYmbigpfX0pOih0LmdldExvZygpLndhcm4oIldlIGNhbid0IGJlIHRoZSBtYXN0ZXIgZm9yIHRvcGljICclcycgYmVjYXVzZSB0aGVyZSBpcyBubyBtYXN0ZXIgY2xpZW50ISIsZSksciYmcigpKX0sdC5BZ2VudD15LHQuQWdlbnRTbmFwc2hvdD1iLHQuQ29udGFjdD1TLHQuQ29udGFjdFNuYXBzaG90PUUsdC5Db25uZWN0aW9uPVQsdC5CYXNlQ29ubmVjdGlvbj1DLHQuVm9pY2VDb25uZWN0aW9uPVQsdC5DaGF0Q29ubmVjdGlvbj13LHQuVGFza0Nvbm5lY3Rpb249QSx0LkVtYWlsQ29ubmVjdGlvbj1fLHQuQ29ubmVjdGlvblNuYXBzaG90PVIsdC5FbmRwb2ludD1MLHQuQWRkcmVzcz1MLHQuU29mdHBob25lRXJyb3I9ayx0LlZvaWNlSWQ9SSx0LlF1aWNrUmVzcG9uc2VzPXYsdC5TZXNzaW9uRXhwaXJhdGlvbldhcm5pbmdNYW5hZ2VyPU99KCl9LDE2NzooZSx0LG4pPT57dmFyIHI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gbz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sbyhlKX0hZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gbyhhLHMpe2lmKCFuW2FdKXtpZighdFthXSl7aWYoaSlyZXR1cm4gaShhLCEwKTt2YXIgYz1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIithKyInIik7dGhyb3cgYy5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixjfXZhciB1PW5bYV09e2V4cG9ydHM6e319O3RbYV1bMF0uY2FsbCh1LmV4cG9ydHMsKGZ1bmN0aW9uKGUpe3JldHVybiBvKHRbYV1bMV1bZV18fGUpfSksdSx1LmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bYV0uZXhwb3J0c31mb3IodmFyIGk9dm9pZCAwLGE9MDthPHIubGVuZ3RoO2ErKylvKHJbYV0pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17dmVyc2lvbjoiMi4wIixtZXRhZGF0YTp7YXBpVmVyc2lvbjoiMjAxNC0wNi0zMCIsZW5kcG9pbnRQcmVmaXg6ImNvZ25pdG8taWRlbnRpdHkiLGpzb25WZXJzaW9uOiIxLjEiLHByb3RvY29sOiJqc29uIixzZXJ2aWNlRnVsbE5hbWU6IkFtYXpvbiBDb2duaXRvIElkZW50aXR5IixzZXJ2aWNlSWQ6IkNvZ25pdG8gSWRlbnRpdHkiLHNpZ25hdHVyZVZlcnNpb246InY0Iix0YXJnZXRQcmVmaXg6IkFXU0NvZ25pdG9JZGVudGl0eVNlcnZpY2UiLHVpZDoiY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwIn0sb3BlcmF0aW9uczp7Q3JlYXRlSWRlbnRpdHlQb29sOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbE5hbWUiLCJBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xOYW1lOnt9LEFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllczp7dHlwZToiYm9vbGVhbiJ9LEFsbG93Q2xhc3NpY0Zsb3c6e3R5cGU6ImJvb2xlYW4ifSxTdXBwb3J0ZWRMb2dpblByb3ZpZGVyczp7c2hhcGU6IlM1In0sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LE9wZW5JZENvbm5lY3RQcm92aWRlckFSTnM6e3NoYXBlOiJTOSJ9LENvZ25pdG9JZGVudGl0eVByb3ZpZGVyczp7c2hhcGU6IlNiIn0sU2FtbFByb3ZpZGVyQVJOczp7c2hhcGU6IlNnIn0sSWRlbnRpdHlQb29sVGFnczp7c2hhcGU6IlNoIn19fSxvdXRwdXQ6e3NoYXBlOiJTayJ9fSxEZWxldGVJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWRzVG9EZWxldGUiXSxtZW1iZXJzOntJZGVudGl0eUlkc1RvRGVsZXRlOnt0eXBlOiJsaXN0IixtZW1iZXI6e319fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1VucHJvY2Vzc2VkSWRlbnRpdHlJZHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LEVycm9yQ29kZTp7fX19fX19fSxEZWxldGVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fX19fSxEZXNjcmliZUlkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9fX0sb3V0cHV0OntzaGFwZToiU3YifX0sRGVzY3JpYmVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fX19LG91dHB1dDp7c2hhcGU6IlNrIn19LEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sQ3VzdG9tUm9sZUFybjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LENyZWRlbnRpYWxzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0FjY2Vzc0tleUlkOnt9LFNlY3JldEtleTp7fSxTZXNzaW9uVG9rZW46e30sRXhwaXJhdGlvbjp7dHlwZToidGltZXN0YW1wIn19fX19LGF1dGh0eXBlOiJub25lIn0sR2V0SWQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntBY2NvdW50SWQ6e30sSWRlbnRpdHlQb29sSWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fX19LGF1dGh0eXBlOiJub25lIn0sR2V0SWRlbnRpdHlQb29sUm9sZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxSb2xlczp7c2hhcGU6IlMxYyJ9LFJvbGVNYXBwaW5nczp7c2hhcGU6IlMxZSJ9fX19LEdldE9wZW5JZFRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sVG9rZW46e319fSxhdXRodHlwZToibm9uZSJ9LEdldE9wZW5JZFRva2VuRm9yRGV2ZWxvcGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJMb2dpbnMiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifSxUb2tlbkR1cmF0aW9uOnt0eXBlOiJsb25nIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxUb2tlbjp7fX19fSxHZXRQcmluY2lwYWxUYWdBdHRyaWJ1dGVNYXA6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVByb3ZpZGVyTmFtZSJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX19LExpc3RJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiTWF4UmVzdWx0cyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LE1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e30sSGlkZURpc2FibGVkOnt0eXBlOiJib29sZWFuIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdGllczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiU3YifX0sTmV4dFRva2VuOnt9fX19LExpc3RJZGVudGl0eVBvb2xzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIk1heFJlc3VsdHMiXSxtZW1iZXJzOntNYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn0sTmV4dFRva2VuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVBvb2xOYW1lOnt9fX19LE5leHRUb2tlbjp7fX19fSxMaXN0VGFnc0ZvclJlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIl0sbWVtYmVyczp7UmVzb3VyY2VBcm46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VGFnczp7c2hhcGU6IlNoIn19fX0sTG9va3VwRGV2ZWxvcGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eUlkOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyOnt9LE1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxEZXZlbG9wZXJVc2VySWRlbnRpZmllckxpc3Q6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sTmV4dFRva2VuOnt9fX19LE1lcmdlRGV2ZWxvcGVySWRlbnRpdGllczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJTb3VyY2VVc2VySWRlbnRpZmllciIsIkRlc3RpbmF0aW9uVXNlcklkZW50aWZpZXIiLCJEZXZlbG9wZXJQcm92aWRlck5hbWUiLCJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e1NvdXJjZVVzZXJJZGVudGlmaWVyOnt9LERlc3RpbmF0aW9uVXNlcklkZW50aWZpZXI6e30sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LElkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e319fX0sU2V0SWRlbnRpdHlQb29sUm9sZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJSb2xlcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LFJvbGVzOntzaGFwZToiUzFjIn0sUm9sZU1hcHBpbmdzOntzaGFwZToiUzFlIn19fX0sU2V0UHJpbmNpcGFsVGFnQXR0cmlidXRlTWFwOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiSWRlbnRpdHlQcm92aWRlck5hbWUiXSxtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVByb3ZpZGVyTmFtZTp7fSxVc2VEZWZhdWx0czp7dHlwZToiYm9vbGVhbiJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0eVByb3ZpZGVyTmFtZTp7fSxVc2VEZWZhdWx0czp7dHlwZToiYm9vbGVhbiJ9LFByaW5jaXBhbFRhZ3M6e3NoYXBlOiJTMXMifX19fSxUYWdSZXNvdXJjZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSZXNvdXJjZUFybiIsIlRhZ3MiXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fSxUYWdzOntzaGFwZToiU2gifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVW5saW5rRGV2ZWxvcGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCIsIklkZW50aXR5UG9vbElkIiwiRGV2ZWxvcGVyUHJvdmlkZXJOYW1lIiwiRGV2ZWxvcGVyVXNlcklkZW50aWZpZXIiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LElkZW50aXR5UG9vbElkOnt9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxEZXZlbG9wZXJVc2VySWRlbnRpZmllcjp7fX19fSxVbmxpbmtJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIiwiTG9naW5zIiwiTG9naW5zVG9SZW1vdmUiXSxtZW1iZXJzOntJZGVudGl0eUlkOnt9LExvZ2luczp7c2hhcGU6IlMxMCJ9LExvZ2luc1RvUmVtb3ZlOntzaGFwZToiU3cifX19LGF1dGh0eXBlOiJub25lIn0sVW50YWdSZXNvdXJjZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSZXNvdXJjZUFybiIsIlRhZ0tleXMiXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fSxUYWdLZXlzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVJZGVudGl0eVBvb2w6e2lucHV0OntzaGFwZToiU2sifSxvdXRwdXQ6e3NoYXBlOiJTayJ9fX0sc2hhcGVzOntTNTp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFM5Ont0eXBlOiJsaXN0IixtZW1iZXI6e319LFNiOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7UHJvdmlkZXJOYW1lOnt9LENsaWVudElkOnt9LFNlcnZlclNpZGVUb2tlbkNoZWNrOnt0eXBlOiJib29sZWFuIn19fX0sU2c6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sU2g6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTazp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5UG9vbElkIiwiSWRlbnRpdHlQb29sTmFtZSIsIkFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UG9vbE5hbWU6e30sQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzOnt0eXBlOiJib29sZWFuIn0sQWxsb3dDbGFzc2ljRmxvdzp7dHlwZToiYm9vbGVhbiJ9LFN1cHBvcnRlZExvZ2luUHJvdmlkZXJzOntzaGFwZToiUzUifSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sT3BlbklkQ29ubmVjdFByb3ZpZGVyQVJOczp7c2hhcGU6IlM5In0sQ29nbml0b0lkZW50aXR5UHJvdmlkZXJzOntzaGFwZToiU2IifSxTYW1sUHJvdmlkZXJBUk5zOntzaGFwZToiU2cifSxJZGVudGl0eVBvb2xUYWdzOntzaGFwZToiU2gifX19LFN2Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiU3cifSxDcmVhdGlvbkRhdGU6e3R5cGU6InRpbWVzdGFtcCJ9LExhc3RNb2RpZmllZERhdGU6e3R5cGU6InRpbWVzdGFtcCJ9fX0sU3c6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sUzEwOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzFjOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzFlOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlR5cGUiXSxtZW1iZXJzOntUeXBlOnt9LEFtYmlndW91c1JvbGVSZXNvbHV0aW9uOnt9LFJ1bGVzQ29uZmlndXJhdGlvbjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJ1bGVzIl0sbWVtYmVyczp7UnVsZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkNsYWltIiwiTWF0Y2hUeXBlIiwiVmFsdWUiLCJSb2xlQVJOIl0sbWVtYmVyczp7Q2xhaW06e30sTWF0Y2hUeXBlOnt9LFZhbHVlOnt9LFJvbGVBUk46e319fX19fX19fSxTMXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fX19fSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cGFnaW5hdGlvbjp7TGlzdElkZW50aXR5UG9vbHM6e2lucHV0X3Rva2VuOiJOZXh0VG9rZW4iLGxpbWl0X2tleToiTWF4UmVzdWx0cyIsb3V0cHV0X3Rva2VuOiJOZXh0VG9rZW4iLHJlc3VsdF9rZXk6IklkZW50aXR5UG9vbHMifX19fSx7fV0sMzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17dmVyc2lvbjoiMi4wIixtZXRhZGF0YTp7YXBpVmVyc2lvbjoiMjAxNy0wMi0xNSIsZW5kcG9pbnRQcmVmaXg6ImNvbm5lY3QiLGpzb25WZXJzaW9uOiIxLjAiLHByb3RvY29sOiJqc29uIixzZXJ2aWNlQWJicmV2aWF0aW9uOiJDb25uZWN0IixzZXJ2aWNlRnVsbE5hbWU6IkFtYXpvbkNvbm5lY3RDVElTZXJ2aWNlIixzaWduYXR1cmVWZXJzaW9uOiIiLHRhcmdldFByZWZpeDoiQW1hem9uQ29ubmVjdENUSVNlcnZpY2UiLHVpZDoiY29ubmVjdC0yMDE3LTAyLTE1In0sb3BlcmF0aW9uczp7QWNjZXB0Q29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENsZWFyQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENvbXBsZXRlQ29udGFjdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiXSxtZW1iZXJzOntjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENvbmZlcmVuY2VDb25uZWN0aW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENyZWF0ZUFkZGl0aW9uYWxDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiZW5kcG9pbnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGVuZHBvaW50OntzaGFwZToiU2UifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlT3V0Ym91bmRDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiZW5kcG9pbnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LHF1ZXVlQVJOOnt9LHJlbGF0ZWRDb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LENyZWF0ZVRhc2tDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImVuZHBvaW50IiwibmFtZSJdLG1lbWJlcnM6e2VuZHBvaW50OntzaGFwZToiU2UifSxwcmV2aW91c0NvbnRhY3RJZDp7fSxuYW1lOnt9LGRlc2NyaXB0aW9uOnt9LHJlZmVyZW5jZXM6e3NoYXBlOiJTdCJ9LGlkZW1wb3RlbmN5VG9rZW46e30sc2NoZWR1bGVkVGltZTp7dHlwZToibG9uZyJ9LHJlbGF0ZWRDb250YWN0SWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Y29udGFjdElkOnt9fX19LENyZWF0ZVRyYW5zcG9ydDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0cmFuc3BvcnRUeXBlIiwiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnt0cmFuc3BvcnRUeXBlOnt9LHBhcnRpY2lwYW50SWQ6e30sY29udGFjdElkOnt9LHNvZnRwaG9uZUNsaWVudElkOnt9LGF1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt3ZWJTb2NrZXRUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ1cmwiLCJ0cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcyJdLG1lbWJlcnM6e3VybDp7fSx0cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kczp7dHlwZToibG9uZyJ9LGV4cGlyeTp7fX19LGNoYXRUb2tlblRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInBhcnRpY2lwYW50VG9rZW4iLCJleHBpcnkiXSxtZW1iZXJzOntwYXJ0aWNpcGFudFRva2VuOnt9LGV4cGlyeTp7fX19LHNvZnRwaG9uZVRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInNvZnRwaG9uZU1lZGlhQ29ubmVjdGlvbnMiXSxtZW1iZXJzOntzb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJ1cmxzIl0sbWVtYmVyczp7dXNlcm5hbWU6e30sY3JlZGVudGlhbDp7fSx1cmxzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319fX19fX0sYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJwcmVzaWduZWRVcmwiXSxtZW1iZXJzOntwcmVzaWduZWRVcmw6e319fSx3ZWJSVENUcmFuc3BvcnQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJtZWV0aW5nIiwiYXR0ZW5kZWUiXSxtZW1iZXJzOnttZWV0aW5nOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e21lZXRpbmdJZDp7fSxtZWRpYVJlZ2lvbjp7fSxtZWRpYVBsYWNlbWVudDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdWRpb0hvc3RVcmw6e30sYXVkaW9GYWxsYmFja1VybDp7fSxzaWduYWxpbmdVcmw6e30sdHVybkNvbnRyb2xVcmw6e30sZXZlbnRJbmdlc3Rpb25Vcmw6e319fSxtZWV0aW5nRmVhdHVyZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXVkaW86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7ZWNob1JlZHVjdGlvbjp7fX19fX19fSxhdHRlbmRlZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdHRlbmRlZUlkOnt9LGpvaW5Ub2tlbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9fX19fX19fSxEZXN0cm95Q29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxHZXRBZ2VudENvbmZpZ3VyYXRpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb25maWd1cmF0aW9uIl0sbWVtYmVyczp7Y29uZmlndXJhdGlvbjp7c2hhcGU6IlMxdiJ9fX19LEdldEFnZW50UGVybWlzc2lvbnM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInBlcm1pc3Npb25zIl0sbWVtYmVyczp7cGVybWlzc2lvbnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9fX19LEdldEFnZW50U25hcHNob3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LHRpbWVvdXQ6e3R5cGU6ImxvbmcifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInNuYXBzaG90IiwibmV4dFRva2VuIl0sbWVtYmVyczp7c25hcHNob3Q6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJzdGF0ZSIsImNvbnRhY3RzIiwic25hcHNob3RUaW1lc3RhbXAiXSxtZW1iZXJzOntzdGF0ZTp7c2hhcGU6IlMyZSJ9LG5leHRTdGF0ZTp7c2hhcGU6IlMyZSJ9LGFnZW50QXZhaWxhYmlsaXR5U3RhdGU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7c3RhdGU6e30sdGltZVN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LGNvbnRhY3RzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiLCJ0eXBlIiwic3RhdGUiLCJjb25uZWN0aW9ucyIsImF0dHJpYnV0ZXMiXSxtZW1iZXJzOntjb250YWN0SWQ6e30saW5pdGlhbENvbnRhY3RJZDp7fSxyZWxhdGVkQ29udGFjdElkOnt9LGNvbnRhY3RBc3NvY2lhdGlvbklkOnt9LHR5cGU6e30sc3RhdGU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwidGltZXN0YW1wIl0sbWVtYmVyczp7dHlwZTp7fSx0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0scXVldWU6e3NoYXBlOiJTbCJ9LHF1ZXVlVGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxjb25uZWN0aW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29ubmVjdGlvbklkIiwic3RhdGUiLCJ0eXBlIiwiaW5pdGlhbCJdLG1lbWJlcnM6e2Nvbm5lY3Rpb25JZDp7fSxlbmRwb2ludDp7c2hhcGU6IlNlIn0sc3RhdGU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwidGltZXN0YW1wIl0sbWVtYmVyczp7dHlwZTp7fSx0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sdHlwZTp7fSxpbml0aWFsOnt0eXBlOiJib29sZWFuIn0sc29mdHBob25lTWVkaWFJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NhbGxUeXBlOnt9LGF1dG9BY2NlcHQ6e3R5cGU6ImJvb2xlYW4ifSxtZWRpYUxlZ0NvbnRleHRUb2tlbjp7fSxjYWxsQ29udGV4dFRva2VuOnt9LGNhbGxDb25maWdKc29uOnt9fX0sY2hhdE1lZGlhSW5mbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjaGF0QXV0b0FjY2VwdDp7dHlwZToiYm9vbGVhbiJ9LGNvbm5lY3Rpb25EYXRhOnt9LGN1c3RvbWVyTmFtZTp7fX19LG1vbml0b3JpbmdJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50TmFtZTp7fX19LGpvaW5UaW1lU3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sbXV0ZTp7dHlwZToiYm9vbGVhbiJ9LGZvcmNlZE11dGU6e3R5cGU6ImJvb2xlYW4ifSxxdWlja0Nvbm5lY3ROYW1lOnt9LG1vbml0b3JDYXBhYmlsaXRpZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbW9uaXRvclN0YXR1czp7fSxjYXBhYmlsaXRpZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VmlkZW86e319fX19fSxhdHRyaWJ1dGVzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm5hbWUiXSxtZW1iZXJzOntuYW1lOnt9LHZhbHVlOnt9fX19LGNvbnRhY3REdXJhdGlvbjp7fSxuYW1lOnt9LGRlc2NyaXB0aW9uOnt9LHJlZmVyZW5jZXM6e3NoYXBlOiJTdCJ9LGluaXRpYXRpb25NZXRob2Q6e30sY29udGFjdEZlYXR1cmVzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F0dGFjaG1lbnRzRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LG1lc3NhZ2luZ01hcmtkb3duRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LG11bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ0VuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzY3JlZW5SZWNvcmRpbmdTdGF0ZTp7fSxzY3JlZW5SZWNvcmRpbmdDb25maWc6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7c2NyZWVuUmVjb3JkaW5nRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ1N0YXRlOnt9fX19fSxjaGFubmVsQ29udGV4dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzY2hlZHVsZWRUaW1lOnt0eXBlOiJsb25nIn0sdGFza1RlbXBsYXRlSWQ6e30sdGFza1RlbXBsYXRlVmVyc2lvbjp7dHlwZToiaW50ZWdlciJ9fX0sc2VnbWVudEF0dHJpYnV0ZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1ZhbHVlU3RyaW5nOnt9fX19LGN1c3RvbWVyRW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LGNvbm5lY3RTeXN0ZW1FbmRwb2ludDp7c2hhcGU6IlNlIn0sbGFuZ3VhZ2VDb2RlOnt9LGVtYWlsUmVjaXBpZW50czp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0b0xpc3Q6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlMzaSJ9fSxjY0xpc3Q6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlMzaSJ9fSxmcm9tUmVjaXBpZW50OntzaGFwZToiUzNpIn19fX19fSxzbmFwc2hvdFRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxuZXh0VG9rZW46e319fX0sR2V0QWdlbnRTdGF0ZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInN0YXRlcyJdLG1lbWJlcnM6e3N0YXRlczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiUzJlIn19LG5leHRUb2tlbjp7fX19fSxHZXREaWFsYWJsZUNvdW50cnlDb2Rlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY291bnRyeUNvZGVzIl0sbWVtYmVyczp7Y291bnRyeUNvZGVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LG5leHRUb2tlbjp7fX19fSxHZXRFbmRwb2ludHM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJxdWV1ZUFSTnMiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scXVldWVBUk5zOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7ZW5kcG9pbnRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTZSJ9fSxuZXh0VG9rZW46e319fX0sR2V0TmV3QXV0aFRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwicmVmcmVzaFRva2VuIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHJlZnJlc2hUb2tlbjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntuZXdBdXRoVG9rZW46e30sZXhwaXJhdGlvbkRhdGVUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifX19fSxHZXRSb3V0aW5nUHJvZmlsZVF1ZXVlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInJvdXRpbmdQcm9maWxlQVJOIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHJvdXRpbmdQcm9maWxlQVJOOnt9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJxdWV1ZXMiXSxtZW1iZXJzOntxdWV1ZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlNsIn19LG5leHRUb2tlbjp7fX19fSxIb2xkQ29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxNdXRlUGFydGljaXBhbnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJjb25uZWN0aW9uSWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNvbm5lY3Rpb25JZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sTm90aWZ5Q29udGFjdElzc3VlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxpc3N1ZUNvZGU6e30sZGVzY3JpcHRpb246e30sY2xpZW50TG9nczp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUGF1c2VDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUHV0QWdlbnRTdGF0ZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInN0YXRlIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LHN0YXRlOntzaGFwZToiUzJlIn0sZW5xdWV1ZU5leHRTdGF0ZTp7dHlwZToiYm9vbGVhbiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZWplY3RDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sUmVzdW1lQ29ubmVjdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZXN1bWVDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZENsaWVudExvZ3M6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJsb2dFdmVudHMiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sbG9nRXZlbnRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7dGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxjb21wb25lbnQ6e30sbWVzc2FnZTp7fX19fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZERpZ2l0czp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCIsImRpZ2l0cyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9LGRpZ2l0czp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZFNvZnRwaG9uZUNhbGxNZXRyaWNzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwic29mdHBob25lU3RyZWFtU3RhdGlzdGljcyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY2NwVmVyc2lvbjp7fSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOntzaGFwZToiUzRwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFNlbmRTb2Z0cGhvbmVDYWxsUmVwb3J0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwicmVwb3J0Il0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjY3BWZXJzaW9uOnt9LHJlcG9ydDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjYWxsU3RhcnRUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifSxjYWxsRW5kVGltZTp7dHlwZToidGltZXN0YW1wIn0sc29mdHBob25lU3RyZWFtU3RhdGlzdGljczp7c2hhcGU6IlM0cCJ9LGd1bVRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxpbml0aWFsaXphdGlvblRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxpY2VDb2xsZWN0aW9uVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGhhbmRzaGFrZVRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxwcmVUYWxrVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHRhbGtUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sY2xlYW51cFRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxpY2VDb2xsZWN0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGhhbmRzaGFrZUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxndW1PdGhlckZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxndW1UaW1lb3V0RmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGNyZWF0ZU9mZmVyRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sdXNlckJ1c3lGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0saW52YWxpZFJlbW90ZVNEUEZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxub1JlbW90ZUljZUNhbmRpZGF0ZUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxzZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifX19fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxUb2dnbGVBY3RpdmVDb25uZWN0aW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVbm11dGVQYXJ0aWNpcGFudDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVBZ2VudENvbmZpZ3VyYXRpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb25maWd1cmF0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbmZpZ3VyYXRpb246e3NoYXBlOiJTMXYifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sVXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIiwidGFyZ2V0TW9uaXRvck1vZGUiXSxtZW1iZXJzOntjb250YWN0SWQ6e30sdGFyZ2V0TW9uaXRvck1vZGU6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19fSxzaGFwZXM6e1MyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50QVJOOnt9LGF1dGhUb2tlbjp7fX19LFNlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSJdLG1lbWJlcnM6e2VuZHBvaW50QVJOOnt9LHR5cGU6e30sbmFtZTp7fSxkaXNwbGF5TmFtZTp7fSxwaG9uZU51bWJlcjp7fSxhZ2VudExvZ2luOnt9LHF1ZXVlOntzaGFwZToiU2wifSxlbWFpbEFkZHJlc3M6e319fSxTbDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntxdWV1ZUFSTjp7fSxuYW1lOnt9fX0sU3Q6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsidHlwZSJdLG1lbWJlcnM6e3ZhbHVlOnt9LHR5cGU6e30sYXJuOnt9LHN0YXR1czp7fSxzdGF0dXNSZWFzb246e319fX0sUzF2Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsibmFtZSIsInNvZnRwaG9uZUVuYWJsZWQiLCJzb2Z0cGhvbmVBdXRvQWNjZXB0IiwiZXh0ZW5zaW9uIiwicm91dGluZ1Byb2ZpbGUiXSxtZW1iZXJzOntuYW1lOnt9LHVzZXJuYW1lOnt9LHNvZnRwaG9uZUVuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzb2Z0cGhvbmVBdXRvQWNjZXB0Ont0eXBlOiJib29sZWFuIn0sZXh0ZW5zaW9uOnt9LHJvdXRpbmdQcm9maWxlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e25hbWU6e30scm91dGluZ1Byb2ZpbGVBUk46e30sZGVmYXVsdE91dGJvdW5kUXVldWU6e3NoYXBlOiJTbCJ9LGNoYW5uZWxDb25jdXJyZW5jeU1hcDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6ImxvbmcifX19fSxhZ2VudFByZWZlcmVuY2VzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sYWdlbnRBUk46e319fSxTMmU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwibmFtZSJdLG1lbWJlcnM6e2FnZW50U3RhdGVBUk46e30sdHlwZTp7fSxuYW1lOnt9LHN0YXJ0VGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LFMzaTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthZGRyZXNzOnt9LGRpc3BsYXlOYW1lOnt9fX0sUzRwOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7dGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxzb2Z0cGhvbmVTdHJlYW1UeXBlOnt9LHBhY2tldENvdW50Ont0eXBlOiJsb25nIn0scGFja2V0c0xvc3Q6e3R5cGU6ImxvbmcifSxhdWRpb0xldmVsOnt0eXBlOiJkb3VibGUifSxqaXR0ZXJCdWZmZXJNaWxsaXM6e3R5cGU6ImxvbmcifSxyb3VuZFRyaXBUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn19fX19fX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2FjbTp7bmFtZToiQUNNIixjb3JzOiEwfSxhcGlnYXRld2F5OntuYW1lOiJBUElHYXRld2F5Iixjb3JzOiEwfSxhcHBsaWNhdGlvbmF1dG9zY2FsaW5nOntwcmVmaXg6ImFwcGxpY2F0aW9uLWF1dG9zY2FsaW5nIixuYW1lOiJBcHBsaWNhdGlvbkF1dG9TY2FsaW5nIixjb3JzOiEwfSxhcHBzdHJlYW06e25hbWU6IkFwcFN0cmVhbSJ9LGF1dG9zY2FsaW5nOntuYW1lOiJBdXRvU2NhbGluZyIsY29yczohMH0sYmF0Y2g6e25hbWU6IkJhdGNoIn0sYnVkZ2V0czp7bmFtZToiQnVkZ2V0cyJ9LGNsb3VkZGlyZWN0b3J5OntuYW1lOiJDbG91ZERpcmVjdG9yeSIsdmVyc2lvbnM6WyIyMDE2LTA1LTEwKiJdfSxjbG91ZGZvcm1hdGlvbjp7bmFtZToiQ2xvdWRGb3JtYXRpb24iLGNvcnM6ITB9LGNsb3VkZnJvbnQ6e25hbWU6IkNsb3VkRnJvbnQiLHZlcnNpb25zOlsiMjAxMy0wNS0xMioiLCIyMDEzLTExLTExKiIsIjIwMTQtMDUtMzEqIiwiMjAxNC0xMC0yMSoiLCIyMDE0LTExLTA2KiIsIjIwMTUtMDQtMTcqIiwiMjAxNS0wNy0yNyoiLCIyMDE1LTA5LTE3KiIsIjIwMTYtMDEtMTMqIiwiMjAxNi0wMS0yOCoiLCIyMDE2LTA4LTAxKiIsIjIwMTYtMDgtMjAqIiwiMjAxNi0wOS0wNyoiLCIyMDE2LTA5LTI5KiIsIjIwMTYtMTEtMjUqIiwiMjAxNy0wMy0yNSoiLCIyMDE3LTEwLTMwKiIsIjIwMTgtMDYtMTgqIiwiMjAxOC0xMS0wNSoiLCIyMDE5LTAzLTI2KiJdLGNvcnM6ITB9LGNsb3VkaHNtOntuYW1lOiJDbG91ZEhTTSIsY29yczohMH0sY2xvdWRzZWFyY2g6e25hbWU6IkNsb3VkU2VhcmNoIn0sY2xvdWRzZWFyY2hkb21haW46e25hbWU6IkNsb3VkU2VhcmNoRG9tYWluIn0sY2xvdWR0cmFpbDp7bmFtZToiQ2xvdWRUcmFpbCIsY29yczohMH0sY2xvdWR3YXRjaDp7cHJlZml4OiJtb25pdG9yaW5nIixuYW1lOiJDbG91ZFdhdGNoIixjb3JzOiEwfSxjbG91ZHdhdGNoZXZlbnRzOntwcmVmaXg6ImV2ZW50cyIsbmFtZToiQ2xvdWRXYXRjaEV2ZW50cyIsdmVyc2lvbnM6WyIyMDE0LTAyLTAzKiJdLGNvcnM6ITB9LGNsb3Vkd2F0Y2hsb2dzOntwcmVmaXg6ImxvZ3MiLG5hbWU6IkNsb3VkV2F0Y2hMb2dzIixjb3JzOiEwfSxjb2RlYnVpbGQ6e25hbWU6IkNvZGVCdWlsZCIsY29yczohMH0sY29kZWNvbW1pdDp7bmFtZToiQ29kZUNvbW1pdCIsY29yczohMH0sY29kZWRlcGxveTp7bmFtZToiQ29kZURlcGxveSIsY29yczohMH0sY29kZXBpcGVsaW5lOntuYW1lOiJDb2RlUGlwZWxpbmUiLGNvcnM6ITB9LGNvZ25pdG9pZGVudGl0eTp7cHJlZml4OiJjb2duaXRvLWlkZW50aXR5IixuYW1lOiJDb2duaXRvSWRlbnRpdHkiLGNvcnM6ITB9LGNvZ25pdG9pZGVudGl0eXNlcnZpY2Vwcm92aWRlcjp7cHJlZml4OiJjb2duaXRvLWlkcCIsbmFtZToiQ29nbml0b0lkZW50aXR5U2VydmljZVByb3ZpZGVyIixjb3JzOiEwfSxjb2duaXRvc3luYzp7cHJlZml4OiJjb2duaXRvLXN5bmMiLG5hbWU6IkNvZ25pdG9TeW5jIixjb3JzOiEwfSxjb25maWdzZXJ2aWNlOntwcmVmaXg6ImNvbmZpZyIsbmFtZToiQ29uZmlnU2VydmljZSIsY29yczohMH0sY3VyOntuYW1lOiJDVVIiLGNvcnM6ITB9LGRhdGFwaXBlbGluZTp7bmFtZToiRGF0YVBpcGVsaW5lIn0sZGV2aWNlZmFybTp7bmFtZToiRGV2aWNlRmFybSIsY29yczohMH0sZGlyZWN0Y29ubmVjdDp7bmFtZToiRGlyZWN0Q29ubmVjdCIsY29yczohMH0sZGlyZWN0b3J5c2VydmljZTp7cHJlZml4OiJkcyIsbmFtZToiRGlyZWN0b3J5U2VydmljZSJ9LGRpc2NvdmVyeTp7bmFtZToiRGlzY292ZXJ5In0sZG1zOntuYW1lOiJETVMifSxkeW5hbW9kYjp7bmFtZToiRHluYW1vREIiLGNvcnM6ITB9LGR5bmFtb2Ric3RyZWFtczp7cHJlZml4OiJzdHJlYW1zLmR5bmFtb2RiIixuYW1lOiJEeW5hbW9EQlN0cmVhbXMiLGNvcnM6ITB9LGVjMjp7bmFtZToiRUMyIix2ZXJzaW9uczpbIjIwMTMtMDYtMTUqIiwiMjAxMy0xMC0xNSoiLCIyMDE0LTAyLTAxKiIsIjIwMTQtMDUtMDEqIiwiMjAxNC0wNi0xNSoiLCIyMDE0LTA5LTAxKiIsIjIwMTQtMTAtMDEqIiwiMjAxNS0wMy0wMSoiLCIyMDE1LTA0LTE1KiIsIjIwMTUtMTAtMDEqIiwiMjAxNi0wNC0wMSoiLCIyMDE2LTA5LTE1KiJdLGNvcnM6ITB9LGVjcjp7bmFtZToiRUNSIixjb3JzOiEwfSxlY3M6e25hbWU6IkVDUyIsY29yczohMH0sZWZzOntwcmVmaXg6ImVsYXN0aWNmaWxlc3lzdGVtIixuYW1lOiJFRlMiLGNvcnM6ITB9LGVsYXN0aWNhY2hlOntuYW1lOiJFbGFzdGlDYWNoZSIsdmVyc2lvbnM6WyIyMDEyLTExLTE1KiIsIjIwMTQtMDMtMjQqIiwiMjAxNC0wNy0xNSoiLCIyMDE0LTA5LTMwKiJdLGNvcnM6ITB9LGVsYXN0aWNiZWFuc3RhbGs6e25hbWU6IkVsYXN0aWNCZWFuc3RhbGsiLGNvcnM6ITB9LGVsYjp7cHJlZml4OiJlbGFzdGljbG9hZGJhbGFuY2luZyIsbmFtZToiRUxCIixjb3JzOiEwfSxlbGJ2Mjp7cHJlZml4OiJlbGFzdGljbG9hZGJhbGFuY2luZ3YyIixuYW1lOiJFTEJ2MiIsY29yczohMH0sZW1yOntwcmVmaXg6ImVsYXN0aWNtYXByZWR1Y2UiLG5hbWU6IkVNUiIsY29yczohMH0sZXM6e25hbWU6IkVTIn0sZWxhc3RpY3RyYW5zY29kZXI6e25hbWU6IkVsYXN0aWNUcmFuc2NvZGVyIixjb3JzOiEwfSxmaXJlaG9zZTp7bmFtZToiRmlyZWhvc2UiLGNvcnM6ITB9LGdhbWVsaWZ0OntuYW1lOiJHYW1lTGlmdCIsY29yczohMH0sZ2xhY2llcjp7bmFtZToiR2xhY2llciJ9LGhlYWx0aDp7bmFtZToiSGVhbHRoIn0saWFtOntuYW1lOiJJQU0iLGNvcnM6ITB9LGltcG9ydGV4cG9ydDp7bmFtZToiSW1wb3J0RXhwb3J0In0saW5zcGVjdG9yOntuYW1lOiJJbnNwZWN0b3IiLHZlcnNpb25zOlsiMjAxNS0wOC0xOCoiXSxjb3JzOiEwfSxpb3Q6e25hbWU6IklvdCIsY29yczohMH0saW90ZGF0YTp7cHJlZml4OiJpb3QtZGF0YSIsbmFtZToiSW90RGF0YSIsY29yczohMH0sa2luZXNpczp7bmFtZToiS2luZXNpcyIsY29yczohMH0sa2luZXNpc2FuYWx5dGljczp7bmFtZToiS2luZXNpc0FuYWx5dGljcyJ9LGttczp7bmFtZToiS01TIixjb3JzOiEwfSxsYW1iZGE6e25hbWU6IkxhbWJkYSIsY29yczohMH0sbGV4cnVudGltZTp7cHJlZml4OiJydW50aW1lLmxleCIsbmFtZToiTGV4UnVudGltZSIsY29yczohMH0sbGlnaHRzYWlsOntuYW1lOiJMaWdodHNhaWwifSxtYWNoaW5lbGVhcm5pbmc6e25hbWU6Ik1hY2hpbmVMZWFybmluZyIsY29yczohMH0sbWFya2V0cGxhY2Vjb21tZXJjZWFuYWx5dGljczp7bmFtZToiTWFya2V0cGxhY2VDb21tZXJjZUFuYWx5dGljcyIsY29yczohMH0sbWFya2V0cGxhY2VtZXRlcmluZzp7cHJlZml4OiJtZXRlcmluZ21hcmtldHBsYWNlIixuYW1lOiJNYXJrZXRwbGFjZU1ldGVyaW5nIn0sbXR1cms6e3ByZWZpeDoibXR1cmstcmVxdWVzdGVyIixuYW1lOiJNVHVyayIsY29yczohMH0sbW9iaWxlYW5hbHl0aWNzOntuYW1lOiJNb2JpbGVBbmFseXRpY3MiLGNvcnM6ITB9LG9wc3dvcmtzOntuYW1lOiJPcHNXb3JrcyIsY29yczohMH0sb3Bzd29ya3NjbTp7bmFtZToiT3BzV29ya3NDTSJ9LG9yZ2FuaXphdGlvbnM6e25hbWU6Ik9yZ2FuaXphdGlvbnMifSxwaW5wb2ludDp7bmFtZToiUGlucG9pbnQifSxwb2xseTp7bmFtZToiUG9sbHkiLGNvcnM6ITB9LHJkczp7bmFtZToiUkRTIix2ZXJzaW9uczpbIjIwMTQtMDktMDEqIl0sY29yczohMH0scmVkc2hpZnQ6e25hbWU6IlJlZHNoaWZ0Iixjb3JzOiEwfSxyZWtvZ25pdGlvbjp7bmFtZToiUmVrb2duaXRpb24iLGNvcnM6ITB9LHJlc291cmNlZ3JvdXBzdGFnZ2luZ2FwaTp7bmFtZToiUmVzb3VyY2VHcm91cHNUYWdnaW5nQVBJIn0scm91dGU1Mzp7bmFtZToiUm91dGU1MyIsY29yczohMH0scm91dGU1M2RvbWFpbnM6e25hbWU6IlJvdXRlNTNEb21haW5zIixjb3JzOiEwfSxzMzp7bmFtZToiUzMiLGR1YWxzdGFja0F2YWlsYWJsZTohMCxjb3JzOiEwfSxzM2NvbnRyb2w6e25hbWU6IlMzQ29udHJvbCIsZHVhbHN0YWNrQXZhaWxhYmxlOiEwLHhtbE5vRGVmYXVsdExpc3RzOiEwfSxzZXJ2aWNlY2F0YWxvZzp7bmFtZToiU2VydmljZUNhdGFsb2ciLGNvcnM6ITB9LHNlczp7cHJlZml4OiJlbWFpbCIsbmFtZToiU0VTIixjb3JzOiEwfSxzaGllbGQ6e25hbWU6IlNoaWVsZCJ9LHNpbXBsZWRiOntwcmVmaXg6InNkYiIsbmFtZToiU2ltcGxlREIifSxzbXM6e25hbWU6IlNNUyJ9LHNub3diYWxsOntuYW1lOiJTbm93YmFsbCJ9LHNuczp7bmFtZToiU05TIixjb3JzOiEwfSxzcXM6e25hbWU6IlNRUyIsY29yczohMH0sc3NtOntuYW1lOiJTU00iLGNvcnM6ITB9LHN0b3JhZ2VnYXRld2F5OntuYW1lOiJTdG9yYWdlR2F0ZXdheSIsY29yczohMH0sc3RlcGZ1bmN0aW9uczp7cHJlZml4OiJzdGF0ZXMiLG5hbWU6IlN0ZXBGdW5jdGlvbnMifSxzdHM6e25hbWU6IlNUUyIsY29yczohMH0sc3VwcG9ydDp7bmFtZToiU3VwcG9ydCJ9LHN3Zjp7bmFtZToiU1dGIn0seHJheTp7bmFtZToiWFJheSIsY29yczohMH0sd2FmOntuYW1lOiJXQUYiLGNvcnM6ITB9LHdhZnJlZ2lvbmFsOntwcmVmaXg6IndhZi1yZWdpb25hbCIsbmFtZToiV0FGUmVnaW9uYWwifSx3b3JrZG9jczp7bmFtZToiV29ya0RvY3MiLGNvcnM6ITB9LHdvcmtzcGFjZXM6e25hbWU6IldvcmtTcGFjZXMifSxjb2Rlc3Rhcjp7bmFtZToiQ29kZVN0YXIifSxsZXhtb2RlbGJ1aWxkaW5nc2VydmljZTp7cHJlZml4OiJsZXgtbW9kZWxzIixuYW1lOiJMZXhNb2RlbEJ1aWxkaW5nU2VydmljZSIsY29yczohMH0sbWFya2V0cGxhY2VlbnRpdGxlbWVudHNlcnZpY2U6e3ByZWZpeDoiZW50aXRsZW1lbnQubWFya2V0cGxhY2UiLG5hbWU6Ik1hcmtldHBsYWNlRW50aXRsZW1lbnRTZXJ2aWNlIn0sYXRoZW5hOntuYW1lOiJBdGhlbmEiLGNvcnM6ITB9LGdyZWVuZ3Jhc3M6e25hbWU6IkdyZWVuZ3Jhc3MifSxkYXg6e25hbWU6IkRBWCJ9LG1pZ3JhdGlvbmh1Yjp7cHJlZml4OiJBV1NNaWdyYXRpb25IdWIiLG5hbWU6Ik1pZ3JhdGlvbkh1YiJ9LGNsb3VkaHNtdjI6e25hbWU6IkNsb3VkSFNNVjIiLGNvcnM6ITB9LGdsdWU6e25hbWU6IkdsdWUifSxtb2JpbGU6e25hbWU6Ik1vYmlsZSJ9LHByaWNpbmc6e25hbWU6IlByaWNpbmciLGNvcnM6ITB9LGNvc3RleHBsb3Jlcjp7cHJlZml4OiJjZSIsbmFtZToiQ29zdEV4cGxvcmVyIixjb3JzOiEwfSxtZWRpYWNvbnZlcnQ6e25hbWU6Ik1lZGlhQ29udmVydCJ9LG1lZGlhbGl2ZTp7bmFtZToiTWVkaWFMaXZlIn0sbWVkaWFwYWNrYWdlOntuYW1lOiJNZWRpYVBhY2thZ2UifSxtZWRpYXN0b3JlOntuYW1lOiJNZWRpYVN0b3JlIn0sbWVkaWFzdG9yZWRhdGE6e3ByZWZpeDoibWVkaWFzdG9yZS1kYXRhIixuYW1lOiJNZWRpYVN0b3JlRGF0YSIsY29yczohMH0sYXBwc3luYzp7bmFtZToiQXBwU3luYyJ9LGd1YXJkZHV0eTp7bmFtZToiR3VhcmREdXR5In0sbXE6e25hbWU6Ik1RIn0sY29tcHJlaGVuZDp7bmFtZToiQ29tcHJlaGVuZCIsY29yczohMH0saW90am9ic2RhdGFwbGFuZTp7cHJlZml4OiJpb3Qtam9icy1kYXRhIixuYW1lOiJJb1RKb2JzRGF0YVBsYW5lIn0sa2luZXNpc3ZpZGVvYXJjaGl2ZWRtZWRpYTp7cHJlZml4OiJraW5lc2lzLXZpZGVvLWFyY2hpdmVkLW1lZGlhIixuYW1lOiJLaW5lc2lzVmlkZW9BcmNoaXZlZE1lZGlhIixjb3JzOiEwfSxraW5lc2lzdmlkZW9tZWRpYTp7cHJlZml4OiJraW5lc2lzLXZpZGVvLW1lZGlhIixuYW1lOiJLaW5lc2lzVmlkZW9NZWRpYSIsY29yczohMH0sa2luZXNpc3ZpZGVvOntuYW1lOiJLaW5lc2lzVmlkZW8iLGNvcnM6ITB9LHNhZ2VtYWtlcnJ1bnRpbWU6e3ByZWZpeDoicnVudGltZS5zYWdlbWFrZXIiLG5hbWU6IlNhZ2VNYWtlclJ1bnRpbWUifSxzYWdlbWFrZXI6e25hbWU6IlNhZ2VNYWtlciJ9LHRyYW5zbGF0ZTp7bmFtZToiVHJhbnNsYXRlIixjb3JzOiEwfSxyZXNvdXJjZWdyb3Vwczp7cHJlZml4OiJyZXNvdXJjZS1ncm91cHMiLG5hbWU6IlJlc291cmNlR3JvdXBzIixjb3JzOiEwfSxhbGV4YWZvcmJ1c2luZXNzOntuYW1lOiJBbGV4YUZvckJ1c2luZXNzIn0sY2xvdWQ5OntuYW1lOiJDbG91ZDkifSxzZXJ2ZXJsZXNzYXBwbGljYXRpb25yZXBvc2l0b3J5OntwcmVmaXg6InNlcnZlcmxlc3NyZXBvIixuYW1lOiJTZXJ2ZXJsZXNzQXBwbGljYXRpb25SZXBvc2l0b3J5In0sc2VydmljZWRpc2NvdmVyeTp7bmFtZToiU2VydmljZURpc2NvdmVyeSJ9LHdvcmttYWlsOntuYW1lOiJXb3JrTWFpbCJ9LGF1dG9zY2FsaW5ncGxhbnM6e3ByZWZpeDoiYXV0b3NjYWxpbmctcGxhbnMiLG5hbWU6IkF1dG9TY2FsaW5nUGxhbnMifSx0cmFuc2NyaWJlc2VydmljZTp7cHJlZml4OiJ0cmFuc2NyaWJlIixuYW1lOiJUcmFuc2NyaWJlU2VydmljZSJ9LGNvbm5lY3Q6e25hbWU6IkNvbm5lY3QiLGNvcnM6ITB9LGFjbXBjYTp7cHJlZml4OiJhY20tcGNhIixuYW1lOiJBQ01QQ0EifSxmbXM6e25hbWU6IkZNUyJ9LHNlY3JldHNtYW5hZ2VyOntuYW1lOiJTZWNyZXRzTWFuYWdlciIsY29yczohMH0saW90YW5hbHl0aWNzOntuYW1lOiJJb1RBbmFseXRpY3MiLGNvcnM6ITB9LGlvdDFjbGlja2RldmljZXNzZXJ2aWNlOntwcmVmaXg6ImlvdDFjbGljay1kZXZpY2VzIixuYW1lOiJJb1QxQ2xpY2tEZXZpY2VzU2VydmljZSJ9LGlvdDFjbGlja3Byb2plY3RzOntwcmVmaXg6ImlvdDFjbGljay1wcm9qZWN0cyIsbmFtZToiSW9UMUNsaWNrUHJvamVjdHMifSxwaTp7bmFtZToiUEkifSxuZXB0dW5lOntuYW1lOiJOZXB0dW5lIn0sbWVkaWF0YWlsb3I6e25hbWU6Ik1lZGlhVGFpbG9yIn0sZWtzOntuYW1lOiJFS1MifSxkbG06e25hbWU6IkRMTSJ9LHNpZ25lcjp7bmFtZToiU2lnbmVyIn0sY2hpbWU6e25hbWU6IkNoaW1lIn0scGlucG9pbnRlbWFpbDp7cHJlZml4OiJwaW5wb2ludC1lbWFpbCIsbmFtZToiUGlucG9pbnRFbWFpbCJ9LHJhbTp7bmFtZToiUkFNIn0scm91dGU1M3Jlc29sdmVyOntuYW1lOiJSb3V0ZTUzUmVzb2x2ZXIifSxwaW5wb2ludHNtc3ZvaWNlOntwcmVmaXg6InNtcy12b2ljZSIsbmFtZToiUGlucG9pbnRTTVNWb2ljZSJ9LHF1aWNrc2lnaHQ6e25hbWU6IlF1aWNrU2lnaHQifSxyZHNkYXRhc2VydmljZTp7cHJlZml4OiJyZHMtZGF0YSIsbmFtZToiUkRTRGF0YVNlcnZpY2UifSxhbXBsaWZ5OntuYW1lOiJBbXBsaWZ5In0sZGF0YXN5bmM6e25hbWU6IkRhdGFTeW5jIn0scm9ib21ha2VyOntuYW1lOiJSb2JvTWFrZXIifSx0cmFuc2Zlcjp7bmFtZToiVHJhbnNmZXIifSxnbG9iYWxhY2NlbGVyYXRvcjp7bmFtZToiR2xvYmFsQWNjZWxlcmF0b3IifSxjb21wcmVoZW5kbWVkaWNhbDp7bmFtZToiQ29tcHJlaGVuZE1lZGljYWwiLGNvcnM6ITB9LGtpbmVzaXNhbmFseXRpY3N2Mjp7bmFtZToiS2luZXNpc0FuYWx5dGljc1YyIn0sbWVkaWFjb25uZWN0OntuYW1lOiJNZWRpYUNvbm5lY3QifSxmc3g6e25hbWU6IkZTeCJ9LHNlY3VyaXR5aHViOntuYW1lOiJTZWN1cml0eUh1YiJ9LGFwcG1lc2g6e25hbWU6IkFwcE1lc2giLHZlcnNpb25zOlsiMjAxOC0xMC0wMSoiXX0sbGljZW5zZW1hbmFnZXI6e3ByZWZpeDoibGljZW5zZS1tYW5hZ2VyIixuYW1lOiJMaWNlbnNlTWFuYWdlciJ9LGthZmthOntuYW1lOiJLYWZrYSJ9LGFwaWdhdGV3YXltYW5hZ2VtZW50YXBpOntuYW1lOiJBcGlHYXRld2F5TWFuYWdlbWVudEFwaSJ9LGFwaWdhdGV3YXl2Mjp7bmFtZToiQXBpR2F0ZXdheVYyIn0sZG9jZGI6e25hbWU6IkRvY0RCIn0sYmFja3VwOntuYW1lOiJCYWNrdXAifSx3b3JrbGluazp7bmFtZToiV29ya0xpbmsifSx0ZXh0cmFjdDp7bmFtZToiVGV4dHJhY3QifSxtYW5hZ2VkYmxvY2tjaGFpbjp7bmFtZToiTWFuYWdlZEJsb2NrY2hhaW4ifSxtZWRpYXBhY2thZ2V2b2Q6e3ByZWZpeDoibWVkaWFwYWNrYWdlLXZvZCIsbmFtZToiTWVkaWFQYWNrYWdlVm9kIn0sZ3JvdW5kc3RhdGlvbjp7bmFtZToiR3JvdW5kU3RhdGlvbiJ9LGlvdHRoaW5nc2dyYXBoOntuYW1lOiJJb1RUaGluZ3NHcmFwaCJ9LGlvdGV2ZW50czp7bmFtZToiSW9URXZlbnRzIn0saW90ZXZlbnRzZGF0YTp7cHJlZml4OiJpb3RldmVudHMtZGF0YSIsbmFtZToiSW9URXZlbnRzRGF0YSJ9LHBlcnNvbmFsaXplOntuYW1lOiJQZXJzb25hbGl6ZSIsY29yczohMH0scGVyc29uYWxpemVldmVudHM6e3ByZWZpeDoicGVyc29uYWxpemUtZXZlbnRzIixuYW1lOiJQZXJzb25hbGl6ZUV2ZW50cyIsY29yczohMH0scGVyc29uYWxpemVydW50aW1lOntwcmVmaXg6InBlcnNvbmFsaXplLXJ1bnRpbWUiLG5hbWU6IlBlcnNvbmFsaXplUnVudGltZSIsY29yczohMH0sYXBwbGljYXRpb25pbnNpZ2h0czp7cHJlZml4OiJhcHBsaWNhdGlvbi1pbnNpZ2h0cyIsbmFtZToiQXBwbGljYXRpb25JbnNpZ2h0cyJ9LHNlcnZpY2VxdW90YXM6e3ByZWZpeDoic2VydmljZS1xdW90YXMiLG5hbWU6IlNlcnZpY2VRdW90YXMifSxlYzJpbnN0YW5jZWNvbm5lY3Q6e3ByZWZpeDoiZWMyLWluc3RhbmNlLWNvbm5lY3QiLG5hbWU6IkVDMkluc3RhbmNlQ29ubmVjdCJ9LGV2ZW50YnJpZGdlOntuYW1lOiJFdmVudEJyaWRnZSJ9LGxha2Vmb3JtYXRpb246e25hbWU6Ikxha2VGb3JtYXRpb24ifSxmb3JlY2FzdHNlcnZpY2U6e3ByZWZpeDoiZm9yZWNhc3QiLG5hbWU6IkZvcmVjYXN0U2VydmljZSIsY29yczohMH0sZm9yZWNhc3RxdWVyeXNlcnZpY2U6e3ByZWZpeDoiZm9yZWNhc3RxdWVyeSIsbmFtZToiRm9yZWNhc3RRdWVyeVNlcnZpY2UiLGNvcnM6ITB9LHFsZGI6e25hbWU6IlFMREIifSxxbGRic2Vzc2lvbjp7cHJlZml4OiJxbGRiLXNlc3Npb24iLG5hbWU6IlFMREJTZXNzaW9uIn0sd29ya21haWxtZXNzYWdlZmxvdzp7bmFtZToiV29ya01haWxNZXNzYWdlRmxvdyJ9LGNvZGVzdGFybm90aWZpY2F0aW9uczp7cHJlZml4OiJjb2Rlc3Rhci1ub3RpZmljYXRpb25zIixuYW1lOiJDb2RlU3Rhck5vdGlmaWNhdGlvbnMifSxzYXZpbmdzcGxhbnM6e25hbWU6IlNhdmluZ3NQbGFucyJ9LHNzbzp7bmFtZToiU1NPIn0sc3Nvb2lkYzp7cHJlZml4OiJzc28tb2lkYyIsbmFtZToiU1NPT0lEQyJ9LG1hcmtldHBsYWNlY2F0YWxvZzp7cHJlZml4OiJtYXJrZXRwbGFjZS1jYXRhbG9nIixuYW1lOiJNYXJrZXRwbGFjZUNhdGFsb2ciLGNvcnM6ITB9LGRhdGFleGNoYW5nZTp7bmFtZToiRGF0YUV4Y2hhbmdlIn0sc2VzdjI6e25hbWU6IlNFU1YyIn0sbWlncmF0aW9uaHViY29uZmlnOntwcmVmaXg6Im1pZ3JhdGlvbmh1Yi1jb25maWciLG5hbWU6Ik1pZ3JhdGlvbkh1YkNvbmZpZyJ9LGNvbm5lY3RwYXJ0aWNpcGFudDp7bmFtZToiQ29ubmVjdFBhcnRpY2lwYW50In0sYXBwY29uZmlnOntuYW1lOiJBcHBDb25maWcifSxpb3RzZWN1cmV0dW5uZWxpbmc6e25hbWU6IklvVFNlY3VyZVR1bm5lbGluZyJ9LHdhZnYyOntuYW1lOiJXQUZWMiJ9LGVsYXN0aWNpbmZlcmVuY2U6e3ByZWZpeDoiZWxhc3RpYy1pbmZlcmVuY2UiLG5hbWU6IkVsYXN0aWNJbmZlcmVuY2UifSxpbWFnZWJ1aWxkZXI6e25hbWU6IkltYWdlYnVpbGRlciJ9LHNjaGVtYXM6e25hbWU6IlNjaGVtYXMifSxhY2Nlc3NhbmFseXplcjp7bmFtZToiQWNjZXNzQW5hbHl6ZXIifSxjb2RlZ3VydXJldmlld2VyOntwcmVmaXg6ImNvZGVndXJ1LXJldmlld2VyIixuYW1lOiJDb2RlR3VydVJldmlld2VyIn0sY29kZWd1cnVwcm9maWxlcjp7bmFtZToiQ29kZUd1cnVQcm9maWxlciJ9LGNvbXB1dGVvcHRpbWl6ZXI6e3ByZWZpeDoiY29tcHV0ZS1vcHRpbWl6ZXIiLG5hbWU6IkNvbXB1dGVPcHRpbWl6ZXIifSxmcmF1ZGRldGVjdG9yOntuYW1lOiJGcmF1ZERldGVjdG9yIn0sa2VuZHJhOntuYW1lOiJLZW5kcmEifSxuZXR3b3JrbWFuYWdlcjp7bmFtZToiTmV0d29ya01hbmFnZXIifSxvdXRwb3N0czp7bmFtZToiT3V0cG9zdHMifSxhdWdtZW50ZWRhaXJ1bnRpbWU6e3ByZWZpeDoic2FnZW1ha2VyLWEyaS1ydW50aW1lIixuYW1lOiJBdWdtZW50ZWRBSVJ1bnRpbWUifSxlYnM6e25hbWU6IkVCUyJ9LGtpbmVzaXN2aWRlb3NpZ25hbGluZ2NoYW5uZWxzOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8tc2lnbmFsaW5nIixuYW1lOiJLaW5lc2lzVmlkZW9TaWduYWxpbmdDaGFubmVscyIsY29yczohMH0sZGV0ZWN0aXZlOntuYW1lOiJEZXRlY3RpdmUifSxjb2Rlc3RhcmNvbm5lY3Rpb25zOntwcmVmaXg6ImNvZGVzdGFyLWNvbm5lY3Rpb25zIixuYW1lOiJDb2RlU3RhcmNvbm5lY3Rpb25zIn0sc3ludGhldGljczp7bmFtZToiU3ludGhldGljcyJ9LGlvdHNpdGV3aXNlOntuYW1lOiJJb1RTaXRlV2lzZSJ9LG1hY2llMjp7bmFtZToiTWFjaWUyIn0sY29kZWFydGlmYWN0OntuYW1lOiJDb2RlQXJ0aWZhY3QifSxob25leWNvZGU6e25hbWU6IkhvbmV5Y29kZSJ9LGl2czp7bmFtZToiSVZTIn0sYnJha2V0OntuYW1lOiJCcmFrZXQifSxpZGVudGl0eXN0b3JlOntuYW1lOiJJZGVudGl0eVN0b3JlIn0sYXBwZmxvdzp7bmFtZToiQXBwZmxvdyJ9LHJlZHNoaWZ0ZGF0YTp7cHJlZml4OiJyZWRzaGlmdC1kYXRhIixuYW1lOiJSZWRzaGlmdERhdGEifSxzc29hZG1pbjp7cHJlZml4OiJzc28tYWRtaW4iLG5hbWU6IlNTT0FkbWluIn0sdGltZXN0cmVhbXF1ZXJ5OntwcmVmaXg6InRpbWVzdHJlYW0tcXVlcnkiLG5hbWU6IlRpbWVzdHJlYW1RdWVyeSJ9LHRpbWVzdHJlYW13cml0ZTp7cHJlZml4OiJ0aW1lc3RyZWFtLXdyaXRlIixuYW1lOiJUaW1lc3RyZWFtV3JpdGUifSxzM291dHBvc3RzOntuYW1lOiJTM091dHBvc3RzIn0sZGF0YWJyZXc6e25hbWU6IkRhdGFCcmV3In0sc2VydmljZWNhdGFsb2dhcHByZWdpc3RyeTp7cHJlZml4OiJzZXJ2aWNlY2F0YWxvZy1hcHByZWdpc3RyeSIsbmFtZToiU2VydmljZUNhdGFsb2dBcHBSZWdpc3RyeSJ9LG5ldHdvcmtmaXJld2FsbDp7cHJlZml4OiJuZXR3b3JrLWZpcmV3YWxsIixuYW1lOiJOZXR3b3JrRmlyZXdhbGwifSxtd2FhOntuYW1lOiJNV0FBIn0sYW1wbGlmeWJhY2tlbmQ6e25hbWU6IkFtcGxpZnlCYWNrZW5kIn0sYXBwaW50ZWdyYXRpb25zOntuYW1lOiJBcHBJbnRlZ3JhdGlvbnMifSxjb25uZWN0Y29udGFjdGxlbnM6e3ByZWZpeDoiY29ubmVjdC1jb250YWN0LWxlbnMiLG5hbWU6IkNvbm5lY3RDb250YWN0TGVucyJ9LGRldm9wc2d1cnU6e3ByZWZpeDoiZGV2b3BzLWd1cnUiLG5hbWU6IkRldk9wc0d1cnUifSxlY3JwdWJsaWM6e3ByZWZpeDoiZWNyLXB1YmxpYyIsbmFtZToiRUNSUFVCTElDIn0sbG9va291dHZpc2lvbjp7bmFtZToiTG9va291dFZpc2lvbiJ9LHNhZ2VtYWtlcmZlYXR1cmVzdG9yZXJ1bnRpbWU6e3ByZWZpeDoic2FnZW1ha2VyLWZlYXR1cmVzdG9yZS1ydW50aW1lIixuYW1lOiJTYWdlTWFrZXJGZWF0dXJlU3RvcmVSdW50aW1lIn0sY3VzdG9tZXJwcm9maWxlczp7cHJlZml4OiJjdXN0b21lci1wcm9maWxlcyIsbmFtZToiQ3VzdG9tZXJQcm9maWxlcyJ9LGF1ZGl0bWFuYWdlcjp7bmFtZToiQXVkaXRNYW5hZ2VyIn0sZW1yY29udGFpbmVyczp7cHJlZml4OiJlbXItY29udGFpbmVycyIsbmFtZToiRU1SY29udGFpbmVycyJ9LGhlYWx0aGxha2U6e25hbWU6IkhlYWx0aExha2UifSxzYWdlbWFrZXJlZGdlOntwcmVmaXg6InNhZ2VtYWtlci1lZGdlIixuYW1lOiJTYWdlbWFrZXJFZGdlIn0sYW1wOntuYW1lOiJBbXAiLGNvcnM6ITB9LGdyZWVuZ3Jhc3N2Mjp7bmFtZToiR3JlZW5ncmFzc1YyIn0saW90ZGV2aWNlYWR2aXNvcjp7bmFtZToiSW90RGV2aWNlQWR2aXNvciJ9LGlvdGZsZWV0aHViOntuYW1lOiJJb1RGbGVldEh1YiJ9LGlvdHdpcmVsZXNzOntuYW1lOiJJb1RXaXJlbGVzcyJ9LGxvY2F0aW9uOntuYW1lOiJMb2NhdGlvbiIsY29yczohMH0sd2VsbGFyY2hpdGVjdGVkOntuYW1lOiJXZWxsQXJjaGl0ZWN0ZWQifSxsZXhtb2RlbHN2Mjp7cHJlZml4OiJtb2RlbHMubGV4LnYyIixuYW1lOiJMZXhNb2RlbHNWMiJ9LGxleHJ1bnRpbWV2Mjp7cHJlZml4OiJydW50aW1lLmxleC52MiIsbmFtZToiTGV4UnVudGltZVYyIixjb3JzOiEwfSxmaXM6e25hbWU6IkZpcyJ9LGxvb2tvdXRtZXRyaWNzOntuYW1lOiJMb29rb3V0TWV0cmljcyJ9LG1nbjp7bmFtZToiTWduIn0sbG9va291dGVxdWlwbWVudDp7bmFtZToiTG9va291dEVxdWlwbWVudCJ9LG5pbWJsZTp7bmFtZToiTmltYmxlIn0sZmluc3BhY2U6e25hbWU6IkZpbnNwYWNlIn0sZmluc3BhY2VkYXRhOntwcmVmaXg6ImZpbnNwYWNlLWRhdGEiLG5hbWU6IkZpbnNwYWNlZGF0YSJ9LHNzbWNvbnRhY3RzOntwcmVmaXg6InNzbS1jb250YWN0cyIsbmFtZToiU1NNQ29udGFjdHMifSxzc21pbmNpZGVudHM6e3ByZWZpeDoic3NtLWluY2lkZW50cyIsbmFtZToiU1NNSW5jaWRlbnRzIn0sYXBwbGljYXRpb25jb3N0cHJvZmlsZXI6e25hbWU6IkFwcGxpY2F0aW9uQ29zdFByb2ZpbGVyIn0sYXBwcnVubmVyOntuYW1lOiJBcHBSdW5uZXIifSxwcm90b246e25hbWU6IlByb3RvbiJ9LHJvdXRlNTNyZWNvdmVyeWNsdXN0ZXI6e3ByZWZpeDoicm91dGU1My1yZWNvdmVyeS1jbHVzdGVyIixuYW1lOiJSb3V0ZTUzUmVjb3ZlcnlDbHVzdGVyIn0scm91dGU1M3JlY292ZXJ5Y29udHJvbGNvbmZpZzp7cHJlZml4OiJyb3V0ZTUzLXJlY292ZXJ5LWNvbnRyb2wtY29uZmlnIixuYW1lOiJSb3V0ZTUzUmVjb3ZlcnlDb250cm9sQ29uZmlnIn0scm91dGU1M3JlY292ZXJ5cmVhZGluZXNzOntwcmVmaXg6InJvdXRlNTMtcmVjb3ZlcnktcmVhZGluZXNzIixuYW1lOiJSb3V0ZTUzUmVjb3ZlcnlSZWFkaW5lc3MifSxjaGltZXNka2lkZW50aXR5OntwcmVmaXg6ImNoaW1lLXNkay1pZGVudGl0eSIsbmFtZToiQ2hpbWVTREtJZGVudGl0eSJ9LGNoaW1lc2RrbWVzc2FnaW5nOntwcmVmaXg6ImNoaW1lLXNkay1tZXNzYWdpbmciLG5hbWU6IkNoaW1lU0RLTWVzc2FnaW5nIn0sc25vd2RldmljZW1hbmFnZW1lbnQ6e3ByZWZpeDoic25vdy1kZXZpY2UtbWFuYWdlbWVudCIsbmFtZToiU25vd0RldmljZU1hbmFnZW1lbnQifSxtZW1vcnlkYjp7bmFtZToiTWVtb3J5REIifSxvcGVuc2VhcmNoOntuYW1lOiJPcGVuU2VhcmNoIn0sa2Fma2Fjb25uZWN0OntuYW1lOiJLYWZrYUNvbm5lY3QifSx2b2ljZWlkOntwcmVmaXg6InZvaWNlLWlkIixuYW1lOiJWb2ljZUlEIn0sd2lzZG9tOntuYW1lOiJXaXNkb20ifSxhY2NvdW50OntuYW1lOiJBY2NvdW50In0sY2xvdWRjb250cm9sOntuYW1lOiJDbG91ZENvbnRyb2wifSxncmFmYW5hOntuYW1lOiJHcmFmYW5hIn0scGFub3JhbWE6e25hbWU6IlBhbm9yYW1hIn0sY2hpbWVzZGttZWV0aW5nczp7cHJlZml4OiJjaGltZS1zZGstbWVldGluZ3MiLG5hbWU6IkNoaW1lU0RLTWVldGluZ3MifSxyZXNpbGllbmNlaHViOntuYW1lOiJSZXNpbGllbmNlaHViIn0sbWlncmF0aW9uaHVic3RyYXRlZ3k6e25hbWU6Ik1pZ3JhdGlvbkh1YlN0cmF0ZWd5In0sYXBwY29uZmlnZGF0YTp7bmFtZToiQXBwQ29uZmlnRGF0YSJ9LGRyczp7bmFtZToiRHJzIn0sbWlncmF0aW9uaHVicmVmYWN0b3JzcGFjZXM6e3ByZWZpeDoibWlncmF0aW9uLWh1Yi1yZWZhY3Rvci1zcGFjZXMiLG5hbWU6Ik1pZ3JhdGlvbkh1YlJlZmFjdG9yU3BhY2VzIn0sZXZpZGVudGx5OntuYW1lOiJFdmlkZW50bHkifSxpbnNwZWN0b3IyOntuYW1lOiJJbnNwZWN0b3IyIn0scmJpbjp7bmFtZToiUmJpbiJ9LHJ1bTp7bmFtZToiUlVNIn0sYmFja3VwZ2F0ZXdheTp7cHJlZml4OiJiYWNrdXAtZ2F0ZXdheSIsbmFtZToiQmFja3VwR2F0ZXdheSJ9LGlvdHR3aW5tYWtlcjp7bmFtZToiSW9UVHdpbk1ha2VyIn0sd29ya3NwYWNlc3dlYjp7cHJlZml4OiJ3b3Jrc3BhY2VzLXdlYiIsbmFtZToiV29ya1NwYWNlc1dlYiJ9LGFtcGxpZnl1aWJ1aWxkZXI6e25hbWU6IkFtcGxpZnlVSUJ1aWxkZXIifSxrZXlzcGFjZXM6e25hbWU6IktleXNwYWNlcyJ9LGJpbGxpbmdjb25kdWN0b3I6e25hbWU6IkJpbGxpbmdjb25kdWN0b3IifSxwaW5wb2ludHNtc3ZvaWNldjI6e3ByZWZpeDoicGlucG9pbnQtc21zLXZvaWNlLXYyIixuYW1lOiJQaW5wb2ludFNNU1ZvaWNlVjIifSxpdnNjaGF0OntuYW1lOiJJdnNjaGF0In0sY2hpbWVzZGttZWRpYXBpcGVsaW5lczp7cHJlZml4OiJjaGltZS1zZGstbWVkaWEtcGlwZWxpbmVzIixuYW1lOiJDaGltZVNES01lZGlhUGlwZWxpbmVzIn0sZW1yc2VydmVybGVzczp7cHJlZml4OiJlbXItc2VydmVybGVzcyIsbmFtZToiRU1SU2VydmVybGVzcyJ9LG0yOntuYW1lOiJNMiJ9LGNvbm5lY3RjYW1wYWlnbnM6e25hbWU6IkNvbm5lY3RDYW1wYWlnbnMifSxyZWRzaGlmdHNlcnZlcmxlc3M6e3ByZWZpeDoicmVkc2hpZnQtc2VydmVybGVzcyIsbmFtZToiUmVkc2hpZnRTZXJ2ZXJsZXNzIn0scm9sZXNhbnl3aGVyZTp7bmFtZToiUm9sZXNBbnl3aGVyZSJ9LGxpY2Vuc2VtYW5hZ2VydXNlcnN1YnNjcmlwdGlvbnM6e3ByZWZpeDoibGljZW5zZS1tYW5hZ2VyLXVzZXItc3Vic2NyaXB0aW9ucyIsbmFtZToiTGljZW5zZU1hbmFnZXJVc2VyU3Vic2NyaXB0aW9ucyJ9LGJhY2t1cHN0b3JhZ2U6e25hbWU6IkJhY2t1cFN0b3JhZ2UifSxwcml2YXRlbmV0d29ya3M6e25hbWU6IlByaXZhdGVOZXR3b3JrcyJ9LHN1cHBvcnRhcHA6e3ByZWZpeDoic3VwcG9ydC1hcHAiLG5hbWU6IlN1cHBvcnRBcHAifSxjb250cm9sdG93ZXI6e25hbWU6IkNvbnRyb2xUb3dlciJ9LGlvdGZsZWV0d2lzZTp7bmFtZToiSW9URmxlZXRXaXNlIn0sbWlncmF0aW9uaHVib3JjaGVzdHJhdG9yOntuYW1lOiJNaWdyYXRpb25IdWJPcmNoZXN0cmF0b3IifSxjb25uZWN0Y2FzZXM6e25hbWU6IkNvbm5lY3RDYXNlcyJ9LHJlc291cmNlZXhwbG9yZXIyOntwcmVmaXg6InJlc291cmNlLWV4cGxvcmVyLTIiLG5hbWU6IlJlc291cmNlRXhwbG9yZXIyIn0sc2NoZWR1bGVyOntuYW1lOiJTY2hlZHVsZXIifSxjaGltZXNka3ZvaWNlOntwcmVmaXg6ImNoaW1lLXNkay12b2ljZSIsbmFtZToiQ2hpbWVTREtWb2ljZSJ9LHNzbXNhcDp7cHJlZml4OiJzc20tc2FwIixuYW1lOiJTc21TYXAifSxvYW06e25hbWU6Ik9BTSJ9LGFyY3pvbmFsc2hpZnQ6e3ByZWZpeDoiYXJjLXpvbmFsLXNoaWZ0IixuYW1lOiJBUkNab25hbFNoaWZ0In0sb21pY3M6e25hbWU6Ik9taWNzIn0sb3BlbnNlYXJjaHNlcnZlcmxlc3M6e25hbWU6Ik9wZW5TZWFyY2hTZXJ2ZXJsZXNzIn0sc2VjdXJpdHlsYWtlOntuYW1lOiJTZWN1cml0eUxha2UifSxzaW1zcGFjZXdlYXZlcjp7bmFtZToiU2ltU3BhY2VXZWF2ZXIifSxkb2NkYmVsYXN0aWM6e3ByZWZpeDoiZG9jZGItZWxhc3RpYyIsbmFtZToiRG9jREJFbGFzdGljIn0sc2FnZW1ha2VyZ2Vvc3BhdGlhbDp7cHJlZml4OiJzYWdlbWFrZXItZ2Vvc3BhdGlhbCIsbmFtZToiU2FnZU1ha2VyR2Vvc3BhdGlhbCJ9LGNvZGVjYXRhbHlzdDp7bmFtZToiQ29kZUNhdGFseXN0In0scGlwZXM6e25hbWU6IlBpcGVzIn0sc2FnZW1ha2VybWV0cmljczp7cHJlZml4OiJzYWdlbWFrZXItbWV0cmljcyIsbmFtZToiU2FnZU1ha2VyTWV0cmljcyJ9LGtpbmVzaXN2aWRlb3dlYnJ0Y3N0b3JhZ2U6e3ByZWZpeDoia2luZXNpcy12aWRlby13ZWJydGMtc3RvcmFnZSIsbmFtZToiS2luZXNpc1ZpZGVvV2ViUlRDU3RvcmFnZSJ9LGxpY2Vuc2VtYW5hZ2VybGludXhzdWJzY3JpcHRpb25zOntwcmVmaXg6ImxpY2Vuc2UtbWFuYWdlci1saW51eC1zdWJzY3JpcHRpb25zIixuYW1lOiJMaWNlbnNlTWFuYWdlckxpbnV4U3Vic2NyaXB0aW9ucyJ9LGtlbmRyYXJhbmtpbmc6e3ByZWZpeDoia2VuZHJhLXJhbmtpbmciLG5hbWU6IktlbmRyYVJhbmtpbmcifSxjbGVhbnJvb21zOntuYW1lOiJDbGVhblJvb21zIn0sY2xvdWR0cmFpbGRhdGE6e3ByZWZpeDoiY2xvdWR0cmFpbC1kYXRhIixuYW1lOiJDbG91ZFRyYWlsRGF0YSJ9LHRuYjp7bmFtZToiVG5iIn0saW50ZXJuZXRtb25pdG9yOntuYW1lOiJJbnRlcm5ldE1vbml0b3IifSxpdnNyZWFsdGltZTp7cHJlZml4OiJpdnMtcmVhbHRpbWUiLG5hbWU6IklWU1JlYWxUaW1lIn0sdnBjbGF0dGljZTp7cHJlZml4OiJ2cGMtbGF0dGljZSIsbmFtZToiVlBDTGF0dGljZSJ9LG9zaXM6e25hbWU6Ik9TSVMifSxtZWRpYXBhY2thZ2V2Mjp7bmFtZToiTWVkaWFQYWNrYWdlVjIifSxwYXltZW50Y3J5cHRvZ3JhcGh5OntwcmVmaXg6InBheW1lbnQtY3J5cHRvZ3JhcGh5IixuYW1lOiJQYXltZW50Q3J5cHRvZ3JhcGh5In0scGF5bWVudGNyeXB0b2dyYXBoeWRhdGE6e3ByZWZpeDoicGF5bWVudC1jcnlwdG9ncmFwaHktZGF0YSIsbmFtZToiUGF5bWVudENyeXB0b2dyYXBoeURhdGEifSxjb2RlZ3VydXNlY3VyaXR5OntwcmVmaXg6ImNvZGVndXJ1LXNlY3VyaXR5IixuYW1lOiJDb2RlR3VydVNlY3VyaXR5In0sdmVyaWZpZWRwZXJtaXNzaW9uczp7bmFtZToiVmVyaWZpZWRQZXJtaXNzaW9ucyJ9LGFwcGZhYnJpYzp7bmFtZToiQXBwRmFicmljIn0sbWVkaWNhbGltYWdpbmc6e3ByZWZpeDoibWVkaWNhbC1pbWFnaW5nIixuYW1lOiJNZWRpY2FsSW1hZ2luZyJ9LGVudGl0eXJlc29sdXRpb246e25hbWU6IkVudGl0eVJlc29sdXRpb24ifSxtYW5hZ2VkYmxvY2tjaGFpbnF1ZXJ5OntwcmVmaXg6Im1hbmFnZWRibG9ja2NoYWluLXF1ZXJ5IixuYW1lOiJNYW5hZ2VkQmxvY2tjaGFpblF1ZXJ5In0sbmVwdHVuZWRhdGE6e25hbWU6Ik5lcHR1bmVkYXRhIn0scGNhY29ubmVjdG9yYWQ6e3ByZWZpeDoicGNhLWNvbm5lY3Rvci1hZCIsbmFtZToiUGNhQ29ubmVjdG9yQWQifSxiZWRyb2NrOntuYW1lOiJCZWRyb2NrIn0sYmVkcm9ja3J1bnRpbWU6e3ByZWZpeDoiYmVkcm9jay1ydW50aW1lIixuYW1lOiJCZWRyb2NrUnVudGltZSJ9LGRhdGF6b25lOntuYW1lOiJEYXRhWm9uZSJ9LGxhdW5jaHdpemFyZDp7cHJlZml4OiJsYXVuY2gtd2l6YXJkIixuYW1lOiJMYXVuY2hXaXphcmQifSx0cnVzdGVkYWR2aXNvcjp7bmFtZToiVHJ1c3RlZEFkdmlzb3IifSxpbnNwZWN0b3JzY2FuOntwcmVmaXg6Imluc3BlY3Rvci1zY2FuIixuYW1lOiJJbnNwZWN0b3JTY2FuIn0sYmNtZGF0YWV4cG9ydHM6e3ByZWZpeDoiYmNtLWRhdGEtZXhwb3J0cyIsbmFtZToiQkNNRGF0YUV4cG9ydHMifSxjb3N0b3B0aW1pemF0aW9uaHViOntwcmVmaXg6ImNvc3Qtb3B0aW1pemF0aW9uLWh1YiIsbmFtZToiQ29zdE9wdGltaXphdGlvbkh1YiJ9LGVrc2F1dGg6e3ByZWZpeDoiZWtzLWF1dGgiLG5hbWU6IkVLU0F1dGgifSxmcmVldGllcjp7bmFtZToiRnJlZVRpZXIifSxyZXBvc3RzcGFjZTp7bmFtZToiUmVwb3N0c3BhY2UifSx3b3Jrc3BhY2VzdGhpbmNsaWVudDp7cHJlZml4OiJ3b3Jrc3BhY2VzLXRoaW4tY2xpZW50IixuYW1lOiJXb3JrU3BhY2VzVGhpbkNsaWVudCJ9LGIyYmk6e25hbWU6IkIyYmkifSxiZWRyb2NrYWdlbnQ6e3ByZWZpeDoiYmVkcm9jay1hZ2VudCIsbmFtZToiQmVkcm9ja0FnZW50In0sYmVkcm9ja2FnZW50cnVudGltZTp7cHJlZml4OiJiZWRyb2NrLWFnZW50LXJ1bnRpbWUiLG5hbWU6IkJlZHJvY2tBZ2VudFJ1bnRpbWUifSxxYnVzaW5lc3M6e25hbWU6IlFCdXNpbmVzcyJ9LHFjb25uZWN0OntuYW1lOiJRQ29ubmVjdCJ9LGNsZWFucm9vbXNtbDp7bmFtZToiQ2xlYW5Sb29tc01MIn0sbWFya2V0cGxhY2VhZ3JlZW1lbnQ6e3ByZWZpeDoibWFya2V0cGxhY2UtYWdyZWVtZW50IixuYW1lOiJNYXJrZXRwbGFjZUFncmVlbWVudCJ9LG1hcmtldHBsYWNlZGVwbG95bWVudDp7cHJlZml4OiJtYXJrZXRwbGFjZS1kZXBsb3ltZW50IixuYW1lOiJNYXJrZXRwbGFjZURlcGxveW1lbnQifSxuZXR3b3JrbW9uaXRvcjp7bmFtZToiTmV0d29ya01vbml0b3IifSxzdXBwbHljaGFpbjp7bmFtZToiU3VwcGx5Q2hhaW4ifSxhcnRpZmFjdDp7bmFtZToiQXJ0aWZhY3QifSxjaGF0Ym90OntuYW1lOiJDaGF0Ym90In0sdGltZXN0cmVhbWluZmx1eGRiOntwcmVmaXg6InRpbWVzdHJlYW0taW5mbHV4ZGIiLG5hbWU6IlRpbWVzdHJlYW1JbmZsdXhEQiJ9LGNvZGVjb25uZWN0aW9uczp7bmFtZToiQ29kZUNvbm5lY3Rpb25zIn19fSx7fV0sNTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17dmVyc2lvbjoiMi4wIixtZXRhZGF0YTp7YXBpVmVyc2lvbjoiMjAxMS0wNi0xNSIsZW5kcG9pbnRQcmVmaXg6InN0cyIsZ2xvYmFsRW5kcG9pbnQ6InN0cy5hbWF6b25hd3MuY29tIixwcm90b2NvbDoicXVlcnkiLHNlcnZpY2VBYmJyZXZpYXRpb246IkFXUyBTVFMiLHNlcnZpY2VGdWxsTmFtZToiQVdTIFNlY3VyaXR5IFRva2VuIFNlcnZpY2UiLHNlcnZpY2VJZDoiU1RTIixzaWduYXR1cmVWZXJzaW9uOiJ2NCIsdWlkOiJzdHMtMjAxMS0wNi0xNSIseG1sTmFtZXNwYWNlOiJodHRwczovL3N0cy5hbWF6b25hd3MuY29tL2RvYy8yMDExLTA2LTE1LyJ9LG9wZXJhdGlvbnM6e0Fzc3VtZVJvbGU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUm9sZUFybiIsIlJvbGVTZXNzaW9uTmFtZSJdLG1lbWJlcnM6e1JvbGVBcm46e30sUm9sZVNlc3Npb25OYW1lOnt9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LFBvbGljeTp7fSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxUYWdzOntzaGFwZToiUzgifSxUcmFuc2l0aXZlVGFnS2V5czp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxFeHRlcm5hbElkOnt9LFNlcmlhbE51bWJlcjp7fSxUb2tlbkNvZGU6e30sU291cmNlSWRlbnRpdHk6e30sUHJvdmlkZWRDb250ZXh0czp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1Byb3ZpZGVyQXJuOnt9LENvbnRleHRBc3NlcnRpb246e319fX19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LEFzc3VtZWRSb2xlVXNlcjp7c2hhcGU6IlNxIn0sUGFja2VkUG9saWN5U2l6ZTp7dHlwZToiaW50ZWdlciJ9LFNvdXJjZUlkZW50aXR5Ont9fX19LEFzc3VtZVJvbGVXaXRoU0FNTDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSb2xlQXJuIiwiUHJpbmNpcGFsQXJuIiwiU0FNTEFzc2VydGlvbiJdLG1lbWJlcnM6e1JvbGVBcm46e30sUHJpbmNpcGFsQXJuOnt9LFNBTUxBc3NlcnRpb246e3R5cGU6InN0cmluZyIsc2Vuc2l0aXZlOiEwfSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxQb2xpY3k6e30sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVXaXRoU0FNTFJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sU3ViamVjdDp7fSxTdWJqZWN0VHlwZTp7fSxJc3N1ZXI6e30sQXVkaWVuY2U6e30sTmFtZVF1YWxpZmllcjp7fSxTb3VyY2VJZGVudGl0eTp7fX19fSxBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJvbGVBcm4iLCJSb2xlU2Vzc2lvbk5hbWUiLCJXZWJJZGVudGl0eVRva2VuIl0sbWVtYmVyczp7Um9sZUFybjp7fSxSb2xlU2Vzc2lvbk5hbWU6e30sV2ViSWRlbnRpdHlUb2tlbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFByb3ZpZGVySWQ6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sUG9saWN5Ont9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxTdWJqZWN0RnJvbVdlYklkZW50aXR5VG9rZW46e30sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sUHJvdmlkZXI6e30sQXVkaWVuY2U6e30sU291cmNlSWRlbnRpdHk6e319fX0sRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiRW5jb2RlZE1lc3NhZ2UiXSxtZW1iZXJzOntFbmNvZGVkTWVzc2FnZTp7fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7RGVjb2RlZE1lc3NhZ2U6e319fX0sR2V0QWNjZXNzS2V5SW5mbzp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJBY2Nlc3NLZXlJZCJdLG1lbWJlcnM6e0FjY2Vzc0tleUlkOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRBY2Nlc3NLZXlJbmZvUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0FjY291bnQ6e319fX0sR2V0Q2FsbGVySWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0Q2FsbGVySWRlbnRpdHlSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VXNlcklkOnt9LEFjY291bnQ6e30sQXJuOnt9fX19LEdldEZlZGVyYXRpb25Ub2tlbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJOYW1lIl0sbWVtYmVyczp7TmFtZTp7fSxQb2xpY3k6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn0sVGFnczp7c2hhcGU6IlM4In19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldEZlZGVyYXRpb25Ub2tlblJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sRmVkZXJhdGVkVXNlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkZlZGVyYXRlZFVzZXJJZCIsIkFybiJdLG1lbWJlcnM6e0ZlZGVyYXRlZFVzZXJJZDp7fSxBcm46e319fSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn19fX0sR2V0U2Vzc2lvblRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxTZXJpYWxOdW1iZXI6e30sVG9rZW5Db2RlOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRTZXNzaW9uVG9rZW5SZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9fX19fSxzaGFwZXM6e1M0Ont0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXJuOnt9fX19LFM4Ont0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJLZXkiLCJWYWx1ZSJdLG1lbWJlcnM6e0tleTp7fSxWYWx1ZTp7fX19fSxTbDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkFjY2Vzc0tleUlkIiwiU2VjcmV0QWNjZXNzS2V5IiwiU2Vzc2lvblRva2VuIiwiRXhwaXJhdGlvbiJdLG1lbWJlcnM6e0FjY2Vzc0tleUlkOnt9LFNlY3JldEFjY2Vzc0tleTp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFNlc3Npb25Ub2tlbjp7fSxFeHBpcmF0aW9uOnt0eXBlOiJ0aW1lc3RhbXAifX19LFNxOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQXNzdW1lZFJvbGVJZCIsIkFybiJdLG1lbWJlcnM6e0Fzc3VtZWRSb2xlSWQ6e30sQXJuOnt9fX19fX0se31dLDY6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e3BhZ2luYXRpb246e319fSx7fV0sNzpbZnVuY3Rpb24oZSx0LG4pe2UoIi4uL2xpYi9ub2RlX2xvYWRlciIpO3ZhciByPWUoIi4uL2xpYi9jb3JlIiksbz1yLlNlcnZpY2UsaT1yLmFwaUxvYWRlcjtpLnNlcnZpY2VzLmNvZ25pdG9pZGVudGl0eT17fSxyLkNvZ25pdG9JZGVudGl0eT1vLmRlZmluZVNlcnZpY2UoImNvZ25pdG9pZGVudGl0eSIsWyIyMDE0LTA2LTMwIl0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnNlcnZpY2VzLmNvZ25pdG9pZGVudGl0eSwiMjAxNC0wNi0zMCIse2dldDpmdW5jdGlvbigpe3ZhciB0PWUoIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLm1pbi5qc29uIik7cmV0dXJuIHQucGFnaW5hdG9ycz1lKCIuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5wYWdpbmF0b3JzLmpzb24iKS5wYWdpbmF0aW9uLHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5leHBvcnRzPXIuQ29nbml0b0lkZW50aXR5fSx7Ii4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLm1pbi5qc29uIjoxLCIuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5wYWdpbmF0b3JzLmpzb24iOjIsIi4uL2xpYi9jb3JlIjoxOSwiLi4vbGliL25vZGVfbG9hZGVyIjoxNn1dLDg6W2Z1bmN0aW9uKGUsdCxuKXtlKCIuLi9saWIvbm9kZV9sb2FkZXIiKTt2YXIgcj1lKCIuLi9saWIvY29yZSIpLG89ci5TZXJ2aWNlLGk9ci5hcGlMb2FkZXI7aS5zZXJ2aWNlcy5zdHM9e30sci5TVFM9by5kZWZpbmVTZXJ2aWNlKCJzdHMiLFsiMjAxMS0wNi0xNSJdKSxlKCIuLi9saWIvc2VydmljZXMvc3RzIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuc2VydmljZXMuc3RzLCIyMDExLTA2LTE1Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5taW4uanNvbiIpO3JldHVybiB0LnBhZ2luYXRvcnM9ZSgiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5wYWdpbmF0b3JzLmpzb24iKS5wYWdpbmF0aW9uLHR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5leHBvcnRzPXIuU1RTfSx7Ii4uL2FwaXMvc3RzLTIwMTEtMDYtMTUubWluLmpzb24iOjUsIi4uL2FwaXMvc3RzLTIwMTEtMDYtMTUucGFnaW5hdG9ycy5qc29uIjo2LCIuLi9saWIvY29yZSI6MTksIi4uL2xpYi9ub2RlX2xvYWRlciI6MTYsIi4uL2xpYi9zZXJ2aWNlcy9zdHMiOjYzfV0sOTpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtpZighci5zZXJ2aWNlcy5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWRTZXJ2aWNlOiBGYWlsZWQgdG8gbG9hZCBhcGkgZm9yICIrZSk7cmV0dXJuIHIuc2VydmljZXNbZV1bdF19ci5zZXJ2aWNlcz17fSx0LmV4cG9ydHM9cn0se31dLDEwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9icm93c2VySG1hYyIpLG89ZSgiLi9icm93c2VyTWQ1IiksaT1lKCIuL2Jyb3dzZXJTaGExIiksYT1lKCIuL2Jyb3dzZXJTaGEyNTYiKTt0LmV4cG9ydHM9e2NyZWF0ZUhhc2g6ZnVuY3Rpb24oZSl7aWYoIm1kNSI9PT0oZT1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuZXcgbztpZigic2hhMjU2Ij09PWUpcmV0dXJuIG5ldyBhO2lmKCJzaGExIj09PWUpcmV0dXJuIG5ldyBpO3Rocm93IG5ldyBFcnJvcigiSGFzaCBhbGdvcml0aG0gIitlKyIgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3NlciBTREsiKX0sY3JlYXRlSG1hYzpmdW5jdGlvbihlLHQpe2lmKCJtZDUiPT09KGU9ZS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gbmV3IHIobyx0KTtpZigic2hhMjU2Ij09PWUpcmV0dXJuIG5ldyByKGEsdCk7aWYoInNoYTEiPT09ZSlyZXR1cm4gbmV3IHIoaSx0KTt0aHJvdyBuZXcgRXJyb3IoIkhNQUMgYWxnb3JpdGhtICIrZSsiIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIgU0RLIil9LGNyZWF0ZVNpZ246ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImNyZWF0ZVNpZ24gaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBicm93c2VyIil9fX0seyIuL2Jyb3dzZXJIbWFjIjoxMiwiLi9icm93c2VyTWQ1IjoxMywiLi9icm93c2VyU2hhMSI6MTQsIi4vYnJvd3NlclNoYTI1NiI6MTV9XSwxMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoImJ1ZmZlci8iKS5CdWZmZXI7InVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdm9pZCAwPT09QXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3PWZ1bmN0aW9uKGUpe3JldHVybiBvLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKT4tMX0pO3ZhciBvPVsiW29iamVjdCBJbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OEFycmF5XSIsIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldIiwiW29iamVjdCBJbnQxNkFycmF5XSIsIltvYmplY3QgVWludDE2QXJyYXldIiwiW29iamVjdCBJbnQzMkFycmF5XSIsIltvYmplY3QgVWludDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDMyQXJyYXldIiwiW29iamVjdCBGbG9hdDY0QXJyYXldIiwiW29iamVjdCBEYXRhVmlld10iXTt0LmV4cG9ydHM9e2lzRW1wdHlEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT8wPT09ZS5sZW5ndGg6MD09PWUuYnl0ZUxlbmd0aH0sY29udmVydFRvQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9bmV3IHIoZSwidXRmOCIpKSxBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aC9VaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTpuZXcgVWludDhBcnJheShlKX19fSx7ImJ1ZmZlci8iOjg2fV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKTtmdW5jdGlvbiBvKGUsdCl7dGhpcy5oYXNoPW5ldyBlLHRoaXMub3V0ZXI9bmV3IGU7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmNvbnZlcnRUb0J1ZmZlcih0KTtpZihuLmJ5dGVMZW5ndGg+ZS5CTE9DS19TSVpFKXt2YXIgbz1uZXcgZTtvLnVwZGF0ZShuKSxuPW8uZGlnZXN0KCl9dmFyIGk9bmV3IFVpbnQ4QXJyYXkoZS5CTE9DS19TSVpFKTtyZXR1cm4gaS5zZXQobiksaX0oZSx0KSxvPW5ldyBVaW50OEFycmF5KGUuQkxPQ0tfU0laRSk7by5zZXQobik7Zm9yKHZhciBpPTA7aTxlLkJMT0NLX1NJWkU7aSsrKW5baV1ePTU0LG9baV1ePTkyO2Zvcih0aGlzLmhhc2gudXBkYXRlKG4pLHRoaXMub3V0ZXIudXBkYXRlKG8pLGk9MDtpPG4uYnl0ZUxlbmd0aDtpKyspbltpXT0wfXQuZXhwb3J0cz1vLG8ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZihyLmlzRW1wdHlEYXRhKGUpfHx0aGlzLmVycm9yKXJldHVybiB0aGlzO3RyeXt0aGlzLmhhc2gudXBkYXRlKHIuY29udmVydFRvQnVmZmVyKGUpKX1jYXRjaChlKXt0aGlzLmVycm9yPWV9cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vdXRlci5maW5pc2hlZHx8dGhpcy5vdXRlci51cGRhdGUodGhpcy5oYXNoLmRpZ2VzdCgpKSx0aGlzLm91dGVyLmRpZ2VzdChlKX19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMX1dLDEzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9icm93c2VySGFzaFV0aWxzIiksbz1lKCJidWZmZXIvIikuQnVmZmVyLGk9NjQ7ZnVuY3Rpb24gYSgpe3RoaXMuc3RhdGU9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OF0sdGhpcy5idWZmZXI9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcihpKSksdGhpcy5idWZmZXJMZW5ndGg9MCx0aGlzLmJ5dGVzSGFzaGVkPTAsdGhpcy5maW5pc2hlZD0hMX1mdW5jdGlvbiBzKGUsdCxuLHIsbyxpKXtyZXR1cm4oKHQ9KHQrZSY0Mjk0OTY3Mjk1KSsocitpJjQyOTQ5NjcyOTUpJjQyOTQ5NjcyOTUpPDxvfHQ+Pj4zMi1vKStuJjQyOTQ5NjcyOTV9ZnVuY3Rpb24gYyhlLHQsbixyLG8saSxhKXtyZXR1cm4gcyh0Jm58fnQmcixlLHQsbyxpLGEpfWZ1bmN0aW9uIHUoZSx0LG4scixvLGksYSl7cmV0dXJuIHModCZyfG4mfnIsZSx0LG8saSxhKX1mdW5jdGlvbiBsKGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKHRebl5yLGUsdCxvLGksYSl9ZnVuY3Rpb24gcChlLHQsbixyLG8saSxhKXtyZXR1cm4gcyhuXih0fH5yKSxlLHQsbyxpLGEpfXQuZXhwb3J0cz1hLGEuQkxPQ0tfU0laRT1pLGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZihyLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTt2YXIgdD1yLmNvbnZlcnRUb0J1ZmZlcihlKSxuPTAsbz10LmJ5dGVMZW5ndGg7Zm9yKHRoaXMuYnl0ZXNIYXNoZWQrPW87bz4wOyl0aGlzLmJ1ZmZlci5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLHRbbisrXSksby0tLHRoaXMuYnVmZmVyTGVuZ3RoPT09aSYmKHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTApO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZmluaXNoZWQpe3ZhciB0PXRoaXMsbj10LmJ1ZmZlcixyPXQuYnVmZmVyTGVuZ3RoLGE9OCp0LmJ5dGVzSGFzaGVkO2lmKG4uc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywxMjgpLHIlaT49NTYpe2Zvcih2YXIgcz10aGlzLmJ1ZmZlckxlbmd0aDtzPGk7cysrKW4uc2V0VWludDgocywwKTt0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wfWZvcihzPXRoaXMuYnVmZmVyTGVuZ3RoO3M8NTY7cysrKW4uc2V0VWludDgocywwKTtuLnNldFVpbnQzMig1NixhPj4+MCwhMCksbi5zZXRVaW50MzIoNjAsTWF0aC5mbG9vcihhLzQyOTQ5NjcyOTYpLCEwKSx0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmZpbmlzaGVkPSEwfXZhciBjPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMTYpKTtmb3Iocz0wO3M8NDtzKyspYy5zZXRVaW50MzIoNCpzLHRoaXMuc3RhdGVbc10sITApO3ZhciB1PW5ldyBvKGMuYnVmZmVyLGMuYnl0ZU9mZnNldCxjLmJ5dGVMZW5ndGgpO3JldHVybiBlP3UudG9TdHJpbmcoZSk6dX0sYS5wcm90b3R5cGUuaGFzaEJ1ZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnVmZmVyLHQ9dGhpcy5zdGF0ZSxuPXRbMF0scj10WzFdLG89dFsyXSxpPXRbM107bj1jKG4scixvLGksZS5nZXRVaW50MzIoMCwhMCksNywzNjE0MDkwMzYwKSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMig0LCEwKSwxMiwzOTA1NDAyNzEwKSxvPWMobyxpLG4scixlLmdldFVpbnQzMig4LCEwKSwxNyw2MDYxMDU4MTkpLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDEyLCEwKSwyMiwzMjUwNDQxOTY2KSxuPWMobixyLG8saSxlLmdldFVpbnQzMigxNiwhMCksNyw0MTE4NTQ4Mzk5KSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMigyMCwhMCksMTIsMTIwMDA4MDQyNiksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoMjQsITApLDE3LDI4MjE3MzU5NTUpLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDI4LCEwKSwyMiw0MjQ5MjYxMzEzKSxuPWMobixyLG8saSxlLmdldFVpbnQzMigzMiwhMCksNywxNzcwMDM1NDE2KSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMigzNiwhMCksMTIsMjMzNjU1Mjg3OSksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoNDAsITApLDE3LDQyOTQ5MjUyMzMpLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDQ0LCEwKSwyMiwyMzA0NTYzMTM0KSxuPWMobixyLG8saSxlLmdldFVpbnQzMig0OCwhMCksNywxODA0NjAzNjgyKSxpPWMoaSxuLHIsbyxlLmdldFVpbnQzMig1MiwhMCksMTIsNDI1NDYyNjE5NSksbz1jKG8saSxuLHIsZS5nZXRVaW50MzIoNTYsITApLDE3LDI3OTI5NjUwMDYpLG49dShuLHI9YyhyLG8saSxuLGUuZ2V0VWludDMyKDYwLCEwKSwyMiwxMjM2NTM1MzI5KSxvLGksZS5nZXRVaW50MzIoNCwhMCksNSw0MTI5MTcwNzg2KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMigyNCwhMCksOSwzMjI1NDY1NjY0KSxvPXUobyxpLG4scixlLmdldFVpbnQzMig0NCwhMCksMTQsNjQzNzE3NzEzKSxyPXUocixvLGksbixlLmdldFVpbnQzMigwLCEwKSwyMCwzOTIxMDY5OTk0KSxuPXUobixyLG8saSxlLmdldFVpbnQzMigyMCwhMCksNSwzNTkzNDA4NjA1KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMig0MCwhMCksOSwzODAxNjA4Myksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoNjAsITApLDE0LDM2MzQ0ODg5NjEpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDE2LCEwKSwyMCwzODg5NDI5NDQ4KSxuPXUobixyLG8saSxlLmdldFVpbnQzMigzNiwhMCksNSw1Njg0NDY0MzgpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDU2LCEwKSw5LDMyNzUxNjM2MDYpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDEyLCEwKSwxNCw0MTA3NjAzMzM1KSxyPXUocixvLGksbixlLmdldFVpbnQzMigzMiwhMCksMjAsMTE2MzUzMTUwMSksbj11KG4scixvLGksZS5nZXRVaW50MzIoNTIsITApLDUsMjg1MDI4NTgyOSksaT11KGksbixyLG8sZS5nZXRVaW50MzIoOCwhMCksOSw0MjQzNTYzNTEyKSxvPXUobyxpLG4scixlLmdldFVpbnQzMigyOCwhMCksMTQsMTczNTMyODQ3Myksbj1sKG4scj11KHIsbyxpLG4sZS5nZXRVaW50MzIoNDgsITApLDIwLDIzNjgzNTk1NjIpLG8saSxlLmdldFVpbnQzMigyMCwhMCksNCw0Mjk0NTg4NzM4KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMigzMiwhMCksMTEsMjI3MjM5MjgzMyksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoNDQsITApLDE2LDE4MzkwMzA1NjIpLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDU2LCEwKSwyMyw0MjU5NjU3NzQwKSxuPWwobixyLG8saSxlLmdldFVpbnQzMig0LCEwKSw0LDI3NjM5NzUyMzYpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDE2LCEwKSwxMSwxMjcyODkzMzUzKSxvPWwobyxpLG4scixlLmdldFVpbnQzMigyOCwhMCksMTYsNDEzOTQ2OTY2NCkscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoNDAsITApLDIzLDMyMDAyMzY2NTYpLG49bChuLHIsbyxpLGUuZ2V0VWludDMyKDUyLCEwKSw0LDY4MTI3OTE3NCksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoMCwhMCksMTEsMzkzNjQzMDA3NCksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoMTIsITApLDE2LDM1NzI0NDUzMTcpLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDI0LCEwKSwyMyw3NjAyOTE4OSksbj1sKG4scixvLGksZS5nZXRVaW50MzIoMzYsITApLDQsMzY1NDYwMjgwOSksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoNDgsITApLDExLDM4NzMxNTE0NjEpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDYwLCEwKSwxNiw1MzA3NDI1MjApLG49cChuLHI9bChyLG8saSxuLGUuZ2V0VWludDMyKDgsITApLDIzLDMyOTk2Mjg2NDUpLG8saSxlLmdldFVpbnQzMigwLCEwKSw2LDQwOTYzMzY0NTIpLGk9cChpLG4scixvLGUuZ2V0VWludDMyKDI4LCEwKSwxMCwxMTI2ODkxNDE1KSxvPXAobyxpLG4scixlLmdldFVpbnQzMig1NiwhMCksMTUsMjg3ODYxMjM5MSkscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoMjAsITApLDIxLDQyMzc1MzMyNDEpLG49cChuLHIsbyxpLGUuZ2V0VWludDMyKDQ4LCEwKSw2LDE3MDA0ODU1NzEpLGk9cChpLG4scixvLGUuZ2V0VWludDMyKDEyLCEwKSwxMCwyMzk5OTgwNjkwKSxvPXAobyxpLG4scixlLmdldFVpbnQzMig0MCwhMCksMTUsNDI5MzkxNTc3Mykscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoNCwhMCksMjEsMjI0MDA0NDQ5Nyksbj1wKG4scixvLGksZS5nZXRVaW50MzIoMzIsITApLDYsMTg3MzMxMzM1OSksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoNjAsITApLDEwLDQyNjQzNTU1NTIpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDI0LCEwKSwxNSwyNzM0NzY4OTE2KSxyPXAocixvLGksbixlLmdldFVpbnQzMig1MiwhMCksMjEsMTMwOTE1MTY0OSksbj1wKG4scixvLGksZS5nZXRVaW50MzIoMTYsITApLDYsNDE0OTQ0NDIyNiksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoNDQsITApLDEwLDMxNzQ3NTY5MTcpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDgsITApLDE1LDcxODc4NzI1OSkscj1wKHIsbyxpLG4sZS5nZXRVaW50MzIoMzYsITApLDIxLDM5NTE0ODE3NDUpLHRbMF09bit0WzBdJjQyOTQ5NjcyOTUsdFsxXT1yK3RbMV0mNDI5NDk2NzI5NSx0WzJdPW8rdFsyXSY0Mjk0OTY3Mjk1LHRbM109aSt0WzNdJjQyOTQ5NjcyOTV9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJidWZmZXIvIikuQnVmZmVyLG89ZSgiLi9icm93c2VySGFzaFV0aWxzIik7ZnVuY3Rpb24gaSgpe3RoaXMuaDA9MTczMjU4NDE5Myx0aGlzLmgxPTQwMjMyMzM0MTcsdGhpcy5oMj0yNTYyMzgzMTAyLHRoaXMuaDM9MjcxNzMzODc4LHRoaXMuaDQ9MzI4NTM3NzUyMCx0aGlzLmJsb2NrPW5ldyBVaW50MzJBcnJheSg4MCksdGhpcy5vZmZzZXQ9MCx0aGlzLnNoaWZ0PTI0LHRoaXMudG90YWxMZW5ndGg9MH1uZXcgVWludDMyQXJyYXkoWzE1MTg1MDAyNDksMTg1OTc3NTM5MywtMTg5NDAwNzU4OCwtODk5NDk3NTE0XSksTWF0aC5wb3coMiw1MyksdC5leHBvcnRzPWksaS5CTE9DS19TSVpFPTY0LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLmZpbmlzaGVkKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHVwZGF0ZSBhbiBhbHJlYWR5IGZpbmlzaGVkIGhhc2guIik7aWYoby5pc0VtcHR5RGF0YShlKSlyZXR1cm4gdGhpczt2YXIgdD0oZT1vLmNvbnZlcnRUb0J1ZmZlcihlKSkubGVuZ3RoO3RoaXMudG90YWxMZW5ndGgrPTgqdDtmb3IodmFyIG49MDtuPHQ7bisrKXRoaXMud3JpdGUoZVtuXSk7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuYmxvY2tbdGhpcy5vZmZzZXRdfD0oMjU1JmUpPDx0aGlzLnNoaWZ0LHRoaXMuc2hpZnQ/dGhpcy5zaGlmdC09ODoodGhpcy5vZmZzZXQrKyx0aGlzLnNoaWZ0PTI0KSwxNj09PXRoaXMub2Zmc2V0JiZ0aGlzLnByb2Nlc3NCbG9jaygpfSxpLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7dGhpcy53cml0ZSgxMjgpLCh0aGlzLm9mZnNldD4xNHx8MTQ9PT10aGlzLm9mZnNldCYmdGhpcy5zaGlmdDwyNCkmJnRoaXMucHJvY2Vzc0Jsb2NrKCksdGhpcy5vZmZzZXQ9MTQsdGhpcy5zaGlmdD0yNCx0aGlzLndyaXRlKDApLHRoaXMud3JpdGUoMCksdGhpcy53cml0ZSh0aGlzLnRvdGFsTGVuZ3RoPjB4ZmZmZmZmZmZmZj90aGlzLnRvdGFsTGVuZ3RoLzEwOTk1MTE2Mjc3NzY6MCksdGhpcy53cml0ZSh0aGlzLnRvdGFsTGVuZ3RoPjQyOTQ5NjcyOTU/dGhpcy50b3RhbExlbmd0aC80Mjk0OTY3Mjk2OjApO2Zvcih2YXIgdD0yNDt0Pj0wO3QtPTgpdGhpcy53cml0ZSh0aGlzLnRvdGFsTGVuZ3RoPj50KTt2YXIgbj1uZXcgcigyMCksbz1uZXcgRGF0YVZpZXcobi5idWZmZXIpO3JldHVybiBvLnNldFVpbnQzMigwLHRoaXMuaDAsITEpLG8uc2V0VWludDMyKDQsdGhpcy5oMSwhMSksby5zZXRVaW50MzIoOCx0aGlzLmgyLCExKSxvLnNldFVpbnQzMigxMix0aGlzLmgzLCExKSxvLnNldFVpbnQzMigxNix0aGlzLmg0LCExKSxlP24udG9TdHJpbmcoZSk6bn0saS5wcm90b3R5cGUucHJvY2Vzc0Jsb2NrPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTE2O2U8ODA7ZSsrKXt2YXIgdD10aGlzLmJsb2NrW2UtM11edGhpcy5ibG9ja1tlLThdXnRoaXMuYmxvY2tbZS0xNF1edGhpcy5ibG9ja1tlLTE2XTt0aGlzLmJsb2NrW2VdPXQ8PDF8dD4+PjMxfXZhciBuLHIsbz10aGlzLmgwLGk9dGhpcy5oMSxhPXRoaXMuaDIscz10aGlzLmgzLGM9dGhpcy5oNDtmb3IoZT0wO2U8ODA7ZSsrKXtlPDIwPyhuPXNeaSYoYV5zKSxyPTE1MTg1MDAyNDkpOmU8NDA/KG49aV5hXnMscj0xODU5Nzc1MzkzKTplPDYwPyhuPWkmYXxzJihpfGEpLHI9MjQwMDk1OTcwOCk6KG49aV5hXnMscj0zMzk1NDY5NzgyKTt2YXIgdT0obzw8NXxvPj4+MjcpK24rYytyKygwfHRoaXMuYmxvY2tbZV0pO2M9cyxzPWEsYT1pPDwzMHxpPj4+MixpPW8sbz11fWZvcih0aGlzLmgwPXRoaXMuaDArb3wwLHRoaXMuaDE9dGhpcy5oMStpfDAsdGhpcy5oMj10aGlzLmgyK2F8MCx0aGlzLmgzPXRoaXMuaDMrc3wwLHRoaXMuaDQ9dGhpcy5oNCtjfDAsdGhpcy5vZmZzZXQ9MCxlPTA7ZTwxNjtlKyspdGhpcy5ibG9ja1tlXT0wfX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExLCJidWZmZXIvIjo4Nn1dLDE1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcixvPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpLGk9NjQsYT1uZXcgVWludDMyQXJyYXkoWzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0pLHM9TWF0aC5wb3coMiw1MyktMTtmdW5jdGlvbiBjKCl7dGhpcy5zdGF0ZT1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLHRoaXMudGVtcD1uZXcgSW50MzJBcnJheSg2NCksdGhpcy5idWZmZXI9bmV3IFVpbnQ4QXJyYXkoNjQpLHRoaXMuYnVmZmVyTGVuZ3RoPTAsdGhpcy5ieXRlc0hhc2hlZD0wLHRoaXMuZmluaXNoZWQ9ITF9dC5leHBvcnRzPWMsYy5CTE9DS19TSVpFPWksYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTtpZihvLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO3ZhciB0PTAsbj0oZT1vLmNvbnZlcnRUb0J1ZmZlcihlKSkuYnl0ZUxlbmd0aDtpZih0aGlzLmJ5dGVzSGFzaGVkKz1uLDgqdGhpcy5ieXRlc0hhc2hlZD5zKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGhhc2ggbW9yZSB0aGFuIDJeNTMgLSAxIGJpdHMiKTtmb3IoO24+MDspdGhpcy5idWZmZXJbdGhpcy5idWZmZXJMZW5ndGgrK109ZVt0KytdLG4tLSx0aGlzLmJ1ZmZlckxlbmd0aD09PWkmJih0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmZpbmlzaGVkKXt2YXIgdD04KnRoaXMuYnl0ZXNIYXNoZWQsbj1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIuYnVmZmVyLHRoaXMuYnVmZmVyLmJ5dGVPZmZzZXQsdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCksbz10aGlzLmJ1ZmZlckxlbmd0aDtpZihuLnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssMTI4KSxvJWk+PTU2KXtmb3IodmFyIGE9dGhpcy5idWZmZXJMZW5ndGg7YTxpO2ErKyluLnNldFVpbnQ4KGEsMCk7dGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MH1mb3IoYT10aGlzLmJ1ZmZlckxlbmd0aDthPDU2O2ErKyluLnNldFVpbnQ4KGEsMCk7bi5zZXRVaW50MzIoNTYsTWF0aC5mbG9vcih0LzQyOTQ5NjcyOTYpLCEwKSxuLnNldFVpbnQzMig2MCx0KSx0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmZpbmlzaGVkPSEwfXZhciBzPW5ldyByKDMyKTtmb3IoYT0wO2E8ODthKyspc1s0KmFdPXRoaXMuc3RhdGVbYV0+Pj4yNCYyNTUsc1s0KmErMV09dGhpcy5zdGF0ZVthXT4+PjE2JjI1NSxzWzQqYSsyXT10aGlzLnN0YXRlW2FdPj4+OCYyNTUsc1s0KmErM109dGhpcy5zdGF0ZVthXT4+PjAmMjU1O3JldHVybiBlP3MudG9TdHJpbmcoZSk6c30sYy5wcm90b3R5cGUuaGFzaEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ1ZmZlcix0PXRoaXMuc3RhdGUsbj10WzBdLHI9dFsxXSxvPXRbMl0scz10WzNdLGM9dFs0XSx1PXRbNV0sbD10WzZdLHA9dFs3XSxkPTA7ZDxpO2QrKyl7aWYoZDwxNil0aGlzLnRlbXBbZF09KDI1NSZlWzQqZF0pPDwyNHwoMjU1JmVbNCpkKzFdKTw8MTZ8KDI1NSZlWzQqZCsyXSk8PDh8MjU1JmVbNCpkKzNdO2Vsc2V7dmFyIGg9dGhpcy50ZW1wW2QtMl0sZj0oaD4+PjE3fGg8PDE1KV4oaD4+PjE5fGg8PDEzKV5oPj4+MTAsZz0oKGg9dGhpcy50ZW1wW2QtMTVdKT4+Pjd8aDw8MjUpXihoPj4+MTh8aDw8MTQpXmg+Pj4zO3RoaXMudGVtcFtkXT0oZit0aGlzLnRlbXBbZC03XXwwKSsoZyt0aGlzLnRlbXBbZC0xNl18MCl9dmFyIG09KCgoYz4+PjZ8Yzw8MjYpXihjPj4+MTF8Yzw8MjEpXihjPj4+MjV8Yzw8NykpKyhjJnVefmMmbCl8MCkrKHArKGFbZF0rdGhpcy50ZW1wW2RdfDApfDApfDAsdj0oKG4+Pj4yfG48PDMwKV4obj4+PjEzfG48PDE5KV4obj4+PjIyfG48PDEwKSkrKG4mcl5uJm9eciZvKXwwO3A9bCxsPXUsdT1jLGM9cyttfDAscz1vLG89cixyPW4sbj1tK3Z8MH10WzBdKz1uLHRbMV0rPXIsdFsyXSs9byx0WzNdKz1zLHRbNF0rPWMsdFs1XSs9dSx0WzZdKz1sLHRbN10rPXB9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi91dGlsIik7bi5jcnlwdG8ubGliPWUoIi4vYnJvd3NlckNyeXB0b0xpYiIpLG4uQnVmZmVyPWUoImJ1ZmZlci8iKS5CdWZmZXIsbi51cmw9ZSgidXJsLyIpLG4ucXVlcnlzdHJpbmc9ZSgicXVlcnlzdHJpbmcvIiksbi5yZWFsQ2xvY2s9ZSgiLi9yZWFsY2xvY2svYnJvd3NlckNsb2NrIiksbi5lbnZpcm9ubWVudD0ianMiLG4uY3JlYXRlRXZlbnRTdHJlYW09ZSgiLi9ldmVudC1zdHJlYW0vYnVmZmVyZWQtY3JlYXRlLWV2ZW50LXN0cmVhbSIpLmNyZWF0ZUV2ZW50U3RyZWFtLG4uaXNCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuITB9LG4uaXNOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciByPWUoIi4vY29yZSIpO2lmKHQuZXhwb3J0cz1yLGUoIi4vY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iKSxlKCIuL2NyZWRlbnRpYWxzL3RlbXBvcmFyeV9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY2hhaW5hYmxlX3RlbXBvcmFyeV9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvd2ViX2lkZW50aXR5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jb2duaXRvX2lkZW50aXR5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9zYW1sX2NyZWRlbnRpYWxzIiksci5YTUwuUGFyc2VyPWUoIi4veG1sL2Jyb3dzZXJfcGFyc2VyIiksZSgiLi9odHRwL3hociIpLHZvaWQgMD09PW8pdmFyIG89e2Jyb3dzZXI6ITB9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2Jyb3dzZXJDcnlwdG9MaWIiOjEwLCIuL2NvcmUiOjE5LCIuL2NyZWRlbnRpYWxzIjoyMCwiLi9jcmVkZW50aWFscy9jaGFpbmFibGVfdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIjoyMSwiLi9jcmVkZW50aWFscy9jb2duaXRvX2lkZW50aXR5X2NyZWRlbnRpYWxzIjoyMiwiLi9jcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluIjoyMywiLi9jcmVkZW50aWFscy9zYW1sX2NyZWRlbnRpYWxzIjoyNCwiLi9jcmVkZW50aWFscy90ZW1wb3JhcnlfY3JlZGVudGlhbHMiOjI1LCIuL2NyZWRlbnRpYWxzL3dlYl9pZGVudGl0eV9jcmVkZW50aWFscyI6MjYsIi4vZXZlbnQtc3RyZWFtL2J1ZmZlcmVkLWNyZWF0ZS1ldmVudC1zdHJlYW0iOjI4LCIuL2h0dHAveGhyIjozNiwiLi9yZWFsY2xvY2svYnJvd3NlckNsb2NrIjo1NCwiLi91dGlsIjo3NCwiLi94bWwvYnJvd3Nlcl9wYXJzZXIiOjc1LF9wcm9jZXNzOjkxLCJidWZmZXIvIjo4NiwicXVlcnlzdHJpbmcvIjo5OCwidXJsLyI6MTAwfV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvPWUoIi4vY29yZSIpO2UoIi4vY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iKSxvLkNvbmZpZz1vLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9e30pLGU9dGhpcy5leHRyYWN0Q3JlZGVudGlhbHMoZSksby51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMua2V5cywoZnVuY3Rpb24odCxuKXt0aGlzLnNldCh0LGVbdF0sbil9KSl9LGdldENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztmdW5jdGlvbiByKHQpe2UodCx0P251bGw6bi5jcmVkZW50aWFscyl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBuZXcgby51dGlsLmVycm9yKHR8fG5ldyBFcnJvcix7Y29kZToiQ3JlZGVudGlhbHNFcnJvciIsbWVzc2FnZTplLG5hbWU6IkNyZWRlbnRpYWxzRXJyb3IifSl9bi5jcmVkZW50aWFscz8iZnVuY3Rpb24iPT10eXBlb2Ygbi5jcmVkZW50aWFscy5nZXQ/bi5jcmVkZW50aWFscy5nZXQoKGZ1bmN0aW9uKGUpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gIituLmNyZWRlbnRpYWxzLmNvbnN0cnVjdG9yLm5hbWUsZSkpLHIoZSl9KSk6KHQ9bnVsbCxuLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkJiZuLmNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleXx8KHQ9aSgiTWlzc2luZyBjcmVkZW50aWFscyIpKSxyKHQpKTpuLmNyZWRlbnRpYWxQcm92aWRlcj9uLmNyZWRlbnRpYWxQcm92aWRlci5yZXNvbHZlKChmdW5jdGlvbihlLHQpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gYW55IHByb3ZpZGVycyIsZSkpLG4uY3JlZGVudGlhbHM9dCxyKGUpfSkpOnIoaSgiTm8gY3JlZGVudGlhbHMgdG8gbG9hZCIpKX0sZ2V0VG9rZW46ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzO2Z1bmN0aW9uIHIodCl7ZSh0LHQ/bnVsbDpuLnRva2VuKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG5ldyBvLnV0aWwuZXJyb3IodHx8bmV3IEVycm9yLHtjb2RlOiJUb2tlbkVycm9yIixtZXNzYWdlOmUsbmFtZToiVG9rZW5FcnJvciJ9KX1uLnRva2VuPyJmdW5jdGlvbiI9PXR5cGVvZiBuLnRva2VuLmdldD9uLnRva2VuLmdldCgoZnVuY3Rpb24oZSl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgdG9rZW4gZnJvbSAiK24udG9rZW4uY29uc3RydWN0b3IubmFtZSxlKSkscihlKX0pKToodD1udWxsLG4udG9rZW4udG9rZW58fCh0PWkoIk1pc3NpbmcgdG9rZW4iKSkscih0KSk6bi50b2tlblByb3ZpZGVyP24udG9rZW5Qcm92aWRlci5yZXNvbHZlKChmdW5jdGlvbihlLHQpe2UmJihlPWkoIkNvdWxkIG5vdCBsb2FkIHRva2VuIGZyb20gYW55IHByb3ZpZGVycyIsZSkpLG4udG9rZW49dCxyKGUpfSkpOnIoaSgiTm8gdG9rZW4gdG8gbG9hZCIpKX0sdXBkYXRlOmZ1bmN0aW9uKGUsdCl7dD10fHwhMSxlPXRoaXMuZXh0cmFjdENyZWRlbnRpYWxzKGUpLG8udXRpbC5lYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlLG4peyh0fHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5rZXlzLGUpfHxvLlNlcnZpY2UuaGFzU2VydmljZShlKSkmJnRoaXMuc2V0KGUsbil9KSl9LGxvYWRGcm9tUGF0aDpmdW5jdGlvbihlKXt0aGlzLmNsZWFyKCk7dmFyIHQ9SlNPTi5wYXJzZShvLnV0aWwucmVhZEZpbGVTeW5jKGUpKSxuPW5ldyBvLkZpbGVTeXN0ZW1DcmVkZW50aWFscyhlKSxyPW5ldyBvLkNyZWRlbnRpYWxQcm92aWRlckNoYWluO3JldHVybiByLnByb3ZpZGVycy51bnNoaWZ0KG4pLHIucmVzb2x2ZSgoZnVuY3Rpb24oZSxuKXtpZihlKXRocm93IGU7dC5jcmVkZW50aWFscz1ufSkpLHRoaXMuY29uc3RydWN0b3IodCksdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtvLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5rZXlzLChmdW5jdGlvbihlKXtkZWxldGUgdGhpc1tlXX0pKSx0aGlzLnNldCgiY3JlZGVudGlhbHMiLHZvaWQgMCksdGhpcy5zZXQoImNyZWRlbnRpYWxQcm92aWRlciIsdm9pZCAwKX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2b2lkIDA9PT10Pyh2b2lkIDA9PT1uJiYobj10aGlzLmtleXNbZV0pLHRoaXNbZV09ImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5jYWxsKHRoaXMpOm4pOiJodHRwT3B0aW9ucyI9PT1lJiZ0aGlzW2VdP3RoaXNbZV09by51dGlsLm1lcmdlKHRoaXNbZV0sdCk6dGhpc1tlXT10fSxrZXlzOntjcmVkZW50aWFsczpudWxsLGNyZWRlbnRpYWxQcm92aWRlcjpudWxsLHJlZ2lvbjpudWxsLGxvZ2dlcjpudWxsLGFwaVZlcnNpb25zOnt9LGFwaVZlcnNpb246bnVsbCxlbmRwb2ludDp2b2lkIDAsaHR0cE9wdGlvbnM6e3RpbWVvdXQ6MTJlNH0sbWF4UmV0cmllczp2b2lkIDAsbWF4UmVkaXJlY3RzOjEwLHBhcmFtVmFsaWRhdGlvbjohMCxzc2xFbmFibGVkOiEwLHMzRm9yY2VQYXRoU3R5bGU6ITEsczNCdWNrZXRFbmRwb2ludDohMSxzM0Rpc2FibGVCb2R5U2lnbmluZzohMCxzM1VzRWFzdDFSZWdpb25hbEVuZHBvaW50OiJsZWdhY3kiLHMzVXNlQXJuUmVnaW9uOnZvaWQgMCxjb21wdXRlQ2hlY2tzdW1zOiEwLGNvbnZlcnRSZXNwb25zZVR5cGVzOiEwLGNvcnJlY3RDbG9ja1NrZXc6ITEsY3VzdG9tVXNlckFnZW50Om51bGwsZHluYW1vRGJDcmMzMjohMCxzeXN0ZW1DbG9ja09mZnNldDowLHNpZ25hdHVyZVZlcnNpb246bnVsbCxzaWduYXR1cmVDYWNoZTohMCxyZXRyeURlbGF5T3B0aW9uczp7fSx1c2VBY2NlbGVyYXRlRW5kcG9pbnQ6ITEsY2xpZW50U2lkZU1vbml0b3Jpbmc6ITEsZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkOnZvaWQgMCxlbmRwb2ludENhY2hlU2l6ZToxZTMsaG9zdFByZWZpeEVuYWJsZWQ6ITAsc3RzUmVnaW9uYWxFbmRwb2ludHM6ImxlZ2FjeSIsdXNlRmlwc0VuZHBvaW50OiExLHVzZUR1YWxzdGFja0VuZHBvaW50OiExLHRva2VuOm51bGx9LGV4dHJhY3RDcmVkZW50aWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5hY2Nlc3NLZXlJZCYmZS5zZWNyZXRBY2Nlc3NLZXkmJigoZT1vLnV0aWwuY29weShlKSkuY3JlZGVudGlhbHM9bmV3IG8uQ3JlZGVudGlhbHMoZSkpLGV9LHNldFByb21pc2VzRGVwZW5kZW5jeTpmdW5jdGlvbihlKXtyPWUsbnVsbD09PWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlJiYocj1Qcm9taXNlKTt2YXIgdD1bby5SZXF1ZXN0LG8uQ3JlZGVudGlhbHMsby5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbl07by5TMyYmKHQucHVzaChvLlMzKSxvLlMzLk1hbmFnZWRVcGxvYWQmJnQucHVzaChvLlMzLk1hbmFnZWRVcGxvYWQpKSxvLnV0aWwuYWRkUHJvbWlzZXModCxyKX0sZ2V0UHJvbWlzZXNEZXBlbmRlbmN5OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSksby5jb25maWc9bmV3IG8uQ29uZmlnfSx7Ii4vY29yZSI6MTksIi4vY3JlZGVudGlhbHMiOjIwLCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iOjIzfV0sMTg6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIHI9ZSgiLi9jb3JlIik7ZnVuY3Rpb24gbyhlLHQpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoWyJsZWdhY3kiLCJyZWdpb25hbCJdLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKT49MClyZXR1cm4gZS50b0xvd2VyQ2FzZSgpO3Rocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3IsdCl9fXQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBpO2lmKChlPWV8fHt9KVt0LmNsaWVudENvbmZpZ10mJihpPW8oZVt0LmNsaWVudENvbmZpZ10se2NvZGU6IkludmFsaWRDb25maWd1cmF0aW9uIixtZXNzYWdlOidpbnZhbGlkICInK3QuY2xpZW50Q29uZmlnKyciIGNvbmZpZ3VyYXRpb24uIEV4cGVjdCAibGVnYWN5IiAgb3IgInJlZ2lvbmFsIi4gR290ICInK2VbdC5jbGllbnRDb25maWddKyciLid9KSkpcmV0dXJuIGk7aWYoIXIudXRpbC5pc05vZGUoKSlyZXR1cm4gaTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobi5lbnYsdC5lbnYpJiYoaT1vKG4uZW52W3QuZW52XSx7Y29kZToiSW52YWxpZEVudmlyb25tZW50YWxWYXJpYWJsZSIsbWVzc2FnZToiaW52YWxpZCAiK3QuZW52KycgZW52aXJvbm1lbnRhbCB2YXJpYWJsZS4gRXhwZWN0ICJsZWdhY3kiICBvciAicmVnaW9uYWwiLiBHb3QgIicrbi5lbnZbdC5lbnZdKyciLid9KSkpcmV0dXJuIGk7dmFyIGE9e307dHJ5e2E9ci51dGlsLmdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZyhyLnV0aWwuaW5pTG9hZGVyKVtuLmVudi5BV1NfUFJPRklMRXx8ci51dGlsLmRlZmF1bHRQcm9maWxlXX1jYXRjaChlKXt9cmV0dXJuIGEmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHQuc2hhcmVkQ29uZmlnKSYmKGk9byhhW3Quc2hhcmVkQ29uZmlnXSx7Y29kZToiSW52YWxpZENvbmZpZ3VyYXRpb24iLG1lc3NhZ2U6ImludmFsaWQgIit0LnNoYXJlZENvbmZpZysnIHByb2ZpbGUgY29uZmlnLiBFeHBlY3QgImxlZ2FjeSIgIG9yICJyZWdpb25hbCIuIEdvdCAiJythW3Quc2hhcmVkQ29uZmlnXSsnIi4nfSkpLGl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LF9wcm9jZXNzOjkxfV0sMTk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj17dXRpbDplKCIuL3V0aWwiKX07KHt9KS50b1N0cmluZygpLHQuZXhwb3J0cz1yLHIudXRpbC51cGRhdGUocix7VkVSU0lPTjoiMi4xNTg5LjAiLFNpZ25lcnM6e30sUHJvdG9jb2w6e0pzb246ZSgiLi9wcm90b2NvbC9qc29uIiksUXVlcnk6ZSgiLi9wcm90b2NvbC9xdWVyeSIpLFJlc3Q6ZSgiLi9wcm90b2NvbC9yZXN0IiksUmVzdEpzb246ZSgiLi9wcm90b2NvbC9yZXN0X2pzb24iKSxSZXN0WG1sOmUoIi4vcHJvdG9jb2wvcmVzdF94bWwiKX0sWE1MOntCdWlsZGVyOmUoIi4veG1sL2J1aWxkZXIiKSxQYXJzZXI6bnVsbH0sSlNPTjp7QnVpbGRlcjplKCIuL2pzb24vYnVpbGRlciIpLFBhcnNlcjplKCIuL2pzb24vcGFyc2VyIil9LE1vZGVsOntBcGk6ZSgiLi9tb2RlbC9hcGkiKSxPcGVyYXRpb246ZSgiLi9tb2RlbC9vcGVyYXRpb24iKSxTaGFwZTplKCIuL21vZGVsL3NoYXBlIiksUGFnaW5hdG9yOmUoIi4vbW9kZWwvcGFnaW5hdG9yIiksUmVzb3VyY2VXYWl0ZXI6ZSgiLi9tb2RlbC9yZXNvdXJjZV93YWl0ZXIiKX0sYXBpTG9hZGVyOmUoIi4vYXBpX2xvYWRlciIpLEVuZHBvaW50Q2FjaGU6ZSgiLi4vdmVuZG9yL2VuZHBvaW50LWNhY2hlIikuRW5kcG9pbnRDYWNoZX0pLGUoIi4vc2VxdWVudGlhbF9leGVjdXRvciIpLGUoIi4vc2VydmljZSIpLGUoIi4vY29uZmlnIiksZSgiLi9odHRwIiksZSgiLi9ldmVudF9saXN0ZW5lcnMiKSxlKCIuL3JlcXVlc3QiKSxlKCIuL3Jlc3BvbnNlIiksZSgiLi9yZXNvdXJjZV93YWl0ZXIiKSxlKCIuL3NpZ25lcnMvcmVxdWVzdF9zaWduZXIiKSxlKCIuL3BhcmFtX3ZhbGlkYXRvciIpLGUoIi4vbWFpbnRlbmFuY2VfbW9kZV9tZXNzYWdlIiksci5ldmVudHM9bmV3IHIuU2VxdWVudGlhbEV4ZWN1dG9yLHIudXRpbC5tZW1vaXplZFByb3BlcnR5KHIsImVuZHBvaW50Q2FjaGUiLChmdW5jdGlvbigpe3JldHVybiBuZXcgci5FbmRwb2ludENhY2hlKHIuY29uZmlnLmVuZHBvaW50Q2FjaGVTaXplKX0pLCEwKX0seyIuLi92ZW5kb3IvZW5kcG9pbnQtY2FjaGUiOjExMSwiLi9hcGlfbG9hZGVyIjo5LCIuL2NvbmZpZyI6MTcsIi4vZXZlbnRfbGlzdGVuZXJzIjozNCwiLi9odHRwIjozNSwiLi9qc29uL2J1aWxkZXIiOjM3LCIuL2pzb24vcGFyc2VyIjozOCwiLi9tYWludGVuYW5jZV9tb2RlX21lc3NhZ2UiOjM5LCIuL21vZGVsL2FwaSI6NDAsIi4vbW9kZWwvb3BlcmF0aW9uIjo0MiwiLi9tb2RlbC9wYWdpbmF0b3IiOjQzLCIuL21vZGVsL3Jlc291cmNlX3dhaXRlciI6NDQsIi4vbW9kZWwvc2hhcGUiOjQ1LCIuL3BhcmFtX3ZhbGlkYXRvciI6NDYsIi4vcHJvdG9jb2wvanNvbiI6NDgsIi4vcHJvdG9jb2wvcXVlcnkiOjQ5LCIuL3Byb3RvY29sL3Jlc3QiOjUwLCIuL3Byb3RvY29sL3Jlc3RfanNvbiI6NTEsIi4vcHJvdG9jb2wvcmVzdF94bWwiOjUyLCIuL3JlcXVlc3QiOjU4LCIuL3Jlc291cmNlX3dhaXRlciI6NTksIi4vcmVzcG9uc2UiOjYwLCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiOjYxLCIuL3NlcnZpY2UiOjYyLCIuL3NpZ25lcnMvcmVxdWVzdF9zaWduZXIiOjY2LCIuL3V0aWwiOjc0LCIuL3htbC9idWlsZGVyIjo3Nn1dLDIwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIik7ci5DcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXtpZihyLnV0aWwuaGlkZVByb3BlcnRpZXModGhpcyxbInNlY3JldEFjY2Vzc0tleSJdKSx0aGlzLmV4cGlyZWQ9ITEsdGhpcy5leHBpcmVUaW1lPW51bGwsdGhpcy5yZWZyZXNoQ2FsbGJhY2tzPVtdLDE9PT1hcmd1bWVudHMubGVuZ3RoJiYib2JqZWN0Ij09PW8oYXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzWzBdLmNyZWRlbnRpYWxzfHxhcmd1bWVudHNbMF07dGhpcy5hY2Nlc3NLZXlJZD1lLmFjY2Vzc0tleUlkLHRoaXMuc2VjcmV0QWNjZXNzS2V5PWUuc2VjcmV0QWNjZXNzS2V5LHRoaXMuc2Vzc2lvblRva2VuPWUuc2Vzc2lvblRva2VufWVsc2UgdGhpcy5hY2Nlc3NLZXlJZD1hcmd1bWVudHNbMF0sdGhpcy5zZWNyZXRBY2Nlc3NLZXk9YXJndW1lbnRzWzFdLHRoaXMuc2Vzc2lvblRva2VuPWFyZ3VtZW50c1syXX0sZXhwaXJ5V2luZG93OjE1LG5lZWRzUmVmcmVzaDpmdW5jdGlvbigpe3ZhciBlPXIudXRpbC5kYXRlLmdldERhdGUoKS5nZXRUaW1lKCksdD1uZXcgRGF0ZShlKzFlMyp0aGlzLmV4cGlyeVdpbmRvdyk7cmV0dXJuISEodGhpcy5leHBpcmVUaW1lJiZ0PnRoaXMuZXhwaXJlVGltZSl8fHRoaXMuZXhwaXJlZHx8IXRoaXMuYWNjZXNzS2V5SWR8fCF0aGlzLnNlY3JldEFjY2Vzc0tleX0sZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5uZWVkc1JlZnJlc2goKT90aGlzLnJlZnJlc2goKGZ1bmN0aW9uKG4pe258fCh0LmV4cGlyZWQ9ITEpLGUmJmUobil9KSk6ZSYmZSgpfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuZXhwaXJlZD0hMSxlKCl9LGNvYWxlc2NlUmVmcmVzaDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7MT09PW4ucmVmcmVzaENhbGxiYWNrcy5wdXNoKGUpJiZuLmxvYWQoKGZ1bmN0aW9uKGUpe3IudXRpbC5hcnJheUVhY2gobi5yZWZyZXNoQ2FsbGJhY2tzLChmdW5jdGlvbihuKXt0P24oZSk6ci51dGlsLmRlZmVyKChmdW5jdGlvbigpe24oZSl9KSl9KSksbi5yZWZyZXNoQ2FsbGJhY2tzLmxlbmd0aD0wfSkpfSxsb2FkOmZ1bmN0aW9uKGUpe2UoKX19KSxyLkNyZWRlbnRpYWxzLmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5nZXRQcm9taXNlPXIudXRpbC5wcm9taXNpZnlNZXRob2QoImdldCIsZSksdGhpcy5wcm90b3R5cGUucmVmcmVzaFByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgicmVmcmVzaCIsZSl9LHIuQ3JlZGVudGlhbHMuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3M9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm90b3R5cGUuZ2V0UHJvbWlzZSxkZWxldGUgdGhpcy5wcm90b3R5cGUucmVmcmVzaFByb21pc2V9LHIudXRpbC5hZGRQcm9taXNlcyhyLkNyZWRlbnRpYWxzKX0seyIuL2NvcmUiOjE5fV0sMjE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLGU9ZXx8e30sdGhpcy5lcnJvckNvZGU9IkNoYWluYWJsZVRlbXBvcmFyeUNyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlIix0aGlzLmV4cGlyZWQ9ITAsdGhpcy50b2tlbkNvZGVGbj1udWxsO3ZhciB0PXIudXRpbC5jb3B5KGUucGFyYW1zKXx8e307aWYodC5Sb2xlQXJuJiYodC5Sb2xlU2Vzc2lvbk5hbWU9dC5Sb2xlU2Vzc2lvbk5hbWV8fCJ0ZW1wb3JhcnktY3JlZGVudGlhbHMiKSx0LlNlcmlhbE51bWJlcil7aWYoIWUudG9rZW5Db2RlRm58fCJmdW5jdGlvbiIhPXR5cGVvZiBlLnRva2VuQ29kZUZuKXRocm93IG5ldyByLnV0aWwuZXJyb3IobmV3IEVycm9yKCJ0b2tlbkNvZGVGbiBtdXN0IGJlIGEgZnVuY3Rpb24gd2hlbiBwYXJhbXMuU2VyaWFsTnVtYmVyIGlzIGdpdmVuIikse2NvZGU6dGhpcy5lcnJvckNvZGV9KTt0aGlzLnRva2VuQ29kZUZuPWUudG9rZW5Db2RlRm59dmFyIG49ci51dGlsLm1lcmdlKHtwYXJhbXM6dCxjcmVkZW50aWFsczplLm1hc3RlckNyZWRlbnRpYWxzfHxyLmNvbmZpZy5jcmVkZW50aWFsc30sZS5zdHNDb25maWd8fHt9KTt0aGlzLnNlcnZpY2U9bmV3IG8obil9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5zZXJ2aWNlLmNvbmZpZy5wYXJhbXMuUm9sZUFybj8iYXNzdW1lUm9sZSI6ImdldFNlc3Npb25Ub2tlbiI7dGhpcy5nZXRUb2tlbkNvZGUoKGZ1bmN0aW9uKHIsbyl7dmFyIGk9e307cj9lKHIpOihvJiYoaS5Ub2tlbkNvZGU9byksdC5zZXJ2aWNlW25dKGksKGZ1bmN0aW9uKG4scil7bnx8dC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpLGUobil9KSkpfSkpfSxnZXRUb2tlbkNvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRva2VuQ29kZUZuP3RoaXMudG9rZW5Db2RlRm4odGhpcy5zZXJ2aWNlLmNvbmZpZy5wYXJhbXMuU2VyaWFsTnVtYmVyLChmdW5jdGlvbihuLG8pe2lmKG4pe3ZhciBpPW47cmV0dXJuIG4gaW5zdGFuY2VvZiBFcnJvciYmKGk9bi5tZXNzYWdlKSx2b2lkIGUoci51dGlsLmVycm9yKG5ldyBFcnJvcigiRXJyb3IgZmV0Y2hpbmcgTUZBIHRva2VuOiAiK2kpLHtjb2RlOnQuZXJyb3JDb2RlfSkpfWUobnVsbCxvKX0pKTplKG51bGwpfX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDIyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLGk9ZSgiLi4vLi4vY2xpZW50cy9jb2duaXRvaWRlbnRpdHkiKSxhPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5Db2duaXRvSWRlbnRpdHlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtsb2NhbFN0b3JhZ2VLZXk6e2lkOiJhd3MuY29nbml0by5pZGVudGl0eS1pZC4iLHByb3ZpZGVyczoiYXdzLmNvZ25pdG8uaWRlbnRpdHktcHJvdmlkZXJzLiJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lLHRoaXMuZGF0YT1udWxsLHRoaXMuX2lkZW50aXR5SWQ9bnVsbCx0aGlzLl9jbGllbnRDb25maWc9ci51dGlsLmNvcHkodHx8e30pLHRoaXMubG9hZENhY2hlZElkKCk7dmFyIG49dGhpcztPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWRlbnRpdHlJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuLmxvYWRDYWNoZWRJZCgpLG4uX2lkZW50aXR5SWR8fG4ucGFyYW1zLklkZW50aXR5SWR9LHNldDpmdW5jdGlvbihlKXtuLl9pZGVudGl0eUlkPWV9fSl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQuZGF0YT1udWxsLHQuX2lkZW50aXR5SWQ9bnVsbCx0LmdldElkKChmdW5jdGlvbihuKXtuPyh0LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobiksZShuKSk6dC5wYXJhbXMuUm9sZUFybj90LmdldENyZWRlbnRpYWxzRnJvbVNUUyhlKTp0LmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkoZSl9KSl9LGNsZWFyQ2FjaGVkSWQ6ZnVuY3Rpb24oKXt0aGlzLl9pZGVudGl0eUlkPW51bGwsZGVsZXRlIHRoaXMucGFyYW1zLklkZW50aXR5SWQ7dmFyIGU9dGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQsdD10aGlzLnBhcmFtcy5Mb2dpbklkfHwiIjtkZWxldGUgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5LmlkK2UrdF0sZGVsZXRlIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleS5wcm92aWRlcnMrZSt0XX0sY2xlYXJJZE9uTm90QXV0aG9yaXplZDpmdW5jdGlvbihlKXsiTm90QXV0aG9yaXplZEV4Y2VwdGlvbiI9PWUuY29kZSYmdGhpcy5jbGVhckNhY2hlZElkKCl9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoInN0cmluZyI9PXR5cGVvZiB0LnBhcmFtcy5JZGVudGl0eUlkKXJldHVybiBlKG51bGwsdC5wYXJhbXMuSWRlbnRpdHlJZCk7dC5jb2duaXRvLmdldElkKChmdW5jdGlvbihuLHIpeyFuJiZyLklkZW50aXR5SWQ/KHQucGFyYW1zLklkZW50aXR5SWQ9ci5JZGVudGl0eUlkLGUobnVsbCxyLklkZW50aXR5SWQpKTplKG4pfSkpfSxsb2FkQ3JlZGVudGlhbHM6ZnVuY3Rpb24oZSx0KXtlJiZ0JiYodC5leHBpcmVkPSExLHQuYWNjZXNzS2V5SWQ9ZS5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCx0LnNlY3JldEFjY2Vzc0tleT1lLkNyZWRlbnRpYWxzLlNlY3JldEtleSx0LnNlc3Npb25Ub2tlbj1lLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbix0LmV4cGlyZVRpbWU9ZS5DcmVkZW50aWFscy5FeHBpcmF0aW9uKX0sZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29nbml0by5nZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5KChmdW5jdGlvbihuLHIpe24/dC5jbGVhcklkT25Ob3RBdXRob3JpemVkKG4pOih0LmNhY2hlSWQociksdC5kYXRhPXIsdC5sb2FkQ3JlZGVudGlhbHModC5kYXRhLHQpKSxlKG4pfSkpfSxnZXRDcmVkZW50aWFsc0Zyb21TVFM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNvZ25pdG8uZ2V0T3BlbklkVG9rZW4oKGZ1bmN0aW9uKG4scil7bj8odC5jbGVhcklkT25Ob3RBdXRob3JpemVkKG4pLGUobikpOih0LmNhY2hlSWQociksdC5wYXJhbXMuV2ViSWRlbnRpdHlUb2tlbj1yLlRva2VuLHQud2ViSWRlbnRpdHlDcmVkZW50aWFscy5yZWZyZXNoKChmdW5jdGlvbihuKXtufHwodC5kYXRhPXQud2ViSWRlbnRpdHlDcmVkZW50aWFscy5kYXRhLHQuc3RzLmNyZWRlbnRpYWxzRnJvbSh0LmRhdGEsdCkpLGUobil9KSkpfSkpfSxsb2FkQ2FjaGVkSWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHIudXRpbC5pc0Jyb3dzZXIoKSYmIWUucGFyYW1zLklkZW50aXR5SWQpe3ZhciB0PWUuZ2V0U3RvcmFnZSgiaWQiKTtpZih0JiZlLnBhcmFtcy5Mb2dpbnMpe3ZhciBuPU9iamVjdC5rZXlzKGUucGFyYW1zLkxvZ2lucyk7MCE9PShlLmdldFN0b3JhZ2UoInByb3ZpZGVycyIpfHwiIikuc3BsaXQoIiwiKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09bi5pbmRleE9mKGUpfSkpLmxlbmd0aCYmKGUucGFyYW1zLklkZW50aXR5SWQ9dCl9ZWxzZSB0JiYoZS5wYXJhbXMuSWRlbnRpdHlJZD10KX19LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jbGllbnRDb25maWc7aWYodGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzPXRoaXMud2ViSWRlbnRpdHlDcmVkZW50aWFsc3x8bmV3IHIuV2ViSWRlbnRpdHlDcmVkZW50aWFscyh0aGlzLnBhcmFtcyxlKSwhdGhpcy5jb2duaXRvKXt2YXIgdD1yLnV0aWwubWVyZ2Uoe30sZSk7dC5wYXJhbXM9dGhpcy5wYXJhbXMsdGhpcy5jb2duaXRvPW5ldyBpKHQpfXRoaXMuc3RzPXRoaXMuc3RzfHxuZXcgYShlKX0sY2FjaGVJZDpmdW5jdGlvbihlKXt0aGlzLl9pZGVudGl0eUlkPWUuSWRlbnRpdHlJZCx0aGlzLnBhcmFtcy5JZGVudGl0eUlkPXRoaXMuX2lkZW50aXR5SWQsci51dGlsLmlzQnJvd3NlcigpJiYodGhpcy5zZXRTdG9yYWdlKCJpZCIsZS5JZGVudGl0eUlkKSx0aGlzLnBhcmFtcy5Mb2dpbnMmJnRoaXMuc2V0U3RvcmFnZSgicHJvdmlkZXJzIixPYmplY3Qua2V5cyh0aGlzLnBhcmFtcy5Mb2dpbnMpLmpvaW4oIiwiKSkpfSxnZXRTdG9yYWdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXlbZV0rdGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQrKHRoaXMucGFyYW1zLkxvZ2luSWR8fCIiKV19LHNldFN0b3JhZ2U6ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5W2VdK3RoaXMucGFyYW1zLklkZW50aXR5UG9vbElkKyh0aGlzLnBhcmFtcy5Mb2dpbklkfHwiIildPXR9Y2F0Y2goZSl7fX0sc3RvcmFnZTpmdW5jdGlvbigpe3RyeXt2YXIgZT1yLnV0aWwuaXNCcm93c2VyKCkmJm51bGwhPT13aW5kb3cubG9jYWxTdG9yYWdlJiYib2JqZWN0Ij09PW8od2luZG93LmxvY2FsU3RvcmFnZSk/d2luZG93LmxvY2FsU3RvcmFnZTp7fTtyZXR1cm4gZVsiYXdzLnRlc3Qtc3RvcmFnZSJdPSJmb29iYXIiLGRlbGV0ZSBlWyJhd3MudGVzdC1zdG9yYWdlIl0sZX1jYXRjaChlKXtyZXR1cm57fX19KCl9KX0seyIuLi8uLi9jbGllbnRzL2NvZ25pdG9pZGVudGl0eSI6NywiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIik7ci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbj1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt0aGlzLnByb3ZpZGVycz1lfHxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlZmF1bHRQcm92aWRlcnMuc2xpY2UoMCksdGhpcy5yZXNvbHZlQ2FsbGJhY2tzPVtdfSxyZXNvbHZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoMD09PXQucHJvdmlkZXJzLmxlbmd0aClyZXR1cm4gZShuZXcgRXJyb3IoIk5vIHByb3ZpZGVycyIpKSx0O2lmKDE9PT10LnJlc29sdmVDYWxsYmFja3MucHVzaChlKSl7dmFyIG49ZnVuY3Rpb24oZSxhKXtpZighZSYmYXx8bz09PWkubGVuZ3RoKXJldHVybiByLnV0aWwuYXJyYXlFYWNoKHQucmVzb2x2ZUNhbGxiYWNrcywoZnVuY3Rpb24odCl7dChlLGEpfSkpLHZvaWQodC5yZXNvbHZlQ2FsbGJhY2tzLmxlbmd0aD0wKTt2YXIgcz1pW28rK107KGE9ImZ1bmN0aW9uIj09dHlwZW9mIHM/cy5jYWxsKCk6cykuZ2V0P2EuZ2V0KChmdW5jdGlvbihlKXtuKGUsZT9udWxsOmEpfSkpOm4obnVsbCxhKX0sbz0wLGk9dC5wcm92aWRlcnMuc2xpY2UoMCk7bigpfXJldHVybiB0fX0pLHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycz1bXSxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5yZXNvbHZlUHJvbWlzZT1yLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCJyZXNvbHZlIixlKX0sci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZXNvbHZlUHJvbWlzZX0sci51dGlsLmFkZFByb21pc2VzKHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4pfSx7Ii4uL2NvcmUiOjE5fV0sMjQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuU0FNTENyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5zZXJ2aWNlLmFzc3VtZVJvbGVXaXRoU0FNTCgoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3RoaXMuc2VydmljZT10aGlzLnNlcnZpY2V8fG5ldyBvKHtwYXJhbXM6dGhpcy5wYXJhbXN9KX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5UZW1wb3JhcnlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmxvYWRNYXN0ZXJDcmVkZW50aWFscyh0KSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZXx8e30sdGhpcy5wYXJhbXMuUm9sZUFybiYmKHRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZT10aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWV8fCJ0ZW1wb3JhcnktY3JlZGVudGlhbHMiKX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5tYXN0ZXJDcmVkZW50aWFscy5nZXQoKGZ1bmN0aW9uKCl7dC5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscz10Lm1hc3RlckNyZWRlbnRpYWxzLCh0LnBhcmFtcy5Sb2xlQXJuP3Quc2VydmljZS5hc3N1bWVSb2xlOnQuc2VydmljZS5nZXRTZXNzaW9uVG9rZW4pLmNhbGwodC5zZXJ2aWNlLChmdW5jdGlvbihuLHIpe258fHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSxlKG4pfSkpfSkpfSxsb2FkTWFzdGVyQ3JlZGVudGlhbHM6ZnVuY3Rpb24oZSl7Zm9yKHRoaXMubWFzdGVyQ3JlZGVudGlhbHM9ZXx8ci5jb25maWcuY3JlZGVudGlhbHM7dGhpcy5tYXN0ZXJDcmVkZW50aWFscy5tYXN0ZXJDcmVkZW50aWFsczspdGhpcy5tYXN0ZXJDcmVkZW50aWFscz10aGlzLm1hc3RlckNyZWRlbnRpYWxzLm1hc3RlckNyZWRlbnRpYWxzOyJmdW5jdGlvbiIhPXR5cGVvZiB0aGlzLm1hc3RlckNyZWRlbnRpYWxzLmdldCYmKHRoaXMubWFzdGVyQ3JlZGVudGlhbHM9bmV3IHIuQ3JlZGVudGlhbHModGhpcy5tYXN0ZXJDcmVkZW50aWFscykpfSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7dGhpcy5zZXJ2aWNlPXRoaXMuc2VydmljZXx8bmV3IG8oe3BhcmFtczp0aGlzLnBhcmFtc30pfX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDI2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLldlYklkZW50aXR5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWUsdGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lPXRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZXx8IndlYi1pZGVudGl0eSIsdGhpcy5kYXRhPW51bGwsdGhpcy5fY2xpZW50Q29uZmlnPXIudXRpbC5jb3B5KHR8fHt9KX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5zZXJ2aWNlLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkoKGZ1bmN0aW9uKG4scil7dC5kYXRhPW51bGwsbnx8KHQuZGF0YT1yLHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSksZShuKX0pKX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe2lmKCF0aGlzLnNlcnZpY2Upe3ZhciBlPXIudXRpbC5tZXJnZSh7fSx0aGlzLl9jbGllbnRDb25maWcpO2UucGFyYW1zPXRoaXMucGFyYW1zLHRoaXMuc2VydmljZT1uZXcgbyhlKX19fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIHI9ZSgiLi9jb3JlIiksbz1lKCIuL3V0aWwiKSxpPVsiQVdTX0VOQUJMRV9FTkRQT0lOVF9ESVNDT1ZFUlkiLCJBV1NfRU5EUE9JTlRfRElTQ09WRVJZX0VOQUJMRUQiXTtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuc2VydmljZSxuPXQuYXBpfHx7fSxyPShuLm9wZXJhdGlvbnMse30pO3JldHVybiB0LmNvbmZpZy5yZWdpb24mJihyLnJlZ2lvbj10LmNvbmZpZy5yZWdpb24pLG4uc2VydmljZUlkJiYoci5zZXJ2aWNlSWQ9bi5zZXJ2aWNlSWQpLHQuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkJiYoci5hY2Nlc3NLZXlJZD10LmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCkscn1mdW5jdGlvbiBzKGUsdCxuKXtuJiZudWxsIT10JiYic3RydWN0dXJlIj09PW4udHlwZSYmbi5yZXF1aXJlZCYmbi5yZXF1aXJlZC5sZW5ndGg+MCYmby5hcnJheUVhY2gobi5yZXF1aXJlZCwoZnVuY3Rpb24ocil7dmFyIG89bi5tZW1iZXJzW3JdO2lmKCEwPT09by5lbmRwb2ludERpc2NvdmVyeUlkKXt2YXIgaT1vLmlzTG9jYXRpb25OYW1lP28ubmFtZTpyO2VbaV09U3RyaW5nKHRbcl0pfWVsc2UgcyhlLHRbcl0sbyl9KSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O3JldHVybiBzKG4sZS5wYXJhbXMsdCksbn1mdW5jdGlvbiB1KGUpe3ZhciB0PWUuc2VydmljZSxuPXQuYXBpLGk9bi5vcGVyYXRpb25zP24ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl06dm9pZCAwLHM9YyhlLGk/aS5pbnB1dDp2b2lkIDApLHU9YShlKTtPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmKHU9by51cGRhdGUodSxzKSxpJiYodS5vcGVyYXRpb249aS5uYW1lKSk7dmFyIGw9ci5lbmRwb2ludENhY2hlLmdldCh1KTtpZighbHx8MSE9PWwubGVuZ3RofHwiIiE9PWxbMF0uQWRkcmVzcylpZihsJiZsLmxlbmd0aD4wKWUuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQobFswXS5BZGRyZXNzKTtlbHNle3ZhciBwPXQubWFrZVJlcXVlc3Qobi5lbmRwb2ludE9wZXJhdGlvbix7T3BlcmF0aW9uOmkubmFtZSxJZGVudGlmaWVyczpzfSk7ZChwKSxwLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLHAucmVtb3ZlTGlzdGVuZXIoInJldHJ5IixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuUkVUUllfQ0hFQ0spLHIuZW5kcG9pbnRDYWNoZS5wdXQodSxbe0FkZHJlc3M6IiIsQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6MX1dKSxwLnNlbmQoKGZ1bmN0aW9uKGUsdCl7dCYmdC5FbmRwb2ludHM/ci5lbmRwb2ludENhY2hlLnB1dCh1LHQuRW5kcG9pbnRzKTplJiZyLmVuZHBvaW50Q2FjaGUucHV0KHUsW3tBZGRyZXNzOiIiLENhY2hlUGVyaW9kSW5NaW51dGVzOjF9XSl9KSl9fXZhciBsPXt9O2Z1bmN0aW9uIHAoZSx0KXt2YXIgbj1lLnNlcnZpY2UsaT1uLmFwaSxzPWkub3BlcmF0aW9ucz9pLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dOnZvaWQgMCx1PXM/cy5pbnB1dDp2b2lkIDAscD1jKGUsdSksaD1hKGUpO09iamVjdC5rZXlzKHApLmxlbmd0aD4wJiYoaD1vLnVwZGF0ZShoLHApLHMmJihoLm9wZXJhdGlvbj1zLm5hbWUpKTt2YXIgZj1yLkVuZHBvaW50Q2FjaGUuZ2V0S2V5U3RyaW5nKGgpLGc9ci5lbmRwb2ludENhY2hlLmdldChmKTtpZihnJiYxPT09Zy5sZW5ndGgmJiIiPT09Z1swXS5BZGRyZXNzKXJldHVybiBsW2ZdfHwobFtmXT1bXSksdm9pZCBsW2ZdLnB1c2goe3JlcXVlc3Q6ZSxjYWxsYmFjazp0fSk7aWYoZyYmZy5sZW5ndGg+MCllLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGdbMF0uQWRkcmVzcyksdCgpO2Vsc2V7dmFyIG09bi5tYWtlUmVxdWVzdChpLmVuZHBvaW50T3BlcmF0aW9uLHtPcGVyYXRpb246cy5uYW1lLElkZW50aWZpZXJzOnB9KTttLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLGQobSksci5lbmRwb2ludENhY2hlLnB1dChmLFt7QWRkcmVzczoiIixDYWNoZVBlcmlvZEluTWludXRlczo2MH1dKSxtLnNlbmQoKGZ1bmN0aW9uKG4saSl7aWYobil7aWYoZS5yZXNwb25zZS5lcnJvcj1vLmVycm9yKG4se3JldHJ5YWJsZTohMX0pLHIuZW5kcG9pbnRDYWNoZS5yZW1vdmUoaCksbFtmXSl7dmFyIGE9bFtmXTtvLmFycmF5RWFjaChhLChmdW5jdGlvbihlKXtlLnJlcXVlc3QucmVzcG9uc2UuZXJyb3I9by5lcnJvcihuLHtyZXRyeWFibGU6ITF9KSxlLmNhbGxiYWNrKCl9KSksZGVsZXRlIGxbZl19fWVsc2UgaSYmKHIuZW5kcG9pbnRDYWNoZS5wdXQoZixpLkVuZHBvaW50cyksZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChpLkVuZHBvaW50c1swXS5BZGRyZXNzKSxsW2ZdKSYmKGE9bFtmXSxvLmFycmF5RWFjaChhLChmdW5jdGlvbihlKXtlLnJlcXVlc3QuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoaS5FbmRwb2ludHNbMF0uQWRkcmVzcyksZS5jYWxsYmFjaygpfSkpLGRlbGV0ZSBsW2ZdKTt0KCl9KSl9fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5hcGlWZXJzaW9uO3QmJiFlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIngtYW16LWFwaS12ZXJzaW9uIl0mJihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIngtYW16LWFwaS12ZXJzaW9uIl09dCl9ZnVuY3Rpb24gaChlKXt2YXIgdD1lLmVycm9yLG49ZS5odHRwUmVzcG9uc2U7aWYodCYmKCJJbnZhbGlkRW5kcG9pbnRFeGNlcHRpb24iPT09dC5jb2RlfHw0MjE9PT1uLnN0YXR1c0NvZGUpKXt2YXIgaT1lLnJlcXVlc3Qscz1pLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnN8fHt9LHU9YyhpLHNbaS5vcGVyYXRpb25dP3NbaS5vcGVyYXRpb25dLmlucHV0OnZvaWQgMCksbD1hKGkpO09iamVjdC5rZXlzKHUpLmxlbmd0aD4wJiYobD1vLnVwZGF0ZShsLHUpLHNbaS5vcGVyYXRpb25dJiYobC5vcGVyYXRpb249c1tpLm9wZXJhdGlvbl0ubmFtZSkpLHIuZW5kcG9pbnRDYWNoZS5yZW1vdmUobCl9fWZ1bmN0aW9uIGYoZSl7cmV0dXJuWyJmYWxzZSIsIjAiXS5pbmRleE9mKGUpPj0wfXQuZXhwb3J0cz17ZGlzY292ZXJFbmRwb2ludDpmdW5jdGlvbihlLHQpe3ZhciBhPWUuc2VydmljZXx8e307aWYoZnVuY3Rpb24oZSl7aWYoZS5fb3JpZ2luYWxDb25maWcmJmUuX29yaWdpbmFsQ29uZmlnLmVuZHBvaW50JiYhMD09PWUuX29yaWdpbmFsQ29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZCl0aHJvdyBvLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiQ3VzdG9tIGVuZHBvaW50IGlzIHN1cHBsaWVkOyBlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQgbXVzdCBub3QgYmUgdHJ1ZS4ifSk7dmFyIHQ9ci5jb25maWdbZS5zZXJ2aWNlSWRlbnRpZmllcl18fHt9O3JldHVybiBCb29sZWFuKHIuY29uZmlnLmVuZHBvaW50fHx0LmVuZHBvaW50fHxlLl9vcmlnaW5hbENvbmZpZyYmZS5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnQpfShhKXx8ZS5pc1ByZXNpZ25lZCgpKXJldHVybiB0KCk7dmFyIHM9KGEuYXBpLm9wZXJhdGlvbnN8fHt9KVtlLm9wZXJhdGlvbl0sYz1zP3MuZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZDoiTlVMTCIsbD1mdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2V8fHt9O2lmKHZvaWQgMCE9PXQuY29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZClyZXR1cm4gdC5jb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkO2lmKCFvLmlzQnJvd3NlcigpKXtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9aVthXTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobi5lbnYscykpe2lmKCIiPT09bi5lbnZbc118fHZvaWQgMD09PW4uZW52W3NdKXRocm93IG8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJlbnZpcm9ubWVudGFsIHZhcmlhYmxlICIrcysiIGNhbm5vdCBiZSBzZXQgdG8gbm90aGluZyJ9KTtyZXR1cm4hZihuLmVudltzXSl9fXZhciBjPXt9O3RyeXtjPXIudXRpbC5pbmlMb2FkZXI/ci51dGlsLmluaUxvYWRlci5sb2FkRnJvbSh7aXNDb25maWc6ITAsZmlsZW5hbWU6bi5lbnZbci51dGlsLnNoYXJlZENvbmZpZ0ZpbGVFbnZdfSk6e319Y2F0Y2goZSl7fXZhciB1PWNbbi5lbnYuQVdTX1BST0ZJTEV8fHIudXRpbC5kZWZhdWx0UHJvZmlsZV18fHt9O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LCJlbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCIpKXtpZih2b2lkIDA9PT11LmVuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkKXRocm93IG8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJjb25maWcgZmlsZSBlbnRyeSAnZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQnIGNhbm5vdCBiZSBzZXQgdG8gbm90aGluZyJ9KTtyZXR1cm4hZih1LmVuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkKX19fShlKSxkPWEuYXBpLmhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3Zlcnk7c3dpdGNoKChsfHxkKSYmZS5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgiZW5kcG9pbnQtZGlzY292ZXJ5IiksYyl7Y2FzZSJPUFRJT05BTCI6KGx8fGQpJiYodShlKSxlLmFkZE5hbWVkTGlzdGVuZXIoIklOVkFMSURBVEVfQ0FDSEVEX0VORFBPSU5UUyIsImV4dHJhY3RFcnJvciIsaCkpLHQoKTticmVhaztjYXNlIlJFUVVJUkVEIjppZighMT09PWwpe2UucmVzcG9uc2UuZXJyb3I9by5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6IkVuZHBvaW50IERpc2NvdmVyeSBpcyBkaXNhYmxlZCBidXQgIithLmFwaS5jbGFzc05hbWUrIi4iK2Uub3BlcmF0aW9uKyIoKSByZXF1aXJlcyBpdC4gUGxlYXNlIGNoZWNrIHlvdXIgY29uZmlndXJhdGlvbnMuIn0pLHQoKTticmVha31lLmFkZE5hbWVkTGlzdGVuZXIoIklOVkFMSURBVEVfQ0FDSEVEX0VORFBPSU5UUyIsImV4dHJhY3RFcnJvciIsaCkscChlLHQpO2JyZWFrO2RlZmF1bHQ6dCgpfX0scmVxdWlyZWREaXNjb3ZlckVuZHBvaW50OnAsb3B0aW9uYWxEaXNjb3ZlckVuZHBvaW50OnUsbWFyc2hhbGxDdXN0b21JZGVudGlmaWVyczpjLGdldENhY2hlS2V5OmEsaW52YWxpZGF0ZUNhY2hlZEVuZHBvaW50Omh9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL3V0aWwiOjc0LF9wcm9jZXNzOjkxfV0sMjg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9ldmVudC1zdHJlYW0vZXZlbnQtbWVzc2FnZS1jaHVua2VyIikuZXZlbnRNZXNzYWdlQ2h1bmtlcixvPWUoIi4vcGFyc2UtZXZlbnQiKS5wYXJzZUV2ZW50O3QuZXhwb3J0cz17Y3JlYXRlRXZlbnRTdHJlYW06ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1yKGUpLGE9W10scz0wO3M8aS5sZW5ndGg7cysrKWEucHVzaChvKHQsaVtzXSxuKSk7cmV0dXJuIGF9fX0seyIuLi9ldmVudC1zdHJlYW0vZXZlbnQtbWVzc2FnZS1jaHVua2VyIjoyOSwiLi9wYXJzZS1ldmVudCI6MzF9XSwyOTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXZlbnRNZXNzYWdlQ2h1bmtlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7KXt2YXIgcj1lLnJlYWRJbnQzMkJFKG4pLG89ZS5zbGljZShuLHIrbik7bis9cix0LnB1c2gobyl9cmV0dXJuIHR9fX0se31dLDMwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLnV0aWwsbz1yLmJ1ZmZlci50b0J1ZmZlcjtmdW5jdGlvbiBpKGUpe2lmKDghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludDY0IGJ1ZmZlcnMgbXVzdCBiZSBleGFjdGx5IDggYnl0ZXMiKTtyLkJ1ZmZlci5pc0J1ZmZlcihlKXx8KGU9byhlKSksdGhpcy5ieXRlcz1lfWZ1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PTA7dDw4O3QrKyllW3RdXj0yNTU7Zm9yKHQ9Nzt0Pi0xJiYoZVt0XSsrLDA9PT1lW3RdKTt0LS0pO31pLmZyb21OdW1iZXI9ZnVuY3Rpb24oZSl7aWYoZT4weDgwMDAwMDAwMDAwMDAwMDB8fGU8LTB4ODAwMDAwMDAwMDAwMDAwMCl0aHJvdyBuZXcgRXJyb3IoZSsiIGlzIHRvbyBsYXJnZSAob3IsIGlmIG5lZ2F0aXZlLCB0b28gc21hbGwpIHRvIHJlcHJlc2VudCBhcyBhbiBJbnQ2NCIpO2Zvcih2YXIgdD1uZXcgVWludDhBcnJheSg4KSxuPTcscj1NYXRoLmFicyhNYXRoLnJvdW5kKGUpKTtuPi0xJiZyPjA7bi0tLHIvPTI1Nil0W25dPXI7cmV0dXJuIGU8MCYmYSh0KSxuZXcgaSh0KX0saS5wcm90b3R5cGUudmFsdWVPZj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYnl0ZXMuc2xpY2UoMCksdD0xMjgmZVswXTtyZXR1cm4gdCYmYShlKSxwYXJzZUludChlLnRvU3RyaW5nKCJoZXgiKSwxNikqKHQ/LTE6MSl9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyh0aGlzLnZhbHVlT2YoKSl9LHQuZXhwb3J0cz17SW50NjQ6aX19LHsiLi4vY29yZSI6MTl9XSwzMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vcGFyc2UtbWVzc2FnZSIpLnBhcnNlTWVzc2FnZTt0LmV4cG9ydHM9e3BhcnNlRXZlbnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXIodCksaT1vLmhlYWRlcnNbIjptZXNzYWdlLXR5cGUiXTtpZihpKXtpZigiZXJyb3IiPT09aS52YWx1ZSl0aHJvdyBmdW5jdGlvbihlKXt2YXIgdD1lLmhlYWRlcnNbIjplcnJvci1jb2RlIl0sbj1lLmhlYWRlcnNbIjplcnJvci1tZXNzYWdlIl0scj1uZXcgRXJyb3Iobi52YWx1ZXx8bik7cmV0dXJuIHIuY29kZT1yLm5hbWU9dC52YWx1ZXx8dCxyfShvKTtpZigiZXZlbnQiIT09aS52YWx1ZSlyZXR1cm59dmFyIGE9by5oZWFkZXJzWyI6ZXZlbnQtdHlwZSJdLHM9bi5tZW1iZXJzW2EudmFsdWVdO2lmKHMpe3ZhciBjPXt9LHU9cy5ldmVudFBheWxvYWRNZW1iZXJOYW1lO2lmKHUpe3ZhciBsPXMubWVtYmVyc1t1XTsiYmluYXJ5Ij09PWwudHlwZT9jW3VdPW8uYm9keTpjW3VdPWUucGFyc2Uoby5ib2R5LnRvU3RyaW5nKCksbCl9Zm9yKHZhciBwPXMuZXZlbnRIZWFkZXJNZW1iZXJOYW1lcyxkPTA7ZDxwLmxlbmd0aDtkKyspe3ZhciBoPXBbZF07by5oZWFkZXJzW2hdJiYoY1toXT1zLm1lbWJlcnNbaF0udG9UeXBlKG8uaGVhZGVyc1toXS52YWx1ZSkpfXZhciBmPXt9O3JldHVybiBmW2EudmFsdWVdPWMsZn19fX0seyIuL3BhcnNlLW1lc3NhZ2UiOjMyfV0sMzI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2ludDY0IikuSW50NjQsbz1lKCIuL3NwbGl0LW1lc3NhZ2UiKS5zcGxpdE1lc3NhZ2UsaT0iYm9vbGVhbiI7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7KXt2YXIgbz1lLnJlYWRVSW50OChuKyspLGE9ZS5zbGljZShuLG4rbykudG9TdHJpbmcoKTtzd2l0Y2gobis9byxlLnJlYWRVSW50OChuKyspKXtjYXNlIDA6dFthXT17dHlwZTppLHZhbHVlOiEwfTticmVhaztjYXNlIDE6dFthXT17dHlwZTppLHZhbHVlOiExfTticmVhaztjYXNlIDI6dFthXT17dHlwZToiYnl0ZSIsdmFsdWU6ZS5yZWFkSW50OChuKyspfTticmVhaztjYXNlIDM6dFthXT17dHlwZToic2hvcnQiLHZhbHVlOmUucmVhZEludDE2QkUobil9LG4rPTI7YnJlYWs7Y2FzZSA0OnRbYV09e3R5cGU6ImludGVnZXIiLHZhbHVlOmUucmVhZEludDMyQkUobil9LG4rPTQ7YnJlYWs7Y2FzZSA1OnRbYV09e3R5cGU6ImxvbmciLHZhbHVlOm5ldyByKGUuc2xpY2UobixuKzgpKX0sbis9ODticmVhaztjYXNlIDY6dmFyIHM9ZS5yZWFkVUludDE2QkUobik7bis9Mix0W2FdPXt0eXBlOiJiaW5hcnkiLHZhbHVlOmUuc2xpY2UobixuK3MpfSxuKz1zO2JyZWFrO2Nhc2UgNzp2YXIgYz1lLnJlYWRVSW50MTZCRShuKTtuKz0yLHRbYV09e3R5cGU6InN0cmluZyIsdmFsdWU6ZS5zbGljZShuLG4rYykudG9TdHJpbmcoKX0sbis9YzticmVhaztjYXNlIDg6dFthXT17dHlwZToidGltZXN0YW1wIix2YWx1ZTpuZXcgRGF0ZShuZXcgcihlLnNsaWNlKG4sbis4KSkudmFsdWVPZigpKX0sbis9ODticmVhaztjYXNlIDk6dmFyIHU9ZS5zbGljZShuLG4rMTYpLnRvU3RyaW5nKCJoZXgiKTtuKz0xNix0W2FdPXt0eXBlOiJ1dWlkIix2YWx1ZTp1LnN1YnN0cigwLDgpKyItIit1LnN1YnN0cig4LDQpKyItIit1LnN1YnN0cigxMiw0KSsiLSIrdS5zdWJzdHIoMTYsNCkrIi0iK3Uuc3Vic3RyKDIwKX07YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBoZWFkZXIgdHlwZSB0YWciKX19cmV0dXJuIHR9dC5leHBvcnRzPXtwYXJzZU1lc3NhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9byhlKTtyZXR1cm57aGVhZGVyczphKHQuaGVhZGVycyksYm9keTp0LmJvZHl9fX19LHsiLi9pbnQ2NCI6MzAsIi4vc3BsaXQtbWVzc2FnZSI6MzN9XSwzMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKS51dGlsLG89ci5idWZmZXIudG9CdWZmZXI7dC5leHBvcnRzPXtzcGxpdE1lc3NhZ2U6ZnVuY3Rpb24oZSl7aWYoci5CdWZmZXIuaXNCdWZmZXIoZSl8fChlPW8oZSkpLGUubGVuZ3RoPDE2KXRocm93IG5ldyBFcnJvcigiUHJvdmlkZWQgbWVzc2FnZSB0b28gc2hvcnQgdG8gYWNjb21tb2RhdGUgZXZlbnQgc3RyZWFtIG1lc3NhZ2Ugb3ZlcmhlYWQiKTtpZihlLmxlbmd0aCE9PWUucmVhZFVJbnQzMkJFKDApKXRocm93IG5ldyBFcnJvcigiUmVwb3J0ZWQgbWVzc2FnZSBsZW5ndGggZG9lcyBub3QgbWF0Y2ggcmVjZWl2ZWQgbWVzc2FnZSBsZW5ndGgiKTt2YXIgdD1lLnJlYWRVSW50MzJCRSg4KTtpZih0IT09ci5jcnlwdG8uY3JjMzIoZS5zbGljZSgwLDgpKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcmVsdWRlIGNoZWNrc3VtIHNwZWNpZmllZCBpbiB0aGUgbWVzc2FnZSAoIit0KyIpIGRvZXMgbm90IG1hdGNoIHRoZSBjYWxjdWxhdGVkIENSQzMyIGNoZWNrc3VtLiIpO3ZhciBuPWUucmVhZFVJbnQzMkJFKGUubGVuZ3RoLTQpO2lmKG4hPT1yLmNyeXB0by5jcmMzMihlLnNsaWNlKDAsZS5sZW5ndGgtNCkpKXRocm93IG5ldyBFcnJvcigiVGhlIG1lc3NhZ2UgY2hlY2tzdW0gZGlkIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgdmFsdWUgb2YgIituKTt2YXIgaT0xMitlLnJlYWRVSW50MzJCRSg0KTtyZXR1cm57aGVhZGVyczplLnNsaWNlKDEyLGkpLGJvZHk6ZS5zbGljZShpLGUubGVuZ3RoLTQpfX19fSx7Ii4uL2NvcmUiOjE5fV0sMzQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi9jb3JlIikscj1lKCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiKSxvPWUoIi4vZGlzY292ZXJfZW5kcG9pbnQiKS5kaXNjb3ZlckVuZHBvaW50O2Z1bmN0aW9uIGkoZSl7aWYoIWUuc2VydmljZS5hcGkub3BlcmF0aW9ucylyZXR1cm4iIjt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO3JldHVybiB0P3QuYXV0aHR5cGU6IiJ9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnNlcnZpY2U7cmV0dXJuIHQuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24/dC5jb25maWcuc2lnbmF0dXJlVmVyc2lvbjp0LmFwaS5zaWduYXR1cmVWZXJzaW9uP3QuYXBpLnNpZ25hdHVyZVZlcnNpb246aShlKX1uLkV2ZW50TGlzdGVuZXJzPXtDb3JlOnt9fSxuLkV2ZW50TGlzdGVuZXJzPXtDb3JlOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKGUscil7cigiVkFMSURBVEVfQ1JFREVOVElBTFMiLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUsdCl7aWYoIWUuc2VydmljZS5hcGkuc2lnbmF0dXJlVmVyc2lvbiYmIWUuc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbilyZXR1cm4gdCgpOyJiZWFyZXIiIT09YShlKT9lLnNlcnZpY2UuY29uZmlnLmdldENyZWRlbnRpYWxzKChmdW5jdGlvbihyKXtyJiYoZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3Iocix7Y29kZToiQ3JlZGVudGlhbHNFcnJvciIsbWVzc2FnZToiTWlzc2luZyBjcmVkZW50aWFscyBpbiBjb25maWcsIGlmIHVzaW5nIEFXU19DT05GSUdfRklMRSwgc2V0IEFXU19TREtfTE9BRF9DT05GSUc9MSJ9KSksdCgpfSkpOmUuc2VydmljZS5jb25maWcuZ2V0VG9rZW4oKGZ1bmN0aW9uKHIpe3ImJihlLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihyLHtjb2RlOiJUb2tlbkVycm9yIn0pKSx0KCl9KSl9KSksZSgiVkFMSURBVEVfUkVHSU9OIiwidmFsaWRhdGUiLChmdW5jdGlvbihlKXtpZighZS5zZXJ2aWNlLmlzR2xvYmFsRW5kcG9pbnQpe3ZhciB0PW5ldyBSZWdFeHAoL14oW2EtekEtWjAtOV18W2EtekEtWjAtOV1bYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSkkLyk7ZS5zZXJ2aWNlLmNvbmZpZy5yZWdpb24/dC50ZXN0KGUuc2VydmljZS5jb25maWcucmVnaW9uKXx8KGUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6IkludmFsaWQgcmVnaW9uIGluIGNvbmZpZyJ9KSk6ZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWdFcnJvciIsbWVzc2FnZToiTWlzc2luZyByZWdpb24gaW4gY29uZmlnIn0pfX0pKSxlKCJCVUlMRF9JREVNUE9URU5DWV9UT0tFTlMiLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUpe2lmKGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZih0KXt2YXIgcj10LmlkZW1wb3RlbnRNZW1iZXJzO2lmKHIubGVuZ3RoKXtmb3IodmFyIG89bi51dGlsLmNvcHkoZS5wYXJhbXMpLGk9MCxhPXIubGVuZ3RoO2k8YTtpKyspb1tyW2ldXXx8KG9bcltpXV09bi51dGlsLnV1aWQudjQoKSk7ZS5wYXJhbXM9b319fX0pKSxlKCJWQUxJREFURV9QQVJBTUVURVJTIiwidmFsaWRhdGUiLChmdW5jdGlvbihlKXtpZihlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQscj1lLnNlcnZpY2UuY29uZmlnLnBhcmFtVmFsaWRhdGlvbjtuZXcgbi5QYXJhbVZhbGlkYXRvcihyKS52YWxpZGF0ZSh0LGUucGFyYW1zKX19KSksZSgiQ09NUFVURV9DSEVDS1NVTSIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXtpZihlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07aWYodCl7dmFyIHI9ZS5odHRwUmVxdWVzdC5ib2R5LG89ciYmKG4udXRpbC5CdWZmZXIuaXNCdWZmZXIocil8fCJzdHJpbmciPT10eXBlb2YgciksaT1lLmh0dHBSZXF1ZXN0LmhlYWRlcnM7aWYodC5odHRwQ2hlY2tzdW1SZXF1aXJlZCYmZS5zZXJ2aWNlLmNvbmZpZy5jb21wdXRlQ2hlY2tzdW1zJiZvJiYhaVsiQ29udGVudC1NRDUiXSl7dmFyIGE9bi51dGlsLmNyeXB0by5tZDUociwiYmFzZTY0Iik7aVsiQ29udGVudC1NRDUiXT1hfX19fSkpLHIoIkNPTVBVVEVfU0hBMjU2IiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUsdCl7aWYoZS5oYWx0SGFuZGxlcnNPbkVycm9yKCksZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgcj1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG89cj9yLmF1dGh0eXBlOiIiO2lmKCFlLnNlcnZpY2UuYXBpLnNpZ25hdHVyZVZlcnNpb24mJiFvJiYhZS5zZXJ2aWNlLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uKXJldHVybiB0KCk7aWYoZS5zZXJ2aWNlLmdldFNpZ25lckNsYXNzKGUpPT09bi5TaWduZXJzLlY0KXt2YXIgaT1lLmh0dHBSZXF1ZXN0LmJvZHl8fCIiO2lmKG8uaW5kZXhPZigidW5zaWduZWQtYm9keSIpPj0wKXJldHVybiBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il09IlVOU0lHTkVELVBBWUxPQUQiLHQoKTtuLnV0aWwuY29tcHV0ZVNoYTI1NihpLChmdW5jdGlvbihuLHIpe24/dChuKTooZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdPXIsdCgpKX0pKX1lbHNlIHQoKX19KSksZSgiU0VUX0NPTlRFTlRfTEVOR1RIIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe3ZhciB0PWkoZSkscj1uLnV0aWwuZ2V0UmVxdWVzdFBheWxvYWRTaGFwZShlKTtpZih2b2lkIDA9PT1lLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl0pdHJ5e3ZhciBvPW4udXRpbC5zdHJpbmcuYnl0ZUxlbmd0aChlLmh0dHBSZXF1ZXN0LmJvZHkpO2UuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXT1vfWNhdGNoKG4pe2lmKHImJnIuaXNTdHJlYW1pbmcpe2lmKHIucmVxdWlyZXNMZW5ndGgpdGhyb3cgbjtpZih0LmluZGV4T2YoInVuc2lnbmVkLWJvZHkiKT49MClyZXR1cm4gdm9pZChlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlRyYW5zZmVyLUVuY29kaW5nIl09ImNodW5rZWQiKTt0aHJvdyBufXRocm93IG59fSkpLGUoIlNFVF9IVFRQX0hPU1QiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5oZWFkZXJzLkhvc3Q9ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0fSkpLGUoIlNFVF9UUkFDRV9JRCIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXt2YXIgcj0iWC1BbXpuLVRyYWNlLUlkIjtpZihuLnV0aWwuaXNOb2RlKCkmJiFPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLmh0dHBSZXF1ZXN0LmhlYWRlcnMscikpe3ZhciBvPXQuZW52LkFXU19MQU1CREFfRlVOQ1RJT05fTkFNRSxpPXQuZW52Ll9YX0FNWk5fVFJBQ0VfSUQ7InN0cmluZyI9PXR5cGVvZiBvJiZvLmxlbmd0aD4wJiYic3RyaW5nIj09dHlwZW9mIGkmJmkubGVuZ3RoPjAmJihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbcl09aSl9fSkpLGUoIlJFU1RBUlQiLCJyZXN0YXJ0IiwoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlc3BvbnNlLmVycm9yO2UmJmUucmV0cnlhYmxlJiYodGhpcy5odHRwUmVxdWVzdD1uZXcgbi5IdHRwUmVxdWVzdCh0aGlzLnNlcnZpY2UuZW5kcG9pbnQsdGhpcy5zZXJ2aWNlLnJlZ2lvbiksdGhpcy5yZXNwb25zZS5yZXRyeUNvdW50PHRoaXMuc2VydmljZS5jb25maWcubWF4UmV0cmllcz90aGlzLnJlc3BvbnNlLnJldHJ5Q291bnQrKzp0aGlzLnJlc3BvbnNlLmVycm9yPW51bGwpfSkpLHIoIkRJU0NPVkVSX0VORFBPSU5UIiwic2lnbiIsbywhMCkscigiU0lHTiIsInNpZ24iLChmdW5jdGlvbihlLHQpe3ZhciBuPWUuc2VydmljZSxyPWEoZSk7aWYoIXJ8fDA9PT1yLmxlbmd0aClyZXR1cm4gdCgpOyJiZWFyZXIiPT09cj9uLmNvbmZpZy5nZXRUb2tlbigoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlLnJlc3BvbnNlLmVycm9yPXIsdCgpO3RyeXtuZXcobi5nZXRTaWduZXJDbGFzcyhlKSkoZS5odHRwUmVxdWVzdCkuYWRkQXV0aG9yaXphdGlvbihvKX1jYXRjaCh0KXtlLnJlc3BvbnNlLmVycm9yPXR9dCgpfSkpOm4uY29uZmlnLmdldENyZWRlbnRpYWxzKChmdW5jdGlvbihyLG8pe2lmKHIpcmV0dXJuIGUucmVzcG9uc2UuZXJyb3I9cix0KCk7dHJ5e3ZhciBpPW4uZ2V0U2tld0NvcnJlY3RlZERhdGUoKSxhPW4uZ2V0U2lnbmVyQ2xhc3MoZSkscz0oZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dLGM9bmV3IGEoZS5odHRwUmVxdWVzdCxuLmdldFNpZ25pbmdOYW1lKGUpLHtzaWduYXR1cmVDYWNoZTpuLmNvbmZpZy5zaWduYXR1cmVDYWNoZSxvcGVyYXRpb246cyxzaWduYXR1cmVWZXJzaW9uOm4uYXBpLnNpZ25hdHVyZVZlcnNpb259KTtjLnNldFNlcnZpY2VDbGllbnRJZChuLl9jbGllbnRJZCksZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnMuRGF0ZSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl0sYy5hZGRBdXRob3JpemF0aW9uKG8saSksZS5zaWduZWRBdD1pfWNhdGNoKHQpe2UucmVzcG9uc2UuZXJyb3I9dH10KCl9KSl9KSksZSgiVkFMSURBVEVfUkVTUE9OU0UiLCJ2YWxpZGF0ZVJlc3BvbnNlIiwoZnVuY3Rpb24oZSl7dGhpcy5zZXJ2aWNlLnN1Y2Nlc3NmdWxSZXNwb25zZShlLHRoaXMpPyhlLmRhdGE9e30sZS5lcnJvcj1udWxsKTooZS5kYXRhPW51bGwsZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJVbmtub3duRXJyb3IiLG1lc3NhZ2U6IkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuIn0pKX0pKSxlKCJFUlJPUiIsImVycm9yIiwoZnVuY3Rpb24oZSx0KXtpZih0LnJlcXVlc3Quc2VydmljZS5hcGkuYXdzUXVlcnlDb21wYXRpYmxlKXt2YXIgbj10Lmh0dHBSZXNwb25zZS5oZWFkZXJzLHI9bj9uWyJ4LWFtem4tcXVlcnktZXJyb3IiXTp2b2lkIDA7ciYmci5pbmNsdWRlcygiOyIpJiYodC5lcnJvci5jb2RlPXIuc3BsaXQoIjsiKVswXSl9fSksITApLHIoIlNFTkQiLCJzZW5kIiwoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHIpe2UuaHR0cFJlc3BvbnNlLnN0cmVhbT1yO3ZhciBvPWUucmVxdWVzdC5odHRwUmVxdWVzdC5zdHJlYW0saT1lLnJlcXVlc3Quc2VydmljZSxhPWkuYXBpLHM9ZS5yZXF1ZXN0Lm9wZXJhdGlvbixjPWEub3BlcmF0aW9uc1tzXXx8e307ci5vbigiaGVhZGVycyIsKGZ1bmN0aW9uKG8sYSxzKXtpZihlLnJlcXVlc3QuZW1pdCgiaHR0cEhlYWRlcnMiLFtvLGEsZSxzXSksIWUuaHR0cFJlc3BvbnNlLnN0cmVhbWluZylpZigyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uKXtpZihjLmhhc0V2ZW50T3V0cHV0JiZpLnN1Y2Nlc3NmdWxSZXNwb25zZShlKSlyZXR1cm4gZS5yZXF1ZXN0LmVtaXQoImh0dHBEb25lIiksdm9pZCB0KCk7ci5vbigicmVhZGFibGUiLChmdW5jdGlvbigpe3ZhciB0PXIucmVhZCgpO251bGwhPT10JiZlLnJlcXVlc3QuZW1pdCgiaHR0cERhdGEiLFt0LGVdKX0pKX1lbHNlIHIub24oImRhdGEiLChmdW5jdGlvbih0KXtlLnJlcXVlc3QuZW1pdCgiaHR0cERhdGEiLFt0LGVdKX0pKX0pKSxyLm9uKCJlbmQiLChmdW5jdGlvbigpe2lmKCFvfHwhby5kaWRDYWxsYmFjayl7aWYoMj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiYmYy5oYXNFdmVudE91dHB1dCYmaS5zdWNjZXNzZnVsUmVzcG9uc2UoZSkpcmV0dXJuO2UucmVxdWVzdC5lbWl0KCJodHRwRG9uZSIpLHQoKX19KSl9ZnVuY3Rpb24gbyhyKXtpZigiUmVxdWVzdEFib3J0ZWRFcnJvciIhPT1yLmNvZGUpe3ZhciBvPSJUaW1lb3V0RXJyb3IiPT09ci5jb2RlP3IuY29kZToiTmV0d29ya2luZ0Vycm9yIjtyPW4udXRpbC5lcnJvcihyLHtjb2RlOm8scmVnaW9uOmUucmVxdWVzdC5odHRwUmVxdWVzdC5yZWdpb24saG9zdG5hbWU6ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3RuYW1lLHJldHJ5YWJsZTohMH0pfWUuZXJyb3I9cixlLnJlcXVlc3QuZW1pdCgiaHR0cEVycm9yIixbZS5lcnJvcixlXSwoZnVuY3Rpb24oKXt0KCl9KSl9ZnVuY3Rpb24gaSgpe3ZhciB0LGk9bi5IdHRwQ2xpZW50LmdldEluc3RhbmNlKCksYT1lLnJlcXVlc3Quc2VydmljZS5jb25maWcuaHR0cE9wdGlvbnN8fHt9O3RyeXt2YXIgcz1pLmhhbmRsZVJlcXVlc3QoZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LGEscixvKTsodD1zKS5vbigic2VuZFByb2dyZXNzIiwoZnVuY3Rpb24odCl7ZS5yZXF1ZXN0LmVtaXQoImh0dHBVcGxvYWRQcm9ncmVzcyIsW3QsZV0pfSkpLHQub24oInJlY2VpdmVQcm9ncmVzcyIsKGZ1bmN0aW9uKHQpe2UucmVxdWVzdC5lbWl0KCJodHRwRG93bmxvYWRQcm9ncmVzcyIsW3QsZV0pfSkpfWNhdGNoKGUpe28oZSl9fWUuaHR0cFJlc3BvbnNlLl9hYm9ydENhbGxiYWNrPXQsZS5lcnJvcj1udWxsLGUuZGF0YT1udWxsLChlLnJlcXVlc3Quc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLXRoaXMuc2lnbmVkQXQpLzFlMz49NjAwP3RoaXMuZW1pdCgic2lnbiIsW3RoaXNdLChmdW5jdGlvbihlKXtlP3QoZSk6aSgpfSkpOmkoKX0pKSxlKCJIVFRQX0hFQURFUlMiLCJodHRwSGVhZGVycyIsKGZ1bmN0aW9uKGUsdCxyLG8pe3IuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU9ZSxyLmh0dHBSZXNwb25zZS5zdGF0dXNNZXNzYWdlPW8sci5odHRwUmVzcG9uc2UuaGVhZGVycz10LHIuaHR0cFJlc3BvbnNlLmJvZHk9bi51dGlsLmJ1ZmZlci50b0J1ZmZlcigiIiksci5odHRwUmVzcG9uc2UuYnVmZmVycz1bXSxyLmh0dHBSZXNwb25zZS5udW1CeXRlcz0wO3ZhciBpPXQuZGF0ZXx8dC5EYXRlLGE9ci5yZXF1ZXN0LnNlcnZpY2U7aWYoaSl7dmFyIHM9RGF0ZS5wYXJzZShpKTthLmNvbmZpZy5jb3JyZWN0Q2xvY2tTa2V3JiZhLmlzQ2xvY2tTa2V3ZWQocykmJmEuYXBwbHlDbG9ja09mZnNldChzKX19KSksZSgiSFRUUF9EQVRBIiwiaHR0cERhdGEiLChmdW5jdGlvbihlLHQpe2lmKGUpe2lmKG4udXRpbC5pc05vZGUoKSl7dC5odHRwUmVzcG9uc2UubnVtQnl0ZXMrPWUubGVuZ3RoO3ZhciByPXQuaHR0cFJlc3BvbnNlLmhlYWRlcnNbImNvbnRlbnQtbGVuZ3RoIl0sbz17bG9hZGVkOnQuaHR0cFJlc3BvbnNlLm51bUJ5dGVzLHRvdGFsOnJ9O3QucmVxdWVzdC5lbWl0KCJodHRwRG93bmxvYWRQcm9ncmVzcyIsW28sdF0pfXQuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMucHVzaChuLnV0aWwuYnVmZmVyLnRvQnVmZmVyKGUpKX19KSksZSgiSFRUUF9ET05FIiwiaHR0cERvbmUiLChmdW5jdGlvbihlKXtpZihlLmh0dHBSZXNwb25zZS5idWZmZXJzJiZlLmh0dHBSZXNwb25zZS5idWZmZXJzLmxlbmd0aD4wKXt2YXIgdD1uLnV0aWwuYnVmZmVyLmNvbmNhdChlLmh0dHBSZXNwb25zZS5idWZmZXJzKTtlLmh0dHBSZXNwb25zZS5ib2R5PXR9ZGVsZXRlIGUuaHR0cFJlc3BvbnNlLm51bUJ5dGVzLGRlbGV0ZSBlLmh0dHBSZXNwb25zZS5idWZmZXJzfSkpLGUoIkZJTkFMSVpFX0VSUk9SIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlJiYoZS5lcnJvci5zdGF0dXNDb2RlPWUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsdm9pZCAwPT09ZS5lcnJvci5yZXRyeWFibGUmJihlLmVycm9yLnJldHJ5YWJsZT10aGlzLnNlcnZpY2UucmV0cnlhYmxlRXJyb3IoZS5lcnJvcix0aGlzKSkpfSkpLGUoIklOVkFMSURBVEVfQ1JFREVOVElBTFMiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2lmKGUuZXJyb3Ipc3dpdGNoKGUuZXJyb3IuY29kZSl7Y2FzZSJSZXF1ZXN0RXhwaXJlZCI6Y2FzZSJFeHBpcmVkVG9rZW5FeGNlcHRpb24iOmNhc2UiRXhwaXJlZFRva2VuIjplLmVycm9yLnJldHJ5YWJsZT0hMCxlLnJlcXVlc3Quc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuZXhwaXJlZD0hMH19KSksZSgiRVhQSVJFRF9TSUdOQVRVUkUiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZXJyb3I7dCYmInN0cmluZyI9PXR5cGVvZiB0LmNvZGUmJiJzdHJpbmciPT10eXBlb2YgdC5tZXNzYWdlJiZ0LmNvZGUubWF0Y2goL1NpZ25hdHVyZS8pJiZ0Lm1lc3NhZ2UubWF0Y2goL2V4cGlyZWQvKSYmKGUuZXJyb3IucmV0cnlhYmxlPSEwKX0pKSxlKCJDTE9DS19TS0VXRUQiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJnRoaXMuc2VydmljZS5jbG9ja1NrZXdFcnJvcihlLmVycm9yKSYmdGhpcy5zZXJ2aWNlLmNvbmZpZy5jb3JyZWN0Q2xvY2tTa2V3JiYoZS5lcnJvci5yZXRyeWFibGU9ITApfSkpLGUoIlJFRElSRUNUIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmVycm9yJiZlLmVycm9yLnN0YXR1c0NvZGU+PTMwMCYmZS5lcnJvci5zdGF0dXNDb2RlPDQwMCYmZS5odHRwUmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiYmKHRoaXMuaHR0cFJlcXVlc3QuZW5kcG9pbnQ9bmV3IG4uRW5kcG9pbnQoZS5odHRwUmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiksdGhpcy5odHRwUmVxdWVzdC5oZWFkZXJzLkhvc3Q9dGhpcy5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0LGUuZXJyb3IucmVkaXJlY3Q9ITAsZS5lcnJvci5yZXRyeWFibGU9ITApfSkpLGUoIlJFVFJZX0NIRUNLIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmVycm9yJiYoZS5lcnJvci5yZWRpcmVjdCYmZS5yZWRpcmVjdENvdW50PGUubWF4UmVkaXJlY3RzP2UuZXJyb3IucmV0cnlEZWxheT0wOmUucmV0cnlDb3VudDxlLm1heFJldHJpZXMmJihlLmVycm9yLnJldHJ5RGVsYXk9dGhpcy5zZXJ2aWNlLnJldHJ5RGVsYXlzKGUucmV0cnlDb3VudCxlLmVycm9yKXx8MCkpfSkpLHIoIlJFU0VUX1JFVFJZX1NUQVRFIiwiYWZ0ZXJSZXRyeSIsKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj0hMTtlLmVycm9yJiYobj1lLmVycm9yLnJldHJ5RGVsYXl8fDAsZS5lcnJvci5yZXRyeWFibGUmJmUucmV0cnlDb3VudDxlLm1heFJldHJpZXM/KGUucmV0cnlDb3VudCsrLHI9ITApOmUuZXJyb3IucmVkaXJlY3QmJmUucmVkaXJlY3RDb3VudDxlLm1heFJlZGlyZWN0cyYmKGUucmVkaXJlY3RDb3VudCsrLHI9ITApKSxyJiZuPj0wPyhlLmVycm9yPW51bGwsc2V0VGltZW91dCh0LG4pKTp0KCl9KSl9KSksQ29yZVBvc3Q6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24oZSl7ZSgiRVhUUkFDVF9SRVFVRVNUX0lEIiwiZXh0cmFjdERhdGEiLG4udXRpbC5leHRyYWN0UmVxdWVzdElkKSxlKCJFWFRSQUNUX1JFUVVFU1RfSUQiLCJleHRyYWN0RXJyb3IiLG4udXRpbC5leHRyYWN0UmVxdWVzdElkKSxlKCJFTk9URk9VTkRfRVJST1IiLCJodHRwRXJyb3IiLChmdW5jdGlvbihlKXtpZigiTmV0d29ya2luZ0Vycm9yIj09PWUuY29kZSYmZnVuY3Rpb24oZSl7cmV0dXJuIkVOT1RGT1VORCI9PT1lLmVycm5vfHwibnVtYmVyIj09dHlwZW9mIGUuZXJybm8mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLnV0aWwuZ2V0U3lzdGVtRXJyb3JOYW1lJiZbIkVBSV9OT05BTUUiLCJFQUlfTk9EQVRBIl0uaW5kZXhPZihuLnV0aWwuZ2V0U3lzdGVtRXJyb3JOYW1lKGUuZXJybm8pPj0wKX0oZSkpe3ZhciB0PSJJbmFjY2Vzc2libGUgaG9zdDogYCIrZS5ob3N0bmFtZSsiJyBhdCBwb3J0IGAiK2UucG9ydCsiJy4gVGhpcyBzZXJ2aWNlIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIHRoZSBgIitlLnJlZ2lvbisiJyByZWdpb24uIjt0aGlzLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3IodCkse2NvZGU6IlVua25vd25FbmRwb2ludCIscmVnaW9uOmUucmVnaW9uLGhvc3RuYW1lOmUuaG9zdG5hbWUscmV0cnlhYmxlOiEwLG9yaWdpbmFsRXJyb3I6ZX0pfX0pKX0pKSxMb2dnZXI6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dCgiTE9HX1JFUVVFU1QiLCJjb21wbGV0ZSIsKGZ1bmN0aW9uKHQpe3ZhciByPXQucmVxdWVzdCxvPXIuc2VydmljZS5jb25maWcubG9nZ2VyO2lmKG8pe3ZhciBpPWZ1bmN0aW9uKCl7dmFyIGk9KHQucmVxdWVzdC5zZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkuZ2V0VGltZSgpLXIuc3RhcnRUaW1lLmdldFRpbWUoKSkvMWUzLHM9ISFvLmlzVFRZLGM9dC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSx1PXIucGFyYW1zO3Iuc2VydmljZS5hcGkub3BlcmF0aW9ucyYmci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Iub3BlcmF0aW9uXSYmci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Iub3BlcmF0aW9uXS5pbnB1dCYmKHU9YShyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbci5vcGVyYXRpb25dLmlucHV0LHIucGFyYW1zKSk7dmFyIGw9ZSgidXRpbCIpLmluc3BlY3QodSwhMCxudWxsKSxwPSIiO3JldHVybiBzJiYocCs9IhtbMzNtIikscCs9IltBV1MgIityLnNlcnZpY2Uuc2VydmljZUlkZW50aWZpZXIrIiAiK2MscCs9IiAiK2kudG9TdHJpbmcoKSsicyAiK3QucmV0cnlDb3VudCsiIHJldHJpZXNdIixzJiYocCs9IhtbMDsxbSIpLHArPSIgIituLnV0aWwuc3RyaW5nLmxvd2VyRmlyc3Qoci5vcGVyYXRpb24pLHArPSIoIitsKyIpIixzJiYocCs9IhtbMG0iKSxwfSgpOyJmdW5jdGlvbiI9PXR5cGVvZiBvLmxvZz9vLmxvZyhpKToiZnVuY3Rpb24iPT10eXBlb2Ygby53cml0ZSYmby53cml0ZShpKyJcbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZighdClyZXR1cm4gdDtpZihlLmlzU2Vuc2l0aXZlKXJldHVybiIqKipTZW5zaXRpdmVJbmZvcm1hdGlvbioqKiI7c3dpdGNoKGUudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnZhciByPXt9O3JldHVybiBuLnV0aWwuZWFjaCh0LChmdW5jdGlvbih0LG4pe09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLm1lbWJlcnMsdCk/clt0XT1hKGUubWVtYmVyc1t0XSxuKTpyW3RdPW59KSkscjtjYXNlImxpc3QiOnZhciBvPVtdO3JldHVybiBuLnV0aWwuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQsbil7by5wdXNoKGEoZS5tZW1iZXIsdCkpfSkpLG87Y2FzZSJtYXAiOnZhciBpPXt9O3JldHVybiBuLnV0aWwuZWFjaCh0LChmdW5jdGlvbih0LG4pe2lbdF09YShlLnZhbHVlLG4pfSkpLGk7ZGVmYXVsdDpyZXR1cm4gdH19fSkpfSkpLEpzb246KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9qc29uIik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSksUmVzdDoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3Jlc3QiKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKSxSZXN0SnNvbjoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3Jlc3RfanNvbiIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpLHQoIlVOU0VUX0NPTlRFTlRfTEVOR1RIIiwiYWZ0ZXJCdWlsZCIsbi51bnNldENvbnRlbnRMZW5ndGgpfSkpLFJlc3RYbWw6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9yZXN0X3htbCIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpLFF1ZXJ5OihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcXVlcnkiKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vZGlzY292ZXJfZW5kcG9pbnQiOjI3LCIuL3Byb3RvY29sL2pzb24iOjQ4LCIuL3Byb3RvY29sL3F1ZXJ5Ijo0OSwiLi9wcm90b2NvbC9yZXN0Ijo1MCwiLi9wcm90b2NvbC9yZXN0X2pzb24iOjUxLCIuL3Byb3RvY29sL3Jlc3RfeG1sIjo1MiwiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIjo2MSxfcHJvY2Vzczo5MSx1dGlsOjg1fV0sMzU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuRW5kcG9pbnQ9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtpZihyLnV0aWwuaGlkZVByb3BlcnRpZXModGhpcyxbInNsYXNoZXMiLCJhdXRoIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5Il0pLG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGVuZHBvaW50OiAiK2UpO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gci51dGlsLmNvcHkoZSk7ZS5tYXRjaCgvXmh0dHAvKXx8KGU9KCh0JiZ2b2lkIDAhPT10LnNzbEVuYWJsZWQ/dC5zc2xFbmFibGVkOnIuY29uZmlnLnNzbEVuYWJsZWQpPyJodHRwcyI6Imh0dHAiKSsiOi8vIitlKSxyLnV0aWwudXBkYXRlKHRoaXMsci51dGlsLnVybFBhcnNlKGUpKSx0aGlzLnBvcnQ/dGhpcy5wb3J0PXBhcnNlSW50KHRoaXMucG9ydCwxMCk6dGhpcy5wb3J0PSJodHRwczoiPT09dGhpcy5wcm90b2NvbD80NDM6ODB9fSksci5IdHRwUmVxdWVzdD1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe2U9bmV3IHIuRW5kcG9pbnQoZSksdGhpcy5tZXRob2Q9IlBPU1QiLHRoaXMucGF0aD1lLnBhdGh8fCIvIix0aGlzLmhlYWRlcnM9e30sdGhpcy5ib2R5PSIiLHRoaXMuZW5kcG9pbnQ9ZSx0aGlzLnJlZ2lvbj10LHRoaXMuX3VzZXJBZ2VudD0iIix0aGlzLnNldFVzZXJBZ2VudCgpfSxzZXRVc2VyQWdlbnQ6ZnVuY3Rpb24oKXt0aGlzLl91c2VyQWdlbnQ9dGhpcy5oZWFkZXJzW3RoaXMuZ2V0VXNlckFnZW50SGVhZGVyTmFtZSgpXT1yLnV0aWwudXNlckFnZW50KCl9LGdldFVzZXJBZ2VudEhlYWRlck5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4oci51dGlsLmlzQnJvd3NlcigpPyJYLUFtei0iOiIiKSsiVXNlci1BZ2VudCJ9LGFwcGVuZFRvVXNlckFnZW50OmZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZSYmZSYmKHRoaXMuX3VzZXJBZ2VudCs9IiAiK2UpLHRoaXMuaGVhZGVyc1t0aGlzLmdldFVzZXJBZ2VudEhlYWRlck5hbWUoKV09dGhpcy5fdXNlckFnZW50fSxnZXRVc2VyQWdlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlckFnZW50fSxwYXRobmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguc3BsaXQoIj8iLDEpWzBdfSxzZWFyY2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhdGguc3BsaXQoIj8iLDIpWzFdO3JldHVybiBlPyhlPXIudXRpbC5xdWVyeVN0cmluZ1BhcnNlKGUpLHIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKGUpKToiIn0sdXBkYXRlRW5kcG9pbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHIuRW5kcG9pbnQoZSk7dGhpcy5lbmRwb2ludD10LHRoaXMucGF0aD10LnBhdGh8fCIvIix0aGlzLmhlYWRlcnMuSG9zdCYmKHRoaXMuaGVhZGVycy5Ib3N0PXQuaG9zdCl9fSksci5IdHRwUmVzcG9uc2U9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLnN0YXR1c0NvZGU9dm9pZCAwLHRoaXMuaGVhZGVycz17fSx0aGlzLmJvZHk9dm9pZCAwLHRoaXMuc3RyZWFtaW5nPSExLHRoaXMuc3RyZWFtPW51bGx9LGNyZWF0ZVVuYnVmZmVyZWRTdHJlYW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJlYW1pbmc9ITAsdGhpcy5zdHJlYW19fSksci5IdHRwQ2xpZW50PW8oe30pLHIuSHR0cENsaWVudC5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLnNpbmdsZXRvbiYmKHRoaXMuc2luZ2xldG9uPW5ldyB0aGlzKSx0aGlzLnNpbmdsZXRvbn19LHsiLi9jb3JlIjoxOX1dLDM2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLGk9ZSgiZXZlbnRzIikuRXZlbnRFbWl0dGVyO2UoIi4uL2h0dHAiKSxyLlhIUkNsaWVudD1yLnV0aWwuaW5oZXJpdCh7aGFuZGxlUmVxdWVzdDpmdW5jdGlvbihlLHQsbixhKXt2YXIgcz10aGlzLGM9ZS5lbmRwb2ludCx1PW5ldyBpLGw9Yy5wcm90b2NvbCsiLy8iK2MuaG9zdG5hbWU7ODAhPT1jLnBvcnQmJjQ0MyE9PWMucG9ydCYmKGwrPSI6IitjLnBvcnQpLGwrPWUucGF0aDt2YXIgcD1uZXcgWE1MSHR0cFJlcXVlc3QsZD0hMTtlLnN0cmVhbT1wLHAuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsKGZ1bmN0aW9uKCl7dHJ5e2lmKDA9PT1wLnN0YXR1cylyZXR1cm59Y2F0Y2goZSl7cmV0dXJufXRoaXMucmVhZHlTdGF0ZT49dGhpcy5IRUFERVJTX1JFQ0VJVkVEJiYhZCYmKHUuc3RhdHVzQ29kZT1wLnN0YXR1cyx1LmhlYWRlcnM9cy5wYXJzZUhlYWRlcnMocC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSksdS5lbWl0KCJoZWFkZXJzIix1LnN0YXR1c0NvZGUsdS5oZWFkZXJzLHAuc3RhdHVzVGV4dCksZD0hMCksdGhpcy5yZWFkeVN0YXRlPT09dGhpcy5ET05FJiZzLmZpbmlzaFJlcXVlc3QocCx1KX0pLCExKSxwLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsKGZ1bmN0aW9uKGUpe3UuZW1pdCgic2VuZFByb2dyZXNzIixlKX0pKSxwLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwoZnVuY3Rpb24oZSl7dS5lbWl0KCJyZWNlaXZlUHJvZ3Jlc3MiLGUpfSksITEpLHAuYWRkRXZlbnRMaXN0ZW5lcigidGltZW91dCIsKGZ1bmN0aW9uKCl7YShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJUaW1lb3V0Iikse2NvZGU6IlRpbWVvdXRFcnJvciJ9KSl9KSwhMSkscC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsKGZ1bmN0aW9uKCl7YShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJOZXR3b3JrIEZhaWx1cmUiKSx7Y29kZToiTmV0d29ya2luZ0Vycm9yIn0pKX0pLCExKSxwLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IiwoZnVuY3Rpb24oKXthKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIlJlcXVlc3QgYWJvcnRlZCIpLHtjb2RlOiJSZXF1ZXN0QWJvcnRlZEVycm9yIn0pKX0pLCExKSxuKHUpLHAub3BlbihlLm1ldGhvZCxsLCExIT09dC54aHJBc3luYyksci51dGlsLmVhY2goZS5oZWFkZXJzLChmdW5jdGlvbihlLHQpeyJDb250ZW50LUxlbmd0aCIhPT1lJiYiVXNlci1BZ2VudCIhPT1lJiYiSG9zdCIhPT1lJiZwLnNldFJlcXVlc3RIZWFkZXIoZSx0KX0pKSx0LnRpbWVvdXQmJiExIT09dC54aHJBc3luYyYmKHAudGltZW91dD10LnRpbWVvdXQpLHQueGhyV2l0aENyZWRlbnRpYWxzJiYocC53aXRoQ3JlZGVudGlhbHM9ITApO3RyeXtwLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIifWNhdGNoKGUpe310cnl7ZS5ib2R5P3Auc2VuZChlLmJvZHkpOnAuc2VuZCgpfWNhdGNoKHQpe2lmKCFlLmJvZHl8fCJvYmplY3QiIT09byhlLmJvZHkuYnVmZmVyKSl0aHJvdyB0O3Auc2VuZChlLmJvZHkuYnVmZmVyKX1yZXR1cm4gdX0scGFyc2VIZWFkZXJzOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiByLnV0aWwuYXJyYXlFYWNoKGUuc3BsaXQoL1xyP1xuLyksKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3BsaXQoIjoiLDEpWzBdLHI9ZS5zdWJzdHJpbmcobi5sZW5ndGgrMik7bi5sZW5ndGg+MCYmKHRbbi50b0xvd2VyQ2FzZSgpXT1yKX0pKSx0fSxmaW5pc2hSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoImFycmF5YnVmZmVyIj09PWUucmVzcG9uc2VUeXBlJiZlLnJlc3BvbnNlKXt2YXIgbz1lLnJlc3BvbnNlO249bmV3IHIudXRpbC5CdWZmZXIoby5ieXRlTGVuZ3RoKTtmb3IodmFyIGk9bmV3IFVpbnQ4QXJyYXkobyksYT0wO2E8bi5sZW5ndGg7KythKW5bYV09aVthXX10cnl7bnx8InN0cmluZyIhPXR5cGVvZiBlLnJlc3BvbnNlVGV4dHx8KG49bmV3IHIudXRpbC5CdWZmZXIoZS5yZXNwb25zZVRleHQpKX1jYXRjaChlKXt9biYmdC5lbWl0KCJkYXRhIixuKSx0LmVtaXQoImVuZCIpfX0pLHIuSHR0cENsaWVudC5wcm90b3R5cGU9ci5YSFJDbGllbnQucHJvdG90eXBlLHIuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj0xfSx7Ii4uL2NvcmUiOjE5LCIuLi9odHRwIjozNSxldmVudHM6ODd9XSwzNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKTtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGkoZSx0KXtpZih0JiZudWxsIT1lKXN3aXRjaCh0LnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZih0LmlzRG9jdW1lbnQpcmV0dXJuIGU7dmFyIG49e307cmV0dXJuIHIuZWFjaChlLChmdW5jdGlvbihlLHIpe3ZhciBvPXQubWVtYmVyc1tlXTtpZihvKXtpZigiYm9keSIhPT1vLmxvY2F0aW9uKXJldHVybjt2YXIgYT1vLmlzTG9jYXRpb25OYW1lP28ubmFtZTplLHM9aShyLG8pO3ZvaWQgMCE9PXMmJihuW2FdPXMpfX0pKSxufShlLHQpO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gci5lYWNoKGUsKGZ1bmN0aW9uKGUscil7dmFyIG89aShyLHQudmFsdWUpO3ZvaWQgMCE9PW8mJihuW2VdPW8pfSkpLG59KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtyZXR1cm4gci5hcnJheUVhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHI9aShlLHQubWVtYmVyKTt2b2lkIDAhPT1yJiZuLnB1c2gocil9KSksbn0oZSx0KTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvV2lyZUZvcm1hdChlKX0oZSx0KX19by5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaShlLHQpKX0sdC5leHBvcnRzPW99LHsiLi4vdXRpbCI6NzR9XSwzODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKTtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGkoZSx0KXtpZih0JiZ2b2lkIDAhPT1lKXN3aXRjaCh0LnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXtpZih0LmlzRG9jdW1lbnQpcmV0dXJuIGU7dmFyIG49e30sbz10Lm1lbWJlcnMsYT10LmFwaSYmdC5hcGkuYXdzUXVlcnlDb21wYXRpYmxlO3JldHVybiByLmVhY2gobywoZnVuY3Rpb24odCxyKXt2YXIgbz1yLmlzTG9jYXRpb25OYW1lP3IubmFtZTp0O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pKXt2YXIgcz1pKGVbb10scik7dm9pZCAwIT09cyYmKG5bdF09cyl9ZWxzZSBhJiZyLmRlZmF1bHRWYWx1ZSYmImxpc3QiPT09ci50eXBlJiYoblt0XT0iZnVuY3Rpb24iPT10eXBlb2Ygci5kZWZhdWx0VmFsdWU/ci5kZWZhdWx0VmFsdWUoKTpyLmRlZmF1bHRWYWx1ZSl9KSksbn19KGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe3ZhciBuPXt9O3JldHVybiByLmVhY2goZSwoZnVuY3Rpb24oZSxyKXt2YXIgbz1pKHIsdC52YWx1ZSk7bltlXT12b2lkIDA9PT1vP251bGw6b30pKSxufX0oZSx0KTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe3ZhciBuPVtdO3JldHVybiByLmFycmF5RWFjaChlLChmdW5jdGlvbihlKXt2YXIgcj1pKGUsdC5tZW1iZXIpO3ZvaWQgMD09PXI/bi5wdXNoKG51bGwpOm4ucHVzaChyKX0pKSxufX0oZSx0KTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVHlwZShlKX0oZSx0KX19by5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShKU09OLnBhcnNlKGUpLHQpfSx0LmV4cG9ydHM9b30seyIuLi91dGlsIjo3NH1dLDM5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpe3ZhciBuPVsiVGhlIEFXUyBTREsgZm9yIEphdmFTY3JpcHQgKHYyKSB3aWxsIGVudGVyIG1haW50ZW5hbmNlIG1vZGUiLCJvbiBTZXB0ZW1iZXIgOCwgMjAyNCBhbmQgcmVhY2ggZW5kLW9mLXN1cHBvcnQgb24gU2VwdGVtYmVyIDgsIDIwMjUuXG4iLCJQbGVhc2UgbWlncmF0ZSB5b3VyIGNvZGUgdG8gdXNlIEFXUyBTREsgZm9yIEphdmFTY3JpcHQgKHYzKS4iLCJGb3IgbW9yZSBpbmZvcm1hdGlvbiwgY2hlY2sgYmxvZyBwb3N0IGF0IGh0dHBzOi8vYS5jby9jVVBueWlsIl0uam9pbigiXG4iKTt0LmV4cG9ydHM9e3N1cHByZXNzOiExfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZXhwb3J0cy5zdXBwcmVzc3x8dm9pZCAwIT09ZSYmKCJvYmplY3QiPT09byhlLmVudikmJnZvaWQgMCE9PWUuZW52LkFXU19FWEVDVVRJT05fRU5WJiYwPT09ZS5lbnYuQVdTX0VYRUNVVElPTl9FTlYuaW5kZXhPZigiQVdTX0xhbWJkYV8iKXx8Im9iamVjdCI9PT1vKGUuZW52KSYmdm9pZCAwIT09ZS5lbnYuQVdTX1NES19KU19TVVBQUkVTU19NQUlOVEVOQU5DRV9NT0RFX01FU1NBR0V8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLmVtaXRXYXJuaW5nJiZlLmVtaXRXYXJuaW5nKG4se3R5cGU6Ik5PVEUifSkpfSksMCl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7X3Byb2Nlc3M6OTF9XSw0MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29sbGVjdGlvbiIpLG89ZSgiLi9vcGVyYXRpb24iKSxpPWUoIi4vc2hhcGUiKSxhPWUoIi4vcGFnaW5hdG9yIikscz1lKCIuL3Jlc291cmNlX3dhaXRlciIpLGM9ZSgiLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uIiksdT1lKCIuLi91dGlsIiksbD11LnByb3BlcnR5LHA9dS5tZW1vaXplZFByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7ZT1lfHx7fSwodD10fHx7fSkuYXBpPXRoaXMsZS5tZXRhZGF0YT1lLm1ldGFkYXRhfHx7fTt2YXIgZD10LnNlcnZpY2VJZGVudGlmaWVyO2RlbGV0ZSB0LnNlcnZpY2VJZGVudGlmaWVyLGwodGhpcywiaXNBcGkiLCEwLCExKSxsKHRoaXMsImFwaVZlcnNpb24iLGUubWV0YWRhdGEuYXBpVmVyc2lvbiksbCh0aGlzLCJlbmRwb2ludFByZWZpeCIsZS5tZXRhZGF0YS5lbmRwb2ludFByZWZpeCksbCh0aGlzLCJzaWduaW5nTmFtZSIsZS5tZXRhZGF0YS5zaWduaW5nTmFtZSksbCh0aGlzLCJnbG9iYWxFbmRwb2ludCIsZS5tZXRhZGF0YS5nbG9iYWxFbmRwb2ludCksbCh0aGlzLCJzaWduYXR1cmVWZXJzaW9uIixlLm1ldGFkYXRhLnNpZ25hdHVyZVZlcnNpb24pLGwodGhpcywianNvblZlcnNpb24iLGUubWV0YWRhdGEuanNvblZlcnNpb24pLGwodGhpcywidGFyZ2V0UHJlZml4IixlLm1ldGFkYXRhLnRhcmdldFByZWZpeCksbCh0aGlzLCJwcm90b2NvbCIsZS5tZXRhZGF0YS5wcm90b2NvbCksbCh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLGUubWV0YWRhdGEudGltZXN0YW1wRm9ybWF0KSxsKHRoaXMsInhtbE5hbWVzcGFjZVVyaSIsZS5tZXRhZGF0YS54bWxOYW1lc3BhY2UpLGwodGhpcywiYWJicmV2aWF0aW9uIixlLm1ldGFkYXRhLnNlcnZpY2VBYmJyZXZpYXRpb24pLGwodGhpcywiZnVsbE5hbWUiLGUubWV0YWRhdGEuc2VydmljZUZ1bGxOYW1lKSxsKHRoaXMsInNlcnZpY2VJZCIsZS5tZXRhZGF0YS5zZXJ2aWNlSWQpLGQmJmNbZF0mJmwodGhpcywieG1sTm9EZWZhdWx0TGlzdHMiLGNbZF0ueG1sTm9EZWZhdWx0TGlzdHMsITEpLHAodGhpcywiY2xhc3NOYW1lIiwoZnVuY3Rpb24oKXt2YXIgdD1lLm1ldGFkYXRhLnNlcnZpY2VBYmJyZXZpYXRpb258fGUubWV0YWRhdGEuc2VydmljZUZ1bGxOYW1lO3JldHVybiB0PygiRWxhc3RpY0xvYWRCYWxhbmNpbmciPT09KHQ9dC5yZXBsYWNlKC9eQW1hem9ufEFXU1xzKnxcKC4qfFxzK3xcVysvZywiIikpJiYodD0iRUxCIiksdCk6bnVsbH0pKSxsKHRoaXMsIm9wZXJhdGlvbnMiLG5ldyByKGUub3BlcmF0aW9ucyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgbyhlLG4sdCl9KSx1LnN0cmluZy5sb3dlckZpcnN0LChmdW5jdGlvbihlLHQpeyEwPT09dC5lbmRwb2ludG9wZXJhdGlvbiYmbChuLCJlbmRwb2ludE9wZXJhdGlvbiIsdS5zdHJpbmcubG93ZXJGaXJzdChlKSksdC5lbmRwb2ludGRpc2NvdmVyeSYmIW4uaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSYmbChuLCJoYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5IiwhMD09PXQuZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQpfSkpKSxsKHRoaXMsInNoYXBlcyIsbmV3IHIoZS5zaGFwZXMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gaS5jcmVhdGUobix0KX0pKSksbCh0aGlzLCJwYWdpbmF0b3JzIixuZXcgcihlLnBhZ2luYXRvcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IGEoZSxuLHQpfSkpKSxsKHRoaXMsIndhaXRlcnMiLG5ldyByKGUud2FpdGVycyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgcyhlLG4sdCl9KSx1LnN0cmluZy5sb3dlckZpcnN0KSksdC5kb2N1bWVudGF0aW9uJiYobCh0aGlzLCJkb2N1bWVudGF0aW9uIixlLmRvY3VtZW50YXRpb24pLGwodGhpcywiZG9jdW1lbnRhdGlvblVybCIsZS5kb2N1bWVudGF0aW9uVXJsKSksbCh0aGlzLCJhd3NRdWVyeUNvbXBhdGlibGUiLGUubWV0YWRhdGEuYXdzUXVlcnlDb21wYXRpYmxlKX19LHsiLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uIjo0LCIuLi91dGlsIjo3NCwiLi9jb2xsZWN0aW9uIjo0MSwiLi9vcGVyYXRpb24iOjQyLCIuL3BhZ2luYXRvciI6NDMsIi4vcmVzb3VyY2Vfd2FpdGVyIjo0NCwiLi9zaGFwZSI6NDV9XSw0MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKS5tZW1vaXplZFByb3BlcnR5O2Z1bmN0aW9uIG8oZSx0LG4sbyl7cih0aGlzLG8oZSksKGZ1bmN0aW9uKCl7cmV0dXJuIG4oZSx0KX0pKX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodmFyIGEgaW4gcj1yfHxTdHJpbmcsZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKSYmKG8uY2FsbCh0aGlzLGEsZVthXSxuLHIpLGkmJmkoYSxlW2FdKSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL3NoYXBlIiksbz1lKCIuLi91dGlsIiksaT1vLnByb3BlcnR5LGE9by5tZW1vaXplZFByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcztuPW58fHt9LGkodGhpcywibmFtZSIsdC5uYW1lfHxlKSxpKHRoaXMsImFwaSIsbi5hcGksITEpLHQuaHR0cD10Lmh0dHB8fHt9LGkodGhpcywiZW5kcG9pbnQiLHQuZW5kcG9pbnQpLGkodGhpcywiaHR0cE1ldGhvZCIsdC5odHRwLm1ldGhvZHx8IlBPU1QiKSxpKHRoaXMsImh0dHBQYXRoIix0Lmh0dHAucmVxdWVzdFVyaXx8Ii8iKSxpKHRoaXMsImF1dGh0eXBlIix0LmF1dGh0eXBlfHwiIiksaSh0aGlzLCJlbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkIix0LmVuZHBvaW50ZGlzY292ZXJ5P3QuZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQ/IlJFUVVJUkVEIjoiT1BUSU9OQUwiOiJOVUxMIik7dmFyIHM9dC5odHRwQ2hlY2tzdW1SZXF1aXJlZHx8dC5odHRwQ2hlY2tzdW0mJnQuaHR0cENoZWNrc3VtLnJlcXVlc3RDaGVja3N1bVJlcXVpcmVkO2kodGhpcywiaHR0cENoZWNrc3VtUmVxdWlyZWQiLHMsITEpLGEodGhpcywiaW5wdXQiLChmdW5jdGlvbigpe3JldHVybiB0LmlucHV0P3IuY3JlYXRlKHQuaW5wdXQsbik6bmV3IHIuY3JlYXRlKHt0eXBlOiJzdHJ1Y3R1cmUifSxuKX0pKSxhKHRoaXMsIm91dHB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQub3V0cHV0P3IuY3JlYXRlKHQub3V0cHV0LG4pOm5ldyByLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0sbil9KSksYSh0aGlzLCJlcnJvcnMiLChmdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0LmVycm9ycylyZXR1cm4gbnVsbDtmb3IodmFyIG89MDtvPHQuZXJyb3JzLmxlbmd0aDtvKyspZS5wdXNoKHIuY3JlYXRlKHQuZXJyb3JzW29dLG4pKTtyZXR1cm4gZX0pKSxhKHRoaXMsInBhZ2luYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBpLnBhZ2luYXRvcnNbZV19KSksbi5kb2N1bWVudGF0aW9uJiYoaSh0aGlzLCJkb2N1bWVudGF0aW9uIix0LmRvY3VtZW50YXRpb24pLGkodGhpcywiZG9jdW1lbnRhdGlvblVybCIsdC5kb2N1bWVudGF0aW9uVXJsKSksYSh0aGlzLCJpZGVtcG90ZW50TWVtYmVycyIsKGZ1bmN0aW9uKCl7dmFyIGU9W10sdD1vLmlucHV0LG49dC5tZW1iZXJzO2lmKCF0Lm1lbWJlcnMpcmV0dXJuIGU7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmITA9PT1uW3JdLmlzSWRlbXBvdGVudCYmZS5wdXNoKHIpO3JldHVybiBlfSkpLGEodGhpcywiaGFzRXZlbnRPdXRwdXQiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm1lbWJlcnMsbj1lLnBheWxvYWQ7aWYoIWUubWVtYmVycylyZXR1cm4hMTtpZihuKXJldHVybiB0W25dLmlzRXZlbnRTdHJlYW07Zm9yKHZhciByIGluIHQpaWYoIXQuaGFzT3duUHJvcGVydHkocikmJiEwPT09dFtyXS5pc0V2ZW50U3RyZWFtKXJldHVybiEwO3JldHVybiExfShvLm91dHB1dCl9KSl9fSx7Ii4uL3V0aWwiOjc0LCIuL3NoYXBlIjo0NX1dLDQzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLnByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3IodGhpcywiaW5wdXRUb2tlbiIsdC5pbnB1dF90b2tlbikscih0aGlzLCJsaW1pdEtleSIsdC5saW1pdF9rZXkpLHIodGhpcywibW9yZVJlc3VsdHMiLHQubW9yZV9yZXN1bHRzKSxyKHRoaXMsIm91dHB1dFRva2VuIix0Lm91dHB1dF90b2tlbikscih0aGlzLCJyZXN1bHRLZXkiLHQucmVzdWx0X2tleSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1yLnByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7bj1ufHx7fSxvKHRoaXMsIm5hbWUiLGUpLG8odGhpcywiYXBpIixuLmFwaSwhMSksdC5vcGVyYXRpb24mJm8odGhpcywib3BlcmF0aW9uIixyLnN0cmluZy5sb3dlckZpcnN0KHQub3BlcmF0aW9uKSk7dmFyIGk9dGhpcztbInR5cGUiLCJkZXNjcmlwdGlvbiIsImRlbGF5IiwibWF4QXR0ZW1wdHMiLCJhY2NlcHRvcnMiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2VdO24mJm8oaSxlLG4pfSkpfX0seyIuLi91dGlsIjo3NH1dLDQ1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb2xsZWN0aW9uIiksaT1lKCIuLi91dGlsIik7ZnVuY3Rpb24gYShlLHQsbil7bnVsbCE9biYmaS5wcm9wZXJ0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlLHQpe2UuY29uc3RydWN0b3IucHJvdG90eXBlW3RdfHxpLm1lbW9pemVkUHJvcGVydHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSx0LG4pe3Q9dHx8e30sYSh0aGlzLCJzaGFwZSIsZS5zaGFwZSksYSh0aGlzLCJhcGkiLHQuYXBpLCExKSxhKHRoaXMsInR5cGUiLGUudHlwZSksYSh0aGlzLCJlbnVtIixlLmVudW0pLGEodGhpcywibWluIixlLm1pbiksYSh0aGlzLCJtYXgiLGUubWF4KSxhKHRoaXMsInBhdHRlcm4iLGUucGF0dGVybiksYSh0aGlzLCJsb2NhdGlvbiIsZS5sb2NhdGlvbnx8dGhpcy5sb2NhdGlvbnx8ImJvZHkiKSxhKHRoaXMsIm5hbWUiLHRoaXMubmFtZXx8ZS54bWxOYW1lfHxlLnF1ZXJ5TmFtZXx8ZS5sb2NhdGlvbk5hbWV8fG4pLGEodGhpcywiaXNTdHJlYW1pbmciLGUuc3RyZWFtaW5nfHx0aGlzLmlzU3RyZWFtaW5nfHwhMSksYSh0aGlzLCJyZXF1aXJlc0xlbmd0aCIsZS5yZXF1aXJlc0xlbmd0aCwhMSksYSh0aGlzLCJpc0NvbXBvc2l0ZSIsZS5pc0NvbXBvc2l0ZXx8ITEpLGEodGhpcywiaXNTaGFwZSIsITAsITEpLGEodGhpcywiaXNRdWVyeU5hbWUiLEJvb2xlYW4oZS5xdWVyeU5hbWUpLCExKSxhKHRoaXMsImlzTG9jYXRpb25OYW1lIixCb29sZWFuKGUubG9jYXRpb25OYW1lKSwhMSksYSh0aGlzLCJpc0lkZW1wb3RlbnQiLCEwPT09ZS5pZGVtcG90ZW5jeVRva2VuKSxhKHRoaXMsImlzSnNvblZhbHVlIiwhMD09PWUuanNvbnZhbHVlKSxhKHRoaXMsImlzU2Vuc2l0aXZlIiwhMD09PWUuc2Vuc2l0aXZlfHxlLnByb3RvdHlwZSYmITA9PT1lLnByb3RvdHlwZS5zZW5zaXRpdmUpLGEodGhpcywiaXNFdmVudFN0cmVhbSIsQm9vbGVhbihlLmV2ZW50c3RyZWFtKSwhMSksYSh0aGlzLCJpc0V2ZW50IixCb29sZWFuKGUuZXZlbnQpLCExKSxhKHRoaXMsImlzRXZlbnRQYXlsb2FkIixCb29sZWFuKGUuZXZlbnRwYXlsb2FkKSwhMSksYSh0aGlzLCJpc0V2ZW50SGVhZGVyIixCb29sZWFuKGUuZXZlbnRoZWFkZXIpLCExKSxhKHRoaXMsImlzVGltZXN0YW1wRm9ybWF0U2V0IixCb29sZWFuKGUudGltZXN0YW1wRm9ybWF0KXx8ZS5wcm90b3R5cGUmJiEwPT09ZS5wcm90b3R5cGUuaXNUaW1lc3RhbXBGb3JtYXRTZXQsITEpLGEodGhpcywiZW5kcG9pbnREaXNjb3ZlcnlJZCIsQm9vbGVhbihlLmVuZHBvaW50ZGlzY292ZXJ5aWQpLCExKSxhKHRoaXMsImhvc3RMYWJlbCIsQm9vbGVhbihlLmhvc3RMYWJlbCksITEpLHQuZG9jdW1lbnRhdGlvbiYmKGEodGhpcywiZG9jdW1lbnRhdGlvbiIsZS5kb2N1bWVudGF0aW9uKSxhKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLGUuZG9jdW1lbnRhdGlvblVybCkpLGUueG1sQXR0cmlidXRlJiZhKHRoaXMsImlzWG1sQXR0cmlidXRlIixlLnhtbEF0dHJpYnV0ZXx8ITEpLGEodGhpcywiZGVmYXVsdFZhbHVlIixudWxsKSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplfSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZX19ZnVuY3Rpb24gdShlKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhKHRoaXMsImlzQ29tcG9zaXRlIiwhMCksZS5mbGF0dGVuZWQmJmEodGhpcywiZmxhdHRlbmVkIixlLmZsYXR0ZW5lZHx8ITEpfWZ1bmN0aW9uIGwoZSx0KXt2YXIgbj10aGlzLGk9bnVsbCxsPSF0aGlzLmlzU2hhcGU7dS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCYmKGEodGhpcywiZGVmYXVsdFZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm57fX0pKSxhKHRoaXMsIm1lbWJlcnMiLHt9KSxhKHRoaXMsIm1lbWJlck5hbWVzIixbXSksYSh0aGlzLCJyZXF1aXJlZCIsW10pLGEodGhpcywiaXNSZXF1aXJlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksYSh0aGlzLCJpc0RvY3VtZW50IixCb29sZWFuKGUuZG9jdW1lbnQpKSksZS5tZW1iZXJzJiYoYSh0aGlzLCJtZW1iZXJzIixuZXcgcihlLm1lbWJlcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gYy5jcmVhdGUobix0LGUpfSkpKSxzKHRoaXMsIm1lbWJlck5hbWVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS54bWxPcmRlcnx8T2JqZWN0LmtleXMoZS5tZW1iZXJzKX0pKSxlLmV2ZW50JiYocyh0aGlzLCJldmVudFBheWxvYWRNZW1iZXJOYW1lIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9bi5tZW1iZXJzLHQ9bi5tZW1iZXJOYW1lcyxyPTAsbz10Lmxlbmd0aDtyPG87cisrKWlmKGVbdFtyXV0uaXNFdmVudFBheWxvYWQpcmV0dXJuIHRbcl19KSkscyh0aGlzLCJldmVudEhlYWRlck1lbWJlck5hbWVzIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9bi5tZW1iZXJzLHQ9bi5tZW1iZXJOYW1lcyxyPVtdLG89MCxpPXQubGVuZ3RoO288aTtvKyspZVt0W29dXS5pc0V2ZW50SGVhZGVyJiZyLnB1c2godFtvXSk7cmV0dXJuIHJ9KSkpKSxlLnJlcXVpcmVkJiYoYSh0aGlzLCJyZXF1aXJlZCIsZS5yZXF1aXJlZCksYSh0aGlzLCJpc1JlcXVpcmVkIiwoZnVuY3Rpb24odCl7aWYoIWkpe2k9e307Zm9yKHZhciBuPTA7bjxlLnJlcXVpcmVkLmxlbmd0aDtuKyspaVtlLnJlcXVpcmVkW25dXT0hMH1yZXR1cm4gaVt0XX0pLCExLCEwKSksYSh0aGlzLCJyZXN1bHRXcmFwcGVyIixlLnJlc3VsdFdyYXBwZXJ8fG51bGwpLGUucGF5bG9hZCYmYSh0aGlzLCJwYXlsb2FkIixlLnBheWxvYWQpLCJzdHJpbmciPT10eXBlb2YgZS54bWxOYW1lc3BhY2U/YSh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUueG1sTmFtZXNwYWNlKToib2JqZWN0Ij09PW8oZS54bWxOYW1lc3BhY2UpJiYoYSh0aGlzLCJ4bWxOYW1lc3BhY2VQcmVmaXgiLGUueG1sTmFtZXNwYWNlLnByZWZpeCksYSh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUueG1sTmFtZXNwYWNlLnVyaSkpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj10aGlzLHI9IXRoaXMuaXNTaGFwZTtpZih1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyJiZhKHRoaXMsImRlZmF1bHRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuW119KSksZS5tZW1iZXImJnModGhpcywibWVtYmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYy5jcmVhdGUoZS5tZW1iZXIsdCl9KSksdGhpcy5mbGF0dGVuZWQpe3ZhciBvPXRoaXMubmFtZTtzKHRoaXMsIm5hbWUiLChmdW5jdGlvbigpe3JldHVybiBuLm1lbWJlci5uYW1lfHxvfSkpfX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49IXRoaXMuaXNTaGFwZTt1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuJiYoYSh0aGlzLCJkZWZhdWx0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybnt9fSkpLGEodGhpcywia2V5IixjLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0sdCkpLGEodGhpcywidmFsdWUiLGMuY3JlYXRlKHt0eXBlOiJzdHJpbmcifSx0KSkpLGUua2V5JiZzKHRoaXMsImtleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY3JlYXRlKGUua2V5LHQpfSkpLGUudmFsdWUmJnModGhpcywidmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBjLmNyZWF0ZShlLnZhbHVlLHQpfSkpfWZ1bmN0aW9uIGgoKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1bInJlc3QteG1sIiwicXVlcnkiLCJlYzIiXTt0aGlzLnRvVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmFwaSYmZS5pbmRleE9mKHRoaXMuYXBpLnByb3RvY29sKT4tMT90fHwiIjp0LHRoaXMuaXNKc29uVmFsdWU/SlNPTi5wYXJzZSh0KTp0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC50b1N0cmluZz90LnRvU3RyaW5nKCk6dH0sdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNKc29uVmFsdWU/SlNPTi5zdHJpbmdpZnkoZSk6ZX19ZnVuY3Rpb24gZigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3ZhciB0PWkuYmFzZTY0LmRlY29kZShlKTtpZih0aGlzLmlzU2Vuc2l0aXZlJiZpLmlzTm9kZSgpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5CdWZmZXIuYWxsb2Mpe3ZhciBuPWkuQnVmZmVyLmFsbG9jKHQubGVuZ3RoLHQpO3QuZmlsbCgwKSx0PW59cmV0dXJuIHR9LHRoaXMudG9XaXJlRm9ybWF0PWkuYmFzZTY0LmVuY29kZX1mdW5jdGlvbiBnKCl7Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbSgpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZTpudWxsPT1lP251bGw6InRydWUiPT09ZX19Yy5ub3JtYWxpemVkVHlwZXM9e2NoYXJhY3Rlcjoic3RyaW5nIixkb3VibGU6ImZsb2F0Iixsb25nOiJpbnRlZ2VyIixzaG9ydDoiaW50ZWdlciIsYmlnaW50ZWdlcjoiaW50ZWdlciIsYmlnZGVjaW1hbDoiZmxvYXQiLGJsb2I6ImJpbmFyeSJ9LGMudHlwZXM9e3N0cnVjdHVyZTpsLGxpc3Q6cCxtYXA6ZCxib29sZWFuOm0sdGltZXN0YW1wOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoYy5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50aW1lc3RhbXBGb3JtYXQpYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLGUudGltZXN0YW1wRm9ybWF0KTtlbHNlIGlmKHQuaXNUaW1lc3RhbXBGb3JtYXRTZXQmJnRoaXMudGltZXN0YW1wRm9ybWF0KWEodGhpcywidGltZXN0YW1wRm9ybWF0Iix0aGlzLnRpbWVzdGFtcEZvcm1hdCk7ZWxzZSBpZigiaGVhZGVyIj09PXRoaXMubG9jYXRpb24pYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJyZmM4MjIiKTtlbHNlIGlmKCJxdWVyeXN0cmluZyI9PT10aGlzLmxvY2F0aW9uKWEodGhpcywidGltZXN0YW1wRm9ybWF0IiwiaXNvODYwMSIpO2Vsc2UgaWYodGhpcy5hcGkpc3dpdGNoKHRoaXMuYXBpLnByb3RvY29sKXtjYXNlImpzb24iOmNhc2UicmVzdC1qc29uIjphKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsInVuaXhUaW1lc3RhbXAiKTticmVhaztjYXNlInJlc3QteG1sIjpjYXNlInF1ZXJ5IjpjYXNlImVjMiI6YSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJpc284NjAxIil9dGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgZS50b1VUQ1N0cmluZz9lOiJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlP2kuZGF0ZS5wYXJzZVRpbWVzdGFtcChlKTpudWxsfSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gaS5kYXRlLmZvcm1hdChlLHQudGltZXN0YW1wRm9ybWF0KX19LGZsb2F0OmZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpwYXJzZUZsb2F0KGUpfSx0aGlzLnRvV2lyZUZvcm1hdD10aGlzLnRvVHlwZX0saW50ZWdlcjpmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6cGFyc2VJbnQoZSwxMCl9LHRoaXMudG9XaXJlRm9ybWF0PXRoaXMudG9UeXBlfSxzdHJpbmc6aCxiYXNlNjQ6ZyxiaW5hcnk6Zn0sYy5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7aWYoZS5zaGFwZSl7dmFyIG49dC5hcGkuc2hhcGVzW2Uuc2hhcGVdO2lmKCFuKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgc2hhcGUgcmVmZXJlbmNlOiAiK2Uuc2hhcGUpO3JldHVybiBufXJldHVybiBudWxsfSxjLmNyZWF0ZT1mdW5jdGlvbihlLHQsbil7aWYoZS5pc1NoYXBlKXJldHVybiBlO3ZhciByPWMucmVzb2x2ZShlLHQpO2lmKHIpe3ZhciBvPU9iamVjdC5rZXlzKGUpO3QuZG9jdW1lbnRhdGlvbnx8KG89by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLm1hdGNoKC9kb2N1bWVudGF0aW9uLyl9KSkpO3ZhciBpPWZ1bmN0aW9uKCl7ci5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSx0LG4pfTtyZXR1cm4gaS5wcm90b3R5cGU9cixuZXcgaX1lLnR5cGV8fChlLm1lbWJlcnM/ZS50eXBlPSJzdHJ1Y3R1cmUiOmUubWVtYmVyP2UudHlwZT0ibGlzdCI6ZS5rZXk/ZS50eXBlPSJtYXAiOmUudHlwZT0ic3RyaW5nIik7dmFyIGE9ZS50eXBlO2lmKGMubm9ybWFsaXplZFR5cGVzW2UudHlwZV0mJihlLnR5cGU9Yy5ub3JtYWxpemVkVHlwZXNbZS50eXBlXSksYy50eXBlc1tlLnR5cGVdKXJldHVybiBuZXcgYy50eXBlc1tlLnR5cGVdKGUsdCxuKTt0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBzaGFwZSB0eXBlOiAiK2EpfSxjLnNoYXBlcz17U3RydWN0dXJlU2hhcGU6bCxMaXN0U2hhcGU6cCxNYXBTaGFwZTpkLFN0cmluZ1NoYXBlOmgsQm9vbGVhblNoYXBlOm0sQmFzZTY0U2hhcGU6Z30sdC5leHBvcnRzPWN9LHsiLi4vdXRpbCI6NzQsIi4vY29sbGVjdGlvbiI6NDF9XSw0NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpO3IuUGFyYW1WYWxpZGF0b3I9ci51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpeyEwIT09ZSYmdm9pZCAwIT09ZXx8KGU9e21pbjohMH0pLHRoaXMudmFsaWRhdGlvbj1lfSx2YWxpZGF0ZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5lcnJvcnM9W10sdGhpcy52YWxpZGF0ZU1lbWJlcihlLHR8fHt9LG58fCJwYXJhbXMiKSx0aGlzLmVycm9ycy5sZW5ndGg+MSl7dmFyIG89dGhpcy5lcnJvcnMuam9pbigiXG4qICIpO3Rocm93IG89IlRoZXJlIHdlcmUgIit0aGlzLmVycm9ycy5sZW5ndGgrIiB2YWxpZGF0aW9uIGVycm9yczpcbiogIitvLHIudXRpbC5lcnJvcihuZXcgRXJyb3Iobykse2NvZGU6Ik11bHRpcGxlVmFsaWRhdGlvbkVycm9ycyIsZXJyb3JzOnRoaXMuZXJyb3JzfSl9aWYoMT09PXRoaXMuZXJyb3JzLmxlbmd0aCl0aHJvdyB0aGlzLmVycm9yc1swXTtyZXR1cm4hMH0sZmFpbDpmdW5jdGlvbihlLHQpe3RoaXMuZXJyb3JzLnB1c2goci51dGlsLmVycm9yKG5ldyBFcnJvcih0KSx7Y29kZTplfSkpfSx2YWxpZGF0ZVN0cnVjdHVyZTpmdW5jdGlvbihlLHQsbil7aWYoZS5pc0RvY3VtZW50KXJldHVybiEwO3ZhciByO3RoaXMudmFsaWRhdGVUeXBlKHQsbixbIm9iamVjdCJdLCJzdHJ1Y3R1cmUiKTtmb3IodmFyIG89MDtlLnJlcXVpcmVkJiZvPGUucmVxdWlyZWQubGVuZ3RoO28rKyl7dmFyIGk9dFtyPWUucmVxdWlyZWRbb11dO251bGw9PWkmJnRoaXMuZmFpbCgiTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyIiwiTWlzc2luZyByZXF1aXJlZCBrZXkgJyIrcisiJyBpbiAiK24pfWZvcihyIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpe3ZhciBhPXRbcl0scz1lLm1lbWJlcnNbcl07aWYodm9pZCAwIT09cyl7dmFyIGM9W24scl0uam9pbigiLiIpO3RoaXMudmFsaWRhdGVNZW1iZXIocyxhLGMpfWVsc2UgbnVsbCE9YSYmdGhpcy5mYWlsKCJVbmV4cGVjdGVkUGFyYW1ldGVyIiwiVW5leHBlY3RlZCBrZXkgJyIrcisiJyBmb3VuZCBpbiAiK24pfXJldHVybiEwfSx2YWxpZGF0ZU1lbWJlcjpmdW5jdGlvbihlLHQsbil7c3dpdGNoKGUudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiB0aGlzLnZhbGlkYXRlU3RydWN0dXJlKGUsdCxuKTtjYXNlImxpc3QiOnJldHVybiB0aGlzLnZhbGlkYXRlTGlzdChlLHQsbik7Y2FzZSJtYXAiOnJldHVybiB0aGlzLnZhbGlkYXRlTWFwKGUsdCxuKTtkZWZhdWx0OnJldHVybiB0aGlzLnZhbGlkYXRlU2NhbGFyKGUsdCxuKX19LHZhbGlkYXRlTGlzdDpmdW5jdGlvbihlLHQsbil7aWYodGhpcy52YWxpZGF0ZVR5cGUodCxuLFtBcnJheV0pKXt0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0Lmxlbmd0aCxuLCJsaXN0IG1lbWJlciBjb3VudCIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMudmFsaWRhdGVNZW1iZXIoZS5tZW1iZXIsdFtyXSxuKyJbIityKyJdIil9fSx2YWxpZGF0ZU1hcDpmdW5jdGlvbihlLHQsbil7aWYodGhpcy52YWxpZGF0ZVR5cGUodCxuLFsib2JqZWN0Il0sIm1hcCIpKXt2YXIgcj0wO2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYodGhpcy52YWxpZGF0ZU1lbWJlcihlLmtleSxvLG4rIltrZXk9JyIrbysiJ10iKSx0aGlzLnZhbGlkYXRlTWVtYmVyKGUudmFsdWUsdFtvXSxuKyJbJyIrbysiJ10iKSxyKyspO3RoaXMudmFsaWRhdGVSYW5nZShlLHIsbiwibWFwIG1lbWJlciBjb3VudCIpfX0sdmFsaWRhdGVTY2FsYXI6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChlLnR5cGUpe2Nhc2UgbnVsbDpjYXNlIHZvaWQgMDpjYXNlInN0cmluZyI6cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmcoZSx0LG4pO2Nhc2UiYmFzZTY0IjpjYXNlImJpbmFyeSI6cmV0dXJuIHRoaXMudmFsaWRhdGVQYXlsb2FkKHQsbik7Y2FzZSJpbnRlZ2VyIjpjYXNlImZsb2F0IjpyZXR1cm4gdGhpcy52YWxpZGF0ZU51bWJlcihlLHQsbik7Y2FzZSJib29sZWFuIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVR5cGUodCxuLFsiYm9vbGVhbiJdKTtjYXNlInRpbWVzdGFtcCI6cmV0dXJuIHRoaXMudmFsaWRhdGVUeXBlKHQsbixbRGF0ZSwvXlxkezR9LVxkezJ9LVxkezJ9VFxkezJ9OlxkezJ9OlxkezJ9KFwuXGQrKT9aJC8sIm51bWJlciJdLCJEYXRlIG9iamVjdCwgSVNPLTg2MDEgc3RyaW5nLCBvciBhIFVOSVggdGltZXN0YW1wIik7ZGVmYXVsdDpyZXR1cm4gdGhpcy5mYWlsKCJVbmtvd25UeXBlIiwiVW5oYW5kbGVkIHR5cGUgIitlLnR5cGUrIiBmb3IgIituKX19LHZhbGlkYXRlU3RyaW5nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bInN0cmluZyJdO2UuaXNKc29uVmFsdWUmJihyPXIuY29uY2F0KFsibnVtYmVyIiwib2JqZWN0IiwiYm9vbGVhbiJdKSksbnVsbCE9PXQmJnRoaXMudmFsaWRhdGVUeXBlKHQsbixyKSYmKHRoaXMudmFsaWRhdGVFbnVtKGUsdCxuKSx0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0Lmxlbmd0aCxuLCJzdHJpbmcgbGVuZ3RoIiksdGhpcy52YWxpZGF0ZVBhdHRlcm4oZSx0LG4pLHRoaXMudmFsaWRhdGVVcmkoZSx0LG4pKX0sdmFsaWRhdGVVcmk6ZnVuY3Rpb24oZSx0LG4peyJ1cmkiPT09ZS5sb2NhdGlvbiYmMD09PXQubGVuZ3RoJiZ0aGlzLmZhaWwoIlVyaVBhcmFtZXRlckVycm9yIiwnRXhwZWN0ZWQgdXJpIHBhcmFtZXRlciB0byBoYXZlIGxlbmd0aCA+PSAxLCBidXQgZm91bmQgIicrdCsnIiBmb3IgJytuKX0sdmFsaWRhdGVQYXR0ZXJuOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbGlkYXRpb24ucGF0dGVybiYmdm9pZCAwIT09ZS5wYXR0ZXJuJiYobmV3IFJlZ0V4cChlLnBhdHRlcm4pLnRlc3QodCl8fHRoaXMuZmFpbCgiUGF0dGVybk1hdGNoRXJyb3IiLCdQcm92aWRlZCB2YWx1ZSAiJyt0KyciIGRvZXMgbm90IG1hdGNoIHJlZ2V4IHBhdHRlcm4gLycrZS5wYXR0ZXJuKyIvIGZvciAiK24pKX0sdmFsaWRhdGVSYW5nZTpmdW5jdGlvbihlLHQsbixyKXt0aGlzLnZhbGlkYXRpb24ubWluJiZ2b2lkIDAhPT1lLm1pbiYmdDxlLm1pbiYmdGhpcy5mYWlsKCJNaW5SYW5nZUVycm9yIiwiRXhwZWN0ZWQgIityKyIgPj0gIitlLm1pbisiLCBidXQgZm91bmQgIit0KyIgZm9yICIrbiksdGhpcy52YWxpZGF0aW9uLm1heCYmdm9pZCAwIT09ZS5tYXgmJnQ+ZS5tYXgmJnRoaXMuZmFpbCgiTWF4UmFuZ2VFcnJvciIsIkV4cGVjdGVkICIrcisiIDw9ICIrZS5tYXgrIiwgYnV0IGZvdW5kICIrdCsiIGZvciAiK24pfSx2YWxpZGF0ZUVudW06ZnVuY3Rpb24oZSx0LG4pe3RoaXMudmFsaWRhdGlvbi5lbnVtJiZ2b2lkIDAhPT1lLmVudW0mJi0xPT09ZS5lbnVtLmluZGV4T2YodCkmJnRoaXMuZmFpbCgiRW51bUVycm9yIiwiRm91bmQgc3RyaW5nIHZhbHVlIG9mICIrdCsiLCBidXQgZXhwZWN0ZWQgIitlLmVudW0uam9pbigifCIpKyIgZm9yICIrbil9LHZhbGlkYXRlVHlwZTpmdW5jdGlvbihlLHQsbixpKXtpZihudWxsPT1lKXJldHVybiExO2Zvcih2YXIgYT0hMSxzPTA7czxuLmxlbmd0aDtzKyspe2lmKCJzdHJpbmciPT10eXBlb2YgbltzXSl7aWYobyhlKT09PW5bc10pcmV0dXJuITB9ZWxzZSBpZihuW3NdaW5zdGFuY2VvZiBSZWdFeHApe2lmKChlfHwiIikudG9TdHJpbmcoKS5tYXRjaChuW3NdKSlyZXR1cm4hMH1lbHNle2lmKGUgaW5zdGFuY2VvZiBuW3NdKXJldHVybiEwO2lmKHIudXRpbC5pc1R5cGUoZSxuW3NdKSlyZXR1cm4hMDtpfHxhfHwobj1uLnNsaWNlKCkpLG5bc109ci51dGlsLnR5cGVOYW1lKG5bc10pfWE9ITB9dmFyIGM9aTtjfHwoYz1uLmpvaW4oIiwgIikucmVwbGFjZSgvLChbXixdKykkLywiLCBvciQxIikpO3ZhciB1PWMubWF0Y2goL15bYWVpb3VdL2kpPyJuIjoiIjtyZXR1cm4gdGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEiK3UrIiAiK2MpLCExfSx2YWxpZGF0ZU51bWJlcjpmdW5jdGlvbihlLHQsbil7aWYobnVsbCE9dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgcj1wYXJzZUZsb2F0KHQpO3IudG9TdHJpbmcoKT09PXQmJih0PXIpfXRoaXMudmFsaWRhdGVUeXBlKHQsbixbIm51bWJlciJdKSYmdGhpcy52YWxpZGF0ZVJhbmdlKGUsdCxuLCJudW1lcmljIHZhbHVlIil9fSx2YWxpZGF0ZVBheWxvYWQ6ZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lJiYic3RyaW5nIiE9dHlwZW9mIGUmJighZXx8Im51bWJlciIhPXR5cGVvZiBlLmJ5dGVMZW5ndGgpKXtpZihyLnV0aWwuaXNOb2RlKCkpe3ZhciBuPXIudXRpbC5zdHJlYW0uU3RyZWFtO2lmKHIudXRpbC5CdWZmZXIuaXNCdWZmZXIoZSl8fGUgaW5zdGFuY2VvZiBuKXJldHVybn1lbHNlIGlmKHZvaWQgMCE9PSgidW5kZWZpbmVkIj09dHlwZW9mIEJsb2I/InVuZGVmaW5lZCI6byhCbG9iKSkmJmUgaW5zdGFuY2VvZiBCbG9iKXJldHVybjt2YXIgaT1bIkJ1ZmZlciIsIlN0cmVhbSIsIkZpbGUiLCJCbG9iIiwiQXJyYXlCdWZmZXIiLCJEYXRhVmlldyJdO2lmKGUpZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe2lmKHIudXRpbC5pc1R5cGUoZSxpW2FdKSlyZXR1cm47aWYoci51dGlsLnR5cGVOYW1lKGUuY29uc3RydWN0b3IpPT09aVthXSlyZXR1cm59dGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEgc3RyaW5nLCBCdWZmZXIsIFN0cmVhbSwgQmxvYiwgb3IgdHlwZWQgYXJyYXkgb2JqZWN0Iil9fX0pfSx7Ii4vY29yZSI6MTl9XSw0NzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL2NvcmUiKTt0LmV4cG9ydHM9e3BvcHVsYXRlSG9zdFByZWZpeDpmdW5jdGlvbihlKXtpZighZS5zZXJ2aWNlLmNvbmZpZy5ob3N0UHJlZml4RW5hYmxlZClyZXR1cm4gZTt2YXIgdCxuLGksYSxzLGM9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZihmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLG49dC5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxvPXQuZW5kcG9pbnRPcGVyYXRpb24mJnQuZW5kcG9pbnRPcGVyYXRpb249PT1yLnN0cmluZy5sb3dlckZpcnN0KG4ubmFtZSk7cmV0dXJuIk5VTEwiIT09bi5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkfHwhMD09PW99KGUpKXJldHVybiBlO2lmKGMuZW5kcG9pbnQmJmMuZW5kcG9pbnQuaG9zdFByZWZpeCl7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmVhY2gobi5tZW1iZXJzLChmdW5jdGlvbihuLG8pe2lmKCEwPT09by5ob3N0TGFiZWwpe2lmKCJzdHJpbmciIT10eXBlb2YgdFtuXXx8IiI9PT10W25dKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHttZXNzYWdlOiJQYXJhbWV0ZXIgIituKyIgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZy4iLGNvZGU6IkludmFsaWRQYXJhbWV0ZXIifSk7dmFyIGk9bmV3IFJlZ0V4cCgiXFx7IituKyJcXH0iLCJnIik7ZT1lLnJlcGxhY2UoaSx0W25dKX19KSksZX0oYy5lbmRwb2ludC5ob3N0UHJlZml4LGUucGFyYW1zLGMuaW5wdXQpO2E9ZS5odHRwUmVxdWVzdC5lbmRwb2ludCxzPXUsYS5ob3N0JiYoYS5ob3N0PXMrYS5ob3N0KSxhLmhvc3RuYW1lJiYoYS5ob3N0bmFtZT1zK2EuaG9zdG5hbWUpLHQ9ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxuPXQuc3BsaXQoIi4iKSxpPS9eW2EtekEtWjAtOV17MX0kfF5bYS16QS1aMC05XVthLXpBLVowLTlcLV0qW2EtekEtWjAtOV0kLyxyLmFycmF5RWFjaChuLChmdW5jdGlvbihlKXtpZighZS5sZW5ndGh8fGUubGVuZ3RoPDF8fGUubGVuZ3RoPjYzKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6Ikhvc3RuYW1lIGxhYmVsIGxlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxIHRvIDYzIGNoYXJhY3RlcnMsIGluY2x1c2l2ZS4ifSk7aWYoIWkudGVzdChlKSl0aHJvdyBvLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6ZSsiIGlzIG5vdCBob3N0bmFtZSBjb21wYXRpYmxlLiJ9KX0pKX1yZXR1cm4gZX19fSx7Ii4uL2NvcmUiOjE5LCIuLi91dGlsIjo3NH1dLDQ4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vanNvbi9idWlsZGVyIiksaT1lKCIuLi9qc29uL3BhcnNlciIpLGE9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3Qsbj1lLnNlcnZpY2UuYXBpLHI9bi50YXJnZXRQcmVmaXgrIi4iK24ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0ubmFtZSxpPW4uanNvblZlcnNpb258fCIxLjAiLHM9bi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxjPW5ldyBvOzE9PT1pJiYoaT0iMS4wIiksbi5hd3NRdWVyeUNvbXBhdGlibGUmJih0LnBhcmFtc3x8KHQucGFyYW1zPXt9KSxPYmplY3QuYXNzaWduKHQucGFyYW1zLGUucGFyYW1zKSksdC5ib2R5PWMuYnVpbGQoZS5wYXJhbXN8fHt9LHMpLHQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtYW16LWpzb24tIitpLHQuaGVhZGVyc1siWC1BbXotVGFyZ2V0Il09cixhKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj1lLmh0dHBSZXNwb25zZTtpZih0LmNvZGU9bi5oZWFkZXJzWyJ4LWFtem4tZXJyb3J0eXBlIl18fCJVbmtub3duRXJyb3IiLCJzdHJpbmciPT10eXBlb2YgdC5jb2RlJiYodC5jb2RlPXQuY29kZS5zcGxpdCgiOiIpWzBdKSxuLmJvZHkubGVuZ3RoPjApdHJ5e3ZhciBvPUpTT04ucGFyc2Uobi5ib2R5LnRvU3RyaW5nKCkpLGk9by5fX3R5cGV8fG8uY29kZXx8by5Db2RlO2Zvcih2YXIgYSBpbiBpJiYodC5jb2RlPWkuc3BsaXQoIiMiKS5wb3AoKSksIlJlcXVlc3RFbnRpdHlUb29MYXJnZSI9PT10LmNvZGU/dC5tZXNzYWdlPSJSZXF1ZXN0IGJvZHkgbXVzdCBiZSBsZXNzIHRoYW4gMSBNQiI6dC5tZXNzYWdlPW8ubWVzc2FnZXx8by5NZXNzYWdlfHxudWxsLG98fHt9KSJjb2RlIiE9PWEmJiJtZXNzYWdlIiE9PWEmJih0WyJbIithKyJdIl09IlNlZSBlcnJvci4iK2ErIiBmb3IgZGV0YWlscy4iLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGEse3ZhbHVlOm9bYV0sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pKX1jYXRjaChvKXt0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c01lc3NhZ2V9ZWxzZSB0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c0NvZGUudG9TdHJpbmcoKTtlLmVycm9yPXIuZXJyb3IobmV3IEVycm9yLHQpfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCl8fCJ7fSI7aWYoITE9PT1lLnJlcXVlc3Quc2VydmljZS5jb25maWcuY29udmVydFJlc3BvbnNlVHlwZXMpZS5kYXRhPUpTT04ucGFyc2UodCk7ZWxzZXt2YXIgbj1lLnJlcXVlc3Quc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLnJlcXVlc3Qub3BlcmF0aW9uXS5vdXRwdXR8fHt9LHI9bmV3IGk7ZS5kYXRhPXIucGFyc2UodCxuKX19fX0seyIuLi9qc29uL2J1aWxkZXIiOjM3LCIuLi9qc29uL3BhcnNlciI6MzgsIi4uL3V0aWwiOjc0LCIuL2hlbHBlcnMiOjQ3fV0sNDk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi91dGlsIiksaT1lKCIuLi9xdWVyeS9xdWVyeV9wYXJhbV9zZXJpYWxpemVyIiksYT1lKCIuLi9tb2RlbC9zaGFwZSIpLHM9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj1lLmh0dHBSZXF1ZXN0O24uaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCIsbi5wYXJhbXM9e1ZlcnNpb246ZS5zZXJ2aWNlLmFwaS5hcGlWZXJzaW9uLEFjdGlvbjp0Lm5hbWV9LChuZXcgaSkuc2VyaWFsaXplKGUucGFyYW1zLHQuaW5wdXQsKGZ1bmN0aW9uKGUsdCl7bi5wYXJhbXNbZV09dH0pKSxuLmJvZHk9by5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxzKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCk7aWYobi5tYXRjaCgiPFVua25vd25PcGVyYXRpb25FeGNlcHRpb24iKSl0PXtDb2RlOiJVbmtub3duT3BlcmF0aW9uIixNZXNzYWdlOiJVbmtub3duIG9wZXJhdGlvbiAiK2UucmVxdWVzdC5vcGVyYXRpb259O2Vsc2UgdHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKG4pfWNhdGNoKG4pe3Q9e0NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxNZXNzYWdlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2V9fXQucmVxdWVzdElkJiYhZS5yZXF1ZXN0SWQmJihlLnJlcXVlc3RJZD10LnJlcXVlc3RJZCksdC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fSxpPW47aWYoaS5yZXN1bHRXcmFwcGVyKXt2YXIgcz1hLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0pO3MubWVtYmVyc1tpLnJlc3VsdFdyYXBwZXJdPW4scy5tZW1iZXJOYW1lcz1baS5yZXN1bHRXcmFwcGVyXSxvLnByb3BlcnR5KG4sIm5hbWUiLG4ucmVzdWx0V3JhcHBlciksbj1zfXZhciBjPW5ldyByLlhNTC5QYXJzZXI7aWYobiYmbi5tZW1iZXJzJiYhbi5tZW1iZXJzLl9YQU1aUmVxdWVzdElkKXt2YXIgdT1hLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0se2FwaTp7cHJvdG9jb2w6InF1ZXJ5In19LCJyZXF1ZXN0SWQiKTtuLm1lbWJlcnMuX1hBTVpSZXF1ZXN0SWQ9dX12YXIgbD1jLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSxuKTtlLnJlcXVlc3RJZD1sLl9YQU1aUmVxdWVzdElkfHxsLnJlcXVlc3RJZCxsLl9YQU1aUmVxdWVzdElkJiZkZWxldGUgbC5fWEFNWlJlcXVlc3RJZCxpLnJlc3VsdFdyYXBwZXImJmxbaS5yZXN1bHRXcmFwcGVyXSYmKG8udXBkYXRlKGwsbFtpLnJlc3VsdFdyYXBwZXJdKSxkZWxldGUgbFtpLnJlc3VsdFdyYXBwZXJdKSxlLmRhdGE9bH19fSx7Ii4uL2NvcmUiOjE5LCIuLi9tb2RlbC9zaGFwZSI6NDUsIi4uL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXIiOjUzLCIuLi91dGlsIjo3NCwiLi9oZWxwZXJzIjo0N31dLDUwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O2Z1bmN0aW9uIGkoZSx0LG4sbyl7dmFyIGk9W2UsdF0uam9pbigiLyIpO2k9aS5yZXBsYWNlKC9cLysvZywiLyIpO3ZhciBhPXt9LHM9ITE7aWYoci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgbj1vW2VdO2lmKG51bGwhPW4paWYoInVyaSI9PT10LmxvY2F0aW9uKXt2YXIgYz1uZXcgUmVnRXhwKCJcXHsiK3QubmFtZSsiKFxcKyk/XFx9Iik7aT1pLnJlcGxhY2UoYywoZnVuY3Rpb24oZSx0KXtyZXR1cm4odD9yLnVyaUVzY2FwZVBhdGg6ci51cmlFc2NhcGUpKFN0cmluZyhuKSl9KSl9ZWxzZSJxdWVyeXN0cmluZyI9PT10LmxvY2F0aW9uJiYocz0hMCwibGlzdCI9PT10LnR5cGU/YVt0Lm5hbWVdPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci51cmlFc2NhcGUodC5tZW1iZXIudG9XaXJlRm9ybWF0KGUpLnRvU3RyaW5nKCkpfSkpOiJtYXAiPT09dC50eXBlP3IuZWFjaChuLChmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/YVtlXT10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIudXJpRXNjYXBlKFN0cmluZyhlKSl9KSk6YVtlXT1yLnVyaUVzY2FwZShTdHJpbmcodCkpfSkpOmFbdC5uYW1lXT1yLnVyaUVzY2FwZSh0LnRvV2lyZUZvcm1hdChuKS50b1N0cmluZygpKSl9KSkscyl7aSs9aS5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt2YXIgYz1bXTtyLmFycmF5RWFjaChPYmplY3Qua2V5cyhhKS5zb3J0KCksKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoYVtlXSl8fChhW2VdPVthW2VdXSk7Zm9yKHZhciB0PTA7dDxhW2VdLmxlbmd0aDt0KyspYy5wdXNoKHIudXJpRXNjYXBlKFN0cmluZyhlKSkrIj0iK2FbZV1bdF0pfSkpLGkrPWMuam9pbigiJiIpfXJldHVybiBpfXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmh0dHBNZXRob2R9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj10LmlucHV0LHI9aShlLmh0dHBSZXF1ZXN0LmVuZHBvaW50LnBhdGgsdC5odHRwUGF0aCxuLGUucGFyYW1zKTtlLmh0dHBSZXF1ZXN0LnBhdGg9cn0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtyLmVhY2godC5pbnB1dC5tZW1iZXJzLChmdW5jdGlvbih0LG4pe3ZhciBvPWUucGFyYW1zW3RdO251bGwhPW8mJigiaGVhZGVycyI9PT1uLmxvY2F0aW9uJiYibWFwIj09PW4udHlwZT9yLmVhY2gobywoZnVuY3Rpb24odCxyKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbbi5uYW1lK3RdPXJ9KSk6ImhlYWRlciI9PT1uLmxvY2F0aW9uJiYobz1uLnRvV2lyZUZvcm1hdChvKS50b1N0cmluZygpLG4uaXNKc29uVmFsdWUmJihvPXIuYmFzZTY0LmVuY29kZShvKSksZS5odHRwUmVxdWVzdC5oZWFkZXJzW24ubmFtZV09bykpfSkpfShlKSxvKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oKXt9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt9LG89ZS5odHRwUmVzcG9uc2UsaT10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLm91dHB1dCxhPXt9O3IuZWFjaChvLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7YVtlLnRvTG93ZXJDYXNlKCldPXR9KSksci5lYWNoKGkubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgaT0odC5uYW1lfHxlKS50b0xvd2VyQ2FzZSgpO2lmKCJoZWFkZXJzIj09PXQubG9jYXRpb24mJiJtYXAiPT09dC50eXBlKXtuW2VdPXt9O3ZhciBzPXQuaXNMb2NhdGlvbk5hbWU/dC5uYW1lOiIiLGM9bmV3IFJlZ0V4cCgiXiIrcysiKC4rKSIsImkiKTtyLmVhY2goby5oZWFkZXJzLChmdW5jdGlvbih0LHIpe3ZhciBvPXQubWF0Y2goYyk7bnVsbCE9PW8mJihuW2VdW29bMV1dPXIpfSkpfWVsc2UgaWYoImhlYWRlciI9PT10LmxvY2F0aW9uKXtpZih2b2lkIDAhPT1hW2ldKXt2YXIgdT10LmlzSnNvblZhbHVlP3IuYmFzZTY0LmRlY29kZShhW2ldKTphW2ldO25bZV09dC50b1R5cGUodSl9fWVsc2Uic3RhdHVzQ29kZSI9PT10LmxvY2F0aW9uJiYobltlXT1wYXJzZUludChvLnN0YXR1c0NvZGUsMTApKX0pKSxlLmRhdGE9bn0sZ2VuZXJhdGVVUkk6aX19LHsiLi4vdXRpbCI6NzQsIi4vaGVscGVycyI6NDd9XSw1MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4vcmVzdCIpLGk9ZSgiLi9qc29uIiksYT1lKCIuLi9qc29uL2J1aWxkZXIiKSxzPWUoIi4uL2pzb24vcGFyc2VyIiksYz1bIkdFVCIsIkhFQUQiLCJERUxFVEUiXTtmdW5jdGlvbiB1KGUsdCl7aWYoIWUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl0pe3ZhciBuPXQ/ImJpbmFyeS9vY3RldC1zdHJlYW0iOiJhcHBsaWNhdGlvbi9qc29uIjtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPW59fXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe28uYnVpbGRSZXF1ZXN0KGUpLGMuaW5kZXhPZihlLmh0dHBSZXF1ZXN0Lm1ldGhvZCk8MCYmZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEsbj1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0O2lmKG4ucGF5bG9hZCl7dmFyIHIsbz1uLm1lbWJlcnNbbi5wYXlsb2FkXTtyPWUucGFyYW1zW24ucGF5bG9hZF0sInN0cnVjdHVyZSI9PT1vLnR5cGU/KGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKHJ8fHt9LG8pLHUoZSkpOnZvaWQgMCE9PXImJihlLmh0dHBSZXF1ZXN0LmJvZHk9ciwoImJpbmFyeSI9PT1vLnR5cGV8fG8uaXNTdHJlYW1pbmcpJiZ1KGUsITApKX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKGUucGFyYW1zLG4pLHUoZSl9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7aS5leHRyYWN0RXJyb3IoZSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe28uZXh0cmFjdERhdGEoZSk7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXSxhPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fTtpZihuLmhhc0V2ZW50T3V0cHV0LGEucGF5bG9hZCl7dmFyIGM9YS5tZW1iZXJzW2EucGF5bG9hZF0sdT1lLmh0dHBSZXNwb25zZS5ib2R5O2lmKGMuaXNFdmVudFN0cmVhbSlsPW5ldyBzLGUuZGF0YVtwYXlsb2FkXT1yLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1BV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9lLmh0dHBSZXNwb25zZS5zdHJlYW06dSxsLGMpO2Vsc2UgaWYoInN0cnVjdHVyZSI9PT1jLnR5cGV8fCJsaXN0Ij09PWMudHlwZSl7dmFyIGw9bmV3IHM7ZS5kYXRhW2EucGF5bG9hZF09bC5wYXJzZSh1LGMpfWVsc2UiYmluYXJ5Ij09PWMudHlwZXx8Yy5pc1N0cmVhbWluZz9lLmRhdGFbYS5wYXlsb2FkXT11OmUuZGF0YVthLnBheWxvYWRdPWMudG9UeXBlKHUpfWVsc2V7dmFyIHA9ZS5kYXRhO2kuZXh0cmFjdERhdGEoZSksZS5kYXRhPXIubWVyZ2UocCxlLmRhdGEpfX0sdW5zZXRDb250ZW50TGVuZ3RoOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PXIuZ2V0UmVxdWVzdFBheWxvYWRTaGFwZShlKSYmYy5pbmRleE9mKGUuaHR0cFJlcXVlc3QubWV0aG9kKT49MCYmZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXX19fSx7Ii4uL2pzb24vYnVpbGRlciI6MzcsIi4uL2pzb24vcGFyc2VyIjozOCwiLi4vdXRpbCI6NzQsIi4vanNvbiI6NDgsIi4vcmVzdCI6NTB9XSw1MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uL3V0aWwiKSxpPWUoIi4vcmVzdCIpO3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe2kuYnVpbGRSZXF1ZXN0KGUpLFsiR0VUIiwiSEVBRCJdLmluZGV4T2YoZS5odHRwUmVxdWVzdC5tZXRob2QpPDAmJmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQsbj1uZXcgci5YTUwuQnVpbGRlcixpPWUucGFyYW1zLGE9dC5wYXlsb2FkO2lmKGEpe3ZhciBzPXQubWVtYmVyc1thXTtpZih2b2lkIDA9PT0oaT1pW2FdKSlyZXR1cm47aWYoInN0cnVjdHVyZSI9PT1zLnR5cGUpe3ZhciBjPXMubmFtZTtlLmh0dHBSZXF1ZXN0LmJvZHk9bi50b1hNTChpLHMsYywhMCl9ZWxzZSBlLmh0dHBSZXF1ZXN0LmJvZHk9aX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT1uLnRvWE1MKGksdCx0Lm5hbWV8fHQuc2hhcGV8fG8uc3RyaW5nLnVwcGVyRmlyc3QoZS5vcGVyYXRpb24pKyJSZXF1ZXN0Iil9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ7aS5leHRyYWN0RXJyb3IoZSk7dHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSl9Y2F0Y2gobil7dD17Q29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLE1lc3NhZ2U6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX19dC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0O2kuZXh0cmFjdERhdGEoZSk7dmFyIG49ZS5yZXF1ZXN0LGE9ZS5odHRwUmVzcG9uc2UuYm9keSxzPW4uc2VydmljZS5hcGkub3BlcmF0aW9uc1tuLm9wZXJhdGlvbl0sYz1zLm91dHB1dCx1PShzLmhhc0V2ZW50T3V0cHV0LGMucGF5bG9hZCk7aWYodSl7dmFyIGw9Yy5tZW1iZXJzW3VdO2wuaXNFdmVudFN0cmVhbT8odD1uZXcgci5YTUwuUGFyc2VyLGUuZGF0YVt1XT1vLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1yLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/ZS5odHRwUmVzcG9uc2Uuc3RyZWFtOmUuaHR0cFJlc3BvbnNlLmJvZHksdCxsKSk6InN0cnVjdHVyZSI9PT1sLnR5cGU/KHQ9bmV3IHIuWE1MLlBhcnNlcixlLmRhdGFbdV09dC5wYXJzZShhLnRvU3RyaW5nKCksbCkpOiJiaW5hcnkiPT09bC50eXBlfHxsLmlzU3RyZWFtaW5nP2UuZGF0YVt1XT1hOmUuZGF0YVt1XT1sLnRvVHlwZShhKX1lbHNlIGlmKGEubGVuZ3RoPjApe3ZhciBwPSh0PW5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGEudG9TdHJpbmcoKSxjKTtvLnVwZGF0ZShlLmRhdGEscCl9fX19LHsiLi4vY29yZSI6MTksIi4uL3V0aWwiOjc0LCIuL3Jlc3QiOjUwfV0sNTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUpe3JldHVybiBlLmlzUXVlcnlOYW1lfHwiZWMyIiE9PWUuYXBpLnByb3RvY29sP2UubmFtZTplLm5hbWVbMF0udG9VcHBlckNhc2UoKStlLm5hbWUuc3Vic3RyKDEpfWZ1bmN0aW9uIGEoZSx0LG4sbyl7ci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24obixyKXt2YXIgYT10W25dO2lmKG51bGwhPWEpe3ZhciBjPWkocik7cyhjPWU/ZSsiLiIrYzpjLGEscixvKX19KSl9ZnVuY3Rpb24gcyhlLHQsbixvKXtudWxsIT10JiYoInN0cnVjdHVyZSI9PT1uLnR5cGU/YShlLHQsbixvKToibGlzdCI9PT1uLnR5cGU/ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGE9bi5tZW1iZXJ8fHt9OzAhPT10Lmxlbmd0aD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPSIuIisocisxKTtpZigiZWMyIj09PW4uYXBpLnByb3RvY29sKWMrPSIiO2Vsc2UgaWYobi5mbGF0dGVuZWQpe2lmKGEubmFtZSl7dmFyIHU9ZS5zcGxpdCgiLiIpO3UucG9wKCksdS5wdXNoKGkoYSkpLGU9dS5qb2luKCIuIil9fWVsc2UgYz0iLiIrKGEubmFtZT9hLm5hbWU6Im1lbWJlciIpK2M7cyhlK2MsdCxhLG8pfSkpOm8uY2FsbCh0aGlzLGUsbnVsbCl9KGUsdCxuLG8pOiJtYXAiPT09bi50eXBlP2Z1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPTE7ci5lYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIGE9KG4uZmxhdHRlbmVkPyIuIjoiLmVudHJ5LiIpK2krKysiLiIsYz1hKyhuLmtleS5uYW1lfHwia2V5IiksdT1hKyhuLnZhbHVlLm5hbWV8fCJ2YWx1ZSIpO3MoZStjLHQsbi5rZXksbykscyhlK3UscixuLnZhbHVlLG8pfSkpfShlLHQsbixvKTpvKGUsbi50b1dpcmVGb3JtYXQodCkudG9TdHJpbmcoKSkpfW8ucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbihlLHQsbil7YSgiIixlLHQsbil9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e25vdzpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgcGVyZm9ybWFuY2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2lzRmlwc1JlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlLnN0YXJ0c1dpdGgoImZpcHMtIil8fGUuZW5kc1dpdGgoIi1maXBzIikpfSxpc0dsb2JhbFJlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJlsiYXdzLWdsb2JhbCIsImF3cy11cy1nb3YtZ2xvYmFsIl0uaW5jbHVkZXMoZSl9LGdldFJlYWxSZWdpb246ZnVuY3Rpb24oZSl7cmV0dXJuWyJmaXBzLWF3cy1nbG9iYWwiLCJhd3MtZmlwcyIsImF3cy1nbG9iYWwiXS5pbmNsdWRlcyhlKT8idXMtZWFzdC0xIjpbImZpcHMtYXdzLXVzLWdvdi1nbG9iYWwiLCJhd3MtdXMtZ292LWdsb2JhbCJdLmluY2x1ZGVzKGUpPyJ1cy1nb3Ytd2VzdC0xIjplLnJlcGxhY2UoL2ZpcHMtKGRrci18cHJvZC0pP3wtZmlwcy8sIiIpfX19LHt9XSw1NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vdXRpbCIpLG89ZSgiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiIpO2Z1bmN0aW9uIGkoZSx0KXtyLmVhY2godCwoZnVuY3Rpb24odCxuKXsiZ2xvYmFsRW5kcG9pbnQiIT09dCYmKHZvaWQgMCE9PWUuY29uZmlnW3RdJiZudWxsIT09ZS5jb25maWdbdF18fChlLmNvbmZpZ1t0XT1uKSl9KSl9dC5leHBvcnRzPXtjb25maWd1cmVFbmRwb2ludDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWcucmVnaW9uLG49ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5zcGxpdCgiLSIpO3JldHVybiB0Lmxlbmd0aDwzP251bGw6dC5zbGljZSgwLHQubGVuZ3RoLTIpLmpvaW4oIi0iKSsiLSoifSh0KSxyPWUuYXBpLmVuZHBvaW50UHJlZml4O3JldHVybltbdCxyXSxbbixyXSxbdCwiKiJdLFtuLCIqIl0sWyIqIixyXSxbdCwiaW50ZXJuYWwtKiJdLFsiKiIsIioiXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXT9lLmpvaW4oIi8iKTpudWxsfSkpfShlKSxuPWUuY29uZmlnLnVzZUZpcHNFbmRwb2ludCxyPWUuY29uZmlnLnVzZUR1YWxzdGFja0VuZHBvaW50LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtpZihzKXt2YXIgYz1uP3I/by5kdWFsc3RhY2tGaXBzUnVsZXM6by5maXBzUnVsZXM6cj9vLmR1YWxzdGFja1J1bGVzOm8ucnVsZXM7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMscykpe3ZhciB1PWNbc107InN0cmluZyI9PXR5cGVvZiB1JiYodT1vLnBhdHRlcm5zW3VdKSxlLmlzR2xvYmFsRW5kcG9pbnQ9ISF1Lmdsb2JhbEVuZHBvaW50LHUuc2lnbmluZ1JlZ2lvbiYmKGUuc2lnbmluZ1JlZ2lvbj11LnNpZ25pbmdSZWdpb24pLHUuc2lnbmF0dXJlVmVyc2lvbnx8KHUuc2lnbmF0dXJlVmVyc2lvbj0idjQiKTt2YXIgbD0iYmVhcmVyIj09PShlLmFwaSYmZS5hcGkuc2lnbmF0dXJlVmVyc2lvbik7cmV0dXJuIHZvaWQgaShlLE9iamVjdC5hc3NpZ24oe30sdSx7c2lnbmF0dXJlVmVyc2lvbjpsPyJiZWFyZXIiOnUuc2lnbmF0dXJlVmVyc2lvbn0pKX19fX0sZ2V0RW5kcG9pbnRTdWZmaXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXsiXih1c3xldXxhcHxzYXxjYXxtZSlcXC1cXHcrXFwtXFxkKyQiOiJhbWF6b25hd3MuY29tIiwiXmNuXFwtXFx3K1xcLVxcZCskIjoiYW1hem9uYXdzLmNvbS5jbiIsIl51c1xcLWdvdlxcLVxcdytcXC1cXGQrJCI6ImFtYXpvbmF3cy5jb20iLCJedXNcXC1pc29cXC1cXHcrXFwtXFxkKyQiOiJjMnMuaWMuZ292IiwiXnVzXFwtaXNvYlxcLVxcdytcXC1cXGQrJCI6InNjMnMuc2dvdi5nb3YifSxuPU9iamVjdC5rZXlzKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89UmVnRXhwKG5bcl0pLGk9dFtuW3JdXTtpZihvLnRlc3QoZSkpcmV0dXJuIGl9cmV0dXJuImFtYXpvbmF3cy5jb20ifX19LHsiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiI6NTcsIi4vdXRpbCI6NzR9XSw1NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sImV1LWlzb2UtKi8qIjoiZXVJc29lIiwidXMtaXNvLSovKiI6InVzSXNvIiwidXMtaXNvYi0qLyoiOiJ1c0lzb2IiLCIqL2J1ZGdldHMiOiJnbG9iYWxTU0wiLCIqL2Nsb3VkZnJvbnQiOiJnbG9iYWxTU0wiLCIqL3N0cyI6Imdsb2JhbFNTTCIsIiovaW1wb3J0ZXhwb3J0Ijp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiIsZ2xvYmFsRW5kcG9pbnQ6ITB9LCIqL3JvdXRlNTMiOiJnbG9iYWxTU0wiLCJjbi0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20uY24iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246ImNuLW5vcnRod2VzdC0xIn0sInVzLWdvdi0qL3JvdXRlNTMiOiJnbG9iYWxHb3ZDbG91ZCIsInVzLWlzby0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LmMycy5pYy5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzby1lYXN0LTEifSwidXMtaXNvYi0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LnNjMnMuc2dvdi5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzb2ItZWFzdC0xIn0sIiovd2FmIjoiZ2xvYmFsU1NMIiwiKi9pYW0iOiJnbG9iYWxTU0wiLCJjbi0qL2lhbSI6e2VuZHBvaW50OiJ7c2VydmljZX0uY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aC0xIn0sInVzLWlzby0qL2lhbSI6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtaXNvLWVhc3QtMS5jMnMuaWMuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc28tZWFzdC0xIn0sInVzLWdvdi0qL2lhbSI6Imdsb2JhbEdvdkNsb3VkIiwiKi9jZSI6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtZWFzdC0xLmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWVhc3QtMSJ9LCJjbi0qL2NlIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5jbi1ub3J0aHdlc3QtMS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aHdlc3QtMSJ9LCJ1cy1nb3YtKi9zdHMiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwidXMtZ292LXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtd2VzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy13ZXN0LTIvczMiOiJzM3NpZ25hdHVyZSIsImV1LXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwiYXAtc291dGhlYXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsImFwLXNvdXRoZWFzdC0yL3MzIjoiczNzaWduYXR1cmUiLCJhcC1ub3J0aGVhc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwic2EtZWFzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy1lYXN0LTEvczMiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InMzIn0sInVzLWVhc3QtMS9zZGIiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InYyIn0sIiovc2RiIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiJ9LCIqL3Jlc291cmNlLWV4cGxvcmVyLTIiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2tlbmRyYS1yYW5raW5nIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9pbnRlcm5ldG1vbml0b3IiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2NvZGVjYXRhbHlzdCI6Imdsb2JhbER1YWxzdGFja0J5RGVmYXVsdCJ9LGZpcHNSdWxlczp7IiovKiI6ImZpcHNTdGFuZGFyZCIsInVzLWdvdi0qLyoiOiJmaXBzU3RhbmRhcmQiLCJ1cy1pc28tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmMycy5pYy5nb3YifSwidXMtaXNvLSovZG1zIjoidXNJc28iLCJ1cy1pc29iLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5zYzJzLnNnb3YuZ292In0sInVzLWlzb2ItKi9kbXMiOiJ1c0lzb2IiLCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LCIqL2FwaS5lY3IiOiJmaXBzLmFwaS5lY3IiLCIqL2FwaS5zYWdlbWFrZXIiOiJmaXBzLmFwaS5zYWdlbWFrZXIiLCIqL2JhdGNoIjoiZmlwc0RvdFByZWZpeCIsIiovZWtzIjoiZmlwc0RvdFByZWZpeCIsIiovbW9kZWxzLmxleCI6ImZpcHMubW9kZWxzLmxleCIsIiovcnVudGltZS5sZXgiOiJmaXBzLnJ1bnRpbWUubGV4IiwiKi9ydW50aW1lLnNhZ2VtYWtlciI6e2VuZHBvaW50OiJydW50aW1lLWZpcHMuc2FnZW1ha2VyLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiKi9pYW0iOiJmaXBzV2l0aG91dFJlZ2lvbiIsIiovcm91dGU1MyI6ImZpcHNXaXRob3V0UmVnaW9uIiwiKi90cmFuc2NyaWJlIjoiZmlwc0RvdFByZWZpeCIsIiovd2FmIjoiZmlwc1dpdGhvdXRSZWdpb24iLCJ1cy1nb3YtKi90cmFuc2NyaWJlIjoiZmlwc0RvdFByZWZpeCIsInVzLWdvdi0qL2FwaS5lY3IiOiJmaXBzLmFwaS5lY3IiLCJ1cy1nb3YtKi9tb2RlbHMubGV4IjoiZmlwcy5tb2RlbHMubGV4IiwidXMtZ292LSovcnVudGltZS5sZXgiOiJmaXBzLnJ1bnRpbWUubGV4IiwidXMtZ292LSovYWNjZXNzLWFuYWx5emVyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FjbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hY20tcGNhIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwaS5zYWdlbWFrZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXBwY29uZmlnIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwcGxpY2F0aW9uLWF1dG9zY2FsaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2F1dG9zY2FsaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2F1dG9zY2FsaW5nLXBsYW5zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2JhdGNoIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nhc3NhbmRyYSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZGRpcmVjdG9yeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZGZvcm1hdGlvbiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZHNoZWxsIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3VkdHJhaWwiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY29uZmlnIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nvbm5lY3QiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZGF0YWJyZXciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZGxtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2RtcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9keW5hbW9kYiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lYzIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWtzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNhY2hlIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNiZWFuc3RhbGsiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY2xvYWRiYWxhbmNpbmciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY21hcHJlZHVjZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ldmVudHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZmlzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2dsYWNpZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZ3JlZW5ncmFzcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ndWFyZGR1dHkiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovaWRlbnRpdHlzdG9yZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9pbWFnZWJ1aWxkZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSova2Fma2EiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSova2luZXNpcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9sb2dzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL21lZGlhY29udmVydCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9tb25pdG9yaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL25ldHdvcmttYW5hZ2VyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL29yZ2FuaXphdGlvbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovb3V0cG9zdHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcGFydGljaXBhbnQuY29ubmVjdCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9yYW0iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcmRzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3JlZHNoaWZ0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3Jlc291cmNlLWdyb3VwcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ydW50aW1lLnNhZ2VtYWtlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2ZXJsZXNzcmVwbyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlY2F0YWxvZy1hcHByZWdpc3RyeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlcXVvdGFzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zcXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3NtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N0cmVhbXMuZHluYW1vZGIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3RzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N1cHBvcnQiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3dmIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi13ZXN0LTEvc3RhdGVzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWlzby1lYXN0LTEvZWxhc3RpY2ZpbGVzeXN0ZW0iOntlbmRwb2ludDoiZWxhc3RpY2ZpbGVzeXN0ZW0tZmlwcy57cmVnaW9ufS5jMnMuaWMuZ292In0sInVzLWdvdi13ZXN0LTEvb3JnYW5pemF0aW9ucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3Ytd2VzdC0xL3JvdXRlNTMiOntlbmRwb2ludDoicm91dGU1My51cy1nb3YuYW1hem9uYXdzLmNvbSJ9LCIqL3Jlc291cmNlLWV4cGxvcmVyLTIiOiJmaXBzRHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9rZW5kcmEtcmFua2luZyI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovaW50ZXJuZXRtb25pdG9yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9jb2RlY2F0YWx5c3QiOiJmaXBzR2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0In0sZHVhbHN0YWNrUnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFwaS5hd3MifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYW1hem9ud2Vic2VydmljZXMuY29tLmNuIn0sIiovczMiOiJkdWFsc3RhY2tMZWdhY3kiLCJjbi0qL3MzIjoiZHVhbHN0YWNrTGVnYWN5Q24iLCIqL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tMZWdhY3kiLCJjbi0qL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tMZWdhY3lDbiIsImFwLXNvdXRoLTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwiZXUtd2VzdC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInNhLWVhc3QtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJ1cy1lYXN0LTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwidXMtZWFzdC0yL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInVzLXdlc3QtMi9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIifSxkdWFsc3RhY2tGaXBzUnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmF3cyJ9LCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmFtYXpvbndlYnNlcnZpY2VzLmNvbS5jbiJ9LCIqL3MzIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeSIsImNuLSovczMiOiJkdWFsc3RhY2tGaXBzTGVnYWN5Q24iLCIqL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tGaXBzTGVnYWN5IiwiY24tKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeUNuIn0scGF0dGVybnM6e2dsb2JhbFNTTDp7ZW5kcG9pbnQ6Imh0dHBzOi8ve3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWVhc3QtMSJ9LGdsb2JhbEdvdkNsb3VkOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWdvdi5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1nb3Ytd2VzdC0xIn0sczNzaWduYXR1cmU6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoiczMifSxldUlzb2U6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uY2xvdWQuYWRjLWUudWsifSx1c0lzbzp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5jMnMuaWMuZ292In0sdXNJc29iOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LnNjMnMuc2dvdi5nb3YifSxmaXBzU3RhbmRhcmQ6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZmlwc0RvdFByZWZpeDp7ZW5kcG9pbnQ6ImZpcHMue3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxmaXBzV2l0aG91dFJlZ2lvbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmFtYXpvbmF3cy5jb20ifSwiZmlwcy5hcGkuZWNyIjp7ZW5kcG9pbnQ6ImVjci1maXBzLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiZmlwcy5hcGkuc2FnZW1ha2VyIjp7ZW5kcG9pbnQ6ImFwaS1maXBzLnNhZ2VtYWtlci57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImZpcHMubW9kZWxzLmxleCI6e2VuZHBvaW50OiJtb2RlbHMtZmlwcy5sZXgue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJmaXBzLnJ1bnRpbWUubGV4Ijp7ZW5kcG9pbnQ6InJ1bnRpbWUtZmlwcy5sZXgue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGZpcHNXaXRoU2VydmljZU9ubHk6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0xlZ2FjeTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0xlZ2FjeUNuOntlbmRwb2ludDoie3NlcnZpY2V9LmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sZHVhbHN0YWNrRmlwc0xlZ2FjeTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZHVhbHN0YWNrRmlwc0xlZ2FjeUNuOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSxkdWFsc3RhY2tMZWdhY3lFYzI6e2VuZHBvaW50OiJhcGkuZWMyLntyZWdpb259LmF3cyJ9LGR1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYXdzIn0sZmlwc0R1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hd3MifSxnbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0uZ2xvYmFsLmFwaS5hd3MifSxmaXBzR2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZ2xvYmFsLmFwaS5hd3MifX19fSx7fV0sNTg6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi9jb3JlIikscj1lKCIuL3N0YXRlX21hY2hpbmUiKSxvPW4udXRpbC5pbmhlcml0LGk9bi51dGlsLmRvbWFpbixhPWUoImptZXNwYXRoIikscz17c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0sYz1uZXcgcjtjLnNldHVwU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO24uX2hhbHRIYW5kbGVyc09uRXJyb3I9ITEsbi5lbWl0KG4uX2FzbS5jdXJyZW50U3RhdGUsKGZ1bmN0aW9uKGUpe2lmKGUpaWYocj1uLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHIuX2FzbS5jdXJyZW50U3RhdGUpKXtpZighKGkmJm4uZG9tYWluIGluc3RhbmNlb2YgaS5Eb21haW4pKXRocm93IGU7ZS5kb21haW5FbWl0dGVyPW4sZS5kb21haW49bi5kb21haW4sZS5kb21haW5UaHJvd249ITEsbi5kb21haW4uZW1pdCgiZXJyb3IiLGUpfWVsc2Ugbi5yZXNwb25zZS5lcnJvcj1lLHQoZSk7ZWxzZSB0KG4ucmVzcG9uc2UuZXJyb3IpO3ZhciByfSkpfTt0aGlzLmFkZFN0YXRlKCJ2YWxpZGF0ZSIsImJ1aWxkIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoImJ1aWxkIiwiYWZ0ZXJCdWlsZCIsInJlc3RhcnQiLGUpLHRoaXMuYWRkU3RhdGUoImFmdGVyQnVpbGQiLCJzaWduIiwicmVzdGFydCIsZSksdGhpcy5hZGRTdGF0ZSgic2lnbiIsInNlbmQiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgicmV0cnkiLCJhZnRlclJldHJ5IiwiYWZ0ZXJSZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgiYWZ0ZXJSZXRyeSIsInNpZ24iLCJlcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgic2VuZCIsInZhbGlkYXRlUmVzcG9uc2UiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgidmFsaWRhdGVSZXNwb25zZSIsImV4dHJhY3REYXRhIiwiZXh0cmFjdEVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJleHRyYWN0RXJyb3IiLCJleHRyYWN0RGF0YSIsInJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJleHRyYWN0RGF0YSIsInN1Y2Nlc3MiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgicmVzdGFydCIsImJ1aWxkIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoInN1Y2Nlc3MiLCJjb21wbGV0ZSIsImNvbXBsZXRlIixlKSx0aGlzLmFkZFN0YXRlKCJlcnJvciIsImNvbXBsZXRlIiwiY29tcGxldGUiLGUpLHRoaXMuYWRkU3RhdGUoImNvbXBsZXRlIixudWxsLG51bGwsZSl9LGMuc2V0dXBTdGF0ZXMoKSxuLlJlcXVlc3Q9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG8pe3ZhciBhPWUuZW5kcG9pbnQscz1lLmNvbmZpZy5yZWdpb24sdT1lLmNvbmZpZy5jdXN0b21Vc2VyQWdlbnQ7ZS5zaWduaW5nUmVnaW9uP3M9ZS5zaWduaW5nUmVnaW9uOmUuaXNHbG9iYWxFbmRwb2ludCYmKHM9InVzLWVhc3QtMSIpLHRoaXMuZG9tYWluPWkmJmkuYWN0aXZlLHRoaXMuc2VydmljZT1lLHRoaXMub3BlcmF0aW9uPXQsdGhpcy5wYXJhbXM9b3x8e30sdGhpcy5odHRwUmVxdWVzdD1uZXcgbi5IdHRwUmVxdWVzdChhLHMpLHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQodSksdGhpcy5zdGFydFRpbWU9ZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLHRoaXMucmVzcG9uc2U9bmV3IG4uUmVzcG9uc2UodGhpcyksdGhpcy5fYXNtPW5ldyByKGMuc3RhdGVzLCJ2YWxpZGF0ZSIpLHRoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3I9ITEsbi5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzKSx0aGlzLmVtaXQ9dGhpcy5lbWl0RXZlbnR9LHNlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCJjYWxsYmFjayIpLHRoaXMub24oImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7ZS5jYWxsKHQsdC5lcnJvcix0LmRhdGEpfSkpKSx0aGlzLnJ1blRvKCksdGhpcy5yZXNwb25zZX0sYnVpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVuVG8oInNlbmQiLGUpfSxydW5UbzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9hc20ucnVuVG8oZSx0LHRoaXMpLHRoaXN9LGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJ2YWxpZGF0ZVJlc3BvbnNlIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoImV4dHJhY3RFcnJvciIpLHRoaXMub24oInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbihlKXtlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3IoIlJlcXVlc3QgYWJvcnRlZCBieSB1c2VyIikse2NvZGU6IlJlcXVlc3RBYm9ydGVkRXJyb3IiLHJldHJ5YWJsZTohMX0pfSkpLHRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtJiYhdGhpcy5odHRwUmVxdWVzdC5zdHJlYW0uZGlkQ2FsbGJhY2smJih0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbS5hYm9ydCgpLHRoaXMuaHR0cFJlcXVlc3QuX2Fib3J0Q2FsbGJhY2s/dGhpcy5odHRwUmVxdWVzdC5fYWJvcnRDYWxsYmFjaygpOnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJzZW5kIikpLHRoaXN9LGVhY2hQYWdlOmZ1bmN0aW9uKGUpe2U9bi51dGlsLmZuLm1ha2VBc3luYyhlLDMpLHRoaXMub24oImNvbXBsZXRlIiwoZnVuY3Rpb24gdChyKXtlLmNhbGwocixyLmVycm9yLHIuZGF0YSwoZnVuY3Rpb24obyl7ITEhPT1vJiYoci5oYXNOZXh0UGFnZSgpP3IubmV4dFBhZ2UoKS5vbigiY29tcGxldGUiLHQpLnNlbmQoKTplLmNhbGwocixudWxsLG51bGwsbi51dGlsLmZuLm5vb3ApKX0pKX0pKS5zZW5kKCl9LGVhY2hJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5lYWNoUGFnZSgoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlKHIsbnVsbCk7aWYobnVsbD09PW8pcmV0dXJuIGUobnVsbCxudWxsKTt2YXIgaT10LnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0Lm9wZXJhdGlvbikucmVzdWx0S2V5O0FycmF5LmlzQXJyYXkoaSkmJihpPWlbMF0pO3ZhciBzPWEuc2VhcmNoKG8saSksYz0hMDtyZXR1cm4gbi51dGlsLmFycmF5RWFjaChzLChmdW5jdGlvbih0KXtpZighMT09PShjPWUobnVsbCx0KSkpcmV0dXJuIG4udXRpbC5hYm9ydH0pKSxjfSkpfSxpc1BhZ2VhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0aGlzLm9wZXJhdGlvbil9LGNyZWF0ZVJlYWRTdHJlYW06ZnVuY3Rpb24oKXt2YXIgZT1uLnV0aWwuc3RyZWFtLHI9dGhpcyxvPW51bGw7cmV0dXJuIDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/KG89bmV3IGUuUGFzc1Rocm91Z2gsdC5uZXh0VGljaygoZnVuY3Rpb24oKXtyLnNlbmQoKX0pKSk6KChvPW5ldyBlLlN0cmVhbSkucmVhZGFibGU9ITAsby5zZW50PSExLG8ub24oIm5ld0xpc3RlbmVyIiwoZnVuY3Rpb24oZSl7by5zZW50fHwiZGF0YSIhPT1lfHwoby5zZW50PSEwLHQubmV4dFRpY2soKGZ1bmN0aW9uKCl7ci5zZW5kKCl9KSkpfSkpKSx0aGlzLm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe28uZW1pdCgiZXJyb3IiLGUpfSkpLHRoaXMub24oImh0dHBIZWFkZXJzIiwoZnVuY3Rpb24odCxpLGEpe2lmKHQ8MzAwKXtyLnJlbW92ZUxpc3RlbmVyKCJodHRwRGF0YSIsbi5FdmVudExpc3RlbmVycy5Db3JlLkhUVFBfREFUQSksci5yZW1vdmVMaXN0ZW5lcigiaHR0cEVycm9yIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuSFRUUF9FUlJPUiksci5vbigiaHR0cEVycm9yIiwoZnVuY3Rpb24oZSl7YS5lcnJvcj1lLGEuZXJyb3IucmV0cnlhYmxlPSExfSkpO3ZhciBzLGM9ITE7aWYoIkhFQUQiIT09ci5odHRwUmVxdWVzdC5tZXRob2QmJihzPXBhcnNlSW50KGlbImNvbnRlbnQtbGVuZ3RoIl0sMTApKSx2b2lkIDAhPT1zJiYhaXNOYU4ocykmJnM+PTApe2M9ITA7dmFyIHU9MH12YXIgbD1mdW5jdGlvbigpe2MmJnUhPT1zP28uZW1pdCgiZXJyb3IiLG4udXRpbC5lcnJvcihuZXcgRXJyb3IoIlN0cmVhbSBjb250ZW50IGxlbmd0aCBtaXNtYXRjaC4gUmVjZWl2ZWQgIit1KyIgb2YgIitzKyIgYnl0ZXMuIikse2NvZGU6IlN0cmVhbUNvbnRlbnRMZW5ndGhNaXNtYXRjaCJ9KSk6Mj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9vLmVuZCgpOm8uZW1pdCgiZW5kIil9LHA9YS5odHRwUmVzcG9uc2UuY3JlYXRlVW5idWZmZXJlZFN0cmVhbSgpO2lmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24paWYoYyl7dmFyIGQ9bmV3IGUuUGFzc1Rocm91Z2g7ZC5fd3JpdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoJiYodSs9dC5sZW5ndGgpLGUuUGFzc1Rocm91Z2gucHJvdG90eXBlLl93cml0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQub24oImVuZCIsbCksby5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtjPSExLHAudW5waXBlKGQpLGQuZW1pdCgiZW5kIiksZC5lbmQoKX0pKSxwLnBpcGUoZCkucGlwZShvLHtlbmQ6ITF9KX1lbHNlIHAucGlwZShvKTtlbHNlIGMmJnAub24oImRhdGEiLChmdW5jdGlvbihlKXtlJiZlLmxlbmd0aCYmKHUrPWUubGVuZ3RoKX0pKSxwLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7by5lbWl0KCJkYXRhIixlKX0pKSxwLm9uKCJlbmQiLGwpO3Aub24oImVycm9yIiwoZnVuY3Rpb24oZSl7Yz0hMSxvLmVtaXQoImVycm9yIixlKX0pKX19KSksb30sZW1pdEV2ZW50OmZ1bmN0aW9uKGUsdCxyKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCx0PW51bGwpLHJ8fChyPWZ1bmN0aW9uKCl7fSksdHx8KHQ9dGhpcy5ldmVudFBhcmFtZXRlcnMoZSx0aGlzLnJlc3BvbnNlKSksbi5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLGUsdCwoZnVuY3Rpb24oZSl7ZSYmKHRoaXMucmVzcG9uc2UuZXJyb3I9ZSksci5jYWxsKHRoaXMsZSl9KSl9LGV2ZW50UGFyYW1ldGVyczpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJyZXN0YXJ0IjpjYXNlInZhbGlkYXRlIjpjYXNlInNpZ24iOmNhc2UiYnVpbGQiOmNhc2UiYWZ0ZXJWYWxpZGF0ZSI6Y2FzZSJhZnRlckJ1aWxkIjpyZXR1cm5bdGhpc107Y2FzZSJlcnJvciI6cmV0dXJuW3RoaXMucmVzcG9uc2UuZXJyb3IsdGhpcy5yZXNwb25zZV07ZGVmYXVsdDpyZXR1cm5bdGhpcy5yZXNwb25zZV19fSxwcmVzaWduOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCJmdW5jdGlvbiIhPXR5cGVvZiBlfHwodD1lLGU9bnVsbCksKG5ldyBuLlNpZ25lcnMuUHJlc2lnbikuc2lnbih0aGlzLnRvR2V0KCksZSx0KX0saXNQcmVzaWduZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaHR0cFJlcXVlc3QuaGVhZGVycywicHJlc2lnbmVkLWV4cGlyZXMiKX0sdG9VbmF1dGhlbnRpY2F0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5BdXRoZW50aWNhdGVkPSEwLHRoaXMucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfQ1JFREVOVElBTFMpLHRoaXMucmVtb3ZlTGlzdGVuZXIoInNpZ24iLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5TSUdOKSx0aGlzfSx0b0dldDpmdW5jdGlvbigpe3JldHVybiJxdWVyeSIhPT10aGlzLnNlcnZpY2UuYXBpLnByb3RvY29sJiYiZWMyIiE9PXRoaXMuc2VydmljZS5hcGkucHJvdG9jb2x8fCh0aGlzLnJlbW92ZUxpc3RlbmVyKCJidWlsZCIsdGhpcy5idWlsZEFzR2V0KSx0aGlzLmFkZExpc3RlbmVyKCJidWlsZCIsdGhpcy5idWlsZEFzR2V0KSksdGhpc30sYnVpbGRBc0dldDpmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD0iR0VUIixlLmh0dHBSZXF1ZXN0LnBhdGg9ZS5zZXJ2aWNlLmVuZHBvaW50LnBhdGgrIj8iK2UuaHR0cFJlcXVlc3QuYm9keSxlLmh0dHBSZXF1ZXN0LmJvZHk9IiIsZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXX0saGFsdEhhbmRsZXJzT25FcnJvcjpmdW5jdGlvbigpe3RoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3I9ITB9fSksbi5SZXF1ZXN0LmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgicHJvbWlzZSIpLG5ldyBlKChmdW5jdGlvbihlLG4pe3Qub24oImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7dC5lcnJvcj9uKHQuZXJyb3IpOmUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuZGF0YXx8e30sIiRyZXNwb25zZSIse3ZhbHVlOnR9KSl9KSksdC5ydW5UbygpfSkpfX0sbi5SZXF1ZXN0LmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJvdG90eXBlLnByb21pc2V9LG4udXRpbC5hZGRQcm9taXNlcyhuLlJlcXVlc3QpLG4udXRpbC5taXhpbihuLlJlcXVlc3Qsbi5TZXF1ZW50aWFsRXhlY3V0b3IpfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL3N0YXRlX21hY2hpbmUiOjczLF9wcm9jZXNzOjkxLGptZXNwYXRoOjkwfV0sNTk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0LGk9ZSgiam1lc3BhdGgiKTtmdW5jdGlvbiBhKGUpe3ZhciB0PWUucmVxdWVzdC5fd2FpdGVyLG49dC5jb25maWcuYWNjZXB0b3JzLHI9ITEsbz0icmV0cnkiO24uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIXIpe3ZhciBpPXQubWF0Y2hlcnNbbi5tYXRjaGVyXTtpJiZpKGUsbi5leHBlY3RlZCxuLmFyZ3VtZW50KSYmKHI9ITAsbz1uLnN0YXRlKX19KSksIXImJmUuZXJyb3ImJihvPSJmYWlsdXJlIiksInN1Y2Nlc3MiPT09bz90LnNldFN1Y2Nlc3MoZSk6dC5zZXRFcnJvcihlLCJyZXRyeSI9PT1vKX1yLlJlc291cmNlV2FpdGVyPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXJ2aWNlPWUsdGhpcy5zdGF0ZT10LHRoaXMubG9hZFdhaXRlckNvbmZpZyh0aGlzLnN0YXRlKX0sc2VydmljZTpudWxsLHN0YXRlOm51bGwsY29uZmlnOm51bGwsbWF0Y2hlcnM6e3BhdGg6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuIGkuc3RyaWN0RGVlcEVxdWFsKHIsdCl9LHBhdGhBbGw6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9QXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKTt2YXIgbz1yLmxlbmd0aDtpZighbylyZXR1cm4hMTtmb3IodmFyIGE9MDthPG87YSsrKWlmKCFpLnN0cmljdERlZXBFcXVhbChyW2FdLHQpKXJldHVybiExO3JldHVybiEwfSxwYXRoQW55OmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfUFycmF5LmlzQXJyYXkocil8fChyPVtyXSk7Zm9yKHZhciBvPXIubGVuZ3RoLGE9MDthPG87YSsrKWlmKGkuc3RyaWN0RGVlcEVxdWFsKHJbYV0sdCkpcmV0dXJuITA7cmV0dXJuITF9LHN0YXR1czpmdW5jdGlvbihlLHQpe3ZhciBuPWUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBuJiZuPT09dH0sZXJyb3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJmUuZXJyb3I/dD09PWUuZXJyb3IuY29kZTp0PT09ISFlLmVycm9yfX0sbGlzdGVuZXJzOihuZXcgci5TZXF1ZW50aWFsRXhlY3V0b3IpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlKXtlKCJSRVRSWV9DSEVDSyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0Ll93YWl0ZXI7ZS5lcnJvciYmIlJlc291cmNlTm90UmVhZHkiPT09ZS5lcnJvci5jb2RlJiYoZS5lcnJvci5yZXRyeURlbGF5PTFlMyoodC5jb25maWcuZGVsYXl8fDApKX0pKSxlKCJDSEVDS19PVVRQVVQiLCJleHRyYWN0RGF0YSIsYSksZSgiQ0hFQ0tfRVJST1IiLCJleHRyYWN0RXJyb3IiLGEpfSkpLHdhaXQ6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZSYmZS4kd2FpdGVyJiYoIm51bWJlciI9PXR5cGVvZihlPXIudXRpbC5jb3B5KGUpKS4kd2FpdGVyLmRlbGF5JiYodGhpcy5jb25maWcuZGVsYXk9ZS4kd2FpdGVyLmRlbGF5KSwibnVtYmVyIj09dHlwZW9mIGUuJHdhaXRlci5tYXhBdHRlbXB0cyYmKHRoaXMuY29uZmlnLm1heEF0dGVtcHRzPWUuJHdhaXRlci5tYXhBdHRlbXB0cyksZGVsZXRlIGUuJHdhaXRlcik7dmFyIG49dGhpcy5zZXJ2aWNlLm1ha2VSZXF1ZXN0KHRoaXMuY29uZmlnLm9wZXJhdGlvbixlKTtyZXR1cm4gbi5fd2FpdGVyPXRoaXMsbi5yZXNwb25zZS5tYXhSZXRyaWVzPXRoaXMuY29uZmlnLm1heEF0dGVtcHRzLG4uYWRkTGlzdGVuZXJzKHRoaXMubGlzdGVuZXJzKSx0JiZuLnNlbmQodCksbn0sc2V0U3VjY2VzczpmdW5jdGlvbihlKXtlLmVycm9yPW51bGwsZS5kYXRhPWUuZGF0YXx8e30sZS5yZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygiZXh0cmFjdERhdGEiKX0sc2V0RXJyb3I6ZnVuY3Rpb24oZSx0KXtlLmRhdGE9bnVsbCxlLmVycm9yPXIudXRpbC5lcnJvcihlLmVycm9yfHxuZXcgRXJyb3Ise2NvZGU6IlJlc291cmNlTm90UmVhZHkiLG1lc3NhZ2U6IlJlc291cmNlIGlzIG5vdCBpbiB0aGUgc3RhdGUgIit0aGlzLnN0YXRlLHJldHJ5YWJsZTp0fSl9LGxvYWRXYWl0ZXJDb25maWc6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tlXSl0aHJvdyBuZXcgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiU3RhdGVOb3RGb3VuZEVycm9yIixtZXNzYWdlOiJTdGF0ZSAiK2UrIiBub3QgZm91bmQuIn0pO3RoaXMuY29uZmlnPXIudXRpbC5jb3B5KHRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tlXSl9fSl9LHsiLi9jb3JlIjoxOSxqbWVzcGF0aDo5MH1dLDYwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPWUoImptZXNwYXRoIik7ci5SZXNwb25zZT1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3Q9ZSx0aGlzLmRhdGE9bnVsbCx0aGlzLmVycm9yPW51bGwsdGhpcy5yZXRyeUNvdW50PTAsdGhpcy5yZWRpcmVjdENvdW50PTAsdGhpcy5odHRwUmVzcG9uc2U9bmV3IHIuSHR0cFJlc3BvbnNlLGUmJih0aGlzLm1heFJldHJpZXM9ZS5zZXJ2aWNlLm51bVJldHJpZXMoKSx0aGlzLm1heFJlZGlyZWN0cz1lLnNlcnZpY2UuY29uZmlnLm1heFJlZGlyZWN0cyl9LG5leHRQYWdlOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5yZXF1ZXN0LnNlcnZpY2Usbz10aGlzLnJlcXVlc3Qub3BlcmF0aW9uO3RyeXt0PW4ucGFnaW5hdGlvbkNvbmZpZyhvLCEwKX1jYXRjaChlKXt0aGlzLmVycm9yPWV9aWYoIXRoaXMuaGFzTmV4dFBhZ2UoKSl7aWYoZSllKHRoaXMuZXJyb3IsbnVsbCk7ZWxzZSBpZih0aGlzLmVycm9yKXRocm93IHRoaXMuZXJyb3I7cmV0dXJuIG51bGx9dmFyIGk9ci51dGlsLmNvcHkodGhpcy5yZXF1ZXN0LnBhcmFtcyk7aWYodGhpcy5uZXh0UGFnZVRva2Vucyl7dmFyIGE9dC5pbnB1dFRva2VuOyJzdHJpbmciPT10eXBlb2YgYSYmKGE9W2FdKTtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKylpW2Fbc11dPXRoaXMubmV4dFBhZ2VUb2tlbnNbc107cmV0dXJuIG4ubWFrZVJlcXVlc3QodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbixpLGUpfXJldHVybiBlP2UobnVsbCxudWxsKTpudWxsfSxoYXNOZXh0UGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlTmV4dFBhZ2VUb2tlbnMoKSwhIXRoaXMubmV4dFBhZ2VUb2tlbnN8fHZvaWQgMD09PXRoaXMubmV4dFBhZ2VUb2tlbnMmJnZvaWQgMH0sY2FjaGVOZXh0UGFnZVRva2VuczpmdW5jdGlvbigpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCJuZXh0UGFnZVRva2VucyIpKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO3RoaXMubmV4dFBhZ2VUb2tlbnM9dm9pZCAwO3ZhciBlPXRoaXMucmVxdWVzdC5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbik7aWYoIWUpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7aWYodGhpcy5uZXh0UGFnZVRva2Vucz1udWxsLGUubW9yZVJlc3VsdHMmJiFpLnNlYXJjaCh0aGlzLmRhdGEsZS5tb3JlUmVzdWx0cykpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7dmFyIHQ9ZS5vdXRwdXRUb2tlbjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PVt0XSksci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsdCwoZnVuY3Rpb24oZSl7dmFyIHQ9aS5zZWFyY2godGhpcy5kYXRhLGUpO3QmJih0aGlzLm5leHRQYWdlVG9rZW5zPXRoaXMubmV4dFBhZ2VUb2tlbnN8fFtdLHRoaXMubmV4dFBhZ2VUb2tlbnMucHVzaCh0KSl9KSksdGhpcy5uZXh0UGFnZVRva2Vuc319KX0seyIuL2NvcmUiOjE5LGptZXNwYXRoOjkwfV0sNjE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLlNlcXVlbnRpYWxFeGVjdXRvcj1yLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9ldmVudHM9e319LGxpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP3RoaXMuX2V2ZW50c1tlXS5zbGljZSgwKTpbXX0sb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLl9ldmVudHNbZV0/bj90aGlzLl9ldmVudHNbZV0udW5zaGlmdCh0KTp0aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RdLHRoaXN9LG9uQXN5bmM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Ll9pc0FzeW5jPSEwLHRoaXMub24oZSx0LG4pfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2V2ZW50c1tlXTtpZihuKXtmb3IodmFyIHI9bi5sZW5ndGgsbz0tMSxpPTA7aTxyOysraSluW2ldPT09dCYmKG89aSk7bz4tMSYmbi5zcGxpY2UobywxKX1yZXR1cm4gdGhpc30scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBlP2RlbGV0ZSB0aGlzLl9ldmVudHNbZV06dGhpcy5fZXZlbnRzPXt9LHRoaXN9LGVtaXQ6ZnVuY3Rpb24oZSx0LG4pe258fChuPWZ1bmN0aW9uKCl7fSk7dmFyIHI9dGhpcy5saXN0ZW5lcnMoZSksbz1yLmxlbmd0aDtyZXR1cm4gdGhpcy5jYWxsTGlzdGVuZXJzKHIsdCxuKSxvPjB9LGNhbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGk9dGhpcyxhPW98fG51bGw7ZnVuY3Rpb24gcyhvKXtpZihvJiYoYT1yLnV0aWwuZXJyb3IoYXx8bmV3IEVycm9yLG8pLGkuX2hhbHRIYW5kbGVyc09uRXJyb3IpKXJldHVybiBuLmNhbGwoaSxhKTtpLmNhbGxMaXN0ZW5lcnMoZSx0LG4sYSl9Zm9yKDtlLmxlbmd0aD4wOyl7dmFyIGM9ZS5zaGlmdCgpO2lmKGMuX2lzQXN5bmMpcmV0dXJuIHZvaWQgYy5hcHBseShpLHQuY29uY2F0KFtzXSkpO3RyeXtjLmFwcGx5KGksdCl9Y2F0Y2goZSl7YT1yLnV0aWwuZXJyb3IoYXx8bmV3IEVycm9yLGUpfWlmKGEmJmkuX2hhbHRIYW5kbGVyc09uRXJyb3IpcmV0dXJuIHZvaWQgbi5jYWxsKGksYSl9bi5jYWxsKGksYSl9LGFkZExpc3RlbmVyczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLl9ldmVudHMmJihlPWUuX2V2ZW50cyksci51dGlsLmVhY2goZSwoZnVuY3Rpb24oZSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49W25dKSxyLnV0aWwuYXJyYXlFYWNoKG4sKGZ1bmN0aW9uKG4pe3Qub24oZSxuKX0pKX0pKSx0fSxhZGROYW1lZExpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzW2VdPW4sdGhpcy5hZGRMaXN0ZW5lcih0LG4sciksdGhpc30sYWRkTmFtZWRBc3luY0xpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuLl9pc0FzeW5jPSEwLHRoaXMuYWRkTmFtZWRMaXN0ZW5lcihlLHQsbixyKX0sYWRkTmFtZWRMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZSgoZnVuY3Rpb24oKXt0LmFkZE5hbWVkTGlzdGVuZXIuYXBwbHkodCxhcmd1bWVudHMpfSksKGZ1bmN0aW9uKCl7dC5hZGROYW1lZEFzeW5jTGlzdGVuZXIuYXBwbHkodCxhcmd1bWVudHMpfSkpLHRoaXN9fSksci5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmFkZExpc3RlbmVyPXIuU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5vbix0LmV4cG9ydHM9ci5TZXF1ZW50aWFsRXhlY3V0b3J9LHsiLi9jb3JlIjoxOX1dLDYyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciByPWUoIi4vY29yZSIpLGk9ZSgiLi9tb2RlbC9hcGkiKSxhPWUoIi4vcmVnaW9uX2NvbmZpZyIpLHM9ci51dGlsLmluaGVyaXQsYz0wLHU9ZSgiLi9yZWdpb24vdXRpbHMiKTtyLlNlcnZpY2U9cyh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7aWYoIXRoaXMubG9hZFNlcnZpY2VDbGFzcyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLCJTZXJ2aWNlIG11c3QgYmUgY29uc3RydWN0ZWQgd2l0aCBgbmV3JyBvcGVyYXRvciIpO2lmKGUpe2lmKGUucmVnaW9uKXt2YXIgdD1lLnJlZ2lvbjt1LmlzRmlwc1JlZ2lvbih0KSYmKGUucmVnaW9uPXUuZ2V0UmVhbFJlZ2lvbih0KSxlLnVzZUZpcHNFbmRwb2ludD0hMCksdS5pc0dsb2JhbFJlZ2lvbih0KSYmKGUucmVnaW9uPXUuZ2V0UmVhbFJlZ2lvbih0KSl9ImJvb2xlYW4iPT10eXBlb2YgZS51c2VEdWFsc3RhY2smJiJib29sZWFuIiE9dHlwZW9mIGUudXNlRHVhbHN0YWNrRW5kcG9pbnQmJihlLnVzZUR1YWxzdGFja0VuZHBvaW50PWUudXNlRHVhbHN0YWNrKX12YXIgbj10aGlzLmxvYWRTZXJ2aWNlQ2xhc3MoZXx8e30pO2lmKG4pe3ZhciBvPXIudXRpbC5jb3B5KGUpLGk9bmV3IG4oZSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfb3JpZ2luYWxDb25maWciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9jbGllbnRJZD0rK2MsaX10aGlzLmluaXRpYWxpemUoZSl9LGluaXRpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9ci5jb25maWdbdGhpcy5zZXJ2aWNlSWRlbnRpZmllcl07aWYodGhpcy5jb25maWc9bmV3IHIuQ29uZmlnKHIuY29uZmlnKSx0JiZ0aGlzLmNvbmZpZy51cGRhdGUodCwhMCksZSYmdGhpcy5jb25maWcudXBkYXRlKGUsITApLHRoaXMudmFsaWRhdGVTZXJ2aWNlKCksdGhpcy5jb25maWcuZW5kcG9pbnR8fGEuY29uZmlndXJlRW5kcG9pbnQodGhpcyksdGhpcy5jb25maWcuZW5kcG9pbnQ9dGhpcy5lbmRwb2ludEZyb21UZW1wbGF0ZSh0aGlzLmNvbmZpZy5lbmRwb2ludCksdGhpcy5zZXRFbmRwb2ludCh0aGlzLmNvbmZpZy5lbmRwb2ludCksci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzKSxyLlNlcnZpY2UuYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnModGhpcyksKHRoaXMuY29uZmlnLmNsaWVudFNpZGVNb25pdG9yaW5nfHxyLlNlcnZpY2UuX2NsaWVudFNpZGVNb25pdG9yaW5nKSYmdGhpcy5wdWJsaXNoZXIpe3ZhciBvPXRoaXMucHVibGlzaGVyO3RoaXMuYWRkTmFtZWRMaXN0ZW5lcigiUFVCTElTSF9BUElfQ0FMTCIsImFwaUNhbGwiLChmdW5jdGlvbihlKXtuLm5leHRUaWNrKChmdW5jdGlvbigpe28uZXZlbnRIYW5kbGVyKGUpfSkpfSkpLHRoaXMuYWRkTmFtZWRMaXN0ZW5lcigiUFVCTElTSF9BUElfQVRURU1QVCIsImFwaUNhbGxBdHRlbXB0IiwoZnVuY3Rpb24oZSl7bi5uZXh0VGljaygoZnVuY3Rpb24oKXtvLmV2ZW50SGFuZGxlcihlKX0pKX0pKX19LHZhbGlkYXRlU2VydmljZTpmdW5jdGlvbigpe30sbG9hZFNlcnZpY2VDbGFzczpmdW5jdGlvbihlKXt2YXIgdD1lO2lmKHIudXRpbC5pc0VtcHR5KHRoaXMuYXBpKSl7aWYodC5hcGlDb25maWcpcmV0dXJuIHIuU2VydmljZS5kZWZpbmVTZXJ2aWNlQXBpKHRoaXMuY29uc3RydWN0b3IsdC5hcGlDb25maWcpO2lmKHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXMpeyh0PW5ldyByLkNvbmZpZyhyLmNvbmZpZykpLnVwZGF0ZShlLCEwKTt2YXIgbj10LmFwaVZlcnNpb25zW3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXJdO3JldHVybiBuPW58fHQuYXBpVmVyc2lvbix0aGlzLmdldExhdGVzdFNlcnZpY2VDbGFzcyhuKX1yZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0sZ2V0TGF0ZXN0U2VydmljZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0TGF0ZXN0U2VydmljZVZlcnNpb24oZSksbnVsbD09PXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXNbZV0mJnIuU2VydmljZS5kZWZpbmVTZXJ2aWNlQXBpKHRoaXMuY29uc3RydWN0b3IsZSksdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc1tlXX0sZ2V0TGF0ZXN0U2VydmljZVZlcnNpb246ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXN8fDA9PT10aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIk5vIHNlcnZpY2VzIGRlZmluZWQgb24gIit0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VJZGVudGlmaWVyKTtpZihlP3IudXRpbC5pc1R5cGUoZSxEYXRlKSYmKGU9ci51dGlsLmRhdGUuaXNvODYwMShlKS5zcGxpdCgiVCIpWzBdKTplPSJsYXRlc3QiLE9iamVjdC5oYXNPd25Qcm9wZXJ0eSh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLGUpKXJldHVybiBlO2Zvcih2YXIgdD1PYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzKS5zb3J0KCksbj1udWxsLG89dC5sZW5ndGgtMTtvPj0wO28tLSlpZigiKiIhPT10W29dW3Rbb10ubGVuZ3RoLTFdJiYobj10W29dKSx0W29dLnN1YnN0cigwLDEwKTw9ZSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kICIrdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlSWRlbnRpZmllcisiIEFQSSB0byBzYXRpc2Z5IHZlcnNpb24gY29uc3RyYWludCBgIitlKyInIil9LGFwaTp7fSxkZWZhdWx0UmV0cnlDb3VudDozLGN1c3RvbWl6ZVJlcXVlc3RzOmZ1bmN0aW9uKGUpe2lmKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjYWxsYmFjayB0eXBlICciK28oZSkrIicgcHJvdmlkZWQgaW4gY3VzdG9taXplUmVxdWVzdHMiKTt0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyPWV9ZWxzZSB0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyPW51bGx9LG1ha2VSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PW51bGwpLHQ9dHx8e30sdGhpcy5jb25maWcucGFyYW1zKXt2YXIgbz10aGlzLmFwaS5vcGVyYXRpb25zW2VdO28mJih0PXIudXRpbC5jb3B5KHQpLHIudXRpbC5lYWNoKHRoaXMuY29uZmlnLnBhcmFtcywoZnVuY3Rpb24oZSxuKXtvLmlucHV0Lm1lbWJlcnNbZV0mJih2b2lkIDAhPT10W2VdJiZudWxsIT09dFtlXXx8KHRbZV09bikpfSkpKX12YXIgaT1uZXcgci5SZXF1ZXN0KHRoaXMsZSx0KTtyZXR1cm4gdGhpcy5hZGRBbGxSZXF1ZXN0TGlzdGVuZXJzKGkpLHRoaXMuYXR0YWNoTW9uaXRvcmluZ0VtaXR0ZXIoaSksbiYmaS5zZW5kKG4pLGl9LG1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KTt2YXIgcj10aGlzLm1ha2VSZXF1ZXN0KGUsdCkudG9VbmF1dGhlbnRpY2F0ZWQoKTtyZXR1cm4gbj9yLnNlbmQobik6cn0sd2FpdEZvcjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyByLlJlc291cmNlV2FpdGVyKHRoaXMsZSkud2FpdCh0LG4pfSxhZGRBbGxSZXF1ZXN0TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bci5ldmVudHMsci5FdmVudExpc3RlbmVycy5Db3JlLHRoaXMuc2VydmljZUludGVyZmFjZSgpLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZVBvc3RdLG49MDtuPHQubGVuZ3RoO24rKyl0W25dJiZlLmFkZExpc3RlbmVycyh0W25dKTt0aGlzLmNvbmZpZy5wYXJhbVZhbGlkYXRpb258fGUucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUyksdGhpcy5jb25maWcubG9nZ2VyJiZlLmFkZExpc3RlbmVycyhyLkV2ZW50TGlzdGVuZXJzLkxvZ2dlciksdGhpcy5zZXR1cFJlcXVlc3RMaXN0ZW5lcnMoZSksImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLmN1c3RvbVJlcXVlc3RIYW5kbGVyJiZ0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jdXN0b21SZXF1ZXN0SGFuZGxlcihlKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywiY3VzdG9tUmVxdWVzdEhhbmRsZXIiKSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXImJnRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXIoZSl9LGFwaUNhbGxFdmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG49e1R5cGU6IkFwaUNhbGwiLEFwaTp0P3QubmFtZTplLm9wZXJhdGlvbixWZXJzaW9uOjEsU2VydmljZTplLnNlcnZpY2UuYXBpLnNlcnZpY2VJZHx8ZS5zZXJ2aWNlLmFwaS5lbmRwb2ludFByZWZpeCxSZWdpb246ZS5odHRwUmVxdWVzdC5yZWdpb24sTWF4UmV0cmllc0V4Y2VlZGVkOjAsVXNlckFnZW50OmUuaHR0cFJlcXVlc3QuZ2V0VXNlckFnZW50KCl9LHI9ZS5yZXNwb25zZTtpZihyLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlJiYobi5GaW5hbEh0dHBTdGF0dXNDb2RlPXIuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUpLHIuZXJyb3Ipe3ZhciBvPXIuZXJyb3I7ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT4yOTk/KG8uY29kZSYmKG4uRmluYWxBd3NFeGNlcHRpb249by5jb2RlKSxvLm1lc3NhZ2UmJihuLkZpbmFsQXdzRXhjZXB0aW9uTWVzc2FnZT1vLm1lc3NhZ2UpKTooKG8uY29kZXx8by5uYW1lKSYmKG4uRmluYWxTZGtFeGNlcHRpb249by5jb2RlfHxvLm5hbWUpLG8ubWVzc2FnZSYmKG4uRmluYWxTZGtFeGNlcHRpb25NZXNzYWdlPW8ubWVzc2FnZSkpfXJldHVybiBufSxhcGlBdHRlbXB0RXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPXtUeXBlOiJBcGlDYWxsQXR0ZW1wdCIsQXBpOnQ/dC5uYW1lOmUub3BlcmF0aW9uLFZlcnNpb246MSxTZXJ2aWNlOmUuc2VydmljZS5hcGkuc2VydmljZUlkfHxlLnNlcnZpY2UuYXBpLmVuZHBvaW50UHJlZml4LEZxZG46ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxVc2VyQWdlbnQ6ZS5odHRwUmVxdWVzdC5nZXRVc2VyQWdlbnQoKX0scj1lLnJlc3BvbnNlO3JldHVybiByLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlJiYobi5IdHRwU3RhdHVzQ29kZT1yLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKSwhZS5fdW5BdXRoZW50aWNhdGVkJiZlLnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzJiZlLnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkJiYobi5BY2Nlc3NLZXk9ZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCksci5odHRwUmVzcG9uc2UuaGVhZGVycz8oZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdJiYobi5TZXNzaW9uVG9rZW49ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdKSxyLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl0mJihuLlhBbXpuUmVxdWVzdElkPXIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16bi1yZXF1ZXN0aWQiXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotcmVxdWVzdC1pZCJdJiYobi5YQW16UmVxdWVzdElkPXIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotaWQtMiJdJiYobi5YQW16SWQyPXIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LWlkLTIiXSksbik6bn0sYXR0ZW1wdEZhaWxFdmVudDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFwaUF0dGVtcHRFdmVudChlKSxuPWUucmVzcG9uc2Uscj1uLmVycm9yO3JldHVybiBuLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlPjI5OT8oci5jb2RlJiYodC5Bd3NFeGNlcHRpb249ci5jb2RlKSxyLm1lc3NhZ2UmJih0LkF3c0V4Y2VwdGlvbk1lc3NhZ2U9ci5tZXNzYWdlKSk6KChyLmNvZGV8fHIubmFtZSkmJih0LlNka0V4Y2VwdGlvbj1yLmNvZGV8fHIubmFtZSksci5tZXNzYWdlJiYodC5TZGtFeGNlcHRpb25NZXNzYWdlPXIubWVzc2FnZSkpLHR9LGF0dGFjaE1vbml0b3JpbmdFbWl0dGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxpLGEscyxjPTAsdT10aGlzLGw9ITA7ZS5vbigidmFsaWRhdGUiLChmdW5jdGlvbigpe2k9ci51dGlsLnJlYWxDbG9jay5ub3coKSxzPURhdGUubm93KCl9KSxsKSxlLm9uKCJzaWduIiwoZnVuY3Rpb24oKXtuPXIudXRpbC5yZWFsQ2xvY2subm93KCksdD1EYXRlLm5vdygpLGE9ZS5odHRwUmVxdWVzdC5yZWdpb24sYysrfSksbCksZS5vbigidmFsaWRhdGVSZXNwb25zZSIsKGZ1bmN0aW9uKCl7bz1NYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktbil9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTF9BVFRFTVBUIiwic3VjY2VzcyIsKGZ1bmN0aW9uKCl7dmFyIG49dS5hcGlBdHRlbXB0RXZlbnQoZSk7bi5UaW1lc3RhbXA9dCxuLkF0dGVtcHRMYXRlbmN5PW8+PTA/bzowLG4uUmVnaW9uPWEsdS5lbWl0KCJhcGlDYWxsQXR0ZW1wdCIsW25dKX0pKSxlLmFkZE5hbWVkTGlzdGVuZXIoIkFQSV9DQUxMX0FUVEVNUFRfUkVUUlkiLCJyZXRyeSIsKGZ1bmN0aW9uKCl7dmFyIGk9dS5hdHRlbXB0RmFpbEV2ZW50KGUpO2kuVGltZXN0YW1wPXQsbz1vfHxNYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktbiksaS5BdHRlbXB0TGF0ZW5jeT1vPj0wP286MCxpLlJlZ2lvbj1hLHUuZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFtpXSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTCIsImNvbXBsZXRlIiwoZnVuY3Rpb24oKXt2YXIgdD11LmFwaUNhbGxFdmVudChlKTtpZih0LkF0dGVtcHRDb3VudD1jLCEodC5BdHRlbXB0Q291bnQ8PTApKXt0LlRpbWVzdGFtcD1zO3ZhciBuPU1hdGgucm91bmQoci51dGlsLnJlYWxDbG9jay5ub3coKS1pKTt0LkxhdGVuY3k9bj49MD9uOjA7dmFyIG89ZS5yZXNwb25zZTtvLmVycm9yJiZvLmVycm9yLnJldHJ5YWJsZSYmIm51bWJlciI9PXR5cGVvZiBvLnJldHJ5Q291bnQmJiJudW1iZXIiPT10eXBlb2Ygby5tYXhSZXRyaWVzJiZvLnJldHJ5Q291bnQ+PW8ubWF4UmV0cmllcyYmKHQuTWF4UmV0cmllc0V4Y2VlZGVkPTEpLHUuZW1pdCgiYXBpQ2FsbCIsW3RdKX19KSl9LHNldHVwUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbihlKXt9LGdldFNpZ25pbmdOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBpLnNpZ25pbmdOYW1lfHx0aGlzLmFwaS5lbmRwb2ludFByZWZpeH0sZ2V0U2lnbmVyQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbj1udWxsLG89IiI7cmV0dXJuIGUmJihvPShuPShlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnN8fHt9KVtlLm9wZXJhdGlvbl18fG51bGwpP24uYXV0aHR5cGU6IiIpLHQ9dGhpcy5jb25maWcuc2lnbmF0dXJlVmVyc2lvbj90aGlzLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uOiJ2NCI9PT1vfHwidjQtdW5zaWduZWQtYm9keSI9PT1vPyJ2NCI6ImJlYXJlciI9PT1vPyJiZWFyZXIiOnRoaXMuYXBpLnNpZ25hdHVyZVZlcnNpb24sci5TaWduZXJzLlJlcXVlc3RTaWduZXIuZ2V0VmVyc2lvbih0KX0sc2VydmljZUludGVyZmFjZTpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmFwaS5wcm90b2NvbCl7Y2FzZSJlYzIiOmNhc2UicXVlcnkiOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlF1ZXJ5O2Nhc2UianNvbiI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuSnNvbjtjYXNlInJlc3QtanNvbiI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuUmVzdEpzb247Y2FzZSJyZXN0LXhtbCI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuUmVzdFhtbH1pZih0aGlzLmFwaS5wcm90b2NvbCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VydmljZSBgcHJvdG9jb2wnICIrdGhpcy5hcGkucHJvdG9jb2wrIiBpbiBBUEkgY29uZmlnIil9LHN1Y2Nlc3NmdWxSZXNwb25zZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZTwzMDB9LG51bVJldHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5jb25maWcubWF4UmV0cmllcz90aGlzLmNvbmZpZy5tYXhSZXRyaWVzOnRoaXMuZGVmYXVsdFJldHJ5Q291bnR9LHJldHJ5RGVsYXlzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KGUsdGhpcy5jb25maWcucmV0cnlEZWxheU9wdGlvbnMsdCl9LHJldHJ5YWJsZUVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy50aW1lb3V0RXJyb3IoZSl8fCEhdGhpcy5uZXR3b3JraW5nRXJyb3IoZSl8fCEhdGhpcy5leHBpcmVkQ3JlZGVudGlhbHNFcnJvcihlKXx8ISF0aGlzLnRocm90dGxlZEVycm9yKGUpfHxlLnN0YXR1c0NvZGU+PTUwMH0sbmV0d29ya2luZ0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJOZXR3b3JraW5nRXJyb3IiPT09ZS5jb2RlfSx0aW1lb3V0RXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIlRpbWVvdXRFcnJvciI9PT1lLmNvZGV9LGV4cGlyZWRDcmVkZW50aWFsc0Vycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJFeHBpcmVkVG9rZW5FeGNlcHRpb24iPT09ZS5jb2RlfSxjbG9ja1NrZXdFcnJvcjpmdW5jdGlvbihlKXtzd2l0Y2goZS5jb2RlKXtjYXNlIlJlcXVlc3RUaW1lVG9vU2tld2VkIjpjYXNlIlJlcXVlc3RFeHBpcmVkIjpjYXNlIkludmFsaWRTaWduYXR1cmVFeGNlcHRpb24iOmNhc2UiU2lnbmF0dXJlRG9lc05vdE1hdGNoIjpjYXNlIkF1dGhGYWlsdXJlIjpjYXNlIlJlcXVlc3RJblRoZUZ1dHVyZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGdldFNrZXdDb3JyZWN0ZWREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKERhdGUubm93KCkrdGhpcy5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpfSxhcHBseUNsb2NrT2Zmc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldD1lLURhdGUubm93KCkpfSxpc0Nsb2NrU2tld2VkOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIE1hdGguYWJzKHRoaXMuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS5nZXRUaW1lKCktZSk+PTNlNX0sdGhyb3R0bGVkRXJyb3I6ZnVuY3Rpb24oZSl7aWYoNDI5PT09ZS5zdGF0dXNDb2RlKXJldHVybiEwO3N3aXRjaChlLmNvZGUpe2Nhc2UiUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb24iOmNhc2UiVGhyb3R0bGluZyI6Y2FzZSJUaHJvdHRsaW5nRXhjZXB0aW9uIjpjYXNlIlJlcXVlc3RMaW1pdEV4Y2VlZGVkIjpjYXNlIlJlcXVlc3RUaHJvdHRsZWQiOmNhc2UiUmVxdWVzdFRocm90dGxlZEV4Y2VwdGlvbiI6Y2FzZSJUb29NYW55UmVxdWVzdHNFeGNlcHRpb24iOmNhc2UiVHJhbnNhY3Rpb25JblByb2dyZXNzRXhjZXB0aW9uIjpjYXNlIkVDMlRocm90dGxlZEV4Y2VwdGlvbiI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGVuZHBvaW50RnJvbVRlbXBsYXRlOmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gZTt2YXIgdD1lO3JldHVybiB0PSh0PSh0PXQucmVwbGFjZSgvXHtzZXJ2aWNlXH0vZyx0aGlzLmFwaS5lbmRwb2ludFByZWZpeCkpLnJlcGxhY2UoL1x7cmVnaW9uXH0vZyx0aGlzLmNvbmZpZy5yZWdpb24pKS5yZXBsYWNlKC9ce3NjaGVtZVx9L2csdGhpcy5jb25maWcuc3NsRW5hYmxlZD8iaHR0cHMiOiJodHRwIil9LHNldEVuZHBvaW50OmZ1bmN0aW9uKGUpe3RoaXMuZW5kcG9pbnQ9bmV3IHIuRW5kcG9pbnQoZSx0aGlzLmNvbmZpZyl9LHBhZ2luYXRpb25Db25maWc6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmFwaS5vcGVyYXRpb25zW2VdLnBhZ2luYXRvcjtpZighbil7aWYodCl7dmFyIG89bmV3IEVycm9yO3Rocm93IHIudXRpbC5lcnJvcihvLCJObyBwYWdpbmF0aW9uIGNvbmZpZ3VyYXRpb24gZm9yICIrZSl9cmV0dXJuIG51bGx9cmV0dXJuIG59fSksci51dGlsLnVwZGF0ZShyLlNlcnZpY2Use2RlZmluZU1ldGhvZHM6ZnVuY3Rpb24oZSl7ci51dGlsLmVhY2goZS5wcm90b3R5cGUuYXBpLm9wZXJhdGlvbnMsKGZ1bmN0aW9uKHQpe2UucHJvdG90eXBlW3RdfHwoIm5vbmUiPT09ZS5wcm90b3R5cGUuYXBpLm9wZXJhdGlvbnNbdF0uYXV0aHR5cGU/ZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCh0LGUsbil9OmUucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMubWFrZVJlcXVlc3QodCxlLG4pfSl9KSl9LGRlZmluZVNlcnZpY2U6ZnVuY3Rpb24oZSx0LG4pe3IuU2VydmljZS5fc2VydmljZU1hcFtlXT0hMCxBcnJheS5pc0FycmF5KHQpfHwobj10LHQ9W10pO3ZhciBvPXMoci5TZXJ2aWNlLG58fHt9KTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3IuU2VydmljZS5hZGRWZXJzaW9ucyhvLHQpO3ZhciBpPW8uc2VydmljZUlkZW50aWZpZXJ8fGU7by5zZXJ2aWNlSWRlbnRpZmllcj1pfWVsc2Ugby5wcm90b3R5cGUuYXBpPWUsci5TZXJ2aWNlLmRlZmluZU1ldGhvZHMobyk7aWYoci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzLnByb3RvdHlwZSksIXRoaXMucHJvdG90eXBlLnB1Ymxpc2hlciYmci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nKXt2YXIgYT1yLnV0aWwuY2xpZW50U2lkZU1vbml0b3JpbmcuUHVibGlzaGVyLGM9KDAsci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLmNvbmZpZ1Byb3ZpZGVyKSgpO3RoaXMucHJvdG90eXBlLnB1Ymxpc2hlcj1uZXcgYShjKSxjLmVuYWJsZWQmJihyLlNlcnZpY2UuX2NsaWVudFNpZGVNb25pdG9yaW5nPSEwKX1yZXR1cm4gci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbChvLnByb3RvdHlwZSksci5TZXJ2aWNlLmFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzKG8ucHJvdG90eXBlKSxvfSxhZGRWZXJzaW9uczpmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksZS5zZXJ2aWNlcz1lLnNlcnZpY2VzfHx7fTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl2b2lkIDA9PT1lLnNlcnZpY2VzW3Rbbl1dJiYoZS5zZXJ2aWNlc1t0W25dXT1udWxsKTtlLmFwaVZlcnNpb25zPU9iamVjdC5rZXlzKGUuc2VydmljZXMpLnNvcnQoKX0sZGVmaW5lU2VydmljZUFwaTpmdW5jdGlvbihlLHQsbil7dmFyIG89cyhlLHtzZXJ2aWNlSWRlbnRpZmllcjplLnNlcnZpY2VJZGVudGlmaWVyfSk7ZnVuY3Rpb24gYSh0KXt0LmlzQXBpP28ucHJvdG90eXBlLmFwaT10Om8ucHJvdG90eXBlLmFwaT1uZXcgaSh0LHtzZXJ2aWNlSWRlbnRpZmllcjplLnNlcnZpY2VJZGVudGlmaWVyfSl9aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZihuKWEobik7ZWxzZSB0cnl7YShyLmFwaUxvYWRlcihlLnNlcnZpY2VJZGVudGlmaWVyLHQpKX1jYXRjaChuKXt0aHJvdyByLnV0aWwuZXJyb3Iobix7bWVzc2FnZToiQ291bGQgbm90IGZpbmQgQVBJIGNvbmZpZ3VyYXRpb24gIitlLnNlcnZpY2VJZGVudGlmaWVyKyItIit0fSl9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuc2VydmljZXMsdCl8fChlLmFwaVZlcnNpb25zPWUuYXBpVmVyc2lvbnMuY29uY2F0KHQpLnNvcnQoKSksZS5zZXJ2aWNlc1t0XT1vfWVsc2UgYSh0KTtyZXR1cm4gci5TZXJ2aWNlLmRlZmluZU1ldGhvZHMobyksb30saGFzU2VydmljZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIuU2VydmljZS5fc2VydmljZU1hcCxlKX0sYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7ZS5hZGROYW1lZExpc3RlbmVyKCJNT05JVE9SX0VWRU5UU19CVUJCTEUiLCJhcGlDYWxsQXR0ZW1wdCIsKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtuLl9ldmVudHMmJm4uZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFt0XSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJDQUxMX0VWRU5UU19CVUJCTEUiLCJhcGlDYWxsIiwoZnVuY3Rpb24odCl7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO24uX2V2ZW50cyYmbi5lbWl0KCJhcGlDYWxsIixbdF0pfSkpfSxfc2VydmljZU1hcDp7fX0pLHIudXRpbC5taXhpbihyLlNlcnZpY2Usci5TZXF1ZW50aWFsRXhlY3V0b3IpLHQuZXhwb3J0cz1yLlNlcnZpY2V9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vbW9kZWwvYXBpIjo0MCwiLi9yZWdpb24vdXRpbHMiOjU1LCIuL3JlZ2lvbl9jb25maWciOjU2LF9wcm9jZXNzOjkxfV0sNjM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi9jb25maWdfcmVnaW9uYWxfZW5kcG9pbnQiKTtyLnV0aWwudXBkYXRlKHIuU1RTLnByb3RvdHlwZSx7Y3JlZGVudGlhbHNGcm9tOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHR8fCh0PW5ldyByLlRlbXBvcmFyeUNyZWRlbnRpYWxzKSx0LmV4cGlyZWQ9ITEsdC5hY2Nlc3NLZXlJZD1lLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLHQuc2VjcmV0QWNjZXNzS2V5PWUuQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5LHQuc2Vzc2lvblRva2VuPWUuQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLHQuZXhwaXJlVGltZT1lLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24sdCk6bnVsbH0sYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCJhc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5IixlLHQpfSxhc3N1bWVSb2xlV2l0aFNBTUw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgiYXNzdW1lUm9sZVdpdGhTQU1MIixlLHQpfSxzZXR1cFJlcXVlc3RMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7ZS5hZGRMaXN0ZW5lcigidmFsaWRhdGUiLHRoaXMub3B0SW5SZWdpb25hbEVuZHBvaW50LCEwKX0sb3B0SW5SZWdpb25hbEVuZHBvaW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZSxuPXQuY29uZmlnO2lmKG4uc3RzUmVnaW9uYWxFbmRwb2ludHM9byh0Ll9vcmlnaW5hbENvbmZpZyx7ZW52OiJBV1NfU1RTX1JFR0lPTkFMX0VORFBPSU5UUyIsc2hhcmVkQ29uZmlnOiJzdHNfcmVnaW9uYWxfZW5kcG9pbnRzIixjbGllbnRDb25maWc6InN0c1JlZ2lvbmFsRW5kcG9pbnRzIn0pLCJyZWdpb25hbCI9PT1uLnN0c1JlZ2lvbmFsRW5kcG9pbnRzJiZ0LmlzR2xvYmFsRW5kcG9pbnQpe2lmKCFuLnJlZ2lvbil0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWdFcnJvciIsbWVzc2FnZToiTWlzc2luZyByZWdpb24gaW4gY29uZmlnIn0pO3ZhciBpPW4uZW5kcG9pbnQuaW5kZXhPZigiLmFtYXpvbmF3cy5jb20iKSxhPW4uZW5kcG9pbnQuc3Vic3RyaW5nKDAsaSkrIi4iK24ucmVnaW9uK24uZW5kcG9pbnQuc3Vic3RyaW5nKGkpO2UuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoYSksZS5odHRwUmVxdWVzdC5yZWdpb249bi5yZWdpb259fX0pfSx7Ii4uL2NvbmZpZ19yZWdpb25hbF9lbmRwb2ludCI6MTgsIi4uL2NvcmUiOjE5fV0sNjQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIik7ci5TaWduZXJzLkJlYXJlcj1yLnV0aWwuaW5oZXJpdChyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ci5TaWduZXJzLlJlcXVlc3RTaWduZXIuY2FsbCh0aGlzLGUpfSxhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUpe3RoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249IkJlYXJlciAiK2UudG9rZW59fSl9LHsiLi4vY29yZSI6MTl9XSw2NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0LGk9InByZXNpZ25lZC1leHBpcmVzIjtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3QuaGVhZGVyc1tpXSxuPWUuc2VydmljZS5nZXRTaWduZXJDbGFzcyhlKTtpZihkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJVc2VyLUFnZW50Il0sZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotVXNlci1BZ2VudCJdLG49PT1yLlNpZ25lcnMuVjQpe2lmKHQ+NjA0ODAwKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkludmFsaWRFeHBpcnlUaW1lIixtZXNzYWdlOiJQcmVzaWduaW5nIGRvZXMgbm90IHN1cHBvcnQgZXhwaXJ5IHRpbWUgZ3JlYXRlciB0aGFuIGEgd2VlayB3aXRoIFNpZ1Y0IHNpZ25pbmcuIixyZXRyeWFibGU6ITF9KTtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV09dH1lbHNle2lmKG4hPT1yLlNpZ25lcnMuUzMpdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix7bWVzc2FnZToiUHJlc2lnbmluZyBvbmx5IHN1cHBvcnRzIFMzIG9yIFNpZ1Y0IHNpZ25pbmcuIixjb2RlOiJVbnN1cHBvcnRlZFNpZ25lciIscmV0cnlhYmxlOiExfSk7dmFyIG89ZS5zZXJ2aWNlP2Uuc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpOnIudXRpbC5kYXRlLmdldERhdGUoKTtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV09cGFyc2VJbnQoci51dGlsLmRhdGUudW5peFRpbWVzdGFtcChvKSt0LDEwKS50b1N0cmluZygpfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3QuZW5kcG9pbnQsbj1yLnV0aWwudXJsUGFyc2UoZS5odHRwUmVxdWVzdC5wYXRoKSxvPXt9O24uc2VhcmNoJiYobz1yLnV0aWwucXVlcnlTdHJpbmdQYXJzZShuLnNlYXJjaC5zdWJzdHIoMSkpKTt2YXIgYT1lLmh0dHBSZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbi5zcGxpdCgiICIpO2lmKCJBV1MiPT09YVswXSlhPWFbMV0uc3BsaXQoIjoiKSxvLlNpZ25hdHVyZT1hLnBvcCgpLG8uQVdTQWNjZXNzS2V5SWQ9YS5qb2luKCI6Iiksci51dGlsLmVhY2goZS5odHRwUmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbihlLHQpe2U9PT1pJiYoZT0iRXhwaXJlcyIpLDA9PT1lLmluZGV4T2YoIngtYW16LW1ldGEtIikmJihkZWxldGUgb1tlXSxlPWUudG9Mb3dlckNhc2UoKSksb1tlXT10fSkpLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV0sZGVsZXRlIG8uQXV0aG9yaXphdGlvbixkZWxldGUgby5Ib3N0O2Vsc2UgaWYoIkFXUzQtSE1BQy1TSEEyNTYiPT09YVswXSl7YS5zaGlmdCgpO3ZhciBzPWEuam9pbigiICIpLm1hdGNoKC9TaWduYXR1cmU9KC4qPykoPzosfFxzfFxyP1xufCQpLylbMV07b1siWC1BbXotU2lnbmF0dXJlIl09cyxkZWxldGUgby5FeHBpcmVzfXQucGF0aG5hbWU9bi5wYXRobmFtZSx0LnNlYXJjaD1yLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhvKX1yLlNpZ25lcnMuUHJlc2lnbj1vKHtzaWduOmZ1bmN0aW9uKGUsdCxuKXtpZihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV09dHx8MzYwMCxlLm9uKCJidWlsZCIsYSksZS5vbigic2lnbiIscyksZS5yZW1vdmVMaXN0ZW5lcigiYWZ0ZXJCdWlsZCIsci5FdmVudExpc3RlbmVycy5Db3JlLlNFVF9DT05URU5UX0xFTkdUSCksZS5yZW1vdmVMaXN0ZW5lcigiYWZ0ZXJCdWlsZCIsci5FdmVudExpc3RlbmVycy5Db3JlLkNPTVBVVEVfU0hBMjU2KSxlLmVtaXQoImJlZm9yZVByZXNpZ24iLFtlXSksIW4pe2lmKGUuYnVpbGQoKSxlLnJlc3BvbnNlLmVycm9yKXRocm93IGUucmVzcG9uc2UuZXJyb3I7cmV0dXJuIHIudXRpbC51cmxGb3JtYXQoZS5odHRwUmVxdWVzdC5lbmRwb2ludCl9ZS5idWlsZCgoZnVuY3Rpb24oKXt0aGlzLnJlc3BvbnNlLmVycm9yP24odGhpcy5yZXNwb25zZS5lcnJvcik6bihudWxsLHIudXRpbC51cmxGb3JtYXQoZS5odHRwUmVxdWVzdC5lbmRwb2ludCkpfSkpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuUHJlc2lnbn0seyIuLi9jb3JlIjoxOX1dLDY2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlJlcXVlc3RTaWduZXI9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dGhpcy5yZXF1ZXN0PWV9LHNldFNlcnZpY2VDbGllbnRJZDpmdW5jdGlvbihlKXt0aGlzLnNlcnZpY2VDbGllbnRJZD1lfSxnZXRTZXJ2aWNlQ2xpZW50SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXJ2aWNlQ2xpZW50SWR9fSksci5TaWduZXJzLlJlcXVlc3RTaWduZXIuZ2V0VmVyc2lvbj1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJ2MiI6cmV0dXJuIHIuU2lnbmVycy5WMjtjYXNlInYzIjpyZXR1cm4gci5TaWduZXJzLlYzO2Nhc2UiczN2NCI6Y2FzZSJ2NCI6cmV0dXJuIHIuU2lnbmVycy5WNDtjYXNlInMzIjpyZXR1cm4gci5TaWduZXJzLlMzO2Nhc2UidjNodHRwcyI6cmV0dXJuIHIuU2lnbmVycy5WM0h0dHBzO2Nhc2UiYmVhcmVyIjpyZXR1cm4gci5TaWduZXJzLkJlYXJlcn10aHJvdyBuZXcgRXJyb3IoIlVua25vd24gc2lnbmluZyB2ZXJzaW9uICIrZSl9LGUoIi4vdjIiKSxlKCIuL3YzIiksZSgiLi92M2h0dHBzIiksZSgiLi92NCIpLGUoIi4vczMiKSxlKCIuL3ByZXNpZ24iKSxlKCIuL2JlYXJlciIpfSx7Ii4uL2NvcmUiOjE5LCIuL2JlYXJlciI6NjQsIi4vcHJlc2lnbiI6NjUsIi4vczMiOjY3LCIuL3YyIjo2OCwiLi92MyI6NjksIi4vdjNodHRwcyI6NzAsIi4vdjQiOjcxfV0sNjc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLlNpZ25lcnMuUzM9byhyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7c3ViUmVzb3VyY2VzOnthY2w6MSxhY2NlbGVyYXRlOjEsYW5hbHl0aWNzOjEsY29yczoxLGxpZmVjeWNsZToxLGRlbGV0ZToxLGludmVudG9yeToxLGxvY2F0aW9uOjEsbG9nZ2luZzoxLG1ldHJpY3M6MSxub3RpZmljYXRpb246MSxwYXJ0TnVtYmVyOjEscG9saWN5OjEscmVxdWVzdFBheW1lbnQ6MSxyZXBsaWNhdGlvbjoxLHJlc3RvcmU6MSx0YWdnaW5nOjEsdG9ycmVudDoxLHVwbG9hZElkOjEsdXBsb2FkczoxLHZlcnNpb25JZDoxLHZlcnNpb25pbmc6MSx2ZXJzaW9uczoxLHdlYnNpdGU6MX0scmVzcG9uc2VIZWFkZXJzOnsicmVzcG9uc2UtY29udGVudC10eXBlIjoxLCJyZXNwb25zZS1jb250ZW50LWxhbmd1YWdlIjoxLCJyZXNwb25zZS1leHBpcmVzIjoxLCJyZXNwb25zZS1jYWNoZS1jb250cm9sIjoxLCJyZXNwb25zZS1jb250ZW50LWRpc3Bvc2l0aW9uIjoxLCJyZXNwb25zZS1jb250ZW50LWVuY29kaW5nIjoxfSxhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5yZXF1ZXN0LmhlYWRlcnNbInByZXNpZ25lZC1leHBpcmVzIl18fCh0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPXIudXRpbC5kYXRlLnJmYzgyMih0KSksZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbik7dmFyIG49dGhpcy5zaWduKGUuc2VjcmV0QWNjZXNzS2V5LHRoaXMuc3RyaW5nVG9TaWduKCkpLG89IkFXUyAiK2UuYWNjZXNzS2V5SWQrIjoiK247dGhpcy5yZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbj1vfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3QsdD1bXTt0LnB1c2goZS5tZXRob2QpLHQucHVzaChlLmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il18fCIiKSx0LnB1c2goZS5oZWFkZXJzWyJDb250ZW50LVR5cGUiXXx8IiIpLHQucHVzaChlLmhlYWRlcnNbInByZXNpZ25lZC1leHBpcmVzIl18fCIiKTt2YXIgbj10aGlzLmNhbm9uaWNhbGl6ZWRBbXpIZWFkZXJzKCk7cmV0dXJuIG4mJnQucHVzaChuKSx0LnB1c2godGhpcy5jYW5vbmljYWxpemVkUmVzb3VyY2UoKSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxpemVkQW16SGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3IudXRpbC5lYWNoKHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0KXt0Lm1hdGNoKC9eeC1hbXotL2kpJiZlLnB1c2godCl9KSksZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnRvTG93ZXJDYXNlKCk8dC50b0xvd2VyQ2FzZSgpPy0xOjF9KSk7dmFyIHQ9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLGUsKGZ1bmN0aW9uKGUpe3QucHVzaChlLnRvTG93ZXJDYXNlKCkrIjoiK1N0cmluZyh0aGlzLnJlcXVlc3QuaGVhZGVyc1tlXSkpfSkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsaXplZFJlc291cmNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LHQ9ZS5wYXRoLnNwbGl0KCI/Iiksbj10WzBdLG89dFsxXSxpPSIiO2lmKGUudmlydHVhbEhvc3RlZEJ1Y2tldCYmKGkrPSIvIitlLnZpcnR1YWxIb3N0ZWRCdWNrZXQpLGkrPW4sbyl7dmFyIGE9W107ci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsby5zcGxpdCgiJiIpLChmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCI9IilbMF0sbj1lLnNwbGl0KCI9IilbMV07aWYodGhpcy5zdWJSZXNvdXJjZXNbdF18fHRoaXMucmVzcG9uc2VIZWFkZXJzW3RdKXt2YXIgcj17bmFtZTp0fTt2b2lkIDAhPT1uJiYodGhpcy5zdWJSZXNvdXJjZXNbdF0/ci52YWx1ZT1uOnIudmFsdWU9ZGVjb2RlVVJJQ29tcG9uZW50KG4pKSxhLnB1c2gocil9fSkpLGEuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5uYW1lPHQubmFtZT8tMToxfSkpLGEubGVuZ3RoJiYobz1bXSxyLnV0aWwuYXJyYXlFYWNoKGEsKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUudmFsdWU/by5wdXNoKGUubmFtZSk6by5wdXNoKGUubmFtZSsiPSIrZS52YWx1ZSl9KSksaSs9Ij8iK28uam9pbigiJiIpKX1yZXR1cm4gaX0sc2lnbjpmdW5jdGlvbihlLHQpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZSx0LCJiYXNlNjQiLCJzaGExIil9fSksdC5leHBvcnRzPXIuU2lnbmVycy5TM30seyIuLi9jb3JlIjoxOX1dLDY4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlYyPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2FkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt0fHwodD1yLnV0aWwuZGF0ZS5nZXREYXRlKCkpO3ZhciBuPXRoaXMucmVxdWVzdDtuLnBhcmFtcy5UaW1lc3RhbXA9ci51dGlsLmRhdGUuaXNvODYwMSh0KSxuLnBhcmFtcy5TaWduYXR1cmVWZXJzaW9uPSIyIixuLnBhcmFtcy5TaWduYXR1cmVNZXRob2Q9IkhtYWNTSEEyNTYiLG4ucGFyYW1zLkFXU0FjY2Vzc0tleUlkPWUuYWNjZXNzS2V5SWQsZS5zZXNzaW9uVG9rZW4mJihuLnBhcmFtcy5TZWN1cml0eVRva2VuPWUuc2Vzc2lvblRva2VuKSxkZWxldGUgbi5wYXJhbXMuU2lnbmF0dXJlLG4ucGFyYW1zLlNpZ25hdHVyZT10aGlzLnNpZ25hdHVyZShlKSxuLmJvZHk9ci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobi5wYXJhbXMpLG4uaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXT1uLmJvZHkubGVuZ3RofSxzaWduYXR1cmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpLCJiYXNlNjQiKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKSxlLnB1c2godGhpcy5yZXF1ZXN0LmVuZHBvaW50Lmhvc3QudG9Mb3dlckNhc2UoKSksZS5wdXNoKHRoaXMucmVxdWVzdC5wYXRobmFtZSgpKSxlLnB1c2goci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcodGhpcy5yZXF1ZXN0LnBhcmFtcykpLGUuam9pbigiXG4iKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlYyfSx7Ii4uL2NvcmUiOjE5fV0sNjk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLlNpZ25lcnMuVjM9byhyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7YWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXIudXRpbC5kYXRlLnJmYzgyMih0KTt0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPW4sZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbiksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16bi1BdXRob3JpemF0aW9uIl09dGhpcy5hdXRob3JpemF0aW9uKGUsbil9LGF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIkFXUzMgQVdTQWNjZXNzS2V5SWQ9IitlLmFjY2Vzc0tleUlkKyIsQWxnb3JpdGhtPUhtYWNTSEEyNTYsU2lnbmVkSGVhZGVycz0iK3RoaXMuc2lnbmVkSGVhZGVycygpKyIsU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSl9LHNpZ25lZEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaCh0aGlzLmhlYWRlcnNUb1NpZ24oKSwoZnVuY3Rpb24odCl7ZS5wdXNoKHQudG9Mb3dlckNhc2UoKSl9KSksZS5zb3J0KCkuam9pbigiOyIpfSxjYW5vbmljYWxIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LmhlYWRlcnMsdD1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaCh0aGlzLmhlYWRlcnNUb1NpZ24oKSwoZnVuY3Rpb24obil7dC5wdXNoKG4udG9Mb3dlckNhc2UoKS50cmltKCkrIjoiK1N0cmluZyhlW25dKS50cmltKCkpfSkpLHQuc29ydCgpLmpvaW4oIlxuIikrIlxuIn0saGVhZGVyc1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiByLnV0aWwuZWFjaCh0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCl7KCJIb3N0Ij09PXR8fCJDb250ZW50LUVuY29kaW5nIj09PXR8fHQubWF0Y2goL15YLUFtei9pKSkmJmUucHVzaCh0KX0pKSxlfSxzaWduYXR1cmU6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpLCJiYXNlNjQiKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKSxlLnB1c2goIi8iKSxlLnB1c2goIiIpLGUucHVzaCh0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSksZS5wdXNoKHRoaXMucmVxdWVzdC5ib2R5KSxyLnV0aWwuY3J5cHRvLnNoYTI1NihlLmpvaW4oIlxuIikpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjN9LHsiLi4vY29yZSI6MTl9XSw3MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O2UoIi4vdjMiKSxyLlNpZ25lcnMuVjNIdHRwcz1vKHIuU2lnbmVycy5WMyx7YXV0aG9yaXphdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4iQVdTMy1IVFRQUyBBV1NBY2Nlc3NLZXlJZD0iK2UuYWNjZXNzS2V5SWQrIixBbGdvcml0aG09SG1hY1NIQTI1NixTaWduYXR1cmU9Iit0aGlzLnNpZ25hdHVyZShlKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl19fSksdC5leHBvcnRzPXIuU2lnbmVycy5WM0h0dHBzfSx7Ii4uL2NvcmUiOjE5LCIuL3YzIjo2OX1dLDcxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi92NF9jcmVkZW50aWFscyIpLGk9ci51dGlsLmluaGVyaXQsYT0icHJlc2lnbmVkLWV4cGlyZXMiO3IuU2lnbmVycy5WND1pKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQsbil7ci5TaWduZXJzLlJlcXVlc3RTaWduZXIuY2FsbCh0aGlzLGUpLHRoaXMuc2VydmljZU5hbWU9dCxuPW58fHt9LHRoaXMuc2lnbmF0dXJlQ2FjaGU9ImJvb2xlYW4iIT10eXBlb2Ygbi5zaWduYXR1cmVDYWNoZXx8bi5zaWduYXR1cmVDYWNoZSx0aGlzLm9wZXJhdGlvbj1uLm9wZXJhdGlvbix0aGlzLnNpZ25hdHVyZVZlcnNpb249bi5zaWduYXR1cmVWZXJzaW9ufSxhbGdvcml0aG06IkFXUzQtSE1BQy1TSEEyNTYiLGFkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnV0aWwuZGF0ZS5pc284NjAxKHQpLnJlcGxhY2UoL1s6XC1dfFwuXGR7M30vZywiIik7dGhpcy5pc1ByZXNpZ25lZCgpP3RoaXMudXBkYXRlRm9yUHJlc2lnbmVkKGUsbik6dGhpcy5hZGRIZWFkZXJzKGUsbiksdGhpcy5yZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbj10aGlzLmF1dGhvcml6YXRpb24oZSxuKX0sYWRkSGVhZGVyczpmdW5jdGlvbihlLHQpe3RoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl09dCxlLnNlc3Npb25Ub2tlbiYmKHRoaXMucmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdPWUuc2Vzc2lvblRva2VuKX0sdXBkYXRlRm9yUHJlc2lnbmVkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVkZW50aWFsU3RyaW5nKHQpLG89eyJYLUFtei1EYXRlIjp0LCJYLUFtei1BbGdvcml0aG0iOnRoaXMuYWxnb3JpdGhtLCJYLUFtei1DcmVkZW50aWFsIjplLmFjY2Vzc0tleUlkKyIvIituLCJYLUFtei1FeHBpcmVzIjp0aGlzLnJlcXVlc3QuaGVhZGVyc1thXSwiWC1BbXotU2lnbmVkSGVhZGVycyI6dGhpcy5zaWduZWRIZWFkZXJzKCl9O2Uuc2Vzc2lvblRva2VuJiYob1siWC1BbXotU2VjdXJpdHktVG9rZW4iXT1lLnNlc3Npb25Ub2tlbiksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdJiYob1siQ29udGVudC1UeXBlIl09dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1NRDUiXSYmKG9bIkNvbnRlbnQtTUQ1Il09dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il0pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJDYWNoZS1Db250cm9sIl0mJihvWyJDYWNoZS1Db250cm9sIl09dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNhY2hlLUNvbnRyb2wiXSksci51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbihlLHQpe2lmKGUhPT1hJiZ0aGlzLmlzU2lnbmFibGVIZWFkZXIoZSkpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTswPT09bi5pbmRleE9mKCJ4LWFtei1tZXRhLSIpP29bbl09dDowPT09bi5pbmRleE9mKCJ4LWFtei0iKSYmKG9bZV09dCl9fSkpO3ZhciBpPXRoaXMucmVxdWVzdC5wYXRoLmluZGV4T2YoIj8iKT49MD8iJiI6Ij8iO3RoaXMucmVxdWVzdC5wYXRoKz1pK3IudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKG8pfSxhdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj10aGlzLmNyZWRlbnRpYWxTdHJpbmcodCk7cmV0dXJuIG4ucHVzaCh0aGlzLmFsZ29yaXRobSsiIENyZWRlbnRpYWw9IitlLmFjY2Vzc0tleUlkKyIvIityKSxuLnB1c2goIlNpZ25lZEhlYWRlcnM9Iit0aGlzLnNpZ25lZEhlYWRlcnMoKSksbi5wdXNoKCJTaWduYXR1cmU9Iit0aGlzLnNpZ25hdHVyZShlLHQpKSxuLmpvaW4oIiwgIil9LHNpZ25hdHVyZTpmdW5jdGlvbihlLHQpe3ZhciBuPW8uZ2V0U2lnbmluZ0tleShlLHQuc3Vic3RyKDAsOCksdGhpcy5yZXF1ZXN0LnJlZ2lvbix0aGlzLnNlcnZpY2VOYW1lLHRoaXMuc2lnbmF0dXJlQ2FjaGUpO3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMobix0aGlzLnN0cmluZ1RvU2lnbih0KSwiaGV4Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC5wdXNoKCJBV1M0LUhNQUMtU0hBMjU2IiksdC5wdXNoKGUpLHQucHVzaCh0aGlzLmNyZWRlbnRpYWxTdHJpbmcoZSkpLHQucHVzaCh0aGlzLmhleEVuY29kZWRIYXNoKHRoaXMuY2Fub25pY2FsU3RyaW5nKCkpKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcy5yZXF1ZXN0LnBhdGhuYW1lKCk7cmV0dXJuInMzIiE9PXRoaXMuc2VydmljZU5hbWUmJiJzM3Y0IiE9PXRoaXMuc2lnbmF0dXJlVmVyc2lvbiYmKHQ9ci51dGlsLnVyaUVzY2FwZVBhdGgodCkpLGUucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKSxlLnB1c2godCksZS5wdXNoKHRoaXMucmVxdWVzdC5zZWFyY2goKSksZS5wdXNoKHRoaXMuY2Fub25pY2FsSGVhZGVycygpKyJcbiIpLGUucHVzaCh0aGlzLnNpZ25lZEhlYWRlcnMoKSksZS5wdXNoKHRoaXMuaGV4RW5jb2RlZEJvZHlIYXNoKCkpLGUuam9pbigiXG4iKX0sY2Fub25pY2FsSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3IudXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCxuKXtlLnB1c2goW3Qsbl0pfSkpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXS50b0xvd2VyQ2FzZSgpPHRbMF0udG9Mb3dlckNhc2UoKT8tMToxfSkpO3ZhciB0PVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlKXt2YXIgbj1lWzBdLnRvTG93ZXJDYXNlKCk7aWYodGhpcy5pc1NpZ25hYmxlSGVhZGVyKG4pKXt2YXIgbz1lWzFdO2lmKG51bGw9PW98fCJmdW5jdGlvbiIhPXR5cGVvZiBvLnRvU3RyaW5nKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIkhlYWRlciAiK24rIiBjb250YWlucyBpbnZhbGlkIHZhbHVlIikse2NvZGU6IkludmFsaWRIZWFkZXIifSk7dC5wdXNoKG4rIjoiK3RoaXMuY2Fub25pY2FsSGVhZGVyVmFsdWVzKG8udG9TdHJpbmcoKSkpfX0pKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbEhlYWRlclZhbHVlczpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9ccysvZywiICIpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sc2lnbmVkSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiByLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQpe3Q9dC50b0xvd2VyQ2FzZSgpLHRoaXMuaXNTaWduYWJsZUhlYWRlcih0KSYmZS5wdXNoKHQpfSkpLGUuc29ydCgpLmpvaW4oIjsiKX0sY3JlZGVudGlhbFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gby5jcmVhdGVTY29wZShlLnN1YnN0cigwLDgpLHRoaXMucmVxdWVzdC5yZWdpb24sdGhpcy5zZXJ2aWNlTmFtZSl9LGhleEVuY29kZWRIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLnNoYTI1NihlLCJoZXgiKX0saGV4RW5jb2RlZEJvZHlIYXNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0O3JldHVybiB0aGlzLmlzUHJlc2lnbmVkKCkmJlsiczMiLCJzMy1vYmplY3QtbGFtYmRhIl0uaW5kZXhPZih0aGlzLnNlcnZpY2VOYW1lKT4tMSYmIWUuYm9keT8iVU5TSUdORUQtUEFZTE9BRCI6ZS5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdP2UuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXTp0aGlzLmhleEVuY29kZWRIYXNoKHRoaXMucmVxdWVzdC5ib2R5fHwiIil9LHVuc2lnbmFibGVIZWFkZXJzOlsiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtdHlwZSIsImNvbnRlbnQtbGVuZ3RoIiwidXNlci1hZ2VudCIsYSwiZXhwZWN0IiwieC1hbXpuLXRyYWNlLWlkIl0saXNTaWduYWJsZUhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJ4LWFtei0iKXx8dGhpcy51bnNpZ25hYmxlSGVhZGVycy5pbmRleE9mKGUpPDB9LGlzUHJlc2lnbmVkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnJlcXVlc3QuaGVhZGVyc1thXX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlY0fSx7Ii4uL2NvcmUiOjE5LCIuL3Y0X2NyZWRlbnRpYWxzIjo3Mn1dLDcyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89e30saT1bXSxhPSJhd3M0X3JlcXVlc3QiO3QuZXhwb3J0cz17Y3JlYXRlU2NvcGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybltlLnN1YnN0cigwLDgpLHQsbixhXS5qb2luKCIvIil9LGdldFNpZ25pbmdLZXk6ZnVuY3Rpb24oZSx0LG4scyxjKXt2YXIgdT1bci51dGlsLmNyeXB0by5obWFjKGUuc2VjcmV0QWNjZXNzS2V5LGUuYWNjZXNzS2V5SWQsImJhc2U2NCIpLHQsbixzXS5qb2luKCJfIik7aWYoKGM9ITEhPT1jKSYmdSBpbiBvKXJldHVybiBvW3VdO3ZhciBsPXIudXRpbC5jcnlwdG8uaG1hYygiQVdTNCIrZS5zZWNyZXRBY2Nlc3NLZXksdCwiYnVmZmVyIikscD1yLnV0aWwuY3J5cHRvLmhtYWMobCxuLCJidWZmZXIiKSxkPXIudXRpbC5jcnlwdG8uaG1hYyhwLHMsImJ1ZmZlciIpLGg9ci51dGlsLmNyeXB0by5obWFjKGQsYSwiYnVmZmVyIik7cmV0dXJuIGMmJihvW3VdPWgsaS5wdXNoKHUpLGkubGVuZ3RoPjUwJiZkZWxldGUgb1tpLnNoaWZ0KCldKSxofSxlbXB0eUNhY2hlOmZ1bmN0aW9uKCl7bz17fSxpPVtdfX19LHsiLi4vY29yZSI6MTl9XSw3MzpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXt0aGlzLmN1cnJlbnRTdGF0ZT10fHxudWxsLHRoaXMuc3RhdGVzPWV8fHt9fXIucHJvdG90eXBlLnJ1blRvPWZ1bmN0aW9uKGUsdCxuLHIpeyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYocj1uLG49dCx0PWUsZT1udWxsKTt2YXIgbz10aGlzLGk9by5zdGF0ZXNbby5jdXJyZW50U3RhdGVdO2kuZm4uY2FsbChufHxvLHIsKGZ1bmN0aW9uKHIpe2lmKHIpe2lmKCFpLmZhaWwpcmV0dXJuIHQ/dC5jYWxsKG4scik6bnVsbDtvLmN1cnJlbnRTdGF0ZT1pLmZhaWx9ZWxzZXtpZighaS5hY2NlcHQpcmV0dXJuIHQ/dC5jYWxsKG4pOm51bGw7by5jdXJyZW50U3RhdGU9aS5hY2NlcHR9aWYoby5jdXJyZW50U3RhdGU9PT1lKXJldHVybiB0P3QuY2FsbChuLHIpOm51bGw7by5ydW5UbyhlLHQsbixyKX0pKX0sci5wcm90b3R5cGUuYWRkU3RhdGU9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHI9dCx0PW51bGwsbj1udWxsKToiZnVuY3Rpb24iPT10eXBlb2YgbiYmKHI9bixuPW51bGwpLHRoaXMuY3VycmVudFN0YXRlfHwodGhpcy5jdXJyZW50U3RhdGU9ZSksdGhpcy5zdGF0ZXNbZV09e2FjY2VwdDp0LGZhaWw6bixmbjpyfSx0aGlzfSx0LmV4cG9ydHM9cn0se31dLDc0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4scil7KGZ1bmN0aW9uKCl7dmFyIGksYT17ZW52aXJvbm1lbnQ6Im5vZGVqcyIsZW5naW5lOmZ1bmN0aW9uKCl7aWYoYS5pc0Jyb3dzZXIoKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3IpcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7dmFyIGU9bi5wbGF0Zm9ybSsiLyIrbi52ZXJzaW9uO3JldHVybiBuLmVudi5BV1NfRVhFQ1VUSU9OX0VOViYmKGUrPSIgZXhlYy1lbnYvIituLmVudi5BV1NfRVhFQ1VUSU9OX0VOViksZX0sdXNlckFnZW50OmZ1bmN0aW9uKCl7dmFyIHQ9YS5lbnZpcm9ubWVudCxuPSJhd3Mtc2RrLSIrdCsiLyIrZSgiLi9jb3JlIikuVkVSU0lPTjtyZXR1cm4ibm9kZWpzIj09PXQmJihuKz0iICIrYS5lbmdpbmUoKSksbn0sdXJpRXNjYXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWVuY29kZVVSSUNvbXBvbmVudChlKTtyZXR1cm4gdD0odD10LnJlcGxhY2UoL1teQS1aYS16MC05Xy5+XC0lXSsvZyxlc2NhcGUpKS5yZXBsYWNlKC9bKl0vZywoZnVuY3Rpb24oZSl7cmV0dXJuIiUiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pKX0sdXJpRXNjYXBlUGF0aDpmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gYS5hcnJheUVhY2goZS5zcGxpdCgiLyIpLChmdW5jdGlvbihlKXt0LnB1c2goYS51cmlFc2NhcGUoZSkpfSkpLHQuam9pbigiLyIpfSx1cmxQYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gYS51cmwucGFyc2UoZSl9LHVybEZvcm1hdDpmdW5jdGlvbihlKXtyZXR1cm4gYS51cmwuZm9ybWF0KGUpfSxxdWVyeVN0cmluZ1BhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBhLnF1ZXJ5c3RyaW5nLnBhcnNlKGUpfSxxdWVyeVBhcmFtc1RvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49YS51cmlFc2NhcGUscj1PYmplY3Qua2V5cyhlKS5zb3J0KCk7cmV0dXJuIGEuYXJyYXlFYWNoKHIsKGZ1bmN0aW9uKHIpe3ZhciBvPWVbcl0saT1uKHIpLHM9aSsiPSI7aWYoQXJyYXkuaXNBcnJheShvKSl7dmFyIGM9W107YS5hcnJheUVhY2gobywoZnVuY3Rpb24oZSl7Yy5wdXNoKG4oZSkpfSkpLHM9aSsiPSIrYy5zb3J0KCkuam9pbigiJiIraSsiPSIpfWVsc2UgbnVsbCE9byYmKHM9aSsiPSIrbihvKSk7dC5wdXNoKHMpfSkpLHQuam9pbigiJiIpfSxyZWFkRmlsZVN5bmM6ZnVuY3Rpb24odCl7cmV0dXJuIGEuaXNCcm93c2VyKCk/bnVsbDplKCJmcyIpLnJlYWRGaWxlU3luYyh0LCJ1dGYtOCIpfSxiYXNlNjQ6e2VuY29kZTpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBiYXNlNjQgZW5jb2RlIG51bWJlciAiK2UpKTtyZXR1cm4gbnVsbD09ZT9lOmEuYnVmZmVyLnRvQnVmZmVyKGUpLnRvU3RyaW5nKCJiYXNlNjQiKX0sZGVjb2RlOmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSl0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IGJhc2U2NCBkZWNvZGUgbnVtYmVyICIrZSkpO3JldHVybiBudWxsPT1lP2U6YS5idWZmZXIudG9CdWZmZXIoZSwiYmFzZTY0Iil9fSxidWZmZXI6e3RvQnVmZmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGEuQnVmZmVyLmZyb20mJmEuQnVmZmVyLmZyb20hPT1VaW50OEFycmF5LmZyb20/YS5CdWZmZXIuZnJvbShlLHQpOm5ldyBhLkJ1ZmZlcihlLHQpfSxhbGxvYzpmdW5jdGlvbihlLHQsbil7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigic2l6ZSBwYXNzZWQgdG8gYWxsb2MgbXVzdCBiZSBhIG51bWJlci4iKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS5CdWZmZXIuYWxsb2MpcmV0dXJuIGEuQnVmZmVyLmFsbG9jKGUsdCxuKTt2YXIgcj1uZXcgYS5CdWZmZXIoZSk7cmV0dXJuIHZvaWQgMCE9PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiByLmZpbGwmJnIuZmlsbCh0LHZvaWQgMCx2b2lkIDAsbikscn0sdG9TdHJlYW06ZnVuY3Rpb24oZSl7YS5CdWZmZXIuaXNCdWZmZXIoZSl8fChlPWEuYnVmZmVyLnRvQnVmZmVyKGUpKTt2YXIgdD1uZXcgYS5zdHJlYW0uUmVhZGFibGUsbj0wO3JldHVybiB0Ll9yZWFkPWZ1bmN0aW9uKHIpe2lmKG4+PWUubGVuZ3RoKXJldHVybiB0LnB1c2gobnVsbCk7dmFyIG89bityO28+ZS5sZW5ndGgmJihvPWUubGVuZ3RoKSx0LnB1c2goZS5zbGljZShuLG8pKSxuPW99LHR9LGNvbmNhdDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MCxvPTA7Zm9yKG49MDtuPGUubGVuZ3RoO24rKylyKz1lW25dLmxlbmd0aDtmb3IodD1hLmJ1ZmZlci5hbGxvYyhyKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS5jb3B5KHQsbyksbys9ZVtuXS5sZW5ndGg7cmV0dXJuIHR9fSxzdHJpbmc6e2J5dGVMZW5ndGg6ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gMDtpZigic3RyaW5nIj09dHlwZW9mIHQmJih0PWEuYnVmZmVyLnRvQnVmZmVyKHQpKSwibnVtYmVyIj09dHlwZW9mIHQuYnl0ZUxlbmd0aClyZXR1cm4gdC5ieXRlTGVuZ3RoO2lmKCJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgpcmV0dXJuIHQubGVuZ3RoO2lmKCJudW1iZXIiPT10eXBlb2YgdC5zaXplKXJldHVybiB0LnNpemU7aWYoInN0cmluZyI9PXR5cGVvZiB0LnBhdGgpcmV0dXJuIGUoImZzIikubHN0YXRTeW5jKHQucGF0aCkuc2l6ZTt0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IGRldGVybWluZSBsZW5ndGggb2YgIit0KSx7b2JqZWN0OnR9KX0sdXBwZXJGaXJzdDpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpfSxsb3dlckZpcnN0OmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdLnRvTG93ZXJDYXNlKCkrZS5zdWJzdHIoMSl9fSxpbmk6e3BhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0LG49e307cmV0dXJuIGEuYXJyYXlFYWNoKGUuc3BsaXQoL1xyP1xuLyksKGZ1bmN0aW9uKGUpe2lmKCJbIj09PShlPWUuc3BsaXQoLyhefFxzKVs7I10vKVswXS50cmltKCkpWzBdJiYiXSI9PT1lW2UubGVuZ3RoLTFdKXtpZigiX19wcm90b19fIj09PSh0PWUuc3Vic3RyaW5nKDEsZS5sZW5ndGgtMSkpfHwiX19wcm90b19fIj09PXQuc3BsaXQoL1xzLylbMV0pdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBsb2FkIHByb2ZpbGUgbmFtZSAnIit0KyInIGZyb20gc2hhcmVkIGluaSBmaWxlLiIpKX1lbHNlIGlmKHQpe3ZhciByPWUuaW5kZXhPZigiPSIpLG89ZS5sZW5ndGgtMTtpZigtMSE9PXImJjAhPT1yJiZyIT09byl7dmFyIGk9ZS5zdWJzdHJpbmcoMCxyKS50cmltKCkscz1lLnN1YnN0cmluZyhyKzEpLnRyaW0oKTtuW3RdPW5bdF18fHt9LG5bdF1baV09c319fSkpLG59fSxmbjp7bm9vcDpmdW5jdGlvbigpe30sY2FsbGJhY2s6ZnVuY3Rpb24oZSl7aWYoZSl0aHJvdyBlfSxtYWtlQXN5bmM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmdDw9ZS5sZW5ndGg/ZTpmdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTt0LnBvcCgpKGUuYXBwbHkobnVsbCx0KSl9fX0sZGF0ZTp7Z2V0RGF0ZTpmdW5jdGlvbigpe3JldHVybiBpfHwoaT1lKCIuL2NvcmUiKSksaS5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ/bmV3IERhdGUoKG5ldyBEYXRlKS5nZXRUaW1lKCkraS5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpOm5ldyBEYXRlfSxpc284NjAxOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1hLmRhdGUuZ2V0RGF0ZSgpKSxlLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXC5cZHszfVokLywiWiIpfSxyZmM4MjI6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWEuZGF0ZS5nZXREYXRlKCkpLGUudG9VVENTdHJpbmcoKX0sdW5peFRpbWVzdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9YS5kYXRlLmdldERhdGUoKSksZS5nZXRUaW1lKCkvMWUzfSxmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZT9uZXcgRGF0ZSgxZTMqZSk6bmV3IERhdGUoZSl9LGZvcm1hdDpmdW5jdGlvbihlLHQpe3JldHVybiB0fHwodD0iaXNvODYwMSIpLGEuZGF0ZVt0XShhLmRhdGUuZnJvbShlKSl9LHBhcnNlVGltZXN0YW1wOmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gbmV3IERhdGUoMWUzKmUpO2lmKGUubWF0Y2goL15cZCskLykpcmV0dXJuIG5ldyBEYXRlKDFlMyplKTtpZihlLm1hdGNoKC9eXGR7NH0vKSlyZXR1cm4gbmV3IERhdGUoZSk7aWYoZS5tYXRjaCgvXlx3ezN9LC8pKXJldHVybiBuZXcgRGF0ZShlKTt0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigidW5oYW5kbGVkIHRpbWVzdGFtcCBmb3JtYXQ6ICIrZSkse2NvZGU6IlRpbWVzdGFtcFBhcnNlckVycm9yIn0pfX0sY3J5cHRvOntjcmMzMlRhYmxlOlswLDE5OTY5NTk4OTQsMzk5MzkxOTc4OCwyNTY3NTI0Nzk0LDEyNDYzNDEzNywxODg2MDU3NjE1LDM5MTU2MjE2ODUsMjY1NzM5MjAzNSwyNDkyNjgyNzQsMjA0NDUwODMyNCwzNzcyMTE1MjMwLDI1NDcxNzc4NjQsMTYyOTQxOTk1LDIxMjU1NjEwMjEsMzg4NzYwNzA0NywyNDI4NDQ0MDQ5LDQ5ODUzNjU0OCwxNzg5OTI3NjY2LDQwODkwMTY2NDgsMjIyNzA2MTIxNCw0NTA1NDg4NjEsMTg0MzI1ODYwMyw0MTA3NTgwNzUzLDIyMTE2Nzc2MzksMzI1ODgzOTkwLDE2ODQ3NzcxNTIsNDI1MTEyMjA0MiwyMzIxOTI2NjM2LDMzNTYzMzQ4NywxNjYxMzY1NDY1LDQxOTUzMDI3NTUsMjM2NjExNTMxNyw5OTcwNzMwOTYsMTI4MTk1Mzg4NiwzNTc5ODU1MzMyLDI3MjQ2ODgyNDIsMTAwNjg4ODE0NSwxMjU4NjA3Njg3LDM1MjQxMDE2MjksMjc2ODk0MjQ0Myw5MDEwOTc3MjIsMTExOTAwMDY4NCwzNjg2NTE3MjA2LDI4OTgwNjU3MjgsODUzMDQ0NDUxLDExNzIyNjYxMDEsMzcwNTAxNTc1OSwyODgyNjE2NjY1LDY1MTc2Nzk4MCwxMzczNTAzNTQ2LDMzNjk1NTQzMDQsMzIxODEwNDU5OCw1NjU1MDcyNTMsMTQ1NDYyMTczMSwzNDg1MTExNzA1LDMwOTk0MzYzMDMsNjcxMjY2OTc0LDE1OTQxOTgwMjQsMzMyMjczMDkzMCwyOTcwMzQ3ODEyLDc5NTgzNTUyNywxNDgzMjMwMjI1LDMyNDQzNjcyNzUsMzA2MDE0OTU2NSwxOTk0MTQ2MTkyLDMxMTU4NTM0LDI1NjM5MDc3NzIsNDAyMzcxNzkzMCwxOTA3NDU5NDY1LDExMjYzNzIxNSwyNjgwMTUzMjUzLDM5MDQ0MjcwNTksMjAxMzc3NjI5MCwyNTE3MjIwMzYsMjUxNzIxNTM3NCwzNzc1ODMwMDQwLDIxMzc2NTY3NjMsMTQxMzc2ODEzLDI0MzkyNzc3MTksMzg2NTI3MTI5NywxODAyMTk1NDQ0LDQ3Njg2NDg2NiwyMjM4MDAxMzY4LDQwNjY1MDg4NzgsMTgxMjM3MDkyNSw0NTMwOTI3MzEsMjE4MTYyNTAyNSw0MTExNDUxMjIzLDE3MDYwODg5MDIsMzE0MDQyNzA0LDIzNDQ1MzIyMDIsNDI0MDAxNzUzMiwxNjU4NjU4MjcxLDM2NjYxOTk3NywyMzYyNjcwMzIzLDQyMjQ5OTQ0MDUsMTMwMzUzNTk2MCw5ODQ5NjE0ODYsMjc0NzAwNzA5MiwzNTY5MDM3NTM4LDEyNTYxNzA4MTcsMTAzNzYwNDMxMSwyNzY1MjEwNzMzLDM1NTQwNzk5OTUsMTEzMTAxNDUwNiw4Nzk2Nzk5OTYsMjkwOTI0MzQ2MiwzNjYzNzcxODU2LDExNDExMjQ0NjcsODU1ODQyMjc3LDI4NTI4MDE2MzEsMzcwODY0ODY0OSwxMzQyNTMzOTQ4LDY1NDQ1OTMwNiwzMTg4Mzk2MDQ4LDMzNzMwMTUxNzQsMTQ2NjQ3OTkwOSw1NDQxNzk2MzUsMzExMDUyMzkxMywzNDYyNTIyMDE1LDE1OTE2NzEwNTQsNzAyMTM4Nzc2LDI5NjY0NjA0NTAsMzM1Mjc5OTQxMiwxNTA0OTE4ODA3LDc4MzU1MTg3MywzMDgyNjQwNDQzLDMyMzM0NDI5ODksMzk4ODI5MjM4NCwyNTk2MjU0NjQ2LDYyMzE3MDY4LDE5NTc4MTA4NDIsMzkzOTg0NTk0NSwyNjQ3ODE2MTExLDgxNDcwOTk3LDE5NDM4MDM1MjMsMzgxNDkxODkzMCwyNDg5NTk2ODA0LDIyNTI3NDQzMCwyMDUzNzkwMzc2LDM4MjYxNzU3NTUsMjQ2NjkwNjAxMywxNjc4MTY3NDMsMjA5NzY1MTM3Nyw0MDI3NTUyNTgwLDIyNjU0OTAzODYsNTAzNDQ0MDcyLDE3NjIwNTA4MTQsNDE1MDQxNzI0NSwyMTU0MTI5MzU1LDQyNjUyMjIyNSwxODUyNTA3ODc5LDQyNzUzMTM1MjYsMjMxMjMxNzkyMCwyODI3NTM2MjYsMTc0MjU1NTg1Miw0MTg5NzA4MTQzLDIzOTQ4Nzc5NDUsMzk3OTE3NzYzLDE2MjIxODM2MzcsMzYwNDM5MDg4OCwyNzE0ODY2NTU4LDk1MzcyOTczMiwxMzQwMDc2NjI2LDM1MTg3MTk5ODUsMjc5NzM2MDk5OSwxMDY4ODI4MzgxLDEyMTk2Mzg4NTksMzYyNDc0MTg1MCwyOTM2Njc1MTQ4LDkwNjE4NTQ2MiwxMDkwODEyNTEyLDM3NDc2NzIwMDMsMjgyNTM3OTY2OSw4MjkzMjkxMzUsMTE4MTMzNTE2MSwzNDEyMTc3ODA0LDMxNjA4MzQ4NDIsNjI4MDg1NDA4LDEzODI2MDUzNjYsMzQyMzM2OTEwOSwzMTM4MDc4NDY3LDU3MDU2MjIzMywxNDI2NDAwODE1LDMzMTczMTY1NDIsMjk5ODczMzYwOCw3MzMyMzk5NTQsMTU1NTI2MTk1NiwzMjY4OTM1NTkxLDMwNTAzNjA2MjUsNzUyNDU5NDAzLDE1NDEzMjAyMjEsMjYwNzA3MTkyMCwzOTY1OTczMDMwLDE5Njk5MjI5NzIsNDA3MzU0OTgsMjYxNzgzNzIyNSwzOTQzNTc3MTUxLDE5MTMwODc4NzcsODM5MDgzNzEsMjUxMjM0MTYzNCwzODAzNzQwNjkyLDIwNzUyMDg2MjIsMjEzMjYxMTEyLDI0NjMyNzI2MDMsMzg1NTk5MDI4NSwyMDk0ODU0MDcxLDE5ODk1ODg4MSwyMjYyMDI5MDEyLDQwNTcyNjA2MTAsMTc1OTM1OTk5Miw1MzQ0MTQxOTAsMjE3NjcxODU0MSw0MTM5MzI5MTE1LDE4NzM4MzYwMDEsNDE0NjY0NTY3LDIyODIyNDg5MzQsNDI3OTIwMDM2OCwxNzExNjg0NTU0LDI4NTI4MTExNiwyNDA1ODAxNzI3LDQxNjcyMTY3NDUsMTYzNDQ2Nzc5NSwzNzYyMjk3MDEsMjY4NTA2Nzg5NiwzNjA4MDA3NDA2LDEzMDg5MTg2MTIsOTU2NTQzOTM4LDI4MDg1NTUxMDUsMzQ5NTk1ODI2MywxMjMxNjM2MzAxLDEwNDc0MjcwMzUsMjkzMjk1OTgxOCwzNjU0NzAzODM2LDEwODgzNTkyNzAsOTM2OTE4ZTMsMjg0NzcxNDg5OSwzNzM2ODM3ODI5LDEyMDI5MDA4NjMsODE3MjMzODk3LDMxODMzNDIxMDgsMzQwMTIzNzEzMCwxNDA0Mjc3NTUyLDYxNTgxODE1MCwzMTM0MjA3NDkzLDM0NTM0MjEyMDMsMTQyMzg1NzQ0OSw2MDE0NTA0MzEsMzAwOTgzNzYxNCwzMjk0NzEwNDU2LDE1NjcxMDM3NDYsNzExOTI4NzI0LDMwMjA2Njg0NzEsMzI3MjM4MDA2NSwxNTEwMzM0MjM1LDc1NTE2NzExN10sY3JjMzI6ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jcnlwdG8uY3JjMzJUYWJsZSxuPS0xOyJzdHJpbmciPT10eXBlb2YgZSYmKGU9YS5idWZmZXIudG9CdWZmZXIoZSkpO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKW49bj4+PjhedFsyNTUmKG5eZS5yZWFkVUludDgocikpXTtyZXR1cm5+bj4+PjB9LGhtYWM6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG58fChuPSJiaW5hcnkiKSwiYnVmZmVyIj09PW4mJihuPXZvaWQgMCkscnx8KHI9InNoYTI1NiIpLCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9YS5idWZmZXIudG9CdWZmZXIodCkpLGEuY3J5cHRvLmxpYi5jcmVhdGVIbWFjKHIsZSkudXBkYXRlKHQpLmRpZ2VzdChuKX0sbWQ1OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5jcnlwdG8uaGFzaCgibWQ1IixlLHQsbil9LHNoYTI1NjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuY3J5cHRvLmhhc2goInNoYTI1NiIsZSx0LG4pfSxoYXNoOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPWEuY3J5cHRvLmNyZWF0ZUhhc2goZSk7bnx8KG49ImJpbmFyeSIpLCJidWZmZXIiPT09biYmKG49dm9pZCAwKSwic3RyaW5nIj09dHlwZW9mIHQmJih0PWEuYnVmZmVyLnRvQnVmZmVyKHQpKTt2YXIgcz1hLmFycmF5U2xpY2VGbih0KSxjPWEuQnVmZmVyLmlzQnVmZmVyKHQpO2lmKGEuaXNCcm93c2VyKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQmJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXImJihjPSEwKSxyJiYib2JqZWN0Ij09PW8odCkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0Lm9uJiYhYyl0Lm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7aS51cGRhdGUoZSl9KSksdC5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtyKGUpfSkpLHQub24oImVuZCIsKGZ1bmN0aW9uKCl7cihudWxsLGkuZGlnZXN0KG4pKX0pKTtlbHNle2lmKCFyfHwhc3x8Y3x8InVuZGVmaW5lZCI9PXR5cGVvZiBGaWxlUmVhZGVyKXthLmlzQnJvd3NlcigpJiYib2JqZWN0Ij09PW8odCkmJiFjJiYodD1uZXcgYS5CdWZmZXIobmV3IFVpbnQ4QXJyYXkodCkpKTt2YXIgdT1pLnVwZGF0ZSh0KS5kaWdlc3Qobik7cmV0dXJuIHImJnIobnVsbCx1KSx1fXZhciBsPTAscD1uZXcgRmlsZVJlYWRlcjtwLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKG5ldyBFcnJvcigiRmFpbGVkIHRvIHJlYWQgZGF0YS4iKSl9LHAub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGEuQnVmZmVyKG5ldyBVaW50OEFycmF5KHAucmVzdWx0KSk7aS51cGRhdGUoZSksbCs9ZS5sZW5ndGgscC5fY29udGludWVSZWFkaW5nKCl9LHAuX2NvbnRpbnVlUmVhZGluZz1mdW5jdGlvbigpe2lmKGw+PXQuc2l6ZSlyKG51bGwsaS5kaWdlc3QobikpO2Vsc2V7dmFyIGU9bCs1MjQyODg7ZT50LnNpemUmJihlPXQuc2l6ZSkscC5yZWFkQXNBcnJheUJ1ZmZlcihzLmNhbGwodCxsLGUpKX19LHAuX2NvbnRpbnVlUmVhZGluZygpfX0sdG9IZXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goKCIwIitlLmNoYXJDb2RlQXQobikudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTIsMikpO3JldHVybiB0LmpvaW4oIiIpfSxjcmVhdGVIYXNoOmZ1bmN0aW9uKGUpe3JldHVybiBhLmNyeXB0by5saWIuY3JlYXRlSGFzaChlKX19LGFib3J0Ont9LGVhY2g6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsbixlW25dKT09PWEuYWJvcnQpYnJlYWt9LGFycmF5RWFjaDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLHBhcnNlSW50KG4sMTApKT09PWEuYWJvcnQpYnJlYWt9LHVwZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBhLmVhY2godCwoZnVuY3Rpb24odCxuKXtlW3RdPW59KSksZX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS51cGRhdGUoYS5jb3B5KGUpLHQpfSxjb3B5OmZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIGU7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dO3JldHVybiB0fSxpc0VtcHR5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfSxhcnJheVNsaWNlRm46ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zbGljZXx8ZS53ZWJraXRTbGljZXx8ZS5tb3pTbGljZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD90Om51bGx9LGlzVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0JiYodD1hLnR5cGVOYW1lKHQpKSxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifSx0eXBlTmFtZTpmdW5jdGlvbihlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwibmFtZSIpKXJldHVybiBlLm5hbWU7dmFyIHQ9ZS50b1N0cmluZygpLG49dC5tYXRjaCgvXlxzKmZ1bmN0aW9uICguKylcKC8pO3JldHVybiBuP25bMV06dH0sZXJyb3I6ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsO2Zvcih2YXIgciBpbiJzdHJpbmciPT10eXBlb2YgZS5tZXNzYWdlJiYiIiE9PWUubWVzc2FnZSYmKCJzdHJpbmciPT10eXBlb2YgdHx8dCYmdC5tZXNzYWdlKSYmKChuPWEuY29weShlKSkubWVzc2FnZT1lLm1lc3NhZ2UpLGUubWVzc2FnZT1lLm1lc3NhZ2V8fG51bGwsInN0cmluZyI9PXR5cGVvZiB0P2UubWVzc2FnZT10OiJvYmplY3QiPT09byh0KSYmbnVsbCE9PXQmJihhLnVwZGF0ZShlLHQpLHQubWVzc2FnZSYmKGUubWVzc2FnZT10Lm1lc3NhZ2UpLCh0LmNvZGV8fHQubmFtZSkmJihlLmNvZGU9dC5jb2RlfHx0Lm5hbWUpLHQuc3RhY2smJihlLnN0YWNrPXQuc3RhY2spKSwiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5JiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm5hbWUiLHt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm1lc3NhZ2UiLHtlbnVtZXJhYmxlOiEwfSkpLGUubmFtZT1TdHJpbmcodCYmdC5uYW1lfHxlLm5hbWV8fGUuY29kZXx8IkVycm9yIiksZS50aW1lPW5ldyBEYXRlLG4mJihlLm9yaWdpbmFsRXJyb3I9biksdHx8e30paWYoIlsiPT09clswXSYmIl0iPT09cltyLmxlbmd0aC0xXSl7aWYoImNvZGUiPT09KHI9ci5zbGljZSgxLC0xKSl8fCJtZXNzYWdlIj09PXIpY29udGludWU7ZVsiWyIrcisiXSJdPSJTZWUgZXJyb3IuIityKyIgZm9yIGRldGFpbHMuIixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTplW3JdfHx0JiZ0W3JdfHxuJiZuW3JdLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX1yZXR1cm4gZX0saW5oZXJpdDpmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw7aWYodm9pZCAwPT09dCl0PWUsZT1PYmplY3Qsbj17fTtlbHNle3ZhciByPWZ1bmN0aW9uKCl7fTtyLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuPW5ldyByfXJldHVybiB0LmNvbnN0cnVjdG9yPT09T2JqZWN0JiYodC5jb25zdHJ1Y3Rvcj1mdW5jdGlvbigpe2lmKGUhPT1PYmplY3QpcmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU9bixhLnVwZGF0ZSh0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSx0KSx0LmNvbnN0cnVjdG9yLl9fc3VwZXJfXz1lLHQuY29uc3RydWN0b3J9LG1peGluOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylmb3IodmFyIG4gaW4gYXJndW1lbnRzW3RdLnByb3RvdHlwZSl7dmFyIHI9YXJndW1lbnRzW3RdLnByb3RvdHlwZVtuXTsiY29uc3RydWN0b3IiIT09biYmKGUucHJvdG90eXBlW25dPXIpfXJldHVybiBlfSxoaWRlUHJvcGVydGllczpmdW5jdGlvbihlLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJmEuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9KSl9LHByb3BlcnR5OmZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOnZvaWQgMD09PXJ8fHJ9OyJmdW5jdGlvbiIhPXR5cGVvZiBufHxvPyhpLnZhbHVlPW4saS53cml0YWJsZT0hMCk6aS5nZXQ9bixPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LGkpfSxtZW1vaXplZFByb3BlcnR5OmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPW51bGw7YS5wcm9wZXJ0eShlLHQsKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT1vJiYobz1uKCkpLG99KSxyKX0saG9pc3RQYXlsb2FkTWVtYmVyOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQub3BlcmF0aW9uLHI9dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW25dLG89ci5vdXRwdXQ7aWYoby5wYXlsb2FkJiYhci5oYXNFdmVudE91dHB1dCl7dmFyIGk9by5tZW1iZXJzW28ucGF5bG9hZF0scz1lLmRhdGFbby5wYXlsb2FkXTsic3RydWN0dXJlIj09PWkudHlwZSYmYS5lYWNoKHMsKGZ1bmN0aW9uKHQsbil7YS5wcm9wZXJ0eShlLmRhdGEsdCxuLCExKX0pKX19LGNvbXB1dGVTaGEyNTY6ZnVuY3Rpb24odCxuKXtpZihhLmlzTm9kZSgpKXt2YXIgcj1hLnN0cmVhbS5TdHJlYW0sbz1lKCJmcyIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByJiZ0IGluc3RhbmNlb2Ygcil7aWYoInN0cmluZyIhPXR5cGVvZiB0LnBhdGgpcmV0dXJuIG4obmV3IEVycm9yKCJOb24tZmlsZSBzdHJlYW0gb2JqZWN0cyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIFNpZ1Y0IikpO3ZhciBpPXt9OyJudW1iZXIiPT10eXBlb2YgdC5zdGFydCYmKGkuc3RhcnQ9dC5zdGFydCksIm51bWJlciI9PXR5cGVvZiB0LmVuZCYmKGkuZW5kPXQuZW5kKSx0PW8uY3JlYXRlUmVhZFN0cmVhbSh0LnBhdGgsaSl9fWEuY3J5cHRvLnNoYTI1Nih0LCJoZXgiLChmdW5jdGlvbihlLHQpe2U/bihlKTpuKG51bGwsdCl9KSl9LGlzQ2xvY2tTa2V3ZWQ6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gYS5wcm9wZXJ0eShpLmNvbmZpZywiaXNDbG9ja1NrZXdlZCIsTWF0aC5hYnMoKG5ldyBEYXRlKS5nZXRUaW1lKCktZSk+PTNlNSwhMSksaS5jb25maWcuaXNDbG9ja1NrZXdlZH0sYXBwbHlDbG9ja09mZnNldDpmdW5jdGlvbihlKXtlJiYoaS5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ9ZS0obmV3IERhdGUpLmdldFRpbWUoKSl9LGV4dHJhY3RSZXF1ZXN0SWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotcmVxdWVzdC1pZCJdfHxlLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl07IXQmJmUuZGF0YSYmZS5kYXRhLlJlc3BvbnNlTWV0YWRhdGEmJih0PWUuZGF0YS5SZXNwb25zZU1ldGFkYXRhLlJlcXVlc3RJZCksdCYmKGUucmVxdWVzdElkPXQpLGUuZXJyb3ImJihlLmVycm9yLnJlcXVlc3RJZD10KX0sYWRkUHJvbWlzZXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMTt2b2lkIDA9PT10JiZpJiZpLmNvbmZpZyYmKHQ9aS5jb25maWcuZ2V0UHJvbWlzZXNEZXBlbmRlbmN5KCkpLHZvaWQgMD09PXQmJiJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZSYmKHQ9UHJvbWlzZSksImZ1bmN0aW9uIiE9dHlwZW9mIHQmJihuPSEwKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO24/by5kZWxldGVQcm9taXNlc0Zyb21DbGFzcyYmby5kZWxldGVQcm9taXNlc0Zyb21DbGFzcygpOm8uYWRkUHJvbWlzZXNUb0NsYXNzJiZvLmFkZFByb21pc2VzVG9DbGFzcyh0KX19LHByb21pc2lmeU1ldGhvZDpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXRoaXMscj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxvKXtyLnB1c2goKGZ1bmN0aW9uKGUsbil7ZT9vKGUpOnQobil9KSksbltlXS5hcHBseShuLHIpfSkpfX0saXNEdWFsc3RhY2tBdmFpbGFibGU6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7dmFyIG49ZSgiLi4vYXBpcy9tZXRhZGF0YS5qc29uIik7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYodD10LnNlcnZpY2VJZGVudGlmaWVyKSwhKCJzdHJpbmciIT10eXBlb2YgdHx8IW4uaGFzT3duUHJvcGVydHkodCl8fCFuW3RdLmR1YWxzdGFja0F2YWlsYWJsZSl9LGNhbGN1bGF0ZVJldHJ5RGVsYXk6ZnVuY3Rpb24oZSx0LG4pe3R8fCh0PXt9KTt2YXIgcj10LmN1c3RvbUJhY2tvZmZ8fG51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHIpcmV0dXJuIHIoZSxuKTt2YXIgbz0ibnVtYmVyIj09dHlwZW9mIHQuYmFzZT90LmJhc2U6MTAwO3JldHVybiBNYXRoLnJhbmRvbSgpKihNYXRoLnBvdygyLGUpKm8pfSxoYW5kbGVSZXF1ZXN0V2l0aFJldHJpZXM6ZnVuY3Rpb24oZSx0LG4pe3R8fCh0PXt9KTt2YXIgcj1pLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2UoKSxvPXQuaHR0cE9wdGlvbnN8fHt9LHM9MCxjPWZ1bmN0aW9uKGUpe3ZhciByPXQubWF4UmV0cmllc3x8MDtpZihlJiYiVGltZW91dEVycm9yIj09PWUuY29kZSYmKGUucmV0cnlhYmxlPSEwKSxlJiZlLnJldHJ5YWJsZSYmczxyKXt2YXIgbz1hLmNhbGN1bGF0ZVJldHJ5RGVsYXkocyx0LnJldHJ5RGVsYXlPcHRpb25zLGUpO2lmKG8+PTApcmV0dXJuIHMrKyx2b2lkIHNldFRpbWVvdXQodSxvKyhlLnJldHJ5QWZ0ZXJ8fDApKX1uKGUpfSx1PWZ1bmN0aW9uKCl7dmFyIHQ9IiI7ci5oYW5kbGVSZXF1ZXN0KGUsbywoZnVuY3Rpb24oZSl7ZS5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe3QrPWUudG9TdHJpbmcoKX0pKSxlLm9uKCJlbmQiLChmdW5jdGlvbigpe3ZhciByPWUuc3RhdHVzQ29kZTtpZihyPDMwMCluKG51bGwsdCk7ZWxzZXt2YXIgbz0xZTMqcGFyc2VJbnQoZS5oZWFkZXJzWyJyZXRyeS1hZnRlciJdLDEwKXx8MCxpPWEuZXJyb3IobmV3IEVycm9yLHtzdGF0dXNDb2RlOnIscmV0cnlhYmxlOnI+PTUwMHx8NDI5PT09cn0pO28mJmkucmV0cnlhYmxlJiYoaS5yZXRyeUFmdGVyPW8pLGMoaSl9fSkpfSksYyl9O2kudXRpbC5kZWZlcih1KX0sdXVpZDp7djQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgidXVpZCIpLnY0KCl9fSxjb252ZXJ0UGF5bG9hZFRvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQub3BlcmF0aW9uLHI9dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW25dLm91dHB1dHx8e307ci5wYXlsb2FkJiZlLmRhdGFbci5wYXlsb2FkXSYmKGUuZGF0YVtyLnBheWxvYWRdPWUuZGF0YVtyLnBheWxvYWRdLnRvU3RyaW5nKCkpfSxkZWZlcjpmdW5jdGlvbihlKXsib2JqZWN0Ij09PW8obikmJiJmdW5jdGlvbiI9PXR5cGVvZiBuLm5leHRUaWNrP24ubmV4dFRpY2soZSk6ImZ1bmN0aW9uIj09dHlwZW9mIHI/cihlKTpzZXRUaW1lb3V0KGUsMCl9LGdldFJlcXVlc3RQYXlsb2FkU2hhcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zO2lmKHQpe3ZhciBuPSh0fHx7fSlbZS5vcGVyYXRpb25dO2lmKG4mJm4uaW5wdXQmJm4uaW5wdXQucGF5bG9hZClyZXR1cm4gbi5pbnB1dC5tZW1iZXJzW24uaW5wdXQucGF5bG9hZF19fSxnZXRQcm9maWxlc0Zyb21TaGFyZWRDb25maWc6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxvPXt9O24uZW52W2EuY29uZmlnT3B0SW5FbnZdJiYobz1lLmxvYWRGcm9tKHtpc0NvbmZpZzohMCxmaWxlbmFtZTpuLmVudlthLnNoYXJlZENvbmZpZ0ZpbGVFbnZdfSkpO3ZhciBpPXt9O3RyeXtpPWUubG9hZEZyb20oe2ZpbGVuYW1lOnR8fG4uZW52W2EuY29uZmlnT3B0SW5FbnZdJiZuLmVudlthLnNoYXJlZENyZWRlbnRpYWxzRmlsZUVudl19KX1jYXRjaChlKXtpZighbi5lbnZbYS5jb25maWdPcHRJbkVudl0pdGhyb3cgZX1mb3IodmFyIHM9MCxjPU9iamVjdC5rZXlzKG8pO3M8Yy5sZW5ndGg7cysrKXJbY1tzXV09dShyW2Nbc11dfHx7fSxvW2Nbc11dKTtmb3Iocz0wLGM9T2JqZWN0LmtleXMoaSk7czxjLmxlbmd0aDtzKyspcltjW3NdXT11KHJbY1tzXV18fHt9LGlbY1tzXV0pO3JldHVybiByO2Z1bmN0aW9uIHUoZSx0KXtmb3IodmFyIG49MCxyPU9iamVjdC5rZXlzKHQpO248ci5sZW5ndGg7bisrKWVbcltuXV09dFtyW25dXTtyZXR1cm4gZX19LEFSTjp7dmFsaWRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJjA9PT1lLmluZGV4T2YoImFybjoiKSYmZS5zcGxpdCgiOiIpLmxlbmd0aD49Nn0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiOiIpO3JldHVybntwYXJ0aXRpb246dFsxXSxzZXJ2aWNlOnRbMl0scmVnaW9uOnRbM10sYWNjb3VudElkOnRbNF0scmVzb3VyY2U6dC5zbGljZSg1KS5qb2luKCI6Iil9fSxidWlsZDpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLnNlcnZpY2V8fHZvaWQgMD09PWUucmVnaW9ufHx2b2lkIDA9PT1lLmFjY291bnRJZHx8dm9pZCAwPT09ZS5yZXNvdXJjZSl0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiSW5wdXQgQVJOIG9iamVjdCBpcyBpbnZhbGlkIikpO3JldHVybiJhcm46IisoZS5wYXJ0aXRpb258fCJhd3MiKSsiOiIrZS5zZXJ2aWNlKyI6IitlLnJlZ2lvbisiOiIrZS5hY2NvdW50SWQrIjoiK2UucmVzb3VyY2V9fSxkZWZhdWx0UHJvZmlsZToiZGVmYXVsdCIsY29uZmlnT3B0SW5FbnY6IkFXU19TREtfTE9BRF9DT05GSUciLHNoYXJlZENyZWRlbnRpYWxzRmlsZUVudjoiQVdTX1NIQVJFRF9DUkVERU5USUFMU19GSUxFIixzaGFyZWRDb25maWdGaWxlRW52OiJBV1NfQ09ORklHX0ZJTEUiLGltZHNEaXNhYmxlZEVudjoiQVdTX0VDMl9NRVRBREFUQV9ESVNBQkxFRCJ9O3QuZXhwb3J0cz1hfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpLGUoInRpbWVycyIpLnNldEltbWVkaWF0ZSl9LHsiLi4vYXBpcy9tZXRhZGF0YS5qc29uIjo0LCIuL2NvcmUiOjE5LF9wcm9jZXNzOjkxLGZzOjgyLHRpbWVyczo5OSx1dWlkOjEwMn1dLDc1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vbW9kZWwvc2hhcGUiKTtmdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0KSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKWlmKG5bcl0ucGFyZW50Tm9kZT09PWUpcmV0dXJuIG5bcl19ZnVuY3Rpb24gcyhlLHQpe3N3aXRjaCh0fHwodD17fSksdC50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGMoZSx0KTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXt9LHI9dC5rZXkubmFtZXx8ImtleSIsbz10LnZhbHVlLm5hbWV8fCJ2YWx1ZSIsaT10LmZsYXR0ZW5lZD90Lm5hbWU6ImVudHJ5IixjPWUuZmlyc3RFbGVtZW50Q2hpbGQ7Yzspe2lmKGMubm9kZU5hbWU9PT1pKXt2YXIgdT1hKGMscikudGV4dENvbnRlbnQsbD1hKGMsbyk7blt1XT1zKGwsdC52YWx1ZSl9Yz1jLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gbn0oZSx0KTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPXQuZmxhdHRlbmVkP3QubmFtZTp0Lm1lbWJlci5uYW1lfHwibWVtYmVyIixvPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bzspby5ub2RlTmFtZT09PXImJm4ucHVzaChzKG8sdC5tZW1iZXIpKSxvPW8ubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBufShlLHQpO2Nhc2Ugdm9pZCAwOmNhc2UgbnVsbDpyZXR1cm4gZnVuY3Rpb24oZSl7aWYobnVsbD09ZSlyZXR1cm4iIjtpZighZS5maXJzdEVsZW1lbnRDaGlsZClyZXR1cm4gbnVsbD09PWUucGFyZW50Tm9kZS5wYXJlbnROb2RlP3t9OjA9PT1lLmNoaWxkTm9kZXMubGVuZ3RoPyIiOmUudGV4dENvbnRlbnQ7Zm9yKHZhciB0PXt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319LG49ZS5maXJzdEVsZW1lbnRDaGlsZDtuOyl7dmFyIHI9bi5ub2RlTmFtZTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodC5tZW1iZXJzLHIpP3QubWVtYmVyc1tyXS50eXBlPSJsaXN0Ijp0Lm1lbWJlcnNbcl09e25hbWU6cn0sbj1uLm5leHRFbGVtZW50U2libGluZ31yZXR1cm4gYyhlLHQpfShlKTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQpe2lmKGUuZ2V0QXR0cmlidXRlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZSgiZW5jb2RpbmciKTsiYmFzZTY0Ij09PW4mJih0PW5ldyBvLmNyZWF0ZSh7dHlwZTpufSkpfXZhciByPWUudGV4dENvbnRlbnQ7cmV0dXJuIiI9PT1yJiYocj1udWxsKSwiZnVuY3Rpb24iPT10eXBlb2YgdC50b1R5cGU/dC50b1R5cGUocik6cn0oZSx0KX19ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXt9O3JldHVybiBudWxsPT09ZXx8ci5lYWNoKHQubWVtYmVycywoZnVuY3Rpb24ocixvKXtpZihvLmlzWG1sQXR0cmlidXRlKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5hdHRyaWJ1dGVzLG8ubmFtZSkpe3ZhciBpPWUuYXR0cmlidXRlc1tvLm5hbWVdLnZhbHVlO25bcl09cyh7dGV4dENvbnRlbnQ6aX0sbyl9fWVsc2V7dmFyIGM9by5mbGF0dGVuZWQ/ZTphKGUsby5uYW1lKTtjP25bcl09cyhjLG8pOm8uZmxhdHRlbmVkfHwibGlzdCIhPT1vLnR5cGV8fHQuYXBpLnhtbE5vRGVmYXVsdExpc3RzfHwobltyXT1vLmRlZmF1bHRWYWx1ZSl9fSkpLG59aS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtpZigiIj09PWUucmVwbGFjZSgvXlxzKy8sIiIpKXJldHVybnt9O3ZhciBuLG87dHJ5e2lmKHdpbmRvdy5ET01QYXJzZXIpe3RyeXtuPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwidGV4dC94bWwiKX1jYXRjaChlKXt0aHJvdyByLmVycm9yKG5ldyBFcnJvcigiUGFyc2UgZXJyb3IgaW4gZG9jdW1lbnQiKSx7b3JpZ2luYWxFcnJvcjplLGNvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX1pZihudWxsPT09bi5kb2N1bWVudEVsZW1lbnQpdGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBwYXJzZSBlbXB0eSBkb2N1bWVudC4iKSx7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pO3ZhciBpPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIilbMF07aWYoaSYmKGkucGFyZW50Tm9kZT09PW58fCJib2R5Ij09PWkucGFyZW50Tm9kZS5ub2RlTmFtZXx8aS5wYXJlbnROb2RlLnBhcmVudE5vZGU9PT1ufHwiYm9keSI9PT1pLnBhcmVudE5vZGUucGFyZW50Tm9kZS5ub2RlTmFtZSkpe3ZhciBjPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdfHxpO3Rocm93IHIuZXJyb3IobmV3IEVycm9yKGMudGV4dENvbnRlbnR8fCJQYXJzZXIgZXJyb3IgaW4gZG9jdW1lbnQiKSx7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pfX1lbHNle2lmKCF3aW5kb3cuQWN0aXZlWE9iamVjdCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBsb2FkIFhNTCBwYXJzZXIiKTtpZigobj1uZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSkuYXN5bmM9ITEsIW4ubG9hZFhNTChlKSl0aHJvdyByLmVycm9yKG5ldyBFcnJvcigiUGFyc2UgZXJyb3IgaW4gZG9jdW1lbnQiKSx7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pfX1jYXRjaChlKXtvPWV9aWYobiYmbi5kb2N1bWVudEVsZW1lbnQmJiFvKXt2YXIgdT1zKG4uZG9jdW1lbnRFbGVtZW50LHQpLGw9YShuLmRvY3VtZW50RWxlbWVudCwiUmVzcG9uc2VNZXRhZGF0YSIpO3JldHVybiBsJiYodS5SZXNwb25zZU1ldGFkYXRhPXMobCx7fSkpLHV9aWYobyl0aHJvdyByLmVycm9yKG98fG5ldyBFcnJvcix7Y29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pO3JldHVybnt9fSx0LmV4cG9ydHM9aX0seyIuLi9tb2RlbC9zaGFwZSI6NDUsIi4uL3V0aWwiOjc0fV0sNzY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuL3htbC1ub2RlIikuWG1sTm9kZSxpPWUoIi4veG1sLXRleHQiKS5YbWxUZXh0O2Z1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gcyhlLHQsbil7c3dpdGNoKG4udHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBmdW5jdGlvbihlLHQsbil7ci5hcnJheUVhY2gobi5tZW1iZXJOYW1lcywoZnVuY3Rpb24ocil7dmFyIGk9bi5tZW1iZXJzW3JdO2lmKCJib2R5Ij09PWkubG9jYXRpb24pe3ZhciBhPXRbcl0sdT1pLm5hbWU7aWYobnVsbCE9YSlpZihpLmlzWG1sQXR0cmlidXRlKWUuYWRkQXR0cmlidXRlKHUsYSk7ZWxzZSBpZihpLmZsYXR0ZW5lZClzKGUsYSxpKTtlbHNle3ZhciBsPW5ldyBvKHUpO2UuYWRkQ2hpbGROb2RlKGwpLGMobCxpKSxzKGwsYSxpKX19fSkpfShlLHQsbik7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIGk9bi5rZXkubmFtZXx8ImtleSIsYT1uLnZhbHVlLm5hbWV8fCJ2YWx1ZSI7ci5lYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIGM9bmV3IG8obi5mbGF0dGVuZWQ/bi5uYW1lOiJlbnRyeSIpO2UuYWRkQ2hpbGROb2RlKGMpO3ZhciB1PW5ldyBvKGkpLGw9bmV3IG8oYSk7Yy5hZGRDaGlsZE5vZGUodSksYy5hZGRDaGlsZE5vZGUobCkscyh1LHQsbi5rZXkpLHMobCxyLG4udmFsdWUpfSkpfShlLHQsbik7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe24uZmxhdHRlbmVkP3IuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQpe3ZhciByPW4ubWVtYmVyLm5hbWV8fG4ubmFtZSxpPW5ldyBvKHIpO2UuYWRkQ2hpbGROb2RlKGkpLHMoaSx0LG4ubWVtYmVyKX0pKTpyLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXt2YXIgcj1uLm1lbWJlci5uYW1lfHwibWVtYmVyIixpPW5ldyBvKHIpO2UuYWRkQ2hpbGROb2RlKGkpLHMoaSx0LG4ubWVtYmVyKX0pKX0oZSx0LG4pO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtlLmFkZENoaWxkTm9kZShuZXcgaShuLnRvV2lyZUZvcm1hdCh0KSkpfShlLHQsbil9fWZ1bmN0aW9uIGMoZSx0LG4pe3ZhciByLG89InhtbG5zIjt0LnhtbE5hbWVzcGFjZVVyaT8ocj10LnhtbE5hbWVzcGFjZVVyaSx0LnhtbE5hbWVzcGFjZVByZWZpeCYmKG8rPSI6Iit0LnhtbE5hbWVzcGFjZVByZWZpeCkpOm4mJnQuYXBpLnhtbE5hbWVzcGFjZVVyaSYmKHI9dC5hcGkueG1sTmFtZXNwYWNlVXJpKSxyJiZlLmFkZEF0dHJpYnV0ZShvLHIpfWEucHJvdG90eXBlLnRvWE1MPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPW5ldyBvKG4pO3JldHVybiBjKGksdCwhMCkscyhpLGUsdCksaS5jaGlsZHJlbi5sZW5ndGg+MHx8cj9pLnRvU3RyaW5nKCk6IiJ9LHQuZXhwb3J0cz1hfSx7Ii4uL3V0aWwiOjc0LCIuL3htbC1ub2RlIjo3OSwiLi94bWwtdGV4dCI6ODB9XSw3NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXNjYXBlQXR0cmlidXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC8nL2csIiZhcG9zOyIpLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iil9fX0se31dLDc4OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtlc2NhcGVFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC9cci9nLCImI3gwRDsiKS5yZXBsYWNlKC9cbi9nLCImI3gwQTsiKS5yZXBsYWNlKC9cdTAwODUvZywiJiN4ODU7IikucmVwbGFjZSgvXHUyMDI4LywiJiN4MjAyODsiKX19fSx7fV0sNzk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2VzY2FwZS1hdHRyaWJ1dGUiKS5lc2NhcGVBdHRyaWJ1dGU7ZnVuY3Rpb24gbyhlLHQpe3ZvaWQgMD09PXQmJih0PVtdKSx0aGlzLm5hbWU9ZSx0aGlzLmNoaWxkcmVuPXQsdGhpcy5hdHRyaWJ1dGVzPXt9fW8ucHJvdG90eXBlLmFkZEF0dHJpYnV0ZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbZV09dCx0aGlzfSxvLnByb3RvdHlwZS5hZGRDaGlsZE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2hpbGRyZW4ucHVzaChlKSx0aGlzfSxvLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbZV0sdGhpc30sby5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Qm9vbGVhbih0aGlzLmNoaWxkcmVuLmxlbmd0aCksdD0iPCIrdGhpcy5uYW1lLG49dGhpcy5hdHRyaWJ1dGVzLG89MCxpPU9iamVjdC5rZXlzKG4pO288aS5sZW5ndGg7bysrKXt2YXIgYT1pW29dLHM9blthXTtudWxsIT1zJiYodCs9IiAiK2ErJz0iJytyKCIiK3MpKyciJyl9cmV0dXJuIHQrKGU/Ij4iK3RoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b1N0cmluZygpfSkpLmpvaW4oIiIpKyI8LyIrdGhpcy5uYW1lKyI+IjoiLz4iKX0sdC5leHBvcnRzPXtYbWxOb2RlOm99fSx7Ii4vZXNjYXBlLWF0dHJpYnV0ZSI6Nzd9XSw4MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vZXNjYXBlLWVsZW1lbnQiKS5lc2NhcGVFbGVtZW50O2Z1bmN0aW9uIG8oZSl7dGhpcy52YWx1ZT1lfW8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHIoIiIrdGhpcy52YWx1ZSl9LHQuZXhwb3J0cz17WG1sVGV4dDpvfX0seyIuL2VzY2FwZS1lbGVtZW50Ijo3OH1dLDgxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uYnl0ZUxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1jKGUpLG49dFswXSxyPXRbMV07cmV0dXJuIDMqKG4rcikvNC1yfSxuLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1jKGUpLGE9clswXSxzPXJbMV0sdT1uZXcgaShmdW5jdGlvbihlLHQsbil7cmV0dXJuIDMqKHQrbikvNC1ufSgwLGEscykpLGw9MCxwPXM+MD9hLTQ6YTtmb3Iobj0wO248cDtuKz00KXQ9b1tlLmNoYXJDb2RlQXQobildPDwxOHxvW2UuY2hhckNvZGVBdChuKzEpXTw8MTJ8b1tlLmNoYXJDb2RlQXQobisyKV08PDZ8b1tlLmNoYXJDb2RlQXQobiszKV0sdVtsKytdPXQ+PjE2JjI1NSx1W2wrK109dD4+OCYyNTUsdVtsKytdPTI1NSZ0O3JldHVybiAyPT09cyYmKHQ9b1tlLmNoYXJDb2RlQXQobildPDwyfG9bZS5jaGFyQ29kZUF0KG4rMSldPj40LHVbbCsrXT0yNTUmdCksMT09PXMmJih0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MTB8b1tlLmNoYXJDb2RlQXQobisxKV08PDR8b1tlLmNoYXJDb2RlQXQobisyKV0+PjIsdVtsKytdPXQ+PjgmMjU1LHVbbCsrXT0yNTUmdCksdX0sbi5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLG89biUzLGk9W10sYT0xNjM4MyxzPTAsYz1uLW87czxjO3MrPWEpaS5wdXNoKHUoZSxzLHMrYT5jP2M6cythKSk7cmV0dXJuIDE9PT1vPyh0PWVbbi0xXSxpLnB1c2goclt0Pj4yXStyW3Q8PDQmNjNdKyI9PSIpKToyPT09byYmKHQ9KGVbbi0yXTw8OCkrZVtuLTFdLGkucHVzaChyW3Q+PjEwXStyW3Q+PjQmNjNdK3JbdDw8MiY2M10rIj0iKSksaS5qb2luKCIiKX07Zm9yKHZhciByPVtdLG89W10saT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIixzPTA7czw2NDsrK3MpcltzXT1hW3NdLG9bYS5jaGFyQ29kZUF0KHMpXT1zO2Z1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodCU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIG49ZS5pbmRleE9mKCI9Iik7cmV0dXJuLTE9PT1uJiYobj10KSxbbixuPT09dD8wOjQtbiU0XX1mdW5jdGlvbiB1KGUsdCxuKXtmb3IodmFyIG8saSxhPVtdLHM9dDtzPG47cys9MylvPShlW3NdPDwxNiYxNjcxMTY4MCkrKGVbcysxXTw8OCY2NTI4MCkrKDI1NSZlW3MrMl0pLGEucHVzaChyWyhpPW8pPj4xOCY2M10rcltpPj4xMiY2M10rcltpPj42JjYzXStyWzYzJmldKTtyZXR1cm4gYS5qb2luKCIiKX1vWyItIi5jaGFyQ29kZUF0KDApXT02MixvWyJfIi5jaGFyQ29kZUF0KDApXT02M30se31dLDgyOltmdW5jdGlvbihlLHQsbil7fSx7fV0sODM6W2Z1bmN0aW9uKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10LGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTp0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10O3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lfX0se31dLDg0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYib2JqZWN0Ij09PW8oZSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvcHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmZpbGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlYWRVSW50OH19LHt9XSw4NTpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0LG4peyhmdW5jdGlvbigpe3ZhciBpPS8lW3NkaiVdL2c7ci5mb3JtYXQ9ZnVuY3Rpb24oZSl7aWYoIXkoZSkpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYyhhcmd1bWVudHNbbl0pKTtyZXR1cm4gdC5qb2luKCIgIil9bj0xO2Zvcih2YXIgcj1hcmd1bWVudHMsbz1yLmxlbmd0aCxhPVN0cmluZyhlKS5yZXBsYWNlKGksKGZ1bmN0aW9uKGUpe2lmKCIlJSI9PT1lKXJldHVybiIlIjtpZihuPj1vKXJldHVybiBlO3N3aXRjaChlKXtjYXNlIiVzIjpyZXR1cm4gU3RyaW5nKHJbbisrXSk7Y2FzZSIlZCI6cmV0dXJuIE51bWJlcihyW24rK10pO2Nhc2UiJWoiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkocltuKytdKX1jYXRjaChlKXtyZXR1cm4iW0NpcmN1bGFyXSJ9ZGVmYXVsdDpyZXR1cm4gZX19KSkscz1yW25dO248bztzPXJbKytuXSltKHMpfHwhRShzKT9hKz0iICIrczphKz0iICIrYyhzKTtyZXR1cm4gYX0sci5kZXByZWNhdGU9ZnVuY3Rpb24oZSxvKXtpZihiKG4ucHJvY2VzcykpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVwcmVjYXRlKGUsbykuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZighMD09PXQubm9EZXByZWNhdGlvbilyZXR1cm4gZTt2YXIgaT0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighaSl7aWYodC50aHJvd0RlcHJlY2F0aW9uKXRocm93IG5ldyBFcnJvcihvKTt0LnRyYWNlRGVwcmVjYXRpb24/Y29uc29sZS50cmFjZShvKTpjb25zb2xlLmVycm9yKG8pLGk9ITB9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07dmFyIGEscz17fTtmdW5jdGlvbiBjKGUsdCl7dmFyIG49e3NlZW46W10sc3R5bGl6ZTpsfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKG4uZGVwdGg9YXJndW1lbnRzWzJdKSxhcmd1bWVudHMubGVuZ3RoPj00JiYobi5jb2xvcnM9YXJndW1lbnRzWzNdKSxnKHQpP24uc2hvd0hpZGRlbj10OnQmJnIuX2V4dGVuZChuLHQpLGIobi5zaG93SGlkZGVuKSYmKG4uc2hvd0hpZGRlbj0hMSksYihuLmRlcHRoKSYmKG4uZGVwdGg9MiksYihuLmNvbG9ycykmJihuLmNvbG9ycz0hMSksYihuLmN1c3RvbUluc3BlY3QpJiYobi5jdXN0b21JbnNwZWN0PSEwKSxuLmNvbG9ycyYmKG4uc3R5bGl6ZT11KSxwKG4sZSxuLmRlcHRoKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49Yy5zdHlsZXNbdF07cmV0dXJuIG4/IhtbIitjLmNvbG9yc1tuXVswXSsibSIrZSsiG1siK2MuY29sb3JzW25dWzFdKyJtIjplfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZX1mdW5jdGlvbiBwKGUsdCxuKXtpZihlLmN1c3RvbUluc3BlY3QmJnQmJlQodC5pbnNwZWN0KSYmdC5pbnNwZWN0IT09ci5pbnNwZWN0JiYoIXQuY29uc3RydWN0b3J8fHQuY29uc3RydWN0b3IucHJvdG90eXBlIT09dCkpe3ZhciBvPXQuaW5zcGVjdChuLGUpO3JldHVybiB5KG8pfHwobz1wKGUsbyxuKSksb312YXIgaT1mdW5jdGlvbihlLHQpe2lmKGIodCkpcmV0dXJuIGUuc3R5bGl6ZSgidW5kZWZpbmVkIiwidW5kZWZpbmVkIik7aWYoeSh0KSl7dmFyIG49IiciK0pTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoL14ifCIkL2csIiIpLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKSsiJyI7cmV0dXJuIGUuc3R5bGl6ZShuLCJzdHJpbmciKX1yZXR1cm4gdih0KT9lLnN0eWxpemUoIiIrdCwibnVtYmVyIik6Zyh0KT9lLnN0eWxpemUoIiIrdCwiYm9vbGVhbiIpOm0odCk/ZS5zdHlsaXplKCJudWxsIiwibnVsbCIpOnZvaWQgMH0oZSx0KTtpZihpKXJldHVybiBpO3ZhciBhPU9iamVjdC5rZXlzKHQpLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0W2VdPSEwfSkpLHR9KGEpO2lmKGUuc2hvd0hpZGRlbiYmKGE9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkpLEkodCkmJihhLmluZGV4T2YoIm1lc3NhZ2UiKT49MHx8YS5pbmRleE9mKCJkZXNjcmlwdGlvbiIpPj0wKSlyZXR1cm4gZCh0KTtpZigwPT09YS5sZW5ndGgpe2lmKFQodCkpe3ZhciBjPXQubmFtZT8iOiAiK3QubmFtZToiIjtyZXR1cm4gZS5zdHlsaXplKCJbRnVuY3Rpb24iK2MrIl0iLCJzcGVjaWFsIil9aWYoUyh0KSlyZXR1cm4gZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik7aWYoQyh0KSlyZXR1cm4gZS5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksImRhdGUiKTtpZihJKHQpKXJldHVybiBkKHQpfXZhciB1LGw9IiIsRT0hMSx3PVsieyIsIn0iXTtyZXR1cm4gZih0KSYmKEU9ITAsdz1bIlsiLCJdIl0pLFQodCkmJihsPSIgW0Z1bmN0aW9uIisodC5uYW1lPyI6ICIrdC5uYW1lOiIiKSsiXSIpLFModCkmJihsPSIgIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLEModCkmJihsPSIgIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHQpKSxJKHQpJiYobD0iICIrZCh0KSksMCE9PWEubGVuZ3RofHxFJiYwIT10Lmxlbmd0aD9uPDA/Uyh0KT9lLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJyZWdleHAiKTplLnN0eWxpemUoIltPYmplY3RdIiwic3BlY2lhbCIpOihlLnNlZW4ucHVzaCh0KSx1PUU/ZnVuY3Rpb24oZSx0LG4scixvKXtmb3IodmFyIGk9W10sYT0wLHM9dC5sZW5ndGg7YTxzOysrYSlSKHQsU3RyaW5nKGEpKT9pLnB1c2goaChlLHQsbixyLFN0cmluZyhhKSwhMCkpOmkucHVzaCgiIik7cmV0dXJuIG8uZm9yRWFjaCgoZnVuY3Rpb24obyl7by5tYXRjaCgvXlxkKyQvKXx8aS5wdXNoKGgoZSx0LG4scixvLCEwKSl9KSksaX0oZSx0LG4scyxhKTphLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIGgoZSx0LG4scyxyLEUpfSkpLGUuc2Vlbi5wb3AoKSxmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaW5kZXhPZigiXG4iKSxlK3QucmVwbGFjZSgvXHUwMDFiXFtcZFxkP20vZywiIikubGVuZ3RoKzF9KSwwKTtyZXR1cm4gcj42MD9uWzBdKygiIj09PXQ/IiI6dCsiXG4gIikrIiAiK2Uuam9pbigiLFxuICAiKSsiICIrblsxXTpuWzBdK3QrIiAiK2Uuam9pbigiLCAiKSsiICIrblsxXX0odSxsLHcpKTp3WzBdK2wrd1sxXX1mdW5jdGlvbiBkKGUpe3JldHVybiJbIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSsiXSJ9ZnVuY3Rpb24gaChlLHQsbixyLG8saSl7dmFyIGEscyxjO2lmKChjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxvKXx8e3ZhbHVlOnRbb119KS5nZXQ/cz1jLnNldD9lLnN0eWxpemUoIltHZXR0ZXIvU2V0dGVyXSIsInNwZWNpYWwiKTplLnN0eWxpemUoIltHZXR0ZXJdIiwic3BlY2lhbCIpOmMuc2V0JiYocz1lLnN0eWxpemUoIltTZXR0ZXJdIiwic3BlY2lhbCIpKSxSKHIsbyl8fChhPSJbIitvKyJdIiksc3x8KGUuc2Vlbi5pbmRleE9mKGMudmFsdWUpPDA/KHM9bShuKT9wKGUsYy52YWx1ZSxudWxsKTpwKGUsYy52YWx1ZSxuLTEpKS5pbmRleE9mKCJcbiIpPi0xJiYocz1pP3Muc3BsaXQoIlxuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iICAiK2V9KSkuam9pbigiXG4iKS5zdWJzdHIoMik6IlxuIitzLnNwbGl0KCJcbiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiAgICIrZX0pKS5qb2luKCJcbiIpKTpzPWUuc3R5bGl6ZSgiW0NpcmN1bGFyXSIsInNwZWNpYWwiKSksYihhKSl7aWYoaSYmby5tYXRjaCgvXlxkKyQvKSlyZXR1cm4gczsoYT1KU09OLnN0cmluZ2lmeSgiIitvKSkubWF0Y2goL14iKFthLXpBLVpfXVthLXpBLVpfMC05XSopIiQvKT8oYT1hLnN1YnN0cigxLGEubGVuZ3RoLTIpLGE9ZS5zdHlsaXplKGEsIm5hbWUiKSk6KGE9YS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykucmVwbGFjZSgvKF4ifCIkKS9nLCInIiksYT1lLnN0eWxpemUoYSwic3RyaW5nIikpfXJldHVybiBhKyI6ICIrc31mdW5jdGlvbiBmKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZX1mdW5jdGlvbiBtKGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiB2KGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX1mdW5jdGlvbiB5KGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX1mdW5jdGlvbiBiKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIEUoZSkmJiJbb2JqZWN0IFJlZ0V4cF0iPT09dyhlKX1mdW5jdGlvbiBFKGUpe3JldHVybiJvYmplY3QiPT09byhlKSYmbnVsbCE9PWV9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gRShlKSYmIltvYmplY3QgRGF0ZV0iPT09dyhlKX1mdW5jdGlvbiBJKGUpe3JldHVybiBFKGUpJiYoIltvYmplY3QgRXJyb3JdIj09PXcoZSl8fGUgaW5zdGFuY2VvZiBFcnJvcil9ZnVuY3Rpb24gVChlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX1mdW5jdGlvbiB3KGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gZTwxMD8iMCIrZS50b1N0cmluZygxMCk6ZS50b1N0cmluZygxMCl9ci5kZWJ1Z2xvZz1mdW5jdGlvbihlKXtpZihiKGEpJiYoYT10LmVudi5OT0RFX0RFQlVHfHwiIiksZT1lLnRvVXBwZXJDYXNlKCksIXNbZV0paWYobmV3IFJlZ0V4cCgiXFxiIitlKyJcXGIiLCJpIikudGVzdChhKSl7dmFyIG49dC5waWQ7c1tlXT1mdW5jdGlvbigpe3ZhciB0PXIuZm9ybWF0LmFwcGx5KHIsYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKCIlcyAlZDogJXMiLGUsbix0KX19ZWxzZSBzW2VdPWZ1bmN0aW9uKCl7fTtyZXR1cm4gc1tlXX0sci5pbnNwZWN0PWMsYy5jb2xvcnM9e2JvbGQ6WzEsMjJdLGl0YWxpYzpbMywyM10sdW5kZXJsaW5lOls0LDI0XSxpbnZlcnNlOls3LDI3XSx3aGl0ZTpbMzcsMzldLGdyZXk6WzkwLDM5XSxibGFjazpbMzAsMzldLGJsdWU6WzM0LDM5XSxjeWFuOlszNiwzOV0sZ3JlZW46WzMyLDM5XSxtYWdlbnRhOlszNSwzOV0scmVkOlszMSwzOV0seWVsbG93OlszMywzOV19LGMuc3R5bGVzPXtzcGVjaWFsOiJjeWFuIixudW1iZXI6InllbGxvdyIsYm9vbGVhbjoieWVsbG93Iix1bmRlZmluZWQ6ImdyZXkiLG51bGw6ImJvbGQiLHN0cmluZzoiZ3JlZW4iLGRhdGU6Im1hZ2VudGEiLHJlZ2V4cDoicmVkIn0sci5pc0FycmF5PWYsci5pc0Jvb2xlYW49ZyxyLmlzTnVsbD1tLHIuaXNOdWxsT3JVbmRlZmluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LHIuaXNOdW1iZXI9dixyLmlzU3RyaW5nPXksci5pc1N5bWJvbD1mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09PW8oZSl9LHIuaXNVbmRlZmluZWQ9YixyLmlzUmVnRXhwPVMsci5pc09iamVjdD1FLHIuaXNEYXRlPUMsci5pc0Vycm9yPUksci5pc0Z1bmN0aW9uPVQsci5pc1ByaW1pdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fCJib29sZWFuIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZXx8InN0cmluZyI9PXR5cGVvZiBlfHwic3ltYm9sIj09PW8oZSl8fHZvaWQgMD09PWV9LHIuaXNCdWZmZXI9ZSgiLi9zdXBwb3J0L2lzQnVmZmVyIik7dmFyIF89WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXTtmdW5jdGlvbiBSKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXIubG9nPWZ1bmN0aW9uKCl7dmFyIGUsdDtjb25zb2xlLmxvZygiJXMgLSAlcyIsKGU9bmV3IERhdGUsdD1bQShlLmdldEhvdXJzKCkpLEEoZS5nZXRNaW51dGVzKCkpLEEoZS5nZXRTZWNvbmRzKCkpXS5qb2luKCI6IiksW2UuZ2V0RGF0ZSgpLF9bZS5nZXRNb250aCgpXSx0XS5qb2luKCIgIikpLHIuZm9ybWF0LmFwcGx5KHIsYXJndW1lbnRzKSl9LHIuaW5oZXJpdHM9ZSgiaW5oZXJpdHMiKSxyLl9leHRlbmQ9ZnVuY3Rpb24oZSx0KXtpZighdHx8IUUodCkpcmV0dXJuIGU7Zm9yKHZhciBuPU9iamVjdC5rZXlzKHQpLHI9bi5sZW5ndGg7ci0tOyllW25bcl1dPXRbbltyXV07cmV0dXJuIGV9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpLHZvaWQgMCE9PW4uZz9uLmc6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL3N1cHBvcnQvaXNCdWZmZXIiOjg0LF9wcm9jZXNzOjkxLGluaGVyaXRzOjgzfV0sODY6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCxuKXsoZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFzZTY0LWpzIiksbz1lKCJpZWVlNzU0IiksaT1lKCJpc2FycmF5Iik7ZnVuY3Rpb24gYSgpe3JldHVybiBjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIHMoZSx0KXtpZihhKCk8dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgiKTtyZXR1cm4gYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPW5ldyBVaW50OEFycmF5KHQpKS5fX3Byb3RvX189Yy5wcm90b3R5cGU6KG51bGw9PT1lJiYoZT1uZXcgYyh0KSksZS5sZW5ndGg9dCksZX1mdW5jdGlvbiBjKGUsdCxuKXtpZighKGMuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIGMpKXJldHVybiBuZXcgYyhlLHQsbik7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiBwKHRoaXMsZSl9cmV0dXJuIHUodGhpcyxlLHQsbil9ZnVuY3Rpb24gdShlLHQsbixyKXtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9mdW5jdGlvbihlLHQsbixyKXtpZih0LmJ5dGVMZW5ndGgsbjwwfHx0LmJ5dGVMZW5ndGg8bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kcyIpO2lmKHQuYnl0ZUxlbmd0aDxuKyhyfHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kcyIpO3JldHVybiB0PXZvaWQgMD09PW4mJnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCk6dm9pZCAwPT09cj9uZXcgVWludDhBcnJheSh0LG4pOm5ldyBVaW50OEFycmF5KHQsbixyKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9dCkuX19wcm90b19fPWMucHJvdG90eXBlOmU9ZChlLHQpLGV9KGUsdCxuLHIpOiJzdHJpbmciPT10eXBlb2YgdD9mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYiIiE9PW58fChuPSJ1dGY4IiksIWMuaXNFbmNvZGluZyhuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciZW5jb2RpbmciIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgcj0wfGYodCxuKSxvPShlPXMoZSxyKSkud3JpdGUodCxuKTtyZXR1cm4gbyE9PXImJihlPWUuc2xpY2UoMCxvKSksZX0oZSx0LG4pOmZ1bmN0aW9uKGUsdCl7aWYoYy5pc0J1ZmZlcih0KSl7dmFyIG49MHxoKHQubGVuZ3RoKTtyZXR1cm4gMD09PShlPXMoZSxuKSkubGVuZ3RofHx0LmNvcHkoZSwwLDAsbiksZX1pZih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwibGVuZ3RoImluIHQpcmV0dXJuIm51bWJlciIhPXR5cGVvZiB0Lmxlbmd0aHx8KHI9dC5sZW5ndGgpIT1yP3MoZSwwKTpkKGUsdCk7aWYoIkJ1ZmZlciI9PT10LnR5cGUmJmkodC5kYXRhKSlyZXR1cm4gZChlLHQuZGF0YSl9dmFyIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LiIpfShlLHQpfWZ1bmN0aW9uIGwoZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJyJzaXplIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJyk7aWYoZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBwKGUsdCl7aWYobCh0KSxlPXMoZSx0PDA/MDowfGgodCkpLCFjLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciBuPTA7bjx0OysrbillW25dPTA7cmV0dXJuIGV9ZnVuY3Rpb24gZChlLHQpe3ZhciBuPXQubGVuZ3RoPDA/MDowfGgodC5sZW5ndGgpO2U9cyhlLG4pO2Zvcih2YXIgcj0wO3I8bjtyKz0xKWVbcl09MjU1JnRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gaChlKXtpZihlPj1hKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiK2EoKS50b1N0cmluZygxNikrIiBieXRlcyIpO3JldHVybiAwfGV9ZnVuY3Rpb24gZihlLHQpe2lmKGMuaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDsic3RyaW5nIiE9dHlwZW9mIGUmJihlPSIiK2UpO3ZhciBuPWUubGVuZ3RoO2lmKDA9PT1uKXJldHVybiAwO2Zvcih2YXIgcj0hMTs7KXN3aXRjaCh0KXtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBuO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSB2b2lkIDA6cmV0dXJuIHEoZSkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gMipuO2Nhc2UiaGV4IjpyZXR1cm4gbj4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBCKGUpLmxlbmd0aDtkZWZhdWx0OmlmKHIpcmV0dXJuIHEoZSkubGVuZ3RoO3Q9KCIiK3QpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gZyhlLHQsbil7dmFyIHI9ITE7aWYoKHZvaWQgMD09PXR8fHQ8MCkmJih0PTApLHQ+dGhpcy5sZW5ndGgpcmV0dXJuIiI7aWYoKHZvaWQgMD09PW58fG4+dGhpcy5sZW5ndGgpJiYobj10aGlzLmxlbmd0aCksbjw9MClyZXR1cm4iIjtpZigobj4+Pj0wKTw9KHQ+Pj49MCkpcmV0dXJuIiI7Zm9yKGV8fChlPSJ1dGY4Iik7Oylzd2l0Y2goZSl7Y2FzZSJoZXgiOnJldHVybiBPKHRoaXMsdCxuKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBBKHRoaXMsdCxuKTtjYXNlImFzY2lpIjpyZXR1cm4gUih0aGlzLHQsbik7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gTCh0aGlzLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiB3KHRoaXMsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIGsodGhpcyx0LG4pO2RlZmF1bHQ6aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK2UpO2U9KGUrIiIpLnRvTG93ZXJDYXNlKCkscj0hMH19ZnVuY3Rpb24gbShlLHQsbil7dmFyIHI9ZVt0XTtlW3RdPWVbbl0sZVtuXT1yfWZ1bmN0aW9uIHYoZSx0LG4scixvKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7aWYoInN0cmluZyI9PXR5cGVvZiBuPyhyPW4sbj0wKTpuPjIxNDc0ODM2NDc/bj0yMTQ3NDgzNjQ3Om48LTIxNDc0ODM2NDgmJihuPS0yMTQ3NDgzNjQ4KSxuPStuLGlzTmFOKG4pJiYobj1vPzA6ZS5sZW5ndGgtMSksbjwwJiYobj1lLmxlbmd0aCtuKSxuPj1lLmxlbmd0aCl7aWYobylyZXR1cm4tMTtuPWUubGVuZ3RoLTF9ZWxzZSBpZihuPDApe2lmKCFvKXJldHVybi0xO249MH1pZigic3RyaW5nIj09dHlwZW9mIHQmJih0PWMuZnJvbSh0LHIpKSxjLmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6eShlLHQsbixyLG8pO2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gdCY9MjU1LGMuVFlQRURfQVJSQVlfU1VQUE9SVCYmImZ1bmN0aW9uIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/bz9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSx0LG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZSx0LG4pOnkoZSxbdF0sbixyLG8pO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIHkoZSx0LG4scixvKXt2YXIgaSxhPTEscz1lLmxlbmd0aCxjPXQubGVuZ3RoO2lmKHZvaWQgMCE9PXImJigidWNzMiI9PT0ocj1TdHJpbmcocikudG9Mb3dlckNhc2UoKSl8fCJ1Y3MtMiI9PT1yfHwidXRmMTZsZSI9PT1yfHwidXRmLTE2bGUiPT09cikpe2lmKGUubGVuZ3RoPDJ8fHQubGVuZ3RoPDIpcmV0dXJuLTE7YT0yLHMvPTIsYy89MixuLz0yfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gMT09PWE/ZVt0XTplLnJlYWRVSW50MTZCRSh0KmEpfWlmKG8pe3ZhciBsPS0xO2ZvcihpPW47aTxzO2krKylpZih1KGUsaSk9PT11KHQsLTE9PT1sPzA6aS1sKSl7aWYoLTE9PT1sJiYobD1pKSxpLWwrMT09PWMpcmV0dXJuIGwqYX1lbHNlLTEhPT1sJiYoaS09aS1sKSxsPS0xfWVsc2UgZm9yKG4rYz5zJiYobj1zLWMpLGk9bjtpPj0wO2ktLSl7Zm9yKHZhciBwPSEwLGQ9MDtkPGM7ZCsrKWlmKHUoZSxpK2QpIT09dSh0LGQpKXtwPSExO2JyZWFrfWlmKHApcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gYihlLHQsbixyKXtuPU51bWJlcihuKXx8MDt2YXIgbz1lLmxlbmd0aC1uO3I/KHI9TnVtYmVyKHIpKT5vJiYocj1vKTpyPW87dmFyIGk9dC5sZW5ndGg7aWYoaSUyIT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgaGV4IHN0cmluZyIpO3I+aS8yJiYocj1pLzIpO2Zvcih2YXIgYT0wO2E8cjsrK2Epe3ZhciBzPXBhcnNlSW50KHQuc3Vic3RyKDIqYSwyKSwxNik7aWYoaXNOYU4ocykpcmV0dXJuIGE7ZVtuK2FdPXN9cmV0dXJuIGF9ZnVuY3Rpb24gUyhlLHQsbixyKXtyZXR1cm4gRyhxKHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIEUoZSx0LG4scil7cmV0dXJuIEcoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoOysrbil0LnB1c2goMjU1JmUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9KHQpLGUsbixyKX1mdW5jdGlvbiBDKGUsdCxuLHIpe3JldHVybiBFKGUsdCxuLHIpfWZ1bmN0aW9uIEkoZSx0LG4scil7cmV0dXJuIEcoQih0KSxlLG4scil9ZnVuY3Rpb24gVChlLHQsbixyKXtyZXR1cm4gRyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG8saT1bXSxhPTA7YTxlLmxlbmd0aCYmISgodC09Mik8MCk7KythKXI9KG49ZS5jaGFyQ29kZUF0KGEpKT4+OCxvPW4lMjU2LGkucHVzaChvKSxpLnB1c2gocik7cmV0dXJuIGl9KHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIHcoZSx0LHIpe3JldHVybiAwPT09dCYmcj09PWUubGVuZ3RoP24uZnJvbUJ5dGVBcnJheShlKTpuLmZyb21CeXRlQXJyYXkoZS5zbGljZSh0LHIpKX1mdW5jdGlvbiBBKGUsdCxuKXtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgcj1bXSxvPXQ7bzxuOyl7dmFyIGksYSxzLGMsdT1lW29dLGw9bnVsbCxwPXU+MjM5PzQ6dT4yMjM/Mzp1PjE5MT8yOjE7aWYobytwPD1uKXN3aXRjaChwKXtjYXNlIDE6dTwxMjgmJihsPXUpO2JyZWFrO2Nhc2UgMjoxMjg9PSgxOTImKGk9ZVtvKzFdKSkmJihjPSgzMSZ1KTw8Nnw2MyZpKT4xMjcmJihsPWMpO2JyZWFrO2Nhc2UgMzppPWVbbysxXSxhPWVbbysyXSwxMjg9PSgxOTImaSkmJjEyOD09KDE5MiZhKSYmKGM9KDE1JnUpPDwxMnwoNjMmaSk8PDZ8NjMmYSk+MjA0NyYmKGM8NTUyOTZ8fGM+NTczNDMpJiYobD1jKTticmVhaztjYXNlIDQ6aT1lW28rMV0sYT1lW28rMl0scz1lW28rM10sMTI4PT0oMTkyJmkpJiYxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZzKSYmKGM9KDE1JnUpPDwxOHwoNjMmaSk8PDEyfCg2MyZhKTw8Nnw2MyZzKT42NTUzNSYmYzwxMTE0MTEyJiYobD1jKX1udWxsPT09bD8obD02NTUzMyxwPTEpOmw+NjU1MzUmJihsLT02NTUzNixyLnB1c2gobD4+PjEwJjEwMjN8NTUyOTYpLGw9NTYzMjB8MTAyMyZsKSxyLnB1c2gobCksbys9cH1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9XylyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSk7Zm9yKHZhciBuPSIiLHI9MDtyPHQ7KW4rPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUuc2xpY2UocixyKz1fKSk7cmV0dXJuIG59KHIpfXIuQnVmZmVyPWMsci5TbG93QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybitlIT1lJiYoZT0wKSxjLmFsbG9jKCtlKX0sci5JTlNQRUNUX01BWF9CWVRFUz01MCxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09dC5UWVBFRF9BUlJBWV9TVVBQT1JUP3QuVFlQRURfQVJSQVlfU1VQUE9SVDpmdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZS5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PWUuZm9vKCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1YmFycmF5JiYwPT09ZS5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLHIua01heExlbmd0aD1hKCksYy5wb29sU2l6ZT04MTkyLGMuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19fPWMucHJvdG90eXBlLGV9LGMuZnJvbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHUobnVsbCxlLHQsbil9LGMuVFlQRURfQVJSQVlfU1VQUE9SVCYmKGMucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxjLl9fcHJvdG9fXz1VaW50OEFycmF5LCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuc3BlY2llcyYmY1tTeW1ib2wuc3BlY2llc109PT1jJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxTeW1ib2wuc3BlY2llcyx7dmFsdWU6bnVsbCxjb25maWd1cmFibGU6ITB9KSksYy5hbGxvYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBsKHQpLHQ8PTA/cyhlLHQpOnZvaWQgMCE9PW4/InN0cmluZyI9PXR5cGVvZiByP3MoZSx0KS5maWxsKG4scik6cyhlLHQpLmZpbGwobik6cyhlLHQpfShudWxsLGUsdCxuKX0sYy5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtyZXR1cm4gcChudWxsLGUpfSxjLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtyZXR1cm4gcChudWxsLGUpfSxjLmlzQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiEobnVsbD09ZXx8IWUuX2lzQnVmZmVyKX0sYy5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7aWYoIWMuaXNCdWZmZXIoZSl8fCFjLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMiKTtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIG49ZS5sZW5ndGgscj10Lmxlbmd0aCxvPTAsaT1NYXRoLm1pbihuLHIpO288aTsrK28paWYoZVtvXSE9PXRbb10pe249ZVtvXSxyPXRbb107YnJlYWt9cmV0dXJuIG48cj8tMTpyPG4/MTowfSxjLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlImhleCI6Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGMuY29uY2F0PWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYy5hbGxvYygwKTt2YXIgbjtpZih2b2lkIDA9PT10KWZvcih0PTAsbj0wO248ZS5sZW5ndGg7KytuKXQrPWVbbl0ubGVuZ3RoO3ZhciByPWMuYWxsb2NVbnNhZmUodCksbz0wO2ZvcihuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciBhPWVbbl07aWYoIWMuaXNCdWZmZXIoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2EuY29weShyLG8pLG8rPWEubGVuZ3RofXJldHVybiByfSxjLmJ5dGVMZW5ndGg9ZixjLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsYy5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz0yKW0odGhpcyx0LHQrMSk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9NCltKHRoaXMsdCx0KzMpLG0odGhpcyx0KzEsdCsyKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU4IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz04KW0odGhpcyx0LHQrNyksbSh0aGlzLHQrMSx0KzYpLG0odGhpcyx0KzIsdCs1KSxtKHRoaXMsdCszLHQrNCk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PWU/IiI6MD09PWFyZ3VtZW50cy5sZW5ndGg/QSh0aGlzLDAsZSk6Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGMucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtpZighYy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT1lfHwwPT09Yy5jb21wYXJlKHRoaXMsZSl9LGMucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgZT0iIix0PXIuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihlPXRoaXMudG9TdHJpbmcoImhleCIsMCx0KS5tYXRjaCgvLnsyfS9nKS5qb2luKCIgIiksdGhpcy5sZW5ndGg+dCYmKGUrPSIgLi4uICIpKSwiPEJ1ZmZlciAiK2UrIj4ifSxjLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCxuLHIsbyl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PW4mJihuPWU/ZS5sZW5ndGg6MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09byYmKG89dGhpcy5sZW5ndGgpLHQ8MHx8bj5lLmxlbmd0aHx8cjwwfHxvPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJvdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihyPj1vJiZ0Pj1uKXJldHVybiAwO2lmKHI+PW8pcmV0dXJuLTE7aWYodD49bilyZXR1cm4gMTtpZih0aGlzPT09ZSlyZXR1cm4gMDtmb3IodmFyIGk9KG8+Pj49MCktKHI+Pj49MCksYT0obj4+Pj0wKS0odD4+Pj0wKSxzPU1hdGgubWluKGksYSksdT10aGlzLnNsaWNlKHIsbyksbD1lLnNsaWNlKHQsbikscD0wO3A8czsrK3ApaWYodVtwXSE9PWxbcF0pe2k9dVtwXSxhPWxbcF07YnJlYWt9cmV0dXJuIGk8YT8tMTphPGk/MTowfSxjLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YoZSx0LG4pfSxjLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0aGlzLGUsdCxuLCEwKX0sYy5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2KHRoaXMsZSx0LG4sITEpfSxjLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbixyKXtpZih2b2lkIDA9PT10KXI9InV0ZjgiLG49dGhpcy5sZW5ndGgsdD0wO2Vsc2UgaWYodm9pZCAwPT09biYmInN0cmluZyI9PXR5cGVvZiB0KXI9dCxuPXRoaXMubGVuZ3RoLHQ9MDtlbHNle2lmKCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIik7dHw9MCxpc0Zpbml0ZShuKT8obnw9MCx2b2lkIDA9PT1yJiYocj0idXRmOCIpKToocj1uLG49dm9pZCAwKX12YXIgbz10aGlzLmxlbmd0aC10O2lmKCh2b2lkIDA9PT1ufHxuPm8pJiYobj1vKSxlLmxlbmd0aD4wJiYobjwwfHx0PDApfHx0PnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcyIpO3J8fChyPSJ1dGY4Iik7Zm9yKHZhciBpPSExOzspc3dpdGNoKHIpe2Nhc2UiaGV4IjpyZXR1cm4gYih0aGlzLGUsdCxuKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBTKHRoaXMsZSx0LG4pO2Nhc2UiYXNjaWkiOnJldHVybiBFKHRoaXMsZSx0LG4pO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEModGhpcyxlLHQsbik7Y2FzZSJiYXNlNjQiOnJldHVybiBJKHRoaXMsZSx0LG4pO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gVCh0aGlzLGUsdCxuKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIityKTtyPSgiIityKS50b0xvd2VyQ2FzZSgpLGk9ITB9fSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBfPTQwOTY7ZnVuY3Rpb24gUihlLHQsbil7dmFyIHI9IiI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIG89dDtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmVbb10pO3JldHVybiByfWZ1bmN0aW9uIEwoZSx0LG4pe3ZhciByPSIiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBvPXQ7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbb10pO3JldHVybiByfWZ1bmN0aW9uIE8oZSx0LG4pe3ZhciByLG89ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKSwoIW58fG48MHx8bj5vKSYmKG49byk7Zm9yKHZhciBpPSIiLGE9dDthPG47KythKWkrPShyPWVbYV0pPDE2PyIwIityLnRvU3RyaW5nKDE2KTpyLnRvU3RyaW5nKDE2KTtyZXR1cm4gaX1mdW5jdGlvbiBrKGUsdCxuKXtmb3IodmFyIHI9ZS5zbGljZSh0LG4pLG89IiIsaT0wO2k8ci5sZW5ndGg7aSs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHJbaV0rMjU2KnJbaSsxXSk7cmV0dXJuIG99ZnVuY3Rpb24gTihlLHQsbil7aWYoZSUxIT0wfHxlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKGUrdD5uKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9ZnVuY3Rpb24gUChlLHQsbixyLG8saSl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHQ+b3x8dDxpKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihuK3I+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIHgoZSx0LG4scil7dDwwJiYodD02NTUzNSt0KzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4oZS5sZW5ndGgtbiwyKTtvPGk7KytvKWVbbitvXT0odCYyNTU8PDgqKHI/bzoxLW8pKT4+PjgqKHI/bzoxLW8pfWZ1bmN0aW9uIEQoZSx0LG4scil7dDwwJiYodD00Mjk0OTY3Mjk1K3QrMSk7Zm9yKHZhciBvPTAsaT1NYXRoLm1pbihlLmxlbmd0aC1uLDQpO288aTsrK28pZVtuK29dPXQ+Pj44KihyP286My1vKSYyNTV9ZnVuY3Rpb24gTShlLHQsbixyLG8saSl7aWYobityPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZihuPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIFUoZSx0LG4scixpKXtyZXR1cm4gaXx8TShlLDAsbiw0KSxvLndyaXRlKGUsdCxuLHIsMjMsNCksbis0fWZ1bmN0aW9uIEYoZSx0LG4scixpKXtyZXR1cm4gaXx8TShlLDAsbiw4KSxvLndyaXRlKGUsdCxuLHIsNTIsOCksbis4fWMucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzLmxlbmd0aDtpZigoZT1+fmUpPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksKHQ9dm9pZCAwPT09dD9yOn5+dCk8MD8odCs9cik8MCYmKHQ9MCk6dD5yJiYodD1yKSx0PGUmJih0PWUpLGMuVFlQRURfQVJSQVlfU1VQUE9SVCkobj10aGlzLnN1YmFycmF5KGUsdCkpLl9fcHJvdG9fXz1jLnByb3RvdHlwZTtlbHNle3ZhciBvPXQtZTtuPW5ldyBjKG8sdm9pZCAwKTtmb3IodmFyIGk9MDtpPG87KytpKW5baV09dGhpc1tpK2VdfXJldHVybiBufSxjLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2VdLG89MSxpPTA7KytpPHQmJihvKj0yNTYpOylyKz10aGlzW2UraV0qbztyZXR1cm4gcn0sYy5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlKy0tdF0sbz0xO3Q+MCYmKG8qPTI1Nik7KXIrPXRoaXNbZSstLXRdKm87cmV0dXJuIHJ9LGMucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sYy5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OH0sYy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0sYy5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxjLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbZV0rKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LGMucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxvPTEsaT0wOysraTx0JiYobyo9MjU2KTspcis9dGhpc1tlK2ldKm87cmV0dXJuIHI+PShvKj0xMjgpJiYoci09TWF0aC5wb3coMiw4KnQpKSxyfSxjLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXQsbz0xLGk9dGhpc1tlKy0tcl07cj4wJiYobyo9MjU2KTspaSs9dGhpc1tlKy0tcl0qbztyZXR1cm4gaT49KG8qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqdCkpLGl9LGMucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sYy5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oZSx0KXt0fHxOKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LGMucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7dHx8TihlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxjLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSxjLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxjLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sYy5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITEsMjMsNCl9LGMucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCw1Miw4KX0sYy5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDUyLDgpfSxjLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQsbixyKXtlPStlLHR8PTAsbnw9MCxyfHxQKHRoaXMsZSx0LG4sTWF0aC5wb3coMiw4Km4pLTEsMCk7dmFyIG89MSxpPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytpPG4mJihvKj0yNTYpOyl0aGlzW3QraV09ZS9vJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQsbixyKXtlPStlLHR8PTAsbnw9MCxyfHxQKHRoaXMsZSx0LG4sTWF0aC5wb3coMiw4Km4pLTEsMCk7dmFyIG89bi0xLGk9MTtmb3IodGhpc1t0K29dPTI1NSZlOy0tbz49MCYmKGkqPTI1Nik7KXRoaXNbdCtvXT1lL2kmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwxLDI1NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLHRoaXNbdF09MjU1JmUsdCsxfSxjLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiw2NTUzNSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTp4KHRoaXMsZSx0LCEwKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDY1NTM1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOngodGhpcyxlLHQsITEpLHQrMn0sYy5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdCszXT1lPj4+MjQsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrMV09ZT4+PjgsdGhpc1t0XT0yNTUmZSk6RCh0aGlzLGUsdCwhMCksdCs0fSxjLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpEKHRoaXMsZSx0LCExKSx0KzR9LGMucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0fD0wLCFyKXt2YXIgbz1NYXRoLnBvdygyLDgqbi0xKTtQKHRoaXMsZSx0LG4sby0xLC1vKX12YXIgaT0wLGE9MSxzPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytpPG4mJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K2ktMV0mJihzPTEpLHRoaXNbdCtpXT0oZS9hfDApLXMmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24oZSx0LG4scil7aWYoZT0rZSx0fD0wLCFyKXt2YXIgbz1NYXRoLnBvdygyLDgqbi0xKTtQKHRoaXMsZSx0LG4sby0xLC1vKX12YXIgaT1uLTEsYT0xLHM9MDtmb3IodGhpc1t0K2ldPTI1NSZlOy0taT49MCYmKGEqPTI1Nik7KWU8MCYmMD09PXMmJjAhPT10aGlzW3QraSsxXSYmKHM9MSksdGhpc1t0K2ldPShlL2F8MCktcyYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMSwxMjcsLTEyOCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxjLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6eCh0aGlzLGUsdCwhMCksdCsyfSxjLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6eCh0aGlzLGUsdCwhMSksdCsyfSxjLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0KTpEKHRoaXMsZSx0LCEwKSx0KzR9LGMucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOkQodGhpcyxlLHQsITEpLHQrNH0sYy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVSh0aGlzLGUsdCwhMCxuKX0sYy5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVSh0aGlzLGUsdCwhMSxuKX0sYy5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEYodGhpcyxlLHQsITAsbil9LGMucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKHRoaXMsZSx0LCExLG4pfSxjLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxuLHIpe2lmKG58fChuPTApLHJ8fDA9PT1yfHwocj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxyPjAmJnI8biYmKHI9bikscj09PW4pcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYobjwwfHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTtyPnRoaXMubGVuZ3RoJiYocj10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxyLW4mJihyPWUubGVuZ3RoLXQrbik7dmFyIG8saT1yLW47aWYodGhpcz09PWUmJm48dCYmdDxyKWZvcihvPWktMTtvPj0wOy0tbyllW28rdF09dGhpc1tvK25dO2Vsc2UgaWYoaTwxZTN8fCFjLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKG89MDtvPGk7KytvKWVbbyt0XT10aGlzW28rbl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkobixuK2kpLHQpO3JldHVybiBpfSxjLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0PyhyPXQsdD0wLG49dGhpcy5sZW5ndGgpOiJzdHJpbmciPT10eXBlb2YgbiYmKHI9bixuPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBvPWUuY2hhckNvZGVBdCgwKTtvPDI1NiYmKGU9byl9aWYodm9pZCAwIT09ciYmInN0cmluZyIhPXR5cGVvZiByKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZigic3RyaW5nIj09dHlwZW9mIHImJiFjLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIityKX1lbHNlIm51bWJlciI9PXR5cGVvZiBlJiYoZSY9MjU1KTtpZih0PDB8fHRoaXMubGVuZ3RoPHR8fHRoaXMubGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKG48PXQpcmV0dXJuIHRoaXM7dmFyIGk7aWYodD4+Pj0wLG49dm9pZCAwPT09bj90aGlzLmxlbmd0aDpuPj4+MCxlfHwoZT0wKSwibnVtYmVyIj09dHlwZW9mIGUpZm9yKGk9dDtpPG47KytpKXRoaXNbaV09ZTtlbHNle3ZhciBhPWMuaXNCdWZmZXIoZSk/ZTpxKG5ldyBjKGUscikudG9TdHJpbmcoKSkscz1hLmxlbmd0aDtmb3IoaT0wO2k8bi10OysraSl0aGlzW2krdF09YVtpJXNdfXJldHVybiB0aGlzfTt2YXIgaj0vW14rXC8wLTlBLVphLXotX10vZztmdW5jdGlvbiBxKGUsdCl7dmFyIG47dD10fHwxLzA7Zm9yKHZhciByPWUubGVuZ3RoLG89bnVsbCxpPVtdLGE9MDthPHI7KythKXtpZigobj1lLmNoYXJDb2RlQXQoYSkpPjU1Mjk1JiZuPDU3MzQ0KXtpZighbyl7aWYobj41NjMxOSl7KHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKGErMT09PXIpeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1vPW47Y29udGludWV9aWYobjw1NjMyMCl7KHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpLG89bjtjb250aW51ZX1uPTY1NTM2KyhvLTU1Mjk2PDwxMHxuLTU2MzIwKX1lbHNlIG8mJih0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtpZihvPW51bGwsbjwxMjgpe2lmKCh0LT0xKTwwKWJyZWFrO2kucHVzaChuKX1lbHNlIGlmKG48MjA0OCl7aWYoKHQtPTIpPDApYnJlYWs7aS5wdXNoKG4+PjZ8MTkyLDYzJm58MTI4KX1lbHNlIGlmKG48NjU1MzYpe2lmKCh0LT0zKTwwKWJyZWFrO2kucHVzaChuPj4xMnwyMjQsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfWVsc2V7aWYoIShuPDExMTQxMTIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iik7aWYoKHQtPTQpPDApYnJlYWs7aS5wdXNoKG4+PjE4fDI0MCxuPj4xMiY2M3wxMjgsbj4+NiY2M3wxMjgsNjMmbnwxMjgpfX1yZXR1cm4gaX1mdW5jdGlvbiBCKGUpe3JldHVybiBuLnRvQnl0ZUFycmF5KGZ1bmN0aW9uKGUpe2lmKChlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9KGUpLnJlcGxhY2UoaiwiIikpLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7ZS5sZW5ndGglNCE9MDspZSs9Ij0iO3JldHVybiBlfShlKSl9ZnVuY3Rpb24gRyhlLHQsbixyKXtmb3IodmFyIG89MDtvPHImJiEobytuPj10Lmxlbmd0aHx8bz49ZS5sZW5ndGgpOysrbyl0W28rbl09ZVtvXTtyZXR1cm4gb319KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PW4uZz9uLmc6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGUoImJ1ZmZlciIpLkJ1ZmZlcil9LHsiYmFzZTY0LWpzIjo4MSxidWZmZXI6ODYsaWVlZTc1NDo4OCxpc2FycmF5Ojg5fV0sODc6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIGkoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gYShlKXtyZXR1cm4ib2JqZWN0Ij09PW8oZSkmJm51bGwhPT1lfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIHZvaWQgMD09PWV9dC5leHBvcnRzPXIsci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZXx8ZTwwfHxpc05hTihlKSl0aHJvdyBUeXBlRXJyb3IoIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGMsdTtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLCJlcnJvciI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8YSh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKCh0PWFyZ3VtZW50c1sxXSlpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7dmFyIGw9bmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgImVycm9yIiBldmVudC4gKCcrdCsiKSIpO3Rocm93IGwuY29udGV4dD10LGx9aWYocyhuPXRoaXMuX2V2ZW50c1tlXSkpcmV0dXJuITE7aWYoaShuKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4uY2FsbCh0aGlzKTticmVhaztjYXNlIDI6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuLmFwcGx5KHRoaXMsbyl9ZWxzZSBpZihhKG4pKWZvcihvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxyPSh1PW4uc2xpY2UoKSkubGVuZ3RoLGM9MDtjPHI7YysrKXVbY10uYXBwbHkodGhpcyxvKTtyZXR1cm4hMH0sci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KCJuZXdMaXN0ZW5lciIsZSxpKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP2EodGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxhKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkJiYobj1zKHRoaXMuX21heExpc3RlbmVycyk/ci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycykmJm4+MCYmdGhpcy5fZXZlbnRzW2VdLmxlbmd0aD5uJiYodGhpcy5fZXZlbnRzW2VdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LiIsdGhpcy5fZXZlbnRzW2VdLmxlbmd0aCksImZ1bmN0aW9uIj09dHlwZW9mIGNvbnNvbGUudHJhY2UmJmNvbnNvbGUudHJhY2UoKSksdGhpc30sci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsci5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2lmKCFpKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dmFyIG49ITE7ZnVuY3Rpb24gcigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxyKSxufHwobj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHIubGlzdGVuZXI9dCx0aGlzLm9uKGUsciksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8scztpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuIHRoaXM7aWYobz0obj10aGlzLl9ldmVudHNbZV0pLmxlbmd0aCxyPS0xLG49PT10fHxpKG4ubGlzdGVuZXIpJiZuLmxpc3RlbmVyPT09dClkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx0KTtlbHNlIGlmKGEobikpe2ZvcihzPW87cy0tID4wOylpZihuW3NdPT09dHx8bltzXS5saXN0ZW5lciYmbltzXS5saXN0ZW5lcj09PXQpe3I9czticmVha31pZihyPDApcmV0dXJuIHRoaXM7MT09PW4ubGVuZ3RoPyhuLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0pOm4uc3BsaWNlKHIsMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpfXJldHVybiB0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbZV0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHQgaW4gdGhpcy5fZXZlbnRzKSJyZW1vdmVMaXN0ZW5lciIhPT10JiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlbW92ZUxpc3RlbmVyIiksdGhpcy5fZXZlbnRzPXt9LHRoaXN9aWYoaShuPXRoaXMuX2V2ZW50c1tlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG4pO2Vsc2UgaWYobilmb3IoO24ubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbltuLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpc30sci5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9pKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LHIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYoaSh0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19LHt9XSw4ODpbZnVuY3Rpb24oZSx0LG4pe24ucmVhZD1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEscz04Km8tci0xLGM9KDE8PHMpLTEsdT1jPj4xLGw9LTcscD1uP28tMTowLGQ9bj8tMToxLGg9ZVt0K3BdO2ZvcihwKz1kLGk9aCYoMTw8LWwpLTEsaD4+PS1sLGwrPXM7bD4wO2k9MjU2KmkrZVt0K3BdLHArPWQsbC09OCk7Zm9yKGE9aSYoMTw8LWwpLTEsaT4+PS1sLGwrPXI7bD4wO2E9MjU2KmErZVt0K3BdLHArPWQsbC09OCk7aWYoMD09PWkpaT0xLXU7ZWxzZXtpZihpPT09YylyZXR1cm4gYT9OYU46MS8wKihoPy0xOjEpO2ErPU1hdGgucG93KDIsciksaS09dX1yZXR1cm4oaD8tMToxKSphKk1hdGgucG93KDIsaS1yKX0sbi53cml0ZT1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGEscyxjLHU9OCppLW8tMSxsPSgxPDx1KS0xLHA9bD4+MSxkPTIzPT09bz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaD1yPzA6aS0xLGY9cj8xOi0xLGc9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhzPWlzTmFOKHQpPzE6MCxhPWwpOihhPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGM9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sYyo9MiksKHQrPWErcD49MT9kL2M6ZCpNYXRoLnBvdygyLDEtcCkpKmM+PTImJihhKyssYy89MiksYStwPj1sPyhzPTAsYT1sKTphK3A+PTE/KHM9KHQqYy0xKSpNYXRoLnBvdygyLG8pLGErPXApOihzPXQqTWF0aC5wb3coMixwLTEpKk1hdGgucG93KDIsbyksYT0wKSk7bz49ODtlW24raF09MjU1JnMsaCs9ZixzLz0yNTYsby09OCk7Zm9yKGE9YTw8b3xzLHUrPW87dT4wO2VbbitoXT0yNTUmYSxoKz1mLGEvPTI1Nix1LT04KTtlW24raC1mXXw9MTI4Kmd9fSx7fV0sODk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj17fS50b1N0cmluZzt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09ci5jYWxsKGUpfX0se31dLDkwOltmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KGUpe3JldHVybiBudWxsIT09ZSYmIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBuKGUpe3JldHVybiBudWxsIT09ZSYmIltvYmplY3QgT2JqZWN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gcihlLG8pe2lmKGU9PT1vKXJldHVybiEwO2lmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSlyZXR1cm4hMTtpZighMD09PXQoZSkpe2lmKGUubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspaWYoITE9PT1yKGVbaV0sb1tpXSkpcmV0dXJuITE7cmV0dXJuITB9aWYoITA9PT1uKGUpKXt2YXIgYT17fTtmb3IodmFyIHMgaW4gZSlpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKGUscykpe2lmKCExPT09cihlW3NdLG9bc10pKXJldHVybiExO2Fbc109ITB9Zm9yKHZhciBjIGluIG8paWYoaGFzT3duUHJvcGVydHkuY2FsbChvLGMpJiYhMCE9PWFbY10pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbyhlKXtpZigiIj09PWV8fCExPT09ZXx8bnVsbD09PWUpcmV0dXJuITA7aWYodChlKSYmMD09PWUubGVuZ3RoKXJldHVybiEwO2lmKG4oZSkpe2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9dmFyIGk7aT0iZnVuY3Rpb24iPT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50cmltTGVmdD9mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltTGVmdCgpfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvXlxzKiguKikvKVsxXX07dmFyIGE9MCxzPTIsYz17MDoibnVtYmVyIiwxOiJhbnkiLDI6InN0cmluZyIsMzoiYXJyYXkiLDQ6Im9iamVjdCIsNToiYm9vbGVhbiIsNjoiZXhwcmVzc2lvbiIsNzoibnVsbCIsODoiQXJyYXk8bnVtYmVyPiIsOToiQXJyYXk8c3RyaW5nPiJ9LHU9IkVPRiIsbD0iVW5xdW90ZWRJZGVudGlmaWVyIixwPSJRdW90ZWRJZGVudGlmaWVyIixkPSJSYnJhY2tldCIsaD0iUnBhcmVuIixmPSJDb21tYSIsZz0iQ29sb24iLG09IlJicmFjZSIsdj0iTnVtYmVyIix5PSJDdXJyZW50IixiPSJFeHByZWYiLFM9IlBpcGUiLEU9Ik9yIixDPSJBbmQiLEk9IkVRIixUPSJHVCIsdz0iTFQiLEE9IkdURSIsXz0iTFRFIixSPSJORSIsTD0iRmxhdHRlbiIsTz0iU3RhciIsaz0iRmlsdGVyIixOPSJEb3QiLFA9Ik5vdCIseD0iTGJyYWNlIixEPSJMYnJhY2tldCIsTT0iTHBhcmVuIixVPSJMaXRlcmFsIixGPXsiLiI6TiwiKiI6TywiLCI6ZiwiOiI6ZywieyI6eCwifSI6bSwiXSI6ZCwiKCI6TSwiKSI6aCwiQCI6eX0saj17IjwiOiEwLCI+IjohMCwiPSI6ITAsIiEiOiEwfSxxPXsiICI6ITAsIlx0IjohMCwiXG4iOiEwfTtmdW5jdGlvbiBCKGUpe3JldHVybiBlPj0iMCImJmU8PSI5Inx8Ii0iPT09ZX1mdW5jdGlvbiBHKCl7fUcucHJvdG90eXBlPXt0b2tlbml6ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPVtdO2Zvcih0aGlzLl9jdXJyZW50PTA7dGhpcy5fY3VycmVudDxlLmxlbmd0aDspaWYoKG89ZVt0aGlzLl9jdXJyZW50XSk+PSJhIiYmbzw9InoifHxvPj0iQSImJm88PSJaInx8Il8iPT09byl0PXRoaXMuX2N1cnJlbnQsbj10aGlzLl9jb25zdW1lVW5xdW90ZWRJZGVudGlmaWVyKGUpLGkucHVzaCh7dHlwZTpsLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYodm9pZCAwIT09RltlW3RoaXMuX2N1cnJlbnRdXSlpLnB1c2goe3R5cGU6RltlW3RoaXMuX2N1cnJlbnRdXSx2YWx1ZTplW3RoaXMuX2N1cnJlbnRdLHN0YXJ0OnRoaXMuX2N1cnJlbnR9KSx0aGlzLl9jdXJyZW50Kys7ZWxzZSBpZihCKGVbdGhpcy5fY3VycmVudF0pKXI9dGhpcy5fY29uc3VtZU51bWJlcihlKSxpLnB1c2gocik7ZWxzZSBpZigiWyI9PT1lW3RoaXMuX2N1cnJlbnRdKXI9dGhpcy5fY29uc3VtZUxCcmFja2V0KGUpLGkucHVzaChyKTtlbHNlIGlmKCciJz09PWVbdGhpcy5fY3VycmVudF0pdD10aGlzLl9jdXJyZW50LG49dGhpcy5fY29uc3VtZVF1b3RlZElkZW50aWZpZXIoZSksaS5wdXNoKHt0eXBlOnAsdmFsdWU6bixzdGFydDp0fSk7ZWxzZSBpZigiJyI9PT1lW3RoaXMuX2N1cnJlbnRdKXQ9dGhpcy5fY3VycmVudCxuPXRoaXMuX2NvbnN1bWVSYXdTdHJpbmdMaXRlcmFsKGUpLGkucHVzaCh7dHlwZTpVLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYoImAiPT09ZVt0aGlzLl9jdXJyZW50XSl7dD10aGlzLl9jdXJyZW50O3ZhciBhPXRoaXMuX2NvbnN1bWVMaXRlcmFsKGUpO2kucHVzaCh7dHlwZTpVLHZhbHVlOmEsc3RhcnQ6dH0pfWVsc2UgaWYodm9pZCAwIT09altlW3RoaXMuX2N1cnJlbnRdXSlpLnB1c2godGhpcy5fY29uc3VtZU9wZXJhdG9yKGUpKTtlbHNlIGlmKHZvaWQgMCE9PXFbZVt0aGlzLl9jdXJyZW50XV0pdGhpcy5fY3VycmVudCsrO2Vsc2UgaWYoIiYiPT09ZVt0aGlzLl9jdXJyZW50XSl0PXRoaXMuX2N1cnJlbnQsdGhpcy5fY3VycmVudCsrLCImIj09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyxpLnB1c2goe3R5cGU6Qyx2YWx1ZToiJiYiLHN0YXJ0OnR9KSk6aS5wdXNoKHt0eXBlOmIsdmFsdWU6IiYiLHN0YXJ0OnR9KTtlbHNle2lmKCJ8IiE9PWVbdGhpcy5fY3VycmVudF0pe3ZhciBzPW5ldyBFcnJvcigiVW5rbm93biBjaGFyYWN0ZXI6IitlW3RoaXMuX2N1cnJlbnRdKTt0aHJvdyBzLm5hbWU9IkxleGVyRXJyb3IiLHN9dD10aGlzLl9jdXJyZW50LHRoaXMuX2N1cnJlbnQrKywifCI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50KyssaS5wdXNoKHt0eXBlOkUsdmFsdWU6Inx8IixzdGFydDp0fSkpOmkucHVzaCh7dHlwZTpTLHZhbHVlOiJ8IixzdGFydDp0fSl9cmV0dXJuIGl9LF9jb25zdW1lVW5xdW90ZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5fY3VycmVudDtmb3IodGhpcy5fY3VycmVudCsrO3RoaXMuX2N1cnJlbnQ8ZS5sZW5ndGgmJigodD1lW3RoaXMuX2N1cnJlbnRdKT49ImEiJiZ0PD0ieiJ8fHQ+PSJBIiYmdDw9IloifHx0Pj0iMCImJnQ8PSI5Inx8Il8iPT09dCk7KXRoaXMuX2N1cnJlbnQrKztyZXR1cm4gZS5zbGljZShuLHRoaXMuX2N1cnJlbnQpfSxfY29uc3VtZVF1b3RlZElkZW50aWZpZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoOyciJyE9PWVbdGhpcy5fY3VycmVudF0mJnRoaXMuX2N1cnJlbnQ8bjspe3ZhciByPXRoaXMuX2N1cnJlbnQ7IlxcIiE9PWVbcl18fCJcXCIhPT1lW3IrMV0mJiciJyE9PWVbcisxXT9yKys6cis9Mix0aGlzLl9jdXJyZW50PXJ9cmV0dXJuIHRoaXMuX2N1cnJlbnQrKyxKU09OLnBhcnNlKGUuc2xpY2UodCx0aGlzLl9jdXJyZW50KSl9LF9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50O3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIG49ZS5sZW5ndGg7IiciIT09ZVt0aGlzLl9jdXJyZW50XSYmdGhpcy5fY3VycmVudDxuOyl7dmFyIHI9dGhpcy5fY3VycmVudDsiXFwiIT09ZVtyXXx8IlxcIiE9PWVbcisxXSYmIiciIT09ZVtyKzFdP3IrKzpyKz0yLHRoaXMuX2N1cnJlbnQ9cn1yZXR1cm4gdGhpcy5fY3VycmVudCsrLGUuc2xpY2UodCsxLHRoaXMuX2N1cnJlbnQtMSkucmVwbGFjZSgiXFwnIiwiJyIpfSxfY29uc3VtZU51bWJlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50O3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIG49ZS5sZW5ndGg7QihlW3RoaXMuX2N1cnJlbnRdKSYmdGhpcy5fY3VycmVudDxuOyl0aGlzLl9jdXJyZW50Kys7dmFyIHI9cGFyc2VJbnQoZS5zbGljZSh0LHRoaXMuX2N1cnJlbnQpKTtyZXR1cm57dHlwZTp2LHZhbHVlOnIsc3RhcnQ6dH19LF9jb25zdW1lTEJyYWNrZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDtyZXR1cm4gdGhpcy5fY3VycmVudCsrLCI/Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTprLHZhbHVlOiJbPyIsc3RhcnQ6dH0pOiJdIj09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpMLHZhbHVlOiJbXSIsc3RhcnQ6dH0pOnt0eXBlOkQsdmFsdWU6IlsiLHN0YXJ0OnR9fSxfY29uc3VtZU9wZXJhdG9yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQsbj1lW3RdO3JldHVybiB0aGlzLl9jdXJyZW50KyssIiEiPT09bj8iPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Uix2YWx1ZToiIT0iLHN0YXJ0OnR9KTp7dHlwZTpQLHZhbHVlOiIhIixzdGFydDp0fToiPCI9PT1uPyI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpfLHZhbHVlOiI8PSIsc3RhcnQ6dH0pOnt0eXBlOncsdmFsdWU6IjwiLHN0YXJ0OnR9OiI+Ij09PW4/Ij0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOkEsdmFsdWU6Ij49IixzdGFydDp0fSk6e3R5cGU6VCx2YWx1ZToiPiIsc3RhcnQ6dH06Ij0iPT09biYmIj0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOkksdmFsdWU6Ij09IixzdGFydDp0fSk6dm9pZCAwfSxfY29uc3VtZUxpdGVyYWw6ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgdCxuPXRoaXMuX2N1cnJlbnQscj1lLmxlbmd0aDsiYCIhPT1lW3RoaXMuX2N1cnJlbnRdJiZ0aGlzLl9jdXJyZW50PHI7KXt2YXIgbz10aGlzLl9jdXJyZW50OyJcXCIhPT1lW29dfHwiXFwiIT09ZVtvKzFdJiYiYCIhPT1lW28rMV0/bysrOm8rPTIsdGhpcy5fY3VycmVudD1vfXZhciBhPWkoZS5zbGljZShuLHRoaXMuX2N1cnJlbnQpKTtyZXR1cm4gYT1hLnJlcGxhY2UoIlxcYCIsImAiKSx0PXRoaXMuX2xvb2tzTGlrZUpTT04oYSk/SlNPTi5wYXJzZShhKTpKU09OLnBhcnNlKCciJythKyciJyksdGhpcy5fY3VycmVudCsrLHR9LF9sb29rc0xpa2VKU09OOmZ1bmN0aW9uKGUpe2lmKCIiPT09ZSlyZXR1cm4hMTtpZignW3siJy5pbmRleE9mKGVbMF0pPj0wKXJldHVybiEwO2lmKFsidHJ1ZSIsImZhbHNlIiwibnVsbCJdLmluZGV4T2YoZSk+PTApcmV0dXJuITA7aWYoISgiLTAxMjM0NTY3ODkiLmluZGV4T2YoZVswXSk+PTApKXJldHVybiExO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19fTt2YXIgVj17fTtmdW5jdGlvbiBXKCl7fWZ1bmN0aW9uIEgoZSl7dGhpcy5ydW50aW1lPWV9ZnVuY3Rpb24geihlKXt0aGlzLl9pbnRlcnByZXRlcj1lLHRoaXMuZnVuY3Rpb25UYWJsZT17YWJzOntfZnVuYzp0aGlzLl9mdW5jdGlvbkFicyxfc2lnbmF0dXJlOlt7dHlwZXM6W2FdfV19LGF2Zzp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25BdmcsX3NpZ25hdHVyZTpbe3R5cGVzOls4XX1dfSxjZWlsOntfZnVuYzp0aGlzLl9mdW5jdGlvbkNlaWwsX3NpZ25hdHVyZTpbe3R5cGVzOlthXX1dfSxjb250YWluczp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Db250YWlucyxfc2lnbmF0dXJlOlt7dHlwZXM6W3MsM119LHt0eXBlczpbMV19XX0sZW5kc193aXRoOntfZnVuYzp0aGlzLl9mdW5jdGlvbkVuZHNXaXRoLF9zaWduYXR1cmU6W3t0eXBlczpbc119LHt0eXBlczpbc119XX0sZmxvb3I6e19mdW5jOnRoaXMuX2Z1bmN0aW9uRmxvb3IsX3NpZ25hdHVyZTpbe3R5cGVzOlthXX1dfSxsZW5ndGg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTGVuZ3RoLF9zaWduYXR1cmU6W3t0eXBlczpbcywzLDRdfV19LG1hcDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NYXAsX3NpZ25hdHVyZTpbe3R5cGVzOls2XX0se3R5cGVzOlszXX1dfSxtYXg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWF4LF9zaWduYXR1cmU6W3t0eXBlczpbOCw5XX1dfSxtZXJnZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NZXJnZSxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdLHZhcmlhZGljOiEwfV19LG1heF9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NYXhCeSxfc2lnbmF0dXJlOlt7dHlwZXM6WzNdfSx7dHlwZXM6WzZdfV19LHN1bTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25TdW0sX3NpZ25hdHVyZTpbe3R5cGVzOls4XX1dfSxzdGFydHNfd2l0aDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25TdGFydHNXaXRoLF9zaWduYXR1cmU6W3t0eXBlczpbc119LHt0eXBlczpbc119XX0sbWluOntfZnVuYzp0aGlzLl9mdW5jdGlvbk1pbixfc2lnbmF0dXJlOlt7dHlwZXM6WzgsOV19XX0sbWluX2J5OntfZnVuYzp0aGlzLl9mdW5jdGlvbk1pbkJ5LF9zaWduYXR1cmU6W3t0eXBlczpbM119LHt0eXBlczpbNl19XX0sdHlwZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25UeXBlLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sa2V5czp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25LZXlzLF9zaWduYXR1cmU6W3t0eXBlczpbNF19XX0sdmFsdWVzOntfZnVuYzp0aGlzLl9mdW5jdGlvblZhbHVlcyxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdfV19LHNvcnQ6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU29ydCxfc2lnbmF0dXJlOlt7dHlwZXM6WzksOF19XX0sc29ydF9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Tb3J0QnksX3NpZ25hdHVyZTpbe3R5cGVzOlszXX0se3R5cGVzOls2XX1dfSxqb2luOntfZnVuYzp0aGlzLl9mdW5jdGlvbkpvaW4sX3NpZ25hdHVyZTpbe3R5cGVzOltzXX0se3R5cGVzOls5XX1dfSxyZXZlcnNlOntfZnVuYzp0aGlzLl9mdW5jdGlvblJldmVyc2UsX3NpZ25hdHVyZTpbe3R5cGVzOltzLDNdfV19LHRvX2FycmF5OntfZnVuYzp0aGlzLl9mdW5jdGlvblRvQXJyYXksX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSx0b19zdHJpbmc6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVG9TdHJpbmcsX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSx0b19udW1iZXI6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVG9OdW1iZXIsX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSxub3RfbnVsbDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ob3ROdWxsLF9zaWduYXR1cmU6W3t0eXBlczpbMV0sdmFyaWFkaWM6ITB9XX19fVZbdV09MCxWW2xdPTAsVltwXT0wLFZbZF09MCxWW2hdPTAsVltmXT0wLFZbbV09MCxWW3ZdPTAsVlt5XT0wLFZbYl09MCxWW1NdPTEsVltFXT0yLFZbQ109MyxWW0ldPTUsVltUXT01LFZbd109NSxWW0FdPTUsVltfXT01LFZbUl09NSxWW0xdPTksVltPXT0yMCxWW2tdPTIxLFZbTl09NDAsVltQXT00NSxWW3hdPTUwLFZbRF09NTUsVltNXT02MCxXLnByb3RvdHlwZT17cGFyc2U6ZnVuY3Rpb24oZSl7dGhpcy5fbG9hZFRva2VucyhlKSx0aGlzLmluZGV4PTA7dmFyIHQ9dGhpcy5leHByZXNzaW9uKDApO2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PXUpe3ZhciBuPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLHI9bmV3IEVycm9yKCJVbmV4cGVjdGVkIHRva2VuIHR5cGU6ICIrbi50eXBlKyIsIHZhbHVlOiAiK24udmFsdWUpO3Rocm93IHIubmFtZT0iUGFyc2VyRXJyb3IiLHJ9cmV0dXJuIHR9LF9sb2FkVG9rZW5zOmZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRykudG9rZW5pemUoZSk7dC5wdXNoKHt0eXBlOnUsdmFsdWU6IiIsc3RhcnQ6ZS5sZW5ndGh9KSx0aGlzLnRva2Vucz10fSxleHByZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvb2thaGVhZFRva2VuKDApO3RoaXMuX2FkdmFuY2UoKTtmb3IodmFyIG49dGhpcy5udWQodCkscj10aGlzLl9sb29rYWhlYWQoMCk7ZTxWW3JdOyl0aGlzLl9hZHZhbmNlKCksbj10aGlzLmxlZChyLG4pLHI9dGhpcy5fbG9va2FoZWFkKDApO3JldHVybiBufSxfbG9va2FoZWFkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRva2Vuc1t0aGlzLmluZGV4K2VdLnR5cGV9LF9sb29rYWhlYWRUb2tlbjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5pbmRleCtlXX0sX2FkdmFuY2U6ZnVuY3Rpb24oKXt0aGlzLmluZGV4Kyt9LG51ZDpmdW5jdGlvbihlKXt2YXIgdCxuO3N3aXRjaChlLnR5cGUpe2Nhc2UgVTpyZXR1cm57dHlwZToiTGl0ZXJhbCIsdmFsdWU6ZS52YWx1ZX07Y2FzZSBsOnJldHVybnt0eXBlOiJGaWVsZCIsbmFtZTplLnZhbHVlfTtjYXNlIHA6dmFyIHI9e3R5cGU6IkZpZWxkIixuYW1lOmUudmFsdWV9O2lmKHRoaXMuX2xvb2thaGVhZCgwKT09PU0pdGhyb3cgbmV3IEVycm9yKCJRdW90ZWQgaWRlbnRpZmllciBub3QgYWxsb3dlZCBmb3IgZnVuY3Rpb24gbmFtZXMuIik7cmV0dXJuIHI7Y2FzZSBQOnJldHVybnt0eXBlOiJOb3RFeHByZXNzaW9uIixjaGlsZHJlbjpbdD10aGlzLmV4cHJlc3Npb24oVi5Ob3QpXX07Y2FzZSBPOnJldHVybiB0PW51bGwse3R5cGU6IlZhbHVlUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOiJJZGVudGl0eSJ9LHQ9dGhpcy5fbG9va2FoZWFkKDApPT09ZD97dHlwZToiSWRlbnRpdHkifTp0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19O2Nhc2UgazpyZXR1cm4gdGhpcy5sZWQoZS50eXBlLHt0eXBlOiJJZGVudGl0eSJ9KTtjYXNlIHg6cmV0dXJuIHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RIYXNoKCk7Y2FzZSBMOnJldHVybnt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6TCxjaGlsZHJlbjpbe3R5cGU6IklkZW50aXR5In1dfSx0PXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLkZsYXR0ZW4pXX07Y2FzZSBEOnJldHVybiB0aGlzLl9sb29rYWhlYWQoMCk9PT12fHx0aGlzLl9sb29rYWhlYWQoMCk9PT1nPyh0PXRoaXMuX3BhcnNlSW5kZXhFeHByZXNzaW9uKCksdGhpcy5fcHJvamVjdElmU2xpY2Uoe3R5cGU6IklkZW50aXR5In0sdCkpOnRoaXMuX2xvb2thaGVhZCgwKT09PU8mJnRoaXMuX2xvb2thaGVhZCgxKT09PWQ/KHRoaXMuX2FkdmFuY2UoKSx0aGlzLl9hZHZhbmNlKCkse3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZToiSWRlbnRpdHkifSx0PXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX0pOnRoaXMuX3BhcnNlTXVsdGlzZWxlY3RMaXN0KCk7Y2FzZSB5OnJldHVybnt0eXBlOnl9O2Nhc2UgYjpyZXR1cm57dHlwZToiRXhwcmVzc2lvblJlZmVyZW5jZSIsY2hpbGRyZW46W249dGhpcy5leHByZXNzaW9uKFYuRXhwcmVmKV19O2Nhc2UgTTpmb3IodmFyIG89W107dGhpcy5fbG9va2FoZWFkKDApIT09aDspdGhpcy5fbG9va2FoZWFkKDApPT09eT8obj17dHlwZTp5fSx0aGlzLl9hZHZhbmNlKCkpOm49dGhpcy5leHByZXNzaW9uKDApLG8ucHVzaChuKTtyZXR1cm4gdGhpcy5fbWF0Y2goaCksb1swXTtkZWZhdWx0OnRoaXMuX2Vycm9yVG9rZW4oZSl9fSxsZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbjtzd2l0Y2goZSl7Y2FzZSBOOnZhciByPVYuRG90O3JldHVybiB0aGlzLl9sb29rYWhlYWQoMCkhPT1PP3t0eXBlOiJTdWJleHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX3BhcnNlRG90UkhTKHIpXX06KHRoaXMuX2FkdmFuY2UoKSx7dHlwZToiVmFsdWVQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhyKV19KTtjYXNlIFM6cmV0dXJuIG49dGhpcy5leHByZXNzaW9uKFYuUGlwZSkse3R5cGU6UyxjaGlsZHJlbjpbdCxuXX07Y2FzZSBFOnJldHVybnt0eXBlOiJPckV4cHJlc3Npb24iLGNoaWxkcmVuOlt0LG49dGhpcy5leHByZXNzaW9uKFYuT3IpXX07Y2FzZSBDOnJldHVybnt0eXBlOiJBbmRFeHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuZXhwcmVzc2lvbihWLkFuZCldfTtjYXNlIE06Zm9yKHZhciBvLGk9dC5uYW1lLGE9W107dGhpcy5fbG9va2FoZWFkKDApIT09aDspdGhpcy5fbG9va2FoZWFkKDApPT09eT8obz17dHlwZTp5fSx0aGlzLl9hZHZhbmNlKCkpOm89dGhpcy5leHByZXNzaW9uKDApLHRoaXMuX2xvb2thaGVhZCgwKT09PWYmJnRoaXMuX21hdGNoKGYpLGEucHVzaChvKTtyZXR1cm4gdGhpcy5fbWF0Y2goaCkse3R5cGU6IkZ1bmN0aW9uIixuYW1lOmksY2hpbGRyZW46YX07Y2FzZSBrOnZhciBzPXRoaXMuZXhwcmVzc2lvbigwKTtyZXR1cm4gdGhpcy5fbWF0Y2goZCkse3R5cGU6IkZpbHRlclByb2plY3Rpb24iLGNoaWxkcmVuOlt0LG49dGhpcy5fbG9va2FoZWFkKDApPT09TD97dHlwZToiSWRlbnRpdHkifTp0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5GaWx0ZXIpLHNdfTtjYXNlIEw6cmV0dXJue3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZTpMLGNoaWxkcmVuOlt0XX0sdGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuRmxhdHRlbildfTtjYXNlIEk6Y2FzZSBSOmNhc2UgVDpjYXNlIEE6Y2FzZSB3OmNhc2UgXzpyZXR1cm4gdGhpcy5fcGFyc2VDb21wYXJhdG9yKHQsZSk7Y2FzZSBEOnZhciBjPXRoaXMuX2xvb2thaGVhZFRva2VuKDApO3JldHVybiBjLnR5cGU9PT12fHxjLnR5cGU9PT1nPyhuPXRoaXMuX3BhcnNlSW5kZXhFeHByZXNzaW9uKCksdGhpcy5fcHJvamVjdElmU2xpY2UodCxuKSk6KHRoaXMuX21hdGNoKE8pLHRoaXMuX21hdGNoKGQpLHt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX0pO2RlZmF1bHQ6dGhpcy5fZXJyb3JUb2tlbih0aGlzLl9sb29rYWhlYWRUb2tlbigwKSl9fSxfbWF0Y2g6ZnVuY3Rpb24oZSl7aWYodGhpcy5fbG9va2FoZWFkKDApIT09ZSl7dmFyIHQ9dGhpcy5fbG9va2FoZWFkVG9rZW4oMCksbj1uZXcgRXJyb3IoIkV4cGVjdGVkICIrZSsiLCBnb3Q6ICIrdC50eXBlKTt0aHJvdyBuLm5hbWU9IlBhcnNlckVycm9yIixufXRoaXMuX2FkdmFuY2UoKX0sX2Vycm9yVG9rZW46ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEVycm9yKCJJbnZhbGlkIHRva2VuICgiK2UudHlwZSsnKTogIicrZS52YWx1ZSsnIicpO3Rocm93IHQubmFtZT0iUGFyc2VyRXJyb3IiLHR9LF9wYXJzZUluZGV4RXhwcmVzc2lvbjpmdW5jdGlvbigpe2lmKHRoaXMuX2xvb2thaGVhZCgwKT09PWd8fHRoaXMuX2xvb2thaGVhZCgxKT09PWcpcmV0dXJuIHRoaXMuX3BhcnNlU2xpY2VFeHByZXNzaW9uKCk7dmFyIGU9e3R5cGU6IkluZGV4Iix2YWx1ZTp0aGlzLl9sb29rYWhlYWRUb2tlbigwKS52YWx1ZX07cmV0dXJuIHRoaXMuX2FkdmFuY2UoKSx0aGlzLl9tYXRjaChkKSxlfSxfcHJvamVjdElmU2xpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj17dHlwZToiSW5kZXhFeHByZXNzaW9uIixjaGlsZHJlbjpbZSx0XX07cmV0dXJuIlNsaWNlIj09PXQudHlwZT97dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W24sdGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfTpufSxfcGFyc2VTbGljZUV4cHJlc3Npb246ZnVuY3Rpb24oKXtmb3IodmFyIGU9W251bGwsbnVsbCxudWxsXSx0PTAsbj10aGlzLl9sb29rYWhlYWQoMCk7biE9PWQmJnQ8Mzspe2lmKG49PT1nKXQrKyx0aGlzLl9hZHZhbmNlKCk7ZWxzZXtpZihuIT09dil7dmFyIHI9dGhpcy5fbG9va2FoZWFkKDApLG89bmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVuZXhwZWN0ZWQgdG9rZW46ICIrci52YWx1ZSsiKCIrci50eXBlKyIpIik7dGhyb3cgby5uYW1lPSJQYXJzZXJlcnJvciIsb31lW3RdPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLnZhbHVlLHRoaXMuX2FkdmFuY2UoKX1uPXRoaXMuX2xvb2thaGVhZCgwKX1yZXR1cm4gdGhpcy5fbWF0Y2goZCkse3R5cGU6IlNsaWNlIixjaGlsZHJlbjplfX0sX3BhcnNlQ29tcGFyYXRvcjpmdW5jdGlvbihlLHQpe3JldHVybnt0eXBlOiJDb21wYXJhdG9yIixuYW1lOnQsY2hpbGRyZW46W2UsdGhpcy5leHByZXNzaW9uKFZbdF0pXX19LF9wYXJzZURvdFJIUzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb29rYWhlYWQoMCk7cmV0dXJuW2wscCxPXS5pbmRleE9mKHQpPj0wP3RoaXMuZXhwcmVzc2lvbihlKTp0PT09RD8odGhpcy5fbWF0Y2goRCksdGhpcy5fcGFyc2VNdWx0aXNlbGVjdExpc3QoKSk6dD09PXg/KHRoaXMuX21hdGNoKHgpLHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RIYXNoKCkpOnZvaWQgMH0sX3BhcnNlUHJvamVjdGlvblJIUzpmdW5jdGlvbihlKXt2YXIgdDtpZihWW3RoaXMuX2xvb2thaGVhZCgwKV08MTApdD17dHlwZToiSWRlbnRpdHkifTtlbHNlIGlmKHRoaXMuX2xvb2thaGVhZCgwKT09PUQpdD10aGlzLmV4cHJlc3Npb24oZSk7ZWxzZSBpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1rKXQ9dGhpcy5leHByZXNzaW9uKGUpO2Vsc2V7aWYodGhpcy5fbG9va2FoZWFkKDApIT09Til7dmFyIG49dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkscj1uZXcgRXJyb3IoIlN5dGFueCBlcnJvciwgdW5leHBlY3RlZCB0b2tlbjogIituLnZhbHVlKyIoIituLnR5cGUrIikiKTt0aHJvdyByLm5hbWU9IlBhcnNlckVycm9yIixyfXRoaXMuX21hdGNoKE4pLHQ9dGhpcy5fcGFyc2VEb3RSSFMoZSl9cmV0dXJuIHR9LF9wYXJzZU11bHRpc2VsZWN0TGlzdDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXTt0aGlzLl9sb29rYWhlYWQoMCkhPT1kOyl7dmFyIHQ9dGhpcy5leHByZXNzaW9uKDApO2lmKGUucHVzaCh0KSx0aGlzLl9sb29rYWhlYWQoMCk9PT1mJiYodGhpcy5fbWF0Y2goZiksdGhpcy5fbG9va2FoZWFkKDApPT09ZCkpdGhyb3cgbmV3IEVycm9yKCJVbmV4cGVjdGVkIHRva2VuIFJicmFja2V0Iil9cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJNdWx0aVNlbGVjdExpc3QiLGNoaWxkcmVuOmV9fSxfcGFyc2VNdWx0aXNlbGVjdEhhc2g6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxuLHI9W10sbz1bbCxwXTs7KXtpZihlPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLG8uaW5kZXhPZihlLnR5cGUpPDApdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RpbmcgYW4gaWRlbnRpZmllciB0b2tlbiwgZ290OiAiK2UudHlwZSk7aWYodD1lLnZhbHVlLHRoaXMuX2FkdmFuY2UoKSx0aGlzLl9tYXRjaChnKSxuPXt0eXBlOiJLZXlWYWx1ZVBhaXIiLG5hbWU6dCx2YWx1ZTp0aGlzLmV4cHJlc3Npb24oMCl9LHIucHVzaChuKSx0aGlzLl9sb29rYWhlYWQoMCk9PT1mKXRoaXMuX21hdGNoKGYpO2Vsc2UgaWYodGhpcy5fbG9va2FoZWFkKDApPT09bSl7dGhpcy5fbWF0Y2gobSk7YnJlYWt9fXJldHVybnt0eXBlOiJNdWx0aVNlbGVjdEhhc2giLGNoaWxkcmVuOnJ9fX0sSC5wcm90b3R5cGU9e3NlYXJjaDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnZpc2l0KGUsdCl9LHZpc2l0OmZ1bmN0aW9uKGUsaSl7dmFyIGEscyxjLHUsbCxwLGQsaCxmO3N3aXRjaChlLnR5cGUpe2Nhc2UiRmllbGQiOnJldHVybiBudWxsIT09aSYmbihpKT92b2lkIDA9PT0ocD1pW2UubmFtZV0pP251bGw6cDpudWxsO2Nhc2UiU3ViZXhwcmVzc2lvbiI6Zm9yKGM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLGY9MTtmPGUuY2hpbGRyZW4ubGVuZ3RoO2YrKylpZihudWxsPT09KGM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGMpKSlyZXR1cm4gbnVsbDtyZXR1cm4gYztjYXNlIkluZGV4RXhwcmVzc2lvbiI6cmV0dXJuIGQ9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLHRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxkKTtjYXNlIkluZGV4IjppZighdChpKSlyZXR1cm4gbnVsbDt2YXIgZz1lLnZhbHVlO3JldHVybiBnPDAmJihnPWkubGVuZ3RoK2cpLHZvaWQgMD09PShjPWlbZ10pJiYoYz1udWxsKSxjO2Nhc2UiU2xpY2UiOmlmKCF0KGkpKXJldHVybiBudWxsO3ZhciBtPWUuY2hpbGRyZW4uc2xpY2UoMCksdj10aGlzLmNvbXB1dGVTbGljZVBhcmFtcyhpLmxlbmd0aCxtKSxFPXZbMF0sQz12WzFdLE89dlsyXTtpZihjPVtdLE8+MClmb3IoZj1FO2Y8QztmKz1PKWMucHVzaChpW2ZdKTtlbHNlIGZvcihmPUU7Zj5DO2YrPU8pYy5wdXNoKGlbZl0pO3JldHVybiBjO2Nhc2UiUHJvamVjdGlvbiI6dmFyIGs9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpO2lmKCF0KGspKXJldHVybiBudWxsO2ZvcihoPVtdLGY9MDtmPGsubGVuZ3RoO2YrKyludWxsIT09KHM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGtbZl0pKSYmaC5wdXNoKHMpO3JldHVybiBoO2Nhc2UiVmFsdWVQcm9qZWN0aW9uIjppZighbihrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkpcmV0dXJuIG51bGw7aD1bXTt2YXIgTj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspbi5wdXNoKGVbdFtyXV0pO3JldHVybiBufShrKTtmb3IoZj0wO2Y8Ti5sZW5ndGg7ZisrKW51bGwhPT0ocz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sTltmXSkpJiZoLnB1c2gocyk7cmV0dXJuIGg7Y2FzZSJGaWx0ZXJQcm9qZWN0aW9uIjppZighdChrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkpcmV0dXJuIG51bGw7dmFyIFA9W10seD1bXTtmb3IoZj0wO2Y8ay5sZW5ndGg7ZisrKW8oYT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMl0sa1tmXSkpfHxQLnB1c2goa1tmXSk7Zm9yKHZhciBEPTA7RDxQLmxlbmd0aDtEKyspbnVsbCE9PShzPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxQW0RdKSkmJngucHVzaChzKTtyZXR1cm4geDtjYXNlIkNvbXBhcmF0b3IiOnN3aXRjaCh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSxsPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKSxlLm5hbWUpe2Nhc2UgSTpjPXIodSxsKTticmVhaztjYXNlIFI6Yz0hcih1LGwpO2JyZWFrO2Nhc2UgVDpjPXU+bDticmVhaztjYXNlIEE6Yz11Pj1sO2JyZWFrO2Nhc2UgdzpjPXU8bDticmVhaztjYXNlIF86Yz11PD1sO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbXBhcmF0b3I6ICIrZS5uYW1lKX1yZXR1cm4gYztjYXNlIEw6dmFyIE09dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpO2lmKCF0KE0pKXJldHVybiBudWxsO3ZhciBVPVtdO2ZvcihmPTA7ZjxNLmxlbmd0aDtmKyspdChzPU1bZl0pP1UucHVzaC5hcHBseShVLHMpOlUucHVzaChzKTtyZXR1cm4gVTtjYXNlIklkZW50aXR5IjpyZXR1cm4gaTtjYXNlIk11bHRpU2VsZWN0TGlzdCI6aWYobnVsbD09PWkpcmV0dXJuIG51bGw7Zm9yKGg9W10sZj0wO2Y8ZS5jaGlsZHJlbi5sZW5ndGg7ZisrKWgucHVzaCh0aGlzLnZpc2l0KGUuY2hpbGRyZW5bZl0saSkpO3JldHVybiBoO2Nhc2UiTXVsdGlTZWxlY3RIYXNoIjppZihudWxsPT09aSlyZXR1cm4gbnVsbDt2YXIgRjtmb3IoaD17fSxmPTA7ZjxlLmNoaWxkcmVuLmxlbmd0aDtmKyspaFsoRj1lLmNoaWxkcmVuW2ZdKS5uYW1lXT10aGlzLnZpc2l0KEYudmFsdWUsaSk7cmV0dXJuIGg7Y2FzZSJPckV4cHJlc3Npb24iOnJldHVybiBvKGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKSYmKGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGkpKSxhO2Nhc2UiQW5kRXhwcmVzc2lvbiI6cmV0dXJuITA9PT1vKHU9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKT91OnRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKTtjYXNlIk5vdEV4cHJlc3Npb24iOnJldHVybiBvKHU9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKTtjYXNlIkxpdGVyYWwiOnJldHVybiBlLnZhbHVlO2Nhc2UgUzpyZXR1cm4gZD10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksdGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGQpO2Nhc2UgeTpyZXR1cm4gaTtjYXNlIkZ1bmN0aW9uIjp2YXIgaj1bXTtmb3IoZj0wO2Y8ZS5jaGlsZHJlbi5sZW5ndGg7ZisrKWoucHVzaCh0aGlzLnZpc2l0KGUuY2hpbGRyZW5bZl0saSkpO3JldHVybiB0aGlzLnJ1bnRpbWUuY2FsbEZ1bmN0aW9uKGUubmFtZSxqKTtjYXNlIkV4cHJlc3Npb25SZWZlcmVuY2UiOnZhciBxPWUuY2hpbGRyZW5bMF07cmV0dXJuIHEuam1lc3BhdGhUeXBlPWIscTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBub2RlIHR5cGU6ICIrZS50eXBlKX19LGNvbXB1dGVTbGljZVBhcmFtczpmdW5jdGlvbihlLHQpe3ZhciBuPXRbMF0scj10WzFdLG89dFsyXSxpPVtudWxsLG51bGwsbnVsbF07aWYobnVsbD09PW8pbz0xO2Vsc2UgaWYoMD09PW8pe3ZhciBhPW5ldyBFcnJvcigiSW52YWxpZCBzbGljZSwgc3RlcCBjYW5ub3QgYmUgMCIpO3Rocm93IGEubmFtZT0iUnVudGltZUVycm9yIixhfXZhciBzPW88MDtyZXR1cm4gbj1udWxsPT09bj9zP2UtMTowOnRoaXMuY2FwU2xpY2VSYW5nZShlLG4sbykscj1udWxsPT09cj9zPy0xOmU6dGhpcy5jYXBTbGljZVJhbmdlKGUscixvKSxpWzBdPW4saVsxXT1yLGlbMl09byxpfSxjYXBTbGljZVJhbmdlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdDwwPyh0Kz1lKTwwJiYodD1uPDA/LTE6MCk6dD49ZSYmKHQ9bjwwP2UtMTplKSx0fX0sei5wcm90b3R5cGU9e2NhbGxGdW5jdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZnVuY3Rpb25UYWJsZVtlXTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBmdW5jdGlvbjogIitlKyIoKSIpO3JldHVybiB0aGlzLl92YWxpZGF0ZUFyZ3MoZSx0LG4uX3NpZ25hdHVyZSksbi5fZnVuYy5jYWxsKHRoaXMsdCl9LF92YWxpZGF0ZUFyZ3M6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhO2lmKG5bbi5sZW5ndGgtMV0udmFyaWFkaWMpe2lmKHQubGVuZ3RoPG4ubGVuZ3RoKXRocm93IHI9MT09PW4ubGVuZ3RoPyIgYXJndW1lbnQiOiIgYXJndW1lbnRzIixuZXcgRXJyb3IoIkFyZ3VtZW50RXJyb3I6ICIrZSsiKCkgdGFrZXMgYXQgbGVhc3QiK24ubGVuZ3RoK3IrIiBidXQgcmVjZWl2ZWQgIit0Lmxlbmd0aCl9ZWxzZSBpZih0Lmxlbmd0aCE9PW4ubGVuZ3RoKXRocm93IHI9MT09PW4ubGVuZ3RoPyIgYXJndW1lbnQiOiIgYXJndW1lbnRzIixuZXcgRXJyb3IoIkFyZ3VtZW50RXJyb3I6ICIrZSsiKCkgdGFrZXMgIituLmxlbmd0aCtyKyIgYnV0IHJlY2VpdmVkICIrdC5sZW5ndGgpO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKXthPSExLG89bltzXS50eXBlcyxpPXRoaXMuX2dldFR5cGVOYW1lKHRbc10pO2Zvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKWlmKHRoaXMuX3R5cGVNYXRjaGVzKGksb1t1XSx0W3NdKSl7YT0hMDticmVha31pZighYSl7dmFyIGw9by5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBjW2VdfSkpLmpvaW4oIiwiKTt0aHJvdyBuZXcgRXJyb3IoIlR5cGVFcnJvcjogIitlKyIoKSBleHBlY3RlZCBhcmd1bWVudCAiKyhzKzEpKyIgdG8gYmUgdHlwZSAiK2wrIiBidXQgcmVjZWl2ZWQgdHlwZSAiK2NbaV0rIiBpbnN0ZWFkLiIpfX19LF90eXBlTWF0Y2hlczpmdW5jdGlvbihlLHQsbil7aWYoMT09PXQpcmV0dXJuITA7aWYoOSE9PXQmJjghPT10JiYzIT09dClyZXR1cm4gZT09PXQ7aWYoMz09PXQpcmV0dXJuIDM9PT1lO2lmKDM9PT1lKXt2YXIgcjs4PT09dD9yPWE6OT09PXQmJihyPXMpO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKWlmKCF0aGlzLl90eXBlTWF0Y2hlcyh0aGlzLl9nZXRUeXBlTmFtZShuW29dKSxyLG5bb10pKXJldHVybiExO3JldHVybiEwfX0sX2dldFR5cGVOYW1lOmZ1bmN0aW9uKGUpe3N3aXRjaChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe2Nhc2UiW29iamVjdCBTdHJpbmddIjpyZXR1cm4gcztjYXNlIltvYmplY3QgTnVtYmVyXSI6cmV0dXJuIGE7Y2FzZSJbb2JqZWN0IEFycmF5XSI6cmV0dXJuIDM7Y2FzZSJbb2JqZWN0IEJvb2xlYW5dIjpyZXR1cm4gNTtjYXNlIltvYmplY3QgTnVsbF0iOnJldHVybiA3O2Nhc2UiW29iamVjdCBPYmplY3RdIjpyZXR1cm4gZS5qbWVzcGF0aFR5cGU9PT1iPzY6NH19LF9mdW5jdGlvblN0YXJ0c1dpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lWzBdLmxhc3RJbmRleE9mKGVbMV0pfSxfZnVuY3Rpb25FbmRzV2l0aDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXTtyZXR1cm4tMSE9PXQuaW5kZXhPZihuLHQubGVuZ3RoLW4ubGVuZ3RoKX0sX2Z1bmN0aW9uUmV2ZXJzZTpmdW5jdGlvbihlKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdKT09PXMpe2Zvcih2YXIgdD1lWzBdLG49IiIscj10Lmxlbmd0aC0xO3I+PTA7ci0tKW4rPXRbcl07cmV0dXJuIG59dmFyIG89ZVswXS5zbGljZSgwKTtyZXR1cm4gby5yZXZlcnNlKCksb30sX2Z1bmN0aW9uQWJzOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmFicyhlWzBdKX0sX2Z1bmN0aW9uQ2VpbDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5jZWlsKGVbMF0pfSxfZnVuY3Rpb25Bdmc6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1lWzBdLHI9MDtyPG4ubGVuZ3RoO3IrKyl0Kz1uW3JdO3JldHVybiB0L24ubGVuZ3RofSxfZnVuY3Rpb25Db250YWluczpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS5pbmRleE9mKGVbMV0pPj0wfSxfZnVuY3Rpb25GbG9vcjpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5mbG9vcihlWzBdKX0sX2Z1bmN0aW9uTGVuZ3RoOmZ1bmN0aW9uKGUpe3JldHVybiBuKGVbMF0pP09iamVjdC5rZXlzKGVbMF0pLmxlbmd0aDplWzBdLmxlbmd0aH0sX2Z1bmN0aW9uTWFwOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPXRoaXMuX2ludGVycHJldGVyLHI9ZVswXSxvPWVbMV0saT0wO2k8by5sZW5ndGg7aSsrKXQucHVzaChuLnZpc2l0KHIsb1tpXSkpO3JldHVybiB0fSxfZnVuY3Rpb25NZXJnZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2Zvcih2YXIgbyBpbiByKXRbb109cltvXX1yZXR1cm4gdH0sX2Z1bmN0aW9uTWF4OmZ1bmN0aW9uKGUpe2lmKGVbMF0ubGVuZ3RoPjApe2lmKHRoaXMuX2dldFR5cGVOYW1lKGVbMF1bMF0pPT09YSlyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxlWzBdKTtmb3IodmFyIHQ9ZVswXSxuPXRbMF0scj0xO3I8dC5sZW5ndGg7cisrKW4ubG9jYWxlQ29tcGFyZSh0W3JdKTwwJiYobj10W3JdKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH0sX2Z1bmN0aW9uTWluOmZ1bmN0aW9uKGUpe2lmKGVbMF0ubGVuZ3RoPjApe2lmKHRoaXMuX2dldFR5cGVOYW1lKGVbMF1bMF0pPT09YSlyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxlWzBdKTtmb3IodmFyIHQ9ZVswXSxuPXRbMF0scj0xO3I8dC5sZW5ndGg7cisrKXRbcl0ubG9jYWxlQ29tcGFyZShuKTwwJiYobj10W3JdKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH0sX2Z1bmN0aW9uU3VtOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZVswXSxyPTA7cjxuLmxlbmd0aDtyKyspdCs9bltyXTtyZXR1cm4gdH0sX2Z1bmN0aW9uVHlwZTpmdW5jdGlvbihlKXtzd2l0Y2godGhpcy5fZ2V0VHlwZU5hbWUoZVswXSkpe2Nhc2UgYTpyZXR1cm4ibnVtYmVyIjtjYXNlIHM6cmV0dXJuInN0cmluZyI7Y2FzZSAzOnJldHVybiJhcnJheSI7Y2FzZSA0OnJldHVybiJvYmplY3QiO2Nhc2UgNTpyZXR1cm4iYm9vbGVhbiI7Y2FzZSA2OnJldHVybiJleHByZWYiO2Nhc2UgNzpyZXR1cm4ibnVsbCJ9fSxfZnVuY3Rpb25LZXlzOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlWzBdKX0sX2Z1bmN0aW9uVmFsdWVzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lWzBdLG49T2JqZWN0LmtleXModCkscj1bXSxvPTA7bzxuLmxlbmd0aDtvKyspci5wdXNoKHRbbltvXV0pO3JldHVybiByfSxfZnVuY3Rpb25Kb2luOmZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07cmV0dXJuIGVbMV0uam9pbih0KX0sX2Z1bmN0aW9uVG9BcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gMz09PXRoaXMuX2dldFR5cGVOYW1lKGVbMF0pP2VbMF06W2VbMF1dfSxfZnVuY3Rpb25Ub1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk9PT1zP2VbMF06SlNPTi5zdHJpbmdpZnkoZVswXSl9LF9mdW5jdGlvblRvTnVtYmVyOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk7cmV0dXJuIG49PT1hP2VbMF06biE9PXN8fCh0PStlWzBdLGlzTmFOKHQpKT9udWxsOnR9LF9mdW5jdGlvbk5vdE51bGw6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoNyE9PXRoaXMuX2dldFR5cGVOYW1lKGVbdF0pKXJldHVybiBlW3RdO3JldHVybiBudWxsfSxfZnVuY3Rpb25Tb3J0OmZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0uc2xpY2UoMCk7cmV0dXJuIHQuc29ydCgpLHR9LF9mdW5jdGlvblNvcnRCeTpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLnNsaWNlKDApO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdDt2YXIgbj10aGlzLl9pbnRlcnByZXRlcixyPWVbMV0sbz10aGlzLl9nZXRUeXBlTmFtZShuLnZpc2l0KHIsdFswXSkpO2lmKFthLHNdLmluZGV4T2Yobyk8MCl0aHJvdyBuZXcgRXJyb3IoIlR5cGVFcnJvciIpO2Zvcih2YXIgaT10aGlzLGM9W10sdT0wO3U8dC5sZW5ndGg7dSsrKWMucHVzaChbdSx0W3VdXSk7Yy5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciBhPW4udmlzaXQocixlWzFdKSxzPW4udmlzaXQocix0WzFdKTtpZihpLl9nZXRUeXBlTmFtZShhKSE9PW8pdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6IGV4cGVjdGVkICIrbysiLCByZWNlaXZlZCAiK2kuX2dldFR5cGVOYW1lKGEpKTtpZihpLl9nZXRUeXBlTmFtZShzKSE9PW8pdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6IGV4cGVjdGVkICIrbysiLCByZWNlaXZlZCAiK2kuX2dldFR5cGVOYW1lKHMpKTtyZXR1cm4gYT5zPzE6YTxzPy0xOmVbMF0tdFswXX0pKTtmb3IodmFyIGw9MDtsPGMubGVuZ3RoO2wrKyl0W2xdPWNbbF1bMV07cmV0dXJuIHR9LF9mdW5jdGlvbk1heEJ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZVsxXSxvPWVbMF0saT10aGlzLmNyZWF0ZUtleUZ1bmN0aW9uKHIsW2Esc10pLGM9LTEvMCx1PTA7dTxvLmxlbmd0aDt1KyspKG49aShvW3VdKSk+YyYmKGM9bix0PW9bdV0pO3JldHVybiB0fSxfZnVuY3Rpb25NaW5CeTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWVbMV0sbz1lWzBdLGk9dGhpcy5jcmVhdGVLZXlGdW5jdGlvbihyLFthLHNdKSxjPTEvMCx1PTA7dTxvLmxlbmd0aDt1KyspKG49aShvW3VdKSk8YyYmKGM9bix0PW9bdV0pO3JldHVybiB0fSxjcmVhdGVLZXlGdW5jdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj10aGlzLl9pbnRlcnByZXRlcjtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIGk9ci52aXNpdChlLG8pO2lmKHQuaW5kZXhPZihuLl9nZXRUeXBlTmFtZShpKSk8MCl7dmFyIGE9IlR5cGVFcnJvcjogZXhwZWN0ZWQgb25lIG9mICIrdCsiLCByZWNlaXZlZCAiK24uX2dldFR5cGVOYW1lKGkpO3Rocm93IG5ldyBFcnJvcihhKX1yZXR1cm4gaX19fSxlLnRva2VuaXplPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgRykudG9rZW5pemUoZSl9LGUuY29tcGlsZT1mdW5jdGlvbihlKXtyZXR1cm4obmV3IFcpLnBhcnNlKGUpfSxlLnNlYXJjaD1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBXLHI9bmV3IHosbz1uZXcgSChyKTtyLl9pbnRlcnByZXRlcj1vO3ZhciBpPW4ucGFyc2UodCk7cmV0dXJuIG8uc2VhcmNoKGksZSl9LGUuc3RyaWN0RGVlcEVxdWFsPXJ9KHZvaWQgMD09PW4/dGhpcy5qbWVzcGF0aD17fTpuKX0se31dLDkxOltmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gcygpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gYyhlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09YXx8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtyPSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6YX1jYXRjaChlKXtyPWF9dHJ5e289ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6c31jYXRjaChlKXtvPXN9fSgpO3ZhciB1LGw9W10scD0hMSxkPS0xO2Z1bmN0aW9uIGgoKXtwJiZ1JiYocD0hMSx1Lmxlbmd0aD9sPXUuY29uY2F0KGwpOmQ9LTEsbC5sZW5ndGgmJmYoKSl9ZnVuY3Rpb24gZigpe2lmKCFwKXt2YXIgZT1jKGgpO3A9ITA7Zm9yKHZhciB0PWwubGVuZ3RoO3Q7KXtmb3IodT1sLGw9W107KytkPHQ7KXUmJnVbZF0ucnVuKCk7ZD0tMSx0PWwubGVuZ3RofXU9bnVsbCxwPSExLGZ1bmN0aW9uKGUpe2lmKG89PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobz09PXN8fCFvKSYmY2xlYXJUaW1lb3V0KXJldHVybiBvPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiBvKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gby5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG8uY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBnKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gbSgpe31pLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07bC5wdXNoKG5ldyBnKGUsdCkpLDEhPT1sLmxlbmd0aHx8cHx8YyhmKX0sZy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saS50aXRsZT0iYnJvd3NlciIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249IiIsaS52ZXJzaW9ucz17fSxpLm9uPW0saS5hZGRMaXN0ZW5lcj1tLGkub25jZT1tLGkub2ZmPW0saS5yZW1vdmVMaXN0ZW5lcj1tLGkucmVtb3ZlQWxsTGlzdGVuZXJzPW0saS5lbWl0PW0saS5wcmVwZW5kTGlzdGVuZXI9bSxpLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxpLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGkuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDkyOltmdW5jdGlvbihlLHQsaSl7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpeyFmdW5jdGlvbihhKXt2YXIgcz0ib2JqZWN0Ij09byhpKSYmaSYmIWkubm9kZVR5cGUmJmksYz0ib2JqZWN0Ij09byh0KSYmdCYmIXQubm9kZVR5cGUmJnQsdT0ib2JqZWN0Ij09byhlKSYmZTt1Lmdsb2JhbCE9PXUmJnUud2luZG93IT09dSYmdS5zZWxmIT09dXx8KGE9dSk7dmFyIGwscCxkPTIxNDc0ODM2NDcsaD0zNixmPS9eeG4tLS8sZz0vW15ceDIwLVx4N0VdLyxtPS9bXHgyRVx1MzAwMlx1RkYwRVx1RkY2MV0vZyx2PXtvdmVyZmxvdzoiT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MiLCJub3QtYmFzaWMiOiJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpIiwiaW52YWxpZC1pbnB1dCI6IkludmFsaWQgaW5wdXQifSx5PU1hdGguZmxvb3IsYj1TdHJpbmcuZnJvbUNoYXJDb2RlO2Z1bmN0aW9uIFMoZSl7dGhyb3cgbmV3IFJhbmdlRXJyb3IodltlXSl9ZnVuY3Rpb24gRShlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPVtdO24tLTspcltuXT10KGVbbl0pO3JldHVybiByfWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj1lLnNwbGl0KCJAIikscj0iIjtyZXR1cm4gbi5sZW5ndGg+MSYmKHI9blswXSsiQCIsZT1uWzFdKSxyK0UoKGU9ZS5yZXBsYWNlKG0sIi4iKSkuc3BsaXQoIi4iKSx0KS5qb2luKCIuIil9ZnVuY3Rpb24gSShlKXtmb3IodmFyIHQsbixyPVtdLG89MCxpPWUubGVuZ3RoO288aTspKHQ9ZS5jaGFyQ29kZUF0KG8rKykpPj01NTI5NiYmdDw9NTYzMTkmJm88aT81NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChvKyspKSk/ci5wdXNoKCgoMTAyMyZ0KTw8MTApKygxMDIzJm4pKzY1NTM2KTooci5wdXNoKHQpLG8tLSk6ci5wdXNoKHQpO3JldHVybiByfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIEUoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9IiI7cmV0dXJuIGU+NjU1MzUmJih0Kz1iKChlLT02NTUzNik+Pj4xMCYxMDIzfDU1Mjk2KSxlPTU2MzIwfDEwMjMmZSksdCs9YihlKX0pKS5qb2luKCIiKX1mdW5jdGlvbiB3KGUsdCl7cmV0dXJuIGUrMjIrNzUqKGU8MjYpLSgoMCE9dCk8PDUpfWZ1bmN0aW9uIEEoZSx0LG4pe3ZhciByPTA7Zm9yKGU9bj95KGUvNzAwKTplPj4xLGUrPXkoZS90KTtlPjQ1NTtyKz1oKWU9eShlLzM1KTtyZXR1cm4geShyKzM2KmUvKGUrMzgpKX1mdW5jdGlvbiBfKGUpe3ZhciB0LG4scixvLGksYSxzLGMsdSxsLHAsZj1bXSxnPWUubGVuZ3RoLG09MCx2PTEyOCxiPTcyO2Zvcigobj1lLmxhc3RJbmRleE9mKCItIikpPDAmJihuPTApLHI9MDtyPG47KytyKWUuY2hhckNvZGVBdChyKT49MTI4JiZTKCJub3QtYmFzaWMiKSxmLnB1c2goZS5jaGFyQ29kZUF0KHIpKTtmb3Iobz1uPjA/bisxOjA7bzxnOyl7Zm9yKGk9bSxhPTEscz1oO28+PWcmJlMoImludmFsaWQtaW5wdXQiKSwoKGM9KHA9ZS5jaGFyQ29kZUF0KG8rKykpLTQ4PDEwP3AtMjI6cC02NTwyNj9wLTY1OnAtOTc8MjY/cC05NzpoKT49aHx8Yz55KChkLW0pL2EpKSYmUygib3ZlcmZsb3ciKSxtKz1jKmEsIShjPCh1PXM8PWI/MTpzPj1iKzI2PzI2OnMtYikpO3MrPWgpYT55KGQvKGw9aC11KSkmJlMoIm92ZXJmbG93IiksYSo9bDtiPUEobS1pLHQ9Zi5sZW5ndGgrMSwwPT1pKSx5KG0vdCk+ZC12JiZTKCJvdmVyZmxvdyIpLHYrPXkobS90KSxtJT10LGYuc3BsaWNlKG0rKywwLHYpfXJldHVybiBUKGYpfWZ1bmN0aW9uIFIoZSl7dmFyIHQsbixyLG8saSxhLHMsYyx1LGwscCxmLGcsbSx2LEU9W107Zm9yKGY9KGU9SShlKSkubGVuZ3RoLHQ9MTI4LG49MCxpPTcyLGE9MDthPGY7KythKShwPWVbYV0pPDEyOCYmRS5wdXNoKGIocCkpO2ZvcihyPW89RS5sZW5ndGgsbyYmRS5wdXNoKCItIik7cjxmOyl7Zm9yKHM9ZCxhPTA7YTxmOysrYSkocD1lW2FdKT49dCYmcDxzJiYocz1wKTtmb3Iocy10PnkoKGQtbikvKGc9cisxKSkmJlMoIm92ZXJmbG93Iiksbis9KHMtdCkqZyx0PXMsYT0wO2E8ZjsrK2EpaWYoKHA9ZVthXSk8dCYmKytuPmQmJlMoIm92ZXJmbG93IikscD09dCl7Zm9yKGM9bix1PWg7IShjPChsPXU8PWk/MTp1Pj1pKzI2PzI2OnUtaSkpO3UrPWgpdj1jLWwsbT1oLWwsRS5wdXNoKGIodyhsK3YlbSwwKSkpLGM9eSh2L20pO0UucHVzaChiKHcoYywwKSkpLGk9QShuLGcscj09byksbj0wLCsrcn0rK24sKyt0fXJldHVybiBFLmpvaW4oIiIpfWlmKGw9e3ZlcnNpb246IjEuNC4xIix1Y3MyOntkZWNvZGU6SSxlbmNvZGU6VH0sZGVjb2RlOl8sZW5jb2RlOlIsdG9BU0NJSTpmdW5jdGlvbihlKXtyZXR1cm4gQyhlLChmdW5jdGlvbihlKXtyZXR1cm4gZy50ZXN0KGUpPyJ4bi0tIitSKGUpOmV9KSl9LHRvVW5pY29kZTpmdW5jdGlvbihlKXtyZXR1cm4gQyhlLChmdW5jdGlvbihlKXtyZXR1cm4gZi50ZXN0KGUpP18oZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKTplfSkpfX0sIm9iamVjdCI9PW8obi5hbWRPKSYmbi5hbWRPKXZvaWQgMD09PShyPWZ1bmN0aW9uKCl7cmV0dXJuIGx9LmNhbGwoaSxuLGksdCkpfHwodC5leHBvcnRzPXIpO2Vsc2UgaWYocyYmYylpZih0LmV4cG9ydHM9PXMpYy5leHBvcnRzPWw7ZWxzZSBmb3IocCBpbiBsKWwuaGFzT3duUHJvcGVydHkocCkmJihzW3BdPWxbcF0pO2Vsc2UgYS5wdW55Y29kZT1sfSh0aGlzKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdm9pZCAwIT09bi5nP24uZzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sOTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7dD10fHwiJiIsbj1ufHwiPSI7dmFyIGE9e307aWYoInN0cmluZyIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIGE7dmFyIHM9L1wrL2c7ZT1lLnNwbGl0KHQpO3ZhciBjPTFlMztpJiYibnVtYmVyIj09dHlwZW9mIGkubWF4S2V5cyYmKGM9aS5tYXhLZXlzKTt2YXIgdT1lLmxlbmd0aDtjPjAmJnU+YyYmKHU9Yyk7Zm9yKHZhciBsPTA7bDx1OysrbCl7dmFyIHAsZCxoLGYsZz1lW2xdLnJlcGxhY2UocywiJTIwIiksbT1nLmluZGV4T2Yobik7bT49MD8ocD1nLnN1YnN0cigwLG0pLGQ9Zy5zdWJzdHIobSsxKSk6KHA9ZyxkPSIiKSxoPWRlY29kZVVSSUNvbXBvbmVudChwKSxmPWRlY29kZVVSSUNvbXBvbmVudChkKSxyKGEsaCk/byhhW2hdKT9hW2hdLnB1c2goZik6YVtoXT1bYVtoXSxmXTphW2hdPWZ9cmV0dXJuIGF9O3ZhciBvPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9fSx7fV0sOTQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24oZSl7c3dpdGNoKG8oZSkpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gZTtjYXNlImJvb2xlYW4iOnJldHVybiBlPyJ0cnVlIjoiZmFsc2UiO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoZSk/ZToiIjtkZWZhdWx0OnJldHVybiIifX07dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGMpe3JldHVybiB0PXR8fCImIixuPW58fCI9IixudWxsPT09ZSYmKGU9dm9pZCAwKSwib2JqZWN0Ij09PW8oZSk/YShzKGUpLChmdW5jdGlvbihvKXt2YXIgcz1lbmNvZGVVUklDb21wb25lbnQocihvKSkrbjtyZXR1cm4gaShlW29dKT9hKGVbb10sKGZ1bmN0aW9uKGUpe3JldHVybiBzK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKX0pKS5qb2luKHQpOnMrZW5jb2RlVVJJQ29tcG9uZW50KHIoZVtvXSkpfSkpLmpvaW4odCk6Yz9lbmNvZGVVUklDb21wb25lbnQocihjKSkrbitlbmNvZGVVUklDb21wb25lbnQocihlKSk6IiJ9O3ZhciBpPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9O2Z1bmN0aW9uIGEoZSx0KXtpZihlLm1hcClyZXR1cm4gZS5tYXAodCk7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyluLnB1c2godChlW3JdLHIpKTtyZXR1cm4gbn12YXIgcz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQucHVzaChuKTtyZXR1cm4gdH19LHt9XSw5NTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmRlY29kZT1uLnBhcnNlPWUoIi4vZGVjb2RlIiksbi5lbmNvZGU9bi5zdHJpbmdpZnk9ZSgiLi9lbmNvZGUiKX0seyIuL2RlY29kZSI6OTMsIi4vZW5jb2RlIjo5NH1dLDk2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLG8pe3Q9dHx8IiYiLG49bnx8Ij0iO3ZhciBpPXt9O2lmKCJzdHJpbmciIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiBpO3ZhciBhPS9cKy9nO2U9ZS5zcGxpdCh0KTt2YXIgcz0xZTM7byYmIm51bWJlciI9PXR5cGVvZiBvLm1heEtleXMmJihzPW8ubWF4S2V5cyk7dmFyIGM9ZS5sZW5ndGg7cz4wJiZjPnMmJihjPXMpO2Zvcih2YXIgdT0wO3U8YzsrK3Upe3ZhciBsLHAsZCxoLGY9ZVt1XS5yZXBsYWNlKGEsIiUyMCIpLGc9Zi5pbmRleE9mKG4pO2c+PTA/KGw9Zi5zdWJzdHIoMCxnKSxwPWYuc3Vic3RyKGcrMSkpOihsPWYscD0iIiksZD1kZWNvZGVVUklDb21wb25lbnQobCksaD1kZWNvZGVVUklDb21wb25lbnQocCkscihpLGQpP0FycmF5LmlzQXJyYXkoaVtkXSk/aVtkXS5wdXNoKGgpOmlbZF09W2lbZF0saF06aVtkXT1ofXJldHVybiBpfX0se31dLDk3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWZ1bmN0aW9uKGUpe3N3aXRjaChvKGUpKXtjYXNlInN0cmluZyI6cmV0dXJuIGU7Y2FzZSJib29sZWFuIjpyZXR1cm4gZT8idHJ1ZSI6ImZhbHNlIjtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKGUpP2U6IiI7ZGVmYXVsdDpyZXR1cm4iIn19O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gdD10fHwiJiIsbj1ufHwiPSIsbnVsbD09PWUmJihlPXZvaWQgMCksIm9iamVjdCI9PT1vKGUpP09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24obyl7dmFyIGk9ZW5jb2RlVVJJQ29tcG9uZW50KHIobykpK247cmV0dXJuIEFycmF5LmlzQXJyYXkoZVtvXSk/ZVtvXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBpK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKX0pKS5qb2luKHQpOmkrZW5jb2RlVVJJQ29tcG9uZW50KHIoZVtvXSkpfSkpLmpvaW4odCk6aT9lbmNvZGVVUklDb21wb25lbnQocihpKSkrbitlbmNvZGVVUklDb21wb25lbnQocihlKSk6IiJ9fSx7fV0sOTg6W2Z1bmN0aW9uKGUsdCxuKXthcmd1bWVudHNbNF1bOTVdWzBdLmFwcGx5KG4sYXJndW1lbnRzKX0seyIuL2RlY29kZSI6OTYsIi4vZW5jb2RlIjo5NyxkdXA6OTV9XSw5OTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0LHIpeyhmdW5jdGlvbigpe3ZhciBvPWUoInByb2Nlc3MvYnJvd3Nlci5qcyIpLm5leHRUaWNrLGk9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHM9e30sYz0wO2Z1bmN0aW9uIHUoZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH1uLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoaS5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sbi5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShpLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LG4uY2xlYXJUaW1lb3V0PW4uY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtlLmNsb3NlKCl9LHUucHJvdG90eXBlLnVucmVmPXUucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sdS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sbi5lbnJvbGw9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9dH0sbi51bmVucm9sbD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9LTF9LG4uX3VucmVmQWN0aXZlPW4uYWN0aXZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKTt2YXIgdD1lLl9pZGxlVGltZW91dDt0Pj0wJiYoZS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX29uVGltZW91dCYmZS5fb25UaW1lb3V0KCl9KSx0KSl9LG4uc2V0SW1tZWRpYXRlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9YysrLHI9IShhcmd1bWVudHMubGVuZ3RoPDIpJiZhLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBzW3RdPSEwLG8oKGZ1bmN0aW9uKCl7c1t0XSYmKHI/ZS5hcHBseShudWxsLHIpOmUuY2FsbChudWxsKSxuLmNsZWFySW1tZWRpYXRlKHQpKX0pKSx0fSxuLmNsZWFySW1tZWRpYXRlPSJmdW5jdGlvbiI9PXR5cGVvZiByP3I6ZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV19fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUsZSgidGltZXJzIikuY2xlYXJJbW1lZGlhdGUpfSx7InByb2Nlc3MvYnJvd3Nlci5qcyI6OTEsdGltZXJzOjk5fV0sMTAwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgicHVueWNvZGUiKTtmdW5jdGlvbiBpKCl7dGhpcy5wcm90b2NvbD1udWxsLHRoaXMuc2xhc2hlcz1udWxsLHRoaXMuYXV0aD1udWxsLHRoaXMuaG9zdD1udWxsLHRoaXMucG9ydD1udWxsLHRoaXMuaG9zdG5hbWU9bnVsbCx0aGlzLmhhc2g9bnVsbCx0aGlzLnNlYXJjaD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLnBhdGhuYW1lPW51bGwsdGhpcy5wYXRoPW51bGwsdGhpcy5ocmVmPW51bGx9bi5wYXJzZT15LG4ucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3JldHVybiB5KGUsITEsITApLnJlc29sdmUodCl9LG4ucmVzb2x2ZU9iamVjdD1mdW5jdGlvbihlLHQpe3JldHVybiBlP3koZSwhMSwhMCkucmVzb2x2ZU9iamVjdCh0KTp0fSxuLmZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gYihlKSYmKGU9eShlKSksZSBpbnN0YW5jZW9mIGk/ZS5mb3JtYXQoKTppLnByb3RvdHlwZS5mb3JtYXQuY2FsbChlKX0sbi5Vcmw9aTt2YXIgYT0vXihbYS16MC05ListXSs6KS9pLHM9LzpbMC05XSokLyxjPVsieyIsIn0iLCJ8IiwiXFwiLCJeIiwiYCJdLmNvbmNhdChbIjwiLCI+IiwnIicsImAiLCIgIiwiXHIiLCJcbiIsIlx0Il0pLHU9WyInIl0uY29uY2F0KGMpLGw9WyIlIiwiLyIsIj8iLCI7IiwiIyJdLmNvbmNhdCh1KSxwPVsiLyIsIj8iLCIjIl0sZD0vXlthLXowLTlBLVpfLV17MCw2M30kLyxoPS9eKFthLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLGY9e2phdmFzY3JpcHQ6ITAsImphdmFzY3JpcHQ6IjohMH0sZz17amF2YXNjcmlwdDohMCwiamF2YXNjcmlwdDoiOiEwfSxtPXtodHRwOiEwLGh0dHBzOiEwLGZ0cDohMCxnb3BoZXI6ITAsZmlsZTohMCwiaHR0cDoiOiEwLCJodHRwczoiOiEwLCJmdHA6IjohMCwiZ29waGVyOiI6ITAsImZpbGU6IjohMH0sdj1lKCJxdWVyeXN0cmluZyIpO2Z1bmN0aW9uIHkoZSx0LG4pe2lmKGUmJlMoZSkmJmUgaW5zdGFuY2VvZiBpKXJldHVybiBlO3ZhciByPW5ldyBpO3JldHVybiByLnBhcnNlKGUsdCxuKSxyfWZ1bmN0aW9uIGIoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIm9iamVjdCI9PT1vKGUpJiZudWxsIT09ZX1mdW5jdGlvbiBFKGUpe3JldHVybiBudWxsPT09ZX1pLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQsbil7aWYoIWIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCAiK28oZSkpO3ZhciBpPWU7aT1pLnRyaW0oKTt2YXIgcz1hLmV4ZWMoaSk7aWYocyl7dmFyIGM9KHM9c1swXSkudG9Mb3dlckNhc2UoKTt0aGlzLnByb3RvY29sPWMsaT1pLnN1YnN0cihzLmxlbmd0aCl9aWYobnx8c3x8aS5tYXRjaCgvXlwvXC9bXkBcL10rQFteQFwvXSsvKSl7dmFyIHk9Ii8vIj09PWkuc3Vic3RyKDAsMik7IXl8fHMmJmdbc118fChpPWkuc3Vic3RyKDIpLHRoaXMuc2xhc2hlcz0hMCl9aWYoIWdbc10mJih5fHxzJiYhbVtzXSkpe2Zvcih2YXIgUyxFLEM9LTEsST0wO0k8cC5sZW5ndGg7SSsrKS0xIT09KFQ9aS5pbmRleE9mKHBbSV0pKSYmKC0xPT09Q3x8VDxDKSYmKEM9VCk7Zm9yKC0xIT09KEU9LTE9PT1DP2kubGFzdEluZGV4T2YoIkAiKTppLmxhc3RJbmRleE9mKCJAIixDKSkmJihTPWkuc2xpY2UoMCxFKSxpPWkuc2xpY2UoRSsxKSx0aGlzLmF1dGg9ZGVjb2RlVVJJQ29tcG9uZW50KFMpKSxDPS0xLEk9MDtJPGwubGVuZ3RoO0krKyl7dmFyIFQ7LTEhPT0oVD1pLmluZGV4T2YobFtJXSkpJiYoLTE9PT1DfHxUPEMpJiYoQz1UKX0tMT09PUMmJihDPWkubGVuZ3RoKSx0aGlzLmhvc3Q9aS5zbGljZSgwLEMpLGk9aS5zbGljZShDKSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8IiI7dmFyIHc9IlsiPT09dGhpcy5ob3N0bmFtZVswXSYmIl0iPT09dGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aC0xXTtpZighdylmb3IodmFyIEE9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXC4vKSxfPShJPTAsQS5sZW5ndGgpO0k8XztJKyspe3ZhciBSPUFbSV07aWYoUiYmIVIubWF0Y2goZCkpe2Zvcih2YXIgTD0iIixPPTAsaz1SLmxlbmd0aDtPPGs7TysrKVIuY2hhckNvZGVBdChPKT4xMjc/TCs9IngiOkwrPVJbT107aWYoIUwubWF0Y2goZCkpe3ZhciBOPUEuc2xpY2UoMCxJKSxQPUEuc2xpY2UoSSsxKSx4PVIubWF0Y2goaCk7eCYmKE4ucHVzaCh4WzFdKSxQLnVuc2hpZnQoeFsyXSkpLFAubGVuZ3RoJiYoaT0iLyIrUC5qb2luKCIuIikraSksdGhpcy5ob3N0bmFtZT1OLmpvaW4oIi4iKTticmVha319fWlmKHRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPSIiOnRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLCF3KXt2YXIgRD10aGlzLmhvc3RuYW1lLnNwbGl0KCIuIiksTT1bXTtmb3IoST0wO0k8RC5sZW5ndGg7KytJKXt2YXIgVT1EW0ldO00ucHVzaChVLm1hdGNoKC9bXkEtWmEtejAtOV8tXS8pPyJ4bi0tIityLmVuY29kZShVKTpVKX10aGlzLmhvc3RuYW1lPU0uam9pbigiLiIpfXZhciBGPXRoaXMucG9ydD8iOiIrdGhpcy5wb3J0OiIiLGo9dGhpcy5ob3N0bmFtZXx8IiI7dGhpcy5ob3N0PWorRix0aGlzLmhyZWYrPXRoaXMuaG9zdCx3JiYodGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnN1YnN0cigxLHRoaXMuaG9zdG5hbWUubGVuZ3RoLTIpLCIvIiE9PWlbMF0mJihpPSIvIitpKSl9aWYoIWZbY10pZm9yKEk9MCxfPXUubGVuZ3RoO0k8XztJKyspe3ZhciBxPXVbSV0sQj1lbmNvZGVVUklDb21wb25lbnQocSk7Qj09PXEmJihCPWVzY2FwZShxKSksaT1pLnNwbGl0KHEpLmpvaW4oQil9dmFyIEc9aS5pbmRleE9mKCIjIik7LTEhPT1HJiYodGhpcy5oYXNoPWkuc3Vic3RyKEcpLGk9aS5zbGljZSgwLEcpKTt2YXIgVj1pLmluZGV4T2YoIj8iKTtyZXR1cm4tMSE9PVY/KHRoaXMuc2VhcmNoPWkuc3Vic3RyKFYpLHRoaXMucXVlcnk9aS5zdWJzdHIoVisxKSx0JiYodGhpcy5xdWVyeT12LnBhcnNlKHRoaXMucXVlcnkpKSxpPWkuc2xpY2UoMCxWKSk6dCYmKHRoaXMuc2VhcmNoPSIiLHRoaXMucXVlcnk9e30pLGkmJih0aGlzLnBhdGhuYW1lPWkpLG1bY10mJnRoaXMuaG9zdG5hbWUmJiF0aGlzLnBhdGhuYW1lJiYodGhpcy5wYXRobmFtZT0iLyIpLCh0aGlzLnBhdGhuYW1lfHx0aGlzLnNlYXJjaCkmJihGPXRoaXMucGF0aG5hbWV8fCIiLFU9dGhpcy5zZWFyY2h8fCIiLHRoaXMucGF0aD1GK1UpLHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LGkucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYXV0aHx8IiI7ZSYmKGU9KGU9ZW5jb2RlVVJJQ29tcG9uZW50KGUpKS5yZXBsYWNlKC8lM0EvaSwiOiIpLGUrPSJAIik7dmFyIHQ9dGhpcy5wcm90b2NvbHx8IiIsbj10aGlzLnBhdGhuYW1lfHwiIixyPXRoaXMuaGFzaHx8IiIsbz0hMSxpPSIiO3RoaXMuaG9zdD9vPWUrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihvPWUrKC0xPT09dGhpcy5ob3N0bmFtZS5pbmRleE9mKCI6Iik/dGhpcy5ob3N0bmFtZToiWyIrdGhpcy5ob3N0bmFtZSsiXSIpLHRoaXMucG9ydCYmKG8rPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnF1ZXJ5JiZTKHRoaXMucXVlcnkpJiZPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgmJihpPXYuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgYT10aGlzLnNlYXJjaHx8aSYmIj8iK2l8fCIiO3JldHVybiB0JiYiOiIhPT10LnN1YnN0cigtMSkmJih0Kz0iOiIpLHRoaXMuc2xhc2hlc3x8KCF0fHxtW3RdKSYmITEhPT1vPyhvPSIvLyIrKG98fCIiKSxuJiYiLyIhPT1uLmNoYXJBdCgwKSYmKG49Ii8iK24pKTpvfHwobz0iIiksciYmIiMiIT09ci5jaGFyQXQoMCkmJihyPSIjIityKSxhJiYiPyIhPT1hLmNoYXJBdCgwKSYmKGE9Ij8iK2EpLHQrbysobj1uLnJlcGxhY2UoL1s/I10vZywoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pKSkrKGE9YS5yZXBsYWNlKCIjIiwiJTIzIikpK3J9LGkucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh5KGUsITEsITApKS5mb3JtYXQoKX0saS5wcm90b3R5cGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbihlKXtpZihiKGUpKXt2YXIgdD1uZXcgaTt0LnBhcnNlKGUsITEsITApLGU9dH12YXIgbj1uZXcgaTtpZihPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPXRoaXNbZV19KSx0aGlzKSxuLmhhc2g9ZS5oYXNoLCIiPT09ZS5ocmVmKXJldHVybiBuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKGUuc2xhc2hlcyYmIWUucHJvdG9jb2wpcmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJwcm90b2NvbCIhPT10JiYoblt0XT1lW3RdKX0pKSxtW24ucHJvdG9jb2xdJiZuLmhvc3RuYW1lJiYhbi5wYXRobmFtZSYmKG4ucGF0aD1uLnBhdGhuYW1lPSIvIiksbi5ocmVmPW4uZm9ybWF0KCksbjtpZihlLnByb3RvY29sJiZlLnByb3RvY29sIT09bi5wcm90b2NvbCl7aWYoIW1bZS5wcm90b2NvbF0pcmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ZVt0XX0pKSxuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKG4ucHJvdG9jb2w9ZS5wcm90b2NvbCxlLmhvc3R8fGdbZS5wcm90b2NvbF0pbi5wYXRobmFtZT1lLnBhdGhuYW1lO2Vsc2V7Zm9yKHZhciByPShlLnBhdGhuYW1lfHwiIikuc3BsaXQoIi8iKTtyLmxlbmd0aCYmIShlLmhvc3Q9ci5zaGlmdCgpKTspO2UuaG9zdHx8KGUuaG9zdD0iIiksZS5ob3N0bmFtZXx8KGUuaG9zdG5hbWU9IiIpLCIiIT09clswXSYmci51bnNoaWZ0KCIiKSxyLmxlbmd0aDwyJiZyLnVuc2hpZnQoIiIpLG4ucGF0aG5hbWU9ci5qb2luKCIvIil9aWYobi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LG4uaG9zdD1lLmhvc3R8fCIiLG4uYXV0aD1lLmF1dGgsbi5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3Qsbi5wb3J0PWUucG9ydCxuLnBhdGhuYW1lfHxuLnNlYXJjaCl7dmFyIG89bi5wYXRobmFtZXx8IiIsYT1uLnNlYXJjaHx8IiI7bi5wYXRoPW8rYX1yZXR1cm4gbi5zbGFzaGVzPW4uc2xhc2hlc3x8ZS5zbGFzaGVzLG4uaHJlZj1uLmZvcm1hdCgpLG59dmFyIHM9bi5wYXRobmFtZSYmIi8iPT09bi5wYXRobmFtZS5jaGFyQXQoMCksYz1lLmhvc3R8fGUucGF0aG5hbWUmJiIvIj09PWUucGF0aG5hbWUuY2hhckF0KDApLHU9Y3x8c3x8bi5ob3N0JiZlLnBhdGhuYW1lLGw9dSxwPW4ucGF0aG5hbWUmJm4ucGF0aG5hbWUuc3BsaXQoIi8iKXx8W10sZD0ocj1lLnBhdGhuYW1lJiZlLnBhdGhuYW1lLnNwbGl0KCIvIil8fFtdLG4ucHJvdG9jb2wmJiFtW24ucHJvdG9jb2xdKTtpZihkJiYobi5ob3N0bmFtZT0iIixuLnBvcnQ9bnVsbCxuLmhvc3QmJigiIj09PXBbMF0/cFswXT1uLmhvc3Q6cC51bnNoaWZ0KG4uaG9zdCkpLG4uaG9zdD0iIixlLnByb3RvY29sJiYoZS5ob3N0bmFtZT1udWxsLGUucG9ydD1udWxsLGUuaG9zdCYmKCIiPT09clswXT9yWzBdPWUuaG9zdDpyLnVuc2hpZnQoZS5ob3N0KSksZS5ob3N0PW51bGwpLHU9dSYmKCIiPT09clswXXx8IiI9PT1wWzBdKSksYyluLmhvc3Q9ZS5ob3N0fHwiIj09PWUuaG9zdD9lLmhvc3Q6bi5ob3N0LG4uaG9zdG5hbWU9ZS5ob3N0bmFtZXx8IiI9PT1lLmhvc3RuYW1lP2UuaG9zdG5hbWU6bi5ob3N0bmFtZSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnkscD1yO2Vsc2UgaWYoci5sZW5ndGgpcHx8KHA9W10pLHAucG9wKCkscD1wLmNvbmNhdChyKSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnk7ZWxzZSBpZihudWxsIT1lLnNlYXJjaClyZXR1cm4gZCYmKG4uaG9zdG5hbWU9bi5ob3N0PXAuc2hpZnQoKSwoUz0hIShuLmhvc3QmJm4uaG9zdC5pbmRleE9mKCJAIik+MCkmJm4uaG9zdC5zcGxpdCgiQCIpKSYmKG4uYXV0aD1TLnNoaWZ0KCksbi5ob3N0PW4uaG9zdG5hbWU9Uy5zaGlmdCgpKSksbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LEUobi5wYXRobmFtZSkmJkUobi5zZWFyY2gpfHwobi5wYXRoPShuLnBhdGhuYW1lP24ucGF0aG5hbWU6IiIpKyhuLnNlYXJjaD9uLnNlYXJjaDoiIikpLG4uaHJlZj1uLmZvcm1hdCgpLG47aWYoIXAubGVuZ3RoKXJldHVybiBuLnBhdGhuYW1lPW51bGwsbi5zZWFyY2g/bi5wYXRoPSIvIituLnNlYXJjaDpuLnBhdGg9bnVsbCxuLmhyZWY9bi5mb3JtYXQoKSxuO2Zvcih2YXIgaD1wLnNsaWNlKC0xKVswXSxmPShuLmhvc3R8fGUuaG9zdCkmJigiLiI9PT1ofHwiLi4iPT09aCl8fCIiPT09aCx2PTAseT1wLmxlbmd0aDt5Pj0wO3ktLSkiLiI9PShoPXBbeV0pP3Auc3BsaWNlKHksMSk6Ii4uIj09PWg/KHAuc3BsaWNlKHksMSksdisrKTp2JiYocC5zcGxpY2UoeSwxKSx2LS0pO2lmKCF1JiYhbClmb3IoO3YtLTt2KXAudW5zaGlmdCgiLi4iKTshdXx8IiI9PT1wWzBdfHxwWzBdJiYiLyI9PT1wWzBdLmNoYXJBdCgwKXx8cC51bnNoaWZ0KCIiKSxmJiYiLyIhPT1wLmpvaW4oIi8iKS5zdWJzdHIoLTEpJiZwLnB1c2goIiIpO3ZhciBTLEM9IiI9PT1wWzBdfHxwWzBdJiYiLyI9PT1wWzBdLmNoYXJBdCgwKTtyZXR1cm4gZCYmKG4uaG9zdG5hbWU9bi5ob3N0PUM/IiI6cC5sZW5ndGg/cC5zaGlmdCgpOiIiLChTPSEhKG4uaG9zdCYmbi5ob3N0LmluZGV4T2YoIkAiKT4wKSYmbi5ob3N0LnNwbGl0KCJAIikpJiYobi5hdXRoPVMuc2hpZnQoKSxuLmhvc3Q9bi5ob3N0bmFtZT1TLnNoaWZ0KCkpKSwodT11fHxuLmhvc3QmJnAubGVuZ3RoKSYmIUMmJnAudW5zaGlmdCgiIikscC5sZW5ndGg/bi5wYXRobmFtZT1wLmpvaW4oIi8iKToobi5wYXRobmFtZT1udWxsLG4ucGF0aD1udWxsKSxFKG4ucGF0aG5hbWUpJiZFKG4uc2VhcmNoKXx8KG4ucGF0aD0obi5wYXRobmFtZT9uLnBhdGhuYW1lOiIiKSsobi5zZWFyY2g/bi5zZWFyY2g6IiIpKSxuLmF1dGg9ZS5hdXRofHxuLmF1dGgsbi5zbGFzaGVzPW4uc2xhc2hlc3x8ZS5zbGFzaGVzLG4uaHJlZj1uLmZvcm1hdCgpLG59LGkucHJvdG90eXBlLnBhcnNlSG9zdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaG9zdCx0PXMuZXhlYyhlKTt0JiYoIjoiIT09KHQ9dFswXSkmJih0aGlzLnBvcnQ9dC5zdWJzdHIoMSkpLGU9ZS5zdWJzdHIoMCxlLmxlbmd0aC10Lmxlbmd0aCkpLGUmJih0aGlzLmhvc3RuYW1lPWUpfX0se3B1bnljb2RlOjkyLHF1ZXJ5c3RyaW5nOjk1fV0sMTAxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO2Zvcih2YXIgcj1bXSxvPTA7bzwyNTY7KytvKXJbb109KG8rMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8MCxvPXI7cmV0dXJuW29bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV1dLmpvaW4oIiIpfTtuLmRlZmF1bHQ9aX0se31dLDEwMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInYxIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2MyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInY1Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5kZWZhdWx0fX0pO3ZhciByPXMoZSgiLi92MS5qcyIpKSxvPXMoZSgiLi92My5qcyIpKSxpPXMoZSgiLi92NC5qcyIpKSxhPXMoZSgiLi92NS5qcyIpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LHsiLi92MS5qcyI6MTA2LCIuL3YzLmpzIjoxMDcsIi4vdjQuanMiOjEwOSwiLi92NS5qcyI6MTEwfV0sMTAzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIG8oZSx0LG4sbyxpLGEpe3JldHVybiByKChzPXIocih0LGUpLHIobyxhKSkpPDwoYz1pKXxzPj4+MzItYyxuKTt2YXIgcyxjfWZ1bmN0aW9uIGkoZSx0LG4scixpLGEscyl7cmV0dXJuIG8odCZufH50JnIsZSx0LGksYSxzKX1mdW5jdGlvbiBhKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKHQmcnxuJn5yLGUsdCxpLGEscyl9ZnVuY3Rpb24gcyhlLHQsbixyLGksYSxzKXtyZXR1cm4gbyh0Xm5ecixlLHQsaSxhLHMpfWZ1bmN0aW9uIGMoZSx0LG4scixpLGEscyl7cmV0dXJuIG8obl4odHx+ciksZSx0LGksYSxzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgdT1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciB0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1uZXcgQXJyYXkodC5sZW5ndGgpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1bXSxpPTMyKmUubGVuZ3RoLGE9IjAxMjM0NTY3ODlhYmNkZWYiO2Zvcih0PTA7dDxpO3QrPTgpbj1lW3Q+PjVdPj4+dCUzMiYyNTUscj1wYXJzZUludChhLmNoYXJBdChuPj4+NCYxNSkrYS5jaGFyQXQoMTUmbiksMTYpLG8ucHVzaChyKTtyZXR1cm4gb30oZnVuY3Rpb24oZSx0KXt2YXIgbixvLHUsbCxwO2VbdD4+NV18PTEyODw8dCUzMixlWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7dmFyIGQ9MTczMjU4NDE5MyxoPS0yNzE3MzM4NzksZj0tMTczMjU4NDE5NCxnPTI3MTczMzg3ODtmb3Iobj0wO248ZS5sZW5ndGg7bis9MTYpbz1kLHU9aCxsPWYscD1nLGQ9aShkLGgsZixnLGVbbl0sNywtNjgwODc2OTM2KSxnPWkoZyxkLGgsZixlW24rMV0sMTIsLTM4OTU2NDU4NiksZj1pKGYsZyxkLGgsZVtuKzJdLDE3LDYwNjEwNTgxOSksaD1pKGgsZixnLGQsZVtuKzNdLDIyLC0xMDQ0NTI1MzMwKSxkPWkoZCxoLGYsZyxlW24rNF0sNywtMTc2NDE4ODk3KSxnPWkoZyxkLGgsZixlW24rNV0sMTIsMTIwMDA4MDQyNiksZj1pKGYsZyxkLGgsZVtuKzZdLDE3LC0xNDczMjMxMzQxKSxoPWkoaCxmLGcsZCxlW24rN10sMjIsLTQ1NzA1OTgzKSxkPWkoZCxoLGYsZyxlW24rOF0sNywxNzcwMDM1NDE2KSxnPWkoZyxkLGgsZixlW24rOV0sMTIsLTE5NTg0MTQ0MTcpLGY9aShmLGcsZCxoLGVbbisxMF0sMTcsLTQyMDYzKSxoPWkoaCxmLGcsZCxlW24rMTFdLDIyLC0xOTkwNDA0MTYyKSxkPWkoZCxoLGYsZyxlW24rMTJdLDcsMTgwNDYwMzY4MiksZz1pKGcsZCxoLGYsZVtuKzEzXSwxMiwtNDAzNDExMDEpLGY9aShmLGcsZCxoLGVbbisxNF0sMTcsLTE1MDIwMDIyOTApLGQ9YShkLGg9aShoLGYsZyxkLGVbbisxNV0sMjIsMTIzNjUzNTMyOSksZixnLGVbbisxXSw1LC0xNjU3OTY1MTApLGc9YShnLGQsaCxmLGVbbis2XSw5LC0xMDY5NTAxNjMyKSxmPWEoZixnLGQsaCxlW24rMTFdLDE0LDY0MzcxNzcxMyksaD1hKGgsZixnLGQsZVtuXSwyMCwtMzczODk3MzAyKSxkPWEoZCxoLGYsZyxlW24rNV0sNSwtNzAxNTU4NjkxKSxnPWEoZyxkLGgsZixlW24rMTBdLDksMzgwMTYwODMpLGY9YShmLGcsZCxoLGVbbisxNV0sMTQsLTY2MDQ3ODMzNSksaD1hKGgsZixnLGQsZVtuKzRdLDIwLC00MDU1Mzc4NDgpLGQ9YShkLGgsZixnLGVbbis5XSw1LDU2ODQ0NjQzOCksZz1hKGcsZCxoLGYsZVtuKzE0XSw5LC0xMDE5ODAzNjkwKSxmPWEoZixnLGQsaCxlW24rM10sMTQsLTE4NzM2Mzk2MSksaD1hKGgsZixnLGQsZVtuKzhdLDIwLDExNjM1MzE1MDEpLGQ9YShkLGgsZixnLGVbbisxM10sNSwtMTQ0NDY4MTQ2NyksZz1hKGcsZCxoLGYsZVtuKzJdLDksLTUxNDAzNzg0KSxmPWEoZixnLGQsaCxlW24rN10sMTQsMTczNTMyODQ3MyksZD1zKGQsaD1hKGgsZixnLGQsZVtuKzEyXSwyMCwtMTkyNjYwNzczNCksZixnLGVbbis1XSw0LC0zNzg1NTgpLGc9cyhnLGQsaCxmLGVbbis4XSwxMSwtMjAyMjU3NDQ2MyksZj1zKGYsZyxkLGgsZVtuKzExXSwxNiwxODM5MDMwNTYyKSxoPXMoaCxmLGcsZCxlW24rMTRdLDIzLC0zNTMwOTU1NiksZD1zKGQsaCxmLGcsZVtuKzFdLDQsLTE1MzA5OTIwNjApLGc9cyhnLGQsaCxmLGVbbis0XSwxMSwxMjcyODkzMzUzKSxmPXMoZixnLGQsaCxlW24rN10sMTYsLTE1NTQ5NzYzMiksaD1zKGgsZixnLGQsZVtuKzEwXSwyMywtMTA5NDczMDY0MCksZD1zKGQsaCxmLGcsZVtuKzEzXSw0LDY4MTI3OTE3NCksZz1zKGcsZCxoLGYsZVtuXSwxMSwtMzU4NTM3MjIyKSxmPXMoZixnLGQsaCxlW24rM10sMTYsLTcyMjUyMTk3OSksaD1zKGgsZixnLGQsZVtuKzZdLDIzLDc2MDI5MTg5KSxkPXMoZCxoLGYsZyxlW24rOV0sNCwtNjQwMzY0NDg3KSxnPXMoZyxkLGgsZixlW24rMTJdLDExLC00MjE4MTU4MzUpLGY9cyhmLGcsZCxoLGVbbisxNV0sMTYsNTMwNzQyNTIwKSxkPWMoZCxoPXMoaCxmLGcsZCxlW24rMl0sMjMsLTk5NTMzODY1MSksZixnLGVbbl0sNiwtMTk4NjMwODQ0KSxnPWMoZyxkLGgsZixlW24rN10sMTAsMTEyNjg5MTQxNSksZj1jKGYsZyxkLGgsZVtuKzE0XSwxNSwtMTQxNjM1NDkwNSksaD1jKGgsZixnLGQsZVtuKzVdLDIxLC01NzQzNDA1NSksZD1jKGQsaCxmLGcsZVtuKzEyXSw2LDE3MDA0ODU1NzEpLGc9YyhnLGQsaCxmLGVbbiszXSwxMCwtMTg5NDk4NjYwNiksZj1jKGYsZyxkLGgsZVtuKzEwXSwxNSwtMTA1MTUyMyksaD1jKGgsZixnLGQsZVtuKzFdLDIxLC0yMDU0OTIyNzk5KSxkPWMoZCxoLGYsZyxlW24rOF0sNiwxODczMzEzMzU5KSxnPWMoZyxkLGgsZixlW24rMTVdLDEwLC0zMDYxMTc0NCksZj1jKGYsZyxkLGgsZVtuKzZdLDE1LC0xNTYwMTk4MzgwKSxoPWMoaCxmLGcsZCxlW24rMTNdLDIxLDEzMDkxNTE2NDkpLGQ9YyhkLGgsZixnLGVbbis0XSw2LC0xNDU1MjMwNzApLGc9YyhnLGQsaCxmLGVbbisxMV0sMTAsLTExMjAyMTAzNzkpLGY9YyhmLGcsZCxoLGVbbisyXSwxNSw3MTg3ODcyNTkpLGg9YyhoLGYsZyxkLGVbbis5XSwyMSwtMzQzNDg1NTUxKSxkPXIoZCxvKSxoPXIoaCx1KSxmPXIoZixsKSxnPXIoZyxwKTtyZXR1cm5bZCxoLGYsZ119KGZ1bmN0aW9uKGUpe3ZhciB0LG49W107Zm9yKG5bKGUubGVuZ3RoPj4yKS0xXT12b2lkIDAsdD0wO3Q8bi5sZW5ndGg7dCs9MSluW3RdPTA7dmFyIHI9OCplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW5bdD4+NV18PSgyNTUmZVt0LzhdKTw8dCUzMjtyZXR1cm4gbn0oZSksOCplLmxlbmd0aCkpfTtuLmRlZmF1bHQ9dX0se31dLDEwNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PWZ1bmN0aW9uKCl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiByKG8pfTt2YXIgcj0idW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbXNDcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSxvPW5ldyBVaW50OEFycmF5KDE2KX0se31dLDEwNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuLHIpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHQmbl5+dCZyO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIHRebl5yO2Nhc2UgMjpyZXR1cm4gdCZuXnQmcl5uJnJ9fWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml0sbj1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIGk9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKTtlPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspZVthXT1pLmNoYXJDb2RlQXQoYSl9ZS5wdXNoKDEyOCk7dmFyIHM9ZS5sZW5ndGgvNCsyLGM9TWF0aC5jZWlsKHMvMTYpLHU9bmV3IEFycmF5KGMpO2ZvcihhPTA7YTxjO2ErKyl7dVthXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgbD0wO2w8MTY7bCsrKXVbYV1bbF09ZVs2NCphKzQqbF08PDI0fGVbNjQqYSs0KmwrMV08PDE2fGVbNjQqYSs0KmwrMl08PDh8ZVs2NCphKzQqbCszXX1mb3IodVtjLTFdWzE0XT04KihlLmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSx1W2MtMV1bMTRdPU1hdGguZmxvb3IodVtjLTFdWzE0XSksdVtjLTFdWzE1XT04KihlLmxlbmd0aC0xKSY0Mjk0OTY3Mjk1LGE9MDthPGM7YSsrKXtmb3IodmFyIHA9bmV3IEFycmF5KDgwKSxkPTA7ZDwxNjtkKyspcFtkXT11W2FdW2RdO2ZvcihkPTE2O2Q8ODA7ZCsrKXBbZF09byhwW2QtM11ecFtkLThdXnBbZC0xNF1ecFtkLTE2XSwxKTt2YXIgaD1uWzBdLGY9blsxXSxnPW5bMl0sbT1uWzNdLHY9bls0XTtmb3IoZD0wO2Q8ODA7ZCsrKXt2YXIgeT1NYXRoLmZsb29yKGQvMjApLGI9byhoLDUpK3IoeSxmLGcsbSkrdit0W3ldK3BbZF0+Pj4wO3Y9bSxtPWcsZz1vKGYsMzApPj4+MCxmPWgsaD1ifW5bMF09blswXStoPj4+MCxuWzFdPW5bMV0rZj4+PjAsblsyXT1uWzJdK2c+Pj4wLG5bM109blszXSttPj4+MCxuWzRdPW5bNF0rdj4+PjB9cmV0dXJuW25bMF0+PjI0JjI1NSxuWzBdPj4xNiYyNTUsblswXT4+OCYyNTUsMjU1Jm5bMF0sblsxXT4+MjQmMjU1LG5bMV0+PjE2JjI1NSxuWzFdPj44JjI1NSwyNTUmblsxXSxuWzJdPj4yNCYyNTUsblsyXT4+MTYmMjU1LG5bMl0+PjgmMjU1LDI1NSZuWzJdLG5bM10+PjI0JjI1NSxuWzNdPj4xNiYyNTUsblszXT4+OCYyNTUsMjU1Jm5bM10sbls0XT4+MjQmMjU1LG5bNF0+PjE2JjI1NSxuWzRdPj44JjI1NSwyNTUmbls0XV19O24uZGVmYXVsdD1pfSx7fV0sMTA2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByLG8saT1zKGUoIi4vcm5nLmpzIikpLGE9cyhlKCIuL2J5dGVzVG9VdWlkLmpzIikpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBjPTAsdT0wLGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBzPXQmJm58fDAsbD10fHxbXSxwPShlPWV8fHt9KS5ub2RlfHxyLGQ9dm9pZCAwIT09ZS5jbG9ja3NlcT9lLmNsb2Nrc2VxOm87aWYobnVsbD09cHx8bnVsbD09ZCl7dmFyIGg9ZS5yYW5kb218fChlLnJuZ3x8aS5kZWZhdWx0KSgpO251bGw9PXAmJihwPXI9WzF8aFswXSxoWzFdLGhbMl0saFszXSxoWzRdLGhbNV1dKSxudWxsPT1kJiYoZD1vPTE2MzgzJihoWzZdPDw4fGhbN10pKX12YXIgZj12b2lkIDAhPT1lLm1zZWNzP2UubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZz12b2lkIDAhPT1lLm5zZWNzP2UubnNlY3M6dSsxLG09Zi1jKyhnLXUpLzFlNDtpZihtPDAmJnZvaWQgMD09PWUuY2xvY2tzZXEmJihkPWQrMSYxNjM4MyksKG08MHx8Zj5jKSYmdm9pZCAwPT09ZS5uc2VjcyYmKGc9MCksZz49MWU0KXRocm93IG5ldyBFcnJvcigidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMiKTtjPWYsdT1nLG89ZDt2YXIgdj0oMWU0KigyNjg0MzU0NTUmKGYrPTEyMjE5MjkyOGU1KSkrZyklNDI5NDk2NzI5NjtsW3MrK109dj4+PjI0JjI1NSxsW3MrK109dj4+PjE2JjI1NSxsW3MrK109dj4+PjgmMjU1LGxbcysrXT0yNTUmdjt2YXIgeT1mLzQyOTQ5NjcyOTYqMWU0JjI2ODQzNTQ1NTtsW3MrK109eT4+PjgmMjU1LGxbcysrXT0yNTUmeSxsW3MrK109eT4+PjI0JjE1fDE2LGxbcysrXT15Pj4+MTYmMjU1LGxbcysrXT1kPj4+OHwxMjgsbFtzKytdPTI1NSZkO2Zvcih2YXIgYj0wO2I8NjsrK2IpbFtzK2JdPXBbYl07cmV0dXJuIHR8fCgwLGEuZGVmYXVsdCkobCl9O24uZGVmYXVsdD1sfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMSwiLi9ybmcuanMiOjEwNH1dLDEwNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vdjM1LmpzIikpLG89aShlKCIuL21kNS5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYT0oMCxyLmRlZmF1bHQpKCJ2MyIsNDgsby5kZWZhdWx0KTtuLmRlZmF1bHQ9YX0seyIuL21kNS5qcyI6MTAzLCIuL3YzNS5qcyI6MTA4fV0sMTA4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUscixpLGEpe3ZhciBzPWkmJmF8fDA7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1mdW5jdGlvbihlKXtlPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKXRbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiB0fShlKSksInN0cmluZyI9PXR5cGVvZiByJiYocj1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5yZXBsYWNlKC9bYS1mQS1GMC05XXsyfS9nLChmdW5jdGlvbihlKXt0LnB1c2gocGFyc2VJbnQoZSwxNikpfSkpLHR9KHIpKSwhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBUeXBlRXJyb3IoInZhbHVlIG11c3QgYmUgYW4gYXJyYXkgb2YgYnl0ZXMiKTtpZighQXJyYXkuaXNBcnJheShyKXx8MTYhPT1yLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoIm5hbWVzcGFjZSBtdXN0IGJlIHV1aWQgc3RyaW5nIG9yIGFuIEFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIik7dmFyIGM9bihyLmNvbmNhdChlKSk7aWYoY1s2XT0xNSZjWzZdfHQsY1s4XT02MyZjWzhdfDEyOCxpKWZvcih2YXIgdT0wO3U8MTY7Kyt1KWlbcyt1XT1jW3VdO3JldHVybiBpfHwoMCxvLmRlZmF1bHQpKGMpfTt0cnl7ci5uYW1lPWV9Y2F0Y2goZSl7fXJldHVybiByLkROUz1pLHIuVVJMPWEscn0sbi5VUkw9bi5ETlM9dm9pZCAwO3ZhciByLG89KHI9ZSgiLi9ieXRlc1RvVXVpZC5qcyIpKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn0saT0iNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtuLkROUz1pO3ZhciBhPSI2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgiO24uVVJMPWF9LHsiLi9ieXRlc1RvVXVpZC5qcyI6MTAxfV0sMTA5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgiLi9ybmcuanMiKSksbz1pKGUoIi4vYnl0ZXNUb1V1aWQuanMiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQmJm58fDA7InN0cmluZyI9PXR5cGVvZiBlJiYodD0iYmluYXJ5Ij09PWU/bmV3IEFycmF5KDE2KTpudWxsLGU9bnVsbCk7dmFyIGE9KGU9ZXx8e30pLnJhbmRvbXx8KGUucm5nfHxyLmRlZmF1bHQpKCk7aWYoYVs2XT0xNSZhWzZdfDY0LGFbOF09NjMmYVs4XXwxMjgsdClmb3IodmFyIHM9MDtzPDE2Oysrcyl0W2krc109YVtzXTtyZXR1cm4gdHx8KDAsby5kZWZhdWx0KShhKX07bi5kZWZhdWx0PWF9LHsiLi9ieXRlc1RvVXVpZC5qcyI6MTAxLCIuL3JuZy5qcyI6MTA0fV0sMTEwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgiLi92MzUuanMiKSksbz1pKGUoIi4vc2hhMS5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYT0oMCxyLmRlZmF1bHQpKCJ2NSIsODAsby5kZWZhdWx0KTtuLmRlZmF1bHQ9YX0seyIuL3NoYTEuanMiOjEwNSwiLi92MzUuanMiOjEwOH1dLDExMTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZSgiLi91dGlscy9MUlUiKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2b2lkIDA9PT1lJiYoZT0xZTMpLHRoaXMubWF4U2l6ZT1lLHRoaXMuY2FjaGU9bmV3IHIuTFJVQ2FjaGUoZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlLmxlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj0ic3RyaW5nIiE9dHlwZW9mIHQ/ZS5nZXRLZXlTdHJpbmcodCk6dCxvPXRoaXMucG9wdWxhdGVWYWx1ZShuKTt0aGlzLmNhY2hlLnB1dChyLG8pfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIG49InN0cmluZyIhPXR5cGVvZiB0P2UuZ2V0S2V5U3RyaW5nKHQpOnQscj1EYXRlLm5vdygpLG89dGhpcy5jYWNoZS5nZXQobik7aWYobyl7Zm9yKHZhciBpPW8ubGVuZ3RoLTE7aT49MDtpLS0pb1tpXS5FeHBpcmU8ciYmby5zcGxpY2UoaSwxKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5jYWNoZS5yZW1vdmUobil9cmV0dXJuIG99LGUuZ2V0S2V5U3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPU9iamVjdC5rZXlzKGUpLnNvcnQoKSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07dm9pZCAwIT09ZVtvXSYmdC5wdXNoKGVbb10pfXJldHVybiB0LmpvaW4oIiAiKX0sZS5wcm90b3R5cGUucG9wdWxhdGVWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue0FkZHJlc3M6ZS5BZGRyZXNzfHwiIixFeHBpcmU6dCs2MCooZS5DYWNoZVBlcmlvZEluTWludXRlc3x8MSkqMWUzfX0pKX0sZS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXt0aGlzLmNhY2hlLmVtcHR5KCl9LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgbj0ic3RyaW5nIiE9dHlwZW9mIHQ/ZS5nZXRLZXlTdHJpbmcodCk6dDt0aGlzLmNhY2hlLnJlbW92ZShuKX0sZX0oKTtuLkVuZHBvaW50Q2FjaGU9b30seyIuL3V0aWxzL0xSVSI6MTEyfV0sMTEyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbihlLHQpe3RoaXMua2V5PWUsdGhpcy52YWx1ZT10fSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtpZih0aGlzLm5vZGVNYXA9e30sdGhpcy5zaXplPTAsIm51bWJlciIhPXR5cGVvZiBlfHxlPDEpdGhyb3cgbmV3IEVycm9yKCJDYWNoZSBzaXplIGNhbiBvbmx5IGJlIHBvc2l0aXZlIG51bWJlciIpO3RoaXMuc2l6ZUxpbWl0PWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wcmVwZW5kVG9MaXN0PWZ1bmN0aW9uKGUpe3RoaXMuaGVhZGVyTm9kZT8odGhpcy5oZWFkZXJOb2RlLnByZXY9ZSxlLm5leHQ9dGhpcy5oZWFkZXJOb2RlKTp0aGlzLnRhaWxOb2RlPWUsdGhpcy5oZWFkZXJOb2RlPWUsdGhpcy5zaXplKyt9LGUucHJvdG90eXBlLnJlbW92ZUZyb21UYWlsPWZ1bmN0aW9uKCl7aWYodGhpcy50YWlsTm9kZSl7dmFyIGU9dGhpcy50YWlsTm9kZSx0PWUucHJldjtyZXR1cm4gdCYmKHQubmV4dD12b2lkIDApLGUucHJldj12b2lkIDAsdGhpcy50YWlsTm9kZT10LHRoaXMuc2l6ZS0tLGV9fSxlLnByb3RvdHlwZS5kZXRhY2hGcm9tTGlzdD1mdW5jdGlvbihlKXt0aGlzLmhlYWRlck5vZGU9PT1lJiYodGhpcy5oZWFkZXJOb2RlPWUubmV4dCksdGhpcy50YWlsTm9kZT09PWUmJih0aGlzLnRhaWxOb2RlPWUucHJldiksZS5wcmV2JiYoZS5wcmV2Lm5leHQ9ZS5uZXh0KSxlLm5leHQmJihlLm5leHQucHJldj1lLnByZXYpLGUubmV4dD12b2lkIDAsZS5wcmV2PXZvaWQgMCx0aGlzLnNpemUtLX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2lmKHRoaXMubm9kZU1hcFtlXSl7dmFyIHQ9dGhpcy5ub2RlTWFwW2VdO3JldHVybiB0aGlzLmRldGFjaEZyb21MaXN0KHQpLHRoaXMucHJlcGVuZFRvTGlzdCh0KSx0LnZhbHVlfX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKHRoaXMubm9kZU1hcFtlXSl7dmFyIHQ9dGhpcy5ub2RlTWFwW2VdO3RoaXMuZGV0YWNoRnJvbUxpc3QodCksZGVsZXRlIHRoaXMubm9kZU1hcFtlXX19LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlLHQpe2lmKHRoaXMubm9kZU1hcFtlXSl0aGlzLnJlbW92ZShlKTtlbHNlIGlmKHRoaXMuc2l6ZT09PXRoaXMuc2l6ZUxpbWl0KXt2YXIgbj10aGlzLnJlbW92ZUZyb21UYWlsKCkua2V5O2RlbGV0ZSB0aGlzLm5vZGVNYXBbbl19dmFyIG89bmV3IHIoZSx0KTt0aGlzLm5vZGVNYXBbZV09byx0aGlzLnByZXBlbmRUb0xpc3Qobyl9LGUucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPU9iamVjdC5rZXlzKHRoaXMubm9kZU1hcCksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLHI9dGhpcy5ub2RlTWFwW25dO3RoaXMuZGV0YWNoRnJvbUxpc3QociksZGVsZXRlIHRoaXMubm9kZU1hcFtuXX19LGV9KCk7bi5MUlVDYWNoZT1vfSx7fV0sMTEzOltmdW5jdGlvbihlLHQsbil7ZSgiLi9icm93c2VyX2xvYWRlciIpO3ZhciByPWUoIi4vY29yZSIpOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LkFXUz1yKSx2b2lkIDAhPT10JiYodC5leHBvcnRzPXIpLCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmKHNlbGYuQVdTPXIpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLCJDb25uZWN0Iil8fChyLmFwaUxvYWRlci5zZXJ2aWNlcy5jb25uZWN0PXt9LHIuQ29ubmVjdD1yLlNlcnZpY2UuZGVmaW5lU2VydmljZSgiY29ubmVjdCIsWyIyMDE3LTAyLTE1Il0pKSxyLmFwaUxvYWRlci5zZXJ2aWNlcy5jb25uZWN0WyIyMDE3LTAyLTE1Il09ZSgiLi4vYXBpcy9jb25uZWN0LTIwMTctMDItMTUubWluIil9LHsiLi4vYXBpcy9jb25uZWN0LTIwMTctMDItMTUubWluIjozLCIuL2Jyb3dzZXJfbG9hZGVyIjoxNiwiLi9jb3JlIjoxOX1dfSx7fSxbMTEzXSl9LDU1NTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxyPXQuY29ubmVjdHx8e307dC5jb25uZWN0PXIsdC5saWx5PXIsci5DbGllbnRNZXRob2RzPXIubWFrZUVudW0oWyJnZXRBZ2VudFNuYXBzaG90IiwicHV0QWdlbnRTdGF0ZSIsImdldEFnZW50U3RhdGVzIiwiZ2V0RGlhbGFibGVDb3VudHJ5Q29kZXMiLCJnZXRSb3V0aW5nUHJvZmlsZVF1ZXVlcyIsImdldEFnZW50UGVybWlzc2lvbnMiLCJnZXRBZ2VudENvbmZpZ3VyYXRpb24iLCJ1cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24iLCJhY2NlcHRDb250YWN0IiwiY3JlYXRlT3V0Ym91bmRDb250YWN0IiwiY3JlYXRlVGFza0NvbnRhY3QiLCJjbGVhckNvbnRhY3QiLCJjb21wbGV0ZUNvbnRhY3QiLCJkZXN0cm95Q29udGFjdCIsInJlamVjdENvbnRhY3QiLCJub3RpZnlDb250YWN0SXNzdWUiLCJ1cGRhdGVDb250YWN0QXR0cmlidXRlcyIsImNyZWF0ZUFkZGl0aW9uYWxDb25uZWN0aW9uIiwiZGVzdHJveUNvbm5lY3Rpb24iLCJob2xkQ29ubmVjdGlvbiIsInJlc3VtZUNvbm5lY3Rpb24iLCJ0b2dnbGVBY3RpdmVDb25uZWN0aW9ucyIsImNvbmZlcmVuY2VDb25uZWN0aW9ucyIsInNlbmRDbGllbnRMb2dzIiwic2VuZERpZ2l0cyIsInNlbmRTb2Z0cGhvbmVDYWxsUmVwb3J0Iiwic2VuZFNvZnRwaG9uZUNhbGxNZXRyaWNzIiwiZ2V0RW5kcG9pbnRzIiwiZ2V0TmV3QXV0aFRva2VuIiwiY3JlYXRlVHJhbnNwb3J0IiwibXV0ZVBhcnRpY2lwYW50IiwidW5tdXRlUGFydGljaXBhbnQiLCJ1cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZSIsInBhdXNlQ29udGFjdCIsInJlc3VtZUNvbnRhY3QiLCJhZGROZXdDb25uZWN0aW9uIiwidHJhbnNmZXJDb250YWN0Il0pLHIuQWdlbnRBcHBDbGllbnRNZXRob2RzPXtHRVRfQ09OVEFDVDoiQWdlbnRBcHBTZXJ2aWNlLkxjbXMuZ2V0Q29udGFjdCIsREVMRVRFX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmRlbGV0ZVNwZWFrZXIiLEVOUk9MTF9CWV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5lbnJvbGxCeVNlc3Npb24iLEVWQUxVQVRFX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmV2YWx1YXRlU2Vzc2lvbiIsREVTQ1JJQkVfU1BFQUtFUjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTcGVha2VyIixPUFRfT1VUX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLm9wdE91dFNwZWFrZXIiLFVQREFURV9WT0lDRV9JRF9EQVRBOiJBZ2VudEFwcFNlcnZpY2UuTGNtcy51cGRhdGVWb2ljZUlkRGF0YSIsREVTQ1JJQkVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTZXNzaW9uIixVUERBVEVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQudXBkYXRlU2Vzc2lvbiIsU1RBUlRfVk9JQ0VfSURfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLk5hc2Euc3RhcnRWb2ljZUlkU2Vzc2lvbiIsTElTVF9JTlRFR1JBVElPTl9BU1NPQ0lBVElPTlM6IkFnZW50QXBwU2VydmljZS5BY3MubGlzdEludGVncmF0aW9uQXNzb2NpYXRpb25zIn0sci5NYXN0ZXJNZXRob2RzPXIubWFrZUVudW0oWyJiZWNvbWVNYXN0ZXIiLCJjaGVja01hc3RlciJdKSxyLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzPXIubWFrZUVudW0oWyJsaXN0VGFza1RlbXBsYXRlcyIsImdldFRhc2tUZW1wbGF0ZSIsImNyZWF0ZVRlbXBsYXRlZFRhc2siLCJ1cGRhdGVDb250YWN0Il0pLHIuQXBpUHJveHlDbGllbnRNZXRob2RzPXtRUl9JTlRFR1JBVElPTl9FWElTVFM6InFySW50ZWdyYXRpb25FeGlzdHMiLFFSX1NFQVJDSF9RVUlDS19SRVNQT05TRVM6InFyU2VhcmNoUXVpY2tSZXNwb25zZXMiLFNUQVJUX1NDUkVFTl9TSEFSSU5HOiJzdGFydFNjcmVlblNoYXJpbmcifSxyLlJldHJ5YWJsZUNsaWVudE1ldGhvZHNMaXN0PVtyLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1NOQVBTSE9ULHIuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfQ09ORklHVVJBVElPTixyLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1BFUk1JU1NJT05TLHIuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU1RBVEVTLHIuQ2xpZW50TWV0aG9kcy5HRVRfRElBTEFCTEVfQ09VTlRSWV9DT0RFUyxyLkNsaWVudE1ldGhvZHMuR0VUX1JPVVRJTkdfUFJPRklMRV9RVUVVRVNdLHIuUmV0cnlhYmxlRXJyb3JzPXIubWFrZUVudW0oWyJ1bmF1dGhvcml6ZWQiLCJhY2Nlc3NEZW5pZWQiXSksci5SZXRyeVN0YXR1cz1yLm1ha2VFbnVtKFsicmV0cnlpbmciLCJleGhhdXN0ZWQiLCJub25lIl0pO3ZhciBvPWZ1bmN0aW9uKCl7fTtvLkVNUFRZX0NBTExCQUNLUz17c3VjY2VzczpmdW5jdGlvbigpe30sZmFpbHVyZTpmdW5jdGlvbigpe319LG8ucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0LG4pe3IuYXNzZXJ0Tm90TnVsbChlLCJtZXRob2QiKTt2YXIgaT10fHx7fSxhPW58fG8uRU1QVFlfQ0FMTEJBQ0tTO3RoaXMuX2NhbGxJbXBsKGUsaSxhKX0sby5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt0aHJvdyBuZXcgci5Ob3RJbXBsZW1lbnRlZEVycm9yfTt2YXIgaT1mdW5jdGlvbigpe28uY2FsbCh0aGlzKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7aWYobiYmbi5mYWlsdXJlKXt2YXIgbz1yLnNwcmludGYoIk5vIHN1Y2ggbWV0aG9kIGV4aXN0cyBvbiBOVUxMIGNsaWVudDogJXMiLGUpO24uZmFpbHVyZShuZXcgci5WYWx1ZUVycm9yKG8pLHttZXNzYWdlOm99KX19O3ZhciBhPWZ1bmN0aW9uKGUsdCxuKXtvLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWUsdGhpcy5yZXF1ZXN0RXZlbnQ9dCx0aGlzLnJlc3BvbnNlRXZlbnQ9bix0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXA9e30sdGhpcy5jb25kdWl0Lm9uVXBzdHJlYW0obixyLmhpdGNoKHRoaXMsdGhpcy5faGFuZGxlUmVzcG9uc2UpKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89ci5FdmVudEZhY3RvcnkuY3JlYXRlUmVxdWVzdCh0aGlzLnJlcXVlc3RFdmVudCxlLHQpO3RoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtvLnJlcXVlc3RJZF09bjt2YXIgaT1bci5DbGllbnRNZXRob2RzLlNFTkRfQ0xJRU5UX0xPR1Msci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUyxyLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9SRVBPUlRdO3RyeXtvLmV2ZW50IT09ci5FdmVudFR5cGUuQVBJX1JFUVVFU1R8fGkuaW5jbHVkZXMoby5tZXRob2QpfHxyLmdldExvZygpLnRyYWNlKCJTZW5kaW5nIEFQSV9SRVFVRVNUIGV2ZW50IGZvciAiLmNvbmNhdChvLm1ldGhvZCwiIHRvIHVwc3RyZWFtIikpLndpdGhPYmplY3Qoe21ldGhvZDpvLm1ldGhvZCxwYXJhbXM6by5wYXJhbXMsc3RhY2s6KG5ldyBFcnJvcikuc3RhY2t9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIlN0YWNrIHRyYWNlIExvZyBGYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9dGhpcy5jb25kdWl0LnNlbmRVcHN0cmVhbShvLmV2ZW50LG8pfSxhLnByb3RvdHlwZS5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV18fG51bGw7cmV0dXJuIG51bGwhPXQmJmRlbGV0ZSB0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV0sdH0sYS5wcm90b3R5cGUuX2hhbmRsZVJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldENhbGxiYWNrc0ZvclJlcXVlc3QoZS5yZXF1ZXN0SWQpO251bGwhPXQmJihlLmVyciYmdC5mYWlsdXJlP3QuZmFpbHVyZShlLmVycixlLmRhdGEpOnQuc3VjY2VzcyYmdC5zdWNjZXNzKGUuZGF0YSkpfTt2YXIgcz1mdW5jdGlvbihlKXthLmNhbGwodGhpcyxlLHIuRXZlbnRUeXBlLkFQSV9SRVFVRVNULHIuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSl9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSkuY29uc3RydWN0b3I9czt2YXIgYz1mdW5jdGlvbigpe28uY2FsbCh0aGlzKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuQVBJX1BST1hZX1JFU1BPTlNFLHIuaGl0Y2godGhpcyx0aGlzLl9oYW5kbGVSZXNwb25zZSkpLHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcD17fX07KGMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89ci5FdmVudEZhY3RvcnkuY3JlYXRlUmVxdWVzdChyLkV2ZW50VHlwZS5BUElfUFJPWFlfUkVRVUVTVCxlLHQpO3RoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtvLnJlcXVlc3RJZF09bixyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkFQSV9QUk9YWV9SRVFVRVNULG8pfSxjLnByb3RvdHlwZS5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV18fG51bGw7cmV0dXJuIG51bGwhPXQmJmRlbGV0ZSB0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXBbZV0sdH0sYy5wcm90b3R5cGUuX2hhbmRsZVJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldENhbGxiYWNrc0ZvclJlcXVlc3QoZS5yZXF1ZXN0SWQpO251bGwhPXQmJihlLmVyciYmdC5mYWlsdXJlP3QuZmFpbHVyZShlLmVycixlLmRhdGEpOnQuc3VjY2VzcyYmdC5zdWNjZXNzKGUuZGF0YSkpfTt2YXIgdT1mdW5jdGlvbihlKXthLmNhbGwodGhpcyxlLHIuRXZlbnRUeXBlLk1BU1RFUl9SRVFVRVNULHIuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSl9Oyh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dTt2YXIgbD1mdW5jdGlvbihlLHQsbil7ci5hc3NlcnROb3ROdWxsKGUsImF1dGhDb29raWVOYW1lIiksci5hc3NlcnROb3ROdWxsKHQsImF1dGhUb2tlbiIpLHIuYXNzZXJ0Tm90TnVsbChuLCJlbmRwb2ludCIpLG8uY2FsbCh0aGlzKSx0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKG4pLHRoaXMuYXV0aFRva2VuPXQsdGhpcy5hdXRoQ29va2llTmFtZT1lfTsobC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWwsbC5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzLGk9e307aVtvLmF1dGhDb29raWVOYW1lXT1vLmF1dGhUb2tlbjt2YXIgYT17bWV0aG9kOiJwb3N0Iixib2R5OkpTT04uc3RyaW5naWZ5KHR8fHt9KSxoZWFkZXJzOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24iLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIiwiWC1BbXotdGFyZ2V0IjplLCJYLUFtei1CZWFyZXIiOkpTT04uc3RyaW5naWZ5KGkpfX07ci5mZXRjaChvLmVuZHBvaW50VXJsLGEpLnRoZW4oKGZ1bmN0aW9uKGUpe24uc3VjY2VzcyhlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LmdldFJlYWRlcigpLHI9IiIsbz1uZXcgVGV4dERlY29kZXI7dC5yZWFkKCkudGhlbigoZnVuY3Rpb24gaShhKXt2YXIgcz1hLmRvbmUsYz1hLnZhbHVlO2lmKHMpe3ZhciB1PUpTT04ucGFyc2Uocik7cmV0dXJuIHUuc3RhdHVzPWUuc3RhdHVzLHZvaWQgbi5mYWlsdXJlKHUpfXJldHVybiByKz1vLmRlY29kZShjKSx0LnJlYWQoKS50aGVuKGkpfSkpfSkpfTt2YXIgcD1mdW5jdGlvbihlLHQsbil7ci5hc3NlcnROb3ROdWxsKGUsImF1dGhUb2tlbiIpLHIuYXNzZXJ0Tm90TnVsbCh0LCJyZWdpb24iKSxvLmNhbGwodGhpcyksQVdTLmNvbmZpZy5jcmVkZW50aWFscz1uZXcgQVdTLkNyZWRlbnRpYWxzKHt9KSxBV1MuY29uZmlnLnJlZ2lvbj10LHRoaXMuYXV0aFRva2VuPWU7dmFyIGk9ci5nZXRCYXNlVXJsKCksYT1ufHwoaS5pbmNsdWRlcygiLmF3c2FwcHMuY29tIik/aSsiL2Nvbm5lY3QvYXBpIjppKyIvYXBpIikscz1uZXcgQVdTLkVuZHBvaW50KGEpO3RoaXMuY2xpZW50PW5ldyBBV1MuQ29ubmVjdCh7ZW5kcG9pbnQ6c30pLHRoaXMudW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCx0aGlzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTB9OyhwLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cCxwLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXMsaT1yLmdldExvZygpO2lmKHIuY29udGFpbnModGhpcy5jbGllbnQsZSkpKHQ9dGhpcy5fdHJhbnNsYXRlUGFyYW1zKGUsdCkpJiZ0LnJlbGF0ZWRDb250YWN0SWQmJm51bGwhPT10LnJlbGF0ZWRDb250YWN0SWQmJnQucHJldmlvdXNDb250YWN0SWQmJmRlbGV0ZSB0LnByZXZpb3VzQ29udGFjdElkLGkudHJhY2UoIkFXU0NsaWVudDogLS1ceDNlIENhbGxpbmcgb3BlcmF0aW9uICclcyciLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5jbGllbnRbZV0odCkub24oImJ1aWxkIiwoZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1CZWFyZXIiXT1vLmF1dGhUb2tlbn0pKS5zZW5kKChmdW5jdGlvbih0LGEpe3RyeXtpZih0KXQuY29kZT09PXIuQ1RJRXhjZXB0aW9ucy5VTkFVVEhPUklaRURfRVhDRVBUSU9OfHw0MDE9PT10LnN0YXR1c0NvZGU/by5fcmV0cnlNZXRob2QoZSxuLHQsYSxyLlJldHJ5YWJsZUVycm9ycy5VTkFVVEhPUklaRUQpOnQuY29kZT09PXIuQ1RJRXhjZXB0aW9ucy5BQ0NFU1NfREVOSUVEX0VYQ0VQVElPTnx8NDAzPT09dC5zdGF0dXNDb2RlP28uX3JldHJ5TWV0aG9kKGUsbix0LGEsci5SZXRyeWFibGVFcnJvcnMuQUNDRVNTX0RFTklFRCk6KG8udW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCxvLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTAsbi5mYWlsdXJlKG8uX2Zvcm1hdENhbGxFcnJvcihvLl9hZGRTdGF0dXNDb2RlVG9FcnJvcih0KSksYSkpLGkudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAnJXMnIGZhaWxlZDogJXMiLGUsSlNPTi5zdHJpbmdpZnkodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXt2YXIgcz17fTtpLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gJyVzJyBzdWNjZWVkZWQuIixlKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksby51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wLG8uYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI9MCx0aGlzLmh0dHBSZXNwb25zZSYmdGhpcy5odHRwUmVzcG9uc2UuaGFzT3duUHJvcGVydHkoImJvZHkiKSYmKHMuY29udGVudExlbmd0aD10aGlzLmh0dHBSZXNwb25zZS5ib2R5Lmxlbmd0aCksbi5zdWNjZXNzKGEscyl9fWNhdGNoKHQpe3IuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBoYW5kbGUgQVdTIEFQSSByZXF1ZXN0IGZvciBtZXRob2QgJXMiLGUpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSk7ZWxzZXt2YXIgYT1yLnNwcmludGYoIk5vIHN1Y2ggbWV0aG9kIGV4aXN0cyBvbiBBV1MgY2xpZW50OiAlcyIsZSk7bi5mYWlsdXJlKG5ldyByLlZhbHVlRXJyb3IoYSkse21lc3NhZ2U6YX0pfX0scC5wcm90b3R5cGUuX2lzUmV0cnlhYmxlTWV0aG9kPWZ1bmN0aW9uKGUpe3JldHVybiByLlJldHJ5YWJsZUNsaWVudE1ldGhvZHNMaXN0LmluY2x1ZGVzKGUpfSxwLnByb3RvdHlwZS5fcmV0cnlNZXRob2Q9ZnVuY3Rpb24oZSx0LG8saSxhKXt2YXIgcz10aGlzLGM9ci5nZXRMb2coKSx1PWZ1bmN0aW9uKGUpe3JldHVybiBzLl9mb3JtYXRDYWxsRXJyb3Iocy5fYWRkU3RhdHVzQ29kZVRvRXJyb3IoZSkpfSxsPXttYXhDb3VudDpyLmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVCxmYWlsQ291bnRlcjpzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyLGluY3JlYXNlQ291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyKz0xfSxyZXNldENvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wfSxlcnJvck1lc3NhZ2U6InVuYXV0aG9yaXplZCIsZXhoYXVzdGVkUmV0cmllczpzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPj1yLmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVCxyZXRyeUNhbGxiYWNrOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuZmFpbHVyZSh1KGUpLG4pfSxkZWZhdWx0Q2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hdXRoRmFpbHVyZSh1KGUpLG4pfX07c3dpdGNoKGEpe2Nhc2Ugci5SZXRyeWFibGVFcnJvcnMuVU5BVVRIT1JJWkVEOmJyZWFrO2Nhc2Ugci5SZXRyeWFibGVFcnJvcnMuQUNDRVNTX0RFTklFRDpsPW4obih7fSxsKSx7fSx7bWF4Q291bnQ6ci5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5ULGZhaWxDb3VudGVyOnMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXIsaW5jcmVhc2VDb3VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXIrPTF9LHJlc2V0Q291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTB9LGVycm9yTWVzc2FnZToiYWNjZXNzIGRlbmllZCIsZXhoYXVzdGVkUmV0cmllczpzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPj1yLmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQsZGVmYXVsdENhbGxiYWNrOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYWNjZXNzRGVuaWVkKHUoZSksbil9fSl9dmFyIHA9bihuKHt9LG8pLHt9LHtyZXRyeVN0YXR1czpyLlJldHJ5U3RhdHVzLk5PTkV9KTtpZihzLl9pc1JldHJ5YWJsZU1ldGhvZChlKSl7aWYoIWwuZXhoYXVzdGVkUmV0cmllcylyZXR1cm4gYy50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICIuY29uY2F0KGUsIiBmYWlsZWQgd2l0aCAiKS5jb25jYXQobC5lcnJvck1lc3NhZ2UsIiBlcnJvci4gUmV0cnlpbmcgY2FsbCBmb3IgYSAiKS5jb25jYXQobC5mYWlsQ291bnRlcisxLCIgdGltZSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwuaW5jcmVhc2VDb3VudGVyKCkscD1uKG4oe30scCkse30se3JldHJ5U3RhdHVzOnIuUmV0cnlTdGF0dXMuUkVUUllJTkd9KSx2b2lkIGwucmV0cnlDYWxsYmFjayhwLGkpO2MudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAiLmNvbmNhdChlLCIgZXhoYXVzdGVkIG1heCAiKS5jb25jYXQobC5tYXhDb3VudCwiIG51bWJlciBvZiByZXRyaWVzIGZvciAiKS5jb25jYXQobC5lcnJvck1lc3NhZ2UsIiBlcnJvciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwucmVzZXRDb3VudGVyKCkscD1uKG4oe30scCkse30se3JldHJ5U3RhdHVzOnIuUmV0cnlTdGF0dXMuRVhIQVVTVEVEfSl9ZWxzZSBjLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gIi5jb25jYXQoZSwiIGZhaWxlZDogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG8pKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtsLmRlZmF1bHRDYWxsYmFjayhwLGkpfSxwLnByb3RvdHlwZS5fZm9ybWF0Q2FsbEVycm9yPWZ1bmN0aW9uKHQpe3ZhciBvPW4oe3R5cGU6dC5jb2RlLG1lc3NhZ2U6dC5tZXNzYWdlLHN0YWNrOltdLHJldHJ5U3RhdHVzOnQucmV0cnlTdGF0dXN8fHIuUmV0cnlTdGF0dXMuTk9ORX0sdC5zdGF0dXNDb2RlJiZ7c3RhdHVzQ29kZTp0LnN0YXR1c0NvZGV9KTtpZih0LnN0YWNrKXRyeXtBcnJheS5pc0FycmF5KHQuc3RhY2spP28uc3RhY2s9dC5zdGFjazoib2JqZWN0Ij09PWUodC5zdGFjayk/by5zdGFjaz1bSlNPTi5zdHJpbmdpZnkodC5zdGFjayldOiJzdHJpbmciPT10eXBlb2YgdC5zdGFjayYmKG8uc3RhY2s9dC5zdGFjay5zcGxpdCgiXG4iKSl9ZmluYWxseXt9cmV0dXJuIG99LHAucHJvdG90eXBlLl9hZGRTdGF0dXNDb2RlVG9FcnJvcj1mdW5jdGlvbihlKXtpZihlLnN0YXR1c0NvZGUpcmV0dXJuIGU7dmFyIHQ9bih7fSxlKTtpZihlLmNvZGUpc3dpdGNoKHQuY29kZSl7Y2FzZSByLkNUSUV4Y2VwdGlvbnMuVU5BVVRIT1JJWkVEX0VYQ0VQVElPTjp0LnN0YXR1c0NvZGU9NDAxO2JyZWFrO2Nhc2Ugci5DVElFeGNlcHRpb25zLkFDQ0VTU19ERU5JRURfRVhDRVBUSU9OOnQuc3RhdHVzQ29kZT00MDN9ZWxzZSB0LnN0YXR1c0NvZGU9NDAwO3JldHVybiB0fSxwLnByb3RvdHlwZS5fcmVxdWlyZXNBdXRoZW50aWNhdGlvblBhcmFtPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09ci5DbGllbnRNZXRob2RzLkNPTVBMRVRFX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuQ0xFQVJfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5SRUpFQ1RfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVEFTS19DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLlVQREFURV9NT05JVE9SX1BBUlRJQ0lQQU5UX1NUQVRFJiZlIT09ci5DbGllbnRNZXRob2RzLlBBVVNFX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuUkVTVU1FX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuQUREX05FV19DT05ORUNUSU9OJiZlIT09ci5DbGllbnRNZXRob2RzLlRSQU5TRkVSX0NPTlRBQ1R9LHAucHJvdG90eXBlLl90cmFuc2xhdGVQYXJhbXM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSByLkNsaWVudE1ldGhvZHMuVVBEQVRFX0FHRU5UX0NPTkZJR1VSQVRJT046dC5jb25maWd1cmF0aW9uPXRoaXMuX3RyYW5zbGF0ZUFnZW50Q29uZmlndXJhdGlvbih0LmNvbmZpZ3VyYXRpb24pO2JyZWFrO2Nhc2Ugci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfTUVUUklDUzp0LnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M9dGhpcy5fdHJhbnNsYXRlU29mdHBob25lU3RyZWFtU3RhdGlzdGljcyh0LnNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3MpO2JyZWFrO2Nhc2Ugci5DbGllbnRNZXRob2RzLlNFTkRfU09GVFBIT05FX0NBTExfUkVQT1JUOnQucmVwb3J0PXRoaXMuX3RyYW5zbGF0ZVNvZnRwaG9uZUNhbGxSZXBvcnQodC5yZXBvcnQpfXJldHVybiB0aGlzLl9yZXF1aXJlc0F1dGhlbnRpY2F0aW9uUGFyYW0oZSkmJih0LmF1dGhlbnRpY2F0aW9uPXthdXRoVG9rZW46dGhpcy5hdXRoVG9rZW59KSx0fSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlQWdlbnRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmUubmFtZSxzb2Z0cGhvbmVFbmFibGVkOmUuc29mdHBob25lRW5hYmxlZCxzb2Z0cGhvbmVBdXRvQWNjZXB0OmUuc29mdHBob25lQXV0b0FjY2VwdCxleHRlbnNpb246ZS5leHRlbnNpb24scm91dGluZ1Byb2ZpbGU6dGhpcy5fdHJhbnNsYXRlUm91dGluZ1Byb2ZpbGUoZS5yb3V0aW5nUHJvZmlsZSksYWdlbnRQcmVmZXJlbmNlczplLmFnZW50UHJlZmVyZW5jZXMsdm9pY2VFbmhhbmNlbWVudE1vZGU6ZS52b2ljZUVuaGFuY2VtZW50TW9kZX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVSb3V0aW5nUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTplLm5hbWUscm91dGluZ1Byb2ZpbGVBUk46ZS5yb3V0aW5nUHJvZmlsZUFSTixkZWZhdWx0T3V0Ym91bmRRdWV1ZTp0aGlzLl90cmFuc2xhdGVRdWV1ZShlLmRlZmF1bHRPdXRib3VuZFF1ZXVlKX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVRdWV1ZT1mdW5jdGlvbihlKXtyZXR1cm57cXVldWVBUk46ZS5xdWV1ZUFSTixuYW1lOmUubmFtZX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJwYWNrZXRzQ291bnQiaW4gZSYmKGUucGFja2V0Q291bnQ9ZS5wYWNrZXRzQ291bnQsZGVsZXRlIGUucGFja2V0c0NvdW50KX0pKSxlfSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlU29mdHBob25lQ2FsbFJlcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4iaGFuZHNoYWtpbmdUaW1lTWlsbGlzImluIGUmJihlLmhhbmRzaGFrZVRpbWVNaWxsaXM9ZS5oYW5kc2hha2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUuaGFuZHNoYWtpbmdUaW1lTWlsbGlzKSwicHJlVGFsa2luZ1RpbWVNaWxsaXMiaW4gZSYmKGUucHJlVGFsa1RpbWVNaWxsaXM9ZS5wcmVUYWxraW5nVGltZU1pbGxpcyxkZWxldGUgZS5wcmVUYWxraW5nVGltZU1pbGxpcyksImhhbmRzaGFraW5nRmFpbHVyZSJpbiBlJiYoZS5oYW5kc2hha2VGYWlsdXJlPWUuaGFuZHNoYWtpbmdGYWlsdXJlLGRlbGV0ZSBlLmhhbmRzaGFraW5nRmFpbHVyZSksInRhbGtpbmdUaW1lTWlsbGlzImluIGUmJihlLnRhbGtUaW1lTWlsbGlzPWUudGFsa2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUudGFsa2luZ1RpbWVNaWxsaXMpLGUuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcz10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKGUuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcyksZX07dmFyIGQ9ZnVuY3Rpb24oZSl7aWYoci5hc3NlcnROb3ROdWxsKGUsImVuZHBvaW50Iiksby5jYWxsKHRoaXMpLGUuaW5jbHVkZXMoIi90YXNrLXRlbXBsYXRlcyIpKXRoaXMuZW5kcG9pbnRVcmw9ci5nZXRVcmxXaXRoUHJvdG9jb2woZSk7ZWxzZXt2YXIgdD1uZXcgQVdTLkVuZHBvaW50KGUpLG49ZS5pbmNsdWRlcygiLmF3c2FwcHMuY29tIik/Ii9jb25uZWN0IjoiIjt0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKCIiLmNvbmNhdCh0Lmhvc3QpLmNvbmNhdChuLCIvdGFzay10ZW1wbGF0ZXMvYXBpL2NjcCIpKX19OyhkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZCxkLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3QmJnQucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PXQucmVsYXRlZENvbnRhY3RJZCYmdC5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIHQucHJldmlvdXNDb250YWN0SWQsci5hc3NlcnROb3ROdWxsKGUsIm1ldGhvZCIpLHIuYXNzZXJ0Tm90TnVsbCh0LCJwYXJhbXMiKTt2YXIgbz17Y3JlZGVudGlhbHM6ImluY2x1ZGUiLG1ldGhvZDoiR0VUIixoZWFkZXJzOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24iLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIiwieC1jc3JmLXRva2VuIjoiY3NyZiJ9fSxpPXQuaW5zdGFuY2VJZCxhPXRoaXMuZW5kcG9pbnRVcmwscz1yLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzO3N3aXRjaChlKXtjYXNlIHMuTElTVF9UQVNLX1RFTVBMQVRFUzppZihhKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlIiksdC5xdWVyeVBhcmFtcyl7dmFyIGM9bmV3IFVSTFNlYXJjaFBhcmFtcyh0LnF1ZXJ5UGFyYW1zKS50b1N0cmluZygpO2MmJihhKz0iPyIuY29uY2F0KGMpKX1icmVhaztjYXNlIHMuR0VUX1RBU0tfVEVNUExBVEU6ci5hc3NlcnROb3ROdWxsKHQudGVtcGxhdGVQYXJhbXMsInBhcmFtcy50ZW1wbGF0ZVBhcmFtcyIpO3ZhciB1PXIuYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLmlkLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMuaWQiKSxsPXQudGVtcGxhdGVQYXJhbXMudmVyc2lvbjthKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlLyIpLmNvbmNhdCh1KSxsJiYoYSs9Ij9zbmFwc2hvdFZlcnNpb249Ii5jb25jYXQobCkpO2JyZWFrO2Nhc2Ugcy5DUkVBVEVfVEVNUExBVEVEX1RBU0s6YSs9Ii8iLmNvbmNhdChlKSxvLmJvZHk9SlNPTi5zdHJpbmdpZnkodCksby5tZXRob2Q9IlBVVCI7YnJlYWs7Y2FzZSBzLlVQREFURV9DT05UQUNUOmErPSIvIi5jb25jYXQoZSksby5ib2R5PUpTT04uc3RyaW5naWZ5KHQpLG8ubWV0aG9kPSJQT1NUIn1yLmZldGNoKGEsbykudGhlbigoZnVuY3Rpb24oZSl7bi5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkuZ2V0UmVhZGVyKCkscj0iIixvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKGEpe3ZhciBzPWEuZG9uZSxjPWEudmFsdWU7aWYocyl7dmFyIHU9SlNPTi5wYXJzZShyKTtyZXR1cm4gdS5zdGF0dXM9ZS5zdGF0dXMsdm9pZCBuLmZhaWx1cmUodSl9cmV0dXJuIHIrPW8uZGVjb2RlKGMpLHQucmVhZCgpLnRoZW4oaSl9KSl9KSl9LHIuQ2xpZW50QmFzZT1vLHIuTnVsbENsaWVudD1pLHIuVXBzdHJlYW1Db25kdWl0Q2xpZW50PXMsci5BcGlQcm94eUNsaWVudD1jLHIuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50PXUsci5BV1NDbGllbnQ9cCxyLkFnZW50QXBwQ2xpZW50PWwsci5UYXNrVGVtcGxhdGVzQ2xpZW50PWR9KCl9LDM5OTooZSx0LG4pPT57ZnVuY3Rpb24gcihlKXtyZXR1cm4gcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0scihlKX1mdW5jdGlvbiBvKCl7InVzZSBzdHJpY3QiO289ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIGUsdD17fSxuPU9iamVjdC5wcm90b3R5cGUsaT1uLmhhc093blByb3BlcnR5LGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9cy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9cy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPXMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKGUpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBhKGksIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGl9ZnVuY3Rpb24gaChlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fXQud3JhcD1kO3ZhciBmPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBFKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBJPU9iamVjdC5nZXRQcm90b3R5cGVPZixUPUkmJkkoSShQKFtdKSkpO1QmJlQhPT1uJiZpLmNhbGwoVCxjKSYmKEM9VCk7dmFyIHc9RS5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihvLGEscyxjKXt2YXIgdT1oKGVbb10sZSxhKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1yKHApJiZpLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgbzthKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7bihlLHIsdCxvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBSKHQsbixyKXt2YXIgbz1mO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPUwocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1mKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1oKHQsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBMKHQsbil7dmFyIHI9bi5tZXRob2Qsbz10Lml0ZXJhdG9yW3JdO2lmKG89PT1lKXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxMKHQsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9aChvLHQuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW3QucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9ZSksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKHQpe2lmKHR8fCIiPT09dCl7dmFyIG49dFtjXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxhPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYoaS5jYWxsKHQsbykpcmV0dXJuIG4udmFsdWU9dFtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gYS5uZXh0PWF9fXRocm93IG5ldyBUeXBlRXJyb3Iocih0KSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBTLnByb3RvdHlwZT1FLGEodywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLGEoRSwiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLFMuZGlzcGxheU5hbWU9cChFLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1TfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxFKTooZS5fX3Byb3RvX189RSxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSx0LmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdC5Bc3luY0l0ZXJhdG9yPV8sdC5hc3luYz1mdW5jdGlvbihlLG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSxuLHIsbyksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksdC5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LHQudmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCF0KWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZpLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIHIocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLCEhb31mb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbb10scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPWkuY2FsbChhLCJjYXRjaExvYyIpLHU9aS5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJmkuY2FsbChyLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxyLmZpbmFsbHlMb2Mpe3ZhciBvPXI7YnJlYWt9fW8mJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZvLnRyeUxvYzw9dCYmdDw9by5maW5hbGx5TG9jJiYobz1udWxsKTt2YXIgYT1vP28uY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxvPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAodCkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSx5fX0sdH1mdW5jdGlvbiBpKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9hKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7YyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCxuKXtyZXR1cm4odD1iKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBsKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2woZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGE9ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxpPWV9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19ZnVuY3Rpb24gbChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIHQ9aCh0KSxmdW5jdGlvbihlLHQpe2lmKHQmJigib2JqZWN0Ij09cih0KXx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKX0oZSxkKCk/UmVmbGVjdC5jb25zdHJ1Y3QodCxufHxbXSxoKGUpLmNvbnN0cnVjdG9yKTp0LmFwcGx5KGUsbikpfWZ1bmN0aW9uIGQoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihkPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBoKGUpe3JldHVybiBoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSxoKGUpfWZ1bmN0aW9uIGYoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksdCYmZyhlLHQpfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gZz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGcoZSx0KX1mdW5jdGlvbiBtKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYihyLmtleSkscil9fWZ1bmN0aW9uIHkoZSx0LG4pe3JldHVybiB0JiZ2KGUucHJvdG90eXBlLHQpLG4mJnYoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9cihlKXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBvPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXIobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09cih0KT90OnQrIiJ9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQsdC5jb3JlPXt9LHQuZ2xvYmFsUmVzaWxpZW5jeT10Lmdsb2JhbFJlc2lsaWVuY3l8fHt9LHQuY29yZS5pbml0aWFsaXplZD0hMSx0LnZlcnNpb249IjIuMjQuMCIsdC5vdXRlckNvbnRleHRTdHJlYW1zVmVyc2lvbj1udWxsLHQuaW5pdENDUFBhcmFtcz1udWxsLHQuY29udGFpbmVyRGl2PW51bGwsdC5ERUZBVUxUX0JBVENIX1NJWkU9NTAwO3ZhciByPTNlMyxhPSJBbWF6b24gQ29ubmVjdCBDQ1AiLGM9Imh0dHBzOi8ve2FsaWFzfS5hd3NhcHBzLmNvbS9hdXRoLz9jbGllbnRfaWQ9e2NsaWVudF9pZH0mcmVkaXJlY3RfdXJpPXtyZWRpcmVjdH0iLGw9IjA2OTE5ZjRmZDhlZDMyNGUiLGQ9Ii9hdXRoL2F1dGhvcml6ZSIsaD0iL2Nvbm5lY3QvYXV0aC9hdXRob3JpemUiLGc9IklmcmFtZVJlZnJlc2hBdHRlbXB0cyIsdj0iSWZyYW1lUmVmcmVzaEF0dGVtcHRzRHIiLGI9IklmcmFtZUluaXRpYWxpemF0aW9uU3VjY2VzcyIsUz0iSWZyYW1lSW5pdGlhbGl6YXRpb25TdWNjZXNzRHIiLEU9ImN1c3RvbXZpZXdzIixDPVsiZW5kZWQiLCJtaXNzZWQiLCJlcnJvciIsInJlamVjdGVkIiwiYWN3Il07dC5udW1iZXJPZkNvbm5lY3RlZENDUHM9MCx0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYj0wLHQuY29yZS5NQVhfQVVUSE9SSVpFX1JFVFJZX0NPVU5UX0ZPUl9TRVNTSU9OPTMsdC5jb3JlLk1BWF9DVElfQVVUSF9SRVRSWV9DT1VOVD0xMCx0LmNvcmUuY3RpQXV0aFJldHJ5Q291bnQ9MCx0LmNvcmUuYXV0aG9yaXplVGltZW91dElkPW51bGwsdC5jb3JlLmN0aVRpbWVvdXRJZD1udWxsLHQuY29yZS5NQVhfVU5BVVRIT1JJWkVEX1JFVFJZX0NPVU5UPTIwLHQuY29yZS5NQVhfQUNDRVNTX0RFTklFRF9SRVRSWV9DT1VOVD0xMCx0LlNlc3Npb25TdG9yYWdlS2V5cz10Lm1ha2VFbnVtKFsidGFiX2lkIiwiYXV0aG9yaXplX3JldHJ5X2NvdW50Il0pO3ZhciBJPWZ1bmN0aW9uKCl7cmV0dXJuIHkoKGZ1bmN0aW9uIHQobil7bSh0aGlzLHQpLHRoaXMua2V5PSIiLmNvbmNhdChuLCJQYXJhbXNTdG9yYWdlOjoiKS5jb25jYXQoZS5sb2NhdGlvbi5vcmlnaW4pfSksW3trZXk6ImdldCIsdmFsdWU6ZnVuY3Rpb24oKXt0cnl7dmFyIG49ZS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSk7cmV0dXJuIG4mJkpTT04ucGFyc2Uobil9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiIi5jb25jYXQodGhpcy5rZXksIjo6IEZhaWxlZCB0byBnZXQgc29mdHBob25lIHBhcmFtcyBmcm9tIGxvY2FsIHN0b3JhZ2UhIikpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1yZXR1cm4gbnVsbH19LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24obil7dHJ5e24mJmUubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5rZXksSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIiIuY29uY2F0KHRoaXMua2V5LCI6OiBGYWlsZWQgdG8gc2V0IHNvZnRwaG9uZSBwYXJhbXMgdG8gbG9jYWwgc3RvcmFnZSEiKSkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX19LHtrZXk6ImNsZWFuIix2YWx1ZTpmdW5jdGlvbigpe2UubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5rZXkpfX1dKX0oKSxUPW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG0odGhpcyx0KSxwKHRoaXMsdCxbIlNvZnRwaG9uZSJdKX1yZXR1cm4gZih0LGUpLHkodCl9KEkpKSx3PW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG0odGhpcyx0KSxwKHRoaXMsdCxbIlJpbmd0b25lIl0pfXJldHVybiBmKHQsZSkseSh0KX0oSSkpO2Z1bmN0aW9uIEEoZSl7dmFyIHQ9ZS5tYXRjaCgvXig/Omh0dHBzPzpcL1wvKT8oPzpbXkBcbl0rQCk/KD86d3d3XC4pPyhbXjpcL1xuP10rKS9naSk7cmV0dXJuIHQubGVuZ3RoP3RbMF06IiJ9bmV3KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbSh0aGlzLHQpLHAodGhpcyx0LFsiR2xvYmFsUmVzaWxpZW5jeSJdKX1yZXR1cm4gZih0LGUpLHkodCl9KEkpKSx0LmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZD1mdW5jdGlvbigpe3QuY29yZS5pbml0aWFsaXplZCYmdC5nZXRMb2coKS53YXJuKCJDb25uZWN0IGNvcmUgYWxyZWFkeSBpbml0aWFsaXplZCwgb25seSBuZWVkcyB0byBiZSBpbml0aWFsaXplZCBvbmNlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9O3ZhciBfPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5nZXRBZ2VudFN0YXRlcygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10LkFnZW50U3RhdGVUeXBlLk9GRkxJTkV9KSk7ZS5zZXRTdGF0ZShyLG4pfSxSPWZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBTaWduYWwgc2hhcmVkd29ya2VyIHRvIHNldCBjb250YWN0cyBzdXBwcmVzc29yIHRvICVzIGZvciBpbnN0YW5jZSAlcy4iLGUsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLlNVUFBSRVNTLHtzdXBwcmVzczplLHNob3VsZFNlbmRGYWlsb3ZlckRvd25zdHJlYW06ITF9KX0sTD1mdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuaW5mbygiW0RJU0FTVEVSIFJFQ09WRVJZXSBTaWduYWwgc2hhcmVkd29ya2VyIHRvIHNldCBmb3JjZU9mZmxpbmUgdG8gJXMgZm9yIGluc3RhbmNlICVzLiIsZSx0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSx7b2ZmbGluZTplLG5leHRBY3RpdmVBcm46bn0pfSxPPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5nZXRMb2coKSxvPXQuYWdlbnQuaW5pdGlhbGl6ZWQ/dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpOnQuY29yZS5yZWdpb247ci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEF0dGVtcHRpbmcgdG8gZm9yY2UgaW5zdGFuY2UgIi5jb25jYXQobywiIG9mZmxpbmUgdXNpbmcgIikuY29uY2F0KGU/InNvZnQiOiJoYXJkIiwiIGZhaWxvdmVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5hZ2VudCgoZnVuY3Rpb24obyl7dmFyIGk9MCxhPW8uZ2V0Q29udGFjdHMoKSxzPSExO2lmKGEubGVuZ3RoKXt2YXIgYyxsPXUoYSk7dHJ5e2ZvcihsLnMoKTshKGM9bC5uKCkpLmRvbmU7KXt2YXIgcD1jLnZhbHVlO2lmKHMpYnJlYWs7IWV8fHAuZ2V0VHlwZSgpIT09dC5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSyYmcC5nZXRUeXBlKCkhPT10LkNvbnRhY3RUeXBlLlZPSUNFP3AuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZGVzdHJveSh7c3VjY2VzczpmdW5jdGlvbigpeysraT09PWEubGVuZ3RoJiYoTCghMSxuKSxfKG8pLHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAlcyBpcyBub3cgb2ZmbGluZSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7ci53YXJuKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFuIGVycm9yIG9jY3VyZWQgd2hpbGUgYXR0ZW1wdGluZyB0byBmb3JjZSB0aGlzIGluc3RhbmNlIHRvIG9mZmxpbmUgaW4gcmVnaW9uICVzIix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIud2FybihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLEwoITAsbikscz0hMH19KTooci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFdpbGwgd2FpdCB0byBjb21wbGV0ZSBmYWlsb3ZlciBvZiBpbnN0YW5jZSAlcyB1bnRpbCB2b2ljZSBjb250YWN0IHdpdGggSUQgJXMgaXMgZGVzdHJveWVkIix0LmNvcmUucmVnaW9uLHAuZ2V0Q29udGFjdElkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkcse25leHRBY3RpdmVBcm46bn0pLHAub25EZXN0cm95KChmdW5jdGlvbihlKXtyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gVm9pY2UgY29udGFjdCB3aXRoIElEICVzIGRlc3Ryb3llZCwgY29udGludWluZyB3aXRoIGZhaWxvdmVyIGluIGluc3RhbmNlICVzIixlLmdldENvbnRhY3RJZCgpLHQuY29yZS5yZWdpb24pLE8oITAsbil9KSkpfX1jYXRjaChlKXtsLmUoZSl9ZmluYWxseXtsLmYoKX19ZWxzZSBMKCExLG4pLF8obyksci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICVzIGlzIG5vdyBvZmZsaW5lIix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfTt0LmNvcmUudGVybWluYXRlQ3VzdG9tVmlldz1mdW5jdGlvbihlKXt2YXIgbixyLG89YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiIiLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGE9aS5yZXNvbHZlSWZyYW1lLHM9dm9pZCAwPT09YXx8YSxjPWkudGltZW91dCx1PXZvaWQgMD09PWM/NWUzOmMsbD1pLmhpZGVJZnJhbWUscD12b2lkIDA9PT1sfHxsLGQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihudWxsPT10P3ZvaWQgMDp0LnF1ZXJ5U2VsZWN0b3IobikpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKXx8d2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKX07cj1vPyIiLmNvbmNhdChFKS5jb25jYXQobyk6IiIuY29uY2F0KEUpO3ZhciBoPW51bGw9PT0obj10LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmdldChyKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29udGFpbmVyRE9NLGY9ImlmcmFtZVtpZD0nIi5jb25jYXQociwiJ10iKSxnPWQocixoLGYpO2lmKGcpdHJ5e2cuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dG9waWM6ImxpZmVjeWNsZS50ZXJtaW5hdGVkIn0sZSkscyYmKHAmJihnLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxjb25zb2xlLmluZm8oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgaWZyYW1lIGhpZGRlbiBmb3IgcmVzb2x1dGlvbiBkdXJpbmcgdGVybWluYXRpb24iKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuYWdlbnRBcHAuc3RvcEFwcChyKSxkKHIsaCxmKT9jb25zb2xlLndhcm4oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgYXBwbGljYXRpb24gZGlkIG5vdCBzdG9wIHN1Y2Nlc3NmdWxseSBpbiB0ZXJtaW5hdGVDdXN0b21WaWV3IG9wZXJhdGlvbiIpOmNvbnNvbGUuaW5mbygiW0N1c3RvbVZpZXdzXSBjdXN0b212aWV3cyBhcHBsaWNhdGlvbiBzdWNjZXNzZnVsbHkgc3RvcHBlZCIpfSksdSkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXSBFcnJvciBpbiB0ZXJtaW5hdGVDdXN0b21WaWV3OiAiLGUpfWVsc2UgY29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIHRlcm1pbmF0ZUN1c3RvbVZpZXcgb3BlcmF0aW9uIGZhaWxlZCBkdWUgdG8gaWZyYW1lIG5vdCBmb3VuZCIpfSx0LmNvcmUuaW5pdERpc2FzdGVyUmVjb3Zlcnk9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXQuZ2V0TG9nKCk7dC5jb3JlLnJlZ2lvbj1lLnJlZ2lvbix0LmNvcmUuc3VwcHJlc3NDb250YWN0cz1ufHxSLHQuY29yZS5mb3JjZU9mZmxpbmU9cnx8Tyx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLlNFVF9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe3QuY29yZS5mb3JjZU9mZmxpbmUoZSYmZS5zb2Z0RmFpbG92ZXIpfSkpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUsKGZ1bmN0aW9uKGUpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuRkFJTE9WRVIsKGZ1bmN0aW9uKCl7dC5jb3JlLmZvcmNlT2ZmbGluZShlJiZlLnNvZnRGYWlsb3ZlcixlJiZlLm5leHRBY3RpdmVBcm4pfSkpfSkpLHQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuRkFJTE9WRVIsKGZ1bmN0aW9uKCl7by5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluaXRpYWxpemluZyByZWdpb24gJXMgYXMgcGFydCBvZiBhIERpc2FzdGVyIFJlY292ZXJ5IGZsZWV0Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSksKGZ1bmN0aW9uKCl7by5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldICVzIGFscmVhZHkgcGFydCBvZiBhIERpc2FzdGVyIFJlY292ZXJ5IGZsZWV0Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLGUucG9sbEZvckZhaWxvdmVyJiZ0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HP3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HLHtpbnN0YW5jZUFybjplLmluc3RhbmNlQXJuLG90aGVyQXJuOmUub3RoZXJBcm4sYXV0aFRva2VuOmUuYXV0aFRva2VufSk6ZS5pc1ByaW1hcnk/KHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzKCExKSxvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gJXMgaW5zdGFuY2UgaXMgc2V0IHRvIHByaW1hcnkiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOih0LmNvcmUuc3VwcHJlc3NDb250YWN0cyghMCksdC5jb3JlLmZvcmNlT2ZmbGluZSgpLG8uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSAlcyBpbnN0YW5jZSBpcyBzZXQgdG8gc3RhbmQtYnkiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSx0LmNvcmUuaW5pdD1mdW5jdGlvbihlKXt0LmNvcmUuZXZlbnRCdXM9bmV3IHQuRXZlbnRCdXMsdC5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW5ldyBEKHQuY29yZS5nZXRFdmVudEJ1cygpKSx0LmNvcmUuaW5pdENsaWVudChlKSx0LmNvcmUuaW5pdEFnZW50QXBwQ2xpZW50KGUpLHQuY29yZS5pbml0VGFza1RlbXBsYXRlc0NsaWVudChlKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITB9LHQuY29yZS5pbml0Q2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj10LmFzc2VydE5vdE51bGwoZS5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxyPXQuYXNzZXJ0Tm90TnVsbChlLnJlZ2lvbiwicGFyYW1zLnJlZ2lvbiIpLG89ZS5lbmRwb2ludHx8bnVsbDt0LmNvcmUuY2xpZW50PW5ldyB0LkFXU0NsaWVudChuLHIsbyl9LHQuY29yZS5pbml0QWdlbnRBcHBDbGllbnQ9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpO3ZhciBuPXQuYXNzZXJ0Tm90TnVsbChlLmF1dGhUb2tlbiwicGFyYW1zLmF1dGhUb2tlbiIpLHI9dC5hc3NlcnROb3ROdWxsKGUuYXV0aENvb2tpZU5hbWUsInBhcmFtcy5hdXRoQ29va2llTmFtZSIpLG89dC5hc3NlcnROb3ROdWxsKGUuYWdlbnRBcHBFbmRwb2ludCwicGFyYW1zLmFnZW50QXBwRW5kcG9pbnQiKTt0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bmV3IHQuQWdlbnRBcHBDbGllbnQocixuLG8pfSx0LmNvcmUuaW5pdFRhc2tUZW1wbGF0ZXNDbGllbnQ9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpO3ZhciBuPWUudGFza1RlbXBsYXRlc0VuZHBvaW50fHxlLmVuZHBvaW50O3QuYXNzZXJ0Tm90TnVsbChuLCJ0YXNrVGVtcGxhdGVzRW5kcG9pbnQiKSx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1uZXcgdC5UYXNrVGVtcGxhdGVzQ2xpZW50KG4pfSx0LmNvcmUudGVybWluYXRlPWZ1bmN0aW9uKCl7dC5jb3JlLmNsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5hcGlQcm94eUNsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5hZ2VudEFwcENsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50PW5ldyB0Lk51bGxDbGllbnQsdC5jb3JlLm1hc3RlckNsaWVudD1uZXcgdC5OdWxsQ2xpZW50O3ZhciBlPXQuY29yZS5nZXRFdmVudEJ1cygpO2UmJmUudW5zdWJzY3JpYmVBbGwoKSx0LmNvcmUuYnVzPW5ldyB0LkV2ZW50QnVzLHQuY29yZS5hZ2VudERhdGFQcm92aWRlcj1udWxsLHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW51bGwsdC5jb3JlLnVwc3RyZWFtPW51bGwsdC5jb3JlLmtlZXBhbGl2ZU1hbmFnZXI9bnVsbCx0LnN0b3JhZ2VBY2Nlc3MucmVzZXRTdG9yYWdlQWNjZXNzU3RhdGUoKSx0LmFnZW50LmluaXRpYWxpemVkPSExLHQuY29yZS5pbml0aWFsaXplZD0hMX0sdC5jb3JlLnNvZnRwaG9uZVVzZXJNZWRpYVN0cmVhbT1udWxsLHQuY29yZS5zZXRTb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09ZnVuY3Rpb24oZSl7dC5jb3JlLnNvZnRwaG9uZVVzZXJNZWRpYVN0cmVhbT1lfSx0LmNvcmUuaW5pdFJpbmd0b25lRW5naW5lcz1mdW5jdGlvbihuLHIpe3QuZ2V0TG9nKCkuaW5mbygiW1Jpbmd0b25lIEVuZ2luZV0gaW5pdFJpbmd0b25lRW5naW5lIHN0YXJ0ZWQiKS53aXRoT2JqZWN0KHtwYXJhbXM6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5hc3NlcnROb3ROdWxsKG4sInBhcmFtcyIpO3ZhciBvPXJ8fE4saT1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicmluZ3RvbmVTZXR0aW5ncyIpLHQuYXNzZXJ0Tm90TnVsbChlLnZvaWNlLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlIiksdC5hc3NlcnRUcnVlKGUudm9pY2UucmluZ3RvbmVVcmx8fGUudm9pY2UuZGlzYWJsZWQsInJpbmd0b25lU2V0dGluZ3Mudm9pY2UucmluZ3RvbmVVcmwgbXVzdCBiZSBwcm92aWRlZCBvciByaW5ndG9uZVNldHRpbmdzLnZvaWNlLmRpc2FibGVkIG11c3QgYmUgdHJ1ZSIpLHQuYXNzZXJ0Tm90TnVsbChlLnF1ZXVlX2NhbGxiYWNrLCJyaW5ndG9uZVNldHRpbmdzLnF1ZXVlX2NhbGxiYWNrIiksdC5hc3NlcnRUcnVlKGUucXVldWVfY2FsbGJhY2sucmluZ3RvbmVVcmx8fGUucXVldWVfY2FsbGJhY2suZGlzYWJsZWQsInJpbmd0b25lU2V0dGluZ3Mudm9pY2UucmluZ3RvbmVVcmwgbXVzdCBiZSBwcm92aWRlZCBvciByaW5ndG9uZVNldHRpbmdzLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkIG11c3QgYmUgdHJ1ZSIpLHQuY29yZS5yaW5ndG9uZUVuZ2luZXM9e30sdC5hZ2VudCgoZnVuY3Rpb24obil7bi5vblJlZnJlc2goKGZ1bmN0aW9uKCl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5SSU5HVE9ORSwoZnVuY3Rpb24oKXt2YXIgbj0hMTtlLnZvaWNlLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnZvaWNlfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy52b2ljZT1uZXcgdC5Wb2ljZVJpbmd0b25lRW5naW5lKGUudm9pY2UpLG49ITAsdC5nZXRMb2coKS5pbmZvKCJWb2ljZVJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUuY2hhdC5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy5jaGF0fHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy5jaGF0PW5ldyB0LkNoYXRSaW5ndG9uZUVuZ2luZShlLmNoYXQpLG49ITAsdC5nZXRMb2coKS5pbmZvKCJDaGF0UmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS50YXNrLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnRhc2t8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnRhc2s9bmV3IHQuVGFza1Jpbmd0b25lRW5naW5lKGUudGFzayksbj0hMCx0LmdldExvZygpLmluZm8oIlRhc2tSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmVtYWlsLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmVtYWlsfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy5lbWFpbD1uZXcgdC5FbWFpbFJpbmd0b25lRW5naW5lKGUuZW1haWwpLG49ITAsdC5nZXRMb2coKS5pbmZvKCJFbWFpbFJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUucXVldWVfY2FsbGJhY2suZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMucXVldWVfY2FsbGJhY2t8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnF1ZXVlX2NhbGxiYWNrPW5ldyB0LlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZShlLnF1ZXVlX2NhbGxiYWNrKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiUXVldWVDYWxsYmFja1Jpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLG4mJnQuY29yZS5fcmluZ2VyRGV2aWNlSWQmJm8oe2RldmljZUlkOnQuY29yZS5fcmluZ2VyRGV2aWNlSWR9KX0pKX0pKX0pKSxrKCl9LGE9ZnVuY3Rpb24oZSxuKXtlLnJpbmd0b25lPWUucmluZ3RvbmV8fHt9LGUucmluZ3RvbmUudm9pY2U9ZS5yaW5ndG9uZS52b2ljZXx8e30sZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjaz1lLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrfHx7fSxlLnJpbmd0b25lLmNoYXQ9ZS5yaW5ndG9uZS5jaGF0fHx7ZGlzYWJsZWQ6ITB9LGUucmluZ3RvbmUudGFzaz1lLnJpbmd0b25lLnRhc2t8fHtkaXNhYmxlZDohMH0sZS5yaW5ndG9uZS5lbWFpbD1lLnJpbmd0b25lLmVtYWlsfHx7ZGlzYWJsZWQ6ITB9LG4uc29mdHBob25lJiYobi5zb2Z0cGhvbmUuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS52b2ljZS5kaXNhYmxlZD0hMCxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkPSEwKSxuLnNvZnRwaG9uZS5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUudm9pY2UucmluZ3RvbmVVcmw9bi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwsZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjay5yaW5ndG9uZVVybD1uLnNvZnRwaG9uZS5yaW5ndG9uZVVybCkpLG4uY2hhdCYmKG4uY2hhdC5kaXNhYmxlUmluZ3RvbmUmJihlLnJpbmd0b25lLmNoYXQuZGlzYWJsZWQ9ITApLG4uY2hhdC5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUuY2hhdC5yaW5ndG9uZVVybD1uLmNoYXQucmluZ3RvbmVVcmwpKSxuLnRhc2smJihuLnRhc2suZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS50YXNrLmRpc2FibGVkPSEwKSxuLnRhc2sucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLnRhc2sucmluZ3RvbmVVcmw9bi50YXNrLnJpbmd0b25lVXJsKSksbi5lbWFpbCYmKG4uZW1haWwuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS5lbWFpbC5kaXNhYmxlZD0hMCksbi5lbWFpbC5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUuZW1haWwucmluZ3RvbmVVcmw9bi5lbWFpbC5yaW5ndG9uZVVybCkpLG4ucmluZ3RvbmUmJihlLnJpbmd0b25lLnZvaWNlPXQubWVyZ2UoZS5yaW5ndG9uZS52b2ljZSxuLnJpbmd0b25lLnZvaWNlfHx7fSksZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjaz10Lm1lcmdlKGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2ssbi5yaW5ndG9uZS52b2ljZXx8e30pLGUucmluZ3RvbmUuY2hhdD10Lm1lcmdlKGUucmluZ3RvbmUuY2hhdCxuLnJpbmd0b25lLmNoYXR8fHt9KSxlLnJpbmd0b25lLnRhc2s9dC5tZXJnZShlLnJpbmd0b25lLnRhc2ssbi5yaW5ndG9uZS50YXNrfHx7fSksZS5yaW5ndG9uZS5lbWFpbD10Lm1lcmdlKGUucmluZ3RvbmUuZW1haWwsbi5yaW5ndG9uZS5lbWFpbHx8e30pKX07aWYoYShuLG4pLHQuaXNGcmFtZWQoKSl7dmFyIHM7dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24ocil7ZS5jbGVhclRpbWVvdXQocyksdC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmUgRW5naW5lXSBDb25maWd1cmUgZXZlbnQgaGFuZGxlciBleGVjdXRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy51bnN1YnNjcmliZSgpLGEobixyKSx3LnNldChuLnJpbmd0b25lKSxpKG4ucmluZ3RvbmUpfSkpO3ZhciBjPXcuZ2V0KCk7YyYmdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7biYmbi5pZCYmKHQuZ2V0TG9nKCkuaW5mbygiW1Jpbmd0b25lRW5naW5lXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseSBhbmQgd2FpdGluZyBmb3IgY29uZmlndXJlIE1lc3NhZ2UgaGFuZGxlciB0byBleGVjdXRlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnVuc3Vic2NyaWJlKCkscz1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmVFbmdpbmVdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgd2l0aG91dCBjb25maWd1cmUgbWVzc2FnZSAmIEluaXRpYWxpemluZyBzZXR1cFJpbmd0b25lRW5naW5lcyAoUmluZ3RvbmUgRW5naW5lKSBmcm9tIGxvY2FsU3RvcmFnZSByaW5ndG9uZSBwYXJhbXMuICIpLndpdGhPYmplY3Qoe3Jpbmd0b25lOmN9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoYyl9KSwxMDApKX0pKX1lbHNlIGkobi5yaW5ndG9uZSl9O3ZhciBrPWZ1bmN0aW9uKCl7dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfUklOR0VSX0RFVklDRSxOKX0sTj1mdW5jdGlvbigpe3ZhciBlPShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30pLmRldmljZUlkfHwiIjtpZih0LmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEF0dGVtcHRpbmcgdG8gc2V0IHJpbmdlciBkZXZpY2UgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksMD09PXQua2V5cyh0LmNvcmUucmluZ3RvbmVFbmdpbmVzKS5sZW5ndGgpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gc2V0UmluZ2VyRGV2aWNlIGNhbGxlZCBiZWZvcmUgcmluZ3RvbmUgZW5naW5lIGlzIGluaXRpYWxpemVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkKGUmJih0LmNvcmUuX3JpbmdlckRldmljZUlkPWUsdC5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBzdG9yZWQgZGV2aWNlIElkIGZvciBsYXRlciB1c2UsIG9uY2UgcmluZ3RvbmUgZW5naW5lIGlzIHVwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJTZXRSaW5nZXJEZXZpY2VCZWZvcmVJbml0UmluZ3RvbmVFbmdpbmUiLGRhdGE6e2NvdW50OjF9fSkpKTtpZihlKXt2YXIgbj1mdW5jdGlvbihuKXt0LmNvcmUucmluZ3RvbmVFbmdpbmVzW25dLnNldE91dHB1dERldmljZShlKS50aGVuKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIHJpbmd0b25lVHlwZSAiLmNvbmNhdChuLCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBkZXZpY2VpZCAiKS5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoZSl9KSl9O2Zvcih2YXIgciBpbiB0LmNvcmUucmluZ3RvbmVFbmdpbmVzKW4ocik7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLlJJTkdFUl9ERVZJQ0VfQ0hBTkdFRCxkYXRhOntkZXZpY2VJZDplfX0pfWVsc2UgdC5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIHJpbmdlciBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIGRldmljZUlkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX07dC5jb3JlLmluaXRTb2Z0cGhvbmVNYW5hZ2VyPWZ1bmN0aW9uKG4pe3ZhciByPW58fHt9O3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBpbml0U29mdHBob25lTWFuYWdlciBzdGFydGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbz1mdW5jdGlvbihlKXt2YXIgbj10Lm1lcmdlKHIuc29mdHBob25lfHx7fSxlKTt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gY29tcGV0ZUZvck1hc3Rlck9uQWdlbnRVcGRhdGUgZXhlY3V0ZWQiKS53aXRoT2JqZWN0KHtzb2Z0cGhvbmVQYXJhbXM6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5hZ2VudCgoZnVuY3Rpb24oZSl7ZS5nZXRDaGFubmVsQ29uY3VycmVuY3kodC5DaGFubmVsVHlwZS5WT0lDRSkmJihlLmlzU29mdHBob25lRW5hYmxlZCgpJiYobi5pc1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZD1lLmdldENvbmZpZ3VyYXRpb24oKS5zb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiksZS5vblJlZnJlc2goKGZ1bmN0aW9uKCl7dmFyIHI9dGhpczt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gYWdlbnQgcmVmcmVzaCBoYW5kbGVyIGV4ZWN1dGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gY29uZmlybWVkIGFzIHNvZnRwaG9uZSBtYXN0ZXIgdG9waWMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCF0LmNvcmUuc29mdHBob25lTWFuYWdlciYmZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW5ldyB0LlNvZnRwaG9uZU1hbmFnZXIobiksci51bnN1YnNjcmliZSgpKX0pKX0pKSl9KSl9O2lmKHQuaXNGcmFtZWQoKSYmdC5pc0NDUCgpKXt2YXIgaTt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihuKXtlLmNsZWFyVGltZW91dChpKSx0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gQ29uZmlndXJlIGV2ZW50IGhhbmRsZXIgZXhlY3V0ZWQiKS53aXRoT2JqZWN0KHtkYXRhOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLFQuc2V0KG4uc29mdHBob25lKSxuLnNvZnRwaG9uZSYmbi5zb2Z0cGhvbmUuYWxsb3dGcmFtZWRTb2Z0cGhvbmUmJih0aGlzLnVuc3Vic2NyaWJlKCksbyhuLnNvZnRwaG9uZSkpLHMobi5zb2Z0cGhvbmUpfSkpO3ZhciBhPVQuZ2V0KCk7YSYmdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7biYmbi5pZCYmKHQuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHN1Y2Nlc3NmdWxseSBhbmQgd2FpdGluZyBmb3IgY29uZmlndXJlIE1lc3NhZ2UgaGFuZGxlciB0byBleGVjdXRlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnVuc3Vic2NyaWJlKCksaT1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgd2l0aG91dCBjb25maWd1cmUgbWVzc2FnZSBoYW5kbGVyIGV4ZWN1dGlvbiIpLndpdGhPYmplY3Qoe3NvZnRwaG9uZVBhcmFtc0Zyb21Mb2NhbFN0b3JhZ2U6YX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJFbWJlZGRlZENDUFJlZnJlc2hlZFdpdGhvdXRJbml0Q0NQIixkYXRhOntjb3VudDoxfX0pLHMoYSksYS5hbGxvd0ZyYW1lZFNvZnRwaG9uZSYmKHQuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkICYgSW5pdGlhbGl6aW5nIGNvbXBldGVGb3JNYXN0ZXJPbkFnZW50VXBkYXRlIChTb2Z0cGhvbmUgbWFuYWdlcikgZnJvbSBsb2NhbFN0b3JhZ2Ugc29mdHBob25lIHBhcmFtcyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbyhhKSl9KSwxMDApKX0pKX1lbHNlIG8ocikscyhyKTtmdW5jdGlvbiBzKGUpe3ZhciBuPXQubWVyZ2Uoci5zb2Z0cGhvbmV8fHt9LGUpO3QuY29yZS5zb2Z0cGhvbmVQYXJhbXM9bix0LmlzRmlyZWZveEJyb3dzZXIoKSYmKHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFLChmdW5jdGlvbihlKXtlLmRhdGEmJmUuZGF0YS50b3BpYz09PXQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSYmZS5kYXRhLnRha2VPdmVyJiZlLmRhdGEubWFzdGVySWQhPT10LmNvcmUucG9ydFN0cmVhbUlkJiZ0LmNvcmUuc29mdHBob25lTWFuYWdlciYmKHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLm9uSW5pdENvbnRhY3RTdWIudW5zdWJzY3JpYmUoKSxkZWxldGUgdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIpfSkpLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTiwoZnVuY3Rpb24oKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmNvcmUuc29mdHBob25lTWFuYWdlciYmdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIuc3RhcnRTZXNzaW9uKCl9KSwoZnVuY3Rpb24oKXt0LmJlY29tZU1hc3Rlcih0Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUsKGZ1bmN0aW9uKCl7dC5hZ2VudCgoZnVuY3Rpb24oZSl7IXQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiZlLmlzU29mdHBob25lRW5hYmxlZCgpJiYodC5iZWNvbWVNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU0VORF9MT0dTKSx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1uZXcgdC5Tb2Z0cGhvbmVNYW5hZ2VyKG4pLHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnN0YXJ0U2Vzc2lvbigpKX0pKX0pKX0pKX0pKSx0LmNvbnRhY3QoKGZ1bmN0aW9uKGUpe3QuYWdlbnQoKGZ1bmN0aW9uKG4pe2Uub25SZWZyZXNoKChmdW5jdGlvbihlKXtpZih0Lmhhc090aGVyQ29ubmVjdGVkQ0NQcygpJiYidmlzaWJsZSI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUmJihlLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkd8fGUuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkcpKXt2YXIgcj1lLmlzU29mdHBob25lQ2FsbCgpJiYhZS5pc0luYm91bmQoKSxvPWUuaXNTb2Z0cGhvbmVDYWxsKCkmJm4uZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZUF1dG9BY2NlcHQsaT1lLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0s7KHJ8fG98fGkpJiZ0LmNvcmUudHJpZ2dlclJlYWR5VG9TdGFydFNlc3Npb25FdmVudCgpfX0pKX0pKX0pKSl9dC5hZ2VudCgoZnVuY3Rpb24oZSl7ZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmZS5nZXRDaGFubmVsQ29uY3VycmVuY3kodC5DaGFubmVsVHlwZS5WT0lDRSkmJnQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuRXZlbnRUeXBlLk1VVEV9KX0pKX0sdC5jb3JlLnRyaWdnZXJSZWFkeVRvU3RhcnRTZXNzaW9uRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10LmNvcmUuc29mdHBob25lUGFyYW1zJiZ0LmNvcmUuc29mdHBob25lUGFyYW1zLmFsbG93RnJhbWVkU29mdHBob25lO3QuaXNDQ1AoKT9lP3QuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOnQuaXNGcmFtZWQoKT90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6dC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6ZT90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOnQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pfSx0LmNvcmUuaW5pdFBhZ2VPcHRpb25zPWZ1bmN0aW9uKGUpe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKSx0LmlzRnJhbWVkKCkpe3ZhciBuPXQuY29yZS5nZXRFdmVudEJ1cygpO24uc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLkNPTkZJR1VSRSxkYXRhOmV9KX0pKSxuLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVRVUVTVCwoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVNQT05TRSxlKX1uYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXM/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZGV2aWNlcz10fHxbXSxkZXZpY2VzPWRldmljZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0pTT04oKX0pKSxlKGRldmljZXMpfSkpLmNhdGNoKChmdW5jdGlvbih0KXtlKHtlcnJvcjp0Lm1lc3NhZ2V9KX0pKTplKHtlcnJvcjoiTm8gbmF2aWdhdG9yIG9yIG5hdmlnYXRvci5tZWRpYURldmljZXMgb2JqZWN0IGZvdW5kIn0pfSkpfX0sdC5jb3JlLmluaXRBcGlQcm94eVNlcnZpY2U9ZnVuY3Rpb24oKXt0LmNvcmUuYXBpUHJveHlDbGllbnQ9bmV3IHQuQXBpUHJveHlDbGllbnQsdC5pc0ZyYW1lZCgpJiYodC5jb3JlLmhhbmRsZUFwaVByb3h5UmVxdWVzdD1mdW5jdGlvbihlKXtudWxsIT1lJiZlLm1ldGhvZCYmdC5jb3JlLmdldEFwaVByb3h5Q2xpZW50KCkuY2FsbChlLm1ldGhvZCxlLnBhcmFtcyx7c3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcj17ZGF0YTpuLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLHIpfSxmYWlsdXJlOmZ1bmN0aW9uKG4pe3ZhciByPXtlcnI6bixyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWR9O3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSxyKX19KX0pfSx0LmNvcmUuZ2V0RnJhbWVNZWRpYURldmljZXM9ZnVuY3Rpb24oZSl7dmFyIG49bnVsbCxyPWV8fDFlMyxvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dChuZXcgRXJyb3IoIlRpbWVvdXQgZXhjZWVkZWQiKSl9KSxyKX0pKSxpPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHIpe2lmKHQuaXNDQ1AoKSluYXZpZ2F0b3ImJm5hdmlnYXRvci5tZWRpYURldmljZXM/bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkudGhlbigoZnVuY3Rpb24odCl7ZGV2aWNlcz10fHxbXSxkZXZpY2VzPWRldmljZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50b0pTT04oKX0pKSxlKGRldmljZXMpfSkpOnIobmV3IEVycm9yKCJObyBuYXZpZ2F0b3Igb3IgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBvYmplY3QgZm91bmQiKSk7ZWxzZXt2YXIgbz10LmNvcmUuZ2V0RXZlbnRCdXMoKTtuPW8uc3Vic2NyaWJlKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVNQT05TRSwoZnVuY3Rpb24odCl7dC5lcnJvcj9yKG5ldyBFcnJvcih0LmVycm9yKSk6ZSh0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFUVVFU1QpfX0pKTtyZXR1cm4gUHJvbWlzZS5yYWNlKFtpLG9dKS5maW5hbGx5KChmdW5jdGlvbigpe24mJm4udW5zdWJzY3JpYmUoKX0pKX0sdC5jb3JlLmF1dGhvcml6ZT1mdW5jdGlvbihlKXt2YXIgbj1lO3JldHVybiBufHwobj10LmNvcmUuaXNMZWdhY3lEb21haW4oKT9oOmQpLHQuZmV0Y2gobix7Y3JlZGVudGlhbHM6ImluY2x1ZGUifSwyZTMsNSl9LHQuY29yZS52ZXJpZnlEb21haW5BY2Nlc3M9ZnVuY3Rpb24oZSxuKXtpZih0LmdldExvZygpLndhcm4oIlRoaXMgQVBJIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIHJlbGVhc2UiKSwhdC5pc0ZyYW1lZCgpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgcj17aGVhZGVyczp7IlgtQW16LUJlYXJlciI6ZX19LG89bnVsbDtyZXR1cm4gbz1ufHwodC5jb3JlLmlzTGVnYWN5RG9tYWluKCk/Ii9jb25uZWN0L3doaXRlbGlzdGVkLW9yaWdpbnMiOiIvd2hpdGVsaXN0ZWQtb3JpZ2lucyIpLHQuZmV0Y2gobyxyLDJlMyw1KS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1BKHdpbmRvdy5kb2N1bWVudC5yZWZlcnJlcik7cmV0dXJuIGUud2hpdGVsaXN0ZWRPcmlnaW5zLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0PT09QShlKX0pKT9Qcm9taXNlLnJlc29sdmUoKTpQcm9taXNlLnJlamVjdCgpfSkpfSx0LmNvcmUuaXNMZWdhY3lEb21haW49ZnVuY3Rpb24oZSl7cmV0dXJuKGU9ZXx8d2luZG93LmxvY2F0aW9uLmhyZWYpLmluY2x1ZGVzKCIuYXdzYXBwcy5jb20iKX0sdC5jb3JlLmluaXRTaGFyZWRXb3JrZXI9ZnVuY3Rpb24obil7aWYodC5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQoKSwhdC5jb3JlLmluaXRpYWxpemVkKXt0LmFzc2VydE5vdE51bGwobiwicGFyYW1zIik7dmFyIHI9dC5hc3NlcnROb3ROdWxsKG4uc2hhcmVkV29ya2VyVXJsLCJwYXJhbXMuc2hhcmVkV29ya2VyVXJsIiksbz10LmFzc2VydE5vdE51bGwobi5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxpPXQuYXNzZXJ0Tm90TnVsbChuLnJlZnJlc2hUb2tlbiwicGFyYW1zLnJlZnJlc2hUb2tlbiIpLGE9dC5hc3NlcnROb3ROdWxsKG4uYXV0aFRva2VuRXhwaXJhdGlvbiwicGFyYW1zLmF1dGhUb2tlbkV4cGlyYXRpb24iKSxzPXQuYXNzZXJ0Tm90TnVsbChuLnJlZ2lvbiwicGFyYW1zLnJlZ2lvbiIpLGM9bi5lbmRwb2ludHx8bnVsbCx1PW4uYXV0aG9yaXplRW5kcG9pbnQ7dXx8KHU9dC5jb3JlLmlzTGVnYWN5RG9tYWluKCk/aDpkKTt2YXIgbD1uLmFnZW50QXBwRW5kcG9pbnR8fG51bGwscD1uLnRhc2tUZW1wbGF0ZXNFbmRwb2ludHx8bnVsbCxmPW4uYXV0aENvb2tpZU5hbWV8fG51bGw7dHJ5e3QuY29yZS5ldmVudEJ1cz1uZXcgdC5FdmVudEJ1cyh7bG9nRXZlbnRzOiEwfSksdC5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW5ldyBEKHQuY29yZS5nZXRFdmVudEJ1cygpKSx0LmNvcmUubWVkaWFGYWN0b3J5PW5ldyB0Lk1lZGlhRmFjdG9yeShuKTt2YXIgZz1uZXcgU2hhcmVkV29ya2VyKHIsIkNvbm5lY3RTaGFyZWRXb3JrZXIiKSxtPW5ldyB0LkNvbmR1aXQoIkNvbm5lY3RTaGFyZWRXb3JrZXJDb25kdWl0IixuZXcgdC5Qb3J0U3RyZWFtKGcucG9ydCksbmV3IHQuV2luZG93SU9TdHJlYW0od2luZG93LHBhcmVudCkpO3QuY29yZS51cHN0cmVhbT1tLHQuY29yZS53ZWJTb2NrZXRQcm92aWRlcj1uZXcgeCx0LmNvcmUubGlzdGVuRm9yQWNnclZhbGlkYXRpb24obSksZS5vbnVubG9hZD1mdW5jdGlvbigpe20uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNMT1NFKSxnLnBvcnQuY2xvc2UoKX0sdC5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtTG9nUHVzaChtKSx0LmdldExvZygpLnNjaGVkdWxlRG93bnN0cmVhbUNsaWVudFNpZGVMb2dzUHVzaCgpLG0ub25BbGxVcHN0cmVhbSh0LmNvcmUuZ2V0RXZlbnRCdXMoKS5icmlkZ2UoKSksbS5vbkFsbFVwc3RyZWFtKG0ucGFzc0Rvd25zdHJlYW0oKSksdC5pc0ZyYW1lZCgpJiYobS5vbkFsbERvd25zdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLG0ub25BbGxEb3duc3RyZWFtKChmdW5jdGlvbihlLG4pe249PT10LkV2ZW50VHlwZS5BUElfUkVRVUVTVCYmdC5jb250YWluc1ZhbHVlKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLG51bGw9PWU/dm9pZCAwOmUubWV0aG9kKT90LmNvcmUuaGFuZGxlQXBpUHJveHlSZXF1ZXN0KGUpOm0ucGFzc1Vwc3RyZWFtKCkoZSxuKX0pKSksbS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQ09ORklHVVJFLHthdXRoVG9rZW46byxhdXRoVG9rZW5FeHBpcmF0aW9uOmEsZW5kcG9pbnQ6YyxyZWZyZXNoVG9rZW46aSxyZWdpb246cyxhdXRob3JpemVFbmRwb2ludDp1LGFnZW50QXBwRW5kcG9pbnQ6bCx0YXNrVGVtcGxhdGVzRW5kcG9pbnQ6cCxhdXRoQ29va2llTmFtZTpmLGxvbmdQb2xsaW5nT3B0aW9uczpuLmxvbmdQb2xsaW5nT3B0aW9uc3x8dm9pZCAwfSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ29ubmVjdFNoYXJlZFdvcmtlciEiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5pbml0aWFsaXplZD0hMCx0LmNvcmUuX3NldFRhYklkKCksdC5jb3JlLnBvcnRTdHJlYW1JZD1lLmlkLHRoaXMudW5zdWJzY3JpYmUoKX0pKSxtLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXtlLmxvZ2dlcklkIT09dC5nZXRMb2coKS5nZXRMb2dnZXJJZCgpJiZ0LmdldExvZygpLmFkZExvZ0VudHJ5KHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuc2VuZEludGVybmFsTG9nRW50cnlUb1NlcnZlcih0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG0ub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csKGZ1bmN0aW9uKGUpe3QuaXNGcmFtZWQoKSYmQXJyYXkuaXNBcnJheShlKSYmZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXIodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKX0pKSxtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5MT0csKGZ1bmN0aW9uKGUpe3QuaXNGcmFtZWQoKSYmZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5vbkF1dGhGYWlsKHQuaGl0Y2godC5jb3JlLHQuY29yZS5faGFuZGxlQXV0aEZhaWwsbi5sb2dpbkVuZHBvaW50fHxudWxsLHUpKSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzKHQuaGl0Y2godC5jb3JlLHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2VzcykpLHQuZ2V0TG9nKCkuaW5mbygiVXNlciBBZ2VudDogIituYXZpZ2F0b3IudXNlckFnZW50KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiaXNDQ1B2MjogIishMCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oImlzRnJhbWVkOiAiK3QuaXNGcmFtZWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUudXBzdHJlYW0ub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTywoZnVuY3Rpb24oZSl7dmFyIG49ZS5zdHJlYW1zVmVyc2lvbnx8bnVsbDt0LmdldExvZygpLmluZm8oIlN0cmVhbXNKUyBWZXJzaW9uOiAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5vdXRlckNvbnRleHRTdHJlYW1zVmVyc2lvbj1ufSkpLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiTnVtYmVyIG9mIGNvbm5lY3RlZCBDQ1BzIHVwZGF0ZWQ6ICIrZS5sZW5ndGgpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5udW1iZXJPZkNvbm5lY3RlZENDUHM9ZS5sZW5ndGgsZVt0LmNvcmUudGFiSWRdJiYhaXNOYU4oZVt0LmNvcmUudGFiSWRdLmxlbmd0aCkmJnQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiIT09ZVt0LmNvcmUudGFiSWRdLmxlbmd0aCYmKHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPWVbdC5jb3JlLnRhYklkXS5sZW5ndGgsdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWI+MSYmdC5nZXRMb2coKS53YXJuKCJUaGVyZSBhcmUgIit0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYisiIGNvbm5lY3RlZCBDQ1BzIGluIHRoaXMgdGFiLiBQbGVhc2UgYWRqdXN0IHlvdXIgaW1wbGVtZW50YXRpb24gdG8gYXZvaWQgY29tcGxpY2F0aW9ucy4gSWYgeW91IGFyZSBlbWJlZGRpbmcgQ0NQLCBwbGVhc2UgZG8gc28gZXhjbHVzaXZlbHkgd2l0aCBpbml0Q0NQLiBJbml0Q0NQIHdpbGwgbm90IGxldCB5b3UgZW1iZWQgbW9yZSB0aGFuIG9uZSBDQ1AuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNvbm5lY3RlZENDUFNpbmdsZVRhYkNvdW50IixkYXRhOntjb3VudDp0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYn19KSksZS50YWJJZCYmZS5zdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXImJnQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuTUVUUklDUywoZnVuY3Rpb24oKXtyZXR1cm4gdC5hZ2VudCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDQ1BUYWJzQWNyb3NzQnJvd3NlckNvdW50IixkYXRhOnt0YWJJZDplLnRhYklkLGNvdW50OmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyfX0pfSkpfSkpfSkpLHQuY29yZS5jbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0Q2xpZW50KG0pLHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KG0pLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEUsbS5wYXNzVXBzdHJlYW0oKSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLnJlbG9hZCghMCl9KSksZy5wb3J0LnN0YXJ0KCksbS5vblVwc3RyZWFtKHQuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELChmdW5jdGlvbihlKXtlJiZlLmRvbWFpbklkJiYodC5jb3JlLnZvaWNlSWREb21haW5JZD1lLmRvbWFpbklkKX0pKSx0LmFnZW50KChmdW5jdGlvbigpeyhuZXcgdC5Wb2ljZUlkKS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygidm9pY2VJZCBkb21haW5JZCBzdWNjZXNzZnVsbHkgZmV0Y2hlZCBhdCBhZ2VudCBpbml0aWFsaXphdGlvbjogIitlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInZvaWNlSWQgZG9tYWluSWQgbm90IGZldGNoZWQgYXQgYWdlbnQgaW5pdGlhbGl6YXRpb24iKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSksdC5jb3JlLmdldE5vdGlmaWNhdGlvbk1hbmFnZXIoKS5yZXF1ZXN0UGVybWlzc2lvbigpLG0ub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RJU0FTVEVSX1JFQ09WRVJZLChmdW5jdGlvbihlKXt0LmNvcmUuaW5pdERpc2FzdGVyUmVjb3ZlcnkoZSl9KSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIEFQSSBzaGFyZWQgd29ya2VyLCB3ZSdyZSBkZWFkISIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19fSx0LmNvcmUuX3NldFRhYklkPWZ1bmN0aW9uKCl7dHJ5e3QuY29yZS50YWJJZD13aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5UQUJfSUQpLHQuY29yZS50YWJJZHx8KHQuY29yZS50YWJJZD10LnJhbmRvbUlkKCksd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuVEFCX0lELHQuY29yZS50YWJJZCkpLHQuY29yZS51cHN0cmVhbS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuVEFCX0lELHt0YWJJZDp0LmNvcmUudGFiSWR9KX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbVGFiIElkXSBUaGVyZSB3YXMgYW4gaXNzdWUgc2V0dGluZyB0aGUgdGFiIElkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLnNldHVwQXV0aGVudGljYXRpb25FdmVudEhhbmRsZXJzPWZ1bmN0aW9uKGUsbixvKXt2YXIgaTt0LmNvcmUubG9naW5BY2tUaW1lb3V0U3ViPXQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5hdXRoZW50aWNhdGUoZSxuLG8pfSkpLG51bGwhPT0oaT1lLmxvZ2luT3B0aW9ucykmJnZvaWQgMCE9PWkmJmkuZGlzYWJsZUF1dGhQb3B1cEFmdGVyTG9nb3V0fHwodC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS53YXJuKCJURVJNSU5BVEVEIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBpPWUuY2NwQWNrVGltZW91dHx8cjtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5hdXRoZW50aWNhdGUoZSxuLG8pfSksaSl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFVVEhfRkFJTCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgaT1lLmNjcEFja1RpbWVvdXR8fHI7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuYXV0aGVudGljYXRlKGUsbixvKX0pLGkpfSkpKX0sdC5jb3JlLmluaXRDQ1A9ZnVuY3Rpb24obyxpKXt2YXIgYSxjO2lmKHQuY29yZS5jaGVja05vdEluaXRpYWxpemVkKCksIXQuY29yZS5pbml0aWFsaXplZCl7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHU9RGF0ZS5ub3coKTt0cnl7aWYodC5jb3JlLl9nZXRDQ1BJZnJhbWUoKSlyZXR1cm4gdm9pZCB0LmdldExvZygpLmVycm9yKCJBdHRlbXB0ZWQgdG8gY2FsbCBpbml0Q0NQIHdoZW4gYW4gaWZyYW1lIGdlbmVyYXRlZCBieSBpbml0Q0NQIGFscmVhZHkgZXhpc3RzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGlsZSBjaGVja2luZyBpZiBpbml0Q0NQIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXZhciBsPXt9LHA9dm9pZCAwLGQ9dm9pZCAwO2lmKCJzdHJpbmciPT10eXBlb2YgaT9sLmNjcFVybD1pOigobD1pKS5wcm92aWRlciYmKHA9bC5wcm92aWRlcixkZWxldGUgbC5wcm92aWRlciksbC5wbHVnaW5zJiYoZD1sLnBsdWdpbnMsZGVsZXRlIGwucGx1Z2lucykpLHQuaW5pdENDUFBhcmFtcz1sLHQuY29udGFpbmVyRGl2PW8sdC5hc3NlcnROb3ROdWxsKG8sImNvbnRhaW5lckRpdiIpLHQuYXNzZXJ0Tm90TnVsbChsLmNjcFVybCwicGFyYW1zLmNjcFVybCIpLHApdHJ5e3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT17cHJvdmlkZXI6cCxpc1N0cmVhbXNQcm92aWRlcjohMX0sdC5nZXRMb2coKS5pbmZvKCJVc2luZyBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZCxwcm92aWRlclR5cGU6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLmNvbnN0cnVjdG9yLm5hbWV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIHdoZW4gc2V0dGluZyB1cCBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSB0cnl7dmFyIGgsZixtPW4oMjc1KSx5PW0uQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlLEU9bS5BbWF6b25Db25uZWN0R1JTdHJlYW1zU2l0ZSxDPW5ldyBVUkwobC5jY3BVcmwpLm9yaWdpbjtpZighMD09PShudWxsPT09KGg9bCl8fHZvaWQgMD09PWg/dm9pZCAwOmguZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSkmJm51bGwhPT0oZj1sKSYmdm9pZCAwIT09ZiYmZi5zZWNvbmRhcnlDQ1BVcmwpe3ZhciBJPXtwcmltYXJ5SW5zdGFuY2VVcmw6QyxzZWNvbmRhcnlJbnN0YW5jZVVybDpuZXcgVVJMKGwuc2Vjb25kYXJ5Q0NQVXJsKS5vcmlnaW59O3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT1zKHMoe30sRS5pbml0KEkpKSx7fSx7aXNTdHJlYW1zUHJvdmlkZXI6ITAsaXNBQ0dSRW5hYmxlZDohMH0pLHQuZ2V0TG9nKCkuaW5mbygiW0dSXSBDcmVhdGVkIEFtYXpvbkNvbm5lY3RHUlN0cmVhbXNTaXRlIikud2l0aE9iamVjdCh7cHJvdmlkZXJJZDp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuaWR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2UgST17aW5zdGFuY2VVcmw6Q30sdC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhPXMocyh7fSx5LmluaXQoSSkpLHt9LHtpc1N0cmVhbXNQcm92aWRlcjohMH0pLHQuZ2V0TG9nKCkuaW5mbygiQ3JlYXRlZCBBbWF6b25Db25uZWN0U3RyZWFtc1NpdGUiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHVwIEFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pZihkKXRyeXsoZD1BcnJheS5pc0FycmF5KGQpP2Q6W2RdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQoZSl9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyKSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHBsdWdpbnMgZm9yIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXQuY29yZS5pZnJhbWVTdHlsZT1sLnN0eWxlfHwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiLG51bGwhPT0oYT1sLnNvZnRwaG9uZSkmJnZvaWQgMCE9PWEmJmEuZGlzYWJsZVN0b3JpbmdQYXJhbXNJbkxvY2FsU3RvcmFnZXx8KFQuY2xlYW4oKSx3LmNsZWFuKCkpO3ZhciBBLF8sTCxPLGs9bnVsbDtpZighMD09PShudWxsPT09KGM9bCl8fHZvaWQgMD09PWM/dm9pZCAwOmMuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSkpaWYoInN0cmluZyIhPXR5cGVvZihudWxsPT09KEE9bCl8fHZvaWQgMD09PUE/dm9pZCAwOkEuc2Vjb25kYXJ5Q0NQVXJsKXx8IiI9PT0obnVsbD09PShfPWwpfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLnNlY29uZGFyeUNDUFVybCkpe3ZhciBOPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBzZWNvbmRhcnlDQ1BVcmwgd2FzIG5vdCBwcm92aWRlZC4gR2xvYmFsIFJlc2lsaWVuY3kgd2lsbCBub3QgYmUgZW5hYmxlZCI7dC5nZXRMb2coKS5lcnJvcihOKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGs9e2V2ZW50OnQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfRVJST1IsZGF0YTpuZXcgRXJyb3IoTil9fWVsc2V7aWYoInN0cmluZyI9PXR5cGVvZihudWxsPT09KEw9bCl8fHZvaWQgMD09PUw/dm9pZCAwOkwubG9naW5VcmwpJiYiIiE9PShudWxsPT09KE89bCl8fHZvaWQgMD09PU8/dm9pZCAwOk8ubG9naW5VcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCBhbmQgc2Vjb25kYXJ5Q0NQVXJsIGFuZCBsb2dpblVybCB3YXMgcHJvdmlkZWQuIEdsb2JhbCBSZXNpbGllbmN5IHdpbGwgYmUgZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nbG9iYWxSZXNpbGllbmN5LmluaXRHUkNDUChvLGkpO3ZhciBNPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBsb2dpblVybCB3YXMgbm90IHByb3ZpZGVkLiBHbG9iYWwgUmVzaWxpZW5jeSB3aWxsIG5vdCBiZSBlbmFibGVkIjt0LmdldExvZygpLmVycm9yKE0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaz17ZXZlbnQ6dC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixkYXRhOm5ldyBFcnJvcihNKX19dC5zdG9yYWdlQWNjZXNzLmluaXQobC5jY3BVcmwsbyxsLnN0b3JhZ2VBY2Nlc3N8fHt9KTt2YXIgVT10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShvLGwpLEY9bmV3IHQuSUZyYW1lQ29uZHVpdChsLmNjcFVybCx3aW5kb3csVSk7dC5jb3JlLnVwc3RyZWFtPUYsdC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpP3Quc3RvcmFnZUFjY2Vzcy5zZXR1cFJlcXVlc3RIYW5kbGVycyh7b25HcmFudDpqfSk6aigpfWZ1bmN0aW9uIGooKXt0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IEQodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KGwpLHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoVSxGKSx0LmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IHgsRi5vbkFsbFVwc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlcj1uZXcgUChGLHQuY29yZS5nZXRFdmVudEJ1cygpLGwuY2NwU3luVGltZW91dHx8MWUzLGwuY2NwQWNrVGltZW91dHx8ciksdC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0PW51bGwsdC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCksdC5nZXRMb2coKS5pbmZvKCJDQ1AgTG9hZFRpbWVvdXQgdHJpZ2dlcmVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLGwuY2NwTG9hZFRpbWVvdXR8fDVlMyksRi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXt2YXIgcjt0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ0NQISIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRDbGllbnQoRiksdC5jb3JlLm1hc3RlckNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoRiksdC5jb3JlLnBvcnRTdHJlYW1JZD1uLmlkLHQuY29yZS5sb2dpbkFja1RpbWVvdXRTdWImJm51bGwhPT0ocj1sLmxvZ2luT3B0aW9ucykmJnZvaWQgMCE9PXImJnIuZGlzYWJsZUF1dGhQb3B1cEFmdGVyTG9nb3V0JiYodC5jb3JlLmxvZ2luQWNrVGltZW91dFN1Yi51bnN1YnNjcmliZSgpLHQuY29yZS5sb2dpbkFja1RpbWVvdXRTdWI9bnVsbCx0LmdldExvZygpLmluZm8oIkFDS19USU1FT1VUIHN1YnNjcmlwdGlvbiB1bnN1YnNjcmliZWQgYWZ0ZXIgcmVjZWl2aW5nIEFDS05PV0xFREdFIGR1ZSB0byBkaXNhYmxlQXV0aFBvcHVwQWZ0ZXJMb2dvdXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSx0LmNvcmUuc2VuZENvbmZpZ3VyZShsLEYsITEpLHQuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0KGwsRiwhMSksbC5kaXNhc3RlclJlY292ZXJ5T24mJih0LmNvcmUucmVnaW9uPWwucmVnaW9uLHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzPVIsdC5jb3JlLmZvcmNlT2ZmbGluZT1mdW5jdGlvbihlKXtGLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU0VUX09GRkxJTkUsZSl9LEYuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RJU0FTVEVSX1JFQ09WRVJZLGwpKSx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSYmKGUuY2xlYXJUaW1lb3V0KHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlKSx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsKSxGLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8se3N0cmVhbXNWZXJzaW9uOnQudmVyc2lvbn0pO3ZhciBvPShsLmxvZ2luT3B0aW9uc3x8e30pLmVuYWJsZUFja1RpbWVvdXQ7aWYobyYmdC5jb3JlLmtlZXBhbGl2ZU1hbmFnZXIuZW5hYmxlQWNrVGltZW91dChvKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHRoaXMudW5zdWJzY3JpYmUoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5JTklUKSxrJiZ0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKGsuZXZlbnQsay5kYXRhKSx1KXt2YXIgaT1EYXRlLm5vdygpLXUsYT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KGkpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoYSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZyxkYXRhOntjb3VudDphfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpiLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50Oml9fSksbC5kaXNhc3RlclJlY292ZXJ5T24mJih0LnB1Ymxpc2hNZXRyaWMoe25hbWU6dixkYXRhOntjb3VudDphfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpTLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWVEciIsZGF0YTp7Y291bnQ6aX19KSksdT1udWxsfSksMWUzKX19KSksRi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5zZXR1cEF1dGhlbnRpY2F0aW9uRXZlbnRIYW5kbGVycyhsLG8sRiksbC5vblZpZXdDb250YWN0JiZ0LmNvcmUub25WaWV3Q29udGFjdChsLm9uVmlld0NvbnRhY3QpLEYub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLEYub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oKXtpZih1KXt2YXIgZT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTt0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLXUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOmcsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6YixkYXRhOntjb3VudDowfX0pLGwuZGlzYXN0ZXJSZWNvdmVyeU9uJiYodC5wdWJsaXNoTWV0cmljKHtuYW1lOnYsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6UyxkYXRhOntjb3VudDowfX0pKSx1PW51bGx9fSkpLHQuY29yZS5zb2Z0cGhvbmVQYXJhbXM9bC5zb2Z0cGhvbmV9fSx0LmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrPWZ1bmN0aW9uKGUsbil7dmFyIHI9ImNvbm5lY3QtbG9naW4tcG9wdXAtbG9jayIrZTt0cnl7bmF2aWdhdG9yLmxvY2tzLnJlcXVlc3Qocix7bW9kZToiZXhjbHVzaXZlIixpZkF2YWlsYWJsZTohMH0sZnVuY3Rpb24oKXt2YXIgcixhPShyPW8oKS5tYXJrKChmdW5jdGlvbiByKGkpe3ZhciBhO3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6aWYoaSl7ci5uZXh0PTM7YnJlYWt9cmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiUG9wdXAgYWxyZWFkeSBvcGVuZWQgYnkgYW5vdGhlciB0YWIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmFicnVwdCgicmV0dXJuIik7Y2FzZSAzOnQuZ2V0TG9nKCkuaW5mbygiT3BlbmluZyBwb3B1cCB3aW5kb3cgd2l0aCB3ZWJsb2NrLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmxvZ2luV2luZG93PXQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5vcGVuKGUsdC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVAsbiksdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrPSEwLGE9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIGU7KCF0LmNvcmUubG9naW5XaW5kb3d8fG51bGwhPT0oZT10LmNvcmUubG9naW5XaW5kb3cpJiZ2b2lkIDAhPT1lJiZlLmNsb3NlZCkmJihjbGVhckludGVydmFsKGEpLHQuY29yZS5fc2hvdWxkSG9sZFBvcHVwTG9jaz0hMSx0LmdldExvZygpLmluZm8oIkNsZWFyZWQgY2hlY2sgcG9wdXAgaW50ZXJ2YWwuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSwxZTMpO2Nhc2UgNzppZighdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrKXtyLm5leHQ9MTI7YnJlYWt9cmV0dXJuIHIubmV4dD0xMCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSwxZTMpfSkpO2Nhc2UgMTA6ci5uZXh0PTc7YnJlYWs7Y2FzZSAxMjp0LmdldExvZygpLmluZm8oIlJlbGVhc2luZyB3ZWJsb2NrIGZvciBvcGVuaW5nIGxvZ2luIHBvcHVwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sbyl7dmFyIGE9ci5hcHBseShlLHQpO2Z1bmN0aW9uIHMoZSl7aShhLG4sbyxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7aShhLG4sbyxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9Y2F0Y2gocil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIHVzZSB3ZWJsb2NrIHRvIG9wZW4gcG9wdXAuIFlvdXIgYnJvd3NlciBtYXkgYmUgb3V0IG9mIGRhdGUuIikud2l0aEV4Y2VwdGlvbihyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5sb2dpbldpbmRvd3x8KHQuY29yZS5sb2dpbldpbmRvdz10LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkub3BlbihlLHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQLG4pKX19LHQuY29yZS5vbklmcmFtZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JRlJBTUVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dD1mdW5jdGlvbihuLHIsbyxpKXt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChyLCJjb250YWluZXJEaXYiKTt2YXIgYT1vfHx0LmNvcmUscz1uLmNjcExvYWRUaW1lb3V0P24uY2NwTG9hZFRpbWVvdXQ6bi5kaXNhc3RlclJlY292ZXJ5T24/MWU0OjVlMztlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxhLmlmcmFtZVJlZnJlc2hUaW1lb3V0PWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmlmcmFtZVJlZnJlc2hBdHRlbXB0PShhLmlmcmFtZVJlZnJlc2hBdHRlbXB0fHwwKSsxLGEuaWZyYW1lUmVmcmVzaEF0dGVtcHQ8PTEwPyh0LmdldExvZygpLmluZm8oIlJlZnJlc2hpbmcgdGhlIENDUCBJRnJhbWUgZm9yICIuY29uY2F0KG4uY2NwVXJsLCIgb24gYXR0ZW1wdCAiKS5jb25jYXQoYS5pZnJhbWVSZWZyZXNoQXR0ZW1wdCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lKHIsbixpKSx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQobixyLG8saSkpOih0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCxpKSxlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSl9KSxzKX0sdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixyKXt0cnl7dmFyIG89dC5jb3JlLl9nZXRDQ1BJZnJhbWUociksaT1udWxsO28mJihpPW8uc3R5bGUsby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKTt2YXIgYT10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4scik7aSYmKGEuc3R5bGU9aS5jc3NUZXh0KSx0LmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2YgdC5HUlByb3h5SWZyYW1lQ29uZHVpdD90LmNvcmUudXBzdHJlYW0uZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlmcmFtZS5kYXRhc2V0LmlkZW50aWZpZXI9PT1yJiYoZS51cHN0cmVhbS5vdXRwdXQ9YS5jb250ZW50V2luZG93LGUuaWZyYW1lPWEpfSkpOnQuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtLm91dHB1dD1hLmNvbnRlbnRXaW5kb3csdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShhLHQuY29yZS51cHN0cmVhbSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgZm9yLCBhbmQgcmVjcmVhdGluZywgdGhlIENDUCBJRnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX2dldENDUElmcmFtZT1mdW5jdGlvbihlKXt2YXIgdCxuPXUod2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSk7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXt2YXIgcixvPXQudmFsdWU7aWYoby5uYW1lPT09YSYmKCFlfHwobnVsbD09PShyPW8uZGF0YXNldCl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWRlbnRpZmllcik9PT1lKSlyZXR1cm4gb319Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG51bGx9LHQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixyKXt2YXIgbzt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChlLCJjb250YWluZXJEaXYiKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtpZihpLnNyYz1uLmNjcFVybCxpLmFsbG93PSJtaWNyb3Bob25lOyBjYW1lcmE7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGlkZW50aXR5LWNyZWRlbnRpYWxzLWdldCIsaS5zdHlsZT1uLnN0eWxlfHx0LmNvcmUuaWZyYW1lU3R5bGUsaS50aXRsZT1uLmlmcmFtZVRpdGxlfHxhLGkubmFtZT1hLHImJihpLmRhdGFzZXQuaWRlbnRpZmllcj1yKSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpJiYoaS5zcmM9dC5zdG9yYWdlQWNjZXNzLmdldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsKCksaS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0LnN0b3JhZ2VBY2Nlc3MucmVxdWVzdCkpLG51bGwhPT0obz10LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpJiZ2b2lkIDAhPT1vJiZvLmlzU3RyZWFtc1Byb3ZpZGVyKXRyeXt2YXIgcztudWxsIT09KHM9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKSYmdm9pZCAwIT09cyYmcy5pc0FDR1JFbmFibGVkP3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5zZXRDQ1BJZnJhbWUoe2lmcmFtZTppLHJlZ2lvbjpuLmdsb2JhbFJlc2lsaWVuY3lSZWdpb259KTp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuc2V0Q0NQSWZyYW1lKGkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoZW4gc2V0dGluZyBDQ1AgaWZyYW1lIHRvIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiBlLmFwcGVuZENoaWxkKGkpLGl9LHQuY29yZS5faGlkZUlmcmFtZT1mdW5jdGlvbihlKXtlLnN0eWxlPXQuY29yZS5pZnJhbWVTdHlsZSsiZGlzcGxheTogbm9uZTsifSx0LmNvcmUuX3Nob3dJZnJhbWU9ZnVuY3Rpb24oZSl7ZS5zdHlsZT10LmNvcmUuaWZyYW1lU3R5bGV9LHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWU9ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwiaWZyYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImNvbmR1aXQiKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciByPXtkaXNwbGF5OndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZGlzcGxheSxvZmZzZXRXaWR0aDplLm9mZnNldFdpZHRoLG9mZnNldEhlaWdodDplLm9mZnNldEhlaWdodCxjbGllbnRSZWN0c0xlbmd0aDplLmdldENsaWVudFJlY3RzKCkubGVuZ3RofTtuLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5JRlJBTUVfU1RZTEUscil9KSwxZTQpfSx0LmNvcmUucmVhdXRoZW50aWNhdGVBZnRlckxvZ291dD1mdW5jdGlvbigpe3ZhciBlO2lmKCF0LmluaXRDQ1BQYXJhbXN8fCF0LmNvbnRhaW5lckRpdnx8IXQuY29yZS51cHN0cmVhbSl0aHJvdyB0LmdldExvZygpLmVycm9yKCJDYW5ub3QgcmVmcmVzaCBDQ1AsIG1pc3NpbmcgaW5pdENDUFBhcmFtcywgY29udGFpbmVyIGRpdiwgYW5kIG9yIHVwc3RyZWFtIikud2l0aE9iamVjdCh7aW5pdENDUFBhcmFtczp0LmluaXRDQ1BQYXJhbXMsY29udGFpbmVyRGl2OnQuY29udGFpbmVyRGl2LHVwc3RyZWFtOnQuY29yZS51cHN0cmVhbX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKCJNaXNzaW5nIHBhcmFtZXRlcnMgdG8gcmVmcmVzaCBDQ1AgaWZyYW1lIik7aWYobnVsbCE9PShlPXQuaW5pdENDUFBhcmFtcykmJnZvaWQgMCE9PWUmJmUuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSl0aHJvdyB0LmdldExvZygpLmVycm9yKCJSZWZyZXNoIENDUCBkb2VzIG5vdCBzdXBwb3J0IEFDR1IgYXQgdGhlIG1vbWVudCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKCJOb3Qgc3VwcG9ydGVkIGluIEFDR1IgaW5zdGFuY2UiKTt0LmNvcmUuYXV0aGVudGljYXRlKHQuaW5pdENDUFBhcmFtcyx0LmNvbnRhaW5lckRpdix0LmNvcmUudXBzdHJlYW0pfSx0LmNvcmUuYXV0aGVudGljYXRlPWZ1bmN0aW9uKG4scixvKXtpZighMSE9PW4ubG9naW5Qb3B1cCl0cnl7dmFyIGk9ZnVuY3Rpb24obil7dmFyIHI9Imh0dHBzOi8vbGlseS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS90YXcvYXV0aC9jb2RlIjtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKHIpLG4ubG9naW5Vcmw/bi5sb2dpblVybDpuLmFsaWFzPyhsb2cud2FybigiVGhlIGBhbGlhc2AgcGFyYW0gaXMgZGVwcmVjYXRlZCBhbmQgc2hvdWxkIG5vdCBiZSBleHBlY3RlZCB0byBmdW5jdGlvbiBwcm9wZXJseS4gUGxlYXNlIHVzZSBgY2NwVXJsYCBvciBgbG9naW5VcmxgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FtYXpvbi1jb25uZWN0L2FtYXpvbi1jb25uZWN0LXN0cmVhbXMvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kI2Nvbm5lY3Rjb3JlaW5pdGNjcCBmb3IgdmFsaWQgcGFyYW1ldGVycy4iKSxjLnJlcGxhY2UoInthbGlhc30iLG4uYWxpYXMpLnJlcGxhY2UoIntjbGllbnRfaWR9IixsKS5yZXBsYWNlKCJ7cmVkaXJlY3R9IixlLmVuY29kZVVSSUNvbXBvbmVudChyKSkpOm4uY2NwVXJsfShuKTt0LmdldExvZygpLndhcm4oIkF0dGVtcHRpbmcgdG8gcG9wIHRoZSBsb2dpbiBwYWdlIGlmIG5vdCBhbHJlYWR5IG9wZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmxvZ2luVXJsJiZ0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIodC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLHQuY29yZS5fb3BlblBvcHVwV2l0aExvY2soaSxuLmxvZ2luT3B0aW9ucyl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiVW5hYmxlIHRvIG9wZW4gdGhlIGxvZ2luIHBvcHVwLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pZihudWxsPT10LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e28ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksZS5jbGVhclRpbWVvdXQodC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSx0LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCx0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIodC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChuLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fG4ubG9naW5PcHRpb25zJiZuLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZ0LmNvcmUubG9naW5XaW5kb3cmJih0LmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSx0LmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSksdC5jb3JlLmlmcmFtZVJlZnJlc2hBdHRlbXB0PTAsdC5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KG4scil9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVyIGlzIG5vdCBpbml0aWFsaXplZCIpO3JldHVybntwcm92aWRlcjpudWxsPT09KGU9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm92aWRlcn19O3ZhciBQPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29uZHVpdD1lLHRoaXMuZXZlbnRCdXM9dCx0aGlzLnN5blRpbWVvdXQ9bix0aGlzLmFja1RpbWVvdXQ9cix0aGlzLmFja1RpbWVyPW51bGwsdGhpcy5zeW5UaW1lcj1udWxsLHRoaXMuYWNrU3ViPW51bGwsdGhpcy5fZW5hYmxlQWNrVGltZW91dD0hMX07UC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuY29uZHVpdC5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuU1lOQ0hST05JWkUpLHRoaXMuYWNrU3ViPXRoaXMuY29uZHVpdC5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbigpe3RoaXMudW5zdWJzY3JpYmUoKSxlLmNsZWFyVGltZW91dChuLmFja1RpbWVyKSxuLl9kZWZlclN0YXJ0KCl9KSksdGhpcy5hY2tUaW1lcj1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5hY2tTdWIudW5zdWJzY3JpYmUoKSx0LmlzQWN0aXZlQ29uZHVpdChuLmNvbmR1aXQpJiZuLl9lbmFibGVBY2tUaW1lb3V0Pyh0LmdldExvZygpLmluZm8oIkFDS19USU1FT1VUIGV2ZW50IGlzIGRldGVjdGVkIGZyb20gdGhlIEtlZXBhbGl2ZU1hbmFnZXIuICIuY29uY2F0KG4uY29uZHVpdC5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmV2ZW50QnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQpKTpuLl9lbmFibGVBY2tUaW1lb3V0JiZ0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIGV2ZW50IGlzIGRldGVjdGVkIGZyb20gdGhlIEtlZXBhbGl2ZU1hbmFnZXIgYnV0IHN1cHByZXNzZWQgYXMgaXQgaXMgZnJvbSBhbiBpbmFjdGl2ZSByZWdpb24uICIuY29uY2F0KG4uY29uZHVpdC5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLl9kZWZlclN0YXJ0KCl9KSx0aGlzLmFja1RpbWVvdXQpfSxQLnByb3RvdHlwZS5fZGVmZXJTdGFydD1mdW5jdGlvbigpe3RoaXMuc3luVGltZXI9ZS5zZXRUaW1lb3V0KHQuaGl0Y2godGhpcyx0aGlzLnN0YXJ0KSx0aGlzLnN5blRpbWVvdXQpfSxQLnByb3RvdHlwZS5kZWZlclN0YXJ0PWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5zeW5UaW1lciYmKHRoaXMuc3luVGltZXI9ZS5zZXRUaW1lb3V0KHQuaGl0Y2godGhpcyx0aGlzLnN0YXJ0KSx0aGlzLnN5blRpbWVvdXQpKX0sUC5wcm90b3R5cGUuZW5hYmxlQWNrVGltZW91dD1mdW5jdGlvbihlKXt0aGlzLl9lbmFibGVBY2tUaW1lb3V0PWV9O3ZhciB4PWZ1bmN0aW9uKCl7dmFyIGU9e2luaXRGYWlsdXJlOm5ldyBTZXQsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0LGRlZXBIZWFydGJlYXRTdWNjZXNzOm5ldyBTZXQsZGVlcEhlYXJ0YmVhdEZhaWx1cmU6bmV3IFNldCx0b3BpY0ZhaWx1cmU6bmV3IFNldH0sbj1mdW5jdGlvbihlLHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSh0KX0pKX07dC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkUsKGZ1bmN0aW9uKCl7bihlLmluaXRGYWlsdXJlKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fT1BFTiwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25PcGVuLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9DTE9TRSwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25DbG9zZSx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fR0FJTiwoZnVuY3Rpb24oKXtuKGUuY29ubmVjdGlvbkdhaW4pfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9MT1NULChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbkxvc3QsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fVVBEQVRFLChmdW5jdGlvbih0KXtuKGUuc3Vic2NyaXB0aW9uVXBkYXRlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX0ZBSUxVUkUsKGZ1bmN0aW9uKHQpe24oZS5zdWJzY3JpcHRpb25GYWlsdXJlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQUxMX01FU1NBR0UsKGZ1bmN0aW9uKHQpe24oZS5hbGxNZXNzYWdlLHQpLGUudG9waWMuaGFzKHQudG9waWMpJiZuKGUudG9waWMuZ2V0KHQudG9waWMpLHQpfSkpLHRoaXMuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNFTkQsZSl9LHRoaXMub25Jbml0RmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuaW5pdEZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5pdEZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25PcGVuPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uT3Blbi5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uT3Blbi5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbkNsb3NlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uQ2xvc2UuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkNsb3NlLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uR2Fpbj1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuY29ubmVjdGlvbkdhaW4uYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkdhaW4uZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uTG9zdC5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uTG9zdC5kZWxldGUobil9fSx0aGlzLm9uU3Vic2NyaXB0aW9uVXBkYXRlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5zdWJzY3JpcHRpb25VcGRhdGUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3Vic2NyaXB0aW9uVXBkYXRlLmRlbGV0ZShuKX19LHRoaXMub25TdWJzY3JpcHRpb25GYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5zdWJzY3JpcHRpb25GYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnN1YnNjcmlwdGlvbkZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5zdWJzY3JpYmVUb3BpY3M9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInRvcGljcyIpLHQuYXNzZXJ0VHJ1ZSh0LmlzQXJyYXkoZSksInRvcGljcyBtdXN0IGJlIGEgYXJyYXkiKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSUJFLGUpfSx0aGlzLm9uTWVzc2FnZT1mdW5jdGlvbihuLHIpe3JldHVybiB0LmFzc2VydE5vdE51bGwobiwidG9waWNOYW1lIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihyKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUudG9waWMuaGFzKG4pP2UudG9waWMuZ2V0KG4pLmFkZChyKTplLnRvcGljLnNldChuLG5ldyBTZXQoW3JdKSksZnVuY3Rpb24oKXtyZXR1cm4gZS50b3BpYy5nZXQobikuZGVsZXRlKHIpfX0sdGhpcy5vbkFsbE1lc3NhZ2U9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmFsbE1lc3NhZ2UuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWxsTWVzc2FnZS5kZWxldGUobil9fSx0aGlzLm9uRGVlcEhlYXJ0YmVhdFN1Y2Nlc3M9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmRlZXBIZWFydGJlYXRTdWNjZXNzLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmRlZXBIZWFydGJlYXRTdWNjZXNzLmRlbGV0ZShuKX19LHRoaXMub25EZWVwSGVhcnRiZWF0RmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuZGVlcEhlYXJ0YmVhdEZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVlcEhlYXJ0YmVhdEZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5vblRvcGljRmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUudG9waWNGYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnRvcGljRmFpbHVyZS5kZWxldGUobil9fX07dC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0PWZ1bmN0aW9uKGUpe3RyeXt0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIFJlbW92aW5nIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh7Y29udGFjdElkOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5kZWxldGUoZSksdC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBSZW1vdmVkIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh0LmNvcmUuZW5kZWRFdmVudFRyYWNrZXIuZW50cmllcygpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKG4pe3QuZ2V0TG9nKCkuZXJyb3IoIltDb250YWN0RXZlbnRdIEZhaWxlZCB0byByZW1vdmUgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZXx8InVua25vd24ifSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLl9oYW5kbGVFbmRlZEV2ZW50PWZ1bmN0aW9uKGUsbil7dHJ5e3QuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5oYXMoZSkmJkMuaW5jbHVkZXMobikmJih0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIEVOREVEIHdhcyB0cmlnZ2VyZWQiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0KGUpKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbQ29udGFjdEV2ZW50XSBGYWlsZWQgdG8gaGFuZGxlIHByb3BlciBFTkRFRCBldmVudCBiZWluZyB0cmlnZ2VyZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX3Nob3VsZFRyaWdnZXJJbnZhbGlkU3RhdGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGUpe2lmKHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5oYXMoZS5jb250YWN0SWQpKXRyeXtyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBDb250YWN0IGRpZCBub3QgdHJhbnNpdGlvbiB0byB0aGUgRU5ERUQgc3RhdGUgcHJpb3IgdG8gREVTVFJPWUVEIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5fcmVtb3ZlQ29udGFjdEZyb21FbmRlZFNldChlLmNvbnRhY3RJZCksITB9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW0NvbnRhY3RFdmVudF0gRmFpbGVkIHRvIGhhbmRsZSBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZXJyb3IgaGFuZGxpbmciKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuITF9LHQuY29yZS5nZXRMaWx5QWdlbnRDb25maWc9ZnVuY3Rpb24oKXt2YXIgZT10Ll9nZXRDb29raWUoImxpbHktYWdlbnQtY29uZmlnIik7aWYoIWV8fCIiPT09ZSlyZXR1cm4gdC5nZXRMb2coKS5kZWJ1ZygiW0dSXSBsaWx5QWdlbnRDb25maWcgQ29va2llIHdhcyBub3QgZm91bmQuIE5vIGZ1cnRoZXIgYWN0aW9uIHdpbGwgYmUgdGFrZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxudWxsO3QuZ2V0TG9nKCkuaW5mbygiW0dSXSBsaWx5QWdlbnRDb25maWcgQ29va2llIHdhcyBmb3VuZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49YXRvYihlKSxyPUpTT04ucGFyc2Uobik7aWYodC5faXNFbXB0eShyKSl0aHJvdyBuZXcgRXJyb3IoIltHUl0gTGlseSBhZ2VudCBjb25maWcgb2JqZWN0IHdhcyBlbXB0eSIpO3JldHVybiByfSx0LmNvcmUudmFsaWRhdGVHbG9iYWxTaWduaW49ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJbR1JdIFN0YXJ0aW5nIGdsb2JhbCBzaWduaW4gdmFsaWRhdGlvbiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dHJ5e2lmKCF0LmNvcmUuZ2V0TGlseUFnZW50Q29uZmlnKCkpcmV0dXJuIHQuZ2V0TG9nKCkuZXJyb3IoIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGZhaWxlZCAtIGF1dGhlbnRpY2F0aW9uIG5vdCBmb3VuZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZCBlLnNlbmREb3duc3RyZWFtKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5HTE9CQUxfU0lHTklOX0lOVkFMSUQse2Vycm9yVHlwZTp0Lkdsb2JhbFJlc2lsaWVuY3lDb25maWd1cmVFcnJvclR5cGUuTElMWV9BR0VOVF9DT05GSUdfTUlTU0lORyxlcnJvcjoiW0dSXSBHbG9iYWwgc2lnbmluIGF1dGhlbnRpY2F0aW9uIG5vdCBmb3VuZCJ9KTt0LmdldExvZygpLmluZm8oIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZW5kRG93bnN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuR0xPQkFMX1NJR05JTl9WQUxJRCx7bWVzc2FnZToiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHkifSl9Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcigiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gZmFpbGVkIC0gZXJyb3IgZHVyaW5nIHZhbGlkYXRpb24iKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZW5kRG93bnN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuR0xPQkFMX1NJR05JTl9JTlZBTElELHtlcnJvclR5cGU6dC5HbG9iYWxSZXNpbGllbmN5Q29uZmlndXJlRXJyb3JUeXBlLkxJTFlfQUdFTlRfQ09ORklHX1BBUlNFX0VSUk9SLGVycm9yOiJbR1JdIEVycm9yIHZhbGlkYXRpbmcgZ2xvYmFsIHNpZ25pbiBhdXRoZW50aWNhdGlvbiJ9KX19LHQuY29yZS5saXN0ZW5Gb3JBY2dyVmFsaWRhdGlvbj1mdW5jdGlvbihlKXt0LmNvcmUuX2FjZ3JWYWxpZGF0aW9uTGlzdGVuZXJSZWdpc3RlcmVkfHwodC5jb3JlLl9hY2dyVmFsaWRhdGlvbkxpc3RlbmVyUmVnaXN0ZXJlZD0hMCxlLm9uRG93bnN0cmVhbSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuVkFMSURBVEVfR0xPQkFMX1NJR05JTiwoZnVuY3Rpb24oKXt0LmNvcmUudmFsaWRhdGVHbG9iYWxTaWduaW4oZSl9KSksdC5nZXRMb2coKS5pbmZvKCJbR1JdIEFDR1IgZ2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGxpc3RlbmVyIHJlZ2lzdGVyZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07dmFyIEQ9ZnVuY3Rpb24oZSl7dGhpcy5idXM9ZSx0aGlzLmFnZW50VXBkYXRlU3Vic2NyaWJlcj10aGlzLmJ1cy5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5VUERBVEUsdC5oaXRjaCh0aGlzLHRoaXMudXBkYXRlQWdlbnREYXRhKSl9O0QucHJvdG90eXBlLnVwZGF0ZUFnZW50RGF0YT1mdW5jdGlvbihlKXt2YXIgbixyPXRoaXMuYWdlbnREYXRhO3RoaXMuYWdlbnREYXRhPWUsbnVsbCE9PShuPXQuYWdlbnQpJiZ2b2lkIDAhPT1uJiZuLmluaXRpYWxpemVkfHwodC5hZ2VudC5pbml0aWFsaXplZD0hMCx0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuSU5JVCxuZXcgdC5BZ2VudCkpLHRoaXMuYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5SRUZSRVNILG5ldyB0LkFnZW50KSx0aGlzLl9maXJlQWdlbnRVcGRhdGVFdmVudHMocil9LEQucHJvdG90eXBlLmdldEFnZW50RGF0YT1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuYWdlbnREYXRhKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIk5vIGFnZW50IGRhdGEgaXMgYXZhaWxhYmxlIHlldCEiKTtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LEQucHJvdG90eXBlLmdldENvbnRhY3REYXRhPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuZ2V0QWdlbnREYXRhKCkscj10LmZpbmQobi5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29udGFjdElkPT09ZX0pKTtpZihudWxsPT1yKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLGUpO3JldHVybiByfSxELnByb3RvdHlwZS5nZXRDb25uZWN0aW9uRGF0YT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuZ2V0Q29udGFjdERhdGEoZSksbz10LmZpbmQoci5jb25uZWN0aW9ucywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29ubmVjdGlvbklkPT09bn0pKTtpZihudWxsPT1vKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbm5lY3Rpb24gJXMgZm9yIGNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLG4sZSk7cmV0dXJuIG99LEQucHJvdG90eXBlLmdldEluc3RhbmNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBZ2VudERhdGEoKS5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQubWF0Y2goL2luc3RhbmNlXC8oWzAtOWEtZkEtRnwtXSspXC8vKVsxXX0sRC5wcm90b3R5cGUuZ2V0QVdTQWNjb3VudElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWdlbnREYXRhKCkuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkLm1hdGNoKC86KFswLTldKyk6aW5zdGFuY2UvKVsxXX0sRC5wcm90b3R5cGUuX2RpZmZDb250YWN0cz1mdW5jdGlvbihlKXt2YXIgbj17YWRkZWQ6e30scmVtb3ZlZDp7fSxjb21tb246e30sb2xkTWFwOnQuaW5kZXgobnVsbD09ZT9bXTplLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSksbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOjB9O3JldHVybiB0LmtleXMobi5vbGRNYXApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29udGFpbnMobi5uZXdNYXAsZSk/bi5jb21tb25bZV09bi5uZXdNYXBbZV06bi5yZW1vdmVkW2VdPW4ub2xkTWFwW2VdfSkpLHQua2V5cyhuLm5ld01hcCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5jb250YWlucyhuLm9sZE1hcCxlKXx8KG4uYWRkZWRbZV09bi5uZXdNYXBbZV0pfSkpLG4uZW5kVGltZT1wZXJmb3JtYW5jZS5ub3coKSxufSxELnByb3RvdHlwZS5fZmlyZUFnZW50VXBkYXRlRXZlbnRzPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj1udWxsLG89bnVsbD09ZT90LkFnZW50QXZhaWxTdGF0ZXMuSU5JVDplLnNuYXBzaG90LnN0YXRlLm5hbWUsaT10aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5zdGF0ZS5uYW1lLGE9bnVsbD09ZT90LkFnZW50U3RhdGVUeXBlLklOSVQ6ZS5zbmFwc2hvdC5zdGF0ZS50eXBlLHM9dGhpcy5hZ2VudERhdGEuc25hcHNob3Quc3RhdGUudHlwZTthIT09cyYmdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxhLHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSksbyE9PWkmJih0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLHthZ2VudDpuZXcgdC5BZ2VudCxvbGRTdGF0ZTpvLG5ld1N0YXRlOml9KSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxvLGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSkpO3ZhciBjPWUmJmUuc25hcHNob3QubmV4dFN0YXRlP2Uuc25hcHNob3QubmV4dFN0YXRlLm5hbWU6bnVsbCx1PXRoaXMuYWdlbnREYXRhLnNuYXBzaG90Lm5leHRTdGF0ZT90aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5uZXh0U3RhdGUubmFtZTpudWxsO2MhPT11JiZ1JiZuLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuRU5RVUVVRURfTkVYVF9TVEFURSxuZXcgdC5BZ2VudCkscj1udWxsIT09ZT90aGlzLl9kaWZmQ29udGFjdHMoZSk6e2FkZGVkOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxyZW1vdmVkOnt9LGNvbW1vbjp7fSxvbGRNYXA6e30sbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOnBlcmZvcm1hbmNlLm5vdygpfSx0LnZhbHVlcyhyLmFkZGVkKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5JTklULG5ldyB0LkNvbnRhY3QoZS5jb250YWN0SWQpKSxuLl9maXJlQ29udGFjdFVwZGF0ZUV2ZW50cyhlLmNvbnRhY3RJZCx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5JVCxlLnN0YXRlLnR5cGUpfSkpLHQudmFsdWVzKHIucmVtb3ZlZCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcih0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELG5ldyB0LkNvbnRhY3RTbmFwc2hvdChlKSksbi5idXMudHJpZ2dlcih0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELGUuY29udGFjdElkKSxuZXcgdC5Db250YWN0U25hcHNob3QoZSkpLG4uX3Vuc3ViQWxsQ29udGFjdEV2ZW50c0ZvckNvbnRhY3QoZS5jb250YWN0SWQpfSkpLHQua2V5cyhyLmNvbW1vbikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHMoZSxyLm9sZE1hcFtlXS5zdGF0ZS50eXBlLHIubmV3TWFwW2VdLnN0YXRlLnR5cGUpfSkpfSxELnByb3RvdHlwZS5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXM7biE9PXImJnQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaCgpLmdldEFzc29jaWF0aW9ucyh0aGlzLG4scikuZm9yRWFjaCgoZnVuY3Rpb24obil7by5idXMudHJpZ2dlcihuLG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUobixlKSxuZXcgdC5Db250YWN0KGUpKX0pKSxvLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5SRUZSRVNILG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gsZSksbmV3IHQuQ29udGFjdChlKSl9LEQucHJvdG90eXBlLl91bnN1YkFsbENvbnRhY3RFdmVudHNGb3JDb250YWN0PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dC52YWx1ZXModC5Db250YWN0RXZlbnRzKS5mb3JFYWNoKChmdW5jdGlvbihyKXtuLmJ1cy5nZXRTdWJzY3JpcHRpb25zKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHIsZSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS51bnN1YnNjcmliZSgpfSkpfSkpfSxELnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudFVwZGF0ZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKX0sdC5jb3JlLm9uVmlld0NvbnRhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuVklFVyxlKX0sdC5jb3JlLnZpZXdDb250YWN0PWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5WSUVXLGRhdGE6e2NvbnRhY3RJZDplfX0pfSx0LmNvcmUub25BY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZSl9LHQuY29yZS5hY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2YXIgYT17dmlld1R5cGU6ZSxtZWRpYVR5cGU6bn07ciYmKGEuc291cmNlPXIpLG8mJihhLmNhc2VJZD1vKSxhLmNsaWVudFRva2VuPWl8fHQucmFuZG9tSWQoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZGF0YTphfSl9LHQuY29yZS50cmlnZ2VyVGFza0NyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LlRhc2tFdmVudHMuQ1JFQVRFRCxlKX0sdC5jb3JlLnRyaWdnZXJFbWFpbENyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkVtYWlsRXZlbnRzLkNSRUFURUQsZSl9LHQuY29yZS5vbkFjY2Vzc0RlbmllZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFDQ0VTU19ERU5JRUQsZSl9LHQuY29yZS5vbkF1dGhGYWlsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSE9SSVpFX1NVQ0NFU1MsZSl9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbigpe3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCwwKX0sdC5jb3JlLl9oYW5kbGVBdXRoRmFpbD1mdW5jdGlvbihlLG4scil7ciYmci5hdXRob3JpemU/dC5jb3JlLl9oYW5kbGVBdXRob3JpemVGYWlsKGUpOnQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWwobil9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplRmFpbD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50KCk7aWYoIXQuY29yZS5hdXRob3JpemVUaW1lb3V0SWQpaWYobjx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTil7dC5jb3JlLl9pbmNyZW1lbnRBdXRoUmV0cnlDb3VudCgpO3ZhciByPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkobisxfHwwLHtiYXNlOjJlM30pO3QuY29yZS5hdXRob3JpemVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuX3JlZGlyZWN0VG9Mb2dpbihlKX0pLHIpfWVsc2UgdC5nZXRMb2coKS53YXJuKCJXZSBoYXZlIGV4aGF1c3RlZCBvdXIgYXV0aG9yaXphdGlvbiByZXRyaWVzIGR1ZSB0byA0MDFzIGZyb20gdGhlIGF1dGhvcml6ZSBhcGkuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCBpbiB0aGlzIHNlc3Npb24gdW50aWwgdGhlIGF1dGhvcml6ZSBhcGkgcmV0dXJucyAyMDAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LHQuY29yZS5fcmVkaXJlY3RUb0xvZ2luPWZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZT9sb2NhdGlvbi5hc3NpZ24oZSk6bG9jYXRpb24ucmVsb2FkKCl9LHQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWw9ZnVuY3Rpb24oZSl7aWYoIXQuY29yZS5jdGlUaW1lb3V0SWQpaWYodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQpe3QuY29yZS5jdGlBdXRoUmV0cnlDb3VudCsrO3ZhciBuPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50fHwwLHtiYXNlOjUwMH0pO3QuY29yZS5jdGlUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuYXV0aG9yaXplKGUpLnRoZW4odC5jb3JlLl90cmlnZ2VyQXV0aG9yaXplU3VjY2Vzcy5iaW5kKHQuY29yZSkpLmNhdGNoKHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsLmJpbmQodC5jb3JlLHthdXRob3JpemU6ITB9KSksdC5jb3JlLmN0aVRpbWVvdXRJZD1udWxsfSksbil9ZWxzZSB0LmdldExvZygpLndhcm4oIldlIGhhdmUgZXhoYXVzdGVkIG91ciBhdXRob3JpemF0aW9uIHJldHJpZXMgZHVlIHRvIDQwMXMgZnJvbSB0aGUgQ1RJIHNlcnZpY2UuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCB1bnRpbCB0aGUgcGFnZSBpcyByZWZyZXNoZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSx0LmNvcmUuX3RyaWdnZXJBdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkV2ZW50VHlwZS5BVVRIT1JJWkVfU1VDQ0VTUyl9LHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50PWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5UKTtpZihudWxsIT09ZSl7aWYoaXNOYU4ocGFyc2VJbnQoZSkpKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBzZXNzaW9uIHN0b3JhZ2UgdmFsdWUgZm9yIGF1dGggcmV0cnkgY291bnQgd2FzIE5hTiIpO3JldHVybiBwYXJzZUludChlKX1yZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5ULDApLDB9LHQuY29yZS5faW5jcmVtZW50QXV0aFJldHJ5Q291bnQ9ZnVuY3Rpb24oKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5BVVRIT1JJWkVfUkVUUllfQ09VTlQsKHQuY29yZS5fZ2V0QXV0aFJldHJ5Q291bnQoKSsxKS50b1N0cmluZygpKX0sdC5jb3JlLm9uQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCxlKX0sdC5jb3JlLm9uQ1RJQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5vblNvZnRwaG9uZVNlc3Npb25Jbml0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxlKX0sdC5jb3JlLm9uQ29uZmlndXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkNPTkZJR1VSRSxlKX0sdC5jb3JlLm9uSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JTklULGUpfSx0LmNvcmUuc2VuZENvbmZpZ3VyZT1mdW5jdGlvbihlLG4scil7aWYoZS5zb2Z0cGhvbmV8fGUuY2hhdHx8ZS50YXNrfHxlLnBhZ2VPcHRpb25zfHxlLnNob3VsZEFkZE5hbWVzcGFjZVRvTG9nc3x8ZS5kaXNhc3RlclJlY292ZXJ5T24pe3ZhciBvLGk9e3NvZnRwaG9uZTplLnNvZnRwaG9uZSxjaGF0OmUuY2hhdCx0YXNrOmUudGFzayxwYWdlT3B0aW9uczplLnBhZ2VPcHRpb25zLHNob3VsZEFkZE5hbWVzcGFjZVRvTG9nczplLnNob3VsZEFkZE5hbWVzcGFjZVRvTG9ncyxzaG93SW5hY3Rpdml0eU1vZGFsOm51bGw9PT0obz1lLnBhZ2VPcHRpb25zKXx8dm9pZCAwPT09bz92b2lkIDA6by5zaG93SW5hY3Rpdml0eU1vZGFsfTtyPyhpLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3k9ZS5lbmFibGVHbG9iYWxSZXNpbGllbmN5LGkuaW5zdGFuY2VTdGF0ZT10LmlzQWN0aXZlQ29uZHVpdChuKT8iYWN0aXZlIjoiaW5hY3RpdmUiKTppLmRpc2FzdGVyUmVjb3ZlcnlPbj1lLmRpc2FzdGVyUmVjb3ZlcnlPbixuLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsaSl9fSx0LmNvcmUubGlzdGVuRm9yQ29uZmlndXJlUmVxdWVzdD1mdW5jdGlvbihlLG4scil7bi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLlJFUVVFU1RfQ09ORklHVVJFLChmdW5jdGlvbigpe3QuY29yZS5zZW5kQ29uZmlndXJlKGUsbixyKX0pKX0sdC5jb3JlLmNoZWNrSWZDb25maWd1cmVSZWNlaXZlZD1mdW5jdGlvbihuKXt0LmlzRnJhbWVkKCkmJmUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuaGFzUmVjZWl2ZWRDUk1Db25maWd1cmV8fCh0LmdldExvZygpLndhcm4oIkNDUCBoYXMgbm90IHJlY2VpdmVkIGEgY29uZmlndXJlIG1lc3NhZ2UuIFNlbmRpbmcgcmVxdWVzdCB0byBDUk0gZm9yIGNvbmZpZ3VyYXRpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlJFUVVFU1RfQ09ORklHVVJFKSl9KSwxZTMpfSx0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZT1mdW5jdGlvbihlLG4pe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0LmFzc2VydE5vdE51bGwobiwiY29udGFjdElkIiksIXQuY29udGFpbnModC52YWx1ZXModC5Db250YWN0RXZlbnRzKSxlKSl0aHJvdyBuZXcgdC5WYWx1ZUVycm9yKCIlcyBpcyBub3QgYSB2YWxpZCBjb250YWN0IGV2ZW50LiIsZSk7cmV0dXJuIHQuc3ByaW50ZigiJXM6OiVzIixlLG4pfSx0LmNvcmUuZ2V0RXZlbnRCdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmV2ZW50QnVzfSx0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUud2ViU29ja2V0UHJvdmlkZXJ9LHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXJ9LHQuY29yZS5nZXRMb2NhbFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKS5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcH0sdC5jb3JlLmdldFNrZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCkuc25hcHNob3Quc2tld30sdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50Um91dGluZ0V2ZW50R3JhcGh9LHQuY29yZS5hZ2VudFJvdXRpbmdFdmVudEdyYXBoPShuZXcgdC5FdmVudEdyYXBoKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuUk9VVEFCTEUsdC5BZ2VudEV2ZW50cy5ST1VUQUJMRSkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLk5PVF9ST1VUQUJMRSx0LkFnZW50RXZlbnRzLk5PVF9ST1VUQUJMRSkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLk9GRkxJTkUsdC5BZ2VudEV2ZW50cy5PRkZMSU5FKSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50U3RhdGVFdmVudEdyYXBofSx0LmNvcmUuYWdlbnRTdGF0ZUV2ZW50R3JhcGg9KG5ldyB0LkV2ZW50R3JhcGgpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC52YWx1ZXModC5BZ2VudEVycm9yU3RhdGVzKSx0LkFnZW50RXZlbnRzLkVSUk9SKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRBdmFpbFN0YXRlcy5BRlRFUl9DQUxMX1dPUkssdC5BZ2VudEV2ZW50cy5BQ1cpLHQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuY29udGFjdEV2ZW50R3JhcGh9LHQuY29yZS5jb250YWN0RXZlbnRHcmFwaD0obmV3IHQuRXZlbnRHcmFwaCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0RXZlbnRzLklOQ09NSU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5QRU5ESU5HLHQuQ29udGFjdEV2ZW50cy5QRU5ESU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdEV2ZW50cy5DT05ORUNUSU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNURUQsdC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0U3RhdGVUeXBlLkVSUk9SLHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuRU5ERUQsdC5Db250YWN0RXZlbnRzLkFDVykuYXNzb2ModC52YWx1ZXModC5DT05UQUNUX0FDVElWRV9TVEFURVMpLHQudmFsdWVzKHQucmVsYXRpdmVDb21wbGVtZW50KHQuQ09OVEFDVF9BQ1RJVkVfU1RBVEVTLHQuQ29udGFjdFN0YXRlVHlwZSkpLHQuQ29udGFjdEV2ZW50cy5FTkRFRCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLkVSUk9SKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RTdGF0ZVR5cGUuTUlTU0VELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuTUlTU0VELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5SRUpFQ1RFRCx0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0U3RhdGVUeXBlLlJFSkVDVEVELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLHQuY29yZS5nZXRDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBjb3JlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmNsaWVudH0sdC5jb3JlLmNsaWVudD1udWxsLHQuY29yZS5nZXRBcGlQcm94eUNsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuYXBpUHJveHlDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgYXBpUHJveHkgQ2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmFwaVByb3h5Q2xpZW50fSx0LmNvcmUuYXBpUHJveHlDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0QWdlbnRBcHBDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmFnZW50QXBwQ2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IEFnZW50QXBwIENsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5hZ2VudEFwcENsaWVudH0sdC5jb3JlLmFnZW50QXBwQ2xpZW50PW51bGwsdC5jb3JlLmdldFRhc2tUZW1wbGF0ZXNDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgVGFza1RlbXBsYXRlcyBDbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudH0sdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0TWFzdGVyQ2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5tYXN0ZXJDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgbWFzdGVyIGNsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5tYXN0ZXJDbGllbnR9LHQuY29yZS5tYXN0ZXJDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0U29mdHBob25lTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuc29mdHBob25lTWFuYWdlcn0sdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bnVsbCx0LmNvcmUuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcnx8KHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyPW5ldyB0Lk5vdGlmaWNhdGlvbk1hbmFnZXIpLHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyfSx0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcj1udWxsLHQuY29yZS5nZXRQb3B1cE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLnBvcHVwTWFuYWdlcn0sdC5jb3JlLnBvcHVwTWFuYWdlcj1uZXcgdC5Qb3B1cE1hbmFnZXIsdC5jb3JlLmdldFVwc3RyZWFtPWZ1bmN0aW9uKCl7aWYoIXQuY29yZS51cHN0cmVhbSl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGVyZSBpcyBubyB1cHN0cmVhbSBjb25kdWl0ISIpO3JldHVybiB0LmNvcmUudXBzdHJlYW19LHQuY29yZS51cHN0cmVhbT1udWxsLHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkZhaWxvdmVyUGVuZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HX0NSTSxlKX0sdC5nbG9iYWxSZXNpbGllbmN5Lm9uRmFpbG92ZXJDb21wbGV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUsZSl9LHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkNvbmZpZ3VyZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixlKX0sdC5nbG9iYWxSZXNpbGllbmN5LmdldEFjdGl2ZVJlZ2lvbj1mdW5jdGlvbigpe3JldHVybiB0Lmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbn0sdC5nbG9iYWxSZXNpbGllbmN5LmZvcmNlRmFpbG92ZXI9ZnVuY3Rpb24oKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZPUkNFX0ZBSUxPVkVSKX0sdC5jb3JlLkFnZW50RGF0YVByb3ZpZGVyPUQsdC5XZWJTb2NrZXRQcm92aWRlcj14LHQuS2VlcGFsaXZlTWFuYWdlcj1QfSgpfSw2ODI6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbj0iPDxhbGw+PiIscj10Lm1ha2VFbnVtKFsiYWNrbm93bGVkZ2UiLCJhY2tfdGltZW91dCIsImluaXQiLCJhcGlfcmVxdWVzdCIsImFwaV9yZXNwb25zZSIsImF1dGhfZmFpbCIsImFjY2Vzc19kZW5pZWQiLCJjbG9zZSIsImNvbmZpZ3VyZSIsImxvZyIsImRvd25sb2FkX2xvZ19mcm9tX2NjcCIsIm1hc3Rlcl9yZXF1ZXN0IiwibWFzdGVyX3Jlc3BvbnNlIiwic3luY2hyb25pemUiLCJ0ZXJtaW5hdGUiLCJ0ZXJtaW5hdGVkIiwic2VuZF9sb2dzIiwicmVsb2FkX2FnZW50X2NvbmZpZ3VyYXRpb24iLCJicm9hZGNhc3QiLCJhcGlfbWV0cmljIiwiY2xpZW50X21ldHJpYyIsInNvZnRwaG9uZV9zdGF0cyIsInNvZnRwaG9uZV9yZXBvcnQiLCJjbGllbnRfc2lkZV9sb2dzIiwic2VydmVyX2JvdW5kX2ludGVybmFsX2xvZyIsIm11dGUiLCJpZnJhbWVfc3R5bGUiLCJpZnJhbWVfcmV0cmllc19leGhhdXN0ZWQiLCJ1cGRhdGVfY29ubmVjdGVkX2NjcHMiLCJvdXRlcl9jb250ZXh0X2luZm8iLCJtZWRpYV9kZXZpY2VfcmVxdWVzdCIsIm1lZGlhX2RldmljZV9yZXNwb25zZSIsInRhYl9pZCIsImF1dGhvcml6ZV9zdWNjZXNzIiwiYXV0aG9yaXplX3JldHJpZXNfZXhoYXVzdGVkIiwiY3RpX2F1dGhvcml6ZV9yZXRyaWVzX2V4aGF1c3RlZCIsImNsaWNrX3N0cmVhbV9kYXRhIiwic2V0X3F1aWNrX2dldF9hZ2VudF9zbmFwc2hvdF9mbGFnIiwiYXBpX3Byb3h5X3JlcXVlc3QiLCJhcGlfcHJveHlfcmVzcG9uc2UiLCJyZXF1ZXN0X2NvbmZpZ3VyZSJdKSxvPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb25uZWN0IixbImxvZ2luUG9wdXAiLCJzZW5kTG9ncyIsInNvZnRwaG9uZSIsInJpbmd0b25lIiwibWV0cmljcyIsImZhaWxvdmVyIl0pLGk9dC5tYWtlTmFtZXNwYWNlZEVudW0oImFnZW50IixbImluaXQiLCJ1cGRhdGUiLCJyZWZyZXNoIiwicm91dGFibGUiLCJub3Rfcm91dGFibGUiLCJwZW5kaW5nIiwiY29udGFjdF9wZW5kaW5nIiwib2ZmbGluZSIsImVycm9yIiwic29mdHBob25lX2Vycm9yIiwid2Vic29ja2V0X2Nvbm5lY3Rpb25fbG9zdCIsIndlYnNvY2tldF9jb25uZWN0aW9uX2dhaW5lZCIsInN0YXRlX2NoYW5nZSIsImFjdyIsIm11dGVfdG9nZ2xlIiwibG9jYWxfbWVkaWFfc3RyZWFtX2NyZWF0ZWQiLCJlbnF1ZXVlZF9uZXh0X3N0YXRlIiwiZmV0Y2hfYWdlbnRfZGF0YV9mcm9tX2NjcCJdKSxhPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ3ZWJTb2NrZXQiLFsiaW5pdF9mYWlsdXJlIiwiY29ubmVjdGlvbl9vcGVuIiwiY29ubmVjdGlvbl9jbG9zZSIsImNvbm5lY3Rpb25fZXJyb3IiLCJjb25uZWN0aW9uX2dhaW4iLCJjb25uZWN0aW9uX2xvc3QiLCJzdWJzY3JpcHRpb25fdXBkYXRlIiwic3Vic2NyaXB0aW9uX2ZhaWx1cmUiLCJhbGxfbWVzc2FnZSIsInNlbmQiLCJzdWJzY3JpYmUiXSkscz10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29udGFjdCIsWyJpbml0IiwicmVmcmVzaCIsImRlc3Ryb3llZCIsImluY29taW5nIiwicGVuZGluZyIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiLCJtaXNzZWQiLCJhY3ciLCJ2aWV3IiwiZW5kZWQiLCJlcnJvciIsImFjY2VwdGVkIiwiaW52YWxpZF9zdGF0ZV90cmFuc2l0aW9uIiwic2NyZWVuX3NoYXJpbmdfc3RhcnRlZCIsInNjcmVlbl9zaGFyaW5nX3N0b3BwZWQiLCJzY3JlZW5fc2hhcmluZ19lcnJvciJdKSxjPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ0YXNrTGlzdCIsWyJhY3RpdmF0ZV9jaGFubmVsX3dpdGhfdmlld190eXBlIl0pLHU9dC5tYWtlTmFtZXNwYWNlZEVudW0oInRhc2siLFsiY3JlYXRlZCJdKSxsPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJlbWFpbCIsWyJjcmVhdGVkIl0pLHA9dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbm5lY3Rpb24iLFsic2Vzc2lvbl9pbml0IiwicmVhZHlfdG9fc3RhcnRfc2Vzc2lvbiJdKSxkPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb25maWd1cmF0aW9uIixbImNvbmZpZ3VyZSIsInNldF9zcGVha2VyX2RldmljZSIsInNldF9taWNyb3Bob25lX2RldmljZSIsInNldF9yaW5nZXJfZGV2aWNlIiwic3BlYWtlcl9kZXZpY2VfY2hhbmdlZCIsIm1pY3JvcGhvbmVfZGV2aWNlX2NoYW5nZWQiLCJyaW5nZXJfZGV2aWNlX2NoYW5nZWQiLCJjYW1lcmFfZGV2aWNlX2NoYW5nZWQiLCJiYWNrZ3JvdW5kX2JsdXJfY2hhbmdlZCJdKSxoPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJkaXNhc3RlclJlY292ZXJ5IixbInN1cHByZXNzIiwiZm9yY2Vfb2ZmbGluZSIsInNldF9vZmZsaW5lIiwiaW5pdF9kaXNhc3Rlcl9yZWNvdmVyeSIsImZhaWxvdmVyIiwiZmFpbG92ZXJfcGVuZGluZyIsImluaXRfZHJfcG9sbGluZyJdKSxmPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJnbG9iYWxSZXNpbGllbmN5IixbImNvbmZpZ3VyZSIsImNvbmZpZ3VyZV9jY3BfY29uZHVpdCIsImluaXQiLCJjb25maWd1cmVfZXJyb3IiLCJ2YWxpZGF0ZV9nbG9iYWxfc2lnbmluIiwiZ2xvYmFsX3NpZ25pbl92YWxpZCIsImdsb2JhbF9zaWduaW5faW52YWxpZCIsImZhaWxvdmVyX2luaXRpYXRlZCIsImZhaWxvdmVyX3BlbmRpbmciLCJmYWlsb3Zlcl9wZW5kaW5nX2NybSIsImZhaWxvdmVyX2NvbXBsZXRlIiwiaGVhcnRiZWF0X3N5biIsImhlYXJ0YmVhdF9hY2siLCJmb3JjZV9mYWlsb3ZlciJdKSxnPXQubWFrZUVudW0oWyJMSUxZX0FHRU5UX0NPTkZJR19NSVNTSU5HIiwiTElMWV9BR0VOVF9DT05GSUdfUEFSU0VfRVJST1IiXSksbT10Lm1ha2VOYW1lc3BhY2VkRW51bSgidm9pY2VJZCIsWyJ1cGRhdGVfZG9tYWluX2lkIl0pLHY9ZnVuY3Rpb24oKXt9O3YuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLG4scil7cmV0dXJue2V2ZW50OmUscmVxdWVzdElkOnQucmFuZG9tSWQoKSxtZXRob2Q6bixwYXJhbXM6cn19LHYuY3JlYXRlUmVzcG9uc2U9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJue2V2ZW50OmUscmVxdWVzdElkOnQucmVxdWVzdElkLGRhdGE6bixlcnI6cnx8bnVsbH19O3ZhciB5PWZ1bmN0aW9uKGUsbixyKXt0aGlzLnN1Yk1hcD1lLHRoaXMuaWQ9dC5yYW5kb21JZCgpLHRoaXMuZXZlbnROYW1lPW4sdGhpcy5mPXJ9O3kucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5zdWJNYXAudW5zdWJzY3JpYmUodGhpcy5ldmVudE5hbWUsdGhpcy5pZCl9O3ZhciBiPWZ1bmN0aW9uKCl7dGhpcy5zdWJJZE1hcD17fSx0aGlzLnN1YkV2ZW50TmFtZU1hcD17fX07Yi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IHkodGhpcyxlLHQpO3RoaXMuc3ViSWRNYXBbbi5pZF09bjt2YXIgcj10aGlzLnN1YkV2ZW50TmFtZU1hcFtlXXx8W107cmV0dXJuIHIucHVzaChuKSx0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXT1yLG59LGIucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsbil7dC5jb250YWlucyh0aGlzLnN1YkV2ZW50TmFtZU1hcCxlKSYmKHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdPXRoaXMuc3ViRXZlbnROYW1lTWFwW2VdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQhPT1ufSkpLHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdLmxlbmd0aDwxJiZkZWxldGUgdGhpcy5zdWJFdmVudE5hbWVNYXBbZV0pLHQuY29udGFpbnModGhpcy5zdWJJZE1hcCxuKSYmZGVsZXRlIHRoaXMuc3ViSWRNYXBbbl19LGIucHJvdG90eXBlLmdldEFsbFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdC52YWx1ZXModGhpcy5zdWJFdmVudE5hbWVNYXApLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSl9LGIucHJvdG90eXBlLmdldFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdfHxbXX07dmFyIFM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dGhpcy5zdWJNYXA9bmV3IGIsdGhpcy5sb2dFdmVudHM9dC5sb2dFdmVudHN8fCExfTtTLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJmIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnN1Yk1hcC5zdWJzY3JpYmUoZSxuKX0sUy5wcm90b3R5cGUuc3Vic2NyaWJlQWxsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFzc2VydE5vdE51bGwoZSwiZiIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24oZSksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5zdWJNYXAuc3Vic2NyaWJlKG4sZSl9LFMucHJvdG90eXBlLmdldFN1YnNjcmlwdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3ViTWFwLmdldFN1YnNjcmlwdGlvbnMoZSl9LFMucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24oZSxyKXt0LmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIik7dmFyIG89dGhpcyxpPXRoaXMuc3ViTWFwLmdldFN1YnNjcmlwdGlvbnMobiksYT10aGlzLnN1Yk1hcC5nZXRTdWJzY3JpcHRpb25zKGUpO3RoaXMubG9nRXZlbnRzJiZlIT09dC5FdmVudFR5cGUuTE9HJiZlIT09dC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFJiZlIT09dC5FdmVudFR5cGUuQVBJX01FVFJJQyYmZSE9PXQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0cmJnQuZ2V0TG9nKCkudHJhY2UoIlB1Ymxpc2hpbmcgZXZlbnQ6ICVzIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuc3RhcnRzV2l0aCh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQpJiZyJiZyLmNvbnRhY3RJZCYmIShyIGluc3RhbmNlb2YgdC5Db250YWN0KSYmKHI9bmV3IHQuQ29udGFjdChyLmNvbnRhY3RJZCkpLGkuY29uY2F0KGEpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3RyeXtuLmYocnx8bnVsbCxlLG8pfWNhdGNoKG4pe3QuZ2V0TG9nKCkuZXJyb3IoIiclcycgZXZlbnQgaGFuZGxlciBmYWlsZWQuIixlKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpfSxTLnByb3RvdHlwZS5icmlkZ2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LG4pe2UudHJpZ2dlcihuLHQpfX0sUy5wcm90b3R5cGUudW5zdWJzY3JpYmVBbGw9ZnVuY3Rpb24oKXt0aGlzLnN1Yk1hcC5nZXRBbGxTdWJzY3JpcHRpb25zKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51bnN1YnNjcmliZSgpfSkpfSx0LkV2ZW50QnVzPVMsdC5FdmVudEZhY3Rvcnk9dix0LkV2ZW50VHlwZT1yLHQuQWdlbnRFdmVudHM9aSx0LkNvbmZpZ3VyYXRpb25FdmVudHM9ZCx0LkNvbm5lY3Rpb25FdmVudHM9cCx0LkNvbm5uZWN0aW9uRXZlbnRzPXAsdC5Db250YWN0RXZlbnRzPXMsdC5DaGFubmVsVmlld0V2ZW50cz1jLHQuVGFza0V2ZW50cz11LHQuRW1haWxFdmVudHM9bCx0LlZvaWNlSWRFdmVudHM9bSx0LldlYlNvY2tldEV2ZW50cz1hLHQuTWFzdGVyVG9waWNzPW8sdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzPWgsdC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzPWYsdC5HbG9iYWxSZXNpbGllbmN5Q29uZmlndXJlRXJyb3JUeXBlPWd9KCl9LDk0OTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxyPXQuY29ubmVjdHx8e307dC5jb25uZWN0PXI7dmFyIG89M2UzLGk9IklmcmFtZVJlZnJlc2hBdHRlbXB0cyIsYT0iSWZyYW1lSW5pdGlhbGl6YXRpb25TdWNjZXNzIjtyLmdsb2JhbFJlc2lsaWVuY3kuX2Rvd25sb2FkQ0NQTG9ncz1mdW5jdGlvbigpe3IuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQKX0sci5nbG9iYWxSZXNpbGllbmN5Ll92YWxpZGF0ZUdsb2JhbFNpZ25pbj1mdW5jdGlvbihlLHQsbixvLGkpe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBTdGFydGluZyBnbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gZm9yICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGEscyxjLHU9ITEsbD1mdW5jdGlvbih0LG4pe3ZhciBsLHA7dT9yLmdldExvZygpLndhcm4oIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGFscmVhZHkgY29tcGxldGVkIGZvciAiLmNvbmNhdChlLm5hbWUsIiwgaWdub3JpbmcgZHVwbGljYXRlIHJlc3BvbnNlIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6KHU9ITAsY2xlYXJUaW1lb3V0KGEpLG51bGw9PT0obD1zKXx8dm9pZCAwPT09bHx8bC51bnN1YnNjcmliZSgpLG51bGw9PT0ocD1jKXx8dm9pZCAwPT09cHx8cC51bnN1YnNjcmliZSgpLHQ/KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gc3VjY2VlZGVkIGZvciAiLmNvbmNhdChlLm5hbWUpKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbygpKTooci5nZXRMb2coKS53YXJuKCJbR1JdIEdsb2JhbCBzaWduaW4gdmFsaWRhdGlvbiBmYWlsZWQgLSByZWdpb25hbCBsb2dpbiBkZXRlY3RlZCBmb3IgIi5jb25jYXQoZS5uYW1lKSkud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZXJyb3JUeXBlIT09ci5HbG9iYWxSZXNpbGllbmN5Q29uZmlndXJlRXJyb3JUeXBlLkxJTFlfQUdFTlRfQ09ORklHX01JU1NJTkcmJm4uZXJyb3JUeXBlIT09ci5HbG9iYWxSZXNpbGllbmN5Q29uZmlndXJlRXJyb3JUeXBlLkxJTFlfQUdFTlRfQ09ORklHX1BBUlNFX0VSUk9SfHxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lSZWdpb25hbExvZ2luQXR0ZW1wdCIsZGF0YTp7Y291bnQ6MX19KSxpKCkpKX07YT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuZ2V0TG9nKCkud2FybigiW0dSXSBHbG9iYWwgc2lnbmluIHZhbGlkYXRpb24gdGltZW91dCBmb3IgIi5jb25jYXQoZS5uYW1lLCIgLSBhc3N1bWluZyB2YWxpZCIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwoITAse3JlYXNvbjoidGltZW91dCJ9KX0pLDI1MCkscz1lLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkdMT0JBTF9TSUdOSU5fVkFMSUQsKGZ1bmN0aW9uKGUpe2woITAse3JlYXNvbjoiZ2xvYmFsX3NpZ25pbl92YWxpZCIsZGF0YTplfSl9KSksYz1lLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkdMT0JBTF9TSUdOSU5fSU5WQUxJRCwoZnVuY3Rpb24oZSl7bCghMSx7cmVhc29uOiJnbG9iYWxfc2lnbmluX2ludmFsaWQiLGVycm9yOm51bGw9PWU/dm9pZCAwOmUuZXJyb3IsZXJyb3JUeXBlOm51bGw9PWU/dm9pZCAwOmUuZXJyb3JUeXBlfSl9KSksZS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLlZBTElEQVRFX0dMT0JBTF9TSUdOSU4pLHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBTZW50IFZBTElEQVRFX0dMT0JBTF9TSUdOSU4gcmVxdWVzdCB0byAiLmNvbmNhdChlLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxyLmdsb2JhbFJlc2lsaWVuY3kuX2NvbXBsZXRlQWNrbm93bGVkZ2VJbml0aWFsaXphdGlvbj1mdW5jdGlvbihlLG4sbyxzLGMpe2lmKHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBDb21wbGV0aW5nIEFDS05PV0xFREdFIGluaXRpYWxpemF0aW9uIGZvciAiLmNvbmNhdChlLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiQWNrbm93bGVkZ2VkIGJ5IHRoZSBDQ1AhICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLnNlbmRDb25maWd1cmUobixlLCEwKSxyLmNvcmUubGlzdGVuRm9yQ29uZmlndXJlUmVxdWVzdChuLGUsITApLHNbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlJiYodC5jbGVhclRpbWVvdXQoc1tlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UpLHNbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwpLGUuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTyx7c3RyZWFtc1ZlcnNpb246ci52ZXJzaW9uLGluaXRDQ1BQYXJhbXM6bn0pLGUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHIuaXNBY3RpdmVDb25kdWl0KGUpJiYoci5jb3JlLmNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRDbGllbnQoZSksci5jb3JlLm1hc3RlckNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoZSksci5jb3JlLnBvcnRTdHJlYW1JZD1vLmlkLGMpKXt2YXIgdT1EYXRlLm5vdygpLWMsbD1zW2UubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7ci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KHUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQobCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLnB1Ymxpc2hNZXRyaWMoe25hbWU6aSxkYXRhOntjb3VudDpsfX0pLHIucHVibGlzaE1ldHJpYyh7bmFtZTphLGRhdGE6e2NvdW50OjF9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50OnV9fSl9KSwxZTMpfWUucG9ydFN0cmVhbUlkPW8uaWR9LHIuZ2xvYmFsUmVzaWxpZW5jeS5faW5pdGlhbGl6ZUFjdGl2ZVJlZ2lvbj1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbzt0JiYobnVsbD09PShvPXIuY29yZS5hZ2VudERhdGFQcm92aWRlcil8fHZvaWQgMD09PW98fG8uZGVzdHJveSgpLHIuY29yZS5hZ2VudERhdGFQcm92aWRlcj9yLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA9bmV3IHIuY29yZS5BZ2VudERhdGFQcm92aWRlcihyLmNvcmUuZ2V0RXZlbnRCdXMoKSk6ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW5ldyByLmNvcmUuQWdlbnREYXRhUHJvdmlkZXIoci5jb3JlLmdldEV2ZW50QnVzKCkpLGUuZ2V0QWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShyLkFnZW50RXZlbnRzLkZFVENIX0FHRU5UX0RBVEFfRlJPTV9DQ1ApKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciByZWluaXRpYWxpemluZyB0aGUgYWdlbnQgZGF0YSBwcm92aWRlci4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uQWdlbnREYXRhUHJvdmlkZXJGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXIuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPWUuZ2V0QWN0aXZlQ29uZHVpdCgpLmtlZXBhbGl2ZU1hbmFnZXIsci5jb3JlLmNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRDbGllbnQoZS5nZXRBY3RpdmVDb25kdWl0KCkpLHIuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHIuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KGUuZ2V0QWN0aXZlQ29uZHVpdCgpKSxyLmNvcmUubWVkaWFGYWN0b3J5PW5ldyByLk1lZGlhRmFjdG9yeShuKG4oe30sci5nbG9iYWxSZXNpbGllbmN5LnBhcmFtcykse30se2NjcFVybDplLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lfSkpO3RyeXt2YXIgaTtudWxsIT09KGk9ci5jb3JlKSYmdm9pZCAwIT09aSYmaS5zb2Z0cGhvbmVNYW5hZ2VyPyhyLmdldExvZygpLmluZm8oIltHUl0gUmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlciBSVEMgcGVlciBjb25uZWN0aW9uIG1hbmFnZXIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuc29mdHBob25lTWFuYWdlci5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKSk6ci5nZXRMb2coKS5pbmZvKCJbR1JdIFNvZnRwaG9uZSBtYW5hZ2VyIG5vdCBpbml0aWFsaXplZCBvciBub3QgdXNlZCwgbm90IHJlZnJlc2hpbmcgc29mdHBob25lIG1hbmFnZXIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciByZWZyZXNoaW5nIHRoZSBzb2Z0cGhvbmUgbWFuYWdlci4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uV2ViUlRDRmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KX10JiYoci5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb249dCxyLkNoYXRTZXNzaW9uP3IuQ2hhdFNlc3Npb24uc2V0UmVnaW9uT3ZlcnJpZGU/KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBVcGRhdGluZyBDaGF0SlMgcmVnaW9uIHRvICIuY29uY2F0KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuQ2hhdFNlc3Npb24uc2V0UmVnaW9uT3ZlcnJpZGUodCkpOnIuZ2V0TG9nKCkud2FybigiW0dSXSBDaGF0SlMgcHJlc2VudCwgYnV0IHNldFJlZ2lvbk92ZXJyaWRlIG5vdCBmb3VuZC4gQ29uc2lkZXIgdXBkYXRpbmcgdG8gbGF0ZXN0IENoYXRKUyB2ZXJzaW9uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTpyLmdldExvZygpLmluZm8oIltHUl0gQ2hhdEpTIG5vdCBwcmVzZW50LCBub3QgdXBkYXRpbmcgQ2hhdFNlc3Npb24gcmVnaW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUuZ2V0QWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0NDUF9DT05EVUlULHtpbnN0YW5jZVN0YXRlOiJhY3RpdmUifSksZS5nZXRJbmFjdGl2ZUNvbmR1aXQoKS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9DQ1BfQ09ORFVJVCx7aW5zdGFuY2VTdGF0ZToiaW5hY3RpdmUifSk7dHJ5e3IuY29yZS5fc2hvd0lmcmFtZShlLmdldEFjdGl2ZUNvbmR1aXQoKS5pZnJhbWUpLHIuY29yZS5faGlkZUlmcmFtZShlLmdldEluYWN0aXZlQ29uZHVpdCgpLmlmcmFtZSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBUaGVyZSB3YXMgYW4gZXJyb3IgdXBkYXRpbmcgdGhlIElGcmFtZSB2aXNpYmlsaXR5LiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25JRnJhbWVTd2FwRmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KX10cnl7dmFyIGE9ZS5pZnJhbWVMYWJlbE1hcFtlLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lXTtyLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBwcm92aWRlciBhY3RpdmUgcmVnaW9uIHRvICIuY29uY2F0KGEpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5zZXRBY3RpdmVSZWdpb24oYSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBTZXR0aW5nIGFjdGl2ZSByZWdpb24gZm9yIHByb3ZpZGVyIGZhaWxlZC4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxyLmdsb2JhbFJlc2lsaWVuY3kuX3N3aXRjaEFjdGl2ZVJlZ2lvbj1mdW5jdGlvbih0LG4pe3ZhciBvLGksYSxzLGM7aWYoISh0IGluc3RhbmNlb2Ygci5HUlByb3h5SWZyYW1lQ29uZHVpdCkpcmV0dXJuIHIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVHJpZWQgdG8gc3dpdGNoIG92ZXIgYWN0aXZlIHJlZ2lvbiwgYnV0IHByb3h5IGNvbmR1aXQgd2FzIG5vdCBvZiBleHBlY3RlZCB0eXBlLiIpLndpdGhPYmplY3Qoe3R5cGU6ZSh0KX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITE7dmFyIHU9dC5nZXRDb25kdWl0QnlOYW1lKG4pO3JldHVybiB1IGluc3RhbmNlb2Ygci5JRnJhbWVDb25kdWl0P3QuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWU9PT11Lm5hbWUmJnIuZ2xvYmFsUmVzaWxpZW5jeS5fYWN0aXZlUmVnaW9uPT09dS5yZWdpb24/KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBOb3Qgc3dpdGNoaW5nIG92ZXIgYWN0aXZlIHJlZ2lvbiBhcyB3ZSBhcmUgYWxyZWFkeSBvbiBhY3RpdmUgcmVnaW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEpOihyLmdldExvZygpLmluZm8oIltHUl0gU3dpdGNoaW5nIGFjdGl2ZSByZWdpb24gZnJvbSAiLmNvbmNhdChudWxsPT09KG89dC5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlZ2lvbiwiIC8gIikuY29uY2F0KG51bGw9PT0oaT10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubmFtZSwiIHRvICIpLmNvbmNhdChudWxsPT11P3ZvaWQgMDp1LnJlZ2lvbiwiIC8gIikuY29uY2F0KG51bGw9PXU/dm9pZCAwOnUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbnVsbD09PShhPXIuY29yZSl8fHZvaWQgMD09PWF8fG51bGw9PT0oYT1hLnNvZnRwaG9uZU1hbmFnZXIpfHx2b2lkIDA9PT1hfHxhLl9jbGVhckFsbFNlc3Npb25zKCksdC5zZXRBY3RpdmVDb25kdWl0KHUubmFtZSksci5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uKHQsdS5yZWdpb24pLHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hlZCBhY3RpdmUgcmVnaW9uIHRvICIuY29uY2F0KG51bGw9PT0ocz10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMucmVnaW9uLCIgLyAiKS5jb25jYXQobnVsbD09PShjPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNhbGxlZEludGVybmFsU3dpdGNoQWN0aXZlUmVnaW9uU3VjY2Vzc2Z1bCIsZGF0YTp7Y291bnQ6MX19KSwhMCk6KHIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVHJpZWQgdG8gc3dpdGNoIG92ZXIgYWN0aXZlIHJlZ2lvbiwgYnV0IGNvbmR1aXQgbmFtZSB3YXMgaW52YWxpZCIpLndpdGhPYmplY3Qoe25ld0FjdGl2ZUNvbmR1aXROYW1lOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExKX0sci5nbG9iYWxSZXNpbGllbmN5LmluaXRHUkNDUD1mdW5jdGlvbihlLHMpe3ZhciBjLHUsbCxwPW4oe30scyksZD0hMTtpZihyLmdsb2JhbFJlc2lsaWVuY3kucGFyYW1zPXAsci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcD17fSxyLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj1udWxsLHIuZ2xvYmFsUmVzaWxpZW5jeS5nbG9iYWxSZXNpbGllbmN5RW5hYmxlZD0hMCxyLmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCFyLmNvcmUuaW5pdGlhbGl6ZWQpe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGg9RGF0ZS5ub3coKTtyLmFzc2VydE5vdE51bGwoZSwiY29udGFpbmVyRGl2Iik7dmFyIGY9bmV3IFVSTChwLmNjcFVybCkub3JpZ2luLGc9bmV3IFVSTChwLnNlY29uZGFyeUNDUFVybCkub3JpZ2luLG09ci5jb3JlLl9jcmVhdGVDQ1BJZnJhbWUoZSxuKG4oe30scCkse30se2dsb2JhbFJlc2lsaWVuY3lSZWdpb246InByaW1hcnkifSksZiksdj1yLmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4obih7fSxwKSx7fSx7Y2NwVXJsOnAuc2Vjb25kYXJ5Q0NQVXJsLGdsb2JhbFJlc2lsaWVuY3lSZWdpb246InNlY29uZGFyeSJ9KSxnKSx5PW5ldyByLkdSUHJveHlJZnJhbWVDb25kdWl0KHdpbmRvdyxbe2lmcmFtZTptLGxhYmVsOiJwcmltYXJ5In0se2lmcmFtZTp2LGxhYmVsOiJzZWNvbmRhcnkifV0sbS5zcmMpO3IuY29yZS51cHN0cmVhbT15LHIuY29yZS5ldmVudEJ1cz1uZXcgci5FdmVudEJ1cyh7bG9nRXZlbnRzOiExfSksci5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uKHkpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiSW5pdEdsb2JhbFJlc2lsaWVuY3lDQ1BDYWxsZWQiLGRhdGE6e2NvdW50OjF9fSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoZS5pZnJhbWUsZSl9KSksci5jb3JlLndlYlNvY2tldFByb3ZpZGVyPW5ldyByLldlYlNvY2tldFByb3ZpZGVyLHkub25BbGxVcHN0cmVhbShyLmNvcmUuZ2V0RXZlbnRCdXMoKS5icmlkZ2UoKSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uua2VlcGFsaXZlTWFuYWdlcj1uZXcgci5LZWVwYWxpdmVNYW5hZ2VyKGUsci5jb3JlLmdldEV2ZW50QnVzKCkscC5jY3BTeW5UaW1lb3V0fHwxZTMscC5jY3BBY2tUaW1lb3V0fHxvKX0pKSx5Lm9uVXBzdHJlYW0oci5BZ2VudEV2ZW50cy5GRVRDSF9BR0VOVF9EQVRBX0ZST01fQ0NQLChmdW5jdGlvbihlKXtyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA/KHIuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cC51cGRhdGVBZ2VudERhdGEoZSksci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPXIuY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cCxyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA9bnVsbCk6ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyLnVwZGF0ZUFnZW50RGF0YShlKSxyLmdldExvZygpLmluZm8oIltHUl0gRmV0Y2hlZCBhZ2VudCBkYXRhIGZyb20gQ0NQLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbZS5uYW1lXT17aWZyYW1lUmVmcmVzaFRpbWVvdXQ6bnVsbH0sci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsLHIuaXNBY3RpdmVDb25kdWl0KGUpPyhyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkFDS19USU1FT1VUKSxyLmdldExvZygpLmluZm8oIkNDUCBMb2FkVGltZW91dCB0cmlnZ2VyZWQuICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOnIuZ2V0TG9nKCkuZXJyb3IoIkNDUCBMb2FkVGltZW91dCBkZXRlY3RlZCBidXQgaWdub3JlZCBmb3Igbm9uLXByaW1hcnkgcmVnaW9ucy4gIi5jb25jYXQoZS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLHAuY2NwTG9hZFRpbWVvdXR8fDVlMyl9KSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUub25VcHN0cmVhbShyLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obyl7ci5nbG9iYWxSZXNpbGllbmN5Ll92YWxpZGF0ZUdsb2JhbFNpZ25pbihlLHAsbywoZnVuY3Rpb24oKXtuLnVuc3Vic2NyaWJlKCksci5nbG9iYWxSZXNpbGllbmN5Ll9jb21wbGV0ZUFja25vd2xlZGdlSW5pdGlhbGl6YXRpb24oZSxwLG8sci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcCxoKX0pLChmdW5jdGlvbigpe3IuaXNBY3RpdmVDb25kdWl0KGUpJiYoci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UmJih0LmNsZWFyVGltZW91dChyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSksci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCksci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5BQ0tfVElNRU9VVCkpfSkpfSkpfSkpLHIuZ2xvYmFsUmVzaWxpZW5jeS5zZXR1cEFjZ3JBdXRoSGFuZGxlcnMocCxlLHkpLHkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5MT0csKGZ1bmN0aW9uKGUpe2UubG9nZ2VySWQhPT1yLmdldExvZygpLmdldExvZ2dlcklkKCkmJnIuZ2V0TG9nKCkuYWRkTG9nRW50cnkoci5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklULChmdW5jdGlvbih0KXtpZihudWxsIT10JiZ0Lmluc3RhbmNlUmVnaW9uJiZudWxsIT10JiZ0Lmluc3RhbmNlU3RhdGUmJm51bGwhPXQmJnQuYWN0aXZlUmVnaW9uKXtyLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIGluZGljYXRpbmcgIi5jb25jYXQoZS5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lmluc3RhbmNlUmVnaW9uLCIgaXMgIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuaW5zdGFuY2VTdGF0ZSwiLiIpKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuaW5zdGFuY2VSZWdpb249PT10LmFjdGl2ZVJlZ2lvbj9lOnkuZ2V0T3RoZXJDb25kdWl0KGUpO2lmKGUucmVnaW9uJiZuLnJlZ2lvbnx8KGUucmVnaW9uPXQuaW5zdGFuY2VSZWdpb24sbi5yZWdpb249dC5hY3RpdmVSZWdpb24pLGUuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6dC5pbnN0YW5jZVN0YXRlfSksci5jb3JlLmluaXRpYWxpemVkKXIuZ2V0TG9nKCkubG9nKCJbR1JdIERlZHVwaW5nIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSU5JVCAtIENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2V7ci5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgaW5pdGlhbCBhY3RpdmUgaWZyYW1lIHRvICIuY29uY2F0KG4ubmFtZSwiIGluIHJlZ2lvbiAiKS5jb25jYXQobi5yZWdpb24sIiBiZWNhdXNlIHRoZSBpbnN0YW5jZSBzdGF0ZSB3YXMgYWN0aXZlIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dHJ5e3IuZ2xvYmFsUmVzaWxpZW5jeS5fc3dpdGNoQWN0aXZlUmVnaW9uKHksbi5uYW1lKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25TdWNjZXNzIixkYXRhOntjb3VudDoxfX0pfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gRmFpbHVyZSBzd2l0Y2hpbmcgYWN0aXZlIHJlZ2lvbiBhdCBpbml0aWFsaXphdGlvbi4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uRmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KX1yLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLklOSVQpLHIuY29yZS5pbml0aWFsaXplZD0hMCxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lDb3JlSW5pdGlhbGl6ZWQiLGRhdGE6e2NvdW50OjF9fSl9fWVsc2Ugci5nZXRMb2coKS5lcnJvcigiW0dSXSBFeHBlY3RlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQgdG8gaGF2ZSBpbnN0YW5jZSByZWdpb24sIHN0YXRlLCBhbmQgY3VycmVudCBhY3RpdmUgcmVnaW9uLCBidXQgZGlkIG5vdCBmaW5kIGl0LiIpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQsKGZ1bmN0aW9uKGUpe2lmKHU9RGF0ZS5ub3coKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lGYWlsb3ZlckluaXRpYXRlZFJlY2VpdmVkIixkYXRhOntjb3VudDoxfX0pLGQmJnIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVBlbmRpbmdUb0luaXRpYXRlZExhdGVuY3kiLGRhdGE6e2xhdGVuY3k6dS1jfX0pLG51bGwhPWUmJmUuYWN0aXZlUmVnaW9uKXtyLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQgaW5kaWNhdGluZyB0aGUgYWN0aXZlUmVnaW9uIGlzICIuY29uY2F0KGUuYWN0aXZlUmVnaW9uLCIuIikpO3ZhciB0LG49eS5nZXRDb25kdWl0QnlSZWdpb24oZS5hY3RpdmVSZWdpb24pO258fChyLmdldExvZygpLmRlYnVnKCJbR1JdIEEgY29uZHVpdCBkaWQgbm90IHJlY2VpdmVkIEdMT0JBTF9SRVNJTElFTkNZLklOSVQgZXZlbnQsIGxlYWRpbmcgdG8gdGhlIHJlZ2lvbiBmaWVsZCBiZWluZyB1bnBvcHVsYXRlZC4iKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dm9pZCAwIT09dC5yZWdpb24mJm51bGwhPT10LnJlZ2lvbnx8KHQucmVnaW9uPWUuYWN0aXZlUmVnaW9uLG49dCl9KSkpO3RyeXt0PXIuZ2xvYmFsUmVzaWxpZW5jeS5fc3dpdGNoQWN0aXZlUmVnaW9uKHksbi5uYW1lKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25TdWNjZXNzIixkYXRhOntjb3VudDoxfX0pfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gRmFpbHVyZSBzd2l0Y2hpbmcgYWN0aXZlIHJlZ2lvbi4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uRmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KX1pZih0KXtkPSExO3ZhciBvPXkub25VcHN0cmVhbShyLkFnZW50RXZlbnRzLlVQREFURSwoZnVuY3Rpb24oKXtvLnVuc3Vic2NyaWJlKCksci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUse2FjdGl2ZVJlZ2lvbjplLmFjdGl2ZVJlZ2lvbixhY3RpdmVDY3BVcmw6bi5uYW1lfSkseS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFKSxyLmdldExvZygpLmluZm8oIltHUl0gR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSBlbWl0dGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbD1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVyQ29tcGxldGVkIixkYXRhOntjb3VudDoxfX0pLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUluaXRpYXRlZFRvQ29tcGxldGVkTGF0ZW5jeSIsZGF0YTp7bGF0ZW5jeTpsLXV9fSl9KSl9fWVsc2Ugci5nZXRMb2coKS5lcnJvcigiW0dSXSBFeHBlY3RlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCB0byBoYXZlIG5ldyBhY3RpdmUgcmVnaW9uLCBidXQgZGlkIG5vdCBmaW5kIGl0LiIpLndpdGhPYmplY3Qoe2RhdGE6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSkscC5vblZpZXdDb250YWN0JiZyLmNvcmUub25WaWV3Q29udGFjdChwLm9uVmlld0NvbnRhY3QpLHkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3IubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5Wb2ljZUlkRXZlbnRzLlVQREFURV9ET01BSU5fSUQsKGZ1bmN0aW9uKHQpe3QmJnQuZG9tYWluSWQmJihlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkLHIuaXNBY3RpdmVDb25kdWl0KGUpJiYoci5jb3JlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkKSl9KSl9KSksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oZSl7aWYoZT09PXkuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWUmJmgpe3ZhciB0PXIuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbeS5nZXRBY3RpdmVDb25kdWl0KCkubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTtyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLWgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOmksZGF0YTp7Y291bnQ6dH19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6YSxkYXRhOntjb3VudDowfX0pLGg9bnVsbH19KSksci5jb3JlLnNvZnRwaG9uZVBhcmFtcz1wLnNvZnRwaG9uZSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HLChmdW5jdGlvbih0KXtyLmlzQWN0aXZlQ29uZHVpdChlKSYmKGQ/ci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEZBSUxPVkVSX1BFTkRJTkcgLSBkZWR1cGluZywgd2lsbCBub3QgdHJpZ2dlciBldmVudCBzdWJzY3JpcHRpb24uIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTooci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEZBSUxPVkVSX1BFTkRJTkciKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkdfQ1JNLHtuZXh0QWN0aXZlUmVnaW9uOnQuYWN0aXZlUmVnaW9ufSksZD0hMCxjPURhdGUubm93KCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5RmFpbG92ZXJQZW5kaW5nUmVjZWl2ZWQiLGRhdGE6e2NvdW50OjF9fSkpKX0pKX0pKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkcpLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfSU5JVElBVEVEKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkhFQVJUQkVBVF9TWU4pLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSEVBUlRCRUFUX0FDSyksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCwoZnVuY3Rpb24oKXt5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWdpb258fCJyZWdpb24iO2Uuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCx7bG9nTmFtZToiY2NwLSIuY29uY2F0KHQsIi1hZ2VudC1sb2ciKX0pfSkpfSkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9MDt5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5yZWdpb24mJihlKz0xKX0pKSxlPDImJihyLmdldExvZygpLmluZm8oIltHUl0gT25lIG9yIG1vcmUgY29uZHVpdHMgZGlkIG5vdCBHbG9iYWxSZXNpbGllbmN5LklOSVQgZXZlbnQgdG8gQ1JNIGxheWVyLiIpLndpdGhPYmplY3Qoe2ZpcnN0Q29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzBdLm5hbWUsZmlyc3RDb25kdWl0UmVnaW9uOnkuZ2V0QWxsQ29uZHVpdHMoKVswXS5yZWdpb24sc2Vjb25kQ29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzFdLm5hbWUsc2Vjb25kQ29uZHVpdFJlZ2lvbjp5LmdldEFsbENvbmR1aXRzKClbMV0ucmVnaW9ufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lQYXJ0aWFsSW5pdGlhbGl6YXRpb24iLGRhdGE6e2NvdW50OjF9fSkpfSksM2U0KX19LHIuZ2xvYmFsUmVzaWxpZW5jeS5zZXR1cEFjZ3JBdXRoSGFuZGxlcnM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLGE9MDtuLmdldEFjdGl2ZUNvbmR1aXQoKS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5HTE9CQUxfU0lHTklOX0lOVkFMSUQsKGZ1bmN0aW9uKCl7YSs9MSxyLmdldExvZygpLndhcm4oIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGZhaWxlZCAtIHJlZ2lvbmFsIGxvZ2luIGRldGVjdGVkIikud2l0aE9iamVjdCh7YXR0ZW1wdHM6YX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oZSl7ZT09PW4uZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWUmJihhPjA/KHIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gR2xvYmFsIHNpZ25pbiB2YWxpZGF0aW9uIGZhaWxlZCAtIHJldHJpZXMgZXhoYXVzdGVkIikud2l0aE9iamVjdCh7Y29uZHVpdE5hbWU6ZSx2YWxpZGF0aW9uRmFpbHVyZXM6YX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U2lnbmluVmFsaWRhdGlvblJldHJpZXNFeGhhdXN0ZWQiLGRhdGE6e2NvdW50OmF9fSkpOnIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gSWZyYW1lIGluaXRpYWxpemF0aW9uIGZhaWxlZCAtIHJldHJpZXMgZXhoYXVzdGVkIikud2l0aE9iamVjdCh7Y29uZHVpdE5hbWU6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSkpLHIuY29yZS5sb2dpbkFja1RpbWVvdXRTdWI9ci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkFDS19USU1FT1VULChmdW5jdGlvbigpe3IuZ2V0TG9nKCkud2FybigiQUNLX1RJTUVPVVQgb2NjdXJyZWQuIEF0dGVtcHRpbmcgdG8gYXV0aGVudGljYXRlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nbG9iYWxSZXNpbGllbmN5LmF1dGhlbnRpY2F0ZUFjZ3IoZSx0LG4pfSkpLG51bGwhPT0oaT1lLmxvZ2luT3B0aW9ucykmJnZvaWQgMCE9PWkmJmkuZGlzYWJsZUF1dGhQb3B1cEFmdGVyTG9nb3V0fHwoci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLlRFUk1JTkFURUQsKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS53YXJuKCJURVJNSU5BVEVEIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBpPWUuY2NwQWNrVGltZW91dHx8bztzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IuZ2xvYmFsUmVzaWxpZW5jeS5hdXRoZW50aWNhdGVBY2dyKGUsdCxuKX0pLGkpfSkpLHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5BVVRIX0ZBSUwsKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS53YXJuKCJBVVRIX0ZBSUwgb2NjdXJyZWQuIEF0dGVtcHRpbmcgdG8gYXV0aGVudGljYXRlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGk9ZS5jY3BBY2tUaW1lb3V0fHxvO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5nbG9iYWxSZXNpbGllbmN5LmF1dGhlbnRpY2F0ZUFjZ3IoZSx0LG4pfSksaSl9KSkpfSxyLmdsb2JhbFJlc2lsaWVuY3kuYXV0aGVudGljYXRlQWNncj1mdW5jdGlvbihlLG8saSl7aWYoITEhPT1lLmxvZ2luUG9wdXApdHJ5e3ZhciBhPWUubG9naW5Vcmw7ci5nZXRMb2coKS53YXJuKCJBdHRlbXB0aW5nIHRvIHBvcCB0aGUgbG9naW4gcGFnZSBpZiBub3QgYWxyZWFkeSBvcGVuLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLmdldFBvcHVwTWFuYWdlcigpLmNsZWFyKHIuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQKSxyLmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrKGEsZS5sb2dpbk9wdGlvbnMpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIlVuYWJsZSB0byBvcGVuIHRoZSBsb2dpbiBwb3B1cC4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9aS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKG51bGw9PT1yLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2kubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e3ZhciBhPWkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7ci5nbG9iYWxSZXNpbGllbmN5Ll92YWxpZGF0ZUdsb2JhbFNpZ25pbihpLGUsbiwoZnVuY3Rpb24oKXthLnVuc3Vic2NyaWJlKCksdC5jbGVhclRpbWVvdXQoci5nbG9iYWxSZXNpbGllbmN5LmNvbmR1aXRUaW1lckNvbnRhaW5lck1hcFtpLm5hbWVdLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2kubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCxyLmdsb2JhbFJlc2lsaWVuY3kuY29uZHVpdFRpbWVyQ29udGFpbmVyTWFwW2kubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHQ9MCxyLmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIoci5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChlLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fGUubG9naW5PcHRpb25zJiZlLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZyLmNvcmUubG9naW5XaW5kb3cmJihyLmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSxyLmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSwoZnVuY3Rpb24oKXtyLmlzQWN0aXZlQ29uZHVpdChpKSYmci5nZXRMb2coKS53YXJuKCJbR1JdIFJldHJ5IHZhbGlkYXRpb24gZmFpbGVkIGZvciAiLmNvbmNhdChpLm5hbWUsIiAtIHdpbGwgcmV0cnkgdmlhIGlmcmFtZSByZWZyZXNoIHRpbWVvdXQiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pKSxzPXIuaXNBY3RpdmVDb25kdWl0KGkpPyJwcmltYXJ5Ijoic2Vjb25kYXJ5IixjPW4obih7fSxlKSx7fSx7Y2NwVXJsOmkuaWZyYW1lLnNyYyxnbG9iYWxSZXNpbGllbmN5UmVnaW9uOnN9KTtyLmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQoYyxvLHIuZ2xvYmFsUmVzaWxpZW5jeS5jb25kdWl0VGltZXJDb250YWluZXJNYXBbaS5uYW1lXSxpLm5hbWUpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoaWxlIHJlZnJlc2hpbmcgaWZyYW1lIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKX19KCl9LDk1OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX0hZnVuY3Rpb24odCl7dmFyIG49e307ZnVuY3Rpb24gcihlKXtpZihuW2VdKXJldHVybiBuW2VdLmV4cG9ydHM7dmFyIG89bltlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5sPSEwLG8uZXhwb3J0c31yLm09dCxyLmM9bixyLmQ9ZnVuY3Rpb24oZSx0LG4pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LHIucj1mdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxyLnQ9ZnVuY3Rpb24odCxuKXtpZigxJm4mJih0PXIodCkpLDgmbilyZXR1cm4gdDtpZig0Jm4mJiJvYmplY3QiPT1lKHQpJiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIG89T2JqZWN0LmNyZWF0ZShudWxsKTtpZihyLnIobyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJm4mJiJzdHJpbmciIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdClyLmQobyxpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiBvfSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LCJhIix0KSx0fSxyLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHIucD0iIixyKHIucz0yKX0oW2Z1bmN0aW9uKHQsbixyKXsidXNlIHN0cmljdCI7dmFyIG89cigxKSxpPSJERUJVRyIsYT0iQU1aX1dFQl9TT0NLRVRfTUFOQUdFUjoiLHM9Ik5ldHdvcmsgb2ZmbGluZSIsYz0iTmV0d29yayBvbmxpbmUsIGNvbm5lY3RpbmcgdG8gV2ViU29ja2V0IHNlcnZlciIsdT0iTmV0d29yayBvZmZsaW5lLCBpZ25vcmluZyB0aGlzIGdldFdlYlNvY2tldENvbm5Db25maWcgcmVxdWVzdCIsbD0iSGVhcnRiZWF0IHJlc3BvbnNlIG5vdCByZWNlaXZlZCIscD0iRmFpbGVkIHRvIHNlbmQgaGVhcnRiZWF0IHNpbmNlIFdlYlNvY2tldCBpcyBub3Qgb3BlbiIsZD0iV2ViU29ja2V0IGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQhIixoPSJXZWJTb2NrZXQgY29ubmVjdGlvbiBpcyBjbG9zZWQiLGY9IldlYlNvY2tldE1hbmFnZXIgRXJyb3IsIGVycm9yX2V2ZW50OiAiLGc9IlNjaGVkdWxpbmcgV2ViU29ja2V0IHJlaW5pdGlhbGl6YXRpb24sIGFmdGVyIGRlbGF5ICIsbT0iV2ViU29ja2V0IFVSTCBjYW5ub3QgYmUgdXNlZCB0byBlc3RhYmxpc2ggY29ubmVjdGlvbiIsdj0iV2ViU29ja2V0IEluaXRpYWxpemF0aW9uIGZhaWxlZCAtIFRlcm1pbmF0aW5nIGFuZCBjbGVhbmluZyBzdWJzY3JpcHRpb25zIix5PSJGZXRjaGluZyBuZXcgV2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsYj0iU3VjY2Vzc2Z1bGx5IGZldGNoZWQgd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsUz0iRmFpbGVkIHRvIGZldGNoIHdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLEU9IlJldHJ5aW5nIGZldGNoaW5nIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixDPSJJbml0aWFsaXppbmcgV2Vic29ja2V0IE1hbmFnZXIiLEk9IldlYlNvY2tldE1hbmFnZXIgTWVzc2FnZSBFcnJvciIsVD0iTWVzc2FnZSByZWNlaXZlZCBmb3IgdG9waWMgIix3PSJJbnZhbGlkIGluY29taW5nIG1lc3NhZ2UiLEE9ImF3cy9zdWJzY3JpYmUiLF89ImF3cy9oZWFydGJlYXQiLFI9ImRpc2Nvbm5lY3RlZCI7ZnVuY3Rpb24gTCh0KXtyZXR1cm4oTD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09ZShTeW1ib2wuaXRlcmF0b3IpP2Z1bmN0aW9uKHQpe3JldHVybiBlKHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6ZSh0KX0pKHQpfXZhciBPPXthc3NlcnRUcnVlOmZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKHQpfSxhc3NlcnROb3ROdWxsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE8uYXNzZXJ0VHJ1ZShudWxsIT09ZSYmdm9pZCAwIT09TChlKSxPYmplY3Qoby5zcHJpbnRmKSgiJXMgbXVzdCBiZSBwcm92aWRlZCIsdHx8IkEgdmFsdWUiKSksZX0saXNOb25FbXB0eVN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJmUubGVuZ3RoPjB9LGFzc2VydElzTGlzdDpmdW5jdGlvbihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcih0KyIgaXMgbm90IGFuIGFycmF5Iil9LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5jb25zdHJ1Y3RvciYmZS5jYWxsJiZlLmFwcGx5KX0saXNPYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuISgib2JqZWN0IiE9PUwoZSl8fG51bGw9PT1lKX0saXNTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9fSxrPW5ldyBSZWdFeHAoIl4od3NzOi8vKVxcdyoiKTtPLnZhbGlkV1NVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIGsudGVzdChlKX0sTy5nZXRTdWJzY3JpcHRpb25SZXNwb25zZT1mdW5jdGlvbihlLHQsbil7cmV0dXJue3RvcGljOmUsY29udGVudDp7c3RhdHVzOnQ/InN1Y2Nlc3MiOiJmYWlsdXJlIix0b3BpY3M6bn19fSxPLmFzc2VydElzT2JqZWN0PWZ1bmN0aW9uKGUsdCl7aWYoIU8uaXNPYmplY3QoZSkpdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3QgYW4gb2JqZWN0ISIpfSxPLmFkZEppdHRlcj1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTt0PU1hdGgubWluKHQsMSk7dmFyIG49TWF0aC5yYW5kb20oKT4uNT8xOi0xO3JldHVybiBNYXRoLmZsb29yKGUrbiplKk1hdGgucmFuZG9tKCkqdCl9LE8uaXNOZXR3b3JrT25saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5vbkxpbmV9LE8uaXNOZXR3b3JrRmFpbHVyZT1mdW5jdGlvbihlKXtyZXR1cm4hKCFlLl9kZWJ1Z3x8IWUuX2RlYnVnLnR5cGUpJiYiTmV0d29ya2luZ0Vycm9yIj09PWUuX2RlYnVnLnR5cGV9O3ZhciBOPU87ZnVuY3Rpb24gUChlKXtyZXR1cm4oUD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSkoZSl9ZnVuY3Rpb24geChlLHQpe3JldHVybih4PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3Byb3RvX189dCxlfSkoZSx0KX1mdW5jdGlvbiBEKHQpe3JldHVybihEPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT1lKFN5bWJvbC5pdGVyYXRvcik/ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjplKHQpfSkodCl9ZnVuY3Rpb24gTShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIFUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1mdW5jdGlvbiBGKGUsdCxuKXtyZXR1cm4gdCYmVShlLnByb3RvdHlwZSx0KSxuJiZVKGUsbiksZX12YXIgaj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtNKHRoaXMsZSl9cmV0dXJuIEYoZSxbe2tleToiZGVidWciLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJhZHZhbmNlZExvZyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX1dKSxlfSgpLHE9YSxCPXtERUJVRzoxMCxJTkZPOjIwLFdBUk46MzAsRVJST1I6NDAsQURWQU5DRURfTE9HOjUwfSxHPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe00odGhpcyxlKSx0aGlzLnVwZGF0ZUxvZ2dlckNvbmZpZygpLHRoaXMuY29uc29sZUxvZ2dlcldyYXBwZXI9SCgpfXJldHVybiBGKGUsW3trZXk6IndyaXRlVG9DbGllbnRMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5oYXNDbGllbnRMb2dnZXIoKSlzd2l0Y2goZSl7Y2FzZSBCLkRFQlVHOnJldHVybiB0aGlzLl9jbGllbnRMb2dnZXIuZGVidWcodCl8fHQ7Y2FzZSBCLklORk86cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci5pbmZvKHQpfHx0O2Nhc2UgQi5XQVJOOnJldHVybiB0aGlzLl9jbGllbnRMb2dnZXIud2Fybih0KXx8dDtjYXNlIEIuRVJST1I6cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci5lcnJvcih0KXx8dDtjYXNlIEIuQURWQU5DRURfTE9HOnJldHVybiB0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcj90aGlzLl9jbGllbnRMb2dnZXJbdGhpcy5fYWR2YW5jZWRMb2dXcml0ZXJdKHQpfHx0OiIifX19LHtrZXk6ImlzTGV2ZWxFbmFibGVkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT49dGhpcy5fbGV2ZWx9fSx7a2V5OiJoYXNDbGllbnRMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl9jbGllbnRMb2dnZXJ9fSx7a2V5OiJnZXRMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUucHJlZml4fHxxO3JldHVybiB0aGlzLl9sb2dzRGVzdGluYXRpb249PT1pP3RoaXMuY29uc29sZUxvZ2dlcldyYXBwZXI6bmV3IFcodCl9fSx7a2V5OiJ1cGRhdGVMb2dnZXJDb25maWciLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWV8fHt9O3RoaXMuX2xldmVsPXQubGV2ZWx8fEIuSU5GTyx0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcj0id2FybiIsdC5hZHZhbmNlZExvZ1dyaXRlciYmKHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyPXQuYWR2YW5jZWRMb2dXcml0ZXIpLHQuY3VzdG9taXplZExvZ2dlciYmIm9iamVjdCI9PT1EKHQuY3VzdG9taXplZExvZ2dlcikmJih0aGlzLnVzZUNsaWVudExvZ2dlcj0hMCksdGhpcy5fY2xpZW50TG9nZ2VyPXQubG9nZ2VyfHx0aGlzLnNlbGVjdExvZ2dlcih0KSx0aGlzLl9sb2dzRGVzdGluYXRpb249Ik5VTEwiLHQuZGVidWcmJih0aGlzLl9sb2dzRGVzdGluYXRpb249aSksdC5sb2dnZXImJih0aGlzLl9sb2dzRGVzdGluYXRpb249IkNMSUVOVF9MT0dHRVIiKX19LHtrZXk6InNlbGVjdExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY3VzdG9taXplZExvZ2dlciYmIm9iamVjdCI9PT1EKGUuY3VzdG9taXplZExvZ2dlcik/ZS5jdXN0b21pemVkTG9nZ2VyOmUudXNlRGVmYXVsdExvZ2dlcj8odGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcj1IKCksdGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcik6bnVsbH19XSksZX0oKSxWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe00odGhpcyxlKX1yZXR1cm4gRihlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiYWR2YW5jZWRMb2ciLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxlfSgpLFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuO3JldHVybiBNKHRoaXMsZSksKG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4hdHx8Im9iamVjdCIhPT1EKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIGV9KGUpOnR9KHRoaXMsUChlKS5jYWxsKHRoaXMpKSkucHJlZml4PXR8fHEsbn1yZXR1cm4gZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmeChlLHQpfShlLFYpLEYoZSxbe2tleToiZGVidWciLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLkRFQlVHLHQpfX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuSU5GTyx0KX19LHtrZXk6Indhcm4iLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLldBUk4sdCl9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuRVJST1IsdCl9fSx7a2V5OiJhZHZhbmNlZExvZyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuQURWQU5DRURfTE9HLHQpfX0se2tleToiX3Nob3VsZExvZyIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHouaGFzQ2xpZW50TG9nZ2VyKCkmJnouaXNMZXZlbEVuYWJsZWQoZSl9fSx7a2V5OiJfd3JpdGVUb0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gei53cml0ZVRvQ2xpZW50TG9nZ2VyKGUsdCl9fSx7a2V5OiJfbG9nIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX3Nob3VsZExvZyhlKSl7dmFyIG49ei51c2VDbGllbnRMb2dnZXI/dDp0aGlzLl9jb252ZXJ0VG9TaW5nbGVTdGF0ZW1lbnQodCxlKTtyZXR1cm4gdGhpcy5fd3JpdGVUb0NsaWVudExvZ2dlcihlLG4pfX19LHtrZXk6Il9jb252ZXJ0VG9TaW5nbGVTdGF0ZW1lbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IERhdGUoRGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKSxyPXRoaXMuX2dldExvZ0xldmVsQnlWYWx1ZSh0KSxvPSJbIi5jb25jYXQobiwiXVsiKS5jb25jYXQociwiXSIpO3RoaXMucHJlZml4JiYobys9dGhpcy5wcmVmaXgrIiAiKSx0aGlzLm9wdGlvbnMmJih0aGlzLm9wdGlvbnMucHJlZml4P28rPSIgIit0aGlzLm9wdGlvbnMucHJlZml4KyI6IjpvKz0iIix0aGlzLm9wdGlvbnMubG9nTWV0YURhdGE/bys9IiBNZXRhIGRhdGE6ICIrSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zLmxvZ01ldGFEYXRhKTpvKz0iIik7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBhPWVbaV07bys9dGhpcy5fY29udmVydFRvU3RyaW5nKGEpKyIgIn1yZXR1cm4gb319LHtrZXk6Il9nZXRMb2dMZXZlbEJ5VmFsdWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDEwOnJldHVybiJERUJVRyI7Y2FzZSAyMDpyZXR1cm4iSU5GTyI7Y2FzZSAzMDpyZXR1cm4iV0FSTiI7Y2FzZSA0MDpyZXR1cm4iRVJST1IiO2Nhc2UgNTA6cmV0dXJuIkFEVkFOQ0VEX0xPRyJ9fX0se2tleToiX2NvbnZlcnRUb1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dHJ5e2lmKCFlKXJldHVybiIiO2lmKE4uaXNTdHJpbmcoZSkpcmV0dXJuIGU7aWYoTi5pc09iamVjdChlKSYmTi5pc0Z1bmN0aW9uKGUudG9TdHJpbmcpKXt2YXIgdD1lLnRvU3RyaW5nKCk7aWYoIltvYmplY3QgT2JqZWN0XSIhPT10KXJldHVybiB0fXJldHVybiBKU09OLnN0cmluZ2lmeShlKX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcigiRXJyb3Igd2hpbGUgY29udmVydGluZyBhcmd1bWVudCB0byBzdHJpbmciLGUsdCksIiJ9fX1dKSxlfSgpLEg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgVjtyZXR1cm4gZS5kZWJ1Zz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBjb25zb2xlLmRlYnVnLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGUuaW5mbz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBjb25zb2xlLmluZm8uYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUud2Fybi5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuZXJyb3IuYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZX0sej1uZXcgRztmdW5jdGlvbiBLKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19dmFyIFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyZTM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsZSksdGhpcy5udW1BdHRlbXB0cz0wLHRoaXMuZXhlY3V0b3I9dCx0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbj0hMSx0aGlzLmRlZmF1bHRSZXRyeT1ufXZhciB0LG47cmV0dXJuIHQ9ZSwobj1be2tleToicmV0cnkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbnx8KHRoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9uPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5fZXhlY3V0ZSgpfSksdGhpcy5fZ2V0RGVsYXkoKSkpfX0se2tleToiX2V4ZWN1dGUiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb249ITEsdGhpcy5leGVjdXRvcigpLHRoaXMubnVtQXR0ZW1wdHMrK319LHtrZXk6ImNvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm51bUF0dGVtcHRzPTB9fSx7a2V5OiJfZ2V0RGVsYXkiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5wb3coMix0aGlzLm51bUF0dGVtcHRzKSp0aGlzLmRlZmF1bHRSZXRyeTtyZXR1cm4gZTw9M2U0P2U6M2U0fX0se2tleToiZ2V0SXNDb25uZWN0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubnVtQXR0ZW1wdHN9fV0pJiZLKHQucHJvdG90eXBlLG4pLGV9KCk7ci5kKG4sImEiLChmdW5jdGlvbigpe3JldHVybiBRfSkpO3ZhciBYPWZ1bmN0aW9uKCl7dmFyIGU9ei5nZXRMb2dnZXIoe3ByZWZpeDphfSksdD1OLmlzTmV0d29ya09ubGluZSgpLG49e3ByaW1hcnk6bnVsbCxzZWNvbmRhcnk6bnVsbH0scj17cmVjb25uZWN0V2ViU29ja2V0OiEwLHdlYnNvY2tldEluaXRGYWlsZWQ6ITEsZXhwb25lbnRpYWxCYWNrT2ZmVGltZToxZTMsZXhwb25lbnRpYWxUaW1lb3V0SGFuZGxlOm51bGwsbGlmZVRpbWVUaW1lb3V0SGFuZGxlOm51bGwsd2ViU29ja2V0SW5pdENoZWNrZXJUaW1lb3V0SWQ6bnVsbCxjb25uU3RhdGU6bnVsbH0sbz17Y29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ6MCxjb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZTpudWxsLG5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wOm51bGx9LGk9e3BlbmRpbmdSZXNwb25zZTohMSxpbnRlcnZhbEhhbmRsZTpudWxsfSxMPXtpbml0RmFpbHVyZTpuZXcgU2V0LGdldFdlYlNvY2tldFRyYW5zcG9ydDpudWxsLHN1YnNjcmlwdGlvblVwZGF0ZTpuZXcgU2V0LHN1YnNjcmlwdGlvbkZhaWx1cmU6bmV3IFNldCx0b3BpYzpuZXcgTWFwLGFsbE1lc3NhZ2U6bmV3IFNldCxjb25uZWN0aW9uR2FpbjpuZXcgU2V0LGNvbm5lY3Rpb25Mb3N0Om5ldyBTZXQsY29ubmVjdGlvbk9wZW46bmV3IFNldCxjb25uZWN0aW9uQ2xvc2U6bmV3IFNldH0sTz17Y29ubkNvbmZpZzpudWxsLHByb21pc2VIYW5kbGU6bnVsbCxwcm9taXNlQ29tcGxldGVkOiEwfSxrPXtzdWJzY3JpYmVkOm5ldyBTZXQscGVuZGluZzpuZXcgU2V0LHN1YnNjcmlwdGlvbkhpc3Rvcnk6bmV3IFNldH0sUD17cmVzcG9uc2VDaGVja0ludGVydmFsSWQ6bnVsbCxyZXF1ZXN0Q29tcGxldGVkOiEwLHJlU3Vic2NyaWJlSW50ZXJ2YWxJZDpudWxsLGNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHM6MCxjb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0OjB9LHg9bmV3IFkoKGZ1bmN0aW9uKCl7c2UoKX0pKSxEPW5ldyBTZXQoW0EsImF3cy91bnN1YnNjcmliZSIsX10pLE09c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7aWYodCE9PU4uaXNOZXR3b3JrT25saW5lKCkpe2lmKCEodD1OLmlzTmV0d29ya09ubGluZSgpKSlyZXR1cm4gZS5hZHZhbmNlZExvZyhzKSx2b2lkIGxlKGUuaW5mbyhzKSk7dmFyIG49VigpO3QmJighbnx8cShuLFdlYlNvY2tldC5DTE9TSU5HKXx8cShuLFdlYlNvY2tldC5DTE9TRUQpKSYmKGUuYWR2YW5jZWRMb2coYyksbGUoZS5pbmZvKGMpKSxzZSgpKX19KSwyNTApLFU9ZnVuY3Rpb24odCxuKXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3RyeXt0KG4pfWNhdGNoKHQpe2xlKGUuZXJyb3IoIkVycm9yIGV4ZWN1dGluZyBjYWxsYmFjayIsdCkpfX0pKX0sRj1mdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4iTlVMTCI7c3dpdGNoKGUucmVhZHlTdGF0ZSl7Y2FzZSBXZWJTb2NrZXQuQ09OTkVDVElORzpyZXR1cm4iQ09OTkVDVElORyI7Y2FzZSBXZWJTb2NrZXQuT1BFTjpyZXR1cm4iT1BFTiI7Y2FzZSBXZWJTb2NrZXQuQ0xPU0lORzpyZXR1cm4iQ0xPU0lORyI7Y2FzZSBXZWJTb2NrZXQuQ0xPU0VEOnJldHVybiJDTE9TRUQiO2RlZmF1bHQ6cmV0dXJuIlVOREVGSU5FRCJ9fSxqPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiIiO2xlKGUuZGVidWcoIlsiK3QrIl0gUHJpbWFyeSBXZWJTb2NrZXQ6ICIrRihuLnByaW1hcnkpKyIgfCBTZWNvbmRhcnkgV2ViU29ja2V0OiAiK0Yobi5zZWNvbmRhcnkpKSl9LHE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5yZWFkeVN0YXRlPT09dH0sQj1mdW5jdGlvbihlKXtyZXR1cm4gcShlLFdlYlNvY2tldC5PUEVOKX0sRz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMD09PWUucmVhZHlTdGF0ZXx8cShlLFdlYlNvY2tldC5DTE9TRUQpfSxWPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1uLnNlY29uZGFyeT9uLnNlY29uZGFyeTpuLnByaW1hcnl9LFc9ZnVuY3Rpb24oKXtyZXR1cm4gQihWKCkpfSxIPWZ1bmN0aW9uKCl7aWYoaS5wZW5kaW5nUmVzcG9uc2UpcmV0dXJuIGUuYWR2YW5jZWRMb2cobCksbGUoZS53YXJuKGwpKSxjbGVhckludGVydmFsKGkuaW50ZXJ2YWxIYW5kbGUpLGkucGVuZGluZ1Jlc3BvbnNlPSExLHZvaWQgc2UoKTtXKCk/KGxlKGUuZGVidWcoIlNlbmRpbmcgaGVhcnRiZWF0IikpLFYoKS5zZW5kKGllKF8pKSxpLnBlbmRpbmdSZXNwb25zZT0hMCk6KGUuYWR2YW5jZWRMb2cocCksbGUoZS53YXJuKHApKSxqKCJzZW5kSGVhcnRCZWF0Iiksc2UoKSl9LEs9ZnVuY3Rpb24oKXtlLmFkdmFuY2VkTG9nKCJSZXNldCBXZWJzb2NrZXQgc3RhdGUiKSxyLmV4cG9uZW50aWFsQmFja09mZlRpbWU9MWUzLGkucGVuZGluZ1Jlc3BvbnNlPSExLHIucmVjb25uZWN0V2ViU29ja2V0PSEwLGNsZWFyVGltZW91dChyLmxpZmVUaW1lVGltZW91dEhhbmRsZSksY2xlYXJJbnRlcnZhbChpLmludGVydmFsSGFuZGxlKSxjbGVhclRpbWVvdXQoci5leHBvbmVudGlhbFRpbWVvdXRIYW5kbGUpLGNsZWFyVGltZW91dChyLndlYlNvY2tldEluaXRDaGVja2VyVGltZW91dElkKX0sWD1mdW5jdGlvbigpe1AuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cz0wLFAuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD0wLGNsZWFySW50ZXJ2YWwoUC5yZXNwb25zZUNoZWNrSW50ZXJ2YWxJZCksY2xlYXJJbnRlcnZhbChQLnJlU3Vic2NyaWJlSW50ZXJ2YWxJZCl9LFE9ZnVuY3Rpb24oKXtvLmNvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50PTAsby5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZT1udWxsLG8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA9bnVsbH0sSj1mdW5jdGlvbigpe3guY29ubmVjdGVkKCk7dHJ5e2UuYWR2YW5jZWRMb2coZCksbGUoZS5pbmZvKGQpKSxqKCJ3ZWJTb2NrZXRPbk9wZW4iKSxudWxsIT09ci5jb25uU3RhdGUmJnIuY29ublN0YXRlIT09Unx8VShMLmNvbm5lY3Rpb25HYWluKSxyLmNvbm5TdGF0ZT0iY29ubmVjdGVkIjt2YXIgdD1EYXRlLm5vdygpO1UoTC5jb25uZWN0aW9uT3Blbix7Y29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ6by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudCxjb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZTpvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lLG5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wOm8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXAsY29ubmVjdGlvbkVzdGFibGlzaGVkVGltZTp0LHRpbWVUb0Nvbm5lY3Q6dC1vLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lLHRpbWVXaXRob3V0Q29ubmVjdGlvbjpvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wP3Qtby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcDpudWxsfSksUSgpLEsoKSxWKCkub3BlblRpbWVzdGFtcD1EYXRlLm5vdygpLDA9PT1rLnN1YnNjcmliZWQuc2l6ZSYmQihuLnNlY29uZGFyeSkmJnRlKG4ucHJpbWFyeSwiW1ByaW1hcnkgV2ViU29ja2V0XSBDbG9zaW5nIFdlYlNvY2tldCIpLChrLnN1YnNjcmliZWQuc2l6ZT4wfHxrLnBlbmRpbmcuc2l6ZT4wKSYmKEIobi5zZWNvbmRhcnkpJiZsZShlLmluZm8oIlN1YnNjcmliaW5nIHNlY29uZGFyeSB3ZWJzb2NrZXQgdG8gdG9waWNzIG9mIHByaW1hcnkgd2Vic29ja2V0IikpLGsuc3Vic2NyaWJlZC5mb3JFYWNoKChmdW5jdGlvbihlKXtrLnN1YnNjcmlwdGlvbkhpc3RvcnkuYWRkKGUpLGsucGVuZGluZy5hZGQoZSl9KSksay5zdWJzY3JpYmVkLmNsZWFyKCksZWUoKSksSCgpLGkuaW50ZXJ2YWxIYW5kbGU9c2V0SW50ZXJ2YWwoSCwxZTQpO3ZhciBhPTFlMypPLmNvbm5Db25maWcud2ViU29ja2V0VHJhbnNwb3J0LnRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzO2xlKGUuZGVidWcoIlNjaGVkdWxpbmcgV2ViU29ja2V0IG1hbmFnZXIgcmVjb25uZWN0aW9uLCBhZnRlciBkZWxheSAiK2ErIiBtcyIpKSxyLmxpZmVUaW1lVGltZW91dEhhbmRsZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2xlKGUuZGVidWcoIlN0YXJ0aW5nIHNjaGVkdWxlZCBXZWJTb2NrZXQgbWFuYWdlciByZWNvbm5lY3Rpb24iKSksc2UoKX0pLGEpfWNhdGNoKHQpe2xlKGUuZXJyb3IoIkVycm9yIGFmdGVyIGVzdGFibGlzaGluZyBXZWJTb2NrZXQgY29ubmVjdGlvbiIsdCkpfX0sWj1mdW5jdGlvbih0KXtqKCJ3ZWJTb2NrZXRPbkVycm9yIiksZS5hZHZhbmNlZExvZyhmLEpTT04uc3RyaW5naWZ5KHQpKSxsZShlLmVycm9yKGYsSlNPTi5zdHJpbmdpZnkodCkpKSx4LmdldElzQ29ubmVjdGVkKCk/c2UoKTp4LnJldHJ5KCl9LCQ9ZnVuY3Rpb24odCl7dmFyIHI9SlNPTi5wYXJzZSh0LmRhdGEpO3N3aXRjaChyLnRvcGljKXtjYXNlIEE6aWYobGUoZS5kZWJ1ZygiU3Vic2NyaXB0aW9uIE1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB3ZWJTb2NrZXQgc2VydmVyIix0LmRhdGEpKSxQLnJlcXVlc3RDb21wbGV0ZWQ9ITAsUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PTAsInN1Y2Nlc3MiPT09ci5jb250ZW50LnN0YXR1cylQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHM9MCxyLmNvbnRlbnQudG9waWNzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2suc3Vic2NyaXB0aW9uSGlzdG9yeS5kZWxldGUoZSksay5wZW5kaW5nLmRlbGV0ZShlKSxrLnN1YnNjcmliZWQuYWRkKGUpfSkpLDA9PT1rLnN1YnNjcmlwdGlvbkhpc3Rvcnkuc2l6ZT9CKG4uc2Vjb25kYXJ5KSYmKGxlKGUuaW5mbygiU3VjY2Vzc2Z1bGx5IHN1YnNjcmliZWQgc2Vjb25kYXJ5IHdlYnNvY2tldCB0byBhbGwgdG9waWNzIG9mIHByaW1hcnkgd2Vic29ja2V0IikpLHRlKG4ucHJpbWFyeSwiW1ByaW1hcnkgV2ViU29ja2V0XSBDbG9zaW5nIFdlYlNvY2tldCIpKTplZSgpLFUoTC5zdWJzY3JpcHRpb25VcGRhdGUscik7ZWxzZXtpZihjbGVhckludGVydmFsKFAucmVTdWJzY3JpYmVJbnRlcnZhbElkKSwrK1AuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cyw1PT09UC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzKXJldHVybiBVKEwuc3Vic2NyaXB0aW9uRmFpbHVyZSxyKSx2b2lkKFAuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cz0wKTtQLnJlU3Vic2NyaWJlSW50ZXJ2YWxJZD1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlZSgpfSksNTAwKX1icmVhaztjYXNlIF86bGUoZS5kZWJ1ZygiSGVhcnRiZWF0IHJlc3BvbnNlIHJlY2VpdmVkIikpLGkucGVuZGluZ1Jlc3BvbnNlPSExO2JyZWFrO2RlZmF1bHQ6aWYoci50b3BpYyl7aWYoZS5hZHZhbmNlZExvZyhULHIudG9waWMpLGxlKGUuZGVidWcoVCtyLnRvcGljKSksQihuLnByaW1hcnkpJiZCKG4uc2Vjb25kYXJ5KSYmMD09PWsuc3Vic2NyaXB0aW9uSGlzdG9yeS5zaXplJiZ0aGlzPT09bi5wcmltYXJ5KXJldHVybiB2b2lkIGxlKGUud2FybigiSWdub3JpbmcgTWVzc2FnZSBmb3IgVG9waWMgIityLnRvcGljKyIsIHRvIGF2b2lkIGR1cGxpY2F0ZXMiKSk7aWYoMD09PUwuYWxsTWVzc2FnZS5zaXplJiYwPT09TC50b3BpYy5zaXplKXJldHVybiB2b2lkIGxlKGUud2FybigiTm8gcmVnaXN0ZXJlZCBjYWxsYmFjayBsaXN0ZW5lciBmb3IgVG9waWMiLHIudG9waWMpKTtlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXRNYW5hZ2VyIGludm9rZSBjYWxsYmFja3MgZm9yIHRvcGljIHN1Y2Nlc3MgIixyLnRvcGljKSxVKEwuYWxsTWVzc2FnZSxyKSxMLnRvcGljLmhhcyhyLnRvcGljKSYmVShMLnRvcGljLmdldChyLnRvcGljKSxyKX1lbHNlIHIubWVzc2FnZT8oZS5hZHZhbmNlZExvZyhJLHIpLGxlKGUud2FybihJLHIpKSk6KGUuYWR2YW5jZWRMb2codyxyKSxsZShlLndhcm4odyxyKSkpfX0sZWU9ZnVuY3Rpb24gdCgpe2lmKFAuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD4zKXJldHVybiBsZShlLndhcm4oIklnbm9yaW5nIHN1YnNjcmliZVBlbmRpbmdUb3BpY3Mgc2luY2Ugd2UgaGF2ZSBleGhhdXN0ZWQgbWF4IHN1YnNjcmlwdGlvbiByZXRyaWVzIHdpdGggbm8gcmVzcG9uc2UiKSksdm9pZCBVKEwuc3Vic2NyaXB0aW9uRmFpbHVyZSxOLmdldFN1YnNjcmlwdGlvblJlc3BvbnNlKEEsITEsQXJyYXkuZnJvbShrLnBlbmRpbmcpKSk7VygpPzAhPT1BcnJheS5mcm9tKGsucGVuZGluZykubGVuZ3RoJiYoY2xlYXJJbnRlcnZhbChQLnJlc3BvbnNlQ2hlY2tJbnRlcnZhbElkKSxWKCkuc2VuZChpZShBLHt0b3BpY3M6QXJyYXkuZnJvbShrLnBlbmRpbmcpfSkpLFAucmVxdWVzdENvbXBsZXRlZD0hMSxQLnJlc3BvbnNlQ2hlY2tJbnRlcnZhbElkPXNldEludGVydmFsKChmdW5jdGlvbigpe1AucmVxdWVzdENvbXBsZXRlZHx8KCsrUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0LHQoKSl9KSwxZTMpKTpsZShlLndhcm4oIklnbm9yaW5nIHN1YnNjcmliZVBlbmRpbmdUb3BpY3MgY2FsbCBzaW5jZSBEZWZhdWx0IFdlYlNvY2tldCBpcyBub3Qgb3BlbiIpKX0sdGU9ZnVuY3Rpb24odCxuKXtxKHQsV2ViU29ja2V0LkNPTk5FQ1RJTkcpfHxxKHQsV2ViU29ja2V0Lk9QRU4pP3QuY2xvc2UoMWUzLG4pOmxlKGUud2FybigiSWdub3JpbmcgV2ViU29ja2V0IENsb3NlIHJlcXVlc3QsIFdlYlNvY2tldCBTdGF0ZTogIitGKHQpKSl9LG5lPWZ1bmN0aW9uKGUpe3RlKG4ucHJpbWFyeSwiW1ByaW1hcnldIFdlYlNvY2tldCAiK2UpLHRlKG4uc2Vjb25kYXJ5LCJbU2Vjb25kYXJ5XSBXZWJTb2NrZXQgIitlKX0scmU9ZnVuY3Rpb24oKXtvLmNvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50Kys7dmFyIHQ9Ti5hZGRKaXR0ZXIoci5leHBvbmVudGlhbEJhY2tPZmZUaW1lLC4zKTtEYXRlLm5vdygpK3Q8PU8uY29ubkNvbmZpZy51cmxDb25uVmFsaWRUaW1lPyhlLmFkdmFuY2VkTG9nKGcpLGxlKGUuZGVidWcoZyt0KyIgbXMiKSksci5leHBvbmVudGlhbFRpbWVvdXRIYW5kbGU9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gY2UoKX0pLHQpLHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZSo9Mik6KGUuYWR2YW5jZWRMb2cobSksbGUoZS53YXJuKG0pKSxzZSgpKX0sb2U9ZnVuY3Rpb24odCl7SygpLFgoKSxlLmFkdmFuY2VkTG9nKHYsdCksbGUoZS5lcnJvcih2KSksci53ZWJzb2NrZXRJbml0RmFpbGVkPSEwLG5lKCJUZXJtaW5hdGluZyBXZWJTb2NrZXQgTWFuYWdlciIpLGNsZWFySW50ZXJ2YWwoTSksVShMLmluaXRGYWlsdXJlLHtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDpvLmNvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50LGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUscmVhc29uOnR9KSxRKCl9LGllPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHt0b3BpYzplLGNvbnRlbnQ6dH0pfSxhZT1mdW5jdGlvbih0KXtyZXR1cm4hIShOLmlzT2JqZWN0KHQpJiZOLmlzT2JqZWN0KHQud2ViU29ja2V0VHJhbnNwb3J0KSYmTi5pc05vbkVtcHR5U3RyaW5nKHQud2ViU29ja2V0VHJhbnNwb3J0LnVybCkmJk4udmFsaWRXU1VybCh0LndlYlNvY2tldFRyYW5zcG9ydC51cmwpJiYxZTMqdC53ZWJTb2NrZXRUcmFuc3BvcnQudHJhbnNwb3J0TGlmZVRpbWVJblNlY29uZHM+PTNlNSl8fChsZShlLmVycm9yKCJJbnZhbGlkIFdlYlNvY2tldCBDb25uZWN0aW9uIENvbmZpZ3VyYXRpb24iLHQpKSwhMSl9LHNlPWZ1bmN0aW9uKCl7aWYoIU4uaXNOZXR3b3JrT25saW5lKCkpcmV0dXJuIGUuYWR2YW5jZWRMb2codSksdm9pZCBsZShlLmluZm8odSkpO2lmKHIud2Vic29ja2V0SW5pdEZhaWxlZClsZShlLmRlYnVnKCJXZWJTb2NrZXQgSW5pdCBoYWQgZmFpbGVkLCBpZ25vcmluZyB0aGlzIGdldFdlYlNvY2tldENvbm5Db25maWcgcmVxdWVzdCIpKTtlbHNle2lmKE8ucHJvbWlzZUNvbXBsZXRlZClyZXR1cm4gSygpLGUuYWR2YW5jZWRMb2coeSksbGUoZS5pbmZvKHkpKSxvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lPW8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWV8fERhdGUubm93KCksTy5wcm9taXNlQ29tcGxldGVkPSExLE8ucHJvbWlzZUhhbmRsZT1MLmdldFdlYlNvY2tldFRyYW5zcG9ydCgpLE8ucHJvbWlzZUhhbmRsZS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gTy5wcm9taXNlQ29tcGxldGVkPSEwLGUuYWR2YW5jZWRMb2coYiksbGUoZS5kZWJ1ZyhiLHQpKSxhZSh0KT8oTy5jb25uQ29uZmlnPXQsTy5jb25uQ29uZmlnLnVybENvbm5WYWxpZFRpbWU9RGF0ZS5ub3coKSs4NWUzLGNlKCkpOihvZSgiSW52YWxpZCBXZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uOiAiK3QpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfSl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIE8ucHJvbWlzZUNvbXBsZXRlZD0hMCxlLmFkdmFuY2VkTG9nKFMpLGxlKGUuZXJyb3IoUyx0KSksTi5pc05ldHdvcmtGYWlsdXJlKHQpPyhlLmFkdmFuY2VkTG9nKEUrSlNPTi5zdHJpbmdpZnkodCkpLGxlKGUuaW5mbyhFK0pTT04uc3RyaW5naWZ5KHQpKSkseC5yZXRyeSgpKTpvZSgiRmFpbGVkIHRvIGZldGNoIHdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb246ICIrSlNPTi5zdHJpbmdpZnkodCkpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfX0pKTtsZShlLmRlYnVnKCJUaGVyZSBpcyBhbiBvbmdvaW5nIGdldFdlYlNvY2tldENvbm5Db25maWcgcmVxdWVzdCwgdGhpcyByZXF1ZXN0IHdpbGwgYmUgaWdub3JlZCIpKX19LGNlPWZ1bmN0aW9uKCl7aWYoci53ZWJzb2NrZXRJbml0RmFpbGVkKXJldHVybiBsZShlLmluZm8oIndlYi1zb2NrZXQgaW5pdGlhbGl6aW5nIGhhZCBmYWlsZWQsIGFib3J0aW5nIHJlLWluaXQiKSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9O2lmKCFOLmlzTmV0d29ya09ubGluZSgpKXJldHVybiBsZShlLndhcm4oIlN5c3RlbSBpcyBvZmZsaW5lIGFib3J0aW5nIHdlYi1zb2NrZXQgaW5pdCIpKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH07ZS5hZHZhbmNlZExvZyhDKSxsZShlLmluZm8oQykpLGooImluaXRXZWJTb2NrZXQiKTt0cnl7aWYoYWUoTy5jb25uQ29uZmlnKSl7dmFyIHQ9bnVsbDtyZXR1cm4gQihuLnByaW1hcnkpPyhsZShlLmRlYnVnKCJQcmltYXJ5IFNvY2tldCBjb25uZWN0aW9uIGlzIGFscmVhZHkgb3BlbiIpKSxxKG4uc2Vjb25kYXJ5LFdlYlNvY2tldC5DT05ORUNUSU5HKXx8KGxlKGUuZGVidWcoIkVzdGFibGlzaGluZyBhIHNlY29uZGFyeSB3ZWItc29ja2V0IGNvbm5lY3Rpb24iKSkseC5udW1BdHRlbXB0cz0wLG4uc2Vjb25kYXJ5PXVlKCkpLHQ9bi5zZWNvbmRhcnkpOihxKG4ucHJpbWFyeSxXZWJTb2NrZXQuQ09OTkVDVElORyl8fChsZShlLmRlYnVnKCJFc3RhYmxpc2hpbmcgYSBwcmltYXJ5IHdlYi1zb2NrZXQgY29ubmVjdGlvbiIpKSxuLnByaW1hcnk9dWUoKSksdD1uLnByaW1hcnkpLHIud2ViU29ja2V0SW5pdENoZWNrZXJUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtCKHQpfHxyZSgpfSksMWUzKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMX19fWNhdGNoKHQpe3JldHVybiBsZShlLmVycm9yKCJFcnJvciBJbml0aWFsaXppbmcgd2ViLXNvY2tldC1tYW5hZ2VyIix0KSksb2UoIkZhaWxlZCB0byBpbml0aWFsaXplIG5ldyBXZWJTb2NrZXQ6ICIrdC5tZXNzYWdlKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH19fSx1ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBXZWJTb2NrZXQoTy5jb25uQ29uZmlnLndlYlNvY2tldFRyYW5zcG9ydC51cmwpO3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoIm9wZW4iLEopLHQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsJCksdC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsWiksdC5hZGRFdmVudExpc3RlbmVyKCJjbG9zZSIsKGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbih0LGkpe2UuYWR2YW5jZWRMb2coaCxKU09OLnN0cmluZ2lmeSh0KSksbGUoZS5pbmZvKGgsSlNPTi5zdHJpbmdpZnkodCkpKSxqKCJ3ZWJTb2NrZXRPbkNsb3NlIGJlZm9yZS1jbGVhbnVwIiksVShMLmNvbm5lY3Rpb25DbG9zZSx7b3BlblRpbWVzdGFtcDppLm9wZW5UaW1lc3RhbXAsY2xvc2VUaW1lc3RhbXA6RGF0ZS5ub3coKSxjb25uZWN0aW9uRHVyYXRpb246RGF0ZS5ub3coKS1pLm9wZW5UaW1lc3RhbXAsY29kZTp0LmNvZGUscmVhc29uOnQucmVhc29ufSksRyhuLnByaW1hcnkpJiYobi5wcmltYXJ5PW51bGwpLEcobi5zZWNvbmRhcnkpJiYobi5zZWNvbmRhcnk9bnVsbCksci5yZWNvbm5lY3RXZWJTb2NrZXQmJihCKG4ucHJpbWFyeSl8fEIobi5zZWNvbmRhcnkpP0cobi5wcmltYXJ5KSYmQihuLnNlY29uZGFyeSkmJihsZShlLmluZm8oIltQcmltYXJ5XSBXZWJTb2NrZXQgQ2xlYW5seSBDbG9zZWQiKSksbi5wcmltYXJ5PW4uc2Vjb25kYXJ5LG4uc2Vjb25kYXJ5PW51bGwpOihsZShlLndhcm4oIk5laXRoZXIgcHJpbWFyeSB3ZWJzb2NrZXQgYW5kIG5vciBzZWNvbmRhcnkgd2Vic29ja2V0IGhhdmUgb3BlbiBjb25uZWN0aW9ucywgYXR0ZW1wdGluZyB0byByZS1lc3RhYmxpc2ggY29ubmVjdGlvbiIpKSxyLmNvbm5TdGF0ZT09PVI/bGUoZS5pbmZvKCJJZ25vcmluZyBjb25uZWN0aW9uTG9zdCBjYWxsYmFjayBpbnZvY2F0aW9uIikpOihVKEwuY29ubmVjdGlvbkxvc3Qse29wZW5UaW1lc3RhbXA6aS5vcGVuVGltZXN0YW1wLGNsb3NlVGltZXN0YW1wOkRhdGUubm93KCksY29ubmVjdGlvbkR1cmF0aW9uOkRhdGUubm93KCktaS5vcGVuVGltZXN0YW1wLGNvZGU6dC5jb2RlLHJlYXNvbjp0LnJlYXNvbn0pLG8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA9RGF0ZS5ub3coKSksci5jb25uU3RhdGU9UixzZSgpKSxqKCJ3ZWJTb2NrZXRPbkNsb3NlIGFmdGVyLWNsZWFudXAiKSl9KGksdCl9KSksdH0sbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyJiZlLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZX07dGhpcy5pbml0PWZ1bmN0aW9uKHQpe2lmKE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksInRyYW5zcG9ydEhhbmRsZSBtdXN0IGJlIGEgZnVuY3Rpb24iKSxudWxsPT09TC5nZXRXZWJTb2NrZXRUcmFuc3BvcnQpcmV0dXJuIEwuZ2V0V2ViU29ja2V0VHJhbnNwb3J0PXQsc2UoKTtsZShlLndhcm4oIldlYiBTb2NrZXQgTWFuYWdlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZCIpKX0sdGhpcy5vbkluaXRGYWlsdXJlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJJbml0aWFsaXppbmcgV2Vic29ja2V0IE1hbmFnZXIgRmFpbGVkISIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLEwuaW5pdEZhaWx1cmUuYWRkKHQpLHIud2Vic29ja2V0SW5pdEZhaWxlZCYmdCgpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuaW5pdEZhaWx1cmUuZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25PcGVuPWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBvcGVuIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC5jb25uZWN0aW9uT3Blbi5hZGQodCksZnVuY3Rpb24oKXtyZXR1cm4gTC5jb25uZWN0aW9uT3Blbi5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbkNsb3NlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBjbG9zZSIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLEwuY29ubmVjdGlvbkNsb3NlLmFkZCh0KSxmdW5jdGlvbigpe3JldHVybiBMLmNvbm5lY3Rpb25DbG9zZS5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbkdhaW49ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIGdhaW4iKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxMLmNvbm5lY3Rpb25HYWluLmFkZCh0KSxXKCkmJnQoKSxmdW5jdGlvbigpe3JldHVybiBMLmNvbm5lY3Rpb25HYWluLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uTG9zdD1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gbG9zdCIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLEwuY29ubmVjdGlvbkxvc3QuYWRkKHQpLHIuY29ublN0YXRlPT09UiYmdCgpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuY29ubmVjdGlvbkxvc3QuZGVsZXRlKHQpfX0sdGhpcy5vblN1YnNjcmlwdGlvblVwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbihlKSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC5zdWJzY3JpcHRpb25VcGRhdGUuYWRkKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuc3Vic2NyaXB0aW9uVXBkYXRlLmRlbGV0ZShlKX19LHRoaXMub25TdWJzY3JpcHRpb25GYWlsdXJlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgc3Vic2NyaXB0aW9uIGZhaWx1cmUiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxMLnN1YnNjcmlwdGlvbkZhaWx1cmUuYWRkKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIEwuc3Vic2NyaXB0aW9uRmFpbHVyZS5kZWxldGUodCl9fSx0aGlzLm9uTWVzc2FnZT1mdW5jdGlvbihlLHQpe3JldHVybiBOLmFzc2VydE5vdE51bGwoZSwidG9waWNOYW1lIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC50b3BpYy5oYXMoZSk/TC50b3BpYy5nZXQoZSkuYWRkKHQpOkwudG9waWMuc2V0KGUsbmV3IFNldChbdF0pKSxmdW5jdGlvbigpe3JldHVybiBMLnRvcGljLmdldChlKS5kZWxldGUodCl9fSx0aGlzLm9uQWxsTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbihlKSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTC5hbGxNZXNzYWdlLmFkZChlKSxmdW5jdGlvbigpe3JldHVybiBMLmFsbE1lc3NhZ2UuZGVsZXRlKGUpfX0sdGhpcy5zdWJzY3JpYmVUb3BpY3M9ZnVuY3Rpb24oZSl7Ti5hc3NlcnROb3ROdWxsKGUsInRvcGljcyIpLE4uYXNzZXJ0SXNMaXN0KGUpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ay5zdWJzY3JpYmVkLmhhcyhlKXx8ay5wZW5kaW5nLmFkZChlKX0pKSxQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q9MCxlZSgpfSx0aGlzLnNlbmRNZXNzYWdlPWZ1bmN0aW9uKHQpe2lmKE4uYXNzZXJ0SXNPYmplY3QodCwicGF5bG9hZCIpLHZvaWQgMD09PXQudG9waWN8fEQuaGFzKHQudG9waWMpKWxlKGUud2FybigiQ2Fubm90IHNlbmQgbWVzc2FnZSwgSW52YWxpZCB0b3BpYyIsdCkpO2Vsc2V7dHJ5e3Q9SlNPTi5zdHJpbmdpZnkodCl9Y2F0Y2gobil7cmV0dXJuIHZvaWQgbGUoZS53YXJuKCJFcnJvciBzdHJpbmdpZnkgbWVzc2FnZSIsdCkpfVcoKT9WKCkuc2VuZCh0KTpsZShlLndhcm4oIkNhbm5vdCBzZW5kIG1lc3NhZ2UsIHdlYiBzb2NrZXQgY29ubmVjdGlvbiBpcyBub3Qgb3BlbiIpKX19LHRoaXMuY2xvc2VXZWJTb2NrZXQ9ZnVuY3Rpb24oKXtLKCksWCgpLHIucmVjb25uZWN0V2ViU29ja2V0PSExLGNsZWFySW50ZXJ2YWwoTSksbmUoIlVzZXIgcmVxdWVzdCB0byBjbG9zZSBXZWJTb2NrZXQiKX0sdGhpcy50ZXJtaW5hdGVXZWJTb2NrZXRNYW5hZ2VyPW9lfSxRPXtjcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFh9LHNldEdsb2JhbENvbmZpZzpmdW5jdGlvbihlKXt2YXIgdD1lJiZlLmxvZ2dlckNvbmZpZzt6LnVwZGF0ZUxvZ2dlckNvbmZpZyh0KX0sTG9nTGV2ZWw6QixMb2dnZXI6an19LGZ1bmN0aW9uKHQsbixyKXt2YXIgbzshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGk9e25vdF9zdHJpbmc6L1tec10vLG5vdF9ib29sOi9bXnRdLyxub3RfdHlwZTovW15UXS8sbm90X3ByaW1pdGl2ZTovW152XS8sbnVtYmVyOi9bZGllZmddLyxudW1lcmljX2FyZzovW2JjZGllZmd1eFhdLyxqc29uOi9bal0vLG5vdF9qc29uOi9bXmpdLyx0ZXh0Oi9eW15ceDI1XSsvLG1vZHVsbzovXlx4MjV7Mn0vLHBsYWNlaG9sZGVyOi9eXHgyNSg/OihbMS05XVxkKilcJHxcKChbXildKylcKSk/KFwrKT8oMHwnW14kXSk/KC0pPyhcZCspPyg/OlwuKFxkKykpPyhbYi1naWpvc3RUdXZ4WF0pLyxrZXk6L14oW2Etel9dW2Etel9cZF0qKS9pLGtleV9hY2Nlc3M6L15cLihbYS16X11bYS16X1xkXSopL2ksaW5kZXhfYWNjZXNzOi9eXFsoXGQrKVxdLyxzaWduOi9eWystXS99O2Z1bmN0aW9uIGEodCl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIHIsbyxzLGMsdSxsLHAsZCxoLGY9MSxnPXQubGVuZ3RoLG09IiI7Zm9yKG89MDtvPGc7bysrKWlmKCJzdHJpbmciPT10eXBlb2YgdFtvXSltKz10W29dO2Vsc2UgaWYoIm9iamVjdCI9PWUodFtvXSkpe2lmKChjPXRbb10pLmtleXMpZm9yKHI9bltmXSxzPTA7czxjLmtleXMubGVuZ3RoO3MrKyl7aWYobnVsbD09cil0aHJvdyBuZXcgRXJyb3IoYSgnW3NwcmludGZdIENhbm5vdCBhY2Nlc3MgcHJvcGVydHkgIiVzIiBvZiB1bmRlZmluZWQgdmFsdWUgIiVzIicsYy5rZXlzW3NdLGMua2V5c1tzLTFdKSk7cj1yW2Mua2V5c1tzXV19ZWxzZSByPWMucGFyYW1fbm8/bltjLnBhcmFtX25vXTpuW2YrK107aWYoaS5ub3RfdHlwZS50ZXN0KGMudHlwZSkmJmkubm90X3ByaW1pdGl2ZS50ZXN0KGMudHlwZSkmJnIgaW5zdGFuY2VvZiBGdW5jdGlvbiYmKHI9cigpKSxpLm51bWVyaWNfYXJnLnRlc3QoYy50eXBlKSYmIm51bWJlciIhPXR5cGVvZiByJiZpc05hTihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKGEoIltzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlVCIscikpO3N3aXRjaChpLm51bWJlci50ZXN0KGMudHlwZSkmJihkPXI+PTApLGMudHlwZSl7Y2FzZSJiIjpyPXBhcnNlSW50KHIsMTApLnRvU3RyaW5nKDIpO2JyZWFrO2Nhc2UiYyI6cj1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHIsMTApKTticmVhaztjYXNlImQiOmNhc2UiaSI6cj1wYXJzZUludChyLDEwKTticmVhaztjYXNlImoiOnI9SlNPTi5zdHJpbmdpZnkocixudWxsLGMud2lkdGg/cGFyc2VJbnQoYy53aWR0aCk6MCk7YnJlYWs7Y2FzZSJlIjpyPWMucHJlY2lzaW9uP3BhcnNlRmxvYXQocikudG9FeHBvbmVudGlhbChjLnByZWNpc2lvbik6cGFyc2VGbG9hdChyKS50b0V4cG9uZW50aWFsKCk7YnJlYWs7Y2FzZSJmIjpyPWMucHJlY2lzaW9uP3BhcnNlRmxvYXQocikudG9GaXhlZChjLnByZWNpc2lvbik6cGFyc2VGbG9hdChyKTticmVhaztjYXNlImciOnI9Yy5wcmVjaXNpb24/U3RyaW5nKE51bWJlcihyLnRvUHJlY2lzaW9uKGMucHJlY2lzaW9uKSkpOnBhcnNlRmxvYXQocik7YnJlYWs7Y2FzZSJvIjpyPShwYXJzZUludChyLDEwKT4+PjApLnRvU3RyaW5nKDgpO2JyZWFrO2Nhc2UicyI6cj1TdHJpbmcocikscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UidCI6cj1TdHJpbmcoISFyKSxyPWMucHJlY2lzaW9uP3Iuc3Vic3RyaW5nKDAsYy5wcmVjaXNpb24pOnI7YnJlYWs7Y2FzZSJUIjpyPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlInUiOnI9cGFyc2VJbnQociwxMCk+Pj4wO2JyZWFrO2Nhc2UidiI6cj1yLnZhbHVlT2YoKSxyPWMucHJlY2lzaW9uP3Iuc3Vic3RyaW5nKDAsYy5wcmVjaXNpb24pOnI7YnJlYWs7Y2FzZSJ4IjpyPShwYXJzZUludChyLDEwKT4+PjApLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIlgiOnI9KHBhcnNlSW50KHIsMTApPj4+MCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9aS5qc29uLnRlc3QoYy50eXBlKT9tKz1yOighaS5udW1iZXIudGVzdChjLnR5cGUpfHxkJiYhYy5zaWduP2g9IiI6KGg9ZD8iKyI6Ii0iLHI9ci50b1N0cmluZygpLnJlcGxhY2UoaS5zaWduLCIiKSksbD1jLnBhZF9jaGFyPyIwIj09PWMucGFkX2NoYXI/IjAiOmMucGFkX2NoYXIuY2hhckF0KDEpOiIgIixwPWMud2lkdGgtKGgrcikubGVuZ3RoLHU9Yy53aWR0aCYmcD4wP2wucmVwZWF0KHApOiIiLG0rPWMuYWxpZ24/aCtyK3U6IjAiPT09bD9oK3Urcjp1K2grcil9cmV0dXJuIG19KGZ1bmN0aW9uKGUpe2lmKGNbZV0pcmV0dXJuIGNbZV07Zm9yKHZhciB0LG49ZSxyPVtdLG89MDtuOyl7aWYobnVsbCE9PSh0PWkudGV4dC5leGVjKG4pKSlyLnB1c2godFswXSk7ZWxzZSBpZihudWxsIT09KHQ9aS5tb2R1bG8uZXhlYyhuKSkpci5wdXNoKCIlIik7ZWxzZXtpZihudWxsPT09KHQ9aS5wbGFjZWhvbGRlci5leGVjKG4pKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIltzcHJpbnRmXSB1bmV4cGVjdGVkIHBsYWNlaG9sZGVyIik7aWYodFsyXSl7b3w9MTt2YXIgYT1bXSxzPXRbMl0sdT1bXTtpZihudWxsPT09KHU9aS5rZXkuZXhlYyhzKSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleSIpO2ZvcihhLnB1c2godVsxXSk7IiIhPT0ocz1zLnN1YnN0cmluZyh1WzBdLmxlbmd0aCkpOylpZihudWxsIT09KHU9aS5rZXlfYWNjZXNzLmV4ZWMocykpKWEucHVzaCh1WzFdKTtlbHNle2lmKG51bGw9PT0odT1pLmluZGV4X2FjY2Vzcy5leGVjKHMpKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5Iik7YS5wdXNoKHVbMV0pfXRbMl09YX1lbHNlIG98PTI7aWYoMz09PW8pdGhyb3cgbmV3IEVycm9yKCJbc3ByaW50Zl0gbWl4aW5nIHBvc2l0aW9uYWwgYW5kIG5hbWVkIHBsYWNlaG9sZGVycyBpcyBub3QgKHlldCkgc3VwcG9ydGVkIik7ci5wdXNoKHtwbGFjZWhvbGRlcjp0WzBdLHBhcmFtX25vOnRbMV0sa2V5czp0WzJdLHNpZ246dFszXSxwYWRfY2hhcjp0WzRdLGFsaWduOnRbNV0sd2lkdGg6dFs2XSxwcmVjaXNpb246dFs3XSx0eXBlOnRbOF19KX1uPW4uc3Vic3RyaW5nKHRbMF0ubGVuZ3RoKX1yZXR1cm4gY1tlXT1yfSh0KSxhcmd1bWVudHMpfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gYS5hcHBseShudWxsLFtlXS5jb25jYXQodHx8W10pKX12YXIgYz1PYmplY3QuY3JlYXRlKG51bGwpO24uc3ByaW50Zj1hLG4udnNwcmludGY9cywidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5zcHJpbnRmPWEsd2luZG93LnZzcHJpbnRmPXMsdm9pZCAwPT09KG89ZnVuY3Rpb24oKXtyZXR1cm57c3ByaW50ZjphLHZzcHJpbnRmOnN9fS5jYWxsKG4scixuLHQpKXx8KHQuZXhwb3J0cz1vKSl9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpLGZ1bmN0aW9uKGUpe24uZCh0LCJXZWJTb2NrZXRNYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDApO2UuY29ubmVjdD1lLmNvbm5lY3R8fHt9LGNvbm5lY3QuV2ViU29ja2V0TWFuYWdlcj1yLmE7dmFyIG89ci5hfS5jYWxsKHRoaXMsbigzKSl9LGZ1bmN0aW9uKHQsbil7dmFyIHI7cj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtyPXJ8fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKHQpeyJvYmplY3QiPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/InVuZGVmaW5lZCI6ZSh3aW5kb3cpKSYmKHI9d2luZG93KX10LmV4cG9ydHM9cn1dKX0sMTQ0OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLG49dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9bix0LmxpbHk9bjt2YXIgcj17VEVTVDoiVEVTVCIsVFJBQ0U6IlRSQUNFIixERUJVRzoiREVCVUciLElORk86IklORk8iLExPRzoiTE9HIixXQVJOOiJXQVJOIixFUlJPUjoiRVJST1IiLENSSVRJQ0FMOiJDUklUSUNBTCJ9LG89e0NDUDoiY2NwIixTT0ZUUEhPTkU6InNvZnRwaG9uZSIsQ0hBVDoiY2hhdCIsVEFTSzoidGFzayJ9LGk9e1RFU1Q6MCxUUkFDRToxMCxERUJVRzoyMCxJTkZPOjMwLExPRzo0MCxXQVJOOjUwLEVSUk9SOjEwMCxDUklUSUNBTDoyMDB9LGE9IkNDUCIscz0iU2hhcmVkV29ya2VyIixjPSJDUk0iLHU9e1RSQUNFOmZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sREVCVUc6ZnVuY3Rpb24oZSl7Y29uc29sZS5pbmZvKGUpfSxJTkZPOmZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sTE9HOmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUpfSxURVNUOmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUpfSxXQVJOOmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihlKX0sRVJST1I6ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcihlKX0sQ1JJVElDQUw6ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcihlKX19LGw9IltyZWRhY3RlZF0iLHA9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsMCksaT1yLnNoaWZ0KCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi0xIT09T2JqZWN0LnZhbHVlcyhvKS5pbmRleE9mKGUpfShpKT8obj1pLHQ9ci5zaGlmdCgpKToodD1pLG49by5DQ1ApLHtmb3JtYXQ6dCxjb21wb25lbnQ6bixhcmdzOnJ9fSxkPWZ1bmN0aW9uKGUsdCxyLG8saSx1KXt0aGlzLmNvbXBvbmVudD1lLHRoaXMubGV2ZWw9dCx0aGlzLnRleHQ9cix0aGlzLnRpbWU9bmV3IERhdGUsdGhpcy50YWJJZD1udWxsPT09aT9udWxsOml8fG4uY29yZS50YWJJZCx0aGlzLmV4Y2VwdGlvbj1udWxsLHRoaXMub2JqZWN0cz1bXSx0aGlzLmxpbmU9MCx0aGlzLmFnZW50UmVzb3VyY2VJZD1udWxsO3RyeXtuLmFnZW50LmluaXRpYWxpemVkJiYodGhpcy5hZ2VudFJlc291cmNlSWQ9KG5ldyBuLkFnZW50KS5fZ2V0UmVzb3VyY2VJZCgpKX1jYXRjaChlKXtjb25zb2xlLmxvZygiSXNzdWUgZmluZGluZyBhZ2VudFJlc291cmNlSWQ6ICIsZSl9dGhpcy5sb2dnZXJJZD1vLHU/dGhpcy5jb250ZXh0TGF5ZXI9dTpuLmlzU2hhcmVkV29ya2VyKCk/dGhpcy5jb250ZXh0TGF5ZXI9czpuLmlzQ1JNKCk/dGhpcy5jb250ZXh0TGF5ZXI9YzpuLmlzQ0NQKCkmJih0aGlzLmNvbnRleHRMYXllcj1hKX07ZC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFiSWR8fG51bGwsbj1lLmNvbnRleHRMYXllcnx8bnVsbCxyPW5ldyBkKG8uQ0NQLGUubGV2ZWwsZS50ZXh0LGUubG9nZ2VySWQsdCxuKTtyZXR1cm4iW29iamVjdCBEYXRlXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS50aW1lKT9yLnRpbWU9bmV3IERhdGUoZS50aW1lLmdldFRpbWUoKSk6Im51bWJlciI9PXR5cGVvZiBlLnRpbWU/ci50aW1lPW5ldyBEYXRlKGUudGltZSk6InN0cmluZyI9PXR5cGVvZiBlLnRpbWU/ci50aW1lPURhdGUucGFyc2UoZS50aW1lKTpyLnRpbWU9bmV3IERhdGUsci5leGNlcHRpb249ZS5leGNlcHRpb24sci5vYmplY3RzPWUub2JqZWN0cyxyfTt2YXIgaD1mdW5jdGlvbih0KXt2YXIgbj0vKEF1dGhUb2tlbi4qKS9naSxyPS9QaG9uZSBudW1iZXIuKi9naSxvPS9TZW5kIGRpZ2l0LiovZ2ksaT0vQ29ubmVjdGlvbkF1dGhlbnRpY2F0aW9uVG9rZW4uKi9naSxhPS8oImNyZWRlbnRpYWwiOiIpKFteIl0qKSIvLHM9L1thLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXC5bYS16QS1aXXsyLH0vZyxjPVsicXVpY2tjb25uZWN0bmFtZSIsInRva2VuIiwibG9naW4iLCJjcmVkZW50aWFsIiwiaW50ZXJuYWxpcCIsImF1dGh0b2tlbiIsInBob25lbnVtYmVyIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJlbWFpbGFkZHJlc3MiLCJhZGRyZXNzIiwiZGlzcGxheW5hbWUiLCJhZ2VudG5hbWUiLCJkZXNjcmlwdGlvbiIsIm5hbWUiLCJ2YWx1ZSIsInN1bW1hcnkiLCJxdWV1ZS5uYW1lIl0sdT1bImN1c3RvbWVyaWQiLCJzcGVha2VyaWQiLCJjdXN0b21lcnNwZWFrZXJpZCIsInByZXNpZ25lZHVybCJdO3QmJiJvYmplY3QiPT09ZSh0KSYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocCl7aWYoIm9iamVjdCI9PT1lKHRbcF0pKWlmKCJhdHRyaWJ1dGVzIj09PXApdFtwXT1sO2Vsc2V7aWYoInN0YXRlIj09PXApcmV0dXJuO2godFtwXSl9ZWxzZSJzdHJpbmciPT10eXBlb2YgdFtwXSYmKCJ1cmwiPT09cHx8InRleHQiPT09cD8odFtwXT10W3BdLnJlcGxhY2UobixsKSx0W3BdPXRbcF0ucmVwbGFjZShyLCJwaG9uZSBudW1iZXIiK2wpLHRbcF09dFtwXS5yZXBsYWNlKG8sInNlbmQgZGlnaXQgIitsKSx0W3BdPXRbcF0ucmVwbGFjZShpLGwpLHRbcF09dFtwXS5yZXBsYWNlKHMsImVtYWlsIGFkZHJlc3MgIitsKSk6Yy5pbmNsdWRlcyhwLnRvTG93ZXJDYXNlKCkpP3RbcF09bDoiY2FsbGNvbmZpZ2pzb24iPT09cC50b0xvd2VyQ2FzZSgpP3RbcF09dFtwXS5yZXBsYWNlKGEsKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCtsKyciJ30pKTp1LmluY2x1ZGVzKHAudG9Mb3dlckNhc2UoKSkmJih0W3BdPSIiLmNvbmNhdCgiW29iZnVzY2F0ZWQgdmFsdWVdIiwiICIpLmNvbmNhdChtZDUodFtwXSkpKSl9KSl9LGY9ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlPXQgaW5zdGFuY2VvZiBFcnJvcj90Lm5hbWU6dC5jb2RlfHxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksdGhpcy5tZXNzYWdlPXQubWVzc2FnZSx0aGlzLnN0YWNrPVtdLHQuc3RhY2spdHJ5e0FycmF5LmlzQXJyYXkodC5zdGFjayk/dGhpcy5zdGFjaz10LnN0YWNrOiJvYmplY3QiPT09ZSh0LnN0YWNrKT90aGlzLnN0YWNrPVtKU09OLnN0cmluZ2lmeSh0LnN0YWNrKV06InN0cmluZyI9PXR5cGVvZiB0LnN0YWNrJiYodGhpcy5zdGFjaz10LnN0YWNrLnNwbGl0KCJcbiIpKX1jYXRjaChlKXt9fTtkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBuLnNwcmludGYoIlslc10gWyVzXSBbJXNdOiAlcyIsdGhpcy5nZXRUaW1lKCkmJnRoaXMuZ2V0VGltZSgpLnRvSVNPU3RyaW5nP3RoaXMuZ2V0VGltZSgpLnRvSVNPU3RyaW5nKCk6Ij8/PyIsdGhpcy5nZXRMZXZlbCgpLHRoaXMuZ2V0QWdlbnRSZXNvdXJjZUlkKCksdGhpcy5nZXRUZXh0KCkpfSxkLnByb3RvdHlwZS5nZXRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZX0sZC5wcm90b3R5cGUuZ2V0QWdlbnRSZXNvdXJjZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWdlbnRSZXNvdXJjZUlkfSxkLnByb3RvdHlwZS5nZXRUYWJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYklkfSxkLnByb3RvdHlwZS5nZXRDb250ZXh0TGF5ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0TGF5ZXJ9LGQucHJvdG90eXBlLmdldExldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGV2ZWx9LGQucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSxkLnByb3RvdHlwZS5nZXRDb21wb25lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnR9LGQucHJvdG90eXBlLndpdGhFeGNlcHRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZXhjZXB0aW9uPW5ldyBmKGUpLHRoaXN9LGQucHJvdG90eXBlLndpdGhPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWVwY29weShlKTtyZXR1cm4gaCh0KSx0aGlzLm9iamVjdHMucHVzaCh0KSx0aGlzfSxkLnByb3RvdHlwZS53aXRoQ3Jvc3NPcmlnaW5FdmVudE9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZXBjb3B5Q3Jvc3NPcmlnaW5FdmVudChlKTtyZXR1cm4gaCh0KSx0aGlzLm9iamVjdHMucHVzaCh0KSx0aGlzfSxkLnByb3RvdHlwZS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcj1mdW5jdGlvbigpe2lmKG4uZ2V0TG9nKCkuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnB1c2godGhpcyksbi5pc0NSTSgpJiZ0aGlzLmxvZ2dlcklkPT09bi5nZXRMb2coKS5nZXRMb2dnZXJJZCgpKXRyeXtuLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpuLkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLGRhdGE6dGhpc30pfWNhdGNoKGUpe31yZXR1cm4gdGhpc307dmFyIGc9ZnVuY3Rpb24oKXt0aGlzLl9sb2dzPVtdLHRoaXMuX3JvbGxlZExvZ3M9W10sdGhpcy5fbG9nc1RvUHVzaD1bXSx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncz1bXSx0aGlzLl9lY2hvTGV2ZWw9aS5JTkZPLHRoaXMuX2xvZ0xldmVsPWkuSU5GTyx0aGlzLl9saW5lQ291bnQ9MCx0aGlzLl9sb2dSb2xsSW50ZXJ2YWw9MCx0aGlzLl9sb2dSb2xsVGltZXI9bnVsbCx0aGlzLl9sb2dnZXJJZD0obmV3IERhdGUpLmdldFRpbWUoKSsiLSIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksdGhpcy5zZXRMb2dSb2xsSW50ZXJ2YWwoMThlNSksdGhpcy5fc3RhcnRMb2dJbmRleFRvUHVzaD0wfTtnLnByb3RvdHlwZS5zZXRMb2dSb2xsSW50ZXJ2YWw9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLl9sb2dSb2xsVGltZXImJmU9PT10aGlzLl9sb2dSb2xsSW50ZXJ2YWw/dGhpcy53YXJuKCJMb2dnZXIgaXMgYWxyZWFkeSBzZXQgdG8gdGhlIGdpdmVuIGludGVydmFsOiAlZCIsdGhpcy5fbG9nUm9sbEludGVydmFsKToodGhpcy5fbG9nUm9sbFRpbWVyJiZ0LmNsZWFySW50ZXJ2YWwodGhpcy5fbG9nUm9sbFRpbWVyKSx0aGlzLl9sb2dSb2xsSW50ZXJ2YWw9ZSx0aGlzLl9sb2dSb2xsVGltZXI9dC5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtuLl9yb2xsZWRMb2dzPW4uX2xvZ3Msbi5fbG9ncz1bXSxuLl9zdGFydExvZ0luZGV4VG9QdXNoPTAsbi5pbmZvKCJMb2cgcm9sbCBpbnRlcnZhbCBvY2N1cnJlZC4iKX0pLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbCkpfSxnLnByb3RvdHlwZS5zZXRMb2dMZXZlbD1mdW5jdGlvbihlKXtpZighKGUgaW4gaSkpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGxvZ2dpbmcgbGV2ZWw6ICIrZSk7dGhpcy5fbG9nTGV2ZWw9aVtlXX0sZy5wcm90b3R5cGUuc2V0RWNob0xldmVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbG9nZ2luZyBsZXZlbDogIitlKTt0aGlzLl9lY2hvTGV2ZWw9aVtlXX0sZy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBkKGUsdCxuLHRoaXMuZ2V0TG9nZ2VySWQoKSk7cmV0dXJuIGgociksdGhpcy5hZGRMb2dFbnRyeShyKSxyfSxnLnByb3RvdHlwZS5hZGRMb2dFbnRyeT1mdW5jdGlvbihlKXtpZihoKGUpLHRoaXMuX2xvZ3MucHVzaChlKSxuLmlzQ1JNKCkmJmUubG9nZ2VySWQ9PT10aGlzLmdldExvZ2dlcklkKCkpdHJ5e24uY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50Om4uRXZlbnRUeXBlLkxPRyxkYXRhOmV9KX1jYXRjaChlKXt9by5TT0ZUUEhPTkU9PT1lLmNvbXBvbmVudCYmdGhpcy5fbG9nc1RvUHVzaC5wdXNoKGUpLGUubGV2ZWwgaW4gaSYmaVtlLmxldmVsXT49dGhpcy5fbG9nTGV2ZWwmJihpW2UubGV2ZWxdPj10aGlzLl9lY2hvTGV2ZWwmJnVbZS5nZXRMZXZlbCgpXShlLnRvU3RyaW5nKCkpLGUubGluZT10aGlzLl9saW5lQ291bnQrKyl9LGcucHJvdG90eXBlLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MucHVzaChlKSxlLmxldmVsIGluIGkmJmlbZS5sZXZlbF0+PXRoaXMuX2xvZ0xldmVsJiYoaVtlLmxldmVsXT49dGhpcy5fZWNob0xldmVsJiZ1W2UuZ2V0TGV2ZWwoKV0oZS50b1N0cmluZygpKSxlLmxpbmU9dGhpcy5fbGluZUNvdW50KyspfSxnLnByb3RvdHlwZS5jbGVhck9iamVjdHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2xvZ3MubGVuZ3RoO2UrKyl0aGlzLl9sb2dzW2VdLm9iamVjdHMmJmRlbGV0ZSB0aGlzLl9sb2dzW2VdLm9iamVjdHN9LGcucHJvdG90eXBlLmNsZWFyRXhjZXB0aW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbG9ncy5sZW5ndGg7ZSsrKXRoaXMuX2xvZ3NbZV0uZXhjZXB0aW9uJiZkZWxldGUgdGhpcy5fbG9nc1tlXS5leGNlcHRpb259LGcucHJvdG90eXBlLnRyYWNlPWZ1bmN0aW9uKCl7dmFyIGU9cChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuVFJBQ0Usbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXt2YXIgZT1wKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5ERUJVRyxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7dmFyIGU9cChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuSU5GTyxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXt2YXIgZT1wKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5MT0csbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUudGVzdD1mdW5jdGlvbigpe3ZhciBlPXAoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLlRFU1Qsbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUud2Fybj1mdW5jdGlvbigpe3ZhciBlPXAoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLldBUk4sbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1wKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5FUlJPUixuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS5jcml0aWNhbD1mdW5jdGlvbigpe3ZhciBlPXAoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkVSUk9SLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PHRoaXMuX2xvZ3MubGVuZ3RoO3QrKyllLnB1c2godGhpcy5fbG9nc1t0XS50b1N0cmluZygpKTtyZXR1cm4gZS5qb2luKCJcbiIpfSxnLnByb3RvdHlwZS5kb3dubG9hZD1mdW5jdGlvbihyKXt2YXIgbyxhPSJhZ2VudC1sb2ciLHM9ITEsYz0hMD09PShudWxsPT09KG89bil8fHZvaWQgMD09PW98fG51bGw9PT0obz1vLmdsb2JhbFJlc2lsaWVuY3kpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmdsb2JhbFJlc2lsaWVuY3lFbmFibGVkKTsib2JqZWN0Ij09PWUocikmJm51bGwhPT1yPyhhPXIubG9nTmFtZXx8YSxzPXIuZmlsdGVyQnlMb2dMZXZlbHx8cyk6InN0cmluZyI9PXR5cGVvZiByJiYoYT1yfHxhKSxjJiYobi5nbG9iYWxSZXNpbGllbmN5Ll9kb3dubG9hZENDUExvZ3MoKSxhPSJjcm0tIithKTt2YXIgdT10aGlzLGw9dGhpcy5fcm9sbGVkTG9ncy5jb25jYXQodGhpcy5fbG9ncyk7cyYmKGw9bC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2UubGV2ZWxdPj11Ll9sb2dMZXZlbH0pKSk7dmFyIHA9bmV3IHQuQmxvYihbSlNPTi5zdHJpbmdpZnkobCx2b2lkIDAsNCldLFsidGV4dC9wbGFpbiJdKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTthPWF8fCJhZ2VudC1sb2ciLGQuaHJlZj10LlVSTC5jcmVhdGVPYmplY3RVUkwocCksZC5kb3dubG9hZD1hKyIudHh0Iixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGQpLGQuY2xpY2soKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGQpfSxnLnByb3RvdHlwZS5zY2hlZHVsZVVwc3RyZWFtTG9nUHVzaD1mdW5jdGlvbihlKXtuLnVwc3RyZWFtTG9nUHVzaFNjaGVkdWxlZHx8KG4udXBzdHJlYW1Mb2dQdXNoU2NoZWR1bGVkPSEwLHQuc2V0SW50ZXJ2YWwobi5oaXRjaCh0aGlzLHRoaXMucmVwb3J0TWFzdGVyTG9nc1VwU3RyZWFtLGUpLDVlMykpfSxnLnByb3RvdHlwZS5yZXBvcnRNYXN0ZXJMb2dzVXBTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbG9nc1RvUHVzaC5zbGljZSgpO3RoaXMuX2xvZ3NUb1B1c2g9W10sbi5pZk1hc3RlcihuLk1hc3RlclRvcGljcy5TRU5EX0xPR1MsKGZ1bmN0aW9uKCl7dC5sZW5ndGg+MCYmZS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuU0VORF9MT0dTLHQpfSkpfSxnLnByb3RvdHlwZS5nZXRMb2dnZXJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dnZXJJZH0sZy5wcm90b3R5cGUuc2NoZWR1bGVEb3duc3RyZWFtQ2xpZW50U2lkZUxvZ3NQdXNoPWZ1bmN0aW9uKCl7dC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5wdXNoQ2xpZW50U2lkZUxvZ3NEb3duc3RyZWFtKSw1ZTMpfSxnLnByb3RvdHlwZS5wdXNoQ2xpZW50U2lkZUxvZ3NEb3duc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9W107dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPDUwfHwodGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPjUwMD9lPXRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnNwbGljZSgwLDUwMCk6KGU9dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MsdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W10pLG4ucHVibGlzaENsaWVudFNpZGVMb2dzKGUpKX07dmFyIG09ZnVuY3Rpb24oZSl7Zy5jYWxsKHRoaXMpLHRoaXMuY29uZHVpdD1lLHQuc2V0SW50ZXJ2YWwobi5oaXRjaCh0aGlzLHRoaXMuX3B1c2hMb2dzRG93bnN0cmVhbSksbS5MT0dfUFVTSF9JTlRFUlZBTCksdC5jbGVhckludGVydmFsKHRoaXMuX2xvZ1JvbGxUaW1lciksdGhpcy5fbG9nUm9sbFRpbWVyPW51bGx9O20uTE9HX1BVU0hfSU5URVJWQUw9MWUzLG0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpLG0ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW0sbS5wcm90b3R5cGUucHVzaExvZ3NEb3duc3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuTE9HLGUpfSkpfSxtLnByb3RvdHlwZS5fcHVzaExvZ3NEb3duc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2dzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5MT0csdCl9KSksdGhpcy5fbG9ncz1bXTtmb3IodmFyIHQ9MDt0PHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLmxlbmd0aDt0KyspdGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3NbdF0pO3RoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdfTt2YXIgdj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe3UuRVJST1IoZSl9fX07bi5yb290TG9nZ2VyPW5ldyBnLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKSJmdW5jdGlvbiI9PXR5cGVvZiBlW3RdJiYoZVt0XT12KGVbdF0pKX0obi5yb290TG9nZ2VyKSwobj1ufHx7fSkuZ2V0TG9nPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucm9vdExvZ2dlcn0sbi5Mb2dFbnRyeT1kLG4uTG9nZ2VyPWcsbi5Mb2dMZXZlbD1yLG4uTG9nQ29tcG9uZW50PW8sbi5Eb3duc3RyZWFtQ29uZHVpdExvZ2dlcj1tfSgpfSwyNTQ6ZnVuY3Rpb24oKXshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiB0KHQsbixyLG8saSxhKXtyZXR1cm4gZSgocz1lKGUobix0KSxlKG8sYSkpKTw8KGM9aSl8cz4+PjMyLWMscik7dmFyIHMsY31mdW5jdGlvbiBuKGUsbixyLG8saSxhLHMpe3JldHVybiB0KG4mcnx+biZvLGUsbixpLGEscyl9ZnVuY3Rpb24gcihlLG4scixvLGksYSxzKXtyZXR1cm4gdChuJm98ciZ+byxlLG4saSxhLHMpfWZ1bmN0aW9uIG8oZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQobl5yXm8sZSxuLGksYSxzKX1mdW5jdGlvbiBpKGUsbixyLG8saSxhLHMpe3JldHVybiB0KHJeKG58fm8pLGUsbixpLGEscyl9ZnVuY3Rpb24gYSh0LGEpe3ZhciBzLGMsdSxsLHA7dFthPj41XXw9MTI4PDxhJTMyLHRbMTQrKGErNjQ+Pj45PDw0KV09YTt2YXIgZD0xNzMyNTg0MTkzLGg9LTI3MTczMzg3OSxmPS0xNzMyNTg0MTk0LGc9MjcxNzMzODc4O2ZvcihzPTA7czx0Lmxlbmd0aDtzKz0xNiljPWQsdT1oLGw9ZixwPWcsZD1uKGQsaCxmLGcsdFtzXSw3LC02ODA4NzY5MzYpLGc9bihnLGQsaCxmLHRbcysxXSwxMiwtMzg5NTY0NTg2KSxmPW4oZixnLGQsaCx0W3MrMl0sMTcsNjA2MTA1ODE5KSxoPW4oaCxmLGcsZCx0W3MrM10sMjIsLTEwNDQ1MjUzMzApLGQ9bihkLGgsZixnLHRbcys0XSw3LC0xNzY0MTg4OTcpLGc9bihnLGQsaCxmLHRbcys1XSwxMiwxMjAwMDgwNDI2KSxmPW4oZixnLGQsaCx0W3MrNl0sMTcsLTE0NzMyMzEzNDEpLGg9bihoLGYsZyxkLHRbcys3XSwyMiwtNDU3MDU5ODMpLGQ9bihkLGgsZixnLHRbcys4XSw3LDE3NzAwMzU0MTYpLGc9bihnLGQsaCxmLHRbcys5XSwxMiwtMTk1ODQxNDQxNyksZj1uKGYsZyxkLGgsdFtzKzEwXSwxNywtNDIwNjMpLGg9bihoLGYsZyxkLHRbcysxMV0sMjIsLTE5OTA0MDQxNjIpLGQ9bihkLGgsZixnLHRbcysxMl0sNywxODA0NjAzNjgyKSxnPW4oZyxkLGgsZix0W3MrMTNdLDEyLC00MDM0MTEwMSksZj1uKGYsZyxkLGgsdFtzKzE0XSwxNywtMTUwMjAwMjI5MCksZD1yKGQsaD1uKGgsZixnLGQsdFtzKzE1XSwyMiwxMjM2NTM1MzI5KSxmLGcsdFtzKzFdLDUsLTE2NTc5NjUxMCksZz1yKGcsZCxoLGYsdFtzKzZdLDksLTEwNjk1MDE2MzIpLGY9cihmLGcsZCxoLHRbcysxMV0sMTQsNjQzNzE3NzEzKSxoPXIoaCxmLGcsZCx0W3NdLDIwLC0zNzM4OTczMDIpLGQ9cihkLGgsZixnLHRbcys1XSw1LC03MDE1NTg2OTEpLGc9cihnLGQsaCxmLHRbcysxMF0sOSwzODAxNjA4MyksZj1yKGYsZyxkLGgsdFtzKzE1XSwxNCwtNjYwNDc4MzM1KSxoPXIoaCxmLGcsZCx0W3MrNF0sMjAsLTQwNTUzNzg0OCksZD1yKGQsaCxmLGcsdFtzKzldLDUsNTY4NDQ2NDM4KSxnPXIoZyxkLGgsZix0W3MrMTRdLDksLTEwMTk4MDM2OTApLGY9cihmLGcsZCxoLHRbcyszXSwxNCwtMTg3MzYzOTYxKSxoPXIoaCxmLGcsZCx0W3MrOF0sMjAsMTE2MzUzMTUwMSksZD1yKGQsaCxmLGcsdFtzKzEzXSw1LC0xNDQ0NjgxNDY3KSxnPXIoZyxkLGgsZix0W3MrMl0sOSwtNTE0MDM3ODQpLGY9cihmLGcsZCxoLHRbcys3XSwxNCwxNzM1MzI4NDczKSxkPW8oZCxoPXIoaCxmLGcsZCx0W3MrMTJdLDIwLC0xOTI2NjA3NzM0KSxmLGcsdFtzKzVdLDQsLTM3ODU1OCksZz1vKGcsZCxoLGYsdFtzKzhdLDExLC0yMDIyNTc0NDYzKSxmPW8oZixnLGQsaCx0W3MrMTFdLDE2LDE4MzkwMzA1NjIpLGg9byhoLGYsZyxkLHRbcysxNF0sMjMsLTM1MzA5NTU2KSxkPW8oZCxoLGYsZyx0W3MrMV0sNCwtMTUzMDk5MjA2MCksZz1vKGcsZCxoLGYsdFtzKzRdLDExLDEyNzI4OTMzNTMpLGY9byhmLGcsZCxoLHRbcys3XSwxNiwtMTU1NDk3NjMyKSxoPW8oaCxmLGcsZCx0W3MrMTBdLDIzLC0xMDk0NzMwNjQwKSxkPW8oZCxoLGYsZyx0W3MrMTNdLDQsNjgxMjc5MTc0KSxnPW8oZyxkLGgsZix0W3NdLDExLC0zNTg1MzcyMjIpLGY9byhmLGcsZCxoLHRbcyszXSwxNiwtNzIyNTIxOTc5KSxoPW8oaCxmLGcsZCx0W3MrNl0sMjMsNzYwMjkxODkpLGQ9byhkLGgsZixnLHRbcys5XSw0LC02NDAzNjQ0ODcpLGc9byhnLGQsaCxmLHRbcysxMl0sMTEsLTQyMTgxNTgzNSksZj1vKGYsZyxkLGgsdFtzKzE1XSwxNiw1MzA3NDI1MjApLGQ9aShkLGg9byhoLGYsZyxkLHRbcysyXSwyMywtOTk1MzM4NjUxKSxmLGcsdFtzXSw2LC0xOTg2MzA4NDQpLGc9aShnLGQsaCxmLHRbcys3XSwxMCwxMTI2ODkxNDE1KSxmPWkoZixnLGQsaCx0W3MrMTRdLDE1LC0xNDE2MzU0OTA1KSxoPWkoaCxmLGcsZCx0W3MrNV0sMjEsLTU3NDM0MDU1KSxkPWkoZCxoLGYsZyx0W3MrMTJdLDYsMTcwMDQ4NTU3MSksZz1pKGcsZCxoLGYsdFtzKzNdLDEwLC0xODk0OTg2NjA2KSxmPWkoZixnLGQsaCx0W3MrMTBdLDE1LC0xMDUxNTIzKSxoPWkoaCxmLGcsZCx0W3MrMV0sMjEsLTIwNTQ5MjI3OTkpLGQ9aShkLGgsZixnLHRbcys4XSw2LDE4NzMzMTMzNTkpLGc9aShnLGQsaCxmLHRbcysxNV0sMTAsLTMwNjExNzQ0KSxmPWkoZixnLGQsaCx0W3MrNl0sMTUsLTE1NjAxOTgzODApLGg9aShoLGYsZyxkLHRbcysxM10sMjEsMTMwOTE1MTY0OSksZD1pKGQsaCxmLGcsdFtzKzRdLDYsLTE0NTUyMzA3MCksZz1pKGcsZCxoLGYsdFtzKzExXSwxMCwtMTEyMDIxMDM3OSksZj1pKGYsZyxkLGgsdFtzKzJdLDE1LDcxODc4NzI1OSksaD1pKGgsZixnLGQsdFtzKzldLDIxLC0zNDM0ODU1NTEpLGQ9ZShkLGMpLGg9ZShoLHUpLGY9ZShmLGwpLGc9ZShnLHApO3JldHVybltkLGgsZixnXX1mdW5jdGlvbiBzKGUpe3ZhciB0LG49IiIscj0zMiplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoZVt0Pj41XT4+PnQlMzImMjU1KTtyZXR1cm4gbn1mdW5jdGlvbiBjKGUpe3ZhciB0LG49W107Zm9yKG5bKGUubGVuZ3RoPj4yKS0xXT12b2lkIDAsdD0wO3Q8bi5sZW5ndGg7dCs9MSluW3RdPTA7dmFyIHI9OCplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW5bdD4+NV18PSgyNTUmZS5jaGFyQ29kZUF0KHQvOCkpPDx0JTMyO3JldHVybiBufWZ1bmN0aW9uIHUoZSl7dmFyIHQsbixyPSIwMTIzNDU2Nzg5YWJjZGVmIixvPSIiO2ZvcihuPTA7bjxlLmxlbmd0aDtuKz0xKXQ9ZS5jaGFyQ29kZUF0KG4pLG8rPXIuY2hhckF0KHQ+Pj40JjE1KStyLmNoYXJBdCgxNSZ0KTtyZXR1cm4gb31mdW5jdGlvbiBsKGUpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBzKGEoYyhlKSw4KmUubGVuZ3RoKSl9KGwoZSkpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89YyhlKSxpPVtdLHU9W107Zm9yKGlbMTVdPXVbMTVdPXZvaWQgMCxvLmxlbmd0aD4xNiYmKG89YShvLDgqZS5sZW5ndGgpKSxuPTA7bjwxNjtuKz0xKWlbbl09OTA5NTIyNDg2Xm9bbl0sdVtuXT0xNTQ5NTU2ODI4Xm9bbl07cmV0dXJuIHI9YShpLmNvbmNhdChjKHQpKSw1MTIrOCp0Lmxlbmd0aCkscyhhKHUuY29uY2F0KHIpLDY0MCkpfShsKGUpLGwodCkpfSh0aGlzfHxnbG9iYWxUaGlzKS5tZDU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0P24/ZCh0LGUpOnUoZCh0LGUpKTpuP3AoZSk6dShwKGUpKX19KCl9LDE0MjooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LHQuQ2hhdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbihlLG4pe3ZhciByPXQuZ2V0TG9nKCksbz10LkxvZ0NvbXBvbmVudC5DSEFULGk9ZnVuY3Rpb24obixyKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6bixjb250YWN0SWQ6ZS5jb250YWN0SWQsZGF0YTpyfHxlfSl9LGE9ZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3Rpb25Ccm9rZW4oKGZ1bmN0aW9uKGUpe3IuZXJyb3IobywiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoIkNoYXQgU2Vzc2lvbiBjb25uZWN0aW9uIGJyb2tlbiIsZSl9KSksZS5vbkNvbm5lY3Rpb25Fc3RhYmxpc2hlZCgoZnVuY3Rpb24oZSl7ci5pbmZvKG8sIkNoYXQgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoIkNoYXQgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIixlKX0pKX07cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2koIkNoYXQgbWVkaWEgY29udHJvbGxlciBpbml0IixlLmNvbnRhY3RJZCksci5pbmZvKG8sIkNoYXQgbWVkaWEgY29udHJvbGxlciBpbml0Iikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuQ2hhdFNlc3Npb24uc2V0R2xvYmFsQ29uZmlnKHtsb2dnZXJDb25maWc6e2xvZ2dlcjpyfSxyZWdpb246bi5yZWdpb259KTt2YXIgcz10LkNoYXRTZXNzaW9uLmNyZWF0ZSh7Y2hhdERldGFpbHM6ZSx0eXBlOiJBR0VOVCIsd2Vic29ja2V0TWFuYWdlcjp0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpfSk7cmV0dXJuIGEocykscy5jb25uZWN0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHIuaW5mbyhvLCJDaGF0IFNlc3Npb24gU3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkIGZvciBjb250YWN0SWQgJXMiLGUuY29udGFjdElkKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoIkNoYXQgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQiLGUuY29udGFjdElkKSxzfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyByLmVycm9yKG8sIkNoYXQgU2Vzc2lvbiBlc3RhYmxpc2hlbWVudCBmYWlsZWQgZm9yIGNvbnRhY3QgJXMiLGUuY29udGFjdElkKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCIsZS5jb250YWN0SWQsdCksdH0pKX0oKX19fX0oKX0sODg0OigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5NZWRpYUZhY3Rvcnk9ZnVuY3Rpb24oZSl7dmFyIG49e30scj1uZXcgU2V0LG89dC5nZXRMb2coKSxpPXQuTG9nQ29tcG9uZW50LkNIQVQsYT10Lm1lcmdlKHt9LGUpfHx7fTthLnJlZ2lvbj1hLnJlZ2lvbnx8InVzLXdlc3QtMiI7dmFyIHM9ZnVuY3Rpb24oZSl7bltlXSYmIXIuaGFzKGUpJiYoby5pbmZvKGksIkRlc3Ryb3lpbmcgbWVkaWFDb250cm9sbGVyIGZvciAlcyIsZSksci5hZGQoZSksbltlXS50aGVuKChmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgdC5jbGVhblVwJiZ0LmNsZWFuVXAoKSxkZWxldGUgbltlXSxyLmRlbGV0ZShlKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtkZWxldGUgbltlXSxyLmRlbGV0ZShlKX0pKSl9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQWN0aXZlKCl9KGUpP2Z1bmN0aW9uKGUpe3ZhciByPWUuZ2V0Q29ubmVjdGlvbklkKCk7aWYoIWUuZ2V0TWVkaWFJbmZvKCkpcmV0dXJuIG8uZXJyb3IoaSwiTWVkaWEgaW5mbyBkb2VzIG5vdCBleGlzdCBmb3IgYSBtZWRpYSB0eXBlICVzIixlLmdldE1lZGlhVHlwZSgpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUHJvbWlzZS5yZWplY3QoIk1lZGlhIGluZm8gZG9lcyBub3QgZXhpc3QgZm9yIHRoaXMgY29ubmVjdGlvbiIpO2lmKG5bcl0pcmV0dXJuIG5bcl07c3dpdGNoKG8uaW5mbyhpLCJtZWRpYSBjb250cm9sbGVyIG9mIHR5cGUgJXMgaW5pdCIsZS5nZXRNZWRpYVR5cGUoKSkud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuZ2V0TWVkaWFUeXBlKCkpe2Nhc2UgdC5NZWRpYVR5cGUuQ0hBVDpyZXR1cm4gbltyXT1uZXcgdC5DaGF0TWVkaWFDb250cm9sbGVyKGUuZ2V0TWVkaWFJbmZvKCksYSkuZ2V0KCk7Y2FzZSB0Lk1lZGlhVHlwZS5TT0ZUUEhPTkU6cmV0dXJuIG5bcl09bmV3IHQuU29mdHBob25lTWVkaWFDb250cm9sbGVyKGUuZ2V0TWVkaWFJbmZvKCkpLmdldCgpO2Nhc2UgdC5NZWRpYVR5cGUuVEFTSzpyZXR1cm4gbltyXT1uZXcgdC5UYXNrTWVkaWFDb250cm9sbGVyKGUuZ2V0TWVkaWFJbmZvKCkpLmdldCgpO2RlZmF1bHQ6cmV0dXJuIG8uZXJyb3IoaSwiVW5yZWNvZ25pemVkIG1lZGlhIHR5cGUgJXMgIixlLmdldE1lZGlhVHlwZSgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLFByb21pc2UucmVqZWN0KCl9fShlKToocyhlLmdldENvbm5lY3Rpb25JZCgpKSxQcm9taXNlLnJlamVjdCgiTWVkaWEgQ29udHJvbGxlciBpcyBubyBsb25nZXIgYXZhaWxhYmxlIGZvciB0aGlzIGNvbm5lY3Rpb24iKSl9LGRlc3Ryb3k6c319fSgpfSwzOTA6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0LlNvZnRwaG9uZU1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbihlKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX19fX0oKX0sMjY5OigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5UYXNrTWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2V0TG9nKCkscj10LkxvZ0NvbXBvbmVudC5UQVNLLG89ZnVuY3Rpb24obixyKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6bixjb250YWN0SWQ6ZS5jb250YWN0SWQsZGF0YTpyfHxlfSl9LGk9ZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3Rpb25Ccm9rZW4oKGZ1bmN0aW9uKGUpe24uZXJyb3IociwiVGFzayBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIikud2l0aEV4Y2VwdGlvbihlKSxvKCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iLGUpfSkpLGUub25Db25uZWN0aW9uRXN0YWJsaXNoZWQoKGZ1bmN0aW9uKGUpe24uaW5mbyhyLCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCIpLndpdGhPYmplY3QoZSksbygiVGFzayBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiLGUpfSkpfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7bygiVGFzayBtZWRpYSBjb250cm9sbGVyIGluaXQiLGUuY29udGFjdElkKSxuLmluZm8ociwiVGFzayBtZWRpYSBjb250cm9sbGVyIGluaXQiKS53aXRoT2JqZWN0KGUpO3ZhciBhPXQuVGFza1Nlc3Npb24uY3JlYXRlKHtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5pdGlhbENvbnRhY3RJZDplLmluaXRpYWxDb250YWN0SWQsd2Vic29ja2V0TWFuYWdlcjp0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpfSk7cmV0dXJuIGkoYSksYS5jb25uZWN0KCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5pbmZvKHIsIlRhc2sgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgZm9yIGNvbnRhY3RJZCAlcyIsZS5jb250YWN0SWQpLG8oIlRhc2sgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQiLGUuY29udGFjdElkKSxhfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuLmVycm9yKHIsIlRhc2sgU2Vzc2lvbiBlc3RhYmxpc2hlbWVudCBmYWlsZWQgZm9yIGNvbnRhY3QgJXMiLGUuY29udGFjdElkKS53aXRoRXhjZXB0aW9uKHQpLG8oIkNoYXQgU2Vzc2lvbiBlc3RhYmxpc2hlbWVudCBmYWlsZWQiLGUuY29udGFjdElkLHQpLHR9KSl9KCl9fX19KCl9LDQxNDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQ7dmFyIHIsbz0iL3JlcXVlc3Qtc3RvcmFnZS1hY2Nlc3MiLGk9e2NhblJlcXVlc3Q6ITEsbW9kZToiZGVmYXVsdCIsY3VzdG9tOntoaWRlQ0NQOiEwfX0sYT17fSxzPSIiLGM9bnVsbCx1PSExLGw9e0lOSVQ6InN0b3JhZ2VBY2Nlc3M6OmluaXQiLEdSQU5URUQ6InN0b3JhZ2VBY2Nlc3M6OmdyYW50ZWQiLERFTklFRDoic3RvcmFnZUFjY2Vzczo6ZGVuaWVkIixSRVFVRVNUOiJzdG9yYWdlQWNjZXNzOjpyZXF1ZXN0In0scD1mdW5jdGlvbigpe3JldHVybntzaG93OmZ1bmN0aW9uKCl7Yy5zdHlsZS5kaXNwbGF5PSJibG9jayJ9LGhpZGU6ZnVuY3Rpb24oKXtjLnN0eWxlLmRpc3BsYXk9Im5vbmUifX19LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSYmImN1c3RvbSI9PT1hLm1vZGV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goLy5jb25uZWN0LmF3cy5hMnouY29tfC5teS5jb25uZWN0LmF3c3wuZ292Y2xvdWQuY29ubmVjdC5hd3N8LmF3c2FwcHMuY29tLyl9LGY9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVSTChlKSxuPXQub3JpZ2luLHI9dC5wYXRobmFtZTtpZihuLm1hdGNoKC8uYXdzYXBwcy5jb20vKSl7dmFyIGk9ImNvbm5lY3QiO3JldHVybiByLnN0YXJ0c1dpdGgoIi9jb25uZWN0LWdhbW1hIikmJihpPSJjb25uZWN0LWdhbW1hIiksIiIuY29uY2F0KG4sIi8iKS5jb25jYXQoaSkuY29uY2F0KG8pfXJldHVybiIiLmNvbmNhdChuKS5jb25jYXQobyl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15odHRwcz86XC9cL2xvY2FsaG9zdC8pfSxtPWZ1bmN0aW9uKCl7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldGxhbmRBdFBhdGhdIEludm9rZSBjb25uZWN0LnN0b3JhZ2VBY2Nlc3MuaW5pdCBmaXJzdCIpO3JldHVybiBoKHMpfHxnKHMpP25ldyBVUkwocykucGF0aG5hbWU6Ii9jb25uZWN0L2NjcC12MiJ9LHY9ZnVuY3Rpb24oZSl7dmFyIG49ZS5vbkluaXQscj1lLm9uRGVueSxvPWUub25HcmFudDtmdW5jdGlvbiBpKGUpe3ZhciBhPWUuZGF0YSxzPWUuc291cmNlO2lmKHQuY29yZS5fZ2V0Q0NQSWZyYW1lKCkuY29udGVudFdpbmRvdyE9PXMpcmV0dXJuITE7c3dpdGNoKHQuY29yZS5pbml0aWFsaXplZCYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpLGEuZXZlbnQpe2Nhc2UgbC5JTklUOnQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdW0lOSVRdIG1lc3NhZ2UgcmVjaWV2ZWQiKS53aXRoT2JqZWN0KGEpLG4mJm4oYSk7YnJlYWs7Y2FzZSBsLkdSQU5URUQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bR1JBTlRFRF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksbyYmbyhhKTticmVhaztjYXNlIGwuREVOSUVEOnQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdW0RFTklFRF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksciYmcihhKTticmVhaztkZWZhdWx0OnQuY29yZS5pbml0aWFsaXplZCYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpfX1yZXR1cm4gYS5jYW5SZXF1ZXN0JiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSkse3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpfX19O3Quc3RvcmFnZUFjY2Vzcz1PYmplY3QuZnJlZXplKHtjYW5SZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FuUmVxdWVzdH0sb3B0T3V0RnJvbVJlcXVlc3RBY2Nlc3M6ZnVuY3Rpb24oKXtpLmNhblJlcXVlc3Q9ITF9LG9wdEluRm9yUmVxdWVzdEFjY2VzczpmdW5jdGlvbigpe2kuY2FuUmVxdWVzdD0hMH0saW5pdDpmdW5jdGlvbihlLHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTt0LmFzc2VydE5vdE51bGwoZSwiY2NwVXJsIiksdC5hc3NlcnROb3ROdWxsKHIsImNvbnRhaW5lciIpLGM9cixzPWUsZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307ZS5jdXN0b209ZS5jdXN0b218fHt9LChhPW4obihuKHt9LGkpLGUpLHt9LHtjdXN0b206bihuKHt9LGkuY3VzdG9tKSxlLmN1c3RvbSl9KSkuY2FuUmVxdWVzdD0hKCJmYWxzZSI9PT1hLmNhblJlcXVlc3R8fCExPT09YS5jYW5SZXF1ZXN0KX0obyksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11baW5pdF0gUmVxdWVzdCBTdG9yYWdlIEFjY2Nlc3MgaW5pdCBjYWxsZWQgd2l0aCBjY3BVcmwgLSAiLmNvbmNhdChlLCIgLSAiKS5jb25jYXQoYS5jYW5SZXF1ZXN0PyJQcm9jZWVkaW5nIHdpdGggcmVxdWVzdGluZyBzdG9yYWdlIGFjY2VzcyI6InVzZXIgaGFzIG9wdGVkIG91dCwgc2tpcHBpbmcgcmVxdWVzdCBzdG9yYWdlIGFjY2VzcyIpKS53aXRoT2JqZWN0KGEpfSxzZXR1cFJlcXVlc3RIYW5kbGVyczpmdW5jdGlvbihlKXt2YXIgbj1lLm9uR3JhbnQ7ciYmci51bnN1YnNjcmliZSgpLHI9dih7b25Jbml0OmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtJTklUXSIsImJhY2tncm91bmQ6eWVsbG93OyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25Jbml0XSBjYWxsYmFjayBleGVjdXRlZCIpLndpdGhPYmplY3QobnVsbD09ZT92b2lkIDA6ZS5kYXRhKSxudWxsIT1lJiZlLmRhdGEuaGFzQWNjZXNzfHwhZCgpfHxwKCkuc2hvdygpfSxvbkRlbnk6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZygiJWNbU3RvcmFnZUFjY2Vzc11bREVOSUVEXSIsImJhY2tncm91bmQ6cmVkOyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25EZW55XSBjYWxsYmFjayBleGVjdXRlZCIpLGQoKSYmcCgpLnNob3coKX0sb25HcmFudDpmdW5jdGlvbigpe3ZhciBlO2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtHUkFOVEVEXSIsImJhY2tncm91bmQ6bGltZTsgY29sb3I6YmxhY2s7IGZvbnQtc2l6ZTpsYXJnZSIpLHQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdW29uR3JhbnRdIGNhbGxiYWNrIGV4ZWN1dGVkIiksZCgpJiYobnVsbD09PShlPWEpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5jdXN0b20pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmhpZGVDQ1ApJiZwKCkuaGlkZSgpLHV8fChuKCksdT0hMCl9fSl9LGdldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsOmZ1bmN0aW9uKCl7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZva2UgY29ubmVjdC5zdG9yYWdlQWNjZXNzLmluaXQgZmlyc3QiKTtpZihoKHMpKXJldHVybiBmKHMpO2lmKGcocykpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdIFtDQ1BdIExvY2FsIHRlc3RpbmciKSwiIi5jb25jYXQocykuY29uY2F0KG8pO2lmKGEuaW5zdGFuY2VVcmwmJmgoYS5pbnN0YW5jZVVybCkpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdIFtnZXRSZXF1ZXN0U3RvcmFnZUFjY2Vzc1VybF0gQ3VzdG9tZXIgaGFzIHByb3ZpZGVkIHN0b3JhZ2VQYXJhbXMuaW5zdGFuY2VVcmwgIi5jb25jYXQoYS5pbnN0YW5jZVVybCkpLGYoYS5pbnN0YW5jZVVybCk7aWYoYS5pbnN0YW5jZVVybCYmZyhhLmluc3RhbmNlVXJsKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBMb2NhbCB0ZXN0aW5nIiksIiIuY29uY2F0KGEuaW5zdGFuY2VVcmwpLmNvbmNhdChvKTt0aHJvdyB0LmdldExvZygpLmVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZhbGlkIENvbm5lY3QgaW5zdGFuY2UvQ0NQIFVSTCBwcm92aWRlZCwgcGxlYXNlIHBhc3MgdGhlIGNvcnJlY3QgY2NwVXJsIG9yIHN0b3JhZ2VBY2Nlc3MuaW5zdGFuY2VVcmwgcGFyYW1ldGVycyIpLG5ldyBFcnJvcigiW1N0b3JhZ2VBY2Nlc3NdIFtnZXRSZXF1ZXN0U3RvcmFnZUFjY2Vzc1VybF0gSW52YWxpZCBDb25uZWN0IGluc3RhbmNlL0NDUCBVUkwgcHJvdmlkZWQsIHBsZWFzZSBwYXNzIHRoZSB2YWxpZCBDb25uZWN0IENDUCBVUkwgb3IgaW4gY2FzZSBDQ1AgVVJMIGlzIGNvbmZpZ3VyZWQgdG8gYmUgdGhlIFNTTyBVUkwgdGhlbiB1c2Ugc3RvcmFnZUFjY2Vzcy5pbnN0YW5jZVVybCBhbmQgcGFzcyB0aGUgQ29ubmVjdCBDQ1AgVVJMIil9LHN0b3JhZ2VBY2Nlc3NFdmVudHM6bCxyZXNldFN0b3JhZ2VBY2Nlc3NTdGF0ZTpmdW5jdGlvbigpe2E9e30scz0iIixjPW51bGwsdT0hMX0sZ2V0T25HcmFudENhbGxiYWNrSW52b2tlZDpmdW5jdGlvbigpe3JldHVybiB1fSxnZXRTdG9yYWdlQWNjZXNzUGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LG9uUmVxdWVzdDp2LHJlcXVlc3Q6ZnVuY3Rpb24oKXt0LmNvcmUuX2dldENDUElmcmFtZSgpLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe2V2ZW50OmwuUkVRVUVTVCxkYXRhOm4obih7fSxhKSx7fSx7bGFuZGF0Om0oKX0pfSwiKiIpfX0pfSgpfSw5MDY6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoKXsidXNlIHN0cmljdCI7dD1mdW5jdGlvbigpe3JldHVybiByfTt2YXIgbixyPXt9LG89T2JqZWN0LnByb3RvdHlwZSxpPW8uaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2gobil7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19ci53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PW8mJmkuY2FsbChULGMpJiYoQz1UKTt2YXIgdz1FLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8odCxuKXtmdW5jdGlvbiByKG8sYSxzLGMpe3ZhciB1PWgodFtvXSx0LGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PWUocCkmJmkuY2FsbChwLCJfX2F3YWl0Iik/bi5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7cigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe3IoInRocm93IixlLHMsYyl9KSk6bi5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciBvO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgbigoZnVuY3Rpb24obixvKXtyKGUsdCxuLG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIoZSx0LHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6bixkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TChzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgoZSx0LHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIEwoZSx0KXt2YXIgcj10Lm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PW4pcmV0dXJuIHQuZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJih0Lm1ldGhvZD0icmV0dXJuIix0LmFyZz1uLEwoZSx0KSwidGhyb3ciPT09dC5tZXRob2QpfHwicmV0dXJuIiE9PXImJih0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sZS5pdGVyYXRvcix0LmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gdC5tZXRob2Q9InRocm93Iix0LmFyZz1pLmFyZyx0LmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KHRbZS5yZXN1bHROYW1lXT1hLnZhbHVlLHQubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT10Lm1ldGhvZCYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1uKSx0LmRlbGVnYXRlPW51bGwseSk6YToodC5tZXRob2Q9InRocm93Iix0LmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLHQuZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChPLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAodCl7aWYodHx8IiI9PT10KXt2YXIgcj10W2NdO2lmKHIpcmV0dXJuIHIuY2FsbCh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciBvPS0xLGE9ZnVuY3Rpb24gZSgpe2Zvcig7KytvPHQubGVuZ3RoOylpZihpLmNhbGwodCxvKSlyZXR1cm4gZS52YWx1ZT10W29dLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPW4sZS5kb25lPSEwLGV9O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihlKHQpKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIFMucHJvdG90eXBlPUUsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksYShFLCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksUy5kaXNwbGF5TmFtZT1wKEUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxyLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PVN8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LHIubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLEUpOihlLl9fcHJvdG9fXz1FLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LHIuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxyLkFzeW5jSXRlcmF0b3I9XyxyLmFzeW5jPWZ1bmN0aW9uKGUsdCxuLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLHQsbixvKSxpKTtyZXR1cm4gci5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxyLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sci52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1uLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPW4sdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIWUpZm9yKHZhciB0IGluIHRoaXMpInQiPT09dC5jaGFyQXQoMCkmJmkuY2FsbCh0aGlzLHQpJiYhaXNOYU4oK3Quc2xpY2UoMSkpJiYodGhpc1t0XT1uKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciB0PXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLHQubmV4dD1yLG8mJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9biksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBhPXRoaXMudHJ5RW50cmllc1tvXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9aS5jYWxsKGEsImNhdGNoTG9jIiksdT1pLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIG89cjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9by5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UChlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPW4pLHl9fSxyfWZ1bmN0aW9uIG4oZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe3ZhciBhPWUuYXBwbHkodCxyKTtmdW5jdGlvbiBzKGUpe24oYSxvLGkscyxjLCJuZXh0IixlKX1mdW5jdGlvbiBjKGUpe24oYSxvLGkscyxjLCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfX0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLG49ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9bixlLmxpbHk9bjt2YXIgbz1mdW5jdGlvbihlKXtuLmFzc2VydE5vdE51bGwoZSwicmluZ3RvbmVDb25maWciKSx0aGlzLl9hdWRpbz1udWxsLHRoaXMuX2RldmljZUlkPSIiLHRoaXMuX3Jpbmd0b25lVXJsPWUucmluZ3RvbmVVcmwsdGhpcy5fbG9hZFJpbmd0b25lKHRoaXMuX3Jpbmd0b25lVXJsKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksdGhpcy5fZHJpdmVSaW5ndG9uZSgpfTtvLnByb3RvdHlwZS5fbG9hZFJpbmd0b25lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2V8fG8oRXJyb3IoInJpbmd0b25lVXJsIGlzIHJlcXVpcmVkISIpKSx0Ll9hdWRpbz1uZXcgQXVkaW8oZSksdC5fYXVkaW8ubG9vcD0hMCx0LnNldE91dHB1dERldmljZSh0Ll9kZXZpY2VJZCk7dmFyIGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLmdldExvZygpLndhcm4oIlJpbmd0b25lIGlzbid0IGxvYWRlZCBpbiAxIHNlY29uZCBidXQgcHJvY2VlZGluZzogIiwrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKCl9KSwxZTMpO3QuX2F1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoImNhbnBsYXkiLChmdW5jdGlvbigpe24uZ2V0TG9nKCkuaW5mbygiUmluZ3RvbmUgaXMgcmVhZHkgdG8gcGxheTogIiwrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxjbGVhclRpbWVvdXQoaSkscigpfSkpLHQuX2F1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoZnVuY3Rpb24oKXtuLmdldExvZygpLmVycm9yKCJSaW5ndG9uZSBsb2FkIGVycm9yOiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGNsZWFyVGltZW91dChpKSxvKEVycm9yKCJSaW5ndG9uZSBsb2FkIGVycm9yOiAiK2UpKX0pKX0pKX0sby5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZC4iKX0sby5wcm90b3R5cGUuX3N0YXJ0UmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT1yKHQoKS5tYXJrKChmdW5jdGlvbiBlKG8pe3ZhciBpLGEscz10aGlzLGM9YXJndW1lbnRzO3JldHVybiB0KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGk9Yy5sZW5ndGg+MSYmdm9pZCAwIT09Y1sxXT9jWzFdOjAsYT1jLmxlbmd0aD4yJiZ2b2lkIDAhPT1jWzJdP2NbMl06W10sZS5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsYyl7cy5fYXVkaW98fGMoRXJyb3IoIk5vIGF1ZGlvIG9iamVjdCBmb3VuZCIpKSxuLmdldExvZygpLmluZm8oIkF0dGVtcHRpbmcgdG8gc3RhcnQgcmluZ3RvbmUgdG8gZGV2aWNlICIuY29uY2F0KHMuX2F1ZGlvLnNpbmtJZHx8IicnIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscy5fYXVkaW8ucGxheSgpLnRoZW4oKGZ1bmN0aW9uKCl7cy5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBTdGFydCIsbyksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdGFydDogU3VjY2VlZGVkIHdpdGggIi5jb25jYXQoaSwiIHJldHJpZXMgcmVtYWluaW5nIikpLndpdGhPYmplY3Qoe2Vycm9yTGlzdDphLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt2YXIgdT1yKHQoKS5tYXJrKChmdW5jdGlvbiByKHUpe3JldHVybiB0KCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYocy5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBQbGF5YmFjayBGYWlsdXJlIixvKSxuLmdldExvZygpLmVycm9yKCJSaW5ndG9uZSBQbGF5YmFjayBGYWlsdXJlOiAiLmNvbmNhdChpLCIgcmV0cmllcyByZW1haW5pbmcuIikpLndpdGhFeGNlcHRpb24odSkud2l0aE9iamVjdCh7Y3VycmVudFNyYzpzLl9hdWRpby5jdXJyZW50U3JjLHNpbmtJZDpzLl9hdWRpby5zaW5rSWQsdm9sdW1lOnMuX2F1ZGlvLnZvbHVtZSxjb250YWN0SWQ6by5nZXRDb250YWN0SWQoKX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5wdXNoKHUudG9TdHJpbmcoKSksIShpPjApKXt0Lm5leHQ9MTA7YnJlYWt9cmV0dXJuIHQubmV4dD02LHMuX2xvYWRSaW5ndG9uZShzLl9yaW5ndG9uZVVybCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpO2Nhc2UgNjpyZXR1cm4gdC5uZXh0PTgscy5fc3RhcnRSaW5ndG9uZShvLGktMSxhKS50aGVuKGUpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBjKGEpfSkpO2Nhc2UgODp0Lm5leHQ9MTI7YnJlYWs7Y2FzZSAxMDpuLmdldExvZygpLmVycm9yKCJSaW5ndG9uZSBSZXRyaWVzIEV4aGF1c3RlZCIpLndpdGhPYmplY3Qoe2Vycm9yTGlzdDphLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxjKGEpO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSxyKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCkpfSkpKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksby5wcm90b3R5cGUuX3N0b3BSaW5ndG9uZT1mdW5jdGlvbihlKXt0aGlzLl9hdWRpbyYmKHRoaXMuX2F1ZGlvLnBhdXNlKCksdGhpcy5fYXVkaW8uY3VycmVudFRpbWU9MCx0aGlzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFN0b3AiLGUpLG4uZ2V0TG9nKCkuaW5mbygiUmluZ3RvbmUgU3RvcCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSxvLnByb3RvdHlwZS5zdG9wUmluZ3RvbmU9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wUmluZ3RvbmUoKX0sby5wcm90b3R5cGUuX3Jpbmd0b25lU2V0dXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztuLmlmTWFzdGVyKG4uTWFzdGVyVG9waWNzLlJJTkdUT05FLChmdW5jdGlvbigpe3QuX3N0YXJ0UmluZ3RvbmUoZSwyKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksZS5vbkNvbm5lY3RlZChsaWx5LmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vbkFjY2VwdGVkKGxpbHkuaGl0Y2godCx0Ll9zdG9wUmluZ3RvbmUpKSxlLm9uRW5kZWQobGlseS5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25SZWZyZXNoKChmdW5jdGlvbihlKXtlLmdldFN0YXR1cygpLnR5cGUhPT1uLkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkcmJmUuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkcmJnQuX3N0b3BSaW5ndG9uZSgpfSkpfSkpfSxvLnByb3RvdHlwZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50PWZ1bmN0aW9uKGUsdCl7dCYmdC5nZXRDb250YWN0SWQoKSYmbi5wdWJsaXNoTWV0cmljKHtuYW1lOmUsY29udGFjdElkOnQuZ2V0Q29udGFjdElkKCl9KX0sby5wcm90b3R5cGUuc2V0T3V0cHV0RGV2aWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3QuX2F1ZGlvJiZ0Ll9hdWRpby5zZXRTaW5rSWQ/dC5fYXVkaW8uc2V0U2lua0lkKGUpLnRoZW4oKGZ1bmN0aW9uKCl7dC5fZGV2aWNlSWQ9ZSxuKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKCJSaW5ndG9uZUVuZ2luZUJhc2Uuc2V0T3V0cHV0RGV2aWNlIGZhaWxlZDogYXVkaW8uc2V0U2lua0lkKCkgZmFpbGVkIHdpdGggZXJyb3IgIi5jb25jYXQoZSkpfSkpOnIoIlJpbmd0b25lRW5naW5lQmFzZS5zZXRPdXRwdXREZXZpY2UgZmFpbGVkOiAiLmNvbmNhdCh0Ll9hdWRpbz8iYXVkaW8iOiJhdWRpby5zZXRTaW5rSWQiLCIgbm90IGZvdW5kLiIpKX0pKX07dmFyIGk9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PW4uQ29udGFjdFR5cGUuVk9JQ0UmJnQuaXNTb2Z0cGhvbmVDYWxsKCkmJnQuaXNJbmJvdW5kKCkmJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O24uY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3RpbmcodCl9KSksKG5ldyBuLkFnZW50KS5nZXRDb250YWN0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZT09PW4uQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmdChlKX0pKX07dmFyIGE9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuQ0hBVCYmdC5pc0luYm91bmQoKSYmMD09PXQuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFR5cGUoKT09PW4uQ29ubmVjdGlvblR5cGUuQUdFTlQmJmUuaXNTaWxlbnRNb25pdG9yKCl9KSkubGVuZ3RoJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkNoYXQgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJDaGF0IFJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKX07dmFyIHM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cyxzLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuVEFTSyYmdC5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJUYXNrIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiVGFzayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O24uY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3RpbmcodCl9KSl9O3ZhciBjPWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUpfTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7dC5nZXRUeXBlKCk9PT1uLkNvbnRhY3RUeXBlLkVNQUlMJiZ0LmlzSW5ib3VuZCgpJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkVtYWlsIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiRW1haWwgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTtuLmNvbnRhY3QoKGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW5nKHQpfSkpfTt2YXIgdT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztuLmNvbnRhY3QoKGZ1bmN0aW9uKHQpe3Qub25JbmNvbWluZygoZnVuY3Rpb24oKXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2FsbGJhY2sgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJDYWxsYmFjayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSl9KSl9LG4uVm9pY2VSaW5ndG9uZUVuZ2luZT1pLG4uQ2hhdFJpbmd0b25lRW5naW5lPWEsbi5UYXNrUmluZ3RvbmVFbmdpbmU9cyxuLlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZT11LG4uRW1haWxSaW5ndG9uZUVuZ2luZT1jfSgpfSw4MDY6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fWZ1bmN0aW9uIG8oKXsidXNlIHN0cmljdCI7bz1mdW5jdGlvbigpe3JldHVybiBufTt2YXIgdCxuPXt9LHI9T2JqZWN0LnByb3RvdHlwZSxpPXIuaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2godCl7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19bi53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PXImJmkuY2FsbChULGMpJiYoQz1UKTt2YXIgdz1FLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8odCxuKXtmdW5jdGlvbiByKG8sYSxzLGMpe3ZhciB1PWgodFtvXSx0LGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PWUocCkmJmkuY2FsbChwLCJfX2F3YWl0Iik/bi5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7cigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe3IoInRocm93IixlLHMsYyl9KSk6bi5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciBvO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgbigoZnVuY3Rpb24obixvKXtyKGUsdCxuLG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIoZSxuLHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TChzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgoZSxuLHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIEwoZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD0icmV0dXJuIixuLmFyZz10LEwoZSxuKSwidGhyb3ciPT09bi5tZXRob2QpfHwicmV0dXJuIiE9PXImJihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwseSk6YToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChPLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAobil7aWYobnx8IiI9PT1uKXt2YXIgcj1uW2NdO2lmKHIpcmV0dXJuIHIuY2FsbChuKTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZXh0KXJldHVybiBuO2lmKCFpc05hTihuLmxlbmd0aCkpe3ZhciBvPS0xLGE9ZnVuY3Rpb24gZSgpe2Zvcig7KytvPG4ubGVuZ3RoOylpZihpLmNhbGwobixvKSlyZXR1cm4gZS52YWx1ZT1uW29dLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPXQsZS5kb25lPSEwLGV9O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihlKG4pKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIFMucHJvdG90eXBlPUUsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksYShFLCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksUy5kaXNwbGF5TmFtZT1wKEUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxuLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PVN8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LG4ubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLEUpOihlLl9fcHJvdG9fXz1FLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LG4uYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxuLkFzeW5jSXRlcmF0b3I9XyxuLmFzeW5jPWZ1bmN0aW9uKGUsdCxyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLHQscixvKSxpKTtyZXR1cm4gbi5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxuLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sbi52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIWUpZm9yKHZhciBuIGluIHRoaXMpInQiPT09bi5jaGFyQXQoMCkmJmkuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBhPXRoaXMudHJ5RW50cmllc1tvXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9aS5jYWxsKGEsImNhdGNoTG9jIiksdT1pLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIG89cjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9by5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UChlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHl9fSxufWZ1bmN0aW9uIGkoZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiBhKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3ZhciBhPWUuYXBwbHkodCxuKTtmdW5jdGlvbiBzKGUpe2koYSxyLG8scyxjLCJuZXh0IixlKX1mdW5jdGlvbiBjKGUpe2koYSxyLG8scyxjLCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfX0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cix0LmxpbHk9cix0LmNjcFZlcnNpb249IlYyIjt2YXIgaT0iQ0lUUklYIixzPSJBV1NfV09SS1NQQUNFIixjPSJPTU5JU1NBIix1PSJDSVRSSVhfNDEzIixsPSJicm93c2VySWQiLHA9e307cFtyLlNvZnRwaG9uZUNhbGxUeXBlLkFVRElPX09OTFldPSJBdWRpbyIscFtyLlNvZnRwaG9uZUNhbGxUeXBlLlZJREVPX09OTFldPSJWaWRlbyIscFtyLlNvZnRwaG9uZUNhbGxUeXBlLkFVRElPX1ZJREVPXT0iQXVkaW9WaWRlbyIscFtyLlNvZnRwaG9uZUNhbGxUeXBlLk5PTkVdPSJOb25lIjt2YXIgZD0iYXVkaW9faW5wdXQiLGg9ImF1ZGlvX291dHB1dCI7KHt9KVtyLkNvbnRhY3RUeXBlLlZPSUNFXT0iVm9pY2UiO3ZhciBmPVtdLGc9W10sbT1bXSx2PXt9LHk9e30sYj0wLFM9MCxFPTAsQz0wLEk9MCxUPTAsdz0hMSxBPTAsXz0hMSxSPSExLEw9bnVsbCxPPW51bGwsaz1udWxsLE49bnVsbCxQPXIuU29mdHBob25lRXJyb3JUeXBlcyx4PXt9LEQ9ci5yYW5kb21JZCgpLE09ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3IuY29yZS5nZXRDbGllbnQoKS5jYWxsKHIuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dChlLnNvZnRwaG9uZVRyYW5zcG9ydC5zb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtlLm1lc3NhZ2UmJmUubWVzc2FnZS5pbmNsdWRlcygiU29mdHBob25lQ29ubmVjdGlvbkxpbWl0QnJlYWNoZWRFeGNlcHRpb24iKSYmUSgibXVsdGlwbGVfc29mdHBob25lX2FjdGl2ZV9zZXNzaW9ucyIsIk51bWJlciBvZiBhY3RpdmUgc2Vzc2lvbnMgYXJlIG1vcmUgdGhlbiBhbGxvd2VkIGxpbWl0LiIsIiIpLG4oRXJyb3IoInJlcXVlc3RJY2VBY2Nlc3MgZmFpbGVkIikpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe24oRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSByZXF1ZXN0SWNlQWNjZXNzIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtuKEVycm9yKCJBY2Nlc3MgRGVuaWVkIHdoaWxlIHJlcXVlc3RJY2VBY2Nlc3MiKSl9fSl9KSl9LFU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHA9dGhpczt0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLHRoaXMucnRjSnNTdHJhdGVneT1udWxsLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW51bGwsdGhpcy5fc2V0UnRjSnNTdHJhdGVneT1mdW5jdGlvbigpe2lmKG4uVkRJUGxhdGZvcm0pe0w9bi5WRElQbGF0Zm9ybTt0cnl7c3dpdGNoKEwpe2Nhc2UgaTpjYXNlIHU6dGhpcy5ydGNKc1N0cmF0ZWd5PW5ldyByLkNpdHJpeFZESVN0cmF0ZWd5KEwsITApO2JyZWFrO2Nhc2Ugczp0aGlzLnJ0Y0pzU3RyYXRlZ3k9bmV3IHIuRENWV2ViUlRDU3RyYXRlZ3k7YnJlYWs7Y2FzZSBjOnRoaXMucnRjSnNTdHJhdGVneT1uZXcgci5PbW5pc3NhVkRJU3RyYXRlZ3k7YnJlYWs7ZGVmYXVsdDpRKFAuVkRJX1NUUkFURUdZX05PVF9TVVBQT1JURUQsIlZESSBTdHJhdGVneSBub3Qgc3VwcG9ydGVkIiwiIil9Ti5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gU3RyYXRlZ3kgY29uc3RydWN0b3IgcmV0cmlldmVkOiAiLmNvbmNhdCh0aGlzLnJ0Y0pzU3RyYXRlZ3kpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3Rocm93IlZESSBTdHJhdGVneSBub3Qgc3VwcG9ydGVkIj09PWUubWVzc2FnZT8oUShQLlZESV9TVFJBVEVHWV9OT1RfU1VQUE9SVEVELGUubWVzc2FnZSwiIiksZSk6IkNpdHJpeCBXZWJSVEMgcmVkaXJlY3Rpb24gZmVhdHVyZSBpcyBOT1Qgc3VwcG9ydGVkISI9PT1lLm1lc3NhZ2V8fCJEQ1YgV2ViUlRDIHJlZGlyZWN0aW9uIGZlYXR1cmUgaXMgTk9UIHN1cHBvcnRlZCEiPT09ZS5tZXNzYWdlPyhRKFAuVkRJX1JFRElSX05PVF9TVVBQT1JURUQsZS5tZXNzYWdlLCIiKSxlKTooUShQLk9USEVSLGUubWVzc2FnZSwiIiksZSl9fX0sdGhpcy5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1mdW5jdGlvbigpe3ZhciBlO251bGwhPXImJm51bGwhPT0oZT1yLmNvcmUpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5zb2Z0cGhvbmVNYW5hZ2VyKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KSYmdm9pZCAwIT09ZSYmZS5jbG9zZSYmci5jb3JlLnNvZnRwaG9uZU1hbmFnZXIucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsb3NlKCksci5SdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkmJih0aGlzLnJ0Y0pzU3RyYXRlZ3k/dGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bmV3IHIuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KE4sci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxELHIuaGl0Y2gocCxNLHt0cmFuc3BvcnRUeXBlOiJzb2Z0cGhvbmUiLHNvZnRwaG9uZUNsaWVudElkOkR9KSxyLmhpdGNoKHAsUSksdGhpcy5ydGNKc1N0cmF0ZWd5KTp0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1uZXcgci5SdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkoTixyLmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpLEQsci5oaXRjaChwLE0se3RyYW5zcG9ydFR5cGU6InNvZnRwaG9uZSIsc29mdHBob25lQ2xpZW50SWQ6RH0pLHIuaGl0Y2gocCxRKSkpfSx0aGlzLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj1mdW5jdGlvbigpe3ZhciBlO251bGwhPXImJm51bGwhPT0oZT1yLmNvcmUpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5zb2Z0cGhvbmVNYW5hZ2VyKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKSYmdm9pZCAwIT09ZSYmZS5jbG9zZSYmKHIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jbG9zZSgpLHIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj1udWxsKTt2YXIgbyxpLGE9bi5pc1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uRW5hYmxlZDt0LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGwpfHx0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGwsQVdTLnV0aWwudXVpZC52NCgpKSxvPXQubG9jYWxTdG9yYWdlLmdldEl0ZW0obCksci5SdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI/KF89ITEsbnVsbCE9PShpPXAucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KSYmdm9pZCAwIT09aSYmaS5jbG9zZSYmKHAucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsb3NlKCkscC5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bnVsbCkscC5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9bmV3IHIuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKG51bGwsbnVsbCxyLmhpdGNoKHAsTSx7dHJhbnNwb3J0VHlwZToic29mdHBob25lIixzb2Z0cGhvbmVDbGllbnRJZDpEfSksci5oaXRjaChwLFEpLEQsbnVsbCxOLG51bGwsbnVsbCxyLmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpLG51bGw9PT1wLnJ0Y0pzU3RyYXRlZ3k/bmV3IHIuU3RhbmRhcmRTdHJhdGVneTpwLnJ0Y0pzU3RyYXRlZ3ksYSxvKSk6Ti5pbmZvKCJSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIgZG9lcyBOT1QgZXhpc3QsIHBsZWFzZSB1cGdyYWRlIFJUQy5qcyIpfSwoTj1uZXcgZGUoci5nZXRMb2coKSkpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gc29mdHBob25lIG1hbmFnZXIgaW5pdGlhbGl6YXRpb24gaGFzIGJlZ3VuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMSE9PW4uYWxsb3dFYXJseUd1bSYmKHIuaXNDaHJvbWVCcm93c2VyKCl8fHIuaXNFZGdlQnJvd3NlcigpKT8oTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGVhcmx5R3VtIG1lY2hhbmlzbSBlbmFibGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxfPSEwKTooTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGVhcmx5R3VtIG1lY2hhbmlzbSBOT1QgZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksXz0hMSksTi5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gQ2xpZW50IFByb3ZpZGVkIFN0cmF0ZWd5OiAiLmNvbmNhdChuLlZESVBsYXRmb3JtKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLl9zZXRSdGNKc1N0cmF0ZWd5KCksdGhpcy5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSgpLG51bGw9PT10aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciYmdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKSxyLmFnZW50KChmdW5jdGlvbih0KXt0Lm9uUmVmcmVzaCgoZnVuY3Rpb24odCl7aWYoZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIpe3ZhciBuPXQuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uO2UucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmhhbmRsZVBlcnNpc3RlbnRQZWVyQ29ubmVjdGlvblRvZ2dsZShuKX1lbHNlIGUuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCl9KSl9KSksVS5pc0Jyb3dzZXJTb2Z0UGhvbmVTdXBwb3J0ZWQoKXx8UShQLlVOU1VQUE9SVEVEX0JST1dTRVIsIkNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIGJyb3dzZXIuIFNvbWUgZnVuY3Rpb25hbGl0eSBtYXkgbm90IHdvcmsuICIsIiIpLG4uVkRJUGxhdGZvcm0hPT1zJiZYKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe1ooIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImdyYW50ZWQifSksWigiTWljQ2hlY2tTdWNjZWVkZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtRKGUsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpLFooIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImRlbmllZCJ9KSxaKCJHdW1GYWlsZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX19KTt2YXIgZD1qKCksaD1xKCksZj1CKCFuLmRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uKTtHKCksdGhpcy5yaW5ndG9uZUVuZ2luZT1udWxsO3ZhciBnPXt9LG09e30sdj0hMSx5PW51bGwsYj1udWxsLFM9ZnVuY3Rpb24oKXt2PSExLHk9bnVsbCxiPW51bGx9O3RoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gZ1tlXX0sdGhpcy5yZXBsYWNlQXVkaW9UcmFja3NJblJUQ1Nlc3Npb25XaXRoVm9pY2VFbmhhbmNlZE1lZGlhPWZ1bmN0aW9uKCl7dmFyIGU9YShvKCkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgaSxhLHM7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihlLnByZXY9MCxudWxsPT1uLlZESVBsYXRmb3JtKXtlLm5leHQ9NDticmVha31yZXR1cm4gTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFNraXBwaW5nIG1lZGlhIHN0cmVhbSByZXBsYWNlIHdpdGggZW5oYW5jZWQgbWVkaWEgZm9yIFZESTogIi5jb25jYXQobi5WRElQbGF0Zm9ybSkpLGUuYWJydXB0KCJyZXR1cm4iKTtjYXNlIDQ6cmV0dXJuIGk9e2F1ZGlvOntlY2hvQ2FuY2VsbGF0aW9uOiEwfX0sdCYmKGkuYXVkaW8uZGV2aWNlSWQ9e2V4YWN0OnR9KSxuLmRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uJiYoaS5hdWRpby5lY2hvQ2FuY2VsbGF0aW9uPSExLGkuYXVkaW8uYXV0b0dhaW5Db250cm9sPSEwKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IklzRWNob0NhbmNlbGxhdGlvbkVuYWJsZWQiLGRhdGE6e2NvdW50OmkuYXVkaW8uZWNob0NhbmNlbGxhdGlvbj8xOjB9fSksZS5uZXh0PTEwLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGkpO2Nhc2UgMTA6cmV0dXJuIGE9ZS5zZW50LE4uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBHb3Qgc3RyZWFtICIuY29uY2F0KG51bGw9PWE/dm9pZCAwOmEuaWQsIiBmb3IgZGV2aWNlICIpLmNvbmNhdChpLmF1ZGlvLmRldmljZUlkKSksZS5uZXh0PTE0LHIuVm9pY2VGb2N1c1Byb3ZpZGVyLmdldFZvaWNlRW5oYW5jZWRVc2VyTWVkaWEoYSx7b25FcnJvcjpmdW5jdGlvbigpe3JldHVybiBRKCJhdWRpb19lbmhhbmNlbWVudF9mYWlsdXJlIiwiRmFpbGVkIHRvIGVuaGFuY2UgYXVkaW8gc3RyZWFtIiwiIil9fSk7Y2FzZSAxNDpyZXR1cm4gcz1lLnNlbnQsZS5uZXh0PTE3LHRoaXMucmVwbGFjZU1lZGlhU3RyZWFtSW5SVENTZXNzaW9uKHMpO2Nhc2UgMTc6Ti5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFJlcGxhY2VkIGxvY2FsIGF1ZGlvIHN0cmVhbSAiLmNvbmNhdChhLmlkLCIgd2l0aCBhdWRpbyBzdHJlYW06ICIpLmNvbmNhdChzLmlkKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLm5leHQ9MjM7YnJlYWs7Y2FzZSAyMDplLnByZXY9MjAsZS50MD1lLmNhdGNoKDApLE4uZXJyb3IoIltTb2Z0cGhvbmUgTWFuYWdlcl0gRmFpbGVkIHRvIHJlcGxhY2UgbWVkaWEgc3RyZWFtIGluIHJ0YyBzZXNzaW9uIikud2l0aEV4Y2VwdGlvbihlLnQwKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1swLDIwXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSx0aGlzLnJlcGxhY2VNZWRpYVN0cmVhbUluUlRDU2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEobygpLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIG4scixpLGEscz10aGlzO3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoZS5wcmV2PTAsdCYmdC5nZXRBdWRpb1RyYWNrcyYmdC5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG1lZGlhIHN0cmVhbSBvciBubyBhdWRpbyB0cmFja3MgYXZhaWxhYmxlIik7Y2FzZSAzOm49dC5nZXRBdWRpb1RyYWNrcygpWzBdLHI9W10saT1vKCkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgaSxhLGM7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZigheC5oYXNPd25Qcm9wZXJ0eSh0KSl7ZS5uZXh0PTExO2JyZWFrfWlmKChpPXMuZ2V0U2Vzc2lvbih0KSkmJmkuX3BjJiZpLl9wYy5nZXRTZW5kZXJzKXtlLm5leHQ9NTticmVha31yZXR1cm4gTi53YXJuKCJbU29mdHBob25lIE1hbmFnZXJdIEludmFsaWQgc2Vzc2lvbiBvciBwZWVyIGNvbm5lY3Rpb24gZm9yIGNvbm5lY3Rpb25JZDogIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5hYnJ1cHQoInJldHVybiIsMCk7Y2FzZSA1OmlmKGE9aS5fcGMuZ2V0U2VuZGVycygpWzBdKXtlLm5leHQ9OTticmVha31yZXR1cm4gTi53YXJuKCJbU29mdHBob25lIE1hbmFnZXJdIE5vIFJUUCBzZW5kZXIgZm91bmQgZm9yIGNvbm5lY3Rpb25JZDogIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5hYnJ1cHQoInJldHVybiIsMCk7Y2FzZSA5OmM9YS5yZXBsYWNlVHJhY2sobikudGhlbigoZnVuY3Rpb24oKXtzLnJlcGxhY2VMb2NhbE1lZGlhVHJhY2sodCxuKSxpLl9pc1VzZXJQcm92aWRlZFN0cmVhbT0hMCxOLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gQXVkaW8gdHJhY2sgc3VjY2Vzc2Z1bGx5IHJlcGxhY2VkIGZvciBjb25uZWN0aW9uSWQ6ICIuY29uY2F0KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLE4uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBBdWRpbyB0cmFjayBzZXR0aW5nczogIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobi5nZXRTZXR0aW5ncygpKSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe04uZXJyb3IoIltTb2Z0cGhvbmUgTWFuYWdlcl0gRmFpbGVkIHRvIHJlcGxhY2UgdHJhY2sgZm9yIGNvbm5lY3Rpb25JZDogIi5jb25jYXQodCkpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxyLnB1c2goYyk7Y2FzZSAxMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpLGUudDA9bygpLmtleXMoeCk7Y2FzZSA3OmlmKChlLnQxPWUudDAoKSkuZG9uZSl7ZS5uZXh0PTE1O2JyZWFrfXJldHVybiBhPWUudDEudmFsdWUsZS5kZWxlZ2F0ZVlpZWxkKGkoYSksInQyIiwxMCk7Y2FzZSAxMDppZigwIT09ZS50Mil7ZS5uZXh0PTEzO2JyZWFrfXJldHVybiBlLmFicnVwdCgiY29udGludWUiLDcpO2Nhc2UgMTM6ZS5uZXh0PTc7YnJlYWs7Y2FzZSAxNTpyZXR1cm4gZS5uZXh0PTE3LFByb21pc2UuYWxsKHIpO2Nhc2UgMTc6Ti5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFN1Y2Nlc3NmdWxseSByZXBsYWNlZCBhbGwgYXVkaW8gdHJhY2tzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLm5leHQ9MjM7YnJlYWs7Y2FzZSAyMDplLnByZXY9MjAsZS50Mz1lLmNhdGNoKDApLE4uZXJyb3IoIltTb2Z0cGhvbmUgTWFuYWdlcl0gRmFpbGVkIHRvIHJlcGxhY2UgbWVkaWEgc3RyZWFtIGluIHJ0YyBzZXNzaW9uIikud2l0aEV4Y2VwdGlvbihlLnQzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Nhc2UgMjM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLG51bGwsW1swLDIwXV0pfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSx0aGlzLnJlcGxhY2VMb2NhbE1lZGlhVHJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj14W2VdLnN0cmVhbTtpZihyKXt2YXIgbz1yLmdldEF1ZGlvVHJhY2tzKClbMF07dC5lbmFibGVkPW8uZW5hYmxlZCxvLmVuYWJsZWQ9ITEsci5yZW1vdmVUcmFjayhvKSxuLlZESVBsYXRmb3JtPT09cyYmby5zdG9wKCksci5hZGRUcmFjayh0KX19O3ZhciBFPWZ1bmN0aW9uKHQpe2lmKGcuaGFzT3duUHJvcGVydHkodCkpe3ZhciBuPWdbdF07bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZGVsZXRlIGdbdF0sZGVsZXRlIG1bdF0sZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI/ZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuaGFuZ3VwKCk6bi5oYW5ndXAoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bGlseS5nZXRMb2coKS53YXJuKCJUaGVyZSB3YXMgYW4gZXJyb3IgZGVzdHJveWluZyB0aGUgc29mdHBob25lIHNlc3Npb24gZm9yIGNvbm5lY3Rpb24gSUQgIi5jb25jYXQodCwiIDogIikuY29uY2F0KGUubWVzc2FnZSkpLndpdGhPYmplY3Qoe2FnZW50Q29ubmVjdGlvbklkOnQsZXJyb3JNZXNzYWdlOmUubWVzc2FnZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9fTt0aGlzLl9jbGVhckFsbFNlc3Npb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHIuZ2V0TG9nKCkuaW5mbygiQ2xlYXJpbmcgYWxsIGFjdGl2ZSBzZXNzaW9ucyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZylnLmhhc093blByb3BlcnR5KGUpJiZFKGUpfSx0aGlzLnN0YXJ0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciBvPXY/eTplLGk9dj9iOnQ7aWYobyYmaSl7UygpLG1baV09ITAsTi5pbmZvKCJTb2Z0cGhvbmUgY2FsbCBkZXRlY3RlZDoiLCJjb250YWN0SWQgIitvLmdldENvbnRhY3RJZCgpLCJhZ2VudCBjb25uZWN0aW9uSWQgIitpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGZ1bmN0aW9uKGUpe2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aD4wKXtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYoJCgiTXVsdGlTZXNzaW9uSGFuZ1VwIixlW3RdLmNhbGxJZCx0KSxFKHQpKTt0aHJvdyBuZXcgRXJyb3IoImR1cGxpY2F0ZSBzZXNzaW9uIGRldGVjdGVkLCByZWZ1c2luZyB0byBzZXR1cCBuZXcgY29ubmVjdGlvbiIpfX0oZyksby5nZXRTdGF0dXMoKS50eXBlPT09ci5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZaKCJTb2Z0cGhvbmUgQ29ubmVjdGluZyIsby5nZXRDb250YWN0SWQoKSkscmUoKTt2YXIgYSxzLGM9by5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKSx1PVkoYy5jYWxsQ29uZmlnSnNvbik7dS51c2VXZWJTb2NrZXRQcm92aWRlciYmKGE9ci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSksbnVsbD09PXRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcigpLChzPXIuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj90aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jcmVhdGVTZXNzaW9uKG8uZ2V0Q29udGFjdElkKCksdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixpLGEsbnVsbD09PXRoaXMucnRjSnNTdHJhdGVneT9uZXcgci5TdGFuZGFyZFN0cmF0ZWd5OnRoaXMucnRjSnNTdHJhdGVneSk6dGhpcy5ydGNKc1N0cmF0ZWd5P25ldyByLlJUQ1Nlc3Npb24odS5zaWduYWxpbmdFbmRwb2ludCx1LmljZVNlcnZlcnMsYy5jYWxsQ29udGV4dFRva2VuLE4sby5nZXRDb250YWN0SWQoKSxpLGEsdGhpcy5ydGNKc1N0cmF0ZWd5KTpuZXcgci5SVENTZXNzaW9uKHUuc2lnbmFsaW5nRW5kcG9pbnQsdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixOLG8uZ2V0Q29udGFjdElkKCksaSxhKSkuZWNob0NhbmNlbGxhdGlvbj0hbi5kaXNhYmxlRWNob0NhbmNlbGxhdGlvbixnW2ldPXMsci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KSxzLm9uU2Vzc2lvbkZhaWxlZD1mdW5jdGlvbihlLHQpe2RlbGV0ZSBnW2ldLGRlbGV0ZSBtW2ldLEsoZSx0KSxKKG8uZ2V0Q29udGFjdElkKCksdCksdWUobyxlLnNlc3Npb25SZXBvcnQpLHIuVm9pY2VGb2N1c1Byb3ZpZGVyLnB1Ymxpc2hNZXRyaWNzKHtjb250YWN0SWR9KSxyLlZvaWNlRm9jdXNQcm92aWRlci5jbGVhblZvaWNlRm9jdXMoKX0scy5vblNlc3Npb25Db25uZWN0ZWQ9ZnVuY3Rpb24oZSl7WigiU29mdHBob25lIFNlc3Npb24gQ29ubmVjdGVkIixvLmdldENvbnRhY3RJZCgpKSxyLmJlY29tZU1hc3RlcihyLk1hc3RlclRvcGljcy5TRU5EX0xPR1MpLHRlKGUpLG5lKG8pLEYobyl9LHMub25TZXNzaW9uQ29tcGxldGVkPWZ1bmN0aW9uKGUpe1ooIlNvZnRwaG9uZSBTZXNzaW9uIENvbXBsZXRlZCIsby5nZXRDb250YWN0SWQoKSksZGVsZXRlIGdbaV0sZGVsZXRlIG1baV0sdWUobyxlLnNlc3Npb25SZXBvcnQpLFYoaSksci5Wb2ljZUZvY3VzUHJvdmlkZXIucHVibGlzaE1ldHJpY3Moe2NvbnRhY3RJZH0pLHIuVm9pY2VGb2N1c1Byb3ZpZGVyLmNsZWFuVm9pY2VGb2N1cygpfSxzLm9uTG9jYWxTdHJlYW1BZGRlZD1mdW5jdGlvbihlLHQpe3hbaV09e3N0cmVhbTp0fSxOLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gT24gbG9jYWwgbWVkaWEgc3RyZWFtIHNldCwgY2FsbCB2b2ljZSBlbmhhbmNlbWVudCBmb3Igc3RyZWFtOiAiLmNvbmNhdCh0LmlkKSkscC5yZXBsYWNlQXVkaW9UcmFja3NJblJUQ1Nlc3Npb25XaXRoVm9pY2VFbmhhbmNlZE1lZGlhKCkudGhlbigoZnVuY3Rpb24oKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLkxPQ0FMX01FRElBX1NUUkVBTV9DUkVBVEVELGRhdGE6e2Nvbm5lY3Rpb25JZDppfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtOLmVycm9yKCJbU29mdHBob25lIE1hbmFnZXJdIEZhaWxlZCB0byByZXBsYWNlIGF1ZGlvIHRyYWNrcyBpbiBSVEMgc2Vzc2lvbi4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5BZ2VudEV2ZW50cy5MT0NBTF9NRURJQV9TVFJFQU1fQ1JFQVRFRCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KX0pKX0scy5yZW1vdGVBdWRpb0VsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpfHx3aW5kb3cucGFyZW50LnBhcmVudC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIiksdGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI/dGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY29ubmVjdCgpOnRoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5P3MuY29ubmVjdCh0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5nZXQodS5pY2VTZXJ2ZXJzKSk6cy5jb25uZWN0KCl9fTt2YXIgQz1mdW5jdGlvbihlLHQpe3ZhciBuO2dbdF0mJmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVOREVEfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVSUk9SfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLk1JU1NFRH0oZSkmJihFKHQpLFMoKSksIWUuaXNTb2Z0cGhvbmVDYWxsKCl8fG1bdF18fGUuZ2V0U3RhdHVzKCkudHlwZSE9PXIuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09ci5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlOR3x8KFooIlNvZnRwaG9uZUNvbmZpZ0RldGVjdGVkIixlLmdldENvbnRhY3RJZCgpLHt9LCEwKSxyLmlzRmlyZWZveEJyb3dzZXIoKSYmci5oYXNPdGhlckNvbm5lY3RlZENDUHMoKT8oTi5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFBvc3Rwb25lIHN0YXJ0aW5nIHNlc3Npb246ICIrZS5nZXRDb250YWN0SWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlLHQpe3Y9ITAseT1lLGI9dH0oZSx0KSk6XyYmbnVsbCE9PShuPXIuY29yZS51c2VyTWVkaWFQcm92aWRlcikmJnZvaWQgMCE9PW4mJm4ucHJlY2FwdHVyZWRNZWRpYVN0cmVhbUF2YWlsYWJsZSgpPyhSPSEwLE4uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBzdGFydGluZyBzZXNzaW9uIHVzaW5nIHByZWNhcHR1cmVkTWVkaWFTdHJlYW0iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHAuc3RhcnRTZXNzaW9uKGUsdCxyLmNvcmUudXNlck1lZGlhUHJvdmlkZXIuZ2V0UHJlY2FwdHVyZWRNZWRpYVN0cmVhbSgpKSk6KFI9ITEsci5jb3JlLl9pc0Vhcmx5R3VtRGlzYWJsZWQmJihfPSExKSxwLnN0YXJ0U2Vzc2lvbihlLHQpKSl9LEk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7Ti5pbmZvKCJDb250YWN0IGRldGVjdGVkOiIsImNvbnRhY3RJZCAiK2UuZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK3QpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbVt0XXx8KGUub25SZWZyZXNoKChmdW5jdGlvbihlKXtDKGUsdCl9KSksZS5vbkRlc3Ryb3koKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe2dbZV0mJkUoZSl9KHQpLHhbdF0mJlYodCl9KSkpfSxUPXIuY29udGFjdChJKTsobmV3IHIuQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7Ti5pbmZvKCJDb250YWN0IGV4aXN0IGluIHRoZSBzbmFwc2hvdC4gUmVpbml0aWF0ZSB0aGUgQ29udGFjdCBhbmQgUlRDIHNlc3Npb24gY3JlYXRpb24gZm9yIGNvbnRhY3RJZCIrZS5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIrdCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxJKGUpLEMoZSx0KX0pKSx0aGlzLnRlcm1pbmF0ZT1mdW5jdGlvbigpe1QmJlQudW5zdWJzY3JpYmUmJlQudW5zdWJzY3JpYmUoKSxkJiZkLnVuc3Vic2NyaWJlJiZkLnVuc3Vic2NyaWJlKCksaCYmaC51bnN1YnNjcmliZSYmaC51bnN1YnNjcmliZSgpLGYmJmYudW5zdWJzY3JpYmUmJmYudW5zdWJzY3JpYmUoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQmJmUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpLGUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwsZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXImJmUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCYmZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkKCl9fSxGPWZ1bmN0aW9uKGUpe3ZhciB0PXIuY29yZS5nZXRVcHN0cmVhbSgpLG49ZS5nZXRBZ2VudENvbm5lY3Rpb24oKTtpZihuKXt2YXIgbz1uLmdldFNvZnRwaG9uZU1lZGlhSW5mbygpO28/ITA9PT1vLmF1dG9BY2NlcHQ/KE4uaW5mbygiQXV0by1hY2NlcHQgaXMgZW5hYmxlZCwgc2VuZGluZyBvdXQgQWNjZXB0ZWQgZXZlbnQgdG8gc3RvcCByaW5ndG9uZS4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCxkYXRhOm5ldyByLkNvbnRhY3QoZS5jb250YWN0SWQpfSksdC5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZShyLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZS5jb250YWN0SWQpLGRhdGE6bmV3IHIuQ29udGFjdChlLmNvbnRhY3RJZCl9KSk6Ti5pbmZvKCJBdXRvLWFjY2VwdCBpcyBkaXNhYmxlZCwgcmluZ3RvbmUgd2lsbCBiZSBzdG9wcGVkIGJ5IHVzZXIgYWN0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6Ti5pbmZvKCJOb3QgYWJsZSB0byByZXRyaWV2ZSB0aGUgYXV0by1hY2NlcHQgc2V0dGluZyBmcm9tIG51bGwgU29mdHBob25lTWVkaWFJbmZvLCBpZ25vcmluZyBldmVudCBwdWJsaXNoLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2UgTi5pbmZvKCJOb3QgYWJsZSB0byByZXRyaWV2ZSB0aGUgYXV0by1hY2NlcHQgc2V0dGluZyBmcm9tIG51bGwgQWdlbnRDb25uZWN0aW9uLCBpZ25vcmluZyBldmVudCBwdWJsaXNoLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxqPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5NVVRFLFcpfSxxPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1NQRUFLRVJfREVWSUNFLEgpfSxCPWZ1bmN0aW9uKGUpe3JldHVybiByLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9NSUNST1BIT05FX0RFVklDRSwoZnVuY3Rpb24odCl7cmV0dXJuIHoobihuKHt9LHQpLHt9LHtlbmFibGVFY2hvQ2FuY2VsbGF0aW9uOmV9KSl9KSl9LEc9ZnVuY3Rpb24oKXt0cnl7ci5pc0Nocm9tZUJyb3dzZXIoKSYmci5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbigpPjQzJiZuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6Im1pY3JvcGhvbmUifSkudGhlbigoZnVuY3Rpb24oZSl7ZS5vbmNoYW5nZT1mdW5jdGlvbigpe04uaW5mbygiTWljcm9waG9uZSBQZXJtaXNzaW9uOiAiK2Uuc3RhdGUpLFooIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ZS5zdGF0ZX0pLCJkZW5pZWQiPT09ZS5zdGF0ZSYmUShQLk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCwiWW91ciBtaWNyb3Bob25lIGlzIG5vdCBlbmFibGVkIGluIHlvdXIgYnJvd3Nlci4gIiwiIil9fSkpfWNhdGNoKGUpe04uZXJyb3IoIkZhaWxlZCBpbiBkZXRlY3RpbmcgbWljcm9waG9uZSBwZXJtaXNzaW9uIHN0YXR1czogIitlKX19LFY9ZnVuY3Rpb24oZSl7ZGVsZXRlIHhbZV0sci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5BZ2VudEV2ZW50cy5NVVRFX1RPR0dMRSxkYXRhOnttdXRlZDohMX19KX0sVz1mdW5jdGlvbihlKXt2YXIgdDtpZigwIT09ci5rZXlzKHgpLmxlbmd0aCl7Zm9yKHZhciBuIGluIGUmJnZvaWQgMCE9PWUubXV0ZSYmKHQ9ZS5tdXRlKSx4KWlmKHguaGFzT3duUHJvcGVydHkobikpe3ZhciBvPXhbbl0uc3RyZWFtO2lmKG8pe3ZhciBpPW8uZ2V0QXVkaW9UcmFja3MoKVswXTt2b2lkIDAhPT10PyhpLmVuYWJsZWQ9IXQseFtuXS5tdXRlZD10LHQ/Ti5pbmZvKCJBZ2VudCBoYXMgbXV0ZWQgdGhlIGNvbnRhY3QsIGNvbm5lY3Rpb25JZCAtICAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6Ti5pbmZvKCJBZ2VudCBoYXMgdW5tdXRlZCB0aGUgY29udGFjdCwgY29ubmVjdGlvbklkIC0gIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTp0PXhbbl0ubXV0ZWR8fCExfX1yLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGRhdGE6e211dGVkOnR9fSl9fSxIPWZ1bmN0aW9uKCl7dmFyIGU9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuZGV2aWNlSWR8fCIiO2lmKHIuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gQXR0ZW1wdGluZyB0byBzZXQgc3BlYWtlciBkZXZpY2UgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpfHx3aW5kb3cucGFyZW50LnBhcmVudC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIik7dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuc2V0U2lua0lkP3Quc2V0U2lua0lkKGUpLnRoZW4oKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTcGVha2VyIGRldmljZSAiLmNvbmNhdChlLCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBzcGVha2VyIGF1ZGlvIGVsZW1lbnQiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkNvbmZpZ3VyYXRpb25FdmVudHMuU1BFQUtFUl9ERVZJQ0VfQ0hBTkdFRCxkYXRhOntkZXZpY2VJZDplfX0pfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IHNwZWFrZXIgZGV2aWNlICIrZSkud2l0aEV4Y2VwdGlvbih0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpOnIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBzcGVha2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgcmVtb3RlQXVkaW9FbGVtZW50Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBzcGVha2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSx6PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5kZXZpY2VJZHx8IiI7aWYoci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBBdHRlbXB0aW5nIHRvIHNldCBtaWNyb3Bob25lIGRldmljZSAiLmNvbmNhdCh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwwIT09ci5rZXlzKHgpLmxlbmd0aClpZih0KXt2YXIgbj1yLmNvcmUuZ2V0U29mdHBob25lTWFuYWdlcigpLG89e2F1ZGlvOntkZXZpY2VJZDp7ZXhhY3Q6dH19fTtlLmVuYWJsZUVjaG9DYW5jZWxsYXRpb258fChvLmF1ZGlvLmVjaG9DYW5jZWxsYXRpb249ITEpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiZWNob0NhbmNlbGxhdGlvbkNoZWNrIixkYXRhOntjb3VudDoxLGRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uOiFlLmVuYWJsZUVjaG9DYW5jZWxsYXRpb259fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobykudGhlbigoZnVuY3Rpb24oZSl7dHJ5e3ZhciBvPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtmb3IodmFyIGkgaW4geClpZih4Lmhhc093blByb3BlcnR5KGkpKXt4W2ldLnN0cmVhbTt2YXIgYT1uLmdldFNlc3Npb24oaSk7YS5fcGMuZ2V0U2VuZGVycygpWzBdLnJlcGxhY2VUcmFjayhvKS50aGVuKChmdW5jdGlvbigpe24ucmVwbGFjZUxvY2FsTWVkaWFUcmFjayhpLG8pLGEuX2lzVXNlclByb3ZpZGVkU3RyZWFtPSEwLHIuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gTWljcm9waG9uZSBkZXZpY2UgIi5jb25jYXQodCwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gbG9jYWwgbWVkaWEgc3RyZWFtIGluIFJUQ1J0cFNlbmRlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfX1jYXRjaChlKXtyZXR1cm4gdm9pZCByLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IG1pY3JvcGhvbmUgZGV2aWNlICIrdCkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29uZmlndXJhdGlvbkV2ZW50cy5NSUNST1BIT05FX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOnR9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgbWljcm9waG9uZSBkZXZpY2UgIit0KS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9ZWxzZSByLmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgbWljcm9waG9uZSBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIGRldmljZUlkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBtaWNyb3Bob25lIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgbG9jYWxNZWRpYVN0cmVhbSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LEs9ZnVuY3Rpb24oZSx0KXtpZih0PT09ci5SVENFcnJvcnMuSUNFX0NPTExFQ1RJT05fVElNRU9VVCl7Zm9yKHZhciBuPSJcbiIsbz0wO288ZS5faWNlU2VydmVycy5sZW5ndGg7bysrKWZvcih2YXIgaT0wO2k8ZS5faWNlU2VydmVyc1tvXS51cmxzLmxlbmd0aDtpKyspbj1uK2UuX2ljZVNlcnZlcnNbb10udXJsc1tpXSsiXG4iO1EoUC5JQ0VfQ09MTEVDVElPTl9USU1FT1VULCJJY2UgY29sbGVjdGlvbiB0aW1lZG91dC4gIixuKX1lbHNlIHQ9PT1yLlJUQ0Vycm9ycy5VU0VSX0JVU1k/UShQLlVTRVJfQlVTWV9FUlJPUiwiU29mdHBob25lIGNhbGwgVXNlckJ1c3kgZXJyb3IuICIsIiIpOnQ9PT1yLlJUQ0Vycm9ycy5TSUdOQUxMSU5HX0hBTkRTSEFLRV9GQUlMVVJFP1EoUC5TSUdOQUxMSU5HX0hBTkRTSEFLRV9GQUlMVVJFLCJIYW5kc2hha2luZyB3aXRoIFNpZ25hbGxpbmcgU2VydmVyICIrZS5fc2lnbmFsaW5nVXJpKyIgZmFpbGVkLiAiLGUuX3NpZ25hbGluZ1VyaSk6dD09PXIuUlRDRXJyb3JzLkdVTV9USU1FT1VUX0ZBSUxVUkV8fHQ9PT1yLlJUQ0Vycm9ycy5HVU1fT1RIRVJfRkFJTFVSRT9RKFAuTUlDUk9QSE9ORV9OT1RfU0hBUkVELCJZb3VyIG1pY3JvcGhvbmUgaXMgbm90IGVuYWJsZWQgaW4geW91ciBicm93c2VyLiAiLCIiKTp0PT09ci5SVENFcnJvcnMuU0lHTkFMTElOR19DT05ORUNUSU9OX0ZBSUxVUkU/UShQLlNJR05BTExJTkdfQ09OTkVDVElPTl9GQUlMVVJFLCJVUkwgIitlLl9zaWduYWxpbmdVcmkrIiBjYW5ub3QgYmUgcmVhY2hlZC4gIixlLl9zaWduYWxpbmdVcmkpOnQ9PT1yLlJUQ0Vycm9ycy5DQUxMX05PVF9GT1VORD9OLmVycm9yKCJTb2Z0cGhvbmUgY2FsbCBmYWlsZWQgZHVlIHRvIENhbGxOb3RGb3VuZEV4Y2VwdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOlEoUC5XRUJSVENfRVJST1IsIndlYnJ0YyBzeXN0ZW0gZXJyb3IuICIsIiIpfSxZPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSgvJnF1b3Q7L2csJyInKTtyZXR1cm4gSlNPTi5wYXJzZSh0KX0sWD1mdW5jdGlvbih0KXt2YXIgbj10fHx7fTtuLnN1Y2Nlc3M9bi5zdWNjZXNzfHxmdW5jdGlvbigpe30sbi5mYWlsdXJlPW4uZmFpbHVyZXx8ZnVuY3Rpb24oKXt9O3ZhciByPXthdWRpbzohMH0sbz1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlKXtpZigib2JqZWN0Ij09PWUobmF2aWdhdG9yLm1lZGlhRGV2aWNlcykmJiJmdW5jdGlvbiI9PXR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSlvPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEpcmV0dXJuIHZvaWQgbi5mYWlsdXJlKFAuVU5TVVBQT1JURURfQlJPV1NFUik7bz1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKHIsZSx0KX0pKX1yZXR1cm4gby50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1lLmdldEF1ZGlvVHJhY2tzKCk7dCYmdC5sZW5ndGg+MD9uLnN1Y2Nlc3MoZSk6bi5mYWlsdXJlKFAuTUlDUk9QSE9ORV9OT1RfU0hBUkVEKX0pLChmdW5jdGlvbihlKXtuLmZhaWx1cmUoUC5NSUNST1BIT05FX05PVF9TSEFSRUQpfSkpLG99bi5mYWlsdXJlKFAuVU5TVVBQT1JURURfQlJPV1NFUil9LFE9ZnVuY3Rpb24oZSx0LG4pe04uZXJyb3IoIlNvZnRwaG9uZSBlcnJvciBvY2N1cnJlZCA6ICIsZSx0fHwiIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLlNPRlRQSE9ORV9FUlJPUixkYXRhOm5ldyByLlNvZnRwaG9uZUVycm9yKGUsdCxuKX0pfSxKPWZ1bmN0aW9uKGUsdCl7WigiU29mdHBob25lIFNlc3Npb24gRmFpbGVkIixlLHtmYWlsZWRSZWFzb246dH0pfSxaPWZ1bmN0aW9uKGUsdCxuKXtyLnB1Ymxpc2hNZXRyaWMoe25hbWU6ZSxjb250YWN0SWQ6dCxkYXRhOm59KX0sJD1mdW5jdGlvbihlLHQsbil7WihlLHQsW3tuYW1lOiJBZ2VudENvbm5lY3Rpb25JZCIsdmFsdWU6bn1dKSxOLmluZm8oIlB1Ymxpc2ggbXVsdGlwbGUgc2Vzc2lvbiBlcnJvciBtZXRyaWNzIixlLCJjb250YWN0SWQgIit0LCJhZ2VudCBjb25uZWN0aW9uSWQgIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTtVLmlzQnJvd3NlclNvZnRQaG9uZVN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhKHIuaXNPcGVyYUJyb3dzZXIoKSYmci5nZXRPcGVyYUJyb3dzZXJWZXJzaW9uKCk+MTcpfHwhIShyLmlzQ2hyb21lQnJvd3NlcigpJiZyLmdldENocm9tZUJyb3dzZXJWZXJzaW9uKCk+MjIpfHwhIShyLmlzRmlyZWZveEJyb3dzZXIoKSYmci5nZXRGaXJlZm94QnJvd3NlclZlcnNpb24oKT4yMSl9O3ZhciBlZT1mdW5jdGlvbihlKXt2YXIgdD1mLnNsaWNlKCk7Zj1bXSx0Lmxlbmd0aD4wJiZlLnNlbmRTb2Z0cGhvbmVNZXRyaWNzKHQse3N1Y2Nlc3M6ZnVuY3Rpb24oKXtOLmluZm8oInNlbmRTb2Z0cGhvbmVNZXRyaWNzIHN1Y2Nlc3MiK0pTT04uc3RyaW5naWZ5KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe04uZXJyb3IoInNlbmRTb2Z0cGhvbmVNZXRyaWNzIGZhaWxlZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSl9LHRlPWZ1bmN0aW9uKGUpe089d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe3ZhciB0O2UuZ2V0VXNlckF1ZGlvU3RhdHMoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD12LG49b2Uodj1lLHQsZCk7Zi5wdXNoKG4pLGllKG4pfSksKGZ1bmN0aW9uKGUpe04uZGVidWcoIkZhaWxlZCB0byBnZXQgdXNlciBhdWRpbyBzdGF0cy4iLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksZS5nZXRSZW1vdGVBdWRpb1N0YXRzKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9eSxuPW9lKHk9ZSx0LGgpO2YucHVzaChuKSxpZShuKX0pLChmdW5jdGlvbihlKXtOLmRlYnVnKCJGYWlsZWQgdG8gZ2V0IHJlbW90ZSBhdWRpbyBzdGF0cy4iLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksbnVsbCE9ZSYmbnVsbCE9PSh0PWUubWVkaWFTdHJlYW0pJiZ2b2lkIDAhPT10JiZudWxsIT09KHQ9dC5nZXRBdWRpb1RyYWNrcygpKSYmdm9pZCAwIT09dCYmbnVsbCE9PSh0PXRbMF0pJiZ2b2lkIDAhPT10JiZ0LmVuYWJsZWQ/VD0wOlQrK30pLDFlMyl9LG5lPWZ1bmN0aW9uKGUpe2s9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2VlKGUpfSksM2U0KX0scmU9ZnVuY3Rpb24oKXt2PW51bGwseT1udWxsLGY9W10sZz1bXSxtPVtdLE89bnVsbCxrPW51bGwsYj0wLFM9MCxFPTAsQz0wLEk9MH0sb2U9ZnVuY3Rpb24oZSx0LG4pe2lmKHQmJmUpe3ZhciByPWUucGFja2V0c0xvc3Q+dC5wYWNrZXRzTG9zdD9lLnBhY2tldHNMb3N0LXQucGFja2V0c0xvc3Q6MCxvPWUucGFja2V0c0NvdW50PnQucGFja2V0c0NvdW50P2UucGFja2V0c0NvdW50LXQucGFja2V0c0NvdW50OjA7cmV0dXJuIGFlKG8sbiksc2UoZS5hdWRpb0xldmVsLG4pLG5ldyBsZShlLnRpbWVzdGFtcCxyLG8sbixlLmF1ZGlvTGV2ZWwsZS5qYk1pbGxpc2Vjb25kcyxlLnJ0dE1pbGxpc2Vjb25kcyl9cmV0dXJuIG5ldyBsZShlLnRpbWVzdGFtcCxlLnBhY2tldHNMb3N0LGUucGFja2V0c0NvdW50LG4sZS5hdWRpb0xldmVsLGUuamJNaWxsaXNlY29uZHMsZS5ydHRNaWxsaXNlY29uZHMpfSxpZT1mdW5jdGlvbihlKXtpZihlLnNvZnRwaG9uZVN0cmVhbVR5cGU9PT1kKXtmb3IoO2cubGVuZ3RoPj0xMDgwMDspZy5zaGlmdCgpO2cucHVzaChlKX1lbHNlIGlmKGUuc29mdHBob25lU3RyZWFtVHlwZT09PWgpe2Zvcig7bS5sZW5ndGg+PTEwODAwOyltLnNoaWZ0KCk7bS5wdXNoKGUpfX0sYWU9ZnVuY3Rpb24oZSx0KXt0PT09ZD8oSSsrLGU8PTA/YisrOmI9MCk6dD09PWgmJihlPD0wP0UrKzpFPTApfSxzZT1mdW5jdGlvbihlLHQpe3Q9PT1kP251bGwhPT1lJiZlPD0xP1MrKzpTPTA6dD09PWgmJihudWxsIT09ZSYmZTw9MT9DKys6Qz0wKX0sY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbChlKSxudWxsfSx1ZT1mdW5jdGlvbihlLG8pe089Y2UoTyksaz1jZShrKSxmdW5jdGlvbihlLG8saSxhKXtvLnN0cmVhbVN0YXRzPVtwZShpLGQpLHBlKGEsaCldO3ZhciBzPXtjYWxsU3RhcnRUaW1lOm8uc2Vzc2lvblN0YXJ0VGltZSxjYWxsRW5kVGltZTpvLnNlc3Npb25FbmRUaW1lLGd1bVRpbWVNaWxsaXM6by5ndW1UaW1lTWlsbGlzLGluaXRpYWxpemF0aW9uVGltZU1pbGxpczpvLmluaXRpYWxpemF0aW9uVGltZU1pbGxpcyxpY2VDb2xsZWN0aW9uVGltZU1pbGxpczpvLmljZUNvbGxlY3Rpb25UaW1lTWlsbGlzLHNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpczpvLnNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcyxoYW5kc2hha2luZ1RpbWVNaWxsaXM6by5oYW5kc2hha2luZ1RpbWVNaWxsaXMscHJlVGFsa2luZ1RpbWVNaWxsaXM6by5wcmVUYWxraW5nVGltZU1pbGxpcyx0YWxraW5nVGltZU1pbGxpczpvLnRhbGtpbmdUaW1lTWlsbGlzLGNsZWFudXBUaW1lTWlsbGlzOm8uY2xlYW51cFRpbWVNaWxsaXMsaWNlQ29sbGVjdGlvbkZhaWx1cmU6by5pY2VDb2xsZWN0aW9uRmFpbHVyZSxzaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmU6by5zaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmUsaGFuZHNoYWtpbmdGYWlsdXJlOm8uaGFuZHNoYWtpbmdGYWlsdXJlLGd1bU90aGVyRmFpbHVyZTpvLmd1bU90aGVyRmFpbHVyZSxndW1UaW1lb3V0RmFpbHVyZTpvLmd1bVRpbWVvdXRGYWlsdXJlLGNyZWF0ZU9mZmVyRmFpbHVyZTpvLmNyZWF0ZU9mZmVyRmFpbHVyZSxzZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZTpvLnNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlLHVzZXJCdXN5RmFpbHVyZTpvLnVzZXJCdXN5RmFpbHVyZSxpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTpvLmludmFsaWRSZW1vdGVTRFBGYWlsdXJlLG5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZTpvLm5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZSxzZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmU6by5zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmUsc29mdHBob25lU3RyZWFtU3RhdGlzdGljczpvLnN0cmVhbVN0YXRzfTtlLnNlbmRTb2Z0cGhvbmVSZXBvcnQocyx7c3VjY2VzczpmdW5jdGlvbigpe04uaW5mbygic2VuZFNvZnRwaG9uZVJlcG9ydCBzdWNjZXNzIitKU09OLnN0cmluZ2lmeShzKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtOLmVycm9yKCJzZW5kU29mdHBob25lUmVwb3J0IGZhaWxlZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSk7dmFyIGM9e0FVRElPX0lOUFVUOntwYWNrZXRzQ291bnQ6Zy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhY2tldHNDb3VudH0pKSxwYWNrZXRzTG9zdDpnLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0xvc3R9KSksYXVkaW9MZXZlbDpnLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVkaW9MZXZlbH0pKSxqaXR0ZXJCdWZmZXJNaWxsaXM6Zy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmppdHRlckJ1ZmZlck1pbGxpc30pKX0sQVVESU9fT1VUUFVUOntwYWNrZXRzQ291bnQ6bS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhY2tldHNDb3VudH0pKSxwYWNrZXRzTG9zdDptLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0xvc3R9KSksYXVkaW9MZXZlbDptLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVkaW9MZXZlbH0pKSxqaXR0ZXJCdWZmZXJNaWxsaXM6bS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmppdHRlckJ1ZmZlck1pbGxpc30pKSxyb3VuZFRyaXBUaW1lTWlsbGlzOm0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yb3VuZFRyaXBUaW1lTWlsbGlzfSkpfX0sdT1uKG4oe30scykse30se3NvZnRwaG9uZVN0cmVhbVBlclNlY29uZFN0YXRpc3RpY3M6YyxpY2VDb25uZWN0aW9uc0xvc3Q6by5pY2VDb25uZWN0aW9uc0xvc3QsaWNlQ29ubmVjdGlvbnNGYWlsZWQ6by5pY2VDb25uZWN0aW9uc0ZhaWxlZHx8bnVsbCxwZWVyQ29ubmVjdGlvbkZhaWxlZDpvLnBlZXJDb25uZWN0aW9uRmFpbGVkfHxudWxsLHJ0Y0pzVmVyc2lvbjpvLnJ0Y0pzVmVyc2lvbnx8bnVsbCxmaXJzdFJUUFRpbWVNaWxsaXM6by5maXJzdFJUUFRpbWVNaWxsaXN8fG51bGwsaXNNZWRpYUNsdXN0ZXJQYXRoOm8uaXNNZWRpYUNsdXN0ZXJQYXRoLGlzUGVyc2lzdGVudFBlZXJDb25uZWN0aW9uOm8uaXNQZXJzaXN0ZW50UGVlckNvbm5lY3Rpb24saXNFeGlzdGluZ1BlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbjpvLmlzRXhpc3RpbmdQZXJzaXN0ZW50UGVlckNvbm5lY3Rpb258fCExLGNvbnNlY3V0aXZlTm9BdWRpb0lucHV0UGFja2V0czpiLGNvbnNlY3V0aXZlTG93SW5wdXRBdWRpb0xldmVsOlMsY29uc2VjdXRpdmVOb0F1ZGlvT3V0cHV0UGFja2V0czpFLGNvbnNlY3V0aXZlTG93T3V0cHV0QXVkaW9MZXZlbDpDLGF1ZGlvSW5wdXRDb25uZWN0ZWREdXJhdGlvblNlY29uZHM6SSxjY3BNZWRpYVJlYWR5TGF0ZW5jeU1pbGxpczpBLGNvbnRhY3RTdWJ0eXBlOmUuZ2V0Q29udGFjdFN1YnR5cGUoKSxlYXJseUd1bUVuYWJsZWQ6XyxlYXJseUd1bVdvcmtlZDpSLHZkaVBsYXRmb3JtOkx8fG51bGwsdXNlckFnZW50RGF0YTpvLnVzZXJBZ2VudERhdGF8fG51bGwsaXNDb25uZWN0ZWQ6dyxjb25zZWN1dGl2ZUF1ZGlvT3V0cHV0TXV0ZUR1cmF0aW9uU2Vjb25kczpULHN0cmVhbUpzVmVyc2lvbjpyLnZlcnNpb259KTtBPTAsdz0hMSxUPTAsci5wdWJsaXNoU29mdHBob25lUmVwb3J0KHtjb250YWN0SWQ6ZS5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOnQuY2NwVmVyc2lvbixyZXBvcnQ6dX0pLE4uaW5mbygic2VudCBUZWxlbWV0cnlDYWxsUmVwb3J0ICIrSlNPTi5zdHJpbmdpZnkodSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KGUsbyxwZSh2LGQpLHBlKHksaCkpLGVlKGUpfSxsZT1mdW5jdGlvbihlLHQsbixyLG8saSxhKXt0aGlzLnNvZnRwaG9uZVN0cmVhbVR5cGU9cix0aGlzLnRpbWVzdGFtcD1lLHRoaXMucGFja2V0c0xvc3Q9dCx0aGlzLnBhY2tldHNDb3VudD1uLHRoaXMuYXVkaW9MZXZlbD1vLHRoaXMuaml0dGVyQnVmZmVyTWlsbGlzPWksdGhpcy5yb3VuZFRyaXBUaW1lTWlsbGlzPWF9LHBlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBsZSgoZT1lfHx7fSkudGltZXN0YW1wLGUucGFja2V0c0xvc3QsZS5wYWNrZXRzQ291bnQsdCxlLmF1ZGlvTGV2ZWwpfSxkZT1mdW5jdGlvbihlKXt0aGlzLl9vcmlnaW5hbExvZ2dlcj1lO3ZhciB0PXRoaXM7dGhpcy5fdGVlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzWzBdKSxvPSIiO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKCl7bys9IiAlcyJ9KSksbi5hcHBseSh0Ll9vcmlnaW5hbExvZ2dlcixbci5Mb2dDb21wb25lbnQuU09GVFBIT05FLG9dLmNvbmNhdChlKSl9fX07ZGUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSgxLHRoaXMuX29yaWdpbmFsTG9nZ2VyLmRlYnVnKShhcmd1bWVudHMpfSxkZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMix0aGlzLl9vcmlnaW5hbExvZ2dlci5pbmZvKShhcmd1bWVudHMpfSxkZS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSgzLHRoaXMuX29yaWdpbmFsTG9nZ2VyLmxvZykoYXJndW1lbnRzKX0sZGUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDQsdGhpcy5fb3JpZ2luYWxMb2dnZXIud2FybikoYXJndW1lbnRzKX0sZGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSg1LHRoaXMuX29yaWdpbmFsTG9nZ2VyLmVycm9yKShhcmd1bWVudHMpfSxyLlNvZnRwaG9uZU1hbmFnZXI9VX0oKX0sMzQ0OigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FjaGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzWzBdKXx8KHQuY2FjaGVbYXJndW1lbnRzWzBdXT10LnBhcnNlKGFyZ3VtZW50c1swXSkpLHQuZm9ybWF0LmNhbGwobnVsbCx0LmNhY2hlW2FyZ3VtZW50c1swXV0sYXJndW1lbnRzKX07ZnVuY3Rpb24gbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj1bXTt0PjA7blstLXRdPWUpO3JldHVybiBuLmpvaW4oIiIpfXQuZm9ybWF0PWZ1bmN0aW9uKGUsbyl7dmFyIGksYSxzLGMsdSxsLHAsZD0xLGg9ZS5sZW5ndGgsZj0iIixnPVtdO2ZvcihhPTA7YTxoO2ErKylpZigic3RyaW5nIj09PShmPW4oZVthXSkpKWcucHVzaChlW2FdKTtlbHNlIGlmKCJhcnJheSI9PT1mKXtpZigoYz1lW2FdKVsyXSlmb3IoaT1vW2RdLHM9MDtzPGNbMl0ubGVuZ3RoO3MrKyl7aWYoIWkuaGFzT3duUHJvcGVydHkoY1syXVtzXSkpdGhyb3cgdCgnW3NwcmludGZdIHByb3BlcnR5ICIlcyIgZG9lcyBub3QgZXhpc3QnLGNbMl1bc10pO2k9aVtjWzJdW3NdXX1lbHNlIGk9Y1sxXT9vW2NbMV1dOm9bZCsrXTtpZigvW15zXS8udGVzdChjWzhdKSYmIm51bWJlciIhPW4oaSkpdGhyb3cgdCgiW3NwcmludGZdIGV4cGVjdGluZyBudW1iZXIgYnV0IGZvdW5kICVzIixuKGkpKTtzd2l0Y2goY1s4XSl7Y2FzZSJiIjppPWkudG9TdHJpbmcoMik7YnJlYWs7Y2FzZSJjIjppPVN0cmluZy5mcm9tQ2hhckNvZGUoaSk7YnJlYWs7Y2FzZSJkIjppPXBhcnNlSW50KGksMTApO2JyZWFrO2Nhc2UiZSI6aT1jWzddP2kudG9FeHBvbmVudGlhbChjWzddKTppLnRvRXhwb25lbnRpYWwoKTticmVhaztjYXNlImYiOmk9Y1s3XT9wYXJzZUZsb2F0KGkpLnRvRml4ZWQoY1s3XSk6cGFyc2VGbG9hdChpKTticmVhaztjYXNlIm8iOmk9aS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOmk9KGk9U3RyaW5nKGkpKSYmY1s3XT9pLnN1YnN0cmluZygwLGNbN10pOmk7YnJlYWs7Y2FzZSJ1IjppPj4+PTA7YnJlYWs7Y2FzZSJ4IjppPWkudG9TdHJpbmcoMTYpO2JyZWFrO2Nhc2UiWCI6aT1pLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWk9L1tkZWZdLy50ZXN0KGNbOF0pJiZjWzNdJiZpPj0wPyIrIitpOmksbD1jWzRdPyIwIj09Y1s0XT8iMCI6Y1s0XS5jaGFyQXQoMSk6IiAiLHA9Y1s2XS1TdHJpbmcoaSkubGVuZ3RoLHU9Y1s2XT9yKGwscCk6IiIsZy5wdXNoKGNbNV0/aSt1OnUraSl9cmV0dXJuIGcuam9pbigiIil9LHQuY2FjaGU9e30sdC5wYXJzZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSxuPVtdLHI9W10sbz0wO3Q7KXtpZihudWxsIT09KG49L15bXlx4MjVdKy8uZXhlYyh0KSkpci5wdXNoKG5bMF0pO2Vsc2UgaWYobnVsbCE9PShuPS9eXHgyNXsyfS8uZXhlYyh0KSkpci5wdXNoKCIlIik7ZWxzZXtpZihudWxsPT09KG49L15ceDI1KD86KFsxLTldXGQqKVwkfFwoKFteXCldKylcKSk/KFwrKT8oMHwnW14kXSk/KC0pPyhcZCspPyg/OlwuKFxkKykpPyhbYi1mb3N1eFhdKS8uZXhlYyh0KSkpdGhyb3ciW3NwcmludGZdIGh1aD8iO2lmKG5bMl0pe298PTE7dmFyIGk9W10sYT1uWzJdLHM9W107aWYobnVsbD09PShzPS9eKFthLXpfXVthLXpfXGRdKikvaS5leGVjKGEpKSl0aHJvdyJbc3ByaW50Zl0gaHVoPyI7Zm9yKGkucHVzaChzWzFdKTsiIiE9PShhPWEuc3Vic3RyaW5nKHNbMF0ubGVuZ3RoKSk7KWlmKG51bGwhPT0ocz0vXlwuKFthLXpfXVthLXpfXGRdKikvaS5leGVjKGEpKSlpLnB1c2goc1sxXSk7ZWxzZXtpZihudWxsPT09KHM9L15cWyhcZCspXF0vLmV4ZWMoYSkpKXRocm93IltzcHJpbnRmXSBodWg/IjtpLnB1c2goc1sxXSl9blsyXT1pfWVsc2Ugb3w9MjtpZigzPT09byl0aHJvdyJbc3ByaW50Zl0gbWl4aW5nIHBvc2l0aW9uYWwgYW5kIG5hbWVkIHBsYWNlaG9sZGVycyBpcyBub3QgKHlldCkgc3VwcG9ydGVkIjtyLnB1c2gobil9dD10LnN1YnN0cmluZyhuWzBdLmxlbmd0aCl9cmV0dXJuIHJ9LGUuc3ByaW50Zj10LGUudnNwcmludGY9ZnVuY3Rpb24oZSxuLHIpe3JldHVybihyPW4uc2xpY2UoMCkpLnNwbGljZSgwLDAsZSksdC5hcHBseShudWxsLHIpfX0oKX0sNDMxOigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsInZhbHVlImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuKG8ua2V5KSxvKX19ZnVuY3Rpb24gbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBvKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG8oZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byhlLHQpOnZvaWQgMH19KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uLGUubGlseT1uO3ZhciBvPWZ1bmN0aW9uKCl7fTtvLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBuLk5vdEltcGxlbWVudGVkRXJyb3J9LG8ucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aHJvdyBuZXcgbi5Ob3RJbXBsZW1lbnRlZEVycm9yfTt2YXIgaT1mdW5jdGlvbigpe28uY2FsbCh0aGlzKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7fTt2YXIgYT1mdW5jdGlvbihlLHQpe28uY2FsbCh0aGlzKSx0aGlzLndpbmRvdz1lLHRoaXMuZG9tYWluPXR8fCIqIn07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy53aW5kb3cucG9zdE1lc3NhZ2UoZSx0aGlzLmRvbWFpbil9LGEucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKX07dmFyIHM9ZnVuY3Rpb24oZSx0LG4pe28uY2FsbCh0aGlzKSx0aGlzLmlucHV0PWUsdGhpcy5vdXRwdXQ9dCx0aGlzLmRvbWFpbj1ufHwiKiJ9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cyxzLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMub3V0cHV0LnBvc3RNZXNzYWdlKGUsdGhpcy5kb21haW4pfSxzLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihuKXtuLnNvdXJjZT09PXQub3V0cHV0JiZlKG4pfSkpfTt2YXIgYz1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyksdGhpcy5wb3J0PWUsdGhpcy5pZD1uLnJhbmRvbUlkKCl9OyhjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMucG9ydC5wb3N0TWVzc2FnZShlKX0sYy5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMucG9ydC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKX0sYy5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH07dmFyIHU9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMpLHRoaXMuc3RyZWFtTWFwPWU/bi5pbmRleChlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRJZCgpfSkpOnt9LHRoaXMubWVzc2FnZUxpc3RlbmVycz1bXX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5nZXRTdHJlYW1zKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3Quc2VuZChlKX1jYXRjaChlKXt9fSkpfSx1LnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5tZXNzYWdlTGlzdGVuZXJzLnB1c2goZSksdGhpcy5nZXRTdHJlYW1zKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5vbk1lc3NhZ2UoZSl9KSl9LHUucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLnN0cmVhbU1hcFtlLmdldElkKCldPWUsdGhpcy5tZXNzYWdlTGlzdGVuZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Uub25NZXNzYWdlKHQpfSkpfSx1LnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuc3RyZWFtTWFwW2UuZ2V0SWQoKV19LHUucHJvdG90eXBlLmdldFN0cmVhbXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4udmFsdWVzKHRoaXMuc3RyZWFtTWFwKX0sdS5wcm90b3R5cGUuZ2V0U3RyZWFtRm9yUG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gbi5maW5kKHRoaXMuZ2V0U3RyZWFtcygpLChmdW5jdGlvbih0KXtyZXR1cm4gdC5wb3J0PT09ZX0pKX07dmFyIGw9ZnVuY3Rpb24oZSx0LG8pe3RoaXMubmFtZT1lLHRoaXMudXBzdHJlYW09dHx8bmV3IGksdGhpcy5kb3duc3RyZWFtPW98fG5ldyBpLHRoaXMuZG93bnN0cmVhbUJ1cz1uZXcgbi5FdmVudEJ1cyx0aGlzLnVwc3RyZWFtQnVzPW5ldyBuLkV2ZW50QnVzLHRoaXMudXBzdHJlYW0ub25NZXNzYWdlKG4uaGl0Y2godGhpcyx0aGlzLl9kaXNwYXRjaEV2ZW50LHRoaXMudXBzdHJlYW1CdXMpKSx0aGlzLmRvd25zdHJlYW0ub25NZXNzYWdlKG4uaGl0Y2godGhpcyx0aGlzLl9kaXNwYXRjaEV2ZW50LHRoaXMuZG93bnN0cmVhbUJ1cykpLHRoaXMuYWN0aXZlPSEwLHRoaXMuYWxsb3dlZEV2ZW50cz1bXS5jb25jYXQocihPYmplY3QuZW50cmllcyhuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV19KSkpLFtuLkV2ZW50VHlwZS5DT05GSUdVUkUsbi5FdmVudFR5cGUuU1lOQ0hST05JWkUsbi5FdmVudFR5cGUuQUNLTk9XTEVER0Usbi5FdmVudFR5cGUuTE9HLG4uRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csbi5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQXSl9O2wucHJvdG90eXBlLm9uVXBzdHJlYW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLG4uYXNzZXJ0Tm90TnVsbCh0LCJmIiksbi5hc3NlcnRUcnVlKG4uaXNGdW5jdGlvbih0KSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnVwc3RyZWFtQnVzLnN1YnNjcmliZShlLHQpfSxsLnByb3RvdHlwZS5vbkFsbFVwc3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24oZSksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy51cHN0cmVhbUJ1cy5zdWJzY3JpYmVBbGwoZSl9LGwucHJvdG90eXBlLm9uRG93bnN0cmVhbT1mdW5jdGlvbihlLHQpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksbi5hc3NlcnROb3ROdWxsKHQsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKHQpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuZG93bnN0cmVhbUJ1cy5zdWJzY3JpYmUoZSx0KX0sbC5wcm90b3R5cGUub25BbGxEb3duc3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiBuLmFzc2VydE5vdE51bGwoZSwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24oZSksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5kb3duc3RyZWFtQnVzLnN1YnNjcmliZUFsbChlKX0sbC5wcm90b3R5cGUuc2VuZFVwc3RyZWFtPWZ1bmN0aW9uKGUsdCl7bi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHRoaXMudXBzdHJlYW0uc2VuZCh7ZXZlbnQ6ZSxkYXRhOnR9KX0sbC5wcm90b3R5cGUuc2VuZERvd25zdHJlYW09ZnVuY3Rpb24oZSx0KXtuLmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksdGhpcy5kb3duc3RyZWFtLnNlbmQoe2V2ZW50OmUsZGF0YTp0fSl9LGwucHJvdG90eXBlLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5kYXRhO24uZXZlbnQmJmUudHJpZ2dlcihuLmV2ZW50LG4uZGF0YSl9LGwucHJvdG90eXBlLnBhc3NVcHN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQscil7ZS5hY3RpdmV8fGUuYWxsb3dlZEV2ZW50cy5pbmNsdWRlcyhyKT9lLnVwc3RyZWFtLnNlbmQoe2V2ZW50OnIsZGF0YTp0fSk6bi5nZXRMb2coKS5kZWJ1ZygiW0dSXSBDb25kdWl0ICIuY29uY2F0KGUubmFtZSwiIGhhcyBibG9ja2VkIGV2ZW50ICIpLmNvbmNhdChyLCIgZnJvbSBnb2luZyB1cHN0cmVhbS4iKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LGwucHJvdG90eXBlLnBhc3NEb3duc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxyKXtlLmFjdGl2ZXx8ZS5hbGxvd2VkRXZlbnRzLmluY2x1ZGVzKHIpP2UuZG93bnN0cmVhbS5zZW5kKHtldmVudDpyLGRhdGE6dH0pOm4uZ2V0TG9nKCkuZGVidWcoIltHUl0gQ29uZHVpdCAiLmNvbmNhdChlLm5hbWUsIiBoYXMgYmxvY2tlZCBldmVudCAiKS5jb25jYXQociwiIGZyb20gZ29pbmcgZG93bnN0cmVhbS4iKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LGwucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7dGhpcy51cHN0cmVhbUJ1cy51bnN1YnNjcmliZUFsbCgpLHRoaXMuZG93bnN0cmVhbUJ1cy51bnN1YnNjcmliZUFsbCgpfSxsLnByb3RvdHlwZS5zZXRBY3RpdmU9ZnVuY3Rpb24oKXtuLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBDQ1AgY29uZHVpdCBhcyBhY3RpdmUiKSx0aGlzLmFjdGl2ZT0hMH0sbC5wcm90b3R5cGUuc2V0SW5hY3RpdmU9ZnVuY3Rpb24oKXtuLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBDQ1AgY29uZHVpdCBhcyBpbmFjdGl2ZSIpLHRoaXMuYWN0aXZlPSExfTt2YXIgcD1mdW5jdGlvbihlLHQsbixyKXtsLmNhbGwodGhpcyxlLG5ldyBzKHQsbi5jb250ZW50V2luZG93LHJ8fCIqIiksbnVsbCl9OyhwLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cDt2YXIgZD1mdW5jdGlvbigpe3JldHVybiBlPWZ1bmN0aW9uIGUodCxuLHIpe3ZhciBvPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9KHRoaXMsZSksdGhpcy5pZnJhbWVMYWJlbE1hcD17fTt2YXIgaT1uZXcgVVJMKHIpLm9yaWdpbjt0aGlzLmFjdGl2ZVJlZ2lvblVybD1pLHRoaXMuY29uZHVpdHM9bi5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuaWZyYW1lLHI9ZS5sYWJlbCxpPW5ldyBwKG4uc3JjLHQsbik7aS5pZnJhbWU9bjt2YXIgYT1uZXcgVVJMKG4uc3JjKS5vcmlnaW47cmV0dXJuIGkubmFtZT1hLG8uaWZyYW1lTGFiZWxNYXBbYV09cixpfSkpLHRoaXMuc2V0QWN0aXZlQ29uZHVpdChpKX0sKHI9W3trZXk6Im9uVXBzdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jb25kdWl0cy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBuLm9uVXBzdHJlYW0oZSx0KX0pKTtyZXR1cm57dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS51bnN1YnNjcmliZSgpfSkpfX19fSx7a2V5OiJvbkFsbFVwc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQub25BbGxVcHN0cmVhbShlKX0pKTtyZXR1cm57dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS51bnN1YnNjcmliZSgpfSkpfX19fSx7a2V5OiJvbkRvd25zdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jb25kdWl0cy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBuLm9uRG93bnN0cmVhbShlLHQpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6Im9uQWxsRG93bnN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb25kdWl0cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uQWxsRG93bnN0cmVhbShlKX0pKTtyZXR1cm57dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS51bnN1YnNjcmliZSgpfSkpfX19fSx7a2V5OiJzZW5kVXBzdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jb25kdWl0cy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLnNlbmRVcHN0cmVhbShlLHQpfSkpfX0se2tleToic2VuZERvd25zdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jb25kdWl0cy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLnNlbmREb3duc3RyZWFtKGUsdCl9KSl9fSx7a2V5OiJyZWxheVVwc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuY29uZHVpdHMuZm9yRWFjaCgoZnVuY3Rpb24ocil7ci5vblVwc3RyZWFtKGUsKGZ1bmN0aW9uKG8pe3ZhciBpPXQuZ2V0T3RoZXJDb25kdWl0KHIpO2kuc2VuZFVwc3RyZWFtKGUsbyksbi5nZXRMb2coKS5pbmZvKCJSZWxheWVkIGV2ZW50ICIuY29uY2F0KGUsIiBmcm9tICIpLmNvbmNhdChyLm5hbWUsIiB0byAiKS5jb25jYXQoaS5uYW1lLCIgc2hhcmVkIHdvcmtlciIpKS53aXRoT2JqZWN0KHtkYXRhOm99KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfSkpfX0se2tleToiZ2V0QWxsQ29uZHVpdHMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZHVpdHN9fSx7a2V5OiJzZXRBY3RpdmVDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSk/KHRoaXMuY29uZHVpdHMuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5uYW1lPT09ZSYmKHQuYWN0aXZlUmVnaW9uVXJsPWUsdC5uYW1lPW4ubmFtZSx0LnVwc3RyZWFtPW4udXBzdHJlYW0sdC5kb3duc3RyZWFtPW4uZG93bnN0cmVhbSx0LnVwc3RyZWFtQnVzPW4udXBzdHJlYW1CdXMsdC5kb3duc3RyZWFtQnVzPW4uZG93bnN0cmVhbUJ1cyl9KSksbi5nZXRMb2coKS5pbmZvKCJbR1JdIFN3aXRjaGVkIHRvIGFjdGl2ZSBjb25kdWl0ICIuY29uY2F0KHRoaXMuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTpuLmdldExvZygpLmVycm9yKCJbR1JdIE5vIGNvbmR1aXQgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gY2NwVXJsOiAiLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHtrZXk6ImdldEFjdGl2ZUNvbmR1aXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5hY3RpdmVSZWdpb25Vcmx9KSl9fSx7a2V5OiJnZXRJbmFjdGl2ZUNvbmR1aXQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lIT09ZS5hY3RpdmVSZWdpb25Vcmx9KSl9fSx7a2V5OiJnZXRPdGhlckNvbmR1aXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBlLm5hbWUhPT10Lm5hbWV9KSl9fSx7a2V5OiJnZXRDb25kdWl0QnlSZWdpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZ2lvbj09PWV9KSl9fSx7a2V5OiJnZXRDb25kdWl0QnlOYW1lIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKX19XSkmJnQoZS5wcm90b3R5cGUsciksbyYmdChlLG8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLGU7dmFyIGUscixvfSgpO24uU3RyZWFtPW8sbi5OdWxsU3RyZWFtPWksbi5XaW5kb3dTdHJlYW09YSxuLldpbmRvd0lPU3RyZWFtPXMsbi5Qb3J0U3RyZWFtPWMsbi5TdHJlYW1NdWx0aXBsZXhlcj11LG4uQ29uZHVpdD1sLG4uSUZyYW1lQ29uZHVpdD1wLG4uR1JQcm94eUlmcmFtZUNvbmR1aXQ9ZH0oKX0sODMwOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQ7dmFyIG49ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwiZnJvbVN0YXRlIiksdC5hc3NlcnROb3ROdWxsKG4sInRvU3RhdGUiKSx0aGlzLmZyb21TdGF0ZT1lLHRoaXMudG9TdGF0ZT1ufTtuLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSl7dGhyb3cgdC5Ob3RJbXBsZW1lbnRlZEVycm9yKCl9LG4ucHJvdG90eXBlLmdldEZyb21TdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyb21TdGF0ZX0sbi5wcm90b3R5cGUuZ2V0VG9TdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RhdGV9O3ZhciByPWZ1bmN0aW9uKGUscixvKXt0LmFzc2VydE5vdE51bGwoZSwiZnJvbVN0YXRlIiksdC5hc3NlcnROb3ROdWxsKHIsInRvU3RhdGUiKSx0LmFzc2VydE5vdE51bGwobywiYXNzb2NpYXRpb25zIiksbi5jYWxsKHRoaXMsZSxyKSx0aGlzLmFzc29jaWF0aW9ucz1vfTsoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXIsci5wcm90b3R5cGUuZ2V0QXNzb2NpYXRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFzc29jaWF0aW9uc307dmFyIG89ZnVuY3Rpb24oZSxyLG8pe3QuYXNzZXJ0Tm90TnVsbChlLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwociwidG9TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChvLCJjbG9zdXJlIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihvKSwiY2xvc3VyZSBtdXN0IGJlIGEgZnVuY3Rpb24iKSxuLmNhbGwodGhpcyxlLHIpLHRoaXMuY2xvc3VyZT1vfTsoby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGUuZ2V0QXNzb2NpYXRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb3N1cmUoZSx0aGlzLmdldEZyb21TdGF0ZSgpLHRoaXMuZ2V0VG9TdGF0ZSgpKX07dmFyIGk9ZnVuY3Rpb24oKXt0aGlzLmZyb21NYXA9e319O2kuQU5ZPSI8PGFueT4+IixpLnByb3RvdHlwZS5hc3NvYz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztpZighZSl0aHJvdyBuZXcgRXJyb3IoImZyb21TdGF0ZU9iaiBpcyBub3QgZGVmaW5lZC4iKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInRvU3RhdGVPYmogaXMgbm90IGRlZmluZWQuIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJhc3NvY09iaiBpcyBub3QgZGVmaW5lZC4iKTtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5hc3NvYyhlLHQsbil9KSk6dCBpbnN0YW5jZW9mIEFycmF5P3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5hc3NvYyhlLHQsbil9KSk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/dGhpcy5fYWRkQXNzb2NpYXRpb24obmV3IG8oZSx0LG4pKTpuIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fYWRkQXNzb2NpYXRpb24obmV3IHIoZSx0LG4pKTp0aGlzLl9hZGRBc3NvY2lhdGlvbihuZXcgcihlLHQsW25dKSksdGhpc30saS5wcm90b3R5cGUuZ2V0QXNzb2NpYXRpb25zPWZ1bmN0aW9uKGUsbixyKXt0LmFzc2VydE5vdE51bGwobiwiZnJvbVN0YXRlIiksdC5hc3NlcnROb3ROdWxsKHIsInRvU3RhdGUiKTt2YXIgbz1bXSxhPXRoaXMuZnJvbU1hcFtpLkFOWV18fHt9LHM9dGhpcy5mcm9tTWFwW25dfHx7fTtyZXR1cm4gbz0obz1vLmNvbmNhdCh0aGlzLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwKGEsZSxuLHIpKSkuY29uY2F0KHRoaXMuX2dldEFzc29jaWF0aW9uc0Zyb21NYXAocyxlLG4scikpfSxpLnByb3RvdHlwZS5fYWRkQXNzb2NpYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mcm9tTWFwW2UuZ2V0RnJvbVN0YXRlKCldO3R8fCh0PXRoaXMuZnJvbU1hcFtlLmdldEZyb21TdGF0ZSgpXT17fSk7dmFyIG49dFtlLmdldFRvU3RhdGUoKV07bnx8KG49dFtlLmdldFRvU3RhdGUoKV09W10pLG4ucHVzaChlKX0saS5wcm90b3R5cGUuX2dldEFzc29jaWF0aW9uc0Zyb21NYXA9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuKGVbaS5BTlldfHxbXSkuY29uY2F0KGVbcl18fFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuY29uY2F0KG4uZ2V0QXNzb2NpYXRpb25zKHQpKX0pLFtdKX0sdC5FdmVudEdyYXBoPWl9KCl9LDYwOigpPT57ZnVuY3Rpb24gZSgpeyJ1c2Ugc3RyaWN0IjtlPWZ1bmN0aW9uKCl7cmV0dXJuIG59O3ZhciB0LG49e30scj1PYmplY3QucHJvdG90eXBlLG89ci5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaCh0KXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGgoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1uLndyYXA9ZDt2YXIgZj0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIFMoKXt9ZnVuY3Rpb24gRSgpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgST1PYmplY3QuZ2V0UHJvdG90eXBlT2YsVD1JJiZJKEkoUChbXSkpKTtUJiZUIT09ciYmby5jYWxsKFQsYykmJihDPVQpO3ZhciB3PUUucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyhlLHQpe2Z1bmN0aW9uIG4ocixhLHMsYyl7dmFyIHU9aChlW3JdLGUsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09aShwKSYmby5jYWxsKHAsIl9fYXdhaXQiKT90LnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtuKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7bigidGhyb3ciLGUscyxjKX0pKTp0LnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIG4oInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIHI7YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSxvKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyB0KChmdW5jdGlvbih0LHIpe24oZSxvLHQscil9KSl9cmV0dXJuIHI9cj9yLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUihlLG4scil7dmFyIG89ZjtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1MKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09Zil0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9aChlLG4scik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTChlLG4pe3ZhciByPW4ubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09dClyZXR1cm4gbi5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPSJyZXR1cm4iLG4uYXJnPXQsTChlLG4pLCJ0aHJvdyI9PT1uLm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWgobyxlLml0ZXJhdG9yLG4uYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiBuLm1ldGhvZD0idGhyb3ciLG4uYXJnPWkuYXJnLG4uZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8obltlLnJlc3VsdE5hbWVdPWEudmFsdWUsbi5uZXh0PWUubmV4dExvYywicmV0dXJuIiE9PW4ubWV0aG9kJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPXQpLG4uZGVsZWdhdGU9bnVsbCx5KTphOihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iiksbi5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKE8sdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUChlKXtpZihlfHwiIj09PWUpe3ZhciBuPWVbY107aWYobilyZXR1cm4gbi5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIHI9LTEsYT1mdW5jdGlvbiBuKCl7Zm9yKDsrK3I8ZS5sZW5ndGg7KWlmKG8uY2FsbChlLHIpKXJldHVybiBuLnZhbHVlPWVbcl0sbi5kb25lPSExLG47cmV0dXJuIG4udmFsdWU9dCxuLmRvbmU9ITAsbn07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKGkoZSkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gUy5wcm90b3R5cGU9RSxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxhKEUsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxTLmRpc3BsYXlOYW1lPXAoRSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLG4uaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09U3x8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sbi5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsRSk6KGUuX19wcm90b19fPUUscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sbi5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLG4uQXN5bmNJdGVyYXRvcj1fLG4uYXN5bmM9ZnVuY3Rpb24oZSx0LHIsbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsdCxyLG8pLGkpO3JldHVybiBuLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLG4ua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSxuLnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PXQsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9dCx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhZSlmb3IodmFyIG4gaW4gdGhpcykidCI9PT1uLmNoYXJBdCgwKSYmby5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPXQpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIG49dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPWUsbi5uZXh0PXIsbyYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz10KSwhIW99Zm9yKHZhciBpPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtpPj0wOy0taSl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW2ldLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1vLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PW8uY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZvLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgaT1yO2JyZWFrfX1pJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmaS50cnlMb2M8PXQmJnQ8PWkuZmluYWxseUxvYyYmKGk9bnVsbCk7dmFyIGE9aT9pLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsaT8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1pLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKGUpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCkseX19LG59ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4odD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT1pKGUpfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9aShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1pKHQpP3Q6dCsiIn0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbyhlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGkoZSl9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxyPXQuY29ubmVjdHx8e307dC5jb25uZWN0PXIsdC5saWx5PXI7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxzPVsiYnViYmxlcyIsImNhbmNlbEJ1YmJsZSIsImNhbmNlbGFibGUiLCJjb21wb3NlZCIsImRhdGEiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRQaGFzZSIsImlzVHJ1c3RlZCIsImxhc3RFdmVudElkIiwib3JpZ2luIiwicmV0dXJuVmFsdWUiLCJ0aW1lU3RhbXAiLCJ0eXBlIl07ci5zcHJpbnRmPXQuc3ByaW50ZixyLnZzcHJpbnRmPXQudnNwcmludGYsZGVsZXRlIHQuc3ByaW50ZixkZWxldGUgdC52c3ByaW50ZixyLkhUVFBfU1RBVFVTX0NPREVTPXtTVUNDRVNTOjIwMCxVTkFVVEhPUklaRUQ6NDAxLEFDQ0VTU19ERU5JRUQ6NDAzLFRPT19NQU5ZX1JFUVVFU1RTOjQyOSxJTlRFUk5BTF9TRVJWRVJfRVJST1I6NTAwfSxyLlRSQU5TUE9SVF9UWVBFUz17Q0hBVF9UT0tFTjoiY2hhdF90b2tlbiIsV0VCX1NPQ0tFVDoid2ViX3NvY2tldCIsQUdFTlRfRElTQ09WRVJZOiJhZ2VudF9kaXNjb3ZlcnkiLFdFQl9SVEM6IndlYl9ydGMifSxyLmhpdGNoPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSx0PWUuc2hpZnQoKSxuPWUuc2hpZnQoKTtyZXR1cm4gci5hc3NlcnROb3ROdWxsKHQsInNjb3BlIiksci5hc3NlcnROb3ROdWxsKG4sIm1ldGhvZCIpLHIuYXNzZXJ0VHJ1ZShyLmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxmdW5jdGlvbigpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIG4uYXBwbHkodCxlLmNvbmNhdChyKSl9fSxyLmlzRnVuY3Rpb249ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5jb25zdHJ1Y3RvciYmZS5jYWxsJiZlLmFwcGx5KX0sci5pc0FycmF5PWZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LHIua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gci5hc3NlcnROb3ROdWxsKGUsIm1hcCIpLGUpdC5wdXNoKG4pO3JldHVybiB0fSxyLnZhbHVlcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gci5hc3NlcnROb3ROdWxsKGUsIm1hcCIpLGUpdC5wdXNoKGVbbl0pO3JldHVybiB0fSxyLmVudHJpZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdC5wdXNoKHtrZXk6bix2YWx1ZTplW25dfSk7cmV0dXJuIHR9LHIubWVyZ2U9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyLmVudHJpZXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmtleV09ZS52YWx1ZX0pKX0pKSx0fSxyLm5vdz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxyLmZpbmQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZih0KGVbbl0pKXJldHVybiBlW25dO3JldHVybiBudWxsfSxyLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9udWxsIT1yLmZpbmQoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkpOnQgaW4gZX0sci5jb250YWluc1ZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9udWxsIT1yLmZpbmQoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkpOm51bGwhPXIuZmluZChyLnZhbHVlcyhlKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSkpfSxyLnJhbmRvbUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHIuc3ByaW50ZigiJXMtJXMiLHIubm93KCksTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikpfSxyLm1ha2VFbnVtPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUucmVwbGFjZSgvXC4/KFthLXpdKylfPy9nLChmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCkrIl8ifSkpLnJlcGxhY2UoL18kLywiIik7dFtuXT1lfSkpLHR9LHIubWFrZU5hbWVzcGFjZWRFbnVtPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5tYWtlRW51bSh0KTtyZXR1cm4gci5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ci5zcHJpbnRmKCIlczo6JXMiLGUsblt0XSl9KSksbn0sci5tYWtlR2VuZXJpY05hbWVzcGFjZWRFbnVtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yLm1ha2VFbnVtKHQpO3JldHVybiByLmtleXMobykuZm9yRWFjaCgoZnVuY3Rpb24odCl7b1t0XT1yLnNwcmludGYoIiVzIituKyIlcyIsZSxvW3RdKX0pKSxvfSxyLmlzQ2hyb21lQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09YS5pbmRleE9mKCJDaHJvbWUiKX0sci5pc0ZpcmVmb3hCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIkZpcmVmb3giKX0sci5pc09wZXJhQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09YS5pbmRleE9mKCJPcGVyYSIpfSxyLmlzRWRnZUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiRWRnIil9LHIuZ2V0Q2hyb21lQnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIkNocm9tZSIpKzcpO3JldHVybiBlP3BhcnNlRmxvYXQoZSk6LTF9LHIuZ2V0RmlyZWZveEJyb3dzZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9YS5zdWJzdHJpbmcoYS5pbmRleE9mKCJGaXJlZm94IikrOCk7cmV0dXJuIGU/cGFyc2VGbG9hdChlKTotMX0sci5pc1ZhbGlkTG9jYWxlPWZ1bmN0aW9uKGUpe3JldHVyblt7aWQ6ImVuX1VTIixsYWJlbDoiRW5nbGlzaCJ9LHtpZDoiZGVfREUiLGxhYmVsOiJEZXV0c2NoIn0se2lkOiJlc19FUyIsbGFiZWw6IkVzcGHDsW9sIn0se2lkOiJmcl9GUiIsbGFiZWw6IkZyYW7Dp2FpcyJ9LHtpZDoiamFfSlAiLGxhYmVsOiLml6XmnKzoqp4ifSx7aWQ6Iml0X0lUIixsYWJlbDoiSXRhbGlhbm8ifSx7aWQ6ImtvX0tSIixsYWJlbDoi7ZWc6rWt7Ja0In0se2lkOiJwdF9CUiIsbGFiZWw6IlBvcnR1Z3XDqnMifSx7aWQ6InpoX0NOIixsYWJlbDoi5Lit5paHKOeugOS9kykifSx7aWQ6InpoX1RXIixsYWJlbDoi5Lit5paHKOe5gemrlCkifV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKS5pbmNsdWRlcyhlKX0sci5nZXRPcGVyYUJyb3dzZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9YS5pbmRleE9mKCJPcGVyYSIpLHQ9LTEhPT1hLmluZGV4T2YoIlZlcnNpb24iKT9hLnN1YnN0cmluZyhlKzgpOmEuc3Vic3RyaW5nKGUrNik7cmV0dXJuIHQ/cGFyc2VGbG9hdCh0KTotMX0sci5pbmRleD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bdChlKV09ZX0pKSxufSxyLnNldD1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPTF9KSksdH0sci5yZWxhdGl2ZUNvbXBsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gci5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3IgaW4gZXx8KG5bcl09dFtyXSl9KSksbn0sci5hc3NlcnRUcnVlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IHIuVmFsdWVFcnJvcih0KX0sci5hc3NlcnROb3ROdWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuYXNzZXJ0VHJ1ZShudWxsIT1lJiZ2b2lkIDAhPT1pKGUpLHIuc3ByaW50ZigiJXMgbXVzdCBiZSBwcm92aWRlZCIsdHx8IkEgdmFsdWUiKSksZX0sci5kZWVwY29weT1mdW5jdGlvbihlKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9LHIuZGVlcGNvcHlDcm9zc09yaWdpbkV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3RyeXt0W25dPWVbbl19Y2F0Y2goZSl7ci5nZXRMb2coKS5pbmZvKCJkZWVwY29weUNyb3NzT3JpZ2luRXZlbnQgZmFpbGVkIG9uIGtleTogIixuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKSxyLmRlZXBjb3B5KHQpfSxyLmdldEJhc2VVcmw9ZnVuY3Rpb24oKXt2YXIgZT10LmxvY2F0aW9uO3JldHVybiByLnNwcmludGYoIiVzLy8lczolcyIsZS5wcm90b2NvbCxlLmhvc3RuYW1lLGUucG9ydCl9LHIuZ2V0VXJsV2l0aFByb3RvY29sPWZ1bmN0aW9uKGUpe3ZhciBuPXQubG9jYXRpb24ucHJvdG9jb2w7cmV0dXJuIGUuc3Vic3RyKDAsbi5sZW5ndGgpIT09bj9yLnNwcmludGYoIiVzLy8lcyIsbixlKTplfSxyLmlzRnJhbWVkPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3B9Y2F0Y2goZSl7cmV0dXJuITB9fSxyLmhhc090aGVyQ29ubmVjdGVkQ0NQcz1mdW5jdGlvbigpe3JldHVybiByLm51bWJlck9mQ29ubmVjdGVkQ0NQcz4xfSxyLmZldGNoPWZ1bmN0aW9uKGUsdCxuLG8pe3JldHVybiBvPW98fDUsbj1ufHwxZTMsdD10fHx7fSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXshZnVuY3Rpb24gbyhzKXtmZXRjaChlLHQpLnRoZW4oKGZ1bmN0aW9uKGUpe2Uuc3RhdHVzPT09ci5IVFRQX1NUQVRVU19DT0RFUy5TVUNDRVNTP2UuanNvbigpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBpKHt9KX0pKToxIT09cyYmKGUuc3RhdHVzPj1yLkhUVFBfU1RBVFVTX0NPREVTLklOVEVSTkFMX1NFUlZFUl9FUlJPUnx8ZS5zdGF0dXM9PT1yLkhUVFBfU1RBVFVTX0NPREVTLlRPT19NQU5ZX1JFUVVFU1RTKT9zZXRUaW1lb3V0KChmdW5jdGlvbigpe28oLS1zKX0pLG4pOmEoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EoZSl9KSl9KG8pfSkpfSxyLmZldGNoV2l0aFRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgdCxpPSh0PWUoKS5tYXJrKChmdW5jdGlvbiB0KG8saSxhLHMsYyl7dmFyIHUsbCxwO3JldHVybiBlKCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoYT1hfHx7fSxpKXtlLm5leHQ9MzticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsci5mZXRjaChvLGEscyxjKSk7Y2FzZSAzOnJldHVybiB1PW5ldyBBYm9ydENvbnRyb2xsZXIsbD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiB1LmFib3J0KCl9KSxpKSxlLm5leHQ9NyxyLmZldGNoKG8sbihuKHt9LGEpLHt9LHtzaWduYWw6dS5zaWduYWx9KSxzLGMpO2Nhc2UgNzpyZXR1cm4gcD1lLnNlbnQsY2xlYXJUaW1lb3V0KGwpLGUuYWJydXB0KCJyZXR1cm4iLHApO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSx0KX0pKSxmdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLGkpe3ZhciBhPXQuYXBwbHkoZSxuKTtmdW5jdGlvbiBzKGUpe28oYSxyLGkscyxjLCJuZXh0IixlKX1mdW5jdGlvbiBjKGUpe28oYSxyLGkscyxjLCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsbyl7cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxyLmJhY2tvZmY9ZnVuY3Rpb24oZSxuLG8saSl7ci5hc3NlcnRUcnVlKHIuaXNGdW5jdGlvbihlKSwiZnVuYyBtdXN0IGJlIGEgRnVuY3Rpb24iKTt2YXIgYT10aGlzO2Uoe3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aSYmaS5zdWNjZXNzJiZpLnN1Y2Nlc3MoZSl9LGZhaWx1cmU6ZnVuY3Rpb24ocixzKXtpZihvPjApe3ZhciBjPTIqbipNYXRoLnJhbmRvbSgpO3Quc2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmJhY2tvZmYoZSwyKmMsLS1vLGkpfSksYyl9ZWxzZSBpJiZpLmZhaWx1cmUmJmkuZmFpbHVyZShyLHMpfX0pfSxyLnB1Ymxpc2hNZXRyaWM9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5FdmVudFR5cGUuQ0xJRU5UX01FVFJJQyxkYXRhOmV9KX0sci5wdWJsaXNoU29mdHBob25lU3RhdHM9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5FdmVudFR5cGUuU09GVFBIT05FX1NUQVRTLGRhdGE6ZX0pfSxyLnB1Ymxpc2hTb2Z0cGhvbmVSZXBvcnQ9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5FdmVudFR5cGUuU09GVFBIT05FX1JFUE9SVCxkYXRhOmV9KX0sci5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLkNMSUNLX1NUUkVBTV9EQVRBLGRhdGE6ZX0pfSxyLnB1Ymxpc2hDbGllbnRTaWRlTG9ncz1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkNMSUVOVF9TSURFX0xPR1MsZSl9LHIuYWRkTmFtZXNwYWNlVG9Mb2dzPWZ1bmN0aW9uKGUpe1sibG9nIiwiZXJyb3IiLCJ3YXJuIiwiaW5mbyIsImRlYnVnIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49d2luZG93LmNvbnNvbGVbdF07d2luZG93LmNvbnNvbGVbdF09ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5mcm9tKGFyZ3VtZW50cyk7dC51bnNoaWZ0KCJbIi5jb25jYXQoZSwiXSIpKSxuLmFwcGx5KHdpbmRvdy5jb25zb2xlLHQpfX0pKX0sci5Qb3B1cE1hbmFnZXI9ZnVuY3Rpb24oKXt0aGlzLndpbmRvd3M9e30sdGhpcy53aW5kb3dVcmxzPXt9fSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQsbil7dmFyIG89IiI7aWYobil7dmFyIGk9bi5oZWlnaHR8fDU3ODtvPSJ3aWR0aD0iKyhuLndpZHRofHw0MzMpKyIsIGhlaWdodD0iK2krIiwgdG9wPSIrKG4udG9wfHwwKSsiLCBsZWZ0PSIrKG4ubGVmdHx8MCl9dmFyIGE9dGhpcy53aW5kb3dzW3RdLHM9dGhpcy53aW5kb3dVcmxzW3RdO2lmKGEpdHJ5e2lmKGEuY2xvc2VkKWRlbGV0ZSB0aGlzLndpbmRvd3NbdF0sZGVsZXRlIHRoaXMud2luZG93VXJsc1t0XTtlbHNlIGlmKHM9PT1lKXt0cnl7YS5mb2N1cygpfWNhdGNoKGUpe31yZXR1cm4gci5nZXRMb2coKS5pbmZvKCJbUG9wdXBNYW5hZ2VyXSBSZXVzaW5nIGV4aXN0aW5nIHBvcHVwIHdpbmRvdyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYX19Y2F0Y2goZSl7ZGVsZXRlIHRoaXMud2luZG93c1t0XSxkZWxldGUgdGhpcy53aW5kb3dVcmxzW3RdfXZhciBjPXdpbmRvdy5vcGVuKGUsdCxvKTtpZihjKXRyeXtjLmNsb3NlZHx8KHRoaXMud2luZG93c1t0XT1jLHRoaXMud2luZG93VXJsc1t0XT1lLHIuZ2V0TG9nKCkuaW5mbygiW1BvcHVwTWFuYWdlcl0gT3BlbmVkIHBvcHVwIHdpbmRvdyIpLndpdGhPYmplY3Qoe3VybDplLG5hbWU6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfWNhdGNoKGUpe31yZXR1cm4gY30sci5Qb3B1cE1hbmFnZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLndpbmRvd3NbZV0sZGVsZXRlIHRoaXMud2luZG93VXJsc1tlXTt2YXIgbj10aGlzLl9nZXRMb2NhbFN0b3JhZ2VLZXkoZSk7dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShuKX0sci5Qb3B1cE1hbmFnZXIucHJvdG90eXBlLl9nZXRMYXN0T3BlbmVkVGltZXN0YW1wPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX2dldExvY2FsU3RvcmFnZUtleShlKSxyPXQubG9jYWxTdG9yYWdlLmdldEl0ZW0obik7cmV0dXJuIHI/cGFyc2VJbnQociwxMCk6MH0sci5Qb3B1cE1hbmFnZXIucHJvdG90eXBlLl9zZXRMYXN0T3BlbmVkVGltZXN0YW1wPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcy5fZ2V0TG9jYWxTdG9yYWdlS2V5KGUpO3QubG9jYWxTdG9yYWdlLnNldEl0ZW0ociwiIituKX0sci5Qb3B1cE1hbmFnZXIucHJvdG90eXBlLl9nZXRMb2NhbFN0b3JhZ2VLZXk9ZnVuY3Rpb24oZSl7cmV0dXJuImNvbm5lY3RQb3B1cE1hbmFnZXI6OiIrZX07dmFyIGM9ci5tYWtlRW51bShbImdyYW50ZWQiLCJkZW5pZWQiLCJkZWZhdWx0Il0pO3IuTm90aWZpY2F0aW9uTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMucXVldWU9W10sdGhpcy5wZXJtaXNzaW9uPWMuREVGQVVMVH0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5yZXF1ZXN0UGVybWlzc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7Ik5vdGlmaWNhdGlvbiJpbiB0P3QuTm90aWZpY2F0aW9uLnBlcm1pc3Npb249PT1jLkRFTklFRD8oci5nZXRMb2coKS53YXJuKCJUaGUgdXNlciBoYXMgcmVxdWVzdGVkIHRvIG5vdCByZWNlaXZlIG5vdGlmaWNhdGlvbnMuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnBlcm1pc3Npb249Yy5ERU5JRUQpOnRoaXMucGVybWlzc2lvbiE9PWMuR1JBTlRFRCYmdC5Ob3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKS50aGVuKChmdW5jdGlvbih0KXtlLnBlcm1pc3Npb249dCx0PT09Yy5HUkFOVEVEP2UuX3Nob3dRdWV1ZWQoKTplLnF1ZXVlPVtdfSkpOihyLmdldExvZygpLndhcm4oIlRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgbm90aWZpY2F0aW9ucy4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMucGVybWlzc2lvbj1jLkRFTklFRCl9LHIuTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihlLHQpe2lmKHRoaXMucGVybWlzc2lvbj09PWMuR1JBTlRFRClyZXR1cm4gdGhpcy5fc2hvd0ltcGwoe3RpdGxlOmUsb3B0aW9uczp0fSk7aWYodGhpcy5wZXJtaXNzaW9uPT09Yy5ERU5JRUQpci5nZXRMb2coKS53YXJuKCJVbmFibGUgdG8gc2hvdyBub3RpZmljYXRpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHt0aXRsZTplLG9wdGlvbnM6dH0pO2Vsc2V7dmFyIG49e3RpdGxlOmUsb3B0aW9uczp0fTtyLmdldExvZygpLndhcm4oIkRlZmVycmluZyBub3RpZmljYXRpb24gdW50aWwgdXNlciBkZWNpZGVzIHRvIGFsbG93IG9yIGRlbnkuIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMucXVldWUucHVzaChuKX19LHIuTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUuX3Nob3dRdWV1ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5xdWV1ZS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zaG93SW1wbCh0KX0pKTtyZXR1cm4gdGhpcy5xdWV1ZT1bXSx0fSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLl9zaG93SW1wbD1mdW5jdGlvbihlKXt2YXIgbj1uZXcgdC5Ob3RpZmljYXRpb24oZS50aXRsZSxlLm9wdGlvbnMpO3JldHVybiBlLm9wdGlvbnMuY2xpY2tlZCYmKG4ub25jbGljaz1mdW5jdGlvbigpe2Uub3B0aW9ucy5jbGlja2VkLmNhbGwobil9KSxufSxyLlZhbHVlRXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD1lLnNoaWZ0KCksbj1uZXcgRXJyb3Ioci52c3ByaW50Zih0LGUpKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5WYWx1ZUVycm9yLnByb3RvdHlwZSksbn0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuVmFsdWVFcnJvci5wcm90b3R5cGUsRXJyb3IucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5WYWx1ZUVycm9yLEVycm9yKSxyLlZhbHVlRXJyb3IucHJvdG90eXBlLm5hbWU9IlZhbHVlRXJyb3IiLHIuTm90SW1wbGVtZW50ZWRFcnJvcj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PWUuc2hpZnQoKSxuPW5ldyBFcnJvcihyLnZzcHJpbnRmKHQsZSkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YobixyLk5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlKSxufSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5Ob3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZSxFcnJvci5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLk5vdEltcGxlbWVudGVkRXJyb3IsRXJyb3IpLHIuTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUubmFtZT0iTm90SW1wbGVtZW50ZWRFcnJvciIsci5TdGF0ZUVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9ZS5zaGlmdCgpLG49bmV3IEVycm9yKHIudnNwcmludGYodCxlKSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLHIuU3RhdGVFcnJvci5wcm90b3R5cGUpLG59LE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlN0YXRlRXJyb3IucHJvdG90eXBlLEVycm9yLnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuU3RhdGVFcnJvcixFcnJvciksci5TdGF0ZUVycm9yLnByb3RvdHlwZS5uYW1lPSJTdGF0ZUVycm9yIixyLlZvaWNlSWRFcnJvcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9e307cmV0dXJuIHIudHlwZT1lLHIubWVzc2FnZT10LHIuc3RhY2s9RXJyb3IodCkuc3RhY2ssci5lcnI9bixyfSxyLmlzQ0NQPWZ1bmN0aW9uKCl7cmV0dXJuISFyLmNvcmUudXBzdHJlYW0mJiJDb25uZWN0U2hhcmVkV29ya2VyQ29uZHVpdCI9PT1yLmNvcmUuZ2V0VXBzdHJlYW0oKS5uYW1lfSxyLmlzU2hhcmVkV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHIud29ya2VyJiYhIXIud29ya2VyLmNsaWVudEVuZ2luZX0sci5pc0NSTT1mdW5jdGlvbigpe3JldHVybiEhci5jb3JlLnVwc3RyZWFtJiYoci5jb3JlLmdldFVwc3RyZWFtKClpbnN0YW5jZW9mIHIuSUZyYW1lQ29uZHVpdHx8ci5jb3JlLmdldFVwc3RyZWFtKClpbnN0YW5jZW9mIHIuR1JQcm94eUlmcmFtZUNvbmR1aXQpfSxyLmlzQWN0aXZlQ29uZHVpdD1mdW5jdGlvbihlKXt2YXIgdD1yLmNvcmUuZ2V0VXBzdHJlYW0oKTtyZXR1cm4gdCBpbnN0YW5jZW9mIHIuR1JQcm94eUlmcmFtZUNvbmR1aXQ/ZS5uYW1lPT09dC5hY3RpdmVSZWdpb25Vcmw6KHIuZ2V0TG9nKCkuZGVidWcoImNvbm5lY3QuaXNBY3RpdmVDb25kdWl0IGlzIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gR1IgcHJveHkgY29uZHVpdCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITApfX0oKX0sMzU0OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0Lndvcmtlcj17fTt2YXIgcj0iTEFEUy5HZXRBZ2VudEZhaWxvdmVyQ29uZmlndXJhdGlvbiIsbz17Y3JlYXRlVGFza0NvbnRhY3Q6ImNyZWF0ZVRhc2tDb250YWN0IixjcmVhdGVPdXRib3VuZENvbnRhY3Q6ImNyZWF0ZU91dGJvdW5kQ29udGFjdCIsY3JlYXRlVGVtcGxhdGVkVGFzazoiY3JlYXRlVGVtcGxhdGVkVGFzayJ9LGk9ZnVuY3Rpb24oKXt0aGlzLnRvcGljTWFzdGVyTWFwPXt9fTtpLnByb3RvdHlwZS5nZXRNYXN0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChlLCJ0b3BpYyIpLHRoaXMudG9waWNNYXN0ZXJNYXBbZV18fG51bGx9LGkucHJvdG90eXBlLnNldE1hc3Rlcj1mdW5jdGlvbihlLG4pe3QuYXNzZXJ0Tm90TnVsbChlLCJ0b3BpYyIpLHQuYXNzZXJ0Tm90TnVsbChuLCJpZCIpLHRoaXMudG9waWNNYXN0ZXJNYXBbZV09bn0saS5wcm90b3R5cGUucmVtb3ZlTWFzdGVyPWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJpZCIpO3ZhciBuPXRoaXM7dC5lbnRyaWVzKHRoaXMudG9waWNNYXN0ZXJNYXApLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWU9PT1lfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RlbGV0ZSBuLnRvcGljTWFzdGVyTWFwW2Uua2V5XX0pKX07dmFyIGE9ZnVuY3Rpb24oZSl7dC5DbGllbnRCYXNlLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWV9OyhhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQuQ2xpZW50QmFzZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcyxpPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3QuY29udGFpbnNWYWx1ZSh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcyxlKT90LmNvcmUuZ2V0QWdlbnRBcHBDbGllbnQoKS5fY2FsbEltcGwoZSxuLHtzdWNjZXNzOmZ1bmN0aW9uKHQpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4pLHIuc3VjY2Vzcyh0KX0sZmFpbHVyZTpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuZmFpbHVyZSh0KX19KTp0LmNvbnRhaW5zVmFsdWUodC5UYXNrVGVtcGxhdGVzQ2xpZW50TWV0aG9kcyxlKT90LmNvcmUuZ2V0VGFza1RlbXBsYXRlc0NsaWVudCgpLl9jYWxsSW1wbChlLG4se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbiksci5zdWNjZXNzKHQpfSxmYWlsdXJlOmZ1bmN0aW9uKHQpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5mYWlsdXJlKHQpfX0pOnQuY29yZS5nZXRDbGllbnQoKS5fY2FsbEltcGwoZSxuLHtzdWNjZXNzOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbiksci5zdWNjZXNzKHQsYSl9LGZhaWx1cmU6ZnVuY3Rpb24odCxhKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuZmFpbHVyZSh0LGEpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5hdXRoRmFpbHVyZSgpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24odCxhKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuYWNjZXNzRGVuaWVkJiZyLmFjY2Vzc0RlbmllZCgpfX0pfSxhLnByb3RvdHlwZS5fcmVjb3JkQVBJTGF0ZW5jeT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz0obmV3IERhdGUpLmdldFRpbWUoKS10O3RoaXMuX3NlbmRBUElNZXRyaWNzKGUsbyxuLHIpfSxhLnByb3RvdHlwZS5fc2VuZEFQSU1ldHJpY3M9ZnVuY3Rpb24oZSxyLGksYSl7dmFyIHM9e25hbWU6ZSx0aW1lOnIsZXJyb3I6YSxlcnJvcjV4eDowfSxjPVt7bmFtZToiQ2F0ZWdvcnkiLHZhbHVlOiJBUEkifV0sdT1hJiZhLnN0YXR1c0NvZGV8fDIwMCxsPWEmJmEucmV0cnlTdGF0dXN8fHQuUmV0cnlTdGF0dXMuTk9ORSxwPVt7bmFtZToiSHR0cFN0YXR1c0NvZGUiLHZhbHVlOnV9LHtuYW1lOiJIdHRwR2VuZXJpY1N0YXR1c0NvZGUiLHZhbHVlOiIiLmNvbmNhdCh1LnRvU3RyaW5nKCkuY2hhckF0KDApLCJYWCIpfSx7bmFtZToiUmV0cnlTdGF0dXMiLHZhbHVlOmx9XTtpZigiNSI9PT11LnRvU3RyaW5nKCkuY2hhckF0KDApJiYocy5lcnJvcjV4eD0xKSwiNSI9PT11LnRvU3RyaW5nKCkuY2hhckF0KDApP3MuZmF1bHQ9MToiMiI9PT11LnRvU3RyaW5nKCkuY2hhckF0KDApJiYocy5mYXVsdD0wKSxvW2VdJiZpJiZpLnJlbGF0ZWRDb250YWN0SWQpe3ZhciBkPXtuYW1lOiIiLmNvbmNhdChlLCJXaXRoUmVsYXRlZENvbnRhY3RJZCIpLHRpbWU6cy50aW1lLGVycm9yOnMuZXJyb3IsZXJyb3I1eHg6cy5lcnJvcjV4eH07dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9NRVRSSUMsbihuKHt9LGQpLHt9LHtkaW1lbnNpb25zOmMsb3B0aW9uYWxEaW1lbnNpb25zOnB9KSl9dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9NRVRSSUMsbihuKHt9LHMpLHt9LHtkaW1lbnNpb25zOmMsb3B0aW9uYWxEaW1lbnNpb25zOnB9KSl9O3ZhciBzPWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLm11bHRpcGxleGVyPW5ldyB0LlN0cmVhbU11bHRpcGxleGVyLHRoaXMuY29uZHVpdD1uZXcgdC5Db25kdWl0KCJBbWF6b25Db25uZWN0U2hhcmVkV29ya2VyIixudWxsLHRoaXMubXVsdGlwbGV4ZXIpLHRoaXMuY2xpZW50PW5ldyBhKHRoaXMuY29uZHVpdCksdGhpcy50aW1lb3V0PW51bGwsdGhpcy5hZ2VudD1udWxsLHRoaXMubmV4dFRva2VuPW51bGwsdGhpcy5pbml0RGF0YT17fSx0aGlzLnBvcnRDb25kdWl0TWFwPXt9LHRoaXMuc3RyZWFtTWFwQnlUYWJJZD17fSx0aGlzLm1hc3RlckNvb3JkPW5ldyBpLHRoaXMubG9nc0J1ZmZlcj1bXSx0aGlzLnN1cHByZXNzPSExLHRoaXMuZm9yY2VPZmZsaW5lPSExLHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zPXthbGxvd0xvbmdQb2xsaW5nU2hhZG93TW9kZTohMSxhbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGU6ITF9LHRoaXMuZHJQb2xsaW5nVXJsPW51bGwsdGhpcy50aGlzQXJuPW51bGwsdGhpcy5vdGhlckFybj1udWxsLHRoaXMucGVuZGluZ0ZhaWxvdmVyPW51bGw7dmFyIHI9bnVsbDt0LnJvb3RMb2dnZXI9bmV3IHQuRG93bnN0cmVhbUNvbmR1aXRMb2dnZXIodGhpcy5jb25kdWl0KSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlNFTkRfTE9HUywoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5wdXNoTG9nc0Rvd25zdHJlYW0oZSksbi5sb2dzQnVmZmVyPW4ubG9nc0J1ZmZlci5jb25jYXQoZSksbi5sb2dzQnVmZmVyLmxlbmd0aD40MDAmJm4uaGFuZGxlU2VuZExvZ3NSZXF1ZXN0KG4ubG9nc0J1ZmZlcil9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU1VQUFJFU1MsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gU2V0dGluZyBTdXBwcmVzcyB0byAlcyIsZS5zdXBwcmVzcykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnN1cHByZXNzPWUuc3VwcHJlc3N8fCExLG4uc3VwcHJlc3N8fChuLmZvcmNlT2ZmbGluZT0hMSksKHZvaWQgMD09PWUuc2hvdWxkU2VuZEZhaWxvdmVyRG93bnN0cmVhbXx8ZS5zaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtKSYmbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7aXNQcmltYXJ5OiFuLnN1cHByZXNzfSl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSwoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBTZXR0aW5nIEZPUkNFX09GRkxJTkUgdG8gJXMiLGUub2ZmbGluZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmZvcmNlT2ZmbGluZXx8KG4ucGVuZGluZ0ZhaWxvdmVyPSExLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse2lzUHJpbWFyeTohMSxuZXh0QWN0aXZlQXJuOmUubmV4dEFjdGl2ZUFybn0pKSxuLmZvcmNlT2ZmbGluZT1lLm9mZmxpbmV8fCExfSkpLHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RSX1BPTExJTkcmJnRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORywoZnVuY3Rpb24oZSl7dmFyIHI9dC5nZXRMb2coKTtuLmRyUG9sbGluZ1VybD8oci5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBZGRpbmcgbmV3IENDUCB0byBhY3RpdmUgcmVnaW9uIHBvbGxpbmcgZm9yIGluc3RhbmNlICIuY29uY2F0KGUuaW5zdGFuY2VBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4ucG9sbEZvckFjdGl2ZVJlZ2lvbighMCwhMSkpOihyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gSW5pdGlhbGl6aW5nIGFjdGl2ZSByZWdpb24gcG9sbGluZyBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi50aGlzQXJuPWUuaW5zdGFuY2VBcm4sbi5vdGhlckFybj1lLm90aGVyQXJuLG4uZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsKCkudGhlbigoZnVuY3Rpb24oZSl7bi5kclBvbGxpbmdVcmw9ZSxuLnBvbGxGb3JBY3RpdmVSZWdpb24oITAsITApfSksKGZ1bmN0aW9uKHQpe3IuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gRmFpbGVkIHRvIGdldCBwcmVzaWduZWQgVVJMIGZvciBpbnN0YW5jZSAiLmNvbmNhdChlLmluc3RhbmNlQXJuLCI7IHN1cHByZXNzaW5nIGNvbnRhY3RzIikpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnN1cHByZXNzPSEwfSkpKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24obyl7Y29uc29sZS5sb2coIkBAQCBjb25maWd1cmUgZXZlbnQgaGFuZGxlciIsbyk7dHJ5e28uYXV0aFRva2VuJiZvLmF1dGhUb2tlbiE9PW4uaW5pdERhdGEuYXV0aFRva2VuJiYobi5pbml0RGF0YT1vLHQuY29yZS5pbml0KG8pLG8ubG9uZ1BvbGxpbmdPcHRpb25zJiYoImJvb2xlYW4iPT10eXBlb2Ygby5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGUmJihuLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nU2hhZG93TW9kZT1vLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nU2hhZG93TW9kZSksImJvb2xlYW4iPT10eXBlb2Ygby5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1dlYnNvY2tldE9ubHlNb2RlJiYobi5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1dlYnNvY2tldE9ubHlNb2RlPW8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZSkpLHI/dC5nZXRMb2coKS5pbmZvKCJOb3QgSW5pdGlhbGl6aW5nIGEgbmV3IFdlYnNvY2tldE1hbmFnZXIgaW5zdGFuY2UsIHNpbmNlIG9uZSBhbHJlYWR5IGV4aXN0cyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6KHQuZ2V0TG9nKCkuaW5mbygiQ3JlYXRpbmcgYSBuZXcgV2Vic29ja2V0IGNvbm5lY3Rpb24gZm9yIENDUCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5XZWJTb2NrZXRNYW5hZ2VyLnNldEdsb2JhbENvbmZpZyh7bG9nZ2VyQ29uZmlnOntsb2dnZXI6dC5nZXRMb2coKSxhZHZhbmNlZExvZ1dyaXRlcjoiaW5mbyIsbGV2ZWw6MTB9fSksKHI9dC5XZWJTb2NrZXRNYW5hZ2VyLmNyZWF0ZSgpKS5vbkluaXRGYWlsdXJlKChmdW5jdGlvbigpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkUpfSkpLHIub25Db25uZWN0aW9uT3BlbigoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fT1BFTixlKX0pKSxyLm9uQ29ubmVjdGlvbkNsb3NlKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9DTE9TRSxlKX0pKSxyLm9uQ29ubmVjdGlvbkdhaW4oKGZ1bmN0aW9uKCl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fR0FJTkVEKSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9HQUlOKX0pKSxyLm9uQ29ubmVjdGlvbkxvc3QoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0xPU1QsZSksbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fTE9TVCxlKX0pKSxyLm9uU3Vic2NyaXB0aW9uVXBkYXRlKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX1VQREFURSxlKX0pKSxyLm9uU3Vic2NyaXB0aW9uRmFpbHVyZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9GQUlMVVJFLGUpfSkpLHIub25BbGxNZXNzYWdlKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQUxMX01FU1NBR0UsZSl9KSksbi5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TRU5ELChmdW5jdGlvbihlKXtyLnNlbmRNZXNzYWdlKGUpfSkpLG4uY29uZHVpdC5vbkRvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSUJFLChmdW5jdGlvbihlKXtyLnN1YnNjcmliZVRvcGljcyhlKX0pKSxyLmluaXQodC5oaXRjaChuLG4uZ2V0V2ViU29ja2V0VXJsKSkudGhlbigoZnVuY3Rpb24ocil7dHJ5e2lmKHImJiFyLndlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQpdC5nZXRMb2coKS5pbmZvKCJLaWNraW5nIG9mZiBhZ2VudCBwb2xsaW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnBvbGxGb3JBZ2VudCgpLHQuZ2V0TG9nKCkuaW5mbygiS2lja2luZyBvZmYgY29uZmlnIHBvbGxpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4ucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbih7cmVwZWF0Rm9yZXZlcjohMH0pLHQuZ2V0TG9nKCkuaW5mbygiS2lja2luZyBvZmYgYXV0aCB0b2tlbiBwb2xsaW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLnNldEludGVydmFsKHQuaGl0Y2gobixuLmNoZWNrQXV0aFRva2VuKSwzZTUpO2Vsc2UgaWYoIXQud2ViU29ja2V0SW5pdEZhaWxlZCl7dmFyIG89dC5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFO3Rocm93IG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbShvKSx0LndlYlNvY2tldEluaXRGYWlsZWQ9ITAsbmV3IEVycm9yKG8pfX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJXZWJTb2NrZXQgZmFpbGVkIHRvIGluaXRpYWxpemUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpKSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiQEBAIGVycm9yIixlKX19KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5URVJNSU5BVEUsKGZ1bmN0aW9uKCl7bi5oYW5kbGVTZW5kTG9nc1JlcXVlc3Qobi5sb2dzQnVmZmVyKSx0LmNvcmUudGVybWluYXRlKCksbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlRFUk1JTkFURUQpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuU1lOQ0hST05JWkUsKGZ1bmN0aW9uKCl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCwoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKGUuZXZlbnQsZS5kYXRhKX0pKSxlLm9uY29ubmVjdD1mdW5jdGlvbihlKXt2YXIgcj1lLnBvcnRzWzBdLG89bmV3IHQuUG9ydFN0cmVhbShyKTtuLm11bHRpcGxleGVyLmFkZFN0cmVhbShvKSxyLnN0YXJ0KCk7dmFyIGk9bmV3IHQuQ29uZHVpdChvLmdldElkKCksbnVsbCxvKTtpLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLHtpZDpvLmdldElkKCl9KSxuLnBvcnRDb25kdWl0TWFwW28uZ2V0SWQoKV09aSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLHtsZW5ndGg6T2JqZWN0LmtleXMobi5wb3J0Q29uZHVpdE1hcCkubGVuZ3RofSksbnVsbCE9PW4uYWdlbnQmJm4udXBkYXRlQWdlbnQoKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfUkVRVUVTVCx0LmhpdGNoKG4sbi5oYW5kbGVBUElSZXF1ZXN0LGkpKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5NQVNURVJfUkVRVUVTVCx0LmhpdGNoKG4sbi5oYW5kbGVNYXN0ZXJSZXF1ZXN0LGksby5nZXRJZCgpKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuUkVMT0FEX0FHRU5UX0NPTkZJR1VSQVRJT04sdC5oaXRjaChuLG4ucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbikpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlRBQl9JRCx0LmhpdGNoKG4sbi5oYW5kbGVUYWJJZEV2ZW50LG8pKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5DTE9TRSx0LmhpdGNoKG4sbi5oYW5kbGVDbG9zZUV2ZW50LG8pKX19O3MucHJvdG90eXBlLnBvbGxGb3JBY3RpdmVSZWdpb249ZnVuY3Rpb24obyxpKXt2YXIgYT10aGlzLHM9dC5nZXRMb2coKTtpZighYS5kclBvbGxpbmdVcmwpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBUcmllZCB0byBwb2xsIGZvciBhY3RpdmUgcmVnaW9uIHdpdGhvdXQgZmlyc3QgaW5pdGlhbGl6aW5nIERSIHBvbGxpbmcgaW4gdGhlIHdvcmtlci4iKTtzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFBvbGxpbmcgZm9yIGZhaWxvdmVyIHdpdGggcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gdC5mZXRjaFdpdGhUaW1lb3V0KGEuZHJQb2xsaW5nVXJsLDFlNCkuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKGUuc3RhdHVzKXtpZihhLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMse3N0YXR1c0NvZGU6ZS5zdGF0dXN9KSxbdC5IVFRQX1NUQVRVU19DT0RFUy5BQ0NFU1NfREVOSUVELHQuSFRUUF9TVEFUVVNfQ09ERVMuVU5BVVRIT1JJWkVEXS5pbmNsdWRlcyhlLnN0YXR1cykpcmV0dXJuIHMuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBY3RpdmUgcmVnaW9uIHBvbGxpbmcgZmFpbGVkOyB0cnlpbmcgdG8gZ2V0IGEgbmV3IFVSTCBmb3IgcG9sbGluZy4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5nZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwoKS50aGVuKChmdW5jdGlvbihlKXthLmRyUG9sbGluZ1VybD1lfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCksdC5mZXRjaFdpdGhUaW1lb3V0KGEuZHJQb2xsaW5nVXJsLDFlNCl9KSk7dmFyIG49IltEaXNhc3RlciBSZWNvdmVyeV0gRmFpbGVkIHRvIHBvbGwgZm9yIGZhaWxvdmVyIGZvciBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiwgIikrInJlY2VpdmVkIHVuZXhwZWN0ZWQgcmVzcG9uc2UgY29kZSAiLmNvbmNhdChlLnN0YXR1cyk7dGhyb3cgcy5lcnJvcihuKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKG4pfXRocm93IG49IltEaXNhc3RlciBSZWNvdmVyeV0gRmFpbGVkIHRvIHBvbGwgZm9yIGZhaWxvdmVyIGZvciBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiwgcmVxdWVzdCB0aW1lZCBvdXQgb3IgYWJvcnRlZCIpLGEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyx7c3RhdHVzQ29kZTotMX0pLHMuZXJyb3Iobikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG5ldyBFcnJvcihuKX0pKS50aGVuKChmdW5jdGlvbihlKXtpZihhLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMpLCJib29sZWFuIj09dHlwZW9mIGUuVGVybWluYXRlQWN0aXZlQ29udGFjdHMpe3ZhciBuPSFlLlRlcm1pbmF0ZUFjdGl2ZUNvbnRhY3RzO2lmKGUuSW5zdGFuY2VBcm4paWYocy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBTdWNjZXNzZnVsbHkgcG9sbGVkIGZvciBhY3RpdmUgcmVnaW9uLiBQcmltYXJ5IGluc3RhbmNlIEFSTiBpcyAiLmNvbmNhdChlLkluc3RhbmNlQXJuLCIgIikrImFuZCBzb2Z0IGZhaWxvdmVyIGlzICIuY29uY2F0KG4/ImVuYWJsZWQiOiJkaXNhYmxlZCIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEudGhpc0Fybj09PWUuSW5zdGFuY2VBcm4mJiFhLnN1cHByZXNzJiZvKXMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgaXMgYmVpbmcgc2V0IHRvIHByaW1hcnkiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtuZXh0QWN0aXZlQXJuOmUuSW5zdGFuY2VBcm59KTtlbHNlIGlmKGEub3RoZXJBcm49PT1lLkluc3RhbmNlQXJuKXtpZighbnx8aXx8IW98fGEuc3VwcHJlc3MmJiFhLnBlbmRpbmdGYWlsb3Zlcnx8YS5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7bmV4dEFjdGl2ZUFybjphLnRoaXNBcm59KSwhYS5zdXBwcmVzcyl7YS5zdXBwcmVzcz0hMDt2YXIgdT1uJiYhaTt1PyhhLnBlbmRpbmdGYWlsb3Zlcj0hMCxzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIHdpbGwgYmUgc2V0IHRvIHN0YW5kLWJ5IHVzaW5nIHNvZnQgZmFpbG92ZXIiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6cy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiBpcyBiZWluZyBzZXQgdG8gc3RhbmQtYnkgaW1tZWRpYXRlbHkiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUse3NvZnRGYWlsb3Zlcjp1LG5leHRBY3RpdmVBcm46ZS5JbnN0YW5jZUFybn0pfX1lbHNlW2EudGhpc0FybixhLm90aGVyQXJuXS5pbmNsdWRlcyhlLkluc3RhbmNlQXJuKXx8cy5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBUaGUgY3VycmVudCBwcmltYXJ5IGluc3RhbmNlIGluIHRoaXMgYWdlbnQncyBmYWlsb3ZlciBncm91cCAiLmNvbmNhdChlLkluc3RhbmNlQXJuLCIgIikrImRvZXNuJ3QgbWF0Y2ggdGhpcyBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiBvciB0aGUgb3RoZXIgaW5zdGFuY2UgIikuY29uY2F0KGEub3RoZXJBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2Ugcy5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBEUiBwb2xsaW5nIHJlc3BvbnNlIGRpZCBub3QgY29udGFpbiBhIHRydXRoeSBhY3RpdmUgaW5zdGFuY2UgQVJOLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gRFIgcG9sbGluZyByZXNwb25zZSBkaWQgbm90IGNvbnRhaW4gYSB2YWxpZCB2YWx1ZSBmb3IgVGVybWluYXRlQWN0aXZlQ29udGFjdHMuIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtlLnN0YXR1cyYmYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjLG4obih7fSxlKSx7fSx7c3RhdHVzQ29kZTplLnN0YXR1c30pKSxzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFjdGl2ZSByZWdpb24gcG9sbGluZyBmYWlsZWQgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiLiIpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuZmluYWxseSgoZnVuY3Rpb24oKXshaSYmb3x8ZS5zZXRUaW1lb3V0KHQuaGl0Y2goYSxhLnBvbGxGb3JBY3RpdmVSZWdpb24pLDZlNCl9KSl9LHMucHJvdG90eXBlLmdldFByZXNpZ25lZERpc2NvdmVyeVVybD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt0LmdldExvZygpLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gR2V0dGluZyBwcmVzaWduZWQgVVJMIGZvciBpbnN0YW5jZSAiLmNvbmNhdChuLnRoaXNBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQse3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuQUdFTlRfRElTQ09WRVJZfSx7c3VjY2VzczpmdW5jdGlvbihlKXtlJiZlLmFnZW50RGlzY292ZXJ5VHJhbnNwb3J0JiZlLmFnZW50RGlzY292ZXJ5VHJhbnNwb3J0LnByZXNpZ25lZFVybD8odC5nZXRMb2coKS5pbmZvKCJnZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwgc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUuYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQucHJlc2lnbmVkVXJsKSk6KHQuZ2V0TG9nKCkuaW5mbygiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHJlY2VpdmVkIGVtcHR5L2ludmFsaWQgZGF0YSIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKEVycm9yKCJnZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwgcmVjZWl2ZWQgZW1wdHkvaW52YWxpZCBkYXRhIikpKX0sZmFpbHVyZTpmdW5jdGlvbihlLHIpe3QuZ2V0TG9nKCkuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gRmFpbGVkIHRvIGdldCBwcmVzaWduZWQgVVJMIGZvciBpbnN0YW5jZSAiLmNvbmNhdChuLnRoaXNBcm4pKS53aXRoRXhjZXB0aW9uKGUpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKG5ldyBFcnJvcigiRmFpbGVkIHRvIGdldCBwcmVzaWduZWQgVVJMIikpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3QuaGl0Y2gobixuLmhhbmRsZUF1dGhGYWlsKSgpLG8obmV3IEVycm9yKCJFbmNvdW50ZXJlZCBhdXRoIGZhaWx1cmUgd2hlbiBnZXR0aW5nIHByZXNpZ25lZCBVUkwiKSl9LGFjY2Vzc0RlbmllZDpmdW5jdGlvbigpe3QuaGl0Y2gobixuLmhhbmRsZUFjY2Vzc0RlbmllZCkoKSxvKG5ldyBFcnJvcigiRW5jb3VudGVyZWQgYWNjZXNzIGRlbmllZCB3aGVuIGdldHRpbmcgcHJlc2lnbmVkIFVSTCIpKX19KX0pKX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPXQuaGl0Y2gobixuLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCk7dGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1NOQVBTSE9ULHtuZXh0VG9rZW46bi5uZXh0VG9rZW4sdGltZW91dDozZTR9LHtzdWNjZXNzOmZ1bmN0aW9uKHIsbyl7dHJ5e24uYWdlbnQ9bi5hZ2VudHx8e30sbi5hZ2VudC5zbmFwc2hvdD1yLnNuYXBzaG90LG4uYWdlbnQuc25hcHNob3QubG9jYWxUaW1lc3RhbXA9dC5ub3coKSxuLmFnZW50LnNuYXBzaG90LnNrZXc9bi5hZ2VudC5zbmFwc2hvdC5zbmFwc2hvdFRpbWVzdGFtcC1uLmFnZW50LnNuYXBzaG90LmxvY2FsVGltZXN0YW1wLG4ubmV4dFRva2VuPXIubmV4dFRva2VuLG8mJm8uaGFzT3duUHJvcGVydHkoImNvbnRlbnRMZW5ndGgiKSYmKG4uYWdlbnQuc25hcHNob3QuY29udGVudExlbmd0aD1vLmNvbnRlbnRMZW5ndGgpLHQuZ2V0TG9nKCkudHJhY2UoIkdFVF9BR0VOVF9TTkFQU0hPVCBzdWNjZWVkZWQuIikud2l0aE9iamVjdChyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4udXBkYXRlQWdlbnQoKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJMb25nIHBvbGwgZmFpbGVkIHRvIHVwZGF0ZSBhZ2VudC4iKS53aXRoT2JqZWN0KHIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1maW5hbGx5e2Uuc2V0VGltZW91dCh0LmhpdGNoKG4sbi5wb2xsRm9yQWdlbnQpLDEwMCl9fSxmYWlsdXJlOmZ1bmN0aW9uKHIsbyl7dHJ5e3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBnZXQgYWdlbnQgZGF0YS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjpyLGRhdGE6b30pfWZpbmFsbHl7ZS5zZXRUaW1lb3V0KHQuaGl0Y2gobixuLnBvbGxGb3JBZ2VudCksNWUzKX19LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKCl7cigpfSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChuLG4uaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsbz1ufHx7fSxpPXQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCk7dGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX0NPTkZJR1VSQVRJT04se30se3N1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIGk9bi5jb25maWd1cmF0aW9uO3IucG9sbEZvckFnZW50UGVybWlzc2lvbnMoaSksci5wb2xsRm9yQWdlbnRTdGF0ZXMoaSksci5wb2xsRm9yRGlhbGFibGVDb3VudHJ5Q29kZXMoaSksci5wb2xsRm9yUm91dGluZ1Byb2ZpbGVRdWV1ZXMoaSksby5yZXBlYXRGb3JldmVyJiZlLnNldFRpbWVvdXQodC5oaXRjaChyLHIucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbixvKSwzZTQpfSxmYWlsdXJlOmZ1bmN0aW9uKG4saSl7dHJ5e3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBhZ2VudCBjb25maWd1cmF0aW9uIGRhdGEuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6bixkYXRhOml9KX1maW5hbGx5e28ucmVwZWF0Rm9yZXZlciYmZS5zZXRUaW1lb3V0KHQuaGl0Y2gocixyLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24pLDNlNCxvKX19LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKCl7aSgpfSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yQWdlbnRTdGF0ZXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1NUQVRFUyx7bmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JBZ2VudFN0YXRlcyhlLHtzdGF0ZXM6KG8uc3RhdGVzfHxbXSkuY29uY2F0KHQuc3RhdGVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5hZ2VudFN0YXRlcz0oby5zdGF0ZXN8fFtdKS5jb25jYXQodC5zdGF0ZXMpLHIudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKGUpKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBhZ2VudCBzdGF0ZXMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudFBlcm1pc3Npb25zPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPW58fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9QRVJNSVNTSU9OUyx7bmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JBZ2VudFBlcm1pc3Npb25zKGUse3Blcm1pc3Npb25zOihvLnBlcm1pc3Npb25zfHxbXSkuY29uY2F0KHQucGVybWlzc2lvbnMpLG5leHRUb2tlbjp0Lm5leHRUb2tlbixtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30pOihlLnBlcm1pc3Npb25zPShvLnBlcm1pc3Npb25zfHxbXSkuY29uY2F0KHQucGVybWlzc2lvbnMpLHIudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKGUpKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBhZ2VudCBwZXJtaXNzaW9ucyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckRpYWxhYmxlQ291bnRyeUNvZGVzPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPW58fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9ESUFMQUJMRV9DT1VOVFJZX0NPREVTLHtuZXh0VG9rZW46by5uZXh0VG9rZW58fG51bGwsbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QubmV4dFRva2VuP3IucG9sbEZvckRpYWxhYmxlQ291bnRyeUNvZGVzKGUse2NvdW50cnlDb2Rlczooby5jb3VudHJ5Q29kZXN8fFtdKS5jb25jYXQodC5jb3VudHJ5Q29kZXMpLG5leHRUb2tlbjp0Lm5leHRUb2tlbixtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30pOihlLmRpYWxhYmxlQ291bnRyaWVzPShvLmNvdW50cnlDb2Rlc3x8W10pLmNvbmNhdCh0LmNvdW50cnlDb2Rlcyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGRpYWxhYmxlIGNvdW50cnkgY29kZXMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JSb3V0aW5nUHJvZmlsZVF1ZXVlcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfUk9VVElOR19QUk9GSUxFX1FVRVVFUyx7cm91dGluZ1Byb2ZpbGVBUk46ZS5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUFSTixuZXh0VG9rZW46by5uZXh0VG9rZW58fG51bGwsbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QubmV4dFRva2VuP3IucG9sbEZvclJvdXRpbmdQcm9maWxlUXVldWVzKGUse2NvdW50cnlDb2Rlczooby5xdWV1ZXN8fFtdKS5jb25jYXQodC5xdWV1ZXMpLG5leHRUb2tlbjp0Lm5leHRUb2tlbixtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30pOihlLnJvdXRpbmdQcm9maWxlLnF1ZXVlcz0oby5xdWV1ZXN8fFtdKS5jb25jYXQodC5xdWV1ZXMpLHIudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKGUpKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCByb3V0aW5nIHByb2ZpbGUgcXVldWVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5oYW5kbGVBUElSZXF1ZXN0PWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpczt0aGlzLmNsaWVudC5jYWxsKG4ubWV0aG9kLG4ucGFyYW1zLHtzdWNjZXNzOmZ1bmN0aW9uKHIpe3ZhciBvPXQuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKHQuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSxuLHIpO2Uuc2VuZERvd25zdHJlYW0oby5ldmVudCxvKX0sZmFpbHVyZTpmdW5jdGlvbihvLGkpe3ZhciBhPXQuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKHQuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSxuLGksSlNPTi5zdHJpbmdpZnkobykpO2Uuc2VuZERvd25zdHJlYW0oYS5ldmVudCxhKSx0LmdldExvZygpLmVycm9yKCInJXMnIEFQSSByZXF1ZXN0IGZhaWxlZCIsbi5tZXRob2QpLndpdGhPYmplY3Qoe3JlcXVlc3Q6ci5maWx0ZXJBdXRoVG9rZW4obikscmVzcG9uc2U6YX0pLndpdGhFeGNlcHRpb24obykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlQXV0aEZhaWwse2F1dGhvcml6ZTohMH0pfSl9LHMucHJvdG90eXBlLmhhbmRsZU1hc3RlclJlcXVlc3Q9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMuY29uZHVpdCxpPW51bGw7c3dpdGNoKHIubWV0aG9kKXtjYXNlIHQuTWFzdGVyTWV0aG9kcy5CRUNPTUVfTUFTVEVSOnZhciBhPXRoaXMubWFzdGVyQ29vcmQuZ2V0TWFzdGVyKHIucGFyYW1zLnRvcGljKSxzPUJvb2xlYW4oYSkmJmEhPT1uO3RoaXMubWFzdGVyQ29vcmQuc2V0TWFzdGVyKHIucGFyYW1zLnRvcGljLG4pLGk9dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFLHIse21hc3RlcklkOm4sdGFrZU92ZXI6cyx0b3BpYzpyLnBhcmFtcy50b3BpY30pLHMmJm8uc2VuZERvd25zdHJlYW0oaS5ldmVudCxpKTticmVhaztjYXNlIHQuTWFzdGVyTWV0aG9kcy5DSEVDS19NQVNURVI6KGE9dGhpcy5tYXN0ZXJDb29yZC5nZXRNYXN0ZXIoci5wYXJhbXMudG9waWMpKXx8ci5wYXJhbXMuc2hvdWxkTm90QmVjb21lTWFzdGVySWZOb25lfHwodGhpcy5tYXN0ZXJDb29yZC5zZXRNYXN0ZXIoci5wYXJhbXMudG9waWMsbiksYT1uKSxpPXQuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSxyLHttYXN0ZXJJZDphLGlzTWFzdGVyOm49PT1hLHRvcGljOnIucGFyYW1zLnRvcGljfSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbWFzdGVyIG1ldGhvZDogIityLm1ldGhvZCl9ZS5zZW5kRG93bnN0cmVhbShpLmV2ZW50LGkpfSxzLnByb3RvdHlwZS5oYW5kbGVUYWJJZEV2ZW50PWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpczt0cnl7dmFyIG89bi50YWJJZCxpPXIuc3RyZWFtTWFwQnlUYWJJZFtvXSxhPWUuZ2V0SWQoKSxzPU9iamVjdC5rZXlzKHIuc3RyZWFtTWFwQnlUYWJJZCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gci5zdHJlYW1NYXBCeVRhYklkW2VdLmxlbmd0aD4wfSkpLmxlbmd0aDtpZihpJiZpLmxlbmd0aD4wKXtpZighaS5pbmNsdWRlcyhhKSl7ci5zdHJlYW1NYXBCeVRhYklkW29dLnB1c2goYSk7dmFyIGM9e2xlbmd0aDpPYmplY3Qua2V5cyhyLnBvcnRDb25kdWl0TWFwKS5sZW5ndGgsdGFiSWQ6byxzdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXI6c307Y1tvXT17bGVuZ3RoOmkubGVuZ3RofSxyLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLGMpfX1lbHNle3Iuc3RyZWFtTWFwQnlUYWJJZFtvXT1bZS5nZXRJZCgpXTt2YXIgdT17bGVuZ3RoOk9iamVjdC5rZXlzKHIucG9ydENvbmR1aXRNYXApLmxlbmd0aCx0YWJJZDpvLHN0cmVhbXNUYWJzQWNyb3NzQnJvd3NlcjpzKzF9O3Vbb109e2xlbmd0aDpyLnN0cmVhbU1hcEJ5VGFiSWRbb10ubGVuZ3RofSxyLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLHUpfX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbVGFiIElkc10gSXNzdWUgdXBkYXRpbmcgY29ubmVjdGVkIENDUHMgd2l0aGluIHRoZSBzYW1lIHRhYiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHMucHJvdG90eXBlLmhhbmRsZUNsb3NlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztuLm11bHRpcGxleGVyLnJlbW92ZVN0cmVhbShlKSxkZWxldGUgbi5wb3J0Q29uZHVpdE1hcFtlLmdldElkKCldLG4ubWFzdGVyQ29vcmQucmVtb3ZlTWFzdGVyKGUuZ2V0SWQoKSk7dmFyIHI9e2xlbmd0aDpPYmplY3Qua2V5cyhuLnBvcnRDb25kdWl0TWFwKS5sZW5ndGh9LG89T2JqZWN0LmtleXMobi5zdHJlYW1NYXBCeVRhYklkKTt0cnl7dmFyIGk9by5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gbi5zdHJlYW1NYXBCeVRhYklkW3RdLmluY2x1ZGVzKGUuZ2V0SWQoKSl9KSk7aWYoaSl7dmFyIGE9bi5zdHJlYW1NYXBCeVRhYklkW2ldLmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuZ2V0SWQoKT09PXR9KSk7bi5zdHJlYW1NYXBCeVRhYklkW2ldLnNwbGljZShhLDEpO3ZhciBzPW4uc3RyZWFtTWFwQnlUYWJJZFtpXT9uLnN0cmVhbU1hcEJ5VGFiSWRbaV0ubGVuZ3RoOjA7cltpXT17bGVuZ3RoOnN9LHIudGFiSWQ9aX12YXIgYz1vLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3RyZWFtTWFwQnlUYWJJZFtlXS5sZW5ndGg+MH0pKS5sZW5ndGg7ci5zdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXI9Y31jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbVGFiIElkc10gSXNzdWUgdXBkYXRpbmcgdGFiSWQtc3BlY2lmaWMgc3RyZWFtIGRhdGEiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyxyKX0scy5wcm90b3R5cGUudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKGUpe2UucGVybWlzc2lvbnMmJmUuZGlhbGFibGVDb3VudHJpZXMmJmUuYWdlbnRTdGF0ZXMmJmUucm91dGluZ1Byb2ZpbGUucXVldWVzPyh0aGlzLmFnZW50PXRoaXMuYWdlbnR8fHt9LHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbj1lLHRoaXMudXBkYXRlQWdlbnQoKSk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgY29uZmlndXJhdGlvbiB1bnRpbCBhbGwgY29uZmlnIGRhdGEgaGFzIGJlZW4gZmV0Y2hlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxzLnByb3RvdHlwZS51cGRhdGVBZ2VudD1mdW5jdGlvbigpe3RoaXMuYWdlbnQ/dGhpcy5hZ2VudC5zbmFwc2hvdD90aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24/KHRoaXMuYWdlbnQuc25hcHNob3Quc3RhdHVzPXRoaXMuYWdlbnQuc3RhdGUsdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cyYmdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5sZW5ndGg+MSYmdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCktdC5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpfSkpLHRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGF0dXM9ZS5zdGF0ZSxlLmNvbm5lY3Rpb25zLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYWRkcmVzcz1lLmVuZHBvaW50fSkpfSkpLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5kZWZhdWx0T3V0Ym91bmRRdWV1ZS5xdWV1ZUlkPXRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5kZWZhdWx0T3V0Ym91bmRRdWV1ZS5xdWV1ZUFSTix0aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUucXVldWVzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucXVldWVJZD1lLnF1ZXVlQVJOfSkpLHRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5xdWV1ZSYmKGUucXVldWUucXVldWVJZD1lLnF1ZXVlLnF1ZXVlQVJOKX0pKSx0aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVJZD10aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVBUk4sdGhpcy5zdXBwcmVzcyYmKHRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHM9dGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXRlLnR5cGU9PXQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNURUR8fGUuc3RhdGUudHlwZT09dC5Db250YWN0U3RhdGVUeXBlLkVOREVEfSkpLHRoaXMuZm9yY2VPZmZsaW5lJiZ0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUpKSx0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5BZ2VudEV2ZW50cy5VUERBVEUsdGhpcy5hZ2VudCkpOnQuZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IHVudGlsIHRoZSBhZ2VudCBjb25maWd1cmF0aW9uIGlzIGF2YWlsYWJsZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOnQuZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IHVudGlsIHRoZSBhZ2VudCBzbmFwc2hvdCBpcyBhdmFpbGFibGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCB1bnRpbCB0aGUgYWdlbnQgaGFzIGJlZW4gZnVsbHkgY29uc3RydWN0ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0scy5wcm90b3R5cGUuZ2V0V2ViU29ja2V0VXJsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPXQuY29yZS5nZXRDbGllbnQoKSxyPXQuaGl0Y2goZSxlLmhhbmRsZUF1dGhGYWlsKSxvPXQuaGl0Y2goZSxlLmhhbmRsZUFjY2Vzc0RlbmllZCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe24uY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCx7dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5XRUJfU09DS0VUfSx7c3VjY2VzczpmdW5jdGlvbihuKXt0LmdldExvZygpLmluZm8oImdldFdlYlNvY2tldFVybCBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUobil9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KSxpKHtyZWFzb246ImdldFdlYlNvY2tldFVybCBmYWlsZWQiLF9kZWJ1ZzplfSl9LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKCl7dC5nZXRMb2coKS5lcnJvcigiZ2V0V2ViU29ja2V0VXJsIEF1dGggRmFpbHVyZSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShFcnJvcigiQXV0aGVudGljYXRpb24gZmFpbGVkIHdoaWxlIGdldHRpbmcgZ2V0V2ViU29ja2V0VXJsIikpLHIoKX0sYWNjZXNzRGVuaWVkOmZ1bmN0aW9uKCl7dC5nZXRMb2coKS5lcnJvcigiZ2V0V2ViU29ja2V0VXJsIEFjY2VzcyBEZW5pZWQgRmFpbHVyZSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShFcnJvcigiQWNjZXNzIERlbmllZCBGYWlsdXJlIHdoaWxlIGdldHRpbmcgZ2V0V2ViU29ja2V0VXJsIikpLG8oKX19KX0pKX0scy5wcm90b3R5cGUuaGFuZGxlU2VuZExvZ3NSZXF1ZXN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPVtdLHI9ZS5sb2dzQnVmZmVyLnNsaWNlKCk7ZS5sb2dzQnVmZmVyPVtdLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wdXNoKHt0aW1lc3RhbXA6ZS50aW1lLGNvbXBvbmVudDplLmNvbXBvbmVudCxtZXNzYWdlOmUudGV4dH0pfSkpLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLlNFTkRfQ0xJRU5UX0xPR1Mse2xvZ0V2ZW50czpufSx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIlNlbmRMb2dzIHJlcXVlc3Qgc3VjY2VlZGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJTZW5kTG9ncyByZXF1ZXN0IGZhaWxlZC4iKS53aXRoT2JqZWN0KG4pLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sYXV0aEZhaWx1cmU6dC5oaXRjaChlLGUuaGFuZGxlQXV0aEZhaWwpfSl9LHMucHJvdG90eXBlLmhhbmRsZUF1dGhGYWlsPWZ1bmN0aW9uKGUpe2U/dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCxlKTp0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVVUSF9GQUlMKX0scy5wcm90b3R5cGUuaGFuZGxlUG9sbGluZ0F1dGhGYWlsPWZ1bmN0aW9uKCl7dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSxzLnByb3RvdHlwZS5oYW5kbGVBY2Nlc3NEZW5pZWQ9ZnVuY3Rpb24oKXt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQUNDRVNTX0RFTklFRCl9LHMucHJvdG90eXBlLmNoZWNrQXV0aFRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPW5ldyBEYXRlKGUuaW5pdERhdGEuYXV0aFRva2VuRXhwaXJhdGlvbikscj0obmV3IERhdGUpLmdldFRpbWUoKTtuLmdldFRpbWUoKTxyKzE4ZTUmJih0LmdldExvZygpLmluZm8oIkF1dGggdG9rZW4gZXhwaXJlcyBhdCAiK24rIiBTdGFydCByZWZyZXNoaW5nIHRva2VuIHdpdGggcmV0cnkuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmJhY2tvZmYodC5oaXRjaChlLGUuYXV0aG9yaXplKSwxZTQsNCkpfSxzLnByb3RvdHlwZS5hdXRob3JpemU9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0LmNvcmUuYXV0aG9yaXplKHRoaXMuaW5pdERhdGEuYXV0aG9yaXplRW5kcG9pbnQpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBvPW5ldyBEYXRlKHIuZXhwaXJhdGlvbik7dC5nZXRMb2coKS5pbmZvKCJBdXRob3JpemF0aW9uIHN1Y2NlZWRlZCBhbmQgdGhlIHRva2VuIGV4cGlyZXMgYXQgJXMiLG8pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5pbml0RGF0YS5hdXRoVG9rZW49ci5hY2Nlc3NUb2tlbixuLmluaXREYXRhLmF1dGhUb2tlbkV4cGlyYXRpb249byx0LmNvcmUuaW5pdENsaWVudChuLmluaXREYXRhKSx0LmNvcmUuaW5pdEFnZW50QXBwQ2xpZW50KG4uaW5pdERhdGEpLGUuc3VjY2VzcygpfSkpLmNhdGNoKChmdW5jdGlvbihyKXt0LmdldExvZygpLmVycm9yKCJBdXRob3JpemF0aW9uIGZhaWxlZCB3aXRoIGNvZGUgJXMiLHIuc3RhdHVzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLDQwMT09PXIuc3RhdHVzP24uaGFuZGxlQXV0aEZhaWwoKTplLmZhaWx1cmUoKX0pKX0scy5wcm90b3R5cGUuZmlsdGVyQXV0aFRva2VuPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKWlmKCJwYXJhbXMiPT09bil7dmFyIHI9e307Zm9yKHZhciBvIGluIGUucGFyYW1zKSJhdXRoZW50aWNhdGlvbiIhPT1vJiYocltvXT1lLnBhcmFtc1tvXSk7dC5wYXJhbXM9cn1lbHNlIHRbbl09ZVtuXTtyZXR1cm4gdH0sdC53b3JrZXIubWFpbj1mdW5jdGlvbigpe3Qud29ya2VyLmNsaWVudEVuZ2luZT1uZXcgc319KCl9LDE4MTooZSx0LG4pPT57dmFyIHI9L15ccyt8XHMrJC9nLG89L15bLStdMHhbMC05YS1mXSskL2ksaT0vXjBiWzAxXSskL2ksYT0vXjBvWzAtN10rJC9pLHM9cGFyc2VJbnQsYz0ib2JqZWN0Ij09dHlwZW9mIG4uZyYmbi5nJiZuLmcuT2JqZWN0PT09T2JqZWN0JiZuLmcsdT0ib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGw9Y3x8dXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSxwPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsZD1NYXRoLm1heCxoPU1hdGgubWluLGY9ZnVuY3Rpb24oKXtyZXR1cm4gbC5EYXRlLm5vdygpfTtmdW5jdGlvbiBnKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiEhZSYmKCJvYmplY3QiPT10fHwiZnVuY3Rpb24iPT10KX1mdW5jdGlvbiBtKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihmdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV8fGZ1bmN0aW9uKGUpe3JldHVybiEhZSYmIm9iamVjdCI9PXR5cGVvZiBlfShlKSYmIltvYmplY3QgU3ltYm9sXSI9PXAuY2FsbChlKX0oZSkpcmV0dXJuIE5hTjtpZihnKGUpKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZS52YWx1ZU9mP2UudmFsdWVPZigpOmU7ZT1nKHQpP3QrIiI6dH1pZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2UociwiIik7dmFyIG49aS50ZXN0KGUpO3JldHVybiBufHxhLnRlc3QoZSk/cyhlLnNsaWNlKDIpLG4/Mjo4KTpvLnRlc3QoZSk/TmFOOitlfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEscyxjLHU9MCxsPSExLHA9ITEsdj0hMDtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJFeHBlY3RlZCBhIGZ1bmN0aW9uIik7ZnVuY3Rpb24geSh0KXt2YXIgbj1yLGk9bztyZXR1cm4gcj1vPXZvaWQgMCx1PXQsYT1lLmFwcGx5KGksbil9ZnVuY3Rpb24gYihlKXt2YXIgbj1lLWM7cmV0dXJuIHZvaWQgMD09PWN8fG4+PXR8fG48MHx8cCYmZS11Pj1pfWZ1bmN0aW9uIFMoKXt2YXIgZT1mKCk7aWYoYihlKSlyZXR1cm4gRShlKTtzPXNldFRpbWVvdXQoUyxmdW5jdGlvbihlKXt2YXIgbj10LShlLWMpO3JldHVybiBwP2gobixpLShlLXUpKTpufShlKSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gcz12b2lkIDAsdiYmcj95KGUpOihyPW89dm9pZCAwLGEpfWZ1bmN0aW9uIEMoKXt2YXIgZT1mKCksbj1iKGUpO2lmKHI9YXJndW1lbnRzLG89dGhpcyxjPWUsbil7aWYodm9pZCAwPT09cylyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHU9ZSxzPXNldFRpbWVvdXQoUyx0KSxsP3koZSk6YX0oYyk7aWYocClyZXR1cm4gcz1zZXRUaW1lb3V0KFMsdCkseShjKX1yZXR1cm4gdm9pZCAwPT09cyYmKHM9c2V0VGltZW91dChTLHQpKSxhfXJldHVybiB0PW0odCl8fDAsZyhuKSYmKGw9ISFuLmxlYWRpbmcsaT0ocD0ibWF4V2FpdCJpbiBuKT9kKG0obi5tYXhXYWl0KXx8MCx0KTppLHY9InRyYWlsaW5nImluIG4/ISFuLnRyYWlsaW5nOnYpLEMuY2FuY2VsPWZ1bmN0aW9uKCl7dm9pZCAwIT09cyYmY2xlYXJUaW1lb3V0KHMpLHU9MCxyPWM9bz1zPXZvaWQgMH0sQy5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1zP2E6RShmKCkpfSxDfX19LHQ9e307ZnVuY3Rpb24gbihyKXt2YXIgbz10W3JdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT10W3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmV4cG9ydHN9bi5hbWRPPXt9LG4ubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIG4uZCh0LHthOnR9KSx0fSxuLmQ9KGUsdCk9Pntmb3IodmFyIHIgaW4gdCluLm8odCxyKSYmIW4ubyhlLHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHtlbnVtZXJhYmxlOiEwLGdldDp0W3JdfSl9LG4uZz1mdW5jdGlvbigpe2lmKCJvYmplY3QiPT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gZ2xvYmFsVGhpczt0cnl7cmV0dXJuIHRoaXN8fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKGUpe2lmKCJvYmplY3QiPT10eXBlb2Ygd2luZG93KXJldHVybiB3aW5kb3d9fSgpLG4ubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksbi5yPWU9PnsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOiJNb2R1bGUifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSxuKDE2NyksbigyNTQpLG4oMzQ0KSxuKDE0NCksbig2MCksbig2ODIpLG4oNDMxKSxuKDU1NSksbig4MzApLG4oNDE0KSxuKDYxMCksbig5NSksbigzOTkpLG4oOTA2KSxuKDgwNiksbigzNTQpLG4oMTQyKSxuKDg4NCksbigzOTApLG4oMjY5KSxuKDgyNSksbig5NjEpLG4oOTQ5KX0pKCk7"),d=function(l){this.id=l.region,l.region=this._normalizeRegionString(l.region),this.height=l.height,this.style=l.iframe_style,this.ccp=this._createFramedCcp(l)};d.prototype._createFramedCcp=function(l){var Z=Z||"microphone; autoplay; clipboard-write",b=this.style||"margin: 0; border: 0; padding: 0px; width: 0px; height: 0px",d=document.createElement("iframe");return d.srcdoc=this.getContent(l),d.allow=Z,d.id=this.id,d.style=b,d.scrolling="no",d},d.prototype.getContent=function(l){return["<!DOCTYPE html>","<meta charset='UTF-8'>","<html>","<head>","<script type='text/javascript'>",b,"<\/script>","<style>","html, body, iframe { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}","</style>","</head>","<body>","<div id=containerDiv style='width: 100%;height: 100%;'></div>","<script type='text/javascript'>","function init() {","connect.core.initCCP(containerDiv,"+JSON.stringify(l)+");","}","<\/script>","</body>","</html>"].join("")},d.prototype._normalizeRegionString=function(l){const Z=l.indexOf(".");return-1===Z?l:l.substring(0,Z)},globalConnect.Container=d}()},96:()=>{!function(){var l=this||globalThis,Z=l.connect||{},b=l.globalConnect||{};l.connect=Z,l.globalConnect=b,l.lily=Z,b.core={};var d="globalCCP",m="465px";b.extractCcpRegionParams=function(l,b){Z.assertNotNull(b.standByRegion,"ccpBackupResource"),Z.assertNotNull(b.standByRegion.ccpUrl,"ccpUrl"),Z.assertNotNull(b.standByRegion.region,"region"),b.pollForFailover&&(Z.assertNotNull(b.loginUrl,"loginUrl"),Z.assertNotNull(b.instanceArn,"primary ARN"),b.otherArn=Z.assertNotNull(b.standByRegion.instanceArn,"backup ARN"));var d=b,W=Object.assign({},b,{ccpUrl:b.standByRegion.ccpUrl,region:b.standByRegion.region,instanceArn:b.standByRegion.instanceArn,otherArn:b.instanceArn,loginPopup:!1}),G=c(l);return parseInt(G.height)<=0&&(l.style.height=m,G.height=m),[d,W].map((function(l){return Z.assertNotNull(l.ccpUrl,"ccpUrl"),Z.assertNotNull(l.region,"region"),delete l.standByRegion,l.disasterRecoveryOn=!0,l.iframe_style="margin: 0; border: 0; padding:0px;width: 0px;height: 0px",l.height=G.height,l}))};var c=function(l){var Z=window.getComputedStyle(l);return{height:Z.getPropertyValue("height"),width:Z.getPropertyValue("width"),display:Z.getPropertyValue("display")}},W=function(l,d){if(Z.assertTrue("string"==typeof l,"Region provided "+l+" is not a valid string"),!(d||b.core.regions).hasOwnProperty(l)){var m="Region provided "+l+" is not found!";throw new Z.ValueError(m)}};b.core.initCCP=function(l,m){Z.assertNotNull(m.getPrimaryRegion,"getPrimaryRegion"),Z.assertTrue(Z.isFunction(m.getPrimaryRegion),"getPrimaryRegion must be a function");var c=m.getPrimaryRegion;delete m.getPrimaryRegion,delete m.provider,delete m.plugins;var u=b.extractCcpRegionParams(l,m);c((function(c){return new Promise((R=>{var p;p=m.pollForFailover?c||m.region:Z.assertNotNull(c),b.core.regions=u.reduce((function(l,Z){return l[Z.region]={ccpParams:Z},l}),{});var Y=u.reduce((function(l,Z){return l[Z.instanceArn]=Z.region,l}),{});W(p,b.core.regions),b.core.primaryRegion=p,b.core.secondaryRegion=Object.keys(b.core.regions).find((function(l){return l!=b.core.primaryRegion}));var i=u.map((function(l){return l.region===b.core.primaryRegion&&(l.isPrimary=!0),new b.Container(l)})),y=i.map((function(l){return l.ccp.outerHTML})),h=document.createElement("iframe");h.style="margin: 0; border: 0; padding:0px;width: 100%;height: 100%",h.allow="microphone; camera; autoplay; clipboard-write; identity-credentials-get",h.id=d,h.scrolling="no",h.onload=function(){V(b.core.primaryRegion),X(b.core.secondaryRegion),i.map((function(l){var Z=h.contentDocument.getElementById(l.id),d=Z.contentDocument,c=Z.contentWindow;m.additionalScripts&&Array.isArray(m.additionalScripts)&&m.additionalScripts.forEach((l=>{var Z=d.createElement("script");Z.src=l,d.body.appendChild(Z)})),c.init();var W=c.connect;b.core.regions[l.id].connect=W,W.core.getUpstream().onUpstream(W.DisasterRecoveryEvents.FAILOVER,(function(Z){if(Z.nextActiveArn&&b.core.secondaryRegion===Y[Z.nextActiveArn])G(Y[Z.nextActiveArn],b.core.primaryRegion);else{if(!1!==Z.isPrimary||l.id!==b.core.primaryRegion)return;G(b.core.secondaryRegion,l.id)}delete b._failoverPending,b._triggerFailoverCompleteHandlers({activeRegion:b.core.primaryRegion,activeCcpUrl:b.core.regions[b.core.primaryRegion].ccpParams.ccpUrl})})),W.core.getUpstream().onUpstream(W.DisasterRecoveryEvents.FAILOVER_PENDING,(function({nextActiveArn:l}){b._failoverPending||(b._triggerFailoverPendingHandlers({nextActiveArn:l}),b._failoverPending=!0)})),l.id===b.core.primaryRegion&&(window.connect=W),b._triggerInitHandlers(W,l.id)})),R(b.core.regions[b.core.primaryRegion].connect)},h.srcdoc=["<!DOCTYPE html>","<meta charset='UTF-8'>","<html>","<head>","<style>","html, body { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}","</style>","</head>","<body>",y.join(""),"</body>","</html>"].join(""),l.appendChild(h)}))}),(function(l){console.error("[Disaster Recovery] An error occured, while attempting to retrieve your primary region;"),l()}))};var G=function(l,Z){b.core.primaryRegion=l,b.core.secondaryRegion=Z,window.connect=b.core.regions[l].connect,b.core.activate(l),V(l),X(Z)},X=function(l){document.getElementById(d).contentDocument.getElementById(l).style="height: 0; width: 0; border: 0px"},V=function(l){document.getElementById(d).contentDocument.getElementById(l).style="height:100%;width:100%;border:0px"};b.core.onInit=function(l){b.core._onInitHandlers=b.core._onInitHandlers||{};const d=Z.randomId();return b.core._onInitHandlers[d]=l,()=>delete b.core._onInitHandlers[d]},b._triggerInitHandlers=function(l,Z){const d=b.core._onInitHandlers;d&&Object.values(d).forEach((b=>b(l,Z)))},b.core.onFailoverComplete=function(l){b.core._failoverCompleteHandlers=b.core._failoverCompleteHandlers||{};const d=Z.randomId();return b.core._failoverCompleteHandlers[d]=l,()=>delete b.core._failoverCompleteHandlers[d]},b._triggerFailoverCompleteHandlers=function(l){const Z=b.core._failoverCompleteHandlers;Z&&Object.values(Z).forEach((Z=>Z(l)))},b.core.onFailoverPending=function(l){b.core._failoverPendingHandlers=b.core._failoverPendingHandlers||{};const d=Z.randomId();return b.core._failoverPendingHandlers[d]=l,()=>delete b.core._failoverPendingHandlers[d]},b._triggerFailoverPendingHandlers=function(l){const Z=b.core._failoverPendingHandlers;Z&&Object.values(Z).forEach((Z=>Z(l)))},b.core.downloadLogs=function(l){if(!(b.core.regions&&b.core.regions[b.core.primaryRegion]&&b.core.regions[b.core.primaryRegion].connect))throw new Error("CCP is not initialized yet. Please call initCCP() first and wait until the getPrimaryRegion promise resolves.");Object.entries(b.core.regions).forEach((([Z,{connect:b}])=>{const d=`${Z}-${l&&l.logName||"agent-log"}`;b.getLog().download({logName:d,filterByLogLevel:l&&l.filterByLogLevel})}))},b.core.failover=function(l){b.core.failoverTo(b.core.secondaryRegion,l)},b.core.failoverTo=function(l,d){W(l),l===b.core.primaryRegion?Z.getLog().info(`[Disaster Recovery] Ignoring request to fail over to region ${l} since it is already the currently active region.`).sendInternalLogToServer():b.core.deactivate(b.core.primaryRegion,d)},b.core.deactivate=function(l,Z){var d=b.core.regions[l].connect;d.getLog().info("[Disaster Recovery] Deactivating %s region.",l).sendInternalLogToServer(),d.core.suppressContacts&&d.core.forceOffline?(d.core.suppressContacts(!0),d.core.forceOffline({softFailover:Z})):d.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to deactivate region",l)},b.core.activate=function(l){var Z=b.core.regions[l].connect;Z.getLog().info("[Disaster Recovery] Activating %s region.",l).sendInternalLogToServer(),Z.core.suppressContacts?Z.core.suppressContacts(!1):Z.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to activate region",l)}}()},236:function(){!function(){function l(l,Z){var b=(65535&l)+(65535&Z);return(l>>16)+(Z>>16)+(b>>16)<<16|65535&b}function Z(Z,b,d,m,c,W){return l((G=l(l(b,Z),l(m,W)))<<(X=c)|G>>>32-X,d);var G,X}function b(l,b,d,m,c,W,G){return Z(b&d|~b&m,l,b,c,W,G)}function d(l,b,d,m,c,W,G){return Z(b&m|d&~m,l,b,c,W,G)}function m(l,b,d,m,c,W,G){return Z(b^d^m,l,b,c,W,G)}function c(l,b,d,m,c,W,G){return Z(d^(b|~m),l,b,c,W,G)}function W(Z,W){var G,X,V,u,R;Z[W>>5]|=128<<W%32,Z[14+(W+64>>>9<<4)]=W;var p=1732584193,Y=-271733879,i=-1732584194,y=271733878;for(G=0;G<Z.length;G+=16)X=p,V=Y,u=i,R=y,p=b(p,Y,i,y,Z[G],7,-680876936),y=b(y,p,Y,i,Z[G+1],12,-389564586),i=b(i,y,p,Y,Z[G+2],17,606105819),Y=b(Y,i,y,p,Z[G+3],22,-1044525330),p=b(p,Y,i,y,Z[G+4],7,-176418897),y=b(y,p,Y,i,Z[G+5],12,1200080426),i=b(i,y,p,Y,Z[G+6],17,-1473231341),Y=b(Y,i,y,p,Z[G+7],22,-45705983),p=b(p,Y,i,y,Z[G+8],7,1770035416),y=b(y,p,Y,i,Z[G+9],12,-1958414417),i=b(i,y,p,Y,Z[G+10],17,-42063),Y=b(Y,i,y,p,Z[G+11],22,-1990404162),p=b(p,Y,i,y,Z[G+12],7,1804603682),y=b(y,p,Y,i,Z[G+13],12,-40341101),i=b(i,y,p,Y,Z[G+14],17,-1502002290),p=d(p,Y=b(Y,i,y,p,Z[G+15],22,1236535329),i,y,Z[G+1],5,-165796510),y=d(y,p,Y,i,Z[G+6],9,-1069501632),i=d(i,y,p,Y,Z[G+11],14,643717713),Y=d(Y,i,y,p,Z[G],20,-373897302),p=d(p,Y,i,y,Z[G+5],5,-701558691),y=d(y,p,Y,i,Z[G+10],9,38016083),i=d(i,y,p,Y,Z[G+15],14,-660478335),Y=d(Y,i,y,p,Z[G+4],20,-405537848),p=d(p,Y,i,y,Z[G+9],5,568446438),y=d(y,p,Y,i,Z[G+14],9,-1019803690),i=d(i,y,p,Y,Z[G+3],14,-187363961),Y=d(Y,i,y,p,Z[G+8],20,1163531501),p=d(p,Y,i,y,Z[G+13],5,-1444681467),y=d(y,p,Y,i,Z[G+2],9,-51403784),i=d(i,y,p,Y,Z[G+7],14,1735328473),p=m(p,Y=d(Y,i,y,p,Z[G+12],20,-1926607734),i,y,Z[G+5],4,-378558),y=m(y,p,Y,i,Z[G+8],11,-2022574463),i=m(i,y,p,Y,Z[G+11],16,1839030562),Y=m(Y,i,y,p,Z[G+14],23,-35309556),p=m(p,Y,i,y,Z[G+1],4,-1530992060),y=m(y,p,Y,i,Z[G+4],11,1272893353),i=m(i,y,p,Y,Z[G+7],16,-155497632),Y=m(Y,i,y,p,Z[G+10],23,-1094730640),p=m(p,Y,i,y,Z[G+13],4,681279174),y=m(y,p,Y,i,Z[G],11,-358537222),i=m(i,y,p,Y,Z[G+3],16,-722521979),Y=m(Y,i,y,p,Z[G+6],23,76029189),p=m(p,Y,i,y,Z[G+9],4,-640364487),y=m(y,p,Y,i,Z[G+12],11,-421815835),i=m(i,y,p,Y,Z[G+15],16,530742520),p=c(p,Y=m(Y,i,y,p,Z[G+2],23,-995338651),i,y,Z[G],6,-198630844),y=c(y,p,Y,i,Z[G+7],10,1126891415),i=c(i,y,p,Y,Z[G+14],15,-1416354905),Y=c(Y,i,y,p,Z[G+5],21,-57434055),p=c(p,Y,i,y,Z[G+12],6,1700485571),y=c(y,p,Y,i,Z[G+3],10,-1894986606),i=c(i,y,p,Y,Z[G+10],15,-1051523),Y=c(Y,i,y,p,Z[G+1],21,-2054922799),p=c(p,Y,i,y,Z[G+8],6,1873313359),y=c(y,p,Y,i,Z[G+15],10,-30611744),i=c(i,y,p,Y,Z[G+6],15,-1560198380),Y=c(Y,i,y,p,Z[G+13],21,1309151649),p=c(p,Y,i,y,Z[G+4],6,-145523070),y=c(y,p,Y,i,Z[G+11],10,-1120210379),i=c(i,y,p,Y,Z[G+2],15,718787259),Y=c(Y,i,y,p,Z[G+9],21,-343485551),p=l(p,X),Y=l(Y,V),i=l(i,u),y=l(y,R);return[p,Y,i,y]}function G(l){var Z,b="",d=32*l.length;for(Z=0;Z<d;Z+=8)b+=String.fromCharCode(l[Z>>5]>>>Z%32&255);return b}function X(l){var Z,b=[];for(b[(l.length>>2)-1]=void 0,Z=0;Z<b.length;Z+=1)b[Z]=0;var d=8*l.length;for(Z=0;Z<d;Z+=8)b[Z>>5]|=(255&l.charCodeAt(Z/8))<<Z%32;return b}function V(l){var Z,b,d="0123456789abcdef",m="";for(b=0;b<l.length;b+=1)Z=l.charCodeAt(b),m+=d.charAt(Z>>>4&15)+d.charAt(15&Z);return m}function u(l){return unescape(encodeURIComponent(l))}function R(l){return function(l){return G(W(X(l),8*l.length))}(u(l))}function p(l,Z){return function(l,Z){var b,d,m=X(l),c=[],V=[];for(c[15]=V[15]=void 0,m.length>16&&(m=W(m,8*l.length)),b=0;b<16;b+=1)c[b]=909522486^m[b],V[b]=1549556828^m[b];return d=W(c.concat(X(Z)),512+8*Z.length),G(W(V.concat(d),640))}(u(l),u(Z))}(this||globalThis).md5=function(l,Z,b){return Z?b?p(Z,l):V(p(Z,l)):b?R(l):V(R(l))}}()},790:()=>{!function(){var l=this||globalThis,Z=function(){return Z.cache.hasOwnProperty(arguments[0])||(Z.cache[arguments[0]]=Z.parse(arguments[0])),Z.format.call(null,Z.cache[arguments[0]],arguments)};function b(l){return Object.prototype.toString.call(l).slice(8,-1).toLowerCase()}function d(l,Z){for(var b=[];Z>0;b[--Z]=l);return b.join("")}Z.format=function(l,m){var c,W,G,X,V,u,R,p=1,Y=l.length,i="",y=[];for(W=0;W<Y;W++)if("string"===(i=b(l[W])))y.push(l[W]);else if("array"===i){if((X=l[W])[2])for(c=m[p],G=0;G<X[2].length;G++){if(!c.hasOwnProperty(X[2][G]))throw Z('[sprintf] property "%s" does not exist',X[2][G]);c=c[X[2][G]]}else c=X[1]?m[X[1]]:m[p++];if(/[^s]/.test(X[8])&&"number"!=b(c))throw Z("[sprintf] expecting number but found %s",b(c));switch(X[8]){case"b":c=c.toString(2);break;case"c":c=String.fromCharCode(c);break;case"d":c=parseInt(c,10);break;case"e":c=X[7]?c.toExponential(X[7]):c.toExponential();break;case"f":c=X[7]?parseFloat(c).toFixed(X[7]):parseFloat(c);break;case"o":c=c.toString(8);break;case"s":c=(c=String(c))&&X[7]?c.substring(0,X[7]):c;break;case"u":c>>>=0;break;case"x":c=c.toString(16);break;case"X":c=c.toString(16).toUpperCase()}c=/[def]/.test(X[8])&&X[3]&&c>=0?"+"+c:c,u=X[4]?"0"==X[4]?"0":X[4].charAt(1):" ",R=X[6]-String(c).length,V=X[6]?d(u,R):"",y.push(X[5]?c+V:V+c)}return y.join("")},Z.cache={},Z.parse=function(l){for(var Z=l,b=[],d=[],m=0;Z;){if(null!==(b=/^[^\x25]+/.exec(Z)))d.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(Z)))d.push("%");else{if(null===(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(Z)))throw"[sprintf] huh?";if(b[2]){m|=1;var c=[],W=b[2],G=[];if(null===(G=/^([a-z_][a-z_\d]*)/i.exec(W)))throw"[sprintf] huh?";for(c.push(G[1]);""!==(W=W.substring(G[0].length));)if(null!==(G=/^\.([a-z_][a-z_\d]*)/i.exec(W)))c.push(G[1]);else{if(null===(G=/^\[(\d+)\]/.exec(W)))throw"[sprintf] huh?";c.push(G[1])}b[2]=c}else m|=2;if(3===m)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(b)}Z=Z.substring(b[0].length)}return d},l.sprintf=Z,l.vsprintf=function(l,b,d){return(d=b.slice(0)).splice(0,0,l),Z.apply(null,d)}}()},94:()=>{!function(){var l=this||globalThis,Z=l.connect||{};l.connect=Z,l.lily=Z;var b=navigator.userAgent,d=["bubbles","cancelBubble","cancelable","composed","data","defaultPrevented","eventPhase","isTrusted","lastEventId","origin","returnValue","timeStamp","type"];Z.sprintf=l.sprintf,Z.vsprintf=l.vsprintf,delete l.sprintf,delete l.vsprintf,Z.HTTP_STATUS_CODES={SUCCESS:200,UNAUTHORIZED:401,ACCESS_DENIED:403,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500},Z.TRANSPORT_TYPES={CHAT_TOKEN:"chat_token",WEB_SOCKET:"web_socket",AGENT_DISCOVERY:"agent_discovery",WEB_RTC:"web_rtc"},Z.hitch=function(){var l=Array.prototype.slice.call(arguments),b=l.shift(),d=l.shift();return Z.assertNotNull(b,"scope"),Z.assertNotNull(d,"method"),Z.assertTrue(Z.isFunction(d),"method must be a function"),function(){var Z=Array.prototype.slice.call(arguments);return d.apply(b,l.concat(Z))}},Z.isFunction=function(l){return!!(l&&l.constructor&&l.call&&l.apply)},Z.isArray=function(l){return"[object Array]"===Object.prototype.toString.call(l)},Z.keys=function(l){var b=[];for(var d in Z.assertNotNull(l,"map"),l)b.push(d);return b},Z.values=function(l){var b=[];for(var d in Z.assertNotNull(l,"map"),l)b.push(l[d]);return b},Z.entries=function(l){var Z=[];for(var b in l)Z.push({key:b,value:l[b]});return Z},Z.merge=function(){var l=Array.prototype.slice.call(arguments,0),b={};return l.forEach((function(l){Z.entries(l).forEach((function(l){b[l.key]=l.value}))})),b},Z.now=function(){return(new Date).getTime()},Z.find=function(l,Z){for(var b=0;b<l.length;b++)if(Z(l[b]))return l[b];return null},Z.contains=function(l,b){return l instanceof Array?null!=Z.find(l,(function(l){return l===b})):b in l},Z.containsValue=function(l,b){return l instanceof Array?null!=Z.find(l,(function(l){return l===b})):null!=Z.find(Z.values(l),(function(l){return l===b}))},Z.randomId=function(){return Z.sprintf("%s-%s",Z.now(),Math.random().toString(36).slice(2))},Z.makeEnum=function(l){var Z={};return l.forEach((function(l){var b=l.replace(/\.?([a-z]+)_?/g,(function(l,Z){return Z.toUpperCase()+"_"})).replace(/_$/,"");Z[b]=l})),Z},Z.makeNamespacedEnum=function(l,b){var d=Z.makeEnum(b);return Z.keys(d).forEach((function(b){d[b]=Z.sprintf("%s::%s",l,d[b])})),d},Z.makeGenericNamespacedEnum=function(l,b,d){var m=Z.makeEnum(b);return Z.keys(m).forEach((function(b){m[b]=Z.sprintf("%s"+d+"%s",l,m[b])})),m},Z.isChromeBrowser=function(){return-1!==b.indexOf("Chrome")},Z.isFirefoxBrowser=function(){return-1!==b.indexOf("Firefox")},Z.isOperaBrowser=function(){return-1!==b.indexOf("Opera")},Z.isEdgeBrowser=function(){return-1!==b.indexOf("Edg")},Z.getChromeBrowserVersion=function(){var l=b.substring(b.indexOf("Chrome")+7);return l?parseFloat(l):-1},Z.getFirefoxBrowserVersion=function(){var l=b.substring(b.indexOf("Firefox")+8);return l?parseFloat(l):-1},Z.isValidLocale=function(l){return[{id:"en_US",label:"English"},{id:"de_DE",label:"Deutsch"},{id:"es_ES",label:"Espaol"},{id:"fr_FR",label:"Franais"},{id:"ja_JP",label:""},{id:"it_IT",label:"Italiano"},{id:"ko_KR",label:""},{id:"pt_BR",label:"Portugus"},{id:"zh_CN",label:"()"},{id:"zh_TW",label:"()"}].map((function(l){return l.id})).includes(l)},Z.getOperaBrowserVersion=function(){var l=b.indexOf("Opera"),Z=-1!==b.indexOf("Version")?b.substring(l+8):b.substring(l+6);return Z?parseFloat(Z):-1},Z.index=function(l,Z){var b={};return l.forEach((function(l){b[Z(l)]=l})),b},Z.set=function(l){var Z={};return l.forEach((function(l){Z[l]=1})),Z},Z.relativeComplement=function(l,b){var d={};return Z.keys(b).forEach((function(Z){Z in l||(d[Z]=b[Z])})),d},Z.assertTrue=function(l,b){if(!l)throw new Z.ValueError(b)},Z.assertNotNull=function(l,b){return Z.assertTrue(null!=l&&void 0!==typeof l,Z.sprintf("%s must be provided",b||"A value")),l},Z.deepcopy=function(l){return JSON.parse(JSON.stringify(l))},Z.deepcopyCrossOriginEvent=function(l){const b={};return d.forEach((d=>{try{b[d]=l[d]}catch(l){Z.getLog().info("deepcopyCrossOriginEvent failed on key: ",d).sendInternalLogToServer()}})),Z.deepcopy(b)},Z.getBaseUrl=function(){var b=l.location;return Z.sprintf("%s//%s:%s",b.protocol,b.hostname,b.port)},Z.getUrlWithProtocol=function(b){var d=l.location.protocol;return b.substr(0,d.length)!==d?Z.sprintf("%s//%s",d,b):b},Z.isFramed=function(){try{return window.self!==window.top}catch(l){return!0}},Z.hasOtherConnectedCCPs=function(){return Z.numberOfConnectedCCPs>1},Z.fetch=function(l,b,d,m){return m=m||5,d=d||1e3,b=b||{},new Promise((function(c,W){!function m(G){fetch(l,b).then((function(l){l.status===Z.HTTP_STATUS_CODES.SUCCESS?l.json().then((l=>c(l))).catch((()=>c({}))):1!==G&&(l.status>=Z.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR||l.status===Z.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)?setTimeout((function(){m(--G)}),d):W(l)})).catch((function(l){W(l)}))}(m)}))},Z.fetchWithTimeout=async function(l,b,d,m,c){if(d=d||{},!b)return Z.fetch(l,d,m,c);const W=new AbortController,G=setTimeout((()=>W.abort()),b),X=await Z.fetch(l,{...d,signal:W.signal},m,c);return clearTimeout(G),X},Z.backoff=function(b,d,m,c){Z.assertTrue(Z.isFunction(b),"func must be a Function");var W=this;b({success:function(l){c&&c.success&&c.success(l)},failure:function(Z,G){if(m>0){var X=2*d*Math.random();l.setTimeout((function(){W.backoff(b,2*X,--m,c)}),X)}else c&&c.failure&&c.failure(Z,G)}})},Z.publishMetric=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.CLIENT_METRIC,data:l})},Z.publishSoftphoneStats=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.SOFTPHONE_STATS,data:l})},Z.publishSoftphoneReport=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.SOFTPHONE_REPORT,data:l})},Z.publishClickStreamData=function(l){Z.core.getUpstream().sendUpstream(Z.EventType.BROADCAST,{event:Z.EventType.CLICK_STREAM_DATA,data:l})},Z.publishClientSideLogs=function(l){Z.core.getEventBus().trigger(Z.EventType.CLIENT_SIDE_LOGS,l)},Z.addNamespaceToLogs=function(l){["log","error","warn","info","debug"].forEach((Z=>{const b=window.console[Z];window.console[Z]=function(){const Z=Array.from(arguments);Z.unshift(`[${l}]`),b.apply(window.console,Z)}}))},Z.PopupManager=function(){this.windows={},this.windowUrls={}},Z.PopupManager.prototype.open=function(l,b,d){var m="";if(d){var c=d.height||578;m="width="+(d.width||433)+", height="+c+", top="+(d.top||0)+", left="+(d.left||0)}var W=this.windows[b],G=this.windowUrls[b];if(W)try{if(W.closed)delete this.windows[b],delete this.windowUrls[b];else if(G===l){try{W.focus()}catch(l){}return Z.getLog().info("[PopupManager] Reusing existing popup window").sendInternalLogToServer(),W}}catch(l){delete this.windows[b],delete this.windowUrls[b]}var X=window.open(l,b,m);if(X)try{X.closed||(this.windows[b]=X,this.windowUrls[b]=l,Z.getLog().info("[PopupManager] Opened popup window").withObject({url:l,name:b}).sendInternalLogToServer())}catch(l){}return X},Z.PopupManager.prototype.clear=function(Z){delete this.windows[Z],delete this.windowUrls[Z];var b=this._getLocalStorageKey(Z);l.localStorage.removeItem(b)},Z.PopupManager.prototype._getLastOpenedTimestamp=function(Z){var b=this._getLocalStorageKey(Z),d=l.localStorage.getItem(b);return d?parseInt(d,10):0},Z.PopupManager.prototype._setLastOpenedTimestamp=function(Z,b){var d=this._getLocalStorageKey(Z);l.localStorage.setItem(d,""+b)},Z.PopupManager.prototype._getLocalStorageKey=function(l){return"connectPopupManager::"+l};var m=Z.makeEnum(["granted","denied","default"]);Z.NotificationManager=function(){this.queue=[],this.permission=m.DEFAULT},Z.NotificationManager.prototype.requestPermission=function(){var b=this;"Notification"in l?l.Notification.permission===m.DENIED?(Z.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer(),this.permission=m.DENIED):this.permission!==m.GRANTED&&l.Notification.requestPermission().then((function(l){b.permission=l,l===m.GRANTED?b._showQueued():b.queue=[]})):(Z.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer(),this.permission=m.DENIED)},Z.NotificationManager.prototype.show=function(l,b){if(this.permission===m.GRANTED)return this._showImpl({title:l,options:b});if(this.permission===m.DENIED)Z.getLog().warn("Unable to show notification.").sendInternalLogToServer().withObject({title:l,options:b});else{var d={title:l,options:b};Z.getLog().warn("Deferring notification until user decides to allow or deny.").withObject(d).sendInternalLogToServer(),this.queue.push(d)}},Z.NotificationManager.prototype._showQueued=function(){var l=this,Z=this.queue.map((function(Z){return l._showImpl(Z)}));return this.queue=[],Z},Z.NotificationManager.prototype._showImpl=function(Z){var b=new l.Notification(Z.title,Z.options);return Z.options.clicked&&(b.onclick=function(){Z.options.clicked.call(b)}),b},Z.ValueError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.ValueError.prototype),d},Object.setPrototypeOf(Z.ValueError.prototype,Error.prototype),Object.setPrototypeOf(Z.ValueError,Error),Z.ValueError.prototype.name="ValueError",Z.NotImplementedError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.NotImplementedError.prototype),d},Object.setPrototypeOf(Z.NotImplementedError.prototype,Error.prototype),Object.setPrototypeOf(Z.NotImplementedError,Error),Z.NotImplementedError.prototype.name="NotImplementedError",Z.StateError=function(){var l=Array.prototype.slice.call(arguments,0),b=l.shift(),d=new Error(Z.vsprintf(b,l));return Object.setPrototypeOf(d,Z.StateError.prototype),d},Object.setPrototypeOf(Z.StateError.prototype,Error.prototype),Object.setPrototypeOf(Z.StateError,Error),Z.StateError.prototype.name="StateError",Z.VoiceIdError=function(l,Z,b){var d={};return d.type=l,d.message=Z,d.stack=Error(Z).stack,d.err=b,d},Z.isCCP=function(){return!!Z.core.upstream&&"ConnectSharedWorkerConduit"===Z.core.getUpstream().name},Z.isSharedWorker=function(){return Z.worker&&!!Z.worker.clientEngine},Z.isCRM=function(){return!!Z.core.upstream&&(Z.core.getUpstream()instanceof Z.IFrameConduit||Z.core.getUpstream()instanceof Z.GRProxyIframeConduit)},Z.isActiveConduit=function(l){const b=Z.core.getUpstream();return b instanceof Z.GRProxyIframeConduit?l.name===b.activeRegionUrl:(Z.getLog().debug("connect.isActiveConduit is called but there is no GR proxy conduit").sendInternalLogToServer(),!0)}}()}})[790](),l[236](),l[94](),l[296](),l[96]()})();