/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 296:
/***/ (() => {

/*
 * Copyright 2014-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  global.connect = connect;
  global.globalConnect = {}
  global.lily = connect;

  globalConnect.Container = null;

  var FRAME_DIMENSIONS = "margin: 0; border: 0; padding: 0px; width: 0px; height: 0px";
  var LATEST_STREAMJS_BASE64_CODE = "KCgpPT57dmFyIGU9ezQ2MzooZSx0LG4pPT57InVzZSBzdHJpY3QiO2xldCByO2Z1bmN0aW9uIG8oZSl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKG51bGwhPWU/ZToiQXR0ZW1wdGVkIHRvIGdldCBHbG9iYWwgQW1hem9uQ29ubmVjdFByb3ZpZGVyIHRoYXQgaGFzIG5vdCBiZWVuIHNldC4iKTtyZXR1cm4gcn1uLnIodCksbi5kKHQse0FtYXpvbkNvbm5lY3RHUlN0cmVhbXNTaXRlOigpPT5VLEFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZTooKT0+UCxHbG9iYWxSZXNpbGllbmN5UmVnaW9uOigpPT5UfSk7Y2xhc3MgaSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHtyZWFzb246ZSxuYW1lc3BhY2U6dCxlcnJvcktleTpuLGRldGFpbHM6cn0pe3N1cGVyKGBDb25uZWN0RXJyb3Igd2l0aCBlcnJvciBrZXkgIiR7bn0iYCksdGhpcy5lcnJvclR5cGU9aS5FcnJvclR5cGUsdGhpcy5uYW1lc3BhY2U9dCx0aGlzLmVycm9yS2V5PW4sdGhpcy5yZWFzb249ZSx0aGlzLmRldGFpbHM9bnVsbCE9cj9yOnt9fX1pLkVycm9yVHlwZT0iQ29ubmVjdEVycm9yIjtjbGFzcyBhe2NvbnN0cnVjdG9yKHtwcm92aWRlcjplLGxvZ2dlcktleTp0fSl7dGhpcy5ldmVudHM9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImVtaXR0ZXIiLG1peGluOigpPT4oe2VtaXR0ZXJMb2dnZXJLZXk6dH0pfSl9b24oZSx0KXtjb25zdCBuPXRoaXMuZXZlbnRzLmdldChlKTtuP24uYWRkKHQpOnRoaXMuZXZlbnRzLnNldChlLG5ldyBTZXQoW3RdKSl9b2ZmKGUsdCl7Y29uc3Qgbj10aGlzLmV2ZW50cy5nZXQoZSk7biYmKG4uZGVsZXRlKHQpLG4uc2l6ZTwxJiZ0aGlzLmV2ZW50cy5kZWxldGUoZSkpfWdldEhhbmRsZXJzKGUpe3ZhciB0O3JldHVybiBBcnJheS5mcm9tKG51bGwhPT0odD10aGlzLmV2ZW50cy5nZXQoZSkpJiZ2b2lkIDAhPT10P3Q6W10pfX12YXIgcz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBhKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihhLHMpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX07Y2xhc3MgYyBleHRlbmRzIGF7ZW1pdChlLHQpe3JldHVybiBzKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3Qgbj10aGlzLmdldEhhbmRsZXJzKGUpO3lpZWxkIFByb21pc2UuYWxsU2V0dGxlZChuLm1hcCgobj0+cyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3RyeXt5aWVsZCBuKHQpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGludm9raW5nIGV2ZW50IGhhbmRsZXIiLHtlcnJvcjp0LHBhcmFtZXRlcjplfSl9fSkpKSkpfSkpfX1mdW5jdGlvbiB1KCl7cmV0dXJuInJhbmRvbVVVSUQiaW4gY3J5cHRvP2NyeXB0by5yYW5kb21VVUlEKCk6IjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMCIucmVwbGFjZSgvWzAxOF0vZywoZT0+e2NvbnN0IHQ9cGFyc2VJbnQoZSk7cmV0dXJuKHReY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+PnQvNCkudG9TdHJpbmcoMTYpfSkpfWZ1bmN0aW9uIGwoKXt2YXIgZSx0LG4scjtyZXR1cm57b3JpZ2luOm51bGwhPT0odD1udWxsPT09KGU9bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD92b2lkIDA6ZG9jdW1lbnQubG9jYXRpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm9yaWdpbikmJnZvaWQgMCE9PXQ/dDoidW5rbm93biIscGF0aDpudWxsIT09KHI9bnVsbD09PShuPW51bGw9PT1kb2N1bWVudHx8dm9pZCAwPT09ZG9jdW1lbnQ/dm9pZCAwOmRvY3VtZW50LmxvY2F0aW9uKXx8dm9pZCAwPT09bj92b2lkIDA6bi5wYXRobmFtZSkmJnZvaWQgMCE9PXI/cjoidW5rbm93biJ9fWNsYXNzIHB7Y29uc3RydWN0b3IoKXt0aGlzLmlkc0J5SGFuZGxlcj1uZXcgTWFwLHRoaXMuaGFuZGxlcnNCeUlkPW5ldyBNYXB9YWRkKGUpe2NvbnN0IHQ9dGhpcy5pZHNCeUhhbmRsZXIuZ2V0KGUpO2lmKHQpcmV0dXJue2hhbmRsZXJJZDp0fTtjb25zdCBuPXUoKTtyZXR1cm4gdGhpcy5pZHNCeUhhbmRsZXIuc2V0KGUsbiksdGhpcy5oYW5kbGVyc0J5SWQuc2V0KG4sZSkse2hhbmRsZXJJZDpufX1nZXRJZEJ5SGFuZGxlcihlKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PXRoaXMuaWRzQnlIYW5kbGVyLmdldChlKSkmJnZvaWQgMCE9PXQ/dDpudWxsfWdldEhhbmRsZXJCeUlkKGUpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9dGhpcy5oYW5kbGVyc0J5SWQuZ2V0KGUpKSYmdm9pZCAwIT09dD90Om51bGx9Z2V0KCl7cmV0dXJuWy4uLnRoaXMuaWRzQnlIYW5kbGVyLmVudHJpZXMoKV0ubWFwKCgoW2UsdF0pPT4oe2hhbmRsZXI6ZSxoYW5kbGVySWQ6dH0pKSl9ZGVsZXRlKGUpe2NvbnN0IHQ9dGhpcy5pZHNCeUhhbmRsZXIuZ2V0KGUpO3JldHVybiB0JiZ0aGlzLmhhbmRsZXJzQnlJZC5kZWxldGUodCksdGhpcy5pZHNCeUhhbmRsZXIuZGVsZXRlKGUpLHtpc0VtcHR5OnRoaXMuaWRzQnlIYW5kbGVyLnNpemU8MX19c2l6ZSgpe3JldHVybiB0aGlzLmlkc0J5SGFuZGxlci5zaXplfX1jbGFzcyBke2NvbnN0cnVjdG9yKCl7dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zPW5ldyBNYXAsdGhpcy5wYXJhbVN1YnNjcmlwdGlvbnM9bmV3IE1hcH1hZGQoe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSxyKXt2YXIgbyxpLGEscyxjO2lmKG4pe2lmKCF0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5oYXMoZSkpcmV0dXJuIHZvaWQgdGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuc2V0KGUsbmV3IE1hcChbW3QsbmV3IE1hcChbW24scl1dKV1dKSk7aWYoIShudWxsPT09KG89dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bz92b2lkIDA6by5oYXModCkpKXJldHVybiB2b2lkKG51bGw9PT0oaT10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1pfHxpLnNldCh0LG5ldyBNYXAoW1tuLHJdXSkpKTtudWxsPT09KHM9bnVsbD09PShhPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuZ2V0KHQpKXx8dm9pZCAwPT09c3x8cy5zZXQobixyKX1lbHNle2lmKCF0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuaGFzKGUpKXJldHVybiB2b2lkIHRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5zZXQoZSxuZXcgTWFwKFtbdCxyXV0pKTtudWxsPT09KGM9dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWN8fGMuc2V0KHQscil9fWRlbGV0ZSh7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59KXt2YXIgcixvLGksYTtuPyhudWxsPT09KG89bnVsbD09PShyPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0KHQpKXx8dm9pZCAwPT09bz92b2lkIDA6by5kZWxldGUobikpJiZ0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkuZ2V0KHQpLnNpemU8MSYmKG51bGw9PT0oaT10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1pfHxpLmRlbGV0ZSh0KSx0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkuc2l6ZTwxJiZ0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5kZWxldGUoZSkpOihudWxsPT09KGE9dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuZGVsZXRlKHQpKSYmdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKS5zaXplPDEmJnRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5kZWxldGUoZSl9Z2V0KHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0pe3ZhciByLG8saTtyZXR1cm4gbj9udWxsPT09KGk9bnVsbD09PShvPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZ2V0KHQpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5nZXQobik6bnVsbD09PShyPXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldCh0KX1nZXRPckFkZChlLHQpe2xldCBuPXRoaXMuZ2V0KGUpO3JldHVybiBufHwobj10KCksdGhpcy5hZGQoZSxuKSksbn1hZGRPclVwZGF0ZShlLHQsbil7bGV0IHI9dGhpcy5nZXQoZSk7cmV0dXJuIHI9cj9uKHIpOnQoKSx0aGlzLmFkZChlLHIpLHJ9Z2V0QWxsU3Vic2NyaXB0aW9ucygpe3JldHVyblsuLi5BcnJheS5mcm9tKHRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5rZXlzKCkpLmZsYXRNYXAoKGU9PkFycmF5LmZyb20odGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKS5rZXlzKCkpLmZsYXRNYXAoKHQ9Pih7bmFtZXNwYWNlOmUsa2V5OnR9KSkpKSksLi4uQXJyYXkuZnJvbSh0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5rZXlzKCkpLmZsYXRNYXAoKGU9PkFycmF5LmZyb20odGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmtleXMoKSkuZmxhdE1hcCgodD0+QXJyYXkuZnJvbSh0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkuZ2V0KHQpLmtleXMoKSkuZmxhdE1hcCgobj0+KHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0pKSkpKSkpXX19Y2xhc3MgaHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3Vic2NyaXB0aW9ucz1uZXcgZH1hZGQoZSx0KXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmdldE9yQWRkKGUsKCgpPT5uZXcgcCkpLmFkZCh0KX1nZXQoZSl7dmFyIHQsbjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0odD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXQoKSkmJnZvaWQgMCE9PW4/bjpbXX1nZXRCeUlkKGUsdCl7dmFyIG4scjtyZXR1cm4gbnVsbCE9PShyPW51bGw9PT0obj10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5nZXRIYW5kbGVyQnlJZCh0KSkmJnZvaWQgMCE9PXI/cjpudWxsfWRlbGV0ZShlLHQpe3ZhciBuLHI7bnVsbCE9PShyPW51bGw9PT0obj10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kZWxldGUodCkuaXNFbXB0eSkmJnZvaWQgMCE9PXImJnImJnRoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoZSl9c2l6ZShlKXt2YXIgdCxuO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNpemUoKSkmJnZvaWQgMCE9PW4/bjowfWlzRW1wdHkoZSl7cmV0dXJuIDA9PT10aGlzLnNpemUoZSl9Z2V0QWxsU3Vic2NyaXB0aW9ucygpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9ucygpfWdldEFsbFN1YnNjcmlwdGlvbkhhbmRsZXJJZHMoKXtyZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmdldEFsbFN1YnNjcmlwdGlvbnMoKS5yZWR1Y2UoKChlLHQpPT5lLmNvbmNhdCh0aGlzLmdldCh0KS5tYXAoKCh7aGFuZGxlcklkOmV9KT0+KHt0b3BpYzp0LGhhbmRsZXJJZDplfSkpKSkpLFtdKX19Y29uc3QgZj0iY2xpZW50VGltZW91dCI7ZnVuY3Rpb24gZyhlLHQsbixyKXtjb25zdCBvPU1hdGgubWF4KDEsbnVsbCE9cj9yOjNlNCk7cmV0dXJuIG5ldyBQcm9taXNlKCgocixhKT0+e2xldCBzPSExO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PntuKHt0aW1lb3V0TXM6byxyZXF1ZXN0OmV9KSxhKGZ1bmN0aW9uKGUsdCl7Y29uc3R7bmFtZXNwYWNlOm4sY29tbWFuZDpyLGRhdGE6b309ZTtyZXR1cm57bmFtZXNwYWNlOm4scmVhc29uOiJDbGllbnQgVGltZW91dCIsZGV0YWlsczp7Y29tbWFuZDpyLHJlcXVlc3REYXRhOm8sdGltZW91dE1zOnR9LGVycm9yS2V5OmZ9fShlLG8pKSxzPSEwfSksbyk7dCgoZT0+e2NsZWFyVGltZW91dChjKSxzfHwoZS5pc0Vycm9yP2EobmV3IGkoZSkpOnIoZS5kYXRhKSl9KSl9KSl9Y2xhc3MgbXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlcXVlc3RNYXA9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucmVxdWVzdE1hbmFnZXIifSl9cHJvY2Vzc1JlcXVlc3QoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWU7cmV0dXJuIGcoZSwoZT0+dGhpcy5yZXF1ZXN0TWFwLnNldCh0LGUpKSwoKHtyZXF1ZXN0OmUsdGltZW91dE1zOnR9KT0+dGhpcy5oYW5kbGVUaW1lb3V0KGUsdCkpKX1wcm9jZXNzUmVzcG9uc2UoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWUsbj10aGlzLnJlcXVlc3RNYXAuZ2V0KHQpO24/KG4oZSksdGhpcy5yZXF1ZXN0TWFwLmRlbGV0ZSh0KSk6dGhpcy5sb2dnZXIuZXJyb3IoIlJldHVybmVkIGEgcmVzcG9uc2UgbWVzc2FnZSB3aXRoIG5vIGhhbmRsZXIiLHttZXNzYWdlOmV9KX1oYW5kbGVUaW1lb3V0KGUsdCl7Y29uc3R7cmVxdWVzdElkOm4sbmFtZXNwYWNlOnIsY29tbWFuZDpvfT1lO3RoaXMucmVxdWVzdE1hcC5kZWxldGUobiksdGhpcy5sb2dnZXIuZXJyb3IoIkNsaWVudCByZXF1ZXN0IHRpbWVvdXQiLHtyZXF1ZXN0SWQ6bixuYW1lc3BhY2U6cixjb21tYW5kOm8sdGltZW91dE1zOnR9KX19dmFyIHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn07ZnVuY3Rpb24geShlKXt0cnl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6Y2FzZSJlcnJvciI6Y2FzZSJjaGlsZENvbm5lY3Rpb25DbG9zZSI6ZGVmYXVsdDpyZXR1cm4gZTtjYXNlImNoaWxkRG93bnN0cmVhbU1lc3NhZ2UiOnJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse21lc3NhZ2U6eShlLm1lc3NhZ2UpfSk7Y2FzZSJwdWJsaXNoIjp7Y29uc3R7ZGF0YTp0fT1lLG49dihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX1jYXNlInJlc3BvbnNlIjppZihlLmlzRXJyb3IpcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7ZGV0YWlsczp7Y29tbWFuZDplLmRldGFpbHMuY29tbWFuZH19KTt7Y29uc3R7ZGF0YTp0fT1lLG49dihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX19fWNhdGNoKHQpe3JldHVybnttZXNzYWdlRGV0YWlsczoiZXJyb3Igd2hlbiBzYW5pdGl6aW5nIGRvd25zdHJlYW0gbWVzc2FnZSIsbWVzc2FnZTplLGVycm9yOnR9fX1jbGFzcyBie2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm92aWRlcj1lLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZT10LHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNoaWxkQ29ubmVjdGlvbk1hbmFnZXIifSl9YWRkQ2hhbm5lbChlKXtjb25zdHtjb25uZWN0aW9uSWQ6dH09ZTt0aGlzLmNoYW5uZWxzLmhhcyh0KT90aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBjaGlsZCBjb25uZWN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMuIE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk6KCJpZnJhbWUiPT09ZS50eXBlP3RoaXMuc2V0dXBJZnJhbWUoZSk6dGhpcy5zZXR1cENvbXBvbmVudChlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiQ2hpbGQgY2hhbm5lbCBhZGRlZCIse2Nvbm5lY3Rpb25JZDp0LHR5cGU6ZS50eXBlfSkpfXVwZGF0ZUNoYW5uZWxQb3J0KGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0fT1lLG49dGhpcy5jaGFubmVscy5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgY2hpbGQgY29ubmVjdGlvbiB0aGF0IGRvZXMgbm90IGV4aXN0IE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk7aWYoImNvbXBvbmVudCI9PT1uLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYSBjb21wb25lbnQgY2hhbm5lbCBjb25uZWN0aW9uIGFzIE1lc3NhZ2VQb3J0LiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIix7Y29ubmVjdGlvbklkOnR9KTtjb25zdCByPW47ci5wb3J0Lm9ubWVzc2FnZT1udWxsLHIucG9ydC5jbG9zZSgpO2NvbnN0IG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSk7dGhpcy5zZXR1cElmcmFtZShvKSx0aGlzLmxvZ2dlci5pbmZvKCJVcGRhdGVkIGNoaWxkIHBvcnQiLHtjb25uZWN0aW9uSWQ6dH0pfXNldHVwSWZyYW1lKGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0LHBvcnQ6bixwcm92aWRlcklkOnJ9PWUsbz10aGlzLmNyZWF0ZU1lc3NhZ2VIYW5kbGVyKHQscik7bi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixvKSxuLnN0YXJ0KCksdGhpcy5jaGFubmVscy5zZXQodCx7dHlwZToiaWZyYW1lIixwb3J0Om4saGFuZGxlcjpvLHByb3ZpZGVySWQ6cn0pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpyLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9c2V0dXBDb21wb25lbnQoZSl7Y29uc3R7Y29ubmVjdGlvbklkOnQscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b309ZTtvKChlPT57dGhpcy5yZWxheUNoaWxkVXBzdHJlYW1NZXNzYWdlKHt0eXBlOiJjaGlsZFVwc3RyZWFtIixzb3VyY2VQcm92aWRlcklkOm4scGFyZW50UHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkLGNvbm5lY3Rpb25JZDp0LG1lc3NhZ2U6ZX0pfSkpLHRoaXMuY2hhbm5lbHMuc2V0KHQse3R5cGU6ImNvbXBvbmVudCIscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b30pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpuLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9aGFuZGxlRG93bnN0cmVhbU1lc3NhZ2Uoe2Nvbm5lY3Rpb25JZDplLG1lc3NhZ2U6dCx0YXJnZXRQcm92aWRlcklkOm59KXtjb25zdCByPXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byByb3V0ZSBkb3duc3RyZWFtIG1lc3NhZ2UgdG8gY2hpbGQgY2hhbm5lbCB0aGF0IGRvZXMgbm90IGV4aXN0Iix7Y29ubmVjdGlvbklkOmUsbWVzc2FnZTp5KHQpfSk7Y29uc3R7cHJvdmlkZXJJZDpvfT1yO28mJm8hPT1uP3RoaXMubG9nZ2VyLmVycm9yKCJEb3duc3RyZWFtIHRhcmdldCBtZXNzYWdlIGRpZCBub3QgbWF0Y2ggdGFyZ2V0IHByb3ZpZGVyIGlkLiBOb3Qgc2VuZGluZyBtZXNzYWdlLiIse2Nvbm5lY3Rpb25JZDplLHRhcmdldFByb3ZpZGVySWQ6bixhY3R1YWxQcm92aWRlcklkOm8sbWVzc2FnZTp5KHQpfSk6ImlmcmFtZSI9PT1yLnR5cGU/ci5wb3J0LnBvc3RNZXNzYWdlKHQpOnIuc2VuZERvd25zdHJlYW1NZXNzYWdlKHQpfWhhbmRsZUNsb3NlTWVzc2FnZSh7Y29ubmVjdGlvbklkOmV9KXtjb25zdCB0PXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKHQpe2lmKCJpZnJhbWUiPT09dC50eXBlKXtjb25zdHtwb3J0OmUsaGFuZGxlcjpufT10O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksZS5jbG9zZSgpfXRoaXMuY2hhbm5lbHMuZGVsZXRlKGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJSZW1vdmVkIGNoaWxkIGNoYW5uZWwiLHtjb25uZWN0aW9uSWQ6ZSx0eXBlOnQudHlwZX0pfWVsc2UgdGhpcy5sb2dnZXIud2FybigiQXR0ZW1wdGVkIHRvIGNsb3NlIGNoaWxkIGNoYW5uZWwgdGhhdCB3YXMgbm90IGZvdW5kIix7Y29ubmVjdGlvbklkOmV9KX1jcmVhdGVNZXNzYWdlSGFuZGxlcihlLHQpe3JldHVybiBuPT50aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2Uoe3R5cGU6ImNoaWxkVXBzdHJlYW0iLHNvdXJjZVByb3ZpZGVySWQ6dCxwYXJlbnRQcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWQsY29ubmVjdGlvbklkOmUsbWVzc2FnZTpuLmRhdGF9KX19Y2xhc3MgU3tjb25zdHJ1Y3RvcihlKXt0aGlzLmVycm9ySGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTyh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucHJveHkuZXJyb3IifSl9aW52b2tlKGUpe2NvbnN0e21lc3NhZ2U6dCxrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX09ZTt0aGlzLmxvZ2dlci5lcnJvcih0LHtrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITAscmVtb3RlSWdub3JlOiEwfSksWy4uLnRoaXMuZXJyb3JIYW5kbGVyc10uZm9yRWFjaCgodD0+e3RyeXt0KGUpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aXRoaW4gYSBBbWF6b25Db25uZWN0RXJyb3JIYW5kbGVyIix7aGFuZGxlckVycm9yOnQsb3JpZ2luYWxFcnJvcjplfSl9fSkpfW9uRXJyb3IoZSl7dGhpcy5lcnJvckhhbmRsZXJzLmFkZChlKX1vZmZFcnJvcihlKXt0aGlzLmVycm9ySGFuZGxlcnMuZGVsZXRlKGUpfX1jbGFzcyBFe2NvbnN0cnVjdG9yKHtwcm92aWRlcjplLHNlbmRIZWFsdGhDaGVjazp0LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjpufSl7dGhpcy5jb25uZWN0aW9uSWQ9bnVsbCx0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWw9bnVsbCx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsLHRoaXMuc2VuZEhlYWx0aENoZWNrPXQsdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW49bix0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwsdGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1udWxsLHRoaXMuX3N0YXR1cz0idW5rbm93biIsdGhpcy5sb2dnZXI9bmV3IE8oe3NvdXJjZToiY29yZS5wcm94eS5oZWFsdGgtY2hlY2siLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9KSx0aGlzLmV2ZW50cz1uZXcgYyh7cHJvdmlkZXI6ZSxsb2dnZXJLZXk6ImNvcmUucHJveHkuaGVhbHRoLWNoZWNrIn0pfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5fc3RhdHVzfWdldCBpc1J1bm5pbmcoKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWx9Z2V0IGxhc3RDaGVja0NvdW50ZXIoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KHQ9bnVsbD09PShlPXRoaXMubGFzdEhlYWx0aENoZWNrUmVzcG9uc2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvdW50ZXIpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQgbGFzdENoZWNrVGltZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGU9dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGltZSkmJnZvaWQgMCE9PXQ/dDpudWxsfXN0YXJ0KHtoZWFsdGhDaGVja0ludGVydmFsOmUsY29ubmVjdGlvbklkOnR9KXt0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuaGVhbHRoQ2hlY2tJbnRlcnZhbD1lLHRoaXMuY2xlYXJJbnRlcnZhbCgpLGU8PTA/dGhpcy5sb2dnZXIuZGVidWcoIkhlYWx0aCBjaGVjayBkaXNhYmxlZCIpOmU8MWUzP3RoaXMubG9nZ2VyLmVycm9yKCJIZWFsdGggY2hlY2sgaW50ZXJ2YWwgaXMgbGVzcyB0aGFuIDEgc2Vjb25kLiBOb3QgcnVubmluZyIse2ludGVydmFsOmV9KToodGhpcy5zZW5kSGVhbHRoQ2hlY2tNZXNzYWdlKCksdGhpcy5zZW5kSGVhbHRoQ2hlY2tJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKCk9PnRoaXMuc2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpKSxlKSx0aGlzLnN0YXJ0VGltZW91dCgpKX1zdG9wKCl7dGhpcy5jbGVhckludGVydmFsKCksdGhpcy5jbGVhclRpbWVvdXQoKX1oYW5kbGVSZXNwb25zZShlKXt0aGlzLnNldEhlYWx0aHkoe3RpbWU6ZS50aW1lLGNvdW50ZXI6ZS5jb3VudGVyfSl9c2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpe3RoaXMuc2VuZEhlYWx0aENoZWNrKHt0eXBlOiJoZWFsdGhDaGVjayIsbWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfSl9c3RhcnRUaW1lb3V0KCl7dGhpcy5oZWFsdGhDaGVja0ludGVydmFsPyh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5zZXRVbmhlYWx0aHkoKX0pLDMqdGhpcy5oZWFsdGhDaGVja0ludGVydmFsKSk6dGhpcy5sb2dnZXIuZXJyb3IoIkhlYWx0aCBjaGVjayBpbnRlcnZhbCBub3Qgc2V0LiBDYW5ub3Qgc3RhcnQgdGltZW91dCIpfWNsZWFySW50ZXJ2YWwoKXt0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsKSx0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwpfWNsZWFyVGltZW91dCgpe3RoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0KSx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsKX1zZXRVbmhlYWx0aHkoKXtpZigidW5oZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuaW5mbygiQ29ubmVjdGlvbiB1bmhlYWx0aHkiLHtwcmV2aW91c1N0YXR1czplfSksdGhpcy5fc3RhdHVzPSJ1bmhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoInVuaGVhbHRoeSIsZSl9fXNldEhlYWx0aHkoZSl7aWYodGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1PYmplY3QuYXNzaWduKHt9LGUpLCJoZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuZGVidWcoIkNvbm5lY3Rpb24gaGVhbHRoeSIse3ByZXZpb3VzU3RhdHVzOmV9KSx0aGlzLl9zdGF0dXM9ImhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoImhlYWx0aHkiLGUpfXRoaXMuc3RhcnRUaW1lb3V0KCl9ZW1pdFN0YXR1c0NoYW5nZWQoZSx0KXt2YXIgbixyLG8saTt0aGlzLmV2ZW50cy5lbWl0KEUuc3RhdHVzQ2hhbmdlZEtleSx7c3RhdHVzOmUscHJldmlvdXNTdGF0dXM6dCxsYXN0Q2hlY2tUaW1lOm51bGwhPT0ocj1udWxsPT09KG49dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGltZSkmJnZvaWQgMCE9PXI/cjpudWxsLGxhc3RDaGVja0NvdW50ZXI6bnVsbCE9PShpPW51bGw9PT0obz10aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5jb3VudGVyKSYmdm9pZCAwIT09aT9pOm51bGx9KX1vblN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub24oRS5zdGF0dXNDaGFuZ2VkS2V5LGUpfW9mZlN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub2ZmKEUuc3RhdHVzQ2hhbmdlZEtleSxlKX19RS5zdGF0dXNDaGFuZ2VkS2V5PSJzdGF0dXNDaGFuZ2VkIjtjbGFzcyBDe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3RhdHVzPSJub3RDb25uZWN0ZWQiLHRoaXMuY2hhbmdlSGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTyh7c291cmNlOiJjb3JlLnByb3h5LmNvbm5lY3Rpb24tc3RhdHVzLW1hbmFnZXIiLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7c3RhdHVzOnRoaXMuc3RhdHVzfSl9KX1nZXRTdGF0dXMoKXtyZXR1cm4gdGhpcy5zdGF0dXN9dXBkYXRlKGUpe3RoaXMuc3RhdHVzPWUuc3RhdHVzLHRoaXMubG9nZ2VyLnRyYWNlKCJQcm94eSBDb25uZWN0aW9uIFN0YXR1cyBDaGFuZ2VkIix7c3RhdHVzOmUuc3RhdHVzfSksWy4uLnRoaXMuY2hhbmdlSGFuZGxlcnNdLmZvckVhY2goKHQ9Pnt0cnl7dChlKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2l0aGluIGEgUHJveHlDb25uZWN0aW9uQ2hhbmdlZEhhbmRsZXIiLHtlcnJvcjplfSl9fSkpfW9uQ2hhbmdlKGUpe3RoaXMuY2hhbmdlSGFuZGxlcnMuYWRkKGUpfW9mZkNoYW5nZShlKXt0aGlzLmNoYW5nZUhhbmRsZXJzLmRlbGV0ZShlKX19dmFyIEksVCx3PWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIGEoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfSxBPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJnQuaW5kZXhPZihyKTwwJiYobltyXT1lW3JdKTtpZihudWxsIT1lJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW29dKSYmKG5bcltvXV09ZVtyW29dXSl9cmV0dXJuIG59O2NsYXNzIF97Y29uc3RydWN0b3IoZSl7dGhpcy5wcm92aWRlcj1lLHRoaXMubG9nZ2VyPW5ldyBPKHtzb3VyY2U6ImNvcmUucHJveHkiLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7cHJveHlUeXBlOnRoaXMucHJveHlUeXBlLGNvbm5lY3Rpb25JZDp0aGlzLmNvbm5lY3Rpb25JZH0pfSksdGhpcy5yZXF1ZXN0TWFuYWdlcj1uZXcgbShlKSx0aGlzLnN0YXR1cz1uZXcgQyhlKSx0aGlzLmVycm9yU2VydmljZT1uZXcgUyhlKSx0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlPVtdLHRoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkPSExLHRoaXMuaXNJbml0aWFsaXplZD0hMSx0aGlzLnN1YnNjcmlwdGlvbnM9bmV3IGgsdGhpcy5jb25uZWN0aW9uSWQ9bnVsbCx0aGlzLmNoYW5uZWxNYW5hZ2VyPW5ldyBiKGUsdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QuYmluZCh0aGlzKSksdGhpcy5oZWFsdGhDaGVjaz1uZXcgRSh7cHJvdmlkZXI6ZSxzZW5kSGVhbHRoQ2hlY2s6dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QuYmluZCh0aGlzKSxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4uYmluZCh0aGlzKX0pfWluaXQoKXtpZih0aGlzLmlzSW5pdGlhbGl6ZWQpdGhyb3cgbmV3IEVycm9yKCJQcm94eSBhbHJlYWR5IGluaXRpYWxpemVkIik7dGhpcy5pc0luaXRpYWxpemVkPSEwLHRoaXMuaW5pdFByb3h5KCl9cmVxdWVzdChlLHQsbixyKXtjb25zdCBvPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybnt0eXBlOiJyZXF1ZXN0IixuYW1lc3BhY2U6ZSxjb21tYW5kOnQscmVxdWVzdElkOnUoKSxkYXRhOm4sbWVzc2FnZU9yaWdpbjpyfX0oZSx0LG4sbnVsbCE9cj9yOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpLGk9dGhpcy5yZXF1ZXN0TWFuYWdlci5wcm9jZXNzUmVxdWVzdChvKTtyZXR1cm4gdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QobyksaX1zdWJzY3JpYmUoZSx0LG4pe2NvbnN0e2hhbmRsZXJJZDpyfT10aGlzLnN1YnNjcmlwdGlvbnMuYWRkKGUsdCksbz17dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46bnVsbCE9bj9uOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCksaGFuZGxlcklkOnJ9O3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KG8pfXVuc3Vic2NyaWJlKGUsdCxuKXtpZih0aGlzLnN1YnNjcmlwdGlvbnMuZGVsZXRlKGUsdCksdGhpcy5zdWJzY3JpcHRpb25zLmlzRW1wdHkoZSkpe2NvbnN0IHQ9e3R5cGU6InVuc3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46bnVsbCE9bj9uOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9O3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHQpfX1sb2coZSl7Y29uc3QgdD1mdW5jdGlvbih7bGV2ZWw6ZSxzb3VyY2U6dCxtZXNzYWdlOm4sbG9nZ2VySWQ6cixkYXRhOm99LGEscyl7Y29uc3QgYz1mdW5jdGlvbihlKXtpZihlKXRyeXtyZXR1cm4gZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBzdHJ1Y3R1cmVkQ2xvbmUoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt0aHJvdyBuZXcgaSh7ZXJyb3JLZXk6ImRlZXBDbG9uZUZhaWxlZCIsZGV0YWlsczp7YWN0dWFsRXJyb3I6ZX19KX19fShlKX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6IkRhdGEgZmFpbGVkIHRvIHNhbml0aXplLiBUaGUgb3JpZ2luYWwgZGF0YSBpcyBub3QgYXZhaWxhYmxlIn19fShvKTtyZXR1cm57dHlwZToibG9nIixsZXZlbDplLHRpbWU6bmV3IERhdGUsc291cmNlOnQsbWVzc2FnZTpuLGxvZ2dlcklkOnIsZGF0YTpjLGNvbnRleHQ6YSxtZXNzYWdlT3JpZ2luOnN9fShlLHRoaXMuYWRkQ29udGV4dFRvTG9nZ2VyKCksdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSk7dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QodCl9c2VuZExvZ01lc3NhZ2UoZSl7ImxvZyI9PT1lLnR5cGU/KGUuY29udGV4dD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5jb250ZXh0KSx0aGlzLmFkZENvbnRleHRUb0xvZ2dlcigpKSx0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKSk6dGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byBzZW5kIGludmFsaWQgbG9nIG1lc3NhZ2UiLHttZXNzYWdlOmV9KX1zZW5kTWV0cmljKHttZXRyaWNEYXRhOmUsdGltZTp0LG5hbWVzcGFjZTpufSl7Y29uc3Qgcj1mdW5jdGlvbih7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0scil7dmFyIG8saTtyZXR1cm57dHlwZToibWV0cmljIixuYW1lc3BhY2U6bixtZXRyaWNOYW1lOmUubWV0cmljTmFtZSx1bml0OmUudW5pdCx2YWx1ZTplLnZhbHVlLHRpbWU6dCxkaW1lbnNpb25zOm51bGwhPT0obz1lLmRpbWVuc2lvbnMpJiZ2b2lkIDAhPT1vP286e30sb3B0aW9uYWxEaW1lbnNpb25zOm51bGwhPT0oaT1lLm9wdGlvbmFsRGltZW5zaW9ucykmJnZvaWQgMCE9PWk/aTp7fSxtZXNzYWdlT3JpZ2luOnJ9fSh7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0sdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSk7dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3Qocil9c2VuZE1ldHJpY01lc3NhZ2UoZSl7Im1ldHJpYyI9PT1lLnR5cGU/dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSk6dGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byBzZW5kIGludmFsaWQgbWV0cmljIG1lc3NhZ2UiLHttZXRyaWNNZXNzYWdlOmV9KX1zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl7dGhpcy5jb25uZWN0aW9uRXN0YWJsaXNoZWQ/dGhpcy5zZW5kTWVzc2FnZVRvU3ViamVjdChlKTp0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLnB1c2goZSl9Y29uc3VtZXJNZXNzYWdlSGFuZGxlcihlKXtpZighdGhpcy5pc0luaXRpYWxpemVkKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gcHJvY2VzcyBtZXNzYWdlIGZyb20gc3ViamVjdCBwcmlvciB0byBwcm94eSBiZWluZyBpbml0aWFsaXppbmcuIE1lc3NhZ2Ugbm90IHByb2Nlc3NlZCIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTplLmRhdGF9KTtjb25zdHtkYXRhOnR9PWU7aWYoISgidHlwZSJpbiB0KSlyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci53YXJuKCJVbmtub3duIGluYm91bmQgbWVzc2FnZSIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTp0fSk7Y29uc3Qgbj10O3RoaXMuaGFuZGxlTWVzc2FnZUZyb21TdWJqZWN0KG4pfWhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKXt0aGlzLmhhbmRsZURlZmF1bHRNZXNzYWdlRnJvbVN1YmplY3QoZSl9aGFuZGxlRGVmYXVsdE1lc3NhZ2VGcm9tU3ViamVjdChlKXtzd2l0Y2goZS50eXBlKXtjYXNlImFja25vd2xlZGdlIjp0aGlzLmhhbmRsZUNvbm5lY3Rpb25BY2tub3dsZWRnZShlKTticmVhaztjYXNlInJlc3BvbnNlIjp0aGlzLmhhbmRsZVJlc3BvbnNlKGUpO2JyZWFrO2Nhc2UicHVibGlzaCI6dGhpcy5oYW5kbGVQdWJsaXNoKGUpO2JyZWFrO2Nhc2UiZXJyb3IiOnRoaXMuaGFuZGxlRXJyb3IoZSk7YnJlYWs7Y2FzZSJjaGlsZERvd25zdHJlYW1NZXNzYWdlIjp0aGlzLmNoYW5uZWxNYW5hZ2VyLmhhbmRsZURvd25zdHJlYW1NZXNzYWdlKGUpO2JyZWFrO2Nhc2UiY2hpbGRDb25uZWN0aW9uQ2xvc2UiOnRoaXMuY2hhbm5lbE1hbmFnZXIuaGFuZGxlQ2xvc2VNZXNzYWdlKGUpO2JyZWFrO2Nhc2UiaGVhbHRoQ2hlY2tSZXNwb25zZSI6dGhpcy5oZWFsdGhDaGVjay5oYW5kbGVSZXNwb25zZShlKTticmVhaztkZWZhdWx0OnJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKCJVbmtub3duIGluYm91bmQgbWVzc2FnZSIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTplfSl9fWhhbmRsZUNvbm5lY3Rpb25BY2tub3dsZWRnZShlKXtmb3IodGhpcy5jb25uZWN0aW9uSWQ9ZS5jb25uZWN0aW9uSWQsdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6InJlYWR5Iixjb25uZWN0aW9uSWQ6ZS5jb25uZWN0aW9uSWR9KSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMDt0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLmxlbmd0aDspe2NvbnN0IGU9dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5zaGlmdCgpO3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSl9dGhpcy5oZWFsdGhDaGVjay5zdGFydChlKX1oYW5kbGVSZXNwb25zZShlKXt0aGlzLnJlcXVlc3RNYW5hZ2VyLnByb2Nlc3NSZXNwb25zZShlKX1oYW5kbGVQdWJsaXNoKGUpe2NvbnN0e2hhbmRsZXJJZDp0LHRvcGljOm59PWU7aWYodCl7Y29uc3Qgcj10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QnlJZChuLHQpO3ImJnRoaXMuaGFuZGxlQXN5bmNTdWJzY3JpcHRpb25IYW5kbGVySW52b2tlKHtoYW5kbGVyOnIsaGFuZGxlcklkOnR9LGUpfWVsc2UgdGhpcy5zdWJzY3JpcHRpb25zLmdldChuKS5tYXAoKHQ9Pnt0aGlzLmhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZSh0LGUpfSkpfWhhbmRsZUVycm9yKGUpe2lmKGUuaXNGYXRhbCl7Y29uc3R7bWVzc2FnZTp0LHR5cGU6bn09ZSxyPUEoZSxbIm1lc3NhZ2UiLCJ0eXBlIl0pO3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJlcnJvciIscmVhc29uOnQsZGV0YWlsczpyfSl9dGhpcy5wdWJsaXNoRXJyb3Ioe21lc3NhZ2U6ZS5tZXNzYWdlLGtleTplLmtleSxkZXRhaWxzOmUuZGV0YWlscyxpc0ZhdGFsOmUuaXNGYXRhbCxwcm94eVN0YXR1czplLnN0YXR1c30pfXB1Ymxpc2hFcnJvcihlKXtjb25zdCB0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7Y29ubmVjdGlvblN0YXR1czp0aGlzLmNvbm5lY3Rpb25TdGF0dXN9KTt0aGlzLmVycm9yU2VydmljZS5pbnZva2UodCl9aGFuZGxlQXN5bmNTdWJzY3JpcHRpb25IYW5kbGVySW52b2tlKGUsdCl7cmV0dXJuIHcodGhpcyxhcmd1bWVudHMsdm9pZCAwLChmdW5jdGlvbiooe2hhbmRsZXI6ZSxoYW5kbGVySWQ6dH0se3RvcGljOm4sZGF0YTpyfSl7dHJ5e3lpZWxkIGUocil9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdoZW4gaGFuZGxpbmcgc3Vic2NyaXB0aW9uIix7dG9waWM6bixlcnJvcjplLGhhbmRsZXJJZDp0fSl9fSkpfWdldCBjb25uZWN0aW9uU3RhdHVzKCl7cmV0dXJuIHRoaXMuc3RhdHVzLmdldFN0YXR1cygpfW9uRXJyb3IoZSl7dGhpcy5lcnJvclNlcnZpY2Uub25FcnJvcihlKX1vZmZFcnJvcihlKXt0aGlzLmVycm9yU2VydmljZS5vZmZFcnJvcihlKX1vbkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UoZSl7dGhpcy5zdGF0dXMub25DaGFuZ2UoZSl9b2ZmQ29ubmVjdGlvblN0YXR1c0NoYW5nZShlKXt0aGlzLnN0YXR1cy5vZmZDaGFuZ2UoZSl9b25IZWFsdGhDaGVja1N0YXR1c0NoYW5nZWQoZSl7dGhpcy5oZWFsdGhDaGVjay5vblN0YXR1c0NoYW5nZWQoZSl9b2ZmSGVhbHRoQ2hlY2tTdGF0dXNDaGFuZ2VkKGUpe3RoaXMuaGVhbHRoQ2hlY2sub2ZmU3RhdHVzQ2hhbmdlZChlKX1hZGRDaGlsZENoYW5uZWwoZSl7dGhpcy5hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl9YWRkQ2hpbGRJZnJhbWVDaGFubmVsKGUpe3RoaXMuY2hhbm5lbE1hbmFnZXIuYWRkQ2hhbm5lbChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3R5cGU6ImlmcmFtZSJ9KSl9YWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpe3RoaXMuY2hhbm5lbE1hbmFnZXIuYWRkQ2hhbm5lbChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3R5cGU6ImNvbXBvbmVudCJ9KSl9dXBkYXRlQ2hpbGRJZnJhbWVDaGFubmVsUG9ydChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLnVwZGF0ZUNoYW5uZWxQb3J0KGUpfXVwZGF0ZUNoaWxkQ2hhbm5lbFBvcnQoZSl7dGhpcy51cGRhdGVDaGlsZElmcmFtZUNoYW5uZWxQb3J0KGUpfWdldENvbm5lY3Rpb25JZCgpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25JZD9Qcm9taXNlLnJlc29sdmUodGhpcy5jb25uZWN0aW9uSWQpOm5ldyBQcm9taXNlKCgoZSx0KT0+e2xldCBuO2NvbnN0IHI9dD0+eyJyZWFkeSI9PT10LnN0YXR1cyYmKHRoaXMub2ZmQ29ubmVjdGlvblN0YXR1c0NoYW5nZShyKSxjbGVhckludGVydmFsKG4pLGUodC5jb25uZWN0aW9uSWQpKX07bj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMubG9nZ2VyLmVycm9yKCJUaW1lb3V0IGdldHRpbmcgY29ubmVjdGlvbiBpZCIpLHRoaXMub2ZmQ29ubmVjdGlvblN0YXR1c0NoYW5nZShyKSx0KG5ldyBFcnJvcigiVGltZW91dCBnZXR0aW5nIGNvbm5lY3Rpb25JZCIpKX0pLDFlNCksdGhpcy5vbkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2Uocil9KSl9cmVzZXRDb25uZWN0aW9uKGUpe3RoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkPSExLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJyZXNldCIscmVhc29uOmV9KTtjb25zdHtzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH09dGhpcy5yZXN0b3JlQWxsSGFuZGxlcigpO3RoaXMubG9nZ2VyLmluZm8oIlJlc2V0dGluZyBwcm94eSIse3JlYXNvbjplLHN1YnNjcmlwdGlvbkhhbmRsZXJDb3VudDp0fSl9cmVzdG9yZUFsbEhhbmRsZXIoKXt2YXIgZTtjb25zdCB0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXRBbGxTdWJzY3JpcHRpb25IYW5kbGVySWRzKCk7cmV0dXJuIG51bGw9PXR8fHQubWFwKCgoe3RvcGljOmUsaGFuZGxlcklkOnR9KT0+KHt0eXBlOiJzdWJzY3JpYmUiLHRvcGljOmUsbWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpLGhhbmRsZXJJZDp0fSkpKS5mb3JFYWNoKChlPT50aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKSkpLHtzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKSYmdm9pZCAwIT09ZT9lOi0xfX11bnN1YnNjcmliZUFsbEhhbmRsZXJzKCl7dmFyIGU7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpO3RoaXMubG9nZ2VyLmluZm8oIlVuc3Vic2NyaWJpbmcgYWxsIGhhbmRsZXJzIGZyb20gcHJveHkiLHtzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQubGVuZ3RoKSYmdm9pZCAwIT09ZT9lOi0xfSksbnVsbD09dHx8dC5tYXAoKCh7dG9waWM6ZX0pPT4oe3R5cGU6InVuc3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKX0pKSkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpKX19IWZ1bmN0aW9uKGUpe2VbZS50cmFjZT0xXT0idHJhY2UiLGVbZS5kZWJ1Zz0yXT0iZGVidWciLGVbZS5pbmZvPTNdPSJpbmZvIixlW2Uud2Fybj00XT0id2FybiIsZVtlLmVycm9yPTVdPSJlcnJvciJ9KEl8fChJPXt9KSk7Y2xhc3MgUntjb25zdHJ1Y3RvcihlKXt0aGlzLm1peGluPWV9Z2V0VHJhbnNmb3JtZWREYXRhKGUsdCl7cmV0dXJuIHRoaXMubWl4aW4/T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG51bGwhPXQ/dDp7fSksdGhpcy5taXhpbihudWxsIT10P3Q6e30sZSkpOnR9fWNsYXNzIE97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJveHk9bnVsbCx0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbD1udWxsLHRoaXMubG9nZ2VySWQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgVWludDhBcnJheShNYXRoLmNlaWwoZS8yKSk7cmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModCksQXJyYXkuZnJvbSh0LChlPT5lLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCIwIikpKS5qb2luKCIiKS5zdWJzdHJpbmcoMCxlKX0oOCksInN0cmluZyI9PXR5cGVvZiBlPyh0aGlzLnNvdXJjZT1lLHRoaXMuZGF0YVRyYW5zZm9ybWVyPW5ldyBSKHZvaWQgMCkpOih0aGlzLnNvdXJjZT1lLnNvdXJjZSxlLnByb3ZpZGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5wcm92aWRlcj90aGlzLnByb3ZpZGVyRmFjdG9yeT1lLnByb3ZpZGVyOnRoaXMucHJvdmlkZXI9ZS5wcm92aWRlcix0aGlzLmRhdGFUcmFuc2Zvcm1lcj1uZXcgUihlLm1peGluKSx0aGlzLmxvZ09wdGlvbnM9ZS5vcHRpb25zKX10cmFjZShlLHQsbil7dGhpcy5sb2coSS50cmFjZSxlLHQsbil9ZGVidWcoZSx0LG4pe3RoaXMubG9nKEkuZGVidWcsZSx0LG4pfWluZm8oZSx0LG4pe3RoaXMubG9nKEkuaW5mbyxlLHQsbil9d2FybihlLHQsbil7dGhpcy5sb2coSS53YXJuLGUsdCxuKX1lcnJvcihlLHQsbil7dGhpcy5sb2coSS5lcnJvcixlLHQsbil9bG9nKGUsdCxuLHIpe2NvbnN0IG89dGhpcy5kYXRhVHJhbnNmb3JtZXIuZ2V0VHJhbnNmb3JtZWREYXRhKGUsbik7dGhpcy5pZ25vcmVSZW1vdGUocil8fHRoaXMuZ2V0UHJveHkoKS5sb2coe2xldmVsOmUsc291cmNlOnRoaXMuc291cmNlLGxvZ2dlcklkOnRoaXMubG9nZ2VySWQsbWVzc2FnZTp0LGRhdGE6b30pLHRoaXMuYXBwbHlEdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlKGUscikmJmZ1bmN0aW9uKGUsdCxuKXtpZihuKXN3aXRjaChlKXtjYXNlIEkuZXJyb3I6Y29uc29sZS5lcnJvcih0LG4pO2JyZWFrO2Nhc2UgSS53YXJuOmNvbnNvbGUud2Fybih0LG4pO2JyZWFrO2Nhc2UgSS5pbmZvOmNvbnNvbGUuaW5mbyh0LG4pO2JyZWFrO2Nhc2UgSS5kZWJ1Zzpjb25zb2xlLmRlYnVnKHQsbik7YnJlYWs7Y2FzZSBJLnRyYWNlOmNvbnNvbGUudHJhY2UodCxuKTticmVhaztkZWZhdWx0OmNvbnNvbGUubG9nKHQsbil9ZWxzZSBzd2l0Y2goZSl7Y2FzZSBJLmVycm9yOmNvbnNvbGUuZXJyb3IodCk7YnJlYWs7Y2FzZSBJLndhcm46Y29uc29sZS53YXJuKHQpO2JyZWFrO2Nhc2UgSS5pbmZvOmNvbnNvbGUuaW5mbyh0KTticmVhaztjYXNlIEkuZGVidWc6Y29uc29sZS5kZWJ1Zyh0KTticmVhaztjYXNlIEkudHJhY2U6Y29uc29sZS50cmFjZSh0KTticmVhaztkZWZhdWx0OmNvbnNvbGUubG9nKHQpfX0oZSx0LG8pfWdldFByb3ZpZGVyKCl7cmV0dXJuIHRoaXMucHJvdmlkZXJ8fCh0aGlzLnByb3ZpZGVyPXRoaXMucHJvdmlkZXJGYWN0b3J5P3RoaXMucHJvdmlkZXJGYWN0b3J5KCk6bygpKSx0aGlzLnByb3ZpZGVyfWdldFByb3h5KCl7cmV0dXJuIHRoaXMuX3Byb3h5fHwodGhpcy5fcHJveHk9dGhpcy5nZXRQcm92aWRlcigpLmdldFByb3h5KCkpLHRoaXMuX3Byb3h5fWFwcGx5RHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZShlLHQpe3JldHVybihudWxsPT10P3ZvaWQgMDp0LmR1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGUpfHx0aGlzLmdldExvZ0NvbnNvbGVMZXZlbCgpPD1lfWdldExvZ0NvbnNvbGVMZXZlbCgpe3ZhciBlLHQsbixyO3JldHVybiB0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbHx8KHRoaXMuX2xvZ1RvQ29uc29sZUxldmVsPShudWxsPT09KGU9dGhpcy5sb2dPcHRpb25zKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5taW5Mb2dUb0NvbnNvbGVMZXZlbE92ZXJyaWRlKT90aGlzLmxvZ09wdGlvbnMubWluTG9nVG9Db25zb2xlTGV2ZWxPdmVycmlkZTpudWxsIT09KHI9bnVsbD09PShuPW51bGw9PT0odD10aGlzLmdldFByb3ZpZGVyKCkuY29uZmlnKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sb2dnaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5taW5Mb2dUb0NvbnNvbGVMZXZlbCkmJnZvaWQgMCE9PXI/cjpJLmVycm9yKSx0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbH1pZ25vcmVSZW1vdGUoZSl7dmFyIHQsbixyO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMubG9nT3B0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVtb3RlSWdub3JlKSYmdm9pZCAwIT09biYmbnx8bnVsbCE9PShyPW51bGw9PWU/dm9pZCAwOmUucmVtb3RlSWdub3JlKSYmdm9pZCAwIT09ciYmcn19Y2xhc3MgTHtjb25zdHJ1Y3Rvcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OnR9KXtpZih0aGlzLl9pZD11KCksIXQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gZ2V0IFByb3h5IGJlZm9yZSBzZXR0aW5nIHVwIGZhY3RvcnkiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBpbmNsdWRlIGNvbmZpZyIpO3RoaXMucHJveHlGYWN0b3J5PXQsdGhpcy5fY29uZmlnPWV9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2lkfWdldFByb3h5KCl7cmV0dXJuIHRoaXMucHJveHl8fCh0aGlzLnByb3h5PXRoaXMucHJveHlGYWN0b3J5KHRoaXMpLHRoaXMucHJveHkuaW5pdCgpKSx0aGlzLnByb3h5fWdldCBjb25maWcoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0aGlzLl9jb25maWcpfW9uRXJyb3IoZSl7dGhpcy5nZXRQcm94eSgpLm9uRXJyb3IoZSl9b2ZmRXJyb3IoZSl7dGhpcy5nZXRQcm94eSgpLm9mZkVycm9yKGUpfXN0YXRpYyBpbml0aWFsaXplUHJvdmlkZXIoZSl7aWYodGhpcy5pc0luaXRpYWxpemVkKXtjb25zdCBlPSJBdHRlbXB0ZWQgdG8gaW5pdGlhbGl6ZSBwcm92aWRlciBtb3JlIHRoYW4gb25lIHRpbWUuIix0PXt9O3RyeXtjb25zdCB0PW8oKTtuZXcgTyh7c291cmNlOiJjb3JlLmFtYXpvbkNvbm5lY3RQcm92aWRlci5pbml0Iixwcm92aWRlcjp0fSkuZXJyb3IoZSl9Y2F0Y2goZSl7dC5sb2dnaW5nRXJyb3I9bnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlfXRocm93IG5ldyBpKHtlcnJvcktleToiYXR0ZW1wdEluaXRpYWxpemVNdWx0aXBsZVByb3ZpZGVycyIscmVhc29uOmUsZGV0YWlsczp0fSl9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHIpdGhyb3cgbmV3IEVycm9yKCJHbG9iYWwgUHJvdmlkZXIgaXMgYWxyZWFkeSBzZXQiKTtyPWV9KGUpLHRoaXMuaXNJbml0aWFsaXplZD0hMCxlLmdldFByb3h5KCksZX19TC5pc0luaXRpYWxpemVkPSExO2NsYXNzIGsgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5pbnN0YW5jZVVybD12b2lkIDAhPT10P3Q6ZS5jb25maWcuaW5zdGFuY2VVcmwsdGhpcy5wb3N0TWVzc2FnZUhhbmRsZXI9dGhpcy5saXN0ZW5Gb3JJbml0aWFsTWVzc2FnZS5iaW5kKHRoaXMpLHRoaXMucHJveHlMb2dnZXI9bmV3IE8oe3NvdXJjZToic2l0ZVByb3h5Iixwcm92aWRlcjplfSl9aW5pdFByb3h5KCl7dGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6ImNvbm5lY3RpbmcifSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHRoaXMucG9zdE1lc3NhZ2VIYW5kbGVyKX1yZXNldENvbm5lY3Rpb24oZSl7c3VwZXIucmVzZXRDb25uZWN0aW9uKGUpLHRoaXMubWVzc2FnZVBvcnQ9dm9pZCAwLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJjb25uZWN0aW5nIn0pfXNlbmRNZXNzYWdlVG9TdWJqZWN0KGUpe3RoaXMubWVzc2FnZVBvcnQ/dGhpcy5tZXNzYWdlUG9ydC5wb3N0TWVzc2FnZShlKTp0aGlzLnByb3h5TG9nZ2VyLmVycm9yKCJGYWlsZWQgdG8gc2VuZCBVcHN0cmVhbU1lc3NhZ2UuIE1lc3NhZ2VQb3J0IG5vdCBzZXQiLHttZXNzYWdlVHlwZTplLnR5cGV9KX1hZGRDb250ZXh0VG9Mb2dnZXIoKXtyZXR1cm57fX1saXN0ZW5Gb3JJbml0aWFsTWVzc2FnZShlKXtpZih0aGlzLnZlcmlmeU9yaWdpbihlKSYmdGhpcy52ZXJpZnlFdmVudFNvdXJjZShlKSl7aWYoImNyb3NzLWRvbWFpbi1hZGFwdGVyLWluaXQiIT09ZS5kYXRhLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5pbnZhbGlkSW5pdE1lc3NhZ2VIYW5kbGVyKGUuZGF0YSk7aWYodGhpcy5tZXNzYWdlUG9ydCYmKHRoaXMucmVzZXRDb25uZWN0aW9uKCJTdWJzZXF1ZW50IE1lc3NhZ2UgUG9ydCBEZXRlY3RlZCIpLHRoaXMucHJveHlMb2dnZXIuaW5mbygiU3Vic2VxdWVudCBtZXNzYWdlIHBvcnQgcmVjZWl2ZWQuIFJlc2V0dGluZyBjb25uZWN0aW9uIikpLHRoaXMubWVzc2FnZVBvcnQ9ZS5wb3J0c1swXSwhdGhpcy5tZXNzYWdlUG9ydCl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UgcG9ydCBub3QgcHJvdmlkZWQgYnkgaWZyYW1lIik7dGhpcy5tZXNzYWdlUG9ydC5vbm1lc3NhZ2U9dGhpcy5jb25zdW1lck1lc3NhZ2VIYW5kbGVyLmJpbmQodGhpcyksdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6ImluaXRpYWxpemluZyJ9KSx0aGlzLm1lc3NhZ2VQb3J0LnBvc3RNZXNzYWdlKHt0eXBlOiJjcm9zcy1kb21haW4tc2l0ZS1yZWFkeSIscHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkfSksdGhpcy5wcm94eUxvZ2dlci5kZWJ1ZygiQ0RBIFBvc3QgbWVzc2FnZSBoYW5kbGVyIHJlbW92ZWQiKX19dmVyaWZ5T3JpZ2luKGUpe2NvbnN0IHQ9ZS5vcmlnaW47aWYoIXQpcmV0dXJuIHRoaXMucHJveHlMb2dnZXIud2FybigiTm8gb3JpZ2luIHByb3ZpZGVkIGluIGV2ZW50LiBJZ25vcmluZyBldmVudC4iKSwhMTtsZXQgbjt0cnl7bj1uZXcgVVJMKHRoaXMuaW5zdGFuY2VVcmwpLm9yaWdpbn1jYXRjaChlKXtyZXR1cm4gdGhpcy5wcm94eUxvZ2dlci5lcnJvcigiVW5hYmxlIHRvIHBhcnNlIGV4cGVjdGVkIG9yaWdpbiBmcm9tIGluc3RhbmNlVXJsLiBDYW5ub3QgbWF0Y2giLHtlcnJvcjplLGV2ZW50T3JpZ2luOnQsaW5zdGFuY2VVcmw6dGhpcy5pbnN0YW5jZVVybH0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITB9KSwhMX1yZXR1cm4gdD09PW58fCgiY3Jvc3MtZG9tYWluLWFkYXB0ZXItaW5pdCI9PT1lLmRhdGEudHlwZSYmdGhpcy5wcm94eUxvZ2dlci53YXJuKCJPcmlnaW4gb2YgbWVzc2FnZSB3aXRoIHR5cGUgJ2Nyb3NzLWRvbWFpbi1hZGFwdGVyLWluaXQnIGRpZCBub3QgZXhwZWN0ZWQgaW5zdGFuY2UgdmFsdWUuIElnbm9yaW5nIix7ZXhwZWN0ZWRPcmlnaW46bixldmVudE9yaWdpbjp0fSx7ZHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZTohMH0pLCExKX19Y2xhc3MgTiBleHRlbmRzIGt7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jY3BJRnJhbWU9bnVsbCx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ9MH1nZXQgcHJveHlUeXBlKCl7cmV0dXJuInN0cmVhbXMtc2l0ZSJ9c2V0Q0NQSWZyYW1lKGUpe2NvbnN0IHQ9Qm9vbGVhbih0aGlzLmNjcElGcmFtZSk7dGhpcy5jY3BJRnJhbWU9ZSx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ9MCx0JiZ0aGlzLnJlc2V0Q29ubmVjdGlvbigiQ0NQIElGcmFtZSBVcGRhdGVkIil9Z2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe190eXBlOiJzdHJlYW1zLXNpdGUiLHByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZH0sbCgpKX12ZXJpZnlFdmVudFNvdXJjZShlKXtjb25zdCB0PXRoaXMuY2NwSUZyYW1lO2lmKCF0KXJldHVybiB0aGlzLnByb3h5TG9nZ2VyLmVycm9yKCJDQ1AgSWZyYW1lIG5vdCBwcm92aWRlZCB0byBwcm94eS4gVW5hYmxlIHRvIHZlcmlmeSBldmVudCB0byBDb25uZWN0IHRvIENDUC4iLHtvcmlnaW46ZS5vcmlnaW59KSwhMTtjb25zdCBuPWUuc291cmNlPT09dC5jb250ZW50V2luZG93O3JldHVybiBufHwodGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50KyssdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PDUmJnRoaXMucHJveHlMb2dnZXIud2FybigiTWVzc2FnZSBjYW1lIGZyb20gdW5leHBlY3RlZCBpZnJhbWUuIE5vdCBhIHZhbGlkIENDUC4gV2lsbCBub3QgY29ubmVjdCIse29yaWdpbjplLm9yaWdpbix1bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50OnRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudH0pKSxufWludmFsaWRJbml0TWVzc2FnZUhhbmRsZXIoKXt9fWNsYXNzIFAgZXh0ZW5kcyBMe2NvbnN0cnVjdG9yKGUpe3N1cGVyKHtjb25maWc6ZSxwcm94eUZhY3Rvcnk6ZT0+bmV3IE4oZSl9KX1zdGF0aWMgaW5pdChlKXtjb25zdCB0PW5ldyBQKGUpO3JldHVybiBQLmluaXRpYWxpemVQcm92aWRlcih0KSx7cHJvdmlkZXI6dH19c3RhdGljIGdldCBkZWZhdWx0KCl7cmV0dXJuIG8oIkFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKX1zZXRDQ1BJZnJhbWUoZSl7dGhpcy5nZXRQcm94eSgpLnNldENDUElmcmFtZShlKX19IWZ1bmN0aW9uKGUpe2UuUHJpbWFyeT0icHJpbWFyeSIsZS5TZWNvbmRhcnk9InNlY29uZGFyeSJ9KFR8fChUPXt9KSk7Y2xhc3MgRCBleHRlbmRzIGt7Y29uc3RydWN0b3Ioe3Byb3ZpZGVyOmUscmVnaW9uOnQsZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luOm4scmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eTpyfSl7c3VwZXIoZSx0PT09VC5QcmltYXJ5P2UuY29uZmlnLnByaW1hcnlJbnN0YW5jZVVybDplLmNvbmZpZy5zZWNvbmRhcnlJbnN0YW5jZVVybCksdGhpcy5nZXRQYXJlbnRVcHN0cmVhbU1lc3NhZ2VPcmlnaW49bix0aGlzLnJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk9cix0aGlzLmNjcElGcmFtZT1udWxsLHRoaXMucmVnaW9uPXQsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTB9Z2V0IHByb3h5VHlwZSgpe3JldHVybiJhY2dyLXJlZ2lvbmFsLXByb3h5In1zZXRDQ1BJZnJhbWUoZSl7Y29uc3QgdD1Cb29sZWFuKHRoaXMuY2NwSUZyYW1lKTt0aGlzLmNjcElGcmFtZT1lLHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudD0wLHQmJnRoaXMucmVzZXRDb25uZWN0aW9uKCJDQ1AgSUZyYW1lIFVwZGF0ZWQiKX1oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJyZXNwb25zZSI6Y2FzZSJwdWJsaXNoIjpjYXNlImVycm9yIjp0aGlzLnJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHkoZSk7YnJlYWs7ZGVmYXVsdDpzdXBlci5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QoZSl9fWdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpe3JldHVybiB0aGlzLmdldFBhcmVudFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfXZlcmlmeUV2ZW50U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5jY3BJRnJhbWU7aWYoIXQpcmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIkNDUCBJZnJhbWUgbm90IHByb3ZpZGVkIHRvIHByb3h5LiBVbmFibGUgdG8gdmVyaWZ5IGV2ZW50IHRvIENvbm5lY3QgdG8gQ0NQLiIse29yaWdpbjplLm9yaWdpbn0pLCExO2NvbnN0IG49ZS5zb3VyY2U9PT10LmNvbnRlbnRXaW5kb3c7cmV0dXJuIG58fCh0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQrKyx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ8NSYmdGhpcy5wcm94eUxvZ2dlci53YXJuKCJNZXNzYWdlIGNhbWUgZnJvbSB1bmV4cGVjdGVkIGlmcmFtZS4gTm90IGEgdmFsaWQgQ0NQLiBXaWxsIG5vdCBjb25uZWN0Iix7b3JpZ2luOmUub3JpZ2luLHVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ6dGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50fSkpLG59c2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpe3N1cGVyLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1pbnZhbGlkSW5pdE1lc3NhZ2VIYW5kbGVyKCl7fX1mdW5jdGlvbiB4KGUpe2NvbnN0IHQ9T2JqZWN0LnZhbHVlcyhUKTtpZighdC5pbmNsdWRlcyhlKSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVnaW9uOiAke2V9LiBWYWxpZCByZWdpb25zIGFyZTogJHt0LmpvaW4oIiwgIil9YCl9Y2xhc3MgTSBleHRlbmRzIF97Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5hY3RpdmVSZWdpb249VC5QcmltYXJ5LHRoaXMucmVnaW9uUHJveGllcz17W1QuUHJpbWFyeV06bmV3IEQoe3Byb3ZpZGVyOmUscmVnaW9uOlQuUHJpbWFyeSxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4uYmluZCh0aGlzKSxyZWxheVRvR2xvYmFsUmVzaWxpZW5jeVByb3h5OnRoaXMuaGFuZGxlTWVzc2FnZUZyb21TdWJqZWN0LmJpbmQodGhpcyl9KSxbVC5TZWNvbmRhcnldOm5ldyBEKHtwcm92aWRlcjplLHJlZ2lvbjpULlNlY29uZGFyeSxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4uYmluZCh0aGlzKSxyZWxheVRvR2xvYmFsUmVzaWxpZW5jeVByb3h5OnRoaXMuaGFuZGxlTWVzc2FnZUZyb21TdWJqZWN0LmJpbmQodGhpcyl9KX0sdGhpcy5wcm94eUxvZ2dlcj1uZXcgTyh7c291cmNlOiJnbG9iYWxSZXNpbGllbmN5UHJveHkiLHByb3ZpZGVyOmV9KX1pbml0UHJveHkoKXtPYmplY3QudmFsdWVzKHRoaXMucmVnaW9uUHJveGllcykuZm9yRWFjaCgoZT0+ZS5pbml0KCkpKX1zZXRDQ1BJZnJhbWUoe2lmcmFtZTplLHJlZ2lvbjp0fSl7eCh0KSx0aGlzLnJlZ2lvblByb3hpZXNbdF0uc2V0Q0NQSWZyYW1lKGUpfXNldEFjdGl2ZVJlZ2lvbihlKXtpZih4KGUpLGUhPT10aGlzLmFjdGl2ZVJlZ2lvbil7Y29uc3QgdD10aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLG49dGhpcy5yZWdpb25Qcm94aWVzW2VdO3RoaXMudW5zdWJzY3JpYmVBbGxIYW5kbGVycygpLHRoaXMucHJveHlMb2dnZXIuaW5mbygiQWN0aXZlIHJlZ2lvbiBjaGFuZ2VkIix7Y3VycmVudDplLGluc3RhbmNlVXJsOm4uaW5zdGFuY2VVcmwscHJldmlvdXNJbnN0YW5jZVVybDp0Lmluc3RhbmNlVXJsfSksdGhpcy5hY3RpdmVSZWdpb249ZSx0aGlzLnJlc3RvcmVBbGxIYW5kbGVyKCk7Y29uc3Qgcj10aGlzLnN0YXR1cy5nZXRTdGF0dXMoKSxvPW4uY29ubmVjdGlvblN0YXR1cztzd2l0Y2gobyl7Y2FzZSJyZWFkeSI6dGhpcy5wcm94eUxvZ2dlci5pbmZvKCJBY3RpdmUgcmVnaW9uIGlzIHJlYWR5Iix7YWN0aXZlUmVnaW9uU3RhdHVzOm99KSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVhZHkiLGNvbm5lY3Rpb25JZDpuLmNvbm5lY3Rpb25JZH0pO2JyZWFrO2Nhc2UiY29ubmVjdGluZyI6Y2FzZSJpbml0aWFsaXppbmciOnIhPT1vJiZ0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czpvfSk7YnJlYWs7Y2FzZSJlcnJvciI6ciE9PW8mJnRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJlcnJvciIscmVhc29uOiJuZXcgYWN0aXZlIHJlZ2lvbiBpbiBlcnJvciBvbiB0cmFuc2l0aW9uIixkZXRhaWxzOntyZWdpb246dGhpcy5hY3RpdmVSZWdpb259fSl9fX1nZXQgcHJveHlUeXBlKCl7cmV0dXJuImdsb2JhbC1yZXNpbGllbmN5LXByb3h5In1zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl9YWRkQ29udGV4dFRvTG9nZ2VyKCl7cmV0dXJue2FjdGl2ZVJlZ2lvbjp0aGlzLmFjdGl2ZVJlZ2lvbn19c2VuZE1lc3NhZ2VUb1N1YmplY3QoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl9Z2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7X3R5cGU6Imdsb2JhbC1yZXNpbGllbmN5LXN0cmVhbXMtc2l0ZSIscHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkfSxsKCkpLHthY3RpdmVSZWdpb246dGhpcy5hY3RpdmVSZWdpb259KX1hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS5hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl9YWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpe3RoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0uYWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS51cGRhdGVDaGlsZElmcmFtZUNoYW5uZWxQb3J0KGUpfX1jbGFzcyBVIGV4dGVuZHMgTHtjb25zdHJ1Y3RvcihlKXtzdXBlcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OmU9Pm5ldyBNKGUpfSl9c3RhdGljIGluaXQoZSl7Y29uc3QgdD1uZXcgVShlKTtyZXR1cm4gVS5pbml0aWFsaXplUHJvdmlkZXIodCkse3Byb3ZpZGVyOnR9fXN0YXRpYyBnZXQgZGVmYXVsdCgpe3JldHVybiBvKCJBbWF6b25Db25uZWN0R1JTdHJlYW1zU2l0ZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKX1zZXRDQ1BJZnJhbWUoZSl7dGhpcy5nZXRQcm94eSgpLnNldENDUElmcmFtZShlKX1zZXRBY3RpdmVSZWdpb24oZSl7dGhpcy5nZXRQcm94eSgpLnNldEFjdGl2ZVJlZ2lvbihlKX19fSw4MjU6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0LmFnZW50QXBwPXt9O3ZhciBuPXtDQ1A6ImNjcCIsR1VJREVTOiJjdXN0b212aWV3cyJ9O3QuYWdlbnRBcHAuaW5pdENDUD10LmNvcmUuaW5pdENDUCx0LmFnZW50QXBwLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7fSx0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSksbz1uZXcgdC5JRnJhbWVDb25kdWl0KG4sd2luZG93LHIpLGk9W3QuQWdlbnRFdmVudHMuVVBEQVRFLHQuQ29udGFjdEV2ZW50cy5WSUVXLHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsdC5UYXNrRXZlbnRzLkNSRUFURUQsdC5FbWFpbEV2ZW50cy5DUkVBVEVEXTtyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24odCl7by5zZW5kVXBzdHJlYW0oZSx0KX0pKX0pKX0pKX07dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCJjY3AtdjIiKTtyZXR1cm4gZS5zbGljZSgwLHQtMSl9LG89ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlO3RyeXtyZXR1cm4gZS5nZXRDb250YWN0SWQoKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJbQ3VzdG9tVmlld3NdOiBJbnZhbGlkIENvbnRhY3QgUHJvdmlkZWQ6ICIsZSl9fTt0LmFnZW50QXBwLmluaXRBcHA9ZnVuY3Rpb24oZSxpLGEscyl7cz1zfHx7fTt2YXIgYyx1PWEuZW5kc1dpdGgoIi8iKXx8L1s/Jl0/W149PyZdKz1bXj0/Jl0rL2cudGVzdChhKT9hOmErIi8iLGw9cy5vbkxvYWQ/cy5vbkxvYWQ6bnVsbCxwPXtlbmRwb2ludDp1LHN0eWxlOnMuc3R5bGUsb25Mb2FkOmx9O2lmKGU9PT1uLkNDUF9EUiljPW4uQ0NQO2Vsc2UgaWYoZT09PW4uR1VJREVTJiZzLmN1c3RvbVZpZXdzUGFyYW1zKXt2YXIgZD1zLmN1c3RvbVZpZXdzUGFyYW1zLmlmcmFtZVN1ZmZpeDtpZihjPWQ/IiIuY29uY2F0KG4uR1VJREVTKS5jb25jYXQoZCk6IiIuY29uY2F0KG4uR1VJREVTKSx2b2lkIDAhPT10LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmdldChjKSl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c106IEN1c3RvbSB2aWV3cyBhcHBsaWNhdGlvbiB3aXRoIHRoZSBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSBwcm92aWRlIGEgZGlmZmVyZW50IGlmcmFtZVN1ZmZpeCBmb3IgdGhlIGN1c3RvbSB2aWV3cyBhcHBsaWNhdGlvbi4iKX1lbHNlIGM9ZTt2YXIgaD0ic3RyaW5nIj09dHlwZW9mIGk/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSk6aTt0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnJlZ2lzdGVyKGMscCxoKSx0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnN0YXJ0KGMsKGZ1bmN0aW9uKGkpe3ZhciBhPWkuZW5kcG9pbnQsdT1pLmNvbnRhaW5lckRPTTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe3N3aXRjaChlKXtjYXNlIG4uQ0NQOnJldHVybiBzLmNjcFBhcmFtcz1zLmNjcFBhcmFtcz9zLmNjcFBhcmFtczp7fSxzLnN0eWxlJiYocy5jY3BQYXJhbXMuc3R5bGU9cy5zdHlsZSksZnVuY3Rpb24oZSxuLG8pe3ZhciBpPXtjY3BVcmw6ZSxjY3BMb2FkVGltZW91dDoxZTQsbG9naW5Qb3B1cDohMCxsb2dpblVybDpyKGUpKyIvbG9naW4iLHNvZnRwaG9uZTp7YWxsb3dGcmFtZWRTb2Z0cGhvbmU6ITAsZGlzYWJsZVJpbmd0b25lOiExLGFsbG93RnJhbWVkVmlkZW9DYWxsOiEwLGFsbG93RnJhbWVkU2NyZWVuU2hhcmluZzohMCxhbGxvd0ZyYW1lZFNjcmVlblNoYXJpbmdQb3BVcDohMX19LGE9dC5tZXJnZShpLG8uY2NwUGFyYW1zKTt0LmNvcmUuaW5pdENDUChuLGEpfShhLHUscyk7Y2FzZSBuLkdVSURFUzpyZXR1cm4gdm9pZCAwIT09cy5jdXN0b21WaWV3c1BhcmFtcz8odC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSksZnVuY3Rpb24oZSxyLGkpe3ZhciBhLHMsYz1pLmN1c3RvbVZpZXdzUGFyYW1zLHU9Yy5jb250YWN0LGw9Yy5kaXNhYmxlQXV0b0Rlc3Ryb3kscD1jLmlmcmFtZVN1ZmZpeCxkPWMudGVybWluYXRlQ3VzdG9tVmlld09wdGlvbnMsaD12b2lkIDA9PT1kP3t9OmQsZj1pLmN1c3RvbVZpZXdzUGFyYW1zLmNvbnRhY3RGbG93SWQ7dm9pZCAwIT09dSYmKChhPW8odSkpJiYhMCE9PWwmJiJzdHJpbmciIT10eXBlb2YgdSYmdS5vbkRlc3Ryb3koKGZ1bmN0aW9uKG4pe3QuY29yZS50ZXJtaW5hdGVDdXN0b21WaWV3KGUscCx7dGltZW91dDpoLnRpbWVvdXR8fDVlMyxoaWRlSWZyYW1lOnZvaWQgMD09PWguaGlkZUlmcmFtZXx8aC5oaWRlSWZyYW1lLHJlc29sdmVJZnJhbWU6dm9pZCAwPT09aC5yZXNvbHZlSWZyYW1lfHxoLnJlc29sdmVJZnJhbWV9KX0pKSxmfHxjb25zb2xlLndhcm4oIltDdXN0b21WaWV3c106IE5lZWQgdG8gcHJvdmlkZSBhIGNvbnRhY3RGbG93SWQgd2hlbiBkZWZpbmluZyBjb250YWN0IHBhcmFtZXRlciBmb3IgaW5pdGFsaXppbmcgY3VzdG9tdmlld3MgYXBwbGljYXRpb24iKSkscz1wPyIiLmNvbmNhdChuLkdVSURFUykuY29uY2F0KHApOiIiLmNvbmNhdChuLkdVSURFUyk7dmFyIGc9ImlmcmFtZVtpZD0nIi5jb25jYXQocywiJ10iKSxtPShudWxsPT1yP3ZvaWQgMDpyLnF1ZXJ5U2VsZWN0b3IoZykpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKXx8d2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKTtpZighbSl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c106IE5vIGlmcmFtZSBmb3VuZCBmb3IgdGhlIGFwcDogIixzKTt2YXIgdj1BV1MudXRpbC51dWlkLnY0KCk7YT9tLnNyYz0iIi5jb25jYXQoZSwiP2NvbnRhY3RGbG93SWQ9IikuY29uY2F0KGYsIiZjdXJyZW50Q29udGFjdElkPSIpLmNvbmNhdChhLCImYWdlbnRBcHBUYWJJZD0iKS5jb25jYXQodiwiLXRhYiIpOmYmJihtLnNyYz0iIi5jb25jYXQoZSwiP2NvbnRhY3RGbG93SWQ9IikuY29uY2F0KGYsIiZhZ2VudEFwcFRhYklkPSIpLmNvbmNhdCh2LCItdGFiIikpfShhLHUscykpOnQuYWdlbnRBcHAuaW5pdEFwcENvbW11bmljYXRpb24oYyxhLHUpO2RlZmF1bHQ6cmV0dXJuIHQuYWdlbnRBcHAuaW5pdEFwcENvbW11bmljYXRpb24oYyxhLHUpfX0sZGVzdHJveTpmdW5jdGlvbigpe3N3aXRjaChlKXtjYXNlIG4uQ0NQOnJldHVybiBpPXIoYSkrIi9sb2dvdXQiLHQuZmV0Y2goaSx7Y3JlZGVudGlhbHM6ImluY2x1ZGUifSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5URVJNSU5BVEUpLCEwfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRMb2coKS5lcnJvcigiQW4gZXJyb3Igb2NjdXJlZCBvbiBsb2dvdXQuIitlKS53aXRoRXhjZXB0aW9uKGUpLHdpbmRvdy5sb2NhdGlvbi5ocmVmPWksITF9KSk7Y2FzZSBuLkdVSURFUzpyZXR1cm4gdm9pZCAwIT09cy5jdXN0b21WaWV3c1BhcmFtcz8obz1jLHZvaWQgdC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5kZWxldGUobykpOm51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH12YXIgbyxpfX19KSl9LHQuYWdlbnRBcHAuc3RvcEFwcD1mdW5jdGlvbihlKXtyZXR1cm4gdC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5zdG9wKGUpfX0oKX0sOTYxOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQ7dmFyIG4scj0iY2NwIjtlLmNvbm5lY3QuYWdlbnRBcHAuQXBwUmVnaXN0cnk9KG49e30se3JlZ2lzdGVyOmZ1bmN0aW9uKGUsdCxyKXtuW2VdPXtjb250YWluZXJET006cixlbmRwb2ludDp0LmVuZHBvaW50LHN0eWxlOnQuc3R5bGUsaW5zdGFuY2U6dm9pZCAwLG9uTG9hZDp0Lm9uTG9hZH19LHN0YXJ0OmZ1bmN0aW9uKGUsdCl7aWYobltlXSl7dmFyIG89bltlXS5jb250YWluZXJET00saT1uW2VdLmVuZHBvaW50LGE9bltlXS5zdHlsZSxzPW5bZV0ub25Mb2FkO2lmKGUhPT1yKXt2YXIgYz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtyZXR1cm4gby5zcmM9dCxvLnN0eWxlPW58fCJ3aWR0aDogMTAwJTsgaGVpZ2h0OjEwMCU7IixvLmlkPWUsb1siYXJpYS1sYWJlbCJdPWUsby5vbmxvYWQ9cixvLmFsbG93PSJjbGlwYm9hcmQtcmVhZDsgY2xpcGJvYXJkLXdyaXRlIixvLnNldEF0dHJpYnV0ZSgic2FuZGJveCIsImFsbG93LWZvcm1zIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyIpLG99KGUsaSxhLHMpO28uYXBwZW5kQ2hpbGQoYyl9cmV0dXJuIG5bZV0uaW5zdGFuY2U9dChuW2VdKSxuW2VdLmluc3RhbmNlLmluaXQoKX19LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0sZGVsZXRlOmZ1bmN0aW9uKGUpe2RlbGV0ZSBuW2VdfSxzdG9wOmZ1bmN0aW9uKGUpe2lmKG5bZV0pe3ZhciB0LHI9bltlXSxvPXIuY29udGFpbmVyRE9NLnF1ZXJ5U2VsZWN0b3IoImlmcmFtZSIpO2lmKGUuaW5jbHVkZXMoImN1c3RvbXZpZXdzIikpe3ZhciBpPSJpZnJhbWVbaWQ9JyIuY29uY2F0KGUsIiddIik7bz1yLmNvbnRhaW5lckRPTS5xdWVyeVNlbGVjdG9yKGkpfXJldHVybiByLmNvbnRhaW5lckRPTS5yZW1vdmVDaGlsZChvKSxyLmluc3RhbmNlJiYodD1yLmluc3RhbmNlLmRlc3Ryb3koKSxkZWxldGUgci5pbnN0YW5jZSksdH19fSl9KCl9LDYxMDooKT0+e2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHQodCl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/ZShPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3AodCxlLHJbZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmUoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gbihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGwhPW4pe3ZhciByLG8saSxhLHM9W10sYz0hMCx1PSExO3RyeXtpZihpPShuPW4uY2FsbChlKSkubmV4dCwwPT09dCl7aWYoT2JqZWN0KG4pIT09bilyZXR1cm47Yz0hMX1lbHNlIGZvcig7IShjPShyPWkuY2FsbChuKSkuZG9uZSkmJihzLnB1c2goci52YWx1ZSkscy5sZW5ndGghPT10KTtjPSEwKTt9Y2F0Y2goZSl7dT0hMCxvPWV9ZmluYWxseXt0cnl7aWYoIWMmJm51bGwhPW4ucmV0dXJuJiYoYT1uLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKHUpdGhyb3cgb319cmV0dXJuIHN9fShlLHQpfHxzKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiByKGUpe3JldHVybiByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxyKGUpfWZ1bmN0aW9uIG8oKXsidXNlIHN0cmljdCI7bz1mdW5jdGlvbigpe3JldHVybiB0fTt2YXIgZSx0PXt9LG49T2JqZWN0LnByb3RvdHlwZSxpPW4uaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2goZSl7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19dC53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PW4mJmkuY2FsbChULGMpJiYoQz1UKTt2YXIgdz1FLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8oZSx0KXtmdW5jdGlvbiBuKG8sYSxzLGMpe3ZhciB1PWgoZVtvXSxlLGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PXIocCkmJmkuY2FsbChwLCJfX2F3YWl0Iik/dC5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7bigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe24oInRocm93IixlLHMsYyl9KSk6dC5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBuKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciBvO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxvKXtuKGUscix0LG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIodCxuLHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6ZSxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TyhzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgodCxuLHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIE8odCxuKXt2YXIgcj1uLm1ldGhvZCxvPXQuaXRlcmF0b3Jbcl07aWYobz09PWUpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmdC5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD0icmV0dXJuIixuLmFyZz1lLE8odCxuKSwidGhyb3ciPT09bi5tZXRob2QpfHwicmV0dXJuIiE9PXImJihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sdC5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bdC5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD10Lm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSxuLmRlbGVnYXRlPW51bGwseSk6YToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBMKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChMLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAodCl7aWYodHx8IiI9PT10KXt2YXIgbj10W2NdO2lmKG4pcmV0dXJuIG4uY2FsbCh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciBvPS0xLGE9ZnVuY3Rpb24gbigpe2Zvcig7KytvPHQubGVuZ3RoOylpZihpLmNhbGwodCxvKSlyZXR1cm4gbi52YWx1ZT10W29dLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPWUsbi5kb25lPSEwLG59O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihyKHQpKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIFMucHJvdG90eXBlPUUsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksYShFLCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksUy5kaXNwbGF5TmFtZT1wKEUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSx0LmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PVN8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LHQubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLEUpOihlLl9fcHJvdG9fXz1FLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LHQuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx0LkFzeW5jSXRlcmF0b3I9Xyx0LmFzeW5jPWZ1bmN0aW9uKGUsbixyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLG4scixvKSxpKTtyZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKG4pP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSx0LmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sdC52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbih0KXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1lLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPWUsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIXQpZm9yKHZhciBuIGluIHRoaXMpInQiPT09bi5jaGFyQXQoMCkmJmkuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT1lKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZG9uZSl0aHJvdyB0O3ZhciBuPXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz10LG4ubmV4dD1yLG8mJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9ZSksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBhPXRoaXMudHJ5RW50cmllc1tvXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9aS5jYWxsKGEsImNhdGNoTG9jIiksdT1pLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIG89cjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9by5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UCh0KSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPWUpLHl9fSx0fWZ1bmN0aW9uIGkoZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiBhKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3ZhciBhPWUuYXBwbHkodCxuKTtmdW5jdGlvbiBzKGUpe2koYSxyLG8scyxjLCJuZXh0IixlKX1mdW5jdGlvbiBjKGUpe2koYSxyLG8scyxjLCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfX1mdW5jdGlvbiBzKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBjKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2MoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIGMoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPUFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGQoci5rZXkpLHIpfX1mdW5jdGlvbiBsKGUsdCxuKXtyZXR1cm4gdCYmdShlLnByb3RvdHlwZSx0KSxuJiZ1KGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZX1mdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4odD1kKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGQoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9cihlKXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBvPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXIobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09cih0KT90OnQrIiJ9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyxpPWUuY29ubmVjdHx8e307ZS5jb25uZWN0PWksZS5saWx5PWksaS5BZ2VudFN0YXRlVHlwZT1pLm1ha2VFbnVtKFsiaW5pdCIsInJvdXRhYmxlIiwibm90X3JvdXRhYmxlIiwib2ZmbGluZSIsInN5c3RlbSIsImVycm9yIl0pLGkuQWdlbnRTdGF0dXNUeXBlPWkuQWdlbnRTdGF0ZVR5cGUsaS5BZ2VudEF2YWlsU3RhdGVzPWkubWFrZUVudW0oWyJJbml0IiwiQnVzeSIsIkFmdGVyQ2FsbFdvcmsiLCJDYWxsaW5nQ3VzdG9tZXIiLCJEaWFsaW5nIiwiSm9pbmluZyIsIlBlbmRpbmdBdmFpbGFibGUiLCJQZW5kaW5nQnVzeSJdKSxpLkFnZW50RXJyb3JTdGF0ZXM9aS5tYWtlRW51bShbIkVycm9yIiwiQWdlbnRIdW5nVXAiLCJCYWRBZGRyZXNzQWdlbnQiLCJCYWRBZGRyZXNzQ3VzdG9tZXIiLCJEZWZhdWx0IiwiRmFpbGVkQ29ubmVjdEFnZW50IiwiRmFpbGVkQ29ubmVjdEN1c3RvbWVyIiwiSW52YWxpZExvY2FsZSIsIkxpbmVFbmdhZ2VkQWdlbnQiLCJMaW5lRW5nYWdlZEN1c3RvbWVyIiwiTWlzc2VkQ2FsbEFnZW50IiwiTWlzc2VkQ2FsbEN1c3RvbWVyIiwiTXVsdGlwbGVDY3BXaW5kb3dzIiwiUmVhbHRpbWVDb21tdW5pY2F0aW9uRXJyb3IiXSksaS5FbmRwb2ludFR5cGU9aS5tYWtlRW51bShbInBob25lX251bWJlciIsImFnZW50IiwicXVldWUiXSksaS5BZGRyZXNzVHlwZT1pLkVuZHBvaW50VHlwZSxpLkNvbm5lY3Rpb25UeXBlPWkubWFrZUVudW0oWyJhZ2VudCIsImluYm91bmQiLCJvdXRib3VuZCIsIm1vbml0b3JpbmciXSksaS5Db25uZWN0aW9uU3RhdGVUeXBlPWkubWFrZUVudW0oWyJpbml0IiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsImhvbGQiLCJkaXNjb25uZWN0ZWQiLCJzaWxlbnRfbW9uaXRvciIsImJhcmdlIl0pLGkuQ29ubmVjdGlvblN0YXR1c1R5cGU9aS5Db25uZWN0aW9uU3RhdGVUeXBlLGkuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTPWkuc2V0KFtpLkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVElORyxpLkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVEVELGkuQ29ubmVjdGlvblN0YXRlVHlwZS5IT0xELGkuQ29ubmVjdGlvblN0YXRlVHlwZS5TSUxFTlRfTU9OSVRPUixpLkNvbm5lY3Rpb25TdGF0ZVR5cGUuQkFSR0VdKSxpLkNPTk5FQ1RJT05fQ09OTkVDVEVEX1NUQVRFUz1pLnNldChbaS5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RFRCxpLkNvbm5lY3Rpb25TdGF0ZVR5cGUuU0lMRU5UX01PTklUT1IsaS5Db25uZWN0aW9uU3RhdGVUeXBlLkJBUkdFXSksaS5Db250YWN0U3RhdGVUeXBlPWkubWFrZUVudW0oWyJpbml0IiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCIsIm1pc3NlZCIsImVycm9yIiwiZW5kZWQiLCJyZWplY3RlZCIsInBhdXNlZCJdKSxpLkNvbnRhY3RTdGF0dXNUeXBlPWkuQ29udGFjdFN0YXRlVHlwZSxpLkNPTlRBQ1RfQUNUSVZFX1NUQVRFUz1pLm1ha2VFbnVtKFsicGF1c2VkIiwiaW5jb21pbmciLCJwZW5kaW5nIiwiY29ubmVjdGluZyIsImNvbm5lY3RlZCJdKSxpLkNvbnRhY3RUeXBlPWkubWFrZUVudW0oWyJ2b2ljZSIsInF1ZXVlX2NhbGxiYWNrIiwiY2hhdCIsInRhc2siLCJlbWFpbCJdKSxpLkNvbnRhY3RJbml0aWF0aW9uTWV0aG9kPWkubWFrZUVudW0oWyJpbmJvdW5kIiwib3V0Ym91bmQiLCJ0cmFuc2ZlciIsInF1ZXVlX3RyYW5zZmVyIiwiY2FsbGJhY2siLCJhcGkiLCJkaXNjb25uZWN0Iiwid2VicnRjX2FwaSIsImFnZW50X3JlcGx5Il0pLGkuTW9uaXRvcmluZ01vZGU9aS5tYWtlRW51bShbIlNJTEVOVF9NT05JVE9SIiwiQkFSR0UiXSksaS5Nb25pdG9yaW5nRXJyb3JUeXBlcz1pLm1ha2VFbnVtKFsiaW52YWxpZF90YXJnZXRfc3RhdGUiXSksaS5DaGFubmVsVHlwZT1pLm1ha2VFbnVtKFsiVk9JQ0UiLCJDSEFUIiwiVEFTSyJdKSxpLk1lZGlhVHlwZT1pLm1ha2VFbnVtKFsic29mdHBob25lIiwiY2hhdCIsInRhc2siLCJlbWFpbCJdKSxpLlNvZnRwaG9uZUNhbGxUeXBlPWkubWFrZUVudW0oWyJhdWRpb192aWRlbyIsInZpZGVvX29ubHkiLCJhdWRpb19vbmx5Iiwibm9uZSJdKSxpLlNvZnRwaG9uZUVycm9yVHlwZXM9aS5tYWtlRW51bShbInVuc3VwcG9ydGVkX2Jyb3dzZXIiLCJtaWNyb3Bob25lX25vdF9zaGFyZWQiLCJzaWduYWxsaW5nX2hhbmRzaGFrZV9mYWlsdXJlIiwic2lnbmFsbGluZ19jb25uZWN0aW9uX2ZhaWx1cmUiLCJpY2VfY29sbGVjdGlvbl90aW1lb3V0IiwidXNlcl9idXN5X2Vycm9yIiwid2VicnRjX2Vycm9yIiwicmVhbHRpbWVfY29tbXVuaWNhdGlvbl9lcnJvciIsInZkaV9zdHJhdGVneV9ub3Rfc3VwcG9ydGVkIiwidmRpX3JlZGlyX25vdF9zdXBwb3J0ZWQiLCJvdGhlciJdKSxpLkNsaWNrVHlwZT1pLm1ha2VFbnVtKFsiQWNjZXB0IiwiUmVqZWN0IiwiSGFuZ3VwIl0pLGkuVm9pY2VJZEVycm9yVHlwZXM9aS5tYWtlRW51bShbIm5vX3NwZWFrZXJfaWRfZm91bmQiLCJzcGVha2VyX2lkX25vdF9lbnJvbGxlZCIsImdldF9zcGVha2VyX2lkX2ZhaWxlZCIsImdldF9zcGVha2VyX3N0YXR1c19mYWlsZWQiLCJvcHRfb3V0X3NwZWFrZXJfZmFpbGVkIiwib3B0X291dF9zcGVha2VyX2luX2xjbXNfZmFpbGVkIiwiZGVsZXRlX3NwZWFrZXJfZmFpbGVkIiwic3RhcnRfc2Vzc2lvbl9mYWlsZWQiLCJldmFsdWF0ZV9zcGVha2VyX2ZhaWxlZCIsInNlc3Npb25fbm90X2V4aXN0cyIsImRlc2NyaWJlX3Nlc3Npb25fZmFpbGVkIiwiZW5yb2xsX3NwZWFrZXJfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfaW5fbGNtc19mYWlsZWQiLCJub3Rfc3VwcG9ydGVkX29uX2NvbmZlcmVuY2VfY2FsbHMiLCJlbnJvbGxfc3BlYWtlcl90aW1lb3V0IiwiZXZhbHVhdGVfc3BlYWtlcl90aW1lb3V0IiwiZ2V0X2RvbWFpbl9pZF9mYWlsZWQiLCJub19kb21haW5faWRfZm91bmQiXSksaS5DVElFeGNlcHRpb25zPWkubWFrZUVudW0oWyJBY2Nlc3NEZW5pZWRFeGNlcHRpb24iLCJJbnZhbGlkU3RhdGVFeGNlcHRpb24iLCJCYWRFbmRwb2ludEV4Y2VwdGlvbiIsIkludmFsaWRBZ2VudEFSTkV4Y2VwdGlvbiIsIkludmFsaWRDb25maWd1cmF0aW9uRXhjZXB0aW9uIiwiSW52YWxpZENvbnRhY3RUeXBlRXhjZXB0aW9uIiwiUGFnaW5hdGlvbkV4Y2VwdGlvbiIsIlJlZnJlc2hUb2tlbkV4cGlyZWRFeGNlcHRpb24iLCJTZW5kRGF0YUZhaWxlZEV4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZEV4Y2VwdGlvbiIsIlF1b3RhRXhjZWVkZWRFeGNlcHRpb24iXSksaS5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzPWkubWFrZUVudW0oWyJPTkdPSU5HIiwiRU5ERUQiLCJQRU5ESU5HX0NPTkZJR1VSQVRJT04iXSksaS5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbj1pLm1ha2VFbnVtKFsiQUNDRVBUIiwiUkVKRUNUIiwiTk9UX0VOT1VHSF9TUEVFQ0giLCJTUEVBS0VSX05PVF9FTlJPTExFRCIsIlNQRUFLRVJfT1BURURfT1VUIiwiU1BFQUtFUl9JRF9OT1RfUFJPVklERUQiLCJTUEVBS0VSX0VYUElSRUQiXSksaS5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbj1pLm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJISUdIX1JJU0siLCJMT1dfUklTSyJdKSxpLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbj1pLm1ha2VFbnVtKFsiQXV0aGVudGljYXRlZCIsIk5vdEF1dGhlbnRpY2F0ZWQiLCJJbmNvbmNsdXNpdmUiLCJOb3RFbnJvbGxlZCIsIk9wdGVkT3V0IiwiTm90RW5hYmxlZCIsIkVycm9yIl0pLGkuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uPWkubWFrZUVudW0oWyJIaWdoUmlzayIsIkxvd1Jpc2siLCJJbmNvbmNsdXNpdmUiLCJOb3RFbmFibGVkIiwiRXJyb3IiXSksaS5DdXN0b21lckF1dGhlbnRpY2F0aW9uU3RhdHVzPWkubWFrZUVudW0oWyJBVVRIRU5USUNBVEVEIiwiRkFJTEVEIiwiVElNRU9VVCJdKSxpLlZpZGVvQ2FwYWJpbGl0eT1pLm1ha2VFbnVtKFsiU0VORCJdKSxpLlNjcmVlblNoYXJlQ2FwYWJpbGl0eT1pLm1ha2VFbnVtKFsiU0VORCJdKSxpLlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cz1pLm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJJTl9QUk9HUkVTUyIsIkNPTVBMRVRFRCIsIkZBSUxFRCJdKSxpLlZvaWNlSWRTcGVha2VyU3RhdHVzPWkubWFrZUVudW0oWyJPUFRFRF9PVVQiLCJFTlJPTExFRCIsIlBFTkRJTkciXSksaS5Wb2ljZUlkQ29uc3RhbnRzPXtFVkFMVUFURV9TRVNTSU9OX0RFTEFZOjFlNCxFVkFMVUFUSU9OX01BWF9QT0xMX1RJTUVTOjI0LEVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTDo1ZTMsRU5ST0xMTUVOVF9NQVhfUE9MTF9USU1FUzoxMjAsRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMOjVlMyxTVEFSVF9TRVNTSU9OX0RFTEFZOjhlM30saS5BZ2VudFBlcm1pc3Npb25zPXtPVVRCT1VORF9DQUxMOiJvdXRib3VuZENhbGwiLFZPSUNFX0lEOiJ2b2ljZUlkIn07dmFyIGM9bCgoZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpfSkpO3AoYywiaXNFbmFibGVkIiwoZnVuY3Rpb24oKXt2YXIgZT1pLmlzQ1JNKCk/aS5jb3JlLmdldENsaWVudCgpOmkuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLmNhbGwoaS5BcGlQcm94eUNsaWVudE1ldGhvZHMuUVJfSU5URUdSQVRJT05fRVhJU1RTLG51bGwse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJRdWljayBSZXNwb25zZXMgaXNFbmFibGVkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0KGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoIlF1aWNrIFJlc3BvbnNlcyBpc0VuYWJsZWQgZmFpbGVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4oZSl9fSl9KSl9KSkscChjLCJzZWFyY2hRdWlja1Jlc3BvbnNlcyIsKGZ1bmN0aW9uKGUpe3ZhciBuPWkuaXNDUk0oKT9pLmNvcmUuZ2V0Q2xpZW50KCk6aS5jb3JlLmdldEFwaVByb3h5Q2xpZW50KCkscj1udWxsIT1lJiZlLmNvbnRhY3RJZD9uZXcgaChlLmNvbnRhY3RJZCkuZ2V0QXR0cmlidXRlcygpOnZvaWQgMDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8sYSl7bi5jYWxsKGkuQXBpUHJveHlDbGllbnRNZXRob2RzLlFSX1NFQVJDSF9RVUlDS19SRVNQT05TRVMsdCh0KHt9LGUpLHt9LHthdHRyaWJ1dGVzOnJ9KSx7c3VjY2VzczpmdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oInNlYXJjaFF1aWNrUmVzcG9uc2VzIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoInNlYXJjaFF1aWNrUmVzcG9uc2VzIGZhaWxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhKGUpfX0pfSkpfSkpO3ZhciB1PWZ1bmN0aW9uKCl7aWYoIWkuYWdlbnQuaW5pdGlhbGl6ZWQpdGhyb3cgbmV3IGkuU3RhdGVFcnJvcigiVGhlIGFnZW50IGlzIG5vdCB5ZXQgaW5pdGlhbGl6ZWQhIil9O3UucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFnZW50RGF0YSgpfSx1LnByb3RvdHlwZS5fY3JlYXRlQ29udGFjdEFQST1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuQ29udGFjdChlLmNvbnRhY3RJZCl9LHUucHJvdG90eXBlLm9uUmVmcmVzaD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuUkVGUkVTSCxlKX0sdS5wcm90b3R5cGUub25Sb3V0YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuUk9VVEFCTEUsZSl9LHUucHJvdG90eXBlLm9uTm90Um91dGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLk5PVF9ST1VUQUJMRSxlKX0sdS5wcm90b3R5cGUub25PZmZsaW5lPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5PRkZMSU5FLGUpfSx1LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5FUlJPUixlKX0sdS5wcm90b3R5cGUub25Tb2Z0cGhvbmVFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuU09GVFBIT05FX0VSUk9SLGUpfSx1LnByb3RvdHlwZS5vbldlYlNvY2tldENvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9MT1NULGUpfSx1LnByb3RvdHlwZS5vbldlYlNvY2tldENvbm5lY3Rpb25HYWluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0dBSU5FRCxlKX0sdS5wcm90b3R5cGUub25BZnRlckNhbGxXb3JrPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5BQ1csZSl9LHUucHJvdG90eXBlLm9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLlNUQVRFX0NIQU5HRSxlKX0sdS5wcm90b3R5cGUub25NdXRlVG9nZ2xlPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5NVVRFX1RPR0dMRSxlKX0sdS5wcm90b3R5cGUub25Mb2NhbE1lZGlhU3RyZWFtQ3JlYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQWdlbnRFdmVudHMuTE9DQUxfTUVESUFfU1RSRUFNX0NSRUFURUQsZSl9LHUucHJvdG90eXBlLm9uU3BlYWtlckRldmljZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkNvbmZpZ3VyYXRpb25FdmVudHMuU1BFQUtFUl9ERVZJQ0VfQ0hBTkdFRCxlKX0sdS5wcm90b3R5cGUub25NaWNyb3Bob25lRGV2aWNlQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29uZmlndXJhdGlvbkV2ZW50cy5NSUNST1BIT05FX0RFVklDRV9DSEFOR0VELGUpfSx1LnByb3RvdHlwZS5vblJpbmdlckRldmljZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkNvbmZpZ3VyYXRpb25FdmVudHMuUklOR0VSX0RFVklDRV9DSEFOR0VELGUpfSx1LnByb3RvdHlwZS5vbkNhbWVyYURldmljZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkNvbmZpZ3VyYXRpb25FdmVudHMuQ0FNRVJBX0RFVklDRV9DSEFOR0VELGUpfSx1LnByb3RvdHlwZS5vbkJhY2tncm91bmRCbHVyQ2hhbmdlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29uZmlndXJhdGlvbkV2ZW50cy5CQUNLR1JPVU5EX0JMVVJfQ0hBTkdFRCxlKX0sdS5wcm90b3R5cGUubXV0ZT1mdW5jdGlvbigpe2kuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuRXZlbnRUeXBlLk1VVEUsZGF0YTp7bXV0ZTohMH19KX0sdS5wcm90b3R5cGUudW5tdXRlPWZ1bmN0aW9uKCl7aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5FdmVudFR5cGUuTVVURSxkYXRhOnttdXRlOiExfX0pfSx1LnByb3RvdHlwZS5zZXRTcGVha2VyRGV2aWNlPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfU1BFQUtFUl9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0sdS5wcm90b3R5cGUuc2V0TWljcm9waG9uZURldmljZT1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX01JQ1JPUEhPTkVfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHUucHJvdG90eXBlLnNldFJpbmdlckRldmljZT1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1JJTkdFUl9ERVZJQ0UsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0sdS5wcm90b3R5cGUuc2V0Q2FtZXJhRGV2aWNlPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuQ29uZmlndXJhdGlvbkV2ZW50cy5DQU1FUkFfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0sdS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZEJsdXI9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Db25maWd1cmF0aW9uRXZlbnRzLkJBQ0tHUk9VTkRfQkxVUl9DSEFOR0VELGRhdGE6e2lzQmFja2dyb3VuZEJsdXJFbmFibGVkOmV9fSl9LHUucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5zdGF0ZX0sdS5wcm90b3R5cGUuZ2V0TmV4dFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5uZXh0U3RhdGV9LHUucHJvdG90eXBlLmdldEF2YWlsYWJpbGl0eVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5hZ2VudEF2YWlsYWJpbGl0eVN0YXRlfSx1LnByb3RvdHlwZS5nZXRTdGF0dXM9dS5wcm90b3R5cGUuZ2V0U3RhdGUsdS5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiBpLm5vdygpLXRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5zdGF0ZS5zdGFydFRpbWVzdGFtcC5nZXRUaW1lKCkraS5jb3JlLmdldFNrZXcoKX0sdS5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249dS5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbix1LnByb3RvdHlwZS5nZXRQZXJtaXNzaW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5wZXJtaXNzaW9uc30sdS5wcm90b3R5cGUuZ2V0Q29udGFjdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNuYXBzaG90LmNvbnRhY3RzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2NyZWF0ZUNvbnRhY3RBUEkoZSl9KSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hZXx8dC5nZXRUeXBlKCk9PT1lfSkpfSx1LnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb25maWd1cmF0aW9ufSx1LnByb3RvdHlwZS5nZXRBZ2VudFN0YXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5hZ2VudFN0YXRlc30sdS5wcm90b3R5cGUuZ2V0Um91dGluZ1Byb2ZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucm91dGluZ1Byb2ZpbGV9LHUucHJvdG90eXBlLmdldENoYW5uZWxDb25jdXJyZW5jeT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFJvdXRpbmdQcm9maWxlKCkuY2hhbm5lbENvbmN1cnJlbmN5TWFwO3JldHVybiB0fHwodD1PYmplY3Qua2V5cyhpLkNoYW5uZWxUeXBlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIlRBU0siIT09dCYmKGVbaS5DaGFubmVsVHlwZVt0XV09MSksZX0pLHt9KSksZT90W2VdfHwwOnR9LHUucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkubmFtZX0sdS5wcm90b3R5cGUuZ2V0QWdlbnRBUk49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuYWdlbnRBUk59LHUucHJvdG90eXBlLmdldEV4dGVuc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5leHRlbnNpb259LHUucHJvdG90eXBlLmdldERpYWxhYmxlQ291bnRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmRpYWxhYmxlQ291bnRyaWVzfSx1LnByb3RvdHlwZS5pc1NvZnRwaG9uZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuc29mdHBob25lRW5hYmxlZH0sdS5wcm90b3R5cGUuc2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKTtlJiZlLmFnZW50UHJlZmVyZW5jZXMmJmUuYWdlbnRQcmVmZXJlbmNlcy5MQU5HVUFHRSYmIWUuYWdlbnRQcmVmZXJlbmNlcy5sb2NhbGUmJihlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlPWUuYWdlbnRQcmVmZXJlbmNlcy5MQU5HVUFHRSksZSYmZS5hZ2VudFByZWZlcmVuY2VzJiYhaS5pc1ZhbGlkTG9jYWxlKGUuYWdlbnRQcmVmZXJlbmNlcy5sb2NhbGUpP3QmJnQuZmFpbHVyZSYmdC5mYWlsdXJlKGkuQWdlbnRFcnJvclN0YXRlcy5JTlZBTElEX0xPQ0FMRSk6bi5jYWxsKGkuQ2xpZW50TWV0aG9kcy5VUERBVEVfQUdFTlRfQ09ORklHVVJBVElPTix7Y29uZmlndXJhdGlvbjppLmFzc2VydE5vdE51bGwoZSwiY29uZmlndXJhdGlvbiIpfSx7c3VjY2VzczpmdW5jdGlvbihlKXtpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuUkVMT0FEX0FHRU5UX0NPTkZJR1VSQVRJT04pLHQuc3VjY2VzcyYmdC5zdWNjZXNzKGUpfSxmYWlsdXJlOnQmJnQuZmFpbHVyZX0pfSx1LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQsbil7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlBVVF9BR0VOVF9TVEFURSx7c3RhdGU6aS5hc3NlcnROb3ROdWxsKGUsInN0YXRlIiksZW5xdWV1ZU5leHRTdGF0ZTpuJiYhIW4uZW5xdWV1ZU5leHRTdGF0ZX0sdCl9LHUucHJvdG90eXBlLm9uRW5xdWV1ZWROZXh0U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShpLkFnZW50RXZlbnRzLkVOUVVFVUVEX05FWFRfU1RBVEUsZSl9LHUucHJvdG90eXBlLnNldFN0YXR1cz11LnByb3RvdHlwZS5zZXRTdGF0ZSx1LnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5jb3JlLmdldENsaWVudCgpLHI9bmV3IGkuRW5kcG9pbnQoZSk7ZGVsZXRlIHIuZW5kcG9pbnRJZDt2YXIgbz17ZW5kcG9pbnQ6aS5hc3NlcnROb3ROdWxsKHIsImVuZHBvaW50IikscXVldWVBUk46dCYmKHQucXVldWVBUk58fHQucXVldWVJZCl8fHRoaXMuZ2V0Um91dGluZ1Byb2ZpbGUoKS5kZWZhdWx0T3V0Ym91bmRRdWV1ZS5xdWV1ZUFSTn07dCYmdC5yZWxhdGVkQ29udGFjdElkJiZudWxsIT09dC5yZWxhdGVkQ29udGFjdElkJiYoby5yZWxhdGVkQ29udGFjdElkPXQucmVsYXRlZENvbnRhY3RJZCx0LnByZXZpb3VzQ29udGFjdElkJiZkZWxldGUgby5wcmV2aW91c0NvbnRhY3RJZCksbi5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DUkVBVEVfT1VUQk9VTkRfQ09OVEFDVCxvLHQmJntzdWNjZXNzOnQuc3VjY2VzcyxmYWlsdXJlOnQuZmFpbHVyZX0pfSx1LnByb3RvdHlwZS5nZXRBbGxRdWV1ZUFSTnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucm91dGluZ1Byb2ZpbGUucXVldWVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucXVldWVBUk59KSl9LHUucHJvdG90eXBlLmdldEVuZHBvaW50cz1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxvPWkuY29yZS5nZXRDbGllbnQoKTtpLmFzc2VydE5vdE51bGwodCwiY2FsbGJhY2tzIiksaS5hc3NlcnROb3ROdWxsKHQuc3VjY2VzcywiY2FsbGJhY2tzLnN1Y2Nlc3MiKTt2YXIgYT1ufHx7fTthLmVuZHBvaW50cz1hLmVuZHBvaW50c3x8W10sYS5tYXhSZXN1bHRzPWEubWF4UmVzdWx0c3x8aS5ERUZBVUxUX0JBVENIX1NJWkUsaS5pc0FycmF5KGUpfHwoZT1bZV0pLG8uY2FsbChpLkNsaWVudE1ldGhvZHMuR0VUX0VORFBPSU5UUyx7cXVldWVBUk5zOmUsbmV4dFRva2VuOmEubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6YS5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbihuKXtpZihuLm5leHRUb2tlbilyLmdldEVuZHBvaW50cyhlLHQse25leHRUb2tlbjpuLm5leHRUb2tlbixtYXhSZXN1bHRzOmEubWF4UmVzdWx0cyxlbmRwb2ludHM6YS5lbmRwb2ludHMuY29uY2F0KG4uZW5kcG9pbnRzKX0pO2Vsc2V7YS5lbmRwb2ludHM9YS5lbmRwb2ludHMuY29uY2F0KG4uZW5kcG9pbnRzKTt2YXIgbz1hLmVuZHBvaW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaS5FbmRwb2ludChlKX0pKTt0LnN1Y2Nlc3Moe2VuZHBvaW50czpvLGFkZHJlc3NlczpvfSl9fSxmYWlsdXJlOnQuZmFpbHVyZX0pfSx1LnByb3RvdHlwZS5nZXRBZGRyZXNzZXM9dS5wcm90b3R5cGUuZ2V0RW5kcG9pbnRzLHUucHJvdG90eXBlLl9nZXRSZXNvdXJjZUlkPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmdldEFsbFF1ZXVlQVJOcygpLG49ZnVuY3Rpb24oZSx0KXt2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPXMoZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgaSxhPSEwLGM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBhPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2M9ITAsaT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX19fSh0KTt0cnl7Zm9yKG4ucygpOyEoZT1uLm4oKSkuZG9uZTspe3ZhciByPWUudmFsdWUubWF0Y2goL1wvYWdlbnRcLyhbXi9dKykvKTtpZihyKXJldHVybiByWzFdfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX1yZXR1cm4gbmV3IEVycm9yKCJBZ2VudC5wcm90b3R5cGUuX2dldFJlc291cmNlSWQ6IHF1ZXVlQXJucyBkaWQgbm90IGNvbnRhaW4gYWdlbnRSZXNvdXJjZUlkOiAiLHQpfSx1LnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLkFnZW50U25hcHNob3QodGhpcy5fZ2V0RGF0YSgpKX07dmFyIGQ9ZnVuY3Rpb24oZSl7aS5BZ2VudC5jYWxsKHRoaXMpLHRoaXMuYWdlbnREYXRhPWV9OyhkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZCxkLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFnZW50RGF0YX0sZC5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhY3RBUEk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpLkNvbnRhY3RTbmFwc2hvdChlKX07dmFyIGg9ZnVuY3Rpb24oZSl7dGhpcy5jb250YWN0SWQ9ZX07aC5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5nZXRDb250YWN0SWQoKSl9LGgucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFR5cGUoKT09PWkuQ29udGFjdFR5cGUuQ0hBVD9uZXcgaS5DaGF0Q29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCk6dGhpcy5nZXRUeXBlKCk9PT1pLkNvbnRhY3RUeXBlLlRBU0s/bmV3IGkuVGFza0Nvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOnRoaXMuZ2V0VHlwZSgpPT09aS5Db250YWN0VHlwZS5FTUFJTD9uZXcgaS5FbWFpbENvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOm5ldyBpLlZvaWNlQ29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCl9LGgucHJvdG90eXBlLmdldEV2ZW50TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoZSx0aGlzLmdldENvbnRhY3RJZCgpKX0saC5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLlJFRlJFU0gpLGUpfSxoLnByb3RvdHlwZS5vbkluY29taW5nPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLklOQ09NSU5HKSxlKX0saC5wcm90b3R5cGUub25Db25uZWN0aW5nPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLGUpfSxoLnByb3RvdHlwZS5vblBlbmRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZShpLkNvbnRhY3RFdmVudHMuUEVORElORyksZSl9LGgucHJvdG90eXBlLm9uQWNjZXB0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZShpLkNvbnRhY3RFdmVudHMuQUNDRVBURUQpLGUpfSxoLnByb3RvdHlwZS5vbk1pc3NlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKGkuQ29udGFjdEV2ZW50cy5NSVNTRUQpLGUpfSxoLnByb3RvdHlwZS5vbkVuZGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkVOREVEKSxlKX0saC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkRFU1RST1lFRCksZSl9LGgucHJvdG90eXBlLm9uQUNXPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkFDVyksZSl9LGgucHJvdG90eXBlLm9uQ29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUoaS5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCksZSl9LGgucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZShpLkNvbnRhY3RFdmVudHMuRVJST1IpLGUpfSxoLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LGgucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsQ29udGFjdElkfSxoLnByb3RvdHlwZS5nZXRJbml0aWFsQ29udGFjdElkPWgucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkLGgucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnR5cGV9LGgucHJvdG90eXBlLmdldENvbnRhY3REdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdER1cmF0aW9ufSxoLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc3RhdGV9LGgucHJvdG90eXBlLmdldFN0YXR1cz1oLnByb3RvdHlwZS5nZXRTdGF0ZSxoLnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGkubm93KCktdGhpcy5fZ2V0RGF0YSgpLnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCkraS5jb3JlLmdldFNrZXcoKX0saC5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249aC5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbixoLnByb3RvdHlwZS5nZXRRdWV1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVldWV9LGgucHJvdG90eXBlLmdldFF1ZXVlVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5xdWV1ZVRpbWVzdGFtcH0saC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29ubmVjdGlvbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRUeXBlKCk9PT1pLkNvbnRhY3RUeXBlLkNIQVQ/bmV3IGkuQ2hhdENvbm5lY3Rpb24oZS5jb250YWN0SWQsdC5jb25uZWN0aW9uSWQpOmUuZ2V0VHlwZSgpPT09aS5Db250YWN0VHlwZS5UQVNLP25ldyBpLlRhc2tDb25uZWN0aW9uKGUuY29udGFjdElkLHQuY29ubmVjdGlvbklkKTplLmdldFR5cGUoKT09PWkuQ29udGFjdFR5cGUuRU1BSUw/bmV3IGkuRW1haWxDb25uZWN0aW9uKGUuY29udGFjdElkLHQuY29ubmVjdGlvbklkKTpuZXcgaS5Wb2ljZUNvbm5lY3Rpb24oZS5jb250YWN0SWQsdC5jb25uZWN0aW9uSWQpfSkpfSxoLnByb3RvdHlwZS5nZXRJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBpLmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0luaXRpYWxDb25uZWN0aW9uKCl9KSl8fG51bGx9LGgucHJvdG90eXBlLmdldEFjdGl2ZUluaXRpYWxDb25uZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybiBudWxsIT1lJiZlLmlzQWN0aXZlKCk/ZTpudWxsfSxoLnByb3RvdHlwZS5nZXRUaGlyZFBhcnR5Q29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNJbml0aWFsQ29ubmVjdGlvbigpJiZlLmdldFR5cGUoKSE9PWkuQ29ubmVjdGlvblR5cGUuQUdFTlR9KSl9LGgucHJvdG90eXBlLmdldFNpbmdsZUFjdGl2ZVRoaXJkUGFydHlDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0FjdGl2ZSgpfSkpWzBdfHxudWxsfSxoLnByb3RvdHlwZS5nZXRBZ2VudENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaS5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRUeXBlKCk7cmV0dXJuIHQ9PT1pLkNvbm5lY3Rpb25UeXBlLkFHRU5UfHx0PT09aS5Db25uZWN0aW9uVHlwZS5NT05JVE9SSU5HfSkpfSxoLnByb3RvdHlwZS5nZXRBY3RpdmVDb25uZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0FjdGl2ZSgpfSkpfSxoLnByb3RvdHlwZS5oYXNUd29BY3RpdmVQYXJ0aWNpcGFudHM9ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXRoaXMuZ2V0QWN0aXZlQ29ubmVjdGlvbnMoKS5sZW5ndGh9LGgucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm5hbWV9LGgucHJvdG90eXBlLmdldEluaXRpYXRpb25NZXRob2Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmluaXRpYXRpb25NZXRob2R9LGgucHJvdG90eXBlLmdldENvbnRhY3RNZXRhZGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdE1ldGFkYXRhfSxoLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuZGVzY3JpcHRpb259LGgucHJvdG90eXBlLmdldFJlbGF0ZWRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnJlbGF0ZWRDb250YWN0SWR9LGgucHJvdG90eXBlLmdldENvbnRhY3RBc3NvY2lhdGlvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb250YWN0QXNzb2NpYXRpb25JZH0saC5wcm90b3R5cGUuZ2V0Q3VzdG9tZXJFbmRwb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY3VzdG9tZXJFbmRwb2ludH0saC5wcm90b3R5cGUuZ2V0Q29ubmVjdFN5c3RlbUVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb25uZWN0U3lzdGVtRW5kcG9pbnR9LGgucHJvdG90eXBlLmdldFJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnJlZmVyZW5jZXN9LGgucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmF0dHJpYnV0ZXN9LGgucHJvdG90eXBlLmdldENvbnRhY3RGZWF0dXJlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdEZlYXR1cmVzfSxoLnByb3RvdHlwZS5nZXRDaGFubmVsQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY2hhbm5lbENvbnRleHR9LGgucHJvdG90eXBlLmdldFNlZ21lbnRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zZWdtZW50QXR0cmlidXRlc30saC5wcm90b3R5cGUuZ2V0Q29udGFjdFN1YnR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlZ21lbnRBdHRyaWJ1dGVzKCk7cmV0dXJuIGUmJmVbImNvbm5lY3Q6U3VidHlwZSJdP2VbImNvbm5lY3Q6U3VidHlwZSJdLlZhbHVlU3RyaW5nOm51bGx9LGgucHJvdG90eXBlLmlzU29mdHBob25lQ2FsbD1mdW5jdGlvbigpe3JldHVybih0aGlzLmdldFR5cGUoKT09PWkuQ29udGFjdFR5cGUuVk9JQ0V8fHRoaXMuZ2V0VHlwZSgpPT09aS5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSykmJkJvb2xlYW4odGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFNvZnRwaG9uZU1lZGlhSW5mbygpfSkpKX0saC5wcm90b3R5cGUuaGFzVmlkZW9SVENDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PWkuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhblNlbmRWaWRlbyYmZS5jYW5TZW5kVmlkZW8oKX0pKX0saC5wcm90b3R5cGUuY2FuQWdlbnRTZW5kVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFnZW50Q29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRWaWRlbyYmZS5jYW5TZW5kVmlkZW8oKX0saC5wcm90b3R5cGUuY2FuQWdlbnRSZWNlaXZlVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7aWYoZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCkpcmV0dXJuITA7dmFyIHQ9dGhpcy5nZXRUaGlyZFBhcnR5Q29ubmVjdGlvbnMoKTtyZXR1cm4gdCYmdC5sZW5ndGg+MCYmdGhpcy5jYW5BZ2VudFNlbmRWaWRlbygpfSxoLnByb3RvdHlwZS5oYXNTY3JlZW5TaGFyZUNhcGFiaWxpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PWkuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0pKX0saC5wcm90b3R5cGUuY2FuQWdlbnRTZW5kU2NyZWVuU2hhcmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFnZW50Q29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0saC5wcm90b3R5cGUuY2FuQ3VzdG9tZXJTZW5kU2NyZWVuU2hhcmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7cmV0dXJuIGUuY2FuU2VuZFNjcmVlblNoYXJlJiZlLmNhblNlbmRTY3JlZW5TaGFyZSgpfSxoLnByb3RvdHlwZS5zdGFydFNjcmVlblNoYXJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1hKG8oKS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciBuLHIsYTtyZXR1cm4gbygpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKG49dGhpcy5nZXRDb250YWN0SWQoKSwiY29ubmVjdDpXZWJSVEMiPT09dGhpcy5nZXRDb250YWN0U3VidHlwZSgpKXtlLm5leHQ9MzticmVha310aHJvdyBuZXcgRXJyb3IoIlNjcmVlbiBzaGFyaW5nIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBXZWJSVEMgY29udGFjdHMuIik7Y2FzZSAzOmlmKHRoaXMuaXNDb25uZWN0ZWQoKSl7ZS5uZXh0PTU7YnJlYWt9dGhyb3cgbmV3IGkuU3RhdGVFcnJvcigiQ29udGFjdCAlcyBpcyBub3QgY29ubmVjdGVkLiIsbik7Y2FzZSA1OmlmKHQpe2UubmV4dD0xMTticmVha31yZXR1cm4gcj1pLmlzQ1JNKCk/aS5jb3JlLmdldENsaWVudCgpOmkuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLGE9e0luc3RhbmNlSWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLENvbnRhY3RJZDpuLFBhcnRpY2lwYW50SWQ6dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRDb25uZWN0aW9uSWQoKX0sZS5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7ci5jYWxsKGkuQXBpUHJveHlDbGllbnRNZXRob2RzLlNUQVJUX1NDUkVFTl9TSEFSSU5HLGEse3N1Y2Nlc3M6ZnVuY3Rpb24odCl7aS5nZXRMb2coKS5pbmZvKCJzdGFydFNjcmVlblNoYXJpbmcgc3VjY2VlZGVkIikud2l0aE9iamVjdCh0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShpLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OmkuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVEFSVEVELGRhdGE6e2NvbnRhY3RJZDpufX0pLGUodCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigic3RhcnRTY3JlZW5TaGFyaW5nIGZhaWxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfRVJST1IsZGF0YTp7Y29udGFjdElkOm59fSksdChlKX19KX0pKSk7Y2FzZSAxMTppLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxkYXRhOntjb250YWN0SWQ6bn19KTtjYXNlIDEyOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksaC5wcm90b3R5cGUub25TY3JlZW5TaGFyaW5nU3RhcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVEFSVEVELGUpfSxoLnByb3RvdHlwZS5zdG9wU2NyZWVuU2hhcmluZz1hKG8oKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQ7cmV0dXJuIG8oKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih0PXRoaXMuZ2V0Q29udGFjdElkKCksImNvbm5lY3Q6V2ViUlRDIj09PXRoaXMuZ2V0Q29udGFjdFN1YnR5cGUoKSl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2Nhc2UgMzppZih0aGlzLmlzQ29ubmVjdGVkKCkpe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyBpLlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgaXMgbm90IGNvbm5lY3RlZC4iLHQpO2Nhc2UgNTppLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RPUFBFRCxkYXRhOntjb250YWN0SWQ6dH19KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxoLnByb3RvdHlwZS5vblNjcmVlblNoYXJpbmdTdG9wcGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUT1BQRUQsZSl9LGgucHJvdG90eXBlLm9uU2NyZWVuU2hhcmluZ0Vycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX0VSUk9SLGUpfSxoLnByb3RvdHlwZS5faXNJbmJvdW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWF0aW9uTWV0aG9kIT09aS5Db250YWN0SW5pdGlhdGlvbk1ldGhvZC5PVVRCT1VORH0saC5wcm90b3R5cGUuaXNJbmJvdW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybltpLk1lZGlhVHlwZS5UQVNLLGkuTWVkaWFUeXBlLkVNQUlMXS5pbmNsdWRlcyhlLmdldE1lZGlhVHlwZSgpKT90aGlzLl9pc0luYm91bmQoKTohIWUmJmUuZ2V0VHlwZSgpPT09aS5Db25uZWN0aW9uVHlwZS5JTkJPVU5EfSxoLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT1pLkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVEVEfSxoLnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jb3JlLmdldENsaWVudCgpLG49dGhpcyxyPXRoaXMuZ2V0Q29udGFjdElkKCk7aS5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6aS5DbGlja1R5cGUuQUNDRVBULGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSx0LmNhbGwoaS5DbGllbnRNZXRob2RzLkFDQ0VQVF9DT05UQUNULHtjb250YWN0SWQ6cn0se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dmFyIG89aS5jb3JlLmdldFVwc3RyZWFtKCk7by5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZGF0YTpuZXcgaS5Db250YWN0KHIpfSksby5zZW5kVXBzdHJlYW0oaS5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDppLmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZShpLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsbi5nZXRDb250YWN0SWQoKSksZGF0YTpuZXcgaS5Db250YWN0KHIpfSk7dmFyIGE9bmV3IGkuQ29udGFjdChyKTtpLmlzRmlyZWZveEJyb3dzZXIoKSYmYS5pc1NvZnRwaG9uZUNhbGwoKSYmaS5jb3JlLnRyaWdnZXJSZWFkeVRvU3RhcnRTZXNzaW9uRXZlbnQoKSxlJiZlLnN1Y2Nlc3MmJmUuc3VjY2Vzcyh0KX0sZmFpbHVyZTpmdW5jdGlvbih0LG4pe2kuZ2V0TG9nKCkuZXJyb3IoIkFjY2VwdCBDb250YWN0IGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aEV4Y2VwdGlvbih0KS53aXRoT2JqZWN0KHtkYXRhOm59KSxpLnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNvbnRhY3RBY2NlcHRGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pLGUmJmUuZmFpbHVyZSYmZS5mYWlsdXJlKGkuQ29udGFjdFN0YXRlVHlwZS5FUlJPUil9fSl9LGgucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtpLmdldExvZygpLndhcm4oImNvbnRhY3QuZGVzdHJveSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIil9LGgucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbihlKXt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCk7aS5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6aS5DbGlja1R5cGUuUkVKRUNULGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSx0LmNhbGwoaS5DbGllbnRNZXRob2RzLlJFSkVDVF9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LGgucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DT01QTEVURV9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LGgucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DTEVBUl9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LGgucHJvdG90eXBlLm5vdGlmeUlzc3VlPWZ1bmN0aW9uKGUsdCxuKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuTk9USUZZX0NPTlRBQ1RfSVNTVUUse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGlzc3VlQ29kZTplLGRlc2NyaXB0aW9uOnR9LG4pfSxoLnByb3RvdHlwZS5hZGRDb25uZWN0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5jb3JlLmdldENsaWVudCgpLHI9bmV3IGkuRW5kcG9pbnQoZSk7ZGVsZXRlIHIuZW5kcG9pbnRJZCxuLmNhbGwoaS5DbGllbnRNZXRob2RzLkNSRUFURV9BRERJVElPTkFMX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGVuZHBvaW50OnJ9LHQpfSxoLnByb3RvdHlwZS50b2dnbGVBY3RpdmVDb25uZWN0aW9ucz1mdW5jdGlvbihlKXt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCksbj1udWxsLHI9aS5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0U3RhdHVzKCkudHlwZT09PWkuQ29ubmVjdGlvblN0YXRlVHlwZS5IT0xEfSkpO2lmKG51bGwhPXIpbj1yLmdldENvbm5lY3Rpb25JZCgpO2Vsc2V7dmFyIG89dGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKTtvLmxlbmd0aD4wJiYobj1vWzBdLmdldENvbm5lY3Rpb25JZCgpKX10LmNhbGwoaS5DbGllbnRNZXRob2RzLlRPR0dMRV9BQ1RJVkVfQ09OTkVDVElPTlMse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDpufSxlKX0saC5wcm90b3R5cGUuc2VuZFNvZnRwaG9uZU1ldHJpY3M9ZnVuY3Rpb24odCxuKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOnR9LG4pLGkucHVibGlzaFNvZnRwaG9uZVN0YXRzKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixzdGF0czp0fSl9LGgucHJvdG90eXBlLnNlbmRTb2Z0cGhvbmVSZXBvcnQ9ZnVuY3Rpb24odCxuKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9SRVBPUlQse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246ZS5jY3BWZXJzaW9uLHJlcG9ydDp0fSxuKX0saC5wcm90b3R5cGUuY29uZmVyZW5jZUNvbm5lY3Rpb25zPWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DT05GRVJFTkNFX0NPTk5FQ1RJT05TLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LGgucHJvdG90eXBlLnRvU25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuQ29udGFjdFNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9LGgucHJvdG90eXBlLmlzTXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb250YWN0RmVhdHVyZXMoKTtyZXR1cm4hKCFlfHwhZS5tdWx0aVBhcnR5Q29uZmVyZW5jZUVuYWJsZWQpfSxoLnByb3RvdHlwZS51cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZT1mdW5jdGlvbihlLHQpe2UmJk9iamVjdC52YWx1ZXMoaS5Nb25pdG9yaW5nTW9kZSkuaW5jbHVkZXMoZS50b1VwcGVyQ2FzZSgpKT9pLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuVVBEQVRFX01PTklUT1JfUEFSVElDSVBBTlRfU1RBVEUse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLHRhcmdldE1vbml0b3JNb2RlOmUudG9VcHBlckNhc2UoKX0sdCk6KGkuZ2V0TG9nKCkuZXJyb3IoIkludmFsaWQgdGFyZ2V0IHN0YXRlIHdhcyBwcm92aWRlZDogIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdCYmdC5mYWlsdXJlJiZ0LmZhaWx1cmUoaS5Nb25pdG9yaW5nRXJyb3JUeXBlcy5JTlZBTElEX1RBUkdFVF9TVEFURSkpfSxoLnByb3RvdHlwZS5pc1VuZGVyU3VwZXJ2aXNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRUeXBlKCkhPT1pLkNvbm5lY3Rpb25UeXBlLkFHRU5UfSkpO3JldHVybiB2b2lkIDAhPT0oZSYmZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0JhcmdlKCkmJmUuaXNBY3RpdmUoKX0pKSl9LGgucHJvdG90eXBlLnNpbGVudE1vbml0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUoaS5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUixlKX0saC5wcm90b3R5cGUuYmFyZ2VJbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZShpLk1vbml0b3JpbmdNb2RlLkJBUkdFLGUpfSxoLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihlKXtpLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChpLkNsaWVudE1ldGhvZHMuUEFVU0VfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxoLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlJFU1VNRV9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LGgucHJvdG90eXBlLmFkZFBhcnRpY2lwYW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5jb3JlLmdldENsaWVudCgpLHI9bmV3IGkuRW5kcG9pbnQoZSk7ZGVsZXRlIHIuZW5kcG9pbnRJZCxuLmNhbGwoaS5DbGllbnRNZXRob2RzLkFERF9ORVdfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksZW5kcG9pbnQ6cn0sdCl9LGgucHJvdG90eXBlLnRyYW5zZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49aS5jb3JlLmdldENsaWVudCgpLHI9bmV3IGkuRW5kcG9pbnQoZSk7ZGVsZXRlIHIuZW5kcG9pbnRJZCxuLmNhbGwoaS5DbGllbnRNZXRob2RzLlRSQU5TRkVSX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGVuZHBvaW50OnJ9LHQpfTt2YXIgZj1mdW5jdGlvbihlKXtpLkNvbnRhY3QuY2FsbCh0aGlzLGUuY29udGFjdElkKSx0aGlzLmNvbnRhY3REYXRhPWV9OyhmLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGgucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZixmLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhY3REYXRhfSxmLnByb3RvdHlwZS5fY3JlYXRlQ29ubmVjdGlvbkFQST1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkuQ29ubmVjdGlvblNuYXBzaG90KGUpfTt2YXIgZz1mdW5jdGlvbihlLHQpe3RoaXMuY29udGFjdElkPWUsdGhpcy5jb25uZWN0aW9uSWQ9dCx0aGlzLl9pbml0TWVkaWFDb250cm9sbGVyKCl9O2cucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbm5lY3Rpb25EYXRhKHRoaXMuZ2V0Q29udGFjdElkKCksdGhpcy5nZXRDb25uZWN0aW9uSWQoKSl9LGcucHJvdG90eXBlLmdldENvbnRhY3RJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhY3RJZH0sZy5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbklkfSxnLnByb3RvdHlwZS5nZXRFbmRwb2ludD1mdW5jdGlvbigpe3JldHVybiBuZXcgaS5FbmRwb2ludCh0aGlzLl9nZXREYXRhKCkuZW5kcG9pbnQpfSxnLnByb3RvdHlwZS5nZXRBZGRyZXNzPWcucHJvdG90eXBlLmdldEVuZHBvaW50LGcucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zdGF0ZX0sZy5wcm90b3R5cGUuZ2V0U3RhdHVzPWcucHJvdG90eXBlLmdldFN0YXRlLGcucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gaS5ub3coKS10aGlzLl9nZXREYXRhKCkuc3RhdGUudGltZXN0YW1wLmdldFRpbWUoKStpLmNvcmUuZ2V0U2tldygpfSxnLnByb3RvdHlwZS5nZXRTdGF0dXNEdXJhdGlvbj1nLnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uLGcucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnR5cGV9LGcucHJvdG90eXBlLmlzSW5pdGlhbENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmluaXRpYWx9LGcucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29udGFpbnMoaS5DT05ORUNUSU9OX0FDVElWRV9TVEFURVMsdGhpcy5nZXRTdGF0dXMoKS50eXBlKX0sZy5wcm90b3R5cGUuaXNDb25uZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5jb250YWlucyhpLkNPTk5FQ1RJT05fQ09OTkVDVEVEX1NUQVRFUyx0aGlzLmdldFN0YXR1cygpLnR5cGUpfSxnLnByb3RvdHlwZS5pc0Nvbm5lY3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09aS5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RJTkd9LGcucHJvdG90eXBlLmlzT25Ib2xkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdHVzKCkudHlwZT09PWkuQ29ubmVjdGlvblN0YXRlVHlwZS5IT0xEfSxnLnByb3RvdHlwZS5nZXRTb2Z0cGhvbmVNZWRpYUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNvZnRwaG9uZU1lZGlhSW5mb30sZy5wcm90b3R5cGUuZ2V0TW9uaXRvckluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JpbmdJbmZvfSxnLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGUpe2kucHVibGlzaENsaWNrU3RyZWFtRGF0YSh7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2xpY2tUeXBlOmkuQ2xpY2tUeXBlLkhBTkdVUCxjbGlja1RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksaS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLkRFU1RST1lfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxnLnByb3RvdHlwZS5zZW5kRGlnaXRzPWZ1bmN0aW9uKGUsdCl7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlNFTkRfRElHSVRTLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKSxkaWdpdHM6ZX0sdCl9LGcucHJvdG90eXBlLmhvbGQ9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLkhPTERfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxnLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oZSl7aS5jb3JlLmdldENsaWVudCgpLmNhbGwoaS5DbGllbnRNZXRob2RzLlJFU1VNRV9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LGcucHJvdG90eXBlLnRvU25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuQ29ubmVjdGlvblNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9LGcucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7dGhpcy5nZXRNZWRpYUluZm8oKSYmaS5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcykuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpfSxnLnByb3RvdHlwZS5faXNBZ2VudENvbm5lY3Rpb25UeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRUeXBlKCk7cmV0dXJuIGU9PT1pLkNvbm5lY3Rpb25UeXBlLkFHRU5UfHxlPT09aS5Db25uZWN0aW9uVHlwZS5NT05JVE9SSU5HfSxnLnByb3RvdHlwZS5faXNBZ2VudENvbm5lY3Rpb25UeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRUeXBlKCk7cmV0dXJuIGU9PT1pLkNvbm5lY3Rpb25UeXBlLkFHRU5UfHxlPT09aS5Db25uZWN0aW9uVHlwZS5NT05JVE9SSU5HfTt2YXIgbT1mdW5jdGlvbihlKXt0aGlzLmNvbnRhY3RJZD1lfTttLnByb3RvdHlwZS5nZXRTcGVha2VySWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciB0PWkuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIG89e2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbnN0YW5jZUlkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxhd3NBY2NvdW50SWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCl9O2kuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlcklkIGNhbGxlZCIpLndpdGhPYmplY3Qobykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuR0VUX0NPTlRBQ1Qsbyx7c3VjY2VzczpmdW5jdGlvbihlKXtpZihlLmNvbnRhY3REYXRhLmN1c3RvbWVySWQpe3ZhciB0PXtzcGVha2VySWQ6ZS5jb250YWN0RGF0YS5jdXN0b21lcklkfTtpLmdldExvZygpLmluZm8oImdldFNwZWFrZXJJZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbih0KX1lbHNle3ZhciBvPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuTk9fU1BFQUtFUl9JRF9GT1VORCwiTm8gc3BlYWtlcklkIGFzc290aWF0ZWQgd2l0aCB0aGlzIGNhbGwiKTtyKG8pfX0sZmFpbHVyZTpmdW5jdGlvbihlKXtpLmdldExvZygpLmVycm9yKCJHZXQgU3BlYWtlcklkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgdD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkdFVF9TUEVBS0VSX0lEX0ZBSUxFRCwiR2V0IFNwZWFrZXJJZCBmYWlsZWQiLGUpO3IodCl9fSl9KSl9LG0ucHJvdG90eXBlLmdldFNwZWFrZXJTdGF0dXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciB0PWkuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihvKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGE9e1NwZWFrZXJJZDppLmFzc2VydE5vdE51bGwoby5zcGVha2VySWQsInNwZWFrZXJJZCIpLERvbWFpbklkOmV9O2kuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlclN0YXR1cyBjYWxsZWQiKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLkRFU0NSSUJFX1NQRUFLRVIsYSx7c3VjY2VzczpmdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oImdldFNwZWFrZXJTdGF0dXMgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKTtzd2l0Y2godC5zdGF0dXMpe2Nhc2UgNDAwOmNhc2UgNDA0OnZhciBvPXQ7by50eXBlPW8udHlwZT9vLnR5cGU6aS5Wb2ljZUlkRXJyb3JUeXBlcy5TUEVBS0VSX0lEX05PVF9FTlJPTExFRCxpLmdldExvZygpLmluZm8oIlNwZWFrZXIgaXMgbm90IGVucm9sbGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihvKTticmVhaztkZWZhdWx0OmkuZ2V0TG9nKCkuZXJyb3IoImdldFNwZWFrZXJTdGF0dXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBhPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuR0VUX1NQRUFLRVJfU1RBVFVTX0ZBSUxFRCwiR2V0IFNwZWFrZXJTdGF0dXMgZmFpbGVkIixlKTtyKGEpfX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cihlKX0pKX0pKX0sbS5wcm90b3R5cGUuX29wdE91dFNwZWFrZXJJbkxjbXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9aS5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxhKXt2YXIgcz17Q29udGFjdElkOm4uY29udGFjdElkLEluc3RhbmNlSWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLEFXU0FjY291bnRJZDppLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBV1NBY2NvdW50SWQoKSxDdXN0b21lcklkOmkuYXNzZXJ0Tm90TnVsbChlLCJzcGVha2VySWQiKSxWb2ljZUlkUmVzdWx0OntTcGVha2VyT3B0ZWRPdXQ6ITAsZ2VuZXJhdGVkU3BlYWtlcklkOnR9fTtpLmdldExvZygpLmluZm8oIl9vcHRPdXRTcGVha2VySW5MY21zIGNhbGxlZCIpLndpdGhPYmplY3Qocykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuVVBEQVRFX1ZPSUNFX0lEX0RBVEEscyx7c3VjY2VzczpmdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXJJbkxjbXMgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigib3B0T3V0U3BlYWtlckluTGNtcyBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5PUFRfT1VUX1NQRUFLRVJfSU5fTENNU19GQUlMRUQsIm9wdE91dFNwZWFrZXJJbkxjbXMgZmFpbGVkIixlKTthKHQpfX0pfSkpfSxtLnByb3RvdHlwZS5vcHRPdXRTcGVha2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuZ2V0U3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24obyl7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGEpe3ZhciBzPW8uc3BlYWtlcklkLGM9e1NwZWFrZXJJZDppLmFzc2VydE5vdE51bGwocywic3BlYWtlcklkIiksRG9tYWluSWQ6YX07aS5nZXRMb2coKS5pbmZvKCJvcHRPdXRTcGVha2VyIGNhbGxlZCIpLndpdGhPYmplY3QoYykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuT1BUX09VVF9TUEVBS0VSLGMse3N1Y2Nlc3M6ZnVuY3Rpb24odCl7ZS5fb3B0T3V0U3BlYWtlckluTGNtcyhzLHQuZ2VuZXJhdGVkU3BlYWtlcklkKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksaS5nZXRMb2coKS5pbmZvKCJvcHRPdXRTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QodCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuKHQpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoIm9wdE91dFNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuT1BUX09VVF9TUEVBS0VSX0ZBSUxFRCwib3B0T3V0U3BlYWtlciBmYWlsZWQuIixlKTtyKHQpfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpfSxtLnByb3RvdHlwZS5kZWxldGVTcGVha2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgdD1pLmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuZ2V0U3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24obyl7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBhPXtTcGVha2VySWQ6aS5hc3NlcnROb3ROdWxsKG8uc3BlYWtlcklkLCJzcGVha2VySWQiKSxEb21haW5JZDplfTtpLmdldExvZygpLmluZm8oImRlbGV0ZVNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5ERUxFVEVfU1BFQUtFUixhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuaW5mbygiZGVsZXRlU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtpLmdldExvZygpLmVycm9yKCJkZWxldGVTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgdD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkRFTEVURV9TUEVBS0VSX0ZBSUxFRCwiZGVsZXRlU3BlYWtlciBmYWlsZWQuIixlKTtyKHQpfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpfSkpfSxtLnByb3RvdHlwZS5zdGFydFNlc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciB0PWkuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKG8pe3ZhciBhPXtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5zdGFuY2VJZDppLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksY3VzdG9tZXJBY2NvdW50SWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCksY2xpZW50VG9rZW46QVdTLnV0aWwudXVpZC52NCgpLGRvbWFpbklkOm99O2kuZ2V0TG9nKCkuaW5mbygic3RhcnRTZXNzaW9uIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuU1RBUlRfVk9JQ0VfSURfU0VTU0lPTixhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKGUuc2Vzc2lvbklkKW4oZSk7ZWxzZXtpLmdldExvZygpLmVycm9yKCJzdGFydFZvaWNlSWRTZXNzaW9uIGZhaWxlZCwgbm8gc2Vzc2lvbiBpZCByZXR1cm5lZCIpLndpdGhPYmplY3Qoe2RhdGE6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5TVEFSVF9TRVNTSU9OX0ZBSUxFRCwiTm8gc2Vzc2lvbiBpZCByZXR1cm5lZCBmcm9tIHN0YXJ0IHNlc3Npb24gYXBpIik7cih0KX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigic3RhcnRWb2ljZUlkU2Vzc2lvbiBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5TVEFSVF9TRVNTSU9OX0ZBSUxFRCwic3RhcnRWb2ljZUlkU2Vzc2lvbiBmYWlsZWQiLGUpO3IodCl9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoZSl9KSl9KSl9LG0ucHJvdG90eXBlLmV2YWx1YXRlU3BlYWtlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKSxyPWkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKSxvPTA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihhLHMpe2Z1bmN0aW9uIGMoKXt0LmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHU9e1Nlc3Npb25OYW1lT3JJZDpyLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLERvbWFpbklkOmV9O2kuZ2V0TG9nKCkuaW5mbygiZXZhbHVhdGVTcGVha2VyIGNhbGxlZCIpLndpdGhPYmplY3QodSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwoaS5BZ2VudEFwcENsaWVudE1ldGhvZHMuRVZBTFVBVEVfU0VTU0lPTix1LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKCsrbzxpLlZvaWNlSWRDb25zdGFudHMuRVZBTFVBVElPTl9NQVhfUE9MTF9USU1FUylpZihlLlN0cmVhbWluZ1N0YXR1cz09PWkuVm9pY2VJZFN0cmVhbWluZ1N0YXR1cy5QRU5ESU5HX0NPTkZJR1VSQVRJT04pc2V0VGltZW91dChjLGkuVm9pY2VJZENvbnN0YW50cy5FVkFMVUFUSU9OX1BPTExJTkdfSU5URVJWQUwpO2Vsc2V7aWYoZS5BdXRoZW50aWNhdGlvblJlc3VsdHx8KGUuQXV0aGVudGljYXRpb25SZXN1bHQ9e30sZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5BQkxFRCksZS5GcmF1ZERldGVjdGlvblJlc3VsdHx8KGUuRnJhdWREZXRlY3Rpb25SZXN1bHQ9e30sZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5OT1RfRU5BQkxFRCksIXQuaXNBdXRoRW5hYmxlZChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmIXQuaXNGcmF1ZEVuYWJsZWQoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikpcmV0dXJuIGkuZ2V0TG9nKCkuaW5mbygiZXZhbHVhdGVTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkIGEoZSk7aWYoZS5TdHJlYW1pbmdTdGF0dXM9PT1pLlZvaWNlSWRTdHJlYW1pbmdTdGF0dXMuRU5ERUQmJih0LmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFKSx0LmlzRnJhdWRSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikmJihlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPWkuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRSkpLHQuaXNBdXRoUmVzdWx0SW5jb25jbHVzaXZlKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiZ0LmlzRnJhdWRSZXN1bHRJbmNvbmNsdXNpdmUoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikpcmV0dXJuIGkuZ2V0TG9nKCkuaW5mbygiZXZhbHVhdGVTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkIGEoZSk7aWYoIXQuaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiZ0LmlzQXV0aEVuYWJsZWQoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikpc3dpdGNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pe2Nhc2UgaS5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5BQ0NFUFQ6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5BVVRIRU5USUNBVEVEO2JyZWFrO2Nhc2UgaS5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5SRUpFQ1Q6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfQVVUSEVOVElDQVRFRDticmVhaztjYXNlIGkuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uU1BFQUtFUl9PUFRFRF9PVVQ6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5PUFRFRF9PVVQ7YnJlYWs7Y2FzZSBpLlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLlNQRUFLRVJfTk9UX0VOUk9MTEVEOmUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOUk9MTEVEO2JyZWFrO2RlZmF1bHQ6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5FUlJPUn1pZighdC5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pJiZ0LmlzRnJhdWRFbmFibGVkKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pKXN3aXRjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKXtjYXNlIGkuVm9pY2VJZEZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uSElHSF9SSVNLOmUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249aS5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uSElHSF9SSVNLO2JyZWFrO2Nhc2UgaS5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5MT1dfUklTSzplLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPWkuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkxPV19SSVNLO2JyZWFrO2RlZmF1bHQ6ZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj1pLkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5FUlJPUn1pZighdC5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJiF0LmlzRnJhdWRSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikpcmV0dXJuIGkuZ2V0TG9nKCkuaW5mbygiZXZhbHVhdGVTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkIGEoZSk7c2V0VGltZW91dChjLGkuVm9pY2VJZENvbnN0YW50cy5FVkFMVUFUSU9OX1BPTExJTkdfSU5URVJWQUwpfWVsc2V7aS5nZXRMb2coKS5lcnJvcigiZXZhbHVhdGVTcGVha2VyIHRpbWVvdXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuRVZBTFVBVEVfU1BFQUtFUl9USU1FT1VULCJldmFsdWF0ZVNwZWFrZXIgdGltZW91dCIpO3Mobil9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciB0O3N3aXRjaChKU09OLnBhcnNlKGUpLnN0YXR1cyl7Y2FzZSA0MDA6Y2FzZSA0MDQ6dD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLlNFU1NJT05fTk9UX0VYSVNUUywiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIixlKSxpLmdldExvZygpLmVycm9yKCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7YnJlYWs7ZGVmYXVsdDp0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuRVZBTFVBVEVfU1BFQUtFUl9GQUlMRUQsImV2YWx1YXRlU3BlYWtlciBmYWlsZWQiLGUpLGkuZ2V0TG9nKCkuZXJyb3IoImV2YWx1YXRlU3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cyh0KX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7cyhlKX0pKX1lP3Quc3RhcnRTZXNzaW9uKCkudGhlbigoZnVuY3Rpb24oZSl7dC5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oZSl7c2V0VGltZW91dChjLGkuVm9pY2VJZENvbnN0YW50cy5FVkFMVUFURV9TRVNTSU9OX0RFTEFZKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigic3luY1NwZWFrZXJJZCBmYWlsZWQgd2hlbiBzZXNzaW9uIHN0YXJ0TmV3PXRydWUiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscyhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigic3RhcnRTZXNzaW9uIGZhaWxlZCB3aGVuIHNlc3Npb24gc3RhcnROZXc9dHJ1ZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzKGUpfSkpOnQuc3luY1NwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKCl7YygpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpLmdldExvZygpLmVycm9yKCJzeW5jU3BlYWtlcklkIGZhaWxlZCB3aGVuIHNlc3Npb24gc3RhcnROZXc9ZmFsc2UiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscyhlKX0pKX0pKX0sbS5wcm90b3R5cGUuZGVzY3JpYmVTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWkuY29yZS5nZXRDbGllbnQoKSxuPWkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBhPXtTZXNzaW9uTmFtZU9ySWQ6bi5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxEb21haW5JZDplfTtpLmdldExvZygpLmluZm8oImRlc2NyaWJlU2Vzc2lvbiBjYWxsZWQiKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLkRFU0NSSUJFX1NFU1NJT04sYSx7c3VjY2VzczpmdW5jdGlvbihlKXtyKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuZXJyb3IoImRlc2NyaWJlU2Vzc2lvbiBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5ERVNDUklCRV9TRVNTSU9OX0ZBSUxFRCwiZGVzY3JpYmVTZXNzaW9uIGZhaWxlZCIsZSk7byh0KX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sbS5wcm90b3R5cGUuY2hlY2tFbnJvbGxtZW50U3RhdHVzPWZ1bmN0aW9uKGUpe2kuZ2V0TG9nKCkuaW5mbygiY2hlY2tFbnJvbGxtZW50U3RhdHVzIGNhbGxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHQ9dGhpcyxuPTAscj0hMTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8sYSl7IWZ1bmN0aW9uIHMoKXtpZigrK248aS5Wb2ljZUlkQ29uc3RhbnRzLkVOUk9MTE1FTlRfTUFYX1BPTExfVElNRVMpdC5kZXNjcmliZVNlc3Npb24oKS50aGVuKChmdW5jdGlvbihuKXtzd2l0Y2gobi5TZXNzaW9uLkVucm9sbG1lbnRSZXF1ZXN0RGV0YWlscy5TdGF0dXMpe2Nhc2UgaS5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuQ09NUExFVEVEOm8obik7YnJlYWs7Y2FzZSBpLlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5JTl9QUk9HUkVTUzpyfHwiZnVuY3Rpb24iIT10eXBlb2YgZXx8KGUobikscj0hMCksc2V0VGltZW91dChzLGkuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX1BPTExJTkdfSU5URVJWQUwpO2JyZWFrO2Nhc2UgaS5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuTk9UX0VOT1VHSF9TUEVFQ0g6bi5TZXNzaW9uLlN0cmVhbWluZ1N0YXR1cyE9PWkuVm9pY2VJZFN0cmVhbWluZ1N0YXR1cy5FTkRFRD9zZXRUaW1lb3V0KHMsaS5Wb2ljZUlkQ29uc3RhbnRzLkVOUk9MTE1FTlRfUE9MTElOR19JTlRFUlZBTCk6c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnN0YXJ0U2Vzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKGUpe3MoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSx0KXthKGUpfSkpfSksaS5Wb2ljZUlkQ29uc3RhbnRzLlNUQVJUX1NFU1NJT05fREVMQVkpO2JyZWFrO2RlZmF1bHQ6dmFyIGM9bi5TZXNzaW9uLkVucm9sbG1lbnRSZXF1ZXN0RGV0YWlscy5NZXNzYWdlP24uU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuTWVzc2FnZToiZW5yb2xsU3BlYWtlciBmYWlsZWQuIFVua25vd24gZW5yb2xsbWVudCBzdGF0dXMgaGFzIGJlZW4gcmVjZWl2ZWQiO2kuZ2V0TG9nKCkuZXJyb3IoYykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgdT1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkVOUk9MTF9TUEVBS0VSX0ZBSUxFRCxjLG4uU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuU3RhdHVzKTthKHUpfX0pKTtlbHNle2kuZ2V0TG9nKCkuZXJyb3IoImVucm9sbFNwZWFrZXIgdGltZW91dCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGM9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5FTlJPTExfU1BFQUtFUl9USU1FT1VULCJlbnJvbGxTcGVha2VyIHRpbWVvdXQiKTthKGMpfX0oKX0pKX0sbS5wcm90b3R5cGUuZW5yb2xsU3BlYWtlcj1mdW5jdGlvbihlKXtpLmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXIgY2FsbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgdD10aGlzO3JldHVybiB0LmNoZWNrQ29uZmVyZW5jZUNhbGwoKSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXt0LnN5bmNTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbigpe3QuZ2V0U3BlYWtlclN0YXR1cygpLnRoZW4oKGZ1bmN0aW9uKG8pe28uU3BlYWtlciYmby5TcGVha2VyLlN0YXR1cz09aS5Wb2ljZUlkU3BlYWtlclN0YXR1cy5PUFRFRF9PVVQ/dC5kZWxldGVTcGVha2VyKCkudGhlbigoZnVuY3Rpb24oKXt0LmVucm9sbFNwZWFrZXJIZWxwZXIobixyLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKGUpfSkpOnQuZW5yb2xsU3BlYWtlckhlbHBlcihuLHIsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoZSl9KSl9KSl9LG0ucHJvdG90eXBlLmVucm9sbFNwZWFrZXJIZWxwZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsbz1pLmNvcmUuZ2V0Q2xpZW50KCksYT1pLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7ci5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKHMpe3ZhciBjPXtTZXNzaW9uTmFtZU9ySWQ6YS5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxEb21haW5JZDpzfTtpLmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXJIZWxwZXIgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8uY2FsbChpLkFnZW50QXBwQ2xpZW50TWV0aG9kcy5FTlJPTExfQllfU0VTU0lPTixjLHtzdWNjZXNzOmZ1bmN0aW9uKG8pe28uU3RhdHVzPT09aS5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuQ09NUExFVEVEPyhpLmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUobykpOnIuY2hlY2tFbnJvbGxtZW50U3RhdHVzKG4pLnRoZW4oKGZ1bmN0aW9uKHQpe2kuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZSh0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dChlKX0pKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtpLmdldExvZygpLmVycm9yKCJlbnJvbGxTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLkVOUk9MTF9TUEVBS0VSX0ZBSUxFRCwiZW5yb2xsU3BlYWtlciBmYWlsZWQiLGUpO3Qobil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QoZSl9KSl9LG0ucHJvdG90eXBlLl91cGRhdGVTcGVha2VySWRJbkxjbXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9aS5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxhKXt2YXIgcz17Q29udGFjdElkOm4uY29udGFjdElkLEluc3RhbmNlSWQ6aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLEFXU0FjY291bnRJZDppLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBV1NBY2NvdW50SWQoKSxDdXN0b21lcklkOmkuYXNzZXJ0Tm90TnVsbChlLCJzcGVha2VySWQiKSxWb2ljZUlkUmVzdWx0OntnZW5lcmF0ZWRTcGVha2VySWQ6dH19O2kuZ2V0TG9nKCkuaW5mbygiX3VwZGF0ZVNwZWFrZXJJZEluTGNtcyBjYWxsZWQiKS53aXRoT2JqZWN0KHMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLlVQREFURV9WT0lDRV9JRF9EQVRBLHMse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJ1cGRhdGVTcGVha2VySWRJbkxjbXMgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigidXBkYXRlU3BlYWtlcklkSW5MY21zIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgdD1pLlZvaWNlSWRFcnJvcihpLlZvaWNlSWRFcnJvclR5cGVzLlVQREFURV9TUEVBS0VSX0lEX0lOX0xDTVNfRkFJTEVELCJ1cGRhdGVTcGVha2VySWRJbkxjbXMgZmFpbGVkIixlKTthKHQpfX0pfSkpfSxtLnByb3RvdHlwZS51cGRhdGVTcGVha2VySWRJblZvaWNlSWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj1pLmNvcmUuZ2V0Q2xpZW50KCkscj1pLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGEpe3QuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihzKXt2YXIgYz17U2Vzc2lvbk5hbWVPcklkOnIuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsU3BlYWtlcklkOmkuYXNzZXJ0Tm90TnVsbChlLCJzcGVha2VySWQiKSxEb21haW5JZDpzfTtpLmdldExvZygpLmluZm8oInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBjYWxsZWQiKS53aXRoT2JqZWN0KGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLlVQREFURV9TRVNTSU9OLGMse3N1Y2Nlc3M6ZnVuY3Rpb24obil7aS5nZXRMb2coKS5pbmZvKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciByPW4mJm4uU2Vzc2lvbiYmbi5TZXNzaW9uLkdlbmVyYXRlZFNwZWFrZXJJZDt0Ll91cGRhdGVTcGVha2VySWRJbkxjbXMoZSxyKS50aGVuKChmdW5jdGlvbigpe28obil9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EoZSl9KSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dmFyIHQ7c3dpdGNoKEpTT04ucGFyc2UoZSkuc3RhdHVzKXtjYXNlIDQwMDpjYXNlIDQwNDp0PWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuU0VTU0lPTl9OT1RfRVhJU1RTLCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiLGUpLGkuZ2V0TG9nKCkuZXJyb3IoInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTticmVhaztkZWZhdWx0OnQ9aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5VUERBVEVfU1BFQUtFUl9JRF9GQUlMRUQsInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBmYWlsZWQiLGUpLGkuZ2V0TG9nKCkuZXJyb3IoInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9YSh0KX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7YShlKX0pKX0pKX0sbS5wcm90b3R5cGUuc3luY1NwZWFrZXJJZD1mdW5jdGlvbigpe2kuZ2V0TG9nKCkuaW5mbygic3luY1NwZWFrZXJJZCBjYWxsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBlPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2UuZ2V0U3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24ocil7ZS51cGRhdGVTcGVha2VySWRJblZvaWNlSWQoci5zcGVha2VySWQpLnRoZW4oKGZ1bmN0aW9uKGUpe3QoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24oZSl9KSl9KSl9LG0ucHJvdG90eXBlLmdldERvbWFpbklkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe2lmKChuZXcgaS5BZ2VudCkuZ2V0UGVybWlzc2lvbnMoKS5pbmNsdWRlcyhpLkFnZW50UGVybWlzc2lvbnMuVk9JQ0VfSUQpKWlmKGkuY29yZS52b2ljZUlkRG9tYWluSWQpZShpLmNvcmUudm9pY2VJZERvbWFpbklkKTtlbHNle3ZhciBuPWkuY29yZS5nZXRDbGllbnQoKSxyPXtJbnN0YW5jZUlkOmkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxJbnRlZ3JhdGlvblR5cGU6IlZPSUNFX0lEIn07aS5nZXRMb2coKS5pbmZvKCJnZXREb21haW5JZCBjYWxsZWQiKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKGkuQWdlbnRBcHBDbGllbnRNZXRob2RzLkxJU1RfSU5URUdSQVRJT05fQVNTT0NJQVRJT05TLHIse3N1Y2Nlc3M6ZnVuY3Rpb24obil7dHJ5e3ZhciByO2lmKG4uSW50ZWdyYXRpb25Bc3NvY2lhdGlvblN1bW1hcnlMaXN0Lmxlbmd0aD49MSYmKHI9bi5JbnRlZ3JhdGlvbkFzc29jaWF0aW9uU3VtbWFyeUxpc3RbMF0uSW50ZWdyYXRpb25Bcm4ucmVwbGFjZSgvXi4qZG9tYWluXC8vaSwiIikpLCFyKXtpLmdldExvZygpLmluZm8oImdldERvbWFpbklkOiBubyBkb21haW5JZCBmb3VuZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG89aS5Wb2ljZUlkRXJyb3IoaS5Wb2ljZUlkRXJyb3JUeXBlcy5OT19ET01BSU5fSURfRk9VTkQpO3JldHVybiB2b2lkIHQobyl9aS5nZXRMb2coKS5pbmZvKCJnZXREb21haW5JZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaS5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKGkuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6aS5Wb2ljZUlkRXZlbnRzLlVQREFURV9ET01BSU5fSUQsZGF0YTp7ZG9tYWluSWQ6cn19KSxlKHIpfWNhdGNoKGUpe2kuZ2V0TG9nKCkuZXJyb3IoImdldERvbWFpbklkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuR0VUX0RPTUFJTl9JRF9GQUlMRUQsImdldERvbWFpbklkIGZhaWxlZCIsZSksdChvKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5lcnJvcigiZ2V0RG9tYWluSWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPWkuVm9pY2VJZEVycm9yKGkuVm9pY2VJZEVycm9yVHlwZXMuR0VUX0RPTUFJTl9JRF9GQUlMRUQsImdldERvbWFpbklkIGZhaWxlZCIsZSk7dChuKX19KX1lbHNlIHQobmV3IEVycm9yKCJBZ2VudCBkb2Vzbid0IGhhdmUgdGhlIHBlcm1pc3Npb24gZm9yIFZvaWNlIElEIikpfSkpfSxtLnByb3RvdHlwZS5jaGVja0NvbmZlcmVuY2VDYWxsPWZ1bmN0aW9uKCl7aWYoaS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpLmNvbm5lY3Rpb25zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29udGFpbnMoaS5DT05ORUNUSU9OX0FDVElWRV9TVEFURVMsZS5zdGF0ZS50eXBlKX0pKS5sZW5ndGg+Mil0aHJvdyBuZXcgaS5Ob3RJbXBsZW1lbnRlZEVycm9yKCJWb2ljZUlkIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGNvbmZlcmVuY2UgY2FsbHMiKX0sbS5wcm90b3R5cGUuaXNBdXRoRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PWkuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEfSxtLnByb3RvdHlwZS5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pLlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTk9VR0hfU1BFRUNIfSxtLnByb3RvdHlwZS5pc0F1dGhSZXN1bHRJbmNvbmNsdXNpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pLkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkV9LG0ucHJvdG90eXBlLmlzRnJhdWRFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09aS5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUR9LG0ucHJvdG90eXBlLmlzRnJhdWRSZXN1bHROb3RFbm91Z2hTcGVlY2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1pLlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTk9VR0hfU1BFRUNIfSxtLnByb3RvdHlwZS5pc0ZyYXVkUmVzdWx0SW5jb25jbHVzaXZlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09aS5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFfTt2YXIgdj1mdW5jdGlvbihlLHQpe3RoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yPW5ldyBtKGUpLGcuY2FsbCh0aGlzLGUsdCl9Oyh2LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dix2LnByb3RvdHlwZS5nZXRTb2Z0cGhvbmVNZWRpYUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNvZnRwaG9uZU1lZGlhSW5mb30sdi5wcm90b3R5cGUuZ2V0TWVkaWFJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zb2Z0cGhvbmVNZWRpYUluZm99LHYucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiBpLk1lZGlhVHlwZS5TT0ZUUEhPTkV9LHYucHJvdG90eXBlLmdldE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3JldHVybiBpLmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKX0sdi5wcm90b3R5cGUuZ2V0Vm9pY2VJZFNwZWFrZXJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5nZXRTcGVha2VySWQoKX0sdi5wcm90b3R5cGUuZ2V0Vm9pY2VJZFNwZWFrZXJTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZ2V0U3BlYWtlclN0YXR1cygpfSx2LnByb3RvdHlwZS5vcHRPdXRWb2ljZUlkU3BlYWtlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5vcHRPdXRTcGVha2VyKCl9LHYucHJvdG90eXBlLmRlbGV0ZVZvaWNlSWRTcGVha2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmRlbGV0ZVNwZWFrZXIoKX0sdi5wcm90b3R5cGUuZXZhbHVhdGVTcGVha2VyV2l0aFZvaWNlSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmV2YWx1YXRlU3BlYWtlcihlKX0sdi5wcm90b3R5cGUuZW5yb2xsU3BlYWtlckluVm9pY2VJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZW5yb2xsU3BlYWtlcihlKX0sdi5wcm90b3R5cGUudXBkYXRlVm9pY2VJZFNwZWFrZXJJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IudXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkKGUpfSx2LnByb3RvdHlwZS5nZXRRdWlja0Nvbm5lY3ROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5xdWlja0Nvbm5lY3ROYW1lfSx2LnByb3RvdHlwZS5pc1NpbGVudE1vbml0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb25pdG9yU3RhdHVzKCk9PT1pLk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SfSx2LnByb3RvdHlwZS5pc0JhcmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09aS5Nb25pdG9yaW5nTW9kZS5CQVJHRX0sdi5wcm90b3R5cGUuaXNCYXJnZUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyhpLk1vbml0b3JpbmdNb2RlLkJBUkdFKX0sdi5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKGkuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IpfSx2LnByb3RvdHlwZS5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yQ2FwYWJpbGl0aWVzfSx2LnByb3RvdHlwZS5nZXRNb25pdG9yU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yU3RhdHVzfSx2LnByb3RvdHlwZS5pc011dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm11dGV9LHYucHJvdG90eXBlLmlzRm9yY2VkTXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuZm9yY2VkTXV0ZX0sdi5wcm90b3R5cGUubXV0ZVBhcnRpY2lwYW50PWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5NVVRFX1BBUlRJQ0lQQU5ULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LHYucHJvdG90eXBlLnVubXV0ZVBhcnRpY2lwYW50PWZ1bmN0aW9uKGUpe2kuY29yZS5nZXRDbGllbnQoKS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5VTk1VVEVfUEFSVElDSVBBTlQse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sdi5wcm90b3R5cGUuY2FuU2VuZFZpZGVvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5WaWRlbz09PWkuVmlkZW9DYXBhYmlsaXR5LlNFTkR9LHYucHJvdG90eXBlLmNhblNlbmRTY3JlZW5TaGFyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuU2NyZWVuU2hhcmU9PT1pLlNjcmVlblNoYXJlQ2FwYWJpbGl0eS5TRU5EfSx2LnByb3RvdHlwZS5nZXRDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNhcGFiaWxpdGllc30sdi5wcm90b3R5cGUuZ2V0VmlkZW9Db25uZWN0aW9uSW5mbz1mdW5jdGlvbigpe3ZhciBlPWkuY29yZS5nZXRDbGllbnQoKSx0PXt0cmFuc3BvcnRUeXBlOmkuVFJBTlNQT1JUX1RZUEVTLldFQl9SVEMsY29udGFjdElkOnRoaXMuY29udGFjdElkfTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHQse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJnZXRWaWRlb0Nvbm5lY3Rpb25JbmZvIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlLndlYlJUQ1RyYW5zcG9ydCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSx0KXtpLmdldExvZygpLmVycm9yKCJnZXRWaWRlb0Nvbm5lY3Rpb25JbmZvIGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTp0fSkscihFcnJvcigiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBmYWlsZWQiKSl9fSl9KSl9O3ZhciB5PWZ1bmN0aW9uKGUsdCl7Zy5jYWxsKHRoaXMsZSx0KX07KHkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj15LHkucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvO2lmKGUpe3ZhciB0PWkuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKSxuPXtjb250YWN0SWQ6dGhpcy5jb250YWN0SWQsaW5pdGlhbENvbnRhY3RJZDp0LmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLHBhcnRpY2lwYW50SWQ6dGhpcy5jb25uZWN0aW9uSWQsZ2V0Q29ubmVjdGlvblRva2VuOmkuaGl0Y2godGhpcyx0aGlzLmdldENvbm5lY3Rpb25Ub2tlbil9O2lmKGUuY29ubmVjdGlvbkRhdGEpdHJ5e24ucGFydGljaXBhbnRUb2tlbj1KU09OLnBhcnNlKGUuY29ubmVjdGlvbkRhdGEpLkNvbm5lY3Rpb25BdXRoZW50aWNhdGlvblRva2VufWNhdGNoKHQpe2kuZ2V0TG9nKCkuZXJyb3IoaS5Mb2dDb21wb25lbnQuQ0hBVCwiQ29ubmVjdGlvbiBkYXRhIGlzIGludmFsaWQiKS53aXRoT2JqZWN0KGUpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnBhcnRpY2lwYW50VG9rZW49bnVsbH1yZXR1cm4gbi5wYXJ0aWNpcGFudFRva2VuPW4ucGFydGljaXBhbnRUb2tlbnx8bnVsbCxuLm9yaWdpbmFsSW5mbz10aGlzLl9nZXREYXRhKCkuY2hhdE1lZGlhSW5mbyxufXJldHVybiBudWxsfSx5LnByb3RvdHlwZS5nZXRDb25uZWN0aW9uVG9rZW49ZnVuY3Rpb24oKXt2YXIgZT1pLmNvcmUuZ2V0Q2xpZW50KCksdD0oaS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpLHt0cmFuc3BvcnRUeXBlOmkuVFJBTlNQT1JUX1RZUEVTLkNIQVRfVE9LRU4scGFydGljaXBhbnRJZDp0aGlzLmNvbm5lY3Rpb25JZCxjb250YWN0SWQ6dGhpcy5jb250YWN0SWR9KTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5jYWxsKGkuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHQse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aS5nZXRMb2coKS5pbmZvKCJnZXRDb25uZWN0aW9uVG9rZW4gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsdCl7aS5nZXRMb2coKS5lcnJvcigiZ2V0Q29ubmVjdGlvblRva2VuIGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTp0fSkscihFcnJvcigiZ2V0Q29ubmVjdGlvblRva2VuIGZhaWxlZCIpKX19KX0pKX0seS5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTWVkaWFUeXBlLkNIQVR9LHkucHJvdG90eXBlLmdldE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3JldHVybiBpLmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKX0seS5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt0aGlzLl9pc0FnZW50Q29ubmVjdGlvblR5cGUoKSYmaS5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcykuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpfSx5LnByb3RvdHlwZS5pc0JhcmdlRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKGkuTW9uaXRvcmluZ01vZGUuQkFSR0UpfSx5LnByb3RvdHlwZS5pc1NpbGVudE1vbml0b3JFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXMoaS5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUil9LHkucHJvdG90eXBlLmdldE1vbml0b3JDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JDYXBhYmlsaXRpZXN9LHkucHJvdG90eXBlLmlzQmFyZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb25pdG9yU3RhdHVzKCk9PT1pLk1vbml0b3JpbmdNb2RlLkJBUkdFfSx5LnByb3RvdHlwZS5pc1NpbGVudE1vbml0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb25pdG9yU3RhdHVzKCk9PT1pLk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SfSx5LnByb3RvdHlwZS5nZXRNb25pdG9yU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yU3RhdHVzfSx5LnByb3RvdHlwZS5nZXRBdXRoZW50aWNhdGlvbkRldGFpbHM9ZnVuY3Rpb24oKXt2YXIgZTtpZih0aGlzLl9pc0FnZW50Q29ubmVjdGlvblR5cGUoKSl0aHJvdyBuZXcgRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGRldGFpbHMgYXJlIGF2YWlsYWJsZSBvbmx5IGZvciBjdXN0b21lciBjb25uZWN0aW9uIik7dmFyIHQ9aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO2lmKG51bGwhPXQmJm51bGwhPT0oZT10LnNlZ21lbnRBdHRyaWJ1dGVzKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWVbImNvbm5lY3Q6Q3VzdG9tZXJBdXRoZW50aWNhdGlvbiJdKSYmdm9pZCAwIT09ZSYmZS5WYWx1ZU1hcCl7dmFyIG89dC5zZWdtZW50QXR0cmlidXRlc1siY29ubmVjdDpDdXN0b21lckF1dGhlbnRpY2F0aW9uIl0uVmFsdWVNYXA7aWYoIm9iamVjdCI9PT1yKG8pJiZudWxsIT09byl7Zm9yKHZhciBhPXt9LHM9MCxjPU9iamVjdC5lbnRyaWVzKG8pO3M8Yy5sZW5ndGg7cysrKXt2YXIgdT1uKGNbc10sMiksbD11WzBdLHA9dVsxXTtudWxsIT09KG51bGw9PXA/dm9pZCAwOnAuVmFsdWVTdHJpbmcpJiYoYVtsXT1wLlZhbHVlU3RyaW5nKX1yZXR1cm4gYX19cmV0dXJuIG51bGx9LHkucHJvdG90eXBlLmlzQXV0aGVudGljYXRlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0QXV0aGVudGljYXRpb25EZXRhaWxzKCk7cmV0dXJuKG51bGw9PWU/dm9pZCAwOmUuU3RhdHVzKT09PWkuQ3VzdG9tZXJBdXRoZW50aWNhdGlvblN0YXR1cy5BVVRIRU5USUNBVEVEfSx5LnByb3RvdHlwZS5nZXRQYXJ0aWNpcGFudE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCk/KG5ldyBpLkFnZW50KS5nZXRDb25maWd1cmF0aW9uKCkubmFtZTp0aGlzLmlzSW5pdGlhbENvbm5lY3Rpb24oKT90aGlzLl9nZXREYXRhKCkuY2hhdE1lZGlhSW5mby5jdXN0b21lck5hbWU6dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8uYWdlbnROYW1lfTt2YXIgYj1mdW5jdGlvbihlLHQpe2cuY2FsbCh0aGlzLGUsdCl9OyhiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YixiLnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5NZWRpYVR5cGUuVEFTS30sYi5wcm90b3R5cGUuZ2V0TWVkaWFJbmZvPWZ1bmN0aW9uKCl7dmFyIGU9aS5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3JldHVybntjb250YWN0SWQ6dGhpcy5jb250YWN0SWQsaW5pdGlhbENvbnRhY3RJZDplLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkfX0sYi5wcm90b3R5cGUuZ2V0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpfTt2YXIgUz1mdW5jdGlvbihlLHQpe2cuY2FsbCh0aGlzLGUsdCl9OyhTLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSkuY29uc3RydWN0b3I9UyxTLnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5NZWRpYVR5cGUuRU1BSUx9LFMucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7fTt2YXIgRT1mdW5jdGlvbihlKXtpLkNvbm5lY3Rpb24uY2FsbCh0aGlzLGUuY29udGFjdElkLGUuY29ubmVjdGlvbklkKSx0aGlzLmNvbm5lY3Rpb25EYXRhPWV9OyhFLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGcucHJvdG90eXBlKSkuY29uc3RydWN0b3I9RSxFLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25EYXRhfSxFLnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe307dmFyIEM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dGhpcy5lbmRwb2ludEFSTj10LmVuZHBvaW50SWR8fHQuZW5kcG9pbnRBUk58fG51bGwsdGhpcy5lbmRwb2ludElkPXRoaXMuZW5kcG9pbnRBUk4sdGhpcy50eXBlPXQudHlwZXx8bnVsbCx0aGlzLm5hbWU9dC5uYW1lfHxudWxsLHRoaXMucGhvbmVOdW1iZXI9dC5waG9uZU51bWJlcnx8bnVsbCx0aGlzLmFnZW50TG9naW49dC5hZ2VudExvZ2lufHxudWxsLHRoaXMucXVldWU9dC5xdWV1ZXx8bnVsbH07Qy5wcm90b3R5cGUuc3RyaXBQaG9uZU51bWJlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBob25lTnVtYmVyP3RoaXMucGhvbmVOdW1iZXIucmVwbGFjZSgvc2lwOihbXkBdKilALiovLCIkMSIpOiIifSxDLmJ5UGhvbmVOdW1iZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEMoe3R5cGU6aS5FbmRwb2ludFR5cGUuUEhPTkVfTlVNQkVSLHBob25lTnVtYmVyOmUsbmFtZTp0fHxudWxsfSl9O3ZhciBJPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVycm9yVHlwZT1lLHRoaXMuZXJyb3JNZXNzYWdlPXQsdGhpcy5lbmRQb2ludFVybD1ufTtJLnByb3RvdHlwZS5nZXRFcnJvclR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcnJvclR5cGV9LEkucHJvdG90eXBlLmdldEVycm9yTWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yTWVzc2FnZX0sSS5wcm90b3R5cGUuZ2V0RW5kUG9pbnRVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRQb2ludFVybH0saS5hZ2VudD1mdW5jdGlvbihlKXt2YXIgdD1pLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoaS5BZ2VudEV2ZW50cy5JTklULGUpO3JldHVybiBpLmFnZW50LmluaXRpYWxpemVkJiZlKG5ldyBpLkFnZW50KSx0fSxpLmFnZW50LmluaXRpYWxpemVkPSExLGkuY29udGFjdD1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuQ29udGFjdEV2ZW50cy5JTklULGUpfSxpLm9uV2Vic29ja2V0SW5pdEZhaWx1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKGkuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRSxlKTtyZXR1cm4gaS53ZWJTb2NrZXRJbml0RmFpbGVkJiZlKCksdH0saS5pZk1hc3Rlcj1mdW5jdGlvbihlLHQsbixyKXtpZihpLmFzc2VydE5vdE51bGwoZSwiQSB0b3BpYyBtdXN0IGJlIHByb3ZpZGVkLiIpLGkuYXNzZXJ0Tm90TnVsbCh0LCJBIHRydWUgY2FsbGJhY2sgbXVzdCBiZSBwcm92aWRlZC4iKSwhaS5jb3JlLm1hc3RlckNsaWVudClyZXR1cm4gaS5nZXRMb2coKS53YXJuKCJXZSBjYW4ndCBiZSB0aGUgbWFzdGVyIGZvciB0b3BpYyAnJXMnIGJlY2F1c2UgdGhlcmUgaXMgbm8gbWFzdGVyIGNsaWVudCEiLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZChuJiZuKCkpO2kuY29yZS5nZXRNYXN0ZXJDbGllbnQoKS5jYWxsKGkuTWFzdGVyTWV0aG9kcy5DSEVDS19NQVNURVIse3RvcGljOmUsc2hvdWxkTm90QmVjb21lTWFzdGVySWZOb25lOnJ9LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2UuaXNNYXN0ZXI/dCgpOm4mJm4oKX19KX0saS5iZWNvbWVNYXN0ZXI9ZnVuY3Rpb24oZSx0LG4pe2kuYXNzZXJ0Tm90TnVsbChlLCJBIHRvcGljIG11c3QgYmUgcHJvdmlkZWQuIiksaS5jb3JlLm1hc3RlckNsaWVudD9pLmNvcmUuZ2V0TWFzdGVyQ2xpZW50KCkuY2FsbChpLk1hc3Rlck1ldGhvZHMuQkVDT01FX01BU1RFUix7dG9waWM6ZX0se3N1Y2Nlc3M6ZnVuY3Rpb24oKXt0JiZ0KCl9fSk6KGkuZ2V0TG9nKCkud2FybigiV2UgY2FuJ3QgYmUgdGhlIG1hc3RlciBmb3IgdG9waWMgJyVzJyBiZWNhdXNlIHRoZXJlIGlzIG5vIG1hc3RlciBjbGllbnQhIixlKSxuJiZuKCkpfSxpLkFnZW50PXUsaS5BZ2VudFNuYXBzaG90PWQsaS5Db250YWN0PWgsaS5Db250YWN0U25hcHNob3Q9ZixpLkNvbm5lY3Rpb249dixpLkJhc2VDb25uZWN0aW9uPWcsaS5Wb2ljZUNvbm5lY3Rpb249dixpLkNoYXRDb25uZWN0aW9uPXksaS5UYXNrQ29ubmVjdGlvbj1iLGkuRW1haWxDb25uZWN0aW9uPVMsaS5Db25uZWN0aW9uU25hcHNob3Q9RSxpLkVuZHBvaW50PUMsaS5BZGRyZXNzPUMsaS5Tb2Z0cGhvbmVFcnJvcj1JLGkuVm9pY2VJZD1tLGkuUXVpY2tSZXNwb25zZXM9Y30oKX0sMTY3OihlLHQsbik9Pnt2YXIgcjtmdW5jdGlvbiBvKGUpe3JldHVybiBvPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxvKGUpfSFmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBvKGEscyl7aWYoIW5bYV0pe2lmKCF0W2FdKXtpZihpKXJldHVybiBpKGEsITApO3ZhciBjPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2ErIiciKTt0aHJvdyBjLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGN9dmFyIHU9blthXT17ZXhwb3J0czp7fX07dFthXVswXS5jYWxsKHUuZXhwb3J0cywoZnVuY3Rpb24oZSl7cmV0dXJuIG8odFthXVsxXVtlXXx8ZSl9KSx1LHUuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gblthXS5leHBvcnRzfWZvcih2YXIgaT12b2lkIDAsYT0wO2E8ci5sZW5ndGg7YSsrKW8oclthXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDE0LTA2LTMwIixlbmRwb2ludFByZWZpeDoiY29nbml0by1pZGVudGl0eSIsanNvblZlcnNpb246IjEuMSIscHJvdG9jb2w6Impzb24iLHNlcnZpY2VGdWxsTmFtZToiQW1hem9uIENvZ25pdG8gSWRlbnRpdHkiLHNlcnZpY2VJZDoiQ29nbml0byBJZGVudGl0eSIsc2lnbmF0dXJlVmVyc2lvbjoidjQiLHRhcmdldFByZWZpeDoiQVdTQ29nbml0b0lkZW50aXR5U2VydmljZSIsdWlkOiJjb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAifSxvcGVyYXRpb25zOntDcmVhdGVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sTmFtZSIsIkFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbE5hbWU6e30sQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzOnt0eXBlOiJib29sZWFuIn0sQWxsb3dDbGFzc2ljRmxvdzp7dHlwZToiYm9vbGVhbiJ9LFN1cHBvcnRlZExvZ2luUHJvdmlkZXJzOntzaGFwZToiUzUifSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sT3BlbklkQ29ubmVjdFByb3ZpZGVyQVJOczp7c2hhcGU6IlM5In0sQ29nbml0b0lkZW50aXR5UHJvdmlkZXJzOntzaGFwZToiU2IifSxTYW1sUHJvdmlkZXJBUk5zOntzaGFwZToiU2cifSxJZGVudGl0eVBvb2xUYWdzOntzaGFwZToiU2gifX19LG91dHB1dDp7c2hhcGU6IlNrIn19LERlbGV0ZUlkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZHNUb0RlbGV0ZSJdLG1lbWJlcnM6e0lkZW50aXR5SWRzVG9EZWxldGU6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VW5wcm9jZXNzZWRJZGVudGl0eUlkczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sRXJyb3JDb2RlOnt9fX19fX19LERlbGV0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX19LERlc2NyaWJlSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e319fSxvdXRwdXQ6e3NoYXBlOiJTdiJ9fSxEZXNjcmliZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0OntzaGFwZToiU2sifX0sR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifSxDdXN0b21Sb2xlQXJuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sQ3JlZGVudGlhbHM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7QWNjZXNzS2V5SWQ6e30sU2VjcmV0S2V5Ont9LFNlc3Npb25Ub2tlbjp7fSxFeHBpcmF0aW9uOnt0eXBlOiJ0aW1lc3RhbXAifX19fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRJZDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0FjY291bnRJZDp7fSxJZGVudGl0eVBvb2xJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRJZGVudGl0eVBvb2xSb2xlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LFJvbGVzOntzaGFwZToiUzFjIn0sUm9sZU1hcHBpbmdzOntzaGFwZToiUzFlIn19fX0sR2V0T3BlbklkVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxUb2tlbjp7fX19LGF1dGh0eXBlOiJub25lIn0sR2V0T3BlbklkVG9rZW5Gb3JEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIkxvZ2lucyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9LFRva2VuRHVyYXRpb246e3R5cGU6ImxvbmcifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LFRva2VuOnt9fX19LEdldFByaW5jaXBhbFRhZ0F0dHJpYnV0ZU1hcDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIklkZW50aXR5UHJvdmlkZXJOYW1lIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e30sVXNlRGVmYXVsdHM6e3R5cGU6ImJvb2xlYW4ifSxQcmluY2lwYWxUYWdzOntzaGFwZToiUzFzIn19fX0sTGlzdElkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJNYXhSZXN1bHRzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sTWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fSxIaWRlRGlzYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0aWVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTdiJ9fSxOZXh0VG9rZW46e319fX0sTGlzdElkZW50aXR5UG9vbHM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiTWF4UmVzdWx0cyJdLG1lbWJlcnM6e01heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UG9vbE5hbWU6e319fX0sTmV4dFRva2VuOnt9fX19LExpc3RUYWdzRm9yUmVzb3VyY2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUmVzb3VyY2VBcm4iXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntUYWdzOntzaGFwZToiU2gifX19fSxMb29rdXBEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5SWQ6e30sRGV2ZWxvcGVyVXNlcklkZW50aWZpZXI6e30sTWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxOZXh0VG9rZW46e319fX0sTWVyZ2VEZXZlbG9wZXJJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlNvdXJjZVVzZXJJZGVudGlmaWVyIiwiRGVzdGluYXRpb25Vc2VySWRlbnRpZmllciIsIkRldmVsb3BlclByb3ZpZGVyTmFtZSIsIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7U291cmNlVXNlcklkZW50aWZpZXI6e30sRGVzdGluYXRpb25Vc2VySWRlbnRpZmllcjp7fSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sSWRlbnRpdHlQb29sSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fX19fSxTZXRJZGVudGl0eVBvb2xSb2xlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIlJvbGVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sUm9sZXM6e3NoYXBlOiJTMWMifSxSb2xlTWFwcGluZ3M6e3NoYXBlOiJTMWUifX19fSxTZXRQcmluY2lwYWxUYWdBdHRyaWJ1dGVNYXA6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVByb3ZpZGVyTmFtZSJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX19LFRhZ1Jlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIiwiVGFncyJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9LFRhZ3M6e3NoYXBlOiJTaCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVbmxpbmtEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIiwiSWRlbnRpdHlQb29sSWQiLCJEZXZlbG9wZXJQcm92aWRlck5hbWUiLCJEZXZlbG9wZXJVc2VySWRlbnRpZmllciJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sSWRlbnRpdHlQb29sSWQ6e30sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyOnt9fX19LFVubGlua0lkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiLCJMb2dpbnMiLCJMb2dpbnNUb1JlbW92ZSJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sTG9naW5zVG9SZW1vdmU6e3NoYXBlOiJTdyJ9fX0sYXV0aHR5cGU6Im5vbmUifSxVbnRhZ1Jlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIiwiVGFnS2V5cyJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9LFRhZ0tleXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3NoYXBlOiJTayJ9LG91dHB1dDp7c2hhcGU6IlNrIn19fSxzaGFwZXM6e1M1Ont0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzk6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sU2I6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntQcm92aWRlck5hbWU6e30sQ2xpZW50SWQ6e30sU2VydmVyU2lkZVRva2VuQ2hlY2s6e3R5cGU6ImJvb2xlYW4ifX19fSxTZzp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTaDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFNrOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVBvb2xOYW1lIiwiQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQb29sTmFtZTp7fSxBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXM6e3R5cGU6ImJvb2xlYW4ifSxBbGxvd0NsYXNzaWNGbG93Ont0eXBlOiJib29sZWFuIn0sU3VwcG9ydGVkTG9naW5Qcm92aWRlcnM6e3NoYXBlOiJTNSJ9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxPcGVuSWRDb25uZWN0UHJvdmlkZXJBUk5zOntzaGFwZToiUzkifSxDb2duaXRvSWRlbnRpdHlQcm92aWRlcnM6e3NoYXBlOiJTYiJ9LFNhbWxQcm92aWRlckFSTnM6e3NoYXBlOiJTZyJ9LElkZW50aXR5UG9vbFRhZ3M6e3NoYXBlOiJTaCJ9fX0sU3Y6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTdyJ9LENyZWF0aW9uRGF0ZTp7dHlwZToidGltZXN0YW1wIn0sTGFzdE1vZGlmaWVkRGF0ZTp7dHlwZToidGltZXN0YW1wIn19fSxTdzp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTMTA6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTMWM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTMWU6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiVHlwZSJdLG1lbWJlcnM6e1R5cGU6e30sQW1iaWd1b3VzUm9sZVJlc29sdXRpb246e30sUnVsZXNDb25maWd1cmF0aW9uOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUnVsZXMiXSxtZW1iZXJzOntSdWxlczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQ2xhaW0iLCJNYXRjaFR5cGUiLCJWYWx1ZSIsIlJvbGVBUk4iXSxtZW1iZXJzOntDbGFpbTp7fSxNYXRjaFR5cGU6e30sVmFsdWU6e30sUm9sZUFSTjp7fX19fX19fX19LFMxczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319fX19LHt9XSwyOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtwYWdpbmF0aW9uOntMaXN0SWRlbnRpdHlQb29sczp7aW5wdXRfdG9rZW46Ik5leHRUb2tlbiIsbGltaXRfa2V5OiJNYXhSZXN1bHRzIixvdXRwdXRfdG9rZW46Ik5leHRUb2tlbiIscmVzdWx0X2tleToiSWRlbnRpdHlQb29scyJ9fX19LHt9XSwzOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDE3LTAyLTE1IixlbmRwb2ludFByZWZpeDoiY29ubmVjdCIsanNvblZlcnNpb246IjEuMCIscHJvdG9jb2w6Impzb24iLHNlcnZpY2VBYmJyZXZpYXRpb246IkNvbm5lY3QiLHNlcnZpY2VGdWxsTmFtZToiQW1hem9uQ29ubmVjdENUSVNlcnZpY2UiLHNpZ25hdHVyZVZlcnNpb246IiIsdGFyZ2V0UHJlZml4OiJBbWF6b25Db25uZWN0Q1RJU2VydmljZSIsdWlkOiJjb25uZWN0LTIwMTctMDItMTUifSxvcGVyYXRpb25zOntBY2NlcHRDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ2xlYXJDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ29tcGxldGVDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ29uZmVyZW5jZUNvbm5lY3Rpb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlQWRkaXRpb25hbENvbm5lY3Rpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJlbmRwb2ludCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDcmVhdGVPdXRib3VuZENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJlbmRwb2ludCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxlbmRwb2ludDp7c2hhcGU6IlNlIn0scXVldWVBUk46e30scmVsYXRlZENvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlVGFza0NvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiZW5kcG9pbnQiLCJuYW1lIl0sbWVtYmVyczp7ZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LHByZXZpb3VzQ29udGFjdElkOnt9LG5hbWU6e30sZGVzY3JpcHRpb246e30scmVmZXJlbmNlczp7c2hhcGU6IlN0In0saWRlbXBvdGVuY3lUb2tlbjp7fSxzY2hlZHVsZWRUaW1lOnt0eXBlOiJsb25nIn0scmVsYXRlZENvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjb250YWN0SWQ6e319fX0sQ3JlYXRlVHJhbnNwb3J0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInRyYW5zcG9ydFR5cGUiLCJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e3RyYW5zcG9ydFR5cGU6e30scGFydGljaXBhbnRJZDp7fSxjb250YWN0SWQ6e30sc29mdHBob25lQ2xpZW50SWQ6e30sYXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3dlYlNvY2tldFRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInVybCIsInRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzIl0sbWVtYmVyczp7dXJsOnt9LHRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzOnt0eXBlOiJsb25nIn0sZXhwaXJ5Ont9fX0sY2hhdFRva2VuVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicGFydGljaXBhbnRUb2tlbiIsImV4cGlyeSJdLG1lbWJlcnM6e3BhcnRpY2lwYW50VG9rZW46e30sZXhwaXJ5Ont9fX0sc29mdHBob25lVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic29mdHBob25lTWVkaWFDb25uZWN0aW9ucyJdLG1lbWJlcnM6e3NvZnRwaG9uZU1lZGlhQ29ubmVjdGlvbnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInVzZXJuYW1lIiwiY3JlZGVudGlhbCIsInVybHMiXSxtZW1iZXJzOnt1c2VybmFtZTp7fSxjcmVkZW50aWFsOnt9LHVybHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fX19fSxhZ2VudERpc2NvdmVyeVRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInByZXNpZ25lZFVybCJdLG1lbWJlcnM6e3ByZXNpZ25lZFVybDp7fX19LHdlYlJUQ1RyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm1lZXRpbmciLCJhdHRlbmRlZSJdLG1lbWJlcnM6e21lZXRpbmc6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7bWVldGluZ0lkOnt9LG1lZGlhUmVnaW9uOnt9LG1lZGlhUGxhY2VtZW50Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F1ZGlvSG9zdFVybDp7fSxhdWRpb0ZhbGxiYWNrVXJsOnt9LHNpZ25hbGluZ1VybDp7fSx0dXJuQ29udHJvbFVybDp7fSxldmVudEluZ2VzdGlvblVybDp7fX19LG1lZXRpbmdGZWF0dXJlczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdWRpbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntlY2hvUmVkdWN0aW9uOnt9fX19fX19LGF0dGVuZGVlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F0dGVuZGVlSWQ6e30sam9pblRva2VuOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH19fX19fX19LERlc3Ryb3lDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LEdldEFnZW50Q29uZmlndXJhdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbmZpZ3VyYXRpb24iXSxtZW1iZXJzOntjb25maWd1cmF0aW9uOntzaGFwZToiUzF2In19fX0sR2V0QWdlbnRQZXJtaXNzaW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicGVybWlzc2lvbnMiXSxtZW1iZXJzOntwZXJtaXNzaW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxuZXh0VG9rZW46e319fX0sR2V0QWdlbnRTbmFwc2hvdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sdGltZW91dDp7dHlwZToibG9uZyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic25hcHNob3QiLCJuZXh0VG9rZW4iXSxtZW1iZXJzOntzbmFwc2hvdDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInN0YXRlIiwiY29udGFjdHMiLCJzbmFwc2hvdFRpbWVzdGFtcCJdLG1lbWJlcnM6e3N0YXRlOntzaGFwZToiUzJlIn0sbmV4dFN0YXRlOntzaGFwZToiUzJlIn0sYWdlbnRBdmFpbGFiaWxpdHlTdGF0ZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzdGF0ZTp7fSx0aW1lU3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sY29udGFjdHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCIsInR5cGUiLCJzdGF0ZSIsImNvbm5lY3Rpb25zIiwiYXR0cmlidXRlcyJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fSxpbml0aWFsQ29udGFjdElkOnt9LHJlbGF0ZWRDb250YWN0SWQ6e30sY29udGFjdEFzc29jaWF0aW9uSWQ6e30sdHlwZTp7fSxzdGF0ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiLCJ0aW1lc3RhbXAiXSxtZW1iZXJzOnt0eXBlOnt9LHRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxxdWV1ZTp7c2hhcGU6IlNsIn0scXVldWVUaW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LGNvbm5lY3Rpb25zOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb25uZWN0aW9uSWQiLCJzdGF0ZSIsInR5cGUiLCJpbml0aWFsIl0sbWVtYmVyczp7Y29ubmVjdGlvbklkOnt9LGVuZHBvaW50OntzaGFwZToiU2UifSxzdGF0ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiLCJ0aW1lc3RhbXAiXSxtZW1iZXJzOnt0eXBlOnt9LHRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSx0eXBlOnt9LGluaXRpYWw6e3R5cGU6ImJvb2xlYW4ifSxzb2Z0cGhvbmVNZWRpYUluZm86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Y2FsbFR5cGU6e30sYXV0b0FjY2VwdDp7dHlwZToiYm9vbGVhbiJ9LG1lZGlhTGVnQ29udGV4dFRva2VuOnt9LGNhbGxDb250ZXh0VG9rZW46e30sY2FsbENvbmZpZ0pzb246e319fSxjaGF0TWVkaWFJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NoYXRBdXRvQWNjZXB0Ont0eXBlOiJib29sZWFuIn0sY29ubmVjdGlvbkRhdGE6e30sY3VzdG9tZXJOYW1lOnt9fX0sbW9uaXRvcmluZ0luZm86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnROYW1lOnt9fX0sam9pblRpbWVTdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxtdXRlOnt0eXBlOiJib29sZWFuIn0sZm9yY2VkTXV0ZTp7dHlwZToiYm9vbGVhbiJ9LHF1aWNrQ29ubmVjdE5hbWU6e30sbW9uaXRvckNhcGFiaWxpdGllczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxtb25pdG9yU3RhdHVzOnt9LGNhcGFiaWxpdGllczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntWaWRlbzp7fX19fX19LGF0dHJpYnV0ZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsibmFtZSJdLG1lbWJlcnM6e25hbWU6e30sdmFsdWU6e319fX0sY29udGFjdER1cmF0aW9uOnt9LG5hbWU6e30sZGVzY3JpcHRpb246e30scmVmZXJlbmNlczp7c2hhcGU6IlN0In0saW5pdGlhdGlvbk1ldGhvZDp7fSxjb250YWN0RmVhdHVyZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXR0YWNobWVudHNFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sbWVzc2FnaW5nTWFya2Rvd25FbmFibGVkOnt0eXBlOiJib29sZWFuIn0sbXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sc2NyZWVuUmVjb3JkaW5nRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ1N0YXRlOnt9LHNjcmVlblJlY29yZGluZ0NvbmZpZzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzY3JlZW5SZWNvcmRpbmdFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sc2NyZWVuUmVjb3JkaW5nU3RhdGU6e319fX19LGNoYW5uZWxDb250ZXh0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3NjaGVkdWxlZFRpbWU6e3R5cGU6ImxvbmcifSx0YXNrVGVtcGxhdGVJZDp7fSx0YXNrVGVtcGxhdGVWZXJzaW9uOnt0eXBlOiJpbnRlZ2VyIn19fSxzZWdtZW50QXR0cmlidXRlczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VmFsdWVTdHJpbmc6e319fX0sY3VzdG9tZXJFbmRwb2ludDp7c2hhcGU6IlNlIn0sY29ubmVjdFN5c3RlbUVuZHBvaW50OntzaGFwZToiU2UifSxsYW5ndWFnZUNvZGU6e30sZW1haWxSZWNpcGllbnRzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3RvTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiUzNpIn19LGNjTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiUzNpIn19LGZyb21SZWNpcGllbnQ6e3NoYXBlOiJTM2kifX19fX19LHNuYXBzaG90VGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LG5leHRUb2tlbjp7fX19fSxHZXRBZ2VudFN0YXRlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic3RhdGVzIl0sbWVtYmVyczp7c3RhdGVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTMmUifX0sbmV4dFRva2VuOnt9fX19LEdldERpYWxhYmxlQ291bnRyeUNvZGVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb3VudHJ5Q29kZXMiXSxtZW1iZXJzOntjb3VudHJ5Q29kZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9fX19LEdldEVuZHBvaW50czp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInF1ZXVlQVJOcyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxxdWV1ZUFSTnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntlbmRwb2ludHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlNlIn19LG5leHRUb2tlbjp7fX19fSxHZXROZXdBdXRoVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJyZWZyZXNoVG9rZW4iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scmVmcmVzaFRva2VuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e25ld0F1dGhUb2tlbjp7fSxleHBpcmF0aW9uRGF0ZVRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9fX19LEdldFJvdXRpbmdQcm9maWxlUXVldWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwicm91dGluZ1Byb2ZpbGVBUk4iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scm91dGluZ1Byb2ZpbGVBUk46e30sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInF1ZXVlcyJdLG1lbWJlcnM6e3F1ZXVlczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiU2wifX0sbmV4dFRva2VuOnt9fX19LEhvbGRDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LE11dGVQYXJ0aWNpcGFudDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxOb3RpZnlDb250YWN0SXNzdWU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGlzc3VlQ29kZTp7fSxkZXNjcmlwdGlvbjp7fSxjbGllbnRMb2dzOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxQYXVzZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxQdXRBZ2VudFN0YXRlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwic3RhdGUiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sc3RhdGU6e3NoYXBlOiJTMmUifSxlbnF1ZXVlTmV4dFN0YXRlOnt0eXBlOiJib29sZWFuIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlamVjdENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZXN1bWVDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlc3VtZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kQ2xpZW50TG9nczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImxvZ0V2ZW50cyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxsb2dFdmVudHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LGNvbXBvbmVudDp7fSxtZXNzYWdlOnt9fX19fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kRGlnaXRzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIiwiZGlnaXRzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e30sZGlnaXRzOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kU29mdHBob25lQ2FsbE1ldHJpY3M6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjY3BWZXJzaW9uOnt9LHNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M6e3NoYXBlOiJTNHAifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZFNvZnRwaG9uZUNhbGxSZXBvcnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJyZXBvcnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNjcFZlcnNpb246e30scmVwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NhbGxTdGFydFRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9LGNhbGxFbmRUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOntzaGFwZToiUzRwIn0sZ3VtVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGluaXRpYWxpemF0aW9uVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGljZUNvbGxlY3Rpb25UaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0saGFuZHNoYWtlVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHByZVRhbGtUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sdGFsa1RpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxjbGVhbnVwVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGljZUNvbGxlY3Rpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2lnbmFsbGluZ0Nvbm5lY3Rpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0saGFuZHNoYWtlRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGd1bU90aGVyRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGd1bVRpbWVvdXRGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sY3JlYXRlT2ZmZXJGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSx1c2VyQnVzeUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LG5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFRvZ2dsZUFjdGl2ZUNvbm5lY3Rpb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVubXV0ZVBhcnRpY2lwYW50OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbmZpZ3VyYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29uZmlndXJhdGlvbjp7c2hhcGU6IlMxdiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiLCJ0YXJnZXRNb25pdG9yTW9kZSJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fSx0YXJnZXRNb25pdG9yTW9kZTp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX19LHNoYXBlczp7UzI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnRBUk46e30sYXV0aFRva2VuOnt9fX0sU2U6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIl0sbWVtYmVyczp7ZW5kcG9pbnRBUk46e30sdHlwZTp7fSxuYW1lOnt9LGRpc3BsYXlOYW1lOnt9LHBob25lTnVtYmVyOnt9LGFnZW50TG9naW46e30scXVldWU6e3NoYXBlOiJTbCJ9LGVtYWlsQWRkcmVzczp7fX19LFNsOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3F1ZXVlQVJOOnt9LG5hbWU6e319fSxTdDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIl0sbWVtYmVyczp7dmFsdWU6e30sdHlwZTp7fSxhcm46e30sc3RhdHVzOnt9LHN0YXR1c1JlYXNvbjp7fX19fSxTMXY6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJuYW1lIiwic29mdHBob25lRW5hYmxlZCIsInNvZnRwaG9uZUF1dG9BY2NlcHQiLCJleHRlbnNpb24iLCJyb3V0aW5nUHJvZmlsZSJdLG1lbWJlcnM6e25hbWU6e30sdXNlcm5hbWU6e30sc29mdHBob25lRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNvZnRwaG9uZUF1dG9BY2NlcHQ6e3R5cGU6ImJvb2xlYW4ifSxleHRlbnNpb246e30scm91dGluZ1Byb2ZpbGU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7bmFtZTp7fSxyb3V0aW5nUHJvZmlsZUFSTjp7fSxkZWZhdWx0T3V0Ym91bmRRdWV1ZTp7c2hhcGU6IlNsIn0sY2hhbm5lbENvbmN1cnJlbmN5TWFwOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToibG9uZyJ9fX19LGFnZW50UHJlZmVyZW5jZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxhZ2VudEFSTjp7fX19LFMyZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiLCJuYW1lIl0sbWVtYmVyczp7YWdlbnRTdGF0ZUFSTjp7fSx0eXBlOnt9LG5hbWU6e30sc3RhcnRUaW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sUzNpOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FkZHJlc3M6e30sZGlzcGxheU5hbWU6e319fSxTNHA6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LHNvZnRwaG9uZVN0cmVhbVR5cGU6e30scGFja2V0Q291bnQ6e3R5cGU6ImxvbmcifSxwYWNrZXRzTG9zdDp7dHlwZToibG9uZyJ9LGF1ZGlvTGV2ZWw6e3R5cGU6ImRvdWJsZSJ9LGppdHRlckJ1ZmZlck1pbGxpczp7dHlwZToibG9uZyJ9LHJvdW5kVHJpcFRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifX19fX19fSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17YWNtOntuYW1lOiJBQ00iLGNvcnM6ITB9LGFwaWdhdGV3YXk6e25hbWU6IkFQSUdhdGV3YXkiLGNvcnM6ITB9LGFwcGxpY2F0aW9uYXV0b3NjYWxpbmc6e3ByZWZpeDoiYXBwbGljYXRpb24tYXV0b3NjYWxpbmciLG5hbWU6IkFwcGxpY2F0aW9uQXV0b1NjYWxpbmciLGNvcnM6ITB9LGFwcHN0cmVhbTp7bmFtZToiQXBwU3RyZWFtIn0sYXV0b3NjYWxpbmc6e25hbWU6IkF1dG9TY2FsaW5nIixjb3JzOiEwfSxiYXRjaDp7bmFtZToiQmF0Y2gifSxidWRnZXRzOntuYW1lOiJCdWRnZXRzIn0sY2xvdWRkaXJlY3Rvcnk6e25hbWU6IkNsb3VkRGlyZWN0b3J5Iix2ZXJzaW9uczpbIjIwMTYtMDUtMTAqIl19LGNsb3VkZm9ybWF0aW9uOntuYW1lOiJDbG91ZEZvcm1hdGlvbiIsY29yczohMH0sY2xvdWRmcm9udDp7bmFtZToiQ2xvdWRGcm9udCIsdmVyc2lvbnM6WyIyMDEzLTA1LTEyKiIsIjIwMTMtMTEtMTEqIiwiMjAxNC0wNS0zMSoiLCIyMDE0LTEwLTIxKiIsIjIwMTQtMTEtMDYqIiwiMjAxNS0wNC0xNyoiLCIyMDE1LTA3LTI3KiIsIjIwMTUtMDktMTcqIiwiMjAxNi0wMS0xMyoiLCIyMDE2LTAxLTI4KiIsIjIwMTYtMDgtMDEqIiwiMjAxNi0wOC0yMCoiLCIyMDE2LTA5LTA3KiIsIjIwMTYtMDktMjkqIiwiMjAxNi0xMS0yNSoiLCIyMDE3LTAzLTI1KiIsIjIwMTctMTAtMzAqIiwiMjAxOC0wNi0xOCoiLCIyMDE4LTExLTA1KiIsIjIwMTktMDMtMjYqIl0sY29yczohMH0sY2xvdWRoc206e25hbWU6IkNsb3VkSFNNIixjb3JzOiEwfSxjbG91ZHNlYXJjaDp7bmFtZToiQ2xvdWRTZWFyY2gifSxjbG91ZHNlYXJjaGRvbWFpbjp7bmFtZToiQ2xvdWRTZWFyY2hEb21haW4ifSxjbG91ZHRyYWlsOntuYW1lOiJDbG91ZFRyYWlsIixjb3JzOiEwfSxjbG91ZHdhdGNoOntwcmVmaXg6Im1vbml0b3JpbmciLG5hbWU6IkNsb3VkV2F0Y2giLGNvcnM6ITB9LGNsb3Vkd2F0Y2hldmVudHM6e3ByZWZpeDoiZXZlbnRzIixuYW1lOiJDbG91ZFdhdGNoRXZlbnRzIix2ZXJzaW9uczpbIjIwMTQtMDItMDMqIl0sY29yczohMH0sY2xvdWR3YXRjaGxvZ3M6e3ByZWZpeDoibG9ncyIsbmFtZToiQ2xvdWRXYXRjaExvZ3MiLGNvcnM6ITB9LGNvZGVidWlsZDp7bmFtZToiQ29kZUJ1aWxkIixjb3JzOiEwfSxjb2RlY29tbWl0OntuYW1lOiJDb2RlQ29tbWl0Iixjb3JzOiEwfSxjb2RlZGVwbG95OntuYW1lOiJDb2RlRGVwbG95Iixjb3JzOiEwfSxjb2RlcGlwZWxpbmU6e25hbWU6IkNvZGVQaXBlbGluZSIsY29yczohMH0sY29nbml0b2lkZW50aXR5OntwcmVmaXg6ImNvZ25pdG8taWRlbnRpdHkiLG5hbWU6IkNvZ25pdG9JZGVudGl0eSIsY29yczohMH0sY29nbml0b2lkZW50aXR5c2VydmljZXByb3ZpZGVyOntwcmVmaXg6ImNvZ25pdG8taWRwIixuYW1lOiJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIiLGNvcnM6ITB9LGNvZ25pdG9zeW5jOntwcmVmaXg6ImNvZ25pdG8tc3luYyIsbmFtZToiQ29nbml0b1N5bmMiLGNvcnM6ITB9LGNvbmZpZ3NlcnZpY2U6e3ByZWZpeDoiY29uZmlnIixuYW1lOiJDb25maWdTZXJ2aWNlIixjb3JzOiEwfSxjdXI6e25hbWU6IkNVUiIsY29yczohMH0sZGF0YXBpcGVsaW5lOntuYW1lOiJEYXRhUGlwZWxpbmUifSxkZXZpY2VmYXJtOntuYW1lOiJEZXZpY2VGYXJtIixjb3JzOiEwfSxkaXJlY3Rjb25uZWN0OntuYW1lOiJEaXJlY3RDb25uZWN0Iixjb3JzOiEwfSxkaXJlY3RvcnlzZXJ2aWNlOntwcmVmaXg6ImRzIixuYW1lOiJEaXJlY3RvcnlTZXJ2aWNlIn0sZGlzY292ZXJ5OntuYW1lOiJEaXNjb3ZlcnkifSxkbXM6e25hbWU6IkRNUyJ9LGR5bmFtb2RiOntuYW1lOiJEeW5hbW9EQiIsY29yczohMH0sZHluYW1vZGJzdHJlYW1zOntwcmVmaXg6InN0cmVhbXMuZHluYW1vZGIiLG5hbWU6IkR5bmFtb0RCU3RyZWFtcyIsY29yczohMH0sZWMyOntuYW1lOiJFQzIiLHZlcnNpb25zOlsiMjAxMy0wNi0xNSoiLCIyMDEzLTEwLTE1KiIsIjIwMTQtMDItMDEqIiwiMjAxNC0wNS0wMSoiLCIyMDE0LTA2LTE1KiIsIjIwMTQtMDktMDEqIiwiMjAxNC0xMC0wMSoiLCIyMDE1LTAzLTAxKiIsIjIwMTUtMDQtMTUqIiwiMjAxNS0xMC0wMSoiLCIyMDE2LTA0LTAxKiIsIjIwMTYtMDktMTUqIl0sY29yczohMH0sZWNyOntuYW1lOiJFQ1IiLGNvcnM6ITB9LGVjczp7bmFtZToiRUNTIixjb3JzOiEwfSxlZnM6e3ByZWZpeDoiZWxhc3RpY2ZpbGVzeXN0ZW0iLG5hbWU6IkVGUyIsY29yczohMH0sZWxhc3RpY2FjaGU6e25hbWU6IkVsYXN0aUNhY2hlIix2ZXJzaW9uczpbIjIwMTItMTEtMTUqIiwiMjAxNC0wMy0yNCoiLCIyMDE0LTA3LTE1KiIsIjIwMTQtMDktMzAqIl0sY29yczohMH0sZWxhc3RpY2JlYW5zdGFsazp7bmFtZToiRWxhc3RpY0JlYW5zdGFsayIsY29yczohMH0sZWxiOntwcmVmaXg6ImVsYXN0aWNsb2FkYmFsYW5jaW5nIixuYW1lOiJFTEIiLGNvcnM6ITB9LGVsYnYyOntwcmVmaXg6ImVsYXN0aWNsb2FkYmFsYW5jaW5ndjIiLG5hbWU6IkVMQnYyIixjb3JzOiEwfSxlbXI6e3ByZWZpeDoiZWxhc3RpY21hcHJlZHVjZSIsbmFtZToiRU1SIixjb3JzOiEwfSxlczp7bmFtZToiRVMifSxlbGFzdGljdHJhbnNjb2Rlcjp7bmFtZToiRWxhc3RpY1RyYW5zY29kZXIiLGNvcnM6ITB9LGZpcmVob3NlOntuYW1lOiJGaXJlaG9zZSIsY29yczohMH0sZ2FtZWxpZnQ6e25hbWU6IkdhbWVMaWZ0Iixjb3JzOiEwfSxnbGFjaWVyOntuYW1lOiJHbGFjaWVyIn0saGVhbHRoOntuYW1lOiJIZWFsdGgifSxpYW06e25hbWU6IklBTSIsY29yczohMH0saW1wb3J0ZXhwb3J0OntuYW1lOiJJbXBvcnRFeHBvcnQifSxpbnNwZWN0b3I6e25hbWU6Ikluc3BlY3RvciIsdmVyc2lvbnM6WyIyMDE1LTA4LTE4KiJdLGNvcnM6ITB9LGlvdDp7bmFtZToiSW90Iixjb3JzOiEwfSxpb3RkYXRhOntwcmVmaXg6ImlvdC1kYXRhIixuYW1lOiJJb3REYXRhIixjb3JzOiEwfSxraW5lc2lzOntuYW1lOiJLaW5lc2lzIixjb3JzOiEwfSxraW5lc2lzYW5hbHl0aWNzOntuYW1lOiJLaW5lc2lzQW5hbHl0aWNzIn0sa21zOntuYW1lOiJLTVMiLGNvcnM6ITB9LGxhbWJkYTp7bmFtZToiTGFtYmRhIixjb3JzOiEwfSxsZXhydW50aW1lOntwcmVmaXg6InJ1bnRpbWUubGV4IixuYW1lOiJMZXhSdW50aW1lIixjb3JzOiEwfSxsaWdodHNhaWw6e25hbWU6IkxpZ2h0c2FpbCJ9LG1hY2hpbmVsZWFybmluZzp7bmFtZToiTWFjaGluZUxlYXJuaW5nIixjb3JzOiEwfSxtYXJrZXRwbGFjZWNvbW1lcmNlYW5hbHl0aWNzOntuYW1lOiJNYXJrZXRwbGFjZUNvbW1lcmNlQW5hbHl0aWNzIixjb3JzOiEwfSxtYXJrZXRwbGFjZW1ldGVyaW5nOntwcmVmaXg6Im1ldGVyaW5nbWFya2V0cGxhY2UiLG5hbWU6Ik1hcmtldHBsYWNlTWV0ZXJpbmcifSxtdHVyazp7cHJlZml4OiJtdHVyay1yZXF1ZXN0ZXIiLG5hbWU6Ik1UdXJrIixjb3JzOiEwfSxtb2JpbGVhbmFseXRpY3M6e25hbWU6Ik1vYmlsZUFuYWx5dGljcyIsY29yczohMH0sb3Bzd29ya3M6e25hbWU6Ik9wc1dvcmtzIixjb3JzOiEwfSxvcHN3b3Jrc2NtOntuYW1lOiJPcHNXb3Jrc0NNIn0sb3JnYW5pemF0aW9uczp7bmFtZToiT3JnYW5pemF0aW9ucyJ9LHBpbnBvaW50OntuYW1lOiJQaW5wb2ludCJ9LHBvbGx5OntuYW1lOiJQb2xseSIsY29yczohMH0scmRzOntuYW1lOiJSRFMiLHZlcnNpb25zOlsiMjAxNC0wOS0wMSoiXSxjb3JzOiEwfSxyZWRzaGlmdDp7bmFtZToiUmVkc2hpZnQiLGNvcnM6ITB9LHJla29nbml0aW9uOntuYW1lOiJSZWtvZ25pdGlvbiIsY29yczohMH0scmVzb3VyY2Vncm91cHN0YWdnaW5nYXBpOntuYW1lOiJSZXNvdXJjZUdyb3Vwc1RhZ2dpbmdBUEkifSxyb3V0ZTUzOntuYW1lOiJSb3V0ZTUzIixjb3JzOiEwfSxyb3V0ZTUzZG9tYWluczp7bmFtZToiUm91dGU1M0RvbWFpbnMiLGNvcnM6ITB9LHMzOntuYW1lOiJTMyIsZHVhbHN0YWNrQXZhaWxhYmxlOiEwLGNvcnM6ITB9LHMzY29udHJvbDp7bmFtZToiUzNDb250cm9sIixkdWFsc3RhY2tBdmFpbGFibGU6ITAseG1sTm9EZWZhdWx0TGlzdHM6ITB9LHNlcnZpY2VjYXRhbG9nOntuYW1lOiJTZXJ2aWNlQ2F0YWxvZyIsY29yczohMH0sc2VzOntwcmVmaXg6ImVtYWlsIixuYW1lOiJTRVMiLGNvcnM6ITB9LHNoaWVsZDp7bmFtZToiU2hpZWxkIn0sc2ltcGxlZGI6e3ByZWZpeDoic2RiIixuYW1lOiJTaW1wbGVEQiJ9LHNtczp7bmFtZToiU01TIn0sc25vd2JhbGw6e25hbWU6IlNub3diYWxsIn0sc25zOntuYW1lOiJTTlMiLGNvcnM6ITB9LHNxczp7bmFtZToiU1FTIixjb3JzOiEwfSxzc206e25hbWU6IlNTTSIsY29yczohMH0sc3RvcmFnZWdhdGV3YXk6e25hbWU6IlN0b3JhZ2VHYXRld2F5Iixjb3JzOiEwfSxzdGVwZnVuY3Rpb25zOntwcmVmaXg6InN0YXRlcyIsbmFtZToiU3RlcEZ1bmN0aW9ucyJ9LHN0czp7bmFtZToiU1RTIixjb3JzOiEwfSxzdXBwb3J0OntuYW1lOiJTdXBwb3J0In0sc3dmOntuYW1lOiJTV0YifSx4cmF5OntuYW1lOiJYUmF5Iixjb3JzOiEwfSx3YWY6e25hbWU6IldBRiIsY29yczohMH0sd2FmcmVnaW9uYWw6e3ByZWZpeDoid2FmLXJlZ2lvbmFsIixuYW1lOiJXQUZSZWdpb25hbCJ9LHdvcmtkb2NzOntuYW1lOiJXb3JrRG9jcyIsY29yczohMH0sd29ya3NwYWNlczp7bmFtZToiV29ya1NwYWNlcyJ9LGNvZGVzdGFyOntuYW1lOiJDb2RlU3RhciJ9LGxleG1vZGVsYnVpbGRpbmdzZXJ2aWNlOntwcmVmaXg6ImxleC1tb2RlbHMiLG5hbWU6IkxleE1vZGVsQnVpbGRpbmdTZXJ2aWNlIixjb3JzOiEwfSxtYXJrZXRwbGFjZWVudGl0bGVtZW50c2VydmljZTp7cHJlZml4OiJlbnRpdGxlbWVudC5tYXJrZXRwbGFjZSIsbmFtZToiTWFya2V0cGxhY2VFbnRpdGxlbWVudFNlcnZpY2UifSxhdGhlbmE6e25hbWU6IkF0aGVuYSIsY29yczohMH0sZ3JlZW5ncmFzczp7bmFtZToiR3JlZW5ncmFzcyJ9LGRheDp7bmFtZToiREFYIn0sbWlncmF0aW9uaHViOntwcmVmaXg6IkFXU01pZ3JhdGlvbkh1YiIsbmFtZToiTWlncmF0aW9uSHViIn0sY2xvdWRoc212Mjp7bmFtZToiQ2xvdWRIU01WMiIsY29yczohMH0sZ2x1ZTp7bmFtZToiR2x1ZSJ9LG1vYmlsZTp7bmFtZToiTW9iaWxlIn0scHJpY2luZzp7bmFtZToiUHJpY2luZyIsY29yczohMH0sY29zdGV4cGxvcmVyOntwcmVmaXg6ImNlIixuYW1lOiJDb3N0RXhwbG9yZXIiLGNvcnM6ITB9LG1lZGlhY29udmVydDp7bmFtZToiTWVkaWFDb252ZXJ0In0sbWVkaWFsaXZlOntuYW1lOiJNZWRpYUxpdmUifSxtZWRpYXBhY2thZ2U6e25hbWU6Ik1lZGlhUGFja2FnZSJ9LG1lZGlhc3RvcmU6e25hbWU6Ik1lZGlhU3RvcmUifSxtZWRpYXN0b3JlZGF0YTp7cHJlZml4OiJtZWRpYXN0b3JlLWRhdGEiLG5hbWU6Ik1lZGlhU3RvcmVEYXRhIixjb3JzOiEwfSxhcHBzeW5jOntuYW1lOiJBcHBTeW5jIn0sZ3VhcmRkdXR5OntuYW1lOiJHdWFyZER1dHkifSxtcTp7bmFtZToiTVEifSxjb21wcmVoZW5kOntuYW1lOiJDb21wcmVoZW5kIixjb3JzOiEwfSxpb3Rqb2JzZGF0YXBsYW5lOntwcmVmaXg6ImlvdC1qb2JzLWRhdGEiLG5hbWU6IklvVEpvYnNEYXRhUGxhbmUifSxraW5lc2lzdmlkZW9hcmNoaXZlZG1lZGlhOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8tYXJjaGl2ZWQtbWVkaWEiLG5hbWU6IktpbmVzaXNWaWRlb0FyY2hpdmVkTWVkaWEiLGNvcnM6ITB9LGtpbmVzaXN2aWRlb21lZGlhOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8tbWVkaWEiLG5hbWU6IktpbmVzaXNWaWRlb01lZGlhIixjb3JzOiEwfSxraW5lc2lzdmlkZW86e25hbWU6IktpbmVzaXNWaWRlbyIsY29yczohMH0sc2FnZW1ha2VycnVudGltZTp7cHJlZml4OiJydW50aW1lLnNhZ2VtYWtlciIsbmFtZToiU2FnZU1ha2VyUnVudGltZSJ9LHNhZ2VtYWtlcjp7bmFtZToiU2FnZU1ha2VyIn0sdHJhbnNsYXRlOntuYW1lOiJUcmFuc2xhdGUiLGNvcnM6ITB9LHJlc291cmNlZ3JvdXBzOntwcmVmaXg6InJlc291cmNlLWdyb3VwcyIsbmFtZToiUmVzb3VyY2VHcm91cHMiLGNvcnM6ITB9LGFsZXhhZm9yYnVzaW5lc3M6e25hbWU6IkFsZXhhRm9yQnVzaW5lc3MifSxjbG91ZDk6e25hbWU6IkNsb3VkOSJ9LHNlcnZlcmxlc3NhcHBsaWNhdGlvbnJlcG9zaXRvcnk6e3ByZWZpeDoic2VydmVybGVzc3JlcG8iLG5hbWU6IlNlcnZlcmxlc3NBcHBsaWNhdGlvblJlcG9zaXRvcnkifSxzZXJ2aWNlZGlzY292ZXJ5OntuYW1lOiJTZXJ2aWNlRGlzY292ZXJ5In0sd29ya21haWw6e25hbWU6IldvcmtNYWlsIn0sYXV0b3NjYWxpbmdwbGFuczp7cHJlZml4OiJhdXRvc2NhbGluZy1wbGFucyIsbmFtZToiQXV0b1NjYWxpbmdQbGFucyJ9LHRyYW5zY3JpYmVzZXJ2aWNlOntwcmVmaXg6InRyYW5zY3JpYmUiLG5hbWU6IlRyYW5zY3JpYmVTZXJ2aWNlIn0sY29ubmVjdDp7bmFtZToiQ29ubmVjdCIsY29yczohMH0sYWNtcGNhOntwcmVmaXg6ImFjbS1wY2EiLG5hbWU6IkFDTVBDQSJ9LGZtczp7bmFtZToiRk1TIn0sc2VjcmV0c21hbmFnZXI6e25hbWU6IlNlY3JldHNNYW5hZ2VyIixjb3JzOiEwfSxpb3RhbmFseXRpY3M6e25hbWU6IklvVEFuYWx5dGljcyIsY29yczohMH0saW90MWNsaWNrZGV2aWNlc3NlcnZpY2U6e3ByZWZpeDoiaW90MWNsaWNrLWRldmljZXMiLG5hbWU6IklvVDFDbGlja0RldmljZXNTZXJ2aWNlIn0saW90MWNsaWNrcHJvamVjdHM6e3ByZWZpeDoiaW90MWNsaWNrLXByb2plY3RzIixuYW1lOiJJb1QxQ2xpY2tQcm9qZWN0cyJ9LHBpOntuYW1lOiJQSSJ9LG5lcHR1bmU6e25hbWU6Ik5lcHR1bmUifSxtZWRpYXRhaWxvcjp7bmFtZToiTWVkaWFUYWlsb3IifSxla3M6e25hbWU6IkVLUyJ9LGRsbTp7bmFtZToiRExNIn0sc2lnbmVyOntuYW1lOiJTaWduZXIifSxjaGltZTp7bmFtZToiQ2hpbWUifSxwaW5wb2ludGVtYWlsOntwcmVmaXg6InBpbnBvaW50LWVtYWlsIixuYW1lOiJQaW5wb2ludEVtYWlsIn0scmFtOntuYW1lOiJSQU0ifSxyb3V0ZTUzcmVzb2x2ZXI6e25hbWU6IlJvdXRlNTNSZXNvbHZlciJ9LHBpbnBvaW50c21zdm9pY2U6e3ByZWZpeDoic21zLXZvaWNlIixuYW1lOiJQaW5wb2ludFNNU1ZvaWNlIn0scXVpY2tzaWdodDp7bmFtZToiUXVpY2tTaWdodCJ9LHJkc2RhdGFzZXJ2aWNlOntwcmVmaXg6InJkcy1kYXRhIixuYW1lOiJSRFNEYXRhU2VydmljZSJ9LGFtcGxpZnk6e25hbWU6IkFtcGxpZnkifSxkYXRhc3luYzp7bmFtZToiRGF0YVN5bmMifSxyb2JvbWFrZXI6e25hbWU6IlJvYm9NYWtlciJ9LHRyYW5zZmVyOntuYW1lOiJUcmFuc2ZlciJ9LGdsb2JhbGFjY2VsZXJhdG9yOntuYW1lOiJHbG9iYWxBY2NlbGVyYXRvciJ9LGNvbXByZWhlbmRtZWRpY2FsOntuYW1lOiJDb21wcmVoZW5kTWVkaWNhbCIsY29yczohMH0sa2luZXNpc2FuYWx5dGljc3YyOntuYW1lOiJLaW5lc2lzQW5hbHl0aWNzVjIifSxtZWRpYWNvbm5lY3Q6e25hbWU6Ik1lZGlhQ29ubmVjdCJ9LGZzeDp7bmFtZToiRlN4In0sc2VjdXJpdHlodWI6e25hbWU6IlNlY3VyaXR5SHViIn0sYXBwbWVzaDp7bmFtZToiQXBwTWVzaCIsdmVyc2lvbnM6WyIyMDE4LTEwLTAxKiJdfSxsaWNlbnNlbWFuYWdlcjp7cHJlZml4OiJsaWNlbnNlLW1hbmFnZXIiLG5hbWU6IkxpY2Vuc2VNYW5hZ2VyIn0sa2Fma2E6e25hbWU6IkthZmthIn0sYXBpZ2F0ZXdheW1hbmFnZW1lbnRhcGk6e25hbWU6IkFwaUdhdGV3YXlNYW5hZ2VtZW50QXBpIn0sYXBpZ2F0ZXdheXYyOntuYW1lOiJBcGlHYXRld2F5VjIifSxkb2NkYjp7bmFtZToiRG9jREIifSxiYWNrdXA6e25hbWU6IkJhY2t1cCJ9LHdvcmtsaW5rOntuYW1lOiJXb3JrTGluayJ9LHRleHRyYWN0OntuYW1lOiJUZXh0cmFjdCJ9LG1hbmFnZWRibG9ja2NoYWluOntuYW1lOiJNYW5hZ2VkQmxvY2tjaGFpbiJ9LG1lZGlhcGFja2FnZXZvZDp7cHJlZml4OiJtZWRpYXBhY2thZ2Utdm9kIixuYW1lOiJNZWRpYVBhY2thZ2VWb2QifSxncm91bmRzdGF0aW9uOntuYW1lOiJHcm91bmRTdGF0aW9uIn0saW90dGhpbmdzZ3JhcGg6e25hbWU6IklvVFRoaW5nc0dyYXBoIn0saW90ZXZlbnRzOntuYW1lOiJJb1RFdmVudHMifSxpb3RldmVudHNkYXRhOntwcmVmaXg6ImlvdGV2ZW50cy1kYXRhIixuYW1lOiJJb1RFdmVudHNEYXRhIn0scGVyc29uYWxpemU6e25hbWU6IlBlcnNvbmFsaXplIixjb3JzOiEwfSxwZXJzb25hbGl6ZWV2ZW50czp7cHJlZml4OiJwZXJzb25hbGl6ZS1ldmVudHMiLG5hbWU6IlBlcnNvbmFsaXplRXZlbnRzIixjb3JzOiEwfSxwZXJzb25hbGl6ZXJ1bnRpbWU6e3ByZWZpeDoicGVyc29uYWxpemUtcnVudGltZSIsbmFtZToiUGVyc29uYWxpemVSdW50aW1lIixjb3JzOiEwfSxhcHBsaWNhdGlvbmluc2lnaHRzOntwcmVmaXg6ImFwcGxpY2F0aW9uLWluc2lnaHRzIixuYW1lOiJBcHBsaWNhdGlvbkluc2lnaHRzIn0sc2VydmljZXF1b3Rhczp7cHJlZml4OiJzZXJ2aWNlLXF1b3RhcyIsbmFtZToiU2VydmljZVF1b3RhcyJ9LGVjMmluc3RhbmNlY29ubmVjdDp7cHJlZml4OiJlYzItaW5zdGFuY2UtY29ubmVjdCIsbmFtZToiRUMySW5zdGFuY2VDb25uZWN0In0sZXZlbnRicmlkZ2U6e25hbWU6IkV2ZW50QnJpZGdlIn0sbGFrZWZvcm1hdGlvbjp7bmFtZToiTGFrZUZvcm1hdGlvbiJ9LGZvcmVjYXN0c2VydmljZTp7cHJlZml4OiJmb3JlY2FzdCIsbmFtZToiRm9yZWNhc3RTZXJ2aWNlIixjb3JzOiEwfSxmb3JlY2FzdHF1ZXJ5c2VydmljZTp7cHJlZml4OiJmb3JlY2FzdHF1ZXJ5IixuYW1lOiJGb3JlY2FzdFF1ZXJ5U2VydmljZSIsY29yczohMH0scWxkYjp7bmFtZToiUUxEQiJ9LHFsZGJzZXNzaW9uOntwcmVmaXg6InFsZGItc2Vzc2lvbiIsbmFtZToiUUxEQlNlc3Npb24ifSx3b3JrbWFpbG1lc3NhZ2VmbG93OntuYW1lOiJXb3JrTWFpbE1lc3NhZ2VGbG93In0sY29kZXN0YXJub3RpZmljYXRpb25zOntwcmVmaXg6ImNvZGVzdGFyLW5vdGlmaWNhdGlvbnMiLG5hbWU6IkNvZGVTdGFyTm90aWZpY2F0aW9ucyJ9LHNhdmluZ3NwbGFuczp7bmFtZToiU2F2aW5nc1BsYW5zIn0sc3NvOntuYW1lOiJTU08ifSxzc29vaWRjOntwcmVmaXg6InNzby1vaWRjIixuYW1lOiJTU09PSURDIn0sbWFya2V0cGxhY2VjYXRhbG9nOntwcmVmaXg6Im1hcmtldHBsYWNlLWNhdGFsb2ciLG5hbWU6Ik1hcmtldHBsYWNlQ2F0YWxvZyIsY29yczohMH0sZGF0YWV4Y2hhbmdlOntuYW1lOiJEYXRhRXhjaGFuZ2UifSxzZXN2Mjp7bmFtZToiU0VTVjIifSxtaWdyYXRpb25odWJjb25maWc6e3ByZWZpeDoibWlncmF0aW9uaHViLWNvbmZpZyIsbmFtZToiTWlncmF0aW9uSHViQ29uZmlnIn0sY29ubmVjdHBhcnRpY2lwYW50OntuYW1lOiJDb25uZWN0UGFydGljaXBhbnQifSxhcHBjb25maWc6e25hbWU6IkFwcENvbmZpZyJ9LGlvdHNlY3VyZXR1bm5lbGluZzp7bmFtZToiSW9UU2VjdXJlVHVubmVsaW5nIn0sd2FmdjI6e25hbWU6IldBRlYyIn0sZWxhc3RpY2luZmVyZW5jZTp7cHJlZml4OiJlbGFzdGljLWluZmVyZW5jZSIsbmFtZToiRWxhc3RpY0luZmVyZW5jZSJ9LGltYWdlYnVpbGRlcjp7bmFtZToiSW1hZ2VidWlsZGVyIn0sc2NoZW1hczp7bmFtZToiU2NoZW1hcyJ9LGFjY2Vzc2FuYWx5emVyOntuYW1lOiJBY2Nlc3NBbmFseXplciJ9LGNvZGVndXJ1cmV2aWV3ZXI6e3ByZWZpeDoiY29kZWd1cnUtcmV2aWV3ZXIiLG5hbWU6IkNvZGVHdXJ1UmV2aWV3ZXIifSxjb2RlZ3VydXByb2ZpbGVyOntuYW1lOiJDb2RlR3VydVByb2ZpbGVyIn0sY29tcHV0ZW9wdGltaXplcjp7cHJlZml4OiJjb21wdXRlLW9wdGltaXplciIsbmFtZToiQ29tcHV0ZU9wdGltaXplciJ9LGZyYXVkZGV0ZWN0b3I6e25hbWU6IkZyYXVkRGV0ZWN0b3IifSxrZW5kcmE6e25hbWU6IktlbmRyYSJ9LG5ldHdvcmttYW5hZ2VyOntuYW1lOiJOZXR3b3JrTWFuYWdlciJ9LG91dHBvc3RzOntuYW1lOiJPdXRwb3N0cyJ9LGF1Z21lbnRlZGFpcnVudGltZTp7cHJlZml4OiJzYWdlbWFrZXItYTJpLXJ1bnRpbWUiLG5hbWU6IkF1Z21lbnRlZEFJUnVudGltZSJ9LGViczp7bmFtZToiRUJTIn0sa2luZXNpc3ZpZGVvc2lnbmFsaW5nY2hhbm5lbHM6e3ByZWZpeDoia2luZXNpcy12aWRlby1zaWduYWxpbmciLG5hbWU6IktpbmVzaXNWaWRlb1NpZ25hbGluZ0NoYW5uZWxzIixjb3JzOiEwfSxkZXRlY3RpdmU6e25hbWU6IkRldGVjdGl2ZSJ9LGNvZGVzdGFyY29ubmVjdGlvbnM6e3ByZWZpeDoiY29kZXN0YXItY29ubmVjdGlvbnMiLG5hbWU6IkNvZGVTdGFyY29ubmVjdGlvbnMifSxzeW50aGV0aWNzOntuYW1lOiJTeW50aGV0aWNzIn0saW90c2l0ZXdpc2U6e25hbWU6IklvVFNpdGVXaXNlIn0sbWFjaWUyOntuYW1lOiJNYWNpZTIifSxjb2RlYXJ0aWZhY3Q6e25hbWU6IkNvZGVBcnRpZmFjdCJ9LGhvbmV5Y29kZTp7bmFtZToiSG9uZXljb2RlIn0saXZzOntuYW1lOiJJVlMifSxicmFrZXQ6e25hbWU6IkJyYWtldCJ9LGlkZW50aXR5c3RvcmU6e25hbWU6IklkZW50aXR5U3RvcmUifSxhcHBmbG93OntuYW1lOiJBcHBmbG93In0scmVkc2hpZnRkYXRhOntwcmVmaXg6InJlZHNoaWZ0LWRhdGEiLG5hbWU6IlJlZHNoaWZ0RGF0YSJ9LHNzb2FkbWluOntwcmVmaXg6InNzby1hZG1pbiIsbmFtZToiU1NPQWRtaW4ifSx0aW1lc3RyZWFtcXVlcnk6e3ByZWZpeDoidGltZXN0cmVhbS1xdWVyeSIsbmFtZToiVGltZXN0cmVhbVF1ZXJ5In0sdGltZXN0cmVhbXdyaXRlOntwcmVmaXg6InRpbWVzdHJlYW0td3JpdGUiLG5hbWU6IlRpbWVzdHJlYW1Xcml0ZSJ9LHMzb3V0cG9zdHM6e25hbWU6IlMzT3V0cG9zdHMifSxkYXRhYnJldzp7bmFtZToiRGF0YUJyZXcifSxzZXJ2aWNlY2F0YWxvZ2FwcHJlZ2lzdHJ5OntwcmVmaXg6InNlcnZpY2VjYXRhbG9nLWFwcHJlZ2lzdHJ5IixuYW1lOiJTZXJ2aWNlQ2F0YWxvZ0FwcFJlZ2lzdHJ5In0sbmV0d29ya2ZpcmV3YWxsOntwcmVmaXg6Im5ldHdvcmstZmlyZXdhbGwiLG5hbWU6Ik5ldHdvcmtGaXJld2FsbCJ9LG13YWE6e25hbWU6Ik1XQUEifSxhbXBsaWZ5YmFja2VuZDp7bmFtZToiQW1wbGlmeUJhY2tlbmQifSxhcHBpbnRlZ3JhdGlvbnM6e25hbWU6IkFwcEludGVncmF0aW9ucyJ9LGNvbm5lY3Rjb250YWN0bGVuczp7cHJlZml4OiJjb25uZWN0LWNvbnRhY3QtbGVucyIsbmFtZToiQ29ubmVjdENvbnRhY3RMZW5zIn0sZGV2b3BzZ3VydTp7cHJlZml4OiJkZXZvcHMtZ3VydSIsbmFtZToiRGV2T3BzR3VydSJ9LGVjcnB1YmxpYzp7cHJlZml4OiJlY3ItcHVibGljIixuYW1lOiJFQ1JQVUJMSUMifSxsb29rb3V0dmlzaW9uOntuYW1lOiJMb29rb3V0VmlzaW9uIn0sc2FnZW1ha2VyZmVhdHVyZXN0b3JlcnVudGltZTp7cHJlZml4OiJzYWdlbWFrZXItZmVhdHVyZXN0b3JlLXJ1bnRpbWUiLG5hbWU6IlNhZ2VNYWtlckZlYXR1cmVTdG9yZVJ1bnRpbWUifSxjdXN0b21lcnByb2ZpbGVzOntwcmVmaXg6ImN1c3RvbWVyLXByb2ZpbGVzIixuYW1lOiJDdXN0b21lclByb2ZpbGVzIn0sYXVkaXRtYW5hZ2VyOntuYW1lOiJBdWRpdE1hbmFnZXIifSxlbXJjb250YWluZXJzOntwcmVmaXg6ImVtci1jb250YWluZXJzIixuYW1lOiJFTVJjb250YWluZXJzIn0saGVhbHRobGFrZTp7bmFtZToiSGVhbHRoTGFrZSJ9LHNhZ2VtYWtlcmVkZ2U6e3ByZWZpeDoic2FnZW1ha2VyLWVkZ2UiLG5hbWU6IlNhZ2VtYWtlckVkZ2UifSxhbXA6e25hbWU6IkFtcCIsY29yczohMH0sZ3JlZW5ncmFzc3YyOntuYW1lOiJHcmVlbmdyYXNzVjIifSxpb3RkZXZpY2VhZHZpc29yOntuYW1lOiJJb3REZXZpY2VBZHZpc29yIn0saW90ZmxlZXRodWI6e25hbWU6IklvVEZsZWV0SHViIn0saW90d2lyZWxlc3M6e25hbWU6IklvVFdpcmVsZXNzIn0sbG9jYXRpb246e25hbWU6IkxvY2F0aW9uIixjb3JzOiEwfSx3ZWxsYXJjaGl0ZWN0ZWQ6e25hbWU6IldlbGxBcmNoaXRlY3RlZCJ9LGxleG1vZGVsc3YyOntwcmVmaXg6Im1vZGVscy5sZXgudjIiLG5hbWU6IkxleE1vZGVsc1YyIn0sbGV4cnVudGltZXYyOntwcmVmaXg6InJ1bnRpbWUubGV4LnYyIixuYW1lOiJMZXhSdW50aW1lVjIiLGNvcnM6ITB9LGZpczp7bmFtZToiRmlzIn0sbG9va291dG1ldHJpY3M6e25hbWU6Ikxvb2tvdXRNZXRyaWNzIn0sbWduOntuYW1lOiJNZ24ifSxsb29rb3V0ZXF1aXBtZW50OntuYW1lOiJMb29rb3V0RXF1aXBtZW50In0sbmltYmxlOntuYW1lOiJOaW1ibGUifSxmaW5zcGFjZTp7bmFtZToiRmluc3BhY2UifSxmaW5zcGFjZWRhdGE6e3ByZWZpeDoiZmluc3BhY2UtZGF0YSIsbmFtZToiRmluc3BhY2VkYXRhIn0sc3NtY29udGFjdHM6e3ByZWZpeDoic3NtLWNvbnRhY3RzIixuYW1lOiJTU01Db250YWN0cyJ9LHNzbWluY2lkZW50czp7cHJlZml4OiJzc20taW5jaWRlbnRzIixuYW1lOiJTU01JbmNpZGVudHMifSxhcHBsaWNhdGlvbmNvc3Rwcm9maWxlcjp7bmFtZToiQXBwbGljYXRpb25Db3N0UHJvZmlsZXIifSxhcHBydW5uZXI6e25hbWU6IkFwcFJ1bm5lciJ9LHByb3Rvbjp7bmFtZToiUHJvdG9uIn0scm91dGU1M3JlY292ZXJ5Y2x1c3Rlcjp7cHJlZml4OiJyb3V0ZTUzLXJlY292ZXJ5LWNsdXN0ZXIiLG5hbWU6IlJvdXRlNTNSZWNvdmVyeUNsdXN0ZXIifSxyb3V0ZTUzcmVjb3Zlcnljb250cm9sY29uZmlnOntwcmVmaXg6InJvdXRlNTMtcmVjb3ZlcnktY29udHJvbC1jb25maWciLG5hbWU6IlJvdXRlNTNSZWNvdmVyeUNvbnRyb2xDb25maWcifSxyb3V0ZTUzcmVjb3ZlcnlyZWFkaW5lc3M6e3ByZWZpeDoicm91dGU1My1yZWNvdmVyeS1yZWFkaW5lc3MiLG5hbWU6IlJvdXRlNTNSZWNvdmVyeVJlYWRpbmVzcyJ9LGNoaW1lc2RraWRlbnRpdHk6e3ByZWZpeDoiY2hpbWUtc2RrLWlkZW50aXR5IixuYW1lOiJDaGltZVNES0lkZW50aXR5In0sY2hpbWVzZGttZXNzYWdpbmc6e3ByZWZpeDoiY2hpbWUtc2RrLW1lc3NhZ2luZyIsbmFtZToiQ2hpbWVTREtNZXNzYWdpbmcifSxzbm93ZGV2aWNlbWFuYWdlbWVudDp7cHJlZml4OiJzbm93LWRldmljZS1tYW5hZ2VtZW50IixuYW1lOiJTbm93RGV2aWNlTWFuYWdlbWVudCJ9LG1lbW9yeWRiOntuYW1lOiJNZW1vcnlEQiJ9LG9wZW5zZWFyY2g6e25hbWU6Ik9wZW5TZWFyY2gifSxrYWZrYWNvbm5lY3Q6e25hbWU6IkthZmthQ29ubmVjdCJ9LHZvaWNlaWQ6e3ByZWZpeDoidm9pY2UtaWQiLG5hbWU6IlZvaWNlSUQifSx3aXNkb206e25hbWU6Ildpc2RvbSJ9LGFjY291bnQ6e25hbWU6IkFjY291bnQifSxjbG91ZGNvbnRyb2w6e25hbWU6IkNsb3VkQ29udHJvbCJ9LGdyYWZhbmE6e25hbWU6IkdyYWZhbmEifSxwYW5vcmFtYTp7bmFtZToiUGFub3JhbWEifSxjaGltZXNka21lZXRpbmdzOntwcmVmaXg6ImNoaW1lLXNkay1tZWV0aW5ncyIsbmFtZToiQ2hpbWVTREtNZWV0aW5ncyJ9LHJlc2lsaWVuY2VodWI6e25hbWU6IlJlc2lsaWVuY2VodWIifSxtaWdyYXRpb25odWJzdHJhdGVneTp7bmFtZToiTWlncmF0aW9uSHViU3RyYXRlZ3kifSxhcHBjb25maWdkYXRhOntuYW1lOiJBcHBDb25maWdEYXRhIn0sZHJzOntuYW1lOiJEcnMifSxtaWdyYXRpb25odWJyZWZhY3RvcnNwYWNlczp7cHJlZml4OiJtaWdyYXRpb24taHViLXJlZmFjdG9yLXNwYWNlcyIsbmFtZToiTWlncmF0aW9uSHViUmVmYWN0b3JTcGFjZXMifSxldmlkZW50bHk6e25hbWU6IkV2aWRlbnRseSJ9LGluc3BlY3RvcjI6e25hbWU6Ikluc3BlY3RvcjIifSxyYmluOntuYW1lOiJSYmluIn0scnVtOntuYW1lOiJSVU0ifSxiYWNrdXBnYXRld2F5OntwcmVmaXg6ImJhY2t1cC1nYXRld2F5IixuYW1lOiJCYWNrdXBHYXRld2F5In0saW90dHdpbm1ha2VyOntuYW1lOiJJb1RUd2luTWFrZXIifSx3b3Jrc3BhY2Vzd2ViOntwcmVmaXg6IndvcmtzcGFjZXMtd2ViIixuYW1lOiJXb3JrU3BhY2VzV2ViIn0sYW1wbGlmeXVpYnVpbGRlcjp7bmFtZToiQW1wbGlmeVVJQnVpbGRlciJ9LGtleXNwYWNlczp7bmFtZToiS2V5c3BhY2VzIn0sYmlsbGluZ2NvbmR1Y3Rvcjp7bmFtZToiQmlsbGluZ2NvbmR1Y3RvciJ9LHBpbnBvaW50c21zdm9pY2V2Mjp7cHJlZml4OiJwaW5wb2ludC1zbXMtdm9pY2UtdjIiLG5hbWU6IlBpbnBvaW50U01TVm9pY2VWMiJ9LGl2c2NoYXQ6e25hbWU6Ikl2c2NoYXQifSxjaGltZXNka21lZGlhcGlwZWxpbmVzOntwcmVmaXg6ImNoaW1lLXNkay1tZWRpYS1waXBlbGluZXMiLG5hbWU6IkNoaW1lU0RLTWVkaWFQaXBlbGluZXMifSxlbXJzZXJ2ZXJsZXNzOntwcmVmaXg6ImVtci1zZXJ2ZXJsZXNzIixuYW1lOiJFTVJTZXJ2ZXJsZXNzIn0sbTI6e25hbWU6Ik0yIn0sY29ubmVjdGNhbXBhaWduczp7bmFtZToiQ29ubmVjdENhbXBhaWducyJ9LHJlZHNoaWZ0c2VydmVybGVzczp7cHJlZml4OiJyZWRzaGlmdC1zZXJ2ZXJsZXNzIixuYW1lOiJSZWRzaGlmdFNlcnZlcmxlc3MifSxyb2xlc2FueXdoZXJlOntuYW1lOiJSb2xlc0FueXdoZXJlIn0sbGljZW5zZW1hbmFnZXJ1c2Vyc3Vic2NyaXB0aW9uczp7cHJlZml4OiJsaWNlbnNlLW1hbmFnZXItdXNlci1zdWJzY3JpcHRpb25zIixuYW1lOiJMaWNlbnNlTWFuYWdlclVzZXJTdWJzY3JpcHRpb25zIn0sYmFja3Vwc3RvcmFnZTp7bmFtZToiQmFja3VwU3RvcmFnZSJ9LHByaXZhdGVuZXR3b3Jrczp7bmFtZToiUHJpdmF0ZU5ldHdvcmtzIn0sc3VwcG9ydGFwcDp7cHJlZml4OiJzdXBwb3J0LWFwcCIsbmFtZToiU3VwcG9ydEFwcCJ9LGNvbnRyb2x0b3dlcjp7bmFtZToiQ29udHJvbFRvd2VyIn0saW90ZmxlZXR3aXNlOntuYW1lOiJJb1RGbGVldFdpc2UifSxtaWdyYXRpb25odWJvcmNoZXN0cmF0b3I6e25hbWU6Ik1pZ3JhdGlvbkh1Yk9yY2hlc3RyYXRvciJ9LGNvbm5lY3RjYXNlczp7bmFtZToiQ29ubmVjdENhc2VzIn0scmVzb3VyY2VleHBsb3JlcjI6e3ByZWZpeDoicmVzb3VyY2UtZXhwbG9yZXItMiIsbmFtZToiUmVzb3VyY2VFeHBsb3JlcjIifSxzY2hlZHVsZXI6e25hbWU6IlNjaGVkdWxlciJ9LGNoaW1lc2Rrdm9pY2U6e3ByZWZpeDoiY2hpbWUtc2RrLXZvaWNlIixuYW1lOiJDaGltZVNES1ZvaWNlIn0sc3Ntc2FwOntwcmVmaXg6InNzbS1zYXAiLG5hbWU6IlNzbVNhcCJ9LG9hbTp7bmFtZToiT0FNIn0sYXJjem9uYWxzaGlmdDp7cHJlZml4OiJhcmMtem9uYWwtc2hpZnQiLG5hbWU6IkFSQ1pvbmFsU2hpZnQifSxvbWljczp7bmFtZToiT21pY3MifSxvcGVuc2VhcmNoc2VydmVybGVzczp7bmFtZToiT3BlblNlYXJjaFNlcnZlcmxlc3MifSxzZWN1cml0eWxha2U6e25hbWU6IlNlY3VyaXR5TGFrZSJ9LHNpbXNwYWNld2VhdmVyOntuYW1lOiJTaW1TcGFjZVdlYXZlciJ9LGRvY2RiZWxhc3RpYzp7cHJlZml4OiJkb2NkYi1lbGFzdGljIixuYW1lOiJEb2NEQkVsYXN0aWMifSxzYWdlbWFrZXJnZW9zcGF0aWFsOntwcmVmaXg6InNhZ2VtYWtlci1nZW9zcGF0aWFsIixuYW1lOiJTYWdlTWFrZXJHZW9zcGF0aWFsIn0sY29kZWNhdGFseXN0OntuYW1lOiJDb2RlQ2F0YWx5c3QifSxwaXBlczp7bmFtZToiUGlwZXMifSxzYWdlbWFrZXJtZXRyaWNzOntwcmVmaXg6InNhZ2VtYWtlci1tZXRyaWNzIixuYW1lOiJTYWdlTWFrZXJNZXRyaWNzIn0sa2luZXNpc3ZpZGVvd2VicnRjc3RvcmFnZTp7cHJlZml4OiJraW5lc2lzLXZpZGVvLXdlYnJ0Yy1zdG9yYWdlIixuYW1lOiJLaW5lc2lzVmlkZW9XZWJSVENTdG9yYWdlIn0sbGljZW5zZW1hbmFnZXJsaW51eHN1YnNjcmlwdGlvbnM6e3ByZWZpeDoibGljZW5zZS1tYW5hZ2VyLWxpbnV4LXN1YnNjcmlwdGlvbnMiLG5hbWU6IkxpY2Vuc2VNYW5hZ2VyTGludXhTdWJzY3JpcHRpb25zIn0sa2VuZHJhcmFua2luZzp7cHJlZml4OiJrZW5kcmEtcmFua2luZyIsbmFtZToiS2VuZHJhUmFua2luZyJ9LGNsZWFucm9vbXM6e25hbWU6IkNsZWFuUm9vbXMifSxjbG91ZHRyYWlsZGF0YTp7cHJlZml4OiJjbG91ZHRyYWlsLWRhdGEiLG5hbWU6IkNsb3VkVHJhaWxEYXRhIn0sdG5iOntuYW1lOiJUbmIifSxpbnRlcm5ldG1vbml0b3I6e25hbWU6IkludGVybmV0TW9uaXRvciJ9LGl2c3JlYWx0aW1lOntwcmVmaXg6Iml2cy1yZWFsdGltZSIsbmFtZToiSVZTUmVhbFRpbWUifSx2cGNsYXR0aWNlOntwcmVmaXg6InZwYy1sYXR0aWNlIixuYW1lOiJWUENMYXR0aWNlIn0sb3Npczp7bmFtZToiT1NJUyJ9LG1lZGlhcGFja2FnZXYyOntuYW1lOiJNZWRpYVBhY2thZ2VWMiJ9LHBheW1lbnRjcnlwdG9ncmFwaHk6e3ByZWZpeDoicGF5bWVudC1jcnlwdG9ncmFwaHkiLG5hbWU6IlBheW1lbnRDcnlwdG9ncmFwaHkifSxwYXltZW50Y3J5cHRvZ3JhcGh5ZGF0YTp7cHJlZml4OiJwYXltZW50LWNyeXB0b2dyYXBoeS1kYXRhIixuYW1lOiJQYXltZW50Q3J5cHRvZ3JhcGh5RGF0YSJ9LGNvZGVndXJ1c2VjdXJpdHk6e3ByZWZpeDoiY29kZWd1cnUtc2VjdXJpdHkiLG5hbWU6IkNvZGVHdXJ1U2VjdXJpdHkifSx2ZXJpZmllZHBlcm1pc3Npb25zOntuYW1lOiJWZXJpZmllZFBlcm1pc3Npb25zIn0sYXBwZmFicmljOntuYW1lOiJBcHBGYWJyaWMifSxtZWRpY2FsaW1hZ2luZzp7cHJlZml4OiJtZWRpY2FsLWltYWdpbmciLG5hbWU6Ik1lZGljYWxJbWFnaW5nIn0sZW50aXR5cmVzb2x1dGlvbjp7bmFtZToiRW50aXR5UmVzb2x1dGlvbiJ9LG1hbmFnZWRibG9ja2NoYWlucXVlcnk6e3ByZWZpeDoibWFuYWdlZGJsb2NrY2hhaW4tcXVlcnkiLG5hbWU6Ik1hbmFnZWRCbG9ja2NoYWluUXVlcnkifSxuZXB0dW5lZGF0YTp7bmFtZToiTmVwdHVuZWRhdGEifSxwY2Fjb25uZWN0b3JhZDp7cHJlZml4OiJwY2EtY29ubmVjdG9yLWFkIixuYW1lOiJQY2FDb25uZWN0b3JBZCJ9LGJlZHJvY2s6e25hbWU6IkJlZHJvY2sifSxiZWRyb2NrcnVudGltZTp7cHJlZml4OiJiZWRyb2NrLXJ1bnRpbWUiLG5hbWU6IkJlZHJvY2tSdW50aW1lIn0sZGF0YXpvbmU6e25hbWU6IkRhdGFab25lIn0sbGF1bmNod2l6YXJkOntwcmVmaXg6ImxhdW5jaC13aXphcmQiLG5hbWU6IkxhdW5jaFdpemFyZCJ9LHRydXN0ZWRhZHZpc29yOntuYW1lOiJUcnVzdGVkQWR2aXNvciJ9LGluc3BlY3RvcnNjYW46e3ByZWZpeDoiaW5zcGVjdG9yLXNjYW4iLG5hbWU6Ikluc3BlY3RvclNjYW4ifSxiY21kYXRhZXhwb3J0czp7cHJlZml4OiJiY20tZGF0YS1leHBvcnRzIixuYW1lOiJCQ01EYXRhRXhwb3J0cyJ9LGNvc3RvcHRpbWl6YXRpb25odWI6e3ByZWZpeDoiY29zdC1vcHRpbWl6YXRpb24taHViIixuYW1lOiJDb3N0T3B0aW1pemF0aW9uSHViIn0sZWtzYXV0aDp7cHJlZml4OiJla3MtYXV0aCIsbmFtZToiRUtTQXV0aCJ9LGZyZWV0aWVyOntuYW1lOiJGcmVlVGllciJ9LHJlcG9zdHNwYWNlOntuYW1lOiJSZXBvc3RzcGFjZSJ9LHdvcmtzcGFjZXN0aGluY2xpZW50OntwcmVmaXg6IndvcmtzcGFjZXMtdGhpbi1jbGllbnQiLG5hbWU6IldvcmtTcGFjZXNUaGluQ2xpZW50In0sYjJiaTp7bmFtZToiQjJiaSJ9LGJlZHJvY2thZ2VudDp7cHJlZml4OiJiZWRyb2NrLWFnZW50IixuYW1lOiJCZWRyb2NrQWdlbnQifSxiZWRyb2NrYWdlbnRydW50aW1lOntwcmVmaXg6ImJlZHJvY2stYWdlbnQtcnVudGltZSIsbmFtZToiQmVkcm9ja0FnZW50UnVudGltZSJ9LHFidXNpbmVzczp7bmFtZToiUUJ1c2luZXNzIn0scWNvbm5lY3Q6e25hbWU6IlFDb25uZWN0In0sY2xlYW5yb29tc21sOntuYW1lOiJDbGVhblJvb21zTUwifSxtYXJrZXRwbGFjZWFncmVlbWVudDp7cHJlZml4OiJtYXJrZXRwbGFjZS1hZ3JlZW1lbnQiLG5hbWU6Ik1hcmtldHBsYWNlQWdyZWVtZW50In0sbWFya2V0cGxhY2VkZXBsb3ltZW50OntwcmVmaXg6Im1hcmtldHBsYWNlLWRlcGxveW1lbnQiLG5hbWU6Ik1hcmtldHBsYWNlRGVwbG95bWVudCJ9LG5ldHdvcmttb25pdG9yOntuYW1lOiJOZXR3b3JrTW9uaXRvciJ9LHN1cHBseWNoYWluOntuYW1lOiJTdXBwbHlDaGFpbiJ9LGFydGlmYWN0OntuYW1lOiJBcnRpZmFjdCJ9LGNoYXRib3Q6e25hbWU6IkNoYXRib3QifSx0aW1lc3RyZWFtaW5mbHV4ZGI6e3ByZWZpeDoidGltZXN0cmVhbS1pbmZsdXhkYiIsbmFtZToiVGltZXN0cmVhbUluZmx1eERCIn0sY29kZWNvbm5lY3Rpb25zOntuYW1lOiJDb2RlQ29ubmVjdGlvbnMifX19LHt9XSw1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDExLTA2LTE1IixlbmRwb2ludFByZWZpeDoic3RzIixnbG9iYWxFbmRwb2ludDoic3RzLmFtYXpvbmF3cy5jb20iLHByb3RvY29sOiJxdWVyeSIsc2VydmljZUFiYnJldmlhdGlvbjoiQVdTIFNUUyIsc2VydmljZUZ1bGxOYW1lOiJBV1MgU2VjdXJpdHkgVG9rZW4gU2VydmljZSIsc2VydmljZUlkOiJTVFMiLHNpZ25hdHVyZVZlcnNpb246InY0Iix1aWQ6InN0cy0yMDExLTA2LTE1Iix4bWxOYW1lc3BhY2U6Imh0dHBzOi8vc3RzLmFtYXpvbmF3cy5jb20vZG9jLzIwMTEtMDYtMTUvIn0sb3BlcmF0aW9uczp7QXNzdW1lUm9sZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSb2xlQXJuIiwiUm9sZVNlc3Npb25OYW1lIl0sbWVtYmVyczp7Um9sZUFybjp7fSxSb2xlU2Vzc2lvbk5hbWU6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sUG9saWN5Ont9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFRhZ3M6e3NoYXBlOiJTOCJ9LFRyYW5zaXRpdmVUYWdLZXlzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LEV4dGVybmFsSWQ6e30sU2VyaWFsTnVtYmVyOnt9LFRva2VuQ29kZTp7fSxTb3VyY2VJZGVudGl0eTp7fSxQcm92aWRlZENvbnRleHRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7UHJvdmlkZXJBcm46e30sQ29udGV4dEFzc2VydGlvbjp7fX19fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sU291cmNlSWRlbnRpdHk6e319fX0sQXNzdW1lUm9sZVdpdGhTQU1MOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJvbGVBcm4iLCJQcmluY2lwYWxBcm4iLCJTQU1MQXNzZXJ0aW9uIl0sbWVtYmVyczp7Um9sZUFybjp7fSxQcmluY2lwYWxBcm46e30sU0FNTEFzc2VydGlvbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LFBvbGljeTp7fSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVdpdGhTQU1MUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxTdWJqZWN0Ont9LFN1YmplY3RUeXBlOnt9LElzc3Vlcjp7fSxBdWRpZW5jZTp7fSxOYW1lUXVhbGlmaWVyOnt9LFNvdXJjZUlkZW50aXR5Ont9fX19LEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUm9sZUFybiIsIlJvbGVTZXNzaW9uTmFtZSIsIldlYklkZW50aXR5VG9rZW4iXSxtZW1iZXJzOntSb2xlQXJuOnt9LFJvbGVTZXNzaW9uTmFtZTp7fSxXZWJJZGVudGl0eVRva2VuOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sUHJvdmlkZXJJZDp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxQb2xpY3k6e30sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LFN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbjp7fSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxQcm92aWRlcjp7fSxBdWRpZW5jZTp7fSxTb3VyY2VJZGVudGl0eTp7fX19fSxEZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJFbmNvZGVkTWVzc2FnZSJdLG1lbWJlcnM6e0VuY29kZWRNZXNzYWdlOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJEZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntEZWNvZGVkTWVzc2FnZTp7fX19fSxHZXRBY2Nlc3NLZXlJbmZvOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkFjY2Vzc0tleUlkIl0sbWVtYmVyczp7QWNjZXNzS2V5SWQ6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldEFjY2Vzc0tleUluZm9SZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7QWNjb3VudDp7fX19fSxHZXRDYWxsZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRDYWxsZXJJZGVudGl0eVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntVc2VySWQ6e30sQWNjb3VudDp7fSxBcm46e319fX0sR2V0RmVkZXJhdGlvblRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIk5hbWUiXSxtZW1iZXJzOntOYW1lOnt9LFBvbGljeTp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxUYWdzOntzaGFwZToiUzgifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0RmVkZXJhdGlvblRva2VuUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxGZWRlcmF0ZWRVc2VyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiRmVkZXJhdGVkVXNlcklkIiwiQXJuIl0sbWVtYmVyczp7RmVkZXJhdGVkVXNlcklkOnt9LEFybjp7fX19LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifX19fSxHZXRTZXNzaW9uVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0R1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFNlcmlhbE51bWJlcjp7fSxUb2tlbkNvZGU6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldFNlc3Npb25Ub2tlblJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn19fX19LHNoYXBlczp7UzQ6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthcm46e319fX0sUzg6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIktleSIsIlZhbHVlIl0sbWVtYmVyczp7S2V5Ont9LFZhbHVlOnt9fX19LFNsOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQWNjZXNzS2V5SWQiLCJTZWNyZXRBY2Nlc3NLZXkiLCJTZXNzaW9uVG9rZW4iLCJFeHBpcmF0aW9uIl0sbWVtYmVyczp7QWNjZXNzS2V5SWQ6e30sU2VjcmV0QWNjZXNzS2V5Ont0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sU2Vzc2lvblRva2VuOnt9LEV4cGlyYXRpb246e3R5cGU6InRpbWVzdGFtcCJ9fX0sU3E6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJBc3N1bWVkUm9sZUlkIiwiQXJuIl0sbWVtYmVyczp7QXNzdW1lZFJvbGVJZDp7fSxBcm46e319fX19fSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cGFnaW5hdGlvbjp7fX19LHt9XSw3OltmdW5jdGlvbihlLHQsbil7ZSgiLi4vbGliL25vZGVfbG9hZGVyIik7dmFyIHI9ZSgiLi4vbGliL2NvcmUiKSxvPXIuU2VydmljZSxpPXIuYXBpTG9hZGVyO2kuc2VydmljZXMuY29nbml0b2lkZW50aXR5PXt9LHIuQ29nbml0b0lkZW50aXR5PW8uZGVmaW5lU2VydmljZSgiY29nbml0b2lkZW50aXR5IixbIjIwMTQtMDYtMzAiXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuc2VydmljZXMuY29nbml0b2lkZW50aXR5LCIyMDE0LTA2LTMwIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAubWluLmpzb24iKTtyZXR1cm4gdC5wYWdpbmF0b3JzPWUoIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLnBhZ2luYXRvcnMuanNvbiIpLnBhZ2luYXRpb24sdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmV4cG9ydHM9ci5Db2duaXRvSWRlbnRpdHl9LHsiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAubWluLmpzb24iOjEsIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLnBhZ2luYXRvcnMuanNvbiI6MiwiLi4vbGliL2NvcmUiOjE5LCIuLi9saWIvbm9kZV9sb2FkZXIiOjE2fV0sODpbZnVuY3Rpb24oZSx0LG4pe2UoIi4uL2xpYi9ub2RlX2xvYWRlciIpO3ZhciByPWUoIi4uL2xpYi9jb3JlIiksbz1yLlNlcnZpY2UsaT1yLmFwaUxvYWRlcjtpLnNlcnZpY2VzLnN0cz17fSxyLlNUUz1vLmRlZmluZVNlcnZpY2UoInN0cyIsWyIyMDExLTA2LTE1Il0pLGUoIi4uL2xpYi9zZXJ2aWNlcy9zdHMiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5zZXJ2aWNlcy5zdHMsIjIwMTEtMDYtMTUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1lKCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1Lm1pbi5qc29uIik7cmV0dXJuIHQucGFnaW5hdG9ycz1lKCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1LnBhZ2luYXRvcnMuanNvbiIpLnBhZ2luYXRpb24sdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmV4cG9ydHM9ci5TVFN9LHsiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5taW4uanNvbiI6NSwiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5wYWdpbmF0b3JzLmpzb24iOjYsIi4uL2xpYi9jb3JlIjoxOSwiLi4vbGliL25vZGVfbG9hZGVyIjoxNiwiLi4vbGliL3NlcnZpY2VzL3N0cyI6NjN9XSw5OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe2lmKCFyLnNlcnZpY2VzLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFNlcnZpY2U6IEZhaWxlZCB0byBsb2FkIGFwaSBmb3IgIitlKTtyZXR1cm4gci5zZXJ2aWNlc1tlXVt0XX1yLnNlcnZpY2VzPXt9LHQuZXhwb3J0cz1yfSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIbWFjIiksbz1lKCIuL2Jyb3dzZXJNZDUiKSxpPWUoIi4vYnJvd3NlclNoYTEiKSxhPWUoIi4vYnJvd3NlclNoYTI1NiIpO3QuZXhwb3J0cz17Y3JlYXRlSGFzaDpmdW5jdGlvbihlKXtpZigibWQ1Ij09PShlPWUudG9Mb3dlckNhc2UoKSkpcmV0dXJuIG5ldyBvO2lmKCJzaGEyNTYiPT09ZSlyZXR1cm4gbmV3IGE7aWYoInNoYTEiPT09ZSlyZXR1cm4gbmV3IGk7dGhyb3cgbmV3IEVycm9yKCJIYXNoIGFsZ29yaXRobSAiK2UrIiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyIFNESyIpfSxjcmVhdGVIbWFjOmZ1bmN0aW9uKGUsdCl7aWYoIm1kNSI9PT0oZT1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuZXcgcihvLHQpO2lmKCJzaGEyNTYiPT09ZSlyZXR1cm4gbmV3IHIoYSx0KTtpZigic2hhMSI9PT1lKXJldHVybiBuZXcgcihpLHQpO3Rocm93IG5ldyBFcnJvcigiSE1BQyBhbGdvcml0aG0gIitlKyIgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3NlciBTREsiKX0sY3JlYXRlU2lnbjpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiY3JlYXRlU2lnbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIGJyb3dzZXIiKX19fSx7Ii4vYnJvd3NlckhtYWMiOjEyLCIuL2Jyb3dzZXJNZDUiOjEzLCIuL2Jyb3dzZXJTaGExIjoxNCwiLi9icm93c2VyU2hhMjU2IjoxNX1dLDExOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcjsidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ2b2lkIDA9PT1BcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpPi0xfSk7dmFyIG89WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLCJbb2JqZWN0IERhdGFWaWV3XSJdO3QuZXhwb3J0cz17aXNFbXB0eURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlPzA9PT1lLmxlbmd0aDowPT09ZS5ieXRlTGVuZ3RofSxjb252ZXJ0VG9CdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1uZXcgcihlLCJ1dGY4IikpLEFycmF5QnVmZmVyLmlzVmlldyhlKT9uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoL1VpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpOm5ldyBVaW50OEFycmF5KGUpfX19LHsiYnVmZmVyLyI6ODZ9XSwxMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpO2Z1bmN0aW9uIG8oZSx0KXt0aGlzLmhhc2g9bmV3IGUsdGhpcy5vdXRlcj1uZXcgZTt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXIuY29udmVydFRvQnVmZmVyKHQpO2lmKG4uYnl0ZUxlbmd0aD5lLkJMT0NLX1NJWkUpe3ZhciBvPW5ldyBlO28udXBkYXRlKG4pLG49by5kaWdlc3QoKX12YXIgaT1uZXcgVWludDhBcnJheShlLkJMT0NLX1NJWkUpO3JldHVybiBpLnNldChuKSxpfShlLHQpLG89bmV3IFVpbnQ4QXJyYXkoZS5CTE9DS19TSVpFKTtvLnNldChuKTtmb3IodmFyIGk9MDtpPGUuQkxPQ0tfU0laRTtpKyspbltpXV49NTQsb1tpXV49OTI7Zm9yKHRoaXMuaGFzaC51cGRhdGUobiksdGhpcy5vdXRlci51cGRhdGUobyksaT0wO2k8bi5ieXRlTGVuZ3RoO2krKyluW2ldPTB9dC5leHBvcnRzPW8sby5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHIuaXNFbXB0eURhdGEoZSl8fHRoaXMuZXJyb3IpcmV0dXJuIHRoaXM7dHJ5e3RoaXMuaGFzaC51cGRhdGUoci5jb252ZXJ0VG9CdWZmZXIoZSkpfWNhdGNoKGUpe3RoaXMuZXJyb3I9ZX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm91dGVyLmZpbmlzaGVkfHx0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmhhc2guZGlnZXN0KCkpLHRoaXMub3V0ZXIuZGlnZXN0KGUpfX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExfV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKSxvPWUoImJ1ZmZlci8iKS5CdWZmZXIsaT02NDtmdW5jdGlvbiBhKCl7dGhpcy5zdGF0ZT1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSx0aGlzLmJ1ZmZlcj1uZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKGkpKSx0aGlzLmJ1ZmZlckxlbmd0aD0wLHRoaXMuYnl0ZXNIYXNoZWQ9MCx0aGlzLmZpbmlzaGVkPSExfWZ1bmN0aW9uIHMoZSx0LG4scixvLGkpe3JldHVybigodD0odCtlJjQyOTQ5NjcyOTUpKyhyK2kmNDI5NDk2NzI5NSkmNDI5NDk2NzI5NSk8PG98dD4+PjMyLW8pK24mNDI5NDk2NzI5NX1mdW5jdGlvbiBjKGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKHQmbnx+dCZyLGUsdCxvLGksYSl9ZnVuY3Rpb24gdShlLHQsbixyLG8saSxhKXtyZXR1cm4gcyh0JnJ8biZ+cixlLHQsbyxpLGEpfWZ1bmN0aW9uIGwoZSx0LG4scixvLGksYSl7cmV0dXJuIHModF5uXnIsZSx0LG8saSxhKX1mdW5jdGlvbiBwKGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKG5eKHR8fnIpLGUsdCxvLGksYSl9dC5leHBvcnRzPWEsYS5CTE9DS19TSVpFPWksYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHIuaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO3ZhciB0PXIuY29udmVydFRvQnVmZmVyKGUpLG49MCxvPXQuYnl0ZUxlbmd0aDtmb3IodGhpcy5ieXRlc0hhc2hlZCs9bztvPjA7KXRoaXMuYnVmZmVyLnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssdFtuKytdKSxvLS0sdGhpcy5idWZmZXJMZW5ndGg9PT1pJiYodGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MCk7cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtpZighdGhpcy5maW5pc2hlZCl7dmFyIHQ9dGhpcyxuPXQuYnVmZmVyLHI9dC5idWZmZXJMZW5ndGgsYT04KnQuYnl0ZXNIYXNoZWQ7aWYobi5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLDEyOCksciVpPj01Nil7Zm9yKHZhciBzPXRoaXMuYnVmZmVyTGVuZ3RoO3M8aTtzKyspbi5zZXRVaW50OChzLDApO3RoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTB9Zm9yKHM9dGhpcy5idWZmZXJMZW5ndGg7czw1NjtzKyspbi5zZXRVaW50OChzLDApO24uc2V0VWludDMyKDU2LGE+Pj4wLCEwKSxuLnNldFVpbnQzMig2MCxNYXRoLmZsb29yKGEvNDI5NDk2NzI5NiksITApLHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuZmluaXNoZWQ9ITB9dmFyIGM9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxNikpO2ZvcihzPTA7czw0O3MrKyljLnNldFVpbnQzMig0KnMsdGhpcy5zdGF0ZVtzXSwhMCk7dmFyIHU9bmV3IG8oYy5idWZmZXIsYy5ieXRlT2Zmc2V0LGMuYnl0ZUxlbmd0aCk7cmV0dXJuIGU/dS50b1N0cmluZyhlKTp1fSxhLnByb3RvdHlwZS5oYXNoQnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5idWZmZXIsdD10aGlzLnN0YXRlLG49dFswXSxyPXRbMV0sbz10WzJdLGk9dFszXTtuPWMobixyLG8saSxlLmdldFVpbnQzMigwLCEwKSw3LDM2MTQwOTAzNjApLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDQsITApLDEyLDM5MDU0MDI3MTApLG89YyhvLGksbixyLGUuZ2V0VWludDMyKDgsITApLDE3LDYwNjEwNTgxOSkscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoMTIsITApLDIyLDMyNTA0NDE5NjYpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDE2LCEwKSw3LDQxMTg1NDgzOTkpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDIwLCEwKSwxMiwxMjAwMDgwNDI2KSxvPWMobyxpLG4scixlLmdldFVpbnQzMigyNCwhMCksMTcsMjgyMTczNTk1NSkscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoMjgsITApLDIyLDQyNDkyNjEzMTMpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDMyLCEwKSw3LDE3NzAwMzU0MTYpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDM2LCEwKSwxMiwyMzM2NTUyODc5KSxvPWMobyxpLG4scixlLmdldFVpbnQzMig0MCwhMCksMTcsNDI5NDkyNTIzMykscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoNDQsITApLDIyLDIzMDQ1NjMxMzQpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDQ4LCEwKSw3LDE4MDQ2MDM2ODIpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDUyLCEwKSwxMiw0MjU0NjI2MTk1KSxvPWMobyxpLG4scixlLmdldFVpbnQzMig1NiwhMCksMTcsMjc5Mjk2NTAwNiksbj11KG4scj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoNjAsITApLDIyLDEyMzY1MzUzMjkpLG8saSxlLmdldFVpbnQzMig0LCEwKSw1LDQxMjkxNzA3ODYpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDI0LCEwKSw5LDMyMjU0NjU2NjQpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDQ0LCEwKSwxNCw2NDM3MTc3MTMpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDAsITApLDIwLDM5MjEwNjk5OTQpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDIwLCEwKSw1LDM1OTM0MDg2MDUpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDQwLCEwKSw5LDM4MDE2MDgzKSxvPXUobyxpLG4scixlLmdldFVpbnQzMig2MCwhMCksMTQsMzYzNDQ4ODk2MSkscj11KHIsbyxpLG4sZS5nZXRVaW50MzIoMTYsITApLDIwLDM4ODk0Mjk0NDgpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDM2LCEwKSw1LDU2ODQ0NjQzOCksaT11KGksbixyLG8sZS5nZXRVaW50MzIoNTYsITApLDksMzI3NTE2MzYwNiksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoMTIsITApLDE0LDQxMDc2MDMzMzUpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDMyLCEwKSwyMCwxMTYzNTMxNTAxKSxuPXUobixyLG8saSxlLmdldFVpbnQzMig1MiwhMCksNSwyODUwMjg1ODI5KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMig4LCEwKSw5LDQyNDM1NjM1MTIpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDI4LCEwKSwxNCwxNzM1MzI4NDczKSxuPWwobixyPXUocixvLGksbixlLmdldFVpbnQzMig0OCwhMCksMjAsMjM2ODM1OTU2MiksbyxpLGUuZ2V0VWludDMyKDIwLCEwKSw0LDQyOTQ1ODg3MzgpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDMyLCEwKSwxMSwyMjcyMzkyODMzKSxvPWwobyxpLG4scixlLmdldFVpbnQzMig0NCwhMCksMTYsMTgzOTAzMDU2Mikscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoNTYsITApLDIzLDQyNTk2NTc3NDApLG49bChuLHIsbyxpLGUuZ2V0VWludDMyKDQsITApLDQsMjc2Mzk3NTIzNiksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoMTYsITApLDExLDEyNzI4OTMzNTMpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDI4LCEwKSwxNiw0MTM5NDY5NjY0KSxyPWwocixvLGksbixlLmdldFVpbnQzMig0MCwhMCksMjMsMzIwMDIzNjY1Niksbj1sKG4scixvLGksZS5nZXRVaW50MzIoNTIsITApLDQsNjgxMjc5MTc0KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMigwLCEwKSwxMSwzOTM2NDMwMDc0KSxvPWwobyxpLG4scixlLmdldFVpbnQzMigxMiwhMCksMTYsMzU3MjQ0NTMxNykscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoMjQsITApLDIzLDc2MDI5MTg5KSxuPWwobixyLG8saSxlLmdldFVpbnQzMigzNiwhMCksNCwzNjU0NjAyODA5KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMig0OCwhMCksMTEsMzg3MzE1MTQ2MSksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoNjAsITApLDE2LDUzMDc0MjUyMCksbj1wKG4scj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoOCwhMCksMjMsMzI5OTYyODY0NSksbyxpLGUuZ2V0VWludDMyKDAsITApLDYsNDA5NjMzNjQ1MiksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoMjgsITApLDEwLDExMjY4OTE0MTUpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDU2LCEwKSwxNSwyODc4NjEyMzkxKSxyPXAocixvLGksbixlLmdldFVpbnQzMigyMCwhMCksMjEsNDIzNzUzMzI0MSksbj1wKG4scixvLGksZS5nZXRVaW50MzIoNDgsITApLDYsMTcwMDQ4NTU3MSksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoMTIsITApLDEwLDIzOTk5ODA2OTApLG89cChvLGksbixyLGUuZ2V0VWludDMyKDQwLCEwKSwxNSw0MjkzOTE1NzczKSxyPXAocixvLGksbixlLmdldFVpbnQzMig0LCEwKSwyMSwyMjQwMDQ0NDk3KSxuPXAobixyLG8saSxlLmdldFVpbnQzMigzMiwhMCksNiwxODczMzEzMzU5KSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMig2MCwhMCksMTAsNDI2NDM1NTU1Miksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoMjQsITApLDE1LDI3MzQ3Njg5MTYpLHI9cChyLG8saSxuLGUuZ2V0VWludDMyKDUyLCEwKSwyMSwxMzA5MTUxNjQ5KSxuPXAobixyLG8saSxlLmdldFVpbnQzMigxNiwhMCksNiw0MTQ5NDQ0MjI2KSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMig0NCwhMCksMTAsMzE3NDc1NjkxNyksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoOCwhMCksMTUsNzE4Nzg3MjU5KSxyPXAocixvLGksbixlLmdldFVpbnQzMigzNiwhMCksMjEsMzk1MTQ4MTc0NSksdFswXT1uK3RbMF0mNDI5NDk2NzI5NSx0WzFdPXIrdFsxXSY0Mjk0OTY3Mjk1LHRbMl09byt0WzJdJjQyOTQ5NjcyOTUsdFszXT1pK3RbM10mNDI5NDk2NzI5NX19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoImJ1ZmZlci8iKS5CdWZmZXIsbz1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKTtmdW5jdGlvbiBpKCl7dGhpcy5oMD0xNzMyNTg0MTkzLHRoaXMuaDE9NDAyMzIzMzQxNyx0aGlzLmgyPTI1NjIzODMxMDIsdGhpcy5oMz0yNzE3MzM4NzgsdGhpcy5oND0zMjg1Mzc3NTIwLHRoaXMuYmxvY2s9bmV3IFVpbnQzMkFycmF5KDgwKSx0aGlzLm9mZnNldD0wLHRoaXMuc2hpZnQ9MjQsdGhpcy50b3RhbExlbmd0aD0wfW5ldyBVaW50MzJBcnJheShbMTUxODUwMDI0OSwxODU5Nzc1MzkzLC0xODk0MDA3NTg4LC04OTk0OTc1MTRdKSxNYXRoLnBvdygyLDUzKSx0LmV4cG9ydHM9aSxpLkJMT0NLX1NJWkU9NjQsaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTtpZihvLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO3ZhciB0PShlPW8uY29udmVydFRvQnVmZmVyKGUpKS5sZW5ndGg7dGhpcy50b3RhbExlbmd0aCs9OCp0O2Zvcih2YXIgbj0wO248dDtuKyspdGhpcy53cml0ZShlW25dKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7dGhpcy5ibG9ja1t0aGlzLm9mZnNldF18PSgyNTUmZSk8PHRoaXMuc2hpZnQsdGhpcy5zaGlmdD90aGlzLnNoaWZ0LT04Oih0aGlzLm9mZnNldCsrLHRoaXMuc2hpZnQ9MjQpLDE2PT09dGhpcy5vZmZzZXQmJnRoaXMucHJvY2Vzc0Jsb2NrKCl9LGkucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXt0aGlzLndyaXRlKDEyOCksKHRoaXMub2Zmc2V0PjE0fHwxND09PXRoaXMub2Zmc2V0JiZ0aGlzLnNoaWZ0PDI0KSYmdGhpcy5wcm9jZXNzQmxvY2soKSx0aGlzLm9mZnNldD0xNCx0aGlzLnNoaWZ0PTI0LHRoaXMud3JpdGUoMCksdGhpcy53cml0ZSgwKSx0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+MHhmZmZmZmZmZmZmP3RoaXMudG90YWxMZW5ndGgvMTA5OTUxMTYyNzc3NjowKSx0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+NDI5NDk2NzI5NT90aGlzLnRvdGFsTGVuZ3RoLzQyOTQ5NjcyOTY6MCk7Zm9yKHZhciB0PTI0O3Q+PTA7dC09OCl0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+PnQpO3ZhciBuPW5ldyByKDIwKSxvPW5ldyBEYXRhVmlldyhuLmJ1ZmZlcik7cmV0dXJuIG8uc2V0VWludDMyKDAsdGhpcy5oMCwhMSksby5zZXRVaW50MzIoNCx0aGlzLmgxLCExKSxvLnNldFVpbnQzMig4LHRoaXMuaDIsITEpLG8uc2V0VWludDMyKDEyLHRoaXMuaDMsITEpLG8uc2V0VWludDMyKDE2LHRoaXMuaDQsITEpLGU/bi50b1N0cmluZyhlKTpufSxpLnByb3RvdHlwZS5wcm9jZXNzQmxvY2s9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MTY7ZTw4MDtlKyspe3ZhciB0PXRoaXMuYmxvY2tbZS0zXV50aGlzLmJsb2NrW2UtOF1edGhpcy5ibG9ja1tlLTE0XV50aGlzLmJsb2NrW2UtMTZdO3RoaXMuYmxvY2tbZV09dDw8MXx0Pj4+MzF9dmFyIG4scixvPXRoaXMuaDAsaT10aGlzLmgxLGE9dGhpcy5oMixzPXRoaXMuaDMsYz10aGlzLmg0O2ZvcihlPTA7ZTw4MDtlKyspe2U8MjA/KG49c15pJihhXnMpLHI9MTUxODUwMDI0OSk6ZTw0MD8obj1pXmFecyxyPTE4NTk3NzUzOTMpOmU8NjA/KG49aSZhfHMmKGl8YSkscj0yNDAwOTU5NzA4KToobj1pXmFecyxyPTMzOTU0Njk3ODIpO3ZhciB1PShvPDw1fG8+Pj4yNykrbitjK3IrKDB8dGhpcy5ibG9ja1tlXSk7Yz1zLHM9YSxhPWk8PDMwfGk+Pj4yLGk9byxvPXV9Zm9yKHRoaXMuaDA9dGhpcy5oMCtvfDAsdGhpcy5oMT10aGlzLmgxK2l8MCx0aGlzLmgyPXRoaXMuaDIrYXwwLHRoaXMuaDM9dGhpcy5oMytzfDAsdGhpcy5oND10aGlzLmg0K2N8MCx0aGlzLm9mZnNldD0wLGU9MDtlPDE2O2UrKyl0aGlzLmJsb2NrW2VdPTB9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJidWZmZXIvIikuQnVmZmVyLG89ZSgiLi9icm93c2VySGFzaFV0aWxzIiksaT02NCxhPW5ldyBVaW50MzJBcnJheShbMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSkscz1NYXRoLnBvdygyLDUzKS0xO2Z1bmN0aW9uIGMoKXt0aGlzLnN0YXRlPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0sdGhpcy50ZW1wPW5ldyBJbnQzMkFycmF5KDY0KSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSg2NCksdGhpcy5idWZmZXJMZW5ndGg9MCx0aGlzLmJ5dGVzSGFzaGVkPTAsdGhpcy5maW5pc2hlZD0hMX10LmV4cG9ydHM9YyxjLkJMT0NLX1NJWkU9aSxjLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO2lmKG8uaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7dmFyIHQ9MCxuPShlPW8uY29udmVydFRvQnVmZmVyKGUpKS5ieXRlTGVuZ3RoO2lmKHRoaXMuYnl0ZXNIYXNoZWQrPW4sOCp0aGlzLmJ5dGVzSGFzaGVkPnMpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgaGFzaCBtb3JlIHRoYW4gMl41MyAtIDEgYml0cyIpO2Zvcig7bj4wOyl0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXT1lW3QrK10sbi0tLHRoaXMuYnVmZmVyTGVuZ3RoPT09aSYmKHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTApO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZmluaXNoZWQpe3ZhciB0PTgqdGhpcy5ieXRlc0hhc2hlZCxuPW5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlci5idWZmZXIsdGhpcy5idWZmZXIuYnl0ZU9mZnNldCx0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxvPXRoaXMuYnVmZmVyTGVuZ3RoO2lmKG4uc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywxMjgpLG8laT49NTYpe2Zvcih2YXIgYT10aGlzLmJ1ZmZlckxlbmd0aDthPGk7YSsrKW4uc2V0VWludDgoYSwwKTt0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wfWZvcihhPXRoaXMuYnVmZmVyTGVuZ3RoO2E8NTY7YSsrKW4uc2V0VWludDgoYSwwKTtuLnNldFVpbnQzMig1NixNYXRoLmZsb29yKHQvNDI5NDk2NzI5NiksITApLG4uc2V0VWludDMyKDYwLHQpLHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuZmluaXNoZWQ9ITB9dmFyIHM9bmV3IHIoMzIpO2ZvcihhPTA7YTw4O2ErKylzWzQqYV09dGhpcy5zdGF0ZVthXT4+PjI0JjI1NSxzWzQqYSsxXT10aGlzLnN0YXRlW2FdPj4+MTYmMjU1LHNbNCphKzJdPXRoaXMuc3RhdGVbYV0+Pj44JjI1NSxzWzQqYSszXT10aGlzLnN0YXRlW2FdPj4+MCYyNTU7cmV0dXJuIGU/cy50b1N0cmluZyhlKTpzfSxjLnByb3RvdHlwZS5oYXNoQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuYnVmZmVyLHQ9dGhpcy5zdGF0ZSxuPXRbMF0scj10WzFdLG89dFsyXSxzPXRbM10sYz10WzRdLHU9dFs1XSxsPXRbNl0scD10WzddLGQ9MDtkPGk7ZCsrKXtpZihkPDE2KXRoaXMudGVtcFtkXT0oMjU1JmVbNCpkXSk8PDI0fCgyNTUmZVs0KmQrMV0pPDwxNnwoMjU1JmVbNCpkKzJdKTw8OHwyNTUmZVs0KmQrM107ZWxzZXt2YXIgaD10aGlzLnRlbXBbZC0yXSxmPShoPj4+MTd8aDw8MTUpXihoPj4+MTl8aDw8MTMpXmg+Pj4xMCxnPSgoaD10aGlzLnRlbXBbZC0xNV0pPj4+N3xoPDwyNSleKGg+Pj4xOHxoPDwxNCleaD4+PjM7dGhpcy50ZW1wW2RdPShmK3RoaXMudGVtcFtkLTddfDApKyhnK3RoaXMudGVtcFtkLTE2XXwwKX12YXIgbT0oKChjPj4+NnxjPDwyNileKGM+Pj4xMXxjPDwyMSleKGM+Pj4yNXxjPDw3KSkrKGMmdV5+YyZsKXwwKSsocCsoYVtkXSt0aGlzLnRlbXBbZF18MCl8MCl8MCx2PSgobj4+PjJ8bjw8MzApXihuPj4+MTN8bjw8MTkpXihuPj4+MjJ8bjw8MTApKSsobiZyXm4mb15yJm8pfDA7cD1sLGw9dSx1PWMsYz1zK218MCxzPW8sbz1yLHI9bixuPW0rdnwwfXRbMF0rPW4sdFsxXSs9cix0WzJdKz1vLHRbM10rPXMsdFs0XSs9Yyx0WzVdKz11LHRbNl0rPWwsdFs3XSs9cH19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgbj1lKCIuL3V0aWwiKTtuLmNyeXB0by5saWI9ZSgiLi9icm93c2VyQ3J5cHRvTGliIiksbi5CdWZmZXI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcixuLnVybD1lKCJ1cmwvIiksbi5xdWVyeXN0cmluZz1lKCJxdWVyeXN0cmluZy8iKSxuLnJlYWxDbG9jaz1lKCIuL3JlYWxjbG9jay9icm93c2VyQ2xvY2siKSxuLmVudmlyb25tZW50PSJqcyIsbi5jcmVhdGVFdmVudFN0cmVhbT1lKCIuL2V2ZW50LXN0cmVhbS9idWZmZXJlZC1jcmVhdGUtZXZlbnQtc3RyZWFtIikuY3JlYXRlRXZlbnRTdHJlYW0sbi5pc0Jyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5pc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHI9ZSgiLi9jb3JlIik7aWYodC5leHBvcnRzPXIsZSgiLi9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiIpLGUoIi4vY3JlZGVudGlhbHMvdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jaGFpbmFibGVfdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy93ZWJfaWRlbnRpdHlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NvZ25pdG9faWRlbnRpdHlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL3NhbWxfY3JlZGVudGlhbHMiKSxyLlhNTC5QYXJzZXI9ZSgiLi94bWwvYnJvd3Nlcl9wYXJzZXIiKSxlKCIuL2h0dHAveGhyIiksdm9pZCAwPT09byl2YXIgbz17YnJvd3NlcjohMH19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vYnJvd3NlckNyeXB0b0xpYiI6MTAsIi4vY29yZSI6MTksIi4vY3JlZGVudGlhbHMiOjIwLCIuL2NyZWRlbnRpYWxzL2NoYWluYWJsZV90ZW1wb3JhcnlfY3JlZGVudGlhbHMiOjIxLCIuL2NyZWRlbnRpYWxzL2NvZ25pdG9faWRlbnRpdHlfY3JlZGVudGlhbHMiOjIyLCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iOjIzLCIuL2NyZWRlbnRpYWxzL3NhbWxfY3JlZGVudGlhbHMiOjI0LCIuL2NyZWRlbnRpYWxzL3RlbXBvcmFyeV9jcmVkZW50aWFscyI6MjUsIi4vY3JlZGVudGlhbHMvd2ViX2lkZW50aXR5X2NyZWRlbnRpYWxzIjoyNiwiLi9ldmVudC1zdHJlYW0vYnVmZmVyZWQtY3JlYXRlLWV2ZW50LXN0cmVhbSI6MjgsIi4vaHR0cC94aHIiOjM2LCIuL3JlYWxjbG9jay9icm93c2VyQ2xvY2siOjU0LCIuL3V0aWwiOjc0LCIuL3htbC9icm93c2VyX3BhcnNlciI6NzUsX3Byb2Nlc3M6OTEsImJ1ZmZlci8iOjg2LCJxdWVyeXN0cmluZy8iOjk4LCJ1cmwvIjoxMDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89ZSgiLi9jb3JlIik7ZSgiLi9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiIpLG8uQ29uZmlnPW8udXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSksZT10aGlzLmV4dHJhY3RDcmVkZW50aWFscyhlKSxvLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5rZXlzLChmdW5jdGlvbih0LG4pe3RoaXMuc2V0KHQsZVt0XSxuKX0pKX0sZ2V0Q3JlZGVudGlhbHM6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzO2Z1bmN0aW9uIHIodCl7ZSh0LHQ/bnVsbDpuLmNyZWRlbnRpYWxzKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG5ldyBvLnV0aWwuZXJyb3IodHx8bmV3IEVycm9yLHtjb2RlOiJDcmVkZW50aWFsc0Vycm9yIixtZXNzYWdlOmUsbmFtZToiQ3JlZGVudGlhbHNFcnJvciJ9KX1uLmNyZWRlbnRpYWxzPyJmdW5jdGlvbiI9PXR5cGVvZiBuLmNyZWRlbnRpYWxzLmdldD9uLmNyZWRlbnRpYWxzLmdldCgoZnVuY3Rpb24oZSl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSAiK24uY3JlZGVudGlhbHMuY29uc3RydWN0b3IubmFtZSxlKSkscihlKX0pKToodD1udWxsLG4uY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQmJm4uY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5fHwodD1pKCJNaXNzaW5nIGNyZWRlbnRpYWxzIikpLHIodCkpOm4uY3JlZGVudGlhbFByb3ZpZGVyP24uY3JlZGVudGlhbFByb3ZpZGVyLnJlc29sdmUoKGZ1bmN0aW9uKGUsdCl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSBhbnkgcHJvdmlkZXJzIixlKSksbi5jcmVkZW50aWFscz10LHIoZSl9KSk6cihpKCJObyBjcmVkZW50aWFscyB0byBsb2FkIikpfSxnZXRUb2tlbjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXM7ZnVuY3Rpb24gcih0KXtlKHQsdD9udWxsOm4udG9rZW4pfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gbmV3IG8udXRpbC5lcnJvcih0fHxuZXcgRXJyb3Ise2NvZGU6IlRva2VuRXJyb3IiLG1lc3NhZ2U6ZSxuYW1lOiJUb2tlbkVycm9yIn0pfW4udG9rZW4/ImZ1bmN0aW9uIj09dHlwZW9mIG4udG9rZW4uZ2V0P24udG9rZW4uZ2V0KChmdW5jdGlvbihlKXtlJiYoZT1pKCJDb3VsZCBub3QgbG9hZCB0b2tlbiBmcm9tICIrbi50b2tlbi5jb25zdHJ1Y3Rvci5uYW1lLGUpKSxyKGUpfSkpOih0PW51bGwsbi50b2tlbi50b2tlbnx8KHQ9aSgiTWlzc2luZyB0b2tlbiIpKSxyKHQpKTpuLnRva2VuUHJvdmlkZXI/bi50b2tlblByb3ZpZGVyLnJlc29sdmUoKGZ1bmN0aW9uKGUsdCl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgdG9rZW4gZnJvbSBhbnkgcHJvdmlkZXJzIixlKSksbi50b2tlbj10LHIoZSl9KSk6cihpKCJObyB0b2tlbiB0byBsb2FkIikpfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXt0PXR8fCExLGU9dGhpcy5leHRyYWN0Q3JlZGVudGlhbHMoZSksby51dGlsLmVhY2guY2FsbCh0aGlzLGUsKGZ1bmN0aW9uKGUsbil7KHR8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmtleXMsZSl8fG8uU2VydmljZS5oYXNTZXJ2aWNlKGUpKSYmdGhpcy5zZXQoZSxuKX0pKX0sbG9hZEZyb21QYXRoOmZ1bmN0aW9uKGUpe3RoaXMuY2xlYXIoKTt2YXIgdD1KU09OLnBhcnNlKG8udXRpbC5yZWFkRmlsZVN5bmMoZSkpLG49bmV3IG8uRmlsZVN5c3RlbUNyZWRlbnRpYWxzKGUpLHI9bmV3IG8uQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW47cmV0dXJuIHIucHJvdmlkZXJzLnVuc2hpZnQobiksci5yZXNvbHZlKChmdW5jdGlvbihlLG4pe2lmKGUpdGhyb3cgZTt0LmNyZWRlbnRpYWxzPW59KSksdGhpcy5jb25zdHJ1Y3Rvcih0KSx0aGlzfSxjbGVhcjpmdW5jdGlvbigpe28udXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLmtleXMsKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzW2VdfSkpLHRoaXMuc2V0KCJjcmVkZW50aWFscyIsdm9pZCAwKSx0aGlzLnNldCgiY3JlZGVudGlhbFByb3ZpZGVyIix2b2lkIDApfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQ/KHZvaWQgMD09PW4mJihuPXRoaXMua2V5c1tlXSksdGhpc1tlXT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmNhbGwodGhpcyk6bik6Imh0dHBPcHRpb25zIj09PWUmJnRoaXNbZV0/dGhpc1tlXT1vLnV0aWwubWVyZ2UodGhpc1tlXSx0KTp0aGlzW2VdPXR9LGtleXM6e2NyZWRlbnRpYWxzOm51bGwsY3JlZGVudGlhbFByb3ZpZGVyOm51bGwscmVnaW9uOm51bGwsbG9nZ2VyOm51bGwsYXBpVmVyc2lvbnM6e30sYXBpVmVyc2lvbjpudWxsLGVuZHBvaW50OnZvaWQgMCxodHRwT3B0aW9uczp7dGltZW91dDoxMmU0fSxtYXhSZXRyaWVzOnZvaWQgMCxtYXhSZWRpcmVjdHM6MTAscGFyYW1WYWxpZGF0aW9uOiEwLHNzbEVuYWJsZWQ6ITAsczNGb3JjZVBhdGhTdHlsZTohMSxzM0J1Y2tldEVuZHBvaW50OiExLHMzRGlzYWJsZUJvZHlTaWduaW5nOiEwLHMzVXNFYXN0MVJlZ2lvbmFsRW5kcG9pbnQ6ImxlZ2FjeSIsczNVc2VBcm5SZWdpb246dm9pZCAwLGNvbXB1dGVDaGVja3N1bXM6ITAsY29udmVydFJlc3BvbnNlVHlwZXM6ITAsY29ycmVjdENsb2NrU2tldzohMSxjdXN0b21Vc2VyQWdlbnQ6bnVsbCxkeW5hbW9EYkNyYzMyOiEwLHN5c3RlbUNsb2NrT2Zmc2V0OjAsc2lnbmF0dXJlVmVyc2lvbjpudWxsLHNpZ25hdHVyZUNhY2hlOiEwLHJldHJ5RGVsYXlPcHRpb25zOnt9LHVzZUFjY2VsZXJhdGVFbmRwb2ludDohMSxjbGllbnRTaWRlTW9uaXRvcmluZzohMSxlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQ6dm9pZCAwLGVuZHBvaW50Q2FjaGVTaXplOjFlMyxob3N0UHJlZml4RW5hYmxlZDohMCxzdHNSZWdpb25hbEVuZHBvaW50czoibGVnYWN5Iix1c2VGaXBzRW5kcG9pbnQ6ITEsdXNlRHVhbHN0YWNrRW5kcG9pbnQ6ITEsdG9rZW46bnVsbH0sZXh0cmFjdENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmFjY2Vzc0tleUlkJiZlLnNlY3JldEFjY2Vzc0tleSYmKChlPW8udXRpbC5jb3B5KGUpKS5jcmVkZW50aWFscz1uZXcgby5DcmVkZW50aWFscyhlKSksZX0sc2V0UHJvbWlzZXNEZXBlbmRlbmN5OmZ1bmN0aW9uKGUpe3I9ZSxudWxsPT09ZSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2UmJihyPVByb21pc2UpO3ZhciB0PVtvLlJlcXVlc3Qsby5DcmVkZW50aWFscyxvLkNyZWRlbnRpYWxQcm92aWRlckNoYWluXTtvLlMzJiYodC5wdXNoKG8uUzMpLG8uUzMuTWFuYWdlZFVwbG9hZCYmdC5wdXNoKG8uUzMuTWFuYWdlZFVwbG9hZCkpLG8udXRpbC5hZGRQcm9taXNlcyh0LHIpfSxnZXRQcm9taXNlc0RlcGVuZGVuY3k6ZnVuY3Rpb24oKXtyZXR1cm4gcn19KSxvLmNvbmZpZz1uZXcgby5Db25maWd9LHsiLi9jb3JlIjoxOSwiLi9jcmVkZW50aWFscyI6MjAsIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiI6MjN9XSwxODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKTtmdW5jdGlvbiBvKGUsdCl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZihbImxlZ2FjeSIsInJlZ2lvbmFsIl0uaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPj0wKXJldHVybiBlLnRvTG93ZXJDYXNlKCk7dGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix0KX19dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIGk7aWYoKGU9ZXx8e30pW3QuY2xpZW50Q29uZmlnXSYmKGk9byhlW3QuY2xpZW50Q29uZmlnXSx7Y29kZToiSW52YWxpZENvbmZpZ3VyYXRpb24iLG1lc3NhZ2U6J2ludmFsaWQgIicrdC5jbGllbnRDb25maWcrJyIgY29uZmlndXJhdGlvbi4gRXhwZWN0ICJsZWdhY3kiICBvciAicmVnaW9uYWwiLiBHb3QgIicrZVt0LmNsaWVudENvbmZpZ10rJyIuJ30pKSlyZXR1cm4gaTtpZighci51dGlsLmlzTm9kZSgpKXJldHVybiBpO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmVudix0LmVudikmJihpPW8obi5lbnZbdC5lbnZdLHtjb2RlOiJJbnZhbGlkRW52aXJvbm1lbnRhbFZhcmlhYmxlIixtZXNzYWdlOiJpbnZhbGlkICIrdC5lbnYrJyBlbnZpcm9ubWVudGFsIHZhcmlhYmxlLiBFeHBlY3QgImxlZ2FjeSIgIG9yICJyZWdpb25hbCIuIEdvdCAiJytuLmVudlt0LmVudl0rJyIuJ30pKSlyZXR1cm4gaTt2YXIgYT17fTt0cnl7YT1yLnV0aWwuZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnKHIudXRpbC5pbmlMb2FkZXIpW24uZW52LkFXU19QUk9GSUxFfHxyLnV0aWwuZGVmYXVsdFByb2ZpbGVdfWNhdGNoKGUpe31yZXR1cm4gYSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdC5zaGFyZWRDb25maWcpJiYoaT1vKGFbdC5zaGFyZWRDb25maWddLHtjb2RlOiJJbnZhbGlkQ29uZmlndXJhdGlvbiIsbWVzc2FnZToiaW52YWxpZCAiK3Quc2hhcmVkQ29uZmlnKycgcHJvZmlsZSBjb25maWcuIEV4cGVjdCAibGVnYWN5IiAgb3IgInJlZ2lvbmFsIi4gR290ICInK2FbdC5zaGFyZWRDb25maWddKyciLid9KSksaX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksX3Byb2Nlc3M6OTF9XSwxOTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt1dGlsOmUoIi4vdXRpbCIpfTsoe30pLnRvU3RyaW5nKCksdC5leHBvcnRzPXIsci51dGlsLnVwZGF0ZShyLHtWRVJTSU9OOiIyLjE1ODkuMCIsU2lnbmVyczp7fSxQcm90b2NvbDp7SnNvbjplKCIuL3Byb3RvY29sL2pzb24iKSxRdWVyeTplKCIuL3Byb3RvY29sL3F1ZXJ5IiksUmVzdDplKCIuL3Byb3RvY29sL3Jlc3QiKSxSZXN0SnNvbjplKCIuL3Byb3RvY29sL3Jlc3RfanNvbiIpLFJlc3RYbWw6ZSgiLi9wcm90b2NvbC9yZXN0X3htbCIpfSxYTUw6e0J1aWxkZXI6ZSgiLi94bWwvYnVpbGRlciIpLFBhcnNlcjpudWxsfSxKU09OOntCdWlsZGVyOmUoIi4vanNvbi9idWlsZGVyIiksUGFyc2VyOmUoIi4vanNvbi9wYXJzZXIiKX0sTW9kZWw6e0FwaTplKCIuL21vZGVsL2FwaSIpLE9wZXJhdGlvbjplKCIuL21vZGVsL29wZXJhdGlvbiIpLFNoYXBlOmUoIi4vbW9kZWwvc2hhcGUiKSxQYWdpbmF0b3I6ZSgiLi9tb2RlbC9wYWdpbmF0b3IiKSxSZXNvdXJjZVdhaXRlcjplKCIuL21vZGVsL3Jlc291cmNlX3dhaXRlciIpfSxhcGlMb2FkZXI6ZSgiLi9hcGlfbG9hZGVyIiksRW5kcG9pbnRDYWNoZTplKCIuLi92ZW5kb3IvZW5kcG9pbnQtY2FjaGUiKS5FbmRwb2ludENhY2hlfSksZSgiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIiksZSgiLi9zZXJ2aWNlIiksZSgiLi9jb25maWciKSxlKCIuL2h0dHAiKSxlKCIuL2V2ZW50X2xpc3RlbmVycyIpLGUoIi4vcmVxdWVzdCIpLGUoIi4vcmVzcG9uc2UiKSxlKCIuL3Jlc291cmNlX3dhaXRlciIpLGUoIi4vc2lnbmVycy9yZXF1ZXN0X3NpZ25lciIpLGUoIi4vcGFyYW1fdmFsaWRhdG9yIiksZSgiLi9tYWludGVuYW5jZV9tb2RlX21lc3NhZ2UiKSxyLmV2ZW50cz1uZXcgci5TZXF1ZW50aWFsRXhlY3V0b3Isci51dGlsLm1lbW9pemVkUHJvcGVydHkociwiZW5kcG9pbnRDYWNoZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByLkVuZHBvaW50Q2FjaGUoci5jb25maWcuZW5kcG9pbnRDYWNoZVNpemUpfSksITApfSx7Ii4uL3ZlbmRvci9lbmRwb2ludC1jYWNoZSI6MTExLCIuL2FwaV9sb2FkZXIiOjksIi4vY29uZmlnIjoxNywiLi9ldmVudF9saXN0ZW5lcnMiOjM0LCIuL2h0dHAiOjM1LCIuL2pzb24vYnVpbGRlciI6MzcsIi4vanNvbi9wYXJzZXIiOjM4LCIuL21haW50ZW5hbmNlX21vZGVfbWVzc2FnZSI6MzksIi4vbW9kZWwvYXBpIjo0MCwiLi9tb2RlbC9vcGVyYXRpb24iOjQyLCIuL21vZGVsL3BhZ2luYXRvciI6NDMsIi4vbW9kZWwvcmVzb3VyY2Vfd2FpdGVyIjo0NCwiLi9tb2RlbC9zaGFwZSI6NDUsIi4vcGFyYW1fdmFsaWRhdG9yIjo0NiwiLi9wcm90b2NvbC9qc29uIjo0OCwiLi9wcm90b2NvbC9xdWVyeSI6NDksIi4vcHJvdG9jb2wvcmVzdCI6NTAsIi4vcHJvdG9jb2wvcmVzdF9qc29uIjo1MSwiLi9wcm90b2NvbC9yZXN0X3htbCI6NTIsIi4vcmVxdWVzdCI6NTgsIi4vcmVzb3VyY2Vfd2FpdGVyIjo1OSwiLi9yZXNwb25zZSI6NjAsIi4vc2VxdWVudGlhbF9leGVjdXRvciI6NjEsIi4vc2VydmljZSI6NjIsIi4vc2lnbmVycy9yZXF1ZXN0X3NpZ25lciI6NjYsIi4vdXRpbCI6NzQsIi4veG1sL2J1aWxkZXIiOjc2fV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLkNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe2lmKHIudXRpbC5oaWRlUHJvcGVydGllcyh0aGlzLFsic2VjcmV0QWNjZXNzS2V5Il0pLHRoaXMuZXhwaXJlZD0hMSx0aGlzLmV4cGlyZVRpbWU9bnVsbCx0aGlzLnJlZnJlc2hDYWxsYmFja3M9W10sMT09PWFyZ3VtZW50cy5sZW5ndGgmJiJvYmplY3QiPT09byhhcmd1bWVudHNbMF0pKXt2YXIgZT1hcmd1bWVudHNbMF0uY3JlZGVudGlhbHN8fGFyZ3VtZW50c1swXTt0aGlzLmFjY2Vzc0tleUlkPWUuYWNjZXNzS2V5SWQsdGhpcy5zZWNyZXRBY2Nlc3NLZXk9ZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zZXNzaW9uVG9rZW49ZS5zZXNzaW9uVG9rZW59ZWxzZSB0aGlzLmFjY2Vzc0tleUlkPWFyZ3VtZW50c1swXSx0aGlzLnNlY3JldEFjY2Vzc0tleT1hcmd1bWVudHNbMV0sdGhpcy5zZXNzaW9uVG9rZW49YXJndW1lbnRzWzJdfSxleHBpcnlXaW5kb3c6MTUsbmVlZHNSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGU9ci51dGlsLmRhdGUuZ2V0RGF0ZSgpLmdldFRpbWUoKSx0PW5ldyBEYXRlKGUrMWUzKnRoaXMuZXhwaXJ5V2luZG93KTtyZXR1cm4hISh0aGlzLmV4cGlyZVRpbWUmJnQ+dGhpcy5leHBpcmVUaW1lKXx8dGhpcy5leHBpcmVkfHwhdGhpcy5hY2Nlc3NLZXlJZHx8IXRoaXMuc2VjcmV0QWNjZXNzS2V5fSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm5lZWRzUmVmcmVzaCgpP3RoaXMucmVmcmVzaCgoZnVuY3Rpb24obil7bnx8KHQuZXhwaXJlZD0hMSksZSYmZShuKX0pKTplJiZlKCl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5leHBpcmVkPSExLGUoKX0sY29hbGVzY2VSZWZyZXNoOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczsxPT09bi5yZWZyZXNoQ2FsbGJhY2tzLnB1c2goZSkmJm4ubG9hZCgoZnVuY3Rpb24oZSl7ci51dGlsLmFycmF5RWFjaChuLnJlZnJlc2hDYWxsYmFja3MsKGZ1bmN0aW9uKG4pe3Q/bihlKTpyLnV0aWwuZGVmZXIoKGZ1bmN0aW9uKCl7bihlKX0pKX0pKSxuLnJlZnJlc2hDYWxsYmFja3MubGVuZ3RoPTB9KSl9LGxvYWQ6ZnVuY3Rpb24oZSl7ZSgpfX0pLHIuQ3JlZGVudGlhbHMuYWRkUHJvbWlzZXNUb0NsYXNzPWZ1bmN0aW9uKGUpe3RoaXMucHJvdG90eXBlLmdldFByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgiZ2V0IixlKSx0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZT1yLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCJyZWZyZXNoIixlKX0sci5DcmVkZW50aWFscy5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5nZXRQcm9taXNlLGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZX0sci51dGlsLmFkZFByb21pc2VzKHIuQ3JlZGVudGlhbHMpfSx7Ii4vY29yZSI6MTl9XSwyMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksZT1lfHx7fSx0aGlzLmVycm9yQ29kZT0iQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUiLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnRva2VuQ29kZUZuPW51bGw7dmFyIHQ9ci51dGlsLmNvcHkoZS5wYXJhbXMpfHx7fTtpZih0LlJvbGVBcm4mJih0LlJvbGVTZXNzaW9uTmFtZT10LlJvbGVTZXNzaW9uTmFtZXx8InRlbXBvcmFyeS1jcmVkZW50aWFscyIpLHQuU2VyaWFsTnVtYmVyKXtpZighZS50b2tlbkNvZGVGbnx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUudG9rZW5Db2RlRm4pdGhyb3cgbmV3IHIudXRpbC5lcnJvcihuZXcgRXJyb3IoInRva2VuQ29kZUZuIG11c3QgYmUgYSBmdW5jdGlvbiB3aGVuIHBhcmFtcy5TZXJpYWxOdW1iZXIgaXMgZ2l2ZW4iKSx7Y29kZTp0aGlzLmVycm9yQ29kZX0pO3RoaXMudG9rZW5Db2RlRm49ZS50b2tlbkNvZGVGbn12YXIgbj1yLnV0aWwubWVyZ2Uoe3BhcmFtczp0LGNyZWRlbnRpYWxzOmUubWFzdGVyQ3JlZGVudGlhbHN8fHIuY29uZmlnLmNyZWRlbnRpYWxzfSxlLnN0c0NvbmZpZ3x8e30pO3RoaXMuc2VydmljZT1uZXcgbyhuKX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10LnNlcnZpY2UuY29uZmlnLnBhcmFtcy5Sb2xlQXJuPyJhc3N1bWVSb2xlIjoiZ2V0U2Vzc2lvblRva2VuIjt0aGlzLmdldFRva2VuQ29kZSgoZnVuY3Rpb24ocixvKXt2YXIgaT17fTtyP2Uocik6KG8mJihpLlRva2VuQ29kZT1vKSx0LnNlcnZpY2Vbbl0oaSwoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKSl9KSl9LGdldFRva2VuQ29kZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudG9rZW5Db2RlRm4/dGhpcy50b2tlbkNvZGVGbih0aGlzLnNlcnZpY2UuY29uZmlnLnBhcmFtcy5TZXJpYWxOdW1iZXIsKGZ1bmN0aW9uKG4sbyl7aWYobil7dmFyIGk9bjtyZXR1cm4gbiBpbnN0YW5jZW9mIEVycm9yJiYoaT1uLm1lc3NhZ2UpLHZvaWQgZShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJFcnJvciBmZXRjaGluZyBNRkEgdG9rZW46ICIraSkse2NvZGU6dC5lcnJvckNvZGV9KSl9ZShudWxsLG8pfSkpOmUobnVsbCl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksaT1lKCIuLi8uLi9jbGllbnRzL2NvZ25pdG9pZGVudGl0eSIpLGE9ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2xvY2FsU3RvcmFnZUtleTp7aWQ6ImF3cy5jb2duaXRvLmlkZW50aXR5LWlkLiIscHJvdmlkZXJzOiJhd3MuY29nbml0by5pZGVudGl0eS1wcm92aWRlcnMuIn0sY29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWUsdGhpcy5kYXRhPW51bGwsdGhpcy5faWRlbnRpdHlJZD1udWxsLHRoaXMuX2NsaWVudENvbmZpZz1yLnV0aWwuY29weSh0fHx7fSksdGhpcy5sb2FkQ2FjaGVkSWQoKTt2YXIgbj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZGVudGl0eUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ubG9hZENhY2hlZElkKCksbi5faWRlbnRpdHlJZHx8bi5wYXJhbXMuSWRlbnRpdHlJZH0sc2V0OmZ1bmN0aW9uKGUpe24uX2lkZW50aXR5SWQ9ZX19KX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5kYXRhPW51bGwsdC5faWRlbnRpdHlJZD1udWxsLHQuZ2V0SWQoKGZ1bmN0aW9uKG4pe24/KHQuY2xlYXJJZE9uTm90QXV0aG9yaXplZChuKSxlKG4pKTp0LnBhcmFtcy5Sb2xlQXJuP3QuZ2V0Q3JlZGVudGlhbHNGcm9tU1RTKGUpOnQuZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eShlKX0pKX0sY2xlYXJDYWNoZWRJZDpmdW5jdGlvbigpe3RoaXMuX2lkZW50aXR5SWQ9bnVsbCxkZWxldGUgdGhpcy5wYXJhbXMuSWRlbnRpdHlJZDt2YXIgZT10aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCx0PXRoaXMucGFyYW1zLkxvZ2luSWR8fCIiO2RlbGV0ZSB0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXkuaWQrZSt0XSxkZWxldGUgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5LnByb3ZpZGVycytlK3RdfSxjbGVhcklkT25Ob3RBdXRob3JpemVkOmZ1bmN0aW9uKGUpeyJOb3RBdXRob3JpemVkRXhjZXB0aW9uIj09ZS5jb2RlJiZ0aGlzLmNsZWFyQ2FjaGVkSWQoKX0sZ2V0SWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigic3RyaW5nIj09dHlwZW9mIHQucGFyYW1zLklkZW50aXR5SWQpcmV0dXJuIGUobnVsbCx0LnBhcmFtcy5JZGVudGl0eUlkKTt0LmNvZ25pdG8uZ2V0SWQoKGZ1bmN0aW9uKG4scil7IW4mJnIuSWRlbnRpdHlJZD8odC5wYXJhbXMuSWRlbnRpdHlJZD1yLklkZW50aXR5SWQsZShudWxsLHIuSWRlbnRpdHlJZCkpOmUobil9KSl9LGxvYWRDcmVkZW50aWFsczpmdW5jdGlvbihlLHQpe2UmJnQmJih0LmV4cGlyZWQ9ITEsdC5hY2Nlc3NLZXlJZD1lLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLHQuc2VjcmV0QWNjZXNzS2V5PWUuQ3JlZGVudGlhbHMuU2VjcmV0S2V5LHQuc2Vzc2lvblRva2VuPWUuQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLHQuZXhwaXJlVGltZT1lLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24pfSxnZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jb2duaXRvLmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkoKGZ1bmN0aW9uKG4scil7bj90LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobik6KHQuY2FjaGVJZChyKSx0LmRhdGE9cix0LmxvYWRDcmVkZW50aWFscyh0LmRhdGEsdCkpLGUobil9KSl9LGdldENyZWRlbnRpYWxzRnJvbVNUUzpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29nbml0by5nZXRPcGVuSWRUb2tlbigoZnVuY3Rpb24obixyKXtuPyh0LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobiksZShuKSk6KHQuY2FjaGVJZChyKSx0LnBhcmFtcy5XZWJJZGVudGl0eVRva2VuPXIuVG9rZW4sdC53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLnJlZnJlc2goKGZ1bmN0aW9uKG4pe258fCh0LmRhdGE9dC53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLmRhdGEsdC5zdHMuY3JlZGVudGlhbHNGcm9tKHQuZGF0YSx0KSksZShuKX0pKSl9KSl9LGxvYWRDYWNoZWRJZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoci51dGlsLmlzQnJvd3NlcigpJiYhZS5wYXJhbXMuSWRlbnRpdHlJZCl7dmFyIHQ9ZS5nZXRTdG9yYWdlKCJpZCIpO2lmKHQmJmUucGFyYW1zLkxvZ2lucyl7dmFyIG49T2JqZWN0LmtleXMoZS5wYXJhbXMuTG9naW5zKTswIT09KGUuZ2V0U3RvcmFnZSgicHJvdmlkZXJzIil8fCIiKS5zcGxpdCgiLCIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1uLmluZGV4T2YoZSl9KSkubGVuZ3RoJiYoZS5wYXJhbXMuSWRlbnRpdHlJZD10KX1lbHNlIHQmJihlLnBhcmFtcy5JZGVudGl0eUlkPXQpfX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NsaWVudENvbmZpZztpZih0aGlzLndlYklkZW50aXR5Q3JlZGVudGlhbHM9dGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzfHxuZXcgci5XZWJJZGVudGl0eUNyZWRlbnRpYWxzKHRoaXMucGFyYW1zLGUpLCF0aGlzLmNvZ25pdG8pe3ZhciB0PXIudXRpbC5tZXJnZSh7fSxlKTt0LnBhcmFtcz10aGlzLnBhcmFtcyx0aGlzLmNvZ25pdG89bmV3IGkodCl9dGhpcy5zdHM9dGhpcy5zdHN8fG5ldyBhKGUpfSxjYWNoZUlkOmZ1bmN0aW9uKGUpe3RoaXMuX2lkZW50aXR5SWQ9ZS5JZGVudGl0eUlkLHRoaXMucGFyYW1zLklkZW50aXR5SWQ9dGhpcy5faWRlbnRpdHlJZCxyLnV0aWwuaXNCcm93c2VyKCkmJih0aGlzLnNldFN0b3JhZ2UoImlkIixlLklkZW50aXR5SWQpLHRoaXMucGFyYW1zLkxvZ2lucyYmdGhpcy5zZXRTdG9yYWdlKCJwcm92aWRlcnMiLE9iamVjdC5rZXlzKHRoaXMucGFyYW1zLkxvZ2lucykuam9pbigiLCIpKSl9LGdldFN0b3JhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleVtlXSt0aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCsodGhpcy5wYXJhbXMuTG9naW5JZHx8IiIpXX0sc2V0U3RvcmFnZTpmdW5jdGlvbihlLHQpe3RyeXt0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXlbZV0rdGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQrKHRoaXMucGFyYW1zLkxvZ2luSWR8fCIiKV09dH1jYXRjaChlKXt9fSxzdG9yYWdlOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIudXRpbC5pc0Jyb3dzZXIoKSYmbnVsbCE9PXdpbmRvdy5sb2NhbFN0b3JhZ2UmJiJvYmplY3QiPT09byh3aW5kb3cubG9jYWxTdG9yYWdlKT93aW5kb3cubG9jYWxTdG9yYWdlOnt9O3JldHVybiBlWyJhd3MudGVzdC1zdG9yYWdlIl09ImZvb2JhciIsZGVsZXRlIGVbImF3cy50ZXN0LXN0b3JhZ2UiXSxlfWNhdGNoKGUpe3JldHVybnt9fX0oKX0pfSx7Ii4uLy4uL2NsaWVudHMvY29nbml0b2lkZW50aXR5Ijo3LCIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKTtyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucHJvdmlkZXJzPWV8fHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycy5zbGljZSgwKSx0aGlzLnJlc29sdmVDYWxsYmFja3M9W119LHJlc29sdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigwPT09dC5wcm92aWRlcnMubGVuZ3RoKXJldHVybiBlKG5ldyBFcnJvcigiTm8gcHJvdmlkZXJzIikpLHQ7aWYoMT09PXQucmVzb2x2ZUNhbGxiYWNrcy5wdXNoKGUpKXt2YXIgbj1mdW5jdGlvbihlLGEpe2lmKCFlJiZhfHxvPT09aS5sZW5ndGgpcmV0dXJuIHIudXRpbC5hcnJheUVhY2godC5yZXNvbHZlQ2FsbGJhY2tzLChmdW5jdGlvbih0KXt0KGUsYSl9KSksdm9pZCh0LnJlc29sdmVDYWxsYmFja3MubGVuZ3RoPTApO3ZhciBzPWlbbysrXTsoYT0iZnVuY3Rpb24iPT10eXBlb2Ygcz9zLmNhbGwoKTpzKS5nZXQ/YS5nZXQoKGZ1bmN0aW9uKGUpe24oZSxlP251bGw6YSl9KSk6bihudWxsLGEpfSxvPTAsaT10LnByb3ZpZGVycy5zbGljZSgwKTtuKCl9cmV0dXJuIHR9fSksci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzPVtdLHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uYWRkUHJvbWlzZXNUb0NsYXNzPWZ1bmN0aW9uKGUpe3RoaXMucHJvdG90eXBlLnJlc29sdmVQcm9taXNlPXIudXRpbC5wcm9taXNpZnlNZXRob2QoInJlc29sdmUiLGUpfSxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJvdG90eXBlLnJlc29sdmVQcm9taXNlfSxyLnV0aWwuYWRkUHJvbWlzZXMoci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbil9LHsiLi4vY29yZSI6MTl9XSwyNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5TQU1MQ3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0LnNlcnZpY2UuYXNzdW1lUm9sZVdpdGhTQU1MKChmdW5jdGlvbihuLHIpe258fHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSxlKG4pfSkpfSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7dGhpcy5zZXJ2aWNlPXRoaXMuc2VydmljZXx8bmV3IG8oe3BhcmFtczp0aGlzLnBhcmFtc30pfX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDI1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLlRlbXBvcmFyeUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMubG9hZE1hc3RlckNyZWRlbnRpYWxzKHQpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lfHx7fSx0aGlzLnBhcmFtcy5Sb2xlQXJuJiYodGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lPXRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZXx8InRlbXBvcmFyeS1jcmVkZW50aWFscyIpfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0Lm1hc3RlckNyZWRlbnRpYWxzLmdldCgoZnVuY3Rpb24oKXt0LnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzPXQubWFzdGVyQ3JlZGVudGlhbHMsKHQucGFyYW1zLlJvbGVBcm4/dC5zZXJ2aWNlLmFzc3VtZVJvbGU6dC5zZXJ2aWNlLmdldFNlc3Npb25Ub2tlbikuY2FsbCh0LnNlcnZpY2UsKGZ1bmN0aW9uKG4scil7bnx8dC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpLGUobil9KSl9KSl9LGxvYWRNYXN0ZXJDcmVkZW50aWFsczpmdW5jdGlvbihlKXtmb3IodGhpcy5tYXN0ZXJDcmVkZW50aWFscz1lfHxyLmNvbmZpZy5jcmVkZW50aWFsczt0aGlzLm1hc3RlckNyZWRlbnRpYWxzLm1hc3RlckNyZWRlbnRpYWxzOyl0aGlzLm1hc3RlckNyZWRlbnRpYWxzPXRoaXMubWFzdGVyQ3JlZGVudGlhbHMubWFzdGVyQ3JlZGVudGlhbHM7ImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMubWFzdGVyQ3JlZGVudGlhbHMuZ2V0JiYodGhpcy5tYXN0ZXJDcmVkZW50aWFscz1uZXcgci5DcmVkZW50aWFscyh0aGlzLm1hc3RlckNyZWRlbnRpYWxzKSl9LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXt0aGlzLnNlcnZpY2U9dGhpcy5zZXJ2aWNlfHxuZXcgbyh7cGFyYW1zOnRoaXMucGFyYW1zfSl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuV2ViSWRlbnRpdHlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZSx0aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWU9dGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lfHwid2ViLWlkZW50aXR5Iix0aGlzLmRhdGE9bnVsbCx0aGlzLl9jbGllbnRDb25maWc9ci51dGlsLmNvcHkodHx8e30pfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0LnNlcnZpY2UuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSgoZnVuY3Rpb24obixyKXt0LmRhdGE9bnVsbCxufHwodC5kYXRhPXIsdC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpKSxlKG4pfSkpfSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VydmljZSl7dmFyIGU9ci51dGlsLm1lcmdlKHt9LHRoaXMuX2NsaWVudENvbmZpZyk7ZS5wYXJhbXM9dGhpcy5wYXJhbXMsdGhpcy5zZXJ2aWNlPW5ldyBvKGUpfX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyNzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKSxvPWUoIi4vdXRpbCIpLGk9WyJBV1NfRU5BQkxFX0VORFBPSU5UX0RJU0NPVkVSWSIsIkFXU19FTkRQT0lOVF9ESVNDT1ZFUllfRU5BQkxFRCJdO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5zZXJ2aWNlLG49dC5hcGl8fHt9LHI9KG4ub3BlcmF0aW9ucyx7fSk7cmV0dXJuIHQuY29uZmlnLnJlZ2lvbiYmKHIucmVnaW9uPXQuY29uZmlnLnJlZ2lvbiksbi5zZXJ2aWNlSWQmJihyLnNlcnZpY2VJZD1uLnNlcnZpY2VJZCksdC5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQmJihyLmFjY2Vzc0tleUlkPXQuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkKSxyfWZ1bmN0aW9uIHMoZSx0LG4pe24mJm51bGwhPXQmJiJzdHJ1Y3R1cmUiPT09bi50eXBlJiZuLnJlcXVpcmVkJiZuLnJlcXVpcmVkLmxlbmd0aD4wJiZvLmFycmF5RWFjaChuLnJlcXVpcmVkLChmdW5jdGlvbihyKXt2YXIgbz1uLm1lbWJlcnNbcl07aWYoITA9PT1vLmVuZHBvaW50RGlzY292ZXJ5SWQpe3ZhciBpPW8uaXNMb2NhdGlvbk5hbWU/by5uYW1lOnI7ZVtpXT1TdHJpbmcodFtyXSl9ZWxzZSBzKGUsdFtyXSxvKX0pKX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49e307cmV0dXJuIHMobixlLnBhcmFtcyx0KSxufWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5zZXJ2aWNlLG49dC5hcGksaT1uLm9wZXJhdGlvbnM/bi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTp2b2lkIDAscz1jKGUsaT9pLmlucHV0OnZvaWQgMCksdT1hKGUpO09iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYodT1vLnVwZGF0ZSh1LHMpLGkmJih1Lm9wZXJhdGlvbj1pLm5hbWUpKTt2YXIgbD1yLmVuZHBvaW50Q2FjaGUuZ2V0KHUpO2lmKCFsfHwxIT09bC5sZW5ndGh8fCIiIT09bFswXS5BZGRyZXNzKWlmKGwmJmwubGVuZ3RoPjApZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChsWzBdLkFkZHJlc3MpO2Vsc2V7dmFyIHA9dC5tYWtlUmVxdWVzdChuLmVuZHBvaW50T3BlcmF0aW9uLHtPcGVyYXRpb246aS5uYW1lLElkZW50aWZpZXJzOnN9KTtkKHApLHAucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUykscC5yZW1vdmVMaXN0ZW5lcigicmV0cnkiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5SRVRSWV9DSEVDSyksci5lbmRwb2ludENhY2hlLnB1dCh1LFt7QWRkcmVzczoiIixDYWNoZVBlcmlvZEluTWludXRlczoxfV0pLHAuc2VuZCgoZnVuY3Rpb24oZSx0KXt0JiZ0LkVuZHBvaW50cz9yLmVuZHBvaW50Q2FjaGUucHV0KHUsdC5FbmRwb2ludHMpOmUmJnIuZW5kcG9pbnRDYWNoZS5wdXQodSxbe0FkZHJlc3M6IiIsQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6MX1dKX0pKX19dmFyIGw9e307ZnVuY3Rpb24gcChlLHQpe3ZhciBuPWUuc2VydmljZSxpPW4uYXBpLHM9aS5vcGVyYXRpb25zP2kub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl06dm9pZCAwLHU9cz9zLmlucHV0OnZvaWQgMCxwPWMoZSx1KSxoPWEoZSk7T2JqZWN0LmtleXMocCkubGVuZ3RoPjAmJihoPW8udXBkYXRlKGgscCkscyYmKGgub3BlcmF0aW9uPXMubmFtZSkpO3ZhciBmPXIuRW5kcG9pbnRDYWNoZS5nZXRLZXlTdHJpbmcoaCksZz1yLmVuZHBvaW50Q2FjaGUuZ2V0KGYpO2lmKGcmJjE9PT1nLmxlbmd0aCYmIiI9PT1nWzBdLkFkZHJlc3MpcmV0dXJuIGxbZl18fChsW2ZdPVtdKSx2b2lkIGxbZl0ucHVzaCh7cmVxdWVzdDplLGNhbGxiYWNrOnR9KTtpZihnJiZnLmxlbmd0aD4wKWUuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoZ1swXS5BZGRyZXNzKSx0KCk7ZWxzZXt2YXIgbT1uLm1ha2VSZXF1ZXN0KGkuZW5kcG9pbnRPcGVyYXRpb24se09wZXJhdGlvbjpzLm5hbWUsSWRlbnRpZmllcnM6cH0pO20ucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUyksZChtKSxyLmVuZHBvaW50Q2FjaGUucHV0KGYsW3tBZGRyZXNzOiIiLENhY2hlUGVyaW9kSW5NaW51dGVzOjYwfV0pLG0uc2VuZCgoZnVuY3Rpb24obixpKXtpZihuKXtpZihlLnJlc3BvbnNlLmVycm9yPW8uZXJyb3Iobix7cmV0cnlhYmxlOiExfSksci5lbmRwb2ludENhY2hlLnJlbW92ZShoKSxsW2ZdKXt2YXIgYT1sW2ZdO28uYXJyYXlFYWNoKGEsKGZ1bmN0aW9uKGUpe2UucmVxdWVzdC5yZXNwb25zZS5lcnJvcj1vLmVycm9yKG4se3JldHJ5YWJsZTohMX0pLGUuY2FsbGJhY2soKX0pKSxkZWxldGUgbFtmXX19ZWxzZSBpJiYoci5lbmRwb2ludENhY2hlLnB1dChmLGkuRW5kcG9pbnRzKSxlLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGkuRW5kcG9pbnRzWzBdLkFkZHJlc3MpLGxbZl0pJiYoYT1sW2ZdLG8uYXJyYXlFYWNoKGEsKGZ1bmN0aW9uKGUpe2UucmVxdWVzdC5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChpLkVuZHBvaW50c1swXS5BZGRyZXNzKSxlLmNhbGxiYWNrKCl9KSksZGVsZXRlIGxbZl0pO3QoKX0pKX19ZnVuY3Rpb24gZChlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLmFwaVZlcnNpb247dCYmIWUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotYXBpLXZlcnNpb24iXSYmKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotYXBpLXZlcnNpb24iXT10KX1mdW5jdGlvbiBoKGUpe3ZhciB0PWUuZXJyb3Isbj1lLmh0dHBSZXNwb25zZTtpZih0JiYoIkludmFsaWRFbmRwb2ludEV4Y2VwdGlvbiI9PT10LmNvZGV8fDQyMT09PW4uc3RhdHVzQ29kZSkpe3ZhciBpPWUucmVxdWVzdCxzPWkuc2VydmljZS5hcGkub3BlcmF0aW9uc3x8e30sdT1jKGksc1tpLm9wZXJhdGlvbl0/c1tpLm9wZXJhdGlvbl0uaW5wdXQ6dm9pZCAwKSxsPWEoaSk7T2JqZWN0LmtleXModSkubGVuZ3RoPjAmJihsPW8udXBkYXRlKGwsdSksc1tpLm9wZXJhdGlvbl0mJihsLm9wZXJhdGlvbj1zW2kub3BlcmF0aW9uXS5uYW1lKSksci5lbmRwb2ludENhY2hlLnJlbW92ZShsKX19ZnVuY3Rpb24gZihlKXtyZXR1cm5bImZhbHNlIiwiMCJdLmluZGV4T2YoZSk+PTB9dC5leHBvcnRzPXtkaXNjb3ZlckVuZHBvaW50OmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5zZXJ2aWNlfHx7fTtpZihmdW5jdGlvbihlKXtpZihlLl9vcmlnaW5hbENvbmZpZyYmZS5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnQmJiEwPT09ZS5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkKXRocm93IG8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJDdXN0b20gZW5kcG9pbnQgaXMgc3VwcGxpZWQ7IGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZCBtdXN0IG5vdCBiZSB0cnVlLiJ9KTt2YXIgdD1yLmNvbmZpZ1tlLnNlcnZpY2VJZGVudGlmaWVyXXx8e307cmV0dXJuIEJvb2xlYW4oci5jb25maWcuZW5kcG9pbnR8fHQuZW5kcG9pbnR8fGUuX29yaWdpbmFsQ29uZmlnJiZlLl9vcmlnaW5hbENvbmZpZy5lbmRwb2ludCl9KGEpfHxlLmlzUHJlc2lnbmVkKCkpcmV0dXJuIHQoKTt2YXIgcz0oYS5hcGkub3BlcmF0aW9uc3x8e30pW2Uub3BlcmF0aW9uXSxjPXM/cy5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkOiJOVUxMIixsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZXx8e307aWYodm9pZCAwIT09dC5jb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkKXJldHVybiB0LmNvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQ7aWYoIW8uaXNCcm93c2VyKCkpe2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgcz1pW2FdO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmVudixzKSl7aWYoIiI9PT1uLmVudltzXXx8dm9pZCAwPT09bi5lbnZbc10pdGhyb3cgby5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6ImVudmlyb25tZW50YWwgdmFyaWFibGUgIitzKyIgY2Fubm90IGJlIHNldCB0byBub3RoaW5nIn0pO3JldHVybiFmKG4uZW52W3NdKX19dmFyIGM9e307dHJ5e2M9ci51dGlsLmluaUxvYWRlcj9yLnV0aWwuaW5pTG9hZGVyLmxvYWRGcm9tKHtpc0NvbmZpZzohMCxmaWxlbmFtZTpuLmVudltyLnV0aWwuc2hhcmVkQ29uZmlnRmlsZUVudl19KTp7fX1jYXRjaChlKXt9dmFyIHU9Y1tuLmVudi5BV1NfUFJPRklMRXx8ci51dGlsLmRlZmF1bHRQcm9maWxlXXx8e307aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsImVuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkIikpe2lmKHZvaWQgMD09PXUuZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQpdGhyb3cgby5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6ImNvbmZpZyBmaWxlIGVudHJ5ICdlbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCcgY2Fubm90IGJlIHNldCB0byBub3RoaW5nIn0pO3JldHVybiFmKHUuZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQpfX19KGUpLGQ9YS5hcGkuaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeTtzd2l0Y2goKGx8fGQpJiZlLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCJlbmRwb2ludC1kaXNjb3ZlcnkiKSxjKXtjYXNlIk9QVElPTkFMIjoobHx8ZCkmJih1KGUpLGUuYWRkTmFtZWRMaXN0ZW5lcigiSU5WQUxJREFURV9DQUNIRURfRU5EUE9JTlRTIiwiZXh0cmFjdEVycm9yIixoKSksdCgpO2JyZWFrO2Nhc2UiUkVRVUlSRUQiOmlmKCExPT09bCl7ZS5yZXNwb25zZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiRW5kcG9pbnQgRGlzY292ZXJ5IGlzIGRpc2FibGVkIGJ1dCAiK2EuYXBpLmNsYXNzTmFtZSsiLiIrZS5vcGVyYXRpb24rIigpIHJlcXVpcmVzIGl0LiBQbGVhc2UgY2hlY2sgeW91ciBjb25maWd1cmF0aW9ucy4ifSksdCgpO2JyZWFrfWUuYWRkTmFtZWRMaXN0ZW5lcigiSU5WQUxJREFURV9DQUNIRURfRU5EUE9JTlRTIiwiZXh0cmFjdEVycm9yIixoKSxwKGUsdCk7YnJlYWs7ZGVmYXVsdDp0KCl9fSxyZXF1aXJlZERpc2NvdmVyRW5kcG9pbnQ6cCxvcHRpb25hbERpc2NvdmVyRW5kcG9pbnQ6dSxtYXJzaGFsbEN1c3RvbUlkZW50aWZpZXJzOmMsZ2V0Q2FjaGVLZXk6YSxpbnZhbGlkYXRlQ2FjaGVkRW5kcG9pbnQ6aH19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vdXRpbCI6NzQsX3Byb2Nlc3M6OTF9XSwyODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLWNodW5rZXIiKS5ldmVudE1lc3NhZ2VDaHVua2VyLG89ZSgiLi9wYXJzZS1ldmVudCIpLnBhcnNlRXZlbnQ7dC5leHBvcnRzPXtjcmVhdGVFdmVudFN0cmVhbTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPXIoZSksYT1bXSxzPTA7czxpLmxlbmd0aDtzKyspYS5wdXNoKG8odCxpW3NdLG4pKTtyZXR1cm4gYX19fSx7Ii4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLWNodW5rZXIiOjI5LCIuL3BhcnNlLWV2ZW50IjozMX1dLDI5OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtldmVudE1lc3NhZ2VDaHVua2VyOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDspe3ZhciByPWUucmVhZEludDMyQkUobiksbz1lLnNsaWNlKG4scituKTtuKz1yLHQucHVzaChvKX1yZXR1cm4gdH19fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIikudXRpbCxvPXIuYnVmZmVyLnRvQnVmZmVyO2Z1bmN0aW9uIGkoZSl7aWYoOCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW50NjQgYnVmZmVycyBtdXN0IGJlIGV4YWN0bHkgOCBieXRlcyIpO3IuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1vKGUpKSx0aGlzLmJ5dGVzPWV9ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9MDt0PDg7dCsrKWVbdF1ePTI1NTtmb3IodD03O3Q+LTEmJihlW3RdKyssMD09PWVbdF0pO3QtLSk7fWkuZnJvbU51bWJlcj1mdW5jdGlvbihlKXtpZihlPjB4ODAwMDAwMDAwMDAwMDAwMHx8ZTwtMHg4MDAwMDAwMDAwMDAwMDAwKXRocm93IG5ldyBFcnJvcihlKyIgaXMgdG9vIGxhcmdlIChvciwgaWYgbmVnYXRpdmUsIHRvbyBzbWFsbCkgdG8gcmVwcmVzZW50IGFzIGFuIEludDY0Iik7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KDgpLG49NyxyPU1hdGguYWJzKE1hdGgucm91bmQoZSkpO24+LTEmJnI+MDtuLS0sci89MjU2KXRbbl09cjtyZXR1cm4gZTwwJiZhKHQpLG5ldyBpKHQpfSxpLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ieXRlcy5zbGljZSgwKSx0PTEyOCZlWzBdO3JldHVybiB0JiZhKGUpLHBhcnNlSW50KGUudG9TdHJpbmcoImhleCIpLDE2KSoodD8tMToxKX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKHRoaXMudmFsdWVPZigpKX0sdC5leHBvcnRzPXtJbnQ2NDppfX0seyIuLi9jb3JlIjoxOX1dLDMxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9wYXJzZS1tZXNzYWdlIikucGFyc2VNZXNzYWdlO3QuZXhwb3J0cz17cGFyc2VFdmVudDpmdW5jdGlvbihlLHQsbil7dmFyIG89cih0KSxpPW8uaGVhZGVyc1siOm1lc3NhZ2UtdHlwZSJdO2lmKGkpe2lmKCJlcnJvciI9PT1pLnZhbHVlKXRocm93IGZ1bmN0aW9uKGUpe3ZhciB0PWUuaGVhZGVyc1siOmVycm9yLWNvZGUiXSxuPWUuaGVhZGVyc1siOmVycm9yLW1lc3NhZ2UiXSxyPW5ldyBFcnJvcihuLnZhbHVlfHxuKTtyZXR1cm4gci5jb2RlPXIubmFtZT10LnZhbHVlfHx0LHJ9KG8pO2lmKCJldmVudCIhPT1pLnZhbHVlKXJldHVybn12YXIgYT1vLmhlYWRlcnNbIjpldmVudC10eXBlIl0scz1uLm1lbWJlcnNbYS52YWx1ZV07aWYocyl7dmFyIGM9e30sdT1zLmV2ZW50UGF5bG9hZE1lbWJlck5hbWU7aWYodSl7dmFyIGw9cy5tZW1iZXJzW3VdOyJiaW5hcnkiPT09bC50eXBlP2NbdV09by5ib2R5OmNbdV09ZS5wYXJzZShvLmJvZHkudG9TdHJpbmcoKSxsKX1mb3IodmFyIHA9cy5ldmVudEhlYWRlck1lbWJlck5hbWVzLGQ9MDtkPHAubGVuZ3RoO2QrKyl7dmFyIGg9cFtkXTtvLmhlYWRlcnNbaF0mJihjW2hdPXMubWVtYmVyc1toXS50b1R5cGUoby5oZWFkZXJzW2hdLnZhbHVlKSl9dmFyIGY9e307cmV0dXJuIGZbYS52YWx1ZV09YyxmfX19fSx7Ii4vcGFyc2UtbWVzc2FnZSI6MzJ9XSwzMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vaW50NjQiKS5JbnQ2NCxvPWUoIi4vc3BsaXQtbWVzc2FnZSIpLnNwbGl0TWVzc2FnZSxpPSJib29sZWFuIjtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDspe3ZhciBvPWUucmVhZFVJbnQ4KG4rKyksYT1lLnNsaWNlKG4sbitvKS50b1N0cmluZygpO3N3aXRjaChuKz1vLGUucmVhZFVJbnQ4KG4rKykpe2Nhc2UgMDp0W2FdPXt0eXBlOmksdmFsdWU6ITB9O2JyZWFrO2Nhc2UgMTp0W2FdPXt0eXBlOmksdmFsdWU6ITF9O2JyZWFrO2Nhc2UgMjp0W2FdPXt0eXBlOiJieXRlIix2YWx1ZTplLnJlYWRJbnQ4KG4rKyl9O2JyZWFrO2Nhc2UgMzp0W2FdPXt0eXBlOiJzaG9ydCIsdmFsdWU6ZS5yZWFkSW50MTZCRShuKX0sbis9MjticmVhaztjYXNlIDQ6dFthXT17dHlwZToiaW50ZWdlciIsdmFsdWU6ZS5yZWFkSW50MzJCRShuKX0sbis9NDticmVhaztjYXNlIDU6dFthXT17dHlwZToibG9uZyIsdmFsdWU6bmV3IHIoZS5zbGljZShuLG4rOCkpfSxuKz04O2JyZWFrO2Nhc2UgNjp2YXIgcz1lLnJlYWRVSW50MTZCRShuKTtuKz0yLHRbYV09e3R5cGU6ImJpbmFyeSIsdmFsdWU6ZS5zbGljZShuLG4rcyl9LG4rPXM7YnJlYWs7Y2FzZSA3OnZhciBjPWUucmVhZFVJbnQxNkJFKG4pO24rPTIsdFthXT17dHlwZToic3RyaW5nIix2YWx1ZTplLnNsaWNlKG4sbitjKS50b1N0cmluZygpfSxuKz1jO2JyZWFrO2Nhc2UgODp0W2FdPXt0eXBlOiJ0aW1lc3RhbXAiLHZhbHVlOm5ldyBEYXRlKG5ldyByKGUuc2xpY2UobixuKzgpKS52YWx1ZU9mKCkpfSxuKz04O2JyZWFrO2Nhc2UgOTp2YXIgdT1lLnNsaWNlKG4sbisxNikudG9TdHJpbmcoImhleCIpO24rPTE2LHRbYV09e3R5cGU6InV1aWQiLHZhbHVlOnUuc3Vic3RyKDAsOCkrIi0iK3Uuc3Vic3RyKDgsNCkrIi0iK3Uuc3Vic3RyKDEyLDQpKyItIit1LnN1YnN0cigxNiw0KSsiLSIrdS5zdWJzdHIoMjApfTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIGhlYWRlciB0eXBlIHRhZyIpfX1yZXR1cm4gdH10LmV4cG9ydHM9e3BhcnNlTWVzc2FnZTpmdW5jdGlvbihlKXt2YXIgdD1vKGUpO3JldHVybntoZWFkZXJzOmEodC5oZWFkZXJzKSxib2R5OnQuYm9keX19fX0seyIuL2ludDY0IjozMCwiLi9zcGxpdC1tZXNzYWdlIjozM31dLDMzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLnV0aWwsbz1yLmJ1ZmZlci50b0J1ZmZlcjt0LmV4cG9ydHM9e3NwbGl0TWVzc2FnZTpmdW5jdGlvbihlKXtpZihyLkJ1ZmZlci5pc0J1ZmZlcihlKXx8KGU9byhlKSksZS5sZW5ndGg8MTYpdGhyb3cgbmV3IEVycm9yKCJQcm92aWRlZCBtZXNzYWdlIHRvbyBzaG9ydCB0byBhY2NvbW1vZGF0ZSBldmVudCBzdHJlYW0gbWVzc2FnZSBvdmVyaGVhZCIpO2lmKGUubGVuZ3RoIT09ZS5yZWFkVUludDMyQkUoMCkpdGhyb3cgbmV3IEVycm9yKCJSZXBvcnRlZCBtZXNzYWdlIGxlbmd0aCBkb2VzIG5vdCBtYXRjaCByZWNlaXZlZCBtZXNzYWdlIGxlbmd0aCIpO3ZhciB0PWUucmVhZFVJbnQzMkJFKDgpO2lmKHQhPT1yLmNyeXB0by5jcmMzMihlLnNsaWNlKDAsOCkpKXRocm93IG5ldyBFcnJvcigiVGhlIHByZWx1ZGUgY2hlY2tzdW0gc3BlY2lmaWVkIGluIHRoZSBtZXNzYWdlICgiK3QrIikgZG9lcyBub3QgbWF0Y2ggdGhlIGNhbGN1bGF0ZWQgQ1JDMzIgY2hlY2tzdW0uIik7dmFyIG49ZS5yZWFkVUludDMyQkUoZS5sZW5ndGgtNCk7aWYobiE9PXIuY3J5cHRvLmNyYzMyKGUuc2xpY2UoMCxlLmxlbmd0aC00KSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgbWVzc2FnZSBjaGVja3N1bSBkaWQgbm90IG1hdGNoIHRoZSBleHBlY3RlZCB2YWx1ZSBvZiAiK24pO3ZhciBpPTEyK2UucmVhZFVJbnQzMkJFKDQpO3JldHVybntoZWFkZXJzOmUuc2xpY2UoMTIsaSksYm9keTplLnNsaWNlKGksZS5sZW5ndGgtNCl9fX19LHsiLi4vY29yZSI6MTl9XSwzNDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgbj1lKCIuL2NvcmUiKSxyPWUoIi4vc2VxdWVudGlhbF9leGVjdXRvciIpLG89ZSgiLi9kaXNjb3Zlcl9lbmRwb2ludCIpLmRpc2NvdmVyRW5kcG9pbnQ7ZnVuY3Rpb24gaShlKXtpZighZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXJldHVybiIiO3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07cmV0dXJuIHQ/dC5hdXRodHlwZToiIn1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuc2VydmljZTtyZXR1cm4gdC5jb25maWcuc2lnbmF0dXJlVmVyc2lvbj90LmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uOnQuYXBpLnNpZ25hdHVyZVZlcnNpb24/dC5hcGkuc2lnbmF0dXJlVmVyc2lvbjppKGUpfW4uRXZlbnRMaXN0ZW5lcnM9e0NvcmU6e319LG4uRXZlbnRMaXN0ZW5lcnM9e0NvcmU6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24oZSxyKXtyKCJWQUxJREFURV9DUkVERU5USUFMUyIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSx0KXtpZighZS5zZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uJiYhZS5zZXJ2aWNlLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uKXJldHVybiB0KCk7ImJlYXJlciIhPT1hKGUpP2Uuc2VydmljZS5jb25maWcuZ2V0Q3JlZGVudGlhbHMoKGZ1bmN0aW9uKHIpe3ImJihlLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihyLHtjb2RlOiJDcmVkZW50aWFsc0Vycm9yIixtZXNzYWdlOiJNaXNzaW5nIGNyZWRlbnRpYWxzIGluIGNvbmZpZywgaWYgdXNpbmcgQVdTX0NPTkZJR19GSUxFLCBzZXQgQVdTX1NES19MT0FEX0NPTkZJRz0xIn0pKSx0KCl9KSk6ZS5zZXJ2aWNlLmNvbmZpZy5nZXRUb2tlbigoZnVuY3Rpb24ocil7ciYmKGUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKHIse2NvZGU6IlRva2VuRXJyb3IifSkpLHQoKX0pKX0pKSxlKCJWQUxJREFURV9SRUdJT04iLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUpe2lmKCFlLnNlcnZpY2UuaXNHbG9iYWxFbmRwb2ludCl7dmFyIHQ9bmV3IFJlZ0V4cCgvXihbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKSQvKTtlLnNlcnZpY2UuY29uZmlnLnJlZ2lvbj90LnRlc3QoZS5zZXJ2aWNlLmNvbmZpZy5yZWdpb24pfHwoZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWdFcnJvciIsbWVzc2FnZToiSW52YWxpZCByZWdpb24gaW4gY29uZmlnIn0pKTplLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ0Vycm9yIixtZXNzYWdlOiJNaXNzaW5nIHJlZ2lvbiBpbiBjb25maWcifSl9fSkpLGUoIkJVSUxEX0lERU1QT1RFTkNZX1RPS0VOUyIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSl7aWYoZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO2lmKHQpe3ZhciByPXQuaWRlbXBvdGVudE1lbWJlcnM7aWYoci5sZW5ndGgpe2Zvcih2YXIgbz1uLnV0aWwuY29weShlLnBhcmFtcyksaT0wLGE9ci5sZW5ndGg7aTxhO2krKylvW3JbaV1dfHwob1tyW2ldXT1uLnV0aWwudXVpZC52NCgpKTtlLnBhcmFtcz1vfX19fSkpLGUoIlZBTElEQVRFX1BBUkFNRVRFUlMiLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUpe2lmKGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxyPWUuc2VydmljZS5jb25maWcucGFyYW1WYWxpZGF0aW9uO25ldyBuLlBhcmFtVmFsaWRhdG9yKHIpLnZhbGlkYXRlKHQsZS5wYXJhbXMpfX0pKSxlKCJDT01QVVRFX0NIRUNLU1VNIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe2lmKGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZih0KXt2YXIgcj1lLmh0dHBSZXF1ZXN0LmJvZHksbz1yJiYobi51dGlsLkJ1ZmZlci5pc0J1ZmZlcihyKXx8InN0cmluZyI9PXR5cGVvZiByKSxpPWUuaHR0cFJlcXVlc3QuaGVhZGVycztpZih0Lmh0dHBDaGVja3N1bVJlcXVpcmVkJiZlLnNlcnZpY2UuY29uZmlnLmNvbXB1dGVDaGVja3N1bXMmJm8mJiFpWyJDb250ZW50LU1ENSJdKXt2YXIgYT1uLnV0aWwuY3J5cHRvLm1kNShyLCJiYXNlNjQiKTtpWyJDb250ZW50LU1ENSJdPWF9fX19KSkscigiQ09NUFVURV9TSEEyNTYiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSx0KXtpZihlLmhhbHRIYW5kbGVyc09uRXJyb3IoKSxlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciByPWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbz1yP3IuYXV0aHR5cGU6IiI7aWYoIWUuc2VydmljZS5hcGkuc2lnbmF0dXJlVmVyc2lvbiYmIW8mJiFlLnNlcnZpY2UuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24pcmV0dXJuIHQoKTtpZihlLnNlcnZpY2UuZ2V0U2lnbmVyQ2xhc3MoZSk9PT1uLlNpZ25lcnMuVjQpe3ZhciBpPWUuaHR0cFJlcXVlc3QuYm9keXx8IiI7aWYoby5pbmRleE9mKCJ1bnNpZ25lZC1ib2R5Iik+PTApcmV0dXJuIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT0iVU5TSUdORUQtUEFZTE9BRCIsdCgpO24udXRpbC5jb21wdXRlU2hhMjU2KGksKGZ1bmN0aW9uKG4scil7bj90KG4pOihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il09cix0KCkpfSkpfWVsc2UgdCgpfX0pKSxlKCJTRVRfQ09OVEVOVF9MRU5HVEgiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7dmFyIHQ9aShlKSxyPW4udXRpbC5nZXRSZXF1ZXN0UGF5bG9hZFNoYXBlKGUpO2lmKHZvaWQgMD09PWUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXSl0cnl7dmFyIG89bi51dGlsLnN0cmluZy5ieXRlTGVuZ3RoKGUuaHR0cFJlcXVlc3QuYm9keSk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdPW99Y2F0Y2gobil7aWYociYmci5pc1N0cmVhbWluZyl7aWYoci5yZXF1aXJlc0xlbmd0aCl0aHJvdyBuO2lmKHQuaW5kZXhPZigidW5zaWduZWQtYm9keSIpPj0wKXJldHVybiB2b2lkKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siVHJhbnNmZXItRW5jb2RpbmciXT0iY2h1bmtlZCIpO3Rocm93IG59dGhyb3cgbn19KSksZSgiU0VUX0hUVFBfSE9TVCIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnMuSG9zdD1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3R9KSksZSgiU0VUX1RSQUNFX0lEIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe3ZhciByPSJYLUFtem4tVHJhY2UtSWQiO2lmKG4udXRpbC5pc05vZGUoKSYmIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuaHR0cFJlcXVlc3QuaGVhZGVycyxyKSl7dmFyIG89dC5lbnYuQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FLGk9dC5lbnYuX1hfQU1aTl9UUkFDRV9JRDsic3RyaW5nIj09dHlwZW9mIG8mJm8ubGVuZ3RoPjAmJiJzdHJpbmciPT10eXBlb2YgaSYmaS5sZW5ndGg+MCYmKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1tyXT1pKX19KSksZSgiUkVTVEFSVCIsInJlc3RhcnQiLChmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVzcG9uc2UuZXJyb3I7ZSYmZS5yZXRyeWFibGUmJih0aGlzLmh0dHBSZXF1ZXN0PW5ldyBuLkh0dHBSZXF1ZXN0KHRoaXMuc2VydmljZS5lbmRwb2ludCx0aGlzLnNlcnZpY2UucmVnaW9uKSx0aGlzLnJlc3BvbnNlLnJldHJ5Q291bnQ8dGhpcy5zZXJ2aWNlLmNvbmZpZy5tYXhSZXRyaWVzP3RoaXMucmVzcG9uc2UucmV0cnlDb3VudCsrOnRoaXMucmVzcG9uc2UuZXJyb3I9bnVsbCl9KSkscigiRElTQ09WRVJfRU5EUE9JTlQiLCJzaWduIixvLCEwKSxyKCJTSUdOIiwic2lnbiIsKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZXJ2aWNlLHI9YShlKTtpZighcnx8MD09PXIubGVuZ3RoKXJldHVybiB0KCk7ImJlYXJlciI9PT1yP24uY29uZmlnLmdldFRva2VuKChmdW5jdGlvbihyLG8pe2lmKHIpcmV0dXJuIGUucmVzcG9uc2UuZXJyb3I9cix0KCk7dHJ5e25ldyhuLmdldFNpZ25lckNsYXNzKGUpKShlLmh0dHBSZXF1ZXN0KS5hZGRBdXRob3JpemF0aW9uKG8pfWNhdGNoKHQpe2UucmVzcG9uc2UuZXJyb3I9dH10KCl9KSk6bi5jb25maWcuZ2V0Q3JlZGVudGlhbHMoKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gZS5yZXNwb25zZS5lcnJvcj1yLHQoKTt0cnl7dmFyIGk9bi5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLGE9bi5nZXRTaWduZXJDbGFzcyhlKSxzPShlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnN8fHt9KVtlLm9wZXJhdGlvbl0sYz1uZXcgYShlLmh0dHBSZXF1ZXN0LG4uZ2V0U2lnbmluZ05hbWUoZSkse3NpZ25hdHVyZUNhY2hlOm4uY29uZmlnLnNpZ25hdHVyZUNhY2hlLG9wZXJhdGlvbjpzLHNpZ25hdHVyZVZlcnNpb246bi5hcGkuc2lnbmF0dXJlVmVyc2lvbn0pO2Muc2V0U2VydmljZUNsaWVudElkKG4uX2NsaWVudElkKSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24sZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVycy5EYXRlLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXSxjLmFkZEF1dGhvcml6YXRpb24obyxpKSxlLnNpZ25lZEF0PWl9Y2F0Y2godCl7ZS5yZXNwb25zZS5lcnJvcj10fXQoKX0pKX0pKSxlKCJWQUxJREFURV9SRVNQT05TRSIsInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbihlKXt0aGlzLnNlcnZpY2Uuc3VjY2Vzc2Z1bFJlc3BvbnNlKGUsdGhpcyk/KGUuZGF0YT17fSxlLmVycm9yPW51bGwpOihlLmRhdGE9bnVsbCxlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IlVua25vd25FcnJvciIsbWVzc2FnZToiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4ifSkpfSkpLGUoIkVSUk9SIiwiZXJyb3IiLChmdW5jdGlvbihlLHQpe2lmKHQucmVxdWVzdC5zZXJ2aWNlLmFwaS5hd3NRdWVyeUNvbXBhdGlibGUpe3ZhciBuPXQuaHR0cFJlc3BvbnNlLmhlYWRlcnMscj1uP25bIngtYW16bi1xdWVyeS1lcnJvciJdOnZvaWQgMDtyJiZyLmluY2x1ZGVzKCI7IikmJih0LmVycm9yLmNvZGU9ci5zcGxpdCgiOyIpWzBdKX19KSwhMCkscigiU0VORCIsInNlbmQiLChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIocil7ZS5odHRwUmVzcG9uc2Uuc3RyZWFtPXI7dmFyIG89ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnN0cmVhbSxpPWUucmVxdWVzdC5zZXJ2aWNlLGE9aS5hcGkscz1lLnJlcXVlc3Qub3BlcmF0aW9uLGM9YS5vcGVyYXRpb25zW3NdfHx7fTtyLm9uKCJoZWFkZXJzIiwoZnVuY3Rpb24obyxhLHMpe2lmKGUucmVxdWVzdC5lbWl0KCJodHRwSGVhZGVycyIsW28sYSxlLHNdKSwhZS5odHRwUmVzcG9uc2Uuc3RyZWFtaW5nKWlmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24pe2lmKGMuaGFzRXZlbnRPdXRwdXQmJmkuc3VjY2Vzc2Z1bFJlc3BvbnNlKGUpKXJldHVybiBlLnJlcXVlc3QuZW1pdCgiaHR0cERvbmUiKSx2b2lkIHQoKTtyLm9uKCJyZWFkYWJsZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9ci5yZWFkKCk7bnVsbCE9PXQmJmUucmVxdWVzdC5lbWl0KCJodHRwRGF0YSIsW3QsZV0pfSkpfWVsc2Ugci5vbigiZGF0YSIsKGZ1bmN0aW9uKHQpe2UucmVxdWVzdC5lbWl0KCJodHRwRGF0YSIsW3QsZV0pfSkpfSkpLHIub24oImVuZCIsKGZ1bmN0aW9uKCl7aWYoIW98fCFvLmRpZENhbGxiYWNrKXtpZigyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uJiZjLmhhc0V2ZW50T3V0cHV0JiZpLnN1Y2Nlc3NmdWxSZXNwb25zZShlKSlyZXR1cm47ZS5yZXF1ZXN0LmVtaXQoImh0dHBEb25lIiksdCgpfX0pKX1mdW5jdGlvbiBvKHIpe2lmKCJSZXF1ZXN0QWJvcnRlZEVycm9yIiE9PXIuY29kZSl7dmFyIG89IlRpbWVvdXRFcnJvciI9PT1yLmNvZGU/ci5jb2RlOiJOZXR3b3JraW5nRXJyb3IiO3I9bi51dGlsLmVycm9yKHIse2NvZGU6byxyZWdpb246ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnJlZ2lvbixob3N0bmFtZTplLnJlcXVlc3QuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUscmV0cnlhYmxlOiEwfSl9ZS5lcnJvcj1yLGUucmVxdWVzdC5lbWl0KCJodHRwRXJyb3IiLFtlLmVycm9yLGVdLChmdW5jdGlvbigpe3QoKX0pKX1mdW5jdGlvbiBpKCl7dmFyIHQsaT1uLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2UoKSxhPWUucmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5odHRwT3B0aW9uc3x8e307dHJ5e3ZhciBzPWkuaGFuZGxlUmVxdWVzdChlLnJlcXVlc3QuaHR0cFJlcXVlc3QsYSxyLG8pOyh0PXMpLm9uKCJzZW5kUHJvZ3Jlc3MiLChmdW5jdGlvbih0KXtlLnJlcXVlc3QuZW1pdCgiaHR0cFVwbG9hZFByb2dyZXNzIixbdCxlXSl9KSksdC5vbigicmVjZWl2ZVByb2dyZXNzIiwoZnVuY3Rpb24odCl7ZS5yZXF1ZXN0LmVtaXQoImh0dHBEb3dubG9hZFByb2dyZXNzIixbdCxlXSl9KSl9Y2F0Y2goZSl7byhlKX19ZS5odHRwUmVzcG9uc2UuX2Fib3J0Q2FsbGJhY2s9dCxlLmVycm9yPW51bGwsZS5kYXRhPW51bGwsKGUucmVxdWVzdC5zZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCktdGhpcy5zaWduZWRBdCkvMWUzPj02MDA/dGhpcy5lbWl0KCJzaWduIixbdGhpc10sKGZ1bmN0aW9uKGUpe2U/dChlKTppKCl9KSk6aSgpfSkpLGUoIkhUVFBfSEVBREVSUyIsImh0dHBIZWFkZXJzIiwoZnVuY3Rpb24oZSx0LHIsbyl7ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT1lLHIuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2U9byxyLmh0dHBSZXNwb25zZS5oZWFkZXJzPXQsci5odHRwUmVzcG9uc2UuYm9keT1uLnV0aWwuYnVmZmVyLnRvQnVmZmVyKCIiKSxyLmh0dHBSZXNwb25zZS5idWZmZXJzPVtdLHIuaHR0cFJlc3BvbnNlLm51bUJ5dGVzPTA7dmFyIGk9dC5kYXRlfHx0LkRhdGUsYT1yLnJlcXVlc3Quc2VydmljZTtpZihpKXt2YXIgcz1EYXRlLnBhcnNlKGkpO2EuY29uZmlnLmNvcnJlY3RDbG9ja1NrZXcmJmEuaXNDbG9ja1NrZXdlZChzKSYmYS5hcHBseUNsb2NrT2Zmc2V0KHMpfX0pKSxlKCJIVFRQX0RBVEEiLCJodHRwRGF0YSIsKGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYobi51dGlsLmlzTm9kZSgpKXt0Lmh0dHBSZXNwb25zZS5udW1CeXRlcys9ZS5sZW5ndGg7dmFyIHI9dC5odHRwUmVzcG9uc2UuaGVhZGVyc1siY29udGVudC1sZW5ndGgiXSxvPXtsb2FkZWQ6dC5odHRwUmVzcG9uc2UubnVtQnl0ZXMsdG90YWw6cn07dC5yZXF1ZXN0LmVtaXQoImh0dHBEb3dubG9hZFByb2dyZXNzIixbbyx0XSl9dC5odHRwUmVzcG9uc2UuYnVmZmVycy5wdXNoKG4udXRpbC5idWZmZXIudG9CdWZmZXIoZSkpfX0pKSxlKCJIVFRQX0RPTkUiLCJodHRwRG9uZSIsKGZ1bmN0aW9uKGUpe2lmKGUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMmJmUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMubGVuZ3RoPjApe3ZhciB0PW4udXRpbC5idWZmZXIuY29uY2F0KGUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMpO2UuaHR0cFJlc3BvbnNlLmJvZHk9dH1kZWxldGUgZS5odHRwUmVzcG9uc2UubnVtQnl0ZXMsZGVsZXRlIGUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnN9KSksZSgiRklOQUxJWkVfRVJST1IiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUmJihlLmVycm9yLnN0YXR1c0NvZGU9ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSx2b2lkIDA9PT1lLmVycm9yLnJldHJ5YWJsZSYmKGUuZXJyb3IucmV0cnlhYmxlPXRoaXMuc2VydmljZS5yZXRyeWFibGVFcnJvcihlLmVycm9yLHRoaXMpKSl9KSksZSgiSU5WQUxJREFURV9DUkVERU5USUFMUyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7aWYoZS5lcnJvcilzd2l0Y2goZS5lcnJvci5jb2RlKXtjYXNlIlJlcXVlc3RFeHBpcmVkIjpjYXNlIkV4cGlyZWRUb2tlbkV4Y2VwdGlvbiI6Y2FzZSJFeHBpcmVkVG9rZW4iOmUuZXJyb3IucmV0cnlhYmxlPSEwLGUucmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5leHBpcmVkPSEwfX0pKSxlKCJFWFBJUkVEX1NJR05BVFVSRSIsInJldHJ5IiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lcnJvcjt0JiYic3RyaW5nIj09dHlwZW9mIHQuY29kZSYmInN0cmluZyI9PXR5cGVvZiB0Lm1lc3NhZ2UmJnQuY29kZS5tYXRjaCgvU2lnbmF0dXJlLykmJnQubWVzc2FnZS5tYXRjaCgvZXhwaXJlZC8pJiYoZS5lcnJvci5yZXRyeWFibGU9ITApfSkpLGUoIkNMT0NLX1NLRVdFRCIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmdGhpcy5zZXJ2aWNlLmNsb2NrU2tld0Vycm9yKGUuZXJyb3IpJiZ0aGlzLnNlcnZpY2UuY29uZmlnLmNvcnJlY3RDbG9ja1NrZXcmJihlLmVycm9yLnJldHJ5YWJsZT0hMCl9KSksZSgiUkVESVJFQ1QiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJmUuZXJyb3Iuc3RhdHVzQ29kZT49MzAwJiZlLmVycm9yLnN0YXR1c0NvZGU8NDAwJiZlLmh0dHBSZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uJiYodGhpcy5odHRwUmVxdWVzdC5lbmRwb2ludD1uZXcgbi5FbmRwb2ludChlLmh0dHBSZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uKSx0aGlzLmh0dHBSZXF1ZXN0LmhlYWRlcnMuSG9zdD10aGlzLmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3QsZS5lcnJvci5yZWRpcmVjdD0hMCxlLmVycm9yLnJldHJ5YWJsZT0hMCl9KSksZSgiUkVUUllfQ0hFQ0siLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJihlLmVycm9yLnJlZGlyZWN0JiZlLnJlZGlyZWN0Q291bnQ8ZS5tYXhSZWRpcmVjdHM/ZS5lcnJvci5yZXRyeURlbGF5PTA6ZS5yZXRyeUNvdW50PGUubWF4UmV0cmllcyYmKGUuZXJyb3IucmV0cnlEZWxheT10aGlzLnNlcnZpY2UucmV0cnlEZWxheXMoZS5yZXRyeUNvdW50LGUuZXJyb3IpfHwwKSl9KSkscigiUkVTRVRfUkVUUllfU1RBVEUiLCJhZnRlclJldHJ5IiwoZnVuY3Rpb24oZSx0KXt2YXIgbixyPSExO2UuZXJyb3ImJihuPWUuZXJyb3IucmV0cnlEZWxheXx8MCxlLmVycm9yLnJldHJ5YWJsZSYmZS5yZXRyeUNvdW50PGUubWF4UmV0cmllcz8oZS5yZXRyeUNvdW50Kysscj0hMCk6ZS5lcnJvci5yZWRpcmVjdCYmZS5yZWRpcmVjdENvdW50PGUubWF4UmVkaXJlY3RzJiYoZS5yZWRpcmVjdENvdW50Kysscj0hMCkpLHImJm4+PTA/KGUuZXJyb3I9bnVsbCxzZXRUaW1lb3V0KHQsbikpOnQoKX0pKX0pKSxDb3JlUG9zdDoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlKXtlKCJFWFRSQUNUX1JFUVVFU1RfSUQiLCJleHRyYWN0RGF0YSIsbi51dGlsLmV4dHJhY3RSZXF1ZXN0SWQpLGUoIkVYVFJBQ1RfUkVRVUVTVF9JRCIsImV4dHJhY3RFcnJvciIsbi51dGlsLmV4dHJhY3RSZXF1ZXN0SWQpLGUoIkVOT1RGT1VORF9FUlJPUiIsImh0dHBFcnJvciIsKGZ1bmN0aW9uKGUpe2lmKCJOZXR3b3JraW5nRXJyb3IiPT09ZS5jb2RlJiZmdW5jdGlvbihlKXtyZXR1cm4iRU5PVEZPVU5EIj09PWUuZXJybm98fCJudW1iZXIiPT10eXBlb2YgZS5lcnJubyYmImZ1bmN0aW9uIj09dHlwZW9mIG4udXRpbC5nZXRTeXN0ZW1FcnJvck5hbWUmJlsiRUFJX05PTkFNRSIsIkVBSV9OT0RBVEEiXS5pbmRleE9mKG4udXRpbC5nZXRTeXN0ZW1FcnJvck5hbWUoZS5lcnJubyk+PTApfShlKSl7dmFyIHQ9IkluYWNjZXNzaWJsZSBob3N0OiBgIitlLmhvc3RuYW1lKyInIGF0IHBvcnQgYCIrZS5wb3J0KyInLiBUaGlzIHNlcnZpY2UgbWF5IG5vdCBiZSBhdmFpbGFibGUgaW4gdGhlIGAiK2UucmVnaW9uKyInIHJlZ2lvbi4iO3RoaXMucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcih0KSx7Y29kZToiVW5rbm93bkVuZHBvaW50IixyZWdpb246ZS5yZWdpb24saG9zdG5hbWU6ZS5ob3N0bmFtZSxyZXRyeWFibGU6ITAsb3JpZ2luYWxFcnJvcjplfSl9fSkpfSkpLExvZ2dlcjoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt0KCJMT0dfUkVRVUVTVCIsImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7dmFyIHI9dC5yZXF1ZXN0LG89ci5zZXJ2aWNlLmNvbmZpZy5sb2dnZXI7aWYobyl7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgaT0odC5yZXF1ZXN0LnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS5nZXRUaW1lKCktci5zdGFydFRpbWUuZ2V0VGltZSgpKS8xZTMscz0hIW8uaXNUVFksYz10Lmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLHU9ci5wYXJhbXM7ci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zJiZyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbci5vcGVyYXRpb25dJiZyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbci5vcGVyYXRpb25dLmlucHV0JiYodT1hKHIuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyLm9wZXJhdGlvbl0uaW5wdXQsci5wYXJhbXMpKTt2YXIgbD1lKCJ1dGlsIikuaW5zcGVjdCh1LCEwLG51bGwpLHA9IiI7cmV0dXJuIHMmJihwKz0iG1szM20iKSxwKz0iW0FXUyAiK3Iuc2VydmljZS5zZXJ2aWNlSWRlbnRpZmllcisiICIrYyxwKz0iICIraS50b1N0cmluZygpKyJzICIrdC5yZXRyeUNvdW50KyIgcmV0cmllc10iLHMmJihwKz0iG1swOzFtIikscCs9IiAiK24udXRpbC5zdHJpbmcubG93ZXJGaXJzdChyLm9wZXJhdGlvbikscCs9IigiK2wrIikiLHMmJihwKz0iG1swbSIpLHB9KCk7ImZ1bmN0aW9uIj09dHlwZW9mIG8ubG9nP28ubG9nKGkpOiJmdW5jdGlvbiI9PXR5cGVvZiBvLndyaXRlJiZvLndyaXRlKGkrIlxuIil9ZnVuY3Rpb24gYShlLHQpe2lmKCF0KXJldHVybiB0O2lmKGUuaXNTZW5zaXRpdmUpcmV0dXJuIioqKlNlbnNpdGl2ZUluZm9ybWF0aW9uKioqIjtzd2l0Y2goZS50eXBlKXtjYXNlInN0cnVjdHVyZSI6dmFyIHI9e307cmV0dXJuIG4udXRpbC5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUubWVtYmVycyx0KT9yW3RdPWEoZS5tZW1iZXJzW3RdLG4pOnJbdF09bn0pKSxyO2Nhc2UibGlzdCI6dmFyIG89W107cmV0dXJuIG4udXRpbC5hcnJheUVhY2godCwoZnVuY3Rpb24odCxuKXtvLnB1c2goYShlLm1lbWJlcix0KSl9KSksbztjYXNlIm1hcCI6dmFyIGk9e307cmV0dXJuIG4udXRpbC5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7aVt0XT1hKGUudmFsdWUsbil9KSksaTtkZWZhdWx0OnJldHVybiB0fX19KSl9KSksSnNvbjoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL2pzb24iKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKSxSZXN0OihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcmVzdCIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpLFJlc3RKc29uOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcmVzdF9qc29uIik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvciksdCgiVU5TRVRfQ09OVEVOVF9MRU5HVEgiLCJhZnRlckJ1aWxkIixuLnVuc2V0Q29udGVudExlbmd0aCl9KSksUmVzdFhtbDoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3Jlc3RfeG1sIik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSksUXVlcnk6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9xdWVyeSIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi9kaXNjb3Zlcl9lbmRwb2ludCI6MjcsIi4vcHJvdG9jb2wvanNvbiI6NDgsIi4vcHJvdG9jb2wvcXVlcnkiOjQ5LCIuL3Byb3RvY29sL3Jlc3QiOjUwLCIuL3Byb3RvY29sL3Jlc3RfanNvbiI6NTEsIi4vcHJvdG9jb2wvcmVzdF94bWwiOjUyLCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiOjYxLF9wcm9jZXNzOjkxLHV0aWw6ODV9XSwzNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5FbmRwb2ludD1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe2lmKHIudXRpbC5oaWRlUHJvcGVydGllcyh0aGlzLFsic2xhc2hlcyIsImF1dGgiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiXSksbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZW5kcG9pbnQ6ICIrZSk7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiByLnV0aWwuY29weShlKTtlLm1hdGNoKC9eaHR0cC8pfHwoZT0oKHQmJnZvaWQgMCE9PXQuc3NsRW5hYmxlZD90LnNzbEVuYWJsZWQ6ci5jb25maWcuc3NsRW5hYmxlZCk/Imh0dHBzIjoiaHR0cCIpKyI6Ly8iK2UpLHIudXRpbC51cGRhdGUodGhpcyxyLnV0aWwudXJsUGFyc2UoZSkpLHRoaXMucG9ydD90aGlzLnBvcnQ9cGFyc2VJbnQodGhpcy5wb3J0LDEwKTp0aGlzLnBvcnQ9Imh0dHBzOiI9PT10aGlzLnByb3RvY29sPzQ0Mzo4MH19KSxyLkh0dHBSZXF1ZXN0PW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ZT1uZXcgci5FbmRwb2ludChlKSx0aGlzLm1ldGhvZD0iUE9TVCIsdGhpcy5wYXRoPWUucGF0aHx8Ii8iLHRoaXMuaGVhZGVycz17fSx0aGlzLmJvZHk9IiIsdGhpcy5lbmRwb2ludD1lLHRoaXMucmVnaW9uPXQsdGhpcy5fdXNlckFnZW50PSIiLHRoaXMuc2V0VXNlckFnZW50KCl9LHNldFVzZXJBZ2VudDpmdW5jdGlvbigpe3RoaXMuX3VzZXJBZ2VudD10aGlzLmhlYWRlcnNbdGhpcy5nZXRVc2VyQWdlbnRIZWFkZXJOYW1lKCldPXIudXRpbC51c2VyQWdlbnQoKX0sZ2V0VXNlckFnZW50SGVhZGVyTmFtZTpmdW5jdGlvbigpe3JldHVybihyLnV0aWwuaXNCcm93c2VyKCk/IlgtQW16LSI6IiIpKyJVc2VyLUFnZW50In0sYXBwZW5kVG9Vc2VyQWdlbnQ6ZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiBlJiZlJiYodGhpcy5fdXNlckFnZW50Kz0iICIrZSksdGhpcy5oZWFkZXJzW3RoaXMuZ2V0VXNlckFnZW50SGVhZGVyTmFtZSgpXT10aGlzLl91c2VyQWdlbnR9LGdldFVzZXJBZ2VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyQWdlbnR9LHBhdGhuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC5zcGxpdCgiPyIsMSlbMF19LHNlYXJjaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucGF0aC5zcGxpdCgiPyIsMilbMV07cmV0dXJuIGU/KGU9ci51dGlsLnF1ZXJ5U3RyaW5nUGFyc2UoZSksci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcoZSkpOiIifSx1cGRhdGVFbmRwb2ludDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgci5FbmRwb2ludChlKTt0aGlzLmVuZHBvaW50PXQsdGhpcy5wYXRoPXQucGF0aHx8Ii8iLHRoaXMuaGVhZGVycy5Ib3N0JiYodGhpcy5oZWFkZXJzLkhvc3Q9dC5ob3N0KX19KSxyLkh0dHBSZXNwb25zZT1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuc3RhdHVzQ29kZT12b2lkIDAsdGhpcy5oZWFkZXJzPXt9LHRoaXMuYm9keT12b2lkIDAsdGhpcy5zdHJlYW1pbmc9ITEsdGhpcy5zdHJlYW09bnVsbH0sY3JlYXRlVW5idWZmZXJlZFN0cmVhbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbWluZz0hMCx0aGlzLnN0cmVhbX19KSxyLkh0dHBDbGllbnQ9byh7fSksci5IdHRwQ2xpZW50LmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuc2luZ2xldG9uJiYodGhpcy5zaW5nbGV0b249bmV3IHRoaXMpLHRoaXMuc2luZ2xldG9ufX0seyIuL2NvcmUiOjE5fV0sMzY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksaT1lKCJldmVudHMiKS5FdmVudEVtaXR0ZXI7ZSgiLi4vaHR0cCIpLHIuWEhSQ2xpZW50PXIudXRpbC5pbmhlcml0KHtoYW5kbGVSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuLGEpe3ZhciBzPXRoaXMsYz1lLmVuZHBvaW50LHU9bmV3IGksbD1jLnByb3RvY29sKyIvLyIrYy5ob3N0bmFtZTs4MCE9PWMucG9ydCYmNDQzIT09Yy5wb3J0JiYobCs9IjoiK2MucG9ydCksbCs9ZS5wYXRoO3ZhciBwPW5ldyBYTUxIdHRwUmVxdWVzdCxkPSExO2Uuc3RyZWFtPXAscC5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIiwoZnVuY3Rpb24oKXt0cnl7aWYoMD09PXAuc3RhdHVzKXJldHVybn1jYXRjaChlKXtyZXR1cm59dGhpcy5yZWFkeVN0YXRlPj10aGlzLkhFQURFUlNfUkVDRUlWRUQmJiFkJiYodS5zdGF0dXNDb2RlPXAuc3RhdHVzLHUuaGVhZGVycz1zLnBhcnNlSGVhZGVycyhwLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSx1LmVtaXQoImhlYWRlcnMiLHUuc3RhdHVzQ29kZSx1LmhlYWRlcnMscC5zdGF0dXNUZXh0KSxkPSEwKSx0aGlzLnJlYWR5U3RhdGU9PT10aGlzLkRPTkUmJnMuZmluaXNoUmVxdWVzdChwLHUpfSksITEpLHAudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwoZnVuY3Rpb24oZSl7dS5lbWl0KCJzZW5kUHJvZ3Jlc3MiLGUpfSkpLHAuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLChmdW5jdGlvbihlKXt1LmVtaXQoInJlY2VpdmVQcm9ncmVzcyIsZSl9KSwhMSkscC5hZGRFdmVudExpc3RlbmVyKCJ0aW1lb3V0IiwoZnVuY3Rpb24oKXthKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIlRpbWVvdXQiKSx7Y29kZToiVGltZW91dEVycm9yIn0pKX0pLCExKSxwLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoZnVuY3Rpb24oKXthKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIk5ldHdvcmsgRmFpbHVyZSIpLHtjb2RlOiJOZXR3b3JraW5nRXJyb3IifSkpfSksITEpLHAuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLChmdW5jdGlvbigpe2Eoci51dGlsLmVycm9yKG5ldyBFcnJvcigiUmVxdWVzdCBhYm9ydGVkIikse2NvZGU6IlJlcXVlc3RBYm9ydGVkRXJyb3IifSkpfSksITEpLG4odSkscC5vcGVuKGUubWV0aG9kLGwsITEhPT10LnhockFzeW5jKSxyLnV0aWwuZWFjaChlLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7IkNvbnRlbnQtTGVuZ3RoIiE9PWUmJiJVc2VyLUFnZW50IiE9PWUmJiJIb3N0IiE9PWUmJnAuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSkpLHQudGltZW91dCYmITEhPT10LnhockFzeW5jJiYocC50aW1lb3V0PXQudGltZW91dCksdC54aHJXaXRoQ3JlZGVudGlhbHMmJihwLndpdGhDcmVkZW50aWFscz0hMCk7dHJ5e3AucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciJ9Y2F0Y2goZSl7fXRyeXtlLmJvZHk/cC5zZW5kKGUuYm9keSk6cC5zZW5kKCl9Y2F0Y2godCl7aWYoIWUuYm9keXx8Im9iamVjdCIhPT1vKGUuYm9keS5idWZmZXIpKXRocm93IHQ7cC5zZW5kKGUuYm9keS5idWZmZXIpfXJldHVybiB1fSxwYXJzZUhlYWRlcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHIudXRpbC5hcnJheUVhY2goZS5zcGxpdCgvXHI/XG4vKSwoZnVuY3Rpb24oZSl7dmFyIG49ZS5zcGxpdCgiOiIsMSlbMF0scj1lLnN1YnN0cmluZyhuLmxlbmd0aCsyKTtuLmxlbmd0aD4wJiYodFtuLnRvTG93ZXJDYXNlKCldPXIpfSkpLHR9LGZpbmlzaFJlcXVlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZigiYXJyYXlidWZmZXIiPT09ZS5yZXNwb25zZVR5cGUmJmUucmVzcG9uc2Upe3ZhciBvPWUucmVzcG9uc2U7bj1uZXcgci51dGlsLkJ1ZmZlcihvLmJ5dGVMZW5ndGgpO2Zvcih2YXIgaT1uZXcgVWludDhBcnJheShvKSxhPTA7YTxuLmxlbmd0aDsrK2EpblthXT1pW2FdfXRyeXtufHwic3RyaW5nIiE9dHlwZW9mIGUucmVzcG9uc2VUZXh0fHwobj1uZXcgci51dGlsLkJ1ZmZlcihlLnJlc3BvbnNlVGV4dCkpfWNhdGNoKGUpe31uJiZ0LmVtaXQoImRhdGEiLG4pLHQuZW1pdCgiZW5kIil9fSksci5IdHRwQ2xpZW50LnByb3RvdHlwZT1yLlhIUkNsaWVudC5wcm90b3R5cGUsci5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uPTF9LHsiLi4vY29yZSI6MTksIi4uL2h0dHAiOjM1LGV2ZW50czo4N31dLDM3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gaShlLHQpe2lmKHQmJm51bGwhPWUpc3dpdGNoKHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKHQuaXNEb2N1bWVudClyZXR1cm4gZTt2YXIgbj17fTtyZXR1cm4gci5lYWNoKGUsKGZ1bmN0aW9uKGUscil7dmFyIG89dC5tZW1iZXJzW2VdO2lmKG8pe2lmKCJib2R5IiE9PW8ubG9jYXRpb24pcmV0dXJuO3ZhciBhPW8uaXNMb2NhdGlvbk5hbWU/by5uYW1lOmUscz1pKHIsbyk7dm9pZCAwIT09cyYmKG5bYV09cyl9fSkpLG59KGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiByLmVhY2goZSwoZnVuY3Rpb24oZSxyKXt2YXIgbz1pKHIsdC52YWx1ZSk7dm9pZCAwIT09byYmKG5bZV09byl9KSksbn0oZSx0KTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiByLmFycmF5RWFjaChlLChmdW5jdGlvbihlKXt2YXIgcj1pKGUsdC5tZW1iZXIpO3ZvaWQgMCE9PXImJm4ucHVzaChyKX0pKSxufShlLHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9XaXJlRm9ybWF0KGUpfShlLHQpfX1vLnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShpKGUsdCkpfSx0LmV4cG9ydHM9b30seyIuLi91dGlsIjo3NH1dLDM4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gaShlLHQpe2lmKHQmJnZvaWQgMCE9PWUpc3dpdGNoKHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe2lmKHQuaXNEb2N1bWVudClyZXR1cm4gZTt2YXIgbj17fSxvPXQubWVtYmVycyxhPXQuYXBpJiZ0LmFwaS5hd3NRdWVyeUNvbXBhdGlibGU7cmV0dXJuIHIuZWFjaChvLChmdW5jdGlvbih0LHIpe3ZhciBvPXIuaXNMb2NhdGlvbk5hbWU/ci5uYW1lOnQ7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBzPWkoZVtvXSxyKTt2b2lkIDAhPT1zJiYoblt0XT1zKX1lbHNlIGEmJnIuZGVmYXVsdFZhbHVlJiYibGlzdCI9PT1yLnR5cGUmJihuW3RdPSJmdW5jdGlvbiI9PXR5cGVvZiByLmRlZmF1bHRWYWx1ZT9yLmRlZmF1bHRWYWx1ZSgpOnIuZGVmYXVsdFZhbHVlKX0pKSxufX0oZSx0KTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7dmFyIG49e307cmV0dXJuIHIuZWFjaChlLChmdW5jdGlvbihlLHIpe3ZhciBvPWkocix0LnZhbHVlKTtuW2VdPXZvaWQgMD09PW8/bnVsbDpvfSkpLG59fShlLHQpO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7dmFyIG49W107cmV0dXJuIHIuYXJyYXlFYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciByPWkoZSx0Lm1lbWJlcik7dm9pZCAwPT09cj9uLnB1c2gobnVsbCk6bi5wdXNoKHIpfSkpLG59fShlLHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9UeXBlKGUpfShlLHQpfX1vLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQpe3JldHVybiBpKEpTT04ucGFyc2UoZSksdCl9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sMzk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7dmFyIG49WyJUaGUgQVdTIFNESyBmb3IgSmF2YVNjcmlwdCAodjIpIHdpbGwgZW50ZXIgbWFpbnRlbmFuY2UgbW9kZSIsIm9uIFNlcHRlbWJlciA4LCAyMDI0IGFuZCByZWFjaCBlbmQtb2Ytc3VwcG9ydCBvbiBTZXB0ZW1iZXIgOCwgMjAyNS5cbiIsIlBsZWFzZSBtaWdyYXRlIHlvdXIgY29kZSB0byB1c2UgQVdTIFNESyBmb3IgSmF2YVNjcmlwdCAodjMpLiIsIkZvciBtb3JlIGluZm9ybWF0aW9uLCBjaGVjayBibG9nIHBvc3QgYXQgaHR0cHM6Ly9hLmNvL2NVUG55aWwiXS5qb2luKCJcbiIpO3QuZXhwb3J0cz17c3VwcHJlc3M6ITF9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5leHBvcnRzLnN1cHByZXNzfHx2b2lkIDAhPT1lJiYoIm9iamVjdCI9PT1vKGUuZW52KSYmdm9pZCAwIT09ZS5lbnYuQVdTX0VYRUNVVElPTl9FTlYmJjA9PT1lLmVudi5BV1NfRVhFQ1VUSU9OX0VOVi5pbmRleE9mKCJBV1NfTGFtYmRhXyIpfHwib2JqZWN0Ij09PW8oZS5lbnYpJiZ2b2lkIDAhPT1lLmVudi5BV1NfU0RLX0pTX1NVUFBSRVNTX01BSU5URU5BTkNFX01PREVfTUVTU0FHRXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuZW1pdFdhcm5pbmcmJmUuZW1pdFdhcm5pbmcobix7dHlwZToiTk9URSJ9KSl9KSwwKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHtfcHJvY2Vzczo5MX1dLDQwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb2xsZWN0aW9uIiksbz1lKCIuL29wZXJhdGlvbiIpLGk9ZSgiLi9zaGFwZSIpLGE9ZSgiLi9wYWdpbmF0b3IiKSxzPWUoIi4vcmVzb3VyY2Vfd2FpdGVyIiksYz1lKCIuLi8uLi9hcGlzL21ldGFkYXRhLmpzb24iKSx1PWUoIi4uL3V0aWwiKSxsPXUucHJvcGVydHkscD11Lm1lbW9pemVkUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztlPWV8fHt9LCh0PXR8fHt9KS5hcGk9dGhpcyxlLm1ldGFkYXRhPWUubWV0YWRhdGF8fHt9O3ZhciBkPXQuc2VydmljZUlkZW50aWZpZXI7ZGVsZXRlIHQuc2VydmljZUlkZW50aWZpZXIsbCh0aGlzLCJpc0FwaSIsITAsITEpLGwodGhpcywiYXBpVmVyc2lvbiIsZS5tZXRhZGF0YS5hcGlWZXJzaW9uKSxsKHRoaXMsImVuZHBvaW50UHJlZml4IixlLm1ldGFkYXRhLmVuZHBvaW50UHJlZml4KSxsKHRoaXMsInNpZ25pbmdOYW1lIixlLm1ldGFkYXRhLnNpZ25pbmdOYW1lKSxsKHRoaXMsImdsb2JhbEVuZHBvaW50IixlLm1ldGFkYXRhLmdsb2JhbEVuZHBvaW50KSxsKHRoaXMsInNpZ25hdHVyZVZlcnNpb24iLGUubWV0YWRhdGEuc2lnbmF0dXJlVmVyc2lvbiksbCh0aGlzLCJqc29uVmVyc2lvbiIsZS5tZXRhZGF0YS5qc29uVmVyc2lvbiksbCh0aGlzLCJ0YXJnZXRQcmVmaXgiLGUubWV0YWRhdGEudGFyZ2V0UHJlZml4KSxsKHRoaXMsInByb3RvY29sIixlLm1ldGFkYXRhLnByb3RvY29sKSxsKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsZS5tZXRhZGF0YS50aW1lc3RhbXBGb3JtYXQpLGwodGhpcywieG1sTmFtZXNwYWNlVXJpIixlLm1ldGFkYXRhLnhtbE5hbWVzcGFjZSksbCh0aGlzLCJhYmJyZXZpYXRpb24iLGUubWV0YWRhdGEuc2VydmljZUFiYnJldmlhdGlvbiksbCh0aGlzLCJmdWxsTmFtZSIsZS5tZXRhZGF0YS5zZXJ2aWNlRnVsbE5hbWUpLGwodGhpcywic2VydmljZUlkIixlLm1ldGFkYXRhLnNlcnZpY2VJZCksZCYmY1tkXSYmbCh0aGlzLCJ4bWxOb0RlZmF1bHRMaXN0cyIsY1tkXS54bWxOb0RlZmF1bHRMaXN0cywhMSkscCh0aGlzLCJjbGFzc05hbWUiLChmdW5jdGlvbigpe3ZhciB0PWUubWV0YWRhdGEuc2VydmljZUFiYnJldmlhdGlvbnx8ZS5tZXRhZGF0YS5zZXJ2aWNlRnVsbE5hbWU7cmV0dXJuIHQ/KCJFbGFzdGljTG9hZEJhbGFuY2luZyI9PT0odD10LnJlcGxhY2UoL15BbWF6b258QVdTXHMqfFwoLip8XHMrfFxXKy9nLCIiKSkmJih0PSJFTEIiKSx0KTpudWxsfSkpLGwodGhpcywib3BlcmF0aW9ucyIsbmV3IHIoZS5vcGVyYXRpb25zLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBvKGUsbix0KX0pLHUuc3RyaW5nLmxvd2VyRmlyc3QsKGZ1bmN0aW9uKGUsdCl7ITA9PT10LmVuZHBvaW50b3BlcmF0aW9uJiZsKG4sImVuZHBvaW50T3BlcmF0aW9uIix1LnN0cmluZy5sb3dlckZpcnN0KGUpKSx0LmVuZHBvaW50ZGlzY292ZXJ5JiYhbi5oYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5JiZsKG4sImhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3ZlcnkiLCEwPT09dC5lbmRwb2ludGRpc2NvdmVyeS5yZXF1aXJlZCl9KSkpLGwodGhpcywic2hhcGVzIixuZXcgcihlLnNoYXBlcyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBpLmNyZWF0ZShuLHQpfSkpKSxsKHRoaXMsInBhZ2luYXRvcnMiLG5ldyByKGUucGFnaW5hdG9ycyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgYShlLG4sdCl9KSkpLGwodGhpcywid2FpdGVycyIsbmV3IHIoZS53YWl0ZXJzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBzKGUsbix0KX0pLHUuc3RyaW5nLmxvd2VyRmlyc3QpKSx0LmRvY3VtZW50YXRpb24mJihsKHRoaXMsImRvY3VtZW50YXRpb24iLGUuZG9jdW1lbnRhdGlvbiksbCh0aGlzLCJkb2N1bWVudGF0aW9uVXJsIixlLmRvY3VtZW50YXRpb25VcmwpKSxsKHRoaXMsImF3c1F1ZXJ5Q29tcGF0aWJsZSIsZS5tZXRhZGF0YS5hd3NRdWVyeUNvbXBhdGlibGUpfX0seyIuLi8uLi9hcGlzL21ldGFkYXRhLmpzb24iOjQsIi4uL3V0aWwiOjc0LCIuL2NvbGxlY3Rpb24iOjQxLCIuL29wZXJhdGlvbiI6NDIsIi4vcGFnaW5hdG9yIjo0MywiLi9yZXNvdXJjZV93YWl0ZXIiOjQ0LCIuL3NoYXBlIjo0NX1dLDQxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLm1lbW9pemVkUHJvcGVydHk7ZnVuY3Rpb24gbyhlLHQsbixvKXtyKHRoaXMsbyhlKSwoZnVuY3Rpb24oKXtyZXR1cm4gbihlLHQpfSkpfXQuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyLGkpe2Zvcih2YXIgYSBpbiByPXJ8fFN0cmluZyxlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpJiYoby5jYWxsKHRoaXMsYSxlW2FdLG4sciksaSYmaShhLGVbYV0pKX19LHsiLi4vdXRpbCI6NzR9XSw0MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vc2hhcGUiKSxvPWUoIi4uL3V0aWwiKSxpPW8ucHJvcGVydHksYT1vLm1lbW9pemVkUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzO249bnx8e30saSh0aGlzLCJuYW1lIix0Lm5hbWV8fGUpLGkodGhpcywiYXBpIixuLmFwaSwhMSksdC5odHRwPXQuaHR0cHx8e30saSh0aGlzLCJlbmRwb2ludCIsdC5lbmRwb2ludCksaSh0aGlzLCJodHRwTWV0aG9kIix0Lmh0dHAubWV0aG9kfHwiUE9TVCIpLGkodGhpcywiaHR0cFBhdGgiLHQuaHR0cC5yZXF1ZXN0VXJpfHwiLyIpLGkodGhpcywiYXV0aHR5cGUiLHQuYXV0aHR5cGV8fCIiKSxpKHRoaXMsImVuZHBvaW50RGlzY292ZXJ5UmVxdWlyZWQiLHQuZW5kcG9pbnRkaXNjb3Zlcnk/dC5lbmRwb2ludGRpc2NvdmVyeS5yZXF1aXJlZD8iUkVRVUlSRUQiOiJPUFRJT05BTCI6Ik5VTEwiKTt2YXIgcz10Lmh0dHBDaGVja3N1bVJlcXVpcmVkfHx0Lmh0dHBDaGVja3N1bSYmdC5odHRwQ2hlY2tzdW0ucmVxdWVzdENoZWNrc3VtUmVxdWlyZWQ7aSh0aGlzLCJodHRwQ2hlY2tzdW1SZXF1aXJlZCIscywhMSksYSh0aGlzLCJpbnB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5wdXQ/ci5jcmVhdGUodC5pbnB1dCxuKTpuZXcgci5jcmVhdGUoe3R5cGU6InN0cnVjdHVyZSJ9LG4pfSkpLGEodGhpcywib3V0cHV0IiwoZnVuY3Rpb24oKXtyZXR1cm4gdC5vdXRwdXQ/ci5jcmVhdGUodC5vdXRwdXQsbik6bmV3IHIuY3JlYXRlKHt0eXBlOiJzdHJ1Y3R1cmUifSxuKX0pKSxhKHRoaXMsImVycm9ycyIsKGZ1bmN0aW9uKCl7dmFyIGU9W107aWYoIXQuZXJyb3JzKXJldHVybiBudWxsO2Zvcih2YXIgbz0wO288dC5lcnJvcnMubGVuZ3RoO28rKyllLnB1c2goci5jcmVhdGUodC5lcnJvcnNbb10sbikpO3JldHVybiBlfSkpLGEodGhpcywicGFnaW5hdG9yIiwoZnVuY3Rpb24oKXtyZXR1cm4gbi5hcGkucGFnaW5hdG9yc1tlXX0pKSxuLmRvY3VtZW50YXRpb24mJihpKHRoaXMsImRvY3VtZW50YXRpb24iLHQuZG9jdW1lbnRhdGlvbiksaSh0aGlzLCJkb2N1bWVudGF0aW9uVXJsIix0LmRvY3VtZW50YXRpb25VcmwpKSxhKHRoaXMsImlkZW1wb3RlbnRNZW1iZXJzIiwoZnVuY3Rpb24oKXt2YXIgZT1bXSx0PW8uaW5wdXQsbj10Lm1lbWJlcnM7aWYoIXQubWVtYmVycylyZXR1cm4gZTtmb3IodmFyIHIgaW4gbiluLmhhc093blByb3BlcnR5KHIpJiYhMD09PW5bcl0uaXNJZGVtcG90ZW50JiZlLnB1c2gocik7cmV0dXJuIGV9KSksYSh0aGlzLCJoYXNFdmVudE91dHB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubWVtYmVycyxuPWUucGF5bG9hZDtpZighZS5tZW1iZXJzKXJldHVybiExO2lmKG4pcmV0dXJuIHRbbl0uaXNFdmVudFN0cmVhbTtmb3IodmFyIHIgaW4gdClpZighdC5oYXNPd25Qcm9wZXJ0eShyKSYmITA9PT10W3JdLmlzRXZlbnRTdHJlYW0pcmV0dXJuITA7cmV0dXJuITF9KG8ub3V0cHV0KX0pKX19LHsiLi4vdXRpbCI6NzQsIi4vc2hhcGUiOjQ1fV0sNDM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIikucHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cih0aGlzLCJpbnB1dFRva2VuIix0LmlucHV0X3Rva2VuKSxyKHRoaXMsImxpbWl0S2V5Iix0LmxpbWl0X2tleSkscih0aGlzLCJtb3JlUmVzdWx0cyIsdC5tb3JlX3Jlc3VsdHMpLHIodGhpcywib3V0cHV0VG9rZW4iLHQub3V0cHV0X3Rva2VuKSxyKHRoaXMsInJlc3VsdEtleSIsdC5yZXN1bHRfa2V5KX19LHsiLi4vdXRpbCI6NzR9XSw0NDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPXIucHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtuPW58fHt9LG8odGhpcywibmFtZSIsZSksbyh0aGlzLCJhcGkiLG4uYXBpLCExKSx0Lm9wZXJhdGlvbiYmbyh0aGlzLCJvcGVyYXRpb24iLHIuc3RyaW5nLmxvd2VyRmlyc3QodC5vcGVyYXRpb24pKTt2YXIgaT10aGlzO1sidHlwZSIsImRlc2NyaXB0aW9uIiwiZGVsYXkiLCJtYXhBdHRlbXB0cyIsImFjY2VwdG9ycyJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07biYmbyhpLGUsbil9KSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvbGxlY3Rpb24iKSxpPWUoIi4uL3V0aWwiKTtmdW5jdGlvbiBhKGUsdCxuKXtudWxsIT1uJiZpLnByb3BlcnR5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBzKGUsdCl7ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdF18fGkubWVtb2l6ZWRQcm9wZXJ0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlLHQsbil7dD10fHx7fSxhKHRoaXMsInNoYXBlIixlLnNoYXBlKSxhKHRoaXMsImFwaSIsdC5hcGksITEpLGEodGhpcywidHlwZSIsZS50eXBlKSxhKHRoaXMsImVudW0iLGUuZW51bSksYSh0aGlzLCJtaW4iLGUubWluKSxhKHRoaXMsIm1heCIsZS5tYXgpLGEodGhpcywicGF0dGVybiIsZS5wYXR0ZXJuKSxhKHRoaXMsImxvY2F0aW9uIixlLmxvY2F0aW9ufHx0aGlzLmxvY2F0aW9ufHwiYm9keSIpLGEodGhpcywibmFtZSIsdGhpcy5uYW1lfHxlLnhtbE5hbWV8fGUucXVlcnlOYW1lfHxlLmxvY2F0aW9uTmFtZXx8biksYSh0aGlzLCJpc1N0cmVhbWluZyIsZS5zdHJlYW1pbmd8fHRoaXMuaXNTdHJlYW1pbmd8fCExKSxhKHRoaXMsInJlcXVpcmVzTGVuZ3RoIixlLnJlcXVpcmVzTGVuZ3RoLCExKSxhKHRoaXMsImlzQ29tcG9zaXRlIixlLmlzQ29tcG9zaXRlfHwhMSksYSh0aGlzLCJpc1NoYXBlIiwhMCwhMSksYSh0aGlzLCJpc1F1ZXJ5TmFtZSIsQm9vbGVhbihlLnF1ZXJ5TmFtZSksITEpLGEodGhpcywiaXNMb2NhdGlvbk5hbWUiLEJvb2xlYW4oZS5sb2NhdGlvbk5hbWUpLCExKSxhKHRoaXMsImlzSWRlbXBvdGVudCIsITA9PT1lLmlkZW1wb3RlbmN5VG9rZW4pLGEodGhpcywiaXNKc29uVmFsdWUiLCEwPT09ZS5qc29udmFsdWUpLGEodGhpcywiaXNTZW5zaXRpdmUiLCEwPT09ZS5zZW5zaXRpdmV8fGUucHJvdG90eXBlJiYhMD09PWUucHJvdG90eXBlLnNlbnNpdGl2ZSksYSh0aGlzLCJpc0V2ZW50U3RyZWFtIixCb29sZWFuKGUuZXZlbnRzdHJlYW0pLCExKSxhKHRoaXMsImlzRXZlbnQiLEJvb2xlYW4oZS5ldmVudCksITEpLGEodGhpcywiaXNFdmVudFBheWxvYWQiLEJvb2xlYW4oZS5ldmVudHBheWxvYWQpLCExKSxhKHRoaXMsImlzRXZlbnRIZWFkZXIiLEJvb2xlYW4oZS5ldmVudGhlYWRlciksITEpLGEodGhpcywiaXNUaW1lc3RhbXBGb3JtYXRTZXQiLEJvb2xlYW4oZS50aW1lc3RhbXBGb3JtYXQpfHxlLnByb3RvdHlwZSYmITA9PT1lLnByb3RvdHlwZS5pc1RpbWVzdGFtcEZvcm1hdFNldCwhMSksYSh0aGlzLCJlbmRwb2ludERpc2NvdmVyeUlkIixCb29sZWFuKGUuZW5kcG9pbnRkaXNjb3ZlcnlpZCksITEpLGEodGhpcywiaG9zdExhYmVsIixCb29sZWFuKGUuaG9zdExhYmVsKSwhMSksdC5kb2N1bWVudGF0aW9uJiYoYSh0aGlzLCJkb2N1bWVudGF0aW9uIixlLmRvY3VtZW50YXRpb24pLGEodGhpcywiZG9jdW1lbnRhdGlvblVybCIsZS5kb2N1bWVudGF0aW9uVXJsKSksZS54bWxBdHRyaWJ1dGUmJmEodGhpcywiaXNYbWxBdHRyaWJ1dGUiLGUueG1sQXR0cmlidXRlfHwhMSksYSh0aGlzLCJkZWZhdWx0VmFsdWUiLG51bGwpLHRoaXMudG9XaXJlRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmV9LHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlfX1mdW5jdGlvbiB1KGUpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEodGhpcywiaXNDb21wb3NpdGUiLCEwKSxlLmZsYXR0ZW5lZCYmYSh0aGlzLCJmbGF0dGVuZWQiLGUuZmxhdHRlbmVkfHwhMSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPXRoaXMsaT1udWxsLGw9IXRoaXMuaXNTaGFwZTt1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxsJiYoYSh0aGlzLCJkZWZhdWx0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybnt9fSkpLGEodGhpcywibWVtYmVycyIse30pLGEodGhpcywibWVtYmVyTmFtZXMiLFtdKSxhKHRoaXMsInJlcXVpcmVkIixbXSksYSh0aGlzLCJpc1JlcXVpcmVkIiwoZnVuY3Rpb24oKXtyZXR1cm4hMX0pKSxhKHRoaXMsImlzRG9jdW1lbnQiLEJvb2xlYW4oZS5kb2N1bWVudCkpKSxlLm1lbWJlcnMmJihhKHRoaXMsIm1lbWJlcnMiLG5ldyByKGUubWVtYmVycyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBjLmNyZWF0ZShuLHQsZSl9KSkpLHModGhpcywibWVtYmVyTmFtZXMiLChmdW5jdGlvbigpe3JldHVybiBlLnhtbE9yZGVyfHxPYmplY3Qua2V5cyhlLm1lbWJlcnMpfSkpLGUuZXZlbnQmJihzKHRoaXMsImV2ZW50UGF5bG9hZE1lbWJlck5hbWUiLChmdW5jdGlvbigpe2Zvcih2YXIgZT1uLm1lbWJlcnMsdD1uLm1lbWJlck5hbWVzLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspaWYoZVt0W3JdXS5pc0V2ZW50UGF5bG9hZClyZXR1cm4gdFtyXX0pKSxzKHRoaXMsImV2ZW50SGVhZGVyTWVtYmVyTmFtZXMiLChmdW5jdGlvbigpe2Zvcih2YXIgZT1uLm1lbWJlcnMsdD1uLm1lbWJlck5hbWVzLHI9W10sbz0wLGk9dC5sZW5ndGg7bzxpO28rKyllW3Rbb11dLmlzRXZlbnRIZWFkZXImJnIucHVzaCh0W29dKTtyZXR1cm4gcn0pKSkpLGUucmVxdWlyZWQmJihhKHRoaXMsInJlcXVpcmVkIixlLnJlcXVpcmVkKSxhKHRoaXMsImlzUmVxdWlyZWQiLChmdW5jdGlvbih0KXtpZighaSl7aT17fTtmb3IodmFyIG49MDtuPGUucmVxdWlyZWQubGVuZ3RoO24rKylpW2UucmVxdWlyZWRbbl1dPSEwfXJldHVybiBpW3RdfSksITEsITApKSxhKHRoaXMsInJlc3VsdFdyYXBwZXIiLGUucmVzdWx0V3JhcHBlcnx8bnVsbCksZS5wYXlsb2FkJiZhKHRoaXMsInBheWxvYWQiLGUucGF5bG9hZCksInN0cmluZyI9PXR5cGVvZiBlLnhtbE5hbWVzcGFjZT9hKHRoaXMsInhtbE5hbWVzcGFjZVVyaSIsZS54bWxOYW1lc3BhY2UpOiJvYmplY3QiPT09byhlLnhtbE5hbWVzcGFjZSkmJihhKHRoaXMsInhtbE5hbWVzcGFjZVByZWZpeCIsZS54bWxOYW1lc3BhY2UucHJlZml4KSxhKHRoaXMsInhtbE5hbWVzcGFjZVVyaSIsZS54bWxOYW1lc3BhY2UudXJpKSl9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPXRoaXMscj0hdGhpcy5pc1NoYXBlO2lmKHUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHImJmEodGhpcywiZGVmYXVsdFZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm5bXX0pKSxlLm1lbWJlciYmcyh0aGlzLCJtZW1iZXIiLChmdW5jdGlvbigpe3JldHVybiBjLmNyZWF0ZShlLm1lbWJlcix0KX0pKSx0aGlzLmZsYXR0ZW5lZCl7dmFyIG89dGhpcy5uYW1lO3ModGhpcywibmFtZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG4ubWVtYmVyLm5hbWV8fG99KSl9fWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj0hdGhpcy5pc1NoYXBlO3UuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4mJihhKHRoaXMsImRlZmF1bHRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJue319KSksYSh0aGlzLCJrZXkiLGMuY3JlYXRlKHt0eXBlOiJzdHJpbmcifSx0KSksYSh0aGlzLCJ2YWx1ZSIsYy5jcmVhdGUoe3R5cGU6InN0cmluZyJ9LHQpKSksZS5rZXkmJnModGhpcywia2V5IiwoZnVuY3Rpb24oKXtyZXR1cm4gYy5jcmVhdGUoZS5rZXksdCl9KSksZS52YWx1ZSYmcyh0aGlzLCJ2YWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY3JlYXRlKGUudmFsdWUsdCl9KSl9ZnVuY3Rpb24gaCgpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPVsicmVzdC14bWwiLCJxdWVyeSIsImVjMiJdO3RoaXMudG9UeXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuYXBpJiZlLmluZGV4T2YodGhpcy5hcGkucHJvdG9jb2wpPi0xP3R8fCIiOnQsdGhpcy5pc0pzb25WYWx1ZT9KU09OLnBhcnNlKHQpOnQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnRvU3RyaW5nP3QudG9TdHJpbmcoKTp0fSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0pzb25WYWx1ZT9KU09OLnN0cmluZ2lmeShlKTplfX1mdW5jdGlvbiBmKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5iYXNlNjQuZGVjb2RlKGUpO2lmKHRoaXMuaXNTZW5zaXRpdmUmJmkuaXNOb2RlKCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBpLkJ1ZmZlci5hbGxvYyl7dmFyIG49aS5CdWZmZXIuYWxsb2ModC5sZW5ndGgsdCk7dC5maWxsKDApLHQ9bn1yZXR1cm4gdH0sdGhpcy50b1dpcmVGb3JtYXQ9aS5iYXNlNjQuZW5jb2RlfWZ1bmN0aW9uIGcoKXtmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBtKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZT9lOm51bGw9PWU/bnVsbDoidHJ1ZSI9PT1lfX1jLm5vcm1hbGl6ZWRUeXBlcz17Y2hhcmFjdGVyOiJzdHJpbmciLGRvdWJsZToiZmxvYXQiLGxvbmc6ImludGVnZXIiLHNob3J0OiJpbnRlZ2VyIixiaWdpbnRlZ2VyOiJpbnRlZ2VyIixiaWdkZWNpbWFsOiJmbG9hdCIsYmxvYjoiYmluYXJ5In0sYy50eXBlcz17c3RydWN0dXJlOmwsbGlzdDpwLG1hcDpkLGJvb2xlYW46bSx0aW1lc3RhbXA6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZihjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnRpbWVzdGFtcEZvcm1hdClhKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsZS50aW1lc3RhbXBGb3JtYXQpO2Vsc2UgaWYodC5pc1RpbWVzdGFtcEZvcm1hdFNldCYmdGhpcy50aW1lc3RhbXBGb3JtYXQpYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLHRoaXMudGltZXN0YW1wRm9ybWF0KTtlbHNlIGlmKCJoZWFkZXIiPT09dGhpcy5sb2NhdGlvbilhKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsInJmYzgyMiIpO2Vsc2UgaWYoInF1ZXJ5c3RyaW5nIj09PXRoaXMubG9jYXRpb24pYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJpc284NjAxIik7ZWxzZSBpZih0aGlzLmFwaSlzd2l0Y2godGhpcy5hcGkucHJvdG9jb2wpe2Nhc2UianNvbiI6Y2FzZSJyZXN0LWpzb24iOmEodGhpcywidGltZXN0YW1wRm9ybWF0IiwidW5peFRpbWVzdGFtcCIpO2JyZWFrO2Nhc2UicmVzdC14bWwiOmNhc2UicXVlcnkiOmNhc2UiZWMyIjphKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsImlzbzg2MDEiKX10aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9udWxsOiJmdW5jdGlvbiI9PXR5cGVvZiBlLnRvVVRDU3RyaW5nP2U6InN0cmluZyI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGU/aS5kYXRlLnBhcnNlVGltZXN0YW1wKGUpOm51bGx9LHRoaXMudG9XaXJlRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiBpLmRhdGUuZm9ybWF0KGUsdC50aW1lc3RhbXBGb3JtYXQpfX0sZmxvYXQ6ZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9udWxsOnBhcnNlRmxvYXQoZSl9LHRoaXMudG9XaXJlRm9ybWF0PXRoaXMudG9UeXBlfSxpbnRlZ2VyOmZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpwYXJzZUludChlLDEwKX0sdGhpcy50b1dpcmVGb3JtYXQ9dGhpcy50b1R5cGV9LHN0cmluZzpoLGJhc2U2NDpnLGJpbmFyeTpmfSxjLnJlc29sdmU9ZnVuY3Rpb24oZSx0KXtpZihlLnNoYXBlKXt2YXIgbj10LmFwaS5zaGFwZXNbZS5zaGFwZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBzaGFwZSByZWZlcmVuY2U6ICIrZS5zaGFwZSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LGMuY3JlYXRlPWZ1bmN0aW9uKGUsdCxuKXtpZihlLmlzU2hhcGUpcmV0dXJuIGU7dmFyIHI9Yy5yZXNvbHZlKGUsdCk7aWYocil7dmFyIG89T2JqZWN0LmtleXMoZSk7dC5kb2N1bWVudGF0aW9ufHwobz1vLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUubWF0Y2goL2RvY3VtZW50YXRpb24vKX0pKSk7dmFyIGk9ZnVuY3Rpb24oKXtyLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlLHQsbil9O3JldHVybiBpLnByb3RvdHlwZT1yLG5ldyBpfWUudHlwZXx8KGUubWVtYmVycz9lLnR5cGU9InN0cnVjdHVyZSI6ZS5tZW1iZXI/ZS50eXBlPSJsaXN0IjplLmtleT9lLnR5cGU9Im1hcCI6ZS50eXBlPSJzdHJpbmciKTt2YXIgYT1lLnR5cGU7aWYoYy5ub3JtYWxpemVkVHlwZXNbZS50eXBlXSYmKGUudHlwZT1jLm5vcm1hbGl6ZWRUeXBlc1tlLnR5cGVdKSxjLnR5cGVzW2UudHlwZV0pcmV0dXJuIG5ldyBjLnR5cGVzW2UudHlwZV0oZSx0LG4pO3Rocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHNoYXBlIHR5cGU6ICIrYSl9LGMuc2hhcGVzPXtTdHJ1Y3R1cmVTaGFwZTpsLExpc3RTaGFwZTpwLE1hcFNoYXBlOmQsU3RyaW5nU2hhcGU6aCxCb29sZWFuU2hhcGU6bSxCYXNlNjRTaGFwZTpnfSx0LmV4cG9ydHM9Y30seyIuLi91dGlsIjo3NCwiLi9jb2xsZWN0aW9uIjo0MX1dLDQ2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIik7ci5QYXJhbVZhbGlkYXRvcj1yLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ITAhPT1lJiZ2b2lkIDAhPT1lfHwoZT17bWluOiEwfSksdGhpcy52YWxpZGF0aW9uPWV9LHZhbGlkYXRlOmZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLmVycm9ycz1bXSx0aGlzLnZhbGlkYXRlTWVtYmVyKGUsdHx8e30sbnx8InBhcmFtcyIpLHRoaXMuZXJyb3JzLmxlbmd0aD4xKXt2YXIgbz10aGlzLmVycm9ycy5qb2luKCJcbiogIik7dGhyb3cgbz0iVGhlcmUgd2VyZSAiK3RoaXMuZXJyb3JzLmxlbmd0aCsiIHZhbGlkYXRpb24gZXJyb3JzOlxuKiAiK28sci51dGlsLmVycm9yKG5ldyBFcnJvcihvKSx7Y29kZToiTXVsdGlwbGVWYWxpZGF0aW9uRXJyb3JzIixlcnJvcnM6dGhpcy5lcnJvcnN9KX1pZigxPT09dGhpcy5lcnJvcnMubGVuZ3RoKXRocm93IHRoaXMuZXJyb3JzWzBdO3JldHVybiEwfSxmYWlsOmZ1bmN0aW9uKGUsdCl7dGhpcy5lcnJvcnMucHVzaChyLnV0aWwuZXJyb3IobmV3IEVycm9yKHQpLHtjb2RlOmV9KSl9LHZhbGlkYXRlU3RydWN0dXJlOmZ1bmN0aW9uKGUsdCxuKXtpZihlLmlzRG9jdW1lbnQpcmV0dXJuITA7dmFyIHI7dGhpcy52YWxpZGF0ZVR5cGUodCxuLFsib2JqZWN0Il0sInN0cnVjdHVyZSIpO2Zvcih2YXIgbz0wO2UucmVxdWlyZWQmJm88ZS5yZXF1aXJlZC5sZW5ndGg7bysrKXt2YXIgaT10W3I9ZS5yZXF1aXJlZFtvXV07bnVsbD09aSYmdGhpcy5mYWlsKCJNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXIiLCJNaXNzaW5nIHJlcXVpcmVkIGtleSAnIityKyInIGluICIrbil9Zm9yKHIgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSl7dmFyIGE9dFtyXSxzPWUubWVtYmVyc1tyXTtpZih2b2lkIDAhPT1zKXt2YXIgYz1bbixyXS5qb2luKCIuIik7dGhpcy52YWxpZGF0ZU1lbWJlcihzLGEsYyl9ZWxzZSBudWxsIT1hJiZ0aGlzLmZhaWwoIlVuZXhwZWN0ZWRQYXJhbWV0ZXIiLCJVbmV4cGVjdGVkIGtleSAnIityKyInIGZvdW5kIGluICIrbil9cmV0dXJuITB9LHZhbGlkYXRlTWVtYmVyOmZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2goZS50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJ1Y3R1cmUoZSx0LG4pO2Nhc2UibGlzdCI6cmV0dXJuIHRoaXMudmFsaWRhdGVMaXN0KGUsdCxuKTtjYXNlIm1hcCI6cmV0dXJuIHRoaXMudmFsaWRhdGVNYXAoZSx0LG4pO2RlZmF1bHQ6cmV0dXJuIHRoaXMudmFsaWRhdGVTY2FsYXIoZSx0LG4pfX0sdmFsaWRhdGVMaXN0OmZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLnZhbGlkYXRlVHlwZSh0LG4sW0FycmF5XSkpe3RoaXMudmFsaWRhdGVSYW5nZShlLHQubGVuZ3RoLG4sImxpc3QgbWVtYmVyIGNvdW50Iik7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspdGhpcy52YWxpZGF0ZU1lbWJlcihlLm1lbWJlcix0W3JdLG4rIlsiK3IrIl0iKX19LHZhbGlkYXRlTWFwOmZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLnZhbGlkYXRlVHlwZSh0LG4sWyJvYmplY3QiXSwibWFwIikpe3ZhciByPTA7Zm9yKHZhciBvIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJih0aGlzLnZhbGlkYXRlTWVtYmVyKGUua2V5LG8sbisiW2tleT0nIitvKyInXSIpLHRoaXMudmFsaWRhdGVNZW1iZXIoZS52YWx1ZSx0W29dLG4rIlsnIitvKyInXSIpLHIrKyk7dGhpcy52YWxpZGF0ZVJhbmdlKGUscixuLCJtYXAgbWVtYmVyIGNvdW50Iil9fSx2YWxpZGF0ZVNjYWxhcjpmdW5jdGlvbihlLHQsbil7c3dpdGNoKGUudHlwZSl7Y2FzZSBudWxsOmNhc2Ugdm9pZCAwOmNhc2Uic3RyaW5nIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZyhlLHQsbik7Y2FzZSJiYXNlNjQiOmNhc2UiYmluYXJ5IjpyZXR1cm4gdGhpcy52YWxpZGF0ZVBheWxvYWQodCxuKTtjYXNlImludGVnZXIiOmNhc2UiZmxvYXQiOnJldHVybiB0aGlzLnZhbGlkYXRlTnVtYmVyKGUsdCxuKTtjYXNlImJvb2xlYW4iOnJldHVybiB0aGlzLnZhbGlkYXRlVHlwZSh0LG4sWyJib29sZWFuIl0pO2Nhc2UidGltZXN0YW1wIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVR5cGUodCxuLFtEYXRlLC9eXGR7NH0tXGR7Mn0tXGR7Mn1UXGR7Mn06XGR7Mn06XGR7Mn0oXC5cZCspP1okLywibnVtYmVyIl0sIkRhdGUgb2JqZWN0LCBJU08tODYwMSBzdHJpbmcsIG9yIGEgVU5JWCB0aW1lc3RhbXAiKTtkZWZhdWx0OnJldHVybiB0aGlzLmZhaWwoIlVua293blR5cGUiLCJVbmhhbmRsZWQgdHlwZSAiK2UudHlwZSsiIGZvciAiK24pfX0sdmFsaWRhdGVTdHJpbmc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVsic3RyaW5nIl07ZS5pc0pzb25WYWx1ZSYmKHI9ci5jb25jYXQoWyJudW1iZXIiLCJvYmplY3QiLCJib29sZWFuIl0pKSxudWxsIT09dCYmdGhpcy52YWxpZGF0ZVR5cGUodCxuLHIpJiYodGhpcy52YWxpZGF0ZUVudW0oZSx0LG4pLHRoaXMudmFsaWRhdGVSYW5nZShlLHQubGVuZ3RoLG4sInN0cmluZyBsZW5ndGgiKSx0aGlzLnZhbGlkYXRlUGF0dGVybihlLHQsbiksdGhpcy52YWxpZGF0ZVVyaShlLHQsbikpfSx2YWxpZGF0ZVVyaTpmdW5jdGlvbihlLHQsbil7InVyaSI9PT1lLmxvY2F0aW9uJiYwPT09dC5sZW5ndGgmJnRoaXMuZmFpbCgiVXJpUGFyYW1ldGVyRXJyb3IiLCdFeHBlY3RlZCB1cmkgcGFyYW1ldGVyIHRvIGhhdmUgbGVuZ3RoID49IDEsIGJ1dCBmb3VuZCAiJyt0KyciIGZvciAnK24pfSx2YWxpZGF0ZVBhdHRlcm46ZnVuY3Rpb24oZSx0LG4pe3RoaXMudmFsaWRhdGlvbi5wYXR0ZXJuJiZ2b2lkIDAhPT1lLnBhdHRlcm4mJihuZXcgUmVnRXhwKGUucGF0dGVybikudGVzdCh0KXx8dGhpcy5mYWlsKCJQYXR0ZXJuTWF0Y2hFcnJvciIsJ1Byb3ZpZGVkIHZhbHVlICInK3QrJyIgZG9lcyBub3QgbWF0Y2ggcmVnZXggcGF0dGVybiAvJytlLnBhdHRlcm4rIi8gZm9yICIrbikpfSx2YWxpZGF0ZVJhbmdlOmZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMudmFsaWRhdGlvbi5taW4mJnZvaWQgMCE9PWUubWluJiZ0PGUubWluJiZ0aGlzLmZhaWwoIk1pblJhbmdlRXJyb3IiLCJFeHBlY3RlZCAiK3IrIiA+PSAiK2UubWluKyIsIGJ1dCBmb3VuZCAiK3QrIiBmb3IgIituKSx0aGlzLnZhbGlkYXRpb24ubWF4JiZ2b2lkIDAhPT1lLm1heCYmdD5lLm1heCYmdGhpcy5mYWlsKCJNYXhSYW5nZUVycm9yIiwiRXhwZWN0ZWQgIityKyIgPD0gIitlLm1heCsiLCBidXQgZm91bmQgIit0KyIgZm9yICIrbil9LHZhbGlkYXRlRW51bTpmdW5jdGlvbihlLHQsbil7dGhpcy52YWxpZGF0aW9uLmVudW0mJnZvaWQgMCE9PWUuZW51bSYmLTE9PT1lLmVudW0uaW5kZXhPZih0KSYmdGhpcy5mYWlsKCJFbnVtRXJyb3IiLCJGb3VuZCBzdHJpbmcgdmFsdWUgb2YgIit0KyIsIGJ1dCBleHBlY3RlZCAiK2UuZW51bS5qb2luKCJ8IikrIiBmb3IgIituKX0sdmFsaWRhdGVUeXBlOmZ1bmN0aW9uKGUsdCxuLGkpe2lmKG51bGw9PWUpcmV0dXJuITE7Zm9yKHZhciBhPSExLHM9MDtzPG4ubGVuZ3RoO3MrKyl7aWYoInN0cmluZyI9PXR5cGVvZiBuW3NdKXtpZihvKGUpPT09bltzXSlyZXR1cm4hMH1lbHNlIGlmKG5bc11pbnN0YW5jZW9mIFJlZ0V4cCl7aWYoKGV8fCIiKS50b1N0cmluZygpLm1hdGNoKG5bc10pKXJldHVybiEwfWVsc2V7aWYoZSBpbnN0YW5jZW9mIG5bc10pcmV0dXJuITA7aWYoci51dGlsLmlzVHlwZShlLG5bc10pKXJldHVybiEwO2l8fGF8fChuPW4uc2xpY2UoKSksbltzXT1yLnV0aWwudHlwZU5hbWUobltzXSl9YT0hMH12YXIgYz1pO2N8fChjPW4uam9pbigiLCAiKS5yZXBsYWNlKC8sKFteLF0rKSQvLCIsIG9yJDEiKSk7dmFyIHU9Yy5tYXRjaCgvXlthZWlvdV0vaSk/Im4iOiIiO3JldHVybiB0aGlzLmZhaWwoIkludmFsaWRQYXJhbWV0ZXJUeXBlIiwiRXhwZWN0ZWQgIit0KyIgdG8gYmUgYSIrdSsiICIrYyksITF9LHZhbGlkYXRlTnVtYmVyOmZ1bmN0aW9uKGUsdCxuKXtpZihudWxsIT10KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciByPXBhcnNlRmxvYXQodCk7ci50b1N0cmluZygpPT09dCYmKHQ9cil9dGhpcy52YWxpZGF0ZVR5cGUodCxuLFsibnVtYmVyIl0pJiZ0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0LG4sIm51bWVyaWMgdmFsdWUiKX19LHZhbGlkYXRlUGF5bG9hZDpmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUmJiJzdHJpbmciIT10eXBlb2YgZSYmKCFlfHwibnVtYmVyIiE9dHlwZW9mIGUuYnl0ZUxlbmd0aCkpe2lmKHIudXRpbC5pc05vZGUoKSl7dmFyIG49ci51dGlsLnN0cmVhbS5TdHJlYW07aWYoci51dGlsLkJ1ZmZlci5pc0J1ZmZlcihlKXx8ZSBpbnN0YW5jZW9mIG4pcmV0dXJufWVsc2UgaWYodm9pZCAwIT09KCJ1bmRlZmluZWQiPT10eXBlb2YgQmxvYj8idW5kZWZpbmVkIjpvKEJsb2IpKSYmZSBpbnN0YW5jZW9mIEJsb2IpcmV0dXJuO3ZhciBpPVsiQnVmZmVyIiwiU3RyZWFtIiwiRmlsZSIsIkJsb2IiLCJBcnJheUJ1ZmZlciIsIkRhdGFWaWV3Il07aWYoZSlmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7aWYoci51dGlsLmlzVHlwZShlLGlbYV0pKXJldHVybjtpZihyLnV0aWwudHlwZU5hbWUoZS5jb25zdHJ1Y3Rvcik9PT1pW2FdKXJldHVybn10aGlzLmZhaWwoIkludmFsaWRQYXJhbWV0ZXJUeXBlIiwiRXhwZWN0ZWQgIit0KyIgdG8gYmUgYSBzdHJpbmcsIEJ1ZmZlciwgU3RyZWFtLCBCbG9iLCBvciB0eXBlZCBhcnJheSBvYmplY3QiKX19fSl9LHsiLi9jb3JlIjoxOX1dLDQ3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vY29yZSIpO3QuZXhwb3J0cz17cG9wdWxhdGVIb3N0UHJlZml4OmZ1bmN0aW9uKGUpe2lmKCFlLnNlcnZpY2UuY29uZmlnLmhvc3RQcmVmaXhFbmFibGVkKXJldHVybiBlO3ZhciB0LG4saSxhLHMsYz1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO2lmKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGksbj10Lm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG89dC5lbmRwb2ludE9wZXJhdGlvbiYmdC5lbmRwb2ludE9wZXJhdGlvbj09PXIuc3RyaW5nLmxvd2VyRmlyc3Qobi5uYW1lKTtyZXR1cm4iTlVMTCIhPT1uLmVuZHBvaW50RGlzY292ZXJ5UmVxdWlyZWR8fCEwPT09b30oZSkpcmV0dXJuIGU7aWYoYy5lbmRwb2ludCYmYy5lbmRwb2ludC5ob3N0UHJlZml4KXt2YXIgdT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIuZWFjaChuLm1lbWJlcnMsKGZ1bmN0aW9uKG4sbyl7aWYoITA9PT1vLmhvc3RMYWJlbCl7aWYoInN0cmluZyIhPXR5cGVvZiB0W25dfHwiIj09PXRbbl0pdGhyb3cgci5lcnJvcihuZXcgRXJyb3Ise21lc3NhZ2U6IlBhcmFtZXRlciAiK24rIiBzaG91bGQgYmUgYSBub24tZW1wdHkgc3RyaW5nLiIsY29kZToiSW52YWxpZFBhcmFtZXRlciJ9KTt2YXIgaT1uZXcgUmVnRXhwKCJcXHsiK24rIlxcfSIsImciKTtlPWUucmVwbGFjZShpLHRbbl0pfX0pKSxlfShjLmVuZHBvaW50Lmhvc3RQcmVmaXgsZS5wYXJhbXMsYy5pbnB1dCk7YT1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50LHM9dSxhLmhvc3QmJihhLmhvc3Q9cythLmhvc3QpLGEuaG9zdG5hbWUmJihhLmhvc3RuYW1lPXMrYS5ob3N0bmFtZSksdD1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3RuYW1lLG49dC5zcGxpdCgiLiIpLGk9L15bYS16QS1aMC05XXsxfSR8XlthLXpBLVowLTldW2EtekEtWjAtOVwtXSpbYS16QS1aMC05XSQvLHIuYXJyYXlFYWNoKG4sKGZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aHx8ZS5sZW5ndGg8MXx8ZS5sZW5ndGg+NjMpdGhyb3cgci5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IlZhbGlkYXRpb25FcnJvciIsbWVzc2FnZToiSG9zdG5hbWUgbGFiZWwgbGVuZ3RoIHNob3VsZCBiZSBiZXR3ZWVuIDEgdG8gNjMgY2hhcmFjdGVycywgaW5jbHVzaXZlLiJ9KTtpZighaS50ZXN0KGUpKXRocm93IG8udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IlZhbGlkYXRpb25FcnJvciIsbWVzc2FnZTplKyIgaXMgbm90IGhvc3RuYW1lIGNvbXBhdGlibGUuIn0pfSkpfXJldHVybiBlfX19LHsiLi4vY29yZSI6MTksIi4uL3V0aWwiOjc0fV0sNDg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuLi9qc29uL2J1aWxkZXIiKSxpPWUoIi4uL2pzb24vcGFyc2VyIiksYT1lKCIuL2hlbHBlcnMiKS5wb3B1bGF0ZUhvc3RQcmVmaXg7dC5leHBvcnRzPXtidWlsZFJlcXVlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5odHRwUmVxdWVzdCxuPWUuc2VydmljZS5hcGkscj1uLnRhcmdldFByZWZpeCsiLiIrbi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5uYW1lLGk9bi5qc29uVmVyc2lvbnx8IjEuMCIscz1uLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0LGM9bmV3IG87MT09PWkmJihpPSIxLjAiKSxuLmF3c1F1ZXJ5Q29tcGF0aWJsZSYmKHQucGFyYW1zfHwodC5wYXJhbXM9e30pLE9iamVjdC5hc3NpZ24odC5wYXJhbXMsZS5wYXJhbXMpKSx0LmJvZHk9Yy5idWlsZChlLnBhcmFtc3x8e30scyksdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC1hbXotanNvbi0iK2ksdC5oZWFkZXJzWyJYLUFtei1UYXJnZXQiXT1yLGEoZSl9LGV4dHJhY3RFcnJvcjpmdW5jdGlvbihlKXt2YXIgdD17fSxuPWUuaHR0cFJlc3BvbnNlO2lmKHQuY29kZT1uLmhlYWRlcnNbIngtYW16bi1lcnJvcnR5cGUiXXx8IlVua25vd25FcnJvciIsInN0cmluZyI9PXR5cGVvZiB0LmNvZGUmJih0LmNvZGU9dC5jb2RlLnNwbGl0KCI6IilbMF0pLG4uYm9keS5sZW5ndGg+MCl0cnl7dmFyIG89SlNPTi5wYXJzZShuLmJvZHkudG9TdHJpbmcoKSksaT1vLl9fdHlwZXx8by5jb2RlfHxvLkNvZGU7Zm9yKHZhciBhIGluIGkmJih0LmNvZGU9aS5zcGxpdCgiIyIpLnBvcCgpKSwiUmVxdWVzdEVudGl0eVRvb0xhcmdlIj09PXQuY29kZT90Lm1lc3NhZ2U9IlJlcXVlc3QgYm9keSBtdXN0IGJlIGxlc3MgdGhhbiAxIE1CIjp0Lm1lc3NhZ2U9by5tZXNzYWdlfHxvLk1lc3NhZ2V8fG51bGwsb3x8e30pImNvZGUiIT09YSYmIm1lc3NhZ2UiIT09YSYmKHRbIlsiK2ErIl0iXT0iU2VlIGVycm9yLiIrYSsiIGZvciBkZXRhaWxzLiIsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsYSx7dmFsdWU6b1thXSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfSkpfWNhdGNoKG8pe3Quc3RhdHVzQ29kZT1uLnN0YXR1c0NvZGUsdC5tZXNzYWdlPW4uc3RhdHVzTWVzc2FnZX1lbHNlIHQuc3RhdHVzQ29kZT1uLnN0YXR1c0NvZGUsdC5tZXNzYWdlPW4uc3RhdHVzQ29kZS50b1N0cmluZygpO2UuZXJyb3I9ci5lcnJvcihuZXcgRXJyb3IsdCl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKXx8Int9IjtpZighMT09PWUucmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5jb252ZXJ0UmVzcG9uc2VUeXBlcyllLmRhdGE9SlNPTi5wYXJzZSh0KTtlbHNle3ZhciBuPWUucmVxdWVzdC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2UucmVxdWVzdC5vcGVyYXRpb25dLm91dHB1dHx8e30scj1uZXcgaTtlLmRhdGE9ci5wYXJzZSh0LG4pfX19fSx7Ii4uL2pzb24vYnVpbGRlciI6MzcsIi4uL2pzb24vcGFyc2VyIjozOCwiLi4vdXRpbCI6NzQsIi4vaGVscGVycyI6NDd9XSw0OTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uL3V0aWwiKSxpPWUoIi4uL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXIiKSxhPWUoIi4uL21vZGVsL3NoYXBlIikscz1lKCIuL2hlbHBlcnMiKS5wb3B1bGF0ZUhvc3RQcmVmaXg7dC5leHBvcnRzPXtidWlsZFJlcXVlc3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPWUuaHR0cFJlcXVlc3Q7bi5oZWFkZXJzWyJDb250ZW50LVR5cGUiXT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04IixuLnBhcmFtcz17VmVyc2lvbjplLnNlcnZpY2UuYXBpLmFwaVZlcnNpb24sQWN0aW9uOnQubmFtZX0sKG5ldyBpKS5zZXJpYWxpemUoZS5wYXJhbXMsdC5pbnB1dCwoZnVuY3Rpb24oZSx0KXtuLnBhcmFtc1tlXT10fSkpLG4uYm9keT1vLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobi5wYXJhbXMpLHMoZSl9LGV4dHJhY3RFcnJvcjpmdW5jdGlvbihlKXt2YXIgdCxuPWUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKTtpZihuLm1hdGNoKCI8VW5rbm93bk9wZXJhdGlvbkV4Y2VwdGlvbiIpKXQ9e0NvZGU6IlVua25vd25PcGVyYXRpb24iLE1lc3NhZ2U6IlVua25vd24gb3BlcmF0aW9uICIrZS5yZXF1ZXN0Lm9wZXJhdGlvbn07ZWxzZSB0cnl7dD0obmV3IHIuWE1MLlBhcnNlcikucGFyc2Uobil9Y2F0Y2gobil7dD17Q29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLE1lc3NhZ2U6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX19dC5yZXF1ZXN0SWQmJiFlLnJlcXVlc3RJZCYmKGUucmVxdWVzdElkPXQucmVxdWVzdElkKSx0LkVycm9ycyYmKHQ9dC5FcnJvcnMpLHQuRXJyb3ImJih0PXQuRXJyb3IpLHQuQ29kZT9lLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOnQuQ29kZSxtZXNzYWdlOnQuTWVzc2FnZX0pOmUuZXJyb3I9by5lcnJvcihuZXcgRXJyb3Ise2NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxtZXNzYWdlOm51bGx9KX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXS5vdXRwdXR8fHt9LGk9bjtpZihpLnJlc3VsdFdyYXBwZXIpe3ZhciBzPWEuY3JlYXRlKHt0eXBlOiJzdHJ1Y3R1cmUifSk7cy5tZW1iZXJzW2kucmVzdWx0V3JhcHBlcl09bixzLm1lbWJlck5hbWVzPVtpLnJlc3VsdFdyYXBwZXJdLG8ucHJvcGVydHkobiwibmFtZSIsbi5yZXN1bHRXcmFwcGVyKSxuPXN9dmFyIGM9bmV3IHIuWE1MLlBhcnNlcjtpZihuJiZuLm1lbWJlcnMmJiFuLm1lbWJlcnMuX1hBTVpSZXF1ZXN0SWQpe3ZhciB1PWEuY3JlYXRlKHt0eXBlOiJzdHJpbmcifSx7YXBpOntwcm90b2NvbDoicXVlcnkifX0sInJlcXVlc3RJZCIpO24ubWVtYmVycy5fWEFNWlJlcXVlc3RJZD11fXZhciBsPWMucGFyc2UoZS5odHRwUmVzcG9uc2UuYm9keS50b1N0cmluZygpLG4pO2UucmVxdWVzdElkPWwuX1hBTVpSZXF1ZXN0SWR8fGwucmVxdWVzdElkLGwuX1hBTVpSZXF1ZXN0SWQmJmRlbGV0ZSBsLl9YQU1aUmVxdWVzdElkLGkucmVzdWx0V3JhcHBlciYmbFtpLnJlc3VsdFdyYXBwZXJdJiYoby51cGRhdGUobCxsW2kucmVzdWx0V3JhcHBlcl0pLGRlbGV0ZSBsW2kucmVzdWx0V3JhcHBlcl0pLGUuZGF0YT1sfX19LHsiLi4vY29yZSI6MTksIi4uL21vZGVsL3NoYXBlIjo0NSwiLi4vcXVlcnkvcXVlcnlfcGFyYW1fc2VyaWFsaXplciI6NTMsIi4uL3V0aWwiOjc0LCIuL2hlbHBlcnMiOjQ3fV0sNTA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuL2hlbHBlcnMiKS5wb3B1bGF0ZUhvc3RQcmVmaXg7ZnVuY3Rpb24gaShlLHQsbixvKXt2YXIgaT1bZSx0XS5qb2luKCIvIik7aT1pLnJlcGxhY2UoL1wvKy9nLCIvIik7dmFyIGE9e30scz0hMTtpZihyLmVhY2gobi5tZW1iZXJzLChmdW5jdGlvbihlLHQpe3ZhciBuPW9bZV07aWYobnVsbCE9bilpZigidXJpIj09PXQubG9jYXRpb24pe3ZhciBjPW5ldyBSZWdFeHAoIlxceyIrdC5uYW1lKyIoXFwrKT9cXH0iKTtpPWkucmVwbGFjZShjLChmdW5jdGlvbihlLHQpe3JldHVybih0P3IudXJpRXNjYXBlUGF0aDpyLnVyaUVzY2FwZSkoU3RyaW5nKG4pKX0pKX1lbHNlInF1ZXJ5c3RyaW5nIj09PXQubG9jYXRpb24mJihzPSEwLCJsaXN0Ij09PXQudHlwZT9hW3QubmFtZV09bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLnVyaUVzY2FwZSh0Lm1lbWJlci50b1dpcmVGb3JtYXQoZSkudG9TdHJpbmcoKSl9KSk6Im1hcCI9PT10LnR5cGU/ci5lYWNoKG4sKGZ1bmN0aW9uKGUsdCl7QXJyYXkuaXNBcnJheSh0KT9hW2VdPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci51cmlFc2NhcGUoU3RyaW5nKGUpKX0pKTphW2VdPXIudXJpRXNjYXBlKFN0cmluZyh0KSl9KSk6YVt0Lm5hbWVdPXIudXJpRXNjYXBlKHQudG9XaXJlRm9ybWF0KG4pLnRvU3RyaW5nKCkpKX0pKSxzKXtpKz1pLmluZGV4T2YoIj8iKT49MD8iJiI6Ij8iO3ZhciBjPVtdO3IuYXJyYXlFYWNoKE9iamVjdC5rZXlzKGEpLnNvcnQoKSwoZnVuY3Rpb24oZSl7QXJyYXkuaXNBcnJheShhW2VdKXx8KGFbZV09W2FbZV1dKTtmb3IodmFyIHQ9MDt0PGFbZV0ubGVuZ3RoO3QrKyljLnB1c2goci51cmlFc2NhcGUoU3RyaW5nKGUpKSsiPSIrYVtlXVt0XSl9KSksaSs9Yy5qb2luKCImIil9cmV0dXJuIGl9dC5leHBvcnRzPXtidWlsZFJlcXVlc3Q6ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QubWV0aG9kPWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaHR0cE1ldGhvZH0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPXQuaW5wdXQscj1pKGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQucGF0aCx0Lmh0dHBQYXRoLG4sZS5wYXJhbXMpO2UuaHR0cFJlcXVlc3QucGF0aD1yfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO3IuZWFjaCh0LmlucHV0Lm1lbWJlcnMsKGZ1bmN0aW9uKHQsbil7dmFyIG89ZS5wYXJhbXNbdF07bnVsbCE9byYmKCJoZWFkZXJzIj09PW4ubG9jYXRpb24mJiJtYXAiPT09bi50eXBlP3IuZWFjaChvLChmdW5jdGlvbih0LHIpe2UuaHR0cFJlcXVlc3QuaGVhZGVyc1tuLm5hbWUrdF09cn0pKToiaGVhZGVyIj09PW4ubG9jYXRpb24mJihvPW4udG9XaXJlRm9ybWF0KG8pLnRvU3RyaW5nKCksbi5pc0pzb25WYWx1ZSYmKG89ci5iYXNlNjQuZW5jb2RlKG8pKSxlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbbi5uYW1lXT1vKSl9KSl9KGUpLG8oZSl9LGV4dHJhY3RFcnJvcjpmdW5jdGlvbigpe30sZXh0cmFjdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e30sbz1lLmh0dHBSZXNwb25zZSxpPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0LGE9e307ci5lYWNoKG8uaGVhZGVycywoZnVuY3Rpb24oZSx0KXthW2UudG9Mb3dlckNhc2UoKV09dH0pKSxyLmVhY2goaS5tZW1iZXJzLChmdW5jdGlvbihlLHQpe3ZhciBpPSh0Lm5hbWV8fGUpLnRvTG93ZXJDYXNlKCk7aWYoImhlYWRlcnMiPT09dC5sb2NhdGlvbiYmIm1hcCI9PT10LnR5cGUpe25bZV09e307dmFyIHM9dC5pc0xvY2F0aW9uTmFtZT90Lm5hbWU6IiIsYz1uZXcgUmVnRXhwKCJeIitzKyIoLispIiwiaSIpO3IuZWFjaChvLmhlYWRlcnMsKGZ1bmN0aW9uKHQscil7dmFyIG89dC5tYXRjaChjKTtudWxsIT09byYmKG5bZV1bb1sxXV09cil9KSl9ZWxzZSBpZigiaGVhZGVyIj09PXQubG9jYXRpb24pe2lmKHZvaWQgMCE9PWFbaV0pe3ZhciB1PXQuaXNKc29uVmFsdWU/ci5iYXNlNjQuZGVjb2RlKGFbaV0pOmFbaV07bltlXT10LnRvVHlwZSh1KX19ZWxzZSJzdGF0dXNDb2RlIj09PXQubG9jYXRpb24mJihuW2VdPXBhcnNlSW50KG8uc3RhdHVzQ29kZSwxMCkpfSkpLGUuZGF0YT1ufSxnZW5lcmF0ZVVSSTppfX0seyIuLi91dGlsIjo3NCwiLi9oZWxwZXJzIjo0N31dLDUxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi9yZXN0IiksaT1lKCIuL2pzb24iKSxhPWUoIi4uL2pzb24vYnVpbGRlciIpLHM9ZSgiLi4vanNvbi9wYXJzZXIiKSxjPVsiR0VUIiwiSEVBRCIsIkRFTEVURSJdO2Z1bmN0aW9uIHUoZSx0KXtpZighZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSl7dmFyIG49dD8iYmluYXJ5L29jdGV0LXN0cmVhbSI6ImFwcGxpY2F0aW9uL2pzb24iO2UuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl09bn19dC5leHBvcnRzPXtidWlsZFJlcXVlc3Q6ZnVuY3Rpb24oZSl7by5idWlsZFJlcXVlc3QoZSksYy5pbmRleE9mKGUuaHR0cFJlcXVlc3QubWV0aG9kKTwwJiZmdW5jdGlvbihlKXt2YXIgdD1uZXcgYSxuPWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQ7aWYobi5wYXlsb2FkKXt2YXIgcixvPW4ubWVtYmVyc1tuLnBheWxvYWRdO3I9ZS5wYXJhbXNbbi5wYXlsb2FkXSwic3RydWN0dXJlIj09PW8udHlwZT8oZS5odHRwUmVxdWVzdC5ib2R5PXQuYnVpbGQocnx8e30sbyksdShlKSk6dm9pZCAwIT09ciYmKGUuaHR0cFJlcXVlc3QuYm9keT1yLCgiYmluYXJ5Ij09PW8udHlwZXx8by5pc1N0cmVhbWluZykmJnUoZSwhMCkpfWVsc2UgZS5odHRwUmVxdWVzdC5ib2R5PXQuYnVpbGQoZS5wYXJhbXMsbiksdShlKX0oZSl9LGV4dHJhY3RFcnJvcjpmdW5jdGlvbihlKXtpLmV4dHJhY3RFcnJvcihlKX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oZSl7by5leHRyYWN0RGF0YShlKTt2YXIgdD1lLnJlcXVlc3Qsbj10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLGE9dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXS5vdXRwdXR8fHt9O2lmKG4uaGFzRXZlbnRPdXRwdXQsYS5wYXlsb2FkKXt2YXIgYz1hLm1lbWJlcnNbYS5wYXlsb2FkXSx1PWUuaHR0cFJlc3BvbnNlLmJvZHk7aWYoYy5pc0V2ZW50U3RyZWFtKWw9bmV3IHMsZS5kYXRhW3BheWxvYWRdPXIuY3JlYXRlRXZlbnRTdHJlYW0oMj09PUFXUy5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uP2UuaHR0cFJlc3BvbnNlLnN0cmVhbTp1LGwsYyk7ZWxzZSBpZigic3RydWN0dXJlIj09PWMudHlwZXx8Imxpc3QiPT09Yy50eXBlKXt2YXIgbD1uZXcgcztlLmRhdGFbYS5wYXlsb2FkXT1sLnBhcnNlKHUsYyl9ZWxzZSJiaW5hcnkiPT09Yy50eXBlfHxjLmlzU3RyZWFtaW5nP2UuZGF0YVthLnBheWxvYWRdPXU6ZS5kYXRhW2EucGF5bG9hZF09Yy50b1R5cGUodSl9ZWxzZXt2YXIgcD1lLmRhdGE7aS5leHRyYWN0RGF0YShlKSxlLmRhdGE9ci5tZXJnZShwLGUuZGF0YSl9fSx1bnNldENvbnRlbnRMZW5ndGg6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ci5nZXRSZXF1ZXN0UGF5bG9hZFNoYXBlKGUpJiZjLmluZGV4T2YoZS5odHRwUmVxdWVzdC5tZXRob2QpPj0wJiZkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdfX19LHsiLi4vanNvbi9idWlsZGVyIjozNywiLi4vanNvbi9wYXJzZXIiOjM4LCIuLi91dGlsIjo3NCwiLi9qc29uIjo0OCwiLi9yZXN0Ijo1MH1dLDUyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vdXRpbCIpLGk9ZSgiLi9yZXN0Iik7dC5leHBvcnRzPXtidWlsZFJlcXVlc3Q6ZnVuY3Rpb24oZSl7aS5idWlsZFJlcXVlc3QoZSksWyJHRVQiLCJIRUFEIl0uaW5kZXhPZihlLmh0dHBSZXF1ZXN0Lm1ldGhvZCk8MCYmZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxuPW5ldyByLlhNTC5CdWlsZGVyLGk9ZS5wYXJhbXMsYT10LnBheWxvYWQ7aWYoYSl7dmFyIHM9dC5tZW1iZXJzW2FdO2lmKHZvaWQgMD09PShpPWlbYV0pKXJldHVybjtpZigic3RydWN0dXJlIj09PXMudHlwZSl7dmFyIGM9cy5uYW1lO2UuaHR0cFJlcXVlc3QuYm9keT1uLnRvWE1MKGkscyxjLCEwKX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT1pfWVsc2UgZS5odHRwUmVxdWVzdC5ib2R5PW4udG9YTUwoaSx0LHQubmFtZXx8dC5zaGFwZXx8by5zdHJpbmcudXBwZXJGaXJzdChlLm9wZXJhdGlvbikrIlJlcXVlc3QiKX0oZSl9LGV4dHJhY3RFcnJvcjpmdW5jdGlvbihlKXt2YXIgdDtpLmV4dHJhY3RFcnJvcihlKTt0cnl7dD0obmV3IHIuWE1MLlBhcnNlcikucGFyc2UoZS5odHRwUmVzcG9uc2UuYm9keS50b1N0cmluZygpKX1jYXRjaChuKXt0PXtDb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsTWVzc2FnZTplLmh0dHBSZXNwb25zZS5zdGF0dXNNZXNzYWdlfX10LkVycm9ycyYmKHQ9dC5FcnJvcnMpLHQuRXJyb3ImJih0PXQuRXJyb3IpLHQuQ29kZT9lLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOnQuQ29kZSxtZXNzYWdlOnQuTWVzc2FnZX0pOmUuZXJyb3I9by5lcnJvcihuZXcgRXJyb3Ise2NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxtZXNzYWdlOm51bGx9KX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ7aS5leHRyYWN0RGF0YShlKTt2YXIgbj1lLnJlcXVlc3QsYT1lLmh0dHBSZXNwb25zZS5ib2R5LHM9bi5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW24ub3BlcmF0aW9uXSxjPXMub3V0cHV0LHU9KHMuaGFzRXZlbnRPdXRwdXQsYy5wYXlsb2FkKTtpZih1KXt2YXIgbD1jLm1lbWJlcnNbdV07bC5pc0V2ZW50U3RyZWFtPyh0PW5ldyByLlhNTC5QYXJzZXIsZS5kYXRhW3VdPW8uY3JlYXRlRXZlbnRTdHJlYW0oMj09PXIuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9lLmh0dHBSZXNwb25zZS5zdHJlYW06ZS5odHRwUmVzcG9uc2UuYm9keSx0LGwpKToic3RydWN0dXJlIj09PWwudHlwZT8odD1uZXcgci5YTUwuUGFyc2VyLGUuZGF0YVt1XT10LnBhcnNlKGEudG9TdHJpbmcoKSxsKSk6ImJpbmFyeSI9PT1sLnR5cGV8fGwuaXNTdHJlYW1pbmc/ZS5kYXRhW3VdPWE6ZS5kYXRhW3VdPWwudG9UeXBlKGEpfWVsc2UgaWYoYS5sZW5ndGg+MCl7dmFyIHA9KHQ9bmV3IHIuWE1MLlBhcnNlcikucGFyc2UoYS50b1N0cmluZygpLGMpO28udXBkYXRlKGUuZGF0YSxwKX19fX0seyIuLi9jb3JlIjoxOSwiLi4vdXRpbCI6NzQsIi4vcmVzdCI6NTB9XSw1MzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKTtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUuaXNRdWVyeU5hbWV8fCJlYzIiIT09ZS5hcGkucHJvdG9jb2w/ZS5uYW1lOmUubmFtZVswXS50b1VwcGVyQ2FzZSgpK2UubmFtZS5zdWJzdHIoMSl9ZnVuY3Rpb24gYShlLHQsbixvKXtyLmVhY2gobi5tZW1iZXJzLChmdW5jdGlvbihuLHIpe3ZhciBhPXRbbl07aWYobnVsbCE9YSl7dmFyIGM9aShyKTtzKGM9ZT9lKyIuIitjOmMsYSxyLG8pfX0pKX1mdW5jdGlvbiBzKGUsdCxuLG8pe251bGwhPXQmJigic3RydWN0dXJlIj09PW4udHlwZT9hKGUsdCxuLG8pOiJsaXN0Ij09PW4udHlwZT9mdW5jdGlvbihlLHQsbixvKXt2YXIgYT1uLm1lbWJlcnx8e307MCE9PXQubGVuZ3RoP3IuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIGM9Ii4iKyhyKzEpO2lmKCJlYzIiPT09bi5hcGkucHJvdG9jb2wpYys9IiI7ZWxzZSBpZihuLmZsYXR0ZW5lZCl7aWYoYS5uYW1lKXt2YXIgdT1lLnNwbGl0KCIuIik7dS5wb3AoKSx1LnB1c2goaShhKSksZT11LmpvaW4oIi4iKX19ZWxzZSBjPSIuIisoYS5uYW1lP2EubmFtZToibWVtYmVyIikrYztzKGUrYyx0LGEsbyl9KSk6by5jYWxsKHRoaXMsZSxudWxsKX0oZSx0LG4sbyk6Im1hcCI9PT1uLnR5cGU/ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGk9MTtyLmVhY2godCwoZnVuY3Rpb24odCxyKXt2YXIgYT0obi5mbGF0dGVuZWQ/Ii4iOiIuZW50cnkuIikraSsrKyIuIixjPWErKG4ua2V5Lm5hbWV8fCJrZXkiKSx1PWErKG4udmFsdWUubmFtZXx8InZhbHVlIik7cyhlK2MsdCxuLmtleSxvKSxzKGUrdSxyLG4udmFsdWUsbyl9KSl9KGUsdCxuLG8pOm8oZSxuLnRvV2lyZUZvcm1hdCh0KS50b1N0cmluZygpKSl9by5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKGUsdCxuKXthKCIiLGUsdCxuKX0sdC5leHBvcnRzPW99LHsiLi4vdXRpbCI6NzR9XSw1NDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17bm93OmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBwZXJmb3JtYW5jZSYmImZ1bmN0aW9uIj09dHlwZW9mIHBlcmZvcm1hbmNlLm5vdz9wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpfX19LHt9XSw1NTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17aXNGaXBzUmVnaW9uOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGUuc3RhcnRzV2l0aCgiZmlwcy0iKXx8ZS5lbmRzV2l0aCgiLWZpcHMiKSl9LGlzR2xvYmFsUmVnaW9uOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmWyJhd3MtZ2xvYmFsIiwiYXdzLXVzLWdvdi1nbG9iYWwiXS5pbmNsdWRlcyhlKX0sZ2V0UmVhbFJlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm5bImZpcHMtYXdzLWdsb2JhbCIsImF3cy1maXBzIiwiYXdzLWdsb2JhbCJdLmluY2x1ZGVzKGUpPyJ1cy1lYXN0LTEiOlsiZmlwcy1hd3MtdXMtZ292LWdsb2JhbCIsImF3cy11cy1nb3YtZ2xvYmFsIl0uaW5jbHVkZXMoZSk/InVzLWdvdi13ZXN0LTEiOmUucmVwbGFjZSgvZmlwcy0oZGtyLXxwcm9kLSk/fC1maXBzLywiIil9fX0se31dLDU2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi91dGlsIiksbz1lKCIuL3JlZ2lvbl9jb25maWdfZGF0YS5qc29uIik7ZnVuY3Rpb24gaShlLHQpe3IuZWFjaCh0LChmdW5jdGlvbih0LG4peyJnbG9iYWxFbmRwb2ludCIhPT10JiYodm9pZCAwIT09ZS5jb25maWdbdF0mJm51bGwhPT1lLmNvbmZpZ1t0XXx8KGUuY29uZmlnW3RdPW4pKX0pKX10LmV4cG9ydHM9e2NvbmZpZ3VyZUVuZHBvaW50OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbmZpZy5yZWdpb24sbj1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLnNwbGl0KCItIik7cmV0dXJuIHQubGVuZ3RoPDM/bnVsbDp0LnNsaWNlKDAsdC5sZW5ndGgtMikuam9pbigiLSIpKyItKiJ9KHQpLHI9ZS5hcGkuZW5kcG9pbnRQcmVmaXg7cmV0dXJuW1t0LHJdLFtuLHJdLFt0LCIqIl0sW24sIioiXSxbIioiLHJdLFt0LCJpbnRlcm5hbC0qIl0sWyIqIiwiKiJdXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdJiZlWzFdP2Uuam9pbigiLyIpOm51bGx9KSl9KGUpLG49ZS5jb25maWcudXNlRmlwc0VuZHBvaW50LHI9ZS5jb25maWcudXNlRHVhbHN0YWNrRW5kcG9pbnQsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdO2lmKHMpe3ZhciBjPW4/cj9vLmR1YWxzdGFja0ZpcHNSdWxlczpvLmZpcHNSdWxlczpyP28uZHVhbHN0YWNrUnVsZXM6by5ydWxlcztpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYyxzKSl7dmFyIHU9Y1tzXTsic3RyaW5nIj09dHlwZW9mIHUmJih1PW8ucGF0dGVybnNbdV0pLGUuaXNHbG9iYWxFbmRwb2ludD0hIXUuZ2xvYmFsRW5kcG9pbnQsdS5zaWduaW5nUmVnaW9uJiYoZS5zaWduaW5nUmVnaW9uPXUuc2lnbmluZ1JlZ2lvbiksdS5zaWduYXR1cmVWZXJzaW9ufHwodS5zaWduYXR1cmVWZXJzaW9uPSJ2NCIpO3ZhciBsPSJiZWFyZXIiPT09KGUuYXBpJiZlLmFwaS5zaWduYXR1cmVWZXJzaW9uKTtyZXR1cm4gdm9pZCBpKGUsT2JqZWN0LmFzc2lnbih7fSx1LHtzaWduYXR1cmVWZXJzaW9uOmw/ImJlYXJlciI6dS5zaWduYXR1cmVWZXJzaW9ufSkpfX19fSxnZXRFbmRwb2ludFN1ZmZpeDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9eyJeKHVzfGV1fGFwfHNhfGNhfG1lKVxcLVxcdytcXC1cXGQrJCI6ImFtYXpvbmF3cy5jb20iLCJeY25cXC1cXHcrXFwtXFxkKyQiOiJhbWF6b25hd3MuY29tLmNuIiwiXnVzXFwtZ292XFwtXFx3K1xcLVxcZCskIjoiYW1hem9uYXdzLmNvbSIsIl51c1xcLWlzb1xcLVxcdytcXC1cXGQrJCI6ImMycy5pYy5nb3YiLCJedXNcXC1pc29iXFwtXFx3K1xcLVxcZCskIjoic2Mycy5zZ292LmdvdiJ9LG49T2JqZWN0LmtleXModCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1SZWdFeHAobltyXSksaT10W25bcl1dO2lmKG8udGVzdChlKSlyZXR1cm4gaX1yZXR1cm4iYW1hem9uYXdzLmNvbSJ9fX0seyIuL3JlZ2lvbl9jb25maWdfZGF0YS5qc29uIjo1NywiLi91dGlsIjo3NH1dLDU3OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtydWxlczp7IiovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSwiZXUtaXNvZS0qLyoiOiJldUlzb2UiLCJ1cy1pc28tKi8qIjoidXNJc28iLCJ1cy1pc29iLSovKiI6InVzSXNvYiIsIiovYnVkZ2V0cyI6Imdsb2JhbFNTTCIsIiovY2xvdWRmcm9udCI6Imdsb2JhbFNTTCIsIiovc3RzIjoiZ2xvYmFsU1NMIiwiKi9pbXBvcnRleHBvcnQiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InYyIixnbG9iYWxFbmRwb2ludDohMH0sIiovcm91dGU1MyI6Imdsb2JhbFNTTCIsImNuLSovcm91dGU1MyI6e2VuZHBvaW50OiJ7c2VydmljZX0uYW1hem9uYXdzLmNvbS5jbiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoiY24tbm9ydGh3ZXN0LTEifSwidXMtZ292LSovcm91dGU1MyI6Imdsb2JhbEdvdkNsb3VkIiwidXMtaXNvLSovcm91dGU1MyI6e2VuZHBvaW50OiJ7c2VydmljZX0uYzJzLmljLmdvdiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtaXNvLWVhc3QtMSJ9LCJ1cy1pc29iLSovcm91dGU1MyI6e2VuZHBvaW50OiJ7c2VydmljZX0uc2Mycy5zZ292LmdvdiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtaXNvYi1lYXN0LTEifSwiKi93YWYiOiJnbG9iYWxTU0wiLCIqL2lhbSI6Imdsb2JhbFNTTCIsImNuLSovaWFtIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5jbi1ub3J0aC0xLmFtYXpvbmF3cy5jb20uY24iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246ImNuLW5vcnRoLTEifSwidXMtaXNvLSovaWFtIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS51cy1pc28tZWFzdC0xLmMycy5pYy5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzby1lYXN0LTEifSwidXMtZ292LSovaWFtIjoiZ2xvYmFsR292Q2xvdWQiLCIqL2NlIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbSIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtZWFzdC0xIn0sImNuLSovY2UiOntlbmRwb2ludDoie3NlcnZpY2V9LmNuLW5vcnRod2VzdC0xLmFtYXpvbmF3cy5jb20uY24iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246ImNuLW5vcnRod2VzdC0xIn0sInVzLWdvdi0qL3N0cyI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJ1cy1nb3Ytd2VzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy13ZXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsInVzLXdlc3QtMi9zMyI6InMzc2lnbmF0dXJlIiwiZXUtd2VzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJhcC1zb3V0aGVhc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwiYXAtc291dGhlYXN0LTIvczMiOiJzM3NpZ25hdHVyZSIsImFwLW5vcnRoZWFzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJzYS1lYXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsInVzLWVhc3QtMS9zMyI6e2VuZHBvaW50OiJ7c2VydmljZX0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoiczMifSwidXMtZWFzdC0xL3NkYiI6e2VuZHBvaW50OiJ7c2VydmljZX0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoidjIifSwiKi9zZGIiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InYyIn0sIiovcmVzb3VyY2UtZXhwbG9yZXItMiI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiova2VuZHJhLXJhbmtpbmciOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2ludGVybmV0bW9uaXRvciI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovY29kZWNhdGFseXN0IjoiZ2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0In0sZmlwc1J1bGVzOnsiKi8qIjoiZmlwc1N0YW5kYXJkIiwidXMtZ292LSovKiI6ImZpcHNTdGFuZGFyZCIsInVzLWlzby0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYzJzLmljLmdvdiJ9LCJ1cy1pc28tKi9kbXMiOiJ1c0lzbyIsInVzLWlzb2ItKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LnNjMnMuc2dvdi5nb3YifSwidXMtaXNvYi0qL2RtcyI6InVzSXNvYiIsImNuLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sIiovYXBpLmVjciI6ImZpcHMuYXBpLmVjciIsIiovYXBpLnNhZ2VtYWtlciI6ImZpcHMuYXBpLnNhZ2VtYWtlciIsIiovYmF0Y2giOiJmaXBzRG90UHJlZml4IiwiKi9la3MiOiJmaXBzRG90UHJlZml4IiwiKi9tb2RlbHMubGV4IjoiZmlwcy5tb2RlbHMubGV4IiwiKi9ydW50aW1lLmxleCI6ImZpcHMucnVudGltZS5sZXgiLCIqL3J1bnRpbWUuc2FnZW1ha2VyIjp7ZW5kcG9pbnQ6InJ1bnRpbWUtZmlwcy5zYWdlbWFrZXIue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCIqL2lhbSI6ImZpcHNXaXRob3V0UmVnaW9uIiwiKi9yb3V0ZTUzIjoiZmlwc1dpdGhvdXRSZWdpb24iLCIqL3RyYW5zY3JpYmUiOiJmaXBzRG90UHJlZml4IiwiKi93YWYiOiJmaXBzV2l0aG91dFJlZ2lvbiIsInVzLWdvdi0qL3RyYW5zY3JpYmUiOiJmaXBzRG90UHJlZml4IiwidXMtZ292LSovYXBpLmVjciI6ImZpcHMuYXBpLmVjciIsInVzLWdvdi0qL21vZGVscy5sZXgiOiJmaXBzLm1vZGVscy5sZXgiLCJ1cy1nb3YtKi9ydW50aW1lLmxleCI6ImZpcHMucnVudGltZS5sZXgiLCJ1cy1nb3YtKi9hY2Nlc3MtYW5hbHl6ZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYWNtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FjbS1wY2EiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXBpLnNhZ2VtYWtlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hcHBjb25maWciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXBwbGljYXRpb24tYXV0b3NjYWxpbmciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXV0b3NjYWxpbmciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXV0b3NjYWxpbmctcGxhbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYmF0Y2giOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY2Fzc2FuZHJhIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3VkZGlyZWN0b3J5IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3VkZm9ybWF0aW9uIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3Vkc2hlbGwiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY2xvdWR0cmFpbCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jb25maWciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY29ubmVjdCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9kYXRhYnJldyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9kbG0iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZG1zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2R5bmFtb2RiIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VjMiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9la3MiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY2FjaGUiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY2JlYW5zdGFsayI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lbGFzdGljbG9hZGJhbGFuY2luZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lbGFzdGljbWFwcmVkdWNlIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2V2ZW50cyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9maXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZ2xhY2llciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ncmVlbmdyYXNzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2d1YXJkZHV0eSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9pZGVudGl0eXN0b3JlIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2ltYWdlYnVpbGRlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9rYWZrYSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9raW5lc2lzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2xvZ3MiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovbWVkaWFjb252ZXJ0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL21vbml0b3JpbmciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovbmV0d29ya21hbmFnZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovb3JnYW5pemF0aW9ucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9vdXRwb3N0cyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9wYXJ0aWNpcGFudC5jb25uZWN0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3JhbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9yZHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcmVkc2hpZnQiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcmVzb3VyY2UtZ3JvdXBzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3J1bnRpbWUuc2FnZW1ha2VyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NlcnZlcmxlc3NyZXBvIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NlcnZpY2VjYXRhbG9nLWFwcHJlZ2lzdHJ5IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NlcnZpY2VxdW90YXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc25zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NxcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zc20iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3RyZWFtcy5keW5hbW9kYiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zdHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3VwcG9ydCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zd2YiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LXdlc3QtMS9zdGF0ZXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtaXNvLWVhc3QtMS9lbGFzdGljZmlsZXN5c3RlbSI6e2VuZHBvaW50OiJlbGFzdGljZmlsZXN5c3RlbS1maXBzLntyZWdpb259LmMycy5pYy5nb3YifSwidXMtZ292LXdlc3QtMS9vcmdhbml6YXRpb25zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi13ZXN0LTEvcm91dGU1MyI6e2VuZHBvaW50OiJyb3V0ZTUzLnVzLWdvdi5hbWF6b25hd3MuY29tIn0sIiovcmVzb3VyY2UtZXhwbG9yZXItMiI6ImZpcHNEdWFsc3RhY2tCeURlZmF1bHQiLCIqL2tlbmRyYS1yYW5raW5nIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9pbnRlcm5ldG1vbml0b3IiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2NvZGVjYXRhbHlzdCI6ImZpcHNHbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQifSxkdWFsc3RhY2tSdWxlczp7IiovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYXBpLmF3cyJ9LCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFwaS5hbWF6b253ZWJzZXJ2aWNlcy5jb20uY24ifSwiKi9zMyI6ImR1YWxzdGFja0xlZ2FjeSIsImNuLSovczMiOiJkdWFsc3RhY2tMZWdhY3lDbiIsIiovczMtY29udHJvbCI6ImR1YWxzdGFja0xlZ2FjeSIsImNuLSovczMtY29udHJvbCI6ImR1YWxzdGFja0xlZ2FjeUNuIiwiYXAtc291dGgtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJldS13ZXN0LTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwic2EtZWFzdC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInVzLWVhc3QtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJ1cy1lYXN0LTIvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwidXMtd2VzdC0yL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiJ9LGR1YWxzdGFja0ZpcHNSdWxlczp7IiovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hcGkuYXdzIn0sImNuLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hcGkuYW1hem9ud2Vic2VydmljZXMuY29tLmNuIn0sIiovczMiOiJkdWFsc3RhY2tGaXBzTGVnYWN5IiwiY24tKi9zMyI6ImR1YWxzdGFja0ZpcHNMZWdhY3lDbiIsIiovczMtY29udHJvbCI6ImR1YWxzdGFja0ZpcHNMZWdhY3kiLCJjbi0qL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tGaXBzTGVnYWN5Q24ifSxwYXR0ZXJuczp7Z2xvYmFsU1NMOntlbmRwb2ludDoiaHR0cHM6Ly97c2VydmljZX0uYW1hem9uYXdzLmNvbSIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtZWFzdC0xIn0sZ2xvYmFsR292Q2xvdWQ6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtZ292LmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWdvdi13ZXN0LTEifSxzM3NpZ25hdHVyZTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJzMyJ9LGV1SXNvZTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5jbG91ZC5hZGMtZS51ayJ9LHVzSXNvOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmMycy5pYy5nb3YifSx1c0lzb2I6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uc2Mycy5zZ292LmdvdiJ9LGZpcHNTdGFuZGFyZDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxmaXBzRG90UHJlZml4OntlbmRwb2ludDoiZmlwcy57c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGZpcHNXaXRob3V0UmVnaW9uOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuYW1hem9uYXdzLmNvbSJ9LCJmaXBzLmFwaS5lY3IiOntlbmRwb2ludDoiZWNyLWZpcHMue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJmaXBzLmFwaS5zYWdlbWFrZXIiOntlbmRwb2ludDoiYXBpLWZpcHMuc2FnZW1ha2VyLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiZmlwcy5tb2RlbHMubGV4Ijp7ZW5kcG9pbnQ6Im1vZGVscy1maXBzLmxleC57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImZpcHMucnVudGltZS5sZXgiOntlbmRwb2ludDoicnVudGltZS1maXBzLmxleC57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZmlwc1dpdGhTZXJ2aWNlT25seTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZHVhbHN0YWNrTGVnYWN5OntlbmRwb2ludDoie3NlcnZpY2V9LmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZHVhbHN0YWNrTGVnYWN5Q246e2VuZHBvaW50OiJ7c2VydmljZX0uZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSxkdWFsc3RhY2tGaXBzTGVnYWN5OntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxkdWFsc3RhY2tGaXBzTGVnYWN5Q246e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LGR1YWxzdGFja0xlZ2FjeUVjMjp7ZW5kcG9pbnQ6ImFwaS5lYzIue3JlZ2lvbn0uYXdzIn0sZHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFwaS5hd3MifSxmaXBzRHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmF3cyJ9LGdsb2JhbER1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5nbG9iYWwuYXBpLmF3cyJ9LGZpcHNHbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy5nbG9iYWwuYXBpLmF3cyJ9fX19LHt9XSw1ODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgbj1lKCIuL2NvcmUiKSxyPWUoIi4vc3RhdGVfbWFjaGluZSIpLG89bi51dGlsLmluaGVyaXQsaT1uLnV0aWwuZG9tYWluLGE9ZSgiam1lc3BhdGgiKSxzPXtzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSxjPW5ldyByO2Muc2V0dXBTdGF0ZXM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7bi5faGFsdEhhbmRsZXJzT25FcnJvcj0hMSxuLmVtaXQobi5fYXNtLmN1cnJlbnRTdGF0ZSwoZnVuY3Rpb24oZSl7aWYoZSlpZihyPW4sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsci5fYXNtLmN1cnJlbnRTdGF0ZSkpe2lmKCEoaSYmbi5kb21haW4gaW5zdGFuY2VvZiBpLkRvbWFpbikpdGhyb3cgZTtlLmRvbWFpbkVtaXR0ZXI9bixlLmRvbWFpbj1uLmRvbWFpbixlLmRvbWFpblRocm93bj0hMSxuLmRvbWFpbi5lbWl0KCJlcnJvciIsZSl9ZWxzZSBuLnJlc3BvbnNlLmVycm9yPWUsdChlKTtlbHNlIHQobi5yZXNwb25zZS5lcnJvcik7dmFyIHJ9KSl9O3RoaXMuYWRkU3RhdGUoInZhbGlkYXRlIiwiYnVpbGQiLCJlcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgiYnVpbGQiLCJhZnRlckJ1aWxkIiwicmVzdGFydCIsZSksdGhpcy5hZGRTdGF0ZSgiYWZ0ZXJCdWlsZCIsInNpZ24iLCJyZXN0YXJ0IixlKSx0aGlzLmFkZFN0YXRlKCJzaWduIiwic2VuZCIsInJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJyZXRyeSIsImFmdGVyUmV0cnkiLCJhZnRlclJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJhZnRlclJldHJ5Iiwic2lnbiIsImVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJzZW5kIiwidmFsaWRhdGVSZXNwb25zZSIsInJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJ2YWxpZGF0ZVJlc3BvbnNlIiwiZXh0cmFjdERhdGEiLCJleHRyYWN0RXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoImV4dHJhY3RFcnJvciIsImV4dHJhY3REYXRhIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoImV4dHJhY3REYXRhIiwic3VjY2VzcyIsInJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJyZXN0YXJ0IiwiYnVpbGQiLCJlcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgic3VjY2VzcyIsImNvbXBsZXRlIiwiY29tcGxldGUiLGUpLHRoaXMuYWRkU3RhdGUoImVycm9yIiwiY29tcGxldGUiLCJjb21wbGV0ZSIsZSksdGhpcy5hZGRTdGF0ZSgiY29tcGxldGUiLG51bGwsbnVsbCxlKX0sYy5zZXR1cFN0YXRlcygpLG4uUmVxdWVzdD1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQsbyl7dmFyIGE9ZS5lbmRwb2ludCxzPWUuY29uZmlnLnJlZ2lvbix1PWUuY29uZmlnLmN1c3RvbVVzZXJBZ2VudDtlLnNpZ25pbmdSZWdpb24/cz1lLnNpZ25pbmdSZWdpb246ZS5pc0dsb2JhbEVuZHBvaW50JiYocz0idXMtZWFzdC0xIiksdGhpcy5kb21haW49aSYmaS5hY3RpdmUsdGhpcy5zZXJ2aWNlPWUsdGhpcy5vcGVyYXRpb249dCx0aGlzLnBhcmFtcz1vfHx7fSx0aGlzLmh0dHBSZXF1ZXN0PW5ldyBuLkh0dHBSZXF1ZXN0KGEscyksdGhpcy5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCh1KSx0aGlzLnN0YXJ0VGltZT1lLmdldFNrZXdDb3JyZWN0ZWREYXRlKCksdGhpcy5yZXNwb25zZT1uZXcgbi5SZXNwb25zZSh0aGlzKSx0aGlzLl9hc209bmV3IHIoYy5zdGF0ZXMsInZhbGlkYXRlIiksdGhpcy5faGFsdEhhbmRsZXJzT25FcnJvcj0hMSxuLlNlcXVlbnRpYWxFeGVjdXRvci5jYWxsKHRoaXMpLHRoaXMuZW1pdD10aGlzLmVtaXRFdmVudH0sc2VuZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoImNhbGxiYWNrIiksdGhpcy5vbigiY29tcGxldGUiLChmdW5jdGlvbih0KXtlLmNhbGwodCx0LmVycm9yLHQuZGF0YSl9KSkpLHRoaXMucnVuVG8oKSx0aGlzLnJlc3BvbnNlfSxidWlsZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydW5Ubygic2VuZCIsZSl9LHJ1blRvOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2FzbS5ydW5UbyhlLHQsdGhpcyksdGhpc30sYWJvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInZhbGlkYXRlUmVzcG9uc2UiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygiZXh0cmFjdEVycm9yIiksdGhpcy5vbigidmFsaWRhdGVSZXNwb25zZSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcigiUmVxdWVzdCBhYm9ydGVkIGJ5IHVzZXIiKSx7Y29kZToiUmVxdWVzdEFib3J0ZWRFcnJvciIscmV0cnlhYmxlOiExfSl9KSksdGhpcy5odHRwUmVxdWVzdC5zdHJlYW0mJiF0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbS5kaWRDYWxsYmFjayYmKHRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtLmFib3J0KCksdGhpcy5odHRwUmVxdWVzdC5fYWJvcnRDYWxsYmFjaz90aGlzLmh0dHBSZXF1ZXN0Ll9hYm9ydENhbGxiYWNrKCk6dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInNlbmQiKSksdGhpc30sZWFjaFBhZ2U6ZnVuY3Rpb24oZSl7ZT1uLnV0aWwuZm4ubWFrZUFzeW5jKGUsMyksdGhpcy5vbigiY29tcGxldGUiLChmdW5jdGlvbiB0KHIpe2UuY2FsbChyLHIuZXJyb3Isci5kYXRhLChmdW5jdGlvbihvKXshMSE9PW8mJihyLmhhc05leHRQYWdlKCk/ci5uZXh0UGFnZSgpLm9uKCJjb21wbGV0ZSIsdCkuc2VuZCgpOmUuY2FsbChyLG51bGwsbnVsbCxuLnV0aWwuZm4ubm9vcCkpfSkpfSkpLnNlbmQoKX0sZWFjaEl0ZW06ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmVhY2hQYWdlKChmdW5jdGlvbihyLG8pe2lmKHIpcmV0dXJuIGUocixudWxsKTtpZihudWxsPT09bylyZXR1cm4gZShudWxsLG51bGwpO3ZhciBpPXQuc2VydmljZS5wYWdpbmF0aW9uQ29uZmlnKHQub3BlcmF0aW9uKS5yZXN1bHRLZXk7QXJyYXkuaXNBcnJheShpKSYmKGk9aVswXSk7dmFyIHM9YS5zZWFyY2gobyxpKSxjPSEwO3JldHVybiBuLnV0aWwuYXJyYXlFYWNoKHMsKGZ1bmN0aW9uKHQpe2lmKCExPT09KGM9ZShudWxsLHQpKSlyZXR1cm4gbi51dGlsLmFib3J0fSkpLGN9KSl9LGlzUGFnZWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc2VydmljZS5wYWdpbmF0aW9uQ29uZmlnKHRoaXMub3BlcmF0aW9uKX0sY3JlYXRlUmVhZFN0cmVhbTpmdW5jdGlvbigpe3ZhciBlPW4udXRpbC5zdHJlYW0scj10aGlzLG89bnVsbDtyZXR1cm4gMj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj8obz1uZXcgZS5QYXNzVGhyb3VnaCx0Lm5leHRUaWNrKChmdW5jdGlvbigpe3Iuc2VuZCgpfSkpKTooKG89bmV3IGUuU3RyZWFtKS5yZWFkYWJsZT0hMCxvLnNlbnQ9ITEsby5vbigibmV3TGlzdGVuZXIiLChmdW5jdGlvbihlKXtvLnNlbnR8fCJkYXRhIiE9PWV8fChvLnNlbnQ9ITAsdC5uZXh0VGljaygoZnVuY3Rpb24oKXtyLnNlbmQoKX0pKSl9KSkpLHRoaXMub24oImVycm9yIiwoZnVuY3Rpb24oZSl7by5lbWl0KCJlcnJvciIsZSl9KSksdGhpcy5vbigiaHR0cEhlYWRlcnMiLChmdW5jdGlvbih0LGksYSl7aWYodDwzMDApe3IucmVtb3ZlTGlzdGVuZXIoImh0dHBEYXRhIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuSFRUUF9EQVRBKSxyLnJlbW92ZUxpc3RlbmVyKCJodHRwRXJyb3IiLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5IVFRQX0VSUk9SKSxyLm9uKCJodHRwRXJyb3IiLChmdW5jdGlvbihlKXthLmVycm9yPWUsYS5lcnJvci5yZXRyeWFibGU9ITF9KSk7dmFyIHMsYz0hMTtpZigiSEVBRCIhPT1yLmh0dHBSZXF1ZXN0Lm1ldGhvZCYmKHM9cGFyc2VJbnQoaVsiY29udGVudC1sZW5ndGgiXSwxMCkpLHZvaWQgMCE9PXMmJiFpc05hTihzKSYmcz49MCl7Yz0hMDt2YXIgdT0wfXZhciBsPWZ1bmN0aW9uKCl7YyYmdSE9PXM/by5lbWl0KCJlcnJvciIsbi51dGlsLmVycm9yKG5ldyBFcnJvcigiU3RyZWFtIGNvbnRlbnQgbGVuZ3RoIG1pc21hdGNoLiBSZWNlaXZlZCAiK3UrIiBvZiAiK3MrIiBieXRlcy4iKSx7Y29kZToiU3RyZWFtQ29udGVudExlbmd0aE1pc21hdGNoIn0pKToyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uP28uZW5kKCk6by5lbWl0KCJlbmQiKX0scD1hLmh0dHBSZXNwb25zZS5jcmVhdGVVbmJ1ZmZlcmVkU3RyZWFtKCk7aWYoMj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbilpZihjKXt2YXIgZD1uZXcgZS5QYXNzVGhyb3VnaDtkLl93cml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGgmJih1Kz10Lmxlbmd0aCksZS5QYXNzVGhyb3VnaC5wcm90b3R5cGUuX3dyaXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5vbigiZW5kIixsKSxvLm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe2M9ITEscC51bnBpcGUoZCksZC5lbWl0KCJlbmQiKSxkLmVuZCgpfSkpLHAucGlwZShkKS5waXBlKG8se2VuZDohMX0pfWVsc2UgcC5waXBlKG8pO2Vsc2UgYyYmcC5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe2UmJmUubGVuZ3RoJiYodSs9ZS5sZW5ndGgpfSkpLHAub24oImRhdGEiLChmdW5jdGlvbihlKXtvLmVtaXQoImRhdGEiLGUpfSkpLHAub24oImVuZCIsbCk7cC5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtjPSExLG8uZW1pdCgiZXJyb3IiLGUpfSkpfX0pKSxvfSxlbWl0RXZlbnQ6ZnVuY3Rpb24oZSx0LHIpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10LHQ9bnVsbCkscnx8KHI9ZnVuY3Rpb24oKXt9KSx0fHwodD10aGlzLmV2ZW50UGFyYW1ldGVycyhlLHRoaXMucmVzcG9uc2UpKSxuLlNlcXVlbnRpYWxFeGVjdXRvci5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsZSx0LChmdW5jdGlvbihlKXtlJiYodGhpcy5yZXNwb25zZS5lcnJvcj1lKSxyLmNhbGwodGhpcyxlKX0pKX0sZXZlbnRQYXJhbWV0ZXJzOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlInJlc3RhcnQiOmNhc2UidmFsaWRhdGUiOmNhc2Uic2lnbiI6Y2FzZSJidWlsZCI6Y2FzZSJhZnRlclZhbGlkYXRlIjpjYXNlImFmdGVyQnVpbGQiOnJldHVyblt0aGlzXTtjYXNlImVycm9yIjpyZXR1cm5bdGhpcy5yZXNwb25zZS5lcnJvcix0aGlzLnJlc3BvbnNlXTtkZWZhdWx0OnJldHVyblt0aGlzLnJlc3BvbnNlXX19LHByZXNpZ246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fCh0PWUsZT1udWxsKSwobmV3IG4uU2lnbmVycy5QcmVzaWduKS5zaWduKHRoaXMudG9HZXQoKSxlLHQpfSxpc1ByZXNpZ25lZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5odHRwUmVxdWVzdC5oZWFkZXJzLCJwcmVzaWduZWQtZXhwaXJlcyIpfSx0b1VuYXV0aGVudGljYXRlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91bkF1dGhlbnRpY2F0ZWQ9ITAsdGhpcy5yZW1vdmVMaXN0ZW5lcigidmFsaWRhdGUiLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9DUkVERU5USUFMUyksdGhpcy5yZW1vdmVMaXN0ZW5lcigic2lnbiIsbi5FdmVudExpc3RlbmVycy5Db3JlLlNJR04pLHRoaXN9LHRvR2V0OmZ1bmN0aW9uKCl7cmV0dXJuInF1ZXJ5IiE9PXRoaXMuc2VydmljZS5hcGkucHJvdG9jb2wmJiJlYzIiIT09dGhpcy5zZXJ2aWNlLmFwaS5wcm90b2NvbHx8KHRoaXMucmVtb3ZlTGlzdGVuZXIoImJ1aWxkIix0aGlzLmJ1aWxkQXNHZXQpLHRoaXMuYWRkTGlzdGVuZXIoImJ1aWxkIix0aGlzLmJ1aWxkQXNHZXQpKSx0aGlzfSxidWlsZEFzR2V0OmZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QubWV0aG9kPSJHRVQiLGUuaHR0cFJlcXVlc3QucGF0aD1lLnNlcnZpY2UuZW5kcG9pbnQucGF0aCsiPyIrZS5odHRwUmVxdWVzdC5ib2R5LGUuaHR0cFJlcXVlc3QuYm9keT0iIixkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdfSxoYWx0SGFuZGxlcnNPbkVycm9yOmZ1bmN0aW9uKCl7dGhpcy5faGFsdEhhbmRsZXJzT25FcnJvcj0hMH19KSxuLlJlcXVlc3QuYWRkUHJvbWlzZXNUb0NsYXNzPWZ1bmN0aW9uKGUpe3RoaXMucHJvdG90eXBlLnByb21pc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCJwcm9taXNlIiksbmV3IGUoKGZ1bmN0aW9uKGUsbil7dC5vbigiY29tcGxldGUiLChmdW5jdGlvbih0KXt0LmVycm9yP24odC5lcnJvcik6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkodC5kYXRhfHx7fSwiJHJlc3BvbnNlIix7dmFsdWU6dH0pKX0pKSx0LnJ1blRvKCl9KSl9fSxuLlJlcXVlc3QuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3M9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm90b3R5cGUucHJvbWlzZX0sbi51dGlsLmFkZFByb21pc2VzKG4uUmVxdWVzdCksbi51dGlsLm1peGluKG4uUmVxdWVzdCxuLlNlcXVlbnRpYWxFeGVjdXRvcil9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vc3RhdGVfbWFjaGluZSI6NzMsX3Byb2Nlc3M6OTEsam1lc3BhdGg6OTB9XSw1OTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQsaT1lKCJqbWVzcGF0aCIpO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5yZXF1ZXN0Ll93YWl0ZXIsbj10LmNvbmZpZy5hY2NlcHRvcnMscj0hMSxvPSJyZXRyeSI7bi5mb3JFYWNoKChmdW5jdGlvbihuKXtpZighcil7dmFyIGk9dC5tYXRjaGVyc1tuLm1hdGNoZXJdO2kmJmkoZSxuLmV4cGVjdGVkLG4uYXJndW1lbnQpJiYocj0hMCxvPW4uc3RhdGUpfX0pKSwhciYmZS5lcnJvciYmKG89ImZhaWx1cmUiKSwic3VjY2VzcyI9PT1vP3Quc2V0U3VjY2VzcyhlKTp0LnNldEVycm9yKGUsInJldHJ5Ij09PW8pfXIuUmVzb3VyY2VXYWl0ZXI9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXt0aGlzLnNlcnZpY2U9ZSx0aGlzLnN0YXRlPXQsdGhpcy5sb2FkV2FpdGVyQ29uZmlnKHRoaXMuc3RhdGUpfSxzZXJ2aWNlOm51bGwsc3RhdGU6bnVsbCxjb25maWc6bnVsbCxtYXRjaGVyczp7cGF0aDpmdW5jdGlvbihlLHQsbil7dHJ5e3ZhciByPWkuc2VhcmNoKGUuZGF0YSxuKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4gaS5zdHJpY3REZWVwRXF1YWwocix0KX0scGF0aEFsbDpmdW5jdGlvbihlLHQsbil7dHJ5e3ZhciByPWkuc2VhcmNoKGUuZGF0YSxuKX1jYXRjaChlKXtyZXR1cm4hMX1BcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO3ZhciBvPXIubGVuZ3RoO2lmKCFvKXJldHVybiExO2Zvcih2YXIgYT0wO2E8bzthKyspaWYoIWkuc3RyaWN0RGVlcEVxdWFsKHJbYV0sdCkpcmV0dXJuITE7cmV0dXJuITB9LHBhdGhBbnk6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9QXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKTtmb3IodmFyIG89ci5sZW5ndGgsYT0wO2E8bzthKyspaWYoaS5zdHJpY3REZWVwRXF1YWwoclthXSx0KSlyZXR1cm4hMDtyZXR1cm4hMX0sc3RhdHVzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG4mJm49PT10fSxlcnJvcjpmdW5jdGlvbihlLHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmZS5lcnJvcj90PT09ZS5lcnJvci5jb2RlOnQ9PT0hIWUuZXJyb3J9fSxsaXN0ZW5lcnM6KG5ldyByLlNlcXVlbnRpYWxFeGVjdXRvcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKGUpe2UoIlJFVFJZX0NIRUNLIiwicmV0cnkiLChmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3QuX3dhaXRlcjtlLmVycm9yJiYiUmVzb3VyY2VOb3RSZWFkeSI9PT1lLmVycm9yLmNvZGUmJihlLmVycm9yLnJldHJ5RGVsYXk9MWUzKih0LmNvbmZpZy5kZWxheXx8MCkpfSkpLGUoIkNIRUNLX09VVFBVVCIsImV4dHJhY3REYXRhIixhKSxlKCJDSEVDS19FUlJPUiIsImV4dHJhY3RFcnJvciIsYSl9KSksd2FpdDpmdW5jdGlvbihlLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlJiZlLiR3YWl0ZXImJigibnVtYmVyIj09dHlwZW9mKGU9ci51dGlsLmNvcHkoZSkpLiR3YWl0ZXIuZGVsYXkmJih0aGlzLmNvbmZpZy5kZWxheT1lLiR3YWl0ZXIuZGVsYXkpLCJudW1iZXIiPT10eXBlb2YgZS4kd2FpdGVyLm1heEF0dGVtcHRzJiYodGhpcy5jb25maWcubWF4QXR0ZW1wdHM9ZS4kd2FpdGVyLm1heEF0dGVtcHRzKSxkZWxldGUgZS4kd2FpdGVyKTt2YXIgbj10aGlzLnNlcnZpY2UubWFrZVJlcXVlc3QodGhpcy5jb25maWcub3BlcmF0aW9uLGUpO3JldHVybiBuLl93YWl0ZXI9dGhpcyxuLnJlc3BvbnNlLm1heFJldHJpZXM9dGhpcy5jb25maWcubWF4QXR0ZW1wdHMsbi5hZGRMaXN0ZW5lcnModGhpcy5saXN0ZW5lcnMpLHQmJm4uc2VuZCh0KSxufSxzZXRTdWNjZXNzOmZ1bmN0aW9uKGUpe2UuZXJyb3I9bnVsbCxlLmRhdGE9ZS5kYXRhfHx7fSxlLnJlcXVlc3QucmVtb3ZlQWxsTGlzdGVuZXJzKCJleHRyYWN0RGF0YSIpfSxzZXRFcnJvcjpmdW5jdGlvbihlLHQpe2UuZGF0YT1udWxsLGUuZXJyb3I9ci51dGlsLmVycm9yKGUuZXJyb3J8fG5ldyBFcnJvcix7Y29kZToiUmVzb3VyY2VOb3RSZWFkeSIsbWVzc2FnZToiUmVzb3VyY2UgaXMgbm90IGluIHRoZSBzdGF0ZSAiK3RoaXMuc3RhdGUscmV0cnlhYmxlOnR9KX0sbG9hZFdhaXRlckNvbmZpZzpmdW5jdGlvbihlKXtpZighdGhpcy5zZXJ2aWNlLmFwaS53YWl0ZXJzW2VdKXRocm93IG5ldyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJTdGF0ZU5vdEZvdW5kRXJyb3IiLG1lc3NhZ2U6IlN0YXRlICIrZSsiIG5vdCBmb3VuZC4ifSk7dGhpcy5jb25maWc9ci51dGlsLmNvcHkodGhpcy5zZXJ2aWNlLmFwaS53YWl0ZXJzW2VdKX19KX0seyIuL2NvcmUiOjE5LGptZXNwYXRoOjkwfV0sNjA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0LGk9ZSgiam1lc3BhdGgiKTtyLlJlc3BvbnNlPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucmVxdWVzdD1lLHRoaXMuZGF0YT1udWxsLHRoaXMuZXJyb3I9bnVsbCx0aGlzLnJldHJ5Q291bnQ9MCx0aGlzLnJlZGlyZWN0Q291bnQ9MCx0aGlzLmh0dHBSZXNwb25zZT1uZXcgci5IdHRwUmVzcG9uc2UsZSYmKHRoaXMubWF4UmV0cmllcz1lLnNlcnZpY2UubnVtUmV0cmllcygpLHRoaXMubWF4UmVkaXJlY3RzPWUuc2VydmljZS5jb25maWcubWF4UmVkaXJlY3RzKX0sbmV4dFBhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLnJlcXVlc3Quc2VydmljZSxvPXRoaXMucmVxdWVzdC5vcGVyYXRpb247dHJ5e3Q9bi5wYWdpbmF0aW9uQ29uZmlnKG8sITApfWNhdGNoKGUpe3RoaXMuZXJyb3I9ZX1pZighdGhpcy5oYXNOZXh0UGFnZSgpKXtpZihlKWUodGhpcy5lcnJvcixudWxsKTtlbHNlIGlmKHRoaXMuZXJyb3IpdGhyb3cgdGhpcy5lcnJvcjtyZXR1cm4gbnVsbH12YXIgaT1yLnV0aWwuY29weSh0aGlzLnJlcXVlc3QucGFyYW1zKTtpZih0aGlzLm5leHRQYWdlVG9rZW5zKXt2YXIgYT10LmlucHV0VG9rZW47InN0cmluZyI9PXR5cGVvZiBhJiYoYT1bYV0pO2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKWlbYVtzXV09dGhpcy5uZXh0UGFnZVRva2Vuc1tzXTtyZXR1cm4gbi5tYWtlUmVxdWVzdCh0aGlzLnJlcXVlc3Qub3BlcmF0aW9uLGksZSl9cmV0dXJuIGU/ZShudWxsLG51bGwpOm51bGx9LGhhc05leHRQYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVOZXh0UGFnZVRva2VucygpLCEhdGhpcy5uZXh0UGFnZVRva2Vuc3x8dm9pZCAwPT09dGhpcy5uZXh0UGFnZVRva2VucyYmdm9pZCAwfSxjYWNoZU5leHRQYWdlVG9rZW5zOmZ1bmN0aW9uKCl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsIm5leHRQYWdlVG9rZW5zIikpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7dGhpcy5uZXh0UGFnZVRva2Vucz12b2lkIDA7dmFyIGU9dGhpcy5yZXF1ZXN0LnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0aGlzLnJlcXVlc3Qub3BlcmF0aW9uKTtpZighZSlyZXR1cm4gdGhpcy5uZXh0UGFnZVRva2VucztpZih0aGlzLm5leHRQYWdlVG9rZW5zPW51bGwsZS5tb3JlUmVzdWx0cyYmIWkuc2VhcmNoKHRoaXMuZGF0YSxlLm1vcmVSZXN1bHRzKSlyZXR1cm4gdGhpcy5uZXh0UGFnZVRva2Vuczt2YXIgdD1lLm91dHB1dFRva2VuO3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9W3RdKSxyLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyx0LChmdW5jdGlvbihlKXt2YXIgdD1pLnNlYXJjaCh0aGlzLmRhdGEsZSk7dCYmKHRoaXMubmV4dFBhZ2VUb2tlbnM9dGhpcy5uZXh0UGFnZVRva2Vuc3x8W10sdGhpcy5uZXh0UGFnZVRva2Vucy5wdXNoKHQpKX0pKSx0aGlzLm5leHRQYWdlVG9rZW5zfX0pfSx7Ii4vY29yZSI6MTksam1lc3BhdGg6OTB9XSw2MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpO3IuU2VxdWVudGlhbEV4ZWN1dG9yPXIudXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuX2V2ZW50cz17fX0sbGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ldmVudHNbZV0/dGhpcy5fZXZlbnRzW2VdLnNsaWNlKDApOltdfSxvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT9uP3RoaXMuX2V2ZW50c1tlXS51bnNoaWZ0KHQpOnRoaXMuX2V2ZW50c1tlXS5wdXNoKHQpOnRoaXMuX2V2ZW50c1tlXT1bdF0sdGhpc30sb25Bc3luYzpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQuX2lzQXN5bmM9ITAsdGhpcy5vbihlLHQsbil9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fZXZlbnRzW2VdO2lmKG4pe2Zvcih2YXIgcj1uLmxlbmd0aCxvPS0xLGk9MDtpPHI7KytpKW5baV09PT10JiYobz1pKTtvPi0xJiZuLnNwbGljZShvLDEpfXJldHVybiB0aGlzfSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZGVsZXRlIHRoaXMuX2V2ZW50c1tlXTp0aGlzLl9ldmVudHM9e30sdGhpc30sZW1pdDpmdW5jdGlvbihlLHQsbil7bnx8KG49ZnVuY3Rpb24oKXt9KTt2YXIgcj10aGlzLmxpc3RlbmVycyhlKSxvPXIubGVuZ3RoO3JldHVybiB0aGlzLmNhbGxMaXN0ZW5lcnMocix0LG4pLG8+MH0sY2FsbExpc3RlbmVyczpmdW5jdGlvbihlLHQsbixvKXt2YXIgaT10aGlzLGE9b3x8bnVsbDtmdW5jdGlvbiBzKG8pe2lmKG8mJihhPXIudXRpbC5lcnJvcihhfHxuZXcgRXJyb3IsbyksaS5faGFsdEhhbmRsZXJzT25FcnJvcikpcmV0dXJuIG4uY2FsbChpLGEpO2kuY2FsbExpc3RlbmVycyhlLHQsbixhKX1mb3IoO2UubGVuZ3RoPjA7KXt2YXIgYz1lLnNoaWZ0KCk7aWYoYy5faXNBc3luYylyZXR1cm4gdm9pZCBjLmFwcGx5KGksdC5jb25jYXQoW3NdKSk7dHJ5e2MuYXBwbHkoaSx0KX1jYXRjaChlKXthPXIudXRpbC5lcnJvcihhfHxuZXcgRXJyb3IsZSl9aWYoYSYmaS5faGFsdEhhbmRsZXJzT25FcnJvcilyZXR1cm4gdm9pZCBuLmNhbGwoaSxhKX1uLmNhbGwoaSxhKX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUuX2V2ZW50cyYmKGU9ZS5fZXZlbnRzKSxyLnV0aWwuZWFjaChlLChmdW5jdGlvbihlLG4peyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj1bbl0pLHIudXRpbC5hcnJheUVhY2gobiwoZnVuY3Rpb24obil7dC5vbihlLG4pfSkpfSkpLHR9LGFkZE5hbWVkTGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXNbZV09bix0aGlzLmFkZExpc3RlbmVyKHQsbixyKSx0aGlzfSxhZGROYW1lZEFzeW5jTGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG4uX2lzQXN5bmM9ITAsdGhpcy5hZGROYW1lZExpc3RlbmVyKGUsdCxuLHIpfSxhZGROYW1lZExpc3RlbmVyczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlKChmdW5jdGlvbigpe3QuYWRkTmFtZWRMaXN0ZW5lci5hcHBseSh0LGFyZ3VtZW50cyl9KSwoZnVuY3Rpb24oKXt0LmFkZE5hbWVkQXN5bmNMaXN0ZW5lci5hcHBseSh0LGFyZ3VtZW50cyl9KSksdGhpc319KSxyLlNlcXVlbnRpYWxFeGVjdXRvci5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ci5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLm9uLHQuZXhwb3J0cz1yLlNlcXVlbnRpYWxFeGVjdXRvcn0seyIuL2NvcmUiOjE5fV0sNjI6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7dmFyIHI9ZSgiLi9jb3JlIiksaT1lKCIuL21vZGVsL2FwaSIpLGE9ZSgiLi9yZWdpb25fY29uZmlnIikscz1yLnV0aWwuaW5oZXJpdCxjPTAsdT1lKCIuL3JlZ2lvbi91dGlscyIpO3IuU2VydmljZT1zKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtpZighdGhpcy5sb2FkU2VydmljZUNsYXNzKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3IsIlNlcnZpY2UgbXVzdCBiZSBjb25zdHJ1Y3RlZCB3aXRoIGBuZXcnIG9wZXJhdG9yIik7aWYoZSl7aWYoZS5yZWdpb24pe3ZhciB0PWUucmVnaW9uO3UuaXNGaXBzUmVnaW9uKHQpJiYoZS5yZWdpb249dS5nZXRSZWFsUmVnaW9uKHQpLGUudXNlRmlwc0VuZHBvaW50PSEwKSx1LmlzR2xvYmFsUmVnaW9uKHQpJiYoZS5yZWdpb249dS5nZXRSZWFsUmVnaW9uKHQpKX0iYm9vbGVhbiI9PXR5cGVvZiBlLnVzZUR1YWxzdGFjayYmImJvb2xlYW4iIT10eXBlb2YgZS51c2VEdWFsc3RhY2tFbmRwb2ludCYmKGUudXNlRHVhbHN0YWNrRW5kcG9pbnQ9ZS51c2VEdWFsc3RhY2spfXZhciBuPXRoaXMubG9hZFNlcnZpY2VDbGFzcyhlfHx7fSk7aWYobil7dmFyIG89ci51dGlsLmNvcHkoZSksaT1uZXcgbihlKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9vcmlnaW5hbENvbmZpZyIse2dldDpmdW5jdGlvbigpe3JldHVybiBvfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX2NsaWVudElkPSsrYyxpfXRoaXMuaW5pdGlhbGl6ZShlKX0saW5pdGlhbGl6ZTpmdW5jdGlvbihlKXt2YXIgdD1yLmNvbmZpZ1t0aGlzLnNlcnZpY2VJZGVudGlmaWVyXTtpZih0aGlzLmNvbmZpZz1uZXcgci5Db25maWcoci5jb25maWcpLHQmJnRoaXMuY29uZmlnLnVwZGF0ZSh0LCEwKSxlJiZ0aGlzLmNvbmZpZy51cGRhdGUoZSwhMCksdGhpcy52YWxpZGF0ZVNlcnZpY2UoKSx0aGlzLmNvbmZpZy5lbmRwb2ludHx8YS5jb25maWd1cmVFbmRwb2ludCh0aGlzKSx0aGlzLmNvbmZpZy5lbmRwb2ludD10aGlzLmVuZHBvaW50RnJvbVRlbXBsYXRlKHRoaXMuY29uZmlnLmVuZHBvaW50KSx0aGlzLnNldEVuZHBvaW50KHRoaXMuY29uZmlnLmVuZHBvaW50KSxyLlNlcXVlbnRpYWxFeGVjdXRvci5jYWxsKHRoaXMpLHIuU2VydmljZS5hZGREZWZhdWx0TW9uaXRvcmluZ0xpc3RlbmVycyh0aGlzKSwodGhpcy5jb25maWcuY2xpZW50U2lkZU1vbml0b3Jpbmd8fHIuU2VydmljZS5fY2xpZW50U2lkZU1vbml0b3JpbmcpJiZ0aGlzLnB1Ymxpc2hlcil7dmFyIG89dGhpcy5wdWJsaXNoZXI7dGhpcy5hZGROYW1lZExpc3RlbmVyKCJQVUJMSVNIX0FQSV9DQUxMIiwiYXBpQ2FsbCIsKGZ1bmN0aW9uKGUpe24ubmV4dFRpY2soKGZ1bmN0aW9uKCl7by5ldmVudEhhbmRsZXIoZSl9KSl9KSksdGhpcy5hZGROYW1lZExpc3RlbmVyKCJQVUJMSVNIX0FQSV9BVFRFTVBUIiwiYXBpQ2FsbEF0dGVtcHQiLChmdW5jdGlvbihlKXtuLm5leHRUaWNrKChmdW5jdGlvbigpe28uZXZlbnRIYW5kbGVyKGUpfSkpfSkpfX0sdmFsaWRhdGVTZXJ2aWNlOmZ1bmN0aW9uKCl7fSxsb2FkU2VydmljZUNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYoci51dGlsLmlzRW1wdHkodGhpcy5hcGkpKXtpZih0LmFwaUNvbmZpZylyZXR1cm4gci5TZXJ2aWNlLmRlZmluZVNlcnZpY2VBcGkodGhpcy5jb25zdHJ1Y3Rvcix0LmFwaUNvbmZpZyk7aWYodGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcyl7KHQ9bmV3IHIuQ29uZmlnKHIuY29uZmlnKSkudXBkYXRlKGUsITApO3ZhciBuPXQuYXBpVmVyc2lvbnNbdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlSWRlbnRpZmllcl07cmV0dXJuIG49bnx8dC5hcGlWZXJzaW9uLHRoaXMuZ2V0TGF0ZXN0U2VydmljZUNsYXNzKG4pfXJldHVybiBudWxsfXJldHVybiBudWxsfSxnZXRMYXRlc3RTZXJ2aWNlQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dGhpcy5nZXRMYXRlc3RTZXJ2aWNlVmVyc2lvbihlKSxudWxsPT09dGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc1tlXSYmci5TZXJ2aWNlLmRlZmluZVNlcnZpY2VBcGkodGhpcy5jb25zdHJ1Y3RvcixlKSx0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzW2VdfSxnZXRMYXRlc3RTZXJ2aWNlVmVyc2lvbjpmdW5jdGlvbihlKXtpZighdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc3x8MD09PXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiTm8gc2VydmljZXMgZGVmaW5lZCBvbiAiK3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXIpO2lmKGU/ci51dGlsLmlzVHlwZShlLERhdGUpJiYoZT1yLnV0aWwuZGF0ZS5pc284NjAxKGUpLnNwbGl0KCJUIilbMF0pOmU9ImxhdGVzdCIsT2JqZWN0Lmhhc093blByb3BlcnR5KHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXMsZSkpcmV0dXJuIGU7Zm9yKHZhciB0PU9iamVjdC5rZXlzKHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXMpLnNvcnQoKSxuPW51bGwsbz10Lmxlbmd0aC0xO28+PTA7by0tKWlmKCIqIiE9PXRbb11bdFtvXS5sZW5ndGgtMV0mJihuPXRbb10pLHRbb10uc3Vic3RyKDAsMTApPD1lKXJldHVybiBuO3Rocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgIit0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VJZGVudGlmaWVyKyIgQVBJIHRvIHNhdGlzZnkgdmVyc2lvbiBjb25zdHJhaW50IGAiK2UrIiciKX0sYXBpOnt9LGRlZmF1bHRSZXRyeUNvdW50OjMsY3VzdG9taXplUmVxdWVzdHM6ZnVuY3Rpb24oZSl7aWYoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNhbGxiYWNrIHR5cGUgJyIrbyhlKSsiJyBwcm92aWRlZCBpbiBjdXN0b21pemVSZXF1ZXN0cyIpO3RoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXI9ZX1lbHNlIHRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXI9bnVsbH0sbWFrZVJlcXVlc3Q6ZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9bnVsbCksdD10fHx7fSx0aGlzLmNvbmZpZy5wYXJhbXMpe3ZhciBvPXRoaXMuYXBpLm9wZXJhdGlvbnNbZV07byYmKHQ9ci51dGlsLmNvcHkodCksci51dGlsLmVhY2godGhpcy5jb25maWcucGFyYW1zLChmdW5jdGlvbihlLG4pe28uaW5wdXQubWVtYmVyc1tlXSYmKHZvaWQgMCE9PXRbZV0mJm51bGwhPT10W2VdfHwodFtlXT1uKSl9KSkpfXZhciBpPW5ldyByLlJlcXVlc3QodGhpcyxlLHQpO3JldHVybiB0aGlzLmFkZEFsbFJlcXVlc3RMaXN0ZW5lcnMoaSksdGhpcy5hdHRhY2hNb25pdG9yaW5nRW1pdHRlcihpKSxuJiZpLnNlbmQobiksaX0sbWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pO3ZhciByPXRoaXMubWFrZVJlcXVlc3QoZSx0KS50b1VuYXV0aGVudGljYXRlZCgpO3JldHVybiBuP3Iuc2VuZChuKTpyfSx3YWl0Rm9yOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IHIuUmVzb3VyY2VXYWl0ZXIodGhpcyxlKS53YWl0KHQsbil9LGFkZEFsbFJlcXVlc3RMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtyLmV2ZW50cyxyLkV2ZW50TGlzdGVuZXJzLkNvcmUsdGhpcy5zZXJ2aWNlSW50ZXJmYWNlKCksci5FdmVudExpc3RlbmVycy5Db3JlUG9zdF0sbj0wO248dC5sZW5ndGg7bisrKXRbbl0mJmUuYWRkTGlzdGVuZXJzKHRbbl0pO3RoaXMuY29uZmlnLnBhcmFtVmFsaWRhdGlvbnx8ZS5yZW1vdmVMaXN0ZW5lcigidmFsaWRhdGUiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9QQVJBTUVURVJTKSx0aGlzLmNvbmZpZy5sb2dnZXImJmUuYWRkTGlzdGVuZXJzKHIuRXZlbnRMaXN0ZW5lcnMuTG9nZ2VyKSx0aGlzLnNldHVwUmVxdWVzdExpc3RlbmVycyhlKSwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY3VzdG9tUmVxdWVzdEhhbmRsZXImJnRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLmN1c3RvbVJlcXVlc3RIYW5kbGVyKGUpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCJjdXN0b21SZXF1ZXN0SGFuZGxlciIpJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlciYmdGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcihlKX0sYXBpQ2FsbEV2ZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj17VHlwZToiQXBpQ2FsbCIsQXBpOnQ/dC5uYW1lOmUub3BlcmF0aW9uLFZlcnNpb246MSxTZXJ2aWNlOmUuc2VydmljZS5hcGkuc2VydmljZUlkfHxlLnNlcnZpY2UuYXBpLmVuZHBvaW50UHJlZml4LFJlZ2lvbjplLmh0dHBSZXF1ZXN0LnJlZ2lvbixNYXhSZXRyaWVzRXhjZWVkZWQ6MCxVc2VyQWdlbnQ6ZS5odHRwUmVxdWVzdC5nZXRVc2VyQWdlbnQoKX0scj1lLnJlc3BvbnNlO2lmKHIuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUmJihuLkZpbmFsSHR0cFN0YXR1c0NvZGU9ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSksci5lcnJvcil7dmFyIG89ci5lcnJvcjtyLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlPjI5OT8oby5jb2RlJiYobi5GaW5hbEF3c0V4Y2VwdGlvbj1vLmNvZGUpLG8ubWVzc2FnZSYmKG4uRmluYWxBd3NFeGNlcHRpb25NZXNzYWdlPW8ubWVzc2FnZSkpOigoby5jb2RlfHxvLm5hbWUpJiYobi5GaW5hbFNka0V4Y2VwdGlvbj1vLmNvZGV8fG8ubmFtZSksby5tZXNzYWdlJiYobi5GaW5hbFNka0V4Y2VwdGlvbk1lc3NhZ2U9by5tZXNzYWdlKSl9cmV0dXJuIG59LGFwaUF0dGVtcHRFdmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLG49e1R5cGU6IkFwaUNhbGxBdHRlbXB0IixBcGk6dD90Lm5hbWU6ZS5vcGVyYXRpb24sVmVyc2lvbjoxLFNlcnZpY2U6ZS5zZXJ2aWNlLmFwaS5zZXJ2aWNlSWR8fGUuc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXgsRnFkbjplLmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3RuYW1lLFVzZXJBZ2VudDplLmh0dHBSZXF1ZXN0LmdldFVzZXJBZ2VudCgpfSxyPWUucmVzcG9uc2U7cmV0dXJuIHIuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUmJihuLkh0dHBTdGF0dXNDb2RlPXIuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUpLCFlLl91bkF1dGhlbnRpY2F0ZWQmJmUuc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMmJmUuc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQmJihuLkFjY2Vzc0tleT1lLnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkKSxyLmh0dHBSZXNwb25zZS5oZWFkZXJzPyhlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl0mJihuLlNlc3Npb25Ub2tlbj1lLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16bi1yZXF1ZXN0aWQiXSYmKG4uWEFtem5SZXF1ZXN0SWQ9ci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdKSxyLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1yZXF1ZXN0LWlkIl0mJihuLlhBbXpSZXF1ZXN0SWQ9ci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotcmVxdWVzdC1pZCJdKSxyLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1pZC0yIl0mJihuLlhBbXpJZDI9ci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXotaWQtMiJdKSxuKTpufSxhdHRlbXB0RmFpbEV2ZW50OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYXBpQXR0ZW1wdEV2ZW50KGUpLG49ZS5yZXNwb25zZSxyPW4uZXJyb3I7cmV0dXJuIG4uaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU+Mjk5PyhyLmNvZGUmJih0LkF3c0V4Y2VwdGlvbj1yLmNvZGUpLHIubWVzc2FnZSYmKHQuQXdzRXhjZXB0aW9uTWVzc2FnZT1yLm1lc3NhZ2UpKTooKHIuY29kZXx8ci5uYW1lKSYmKHQuU2RrRXhjZXB0aW9uPXIuY29kZXx8ci5uYW1lKSxyLm1lc3NhZ2UmJih0LlNka0V4Y2VwdGlvbk1lc3NhZ2U9ci5tZXNzYWdlKSksdH0sYXR0YWNoTW9uaXRvcmluZ0VtaXR0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbixvLGksYSxzLGM9MCx1PXRoaXMsbD0hMDtlLm9uKCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKCl7aT1yLnV0aWwucmVhbENsb2NrLm5vdygpLHM9RGF0ZS5ub3coKX0pLGwpLGUub24oInNpZ24iLChmdW5jdGlvbigpe249ci51dGlsLnJlYWxDbG9jay5ub3coKSx0PURhdGUubm93KCksYT1lLmh0dHBSZXF1ZXN0LnJlZ2lvbixjKyt9KSxsKSxlLm9uKCJ2YWxpZGF0ZVJlc3BvbnNlIiwoZnVuY3Rpb24oKXtvPU1hdGgucm91bmQoci51dGlsLnJlYWxDbG9jay5ub3coKS1uKX0pKSxlLmFkZE5hbWVkTGlzdGVuZXIoIkFQSV9DQUxMX0FUVEVNUFQiLCJzdWNjZXNzIiwoZnVuY3Rpb24oKXt2YXIgbj11LmFwaUF0dGVtcHRFdmVudChlKTtuLlRpbWVzdGFtcD10LG4uQXR0ZW1wdExhdGVuY3k9bz49MD9vOjAsbi5SZWdpb249YSx1LmVtaXQoImFwaUNhbGxBdHRlbXB0Iixbbl0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTExfQVRURU1QVF9SRVRSWSIsInJldHJ5IiwoZnVuY3Rpb24oKXt2YXIgaT11LmF0dGVtcHRGYWlsRXZlbnQoZSk7aS5UaW1lc3RhbXA9dCxvPW98fE1hdGgucm91bmQoci51dGlsLnJlYWxDbG9jay5ub3coKS1uKSxpLkF0dGVtcHRMYXRlbmN5PW8+PTA/bzowLGkuUmVnaW9uPWEsdS5lbWl0KCJhcGlDYWxsQXR0ZW1wdCIsW2ldKX0pKSxlLmFkZE5hbWVkTGlzdGVuZXIoIkFQSV9DQUxMIiwiY29tcGxldGUiLChmdW5jdGlvbigpe3ZhciB0PXUuYXBpQ2FsbEV2ZW50KGUpO2lmKHQuQXR0ZW1wdENvdW50PWMsISh0LkF0dGVtcHRDb3VudDw9MCkpe3QuVGltZXN0YW1wPXM7dmFyIG49TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLWkpO3QuTGF0ZW5jeT1uPj0wP246MDt2YXIgbz1lLnJlc3BvbnNlO28uZXJyb3ImJm8uZXJyb3IucmV0cnlhYmxlJiYibnVtYmVyIj09dHlwZW9mIG8ucmV0cnlDb3VudCYmIm51bWJlciI9PXR5cGVvZiBvLm1heFJldHJpZXMmJm8ucmV0cnlDb3VudD49by5tYXhSZXRyaWVzJiYodC5NYXhSZXRyaWVzRXhjZWVkZWQ9MSksdS5lbWl0KCJhcGlDYWxsIixbdF0pfX0pKX0sc2V0dXBSZXF1ZXN0TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe30sZ2V0U2lnbmluZ05hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcGkuc2lnbmluZ05hbWV8fHRoaXMuYXBpLmVuZHBvaW50UHJlZml4fSxnZXRTaWduZXJDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuPW51bGwsbz0iIjtyZXR1cm4gZSYmKG89KG49KGUuc2VydmljZS5hcGkub3BlcmF0aW9uc3x8e30pW2Uub3BlcmF0aW9uXXx8bnVsbCk/bi5hdXRodHlwZToiIiksdD10aGlzLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uP3RoaXMuY29uZmlnLnNpZ25hdHVyZVZlcnNpb246InY0Ij09PW98fCJ2NC11bnNpZ25lZC1ib2R5Ij09PW8/InY0IjoiYmVhcmVyIj09PW8/ImJlYXJlciI6dGhpcy5hcGkuc2lnbmF0dXJlVmVyc2lvbixyLlNpZ25lcnMuUmVxdWVzdFNpZ25lci5nZXRWZXJzaW9uKHQpfSxzZXJ2aWNlSW50ZXJmYWNlOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuYXBpLnByb3RvY29sKXtjYXNlImVjMiI6Y2FzZSJxdWVyeSI6cmV0dXJuIHIuRXZlbnRMaXN0ZW5lcnMuUXVlcnk7Y2FzZSJqc29uIjpyZXR1cm4gci5FdmVudExpc3RlbmVycy5Kc29uO2Nhc2UicmVzdC1qc29uIjpyZXR1cm4gci5FdmVudExpc3RlbmVycy5SZXN0SnNvbjtjYXNlInJlc3QteG1sIjpyZXR1cm4gci5FdmVudExpc3RlbmVycy5SZXN0WG1sfWlmKHRoaXMuYXBpLnByb3RvY29sKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXJ2aWNlIGBwcm90b2NvbCcgIit0aGlzLmFwaS5wcm90b2NvbCsiIGluIEFQSSBjb25maWciKX0sc3VjY2Vzc2Z1bFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlPDMwMH0sbnVtUmV0cmllczpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLmNvbmZpZy5tYXhSZXRyaWVzP3RoaXMuY29uZmlnLm1heFJldHJpZXM6dGhpcy5kZWZhdWx0UmV0cnlDb3VudH0scmV0cnlEZWxheXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkoZSx0aGlzLmNvbmZpZy5yZXRyeURlbGF5T3B0aW9ucyx0KX0scmV0cnlhYmxlRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuISF0aGlzLnRpbWVvdXRFcnJvcihlKXx8ISF0aGlzLm5ldHdvcmtpbmdFcnJvcihlKXx8ISF0aGlzLmV4cGlyZWRDcmVkZW50aWFsc0Vycm9yKGUpfHwhIXRoaXMudGhyb3R0bGVkRXJyb3IoZSl8fGUuc3RhdHVzQ29kZT49NTAwfSxuZXR3b3JraW5nRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIk5ldHdvcmtpbmdFcnJvciI9PT1lLmNvZGV9LHRpbWVvdXRFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iVGltZW91dEVycm9yIj09PWUuY29kZX0sZXhwaXJlZENyZWRlbnRpYWxzRXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIkV4cGlyZWRUb2tlbkV4Y2VwdGlvbiI9PT1lLmNvZGV9LGNsb2NrU2tld0Vycm9yOmZ1bmN0aW9uKGUpe3N3aXRjaChlLmNvZGUpe2Nhc2UiUmVxdWVzdFRpbWVUb29Ta2V3ZWQiOmNhc2UiUmVxdWVzdEV4cGlyZWQiOmNhc2UiSW52YWxpZFNpZ25hdHVyZUV4Y2VwdGlvbiI6Y2FzZSJTaWduYXR1cmVEb2VzTm90TWF0Y2giOmNhc2UiQXV0aEZhaWx1cmUiOmNhc2UiUmVxdWVzdEluVGhlRnV0dXJlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZ2V0U2tld0NvcnJlY3RlZERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSt0aGlzLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCl9LGFwcGx5Q2xvY2tPZmZzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0PWUtRGF0ZS5ub3coKSl9LGlzQ2xvY2tTa2V3ZWQ6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLmdldFRpbWUoKS1lKT49M2U1fSx0aHJvdHRsZWRFcnJvcjpmdW5jdGlvbihlKXtpZig0Mjk9PT1lLnN0YXR1c0NvZGUpcmV0dXJuITA7c3dpdGNoKGUuY29kZSl7Y2FzZSJQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvbiI6Y2FzZSJUaHJvdHRsaW5nIjpjYXNlIlRocm90dGxpbmdFeGNlcHRpb24iOmNhc2UiUmVxdWVzdExpbWl0RXhjZWVkZWQiOmNhc2UiUmVxdWVzdFRocm90dGxlZCI6Y2FzZSJSZXF1ZXN0VGhyb3R0bGVkRXhjZXB0aW9uIjpjYXNlIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiI6Y2FzZSJUcmFuc2FjdGlvbkluUHJvZ3Jlc3NFeGNlcHRpb24iOmNhc2UiRUMyVGhyb3R0bGVkRXhjZXB0aW9uIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZW5kcG9pbnRGcm9tVGVtcGxhdGU6ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBlO3ZhciB0PWU7cmV0dXJuIHQ9KHQ9KHQ9dC5yZXBsYWNlKC9ce3NlcnZpY2VcfS9nLHRoaXMuYXBpLmVuZHBvaW50UHJlZml4KSkucmVwbGFjZSgvXHtyZWdpb25cfS9nLHRoaXMuY29uZmlnLnJlZ2lvbikpLnJlcGxhY2UoL1x7c2NoZW1lXH0vZyx0aGlzLmNvbmZpZy5zc2xFbmFibGVkPyJodHRwcyI6Imh0dHAiKX0sc2V0RW5kcG9pbnQ6ZnVuY3Rpb24oZSl7dGhpcy5lbmRwb2ludD1uZXcgci5FbmRwb2ludChlLHRoaXMuY29uZmlnKX0scGFnaW5hdGlvbkNvbmZpZzpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuYXBpLm9wZXJhdGlvbnNbZV0ucGFnaW5hdG9yO2lmKCFuKXtpZih0KXt2YXIgbz1uZXcgRXJyb3I7dGhyb3cgci51dGlsLmVycm9yKG8sIk5vIHBhZ2luYXRpb24gY29uZmlndXJhdGlvbiBmb3IgIitlKX1yZXR1cm4gbnVsbH1yZXR1cm4gbn19KSxyLnV0aWwudXBkYXRlKHIuU2VydmljZSx7ZGVmaW5lTWV0aG9kczpmdW5jdGlvbihlKXtyLnV0aWwuZWFjaChlLnByb3RvdHlwZS5hcGkub3BlcmF0aW9ucywoZnVuY3Rpb24odCl7ZS5wcm90b3R5cGVbdF18fCgibm9uZSI9PT1lLnByb3RvdHlwZS5hcGkub3BlcmF0aW9uc1t0XS5hdXRodHlwZT9lLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLm1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0KHQsZSxuKX06ZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCh0LGUsbil9KX0pKX0sZGVmaW5lU2VydmljZTpmdW5jdGlvbihlLHQsbil7ci5TZXJ2aWNlLl9zZXJ2aWNlTWFwW2VdPSEwLEFycmF5LmlzQXJyYXkodCl8fChuPXQsdD1bXSk7dmFyIG89cyhyLlNlcnZpY2Usbnx8e30pO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7ci5TZXJ2aWNlLmFkZFZlcnNpb25zKG8sdCk7dmFyIGk9by5zZXJ2aWNlSWRlbnRpZmllcnx8ZTtvLnNlcnZpY2VJZGVudGlmaWVyPWl9ZWxzZSBvLnByb3RvdHlwZS5hcGk9ZSxyLlNlcnZpY2UuZGVmaW5lTWV0aG9kcyhvKTtpZihyLlNlcXVlbnRpYWxFeGVjdXRvci5jYWxsKHRoaXMucHJvdG90eXBlKSwhdGhpcy5wcm90b3R5cGUucHVibGlzaGVyJiZyLnV0aWwuY2xpZW50U2lkZU1vbml0b3Jpbmcpe3ZhciBhPXIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZy5QdWJsaXNoZXIsYz0oMCxyLnV0aWwuY2xpZW50U2lkZU1vbml0b3JpbmcuY29uZmlnUHJvdmlkZXIpKCk7dGhpcy5wcm90b3R5cGUucHVibGlzaGVyPW5ldyBhKGMpLGMuZW5hYmxlZCYmKHIuU2VydmljZS5fY2xpZW50U2lkZU1vbml0b3Jpbmc9ITApfXJldHVybiByLlNlcXVlbnRpYWxFeGVjdXRvci5jYWxsKG8ucHJvdG90eXBlKSxyLlNlcnZpY2UuYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnMoby5wcm90b3R5cGUpLG99LGFkZFZlcnNpb25zOmZ1bmN0aW9uKGUsdCl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxlLnNlcnZpY2VzPWUuc2VydmljZXN8fHt9O2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXZvaWQgMD09PWUuc2VydmljZXNbdFtuXV0mJihlLnNlcnZpY2VzW3Rbbl1dPW51bGwpO2UuYXBpVmVyc2lvbnM9T2JqZWN0LmtleXMoZS5zZXJ2aWNlcykuc29ydCgpfSxkZWZpbmVTZXJ2aWNlQXBpOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1zKGUse3NlcnZpY2VJZGVudGlmaWVyOmUuc2VydmljZUlkZW50aWZpZXJ9KTtmdW5jdGlvbiBhKHQpe3QuaXNBcGk/by5wcm90b3R5cGUuYXBpPXQ6by5wcm90b3R5cGUuYXBpPW5ldyBpKHQse3NlcnZpY2VJZGVudGlmaWVyOmUuc2VydmljZUlkZW50aWZpZXJ9KX1pZigic3RyaW5nIj09dHlwZW9mIHQpe2lmKG4pYShuKTtlbHNlIHRyeXthKHIuYXBpTG9hZGVyKGUuc2VydmljZUlkZW50aWZpZXIsdCkpfWNhdGNoKG4pe3Rocm93IHIudXRpbC5lcnJvcihuLHttZXNzYWdlOiJDb3VsZCBub3QgZmluZCBBUEkgY29uZmlndXJhdGlvbiAiK2Uuc2VydmljZUlkZW50aWZpZXIrIi0iK3R9KX1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5zZXJ2aWNlcyx0KXx8KGUuYXBpVmVyc2lvbnM9ZS5hcGlWZXJzaW9ucy5jb25jYXQodCkuc29ydCgpKSxlLnNlcnZpY2VzW3RdPW99ZWxzZSBhKHQpO3JldHVybiByLlNlcnZpY2UuZGVmaW5lTWV0aG9kcyhvKSxvfSxoYXNTZXJ2aWNlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoci5TZXJ2aWNlLl9zZXJ2aWNlTWFwLGUpfSxhZGREZWZhdWx0TW9uaXRvcmluZ0xpc3RlbmVyczpmdW5jdGlvbihlKXtlLmFkZE5hbWVkTGlzdGVuZXIoIk1PTklUT1JfRVZFTlRTX0JVQkJMRSIsImFwaUNhbGxBdHRlbXB0IiwoZnVuY3Rpb24odCl7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO24uX2V2ZW50cyYmbi5lbWl0KCJhcGlDYWxsQXR0ZW1wdCIsW3RdKX0pKSxlLmFkZE5hbWVkTGlzdGVuZXIoIkNBTExfRVZFTlRTX0JVQkJMRSIsImFwaUNhbGwiLChmdW5jdGlvbih0KXt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7bi5fZXZlbnRzJiZuLmVtaXQoImFwaUNhbGwiLFt0XSl9KSl9LF9zZXJ2aWNlTWFwOnt9fSksci51dGlsLm1peGluKHIuU2VydmljZSxyLlNlcXVlbnRpYWxFeGVjdXRvciksdC5leHBvcnRzPXIuU2VydmljZX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi9tb2RlbC9hcGkiOjQwLCIuL3JlZ2lvbi91dGlscyI6NTUsIi4vcmVnaW9uX2NvbmZpZyI6NTYsX3Byb2Nlc3M6OTF9XSw2MzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uL2NvbmZpZ19yZWdpb25hbF9lbmRwb2ludCIpO3IudXRpbC51cGRhdGUoci5TVFMucHJvdG90eXBlLHtjcmVkZW50aWFsc0Zyb206ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odHx8KHQ9bmV3IHIuVGVtcG9yYXJ5Q3JlZGVudGlhbHMpLHQuZXhwaXJlZD0hMSx0LmFjY2Vzc0tleUlkPWUuQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQsdC5zZWNyZXRBY2Nlc3NLZXk9ZS5DcmVkZW50aWFscy5TZWNyZXRBY2Nlc3NLZXksdC5zZXNzaW9uVG9rZW49ZS5DcmVkZW50aWFscy5TZXNzaW9uVG9rZW4sdC5leHBpcmVUaW1lPWUuQ3JlZGVudGlhbHMuRXhwaXJhdGlvbix0KTpudWxsfSxhc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QoImFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkiLGUsdCl9LGFzc3VtZVJvbGVXaXRoU0FNTDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0KCJhc3N1bWVSb2xlV2l0aFNBTUwiLGUsdCl9LHNldHVwUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbihlKXtlLmFkZExpc3RlbmVyKCJ2YWxpZGF0ZSIsdGhpcy5vcHRJblJlZ2lvbmFsRW5kcG9pbnQsITApfSxvcHRJblJlZ2lvbmFsRW5kcG9pbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLG49dC5jb25maWc7aWYobi5zdHNSZWdpb25hbEVuZHBvaW50cz1vKHQuX29yaWdpbmFsQ29uZmlnLHtlbnY6IkFXU19TVFNfUkVHSU9OQUxfRU5EUE9JTlRTIixzaGFyZWRDb25maWc6InN0c19yZWdpb25hbF9lbmRwb2ludHMiLGNsaWVudENvbmZpZzoic3RzUmVnaW9uYWxFbmRwb2ludHMifSksInJlZ2lvbmFsIj09PW4uc3RzUmVnaW9uYWxFbmRwb2ludHMmJnQuaXNHbG9iYWxFbmRwb2ludCl7aWYoIW4ucmVnaW9uKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ0Vycm9yIixtZXNzYWdlOiJNaXNzaW5nIHJlZ2lvbiBpbiBjb25maWcifSk7dmFyIGk9bi5lbmRwb2ludC5pbmRleE9mKCIuYW1hem9uYXdzLmNvbSIpLGE9bi5lbmRwb2ludC5zdWJzdHJpbmcoMCxpKSsiLiIrbi5yZWdpb24rbi5lbmRwb2ludC5zdWJzdHJpbmcoaSk7ZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChhKSxlLmh0dHBSZXF1ZXN0LnJlZ2lvbj1uLnJlZ2lvbn19fSl9LHsiLi4vY29uZmlnX3JlZ2lvbmFsX2VuZHBvaW50IjoxOCwiLi4vY29yZSI6MTl9XSw2NDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKTtyLlNpZ25lcnMuQmVhcmVyPXIudXRpbC5pbmhlcml0KHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtyLlNpZ25lcnMuUmVxdWVzdFNpZ25lci5jYWxsKHRoaXMsZSl9LGFkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSl7dGhpcy5yZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbj0iQmVhcmVyICIrZS50b2tlbn19KX0seyIuLi9jb3JlIjoxOX1dLDY1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQsaT0icHJlc2lnbmVkLWV4cGlyZXMiO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldLG49ZS5zZXJ2aWNlLmdldFNpZ25lckNsYXNzKGUpO2lmKGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlVzZXItQWdlbnQiXSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1Vc2VyLUFnZW50Il0sbj09PXIuU2lnbmVycy5WNCl7aWYodD42MDQ4MDApdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiSW52YWxpZEV4cGlyeVRpbWUiLG1lc3NhZ2U6IlByZXNpZ25pbmcgZG9lcyBub3Qgc3VwcG9ydCBleHBpcnkgdGltZSBncmVhdGVyIHRoYW4gYSB3ZWVrIHdpdGggU2lnVjQgc2lnbmluZy4iLHJldHJ5YWJsZTohMX0pO2UuaHR0cFJlcXVlc3QuaGVhZGVyc1tpXT10fWVsc2V7aWYobiE9PXIuU2lnbmVycy5TMyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHttZXNzYWdlOiJQcmVzaWduaW5nIG9ubHkgc3VwcG9ydHMgUzMgb3IgU2lnVjQgc2lnbmluZy4iLGNvZGU6IlVuc3VwcG9ydGVkU2lnbmVyIixyZXRyeWFibGU6ITF9KTt2YXIgbz1lLnNlcnZpY2U/ZS5zZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCk6ci51dGlsLmRhdGUuZ2V0RGF0ZSgpO2UuaHR0cFJlcXVlc3QuaGVhZGVyc1tpXT1wYXJzZUludChyLnV0aWwuZGF0ZS51bml4VGltZXN0YW1wKG8pK3QsMTApLnRvU3RyaW5nKCl9fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5odHRwUmVxdWVzdC5lbmRwb2ludCxuPXIudXRpbC51cmxQYXJzZShlLmh0dHBSZXF1ZXN0LnBhdGgpLG89e307bi5zZWFyY2gmJihvPXIudXRpbC5xdWVyeVN0cmluZ1BhcnNlKG4uc2VhcmNoLnN1YnN0cigxKSkpO3ZhciBhPWUuaHR0cFJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uLnNwbGl0KCIgIik7aWYoIkFXUyI9PT1hWzBdKWE9YVsxXS5zcGxpdCgiOiIpLG8uU2lnbmF0dXJlPWEucG9wKCksby5BV1NBY2Nlc3NLZXlJZD1hLmpvaW4oIjoiKSxyLnV0aWwuZWFjaChlLmh0dHBSZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7ZT09PWkmJihlPSJFeHBpcmVzIiksMD09PWUuaW5kZXhPZigieC1hbXotbWV0YS0iKSYmKGRlbGV0ZSBvW2VdLGU9ZS50b0xvd2VyQ2FzZSgpKSxvW2VdPXR9KSksZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1tpXSxkZWxldGUgby5BdXRob3JpemF0aW9uLGRlbGV0ZSBvLkhvc3Q7ZWxzZSBpZigiQVdTNC1ITUFDLVNIQTI1NiI9PT1hWzBdKXthLnNoaWZ0KCk7dmFyIHM9YS5qb2luKCIgIikubWF0Y2goL1NpZ25hdHVyZT0oLio/KSg/Oix8XHN8XHI/XG58JCkvKVsxXTtvWyJYLUFtei1TaWduYXR1cmUiXT1zLGRlbGV0ZSBvLkV4cGlyZXN9dC5wYXRobmFtZT1uLnBhdGhuYW1lLHQuc2VhcmNoPXIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKG8pfXIuU2lnbmVycy5QcmVzaWduPW8oe3NpZ246ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1tpXT10fHwzNjAwLGUub24oImJ1aWxkIixhKSxlLm9uKCJzaWduIixzKSxlLnJlbW92ZUxpc3RlbmVyKCJhZnRlckJ1aWxkIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuU0VUX0NPTlRFTlRfTEVOR1RIKSxlLnJlbW92ZUxpc3RlbmVyKCJhZnRlckJ1aWxkIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuQ09NUFVURV9TSEEyNTYpLGUuZW1pdCgiYmVmb3JlUHJlc2lnbiIsW2VdKSwhbil7aWYoZS5idWlsZCgpLGUucmVzcG9uc2UuZXJyb3IpdGhyb3cgZS5yZXNwb25zZS5lcnJvcjtyZXR1cm4gci51dGlsLnVybEZvcm1hdChlLmh0dHBSZXF1ZXN0LmVuZHBvaW50KX1lLmJ1aWxkKChmdW5jdGlvbigpe3RoaXMucmVzcG9uc2UuZXJyb3I/bih0aGlzLnJlc3BvbnNlLmVycm9yKTpuKG51bGwsci51dGlsLnVybEZvcm1hdChlLmh0dHBSZXF1ZXN0LmVuZHBvaW50KSl9KSl9fSksdC5leHBvcnRzPXIuU2lnbmVycy5QcmVzaWdufSx7Ii4uL2NvcmUiOjE5fV0sNjY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcj1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3Q9ZX0sc2V0U2VydmljZUNsaWVudElkOmZ1bmN0aW9uKGUpe3RoaXMuc2VydmljZUNsaWVudElkPWV9LGdldFNlcnZpY2VDbGllbnRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlcnZpY2VDbGllbnRJZH19KSxyLlNpZ25lcnMuUmVxdWVzdFNpZ25lci5nZXRWZXJzaW9uPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlInYyIjpyZXR1cm4gci5TaWduZXJzLlYyO2Nhc2UidjMiOnJldHVybiByLlNpZ25lcnMuVjM7Y2FzZSJzM3Y0IjpjYXNlInY0IjpyZXR1cm4gci5TaWduZXJzLlY0O2Nhc2UiczMiOnJldHVybiByLlNpZ25lcnMuUzM7Y2FzZSJ2M2h0dHBzIjpyZXR1cm4gci5TaWduZXJzLlYzSHR0cHM7Y2FzZSJiZWFyZXIiOnJldHVybiByLlNpZ25lcnMuQmVhcmVyfXRocm93IG5ldyBFcnJvcigiVW5rbm93biBzaWduaW5nIHZlcnNpb24gIitlKX0sZSgiLi92MiIpLGUoIi4vdjMiKSxlKCIuL3YzaHR0cHMiKSxlKCIuL3Y0IiksZSgiLi9zMyIpLGUoIi4vcHJlc2lnbiIpLGUoIi4vYmVhcmVyIil9LHsiLi4vY29yZSI6MTksIi4vYmVhcmVyIjo2NCwiLi9wcmVzaWduIjo2NSwiLi9zMyI6NjcsIi4vdjIiOjY4LCIuL3YzIjo2OSwiLi92M2h0dHBzIjo3MCwiLi92NCI6NzF9XSw2NzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5TMz1vKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHtzdWJSZXNvdXJjZXM6e2FjbDoxLGFjY2VsZXJhdGU6MSxhbmFseXRpY3M6MSxjb3JzOjEsbGlmZWN5Y2xlOjEsZGVsZXRlOjEsaW52ZW50b3J5OjEsbG9jYXRpb246MSxsb2dnaW5nOjEsbWV0cmljczoxLG5vdGlmaWNhdGlvbjoxLHBhcnROdW1iZXI6MSxwb2xpY3k6MSxyZXF1ZXN0UGF5bWVudDoxLHJlcGxpY2F0aW9uOjEscmVzdG9yZToxLHRhZ2dpbmc6MSx0b3JyZW50OjEsdXBsb2FkSWQ6MSx1cGxvYWRzOjEsdmVyc2lvbklkOjEsdmVyc2lvbmluZzoxLHZlcnNpb25zOjEsd2Vic2l0ZToxfSxyZXNwb25zZUhlYWRlcnM6eyJyZXNwb25zZS1jb250ZW50LXR5cGUiOjEsInJlc3BvbnNlLWNvbnRlbnQtbGFuZ3VhZ2UiOjEsInJlc3BvbnNlLWV4cGlyZXMiOjEsInJlc3BvbnNlLWNhY2hlLWNvbnRyb2wiOjEsInJlc3BvbnNlLWNvbnRlbnQtZGlzcG9zaXRpb24iOjEsInJlc3BvbnNlLWNvbnRlbnQtZW5jb2RpbmciOjF9LGFkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt0aGlzLnJlcXVlc3QuaGVhZGVyc1sicHJlc2lnbmVkLWV4cGlyZXMiXXx8KHRoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl09ci51dGlsLmRhdGUucmZjODIyKHQpKSxlLnNlc3Npb25Ub2tlbiYmKHRoaXMucmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdPWUuc2Vzc2lvblRva2VuKTt2YXIgbj10aGlzLnNpZ24oZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSksbz0iQVdTICIrZS5hY2Nlc3NLZXlJZCsiOiIrbjt0aGlzLnJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uPW99LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdCx0PVtdO3QucHVzaChlLm1ldGhvZCksdC5wdXNoKGUuaGVhZGVyc1siQ29udGVudC1NRDUiXXx8IiIpLHQucHVzaChlLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdfHwiIiksdC5wdXNoKGUuaGVhZGVyc1sicHJlc2lnbmVkLWV4cGlyZXMiXXx8IiIpO3ZhciBuPXRoaXMuY2Fub25pY2FsaXplZEFtekhlYWRlcnMoKTtyZXR1cm4gbiYmdC5wdXNoKG4pLHQucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZWRSZXNvdXJjZSgpKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbGl6ZWRBbXpIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107ci51dGlsLmVhY2godGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQpe3QubWF0Y2goL154LWFtei0vaSkmJmUucHVzaCh0KX0pKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKTx0LnRvTG93ZXJDYXNlKCk/LTE6MX0pKTt2YXIgdD1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsZSwoZnVuY3Rpb24oZSl7dC5wdXNoKGUudG9Mb3dlckNhc2UoKSsiOiIrU3RyaW5nKHRoaXMucmVxdWVzdC5oZWFkZXJzW2VdKSl9KSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxpemVkUmVzb3VyY2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3QsdD1lLnBhdGguc3BsaXQoIj8iKSxuPXRbMF0sbz10WzFdLGk9IiI7aWYoZS52aXJ0dWFsSG9zdGVkQnVja2V0JiYoaSs9Ii8iK2UudmlydHVhbEhvc3RlZEJ1Y2tldCksaSs9bixvKXt2YXIgYT1bXTtyLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyxvLnNwbGl0KCImIiksKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIj0iKVswXSxuPWUuc3BsaXQoIj0iKVsxXTtpZih0aGlzLnN1YlJlc291cmNlc1t0XXx8dGhpcy5yZXNwb25zZUhlYWRlcnNbdF0pe3ZhciByPXtuYW1lOnR9O3ZvaWQgMCE9PW4mJih0aGlzLnN1YlJlc291cmNlc1t0XT9yLnZhbHVlPW46ci52YWx1ZT1kZWNvZGVVUklDb21wb25lbnQobikpLGEucHVzaChyKX19KSksYS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLm5hbWU8dC5uYW1lPy0xOjF9KSksYS5sZW5ndGgmJihvPVtdLHIudXRpbC5hcnJheUVhY2goYSwoZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS52YWx1ZT9vLnB1c2goZS5uYW1lKTpvLnB1c2goZS5uYW1lKyI9IitlLnZhbHVlKX0pKSxpKz0iPyIrby5qb2luKCImIikpfXJldHVybiBpfSxzaWduOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIudXRpbC5jcnlwdG8uaG1hYyhlLHQsImJhc2U2NCIsInNoYTEiKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlMzfSx7Ii4uL2NvcmUiOjE5fV0sNjg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLlNpZ25lcnMuVjI9byhyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7YWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3R8fCh0PXIudXRpbC5kYXRlLmdldERhdGUoKSk7dmFyIG49dGhpcy5yZXF1ZXN0O24ucGFyYW1zLlRpbWVzdGFtcD1yLnV0aWwuZGF0ZS5pc284NjAxKHQpLG4ucGFyYW1zLlNpZ25hdHVyZVZlcnNpb249IjIiLG4ucGFyYW1zLlNpZ25hdHVyZU1ldGhvZD0iSG1hY1NIQTI1NiIsbi5wYXJhbXMuQVdTQWNjZXNzS2V5SWQ9ZS5hY2Nlc3NLZXlJZCxlLnNlc3Npb25Ub2tlbiYmKG4ucGFyYW1zLlNlY3VyaXR5VG9rZW49ZS5zZXNzaW9uVG9rZW4pLGRlbGV0ZSBuLnBhcmFtcy5TaWduYXR1cmUsbi5wYXJhbXMuU2lnbmF0dXJlPXRoaXMuc2lnbmF0dXJlKGUpLG4uYm9keT1yLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhuLnBhcmFtcyksbi5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdPW4uYm9keS5sZW5ndGh9LHNpZ25hdHVyZTpmdW5jdGlvbihlKXtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKGUuc2VjcmV0QWNjZXNzS2V5LHRoaXMuc3RyaW5nVG9TaWduKCksImJhc2U2NCIpfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZS5wdXNoKHRoaXMucmVxdWVzdC5tZXRob2QpLGUucHVzaCh0aGlzLnJlcXVlc3QuZW5kcG9pbnQuaG9zdC50b0xvd2VyQ2FzZSgpKSxlLnB1c2godGhpcy5yZXF1ZXN0LnBhdGhuYW1lKCkpLGUucHVzaChyLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyh0aGlzLnJlcXVlc3QucGFyYW1zKSksZS5qb2luKCJcbiIpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjJ9LHsiLi4vY29yZSI6MTl9XSw2OTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5WMz1vKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHthZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49ci51dGlsLmRhdGUucmZjODIyKHQpO3RoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtei1EYXRlIl09bixlLnNlc3Npb25Ub2tlbiYmKHRoaXMucmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1zZWN1cml0eS10b2tlbiJdPWUuc2Vzc2lvblRva2VuKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXpuLUF1dGhvcml6YXRpb24iXT10aGlzLmF1dGhvcml6YXRpb24oZSxuKX0sYXV0aG9yaXphdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4iQVdTMyBBV1NBY2Nlc3NLZXlJZD0iK2UuYWNjZXNzS2V5SWQrIixBbGdvcml0aG09SG1hY1NIQTI1NixTaWduZWRIZWFkZXJzPSIrdGhpcy5zaWduZWRIZWFkZXJzKCkrIixTaWduYXR1cmU9Iit0aGlzLnNpZ25hdHVyZShlKX0sc2lnbmVkSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoKHRoaXMuaGVhZGVyc1RvU2lnbigpLChmdW5jdGlvbih0KXtlLnB1c2godC50b0xvd2VyQ2FzZSgpKX0pKSxlLnNvcnQoKS5qb2luKCI7Iil9LGNhbm9uaWNhbEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3QuaGVhZGVycyx0PVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoKHRoaXMuaGVhZGVyc1RvU2lnbigpLChmdW5jdGlvbihuKXt0LnB1c2gobi50b0xvd2VyQ2FzZSgpLnRyaW0oKSsiOiIrU3RyaW5nKGVbbl0pLnRyaW0oKSl9KSksdC5zb3J0KCkuam9pbigiXG4iKSsiXG4ifSxoZWFkZXJzVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHIudXRpbC5lYWNoKHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0KXsoIkhvc3QiPT09dHx8IkNvbnRlbnQtRW5jb2RpbmciPT09dHx8dC5tYXRjaCgvXlgtQW16L2kpKSYmZS5wdXNoKHQpfSkpLGV9LHNpZ25hdHVyZTpmdW5jdGlvbihlKXtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKGUuc2VjcmV0QWNjZXNzS2V5LHRoaXMuc3RyaW5nVG9TaWduKCksImJhc2U2NCIpfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZS5wdXNoKHRoaXMucmVxdWVzdC5tZXRob2QpLGUucHVzaCgiLyIpLGUucHVzaCgiIiksZS5wdXNoKHRoaXMuY2Fub25pY2FsSGVhZGVycygpKSxlLnB1c2godGhpcy5yZXF1ZXN0LmJvZHkpLHIudXRpbC5jcnlwdG8uc2hhMjU2KGUuam9pbigiXG4iKSl9fSksdC5leHBvcnRzPXIuU2lnbmVycy5WM30seyIuLi9jb3JlIjoxOX1dLDcwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ZSgiLi92MyIpLHIuU2lnbmVycy5WM0h0dHBzPW8oci5TaWduZXJzLlYzLHthdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiJBV1MzLUhUVFBTIEFXU0FjY2Vzc0tleUlkPSIrZS5hY2Nlc3NLZXlJZCsiLEFsZ29yaXRobT1IbWFjU0hBMjU2LFNpZ25hdHVyZT0iK3RoaXMuc2lnbmF0dXJlKGUpfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlYzSHR0cHN9LHsiLi4vY29yZSI6MTksIi4vdjMiOjY5fV0sNzE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuL3Y0X2NyZWRlbnRpYWxzIiksaT1yLnV0aWwuaW5oZXJpdCxhPSJwcmVzaWduZWQtZXhwaXJlcyI7ci5TaWduZXJzLlY0PWkoci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxuKXtyLlNpZ25lcnMuUmVxdWVzdFNpZ25lci5jYWxsKHRoaXMsZSksdGhpcy5zZXJ2aWNlTmFtZT10LG49bnx8e30sdGhpcy5zaWduYXR1cmVDYWNoZT0iYm9vbGVhbiIhPXR5cGVvZiBuLnNpZ25hdHVyZUNhY2hlfHxuLnNpZ25hdHVyZUNhY2hlLHRoaXMub3BlcmF0aW9uPW4ub3BlcmF0aW9uLHRoaXMuc2lnbmF0dXJlVmVyc2lvbj1uLnNpZ25hdHVyZVZlcnNpb259LGFsZ29yaXRobToiQVdTNC1ITUFDLVNIQTI1NiIsYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXIudXRpbC5kYXRlLmlzbzg2MDEodCkucmVwbGFjZSgvWzpcLV18XC5cZHszfS9nLCIiKTt0aGlzLmlzUHJlc2lnbmVkKCk/dGhpcy51cGRhdGVGb3JQcmVzaWduZWQoZSxuKTp0aGlzLmFkZEhlYWRlcnMoZSxuKSx0aGlzLnJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uPXRoaXMuYXV0aG9yaXphdGlvbihlLG4pfSxhZGRIZWFkZXJzOmZ1bmN0aW9uKGUsdCl7dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT10LGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pfSx1cGRhdGVGb3JQcmVzaWduZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWRlbnRpYWxTdHJpbmcodCksbz17IlgtQW16LURhdGUiOnQsIlgtQW16LUFsZ29yaXRobSI6dGhpcy5hbGdvcml0aG0sIlgtQW16LUNyZWRlbnRpYWwiOmUuYWNjZXNzS2V5SWQrIi8iK24sIlgtQW16LUV4cGlyZXMiOnRoaXMucmVxdWVzdC5oZWFkZXJzW2FdLCJYLUFtei1TaWduZWRIZWFkZXJzIjp0aGlzLnNpZ25lZEhlYWRlcnMoKX07ZS5zZXNzaW9uVG9rZW4mJihvWyJYLUFtei1TZWN1cml0eS1Ub2tlbiJdPWUuc2Vzc2lvblRva2VuKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl0mJihvWyJDb250ZW50LVR5cGUiXT10aGlzLnJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl0pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LU1ENSJdJiYob1siQ29udGVudC1NRDUiXT10aGlzLnJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1NRDUiXSksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNhY2hlLUNvbnRyb2wiXSYmKG9bIkNhY2hlLUNvbnRyb2wiXT10aGlzLnJlcXVlc3QuaGVhZGVyc1siQ2FjaGUtQ29udHJvbCJdKSxyLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7aWYoZSE9PWEmJnRoaXMuaXNTaWduYWJsZUhlYWRlcihlKSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpOzA9PT1uLmluZGV4T2YoIngtYW16LW1ldGEtIik/b1tuXT10OjA9PT1uLmluZGV4T2YoIngtYW16LSIpJiYob1tlXT10KX19KSk7dmFyIGk9dGhpcy5yZXF1ZXN0LnBhdGguaW5kZXhPZigiPyIpPj0wPyImIjoiPyI7dGhpcy5yZXF1ZXN0LnBhdGgrPWkrci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobyl9LGF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxyPXRoaXMuY3JlZGVudGlhbFN0cmluZyh0KTtyZXR1cm4gbi5wdXNoKHRoaXMuYWxnb3JpdGhtKyIgQ3JlZGVudGlhbD0iK2UuYWNjZXNzS2V5SWQrIi8iK3IpLG4ucHVzaCgiU2lnbmVkSGVhZGVycz0iK3RoaXMuc2lnbmVkSGVhZGVycygpKSxuLnB1c2goIlNpZ25hdHVyZT0iK3RoaXMuc2lnbmF0dXJlKGUsdCkpLG4uam9pbigiLCAiKX0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUsdCl7dmFyIG49by5nZXRTaWduaW5nS2V5KGUsdC5zdWJzdHIoMCw4KSx0aGlzLnJlcXVlc3QucmVnaW9uLHRoaXMuc2VydmljZU5hbWUsdGhpcy5zaWduYXR1cmVDYWNoZSk7cmV0dXJuIHIudXRpbC5jcnlwdG8uaG1hYyhuLHRoaXMuc3RyaW5nVG9TaWduKHQpLCJoZXgiKX0sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LnB1c2goIkFXUzQtSE1BQy1TSEEyNTYiKSx0LnB1c2goZSksdC5wdXNoKHRoaXMuY3JlZGVudGlhbFN0cmluZyhlKSksdC5wdXNoKHRoaXMuaGV4RW5jb2RlZEhhc2godGhpcy5jYW5vbmljYWxTdHJpbmcoKSkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9W10sdD10aGlzLnJlcXVlc3QucGF0aG5hbWUoKTtyZXR1cm4iczMiIT09dGhpcy5zZXJ2aWNlTmFtZSYmInMzdjQiIT09dGhpcy5zaWduYXR1cmVWZXJzaW9uJiYodD1yLnV0aWwudXJpRXNjYXBlUGF0aCh0KSksZS5wdXNoKHRoaXMucmVxdWVzdC5tZXRob2QpLGUucHVzaCh0KSxlLnB1c2godGhpcy5yZXF1ZXN0LnNlYXJjaCgpKSxlLnB1c2godGhpcy5jYW5vbmljYWxIZWFkZXJzKCkrIlxuIiksZS5wdXNoKHRoaXMuc2lnbmVkSGVhZGVycygpKSxlLnB1c2godGhpcy5oZXhFbmNvZGVkQm9keUhhc2goKSksZS5qb2luKCJcbiIpfSxjYW5vbmljYWxIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107ci51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0LG4pe2UucHVzaChbdCxuXSl9KSksZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlWzBdLnRvTG93ZXJDYXNlKCk8dFswXS50b0xvd2VyQ2FzZSgpPy0xOjF9KSk7dmFyIHQ9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLGUsKGZ1bmN0aW9uKGUpe3ZhciBuPWVbMF0udG9Mb3dlckNhc2UoKTtpZih0aGlzLmlzU2lnbmFibGVIZWFkZXIobikpe3ZhciBvPWVbMV07aWYobnVsbD09b3x8ImZ1bmN0aW9uIiE9dHlwZW9mIG8udG9TdHJpbmcpdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcigiSGVhZGVyICIrbisiIGNvbnRhaW5zIGludmFsaWQgdmFsdWUiKSx7Y29kZToiSW52YWxpZEhlYWRlciJ9KTt0LnB1c2gobisiOiIrdGhpcy5jYW5vbmljYWxIZWFkZXJWYWx1ZXMoby50b1N0cmluZygpKSl9fSkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsSGVhZGVyVmFsdWVzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xzKy9nLCIgIikucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxzaWduZWRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHIudXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCl7dD10LnRvTG93ZXJDYXNlKCksdGhpcy5pc1NpZ25hYmxlSGVhZGVyKHQpJiZlLnB1c2godCl9KSksZS5zb3J0KCkuam9pbigiOyIpfSxjcmVkZW50aWFsU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBvLmNyZWF0ZVNjb3BlKGUuc3Vic3RyKDAsOCksdGhpcy5yZXF1ZXN0LnJlZ2lvbix0aGlzLnNlcnZpY2VOYW1lKX0saGV4RW5jb2RlZEhhc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudXRpbC5jcnlwdG8uc2hhMjU2KGUsImhleCIpfSxoZXhFbmNvZGVkQm9keUhhc2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlcXVlc3Q7cmV0dXJuIHRoaXMuaXNQcmVzaWduZWQoKSYmWyJzMyIsInMzLW9iamVjdC1sYW1iZGEiXS5pbmRleE9mKHRoaXMuc2VydmljZU5hbWUpPi0xJiYhZS5ib2R5PyJVTlNJR05FRC1QQVlMT0FEIjplLmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il0/ZS5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdOnRoaXMuaGV4RW5jb2RlZEhhc2godGhpcy5yZXF1ZXN0LmJvZHl8fCIiKX0sdW5zaWduYWJsZUhlYWRlcnM6WyJhdXRob3JpemF0aW9uIiwiY29udGVudC10eXBlIiwiY29udGVudC1sZW5ndGgiLCJ1c2VyLWFnZW50IixhLCJleHBlY3QiLCJ4LWFtem4tdHJhY2UtaWQiXSxpc1NpZ25hYmxlSGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIngtYW16LSIpfHx0aGlzLnVuc2lnbmFibGVIZWFkZXJzLmluZGV4T2YoZSk8MH0saXNQcmVzaWduZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucmVxdWVzdC5oZWFkZXJzW2FdfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjR9LHsiLi4vY29yZSI6MTksIi4vdjRfY3JlZGVudGlhbHMiOjcyfV0sNzI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz17fSxpPVtdLGE9ImF3czRfcmVxdWVzdCI7dC5leHBvcnRzPXtjcmVhdGVTY29wZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuW2Uuc3Vic3RyKDAsOCksdCxuLGFdLmpvaW4oIi8iKX0sZ2V0U2lnbmluZ0tleTpmdW5jdGlvbihlLHQsbixzLGMpe3ZhciB1PVtyLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksZS5hY2Nlc3NLZXlJZCwiYmFzZTY0IiksdCxuLHNdLmpvaW4oIl8iKTtpZigoYz0hMSE9PWMpJiZ1IGluIG8pcmV0dXJuIG9bdV07dmFyIGw9ci51dGlsLmNyeXB0by5obWFjKCJBV1M0IitlLnNlY3JldEFjY2Vzc0tleSx0LCJidWZmZXIiKSxwPXIudXRpbC5jcnlwdG8uaG1hYyhsLG4sImJ1ZmZlciIpLGQ9ci51dGlsLmNyeXB0by5obWFjKHAscywiYnVmZmVyIiksaD1yLnV0aWwuY3J5cHRvLmhtYWMoZCxhLCJidWZmZXIiKTtyZXR1cm4gYyYmKG9bdV09aCxpLnB1c2godSksaS5sZW5ndGg+NTAmJmRlbGV0ZSBvW2kuc2hpZnQoKV0pLGh9LGVtcHR5Q2FjaGU6ZnVuY3Rpb24oKXtvPXt9LGk9W119fX0seyIuLi9jb3JlIjoxOX1dLDczOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe3RoaXMuY3VycmVudFN0YXRlPXR8fG51bGwsdGhpcy5zdGF0ZXM9ZXx8e319ci5wcm90b3R5cGUucnVuVG89ZnVuY3Rpb24oZSx0LG4scil7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJihyPW4sbj10LHQ9ZSxlPW51bGwpO3ZhciBvPXRoaXMsaT1vLnN0YXRlc1tvLmN1cnJlbnRTdGF0ZV07aS5mbi5jYWxsKG58fG8sciwoZnVuY3Rpb24ocil7aWYocil7aWYoIWkuZmFpbClyZXR1cm4gdD90LmNhbGwobixyKTpudWxsO28uY3VycmVudFN0YXRlPWkuZmFpbH1lbHNle2lmKCFpLmFjY2VwdClyZXR1cm4gdD90LmNhbGwobik6bnVsbDtvLmN1cnJlbnRTdGF0ZT1pLmFjY2VwdH1pZihvLmN1cnJlbnRTdGF0ZT09PWUpcmV0dXJuIHQ/dC5jYWxsKG4scik6bnVsbDtvLnJ1blRvKGUsdCxuLHIpfSkpfSxyLnByb3RvdHlwZS5hZGRTdGF0ZT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD8ocj10LHQ9bnVsbCxuPW51bGwpOiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYocj1uLG49bnVsbCksdGhpcy5jdXJyZW50U3RhdGV8fCh0aGlzLmN1cnJlbnRTdGF0ZT1lKSx0aGlzLnN0YXRlc1tlXT17YWNjZXB0OnQsZmFpbDpuLGZuOnJ9LHRoaXN9LHQuZXhwb3J0cz1yfSx7fV0sNzQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obixyKXsoZnVuY3Rpb24oKXt2YXIgaSxhPXtlbnZpcm9ubWVudDoibm9kZWpzIixlbmdpbmU6ZnVuY3Rpb24oKXtpZihhLmlzQnJvd3NlcigpJiYidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcilyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudDt2YXIgZT1uLnBsYXRmb3JtKyIvIituLnZlcnNpb247cmV0dXJuIG4uZW52LkFXU19FWEVDVVRJT05fRU5WJiYoZSs9IiBleGVjLWVudi8iK24uZW52LkFXU19FWEVDVVRJT05fRU5WKSxlfSx1c2VyQWdlbnQ6ZnVuY3Rpb24oKXt2YXIgdD1hLmVudmlyb25tZW50LG49ImF3cy1zZGstIit0KyIvIitlKCIuL2NvcmUiKS5WRVJTSU9OO3JldHVybiJub2RlanMiPT09dCYmKG4rPSIgIithLmVuZ2luZSgpKSxufSx1cmlFc2NhcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZW5jb2RlVVJJQ29tcG9uZW50KGUpO3JldHVybiB0PSh0PXQucmVwbGFjZSgvW15BLVphLXowLTlfLn5cLSVdKy9nLGVzY2FwZSkpLnJlcGxhY2UoL1sqXS9nLChmdW5jdGlvbihlKXtyZXR1cm4iJSIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSkpfSx1cmlFc2NhcGVQYXRoOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBhLmFycmF5RWFjaChlLnNwbGl0KCIvIiksKGZ1bmN0aW9uKGUpe3QucHVzaChhLnVyaUVzY2FwZShlKSl9KSksdC5qb2luKCIvIil9LHVybFBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBhLnVybC5wYXJzZShlKX0sdXJsRm9ybWF0OmZ1bmN0aW9uKGUpe3JldHVybiBhLnVybC5mb3JtYXQoZSl9LHF1ZXJ5U3RyaW5nUGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGEucXVlcnlzdHJpbmcucGFyc2UoZSl9LHF1ZXJ5UGFyYW1zVG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9W10sbj1hLnVyaUVzY2FwZSxyPU9iamVjdC5rZXlzKGUpLnNvcnQoKTtyZXR1cm4gYS5hcnJheUVhY2gociwoZnVuY3Rpb24ocil7dmFyIG89ZVtyXSxpPW4ocikscz1pKyI9IjtpZihBcnJheS5pc0FycmF5KG8pKXt2YXIgYz1bXTthLmFycmF5RWFjaChvLChmdW5jdGlvbihlKXtjLnB1c2gobihlKSl9KSkscz1pKyI9IitjLnNvcnQoKS5qb2luKCImIitpKyI9Iil9ZWxzZSBudWxsIT1vJiYocz1pKyI9IituKG8pKTt0LnB1c2gocyl9KSksdC5qb2luKCImIil9LHJlYWRGaWxlU3luYzpmdW5jdGlvbih0KXtyZXR1cm4gYS5pc0Jyb3dzZXIoKT9udWxsOmUoImZzIikucmVhZEZpbGVTeW5jKHQsInV0Zi04Iil9LGJhc2U2NDp7ZW5jb2RlOmZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSl0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IGJhc2U2NCBlbmNvZGUgbnVtYmVyICIrZSkpO3JldHVybiBudWxsPT1lP2U6YS5idWZmZXIudG9CdWZmZXIoZSkudG9TdHJpbmcoImJhc2U2NCIpfSxkZWNvZGU6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXRocm93IGEuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgYmFzZTY0IGRlY29kZSBudW1iZXIgIitlKSk7cmV0dXJuIG51bGw9PWU/ZTphLmJ1ZmZlci50b0J1ZmZlcihlLCJiYXNlNjQiKX19LGJ1ZmZlcjp7dG9CdWZmZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5CdWZmZXIuZnJvbSYmYS5CdWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbT9hLkJ1ZmZlci5mcm9tKGUsdCk6bmV3IGEuQnVmZmVyKGUsdCl9LGFsbG9jOmZ1bmN0aW9uKGUsdCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJzaXplIHBhc3NlZCB0byBhbGxvYyBtdXN0IGJlIGEgbnVtYmVyLiIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBhLkJ1ZmZlci5hbGxvYylyZXR1cm4gYS5CdWZmZXIuYWxsb2MoZSx0LG4pO3ZhciByPW5ldyBhLkJ1ZmZlcihlKTtyZXR1cm4gdm9pZCAwIT09dCYmImZ1bmN0aW9uIj09dHlwZW9mIHIuZmlsbCYmci5maWxsKHQsdm9pZCAwLHZvaWQgMCxuKSxyfSx0b1N0cmVhbTpmdW5jdGlvbihlKXthLkJ1ZmZlci5pc0J1ZmZlcihlKXx8KGU9YS5idWZmZXIudG9CdWZmZXIoZSkpO3ZhciB0PW5ldyBhLnN0cmVhbS5SZWFkYWJsZSxuPTA7cmV0dXJuIHQuX3JlYWQ9ZnVuY3Rpb24ocil7aWYobj49ZS5sZW5ndGgpcmV0dXJuIHQucHVzaChudWxsKTt2YXIgbz1uK3I7bz5lLmxlbmd0aCYmKG89ZS5sZW5ndGgpLHQucHVzaChlLnNsaWNlKG4sbykpLG49b30sdH0sY29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wLG89MDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXIrPWVbbl0ubGVuZ3RoO2Zvcih0PWEuYnVmZmVyLmFsbG9jKHIpLG49MDtuPGUubGVuZ3RoO24rKyllW25dLmNvcHkodCxvKSxvKz1lW25dLmxlbmd0aDtyZXR1cm4gdH19LHN0cmluZzp7Ynl0ZUxlbmd0aDpmdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiAwO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9YS5idWZmZXIudG9CdWZmZXIodCkpLCJudW1iZXIiPT10eXBlb2YgdC5ieXRlTGVuZ3RoKXJldHVybiB0LmJ5dGVMZW5ndGg7aWYoIm51bWJlciI9PXR5cGVvZiB0Lmxlbmd0aClyZXR1cm4gdC5sZW5ndGg7aWYoIm51bWJlciI9PXR5cGVvZiB0LnNpemUpcmV0dXJuIHQuc2l6ZTtpZigic3RyaW5nIj09dHlwZW9mIHQucGF0aClyZXR1cm4gZSgiZnMiKS5sc3RhdFN5bmModC5wYXRoKS5zaXplO3Rocm93IGEuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgZGV0ZXJtaW5lIGxlbmd0aCBvZiAiK3QpLHtvYmplY3Q6dH0pfSx1cHBlckZpcnN0OmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSl9LGxvd2VyRmlyc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0udG9Mb3dlckNhc2UoKStlLnN1YnN0cigxKX19LGluaTp7cGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQsbj17fTtyZXR1cm4gYS5hcnJheUVhY2goZS5zcGxpdCgvXHI/XG4vKSwoZnVuY3Rpb24oZSl7aWYoIlsiPT09KGU9ZS5zcGxpdCgvKF58XHMpWzsjXS8pWzBdLnRyaW0oKSlbMF0mJiJdIj09PWVbZS5sZW5ndGgtMV0pe2lmKCJfX3Byb3RvX18iPT09KHQ9ZS5zdWJzdHJpbmcoMSxlLmxlbmd0aC0xKSl8fCJfX3Byb3RvX18iPT09dC5zcGxpdCgvXHMvKVsxXSl0aHJvdyBhLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IGxvYWQgcHJvZmlsZSBuYW1lICciK3QrIicgZnJvbSBzaGFyZWQgaW5pIGZpbGUuIikpfWVsc2UgaWYodCl7dmFyIHI9ZS5pbmRleE9mKCI9Iiksbz1lLmxlbmd0aC0xO2lmKC0xIT09ciYmMCE9PXImJnIhPT1vKXt2YXIgaT1lLnN1YnN0cmluZygwLHIpLnRyaW0oKSxzPWUuc3Vic3RyaW5nKHIrMSkudHJpbSgpO25bdF09blt0XXx8e30sblt0XVtpXT1zfX19KSksbn19LGZuOntub29wOmZ1bmN0aW9uKCl7fSxjYWxsYmFjazpmdW5jdGlvbihlKXtpZihlKXRocm93IGV9LG1ha2VBc3luYzpmdW5jdGlvbihlLHQpe3JldHVybiB0JiZ0PD1lLmxlbmd0aD9lOmZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3QucG9wKCkoZS5hcHBseShudWxsLHQpKX19fSxkYXRlOntnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGl8fChpPWUoIi4vY29yZSIpKSxpLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldD9uZXcgRGF0ZSgobmV3IERhdGUpLmdldFRpbWUoKStpLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCk6bmV3IERhdGV9LGlzbzg2MDE6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWEuZGF0ZS5nZXREYXRlKCkpLGUudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9cLlxkezN9WiQvLCJaIil9LHJmYzgyMjpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9YS5kYXRlLmdldERhdGUoKSksZS50b1VUQ1N0cmluZygpfSx1bml4VGltZXN0YW1wOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1hLmRhdGUuZ2V0RGF0ZSgpKSxlLmdldFRpbWUoKS8xZTN9LGZyb206ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlP25ldyBEYXRlKDFlMyplKTpuZXcgRGF0ZShlKX0sZm9ybWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PSJpc284NjAxIiksYS5kYXRlW3RdKGEuZGF0ZS5mcm9tKGUpKX0scGFyc2VUaW1lc3RhbXA6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiBuZXcgRGF0ZSgxZTMqZSk7aWYoZS5tYXRjaCgvXlxkKyQvKSlyZXR1cm4gbmV3IERhdGUoMWUzKmUpO2lmKGUubWF0Y2goL15cZHs0fS8pKXJldHVybiBuZXcgRGF0ZShlKTtpZihlLm1hdGNoKC9eXHd7M30sLykpcmV0dXJuIG5ldyBEYXRlKGUpO3Rocm93IGEuZXJyb3IobmV3IEVycm9yKCJ1bmhhbmRsZWQgdGltZXN0YW1wIGZvcm1hdDogIitlKSx7Y29kZToiVGltZXN0YW1wUGFyc2VyRXJyb3IifSl9fSxjcnlwdG86e2NyYzMyVGFibGU6WzAsMTk5Njk1OTg5NCwzOTkzOTE5Nzg4LDI1Njc1MjQ3OTQsMTI0NjM0MTM3LDE4ODYwNTc2MTUsMzkxNTYyMTY4NSwyNjU3MzkyMDM1LDI0OTI2ODI3NCwyMDQ0NTA4MzI0LDM3NzIxMTUyMzAsMjU0NzE3Nzg2NCwxNjI5NDE5OTUsMjEyNTU2MTAyMSwzODg3NjA3MDQ3LDI0Mjg0NDQwNDksNDk4NTM2NTQ4LDE3ODk5Mjc2NjYsNDA4OTAxNjY0OCwyMjI3MDYxMjE0LDQ1MDU0ODg2MSwxODQzMjU4NjAzLDQxMDc1ODA3NTMsMjIxMTY3NzYzOSwzMjU4ODM5OTAsMTY4NDc3NzE1Miw0MjUxMTIyMDQyLDIzMjE5MjY2MzYsMzM1NjMzNDg3LDE2NjEzNjU0NjUsNDE5NTMwMjc1NSwyMzY2MTE1MzE3LDk5NzA3MzA5NiwxMjgxOTUzODg2LDM1Nzk4NTUzMzIsMjcyNDY4ODI0MiwxMDA2ODg4MTQ1LDEyNTg2MDc2ODcsMzUyNDEwMTYyOSwyNzY4OTQyNDQzLDkwMTA5NzcyMiwxMTE5MDAwNjg0LDM2ODY1MTcyMDYsMjg5ODA2NTcyOCw4NTMwNDQ0NTEsMTE3MjI2NjEwMSwzNzA1MDE1NzU5LDI4ODI2MTY2NjUsNjUxNzY3OTgwLDEzNzM1MDM1NDYsMzM2OTU1NDMwNCwzMjE4MTA0NTk4LDU2NTUwNzI1MywxNDU0NjIxNzMxLDM0ODUxMTE3MDUsMzA5OTQzNjMwMyw2NzEyNjY5NzQsMTU5NDE5ODAyNCwzMzIyNzMwOTMwLDI5NzAzNDc4MTIsNzk1ODM1NTI3LDE0ODMyMzAyMjUsMzI0NDM2NzI3NSwzMDYwMTQ5NTY1LDE5OTQxNDYxOTIsMzExNTg1MzQsMjU2MzkwNzc3Miw0MDIzNzE3OTMwLDE5MDc0NTk0NjUsMTEyNjM3MjE1LDI2ODAxNTMyNTMsMzkwNDQyNzA1OSwyMDEzNzc2MjkwLDI1MTcyMjAzNiwyNTE3MjE1Mzc0LDM3NzU4MzAwNDAsMjEzNzY1Njc2MywxNDEzNzY4MTMsMjQzOTI3NzcxOSwzODY1MjcxMjk3LDE4MDIxOTU0NDQsNDc2ODY0ODY2LDIyMzgwMDEzNjgsNDA2NjUwODg3OCwxODEyMzcwOTI1LDQ1MzA5MjczMSwyMTgxNjI1MDI1LDQxMTE0NTEyMjMsMTcwNjA4ODkwMiwzMTQwNDI3MDQsMjM0NDUzMjIwMiw0MjQwMDE3NTMyLDE2NTg2NTgyNzEsMzY2NjE5OTc3LDIzNjI2NzAzMjMsNDIyNDk5NDQwNSwxMzAzNTM1OTYwLDk4NDk2MTQ4NiwyNzQ3MDA3MDkyLDM1NjkwMzc1MzgsMTI1NjE3MDgxNywxMDM3NjA0MzExLDI3NjUyMTA3MzMsMzU1NDA3OTk5NSwxMTMxMDE0NTA2LDg3OTY3OTk5NiwyOTA5MjQzNDYyLDM2NjM3NzE4NTYsMTE0MTEyNDQ2Nyw4NTU4NDIyNzcsMjg1MjgwMTYzMSwzNzA4NjQ4NjQ5LDEzNDI1MzM5NDgsNjU0NDU5MzA2LDMxODgzOTYwNDgsMzM3MzAxNTE3NCwxNDY2NDc5OTA5LDU0NDE3OTYzNSwzMTEwNTIzOTEzLDM0NjI1MjIwMTUsMTU5MTY3MTA1NCw3MDIxMzg3NzYsMjk2NjQ2MDQ1MCwzMzUyNzk5NDEyLDE1MDQ5MTg4MDcsNzgzNTUxODczLDMwODI2NDA0NDMsMzIzMzQ0Mjk4OSwzOTg4MjkyMzg0LDI1OTYyNTQ2NDYsNjIzMTcwNjgsMTk1NzgxMDg0MiwzOTM5ODQ1OTQ1LDI2NDc4MTYxMTEsODE0NzA5OTcsMTk0MzgwMzUyMywzODE0OTE4OTMwLDI0ODk1OTY4MDQsMjI1Mjc0NDMwLDIwNTM3OTAzNzYsMzgyNjE3NTc1NSwyNDY2OTA2MDEzLDE2NzgxNjc0MywyMDk3NjUxMzc3LDQwMjc1NTI1ODAsMjI2NTQ5MDM4Niw1MDM0NDQwNzIsMTc2MjA1MDgxNCw0MTUwNDE3MjQ1LDIxNTQxMjkzNTUsNDI2NTIyMjI1LDE4NTI1MDc4NzksNDI3NTMxMzUyNiwyMzEyMzE3OTIwLDI4Mjc1MzYyNiwxNzQyNTU1ODUyLDQxODk3MDgxNDMsMjM5NDg3Nzk0NSwzOTc5MTc3NjMsMTYyMjE4MzYzNywzNjA0MzkwODg4LDI3MTQ4NjY1NTgsOTUzNzI5NzMyLDEzNDAwNzY2MjYsMzUxODcxOTk4NSwyNzk3MzYwOTk5LDEwNjg4MjgzODEsMTIxOTYzODg1OSwzNjI0NzQxODUwLDI5MzY2NzUxNDgsOTA2MTg1NDYyLDEwOTA4MTI1MTIsMzc0NzY3MjAwMywyODI1Mzc5NjY5LDgyOTMyOTEzNSwxMTgxMzM1MTYxLDM0MTIxNzc4MDQsMzE2MDgzNDg0Miw2MjgwODU0MDgsMTM4MjYwNTM2NiwzNDIzMzY5MTA5LDMxMzgwNzg0NjcsNTcwNTYyMjMzLDE0MjY0MDA4MTUsMzMxNzMxNjU0MiwyOTk4NzMzNjA4LDczMzIzOTk1NCwxNTU1MjYxOTU2LDMyNjg5MzU1OTEsMzA1MDM2MDYyNSw3NTI0NTk0MDMsMTU0MTMyMDIyMSwyNjA3MDcxOTIwLDM5NjU5NzMwMzAsMTk2OTkyMjk3Miw0MDczNTQ5OCwyNjE3ODM3MjI1LDM5NDM1NzcxNTEsMTkxMzA4Nzg3Nyw4MzkwODM3MSwyNTEyMzQxNjM0LDM4MDM3NDA2OTIsMjA3NTIwODYyMiwyMTMyNjExMTIsMjQ2MzI3MjYwMywzODU1OTkwMjg1LDIwOTQ4NTQwNzEsMTk4OTU4ODgxLDIyNjIwMjkwMTIsNDA1NzI2MDYxMCwxNzU5MzU5OTkyLDUzNDQxNDE5MCwyMTc2NzE4NTQxLDQxMzkzMjkxMTUsMTg3MzgzNjAwMSw0MTQ2NjQ1NjcsMjI4MjI0ODkzNCw0Mjc5MjAwMzY4LDE3MTE2ODQ1NTQsMjg1MjgxMTE2LDI0MDU4MDE3MjcsNDE2NzIxNjc0NSwxNjM0NDY3Nzk1LDM3NjIyOTcwMSwyNjg1MDY3ODk2LDM2MDgwMDc0MDYsMTMwODkxODYxMiw5NTY1NDM5MzgsMjgwODU1NTEwNSwzNDk1OTU4MjYzLDEyMzE2MzYzMDEsMTA0NzQyNzAzNSwyOTMyOTU5ODE4LDM2NTQ3MDM4MzYsMTA4ODM1OTI3MCw5MzY5MThlMywyODQ3NzE0ODk5LDM3MzY4Mzc4MjksMTIwMjkwMDg2Myw4MTcyMzM4OTcsMzE4MzM0MjEwOCwzNDAxMjM3MTMwLDE0MDQyNzc1NTIsNjE1ODE4MTUwLDMxMzQyMDc0OTMsMzQ1MzQyMTIwMywxNDIzODU3NDQ5LDYwMTQ1MDQzMSwzMDA5ODM3NjE0LDMyOTQ3MTA0NTYsMTU2NzEwMzc0Niw3MTE5Mjg3MjQsMzAyMDY2ODQ3MSwzMjcyMzgwMDY1LDE1MTAzMzQyMzUsNzU1MTY3MTE3XSxjcmMzMjpmdW5jdGlvbihlKXt2YXIgdD1hLmNyeXB0by5jcmMzMlRhYmxlLG49LTE7InN0cmluZyI9PXR5cGVvZiBlJiYoZT1hLmJ1ZmZlci50b0J1ZmZlcihlKSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspbj1uPj4+OF50WzI1NSYobl5lLnJlYWRVSW50OChyKSldO3JldHVybn5uPj4+MH0saG1hYzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbnx8KG49ImJpbmFyeSIpLCJidWZmZXIiPT09biYmKG49dm9pZCAwKSxyfHwocj0ic2hhMjU2IiksInN0cmluZyI9PXR5cGVvZiB0JiYodD1hLmJ1ZmZlci50b0J1ZmZlcih0KSksYS5jcnlwdG8ubGliLmNyZWF0ZUhtYWMocixlKS51cGRhdGUodCkuZGlnZXN0KG4pfSxtZDU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLmNyeXB0by5oYXNoKCJtZDUiLGUsdCxuKX0sc2hhMjU2OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5jcnlwdG8uaGFzaCgic2hhMjU2IixlLHQsbil9LGhhc2g6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9YS5jcnlwdG8uY3JlYXRlSGFzaChlKTtufHwobj0iYmluYXJ5IiksImJ1ZmZlciI9PT1uJiYobj12b2lkIDApLCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9YS5idWZmZXIudG9CdWZmZXIodCkpO3ZhciBzPWEuYXJyYXlTbGljZUZuKHQpLGM9YS5CdWZmZXIuaXNCdWZmZXIodCk7aWYoYS5pc0Jyb3dzZXIoKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdCYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGM9ITApLHImJiJvYmplY3QiPT09byh0KSYmImZ1bmN0aW9uIj09dHlwZW9mIHQub24mJiFjKXQub24oImRhdGEiLChmdW5jdGlvbihlKXtpLnVwZGF0ZShlKX0pKSx0Lm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe3IoZSl9KSksdC5vbigiZW5kIiwoZnVuY3Rpb24oKXtyKG51bGwsaS5kaWdlc3QobikpfSkpO2Vsc2V7aWYoIXJ8fCFzfHxjfHwidW5kZWZpbmVkIj09dHlwZW9mIEZpbGVSZWFkZXIpe2EuaXNCcm93c2VyKCkmJiJvYmplY3QiPT09byh0KSYmIWMmJih0PW5ldyBhLkJ1ZmZlcihuZXcgVWludDhBcnJheSh0KSkpO3ZhciB1PWkudXBkYXRlKHQpLmRpZ2VzdChuKTtyZXR1cm4gciYmcihudWxsLHUpLHV9dmFyIGw9MCxwPW5ldyBGaWxlUmVhZGVyO3Aub25lcnJvcj1mdW5jdGlvbigpe3IobmV3IEVycm9yKCJGYWlsZWQgdG8gcmVhZCBkYXRhLiIpKX0scC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgYS5CdWZmZXIobmV3IFVpbnQ4QXJyYXkocC5yZXN1bHQpKTtpLnVwZGF0ZShlKSxsKz1lLmxlbmd0aCxwLl9jb250aW51ZVJlYWRpbmcoKX0scC5fY29udGludWVSZWFkaW5nPWZ1bmN0aW9uKCl7aWYobD49dC5zaXplKXIobnVsbCxpLmRpZ2VzdChuKSk7ZWxzZXt2YXIgZT1sKzUyNDI4ODtlPnQuc2l6ZSYmKGU9dC5zaXplKSxwLnJlYWRBc0FycmF5QnVmZmVyKHMuY2FsbCh0LGwsZSkpfX0scC5fY29udGludWVSZWFkaW5nKCl9fSx0b0hleDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaCgoIjAiK2UuY2hhckNvZGVBdChuKS50b1N0cmluZygxNikpLnN1YnN0cigtMiwyKSk7cmV0dXJuIHQuam9pbigiIil9LGNyZWF0ZUhhc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGEuY3J5cHRvLmxpYi5jcmVhdGVIYXNoKGUpfX0sYWJvcnQ6e30sZWFjaDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxuLGVbbl0pPT09YS5hYm9ydClicmVha30sYXJyYXlFYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQuY2FsbCh0aGlzLGVbbl0scGFyc2VJbnQobiwxMCkpPT09YS5hYm9ydClicmVha30sdXBkYXRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuZWFjaCh0LChmdW5jdGlvbih0LG4pe2VbdF09bn0pKSxlfSxtZXJnZTpmdW5jdGlvbihlLHQpe3JldHVybiBhLnVwZGF0ZShhLmNvcHkoZSksdCl9LGNvcHk6ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07cmV0dXJuIHR9LGlzRW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuITE7cmV0dXJuITB9LGFycmF5U2xpY2VGbjpmdW5jdGlvbihlKXt2YXIgdD1lLnNsaWNlfHxlLndlYmtpdFNsaWNlfHxlLm1velNsaWNlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q6bnVsbH0saXNUeXBlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJih0PWEudHlwZU5hbWUodCkpLE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT09PSJbb2JqZWN0ICIrdCsiXSJ9LHR5cGVOYW1lOmZ1bmN0aW9uKGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJuYW1lIikpcmV0dXJuIGUubmFtZTt2YXIgdD1lLnRvU3RyaW5nKCksbj10Lm1hdGNoKC9eXHMqZnVuY3Rpb24gKC4rKVwoLyk7cmV0dXJuIG4/blsxXTp0fSxlcnJvcjpmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw7Zm9yKHZhciByIGluInN0cmluZyI9PXR5cGVvZiBlLm1lc3NhZ2UmJiIiIT09ZS5tZXNzYWdlJiYoInN0cmluZyI9PXR5cGVvZiB0fHx0JiZ0Lm1lc3NhZ2UpJiYoKG49YS5jb3B5KGUpKS5tZXNzYWdlPWUubWVzc2FnZSksZS5tZXNzYWdlPWUubWVzc2FnZXx8bnVsbCwic3RyaW5nIj09dHlwZW9mIHQ/ZS5tZXNzYWdlPXQ6Im9iamVjdCI9PT1vKHQpJiZudWxsIT09dCYmKGEudXBkYXRlKGUsdCksdC5tZXNzYWdlJiYoZS5tZXNzYWdlPXQubWVzc2FnZSksKHQuY29kZXx8dC5uYW1lKSYmKGUuY29kZT10LmNvZGV8fHQubmFtZSksdC5zdGFjayYmKGUuc3RhY2s9dC5zdGFjaykpLCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwibmFtZSIse3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITF9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwibWVzc2FnZSIse2VudW1lcmFibGU6ITB9KSksZS5uYW1lPVN0cmluZyh0JiZ0Lm5hbWV8fGUubmFtZXx8ZS5jb2RlfHwiRXJyb3IiKSxlLnRpbWU9bmV3IERhdGUsbiYmKGUub3JpZ2luYWxFcnJvcj1uKSx0fHx7fSlpZigiWyI9PT1yWzBdJiYiXSI9PT1yW3IubGVuZ3RoLTFdKXtpZigiY29kZSI9PT0ocj1yLnNsaWNlKDEsLTEpKXx8Im1lc3NhZ2UiPT09ciljb250aW51ZTtlWyJbIityKyJdIl09IlNlZSBlcnJvci4iK3IrIiBmb3IgZGV0YWlscy4iLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOmVbcl18fHQmJnRbcl18fG4mJm5bcl0sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pfXJldHVybiBlfSxpbmhlcml0OmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtpZih2b2lkIDA9PT10KXQ9ZSxlPU9iamVjdCxuPXt9O2Vsc2V7dmFyIHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlPWUucHJvdG90eXBlLG49bmV3IHJ9cmV0dXJuIHQuY29uc3RydWN0b3I9PT1PYmplY3QmJih0LmNvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7aWYoZSE9PU9iamVjdClyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZT1uLGEudXBkYXRlKHQuY29uc3RydWN0b3IucHJvdG90eXBlLHQpLHQuY29uc3RydWN0b3IuX19zdXBlcl9fPWUsdC5jb25zdHJ1Y3Rvcn0sbWl4aW46ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzWzBdLHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWZvcih2YXIgbiBpbiBhcmd1bWVudHNbdF0ucHJvdG90eXBlKXt2YXIgcj1hcmd1bWVudHNbdF0ucHJvdG90eXBlW25dOyJjb25zdHJ1Y3RvciIhPT1uJiYoZS5wcm90b3R5cGVbbl09cil9cmV0dXJuIGV9LGhpZGVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmYS5hcnJheUVhY2godCwoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX0pKX0scHJvcGVydHk6ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6dm9pZCAwPT09cnx8cn07ImZ1bmN0aW9uIiE9dHlwZW9mIG58fG8/KGkudmFsdWU9bixpLndyaXRhYmxlPSEwKTppLmdldD1uLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsaSl9LG1lbW9pemVkUHJvcGVydHk6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bnVsbDthLnByb3BlcnR5KGUsdCwoZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PW8mJihvPW4oKSksb30pLHIpfSxob2lzdFBheWxvYWRNZW1iZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5vcGVyYXRpb24scj10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbbl0sbz1yLm91dHB1dDtpZihvLnBheWxvYWQmJiFyLmhhc0V2ZW50T3V0cHV0KXt2YXIgaT1vLm1lbWJlcnNbby5wYXlsb2FkXSxzPWUuZGF0YVtvLnBheWxvYWRdOyJzdHJ1Y3R1cmUiPT09aS50eXBlJiZhLmVhY2gocywoZnVuY3Rpb24odCxuKXthLnByb3BlcnR5KGUuZGF0YSx0LG4sITEpfSkpfX0sY29tcHV0ZVNoYTI1NjpmdW5jdGlvbih0LG4pe2lmKGEuaXNOb2RlKCkpe3ZhciByPWEuc3RyZWFtLlN0cmVhbSxvPWUoImZzIik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHImJnQgaW5zdGFuY2VvZiByKXtpZigic3RyaW5nIiE9dHlwZW9mIHQucGF0aClyZXR1cm4gbihuZXcgRXJyb3IoIk5vbi1maWxlIHN0cmVhbSBvYmplY3RzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggU2lnVjQiKSk7dmFyIGk9e307Im51bWJlciI9PXR5cGVvZiB0LnN0YXJ0JiYoaS5zdGFydD10LnN0YXJ0KSwibnVtYmVyIj09dHlwZW9mIHQuZW5kJiYoaS5lbmQ9dC5lbmQpLHQ9by5jcmVhdGVSZWFkU3RyZWFtKHQucGF0aCxpKX19YS5jcnlwdG8uc2hhMjU2KHQsImhleCIsKGZ1bmN0aW9uKGUsdCl7ZT9uKGUpOm4obnVsbCx0KX0pKX0saXNDbG9ja1NrZXdlZDpmdW5jdGlvbihlKXtpZihlKXJldHVybiBhLnByb3BlcnR5KGkuY29uZmlnLCJpc0Nsb2NrU2tld2VkIixNYXRoLmFicygobmV3IERhdGUpLmdldFRpbWUoKS1lKT49M2U1LCExKSxpLmNvbmZpZy5pc0Nsb2NrU2tld2VkfSxhcHBseUNsb2NrT2Zmc2V0OmZ1bmN0aW9uKGUpe2UmJihpLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldD1lLShuZXcgRGF0ZSkuZ2V0VGltZSgpKX0sZXh0cmFjdFJlcXVlc3RJZDpmdW5jdGlvbihlKXt2YXIgdD1lLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1yZXF1ZXN0LWlkIl18fGUuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16bi1yZXF1ZXN0aWQiXTshdCYmZS5kYXRhJiZlLmRhdGEuUmVzcG9uc2VNZXRhZGF0YSYmKHQ9ZS5kYXRhLlJlc3BvbnNlTWV0YWRhdGEuUmVxdWVzdElkKSx0JiYoZS5yZXF1ZXN0SWQ9dCksZS5lcnJvciYmKGUuZXJyb3IucmVxdWVzdElkPXQpfSxhZGRQcm9taXNlczpmdW5jdGlvbihlLHQpe3ZhciBuPSExO3ZvaWQgMD09PXQmJmkmJmkuY29uZmlnJiYodD1pLmNvbmZpZy5nZXRQcm9taXNlc0RlcGVuZGVuY3koKSksdm9pZCAwPT09dCYmInVuZGVmaW5lZCIhPXR5cGVvZiBQcm9taXNlJiYodD1Qcm9taXNlKSwiZnVuY3Rpb24iIT10eXBlb2YgdCYmKG49ITApLEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPWVbcl07bj9vLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzJiZvLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzKCk6by5hZGRQcm9taXNlc1RvQ2xhc3MmJm8uYWRkUHJvbWlzZXNUb0NsYXNzKHQpfX0scHJvbWlzaWZ5TWV0aG9kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIG5ldyB0KChmdW5jdGlvbih0LG8pe3IucHVzaCgoZnVuY3Rpb24oZSxuKXtlP28oZSk6dChuKX0pKSxuW2VdLmFwcGx5KG4scil9KSl9fSxpc0R1YWxzdGFja0F2YWlsYWJsZTpmdW5jdGlvbih0KXtpZighdClyZXR1cm4hMTt2YXIgbj1lKCIuLi9hcGlzL21ldGFkYXRhLmpzb24iKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJih0PXQuc2VydmljZUlkZW50aWZpZXIpLCEoInN0cmluZyIhPXR5cGVvZiB0fHwhbi5oYXNPd25Qcm9wZXJ0eSh0KXx8IW5bdF0uZHVhbHN0YWNrQXZhaWxhYmxlKX0sY2FsY3VsYXRlUmV0cnlEZWxheTpmdW5jdGlvbihlLHQsbil7dHx8KHQ9e30pO3ZhciByPXQuY3VzdG9tQmFja29mZnx8bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgcilyZXR1cm4gcihlLG4pO3ZhciBvPSJudW1iZXIiPT10eXBlb2YgdC5iYXNlP3QuYmFzZToxMDA7cmV0dXJuIE1hdGgucmFuZG9tKCkqKE1hdGgucG93KDIsZSkqbyl9LGhhbmRsZVJlcXVlc3RXaXRoUmV0cmllczpmdW5jdGlvbihlLHQsbil7dHx8KHQ9e30pO3ZhciByPWkuSHR0cENsaWVudC5nZXRJbnN0YW5jZSgpLG89dC5odHRwT3B0aW9uc3x8e30scz0wLGM9ZnVuY3Rpb24oZSl7dmFyIHI9dC5tYXhSZXRyaWVzfHwwO2lmKGUmJiJUaW1lb3V0RXJyb3IiPT09ZS5jb2RlJiYoZS5yZXRyeWFibGU9ITApLGUmJmUucmV0cnlhYmxlJiZzPHIpe3ZhciBvPWEuY2FsY3VsYXRlUmV0cnlEZWxheShzLHQucmV0cnlEZWxheU9wdGlvbnMsZSk7aWYobz49MClyZXR1cm4gcysrLHZvaWQgc2V0VGltZW91dCh1LG8rKGUucmV0cnlBZnRlcnx8MCkpfW4oZSl9LHU9ZnVuY3Rpb24oKXt2YXIgdD0iIjtyLmhhbmRsZVJlcXVlc3QoZSxvLChmdW5jdGlvbihlKXtlLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7dCs9ZS50b1N0cmluZygpfSkpLGUub24oImVuZCIsKGZ1bmN0aW9uKCl7dmFyIHI9ZS5zdGF0dXNDb2RlO2lmKHI8MzAwKW4obnVsbCx0KTtlbHNle3ZhciBvPTFlMypwYXJzZUludChlLmhlYWRlcnNbInJldHJ5LWFmdGVyIl0sMTApfHwwLGk9YS5lcnJvcihuZXcgRXJyb3Ise3N0YXR1c0NvZGU6cixyZXRyeWFibGU6cj49NTAwfHw0Mjk9PT1yfSk7byYmaS5yZXRyeWFibGUmJihpLnJldHJ5QWZ0ZXI9byksYyhpKX19KSl9KSxjKX07aS51dGlsLmRlZmVyKHUpfSx1dWlkOnt2NDpmdW5jdGlvbigpe3JldHVybiBlKCJ1dWlkIikudjQoKX19LGNvbnZlcnRQYXlsb2FkVG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5vcGVyYXRpb24scj10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbbl0ub3V0cHV0fHx7fTtyLnBheWxvYWQmJmUuZGF0YVtyLnBheWxvYWRdJiYoZS5kYXRhW3IucGF5bG9hZF09ZS5kYXRhW3IucGF5bG9hZF0udG9TdHJpbmcoKSl9LGRlZmVyOmZ1bmN0aW9uKGUpeyJvYmplY3QiPT09byhuKSYmImZ1bmN0aW9uIj09dHlwZW9mIG4ubmV4dFRpY2s/bi5uZXh0VGljayhlKToiZnVuY3Rpb24iPT10eXBlb2Ygcj9yKGUpOnNldFRpbWVvdXQoZSwwKX0sZ2V0UmVxdWVzdFBheWxvYWRTaGFwZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnM7aWYodCl7dmFyIG49KHR8fHt9KVtlLm9wZXJhdGlvbl07aWYobiYmbi5pbnB1dCYmbi5pbnB1dC5wYXlsb2FkKXJldHVybiBuLmlucHV0Lm1lbWJlcnNbbi5pbnB1dC5wYXlsb2FkXX19LGdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZzpmdW5jdGlvbihlLHQpe3ZhciByPXt9LG89e307bi5lbnZbYS5jb25maWdPcHRJbkVudl0mJihvPWUubG9hZEZyb20oe2lzQ29uZmlnOiEwLGZpbGVuYW1lOm4uZW52W2Euc2hhcmVkQ29uZmlnRmlsZUVudl19KSk7dmFyIGk9e307dHJ5e2k9ZS5sb2FkRnJvbSh7ZmlsZW5hbWU6dHx8bi5lbnZbYS5jb25maWdPcHRJbkVudl0mJm4uZW52W2Euc2hhcmVkQ3JlZGVudGlhbHNGaWxlRW52XX0pfWNhdGNoKGUpe2lmKCFuLmVudlthLmNvbmZpZ09wdEluRW52XSl0aHJvdyBlfWZvcih2YXIgcz0wLGM9T2JqZWN0LmtleXMobyk7czxjLmxlbmd0aDtzKyspcltjW3NdXT11KHJbY1tzXV18fHt9LG9bY1tzXV0pO2ZvcihzPTAsYz1PYmplY3Qua2V5cyhpKTtzPGMubGVuZ3RoO3MrKylyW2Nbc11dPXUocltjW3NdXXx8e30saVtjW3NdXSk7cmV0dXJuIHI7ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj0wLHI9T2JqZWN0LmtleXModCk7bjxyLmxlbmd0aDtuKyspZVtyW25dXT10W3Jbbl1dO3JldHVybiBlfX0sQVJOOnt2YWxpZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmMD09PWUuaW5kZXhPZigiYXJuOiIpJiZlLnNwbGl0KCI6IikubGVuZ3RoPj02fSxwYXJzZTpmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KCI6Iik7cmV0dXJue3BhcnRpdGlvbjp0WzFdLHNlcnZpY2U6dFsyXSxyZWdpb246dFszXSxhY2NvdW50SWQ6dFs0XSxyZXNvdXJjZTp0LnNsaWNlKDUpLmpvaW4oIjoiKX19LGJ1aWxkOmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUuc2VydmljZXx8dm9pZCAwPT09ZS5yZWdpb258fHZvaWQgMD09PWUuYWNjb3VudElkfHx2b2lkIDA9PT1lLnJlc291cmNlKXRocm93IGEuZXJyb3IobmV3IEVycm9yKCJJbnB1dCBBUk4gb2JqZWN0IGlzIGludmFsaWQiKSk7cmV0dXJuImFybjoiKyhlLnBhcnRpdGlvbnx8ImF3cyIpKyI6IitlLnNlcnZpY2UrIjoiK2UucmVnaW9uKyI6IitlLmFjY291bnRJZCsiOiIrZS5yZXNvdXJjZX19LGRlZmF1bHRQcm9maWxlOiJkZWZhdWx0Iixjb25maWdPcHRJbkVudjoiQVdTX1NES19MT0FEX0NPTkZJRyIsc2hhcmVkQ3JlZGVudGlhbHNGaWxlRW52OiJBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEUiLHNoYXJlZENvbmZpZ0ZpbGVFbnY6IkFXU19DT05GSUdfRklMRSIsaW1kc0Rpc2FibGVkRW52OiJBV1NfRUMyX01FVEFEQVRBX0RJU0FCTEVEIn07dC5leHBvcnRzPWF9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIiksZSgidGltZXJzIikuc2V0SW1tZWRpYXRlKX0seyIuLi9hcGlzL21ldGFkYXRhLmpzb24iOjQsIi4vY29yZSI6MTksX3Byb2Nlc3M6OTEsZnM6ODIsdGltZXJzOjk5LHV1aWQ6MTAyfV0sNzU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1lKCIuLi9tb2RlbC9zaGFwZSIpO2Z1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gYShlLHQpe2Zvcih2YXIgbj1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpLHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspaWYobltyXS5wYXJlbnROb2RlPT09ZSlyZXR1cm4gbltyXX1mdW5jdGlvbiBzKGUsdCl7c3dpdGNoKHR8fCh0PXt9KSx0LnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gYyhlLHQpO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30scj10LmtleS5uYW1lfHwia2V5IixvPXQudmFsdWUubmFtZXx8InZhbHVlIixpPXQuZmxhdHRlbmVkP3QubmFtZToiZW50cnkiLGM9ZS5maXJzdEVsZW1lbnRDaGlsZDtjOyl7aWYoYy5ub2RlTmFtZT09PWkpe3ZhciB1PWEoYyxyKS50ZXh0Q29udGVudCxsPWEoYyxvKTtuW3VdPXMobCx0LnZhbHVlKX1jPWMubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBufShlLHQpO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9dC5mbGF0dGVuZWQ/dC5uYW1lOnQubWVtYmVyLm5hbWV8fCJtZW1iZXIiLG89ZS5maXJzdEVsZW1lbnRDaGlsZDtvOylvLm5vZGVOYW1lPT09ciYmbi5wdXNoKHMobyx0Lm1lbWJlcikpLG89by5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIG59KGUsdCk7Y2FzZSB2b2lkIDA6Y2FzZSBudWxsOnJldHVybiBmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiIiO2lmKCFlLmZpcnN0RWxlbWVudENoaWxkKXJldHVybiBudWxsPT09ZS5wYXJlbnROb2RlLnBhcmVudE5vZGU/e306MD09PWUuY2hpbGROb2Rlcy5sZW5ndGg/IiI6ZS50ZXh0Q29udGVudDtmb3IodmFyIHQ9e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX0sbj1lLmZpcnN0RWxlbWVudENoaWxkO247KXt2YXIgcj1uLm5vZGVOYW1lO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0Lm1lbWJlcnMscik/dC5tZW1iZXJzW3JdLnR5cGU9Imxpc3QiOnQubWVtYmVyc1tyXT17bmFtZTpyfSxuPW4ubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBjKGUsdCl9KGUpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoZS5nZXRBdHRyaWJ1dGUpe3ZhciBuPWUuZ2V0QXR0cmlidXRlKCJlbmNvZGluZyIpOyJiYXNlNjQiPT09biYmKHQ9bmV3IG8uY3JlYXRlKHt0eXBlOm59KSl9dmFyIHI9ZS50ZXh0Q29udGVudDtyZXR1cm4iIj09PXImJihyPW51bGwpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LnRvVHlwZT90LnRvVHlwZShyKTpyfShlLHQpfX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49e307cmV0dXJuIG51bGw9PT1lfHxyLmVhY2godC5tZW1iZXJzLChmdW5jdGlvbihyLG8pe2lmKG8uaXNYbWxBdHRyaWJ1dGUpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLmF0dHJpYnV0ZXMsby5uYW1lKSl7dmFyIGk9ZS5hdHRyaWJ1dGVzW28ubmFtZV0udmFsdWU7bltyXT1zKHt0ZXh0Q29udGVudDppfSxvKX19ZWxzZXt2YXIgYz1vLmZsYXR0ZW5lZD9lOmEoZSxvLm5hbWUpO2M/bltyXT1zKGMsbyk6by5mbGF0dGVuZWR8fCJsaXN0IiE9PW8udHlwZXx8dC5hcGkueG1sTm9EZWZhdWx0TGlzdHN8fChuW3JdPW8uZGVmYXVsdFZhbHVlKX19KSksbn1pLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQpe2lmKCIiPT09ZS5yZXBsYWNlKC9eXHMrLywiIikpcmV0dXJue307dmFyIG4sbzt0cnl7aWYod2luZG93LkRPTVBhcnNlcil7dHJ5e249KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe3Rocm93IHIuZXJyb3IobmV3IEVycm9yKCJQYXJzZSBlcnJvciBpbiBkb2N1bWVudCIpLHtvcmlnaW5hbEVycm9yOmUsY29kZToiWE1MUGFyc2VyRXJyb3IiLHJldHJ5YWJsZTohMH0pfWlmKG51bGw9PT1uLmRvY3VtZW50RWxlbWVudCl0aHJvdyByLmVycm9yKG5ldyBFcnJvcigiQ2Fubm90IHBhcnNlIGVtcHR5IGRvY3VtZW50LiIpLHtjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSk7dmFyIGk9bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKVswXTtpZihpJiYoaS5wYXJlbnROb2RlPT09bnx8ImJvZHkiPT09aS5wYXJlbnROb2RlLm5vZGVOYW1lfHxpLnBhcmVudE5vZGUucGFyZW50Tm9kZT09PW58fCJib2R5Ij09PWkucGFyZW50Tm9kZS5wYXJlbnROb2RlLm5vZGVOYW1lKSl7dmFyIGM9aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF18fGk7dGhyb3cgci5lcnJvcihuZXcgRXJyb3IoYy50ZXh0Q29udGVudHx8IlBhcnNlciBlcnJvciBpbiBkb2N1bWVudCIpLHtjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSl9fWVsc2V7aWYoIXdpbmRvdy5BY3RpdmVYT2JqZWN0KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGxvYWQgWE1MIHBhcnNlciIpO2lmKChuPW5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpKS5hc3luYz0hMSwhbi5sb2FkWE1MKGUpKXRocm93IHIuZXJyb3IobmV3IEVycm9yKCJQYXJzZSBlcnJvciBpbiBkb2N1bWVudCIpLHtjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSl9fWNhdGNoKGUpe289ZX1pZihuJiZuLmRvY3VtZW50RWxlbWVudCYmIW8pe3ZhciB1PXMobi5kb2N1bWVudEVsZW1lbnQsdCksbD1hKG4uZG9jdW1lbnRFbGVtZW50LCJSZXNwb25zZU1ldGFkYXRhIik7cmV0dXJuIGwmJih1LlJlc3BvbnNlTWV0YWRhdGE9cyhsLHt9KSksdX1pZihvKXRocm93IHIuZXJyb3Iob3x8bmV3IEVycm9yLHtjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSk7cmV0dXJue319LHQuZXhwb3J0cz1pfSx7Ii4uL21vZGVsL3NoYXBlIjo0NSwiLi4vdXRpbCI6NzR9XSw3NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4veG1sLW5vZGUiKS5YbWxOb2RlLGk9ZSgiLi94bWwtdGV4dCIpLlhtbFRleHQ7ZnVuY3Rpb24gYSgpe31mdW5jdGlvbiBzKGUsdCxuKXtzd2l0Y2gobi50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtyLmFycmF5RWFjaChuLm1lbWJlck5hbWVzLChmdW5jdGlvbihyKXt2YXIgaT1uLm1lbWJlcnNbcl07aWYoImJvZHkiPT09aS5sb2NhdGlvbil7dmFyIGE9dFtyXSx1PWkubmFtZTtpZihudWxsIT1hKWlmKGkuaXNYbWxBdHRyaWJ1dGUpZS5hZGRBdHRyaWJ1dGUodSxhKTtlbHNlIGlmKGkuZmxhdHRlbmVkKXMoZSxhLGkpO2Vsc2V7dmFyIGw9bmV3IG8odSk7ZS5hZGRDaGlsZE5vZGUobCksYyhsLGkpLHMobCxhLGkpfX19KSl9KGUsdCxuKTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uLmtleS5uYW1lfHwia2V5IixhPW4udmFsdWUubmFtZXx8InZhbHVlIjtyLmVhY2godCwoZnVuY3Rpb24odCxyKXt2YXIgYz1uZXcgbyhuLmZsYXR0ZW5lZD9uLm5hbWU6ImVudHJ5Iik7ZS5hZGRDaGlsZE5vZGUoYyk7dmFyIHU9bmV3IG8oaSksbD1uZXcgbyhhKTtjLmFkZENoaWxkTm9kZSh1KSxjLmFkZENoaWxkTm9kZShsKSxzKHUsdCxuLmtleSkscyhsLHIsbi52YWx1ZSl9KSl9KGUsdCxuKTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQsbil7bi5mbGF0dGVuZWQ/ci5hcnJheUVhY2godCwoZnVuY3Rpb24odCl7dmFyIHI9bi5tZW1iZXIubmFtZXx8bi5uYW1lLGk9bmV3IG8ocik7ZS5hZGRDaGlsZE5vZGUoaSkscyhpLHQsbi5tZW1iZXIpfSkpOnIuYXJyYXlFYWNoKHQsKGZ1bmN0aW9uKHQpe3ZhciByPW4ubWVtYmVyLm5hbWV8fCJtZW1iZXIiLGk9bmV3IG8ocik7ZS5hZGRDaGlsZE5vZGUoaSkscyhpLHQsbi5tZW1iZXIpfSkpfShlLHQsbik7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2UuYWRkQ2hpbGROb2RlKG5ldyBpKG4udG9XaXJlRm9ybWF0KHQpKSl9KGUsdCxuKX19ZnVuY3Rpb24gYyhlLHQsbil7dmFyIHIsbz0ieG1sbnMiO3QueG1sTmFtZXNwYWNlVXJpPyhyPXQueG1sTmFtZXNwYWNlVXJpLHQueG1sTmFtZXNwYWNlUHJlZml4JiYobys9IjoiK3QueG1sTmFtZXNwYWNlUHJlZml4KSk6biYmdC5hcGkueG1sTmFtZXNwYWNlVXJpJiYocj10LmFwaS54bWxOYW1lc3BhY2VVcmkpLHImJmUuYWRkQXR0cmlidXRlKG8scil9YS5wcm90b3R5cGUudG9YTUw9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9bmV3IG8obik7cmV0dXJuIGMoaSx0LCEwKSxzKGksZSx0KSxpLmNoaWxkcmVuLmxlbmd0aD4wfHxyP2kudG9TdHJpbmcoKToiIn0sdC5leHBvcnRzPWF9LHsiLi4vdXRpbCI6NzQsIi4veG1sLW5vZGUiOjc5LCIuL3htbC10ZXh0Ijo4MH1dLDc3OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtlc2NhcGVBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLycvZywiJmFwb3M7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvIi9nLCImcXVvdDsiKX19fSx7fV0sNzg6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2VzY2FwZUVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoL1xyL2csIiYjeDBEOyIpLnJlcGxhY2UoL1xuL2csIiYjeDBBOyIpLnJlcGxhY2UoL1x1MDA4NS9nLCImI3g4NTsiKS5yZXBsYWNlKC9cdTIwMjgvLCImI3gyMDI4OyIpfX19LHt9XSw3OTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vZXNjYXBlLWF0dHJpYnV0ZSIpLmVzY2FwZUF0dHJpYnV0ZTtmdW5jdGlvbiBvKGUsdCl7dm9pZCAwPT09dCYmKHQ9W10pLHRoaXMubmFtZT1lLHRoaXMuY2hpbGRyZW49dCx0aGlzLmF0dHJpYnV0ZXM9e319by5wcm90b3R5cGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXT10LHRoaXN9LG8ucHJvdG90eXBlLmFkZENoaWxkTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5wdXNoKGUpLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tlXSx0aGlzfSxvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1Cb29sZWFuKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSx0PSI8Iit0aGlzLm5hbWUsbj10aGlzLmF0dHJpYnV0ZXMsbz0wLGk9T2JqZWN0LmtleXMobik7bzxpLmxlbmd0aDtvKyspe3ZhciBhPWlbb10scz1uW2FdO251bGwhPXMmJih0Kz0iICIrYSsnPSInK3IoIiIrcykrJyInKX1yZXR1cm4gdCsoZT8iPiIrdGhpcy5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvU3RyaW5nKCl9KSkuam9pbigiIikrIjwvIit0aGlzLm5hbWUrIj4iOiIvPiIpfSx0LmV4cG9ydHM9e1htbE5vZGU6b319LHsiLi9lc2NhcGUtYXR0cmlidXRlIjo3N31dLDgwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9lc2NhcGUtZWxlbWVudCIpLmVzY2FwZUVsZW1lbnQ7ZnVuY3Rpb24gbyhlKXt0aGlzLnZhbHVlPWV9by5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gcigiIit0aGlzLnZhbHVlKX0sdC5leHBvcnRzPXtYbWxUZXh0Om99fSx7Ii4vZXNjYXBlLWVsZW1lbnQiOjc4fV0sODE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PWMoZSksbj10WzBdLHI9dFsxXTtyZXR1cm4gMyoobityKS80LXJ9LG4udG9CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWMoZSksYT1yWzBdLHM9clsxXSx1PW5ldyBpKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMyoodCtuKS80LW59KDAsYSxzKSksbD0wLHA9cz4wP2EtNDphO2ZvcihuPTA7bjxwO24rPTQpdD1vW2UuY2hhckNvZGVBdChuKV08PDE4fG9bZS5jaGFyQ29kZUF0KG4rMSldPDwxMnxvW2UuY2hhckNvZGVBdChuKzIpXTw8NnxvW2UuY2hhckNvZGVBdChuKzMpXSx1W2wrK109dD4+MTYmMjU1LHVbbCsrXT10Pj44JjI1NSx1W2wrK109MjU1JnQ7cmV0dXJuIDI9PT1zJiYodD1vW2UuY2hhckNvZGVBdChuKV08PDJ8b1tlLmNoYXJDb2RlQXQobisxKV0+PjQsdVtsKytdPTI1NSZ0KSwxPT09cyYmKHQ9b1tlLmNoYXJDb2RlQXQobildPDwxMHxvW2UuY2hhckNvZGVBdChuKzEpXTw8NHxvW2UuY2hhckNvZGVBdChuKzIpXT4+Mix1W2wrK109dD4+OCYyNTUsdVtsKytdPTI1NSZ0KSx1fSxuLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZS5sZW5ndGgsbz1uJTMsaT1bXSxhPTE2MzgzLHM9MCxjPW4tbztzPGM7cys9YSlpLnB1c2godShlLHMscythPmM/YzpzK2EpKTtyZXR1cm4gMT09PW8/KHQ9ZVtuLTFdLGkucHVzaChyW3Q+PjJdK3JbdDw8NCY2M10rIj09IikpOjI9PT1vJiYodD0oZVtuLTJdPDw4KStlW24tMV0saS5wdXNoKHJbdD4+MTBdK3JbdD4+NCY2M10rclt0PDwyJjYzXSsiPSIpKSxpLmpvaW4oIiIpfTtmb3IodmFyIHI9W10sbz1bXSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLHM9MDtzPDY0OysrcylyW3NdPWFbc10sb1thLmNoYXJDb2RlQXQocyldPXM7ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmxlbmd0aDtpZih0JTQ+MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQiKTt2YXIgbj1lLmluZGV4T2YoIj0iKTtyZXR1cm4tMT09PW4mJihuPXQpLFtuLG49PT10PzA6NC1uJTRdfWZ1bmN0aW9uIHUoZSx0LG4pe2Zvcih2YXIgbyxpLGE9W10scz10O3M8bjtzKz0zKW89KGVbc108PDE2JjE2NzExNjgwKSsoZVtzKzFdPDw4JjY1MjgwKSsoMjU1JmVbcysyXSksYS5wdXNoKHJbKGk9byk+PjE4JjYzXStyW2k+PjEyJjYzXStyW2k+PjYmNjNdK3JbNjMmaV0pO3JldHVybiBhLmpvaW4oIiIpfW9bIi0iLmNoYXJDb2RlQXQoMCldPTYyLG9bIl8iLmNoYXJDb2RlQXQoMCldPTYzfSx7fV0sODI6W2Z1bmN0aW9uKGUsdCxuKXt9LHt9XSw4MzpbZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OnQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQ7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBuLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSx7fV0sODQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJvYmplY3QiPT09byhlKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY29weSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuZmlsbCYmImZ1bmN0aW9uIj09dHlwZW9mIGUucmVhZFVJbnQ4fX0se31dLDg1OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQsbil7KGZ1bmN0aW9uKCl7dmFyIGk9LyVbc2RqJV0vZztyLmZvcm1hdD1mdW5jdGlvbihlKXtpZigheShlKSl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChjKGFyZ3VtZW50c1tuXSkpO3JldHVybiB0LmpvaW4oIiAiKX1uPTE7Zm9yKHZhciByPWFyZ3VtZW50cyxvPXIubGVuZ3RoLGE9U3RyaW5nKGUpLnJlcGxhY2UoaSwoZnVuY3Rpb24oZSl7aWYoIiUlIj09PWUpcmV0dXJuIiUiO2lmKG4+PW8pcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2UiJXMiOnJldHVybiBTdHJpbmcocltuKytdKTtjYXNlIiVkIjpyZXR1cm4gTnVtYmVyKHJbbisrXSk7Y2FzZSIlaiI6dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShyW24rK10pfWNhdGNoKGUpe3JldHVybiJbQ2lyY3VsYXJdIn1kZWZhdWx0OnJldHVybiBlfX0pKSxzPXJbbl07bjxvO3M9clsrK25dKW0ocyl8fCFFKHMpP2ErPSIgIitzOmErPSIgIitjKHMpO3JldHVybiBhfSxyLmRlcHJlY2F0ZT1mdW5jdGlvbihlLG8pe2lmKGIobi5wcm9jZXNzKSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gci5kZXByZWNhdGUoZSxvKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2lmKCEwPT09dC5ub0RlcHJlY2F0aW9uKXJldHVybiBlO3ZhciBpPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCFpKXtpZih0LnRocm93RGVwcmVjYXRpb24pdGhyb3cgbmV3IEVycm9yKG8pO3QudHJhY2VEZXByZWNhdGlvbj9jb25zb2xlLnRyYWNlKG8pOmNvbnNvbGUuZXJyb3IobyksaT0hMH1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt2YXIgYSxzPXt9O2Z1bmN0aW9uIGMoZSx0KXt2YXIgbj17c2VlbjpbXSxzdHlsaXplOmx9O3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0zJiYobi5kZXB0aD1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihuLmNvbG9ycz1hcmd1bWVudHNbM10pLGcodCk/bi5zaG93SGlkZGVuPXQ6dCYmci5fZXh0ZW5kKG4sdCksYihuLnNob3dIaWRkZW4pJiYobi5zaG93SGlkZGVuPSExKSxiKG4uZGVwdGgpJiYobi5kZXB0aD0yKSxiKG4uY29sb3JzKSYmKG4uY29sb3JzPSExKSxiKG4uY3VzdG9tSW5zcGVjdCkmJihuLmN1c3RvbUluc3BlY3Q9ITApLG4uY29sb3JzJiYobi5zdHlsaXplPXUpLHAobixlLG4uZGVwdGgpfWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj1jLnN0eWxlc1t0XTtyZXR1cm4gbj8iG1siK2MuY29sb3JzW25dWzBdKyJtIitlKyIbWyIrYy5jb2xvcnNbbl1bMV0rIm0iOmV9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlfWZ1bmN0aW9uIHAoZSx0LG4pe2lmKGUuY3VzdG9tSW5zcGVjdCYmdCYmVCh0Lmluc3BlY3QpJiZ0Lmluc3BlY3QhPT1yLmluc3BlY3QmJighdC5jb25zdHJ1Y3Rvcnx8dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPT10KSl7dmFyIG89dC5pbnNwZWN0KG4sZSk7cmV0dXJuIHkobyl8fChvPXAoZSxvLG4pKSxvfXZhciBpPWZ1bmN0aW9uKGUsdCl7aWYoYih0KSlyZXR1cm4gZS5zdHlsaXplKCJ1bmRlZmluZWQiLCJ1bmRlZmluZWQiKTtpZih5KHQpKXt2YXIgbj0iJyIrSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXiJ8IiQvZywiIikucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpKyInIjtyZXR1cm4gZS5zdHlsaXplKG4sInN0cmluZyIpfXJldHVybiB2KHQpP2Uuc3R5bGl6ZSgiIit0LCJudW1iZXIiKTpnKHQpP2Uuc3R5bGl6ZSgiIit0LCJib29sZWFuIik6bSh0KT9lLnN0eWxpemUoIm51bGwiLCJudWxsIik6dm9pZCAwfShlLHQpO2lmKGkpcmV0dXJuIGk7dmFyIGE9T2JqZWN0LmtleXModCkscz1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3RbZV09ITB9KSksdH0oYSk7aWYoZS5zaG93SGlkZGVuJiYoYT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KSksSSh0KSYmKGEuaW5kZXhPZigibWVzc2FnZSIpPj0wfHxhLmluZGV4T2YoImRlc2NyaXB0aW9uIik+PTApKXJldHVybiBkKHQpO2lmKDA9PT1hLmxlbmd0aCl7aWYoVCh0KSl7dmFyIGM9dC5uYW1lPyI6ICIrdC5uYW1lOiIiO3JldHVybiBlLnN0eWxpemUoIltGdW5jdGlvbiIrYysiXSIsInNwZWNpYWwiKX1pZihTKHQpKXJldHVybiBlLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJyZWdleHAiKTtpZihDKHQpKXJldHVybiBlLnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwiZGF0ZSIpO2lmKEkodCkpcmV0dXJuIGQodCl9dmFyIHUsbD0iIixFPSExLHc9WyJ7IiwifSJdO3JldHVybiBmKHQpJiYoRT0hMCx3PVsiWyIsIl0iXSksVCh0KSYmKGw9IiBbRnVuY3Rpb24iKyh0Lm5hbWU/IjogIit0Lm5hbWU6IiIpKyJdIiksUyh0KSYmKGw9IiAiK1JlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSksQyh0KSYmKGw9IiAiK0RhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodCkpLEkodCkmJihsPSIgIitkKHQpKSwwIT09YS5sZW5ndGh8fEUmJjAhPXQubGVuZ3RoP248MD9TKHQpP2Uuc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksInJlZ2V4cCIpOmUuc3R5bGl6ZSgiW09iamVjdF0iLCJzcGVjaWFsIik6KGUuc2Vlbi5wdXNoKHQpLHU9RT9mdW5jdGlvbihlLHQsbixyLG8pe2Zvcih2YXIgaT1bXSxhPTAscz10Lmxlbmd0aDthPHM7KythKVIodCxTdHJpbmcoYSkpP2kucHVzaChoKGUsdCxuLHIsU3RyaW5nKGEpLCEwKSk6aS5wdXNoKCIiKTtyZXR1cm4gby5mb3JFYWNoKChmdW5jdGlvbihvKXtvLm1hdGNoKC9eXGQrJC8pfHxpLnB1c2goaChlLHQsbixyLG8sITApKX0pKSxpfShlLHQsbixzLGEpOmEubWFwKChmdW5jdGlvbihyKXtyZXR1cm4gaChlLHQsbixzLHIsRSl9KSksZS5zZWVuLnBvcCgpLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5pbmRleE9mKCJcbiIpLGUrdC5yZXBsYWNlKC9cdTAwMWJcW1xkXGQ/bS9nLCIiKS5sZW5ndGgrMX0pLDApO3JldHVybiByPjYwP25bMF0rKCIiPT09dD8iIjp0KyJcbiAiKSsiICIrZS5qb2luKCIsXG4gICIpKyIgIituWzFdOm5bMF0rdCsiICIrZS5qb2luKCIsICIpKyIgIituWzFdfSh1LGwsdykpOndbMF0rbCt3WzFdfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIlsiK0Vycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKyJdIn1mdW5jdGlvbiBoKGUsdCxuLHIsbyxpKXt2YXIgYSxzLGM7aWYoKGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG8pfHx7dmFsdWU6dFtvXX0pLmdldD9zPWMuc2V0P2Uuc3R5bGl6ZSgiW0dldHRlci9TZXR0ZXJdIiwic3BlY2lhbCIpOmUuc3R5bGl6ZSgiW0dldHRlcl0iLCJzcGVjaWFsIik6Yy5zZXQmJihzPWUuc3R5bGl6ZSgiW1NldHRlcl0iLCJzcGVjaWFsIikpLFIocixvKXx8KGE9IlsiK28rIl0iKSxzfHwoZS5zZWVuLmluZGV4T2YoYy52YWx1ZSk8MD8ocz1tKG4pP3AoZSxjLnZhbHVlLG51bGwpOnAoZSxjLnZhbHVlLG4tMSkpLmluZGV4T2YoIlxuIik+LTEmJihzPWk/cy5zcGxpdCgiXG4iKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIgICIrZX0pKS5qb2luKCJcbiIpLnN1YnN0cigyKToiXG4iK3Muc3BsaXQoIlxuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iICAgIitlfSkpLmpvaW4oIlxuIikpOnM9ZS5zdHlsaXplKCJbQ2lyY3VsYXJdIiwic3BlY2lhbCIpKSxiKGEpKXtpZihpJiZvLm1hdGNoKC9eXGQrJC8pKXJldHVybiBzOyhhPUpTT04uc3RyaW5naWZ5KCIiK28pKS5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pPyhhPWEuc3Vic3RyKDEsYS5sZW5ndGgtMiksYT1lLnN0eWxpemUoYSwibmFtZSIpKTooYT1hLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC8oXiJ8IiQpL2csIiciKSxhPWUuc3R5bGl6ZShhLCJzdHJpbmciKSl9cmV0dXJuIGErIjogIitzfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gZyhlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIG51bGw9PT1lfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfWZ1bmN0aW9uIHkoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIGIoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gRShlKSYmIltvYmplY3QgUmVnRXhwXSI9PT13KGUpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIm9iamVjdCI9PT1vKGUpJiZudWxsIT09ZX1mdW5jdGlvbiBDKGUpe3JldHVybiBFKGUpJiYiW29iamVjdCBEYXRlXSI9PT13KGUpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIEUoZSkmJigiW29iamVjdCBFcnJvcl0iPT09dyhlKXx8ZSBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiBUKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBBKGUpe3JldHVybiBlPDEwPyIwIitlLnRvU3RyaW5nKDEwKTplLnRvU3RyaW5nKDEwKX1yLmRlYnVnbG9nPWZ1bmN0aW9uKGUpe2lmKGIoYSkmJihhPXQuZW52Lk5PREVfREVCVUd8fCIiKSxlPWUudG9VcHBlckNhc2UoKSwhc1tlXSlpZihuZXcgUmVnRXhwKCJcXGIiK2UrIlxcYiIsImkiKS50ZXN0KGEpKXt2YXIgbj10LnBpZDtzW2VdPWZ1bmN0aW9uKCl7dmFyIHQ9ci5mb3JtYXQuYXBwbHkocixhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoIiVzICVkOiAlcyIsZSxuLHQpfX1lbHNlIHNbZV09ZnVuY3Rpb24oKXt9O3JldHVybiBzW2VdfSxyLmluc3BlY3Q9YyxjLmNvbG9ycz17Ym9sZDpbMSwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLHdoaXRlOlszNywzOV0sZ3JleTpbOTAsMzldLGJsYWNrOlszMCwzOV0sYmx1ZTpbMzQsMzldLGN5YW46WzM2LDM5XSxncmVlbjpbMzIsMzldLG1hZ2VudGE6WzM1LDM5XSxyZWQ6WzMxLDM5XSx5ZWxsb3c6WzMzLDM5XX0sYy5zdHlsZXM9e3NwZWNpYWw6ImN5YW4iLG51bWJlcjoieWVsbG93Iixib29sZWFuOiJ5ZWxsb3ciLHVuZGVmaW5lZDoiZ3JleSIsbnVsbDoiYm9sZCIsc3RyaW5nOiJncmVlbiIsZGF0ZToibWFnZW50YSIscmVnZXhwOiJyZWQifSxyLmlzQXJyYXk9ZixyLmlzQm9vbGVhbj1nLHIuaXNOdWxsPW0sci5pc051bGxPclVuZGVmaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZX0sci5pc051bWJlcj12LHIuaXNTdHJpbmc9eSxyLmlzU3ltYm9sPWZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT09byhlKX0sci5pc1VuZGVmaW5lZD1iLHIuaXNSZWdFeHA9UyxyLmlzT2JqZWN0PUUsci5pc0RhdGU9QyxyLmlzRXJyb3I9SSxyLmlzRnVuY3Rpb249VCxyLmlzUHJpbWl0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlfHwic3RyaW5nIj09dHlwZW9mIGV8fCJzeW1ib2wiPT09byhlKXx8dm9pZCAwPT09ZX0sci5pc0J1ZmZlcj1lKCIuL3N1cHBvcnQvaXNCdWZmZXIiKTt2YXIgXz1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdO2Z1bmN0aW9uIFIoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9ci5sb2c9ZnVuY3Rpb24oKXt2YXIgZSx0O2NvbnNvbGUubG9nKCIlcyAtICVzIiwoZT1uZXcgRGF0ZSx0PVtBKGUuZ2V0SG91cnMoKSksQShlLmdldE1pbnV0ZXMoKSksQShlLmdldFNlY29uZHMoKSldLmpvaW4oIjoiKSxbZS5nZXREYXRlKCksX1tlLmdldE1vbnRoKCldLHRdLmpvaW4oIiAiKSksci5mb3JtYXQuYXBwbHkocixhcmd1bWVudHMpKX0sci5pbmhlcml0cz1lKCJpbmhlcml0cyIpLHIuX2V4dGVuZD1mdW5jdGlvbihlLHQpe2lmKCF0fHwhRSh0KSlyZXR1cm4gZTtmb3IodmFyIG49T2JqZWN0LmtleXModCkscj1uLmxlbmd0aDtyLS07KWVbbltyXV09dFtuW3JdXTtyZXR1cm4gZX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIiksdm9pZCAwIT09bi5nP24uZzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7Ii4vc3VwcG9ydC9pc0J1ZmZlciI6ODQsX3Byb2Nlc3M6OTEsaW5oZXJpdHM6ODN9XSw4NjpbZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0LG4peyhmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYXNlNjQtanMiKSxvPWUoImllZWU3NTQiKSxpPWUoImlzYXJyYXkiKTtmdW5jdGlvbiBhKCl7cmV0dXJuIGMuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gcyhlLHQpe2lmKGEoKTx0KXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCIpO3JldHVybiBjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9bmV3IFVpbnQ4QXJyYXkodCkpLl9fcHJvdG9fXz1jLnByb3RvdHlwZToobnVsbD09PWUmJihlPW5ldyBjKHQpKSxlLmxlbmd0aD10KSxlfWZ1bmN0aW9uIGMoZSx0LG4pe2lmKCEoYy5UWVBFRF9BUlJBWV9TVVBQT1JUfHx0aGlzIGluc3RhbmNlb2YgYykpcmV0dXJuIG5ldyBjKGUsdCxuKTtpZigibnVtYmVyIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoIklmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nIik7cmV0dXJuIHAodGhpcyxlKX1yZXR1cm4gdSh0aGlzLGUsdCxuKX1mdW5jdGlvbiB1KGUsdCxuLHIpe2lmKCJudW1iZXIiPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2Z1bmN0aW9uKGUsdCxuLHIpe2lmKHQuYnl0ZUxlbmd0aCxuPDB8fHQuYnl0ZUxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzIik7aWYodC5ieXRlTGVuZ3RoPG4rKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzIik7cmV0dXJuIHQ9dm9pZCAwPT09biYmdm9pZCAwPT09cj9uZXcgVWludDhBcnJheSh0KTp2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQsbik6bmV3IFVpbnQ4QXJyYXkodCxuLHIpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT10KS5fX3Byb3RvX189Yy5wcm90b3R5cGU6ZT1kKGUsdCksZX0oZSx0LG4scik6InN0cmluZyI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUsdCxuKXtpZigic3RyaW5nIj09dHlwZW9mIG4mJiIiIT09bnx8KG49InV0ZjgiKSwhYy5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoJyJlbmNvZGluZyIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpO3ZhciByPTB8Zih0LG4pLG89KGU9cyhlLHIpKS53cml0ZSh0LG4pO3JldHVybiBvIT09ciYmKGU9ZS5zbGljZSgwLG8pKSxlfShlLHQsbik6ZnVuY3Rpb24oZSx0KXtpZihjLmlzQnVmZmVyKHQpKXt2YXIgbj0wfGgodC5sZW5ndGgpO3JldHVybiAwPT09KGU9cyhlLG4pKS5sZW5ndGh8fHQuY29weShlLDAsMCxuKSxlfWlmKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCJsZW5ndGgiaW4gdClyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQubGVuZ3RofHwocj10Lmxlbmd0aCkhPXI/cyhlLDApOmQoZSx0KTtpZigiQnVmZmVyIj09PXQudHlwZSYmaSh0LmRhdGEpKXJldHVybiBkKGUsdC5kYXRhKX12YXIgcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuIil9KGUsdCl9ZnVuY3Rpb24gbChlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKTtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJzaXplIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpfWZ1bmN0aW9uIHAoZSx0KXtpZihsKHQpLGU9cyhlLHQ8MD8wOjB8aCh0KSksIWMuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIG49MDtuPHQ7KytuKWVbbl09MDtyZXR1cm4gZX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49dC5sZW5ndGg8MD8wOjB8aCh0Lmxlbmd0aCk7ZT1zKGUsbik7Zm9yKHZhciByPTA7cjxuO3IrPTEpZVtyXT0yNTUmdFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBoKGUpe2lmKGU+PWEoKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweCIrYSgpLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiBmKGUsdCl7aWYoYy5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyhlKXx8ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gZS5ieXRlTGVuZ3RoOyJzdHJpbmciIT10eXBlb2YgZSYmKGU9IiIrZSk7dmFyIG49ZS5sZW5ndGg7aWYoMD09PW4pcmV0dXJuIDA7Zm9yKHZhciByPSExOzspc3dpdGNoKHQpe2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIG47Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlIHZvaWQgMDpyZXR1cm4gcShlKS5sZW5ndGg7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiAyKm47Y2FzZSJoZXgiOnJldHVybiBuPj4+MTtjYXNlImJhc2U2NCI6cmV0dXJuIEIoZSkubGVuZ3RoO2RlZmF1bHQ6aWYocilyZXR1cm4gcShlKS5sZW5ndGg7dD0oIiIrdCkudG9Mb3dlckNhc2UoKSxyPSEwfX1mdW5jdGlvbiBnKGUsdCxuKXt2YXIgcj0hMTtpZigodm9pZCAwPT09dHx8dDwwKSYmKHQ9MCksdD50aGlzLmxlbmd0aClyZXR1cm4iIjtpZigodm9pZCAwPT09bnx8bj50aGlzLmxlbmd0aCkmJihuPXRoaXMubGVuZ3RoKSxuPD0wKXJldHVybiIiO2lmKChuPj4+PTApPD0odD4+Pj0wKSlyZXR1cm4iIjtmb3IoZXx8KGU9InV0ZjgiKTs7KXN3aXRjaChlKXtjYXNlImhleCI6cmV0dXJuIEwodGhpcyx0LG4pO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIEEodGhpcyx0LG4pO2Nhc2UiYXNjaWkiOnJldHVybiBSKHRoaXMsdCxuKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBPKHRoaXMsdCxuKTtjYXNlImJhc2U2NCI6cmV0dXJuIHcodGhpcyx0LG4pO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gayh0aGlzLHQsbik7ZGVmYXVsdDppZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZSk7ZT0oZSsiIikudG9Mb3dlckNhc2UoKSxyPSEwfX1mdW5jdGlvbiBtKGUsdCxuKXt2YXIgcj1lW3RdO2VbdF09ZVtuXSxlW25dPXJ9ZnVuY3Rpb24gdihlLHQsbixyLG8pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4tMTtpZigic3RyaW5nIj09dHlwZW9mIG4/KHI9bixuPTApOm4+MjE0NzQ4MzY0Nz9uPTIxNDc0ODM2NDc6bjwtMjE0NzQ4MzY0OCYmKG49LTIxNDc0ODM2NDgpLG49K24saXNOYU4obikmJihuPW8/MDplLmxlbmd0aC0xKSxuPDAmJihuPWUubGVuZ3RoK24pLG4+PWUubGVuZ3RoKXtpZihvKXJldHVybi0xO249ZS5sZW5ndGgtMX1lbHNlIGlmKG48MCl7aWYoIW8pcmV0dXJuLTE7bj0wfWlmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9Yy5mcm9tKHQscikpLGMuaXNCdWZmZXIodCkpcmV0dXJuIDA9PT10Lmxlbmd0aD8tMTp5KGUsdCxuLHIsbyk7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVybiB0Jj0yNTUsYy5UWVBFRF9BUlJBWV9TVVBQT1JUJiYiZnVuY3Rpb24iPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9vP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHQsbik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChlLHQsbik6eShlLFt0XSxuLHIsbyk7dGhyb3cgbmV3IFR5cGVFcnJvcigidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyIil9ZnVuY3Rpb24geShlLHQsbixyLG8pe3ZhciBpLGE9MSxzPWUubGVuZ3RoLGM9dC5sZW5ndGg7aWYodm9pZCAwIT09ciYmKCJ1Y3MyIj09PShyPVN0cmluZyhyKS50b0xvd2VyQ2FzZSgpKXx8InVjcy0yIj09PXJ8fCJ1dGYxNmxlIj09PXJ8fCJ1dGYtMTZsZSI9PT1yKSl7aWYoZS5sZW5ndGg8Mnx8dC5sZW5ndGg8MilyZXR1cm4tMTthPTIscy89MixjLz0yLG4vPTJ9ZnVuY3Rpb24gdShlLHQpe3JldHVybiAxPT09YT9lW3RdOmUucmVhZFVJbnQxNkJFKHQqYSl9aWYobyl7dmFyIGw9LTE7Zm9yKGk9bjtpPHM7aSsrKWlmKHUoZSxpKT09PXUodCwtMT09PWw/MDppLWwpKXtpZigtMT09PWwmJihsPWkpLGktbCsxPT09YylyZXR1cm4gbCphfWVsc2UtMSE9PWwmJihpLT1pLWwpLGw9LTF9ZWxzZSBmb3IobitjPnMmJihuPXMtYyksaT1uO2k+PTA7aS0tKXtmb3IodmFyIHA9ITAsZD0wO2Q8YztkKyspaWYodShlLGkrZCkhPT11KHQsZCkpe3A9ITE7YnJlYWt9aWYocClyZXR1cm4gaX1yZXR1cm4tMX1mdW5jdGlvbiBiKGUsdCxuLHIpe249TnVtYmVyKG4pfHwwO3ZhciBvPWUubGVuZ3RoLW47cj8ocj1OdW1iZXIocikpPm8mJihyPW8pOnI9bzt2YXIgaT10Lmxlbmd0aDtpZihpJTIhPTApdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBoZXggc3RyaW5nIik7cj5pLzImJihyPWkvMik7Zm9yKHZhciBhPTA7YTxyOysrYSl7dmFyIHM9cGFyc2VJbnQodC5zdWJzdHIoMiphLDIpLDE2KTtpZihpc05hTihzKSlyZXR1cm4gYTtlW24rYV09c31yZXR1cm4gYX1mdW5jdGlvbiBTKGUsdCxuLHIpe3JldHVybiBHKHEodCxlLmxlbmd0aC1uKSxlLG4scil9ZnVuY3Rpb24gRShlLHQsbixyKXtyZXR1cm4gRyhmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7KytuKXQucHVzaCgyNTUmZS5jaGFyQ29kZUF0KG4pKTtyZXR1cm4gdH0odCksZSxuLHIpfWZ1bmN0aW9uIEMoZSx0LG4scil7cmV0dXJuIEUoZSx0LG4scil9ZnVuY3Rpb24gSShlLHQsbixyKXtyZXR1cm4gRyhCKHQpLGUsbixyKX1mdW5jdGlvbiBUKGUsdCxuLHIpe3JldHVybiBHKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbyxpPVtdLGE9MDthPGUubGVuZ3RoJiYhKCh0LT0yKTwwKTsrK2Epcj0obj1lLmNoYXJDb2RlQXQoYSkpPj44LG89biUyNTYsaS5wdXNoKG8pLGkucHVzaChyKTtyZXR1cm4gaX0odCxlLmxlbmd0aC1uKSxlLG4scil9ZnVuY3Rpb24gdyhlLHQscil7cmV0dXJuIDA9PT10JiZyPT09ZS5sZW5ndGg/bi5mcm9tQnl0ZUFycmF5KGUpOm4uZnJvbUJ5dGVBcnJheShlLnNsaWNlKHQscikpfWZ1bmN0aW9uIEEoZSx0LG4pe249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciByPVtdLG89dDtvPG47KXt2YXIgaSxhLHMsYyx1PWVbb10sbD1udWxsLHA9dT4yMzk/NDp1PjIyMz8zOnU+MTkxPzI6MTtpZihvK3A8PW4pc3dpdGNoKHApe2Nhc2UgMTp1PDEyOCYmKGw9dSk7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYoaT1lW28rMV0pKSYmKGM9KDMxJnUpPDw2fDYzJmkpPjEyNyYmKGw9Yyk7YnJlYWs7Y2FzZSAzOmk9ZVtvKzFdLGE9ZVtvKzJdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJmEpJiYoYz0oMTUmdSk8PDEyfCg2MyZpKTw8Nnw2MyZhKT4yMDQ3JiYoYzw1NTI5Nnx8Yz41NzM0MykmJihsPWMpO2JyZWFrO2Nhc2UgNDppPWVbbysxXSxhPWVbbysyXSxzPWVbbyszXSwxMjg9PSgxOTImaSkmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnMpJiYoYz0oMTUmdSk8PDE4fCg2MyZpKTw8MTJ8KDYzJmEpPDw2fDYzJnMpPjY1NTM1JiZjPDExMTQxMTImJihsPWMpfW51bGw9PT1sPyhsPTY1NTMzLHA9MSk6bD42NTUzNSYmKGwtPTY1NTM2LHIucHVzaChsPj4+MTAmMTAyM3w1NTI5NiksbD01NjMyMHwxMDIzJmwpLHIucHVzaChsKSxvKz1wfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD1fKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlKTtmb3IodmFyIG49IiIscj0wO3I8dDspbis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZShyLHIrPV8pKTtyZXR1cm4gbn0ocil9ci5CdWZmZXI9YyxyLlNsb3dCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuK2UhPWUmJihlPTApLGMuYWxsb2MoK2UpfSxyLklOU1BFQ1RfTUFYX0JZVEVTPTUwLGMuVFlQRURfQVJSQVlfU1VQUE9SVD12b2lkIDAhPT10LlRZUEVEX0FSUkFZX1NVUFBPUlQ/dC5UWVBFRF9BUlJBWV9TVVBQT1JUOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiBlLl9fcHJvdG9fXz17X19wcm90b19fOlVpbnQ4QXJyYXkucHJvdG90eXBlLGZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19LDQyPT09ZS5mb28oKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuc3ViYXJyYXkmJjA9PT1lLnN1YmFycmF5KDEsMSkuYnl0ZUxlbmd0aH1jYXRjaChlKXtyZXR1cm4hMX19KCksci5rTWF4TGVuZ3RoPWEoKSxjLnBvb2xTaXplPTgxOTIsYy5fYXVnbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX189Yy5wcm90b3R5cGUsZX0sYy5mcm9tPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdShudWxsLGUsdCxuKX0sYy5UWVBFRF9BUlJBWV9TVVBQT1JUJiYoYy5wcm90b3R5cGUuX19wcm90b19fPVVpbnQ4QXJyYXkucHJvdG90eXBlLGMuX19wcm90b19fPVVpbnQ4QXJyYXksInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZjW1N5bWJvbC5zcGVjaWVzXT09PWMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMH0pKSxjLmFsbG9jPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGwodCksdDw9MD9zKGUsdCk6dm9pZCAwIT09bj8ic3RyaW5nIj09dHlwZW9mIHI/cyhlLHQpLmZpbGwobixyKTpzKGUsdCkuZmlsbChuKTpzKGUsdCl9KG51bGwsZSx0LG4pfSxjLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiBwKG51bGwsZSl9LGMuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBwKG51bGwsZSl9LGMuaXNCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfSxjLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZighYy5pc0J1ZmZlcihlKXx8IWMuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycyIpO2lmKGU9PT10KXJldHVybiAwO2Zvcih2YXIgbj1lLmxlbmd0aCxyPXQubGVuZ3RoLG89MCxpPU1hdGgubWluKG4scik7bzxpOysrbylpZihlW29dIT09dFtvXSl7bj1lW29dLHI9dFtvXTticmVha31yZXR1cm4gbjxyPy0xOnI8bj8xOjB9LGMuaXNFbmNvZGluZz1mdW5jdGlvbihlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sYy5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZighaShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PWUubGVuZ3RoKXJldHVybiBjLmFsbG9jKDApO3ZhciBuO2lmKHZvaWQgMD09PXQpZm9yKHQ9MCxuPTA7bjxlLmxlbmd0aDsrK24pdCs9ZVtuXS5sZW5ndGg7dmFyIHI9Yy5hbGxvY1Vuc2FmZSh0KSxvPTA7Zm9yKG49MDtuPGUubGVuZ3RoOysrbil7dmFyIGE9ZVtuXTtpZighYy5pc0J1ZmZlcihhKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7YS5jb3B5KHIsbyksbys9YS5sZW5ndGh9cmV0dXJuIHJ9LGMuYnl0ZUxlbmd0aD1mLGMucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxjLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTIpbSh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz00KW0odGhpcyx0LHQrMyksbSh0aGlzLHQrMSx0KzIpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTgpbSh0aGlzLHQsdCs3KSxtKHRoaXMsdCsxLHQrNiksbSh0aGlzLHQrMix0KzUpLG0odGhpcyx0KzMsdCs0KTtyZXR1cm4gdGhpc30sYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT8iIjowPT09YXJndW1lbnRzLmxlbmd0aD9BKHRoaXMsMCxlKTpnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtyZXR1cm4gdGhpcz09PWV8fDA9PT1jLmNvbXBhcmUodGhpcyxlKX0sYy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciBlPSIiLHQ9ci5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdGhpcy5sZW5ndGg+MCYmKGU9dGhpcy50b1N0cmluZygiaGV4IiwwLHQpLm1hdGNoKC8uezJ9L2cpLmpvaW4oIiAiKSx0aGlzLmxlbmd0aD50JiYoZSs9IiAuLi4gIikpLCI8QnVmZmVyICIrZSsiPiJ9LGMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oZSx0LG4scixvKXtpZighYy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7aWYodm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09biYmKG49ZT9lLmxlbmd0aDowKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1vJiYobz10aGlzLmxlbmd0aCksdDwwfHxuPmUubGVuZ3RofHxyPDB8fG8+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm91dCBvZiByYW5nZSBpbmRleCIpO2lmKHI+PW8mJnQ+PW4pcmV0dXJuIDA7aWYocj49bylyZXR1cm4tMTtpZih0Pj1uKXJldHVybiAxO2lmKHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgaT0obz4+Pj0wKS0ocj4+Pj0wKSxhPShuPj4+PTApLSh0Pj4+PTApLHM9TWF0aC5taW4oaSxhKSx1PXRoaXMuc2xpY2UocixvKSxsPWUuc2xpY2UodCxuKSxwPTA7cDxzOysrcClpZih1W3BdIT09bFtwXSl7aT11W3BdLGE9bFtwXTticmVha31yZXR1cm4gaTxhPy0xOmE8aT8xOjB9LGMucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQsbil9LGMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2KHRoaXMsZSx0LG4sITApfSxjLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHYodGhpcyxlLHQsbiwhMSl9LGMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKHZvaWQgMD09PXQpcj0idXRmOCIsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZSBpZih2b2lkIDA9PT1uJiYic3RyaW5nIj09dHlwZW9mIHQpcj10LG49dGhpcy5sZW5ndGgsdD0wO2Vsc2V7aWYoIWlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcigiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQiKTt0fD0wLGlzRmluaXRlKG4pPyhufD0wLHZvaWQgMD09PXImJihyPSJ1dGY4IikpOihyPW4sbj12b2lkIDApfXZhciBvPXRoaXMubGVuZ3RoLXQ7aWYoKHZvaWQgMD09PW58fG4+bykmJihuPW8pLGUubGVuZ3RoPjAmJihuPDB8fHQ8MCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7cnx8KHI9InV0ZjgiKTtmb3IodmFyIGk9ITE7Oylzd2l0Y2gocil7Y2FzZSJoZXgiOnJldHVybiBiKHRoaXMsZSx0LG4pO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIFModGhpcyxlLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIEUodGhpcyxlLHQsbik7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gQyh0aGlzLGUsdCxuKTtjYXNlImJhc2U2NCI6cmV0dXJuIEkodGhpcyxlLHQsbik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBUKHRoaXMsZSx0LG4pO2RlZmF1bHQ6aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK3IpO3I9KCIiK3IpLnRvTG93ZXJDYXNlKCksaT0hMH19LGMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIF89NDA5NjtmdW5jdGlvbiBSKGUsdCxuKXt2YXIgcj0iIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjsrK28pcis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmZVtvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTyhlLHQsbil7dmFyIHI9IiI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIG89dDtvPG47KytvKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtvXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gTChlLHQsbil7dmFyIHIsbz1lLmxlbmd0aDsoIXR8fHQ8MCkmJih0PTApLCghbnx8bjwwfHxuPm8pJiYobj1vKTtmb3IodmFyIGk9IiIsYT10O2E8bjsrK2EpaSs9KHI9ZVthXSk8MTY/IjAiK3IudG9TdHJpbmcoMTYpOnIudG9TdHJpbmcoMTYpO3JldHVybiBpfWZ1bmN0aW9uIGsoZSx0LG4pe2Zvcih2YXIgcj1lLnNsaWNlKHQsbiksbz0iIixpPTA7aTxyLmxlbmd0aDtpKz0yKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUocltpXSsyNTYqcltpKzFdKTtyZXR1cm4gb31mdW5jdGlvbiBOKGUsdCxuKXtpZihlJTEhPTB8fGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IGlzIG5vdCB1aW50Iik7aWYoZSt0Pm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgiKX1mdW5jdGlvbiBQKGUsdCxuLHIsbyxpKXtpZighYy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodD5vfHx0PGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKG4rcj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gRChlLHQsbixyKXt0PDAmJih0PTY1NTM1K3QrMSk7Zm9yKHZhciBvPTAsaT1NYXRoLm1pbihlLmxlbmd0aC1uLDIpO288aTsrK28pZVtuK29dPSh0JjI1NTw8OCoocj9vOjEtbykpPj4+OCoocj9vOjEtbyl9ZnVuY3Rpb24geChlLHQsbixyKXt0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKTtmb3IodmFyIG89MCxpPU1hdGgubWluKGUubGVuZ3RoLW4sNCk7bzxpOysrbyllW24rb109dD4+PjgqKHI/bzozLW8pJjI1NX1mdW5jdGlvbiBNKGUsdCxuLHIsbyxpKXtpZihuK3I+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gVShlLHQsbixyLGkpe3JldHVybiBpfHxNKGUsMCxuLDQpLG8ud3JpdGUoZSx0LG4sciwyMyw0KSxuKzR9ZnVuY3Rpb24gRihlLHQsbixyLGkpe3JldHVybiBpfHxNKGUsMCxuLDgpLG8ud3JpdGUoZSx0LG4sciw1Miw4KSxuKzh9Yy5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXRoaXMubGVuZ3RoO2lmKChlPX5+ZSk8MD8oZSs9cik8MCYmKGU9MCk6ZT5yJiYoZT1yKSwodD12b2lkIDA9PT10P3I6fn50KTwwPyh0Kz1yKTwwJiYodD0wKTp0PnImJih0PXIpLHQ8ZSYmKHQ9ZSksYy5UWVBFRF9BUlJBWV9TVVBQT1JUKShuPXRoaXMuc3ViYXJyYXkoZSx0KSkuX19wcm90b19fPWMucHJvdG90eXBlO2Vsc2V7dmFyIG89dC1lO249bmV3IGMobyx2b2lkIDApO2Zvcih2YXIgaT0wO2k8bzsrK2kpbltpXT10aGlzW2krZV19cmV0dXJuIG59LGMucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZV0sbz0xLGk9MDsrK2k8dCYmKG8qPTI1Nik7KXIrPXRoaXNbZStpXSpvO3JldHVybiByfSxjLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2UrLS10XSxvPTE7dD4wJiYobyo9MjU2KTspcis9dGhpc1tlKy0tdF0qbztyZXR1cm4gcn0sYy5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSwxLHRoaXMubGVuZ3RoKSx0aGlzW2VdfSxjLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fSxjLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxjLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSsxNjc3NzIxNip0aGlzW2UrM119LGMucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1tlXSsodGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdKX0sYy5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2VdLG89MSxpPTA7KytpPHQmJihvKj0yNTYpOylyKz10aGlzW2UraV0qbztyZXR1cm4gcj49KG8qPTEyOCkmJihyLT1NYXRoLnBvdygyLDgqdCkpLHJ9LGMucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dCxvPTEsaT10aGlzW2UrLS1yXTtyPjAmJihvKj0yNTYpOylpKz10aGlzW2UrLS1yXSpvO3JldHVybiBpPj0obyo9MTI4KSYmKGktPU1hdGgucG93KDIsOCp0KSksaX0sYy5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW2VdPy0xKigyNTUtdGhpc1tlXSsxKTp0aGlzW2VdfSxjLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbihlLHQpe3R8fE4oZSwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0sYy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oZSx0KXt0fHxOKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlKzFdfHRoaXNbZV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LGMucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2fHRoaXNbZSszXTw8MjR9LGMucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdPDwyNHx0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119LGMucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCEwLDIzLDQpfSxjLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMSwyMyw0KX0sYy5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCEwLDUyLDgpfSxjLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDgsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITEsNTIsOCl9LGMucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKGUsdCxuLHIpe2U9K2UsdHw9MCxufD0wLHJ8fFAodGhpcyxlLHQsbixNYXRoLnBvdygyLDgqbiktMSwwKTt2YXIgbz0xLGk9MDtmb3IodGhpc1t0XT0yNTUmZTsrK2k8biYmKG8qPTI1Nik7KXRoaXNbdCtpXT1lL28mMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKGUsdCxuLHIpe2U9K2UsdHw9MCxufD0wLHJ8fFAodGhpcyxlLHQsbixNYXRoLnBvdygyLDgqbiktMSwwKTt2YXIgbz1uLTEsaT0xO2Zvcih0aGlzW3Qrb109MjU1JmU7LS1vPj0wJiYoaSo9MjU2KTspdGhpc1t0K29dPWUvaSYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDEsMjU1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksdGhpc1t0XT0yNTUmZSx0KzF9LGMucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwyLDY1NTM1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOkQodGhpcyxlLHQsITApLHQrMn0sYy5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDIsNjU1MzUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6RCh0aGlzLGUsdCwhMSksdCsyfSxjLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0KzNdPWU+Pj4yNCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCsxXT1lPj4+OCx0aGlzW3RdPTI1NSZlKTp4KHRoaXMsZSx0LCEwKSx0KzR9LGMucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOngodGhpcyxlLHQsITEpLHQrNH0sYy5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbihlLHQsbixyKXtpZihlPStlLHR8PTAsIXIpe3ZhciBvPU1hdGgucG93KDIsOCpuLTEpO1AodGhpcyxlLHQsbixvLTEsLW8pfXZhciBpPTAsYT0xLHM9MDtmb3IodGhpc1t0XT0yNTUmZTsrK2k8biYmKGEqPTI1Nik7KWU8MCYmMD09PXMmJjAhPT10aGlzW3QraS0xXSYmKHM9MSksdGhpc1t0K2ldPShlL2F8MCktcyYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQsbixyKXtpZihlPStlLHR8PTAsIXIpe3ZhciBvPU1hdGgucG93KDIsOCpuLTEpO1AodGhpcyxlLHQsbixvLTEsLW8pfXZhciBpPW4tMSxhPTEscz0wO2Zvcih0aGlzW3QraV09MjU1JmU7LS1pPj0wJiYoYSo9MjU2KTspZTwwJiYwPT09cyYmMCE9PXRoaXNbdCtpKzFdJiYocz0xKSx0aGlzW3QraV09KGUvYXwwKS1zJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCwxLDEyNywtMTI4KSxjLlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLGU8MCYmKGU9MjU1K2UrMSksdGhpc1t0XT0yNTUmZSx0KzF9LGMucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTpEKHRoaXMsZSx0LCEwKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpEKHRoaXMsZSx0LCExKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQpOngodGhpcyxlLHQsITApLHQrNH0sYy5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxlPDAmJihlPTQyOTQ5NjcyOTUrZSsxKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6eCh0aGlzLGUsdCwhMSksdCs0fSxjLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBVKHRoaXMsZSx0LCEwLG4pfSxjLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBVKHRoaXMsZSx0LCExLG4pfSxjLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRih0aGlzLGUsdCwhMCxuKX0sYy5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEYodGhpcyxlLHQsITEsbil9LGMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LG4scil7aWYobnx8KG49MCkscnx8MD09PXJ8fChyPXRoaXMubGVuZ3RoKSx0Pj1lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpLHR8fCh0PTApLHI+MCYmcjxuJiYocj1uKSxyPT09bilyZXR1cm4gMDtpZigwPT09ZS5sZW5ndGh8fDA9PT10aGlzLmxlbmd0aClyZXR1cm4gMDtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihuPDB8fG4+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO3I+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKSxlLmxlbmd0aC10PHItbiYmKHI9ZS5sZW5ndGgtdCtuKTt2YXIgbyxpPXItbjtpZih0aGlzPT09ZSYmbjx0JiZ0PHIpZm9yKG89aS0xO28+PTA7LS1vKWVbbyt0XT10aGlzW28rbl07ZWxzZSBpZihpPDFlM3x8IWMuVFlQRURfQVJSQVlfU1VQUE9SVClmb3Iobz0wO288aTsrK28pZVtvK3RdPXRoaXNbbytuXTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKGUsdGhpcy5zdWJhcnJheShuLG4raSksdCk7cmV0dXJuIGl9LGMucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LG4scil7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQ/KHI9dCx0PTAsbj10aGlzLmxlbmd0aCk6InN0cmluZyI9PXR5cGVvZiBuJiYocj1uLG49dGhpcy5sZW5ndGgpLDE9PT1lLmxlbmd0aCl7dmFyIG89ZS5jaGFyQ29kZUF0KDApO288MjU2JiYoZT1vKX1pZih2b2lkIDAhPT1yJiYic3RyaW5nIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZyIpO2lmKCJzdHJpbmciPT10eXBlb2YgciYmIWMuaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK3IpfWVsc2UibnVtYmVyIj09dHlwZW9mIGUmJihlJj0yNTUpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT3V0IG9mIHJhbmdlIGluZGV4Iik7aWYobjw9dClyZXR1cm4gdGhpczt2YXIgaTtpZih0Pj4+PTAsbj12b2lkIDA9PT1uP3RoaXMubGVuZ3RoOm4+Pj4wLGV8fChlPTApLCJudW1iZXIiPT10eXBlb2YgZSlmb3IoaT10O2k8bjsrK2kpdGhpc1tpXT1lO2Vsc2V7dmFyIGE9Yy5pc0J1ZmZlcihlKT9lOnEobmV3IGMoZSxyKS50b1N0cmluZygpKSxzPWEubGVuZ3RoO2ZvcihpPTA7aTxuLXQ7KytpKXRoaXNbaSt0XT1hW2klc119cmV0dXJuIHRoaXN9O3ZhciBqPS9bXitcLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIHEoZSx0KXt2YXIgbjt0PXR8fDEvMDtmb3IodmFyIHI9ZS5sZW5ndGgsbz1udWxsLGk9W10sYT0wO2E8cjsrK2Epe2lmKChuPWUuY2hhckNvZGVBdChhKSk+NTUyOTUmJm48NTczNDQpe2lmKCFvKXtpZihuPjU2MzE5KXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09cil7KHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW89bjtjb250aW51ZX1pZihuPDU2MzIwKXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSksbz1uO2NvbnRpbnVlfW49NjU1MzYrKG8tNTUyOTY8PDEwfG4tNTYzMjApfWVsc2UgbyYmKHQtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2lmKG89bnVsbCxuPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7aS5wdXNoKG4pfWVsc2UgaWYobjwyMDQ4KXtpZigodC09Mik8MClicmVhaztpLnB1c2gobj4+NnwxOTIsNjMmbnwxMjgpfWVsc2UgaWYobjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7aS5wdXNoKG4+PjEyfDIyNCxuPj42JjYzfDEyOCw2MyZufDEyOCl9ZWxzZXtpZighKG48MTExNDExMikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGUgcG9pbnQiKTtpZigodC09NCk8MClicmVhaztpLnB1c2gobj4+MTh8MjQwLG4+PjEyJjYzfDEyOCxuPj42JjYzfDEyOCw2MyZufDEyOCl9fXJldHVybiBpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIG4udG9CeXRlQXJyYXkoZnVuY3Rpb24oZSl7aWYoKGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0oZSkucmVwbGFjZShqLCIiKSkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDtlLmxlbmd0aCU0IT0wOyllKz0iPSI7cmV0dXJuIGV9KGUpKX1mdW5jdGlvbiBHKGUsdCxuLHIpe2Zvcih2YXIgbz0wO288ciYmIShvK24+PXQubGVuZ3RofHxvPj1lLmxlbmd0aCk7KytvKXRbbytuXT1lW29dO3JldHVybiBvfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdm9pZCAwIT09bi5nP24uZzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZSgiYnVmZmVyIikuQnVmZmVyKX0seyJiYXNlNjQtanMiOjgxLGJ1ZmZlcjo4NixpZWVlNzU0Ojg4LGlzYXJyYXk6ODl9XSw4NzpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gaShlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX1mdW5jdGlvbiBhKGUpe3JldHVybiJvYmplY3QiPT09byhlKSYmbnVsbCE9PWV9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gdm9pZCAwPT09ZX10LmV4cG9ydHM9cixyLkV2ZW50RW1pdHRlcj1yLHIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLHIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwLHIuZGVmYXVsdE1heExpc3RlbmVycz0xMCxyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlfHxlPDB8fGlzTmFOKGUpKXRocm93IFR5cGVFcnJvcigibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LHIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8sYyx1O2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksImVycm9yIj09PWUmJighdGhpcy5fZXZlbnRzLmVycm9yfHxhKHRoaXMuX2V2ZW50cy5lcnJvcikmJiF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSl7aWYoKHQ9YXJndW1lbnRzWzFdKWluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDt2YXIgbD1uZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCAiZXJyb3IiIGV2ZW50LiAoJyt0KyIpIik7dGhyb3cgbC5jb250ZXh0PXQsbH1pZihzKG49dGhpcy5fZXZlbnRzW2VdKSlyZXR1cm4hMTtpZihpKG4pKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6bi5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0Om89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG4uYXBwbHkodGhpcyxvKX1lbHNlIGlmKGEobikpZm9yKG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHI9KHU9bi5zbGljZSgpKS5sZW5ndGgsYz0wO2M8cjtjKyspdVtjXS5hcHBseSh0aGlzLG8pO3JldHVybiEwfSxyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKCFpKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7cmV0dXJuIHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoIm5ld0xpc3RlbmVyIixlLGkodC5saXN0ZW5lcik/dC5saXN0ZW5lcjp0KSx0aGlzLl9ldmVudHNbZV0/YSh0aGlzLl9ldmVudHNbZV0pP3RoaXMuX2V2ZW50c1tlXS5wdXNoKHQpOnRoaXMuX2V2ZW50c1tlXT1bdGhpcy5fZXZlbnRzW2VdLHRdOnRoaXMuX2V2ZW50c1tlXT10LGEodGhpcy5fZXZlbnRzW2VdKSYmIXRoaXMuX2V2ZW50c1tlXS53YXJuZWQmJihuPXModGhpcy5fbWF4TGlzdGVuZXJzKT9yLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzKSYmbj4wJiZ0aGlzLl9ldmVudHNbZV0ubGVuZ3RoPm4mJih0aGlzLl9ldmVudHNbZV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuIix0aGlzLl9ldmVudHNbZV0ubGVuZ3RoKSwiZnVuY3Rpb24iPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKSx0aGlzfSxyLnByb3RvdHlwZS5vbj1yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgbj0hMTtmdW5jdGlvbiByKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIpLG58fChuPSEwLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gci5saXN0ZW5lcj10LHRoaXMub24oZSxyKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxzO2lmKCFpKHQpKXRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1tlXSlyZXR1cm4gdGhpcztpZihvPShuPXRoaXMuX2V2ZW50c1tlXSkubGVuZ3RoLHI9LTEsbj09PXR8fGkobi5saXN0ZW5lcikmJm4ubGlzdGVuZXI9PT10KWRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIixlLHQpO2Vsc2UgaWYoYShuKSl7Zm9yKHM9bztzLS0gPjA7KWlmKG5bc109PT10fHxuW3NdLmxpc3RlbmVyJiZuW3NdLmxpc3RlbmVyPT09dCl7cj1zO2JyZWFrfWlmKHI8MClyZXR1cm4gdGhpczsxPT09bi5sZW5ndGg/KG4ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6bi5zcGxpY2UociwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1tlXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodCBpbiB0aGlzLl9ldmVudHMpInJlbW92ZUxpc3RlbmVyIiE9PXQmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihpKG49dGhpcy5fZXZlbnRzW2VdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbik7ZWxzZSBpZihuKWZvcig7bi5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuW24ubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzfSxyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW2VdP2kodGhpcy5fZXZlbnRzW2VdKT9bdGhpcy5fZXZlbnRzW2VdXTp0aGlzLl9ldmVudHNbZV0uc2xpY2UoKTpbXX0sci5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlKXtpZih0aGlzLl9ldmVudHMpe3ZhciB0PXRoaXMuX2V2ZW50c1tlXTtpZihpKHQpKXJldHVybiAxO2lmKHQpcmV0dXJuIHQubGVuZ3RofXJldHVybiAwfSxyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lckNvdW50KHQpfX0se31dLDg4OltmdW5jdGlvbihlLHQsbil7bi5yZWFkPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSxzPTgqby1yLTEsYz0oMTw8cyktMSx1PWM+PjEsbD0tNyxwPW4/by0xOjAsZD1uPy0xOjEsaD1lW3QrcF07Zm9yKHArPWQsaT1oJigxPDwtbCktMSxoPj49LWwsbCs9cztsPjA7aT0yNTYqaStlW3QrcF0scCs9ZCxsLT04KTtmb3IoYT1pJigxPDwtbCktMSxpPj49LWwsbCs9cjtsPjA7YT0yNTYqYStlW3QrcF0scCs9ZCxsLT04KTtpZigwPT09aSlpPTEtdTtlbHNle2lmKGk9PT1jKXJldHVybiBhP05hTjoxLzAqKGg/LTE6MSk7YSs9TWF0aC5wb3coMixyKSxpLT11fXJldHVybihoPy0xOjEpKmEqTWF0aC5wb3coMixpLXIpfSxuLndyaXRlPWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXt2YXIgYSxzLGMsdT04Kmktby0xLGw9KDE8PHUpLTEscD1sPj4xLGQ9MjM9PT1vP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxoPXI/MDppLTEsZj1yPzE6LTEsZz10PDB8fDA9PT10JiYxL3Q8MD8xOjA7Zm9yKHQ9TWF0aC5hYnModCksaXNOYU4odCl8fHQ9PT0xLzA/KHM9aXNOYU4odCk/MTowLGE9bCk6KGE9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMiksdCooYz1NYXRoLnBvdygyLC1hKSk8MSYmKGEtLSxjKj0yKSwodCs9YStwPj0xP2QvYzpkKk1hdGgucG93KDIsMS1wKSkqYz49MiYmKGErKyxjLz0yKSxhK3A+PWw/KHM9MCxhPWwpOmErcD49MT8ocz0odCpjLTEpKk1hdGgucG93KDIsbyksYSs9cCk6KHM9dCpNYXRoLnBvdygyLHAtMSkqTWF0aC5wb3coMixvKSxhPTApKTtvPj04O2VbbitoXT0yNTUmcyxoKz1mLHMvPTI1NixvLT04KTtmb3IoYT1hPDxvfHMsdSs9bzt1PjA7ZVtuK2hdPTI1NSZhLGgrPWYsYS89MjU2LHUtPTgpO2VbbitoLWZdfD0xMjgqZ319LHt9XSw4OTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1yLmNhbGwoZSl9fSx7fV0sOTA6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIG51bGwhPT1lJiYiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIG51bGwhPT1lJiYiW29iamVjdCBPYmplY3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiByKGUsbyl7aWYoZT09PW8pcmV0dXJuITA7aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKXJldHVybiExO2lmKCEwPT09dChlKSl7aWYoZS5sZW5ndGghPT1vLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylpZighMT09PXIoZVtpXSxvW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1pZighMD09PW4oZSkpe3ZhciBhPXt9O2Zvcih2YXIgcyBpbiBlKWlmKGhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7aWYoITE9PT1yKGVbc10sb1tzXSkpcmV0dXJuITE7YVtzXT0hMH1mb3IodmFyIGMgaW4gbylpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKG8sYykmJiEwIT09YVtjXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBvKGUpe2lmKCIiPT09ZXx8ITE9PT1lfHxudWxsPT09ZSlyZXR1cm4hMDtpZih0KGUpJiYwPT09ZS5sZW5ndGgpcmV0dXJuITA7aWYobihlKSl7Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX12YXIgaTtpPSJmdW5jdGlvbiI9PXR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW1MZWZ0P2Z1bmN0aW9uKGUpe3JldHVybiBlLnRyaW1MZWZ0KCl9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm1hdGNoKC9eXHMqKC4qKS8pWzFdfTt2YXIgYT0wLHM9MixjPXswOiJudW1iZXIiLDE6ImFueSIsMjoic3RyaW5nIiwzOiJhcnJheSIsNDoib2JqZWN0Iiw1OiJib29sZWFuIiw2OiJleHByZXNzaW9uIiw3OiJudWxsIiw4OiJBcnJheTxudW1iZXI+Iiw5OiJBcnJheTxzdHJpbmc+In0sdT0iRU9GIixsPSJVbnF1b3RlZElkZW50aWZpZXIiLHA9IlF1b3RlZElkZW50aWZpZXIiLGQ9IlJicmFja2V0IixoPSJScGFyZW4iLGY9IkNvbW1hIixnPSJDb2xvbiIsbT0iUmJyYWNlIix2PSJOdW1iZXIiLHk9IkN1cnJlbnQiLGI9IkV4cHJlZiIsUz0iUGlwZSIsRT0iT3IiLEM9IkFuZCIsST0iRVEiLFQ9IkdUIix3PSJMVCIsQT0iR1RFIixfPSJMVEUiLFI9Ik5FIixPPSJGbGF0dGVuIixMPSJTdGFyIixrPSJGaWx0ZXIiLE49IkRvdCIsUD0iTm90IixEPSJMYnJhY2UiLHg9IkxicmFja2V0IixNPSJMcGFyZW4iLFU9IkxpdGVyYWwiLEY9eyIuIjpOLCIqIjpMLCIsIjpmLCI6IjpnLCJ7IjpELCJ9IjptLCJdIjpkLCIoIjpNLCIpIjpoLCJAIjp5fSxqPXsiPCI6ITAsIj4iOiEwLCI9IjohMCwiISI6ITB9LHE9eyIgIjohMCwiXHQiOiEwLCJcbiI6ITB9O2Z1bmN0aW9uIEIoZSl7cmV0dXJuIGU+PSIwIiYmZTw9IjkifHwiLSI9PT1lfWZ1bmN0aW9uIEcoKXt9Ry5wcm90b3R5cGU9e3Rva2VuaXplOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9W107Zm9yKHRoaXMuX2N1cnJlbnQ9MDt0aGlzLl9jdXJyZW50PGUubGVuZ3RoOylpZigobz1lW3RoaXMuX2N1cnJlbnRdKT49ImEiJiZvPD0ieiJ8fG8+PSJBIiYmbzw9IloifHwiXyI9PT1vKXQ9dGhpcy5fY3VycmVudCxuPXRoaXMuX2NvbnN1bWVVbnF1b3RlZElkZW50aWZpZXIoZSksaS5wdXNoKHt0eXBlOmwsdmFsdWU6bixzdGFydDp0fSk7ZWxzZSBpZih2b2lkIDAhPT1GW2VbdGhpcy5fY3VycmVudF1dKWkucHVzaCh7dHlwZTpGW2VbdGhpcy5fY3VycmVudF1dLHZhbHVlOmVbdGhpcy5fY3VycmVudF0sc3RhcnQ6dGhpcy5fY3VycmVudH0pLHRoaXMuX2N1cnJlbnQrKztlbHNlIGlmKEIoZVt0aGlzLl9jdXJyZW50XSkpcj10aGlzLl9jb25zdW1lTnVtYmVyKGUpLGkucHVzaChyKTtlbHNlIGlmKCJbIj09PWVbdGhpcy5fY3VycmVudF0pcj10aGlzLl9jb25zdW1lTEJyYWNrZXQoZSksaS5wdXNoKHIpO2Vsc2UgaWYoJyInPT09ZVt0aGlzLl9jdXJyZW50XSl0PXRoaXMuX2N1cnJlbnQsbj10aGlzLl9jb25zdW1lUXVvdGVkSWRlbnRpZmllcihlKSxpLnB1c2goe3R5cGU6cCx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKCInIj09PWVbdGhpcy5fY3VycmVudF0pdD10aGlzLl9jdXJyZW50LG49dGhpcy5fY29uc3VtZVJhd1N0cmluZ0xpdGVyYWwoZSksaS5wdXNoKHt0eXBlOlUsdmFsdWU6bixzdGFydDp0fSk7ZWxzZSBpZigiYCI9PT1lW3RoaXMuX2N1cnJlbnRdKXt0PXRoaXMuX2N1cnJlbnQ7dmFyIGE9dGhpcy5fY29uc3VtZUxpdGVyYWwoZSk7aS5wdXNoKHt0eXBlOlUsdmFsdWU6YSxzdGFydDp0fSl9ZWxzZSBpZih2b2lkIDAhPT1qW2VbdGhpcy5fY3VycmVudF1dKWkucHVzaCh0aGlzLl9jb25zdW1lT3BlcmF0b3IoZSkpO2Vsc2UgaWYodm9pZCAwIT09cVtlW3RoaXMuX2N1cnJlbnRdXSl0aGlzLl9jdXJyZW50Kys7ZWxzZSBpZigiJiI9PT1lW3RoaXMuX2N1cnJlbnRdKXQ9dGhpcy5fY3VycmVudCx0aGlzLl9jdXJyZW50KyssIiYiPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLGkucHVzaCh7dHlwZTpDLHZhbHVlOiImJiIsc3RhcnQ6dH0pKTppLnB1c2goe3R5cGU6Yix2YWx1ZToiJiIsc3RhcnQ6dH0pO2Vsc2V7aWYoInwiIT09ZVt0aGlzLl9jdXJyZW50XSl7dmFyIHM9bmV3IEVycm9yKCJVbmtub3duIGNoYXJhY3RlcjoiK2VbdGhpcy5fY3VycmVudF0pO3Rocm93IHMubmFtZT0iTGV4ZXJFcnJvciIsc310PXRoaXMuX2N1cnJlbnQsdGhpcy5fY3VycmVudCsrLCJ8Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyxpLnB1c2goe3R5cGU6RSx2YWx1ZToifHwiLHN0YXJ0OnR9KSk6aS5wdXNoKHt0eXBlOlMsdmFsdWU6InwiLHN0YXJ0OnR9KX1yZXR1cm4gaX0sX2NvbnN1bWVVbnF1b3RlZElkZW50aWZpZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLl9jdXJyZW50O2Zvcih0aGlzLl9jdXJyZW50Kys7dGhpcy5fY3VycmVudDxlLmxlbmd0aCYmKCh0PWVbdGhpcy5fY3VycmVudF0pPj0iYSImJnQ8PSJ6Inx8dD49IkEiJiZ0PD0iWiJ8fHQ+PSIwIiYmdDw9IjkifHwiXyI9PT10KTspdGhpcy5fY3VycmVudCsrO3JldHVybiBlLnNsaWNlKG4sdGhpcy5fY3VycmVudCl9LF9jb25zdW1lUXVvdGVkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50O3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIG49ZS5sZW5ndGg7JyInIT09ZVt0aGlzLl9jdXJyZW50XSYmdGhpcy5fY3VycmVudDxuOyl7dmFyIHI9dGhpcy5fY3VycmVudDsiXFwiIT09ZVtyXXx8IlxcIiE9PWVbcisxXSYmJyInIT09ZVtyKzFdP3IrKzpyKz0yLHRoaXMuX2N1cnJlbnQ9cn1yZXR1cm4gdGhpcy5fY3VycmVudCsrLEpTT04ucGFyc2UoZS5zbGljZSh0LHRoaXMuX2N1cnJlbnQpKX0sX2NvbnN1bWVSYXdTdHJpbmdMaXRlcmFsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgbj1lLmxlbmd0aDsiJyIhPT1lW3RoaXMuX2N1cnJlbnRdJiZ0aGlzLl9jdXJyZW50PG47KXt2YXIgcj10aGlzLl9jdXJyZW50OyJcXCIhPT1lW3JdfHwiXFwiIT09ZVtyKzFdJiYiJyIhPT1lW3IrMV0/cisrOnIrPTIsdGhpcy5fY3VycmVudD1yfXJldHVybiB0aGlzLl9jdXJyZW50KyssZS5zbGljZSh0KzEsdGhpcy5fY3VycmVudC0xKS5yZXBsYWNlKCJcXCciLCInIil9LF9jb25zdW1lTnVtYmVyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgbj1lLmxlbmd0aDtCKGVbdGhpcy5fY3VycmVudF0pJiZ0aGlzLl9jdXJyZW50PG47KXRoaXMuX2N1cnJlbnQrKzt2YXIgcj1wYXJzZUludChlLnNsaWNlKHQsdGhpcy5fY3VycmVudCkpO3JldHVybnt0eXBlOnYsdmFsdWU6cixzdGFydDp0fX0sX2NvbnN1bWVMQnJhY2tldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50O3JldHVybiB0aGlzLl9jdXJyZW50KyssIj8iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOmssdmFsdWU6Ils/IixzdGFydDp0fSk6Il0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOk8sdmFsdWU6IltdIixzdGFydDp0fSk6e3R5cGU6eCx2YWx1ZToiWyIsc3RhcnQ6dH19LF9jb25zdW1lT3BlcmF0b3I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudCxuPWVbdF07cmV0dXJuIHRoaXMuX2N1cnJlbnQrKywiISI9PT1uPyI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpSLHZhbHVlOiIhPSIsc3RhcnQ6dH0pOnt0eXBlOlAsdmFsdWU6IiEiLHN0YXJ0OnR9OiI8Ij09PW4/Ij0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOl8sdmFsdWU6Ijw9IixzdGFydDp0fSk6e3R5cGU6dyx2YWx1ZToiPCIsc3RhcnQ6dH06Ij4iPT09bj8iPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6QSx2YWx1ZToiPj0iLHN0YXJ0OnR9KTp7dHlwZTpULHZhbHVlOiI+IixzdGFydDp0fToiPSI9PT1uJiYiPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6SSx2YWx1ZToiPT0iLHN0YXJ0OnR9KTp2b2lkIDB9LF9jb25zdW1lTGl0ZXJhbDpmdW5jdGlvbihlKXt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciB0LG49dGhpcy5fY3VycmVudCxyPWUubGVuZ3RoOyJgIiE9PWVbdGhpcy5fY3VycmVudF0mJnRoaXMuX2N1cnJlbnQ8cjspe3ZhciBvPXRoaXMuX2N1cnJlbnQ7IlxcIiE9PWVbb118fCJcXCIhPT1lW28rMV0mJiJgIiE9PWVbbysxXT9vKys6bys9Mix0aGlzLl9jdXJyZW50PW99dmFyIGE9aShlLnNsaWNlKG4sdGhpcy5fY3VycmVudCkpO3JldHVybiBhPWEucmVwbGFjZSgiXFxgIiwiYCIpLHQ9dGhpcy5fbG9va3NMaWtlSlNPTihhKT9KU09OLnBhcnNlKGEpOkpTT04ucGFyc2UoJyInK2ErJyInKSx0aGlzLl9jdXJyZW50KyssdH0sX2xvb2tzTGlrZUpTT046ZnVuY3Rpb24oZSl7aWYoIiI9PT1lKXJldHVybiExO2lmKCdbeyInLmluZGV4T2YoZVswXSk+PTApcmV0dXJuITA7aWYoWyJ0cnVlIiwiZmFsc2UiLCJudWxsIl0uaW5kZXhPZihlKT49MClyZXR1cm4hMDtpZighKCItMDEyMzQ1Njc4OSIuaW5kZXhPZihlWzBdKT49MCkpcmV0dXJuITE7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpLCEwfWNhdGNoKGUpe3JldHVybiExfX19O3ZhciBWPXt9O2Z1bmN0aW9uIFcoKXt9ZnVuY3Rpb24gSChlKXt0aGlzLnJ1bnRpbWU9ZX1mdW5jdGlvbiB6KGUpe3RoaXMuX2ludGVycHJldGVyPWUsdGhpcy5mdW5jdGlvblRhYmxlPXthYnM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQWJzLF9zaWduYXR1cmU6W3t0eXBlczpbYV19XX0sYXZnOntfZnVuYzp0aGlzLl9mdW5jdGlvbkF2Zyxfc2lnbmF0dXJlOlt7dHlwZXM6WzhdfV19LGNlaWw6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQ2VpbCxfc2lnbmF0dXJlOlt7dHlwZXM6W2FdfV19LGNvbnRhaW5zOntfZnVuYzp0aGlzLl9mdW5jdGlvbkNvbnRhaW5zLF9zaWduYXR1cmU6W3t0eXBlczpbcywzXX0se3R5cGVzOlsxXX1dfSxlbmRzX3dpdGg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uRW5kc1dpdGgsX3NpZ25hdHVyZTpbe3R5cGVzOltzXX0se3R5cGVzOltzXX1dfSxmbG9vcjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25GbG9vcixfc2lnbmF0dXJlOlt7dHlwZXM6W2FdfV19LGxlbmd0aDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25MZW5ndGgsX3NpZ25hdHVyZTpbe3R5cGVzOltzLDMsNF19XX0sbWFwOntfZnVuYzp0aGlzLl9mdW5jdGlvbk1hcCxfc2lnbmF0dXJlOlt7dHlwZXM6WzZdfSx7dHlwZXM6WzNdfV19LG1heDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NYXgsX3NpZ25hdHVyZTpbe3R5cGVzOls4LDldfV19LG1lcmdlOntfZnVuYzp0aGlzLl9mdW5jdGlvbk1lcmdlLF9zaWduYXR1cmU6W3t0eXBlczpbNF0sdmFyaWFkaWM6ITB9XX0sbWF4X2J5OntfZnVuYzp0aGlzLl9mdW5jdGlvbk1heEJ5LF9zaWduYXR1cmU6W3t0eXBlczpbM119LHt0eXBlczpbNl19XX0sc3VtOntfZnVuYzp0aGlzLl9mdW5jdGlvblN1bSxfc2lnbmF0dXJlOlt7dHlwZXM6WzhdfV19LHN0YXJ0c193aXRoOntfZnVuYzp0aGlzLl9mdW5jdGlvblN0YXJ0c1dpdGgsX3NpZ25hdHVyZTpbe3R5cGVzOltzXX0se3R5cGVzOltzXX1dfSxtaW46e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWluLF9zaWduYXR1cmU6W3t0eXBlczpbOCw5XX1dfSxtaW5fYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWluQnksX3NpZ25hdHVyZTpbe3R5cGVzOlszXX0se3R5cGVzOls2XX1dfSx0eXBlOntfZnVuYzp0aGlzLl9mdW5jdGlvblR5cGUsX3NpZ25hdHVyZTpbe3R5cGVzOlsxXX1dfSxrZXlzOntfZnVuYzp0aGlzLl9mdW5jdGlvbktleXMsX3NpZ25hdHVyZTpbe3R5cGVzOls0XX1dfSx2YWx1ZXM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVmFsdWVzLF9zaWduYXR1cmU6W3t0eXBlczpbNF19XX0sc29ydDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Tb3J0LF9zaWduYXR1cmU6W3t0eXBlczpbOSw4XX1dfSxzb3J0X2J5OntfZnVuYzp0aGlzLl9mdW5jdGlvblNvcnRCeSxfc2lnbmF0dXJlOlt7dHlwZXM6WzNdfSx7dHlwZXM6WzZdfV19LGpvaW46e19mdW5jOnRoaXMuX2Z1bmN0aW9uSm9pbixfc2lnbmF0dXJlOlt7dHlwZXM6W3NdfSx7dHlwZXM6WzldfV19LHJldmVyc2U6e19mdW5jOnRoaXMuX2Z1bmN0aW9uUmV2ZXJzZSxfc2lnbmF0dXJlOlt7dHlwZXM6W3MsM119XX0sdG9fYXJyYXk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVG9BcnJheSxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdfV19LHRvX3N0cmluZzp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ub1N0cmluZyxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdfV19LHRvX251bWJlcjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ub051bWJlcixfc2lnbmF0dXJlOlt7dHlwZXM6WzFdfV19LG5vdF9udWxsOntfZnVuYzp0aGlzLl9mdW5jdGlvbk5vdE51bGwsX3NpZ25hdHVyZTpbe3R5cGVzOlsxXSx2YXJpYWRpYzohMH1dfX19Vlt1XT0wLFZbbF09MCxWW3BdPTAsVltkXT0wLFZbaF09MCxWW2ZdPTAsVlttXT0wLFZbdl09MCxWW3ldPTAsVltiXT0wLFZbU109MSxWW0VdPTIsVltDXT0zLFZbSV09NSxWW1RdPTUsVlt3XT01LFZbQV09NSxWW19dPTUsVltSXT01LFZbT109OSxWW0xdPTIwLFZba109MjEsVltOXT00MCxWW1BdPTQ1LFZbRF09NTAsVlt4XT01NSxWW01dPTYwLFcucHJvdG90eXBlPXtwYXJzZTpmdW5jdGlvbihlKXt0aGlzLl9sb2FkVG9rZW5zKGUpLHRoaXMuaW5kZXg9MDt2YXIgdD10aGlzLmV4cHJlc3Npb24oMCk7aWYodGhpcy5fbG9va2FoZWFkKDApIT09dSl7dmFyIG49dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkscj1uZXcgRXJyb3IoIlVuZXhwZWN0ZWQgdG9rZW4gdHlwZTogIituLnR5cGUrIiwgdmFsdWU6ICIrbi52YWx1ZSk7dGhyb3cgci5uYW1lPSJQYXJzZXJFcnJvciIscn1yZXR1cm4gdH0sX2xvYWRUb2tlbnM6ZnVuY3Rpb24oZSl7dmFyIHQ9KG5ldyBHKS50b2tlbml6ZShlKTt0LnB1c2goe3R5cGU6dSx2YWx1ZToiIixzdGFydDplLmxlbmd0aH0pLHRoaXMudG9rZW5zPXR9LGV4cHJlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbG9va2FoZWFkVG9rZW4oMCk7dGhpcy5fYWR2YW5jZSgpO2Zvcih2YXIgbj10aGlzLm51ZCh0KSxyPXRoaXMuX2xvb2thaGVhZCgwKTtlPFZbcl07KXRoaXMuX2FkdmFuY2UoKSxuPXRoaXMubGVkKHIsbikscj10aGlzLl9sb29rYWhlYWQoMCk7cmV0dXJuIG59LF9sb29rYWhlYWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMuaW5kZXgrZV0udHlwZX0sX2xvb2thaGVhZFRva2VuOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRva2Vuc1t0aGlzLmluZGV4K2VdfSxfYWR2YW5jZTpmdW5jdGlvbigpe3RoaXMuaW5kZXgrK30sbnVkOmZ1bmN0aW9uKGUpe3ZhciB0LG47c3dpdGNoKGUudHlwZSl7Y2FzZSBVOnJldHVybnt0eXBlOiJMaXRlcmFsIix2YWx1ZTplLnZhbHVlfTtjYXNlIGw6cmV0dXJue3R5cGU6IkZpZWxkIixuYW1lOmUudmFsdWV9O2Nhc2UgcDp2YXIgcj17dHlwZToiRmllbGQiLG5hbWU6ZS52YWx1ZX07aWYodGhpcy5fbG9va2FoZWFkKDApPT09TSl0aHJvdyBuZXcgRXJyb3IoIlF1b3RlZCBpZGVudGlmaWVyIG5vdCBhbGxvd2VkIGZvciBmdW5jdGlvbiBuYW1lcy4iKTtyZXR1cm4gcjtjYXNlIFA6cmV0dXJue3R5cGU6Ik5vdEV4cHJlc3Npb24iLGNoaWxkcmVuOlt0PXRoaXMuZXhwcmVzc2lvbihWLk5vdCldfTtjYXNlIEw6cmV0dXJuIHQ9bnVsbCx7dHlwZToiVmFsdWVQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6IklkZW50aXR5In0sdD10aGlzLl9sb29rYWhlYWQoMCk9PT1kP3t0eXBlOiJJZGVudGl0eSJ9OnRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX07Y2FzZSBrOnJldHVybiB0aGlzLmxlZChlLnR5cGUse3R5cGU6IklkZW50aXR5In0pO2Nhc2UgRDpyZXR1cm4gdGhpcy5fcGFyc2VNdWx0aXNlbGVjdEhhc2goKTtjYXNlIE86cmV0dXJue3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZTpPLGNoaWxkcmVuOlt7dHlwZToiSWRlbnRpdHkifV19LHQ9dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuRmxhdHRlbildfTtjYXNlIHg6cmV0dXJuIHRoaXMuX2xvb2thaGVhZCgwKT09PXZ8fHRoaXMuX2xvb2thaGVhZCgwKT09PWc/KHQ9dGhpcy5fcGFyc2VJbmRleEV4cHJlc3Npb24oKSx0aGlzLl9wcm9qZWN0SWZTbGljZSh7dHlwZToiSWRlbnRpdHkifSx0KSk6dGhpcy5fbG9va2FoZWFkKDApPT09TCYmdGhpcy5fbG9va2FoZWFkKDEpPT09ZD8odGhpcy5fYWR2YW5jZSgpLHRoaXMuX2FkdmFuY2UoKSx7dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOiJJZGVudGl0eSJ9LHQ9dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfSk6dGhpcy5fcGFyc2VNdWx0aXNlbGVjdExpc3QoKTtjYXNlIHk6cmV0dXJue3R5cGU6eX07Y2FzZSBiOnJldHVybnt0eXBlOiJFeHByZXNzaW9uUmVmZXJlbmNlIixjaGlsZHJlbjpbbj10aGlzLmV4cHJlc3Npb24oVi5FeHByZWYpXX07Y2FzZSBNOmZvcih2YXIgbz1bXTt0aGlzLl9sb29rYWhlYWQoMCkhPT1oOyl0aGlzLl9sb29rYWhlYWQoMCk9PT15PyhuPXt0eXBlOnl9LHRoaXMuX2FkdmFuY2UoKSk6bj10aGlzLmV4cHJlc3Npb24oMCksby5wdXNoKG4pO3JldHVybiB0aGlzLl9tYXRjaChoKSxvWzBdO2RlZmF1bHQ6dGhpcy5fZXJyb3JUb2tlbihlKX19LGxlZDpmdW5jdGlvbihlLHQpe3ZhciBuO3N3aXRjaChlKXtjYXNlIE46dmFyIHI9Vi5Eb3Q7cmV0dXJuIHRoaXMuX2xvb2thaGVhZCgwKSE9PUw/e3R5cGU6IlN1YmV4cHJlc3Npb24iLGNoaWxkcmVuOlt0LG49dGhpcy5fcGFyc2VEb3RSSFMocildfToodGhpcy5fYWR2YW5jZSgpLHt0eXBlOiJWYWx1ZVByb2plY3Rpb24iLGNoaWxkcmVuOlt0LG49dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKHIpXX0pO2Nhc2UgUzpyZXR1cm4gbj10aGlzLmV4cHJlc3Npb24oVi5QaXBlKSx7dHlwZTpTLGNoaWxkcmVuOlt0LG5dfTtjYXNlIEU6cmV0dXJue3R5cGU6Ik9yRXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLmV4cHJlc3Npb24oVi5PcildfTtjYXNlIEM6cmV0dXJue3R5cGU6IkFuZEV4cHJlc3Npb24iLGNoaWxkcmVuOlt0LG49dGhpcy5leHByZXNzaW9uKFYuQW5kKV19O2Nhc2UgTTpmb3IodmFyIG8saT10Lm5hbWUsYT1bXTt0aGlzLl9sb29rYWhlYWQoMCkhPT1oOyl0aGlzLl9sb29rYWhlYWQoMCk9PT15PyhvPXt0eXBlOnl9LHRoaXMuX2FkdmFuY2UoKSk6bz10aGlzLmV4cHJlc3Npb24oMCksdGhpcy5fbG9va2FoZWFkKDApPT09ZiYmdGhpcy5fbWF0Y2goZiksYS5wdXNoKG8pO3JldHVybiB0aGlzLl9tYXRjaChoKSx7dHlwZToiRnVuY3Rpb24iLG5hbWU6aSxjaGlsZHJlbjphfTtjYXNlIGs6dmFyIHM9dGhpcy5leHByZXNzaW9uKDApO3JldHVybiB0aGlzLl9tYXRjaChkKSx7dHlwZToiRmlsdGVyUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9sb29rYWhlYWQoMCk9PT1PP3t0eXBlOiJJZGVudGl0eSJ9OnRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLkZpbHRlciksc119O2Nhc2UgTzpyZXR1cm57dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOk8sY2hpbGRyZW46W3RdfSx0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5GbGF0dGVuKV19O2Nhc2UgSTpjYXNlIFI6Y2FzZSBUOmNhc2UgQTpjYXNlIHc6Y2FzZSBfOnJldHVybiB0aGlzLl9wYXJzZUNvbXBhcmF0b3IodCxlKTtjYXNlIHg6dmFyIGM9dGhpcy5fbG9va2FoZWFkVG9rZW4oMCk7cmV0dXJuIGMudHlwZT09PXZ8fGMudHlwZT09PWc/KG49dGhpcy5fcGFyc2VJbmRleEV4cHJlc3Npb24oKSx0aGlzLl9wcm9qZWN0SWZTbGljZSh0LG4pKToodGhpcy5fbWF0Y2goTCksdGhpcy5fbWF0Y2goZCkse3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOlt0LG49dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfSk7ZGVmYXVsdDp0aGlzLl9lcnJvclRva2VuKHRoaXMuX2xvb2thaGVhZFRva2VuKDApKX19LF9tYXRjaDpmdW5jdGlvbihlKXtpZih0aGlzLl9sb29rYWhlYWQoMCkhPT1lKXt2YXIgdD10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxuPW5ldyBFcnJvcigiRXhwZWN0ZWQgIitlKyIsIGdvdDogIit0LnR5cGUpO3Rocm93IG4ubmFtZT0iUGFyc2VyRXJyb3IiLG59dGhpcy5fYWR2YW5jZSgpfSxfZXJyb3JUb2tlbjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRXJyb3IoIkludmFsaWQgdG9rZW4gKCIrZS50eXBlKycpOiAiJytlLnZhbHVlKyciJyk7dGhyb3cgdC5uYW1lPSJQYXJzZXJFcnJvciIsdH0sX3BhcnNlSW5kZXhFeHByZXNzaW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5fbG9va2FoZWFkKDApPT09Z3x8dGhpcy5fbG9va2FoZWFkKDEpPT09ZylyZXR1cm4gdGhpcy5fcGFyc2VTbGljZUV4cHJlc3Npb24oKTt2YXIgZT17dHlwZToiSW5kZXgiLHZhbHVlOnRoaXMuX2xvb2thaGVhZFRva2VuKDApLnZhbHVlfTtyZXR1cm4gdGhpcy5fYWR2YW5jZSgpLHRoaXMuX21hdGNoKGQpLGV9LF9wcm9qZWN0SWZTbGljZTpmdW5jdGlvbihlLHQpe3ZhciBuPXt0eXBlOiJJbmRleEV4cHJlc3Npb24iLGNoaWxkcmVuOltlLHRdfTtyZXR1cm4iU2xpY2UiPT09dC50eXBlP3t0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbbix0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19Om59LF9wYXJzZVNsaWNlRXhwcmVzc2lvbjpmdW5jdGlvbigpe2Zvcih2YXIgZT1bbnVsbCxudWxsLG51bGxdLHQ9MCxuPXRoaXMuX2xvb2thaGVhZCgwKTtuIT09ZCYmdDwzOyl7aWYobj09PWcpdCsrLHRoaXMuX2FkdmFuY2UoKTtlbHNle2lmKG4hPT12KXt2YXIgcj10aGlzLl9sb29rYWhlYWQoMCksbz1uZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5leHBlY3RlZCB0b2tlbjogIityLnZhbHVlKyIoIityLnR5cGUrIikiKTt0aHJvdyBvLm5hbWU9IlBhcnNlcmVycm9yIixvfWVbdF09dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkudmFsdWUsdGhpcy5fYWR2YW5jZSgpfW49dGhpcy5fbG9va2FoZWFkKDApfXJldHVybiB0aGlzLl9tYXRjaChkKSx7dHlwZToiU2xpY2UiLGNoaWxkcmVuOmV9fSxfcGFyc2VDb21wYXJhdG9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJue3R5cGU6IkNvbXBhcmF0b3IiLG5hbWU6dCxjaGlsZHJlbjpbZSx0aGlzLmV4cHJlc3Npb24oVlt0XSldfX0sX3BhcnNlRG90UkhTOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvb2thaGVhZCgwKTtyZXR1cm5bbCxwLExdLmluZGV4T2YodCk+PTA/dGhpcy5leHByZXNzaW9uKGUpOnQ9PT14Pyh0aGlzLl9tYXRjaCh4KSx0aGlzLl9wYXJzZU11bHRpc2VsZWN0TGlzdCgpKTp0PT09RD8odGhpcy5fbWF0Y2goRCksdGhpcy5fcGFyc2VNdWx0aXNlbGVjdEhhc2goKSk6dm9pZCAwfSxfcGFyc2VQcm9qZWN0aW9uUkhTOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKFZbdGhpcy5fbG9va2FoZWFkKDApXTwxMCl0PXt0eXBlOiJJZGVudGl0eSJ9O2Vsc2UgaWYodGhpcy5fbG9va2FoZWFkKDApPT09eCl0PXRoaXMuZXhwcmVzc2lvbihlKTtlbHNlIGlmKHRoaXMuX2xvb2thaGVhZCgwKT09PWspdD10aGlzLmV4cHJlc3Npb24oZSk7ZWxzZXtpZih0aGlzLl9sb29rYWhlYWQoMCkhPT1OKXt2YXIgbj10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxyPW5ldyBFcnJvcigiU3l0YW54IGVycm9yLCB1bmV4cGVjdGVkIHRva2VuOiAiK24udmFsdWUrIigiK24udHlwZSsiKSIpO3Rocm93IHIubmFtZT0iUGFyc2VyRXJyb3IiLHJ9dGhpcy5fbWF0Y2goTiksdD10aGlzLl9wYXJzZURvdFJIUyhlKX1yZXR1cm4gdH0sX3BhcnNlTXVsdGlzZWxlY3RMaXN0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWQ7KXt2YXIgdD10aGlzLmV4cHJlc3Npb24oMCk7aWYoZS5wdXNoKHQpLHRoaXMuX2xvb2thaGVhZCgwKT09PWYmJih0aGlzLl9tYXRjaChmKSx0aGlzLl9sb29rYWhlYWQoMCk9PT1kKSl0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgdG9rZW4gUmJyYWNrZXQiKX1yZXR1cm4gdGhpcy5fbWF0Y2goZCkse3R5cGU6Ik11bHRpU2VsZWN0TGlzdCIsY2hpbGRyZW46ZX19LF9wYXJzZU11bHRpc2VsZWN0SGFzaDpmdW5jdGlvbigpe2Zvcih2YXIgZSx0LG4scj1bXSxvPVtsLHBdOzspe2lmKGU9dGhpcy5fbG9va2FoZWFkVG9rZW4oMCksby5pbmRleE9mKGUudHlwZSk8MCl0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGluZyBhbiBpZGVudGlmaWVyIHRva2VuLCBnb3Q6ICIrZS50eXBlKTtpZih0PWUudmFsdWUsdGhpcy5fYWR2YW5jZSgpLHRoaXMuX21hdGNoKGcpLG49e3R5cGU6IktleVZhbHVlUGFpciIsbmFtZTp0LHZhbHVlOnRoaXMuZXhwcmVzc2lvbigwKX0sci5wdXNoKG4pLHRoaXMuX2xvb2thaGVhZCgwKT09PWYpdGhpcy5fbWF0Y2goZik7ZWxzZSBpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1tKXt0aGlzLl9tYXRjaChtKTticmVha319cmV0dXJue3R5cGU6Ik11bHRpU2VsZWN0SGFzaCIsY2hpbGRyZW46cn19fSxILnByb3RvdHlwZT17c2VhcmNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMudmlzaXQoZSx0KX0sdmlzaXQ6ZnVuY3Rpb24oZSxpKXt2YXIgYSxzLGMsdSxsLHAsZCxoLGY7c3dpdGNoKGUudHlwZSl7Y2FzZSJGaWVsZCI6cmV0dXJuIG51bGwhPT1pJiZuKGkpP3ZvaWQgMD09PShwPWlbZS5uYW1lXSk/bnVsbDpwOm51bGw7Y2FzZSJTdWJleHByZXNzaW9uIjpmb3IoYz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksZj0xO2Y8ZS5jaGlsZHJlbi5sZW5ndGg7ZisrKWlmKG51bGw9PT0oYz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sYykpKXJldHVybiBudWxsO3JldHVybiBjO2Nhc2UiSW5kZXhFeHByZXNzaW9uIjpyZXR1cm4gZD10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksdGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGQpO2Nhc2UiSW5kZXgiOmlmKCF0KGkpKXJldHVybiBudWxsO3ZhciBnPWUudmFsdWU7cmV0dXJuIGc8MCYmKGc9aS5sZW5ndGgrZyksdm9pZCAwPT09KGM9aVtnXSkmJihjPW51bGwpLGM7Y2FzZSJTbGljZSI6aWYoIXQoaSkpcmV0dXJuIG51bGw7dmFyIG09ZS5jaGlsZHJlbi5zbGljZSgwKSx2PXRoaXMuY29tcHV0ZVNsaWNlUGFyYW1zKGkubGVuZ3RoLG0pLEU9dlswXSxDPXZbMV0sTD12WzJdO2lmKGM9W10sTD4wKWZvcihmPUU7ZjxDO2YrPUwpYy5wdXNoKGlbZl0pO2Vsc2UgZm9yKGY9RTtmPkM7Zis9TCljLnB1c2goaVtmXSk7cmV0dXJuIGM7Y2FzZSJQcm9qZWN0aW9uIjp2YXIgaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSk7aWYoIXQoaykpcmV0dXJuIG51bGw7Zm9yKGg9W10sZj0wO2Y8ay5sZW5ndGg7ZisrKW51bGwhPT0ocz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sa1tmXSkpJiZoLnB1c2gocyk7cmV0dXJuIGg7Y2FzZSJWYWx1ZVByb2plY3Rpb24iOmlmKCFuKGs9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKSlyZXR1cm4gbnVsbDtoPVtdO3ZhciBOPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyluLnB1c2goZVt0W3JdXSk7cmV0dXJuIG59KGspO2ZvcihmPTA7ZjxOLmxlbmd0aDtmKyspbnVsbCE9PShzPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxOW2ZdKSkmJmgucHVzaChzKTtyZXR1cm4gaDtjYXNlIkZpbHRlclByb2plY3Rpb24iOmlmKCF0KGs9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpKSlyZXR1cm4gbnVsbDt2YXIgUD1bXSxEPVtdO2ZvcihmPTA7ZjxrLmxlbmd0aDtmKyspbyhhPXRoaXMudmlzaXQoZS5jaGlsZHJlblsyXSxrW2ZdKSl8fFAucHVzaChrW2ZdKTtmb3IodmFyIHg9MDt4PFAubGVuZ3RoO3grKyludWxsIT09KHM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLFBbeF0pKSYmRC5wdXNoKHMpO3JldHVybiBEO2Nhc2UiQ29tcGFyYXRvciI6c3dpdGNoKHU9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLGw9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGkpLGUubmFtZSl7Y2FzZSBJOmM9cih1LGwpO2JyZWFrO2Nhc2UgUjpjPSFyKHUsbCk7YnJlYWs7Y2FzZSBUOmM9dT5sO2JyZWFrO2Nhc2UgQTpjPXU+PWw7YnJlYWs7Y2FzZSB3OmM9dTxsO2JyZWFrO2Nhc2UgXzpjPXU8PWw7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gY29tcGFyYXRvcjogIitlLm5hbWUpfXJldHVybiBjO2Nhc2UgTzp2YXIgTT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSk7aWYoIXQoTSkpcmV0dXJuIG51bGw7dmFyIFU9W107Zm9yKGY9MDtmPE0ubGVuZ3RoO2YrKyl0KHM9TVtmXSk/VS5wdXNoLmFwcGx5KFUscyk6VS5wdXNoKHMpO3JldHVybiBVO2Nhc2UiSWRlbnRpdHkiOnJldHVybiBpO2Nhc2UiTXVsdGlTZWxlY3RMaXN0IjppZihudWxsPT09aSlyZXR1cm4gbnVsbDtmb3IoaD1bXSxmPTA7ZjxlLmNoaWxkcmVuLmxlbmd0aDtmKyspaC5wdXNoKHRoaXMudmlzaXQoZS5jaGlsZHJlbltmXSxpKSk7cmV0dXJuIGg7Y2FzZSJNdWx0aVNlbGVjdEhhc2giOmlmKG51bGw9PT1pKXJldHVybiBudWxsO3ZhciBGO2ZvcihoPXt9LGY9MDtmPGUuY2hpbGRyZW4ubGVuZ3RoO2YrKyloWyhGPWUuY2hpbGRyZW5bZl0pLm5hbWVdPXRoaXMudmlzaXQoRi52YWx1ZSxpKTtyZXR1cm4gaDtjYXNlIk9yRXhwcmVzc2lvbiI6cmV0dXJuIG8oYT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpJiYoYT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSkpLGE7Y2FzZSJBbmRFeHByZXNzaW9uIjpyZXR1cm4hMD09PW8odT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpP3U6dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLGkpO2Nhc2UiTm90RXhwcmVzc2lvbiI6cmV0dXJuIG8odT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpO2Nhc2UiTGl0ZXJhbCI6cmV0dXJuIGUudmFsdWU7Y2FzZSBTOnJldHVybiBkPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSx0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sZCk7Y2FzZSB5OnJldHVybiBpO2Nhc2UiRnVuY3Rpb24iOnZhciBqPVtdO2ZvcihmPTA7ZjxlLmNoaWxkcmVuLmxlbmd0aDtmKyspai5wdXNoKHRoaXMudmlzaXQoZS5jaGlsZHJlbltmXSxpKSk7cmV0dXJuIHRoaXMucnVudGltZS5jYWxsRnVuY3Rpb24oZS5uYW1lLGopO2Nhc2UiRXhwcmVzc2lvblJlZmVyZW5jZSI6dmFyIHE9ZS5jaGlsZHJlblswXTtyZXR1cm4gcS5qbWVzcGF0aFR5cGU9YixxO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIG5vZGUgdHlwZTogIitlLnR5cGUpfX0sY29tcHV0ZVNsaWNlUGFyYW1zOmZ1bmN0aW9uKGUsdCl7dmFyIG49dFswXSxyPXRbMV0sbz10WzJdLGk9W251bGwsbnVsbCxudWxsXTtpZihudWxsPT09bylvPTE7ZWxzZSBpZigwPT09byl7dmFyIGE9bmV3IEVycm9yKCJJbnZhbGlkIHNsaWNlLCBzdGVwIGNhbm5vdCBiZSAwIik7dGhyb3cgYS5uYW1lPSJSdW50aW1lRXJyb3IiLGF9dmFyIHM9bzwwO3JldHVybiBuPW51bGw9PT1uP3M/ZS0xOjA6dGhpcy5jYXBTbGljZVJhbmdlKGUsbixvKSxyPW51bGw9PT1yP3M/LTE6ZTp0aGlzLmNhcFNsaWNlUmFuZ2UoZSxyLG8pLGlbMF09bixpWzFdPXIsaVsyXT1vLGl9LGNhcFNsaWNlUmFuZ2U6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PDA/KHQrPWUpPDAmJih0PW48MD8tMTowKTp0Pj1lJiYodD1uPDA/ZS0xOmUpLHR9fSx6LnByb3RvdHlwZT17Y2FsbEZ1bmN0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5mdW5jdGlvblRhYmxlW2VdO2lmKHZvaWQgMD09PW4pdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGZ1bmN0aW9uOiAiK2UrIigpIik7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlQXJncyhlLHQsbi5fc2lnbmF0dXJlKSxuLl9mdW5jLmNhbGwodGhpcyx0KX0sX3ZhbGlkYXRlQXJnczpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE7aWYobltuLmxlbmd0aC0xXS52YXJpYWRpYyl7aWYodC5sZW5ndGg8bi5sZW5ndGgpdGhyb3cgcj0xPT09bi5sZW5ndGg/IiBhcmd1bWVudCI6IiBhcmd1bWVudHMiLG5ldyBFcnJvcigiQXJndW1lbnRFcnJvcjogIitlKyIoKSB0YWtlcyBhdCBsZWFzdCIrbi5sZW5ndGgrcisiIGJ1dCByZWNlaXZlZCAiK3QubGVuZ3RoKX1lbHNlIGlmKHQubGVuZ3RoIT09bi5sZW5ndGgpdGhyb3cgcj0xPT09bi5sZW5ndGg/IiBhcmd1bWVudCI6IiBhcmd1bWVudHMiLG5ldyBFcnJvcigiQXJndW1lbnRFcnJvcjogIitlKyIoKSB0YWtlcyAiK24ubGVuZ3RoK3IrIiBidXQgcmVjZWl2ZWQgIit0Lmxlbmd0aCk7Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspe2E9ITEsbz1uW3NdLnR5cGVzLGk9dGhpcy5fZ2V0VHlwZU5hbWUodFtzXSk7Zm9yKHZhciB1PTA7dTxvLmxlbmd0aDt1KyspaWYodGhpcy5fdHlwZU1hdGNoZXMoaSxvW3VdLHRbc10pKXthPSEwO2JyZWFrfWlmKCFhKXt2YXIgbD1vLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGNbZV19KSkuam9pbigiLCIpO3Rocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiAiK2UrIigpIGV4cGVjdGVkIGFyZ3VtZW50ICIrKHMrMSkrIiB0byBiZSB0eXBlICIrbCsiIGJ1dCByZWNlaXZlZCB0eXBlICIrY1tpXSsiIGluc3RlYWQuIil9fX0sX3R5cGVNYXRjaGVzOmZ1bmN0aW9uKGUsdCxuKXtpZigxPT09dClyZXR1cm4hMDtpZig5IT09dCYmOCE9PXQmJjMhPT10KXJldHVybiBlPT09dDtpZigzPT09dClyZXR1cm4gMz09PWU7aWYoMz09PWUpe3ZhciByOzg9PT10P3I9YTo5PT09dCYmKHI9cyk7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspaWYoIXRoaXMuX3R5cGVNYXRjaGVzKHRoaXMuX2dldFR5cGVOYW1lKG5bb10pLHIsbltvXSkpcmV0dXJuITE7cmV0dXJuITB9fSxfZ2V0VHlwZU5hbWU6ZnVuY3Rpb24oZSl7c3dpdGNoKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7Y2FzZSJbb2JqZWN0IFN0cmluZ10iOnJldHVybiBzO2Nhc2UiW29iamVjdCBOdW1iZXJdIjpyZXR1cm4gYTtjYXNlIltvYmplY3QgQXJyYXldIjpyZXR1cm4gMztjYXNlIltvYmplY3QgQm9vbGVhbl0iOnJldHVybiA1O2Nhc2UiW29iamVjdCBOdWxsXSI6cmV0dXJuIDc7Y2FzZSJbb2JqZWN0IE9iamVjdF0iOnJldHVybiBlLmptZXNwYXRoVHlwZT09PWI/Njo0fX0sX2Z1bmN0aW9uU3RhcnRzV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWVbMF0ubGFzdEluZGV4T2YoZVsxXSl9LF9mdW5jdGlvbkVuZHNXaXRoOmZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdO3JldHVybi0xIT09dC5pbmRleE9mKG4sdC5sZW5ndGgtbi5sZW5ndGgpfSxfZnVuY3Rpb25SZXZlcnNlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pPT09cyl7Zm9yKHZhciB0PWVbMF0sbj0iIixyPXQubGVuZ3RoLTE7cj49MDtyLS0pbis9dFtyXTtyZXR1cm4gbn12YXIgbz1lWzBdLnNsaWNlKDApO3JldHVybiBvLnJldmVyc2UoKSxvfSxfZnVuY3Rpb25BYnM6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKGVbMF0pfSxfZnVuY3Rpb25DZWlsOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmNlaWwoZVswXSl9LF9mdW5jdGlvbkF2ZzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWVbMF0scj0wO3I8bi5sZW5ndGg7cisrKXQrPW5bcl07cmV0dXJuIHQvbi5sZW5ndGh9LF9mdW5jdGlvbkNvbnRhaW5zOmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdLmluZGV4T2YoZVsxXSk+PTB9LF9mdW5jdGlvbkZsb29yOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmZsb29yKGVbMF0pfSxfZnVuY3Rpb25MZW5ndGg6ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZVswXSk/T2JqZWN0LmtleXMoZVswXSkubGVuZ3RoOmVbMF0ubGVuZ3RofSxfZnVuY3Rpb25NYXA6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49dGhpcy5faW50ZXJwcmV0ZXIscj1lWzBdLG89ZVsxXSxpPTA7aTxvLmxlbmd0aDtpKyspdC5wdXNoKG4udmlzaXQocixvW2ldKSk7cmV0dXJuIHR9LF9mdW5jdGlvbk1lcmdlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07Zm9yKHZhciBvIGluIHIpdFtvXT1yW29dfXJldHVybiB0fSxfZnVuY3Rpb25NYXg6ZnVuY3Rpb24oZSl7aWYoZVswXS5sZW5ndGg+MCl7aWYodGhpcy5fZ2V0VHlwZU5hbWUoZVswXVswXSk9PT1hKXJldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGVbMF0pO2Zvcih2YXIgdD1lWzBdLG49dFswXSxyPTE7cjx0Lmxlbmd0aDtyKyspbi5sb2NhbGVDb21wYXJlKHRbcl0pPDAmJihuPXRbcl0pO3JldHVybiBufXJldHVybiBudWxsfSxfZnVuY3Rpb25NaW46ZnVuY3Rpb24oZSl7aWYoZVswXS5sZW5ndGg+MCl7aWYodGhpcy5fZ2V0VHlwZU5hbWUoZVswXVswXSk9PT1hKXJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGVbMF0pO2Zvcih2YXIgdD1lWzBdLG49dFswXSxyPTE7cjx0Lmxlbmd0aDtyKyspdFtyXS5sb2NhbGVDb21wYXJlKG4pPDAmJihuPXRbcl0pO3JldHVybiBufXJldHVybiBudWxsfSxfZnVuY3Rpb25TdW06ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1lWzBdLHI9MDtyPG4ubGVuZ3RoO3IrKyl0Kz1uW3JdO3JldHVybiB0fSxfZnVuY3Rpb25UeXBlOmZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLl9nZXRUeXBlTmFtZShlWzBdKSl7Y2FzZSBhOnJldHVybiJudW1iZXIiO2Nhc2UgczpyZXR1cm4ic3RyaW5nIjtjYXNlIDM6cmV0dXJuImFycmF5IjtjYXNlIDQ6cmV0dXJuIm9iamVjdCI7Y2FzZSA1OnJldHVybiJib29sZWFuIjtjYXNlIDY6cmV0dXJuImV4cHJlZiI7Y2FzZSA3OnJldHVybiJudWxsIn19LF9mdW5jdGlvbktleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGVbMF0pfSxfZnVuY3Rpb25WYWx1ZXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWVbMF0sbj1PYmplY3Qua2V5cyh0KSxyPVtdLG89MDtvPG4ubGVuZ3RoO28rKylyLnB1c2godFtuW29dXSk7cmV0dXJuIHJ9LF9mdW5jdGlvbkpvaW46ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXTtyZXR1cm4gZVsxXS5qb2luKHQpfSxfZnVuY3Rpb25Ub0FycmF5OmZ1bmN0aW9uKGUpe3JldHVybiAzPT09dGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk/ZVswXTpbZVswXV19LF9mdW5jdGlvblRvU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9nZXRUeXBlTmFtZShlWzBdKT09PXM/ZVswXTpKU09OLnN0cmluZ2lmeShlWzBdKX0sX2Z1bmN0aW9uVG9OdW1iZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLl9nZXRUeXBlTmFtZShlWzBdKTtyZXR1cm4gbj09PWE/ZVswXTpuIT09c3x8KHQ9K2VbMF0saXNOYU4odCkpP251bGw6dH0sX2Z1bmN0aW9uTm90TnVsbDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZig3IT09dGhpcy5fZ2V0VHlwZU5hbWUoZVt0XSkpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9LF9mdW5jdGlvblNvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS5zbGljZSgwKTtyZXR1cm4gdC5zb3J0KCksdH0sX2Z1bmN0aW9uU29ydEJ5OmZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0uc2xpY2UoMCk7aWYoMD09PXQubGVuZ3RoKXJldHVybiB0O3ZhciBuPXRoaXMuX2ludGVycHJldGVyLHI9ZVsxXSxvPXRoaXMuX2dldFR5cGVOYW1lKG4udmlzaXQocix0WzBdKSk7aWYoW2Esc10uaW5kZXhPZihvKTwwKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yIik7Zm9yKHZhciBpPXRoaXMsYz1bXSx1PTA7dTx0Lmxlbmd0aDt1KyspYy5wdXNoKFt1LHRbdV1dKTtjLnNvcnQoKGZ1bmN0aW9uKGUsdCl7dmFyIGE9bi52aXNpdChyLGVbMV0pLHM9bi52aXNpdChyLHRbMV0pO2lmKGkuX2dldFR5cGVOYW1lKGEpIT09byl0aHJvdyBuZXcgRXJyb3IoIlR5cGVFcnJvcjogZXhwZWN0ZWQgIitvKyIsIHJlY2VpdmVkICIraS5fZ2V0VHlwZU5hbWUoYSkpO2lmKGkuX2dldFR5cGVOYW1lKHMpIT09byl0aHJvdyBuZXcgRXJyb3IoIlR5cGVFcnJvcjogZXhwZWN0ZWQgIitvKyIsIHJlY2VpdmVkICIraS5fZ2V0VHlwZU5hbWUocykpO3JldHVybiBhPnM/MTphPHM/LTE6ZVswXS10WzBdfSkpO2Zvcih2YXIgbD0wO2w8Yy5sZW5ndGg7bCsrKXRbbF09Y1tsXVsxXTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWF4Qnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lWzFdLG89ZVswXSxpPXRoaXMuY3JlYXRlS2V5RnVuY3Rpb24ocixbYSxzXSksYz0tMS8wLHU9MDt1PG8ubGVuZ3RoO3UrKykobj1pKG9bdV0pKT5jJiYoYz1uLHQ9b1t1XSk7cmV0dXJuIHR9LF9mdW5jdGlvbk1pbkJ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZVsxXSxvPWVbMF0saT10aGlzLmNyZWF0ZUtleUZ1bmN0aW9uKHIsW2Esc10pLGM9MS8wLHU9MDt1PG8ubGVuZ3RoO3UrKykobj1pKG9bdV0pKTxjJiYoYz1uLHQ9b1t1XSk7cmV0dXJuIHR9LGNyZWF0ZUtleUZ1bmN0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuX2ludGVycHJldGVyO3JldHVybiBmdW5jdGlvbihvKXt2YXIgaT1yLnZpc2l0KGUsbyk7aWYodC5pbmRleE9mKG4uX2dldFR5cGVOYW1lKGkpKTwwKXt2YXIgYT0iVHlwZUVycm9yOiBleHBlY3RlZCBvbmUgb2YgIit0KyIsIHJlY2VpdmVkICIrbi5fZ2V0VHlwZU5hbWUoaSk7dGhyb3cgbmV3IEVycm9yKGEpfXJldHVybiBpfX19LGUudG9rZW5pemU9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBHKS50b2tlbml6ZShlKX0sZS5jb21waWxlPWZ1bmN0aW9uKGUpe3JldHVybihuZXcgVykucGFyc2UoZSl9LGUuc2VhcmNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmV3IFcscj1uZXcgeixvPW5ldyBIKHIpO3IuX2ludGVycHJldGVyPW87dmFyIGk9bi5wYXJzZSh0KTtyZXR1cm4gby5zZWFyY2goaSxlKX0sZS5zdHJpY3REZWVwRXF1YWw9cn0odm9pZCAwPT09bj90aGlzLmptZXNwYXRoPXt9Om4pfSx7fV0sOTE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9dC5leHBvcnRzPXt9O2Z1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBzKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBjKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1hfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDphfWNhdGNoKGUpe3I9YX10cnl7bz0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpzfWNhdGNoKGUpe289c319KCk7dmFyIHUsbD1bXSxwPSExLGQ9LTE7ZnVuY3Rpb24gaCgpe3AmJnUmJihwPSExLHUubGVuZ3RoP2w9dS5jb25jYXQobCk6ZD0tMSxsLmxlbmd0aCYmZigpKX1mdW5jdGlvbiBmKCl7aWYoIXApe3ZhciBlPWMoaCk7cD0hMDtmb3IodmFyIHQ9bC5sZW5ndGg7dDspe2Zvcih1PWwsbD1bXTsrK2Q8dDspdSYmdVtkXS5ydW4oKTtkPS0xLHQ9bC5sZW5ndGh9dT1udWxsLHA9ITEsZnVuY3Rpb24oZSl7aWYobz09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChvPT09c3x8IW8pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG89Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIG8oZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBvLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gby5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBtKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtsLnB1c2gobmV3IGcoZSx0KSksMSE9PWwubGVuZ3RofHxwfHxjKGYpfSxnLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPSJicm93c2VyIixpLmJyb3dzZXI9ITAsaS5lbnY9e30saS5hcmd2PVtdLGkudmVyc2lvbj0iIixpLnZlcnNpb25zPXt9LGkub249bSxpLmFkZExpc3RlbmVyPW0saS5vbmNlPW0saS5vZmY9bSxpLnJlbW92ZUxpc3RlbmVyPW0saS5yZW1vdmVBbGxMaXN0ZW5lcnM9bSxpLmVtaXQ9bSxpLnByZXBlbmRMaXN0ZW5lcj1tLGkucHJlcGVuZE9uY2VMaXN0ZW5lcj1tLGkubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn0saS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sOTI6W2Z1bmN0aW9uKGUsdCxpKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGEpe3ZhciBzPSJvYmplY3QiPT1vKGkpJiZpJiYhaS5ub2RlVHlwZSYmaSxjPSJvYmplY3QiPT1vKHQpJiZ0JiYhdC5ub2RlVHlwZSYmdCx1PSJvYmplY3QiPT1vKGUpJiZlO3UuZ2xvYmFsIT09dSYmdS53aW5kb3chPT11JiZ1LnNlbGYhPT11fHwoYT11KTt2YXIgbCxwLGQ9MjE0NzQ4MzY0NyxoPTM2LGY9L154bi0tLyxnPS9bXlx4MjAtXHg3RV0vLG09L1tceDJFXHUzMDAyXHVGRjBFXHVGRjYxXS9nLHY9e292ZXJmbG93OiJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcyIsIm5vdC1iYXNpYyI6IklsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCkiLCJpbnZhbGlkLWlucHV0IjoiSW52YWxpZCBpbnB1dCJ9LHk9TWF0aC5mbG9vcixiPVN0cmluZy5mcm9tQ2hhckNvZGU7ZnVuY3Rpb24gUyhlKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcih2W2VdKX1mdW5jdGlvbiBFKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9W107bi0tOylyW25dPXQoZVtuXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPWUuc3BsaXQoIkAiKSxyPSIiO3JldHVybiBuLmxlbmd0aD4xJiYocj1uWzBdKyJAIixlPW5bMV0pLHIrRSgoZT1lLnJlcGxhY2UobSwiLiIpKS5zcGxpdCgiLiIpLHQpLmpvaW4oIi4iKX1mdW5jdGlvbiBJKGUpe2Zvcih2YXIgdCxuLHI9W10sbz0wLGk9ZS5sZW5ndGg7bzxpOykodD1lLmNoYXJDb2RlQXQobysrKSk+PTU1Mjk2JiZ0PD01NjMxOSYmbzxpPzU2MzIwPT0oNjQ1MTImKG49ZS5jaGFyQ29kZUF0KG8rKykpKT9yLnB1c2goKCgxMDIzJnQpPDwxMCkrKDEwMjMmbikrNjU1MzYpOihyLnB1c2godCksby0tKTpyLnB1c2godCk7cmV0dXJuIHJ9ZnVuY3Rpb24gVChlKXtyZXR1cm4gRShlLChmdW5jdGlvbihlKXt2YXIgdD0iIjtyZXR1cm4gZT42NTUzNSYmKHQrPWIoKGUtPTY1NTM2KT4+PjEwJjEwMjN8NTUyOTYpLGU9NTYzMjB8MTAyMyZlKSx0Kz1iKGUpfSkpLmpvaW4oIiIpfWZ1bmN0aW9uIHcoZSx0KXtyZXR1cm4gZSsyMis3NSooZTwyNiktKCgwIT10KTw8NSl9ZnVuY3Rpb24gQShlLHQsbil7dmFyIHI9MDtmb3IoZT1uP3koZS83MDApOmU+PjEsZSs9eShlL3QpO2U+NDU1O3IrPWgpZT15KGUvMzUpO3JldHVybiB5KHIrMzYqZS8oZSszOCkpfWZ1bmN0aW9uIF8oZSl7dmFyIHQsbixyLG8saSxhLHMsYyx1LGwscCxmPVtdLGc9ZS5sZW5ndGgsbT0wLHY9MTI4LGI9NzI7Zm9yKChuPWUubGFzdEluZGV4T2YoIi0iKSk8MCYmKG49MCkscj0wO3I8bjsrK3IpZS5jaGFyQ29kZUF0KHIpPj0xMjgmJlMoIm5vdC1iYXNpYyIpLGYucHVzaChlLmNoYXJDb2RlQXQocikpO2ZvcihvPW4+MD9uKzE6MDtvPGc7KXtmb3IoaT1tLGE9MSxzPWg7bz49ZyYmUygiaW52YWxpZC1pbnB1dCIpLCgoYz0ocD1lLmNoYXJDb2RlQXQobysrKSktNDg8MTA/cC0yMjpwLTY1PDI2P3AtNjU6cC05NzwyNj9wLTk3OmgpPj1ofHxjPnkoKGQtbSkvYSkpJiZTKCJvdmVyZmxvdyIpLG0rPWMqYSwhKGM8KHU9czw9Yj8xOnM+PWIrMjY/MjY6cy1iKSk7cys9aClhPnkoZC8obD1oLXUpKSYmUygib3ZlcmZsb3ciKSxhKj1sO2I9QShtLWksdD1mLmxlbmd0aCsxLDA9PWkpLHkobS90KT5kLXYmJlMoIm92ZXJmbG93Iiksdis9eShtL3QpLG0lPXQsZi5zcGxpY2UobSsrLDAsdil9cmV0dXJuIFQoZil9ZnVuY3Rpb24gUihlKXt2YXIgdCxuLHIsbyxpLGEscyxjLHUsbCxwLGYsZyxtLHYsRT1bXTtmb3IoZj0oZT1JKGUpKS5sZW5ndGgsdD0xMjgsbj0wLGk9NzIsYT0wO2E8ZjsrK2EpKHA9ZVthXSk8MTI4JiZFLnB1c2goYihwKSk7Zm9yKHI9bz1FLmxlbmd0aCxvJiZFLnB1c2goIi0iKTtyPGY7KXtmb3Iocz1kLGE9MDthPGY7KythKShwPWVbYV0pPj10JiZwPHMmJihzPXApO2ZvcihzLXQ+eSgoZC1uKS8oZz1yKzEpKSYmUygib3ZlcmZsb3ciKSxuKz0ocy10KSpnLHQ9cyxhPTA7YTxmOysrYSlpZigocD1lW2FdKTx0JiYrK24+ZCYmUygib3ZlcmZsb3ciKSxwPT10KXtmb3IoYz1uLHU9aDshKGM8KGw9dTw9aT8xOnU+PWkrMjY/MjY6dS1pKSk7dSs9aCl2PWMtbCxtPWgtbCxFLnB1c2goYih3KGwrdiVtLDApKSksYz15KHYvbSk7RS5wdXNoKGIodyhjLDApKSksaT1BKG4sZyxyPT1vKSxuPTAsKytyfSsrbiwrK3R9cmV0dXJuIEUuam9pbigiIil9aWYobD17dmVyc2lvbjoiMS40LjEiLHVjczI6e2RlY29kZTpJLGVuY29kZTpUfSxkZWNvZGU6XyxlbmNvZGU6Uix0b0FTQ0lJOmZ1bmN0aW9uKGUpe3JldHVybiBDKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBnLnRlc3QoZSk/InhuLS0iK1IoZSk6ZX0pKX0sdG9Vbmljb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBDKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBmLnRlc3QoZSk/XyhlLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOmV9KSl9fSwib2JqZWN0Ij09byhuLmFtZE8pJiZuLmFtZE8pdm9pZCAwPT09KHI9ZnVuY3Rpb24oKXtyZXR1cm4gbH0uY2FsbChpLG4saSx0KSl8fCh0LmV4cG9ydHM9cik7ZWxzZSBpZihzJiZjKWlmKHQuZXhwb3J0cz09cyljLmV4cG9ydHM9bDtlbHNlIGZvcihwIGluIGwpbC5oYXNPd25Qcm9wZXJ0eShwKSYmKHNbcF09bFtwXSk7ZWxzZSBhLnB1bnljb2RlPWx9KHRoaXMpfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw5MzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXQuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXt0PXR8fCImIixuPW58fCI9Ijt2YXIgYT17fTtpZigic3RyaW5nIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aClyZXR1cm4gYTt2YXIgcz0vXCsvZztlPWUuc3BsaXQodCk7dmFyIGM9MWUzO2kmJiJudW1iZXIiPT10eXBlb2YgaS5tYXhLZXlzJiYoYz1pLm1heEtleXMpO3ZhciB1PWUubGVuZ3RoO2M+MCYmdT5jJiYodT1jKTtmb3IodmFyIGw9MDtsPHU7KytsKXt2YXIgcCxkLGgsZixnPWVbbF0ucmVwbGFjZShzLCIlMjAiKSxtPWcuaW5kZXhPZihuKTttPj0wPyhwPWcuc3Vic3RyKDAsbSksZD1nLnN1YnN0cihtKzEpKToocD1nLGQ9IiIpLGg9ZGVjb2RlVVJJQ29tcG9uZW50KHApLGY9ZGVjb2RlVVJJQ29tcG9uZW50KGQpLHIoYSxoKT9vKGFbaF0pP2FbaF0ucHVzaChmKTphW2hdPVthW2hdLGZdOmFbaF09Zn1yZXR1cm4gYX07dmFyIG89QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX19LHt9XSw5NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mdW5jdGlvbihlKXtzd2l0Y2gobyhlKSl7Y2FzZSJzdHJpbmciOnJldHVybiBlO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIGU/InRydWUiOiJmYWxzZSI7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShlKT9lOiIiO2RlZmF1bHQ6cmV0dXJuIiJ9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sYyl7cmV0dXJuIHQ9dHx8IiYiLG49bnx8Ij0iLG51bGw9PT1lJiYoZT12b2lkIDApLCJvYmplY3QiPT09byhlKT9hKHMoZSksKGZ1bmN0aW9uKG8pe3ZhciBzPWVuY29kZVVSSUNvbXBvbmVudChyKG8pKStuO3JldHVybiBpKGVbb10pP2EoZVtvXSwoZnVuY3Rpb24oZSl7cmV0dXJuIHMrZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpfSkpLmpvaW4odCk6cytlbmNvZGVVUklDb21wb25lbnQocihlW29dKSl9KSkuam9pbih0KTpjP2VuY29kZVVSSUNvbXBvbmVudChyKGMpKStuK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKToiIn07dmFyIGk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX07ZnVuY3Rpb24gYShlLHQpe2lmKGUubWFwKXJldHVybiBlLm1hcCh0KTtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKW4ucHVzaCh0KGVbcl0scikpO3JldHVybiBufXZhciBzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5wdXNoKG4pO3JldHVybiB0fX0se31dLDk1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZGVjb2RlPW4ucGFyc2U9ZSgiLi9kZWNvZGUiKSxuLmVuY29kZT1uLnN0cmluZ2lmeT1lKCIuL2VuY29kZSIpfSx7Ii4vZGVjb2RlIjo5MywiLi9lbmNvZGUiOjk0fV0sOTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sbyl7dD10fHwiJiIsbj1ufHwiPSI7dmFyIGk9e307aWYoInN0cmluZyIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIGk7dmFyIGE9L1wrL2c7ZT1lLnNwbGl0KHQpO3ZhciBzPTFlMztvJiYibnVtYmVyIj09dHlwZW9mIG8ubWF4S2V5cyYmKHM9by5tYXhLZXlzKTt2YXIgYz1lLmxlbmd0aDtzPjAmJmM+cyYmKGM9cyk7Zm9yKHZhciB1PTA7dTxjOysrdSl7dmFyIGwscCxkLGgsZj1lW3VdLnJlcGxhY2UoYSwiJTIwIiksZz1mLmluZGV4T2Yobik7Zz49MD8obD1mLnN1YnN0cigwLGcpLHA9Zi5zdWJzdHIoZysxKSk6KGw9ZixwPSIiKSxkPWRlY29kZVVSSUNvbXBvbmVudChsKSxoPWRlY29kZVVSSUNvbXBvbmVudChwKSxyKGksZCk/QXJyYXkuaXNBcnJheShpW2RdKT9pW2RdLnB1c2goaCk6aVtkXT1baVtkXSxoXTppW2RdPWh9cmV0dXJuIGl9fSx7fV0sOTc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24oZSl7c3dpdGNoKG8oZSkpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gZTtjYXNlImJvb2xlYW4iOnJldHVybiBlPyJ0cnVlIjoiZmFsc2UiO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoZSk/ZToiIjtkZWZhdWx0OnJldHVybiIifX07dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiB0PXR8fCImIixuPW58fCI9IixudWxsPT09ZSYmKGU9dm9pZCAwKSwib2JqZWN0Ij09PW8oZSk/T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihvKXt2YXIgaT1lbmNvZGVVUklDb21wb25lbnQocihvKSkrbjtyZXR1cm4gQXJyYXkuaXNBcnJheShlW29dKT9lW29dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkrZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpfSkpLmpvaW4odCk6aStlbmNvZGVVUklDb21wb25lbnQocihlW29dKSl9KSkuam9pbih0KTppP2VuY29kZVVSSUNvbXBvbmVudChyKGkpKStuK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKToiIn19LHt9XSw5ODpbZnVuY3Rpb24oZSx0LG4pe2FyZ3VtZW50c1s0XVs5NV1bMF0uYXBwbHkobixhcmd1bWVudHMpfSx7Ii4vZGVjb2RlIjo5NiwiLi9lbmNvZGUiOjk3LGR1cDo5NX1dLDk5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQscil7KGZ1bmN0aW9uKCl7dmFyIG89ZSgicHJvY2Vzcy9icm93c2VyLmpzIikubmV4dFRpY2ssaT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksYT1BcnJheS5wcm90b3R5cGUuc2xpY2Uscz17fSxjPTA7ZnVuY3Rpb24gdShlLHQpe3RoaXMuX2lkPWUsdGhpcy5fY2xlYXJGbj10fW4uc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShpLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxuLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KGkuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sbi5jbGVhclRpbWVvdXQ9bi5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UuY2xvc2UoKX0sdS5wcm90b3R5cGUudW5yZWY9dS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSx1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxuLmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSxuLnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sbi5fdW5yZWZBY3RpdmU9bi5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0O3Q+PTAmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0pLHQpKX0sbi5zZXRJbW1lZGlhdGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpmdW5jdGlvbihlKXt2YXIgdD1jKysscj0hKGFyZ3VtZW50cy5sZW5ndGg8MikmJmEuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHNbdF09ITAsbygoZnVuY3Rpb24oKXtzW3RdJiYocj9lLmFwcGx5KG51bGwscik6ZS5jYWxsKG51bGwpLG4uY2xlYXJJbW1lZGlhdGUodCkpfSkpLHR9LG4uY2xlYXJJbW1lZGlhdGU9ImZ1bmN0aW9uIj09dHlwZW9mIHI/cjpmdW5jdGlvbihlKXtkZWxldGUgc1tlXX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoInRpbWVycyIpLnNldEltbWVkaWF0ZSxlKCJ0aW1lcnMiKS5jbGVhckltbWVkaWF0ZSl9LHsicHJvY2Vzcy9icm93c2VyLmpzIjo5MSx0aW1lcnM6OTl9XSwxMDA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJwdW55Y29kZSIpO2Z1bmN0aW9uIGkoKXt0aGlzLnByb3RvY29sPW51bGwsdGhpcy5zbGFzaGVzPW51bGwsdGhpcy5hdXRoPW51bGwsdGhpcy5ob3N0PW51bGwsdGhpcy5wb3J0PW51bGwsdGhpcy5ob3N0bmFtZT1udWxsLHRoaXMuaGFzaD1udWxsLHRoaXMuc2VhcmNoPW51bGwsdGhpcy5xdWVyeT1udWxsLHRoaXMucGF0aG5hbWU9bnVsbCx0aGlzLnBhdGg9bnVsbCx0aGlzLmhyZWY9bnVsbH1uLnBhcnNlPXksbi5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHkoZSwhMSwhMCkucmVzb2x2ZSh0KX0sbi5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/eShlLCExLCEwKS5yZXNvbHZlT2JqZWN0KHQpOnR9LG4uZm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiBiKGUpJiYoZT15KGUpKSxlIGluc3RhbmNlb2YgaT9lLmZvcm1hdCgpOmkucHJvdG90eXBlLmZvcm1hdC5jYWxsKGUpfSxuLlVybD1pO3ZhciBhPS9eKFthLXowLTkuKy1dKzopL2kscz0vOlswLTldKiQvLGM9WyJ7IiwifSIsInwiLCJcXCIsIl4iLCJgIl0uY29uY2F0KFsiPCIsIj4iLCciJywiYCIsIiAiLCJcciIsIlxuIiwiXHQiXSksdT1bIiciXS5jb25jYXQoYyksbD1bIiUiLCIvIiwiPyIsIjsiLCIjIl0uY29uY2F0KHUpLHA9WyIvIiwiPyIsIiMiXSxkPS9eW2EtejAtOUEtWl8tXXswLDYzfSQvLGg9L14oW2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sZj17amF2YXNjcmlwdDohMCwiamF2YXNjcmlwdDoiOiEwfSxnPXtqYXZhc2NyaXB0OiEwLCJqYXZhc2NyaXB0OiI6ITB9LG09e2h0dHA6ITAsaHR0cHM6ITAsZnRwOiEwLGdvcGhlcjohMCxmaWxlOiEwLCJodHRwOiI6ITAsImh0dHBzOiI6ITAsImZ0cDoiOiEwLCJnb3BoZXI6IjohMCwiZmlsZToiOiEwfSx2PWUoInF1ZXJ5c3RyaW5nIik7ZnVuY3Rpb24geShlLHQsbil7aWYoZSYmUyhlKSYmZSBpbnN0YW5jZW9mIGkpcmV0dXJuIGU7dmFyIHI9bmV3IGk7cmV0dXJuIHIucGFyc2UoZSx0LG4pLHJ9ZnVuY3Rpb24gYihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9ZnVuY3Rpb24gUyhlKXtyZXR1cm4ib2JqZWN0Ij09PW8oZSkmJm51bGwhPT1lfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIG51bGw9PT1lfWkucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCxuKXtpZighYihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90ICIrbyhlKSk7dmFyIGk9ZTtpPWkudHJpbSgpO3ZhciBzPWEuZXhlYyhpKTtpZihzKXt2YXIgYz0ocz1zWzBdKS50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9YyxpPWkuc3Vic3RyKHMubGVuZ3RoKX1pZihufHxzfHxpLm1hdGNoKC9eXC9cL1teQFwvXStAW15AXC9dKy8pKXt2YXIgeT0iLy8iPT09aS5zdWJzdHIoMCwyKTsheXx8cyYmZ1tzXXx8KGk9aS5zdWJzdHIoMiksdGhpcy5zbGFzaGVzPSEwKX1pZighZ1tzXSYmKHl8fHMmJiFtW3NdKSl7Zm9yKHZhciBTLEUsQz0tMSxJPTA7STxwLmxlbmd0aDtJKyspLTEhPT0oVD1pLmluZGV4T2YocFtJXSkpJiYoLTE9PT1DfHxUPEMpJiYoQz1UKTtmb3IoLTEhPT0oRT0tMT09PUM/aS5sYXN0SW5kZXhPZigiQCIpOmkubGFzdEluZGV4T2YoIkAiLEMpKSYmKFM9aS5zbGljZSgwLEUpLGk9aS5zbGljZShFKzEpLHRoaXMuYXV0aD1kZWNvZGVVUklDb21wb25lbnQoUykpLEM9LTEsST0wO0k8bC5sZW5ndGg7SSsrKXt2YXIgVDstMSE9PShUPWkuaW5kZXhPZihsW0ldKSkmJigtMT09PUN8fFQ8QykmJihDPVQpfS0xPT09QyYmKEM9aS5sZW5ndGgpLHRoaXMuaG9zdD1pLnNsaWNlKDAsQyksaT1pLnNsaWNlKEMpLHRoaXMucGFyc2VIb3N0KCksdGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lfHwiIjt2YXIgdz0iWyI9PT10aGlzLmhvc3RuYW1lWzBdJiYiXSI9PT10aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoLTFdO2lmKCF3KWZvcih2YXIgQT10aGlzLmhvc3RuYW1lLnNwbGl0KC9cLi8pLF89KEk9MCxBLmxlbmd0aCk7STxfO0krKyl7dmFyIFI9QVtJXTtpZihSJiYhUi5tYXRjaChkKSl7Zm9yKHZhciBPPSIiLEw9MCxrPVIubGVuZ3RoO0w8aztMKyspUi5jaGFyQ29kZUF0KEwpPjEyNz9PKz0ieCI6Tys9UltMXTtpZighTy5tYXRjaChkKSl7dmFyIE49QS5zbGljZSgwLEkpLFA9QS5zbGljZShJKzEpLEQ9Ui5tYXRjaChoKTtEJiYoTi5wdXNoKERbMV0pLFAudW5zaGlmdChEWzJdKSksUC5sZW5ndGgmJihpPSIvIitQLmpvaW4oIi4iKStpKSx0aGlzLmhvc3RuYW1lPU4uam9pbigiLiIpO2JyZWFrfX19aWYodGhpcy5ob3N0bmFtZS5sZW5ndGg+MjU1P3RoaXMuaG9zdG5hbWU9IiI6dGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksIXcpe3ZhciB4PXRoaXMuaG9zdG5hbWUuc3BsaXQoIi4iKSxNPVtdO2ZvcihJPTA7STx4Lmxlbmd0aDsrK0kpe3ZhciBVPXhbSV07TS5wdXNoKFUubWF0Y2goL1teQS1aYS16MC05Xy1dLyk/InhuLS0iK3IuZW5jb2RlKFUpOlUpfXRoaXMuaG9zdG5hbWU9TS5qb2luKCIuIil9dmFyIEY9dGhpcy5wb3J0PyI6Iit0aGlzLnBvcnQ6IiIsaj10aGlzLmhvc3RuYW1lfHwiIjt0aGlzLmhvc3Q9aitGLHRoaXMuaHJlZis9dGhpcy5ob3N0LHcmJih0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsdGhpcy5ob3N0bmFtZS5sZW5ndGgtMiksIi8iIT09aVswXSYmKGk9Ii8iK2kpKX1pZighZltjXSlmb3IoST0wLF89dS5sZW5ndGg7STxfO0krKyl7dmFyIHE9dVtJXSxCPWVuY29kZVVSSUNvbXBvbmVudChxKTtCPT09cSYmKEI9ZXNjYXBlKHEpKSxpPWkuc3BsaXQocSkuam9pbihCKX12YXIgRz1pLmluZGV4T2YoIiMiKTstMSE9PUcmJih0aGlzLmhhc2g9aS5zdWJzdHIoRyksaT1pLnNsaWNlKDAsRykpO3ZhciBWPWkuaW5kZXhPZigiPyIpO3JldHVybi0xIT09Vj8odGhpcy5zZWFyY2g9aS5zdWJzdHIoViksdGhpcy5xdWVyeT1pLnN1YnN0cihWKzEpLHQmJih0aGlzLnF1ZXJ5PXYucGFyc2UodGhpcy5xdWVyeSkpLGk9aS5zbGljZSgwLFYpKTp0JiYodGhpcy5zZWFyY2g9IiIsdGhpcy5xdWVyeT17fSksaSYmKHRoaXMucGF0aG5hbWU9aSksbVtjXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPSIvIiksKHRoaXMucGF0aG5hbWV8fHRoaXMuc2VhcmNoKSYmKEY9dGhpcy5wYXRobmFtZXx8IiIsVT10aGlzLnNlYXJjaHx8IiIsdGhpcy5wYXRoPUYrVSksdGhpcy5ocmVmPXRoaXMuZm9ybWF0KCksdGhpc30saS5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hdXRofHwiIjtlJiYoZT0oZT1lbmNvZGVVUklDb21wb25lbnQoZSkpLnJlcGxhY2UoLyUzQS9pLCI6IiksZSs9IkAiKTt2YXIgdD10aGlzLnByb3RvY29sfHwiIixuPXRoaXMucGF0aG5hbWV8fCIiLHI9dGhpcy5oYXNofHwiIixvPSExLGk9IiI7dGhpcy5ob3N0P289ZSt0aGlzLmhvc3Q6dGhpcy5ob3N0bmFtZSYmKG89ZSsoLTE9PT10aGlzLmhvc3RuYW1lLmluZGV4T2YoIjoiKT90aGlzLmhvc3RuYW1lOiJbIit0aGlzLmhvc3RuYW1lKyJdIiksdGhpcy5wb3J0JiYobys9IjoiK3RoaXMucG9ydCkpLHRoaXMucXVlcnkmJlModGhpcy5xdWVyeSkmJk9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCYmKGk9di5zdHJpbmdpZnkodGhpcy5xdWVyeSkpO3ZhciBhPXRoaXMuc2VhcmNofHxpJiYiPyIraXx8IiI7cmV0dXJuIHQmJiI6IiE9PXQuc3Vic3RyKC0xKSYmKHQrPSI6IiksdGhpcy5zbGFzaGVzfHwoIXR8fG1bdF0pJiYhMSE9PW8/KG89Ii8vIisob3x8IiIpLG4mJiIvIiE9PW4uY2hhckF0KDApJiYobj0iLyIrbikpOm98fChvPSIiKSxyJiYiIyIhPT1yLmNoYXJBdCgwKSYmKHI9IiMiK3IpLGEmJiI/IiE9PWEuY2hhckF0KDApJiYoYT0iPyIrYSksdCtvKyhuPW4ucmVwbGFjZSgvWz8jXS9nLChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpKSsoYT1hLnJlcGxhY2UoIiMiLCIlMjMiKSkrcn0saS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHkoZSwhMSwhMCkpLmZvcm1hdCgpfSxpLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGIoZSkpe3ZhciB0PW5ldyBpO3QucGFyc2UoZSwhMSwhMCksZT10fXZhciBuPW5ldyBpO2lmKE9iamVjdC5rZXlzKHRoaXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV09dGhpc1tlXX0pLHRoaXMpLG4uaGFzaD1lLmhhc2gsIiI9PT1lLmhyZWYpcmV0dXJuIG4uaHJlZj1uLmZvcm1hdCgpLG47aWYoZS5zbGFzaGVzJiYhZS5wcm90b2NvbClyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7InByb3RvY29sIiE9PXQmJihuW3RdPWVbdF0pfSkpLG1bbi5wcm90b2NvbF0mJm4uaG9zdG5hbWUmJiFuLnBhdGhuYW1lJiYobi5wYXRoPW4ucGF0aG5hbWU9Ii8iKSxuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKGUucHJvdG9jb2wmJmUucHJvdG9jb2whPT1uLnByb3RvY29sKXtpZighbVtlLnByb3RvY29sXSlyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT1lW3RdfSkpLG4uaHJlZj1uLmZvcm1hdCgpLG47aWYobi5wcm90b2NvbD1lLnByb3RvY29sLGUuaG9zdHx8Z1tlLnByb3RvY29sXSluLnBhdGhuYW1lPWUucGF0aG5hbWU7ZWxzZXtmb3IodmFyIHI9KGUucGF0aG5hbWV8fCIiKS5zcGxpdCgiLyIpO3IubGVuZ3RoJiYhKGUuaG9zdD1yLnNoaWZ0KCkpOyk7ZS5ob3N0fHwoZS5ob3N0PSIiKSxlLmhvc3RuYW1lfHwoZS5ob3N0bmFtZT0iIiksIiIhPT1yWzBdJiZyLnVuc2hpZnQoIiIpLHIubGVuZ3RoPDImJnIudW5zaGlmdCgiIiksbi5wYXRobmFtZT1yLmpvaW4oIi8iKX1pZihuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnksbi5ob3N0PWUuaG9zdHx8IiIsbi5hdXRoPWUuYXV0aCxuLmhvc3RuYW1lPWUuaG9zdG5hbWV8fGUuaG9zdCxuLnBvcnQ9ZS5wb3J0LG4ucGF0aG5hbWV8fG4uc2VhcmNoKXt2YXIgbz1uLnBhdGhuYW1lfHwiIixhPW4uc2VhcmNofHwiIjtuLnBhdGg9bythfXJldHVybiBuLnNsYXNoZXM9bi5zbGFzaGVzfHxlLnNsYXNoZXMsbi5ocmVmPW4uZm9ybWF0KCksbn12YXIgcz1uLnBhdGhuYW1lJiYiLyI9PT1uLnBhdGhuYW1lLmNoYXJBdCgwKSxjPWUuaG9zdHx8ZS5wYXRobmFtZSYmIi8iPT09ZS5wYXRobmFtZS5jaGFyQXQoMCksdT1jfHxzfHxuLmhvc3QmJmUucGF0aG5hbWUsbD11LHA9bi5wYXRobmFtZSYmbi5wYXRobmFtZS5zcGxpdCgiLyIpfHxbXSxkPShyPWUucGF0aG5hbWUmJmUucGF0aG5hbWUuc3BsaXQoIi8iKXx8W10sbi5wcm90b2NvbCYmIW1bbi5wcm90b2NvbF0pO2lmKGQmJihuLmhvc3RuYW1lPSIiLG4ucG9ydD1udWxsLG4uaG9zdCYmKCIiPT09cFswXT9wWzBdPW4uaG9zdDpwLnVuc2hpZnQobi5ob3N0KSksbi5ob3N0PSIiLGUucHJvdG9jb2wmJihlLmhvc3RuYW1lPW51bGwsZS5wb3J0PW51bGwsZS5ob3N0JiYoIiI9PT1yWzBdP3JbMF09ZS5ob3N0OnIudW5zaGlmdChlLmhvc3QpKSxlLmhvc3Q9bnVsbCksdT11JiYoIiI9PT1yWzBdfHwiIj09PXBbMF0pKSxjKW4uaG9zdD1lLmhvc3R8fCIiPT09ZS5ob3N0P2UuaG9zdDpuLmhvc3Qsbi5ob3N0bmFtZT1lLmhvc3RuYW1lfHwiIj09PWUuaG9zdG5hbWU/ZS5ob3N0bmFtZTpuLmhvc3RuYW1lLG4uc2VhcmNoPWUuc2VhcmNoLG4ucXVlcnk9ZS5xdWVyeSxwPXI7ZWxzZSBpZihyLmxlbmd0aClwfHwocD1bXSkscC5wb3AoKSxwPXAuY29uY2F0KHIpLG4uc2VhcmNoPWUuc2VhcmNoLG4ucXVlcnk9ZS5xdWVyeTtlbHNlIGlmKG51bGwhPWUuc2VhcmNoKXJldHVybiBkJiYobi5ob3N0bmFtZT1uLmhvc3Q9cC5zaGlmdCgpLChTPSEhKG4uaG9zdCYmbi5ob3N0LmluZGV4T2YoIkAiKT4wKSYmbi5ob3N0LnNwbGl0KCJAIikpJiYobi5hdXRoPVMuc2hpZnQoKSxuLmhvc3Q9bi5ob3N0bmFtZT1TLnNoaWZ0KCkpKSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnksRShuLnBhdGhuYW1lKSYmRShuLnNlYXJjaCl8fChuLnBhdGg9KG4ucGF0aG5hbWU/bi5wYXRobmFtZToiIikrKG4uc2VhcmNoP24uc2VhcmNoOiIiKSksbi5ocmVmPW4uZm9ybWF0KCksbjtpZighcC5sZW5ndGgpcmV0dXJuIG4ucGF0aG5hbWU9bnVsbCxuLnNlYXJjaD9uLnBhdGg9Ii8iK24uc2VhcmNoOm4ucGF0aD1udWxsLG4uaHJlZj1uLmZvcm1hdCgpLG47Zm9yKHZhciBoPXAuc2xpY2UoLTEpWzBdLGY9KG4uaG9zdHx8ZS5ob3N0KSYmKCIuIj09PWh8fCIuLiI9PT1oKXx8IiI9PT1oLHY9MCx5PXAubGVuZ3RoO3k+PTA7eS0tKSIuIj09KGg9cFt5XSk/cC5zcGxpY2UoeSwxKToiLi4iPT09aD8ocC5zcGxpY2UoeSwxKSx2KyspOnYmJihwLnNwbGljZSh5LDEpLHYtLSk7aWYoIXUmJiFsKWZvcig7di0tO3YpcC51bnNoaWZ0KCIuLiIpOyF1fHwiIj09PXBbMF18fHBbMF0mJiIvIj09PXBbMF0uY2hhckF0KDApfHxwLnVuc2hpZnQoIiIpLGYmJiIvIiE9PXAuam9pbigiLyIpLnN1YnN0cigtMSkmJnAucHVzaCgiIik7dmFyIFMsQz0iIj09PXBbMF18fHBbMF0mJiIvIj09PXBbMF0uY2hhckF0KDApO3JldHVybiBkJiYobi5ob3N0bmFtZT1uLmhvc3Q9Qz8iIjpwLmxlbmd0aD9wLnNoaWZ0KCk6IiIsKFM9ISEobi5ob3N0JiZuLmhvc3QuaW5kZXhPZigiQCIpPjApJiZuLmhvc3Quc3BsaXQoIkAiKSkmJihuLmF1dGg9Uy5zaGlmdCgpLG4uaG9zdD1uLmhvc3RuYW1lPVMuc2hpZnQoKSkpLCh1PXV8fG4uaG9zdCYmcC5sZW5ndGgpJiYhQyYmcC51bnNoaWZ0KCIiKSxwLmxlbmd0aD9uLnBhdGhuYW1lPXAuam9pbigiLyIpOihuLnBhdGhuYW1lPW51bGwsbi5wYXRoPW51bGwpLEUobi5wYXRobmFtZSkmJkUobi5zZWFyY2gpfHwobi5wYXRoPShuLnBhdGhuYW1lP24ucGF0aG5hbWU6IiIpKyhuLnNlYXJjaD9uLnNlYXJjaDoiIikpLG4uYXV0aD1lLmF1dGh8fG4uYXV0aCxuLnNsYXNoZXM9bi5zbGFzaGVzfHxlLnNsYXNoZXMsbi5ocmVmPW4uZm9ybWF0KCksbn0saS5wcm90b3R5cGUucGFyc2VIb3N0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3N0LHQ9cy5leGVjKGUpO3QmJigiOiIhPT0odD10WzBdKSYmKHRoaXMucG9ydD10LnN1YnN0cigxKSksZT1lLnN1YnN0cigwLGUubGVuZ3RoLXQubGVuZ3RoKSksZSYmKHRoaXMuaG9zdG5hbWU9ZSl9fSx7cHVueWNvZGU6OTIscXVlcnlzdHJpbmc6OTV9XSwxMDE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7Zm9yKHZhciByPVtdLG89MDtvPDI1NjsrK28pcltvXT0obysyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7dmFyIGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHwwLG89cjtyZXR1cm5bb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLCItIixvW2VbbisrXV0sb1tlW24rK11dLCItIixvW2VbbisrXV0sb1tlW24rK11dLCItIixvW2VbbisrXV0sb1tlW24rK11dLCItIixvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXV0uam9pbigiIil9O24uZGVmYXVsdD1pfSx7fV0sMTAyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjEiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInYzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2NCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHR9fSk7dmFyIHI9cyhlKCIuL3YxLmpzIikpLG89cyhlKCIuL3YzLmpzIikpLGk9cyhlKCIuL3Y0LmpzIikpLGE9cyhlKCIuL3Y1LmpzIikpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0seyIuL3YxLmpzIjoxMDYsIi4vdjMuanMiOjEwNywiLi92NC5qcyI6MTA5LCIuL3Y1LmpzIjoxMTB9XSwxMDM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3ZhciBuPSg2NTUzNSZlKSsoNjU1MzUmdCk7cmV0dXJuKGU+PjE2KSsodD4+MTYpKyhuPj4xNik8PDE2fDY1NTM1Jm59ZnVuY3Rpb24gbyhlLHQsbixvLGksYSl7cmV0dXJuIHIoKHM9cihyKHQsZSkscihvLGEpKSk8PChjPWkpfHM+Pj4zMi1jLG4pO3ZhciBzLGN9ZnVuY3Rpb24gaShlLHQsbixyLGksYSxzKXtyZXR1cm4gbyh0Jm58fnQmcixlLHQsaSxhLHMpfWZ1bmN0aW9uIGEoZSx0LG4scixpLGEscyl7cmV0dXJuIG8odCZyfG4mfnIsZSx0LGksYSxzKX1mdW5jdGlvbiBzKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKHRebl5yLGUsdCxpLGEscyl9ZnVuY3Rpb24gYyhlLHQsbixyLGksYSxzKXtyZXR1cm4gbyhuXih0fH5yKSxlLHQsaSxhLHMpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciB1PWZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIHQ9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKTtlPW5ldyBBcnJheSh0Lmxlbmd0aCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT10LmNoYXJDb2RlQXQobil9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPVtdLGk9MzIqZS5sZW5ndGgsYT0iMDEyMzQ1Njc4OWFiY2RlZiI7Zm9yKHQ9MDt0PGk7dCs9OCluPWVbdD4+NV0+Pj50JTMyJjI1NSxyPXBhcnNlSW50KGEuY2hhckF0KG4+Pj40JjE1KSthLmNoYXJBdCgxNSZuKSwxNiksby5wdXNoKHIpO3JldHVybiBvfShmdW5jdGlvbihlLHQpe3ZhciBuLG8sdSxsLHA7ZVt0Pj41XXw9MTI4PDx0JTMyLGVbMTQrKHQrNjQ+Pj45PDw0KV09dDt2YXIgZD0xNzMyNTg0MTkzLGg9LTI3MTczMzg3OSxmPS0xNzMyNTg0MTk0LGc9MjcxNzMzODc4O2ZvcihuPTA7bjxlLmxlbmd0aDtuKz0xNilvPWQsdT1oLGw9ZixwPWcsZD1pKGQsaCxmLGcsZVtuXSw3LC02ODA4NzY5MzYpLGc9aShnLGQsaCxmLGVbbisxXSwxMiwtMzg5NTY0NTg2KSxmPWkoZixnLGQsaCxlW24rMl0sMTcsNjA2MTA1ODE5KSxoPWkoaCxmLGcsZCxlW24rM10sMjIsLTEwNDQ1MjUzMzApLGQ9aShkLGgsZixnLGVbbis0XSw3LC0xNzY0MTg4OTcpLGc9aShnLGQsaCxmLGVbbis1XSwxMiwxMjAwMDgwNDI2KSxmPWkoZixnLGQsaCxlW24rNl0sMTcsLTE0NzMyMzEzNDEpLGg9aShoLGYsZyxkLGVbbis3XSwyMiwtNDU3MDU5ODMpLGQ9aShkLGgsZixnLGVbbis4XSw3LDE3NzAwMzU0MTYpLGc9aShnLGQsaCxmLGVbbis5XSwxMiwtMTk1ODQxNDQxNyksZj1pKGYsZyxkLGgsZVtuKzEwXSwxNywtNDIwNjMpLGg9aShoLGYsZyxkLGVbbisxMV0sMjIsLTE5OTA0MDQxNjIpLGQ9aShkLGgsZixnLGVbbisxMl0sNywxODA0NjAzNjgyKSxnPWkoZyxkLGgsZixlW24rMTNdLDEyLC00MDM0MTEwMSksZj1pKGYsZyxkLGgsZVtuKzE0XSwxNywtMTUwMjAwMjI5MCksZD1hKGQsaD1pKGgsZixnLGQsZVtuKzE1XSwyMiwxMjM2NTM1MzI5KSxmLGcsZVtuKzFdLDUsLTE2NTc5NjUxMCksZz1hKGcsZCxoLGYsZVtuKzZdLDksLTEwNjk1MDE2MzIpLGY9YShmLGcsZCxoLGVbbisxMV0sMTQsNjQzNzE3NzEzKSxoPWEoaCxmLGcsZCxlW25dLDIwLC0zNzM4OTczMDIpLGQ9YShkLGgsZixnLGVbbis1XSw1LC03MDE1NTg2OTEpLGc9YShnLGQsaCxmLGVbbisxMF0sOSwzODAxNjA4MyksZj1hKGYsZyxkLGgsZVtuKzE1XSwxNCwtNjYwNDc4MzM1KSxoPWEoaCxmLGcsZCxlW24rNF0sMjAsLTQwNTUzNzg0OCksZD1hKGQsaCxmLGcsZVtuKzldLDUsNTY4NDQ2NDM4KSxnPWEoZyxkLGgsZixlW24rMTRdLDksLTEwMTk4MDM2OTApLGY9YShmLGcsZCxoLGVbbiszXSwxNCwtMTg3MzYzOTYxKSxoPWEoaCxmLGcsZCxlW24rOF0sMjAsMTE2MzUzMTUwMSksZD1hKGQsaCxmLGcsZVtuKzEzXSw1LC0xNDQ0NjgxNDY3KSxnPWEoZyxkLGgsZixlW24rMl0sOSwtNTE0MDM3ODQpLGY9YShmLGcsZCxoLGVbbis3XSwxNCwxNzM1MzI4NDczKSxkPXMoZCxoPWEoaCxmLGcsZCxlW24rMTJdLDIwLC0xOTI2NjA3NzM0KSxmLGcsZVtuKzVdLDQsLTM3ODU1OCksZz1zKGcsZCxoLGYsZVtuKzhdLDExLC0yMDIyNTc0NDYzKSxmPXMoZixnLGQsaCxlW24rMTFdLDE2LDE4MzkwMzA1NjIpLGg9cyhoLGYsZyxkLGVbbisxNF0sMjMsLTM1MzA5NTU2KSxkPXMoZCxoLGYsZyxlW24rMV0sNCwtMTUzMDk5MjA2MCksZz1zKGcsZCxoLGYsZVtuKzRdLDExLDEyNzI4OTMzNTMpLGY9cyhmLGcsZCxoLGVbbis3XSwxNiwtMTU1NDk3NjMyKSxoPXMoaCxmLGcsZCxlW24rMTBdLDIzLC0xMDk0NzMwNjQwKSxkPXMoZCxoLGYsZyxlW24rMTNdLDQsNjgxMjc5MTc0KSxnPXMoZyxkLGgsZixlW25dLDExLC0zNTg1MzcyMjIpLGY9cyhmLGcsZCxoLGVbbiszXSwxNiwtNzIyNTIxOTc5KSxoPXMoaCxmLGcsZCxlW24rNl0sMjMsNzYwMjkxODkpLGQ9cyhkLGgsZixnLGVbbis5XSw0LC02NDAzNjQ0ODcpLGc9cyhnLGQsaCxmLGVbbisxMl0sMTEsLTQyMTgxNTgzNSksZj1zKGYsZyxkLGgsZVtuKzE1XSwxNiw1MzA3NDI1MjApLGQ9YyhkLGg9cyhoLGYsZyxkLGVbbisyXSwyMywtOTk1MzM4NjUxKSxmLGcsZVtuXSw2LC0xOTg2MzA4NDQpLGc9YyhnLGQsaCxmLGVbbis3XSwxMCwxMTI2ODkxNDE1KSxmPWMoZixnLGQsaCxlW24rMTRdLDE1LC0xNDE2MzU0OTA1KSxoPWMoaCxmLGcsZCxlW24rNV0sMjEsLTU3NDM0MDU1KSxkPWMoZCxoLGYsZyxlW24rMTJdLDYsMTcwMDQ4NTU3MSksZz1jKGcsZCxoLGYsZVtuKzNdLDEwLC0xODk0OTg2NjA2KSxmPWMoZixnLGQsaCxlW24rMTBdLDE1LC0xMDUxNTIzKSxoPWMoaCxmLGcsZCxlW24rMV0sMjEsLTIwNTQ5MjI3OTkpLGQ9YyhkLGgsZixnLGVbbis4XSw2LDE4NzMzMTMzNTkpLGc9YyhnLGQsaCxmLGVbbisxNV0sMTAsLTMwNjExNzQ0KSxmPWMoZixnLGQsaCxlW24rNl0sMTUsLTE1NjAxOTgzODApLGg9YyhoLGYsZyxkLGVbbisxM10sMjEsMTMwOTE1MTY0OSksZD1jKGQsaCxmLGcsZVtuKzRdLDYsLTE0NTUyMzA3MCksZz1jKGcsZCxoLGYsZVtuKzExXSwxMCwtMTEyMDIxMDM3OSksZj1jKGYsZyxkLGgsZVtuKzJdLDE1LDcxODc4NzI1OSksaD1jKGgsZixnLGQsZVtuKzldLDIxLC0zNDM0ODU1NTEpLGQ9cihkLG8pLGg9cihoLHUpLGY9cihmLGwpLGc9cihnLHApO3JldHVybltkLGgsZixnXX0oZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IoblsoZS5sZW5ndGg+PjIpLTFdPXZvaWQgMCx0PTA7dDxuLmxlbmd0aDt0Kz0xKW5bdF09MDt2YXIgcj04KmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpblt0Pj41XXw9KDI1NSZlW3QvOF0pPDx0JTMyO3JldHVybiBufShlKSw4KmUubGVuZ3RoKSl9O24uZGVmYXVsdD11fSx7fV0sMTA0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9ZnVuY3Rpb24oKXtpZighcil0aHJvdyBuZXcgRXJyb3IoImNyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkIik7cmV0dXJuIHIobyl9O3ZhciByPSJ1bmRlZmluZWQiIT10eXBlb2YgY3J5cHRvJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8InVuZGVmaW5lZCIhPXR5cGVvZiBtc0NyeXB0byYmImZ1bmN0aW9uIj09dHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pLG89bmV3IFVpbnQ4QXJyYXkoMTYpfSx7fV0sMTA1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LG4scil7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdCZuXn50JnI7Y2FzZSAxOmNhc2UgMzpyZXR1cm4gdF5uXnI7Y2FzZSAyOnJldHVybiB0Jm5edCZyXm4mcn19ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBlPDx0fGU+Pj4zMi10fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwzMzk1NDY5NzgyXSxuPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF07aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgaT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpO2U9bmV3IEFycmF5KGkubGVuZ3RoKTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyllW2FdPWkuY2hhckNvZGVBdChhKX1lLnB1c2goMTI4KTt2YXIgcz1lLmxlbmd0aC80KzIsYz1NYXRoLmNlaWwocy8xNiksdT1uZXcgQXJyYXkoYyk7Zm9yKGE9MDthPGM7YSsrKXt1W2FdPW5ldyBBcnJheSgxNik7Zm9yKHZhciBsPTA7bDwxNjtsKyspdVthXVtsXT1lWzY0KmErNCpsXTw8MjR8ZVs2NCphKzQqbCsxXTw8MTZ8ZVs2NCphKzQqbCsyXTw8OHxlWzY0KmErNCpsKzNdfWZvcih1W2MtMV1bMTRdPTgqKGUubGVuZ3RoLTEpL01hdGgucG93KDIsMzIpLHVbYy0xXVsxNF09TWF0aC5mbG9vcih1W2MtMV1bMTRdKSx1W2MtMV1bMTVdPTgqKGUubGVuZ3RoLTEpJjQyOTQ5NjcyOTUsYT0wO2E8YzthKyspe2Zvcih2YXIgcD1uZXcgQXJyYXkoODApLGQ9MDtkPDE2O2QrKylwW2RdPXVbYV1bZF07Zm9yKGQ9MTY7ZDw4MDtkKyspcFtkXT1vKHBbZC0zXV5wW2QtOF1ecFtkLTE0XV5wW2QtMTZdLDEpO3ZhciBoPW5bMF0sZj1uWzFdLGc9blsyXSxtPW5bM10sdj1uWzRdO2ZvcihkPTA7ZDw4MDtkKyspe3ZhciB5PU1hdGguZmxvb3IoZC8yMCksYj1vKGgsNSkrcih5LGYsZyxtKSt2K3RbeV0rcFtkXT4+PjA7dj1tLG09ZyxnPW8oZiwzMCk+Pj4wLGY9aCxoPWJ9blswXT1uWzBdK2g+Pj4wLG5bMV09blsxXStmPj4+MCxuWzJdPW5bMl0rZz4+PjAsblszXT1uWzNdK20+Pj4wLG5bNF09bls0XSt2Pj4+MH1yZXR1cm5bblswXT4+MjQmMjU1LG5bMF0+PjE2JjI1NSxuWzBdPj44JjI1NSwyNTUmblswXSxuWzFdPj4yNCYyNTUsblsxXT4+MTYmMjU1LG5bMV0+PjgmMjU1LDI1NSZuWzFdLG5bMl0+PjI0JjI1NSxuWzJdPj4xNiYyNTUsblsyXT4+OCYyNTUsMjU1Jm5bMl0sblszXT4+MjQmMjU1LG5bM10+PjE2JjI1NSxuWzNdPj44JjI1NSwyNTUmblszXSxuWzRdPj4yNCYyNTUsbls0XT4+MTYmMjU1LG5bNF0+PjgmMjU1LDI1NSZuWzRdXX07bi5kZWZhdWx0PWl9LHt9XSwxMDY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHIsbyxpPXMoZSgiLi9ybmcuanMiKSksYT1zKGUoIi4vYnl0ZXNUb1V1aWQuanMiKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGM9MCx1PTAsbD1mdW5jdGlvbihlLHQsbil7dmFyIHM9dCYmbnx8MCxsPXR8fFtdLHA9KGU9ZXx8e30pLm5vZGV8fHIsZD12b2lkIDAhPT1lLmNsb2Nrc2VxP2UuY2xvY2tzZXE6bztpZihudWxsPT1wfHxudWxsPT1kKXt2YXIgaD1lLnJhbmRvbXx8KGUucm5nfHxpLmRlZmF1bHQpKCk7bnVsbD09cCYmKHA9cj1bMXxoWzBdLGhbMV0saFsyXSxoWzNdLGhbNF0saFs1XV0pLG51bGw9PWQmJihkPW89MTYzODMmKGhbNl08PDh8aFs3XSkpfXZhciBmPXZvaWQgMCE9PWUubXNlY3M/ZS5tc2VjczoobmV3IERhdGUpLmdldFRpbWUoKSxnPXZvaWQgMCE9PWUubnNlY3M/ZS5uc2Vjczp1KzEsbT1mLWMrKGctdSkvMWU0O2lmKG08MCYmdm9pZCAwPT09ZS5jbG9ja3NlcSYmKGQ9ZCsxJjE2MzgzKSwobTwwfHxmPmMpJiZ2b2lkIDA9PT1lLm5zZWNzJiYoZz0wKSxnPj0xZTQpdGhyb3cgbmV3IEVycm9yKCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYyIpO2M9Zix1PWcsbz1kO3ZhciB2PSgxZTQqKDI2ODQzNTQ1NSYoZis9MTIyMTkyOTI4ZTUpKStnKSU0Mjk0OTY3Mjk2O2xbcysrXT12Pj4+MjQmMjU1LGxbcysrXT12Pj4+MTYmMjU1LGxbcysrXT12Pj4+OCYyNTUsbFtzKytdPTI1NSZ2O3ZhciB5PWYvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O2xbcysrXT15Pj4+OCYyNTUsbFtzKytdPTI1NSZ5LGxbcysrXT15Pj4+MjQmMTV8MTYsbFtzKytdPXk+Pj4xNiYyNTUsbFtzKytdPWQ+Pj44fDEyOCxsW3MrK109MjU1JmQ7Zm9yKHZhciBiPTA7Yjw2OysrYilsW3MrYl09cFtiXTtyZXR1cm4gdHx8KDAsYS5kZWZhdWx0KShsKX07bi5kZWZhdWx0PWx9LHsiLi9ieXRlc1RvVXVpZC5qcyI6MTAxLCIuL3JuZy5qcyI6MTA0fV0sMTA3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgiLi92MzUuanMiKSksbz1pKGUoIi4vbWQ1LmpzIikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBhPSgwLHIuZGVmYXVsdCkoInYzIiw0OCxvLmRlZmF1bHQpO24uZGVmYXVsdD1hfSx7Ii4vbWQ1LmpzIjoxMDMsIi4vdjM1LmpzIjoxMDh9XSwxMDg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSxyLGksYSl7dmFyIHM9aSYmYXx8MDtpZigic3RyaW5nIj09dHlwZW9mIGUmJihlPWZ1bmN0aW9uKGUpe2U9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKTtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxuPTA7bjxlLmxlbmd0aDtuKyspdFtuXT1lLmNoYXJDb2RlQXQobik7cmV0dXJuIHR9KGUpKSwic3RyaW5nIj09dHlwZW9mIHImJihyPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLnJlcGxhY2UoL1thLWZBLUYwLTldezJ9L2csKGZ1bmN0aW9uKGUpe3QucHVzaChwYXJzZUludChlLDE2KSl9KSksdH0ocikpLCFBcnJheS5pc0FycmF5KGUpKXRocm93IFR5cGVFcnJvcigidmFsdWUgbXVzdCBiZSBhbiBhcnJheSBvZiBieXRlcyIpO2lmKCFBcnJheS5pc0FycmF5KHIpfHwxNiE9PXIubGVuZ3RoKXRocm93IFR5cGVFcnJvcigibmFtZXNwYWNlIG11c3QgYmUgdXVpZCBzdHJpbmcgb3IgYW4gQXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMiKTt2YXIgYz1uKHIuY29uY2F0KGUpKTtpZihjWzZdPTE1JmNbNl18dCxjWzhdPTYzJmNbOF18MTI4LGkpZm9yKHZhciB1PTA7dTwxNjsrK3UpaVtzK3VdPWNbdV07cmV0dXJuIGl8fCgwLG8uZGVmYXVsdCkoYyl9O3RyeXtyLm5hbWU9ZX1jYXRjaChlKXt9cmV0dXJuIHIuRE5TPWksci5VUkw9YSxyfSxuLlVSTD1uLkROUz12b2lkIDA7dmFyIHIsbz0ocj1lKCIuL2J5dGVzVG9VdWlkLmpzIikpJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfSxpPSI2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgiO24uRE5TPWk7dmFyIGE9IjZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCI7bi5VUkw9YX0seyIuL2J5dGVzVG9VdWlkLmpzIjoxMDF9XSwxMDk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHI9aShlKCIuL3JuZy5qcyIpKSxvPWkoZSgiLi9ieXRlc1RvVXVpZC5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYT1mdW5jdGlvbihlLHQsbil7dmFyIGk9dCYmbnx8MDsic3RyaW5nIj09dHlwZW9mIGUmJih0PSJiaW5hcnkiPT09ZT9uZXcgQXJyYXkoMTYpOm51bGwsZT1udWxsKTt2YXIgYT0oZT1lfHx7fSkucmFuZG9tfHwoZS5ybmd8fHIuZGVmYXVsdCkoKTtpZihhWzZdPTE1JmFbNl18NjQsYVs4XT02MyZhWzhdfDEyOCx0KWZvcih2YXIgcz0wO3M8MTY7KytzKXRbaStzXT1hW3NdO3JldHVybiB0fHwoMCxvLmRlZmF1bHQpKGEpfTtuLmRlZmF1bHQ9YX0seyIuL2J5dGVzVG9VdWlkLmpzIjoxMDEsIi4vcm5nLmpzIjoxMDR9XSwxMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHI9aShlKCIuL3YzNS5qcyIpKSxvPWkoZSgiLi9zaGExLmpzIikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBhPSgwLHIuZGVmYXVsdCkoInY1Iiw4MCxvLmRlZmF1bHQpO24uZGVmYXVsdD1hfSx7Ii4vc2hhMS5qcyI6MTA1LCIuL3YzNS5qcyI6MTA4fV0sMTExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1lKCIuL3V0aWxzL0xSVSIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPTFlMyksdGhpcy5tYXhTaXplPWUsdGhpcy5jYWNoZT1uZXcgci5MUlVDYWNoZShlKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGUubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LG4pe3ZhciByPSJzdHJpbmciIT10eXBlb2YgdD9lLmdldEtleVN0cmluZyh0KTp0LG89dGhpcy5wb3B1bGF0ZVZhbHVlKG4pO3RoaXMuY2FjaGUucHV0KHIsbyl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgbj0ic3RyaW5nIiE9dHlwZW9mIHQ/ZS5nZXRLZXlTdHJpbmcodCk6dCxyPURhdGUubm93KCksbz10aGlzLmNhY2hlLmdldChuKTtpZihvKXtmb3IodmFyIGk9by5sZW5ndGgtMTtpPj0wO2ktLSlvW2ldLkV4cGlyZTxyJiZvLnNwbGljZShpLDEpO2lmKDA9PT1vLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmNhY2hlLnJlbW92ZShuKX1yZXR1cm4gb30sZS5nZXRLZXlTdHJpbmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49T2JqZWN0LmtleXMoZSkuc29ydCgpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTt2b2lkIDAhPT1lW29dJiZ0LnB1c2goZVtvXSl9cmV0dXJuIHQuam9pbigiICIpfSxlLnByb3RvdHlwZS5wb3B1bGF0ZVZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCk7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57QWRkcmVzczplLkFkZHJlc3N8fCIiLEV4cGlyZTp0KzYwKihlLkNhY2hlUGVyaW9kSW5NaW51dGVzfHwxKSoxZTN9fSkpfSxlLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3RoaXMuY2FjaGUuZW1wdHkoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBuPSJzdHJpbmciIT10eXBlb2YgdD9lLmdldEtleVN0cmluZyh0KTp0O3RoaXMuY2FjaGUucmVtb3ZlKG4pfSxlfSgpO24uRW5kcG9pbnRDYWNoZT1vfSx7Ii4vdXRpbHMvTFJVIjoxMTJ9XSwxMTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKGUsdCl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPXR9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKHRoaXMubm9kZU1hcD17fSx0aGlzLnNpemU9MCwibnVtYmVyIiE9dHlwZW9mIGV8fGU8MSl0aHJvdyBuZXcgRXJyb3IoIkNhY2hlIHNpemUgY2FuIG9ubHkgYmUgcG9zaXRpdmUgbnVtYmVyIik7dGhpcy5zaXplTGltaXQ9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnByZXBlbmRUb0xpc3Q9ZnVuY3Rpb24oZSl7dGhpcy5oZWFkZXJOb2RlPyh0aGlzLmhlYWRlck5vZGUucHJldj1lLGUubmV4dD10aGlzLmhlYWRlck5vZGUpOnRoaXMudGFpbE5vZGU9ZSx0aGlzLmhlYWRlck5vZGU9ZSx0aGlzLnNpemUrK30sZS5wcm90b3R5cGUucmVtb3ZlRnJvbVRhaWw9ZnVuY3Rpb24oKXtpZih0aGlzLnRhaWxOb2RlKXt2YXIgZT10aGlzLnRhaWxOb2RlLHQ9ZS5wcmV2O3JldHVybiB0JiYodC5uZXh0PXZvaWQgMCksZS5wcmV2PXZvaWQgMCx0aGlzLnRhaWxOb2RlPXQsdGhpcy5zaXplLS0sZX19LGUucHJvdG90eXBlLmRldGFjaEZyb21MaXN0PWZ1bmN0aW9uKGUpe3RoaXMuaGVhZGVyTm9kZT09PWUmJih0aGlzLmhlYWRlck5vZGU9ZS5uZXh0KSx0aGlzLnRhaWxOb2RlPT09ZSYmKHRoaXMudGFpbE5vZGU9ZS5wcmV2KSxlLnByZXYmJihlLnByZXYubmV4dD1lLm5leHQpLGUubmV4dCYmKGUubmV4dC5wcmV2PWUucHJldiksZS5uZXh0PXZvaWQgMCxlLnByZXY9dm9pZCAwLHRoaXMuc2l6ZS0tfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5ub2RlTWFwW2VdKXt2YXIgdD10aGlzLm5vZGVNYXBbZV07cmV0dXJuIHRoaXMuZGV0YWNoRnJvbUxpc3QodCksdGhpcy5wcmVwZW5kVG9MaXN0KHQpLHQudmFsdWV9fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5ub2RlTWFwW2VdKXt2YXIgdD10aGlzLm5vZGVNYXBbZV07dGhpcy5kZXRhY2hGcm9tTGlzdCh0KSxkZWxldGUgdGhpcy5ub2RlTWFwW2VdfX0sZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5ub2RlTWFwW2VdKXRoaXMucmVtb3ZlKGUpO2Vsc2UgaWYodGhpcy5zaXplPT09dGhpcy5zaXplTGltaXQpe3ZhciBuPXRoaXMucmVtb3ZlRnJvbVRhaWwoKS5rZXk7ZGVsZXRlIHRoaXMubm9kZU1hcFtuXX12YXIgbz1uZXcgcihlLHQpO3RoaXMubm9kZU1hcFtlXT1vLHRoaXMucHJlcGVuZFRvTGlzdChvKX0sZS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcy5ub2RlTWFwKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0scj10aGlzLm5vZGVNYXBbbl07dGhpcy5kZXRhY2hGcm9tTGlzdChyKSxkZWxldGUgdGhpcy5ub2RlTWFwW25dfX0sZX0oKTtuLkxSVUNhY2hlPW99LHt9XSwxMTM6W2Z1bmN0aW9uKGUsdCxuKXtlKCIuL2Jyb3dzZXJfbG9hZGVyIik7dmFyIHI9ZSgiLi9jb3JlIik7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuQVdTPXIpLHZvaWQgMCE9PXQmJih0LmV4cG9ydHM9ciksInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiYoc2VsZi5BV1M9ciksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIkNvbm5lY3QiKXx8KHIuYXBpTG9hZGVyLnNlcnZpY2VzLmNvbm5lY3Q9e30sci5Db25uZWN0PXIuU2VydmljZS5kZWZpbmVTZXJ2aWNlKCJjb25uZWN0IixbIjIwMTctMDItMTUiXSkpLHIuYXBpTG9hZGVyLnNlcnZpY2VzLmNvbm5lY3RbIjIwMTctMDItMTUiXT1lKCIuLi9hcGlzL2Nvbm5lY3QtMjAxNy0wMi0xNS5taW4iKX0seyIuLi9hcGlzL2Nvbm5lY3QtMjAxNy0wMi0xNS5taW4iOjMsIi4vYnJvd3Nlcl9sb2FkZXIiOjE2LCIuL2NvcmUiOjE5fV19LHt9LFsxMTNdKX0sNTU1OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cix0LmxpbHk9cixyLkNsaWVudE1ldGhvZHM9ci5tYWtlRW51bShbImdldEFnZW50U25hcHNob3QiLCJwdXRBZ2VudFN0YXRlIiwiZ2V0QWdlbnRTdGF0ZXMiLCJnZXREaWFsYWJsZUNvdW50cnlDb2RlcyIsImdldFJvdXRpbmdQcm9maWxlUXVldWVzIiwiZ2V0QWdlbnRQZXJtaXNzaW9ucyIsImdldEFnZW50Q29uZmlndXJhdGlvbiIsInVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbiIsImFjY2VwdENvbnRhY3QiLCJjcmVhdGVPdXRib3VuZENvbnRhY3QiLCJjcmVhdGVUYXNrQ29udGFjdCIsImNsZWFyQ29udGFjdCIsImNvbXBsZXRlQ29udGFjdCIsImRlc3Ryb3lDb250YWN0IiwicmVqZWN0Q29udGFjdCIsIm5vdGlmeUNvbnRhY3RJc3N1ZSIsInVwZGF0ZUNvbnRhY3RBdHRyaWJ1dGVzIiwiY3JlYXRlQWRkaXRpb25hbENvbm5lY3Rpb24iLCJkZXN0cm95Q29ubmVjdGlvbiIsImhvbGRDb25uZWN0aW9uIiwicmVzdW1lQ29ubmVjdGlvbiIsInRvZ2dsZUFjdGl2ZUNvbm5lY3Rpb25zIiwiY29uZmVyZW5jZUNvbm5lY3Rpb25zIiwic2VuZENsaWVudExvZ3MiLCJzZW5kRGlnaXRzIiwic2VuZFNvZnRwaG9uZUNhbGxSZXBvcnQiLCJzZW5kU29mdHBob25lQ2FsbE1ldHJpY3MiLCJnZXRFbmRwb2ludHMiLCJnZXROZXdBdXRoVG9rZW4iLCJjcmVhdGVUcmFuc3BvcnQiLCJtdXRlUGFydGljaXBhbnQiLCJ1bm11dGVQYXJ0aWNpcGFudCIsInVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlIiwicGF1c2VDb250YWN0IiwicmVzdW1lQ29udGFjdCIsImFkZE5ld0Nvbm5lY3Rpb24iLCJ0cmFuc2ZlckNvbnRhY3QiXSksci5BZ2VudEFwcENsaWVudE1ldGhvZHM9e0dFVF9DT05UQUNUOiJBZ2VudEFwcFNlcnZpY2UuTGNtcy5nZXRDb250YWN0IixERUxFVEVfU1BFQUtFUjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVsZXRlU3BlYWtlciIsRU5ST0xMX0JZX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmVucm9sbEJ5U2Vzc2lvbiIsRVZBTFVBVEVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZXZhbHVhdGVTZXNzaW9uIixERVNDUklCRV9TUEVBS0VSOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5kZXNjcmliZVNwZWFrZXIiLE9QVF9PVVRfU1BFQUtFUjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQub3B0T3V0U3BlYWtlciIsVVBEQVRFX1ZPSUNFX0lEX0RBVEE6IkFnZW50QXBwU2VydmljZS5MY21zLnVwZGF0ZVZvaWNlSWREYXRhIixERVNDUklCRV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5kZXNjcmliZVNlc3Npb24iLFVQREFURV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC51cGRhdGVTZXNzaW9uIixTVEFSVF9WT0lDRV9JRF9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuTmFzYS5zdGFydFZvaWNlSWRTZXNzaW9uIixMSVNUX0lOVEVHUkFUSU9OX0FTU09DSUFUSU9OUzoiQWdlbnRBcHBTZXJ2aWNlLkFjcy5saXN0SW50ZWdyYXRpb25Bc3NvY2lhdGlvbnMifSxyLk1hc3Rlck1ldGhvZHM9ci5tYWtlRW51bShbImJlY29tZU1hc3RlciIsImNoZWNrTWFzdGVyIl0pLHIuVGFza1RlbXBsYXRlc0NsaWVudE1ldGhvZHM9ci5tYWtlRW51bShbImxpc3RUYXNrVGVtcGxhdGVzIiwiZ2V0VGFza1RlbXBsYXRlIiwiY3JlYXRlVGVtcGxhdGVkVGFzayIsInVwZGF0ZUNvbnRhY3QiXSksci5BcGlQcm94eUNsaWVudE1ldGhvZHM9e1FSX0lOVEVHUkFUSU9OX0VYSVNUUzoicXJJbnRlZ3JhdGlvbkV4aXN0cyIsUVJfU0VBUkNIX1FVSUNLX1JFU1BPTlNFUzoicXJTZWFyY2hRdWlja1Jlc3BvbnNlcyIsU1RBUlRfU0NSRUVOX1NIQVJJTkc6InN0YXJ0U2NyZWVuU2hhcmluZyJ9LHIuUmV0cnlhYmxlQ2xpZW50TWV0aG9kc0xpc3Q9W3IuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU05BUFNIT1Qsci5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9DT05GSUdVUkFUSU9OLHIuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfUEVSTUlTU0lPTlMsci5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TVEFURVMsci5DbGllbnRNZXRob2RzLkdFVF9ESUFMQUJMRV9DT1VOVFJZX0NPREVTLHIuQ2xpZW50TWV0aG9kcy5HRVRfUk9VVElOR19QUk9GSUxFX1FVRVVFU10sci5SZXRyeWFibGVFcnJvcnM9ci5tYWtlRW51bShbInVuYXV0aG9yaXplZCIsImFjY2Vzc0RlbmllZCJdKSxyLlJldHJ5U3RhdHVzPXIubWFrZUVudW0oWyJyZXRyeWluZyIsImV4aGF1c3RlZCIsIm5vbmUiXSk7dmFyIG89ZnVuY3Rpb24oKXt9O28uRU1QVFlfQ0FMTEJBQ0tTPXtzdWNjZXNzOmZ1bmN0aW9uKCl7fSxmYWlsdXJlOmZ1bmN0aW9uKCl7fX0sby5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQsbil7ci5hc3NlcnROb3ROdWxsKGUsIm1ldGhvZCIpO3ZhciBpPXR8fHt9LGE9bnx8by5FTVBUWV9DQUxMQkFDS1M7dGhpcy5fY2FsbEltcGwoZSxpLGEpfSxvLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3Rocm93IG5ldyByLk5vdEltcGxlbWVudGVkRXJyb3J9O3ZhciBpPWZ1bmN0aW9uKCl7by5jYWxsKHRoaXMpfTsoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXtpZihuJiZuLmZhaWx1cmUpe3ZhciBvPXIuc3ByaW50ZigiTm8gc3VjaCBtZXRob2QgZXhpc3RzIG9uIE5VTEwgY2xpZW50OiAlcyIsZSk7bi5mYWlsdXJlKG5ldyByLlZhbHVlRXJyb3Iobykse21lc3NhZ2U6b30pfX07dmFyIGE9ZnVuY3Rpb24oZSx0LG4pe28uY2FsbCh0aGlzKSx0aGlzLmNvbmR1aXQ9ZSx0aGlzLnJlcXVlc3RFdmVudD10LHRoaXMucmVzcG9uc2VFdmVudD1uLHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcD17fSx0aGlzLmNvbmR1aXQub25VcHN0cmVhbShuLHIuaGl0Y2godGhpcyx0aGlzLl9oYW5kbGVSZXNwb25zZSkpfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXF1ZXN0KHRoaXMucmVxdWVzdEV2ZW50LGUsdCk7dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW28ucmVxdWVzdElkXT1uO3ZhciBpPVtyLkNsaWVudE1ldGhvZHMuU0VORF9DTElFTlRfTE9HUyxyLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTLHIuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX1JFUE9SVF07dHJ5e28uZXZlbnQhPT1yLkV2ZW50VHlwZS5BUElfUkVRVUVTVHx8aS5pbmNsdWRlcyhvLm1ldGhvZCl8fHIuZ2V0TG9nKCkudHJhY2UoIlNlbmRpbmcgQVBJX1JFUVVFU1QgZXZlbnQgZm9yICIuY29uY2F0KG8ubWV0aG9kLCIgdG8gdXBzdHJlYW0iKSkud2l0aE9iamVjdCh7bWV0aG9kOm8ubWV0aG9kLHBhcmFtczpvLnBhcmFtcyxzdGFjazoobmV3IEVycm9yKS5zdGFja30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiU3RhY2sgdHJhY2UgTG9nIEZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX10aGlzLmNvbmR1aXQuc2VuZFVwc3RyZWFtKG8uZXZlbnQsbyl9LGEucHJvdG90eXBlLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXXx8bnVsbDtyZXR1cm4gbnVsbCE9dCYmZGVsZXRlIHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXSx0fSxhLnByb3RvdHlwZS5faGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdChlLnJlcXVlc3RJZCk7bnVsbCE9dCYmKGUuZXJyJiZ0LmZhaWx1cmU/dC5mYWlsdXJlKGUuZXJyLGUuZGF0YSk6dC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZS5kYXRhKSl9O3ZhciBzPWZ1bmN0aW9uKGUpe2EuY2FsbCh0aGlzLGUsci5FdmVudFR5cGUuQVBJX1JFUVVFU1Qsci5FdmVudFR5cGUuQVBJX1JFU1BPTlNFKX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zO3ZhciBjPWZ1bmN0aW9uKCl7by5jYWxsKHRoaXMpLHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5BUElfUFJPWFlfUkVTUE9OU0Usci5oaXRjaCh0aGlzLHRoaXMuX2hhbmRsZVJlc3BvbnNlKSksdGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwPXt9fTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXF1ZXN0KHIuRXZlbnRUeXBlLkFQSV9QUk9YWV9SRVFVRVNULGUsdCk7dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW28ucmVxdWVzdElkXT1uLHIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuQVBJX1BST1hZX1JFUVVFU1Qsbyl9LGMucHJvdG90eXBlLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXXx8bnVsbDtyZXR1cm4gbnVsbCE9dCYmZGVsZXRlIHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXSx0fSxjLnByb3RvdHlwZS5faGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdChlLnJlcXVlc3RJZCk7bnVsbCE9dCYmKGUuZXJyJiZ0LmZhaWx1cmU/dC5mYWlsdXJlKGUuZXJyLGUuZGF0YSk6dC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZS5kYXRhKSl9O3ZhciB1PWZ1bmN0aW9uKGUpe2EuY2FsbCh0aGlzLGUsci5FdmVudFR5cGUuTUFTVEVSX1JFUVVFU1Qsci5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFKX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11O3ZhciBsPWZ1bmN0aW9uKGUsdCxuKXtyLmFzc2VydE5vdE51bGwoZSwiYXV0aENvb2tpZU5hbWUiKSxyLmFzc2VydE5vdE51bGwodCwiYXV0aFRva2VuIiksci5hc3NlcnROb3ROdWxsKG4sImVuZHBvaW50Iiksby5jYWxsKHRoaXMpLHRoaXMuZW5kcG9pbnRVcmw9ci5nZXRVcmxXaXRoUHJvdG9jb2wobiksdGhpcy5hdXRoVG9rZW49dCx0aGlzLmF1dGhDb29raWVOYW1lPWV9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bCxsLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXMsaT17fTtpW28uYXV0aENvb2tpZU5hbWVdPW8uYXV0aFRva2VuO3ZhciBhPXttZXRob2Q6InBvc3QiLGJvZHk6SlNPTi5zdHJpbmdpZnkodHx8e30pLGhlYWRlcnM6e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiIsIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJYLUFtei10YXJnZXQiOmUsIlgtQW16LUJlYXJlciI6SlNPTi5zdHJpbmdpZnkoaSl9fTtyLmZldGNoKG8uZW5kcG9pbnRVcmwsYSkudGhlbigoZnVuY3Rpb24oZSl7bi5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkuZ2V0UmVhZGVyKCkscj0iIixvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKGEpe3ZhciBzPWEuZG9uZSxjPWEudmFsdWU7aWYocyl7dmFyIHU9SlNPTi5wYXJzZShyKTtyZXR1cm4gdS5zdGF0dXM9ZS5zdGF0dXMsdm9pZCBuLmZhaWx1cmUodSl9cmV0dXJuIHIrPW8uZGVjb2RlKGMpLHQucmVhZCgpLnRoZW4oaSl9KSl9KSl9O3ZhciBwPWZ1bmN0aW9uKGUsdCxuKXtyLmFzc2VydE5vdE51bGwoZSwiYXV0aFRva2VuIiksci5hc3NlcnROb3ROdWxsKHQsInJlZ2lvbiIpLG8uY2FsbCh0aGlzKSxBV1MuY29uZmlnLmNyZWRlbnRpYWxzPW5ldyBBV1MuQ3JlZGVudGlhbHMoe30pLEFXUy5jb25maWcucmVnaW9uPXQsdGhpcy5hdXRoVG9rZW49ZTt2YXIgaT1yLmdldEJhc2VVcmwoKSxhPW58fChpLmluY2x1ZGVzKCIuYXdzYXBwcy5jb20iKT9pKyIvY29ubmVjdC9hcGkiOmkrIi9hcGkiKSxzPW5ldyBBV1MuRW5kcG9pbnQoYSk7dGhpcy5jbGllbnQ9bmV3IEFXUy5Db25uZWN0KHtlbmRwb2ludDpzfSksdGhpcy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wLHRoaXMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI9MH07KHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1wLHAucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcyxpPXIuZ2V0TG9nKCk7aWYoci5jb250YWlucyh0aGlzLmNsaWVudCxlKSkodD10aGlzLl90cmFuc2xhdGVQYXJhbXMoZSx0KSkmJnQucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PXQucmVsYXRlZENvbnRhY3RJZCYmdC5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIHQucHJldmlvdXNDb250YWN0SWQsaS50cmFjZSgiQVdTQ2xpZW50OiAtLVx4M2UgQ2FsbGluZyBvcGVyYXRpb24gJyVzJyIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLmNsaWVudFtlXSh0KS5vbigiYnVpbGQiLChmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LUJlYXJlciJdPW8uYXV0aFRva2VufSkpLnNlbmQoKGZ1bmN0aW9uKHQsYSl7dHJ5e2lmKHQpdC5jb2RlPT09ci5DVElFeGNlcHRpb25zLlVOQVVUSE9SSVpFRF9FWENFUFRJT058fDQwMT09PXQuc3RhdHVzQ29kZT9vLl9yZXRyeU1ldGhvZChlLG4sdCxhLHIuUmV0cnlhYmxlRXJyb3JzLlVOQVVUSE9SSVpFRCk6dC5jb2RlPT09ci5DVElFeGNlcHRpb25zLkFDQ0VTU19ERU5JRURfRVhDRVBUSU9OfHw0MDM9PT10LnN0YXR1c0NvZGU/by5fcmV0cnlNZXRob2QoZSxuLHQsYSxyLlJldHJ5YWJsZUVycm9ycy5BQ0NFU1NfREVOSUVEKTooby51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wLG8uYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI9MCxuLmZhaWx1cmUoby5fZm9ybWF0Q2FsbEVycm9yKG8uX2FkZFN0YXR1c0NvZGVUb0Vycm9yKHQpKSxhKSksaS50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICclcycgZmFpbGVkOiAlcyIsZSxKU09OLnN0cmluZ2lmeSh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNle3ZhciBzPXt9O2kudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAnJXMnIHN1Y2NlZWRlZC4iLGUpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTAsby5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wLHRoaXMuaHR0cFJlc3BvbnNlJiZ0aGlzLmh0dHBSZXNwb25zZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpJiYocy5jb250ZW50TGVuZ3RoPXRoaXMuaHR0cFJlc3BvbnNlLmJvZHkubGVuZ3RoKSxuLnN1Y2Nlc3MoYSxzKX19Y2F0Y2godCl7ci5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGhhbmRsZSBBV1MgQVBJIHJlcXVlc3QgZm9yIG1ldGhvZCAlcyIsZSkud2l0aEV4Y2VwdGlvbih0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKTtlbHNle3ZhciBhPXIuc3ByaW50ZigiTm8gc3VjaCBtZXRob2QgZXhpc3RzIG9uIEFXUyBjbGllbnQ6ICVzIixlKTtuLmZhaWx1cmUobmV3IHIuVmFsdWVFcnJvcihhKSx7bWVzc2FnZTphfSl9fSxwLnByb3RvdHlwZS5faXNSZXRyeWFibGVNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuUmV0cnlhYmxlQ2xpZW50TWV0aG9kc0xpc3QuaW5jbHVkZXMoZSl9LHAucHJvdG90eXBlLl9yZXRyeU1ldGhvZD1mdW5jdGlvbihlLHQsbyxpLGEpe3ZhciBzPXRoaXMsYz1yLmdldExvZygpLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuX2Zvcm1hdENhbGxFcnJvcihzLl9hZGRTdGF0dXNDb2RlVG9FcnJvcihlKSl9LGw9e21heENvdW50OnIuY29yZS5NQVhfVU5BVVRIT1JJWkVEX1JFVFJZX0NPVU5ULGZhaWxDb3VudGVyOnMudW5hdXRob3JpemVkRmFpbENvdW50ZXIsaW5jcmVhc2VDb3VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHMudW5hdXRob3JpemVkRmFpbENvdW50ZXIrPTF9LHJlc2V0Q291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTB9LGVycm9yTWVzc2FnZToidW5hdXRob3JpemVkIixleGhhdXN0ZWRSZXRyaWVzOnMudW5hdXRob3JpemVkRmFpbENvdW50ZXI+PXIuY29yZS5NQVhfVU5BVVRIT1JJWkVEX1JFVFJZX0NPVU5ULHJldHJ5Q2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5mYWlsdXJlKHUoZSksbil9LGRlZmF1bHRDYWxsYmFjazpmdW5jdGlvbihlLG4pe3JldHVybiB0LmF1dGhGYWlsdXJlKHUoZSksbil9fTtzd2l0Y2goYSl7Y2FzZSByLlJldHJ5YWJsZUVycm9ycy5VTkFVVEhPUklaRUQ6YnJlYWs7Y2FzZSByLlJldHJ5YWJsZUVycm9ycy5BQ0NFU1NfREVOSUVEOmw9bihuKHt9LGwpLHt9LHttYXhDb3VudDpyLmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQsZmFpbENvdW50ZXI6cy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcixpbmNyZWFzZUNvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcis9MX0scmVzZXRDb3VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI9MH0sZXJyb3JNZXNzYWdlOiJhY2Nlc3MgZGVuaWVkIixleGhhdXN0ZWRSZXRyaWVzOnMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI+PXIuY29yZS5NQVhfQUNDRVNTX0RFTklFRF9SRVRSWV9DT1VOVCxkZWZhdWx0Q2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hY2Nlc3NEZW5pZWQodShlKSxuKX19KX12YXIgcD1uKG4oe30sbykse30se3JldHJ5U3RhdHVzOnIuUmV0cnlTdGF0dXMuTk9ORX0pO2lmKHMuX2lzUmV0cnlhYmxlTWV0aG9kKGUpKXtpZighbC5leGhhdXN0ZWRSZXRyaWVzKXJldHVybiBjLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gIi5jb25jYXQoZSwiIGZhaWxlZCB3aXRoICIpLmNvbmNhdChsLmVycm9yTWVzc2FnZSwiIGVycm9yLiBSZXRyeWluZyBjYWxsIGZvciBhICIpLmNvbmNhdChsLmZhaWxDb3VudGVyKzEsIiB0aW1lIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbC5pbmNyZWFzZUNvdW50ZXIoKSxwPW4obih7fSxwKSx7fSx7cmV0cnlTdGF0dXM6ci5SZXRyeVN0YXR1cy5SRVRSWUlOR30pLHZvaWQgbC5yZXRyeUNhbGxiYWNrKHAsaSk7Yy50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICIuY29uY2F0KGUsIiBleGhhdXN0ZWQgbWF4ICIpLmNvbmNhdChsLm1heENvdW50LCIgbnVtYmVyIG9mIHJldHJpZXMgZm9yICIpLmNvbmNhdChsLmVycm9yTWVzc2FnZSwiIGVycm9yIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbC5yZXNldENvdW50ZXIoKSxwPW4obih7fSxwKSx7fSx7cmV0cnlTdGF0dXM6ci5SZXRyeVN0YXR1cy5FWEhBVVNURUR9KX1lbHNlIGMudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAiLmNvbmNhdChlLCIgZmFpbGVkOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobykpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2wuZGVmYXVsdENhbGxiYWNrKHAsaSl9LHAucHJvdG90eXBlLl9mb3JtYXRDYWxsRXJyb3I9ZnVuY3Rpb24odCl7dmFyIG89bih7dHlwZTp0LmNvZGUsbWVzc2FnZTp0Lm1lc3NhZ2Usc3RhY2s6W10scmV0cnlTdGF0dXM6dC5yZXRyeVN0YXR1c3x8ci5SZXRyeVN0YXR1cy5OT05FfSx0LnN0YXR1c0NvZGUmJntzdGF0dXNDb2RlOnQuc3RhdHVzQ29kZX0pO2lmKHQuc3RhY2spdHJ5e0FycmF5LmlzQXJyYXkodC5zdGFjayk/by5zdGFjaz10LnN0YWNrOiJvYmplY3QiPT09ZSh0LnN0YWNrKT9vLnN0YWNrPVtKU09OLnN0cmluZ2lmeSh0LnN0YWNrKV06InN0cmluZyI9PXR5cGVvZiB0LnN0YWNrJiYoby5zdGFjaz10LnN0YWNrLnNwbGl0KCJcbiIpKX1maW5hbGx5e31yZXR1cm4gb30scC5wcm90b3R5cGUuX2FkZFN0YXR1c0NvZGVUb0Vycm9yPWZ1bmN0aW9uKGUpe2lmKGUuc3RhdHVzQ29kZSlyZXR1cm4gZTt2YXIgdD1uKHt9LGUpO2lmKGUuY29kZSlzd2l0Y2godC5jb2RlKXtjYXNlIHIuQ1RJRXhjZXB0aW9ucy5VTkFVVEhPUklaRURfRVhDRVBUSU9OOnQuc3RhdHVzQ29kZT00MDE7YnJlYWs7Y2FzZSByLkNUSUV4Y2VwdGlvbnMuQUNDRVNTX0RFTklFRF9FWENFUFRJT046dC5zdGF0dXNDb2RlPTQwM31lbHNlIHQuc3RhdHVzQ29kZT00MDA7cmV0dXJuIHR9LHAucHJvdG90eXBlLl9yZXF1aXJlc0F1dGhlbnRpY2F0aW9uUGFyYW09ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1yLkNsaWVudE1ldGhvZHMuQ09NUExFVEVfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5DTEVBUl9DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLlJFSkVDVF9DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLkNSRUFURV9UQVNLX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuVVBEQVRFX01PTklUT1JfUEFSVElDSVBBTlRfU1RBVEUmJmUhPT1yLkNsaWVudE1ldGhvZHMuUEFVU0VfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5SRVNVTUVfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5BRERfTkVXX0NPTk5FQ1RJT04mJmUhPT1yLkNsaWVudE1ldGhvZHMuVFJBTlNGRVJfQ09OVEFDVH0scC5wcm90b3R5cGUuX3RyYW5zbGF0ZVBhcmFtcz1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIHIuQ2xpZW50TWV0aG9kcy5VUERBVEVfQUdFTlRfQ09ORklHVVJBVElPTjp0LmNvbmZpZ3VyYXRpb249dGhpcy5fdHJhbnNsYXRlQWdlbnRDb25maWd1cmF0aW9uKHQuY29uZmlndXJhdGlvbik7YnJlYWs7Y2FzZSByLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTOnQuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcz10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKHQuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcyk7YnJlYWs7Y2FzZSByLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9SRVBPUlQ6dC5yZXBvcnQ9dGhpcy5fdHJhbnNsYXRlU29mdHBob25lQ2FsbFJlcG9ydCh0LnJlcG9ydCl9cmV0dXJuIHRoaXMuX3JlcXVpcmVzQXV0aGVudGljYXRpb25QYXJhbShlKSYmKHQuYXV0aGVudGljYXRpb249e2F1dGhUb2tlbjp0aGlzLmF1dGhUb2tlbn0pLHR9LHAucHJvdG90eXBlLl90cmFuc2xhdGVBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6ZS5uYW1lLHNvZnRwaG9uZUVuYWJsZWQ6ZS5zb2Z0cGhvbmVFbmFibGVkLHNvZnRwaG9uZUF1dG9BY2NlcHQ6ZS5zb2Z0cGhvbmVBdXRvQWNjZXB0LGV4dGVuc2lvbjplLmV4dGVuc2lvbixyb3V0aW5nUHJvZmlsZTp0aGlzLl90cmFuc2xhdGVSb3V0aW5nUHJvZmlsZShlLnJvdXRpbmdQcm9maWxlKSxhZ2VudFByZWZlcmVuY2VzOmUuYWdlbnRQcmVmZXJlbmNlc319LHAucHJvdG90eXBlLl90cmFuc2xhdGVSb3V0aW5nUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTplLm5hbWUscm91dGluZ1Byb2ZpbGVBUk46ZS5yb3V0aW5nUHJvZmlsZUFSTixkZWZhdWx0T3V0Ym91bmRRdWV1ZTp0aGlzLl90cmFuc2xhdGVRdWV1ZShlLmRlZmF1bHRPdXRib3VuZFF1ZXVlKX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVRdWV1ZT1mdW5jdGlvbihlKXtyZXR1cm57cXVldWVBUk46ZS5xdWV1ZUFSTixuYW1lOmUubmFtZX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJwYWNrZXRzQ291bnQiaW4gZSYmKGUucGFja2V0Q291bnQ9ZS5wYWNrZXRzQ291bnQsZGVsZXRlIGUucGFja2V0c0NvdW50KX0pKSxlfSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlU29mdHBob25lQ2FsbFJlcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4iaGFuZHNoYWtpbmdUaW1lTWlsbGlzImluIGUmJihlLmhhbmRzaGFrZVRpbWVNaWxsaXM9ZS5oYW5kc2hha2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUuaGFuZHNoYWtpbmdUaW1lTWlsbGlzKSwicHJlVGFsa2luZ1RpbWVNaWxsaXMiaW4gZSYmKGUucHJlVGFsa1RpbWVNaWxsaXM9ZS5wcmVUYWxraW5nVGltZU1pbGxpcyxkZWxldGUgZS5wcmVUYWxraW5nVGltZU1pbGxpcyksImhhbmRzaGFraW5nRmFpbHVyZSJpbiBlJiYoZS5oYW5kc2hha2VGYWlsdXJlPWUuaGFuZHNoYWtpbmdGYWlsdXJlLGRlbGV0ZSBlLmhhbmRzaGFraW5nRmFpbHVyZSksInRhbGtpbmdUaW1lTWlsbGlzImluIGUmJihlLnRhbGtUaW1lTWlsbGlzPWUudGFsa2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUudGFsa2luZ1RpbWVNaWxsaXMpLGUuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcz10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKGUuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcyksZX07dmFyIGQ9ZnVuY3Rpb24oZSl7aWYoci5hc3NlcnROb3ROdWxsKGUsImVuZHBvaW50Iiksby5jYWxsKHRoaXMpLGUuaW5jbHVkZXMoIi90YXNrLXRlbXBsYXRlcyIpKXRoaXMuZW5kcG9pbnRVcmw9ci5nZXRVcmxXaXRoUHJvdG9jb2woZSk7ZWxzZXt2YXIgdD1uZXcgQVdTLkVuZHBvaW50KGUpLG49ZS5pbmNsdWRlcygiLmF3c2FwcHMuY29tIik/Ii9jb25uZWN0IjoiIjt0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKCIiLmNvbmNhdCh0Lmhvc3QpLmNvbmNhdChuLCIvdGFzay10ZW1wbGF0ZXMvYXBpL2NjcCIpKX19OyhkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZCxkLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3QmJnQucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PXQucmVsYXRlZENvbnRhY3RJZCYmdC5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIHQucHJldmlvdXNDb250YWN0SWQsci5hc3NlcnROb3ROdWxsKGUsIm1ldGhvZCIpLHIuYXNzZXJ0Tm90TnVsbCh0LCJwYXJhbXMiKTt2YXIgbz17Y3JlZGVudGlhbHM6ImluY2x1ZGUiLG1ldGhvZDoiR0VUIixoZWFkZXJzOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24iLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIiwieC1jc3JmLXRva2VuIjoiY3NyZiJ9fSxpPXQuaW5zdGFuY2VJZCxhPXRoaXMuZW5kcG9pbnRVcmwscz1yLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzO3N3aXRjaChlKXtjYXNlIHMuTElTVF9UQVNLX1RFTVBMQVRFUzppZihhKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlIiksdC5xdWVyeVBhcmFtcyl7dmFyIGM9bmV3IFVSTFNlYXJjaFBhcmFtcyh0LnF1ZXJ5UGFyYW1zKS50b1N0cmluZygpO2MmJihhKz0iPyIuY29uY2F0KGMpKX1icmVhaztjYXNlIHMuR0VUX1RBU0tfVEVNUExBVEU6ci5hc3NlcnROb3ROdWxsKHQudGVtcGxhdGVQYXJhbXMsInBhcmFtcy50ZW1wbGF0ZVBhcmFtcyIpO3ZhciB1PXIuYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLmlkLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMuaWQiKSxsPXQudGVtcGxhdGVQYXJhbXMudmVyc2lvbjthKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlLyIpLmNvbmNhdCh1KSxsJiYoYSs9Ij9zbmFwc2hvdFZlcnNpb249Ii5jb25jYXQobCkpO2JyZWFrO2Nhc2Ugcy5DUkVBVEVfVEVNUExBVEVEX1RBU0s6YSs9Ii8iLmNvbmNhdChlKSxvLmJvZHk9SlNPTi5zdHJpbmdpZnkodCksby5tZXRob2Q9IlBVVCI7YnJlYWs7Y2FzZSBzLlVQREFURV9DT05UQUNUOmErPSIvIi5jb25jYXQoZSksby5ib2R5PUpTT04uc3RyaW5naWZ5KHQpLG8ubWV0aG9kPSJQT1NUIn1yLmZldGNoKGEsbykudGhlbigoZnVuY3Rpb24oZSl7bi5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkuZ2V0UmVhZGVyKCkscj0iIixvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKGEpe3ZhciBzPWEuZG9uZSxjPWEudmFsdWU7aWYocyl7dmFyIHU9SlNPTi5wYXJzZShyKTtyZXR1cm4gdS5zdGF0dXM9ZS5zdGF0dXMsdm9pZCBuLmZhaWx1cmUodSl9cmV0dXJuIHIrPW8uZGVjb2RlKGMpLHQucmVhZCgpLnRoZW4oaSl9KSl9KSl9LHIuQ2xpZW50QmFzZT1vLHIuTnVsbENsaWVudD1pLHIuVXBzdHJlYW1Db25kdWl0Q2xpZW50PXMsci5BcGlQcm94eUNsaWVudD1jLHIuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50PXUsci5BV1NDbGllbnQ9cCxyLkFnZW50QXBwQ2xpZW50PWwsci5UYXNrVGVtcGxhdGVzQ2xpZW50PWR9KCl9LDM5OTooZSx0LG4pPT57ZnVuY3Rpb24gcihlKXtyZXR1cm4gcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0scihlKX1mdW5jdGlvbiBvKCl7InVzZSBzdHJpY3QiO289ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIGUsdD17fSxuPU9iamVjdC5wcm90b3R5cGUsaT1uLmhhc093blByb3BlcnR5LGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9cy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9cy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPXMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKGUpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBhKGksIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGl9ZnVuY3Rpb24gaChlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fXQud3JhcD1kO3ZhciBmPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBFKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBJPU9iamVjdC5nZXRQcm90b3R5cGVPZixUPUkmJkkoSShQKFtdKSkpO1QmJlQhPT1uJiZpLmNhbGwoVCxjKSYmKEM9VCk7dmFyIHc9RS5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihvLGEscyxjKXt2YXIgdT1oKGVbb10sZSxhKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1yKHApJiZpLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgbzthKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7bihlLHIsdCxvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBSKHQsbixyKXt2YXIgbz1mO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPU8ocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1mKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1oKHQsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBPKHQsbil7dmFyIHI9bi5tZXRob2Qsbz10Lml0ZXJhdG9yW3JdO2lmKG89PT1lKXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxPKHQsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9aChvLHQuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW3QucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9ZSksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKHQpe2lmKHR8fCIiPT09dCl7dmFyIG49dFtjXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxhPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYoaS5jYWxsKHQsbykpcmV0dXJuIG4udmFsdWU9dFtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gYS5uZXh0PWF9fXRocm93IG5ldyBUeXBlRXJyb3Iocih0KSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBTLnByb3RvdHlwZT1FLGEodywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLGEoRSwiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLFMuZGlzcGxheU5hbWU9cChFLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1TfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxFKTooZS5fX3Byb3RvX189RSxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSx0LmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdC5Bc3luY0l0ZXJhdG9yPV8sdC5hc3luYz1mdW5jdGlvbihlLG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSxuLHIsbyksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksdC5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LHQudmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCF0KWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZpLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIHIocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLCEhb31mb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbb10scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPWkuY2FsbChhLCJjYXRjaExvYyIpLHU9aS5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJmkuY2FsbChyLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxyLmZpbmFsbHlMb2Mpe3ZhciBvPXI7YnJlYWt9fW8mJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZvLnRyeUxvYzw9dCYmdDw9by5maW5hbGx5TG9jJiYobz1udWxsKTt2YXIgYT1vP28uY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxvPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAodCkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSx5fX0sdH1mdW5jdGlvbiBpKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9hKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7YyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCxuKXtyZXR1cm4odD1iKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBsKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2woZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGE9ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxpPWV9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19ZnVuY3Rpb24gbChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIHQ9aCh0KSxmdW5jdGlvbihlLHQpe2lmKHQmJigib2JqZWN0Ij09cih0KXx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKX0oZSxkKCk/UmVmbGVjdC5jb25zdHJ1Y3QodCxufHxbXSxoKGUpLmNvbnN0cnVjdG9yKTp0LmFwcGx5KGUsbikpfWZ1bmN0aW9uIGQoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihkPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBoKGUpe3JldHVybiBoPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSxoKGUpfWZ1bmN0aW9uIGYoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksdCYmZyhlLHQpfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gZz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGcoZSx0KX1mdW5jdGlvbiBtKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYihyLmtleSkscil9fWZ1bmN0aW9uIHkoZSx0LG4pe3JldHVybiB0JiZ2KGUucHJvdG90eXBlLHQpLG4mJnYoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9cihlKXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBvPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXIobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09cih0KT90OnQrIiJ9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQsdC5jb3JlPXt9LHQuZ2xvYmFsUmVzaWxpZW5jeT10Lmdsb2JhbFJlc2lsaWVuY3l8fHt9LHQuY29yZS5pbml0aWFsaXplZD0hMSx0LnZlcnNpb249IjIuMTkuMCIsdC5vdXRlckNvbnRleHRTdHJlYW1zVmVyc2lvbj1udWxsLHQuREVGQVVMVF9CQVRDSF9TSVpFPTUwMDt2YXIgcj0iQW1hem9uIENvbm5lY3QgQ0NQIixhPSJodHRwczovL3thbGlhc30uYXdzYXBwcy5jb20vYXV0aC8/Y2xpZW50X2lkPXtjbGllbnRfaWR9JnJlZGlyZWN0X3VyaT17cmVkaXJlY3R9IixjPSIwNjkxOWY0ZmQ4ZWQzMjRlIixsPSIvYXV0aC9hdXRob3JpemUiLGQ9Ii9jb25uZWN0L2F1dGgvYXV0aG9yaXplIixoPSJJZnJhbWVSZWZyZXNoQXR0ZW1wdHMiLGc9IklmcmFtZVJlZnJlc2hBdHRlbXB0c0RyIix2PSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3MiLGI9IklmcmFtZUluaXRpYWxpemF0aW9uU3VjY2Vzc0RyIixTPSJjdXN0b212aWV3cyIsRT1bImVuZGVkIiwibWlzc2VkIiwiZXJyb3IiLCJyZWplY3RlZCIsImFjdyJdO3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPTAsdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWI9MCx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTj0zLHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQ9MTAsdC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PTAsdC5jb3JlLmF1dGhvcml6ZVRpbWVvdXRJZD1udWxsLHQuY29yZS5jdGlUaW1lb3V0SWQ9bnVsbCx0LmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVD0yMCx0LmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQ9MTAsdC5TZXNzaW9uU3RvcmFnZUtleXM9dC5tYWtlRW51bShbInRhYl9pZCIsImF1dGhvcml6ZV9yZXRyeV9jb3VudCJdKTt2YXIgQz1mdW5jdGlvbigpe3JldHVybiB5KChmdW5jdGlvbiB0KG4pe20odGhpcyx0KSx0aGlzLmtleT0iIi5jb25jYXQobiwiUGFyYW1zU3RvcmFnZTo6IikuY29uY2F0KGUubG9jYXRpb24ub3JpZ2luKX0pLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dHJ5e3ZhciBuPWUubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5rZXkpO3JldHVybiBuJiZKU09OLnBhcnNlKG4pfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIiIuY29uY2F0KHRoaXMua2V5LCI6OiBGYWlsZWQgdG8gZ2V0IHNvZnRwaG9uZSBwYXJhbXMgZnJvbSBsb2NhbCBzdG9yYWdlISIpKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuIG51bGx9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKG4pe3RyeXtuJiZlLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LEpTT04uc3RyaW5naWZ5KG4pKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCIiLmNvbmNhdCh0aGlzLmtleSwiOjogRmFpbGVkIHRvIHNldCBzb2Z0cGhvbmUgcGFyYW1zIHRvIGxvY2FsIHN0b3JhZ2UhIikpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19fSx7a2V5OiJjbGVhbiIsdmFsdWU6ZnVuY3Rpb24oKXtlLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMua2V5KX19XSl9KCksST1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJTb2Z0cGhvbmUiXSl9cmV0dXJuIGYodCxlKSx5KHQpfShDKSksVD1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJSaW5ndG9uZSJdKX1yZXR1cm4gZih0LGUpLHkodCl9KEMpKTtmdW5jdGlvbiB3KGUpe3ZhciB0PWUubWF0Y2goL14oPzpodHRwcz86XC9cLyk/KD86W15AXG5dK0ApPyg/Ond3d1wuKT8oW146XC9cbj9dKykvZ2kpO3JldHVybiB0Lmxlbmd0aD90WzBdOiIifW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG0odGhpcyx0KSxwKHRoaXMsdCxbIkdsb2JhbFJlc2lsaWVuY3kiXSl9cmV0dXJuIGYodCxlKSx5KHQpfShDKSksdC5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXt0LmNvcmUuaW5pdGlhbGl6ZWQmJnQuZ2V0TG9nKCkud2FybigiQ29ubmVjdCBjb3JlIGFscmVhZHkgaW5pdGlhbGl6ZWQsIG9ubHkgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgb25jZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTt2YXIgQT1mdW5jdGlvbihlLG4pe3ZhciByPWUuZ2V0QWdlbnRTdGF0ZXMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dC5BZ2VudFN0YXRlVHlwZS5PRkZMSU5FfSkpO2Uuc2V0U3RhdGUocixuKX0sXz1mdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gU2lnbmFsIHNoYXJlZHdvcmtlciB0byBzZXQgY29udGFjdHMgc3VwcHJlc3NvciB0byAlcyBmb3IgaW5zdGFuY2UgJXMuIixlLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TVVBQUkVTUyx7c3VwcHJlc3M6ZSxzaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtOiExfSl9LFI9ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmluZm8oIltESVNBU1RFUiBSRUNPVkVSWV0gU2lnbmFsIHNoYXJlZHdvcmtlciB0byBzZXQgZm9yY2VPZmZsaW5lIHRvICVzIGZvciBpbnN0YW5jZSAlcy4iLGUsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUse29mZmxpbmU6ZSxuZXh0QWN0aXZlQXJuOm59KX0sTz1mdW5jdGlvbihlLG4pe3ZhciByPXQuZ2V0TG9nKCksbz10LmFnZW50LmluaXRpYWxpemVkP3QuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKTp0LmNvcmUucmVnaW9uO3IuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBdHRlbXB0aW5nIHRvIGZvcmNlIGluc3RhbmNlICIuY29uY2F0KG8sIiBvZmZsaW5lIHVzaW5nICIpLmNvbmNhdChlPyJzb2Z0IjoiaGFyZCIsIiBmYWlsb3ZlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYWdlbnQoKGZ1bmN0aW9uKG8pe3ZhciBpPTAsYT1vLmdldENvbnRhY3RzKCkscz0hMTtpZihhLmxlbmd0aCl7dmFyIGMsbD11KGEpO3RyeXtmb3IobC5zKCk7IShjPWwubigpKS5kb25lOyl7dmFyIHA9Yy52YWx1ZTtpZihzKWJyZWFrOyFlfHxwLmdldFR5cGUoKSE9PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJnAuZ2V0VHlwZSgpIT09dC5Db250YWN0VHlwZS5WT0lDRT9wLmdldEFnZW50Q29ubmVjdGlvbigpLmRlc3Ryb3koe3N1Y2Nlc3M6ZnVuY3Rpb24oKXsrK2k9PT1hLmxlbmd0aCYmKFIoITEsbiksQShvKSxyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgJXMgaXMgbm93IG9mZmxpbmUiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3Iud2FybigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBbiBlcnJvciBvY2N1cmVkIHdoaWxlIGF0dGVtcHRpbmcgdG8gZm9yY2UgdGhpcyBpbnN0YW5jZSB0byBvZmZsaW5lIGluIHJlZ2lvbiAlcyIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLndhcm4oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxSKCEwLG4pLHM9ITB9fSk6KHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBXaWxsIHdhaXQgdG8gY29tcGxldGUgZmFpbG92ZXIgb2YgaW5zdGFuY2UgJXMgdW50aWwgdm9pY2UgY29udGFjdCB3aXRoIElEICVzIGlzIGRlc3Ryb3llZCIsdC5jb3JlLnJlZ2lvbixwLmdldENvbnRhY3RJZCgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HLHtuZXh0QWN0aXZlQXJuOm59KSxwLm9uRGVzdHJveSgoZnVuY3Rpb24oZSl7ci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFZvaWNlIGNvbnRhY3Qgd2l0aCBJRCAlcyBkZXN0cm95ZWQsIGNvbnRpbnVpbmcgd2l0aCBmYWlsb3ZlciBpbiBpbnN0YW5jZSAlcyIsZS5nZXRDb250YWN0SWQoKSx0LmNvcmUucmVnaW9uKSxPKCEwLG4pfSkpKX19Y2F0Y2goZSl7bC5lKGUpfWZpbmFsbHl7bC5mKCl9fWVsc2UgUighMSxuKSxBKG8pLHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAlcyBpcyBub3cgb2ZmbGluZSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX07dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXc9ZnVuY3Rpb24oZSl7dmFyIG4scixvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiIixpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxhPWkucmVzb2x2ZUlmcmFtZSxzPXZvaWQgMD09PWF8fGEsYz1pLnRpbWVvdXQsdT12b2lkIDA9PT1jPzVlMzpjLGw9aS5oaWRlSWZyYW1lLHA9dm9pZCAwPT09bHx8bCxkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5xdWVyeVNlbGVjdG9yKG4pKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl8fHdpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl9O3I9bz8iIi5jb25jYXQoUykuY29uY2F0KG8pOiIiLmNvbmNhdChTKTt2YXIgaD1udWxsPT09KG49dC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5nZXQocikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvbnRhaW5lckRPTSxmPSJpZnJhbWVbaWQ9JyIuY29uY2F0KHIsIiddIiksZz1kKHIsaCxmKTtpZihnKXRyeXtnLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3RvcGljOiJsaWZlY3ljbGUudGVybWluYXRlZCJ9LGUpLHMmJihwJiYoZy5zdHlsZS5kaXNwbGF5PSJub25lIiksY29uc29sZS5pbmZvKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGlmcmFtZSBoaWRkZW4gZm9yIHJlc29sdXRpb24gZHVyaW5nIHRlcm1pbmF0aW9uIiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmFnZW50QXBwLnN0b3BBcHAociksZChyLGgsZik/Y29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGFwcGxpY2F0aW9uIGRpZCBub3Qgc3RvcCBzdWNjZXNzZnVsbHkgaW4gdGVybWluYXRlQ3VzdG9tVmlldyBvcGVyYXRpb24iKTpjb25zb2xlLmluZm8oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgYXBwbGljYXRpb24gc3VjY2Vzc2Z1bGx5IHN0b3BwZWQiKX0pLHUpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c10gRXJyb3IgaW4gdGVybWluYXRlQ3VzdG9tVmlldzogIixlKX1lbHNlIGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSB0ZXJtaW5hdGVDdXN0b21WaWV3IG9wZXJhdGlvbiBmYWlsZWQgZHVlIHRvIGlmcmFtZSBub3QgZm91bmQiKX0sdC5jb3JlLmluaXREaXNhc3RlclJlY292ZXJ5PWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10LmdldExvZygpO3QuY29yZS5yZWdpb249ZS5yZWdpb24sdC5jb3JlLnN1cHByZXNzQ29udGFjdHM9bnx8Xyx0LmNvcmUuZm9yY2VPZmZsaW5lPXJ8fE8sdC5jb3JlLmdldFVwc3RyZWFtKCkub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TRVRfT0ZGTElORSwoZnVuY3Rpb24oZSl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5GQUlMT1ZFUiwoZnVuY3Rpb24oKXt0LmNvcmUuZm9yY2VPZmZsaW5lKGUmJmUuc29mdEZhaWxvdmVyKX0pKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe3QuY29yZS5mb3JjZU9mZmxpbmUoZSYmZS5zb2Z0RmFpbG92ZXIsZSYmZS5uZXh0QWN0aXZlQXJuKX0pKX0pKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe28uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbml0aWFsaXppbmcgcmVnaW9uICVzIGFzIHBhcnQgb2YgYSBEaXNhc3RlciBSZWNvdmVyeSBmbGVldCIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLChmdW5jdGlvbigpe28uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSAlcyBhbHJlYWR5IHBhcnQgb2YgYSBEaXNhc3RlciBSZWNvdmVyeSBmbGVldCIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLnBvbGxGb3JGYWlsb3ZlciYmdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORz90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORyx7aW5zdGFuY2VBcm46ZS5pbnN0YW5jZUFybixvdGhlckFybjplLm90aGVyQXJuLGF1dGhUb2tlbjplLmF1dGhUb2tlbn0pOmUuaXNQcmltYXJ5Pyh0LmNvcmUuc3VwcHJlc3NDb250YWN0cyghMSksby5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldICVzIGluc3RhbmNlIGlzIHNldCB0byBwcmltYXJ5Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKToodC5jb3JlLnN1cHByZXNzQ29udGFjdHMoITApLHQuY29yZS5mb3JjZU9mZmxpbmUoKSxvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gJXMgaW5zdGFuY2UgaXMgc2V0IHRvIHN0YW5kLWJ5Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX0sdC5jb3JlLmluaXQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzLHQuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgRCh0LmNvcmUuZ2V0RXZlbnRCdXMoKSksdC5jb3JlLmluaXRDbGllbnQoZSksdC5jb3JlLmluaXRBZ2VudEFwcENsaWVudChlKSx0LmNvcmUuaW5pdFRhc2tUZW1wbGF0ZXNDbGllbnQoZSksdC5jb3JlLmluaXRpYWxpemVkPSEwfSx0LmNvcmUuaW5pdENsaWVudD1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIik7dmFyIG49dC5hc3NlcnROb3ROdWxsKGUuYXV0aFRva2VuLCJwYXJhbXMuYXV0aFRva2VuIikscj10LmFzc2VydE5vdE51bGwoZS5yZWdpb24sInBhcmFtcy5yZWdpb24iKSxvPWUuZW5kcG9pbnR8fG51bGw7dC5jb3JlLmNsaWVudD1uZXcgdC5BV1NDbGllbnQobixyLG8pfSx0LmNvcmUuaW5pdEFnZW50QXBwQ2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj10LmFzc2VydE5vdE51bGwoZS5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxyPXQuYXNzZXJ0Tm90TnVsbChlLmF1dGhDb29raWVOYW1lLCJwYXJhbXMuYXV0aENvb2tpZU5hbWUiKSxvPXQuYXNzZXJ0Tm90TnVsbChlLmFnZW50QXBwRW5kcG9pbnQsInBhcmFtcy5hZ2VudEFwcEVuZHBvaW50Iik7dC5jb3JlLmFnZW50QXBwQ2xpZW50PW5ldyB0LkFnZW50QXBwQ2xpZW50KHIsbixvKX0sdC5jb3JlLmluaXRUYXNrVGVtcGxhdGVzQ2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj1lLnRhc2tUZW1wbGF0ZXNFbmRwb2ludHx8ZS5lbmRwb2ludDt0LmFzc2VydE5vdE51bGwobiwidGFza1RlbXBsYXRlc0VuZHBvaW50IiksdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bmV3IHQuVGFza1RlbXBsYXRlc0NsaWVudChuKX0sdC5jb3JlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3QuY29yZS5jbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUuYXBpUHJveHlDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuTnVsbENsaWVudDt2YXIgZT10LmNvcmUuZ2V0RXZlbnRCdXMoKTtlJiZlLnVuc3Vic2NyaWJlQWxsKCksdC5jb3JlLmJ1cz1uZXcgdC5FdmVudEJ1cyx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bnVsbCx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1udWxsLHQuY29yZS51cHN0cmVhbT1udWxsLHQuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPW51bGwsdC5zdG9yYWdlQWNjZXNzLnJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlKCksdC5hZ2VudC5pbml0aWFsaXplZD0hMSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITF9LHQuY29yZS5zb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09bnVsbCx0LmNvcmUuc2V0U29mdHBob25lVXNlck1lZGlhU3RyZWFtPWZ1bmN0aW9uKGUpe3QuY29yZS5zb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09ZX0sdC5jb3JlLmluaXRSaW5ndG9uZUVuZ2luZXM9ZnVuY3Rpb24obixyKXt0LmdldExvZygpLmluZm8oIltSaW5ndG9uZSBFbmdpbmVdIGluaXRSaW5ndG9uZUVuZ2luZSBzdGFydGVkIikud2l0aE9iamVjdCh7cGFyYW1zOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYXNzZXJ0Tm90TnVsbChuLCJwYXJhbXMiKTt2YXIgbz1yfHxrLGk9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInJpbmd0b25lU2V0dGluZ3MiKSx0LmFzc2VydE5vdE51bGwoZS52b2ljZSwicmluZ3RvbmVTZXR0aW5ncy52b2ljZSIpLHQuYXNzZXJ0VHJ1ZShlLnZvaWNlLnJpbmd0b25lVXJsfHxlLnZvaWNlLmRpc2FibGVkLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlLnJpbmd0b25lVXJsIG11c3QgYmUgcHJvdmlkZWQgb3IgcmluZ3RvbmVTZXR0aW5ncy52b2ljZS5kaXNhYmxlZCBtdXN0IGJlIHRydWUiKSx0LmFzc2VydE5vdE51bGwoZS5xdWV1ZV9jYWxsYmFjaywicmluZ3RvbmVTZXR0aW5ncy5xdWV1ZV9jYWxsYmFjayIpLHQuYXNzZXJ0VHJ1ZShlLnF1ZXVlX2NhbGxiYWNrLnJpbmd0b25lVXJsfHxlLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlLnJpbmd0b25lVXJsIG11c3QgYmUgcHJvdmlkZWQgb3IgcmluZ3RvbmVTZXR0aW5ncy5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZCBtdXN0IGJlIHRydWUiKSx0LmNvcmUucmluZ3RvbmVFbmdpbmVzPXt9LHQuYWdlbnQoKGZ1bmN0aW9uKG4pe24ub25SZWZyZXNoKChmdW5jdGlvbigpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dmFyIG49ITE7ZS52b2ljZS5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy52b2ljZXx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMudm9pY2U9bmV3IHQuVm9pY2VSaW5ndG9uZUVuZ2luZShlLnZvaWNlKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiVm9pY2VSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmNoYXQuZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuY2hhdHx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuY2hhdD1uZXcgdC5DaGF0UmluZ3RvbmVFbmdpbmUoZS5jaGF0KSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiQ2hhdFJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUudGFzay5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy50YXNrfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy50YXNrPW5ldyB0LlRhc2tSaW5ndG9uZUVuZ2luZShlLnRhc2spLG49ITAsdC5nZXRMb2coKS5pbmZvKCJUYXNrUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5lbWFpbC5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy5lbWFpbHx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuZW1haWw9bmV3IHQuRW1haWxSaW5ndG9uZUVuZ2luZShlLmVtYWlsKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiRW1haWxSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnF1ZXVlX2NhbGxiYWNrfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy5xdWV1ZV9jYWxsYmFjaz1uZXcgdC5RdWV1ZUNhbGxiYWNrUmluZ3RvbmVFbmdpbmUoZS5xdWV1ZV9jYWxsYmFjayksbj0hMCx0LmdldExvZygpLmluZm8oIlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxuJiZ0LmNvcmUuX3JpbmdlckRldmljZUlkJiZvKHtkZXZpY2VJZDp0LmNvcmUuX3JpbmdlckRldmljZUlkfSl9KSl9KSl9KSksTCgpfSxhPWZ1bmN0aW9uKGUsbil7ZS5yaW5ndG9uZT1lLnJpbmd0b25lfHx7fSxlLnJpbmd0b25lLnZvaWNlPWUucmluZ3RvbmUudm9pY2V8fHt9LGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2s9ZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFja3x8e30sZS5yaW5ndG9uZS5jaGF0PWUucmluZ3RvbmUuY2hhdHx8e2Rpc2FibGVkOiEwfSxlLnJpbmd0b25lLnRhc2s9ZS5yaW5ndG9uZS50YXNrfHx7ZGlzYWJsZWQ6ITB9LGUucmluZ3RvbmUuZW1haWw9ZS5yaW5ndG9uZS5lbWFpbHx8e2Rpc2FibGVkOiEwfSxuLnNvZnRwaG9uZSYmKG4uc29mdHBob25lLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUudm9pY2UuZGlzYWJsZWQ9ITAsZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZD0hMCksbi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLnZvaWNlLnJpbmd0b25lVXJsPW4uc29mdHBob25lLnJpbmd0b25lVXJsLGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2sucmluZ3RvbmVVcmw9bi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwpKSxuLmNoYXQmJihuLmNoYXQuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS5jaGF0LmRpc2FibGVkPSEwKSxuLmNoYXQucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLmNoYXQucmluZ3RvbmVVcmw9bi5jaGF0LnJpbmd0b25lVXJsKSksbi50YXNrJiYobi50YXNrLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUudGFzay5kaXNhYmxlZD0hMCksbi50YXNrLnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS50YXNrLnJpbmd0b25lVXJsPW4udGFzay5yaW5ndG9uZVVybCkpLG4uZW1haWwmJihuLmVtYWlsLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUuZW1haWwuZGlzYWJsZWQ9ITApLG4uZW1haWwucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLmVtYWlsLnJpbmd0b25lVXJsPW4uZW1haWwucmluZ3RvbmVVcmwpKSxuLnJpbmd0b25lJiYoZS5yaW5ndG9uZS52b2ljZT10Lm1lcmdlKGUucmluZ3RvbmUudm9pY2Usbi5yaW5ndG9uZS52b2ljZXx8e30pLGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2s9dC5tZXJnZShlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrLG4ucmluZ3RvbmUudm9pY2V8fHt9KSxlLnJpbmd0b25lLmNoYXQ9dC5tZXJnZShlLnJpbmd0b25lLmNoYXQsbi5yaW5ndG9uZS5jaGF0fHx7fSksZS5yaW5ndG9uZS50YXNrPXQubWVyZ2UoZS5yaW5ndG9uZS50YXNrLG4ucmluZ3RvbmUudGFza3x8e30pLGUucmluZ3RvbmUuZW1haWw9dC5tZXJnZShlLnJpbmd0b25lLmVtYWlsLG4ucmluZ3RvbmUuZW1haWx8fHt9KSl9O2lmKGEobixuKSx0LmlzRnJhbWVkKCkpe3ZhciBzO3QuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKHIpe2UuY2xlYXJUaW1lb3V0KHMpLHQuZ2V0TG9nKCkuaW5mbygiW1Jpbmd0b25lIEVuZ2luZV0gQ29uZmlndXJlIGV2ZW50IGhhbmRsZXIgZXhlY3V0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMudW5zdWJzY3JpYmUoKSxhKG4sciksVC5zZXQobi5yaW5ndG9uZSksaShuLnJpbmd0b25lKX0pKTt2YXIgYz1ULmdldCgpO2MmJnQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKG4pe24mJm4uaWQmJih0LmdldExvZygpLmluZm8oIltSaW5ndG9uZUVuZ2luZV0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHkgYW5kIHdhaXRpbmcgZm9yIGNvbmZpZ3VyZSBNZXNzYWdlIGhhbmRsZXIgdG8gZXhlY3V0ZSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy51bnN1YnNjcmliZSgpLHM9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZ2V0TG9nKCkuaW5mbygiW1Jpbmd0b25lRW5naW5lXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHdpdGhvdXQgY29uZmlndXJlIG1lc3NhZ2UgJiBJbml0aWFsaXppbmcgc2V0dXBSaW5ndG9uZUVuZ2luZXMgKFJpbmd0b25lIEVuZ2luZSkgZnJvbSBsb2NhbFN0b3JhZ2UgcmluZ3RvbmUgcGFyYW1zLiAiKS53aXRoT2JqZWN0KHtyaW5ndG9uZTpjfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKGMpfSksMTAwKSl9KSl9ZWxzZSBpKG4ucmluZ3RvbmUpfTt2YXIgTD1mdW5jdGlvbigpe3QuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1JJTkdFUl9ERVZJQ0Usayl9LGs9ZnVuY3Rpb24oKXt2YXIgZT0oYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9KS5kZXZpY2VJZHx8IiI7aWYodC5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBBdHRlbXB0aW5nIHRvIHNldCByaW5nZXIgZGV2aWNlICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLDA9PT10LmtleXModC5jb3JlLnJpbmd0b25lRW5naW5lcykubGVuZ3RoKXJldHVybiB0LmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIHNldFJpbmdlckRldmljZSBjYWxsZWQgYmVmb3JlIHJpbmd0b25lIGVuZ2luZSBpcyBpbml0aWFsaXplZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZChlJiYodC5jb3JlLl9yaW5nZXJEZXZpY2VJZD1lLHQuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gc3RvcmVkIGRldmljZSBJZCBmb3IgbGF0ZXIgdXNlLCBvbmNlIHJpbmd0b25lIGVuZ2luZSBpcyB1cC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQucHVibGlzaE1ldHJpYyh7bmFtZToiU2V0UmluZ2VyRGV2aWNlQmVmb3JlSW5pdFJpbmd0b25lRW5naW5lIixkYXRhOntjb3VudDoxfX0pKSk7aWYoZSl7dmFyIG49ZnVuY3Rpb24obil7dC5jb3JlLnJpbmd0b25lRW5naW5lc1tuXS5zZXRPdXRwdXREZXZpY2UoZSkudGhlbigoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSByaW5ndG9uZVR5cGUgIi5jb25jYXQobiwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gZGV2aWNlaWQgIikuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKGUpfSkpfTtmb3IodmFyIHIgaW4gdC5jb3JlLnJpbmd0b25lRW5naW5lcyluKHIpO3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5SSU5HRVJfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX1lbHNlIHQuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyByaW5nZXIgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBkZXZpY2VJZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9O3QuY29yZS5pbml0U29mdHBob25lTWFuYWdlcj1mdW5jdGlvbihuKXt2YXIgcj1ufHx7fTt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gaW5pdFNvZnRwaG9uZU1hbmFnZXIgc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIG49dC5tZXJnZShyLnNvZnRwaG9uZXx8e30sZSk7dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGNvbXBldGVGb3JNYXN0ZXJPbkFnZW50VXBkYXRlIGV4ZWN1dGVkIikud2l0aE9iamVjdCh7c29mdHBob25lUGFyYW1zOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYWdlbnQoKGZ1bmN0aW9uKGUpe2UuZ2V0Q2hhbm5lbENvbmN1cnJlbmN5KHQuQ2hhbm5lbFR5cGUuVk9JQ0UpJiZlLm9uUmVmcmVzaCgoZnVuY3Rpb24oKXt2YXIgcj10aGlzO3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBhZ2VudCByZWZyZXNoIGhhbmRsZXIgZXhlY3V0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FLChmdW5jdGlvbigpe3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBjb25maXJtZWQgYXMgc29mdHBob25lIG1hc3RlciB0b3BpYyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksIXQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiZlLmlzU29mdHBob25lRW5hYmxlZCgpJiYodC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bmV3IHQuU29mdHBob25lTWFuYWdlcihuKSxyLnVuc3Vic2NyaWJlKCkpfSkpfSkpfSkpfTtpZih0LmlzRnJhbWVkKCkmJnQuaXNDQ1AoKSl7dmFyIGk7dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24obil7ZS5jbGVhclRpbWVvdXQoaSksdC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIENvbmZpZ3VyZSBldmVudCBoYW5kbGVyIGV4ZWN1dGVkIikud2l0aE9iamVjdCh7ZGF0YTpufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxJLnNldChuLnNvZnRwaG9uZSksbi5zb2Z0cGhvbmUmJm4uc29mdHBob25lLmFsbG93RnJhbWVkU29mdHBob25lJiYodGhpcy51bnN1YnNjcmliZSgpLG8obi5zb2Z0cGhvbmUpKSxzKG4uc29mdHBob25lKX0pKTt2YXIgYT1JLmdldCgpO2EmJnQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKG4pe24mJm4uaWQmJih0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHkgYW5kIHdhaXRpbmcgZm9yIGNvbmZpZ3VyZSBNZXNzYWdlIGhhbmRsZXIgdG8gZXhlY3V0ZSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy51bnN1YnNjcmliZSgpLGk9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHdpdGhvdXQgY29uZmlndXJlIG1lc3NhZ2UgaGFuZGxlciBleGVjdXRpb24iKS53aXRoT2JqZWN0KHtzb2Z0cGhvbmVQYXJhbXNGcm9tTG9jYWxTdG9yYWdlOmF9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQucHVibGlzaE1ldHJpYyh7bmFtZToiRW1iZWRkZWRDQ1BSZWZyZXNoZWRXaXRob3V0SW5pdENDUCIsZGF0YTp7Y291bnQ6MX19KSxzKGEpLGEuYWxsb3dGcmFtZWRTb2Z0cGhvbmUmJih0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCAmIEluaXRpYWxpemluZyBjb21wZXRlRm9yTWFzdGVyT25BZ2VudFVwZGF0ZSAoU29mdHBob25lIG1hbmFnZXIpIGZyb20gbG9jYWxTdG9yYWdlIHNvZnRwaG9uZSBwYXJhbXMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oYSkpfSksMTAwKSl9KSl9ZWxzZSBvKHIpLHMocik7ZnVuY3Rpb24gcyhlKXt2YXIgbj10Lm1lcmdlKHIuc29mdHBob25lfHx7fSxlKTt0LmNvcmUuc29mdHBob25lUGFyYW1zPW4sdC5pc0ZpcmVmb3hCcm93c2VyKCkmJih0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSwoZnVuY3Rpb24oZSl7ZS5kYXRhJiZlLmRhdGEudG9waWM9PT10Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUmJmUuZGF0YS50YWtlT3ZlciYmZS5kYXRhLm1hc3RlcklkIT09dC5jb3JlLnBvcnRTdHJlYW1JZCYmdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJih0LmNvcmUuc29mdHBob25lTWFuYWdlci5vbkluaXRDb250YWN0U3ViLnVuc3Vic2NyaWJlKCksZGVsZXRlIHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyKX0pKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04sKGZ1bmN0aW9uKCl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUsKGZ1bmN0aW9uKCl7dC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJnQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnN0YXJ0U2Vzc2lvbigpfSksKGZ1bmN0aW9uKCl7dC5iZWNvbWVNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FLChmdW5jdGlvbigpe3QuYWdlbnQoKGZ1bmN0aW9uKGUpeyF0LmNvcmUuc29mdHBob25lTWFuYWdlciYmZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKHQuYmVjb21lTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNFTkRfTE9HUyksdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bmV3IHQuU29mdHBob25lTWFuYWdlcihuKSx0LmNvcmUuc29mdHBob25lTWFuYWdlci5zdGFydFNlc3Npb24oKSl9KSl9KSl9KSl9KSksdC5jb250YWN0KChmdW5jdGlvbihlKXt0LmFnZW50KChmdW5jdGlvbihuKXtlLm9uUmVmcmVzaCgoZnVuY3Rpb24oZSl7aWYodC5oYXNPdGhlckNvbm5lY3RlZENDUHMoKSYmInZpc2libGUiPT09ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiYoZS5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HfHxlLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbnRhY3RTdGF0dXNUeXBlLklOQ09NSU5HKSl7dmFyIHI9ZS5pc1NvZnRwaG9uZUNhbGwoKSYmIWUuaXNJbmJvdW5kKCksbz1lLmlzU29mdHBob25lQ2FsbCgpJiZuLmdldENvbmZpZ3VyYXRpb24oKS5zb2Z0cGhvbmVBdXRvQWNjZXB0LGk9ZS5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlFVRVVFX0NBTExCQUNLOyhyfHxvfHxpKSYmdC5jb3JlLnRyaWdnZXJSZWFkeVRvU3RhcnRTZXNzaW9uRXZlbnQoKX19KSl9KSl9KSkpfXQuYWdlbnQoKGZ1bmN0aW9uKGUpe2UuaXNTb2Z0cGhvbmVFbmFibGVkKCkmJmUuZ2V0Q2hhbm5lbENvbmN1cnJlbmN5KHQuQ2hhbm5lbFR5cGUuVk9JQ0UpJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkV2ZW50VHlwZS5NVVRFfSl9KSl9LHQuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50PWZ1bmN0aW9uKCl7dmFyIGU9dC5jb3JlLnNvZnRwaG9uZVBhcmFtcyYmdC5jb3JlLnNvZnRwaG9uZVBhcmFtcy5hbGxvd0ZyYW1lZFNvZnRwaG9uZTt0LmlzQ0NQKCk/ZT90LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTp0LmlzRnJhbWVkKCk/dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOnQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOmU/dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTp0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKX0sdC5jb3JlLmluaXRQYWdlT3B0aW9ucz1mdW5jdGlvbihlKXtpZih0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIiksdC5pc0ZyYW1lZCgpKXt2YXIgbj10LmNvcmUuZ2V0RXZlbnRCdXMoKTtuLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5DT05GSUdVUkUsZGF0YTplfSl9KSksbi5zdWJzY3JpYmUodC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFUVVFU1QsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVTUE9OU0UsZSl9bmF2aWdhdG9yJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzP25hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2RldmljZXM9dHx8W10sZGV2aWNlcz1kZXZpY2VzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9KU09OKCl9KSksZShkZXZpY2VzKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZSh7ZXJyb3I6dC5tZXNzYWdlfSl9KSk6ZSh7ZXJyb3I6Ik5vIG5hdmlnYXRvciBvciBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIG9iamVjdCBmb3VuZCJ9KX0pKX19LHQuY29yZS5pbml0QXBpUHJveHlTZXJ2aWNlPWZ1bmN0aW9uKCl7dC5jb3JlLmFwaVByb3h5Q2xpZW50PW5ldyB0LkFwaVByb3h5Q2xpZW50LHQuaXNGcmFtZWQoKSYmKHQuY29yZS5oYW5kbGVBcGlQcm94eVJlcXVlc3Q9ZnVuY3Rpb24oZSl7bnVsbCE9ZSYmZS5tZXRob2QmJnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLmNhbGwoZS5tZXRob2QsZS5wYXJhbXMse3N1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIHI9e2RhdGE6bixyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWR9O3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9SRVNQT05TRSxyKX0sZmFpbHVyZTpmdW5jdGlvbihuKXt2YXIgcj17ZXJyOm4scmVxdWVzdElkOmUucmVxdWVzdElkfTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0Uscil9fSl9KX0sdC5jb3JlLmdldEZyYW1lTWVkaWFEZXZpY2VzPWZ1bmN0aW9uKGUpe3ZhciBuPW51bGwscj1lfHwxZTMsbz1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QobmV3IEVycm9yKCJUaW1lb3V0IGV4Y2VlZGVkIikpfSkscil9KSksaT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXtpZih0LmlzQ0NQKCkpbmF2aWdhdG9yJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzP25hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2RldmljZXM9dHx8W10sZGV2aWNlcz1kZXZpY2VzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9KU09OKCl9KSksZShkZXZpY2VzKX0pKTpyKG5ldyBFcnJvcigiTm8gbmF2aWdhdG9yIG9yIG5hdmlnYXRvci5tZWRpYURldmljZXMgb2JqZWN0IGZvdW5kIikpO2Vsc2V7dmFyIG89dC5jb3JlLmdldEV2ZW50QnVzKCk7bj1vLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVTUE9OU0UsKGZ1bmN0aW9uKHQpe3QuZXJyb3I/cihuZXcgRXJyb3IodC5lcnJvcikpOmUodCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVFVRVNUKX19KSk7cmV0dXJuIFByb21pc2UucmFjZShbaSxvXSkuZmluYWxseSgoZnVuY3Rpb24oKXtuJiZuLnVuc3Vic2NyaWJlKCl9KSl9LHQuY29yZS5hdXRob3JpemU9ZnVuY3Rpb24oZSl7dmFyIG49ZTtyZXR1cm4gbnx8KG49dC5jb3JlLmlzTGVnYWN5RG9tYWluKCk/ZDpsKSx0LmZldGNoKG4se2NyZWRlbnRpYWxzOiJpbmNsdWRlIn0sMmUzLDUpfSx0LmNvcmUudmVyaWZ5RG9tYWluQWNjZXNzPWZ1bmN0aW9uKGUsbil7aWYodC5nZXRMb2coKS53YXJuKCJUaGlzIEFQSSB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiByZWxlYXNlIiksIXQuaXNGcmFtZWQoKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7dmFyIHI9e2hlYWRlcnM6eyJYLUFtei1CZWFyZXIiOmV9fSxvPW51bGw7cmV0dXJuIG89bnx8KHQuY29yZS5pc0xlZ2FjeURvbWFpbigpPyIvY29ubmVjdC93aGl0ZWxpc3RlZC1vcmlnaW5zIjoiL3doaXRlbGlzdGVkLW9yaWdpbnMiKSx0LmZldGNoKG8sciwyZTMsNSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9dyh3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXIpO3JldHVybiBlLndoaXRlbGlzdGVkT3JpZ2lucy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gdD09PXcoZSl9KSk/UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZWplY3QoKX0pKX0sdC5jb3JlLmlzTGVnYWN5RG9tYWluPWZ1bmN0aW9uKGUpe3JldHVybihlPWV8fHdpbmRvdy5sb2NhdGlvbi5ocmVmKS5pbmNsdWRlcygiLmF3c2FwcHMuY29tIil9LHQuY29yZS5pbml0U2hhcmVkV29ya2VyPWZ1bmN0aW9uKG4pe2lmKHQuY29yZS5jaGVja05vdEluaXRpYWxpemVkKCksIXQuY29yZS5pbml0aWFsaXplZCl7dC5hc3NlcnROb3ROdWxsKG4sInBhcmFtcyIpO3ZhciByPXQuYXNzZXJ0Tm90TnVsbChuLnNoYXJlZFdvcmtlclVybCwicGFyYW1zLnNoYXJlZFdvcmtlclVybCIpLG89dC5hc3NlcnROb3ROdWxsKG4uYXV0aFRva2VuLCJwYXJhbXMuYXV0aFRva2VuIiksaT10LmFzc2VydE5vdE51bGwobi5yZWZyZXNoVG9rZW4sInBhcmFtcy5yZWZyZXNoVG9rZW4iKSxhPXQuYXNzZXJ0Tm90TnVsbChuLmF1dGhUb2tlbkV4cGlyYXRpb24sInBhcmFtcy5hdXRoVG9rZW5FeHBpcmF0aW9uIikscz10LmFzc2VydE5vdE51bGwobi5yZWdpb24sInBhcmFtcy5yZWdpb24iKSxjPW4uZW5kcG9pbnR8fG51bGwsdT1uLmF1dGhvcml6ZUVuZHBvaW50O3V8fCh1PXQuY29yZS5pc0xlZ2FjeURvbWFpbigpP2Q6bCk7dmFyIHA9bi5hZ2VudEFwcEVuZHBvaW50fHxudWxsLGg9bi50YXNrVGVtcGxhdGVzRW5kcG9pbnR8fG51bGwsZj1uLmF1dGhDb29raWVOYW1lfHxudWxsO3RyeXt0LmNvcmUuZXZlbnRCdXM9bmV3IHQuRXZlbnRCdXMoe2xvZ0V2ZW50czohMH0pLHQuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgRCh0LmNvcmUuZ2V0RXZlbnRCdXMoKSksdC5jb3JlLm1lZGlhRmFjdG9yeT1uZXcgdC5NZWRpYUZhY3Rvcnkobik7dmFyIGc9bmV3IFNoYXJlZFdvcmtlcihyLCJDb25uZWN0U2hhcmVkV29ya2VyIiksbT1uZXcgdC5Db25kdWl0KCJDb25uZWN0U2hhcmVkV29ya2VyQ29uZHVpdCIsbmV3IHQuUG9ydFN0cmVhbShnLnBvcnQpLG5ldyB0LldpbmRvd0lPU3RyZWFtKHdpbmRvdyxwYXJlbnQpKTt0LmNvcmUudXBzdHJlYW09bSx0LmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IFAsZS5vbnVubG9hZD1mdW5jdGlvbigpe20uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNMT1NFKSxnLnBvcnQuY2xvc2UoKX0sdC5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtTG9nUHVzaChtKSx0LmdldExvZygpLnNjaGVkdWxlRG93bnN0cmVhbUNsaWVudFNpZGVMb2dzUHVzaCgpLG0ub25BbGxVcHN0cmVhbSh0LmNvcmUuZ2V0RXZlbnRCdXMoKS5icmlkZ2UoKSksbS5vbkFsbFVwc3RyZWFtKG0ucGFzc0Rvd25zdHJlYW0oKSksdC5pc0ZyYW1lZCgpJiYobS5vbkFsbERvd25zdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLG0ub25BbGxEb3duc3RyZWFtKChmdW5jdGlvbihlLG4pe249PT10LkV2ZW50VHlwZS5BUElfUkVRVUVTVCYmdC5jb250YWluc1ZhbHVlKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLG51bGw9PWU/dm9pZCAwOmUubWV0aG9kKT90LmNvcmUuaGFuZGxlQXBpUHJveHlSZXF1ZXN0KGUpOm0ucGFzc1Vwc3RyZWFtKCkoZSxuKX0pKSksbS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQ09ORklHVVJFLHthdXRoVG9rZW46byxhdXRoVG9rZW5FeHBpcmF0aW9uOmEsZW5kcG9pbnQ6YyxyZWZyZXNoVG9rZW46aSxyZWdpb246cyxhdXRob3JpemVFbmRwb2ludDp1LGFnZW50QXBwRW5kcG9pbnQ6cCx0YXNrVGVtcGxhdGVzRW5kcG9pbnQ6aCxhdXRoQ29va2llTmFtZTpmLGxvbmdQb2xsaW5nT3B0aW9uczpuLmxvbmdQb2xsaW5nT3B0aW9uc3x8dm9pZCAwfSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ29ubmVjdFNoYXJlZFdvcmtlciEiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5pbml0aWFsaXplZD0hMCx0LmNvcmUuX3NldFRhYklkKCksdC5jb3JlLnBvcnRTdHJlYW1JZD1lLmlkLHRoaXMudW5zdWJzY3JpYmUoKX0pKSxtLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXtlLmxvZ2dlcklkIT09dC5nZXRMb2coKS5nZXRMb2dnZXJJZCgpJiZ0LmdldExvZygpLmFkZExvZ0VudHJ5KHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuc2VuZEludGVybmFsTG9nRW50cnlUb1NlcnZlcih0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG0ub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csKGZ1bmN0aW9uKGUpe3QuaXNGcmFtZWQoKSYmQXJyYXkuaXNBcnJheShlKSYmZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXIodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKX0pKSxtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5MT0csKGZ1bmN0aW9uKGUpe3QuaXNGcmFtZWQoKSYmZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5vbkF1dGhGYWlsKHQuaGl0Y2godC5jb3JlLHQuY29yZS5faGFuZGxlQXV0aEZhaWwsbi5sb2dpbkVuZHBvaW50fHxudWxsLHUpKSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzKHQuaGl0Y2godC5jb3JlLHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2VzcykpLHQuZ2V0TG9nKCkuaW5mbygiVXNlciBBZ2VudDogIituYXZpZ2F0b3IudXNlckFnZW50KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiaXNDQ1B2MjogIishMCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oImlzRnJhbWVkOiAiK3QuaXNGcmFtZWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUudXBzdHJlYW0ub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTywoZnVuY3Rpb24oZSl7dmFyIG49ZS5zdHJlYW1zVmVyc2lvbnx8bnVsbDt0LmdldExvZygpLmluZm8oIlN0cmVhbXNKUyBWZXJzaW9uOiAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5vdXRlckNvbnRleHRTdHJlYW1zVmVyc2lvbj1ufSkpLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiTnVtYmVyIG9mIGNvbm5lY3RlZCBDQ1BzIHVwZGF0ZWQ6ICIrZS5sZW5ndGgpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5udW1iZXJPZkNvbm5lY3RlZENDUHM9ZS5sZW5ndGgsZVt0LmNvcmUudGFiSWRdJiYhaXNOYU4oZVt0LmNvcmUudGFiSWRdLmxlbmd0aCkmJnQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiIT09ZVt0LmNvcmUudGFiSWRdLmxlbmd0aCYmKHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPWVbdC5jb3JlLnRhYklkXS5sZW5ndGgsdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWI+MSYmdC5nZXRMb2coKS53YXJuKCJUaGVyZSBhcmUgIit0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYisiIGNvbm5lY3RlZCBDQ1BzIGluIHRoaXMgdGFiLiBQbGVhc2UgYWRqdXN0IHlvdXIgaW1wbGVtZW50YXRpb24gdG8gYXZvaWQgY29tcGxpY2F0aW9ucy4gSWYgeW91IGFyZSBlbWJlZGRpbmcgQ0NQLCBwbGVhc2UgZG8gc28gZXhjbHVzaXZlbHkgd2l0aCBpbml0Q0NQLiBJbml0Q0NQIHdpbGwgbm90IGxldCB5b3UgZW1iZWQgbW9yZSB0aGFuIG9uZSBDQ1AuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNvbm5lY3RlZENDUFNpbmdsZVRhYkNvdW50IixkYXRhOntjb3VudDp0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYn19KSksZS50YWJJZCYmZS5zdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXImJnQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuTUVUUklDUywoZnVuY3Rpb24oKXtyZXR1cm4gdC5hZ2VudCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDQ1BUYWJzQWNyb3NzQnJvd3NlckNvdW50IixkYXRhOnt0YWJJZDplLnRhYklkLGNvdW50OmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyfX0pfSkpfSkpfSkpLHQuY29yZS5jbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0Q2xpZW50KG0pLHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KG0pLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEUsbS5wYXNzVXBzdHJlYW0oKSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLnJlbG9hZCghMCl9KSksZy5wb3J0LnN0YXJ0KCksbS5vblVwc3RyZWFtKHQuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELChmdW5jdGlvbihlKXtlJiZlLmRvbWFpbklkJiYodC5jb3JlLnZvaWNlSWREb21haW5JZD1lLmRvbWFpbklkKX0pKSx0LmFnZW50KChmdW5jdGlvbigpeyhuZXcgdC5Wb2ljZUlkKS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygidm9pY2VJZCBkb21haW5JZCBzdWNjZXNzZnVsbHkgZmV0Y2hlZCBhdCBhZ2VudCBpbml0aWFsaXphdGlvbjogIitlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInZvaWNlSWQgZG9tYWluSWQgbm90IGZldGNoZWQgYXQgYWdlbnQgaW5pdGlhbGl6YXRpb24iKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSksdC5jb3JlLmdldE5vdGlmaWNhdGlvbk1hbmFnZXIoKS5yZXF1ZXN0UGVybWlzc2lvbigpLG0ub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RJU0FTVEVSX1JFQ09WRVJZLChmdW5jdGlvbihlKXt0LmNvcmUuaW5pdERpc2FzdGVyUmVjb3ZlcnkoZSl9KSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIEFQSSBzaGFyZWQgd29ya2VyLCB3ZSdyZSBkZWFkISIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19fSx0LmNvcmUuX3NldFRhYklkPWZ1bmN0aW9uKCl7dHJ5e3QuY29yZS50YWJJZD13aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5UQUJfSUQpLHQuY29yZS50YWJJZHx8KHQuY29yZS50YWJJZD10LnJhbmRvbUlkKCksd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuVEFCX0lELHQuY29yZS50YWJJZCkpLHQuY29yZS51cHN0cmVhbS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuVEFCX0lELHt0YWJJZDp0LmNvcmUudGFiSWR9KX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbVGFiIElkXSBUaGVyZSB3YXMgYW4gaXNzdWUgc2V0dGluZyB0aGUgdGFiIElkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLnNldHVwQXV0aGVudGljYXRpb25FdmVudEhhbmRsZXJzPWZ1bmN0aW9uKGUsbixyKXt2YXIgbzt0LmNvcmUubG9naW5BY2tUaW1lb3V0U3ViPXQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5hdXRoZW50aWNhdGUoZSxuLHIpfSkpLG51bGwhPT0obz1lLmxvZ2luT3B0aW9ucykmJnZvaWQgMCE9PW8mJm8uZW5hYmxlQWNrVGltZW91dHx8KHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEVELChmdW5jdGlvbigpe3QuZ2V0TG9nKCkud2FybigiVEVSTUlOQVRFRCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuYXV0aGVudGljYXRlKGUsbixyKX0pKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSF9GQUlMLChmdW5jdGlvbigpe3QuZ2V0TG9nKCkud2FybigiQVVUSF9GQUlMIG9jY3VycmVkLiBBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5hdXRoZW50aWNhdGUoZSxuLHIpfSkpKX0sdC5jb3JlLmluaXRDQ1A9ZnVuY3Rpb24ocixvKXt2YXIgaSxhO2lmKHQuY29yZS5jaGVja05vdEluaXRpYWxpemVkKCksIXQuY29yZS5pbml0aWFsaXplZCl7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGM9RGF0ZS5ub3coKTt0cnl7aWYodC5jb3JlLl9nZXRDQ1BJZnJhbWUoKSlyZXR1cm4gdm9pZCB0LmdldExvZygpLmVycm9yKCJBdHRlbXB0ZWQgdG8gY2FsbCBpbml0Q0NQIHdoZW4gYW4gaWZyYW1lIGdlbmVyYXRlZCBieSBpbml0Q0NQIGFscmVhZHkgZXhpc3RzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGlsZSBjaGVja2luZyBpZiBpbml0Q0NQIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXZhciB1PXt9LGw9dm9pZCAwO2lmKCJzdHJpbmciPT10eXBlb2Ygbz91LmNjcFVybD1vOih1PW8pLnByb3ZpZGVyJiYobD11LnByb3ZpZGVyLGRlbGV0ZSB1LnByb3ZpZGVyKSx0LmFzc2VydE5vdE51bGwociwiY29udGFpbmVyRGl2IiksdC5hc3NlcnROb3ROdWxsKHUuY2NwVXJsLCJwYXJhbXMuY2NwVXJsIiksbCl0cnl7dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhPXtwcm92aWRlcjpsLGlzU3RyZWFtc1Byb3ZpZGVyOiExfSx0LmdldExvZygpLmluZm8oIlVzaW5nIEFtYXpvbkNvbm5lY3RQcm92aWRlciBmcm9tIHBhcmFtcyIpLndpdGhPYmplY3Qoe3Byb3ZpZGVySWQ6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLmlkLHByb3ZpZGVyVHlwZTp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuY29uc3RydWN0b3IubmFtZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHVwIEFtYXpvbkNvbm5lY3RQcm92aWRlciBmcm9tIHBhcmFtcyIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIHRyeXt2YXIgcCxkLGY9big0NjMpLG09Zi5BbWF6b25Db25uZWN0U3RyZWFtc1NpdGUseT1mLkFtYXpvbkNvbm5lY3RHUlN0cmVhbXNTaXRlLFM9bmV3IFVSTCh1LmNjcFVybCkub3JpZ2luO2lmKCEwPT09KG51bGw9PT0ocD11KXx8dm9pZCAwPT09cD92b2lkIDA6cC5lbmFibGVHbG9iYWxSZXNpbGllbmN5KSYmbnVsbCE9PShkPXUpJiZ2b2lkIDAhPT1kJiZkLnNlY29uZGFyeUNDUFVybCl7dmFyIEU9e3ByaW1hcnlJbnN0YW5jZVVybDpTLHNlY29uZGFyeUluc3RhbmNlVXJsOm5ldyBVUkwodS5zZWNvbmRhcnlDQ1BVcmwpLm9yaWdpbn07dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhPXMocyh7fSx5LmluaXQoRSkpLHt9LHtpc1N0cmVhbXNQcm92aWRlcjohMCxpc0FDR1JFbmFibGVkOiEwfSksdC5nZXRMb2coKS5pbmZvKCJbR1JdIENyZWF0ZWQgQW1hem9uQ29ubmVjdEdSU3RyZWFtc1NpdGUiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSBFPXtpbnN0YW5jZVVybDpTfSx0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGE9cyhzKHt9LG0uaW5pdChFKSkse30se2lzU3RyZWFtc1Byb3ZpZGVyOiEwfSksdC5nZXRMb2coKS5pbmZvKCJDcmVhdGVkIEFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSIpLndpdGhPYmplY3Qoe3Byb3ZpZGVySWQ6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLmlkfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGVuIHNldHRpbmcgdXAgQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXQuY29yZS5pZnJhbWVTdHlsZT11LnN0eWxlfHwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiLG51bGwhPT0oaT11LnNvZnRwaG9uZSkmJnZvaWQgMCE9PWkmJmkuZGlzYWJsZVN0b3JpbmdQYXJhbXNJbkxvY2FsU3RvcmFnZXx8KEkuY2xlYW4oKSxULmNsZWFuKCkpO3ZhciBDLHcsQSxSLE89bnVsbDtpZighMD09PShudWxsPT09KGE9dSl8fHZvaWQgMD09PWE/dm9pZCAwOmEuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSkpaWYoInN0cmluZyIhPXR5cGVvZihudWxsPT09KEM9dSl8fHZvaWQgMD09PUM/dm9pZCAwOkMuc2Vjb25kYXJ5Q0NQVXJsKXx8IiI9PT0obnVsbD09PSh3PXUpfHx2b2lkIDA9PT13P3ZvaWQgMDp3LnNlY29uZGFyeUNDUFVybCkpe3ZhciBMPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBzZWNvbmRhcnlDQ1BVcmwgd2FzIG5vdCBwcm92aWRlZC4gR2xvYmFsIFJlc2lsaWVuY3kgd2lsbCBub3QgYmUgZW5hYmxlZCI7dC5nZXRMb2coKS5lcnJvcihMKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLE89e2V2ZW50OnQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfRVJST1IsZGF0YTpuZXcgRXJyb3IoTCl9fWVsc2V7aWYoInN0cmluZyI9PXR5cGVvZihudWxsPT09KEE9dSl8fHZvaWQgMD09PUE/dm9pZCAwOkEubG9naW5VcmwpJiYiIiE9PShudWxsPT09KFI9dSl8fHZvaWQgMD09PVI/dm9pZCAwOlIubG9naW5VcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCBhbmQgc2Vjb25kYXJ5Q0NQVXJsIGFuZCBsb2dpblVybCB3YXMgcHJvdmlkZWQuIEdsb2JhbCBSZXNpbGllbmN5IHdpbGwgYmUgZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nbG9iYWxSZXNpbGllbmN5LmluaXRHUkNDUChyLG8pO3ZhciBrPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBsb2dpblVybCB3YXMgbm90IHByb3ZpZGVkLiBHbG9iYWwgUmVzaWxpZW5jeSB3aWxsIG5vdCBiZSBlbmFibGVkIjt0LmdldExvZygpLmVycm9yKGspLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksTz17ZXZlbnQ6dC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixkYXRhOm5ldyBFcnJvcihrKX19dC5zdG9yYWdlQWNjZXNzLmluaXQodS5jY3BVcmwscix1LnN0b3JhZ2VBY2Nlc3N8fHt9KTt2YXIgeD10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShyLHUpLE09bmV3IHQuSUZyYW1lQ29uZHVpdCh1LmNjcFVybCx3aW5kb3cseCk7dC5jb3JlLnVwc3RyZWFtPU0sdC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpP3Quc3RvcmFnZUFjY2Vzcy5zZXR1cFJlcXVlc3RIYW5kbGVycyh7b25HcmFudDpVfSk6VSgpfWZ1bmN0aW9uIFUoKXt0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IEQodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KHUpLHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoeCxNKSx0LmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IFAsTS5vbkFsbFVwc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlcj1uZXcgTihNLHQuY29yZS5nZXRFdmVudEJ1cygpLHUuY2NwU3luVGltZW91dHx8MWUzLHUuY2NwQWNrVGltZW91dHx8M2UzKSx0LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkFDS19USU1FT1VUKSx0LmdldExvZygpLmluZm8oIkNDUCBMb2FkVGltZW91dCB0cmlnZ2VyZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSksdS5jY3BMb2FkVGltZW91dHx8NWUzKSx0LmdldExvZygpLnNjaGVkdWxlVXBzdHJlYW1PdXRlckNvbnRleHRDQ1BMb2dzUHVzaChNKSx0LmdldExvZygpLnNjaGVkdWxlVXBzdHJlYW1PdXRlckNvbnRleHRDQ1BzZXJ2ZXJCb3VuZExvZ3NQdXNoKE0pLE0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24obil7dC5nZXRMb2coKS5pbmZvKCJBY2tub3dsZWRnZWQgYnkgdGhlIENDUCEiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5jbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0Q2xpZW50KE0pLHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KE0pLHQuY29yZS5wb3J0U3RyZWFtSWQ9bi5pZCx0LmNvcmUuc2VuZENvbmZpZ3VyZSh1LE0sITEpLHQuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0KHUsTSwhMSksdS5kaXNhc3RlclJlY292ZXJ5T24mJih0LmNvcmUucmVnaW9uPXUucmVnaW9uLHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzPV8sdC5jb3JlLmZvcmNlT2ZmbGluZT1mdW5jdGlvbihlKXtNLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU0VUX09GRkxJTkUsZSl9LE0uc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RJU0FTVEVSX1JFQ09WRVJZLHUpKSx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSYmKGUuY2xlYXJUaW1lb3V0KHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlKSx0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsKSxNLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8se3N0cmVhbXNWZXJzaW9uOnQudmVyc2lvbn0pO3ZhciByPSh1LmxvZ2luT3B0aW9uc3x8e30pLmVuYWJsZUFja1RpbWVvdXQ7aWYociYmdC5jb3JlLmtlZXBhbGl2ZU1hbmFnZXIuZW5hYmxlQWNrVGltZW91dChyKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHRoaXMudW5zdWJzY3JpYmUoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5JTklUKSxPJiZ0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKE8uZXZlbnQsTy5kYXRhKSxjKXt2YXIgbz1EYXRlLm5vdygpLWMsaT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KG8pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoaSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6aCxkYXRhOntjb3VudDppfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTp2LGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50Om99fSksdS5kaXNhc3RlclJlY292ZXJ5T24mJih0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZyxkYXRhOntjb3VudDppfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpiLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWVEciIsZGF0YTp7Y291bnQ6b319KSksYz1udWxsfSksMWUzKX19KSksTS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5zZXR1cEF1dGhlbnRpY2F0aW9uRXZlbnRIYW5kbGVycyh1LHIsTSksdS5vblZpZXdDb250YWN0JiZ0LmNvcmUub25WaWV3Q29udGFjdCh1Lm9uVmlld0NvbnRhY3QpLE0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLE0ub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oKXtpZihjKXt2YXIgZT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTt0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLWMpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOmgsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6dixkYXRhOntjb3VudDowfX0pLHUuZGlzYXN0ZXJSZWNvdmVyeU9uJiYodC5wdWJsaXNoTWV0cmljKHtuYW1lOmcsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6YixkYXRhOntjb3VudDowfX0pKSxjPW51bGx9fSkpLHQuY29yZS5zb2Z0cGhvbmVQYXJhbXM9dS5zb2Z0cGhvbmV9fSx0LmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrPWZ1bmN0aW9uKGUsbil7dmFyIHI9ImNvbm5lY3QtbG9naW4tcG9wdXAtbG9jayIrZTt0cnl7bmF2aWdhdG9yLmxvY2tzLnJlcXVlc3Qocix7bW9kZToiZXhjbHVzaXZlIixpZkF2YWlsYWJsZTohMH0sZnVuY3Rpb24oKXt2YXIgcixhPShyPW8oKS5tYXJrKChmdW5jdGlvbiByKGkpe3ZhciBhO3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6aWYoaSl7ci5uZXh0PTM7YnJlYWt9cmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiUG9wdXAgYWxyZWFkeSBvcGVuZWQgYnkgYW5vdGhlciB0YWIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmFicnVwdCgicmV0dXJuIik7Y2FzZSAzOnQuZ2V0TG9nKCkuaW5mbygiT3BlbmluZyBwb3B1cCB3aW5kb3cgd2l0aCB3ZWJsb2NrLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmxvZ2luV2luZG93PXQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5vcGVuKGUsdC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVAsbiksdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrPSEwLGE9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIGU7KCF0LmNvcmUubG9naW5XaW5kb3d8fG51bGwhPT0oZT10LmNvcmUubG9naW5XaW5kb3cpJiZ2b2lkIDAhPT1lJiZlLmNsb3NlZCkmJihjbGVhckludGVydmFsKGEpLHQuY29yZS5fc2hvdWxkSG9sZFBvcHVwTG9jaz0hMSx0LmdldExvZygpLmluZm8oIkNsZWFyZWQgY2hlY2sgcG9wdXAgaW50ZXJ2YWwuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSwxZTMpO2Nhc2UgNzppZighdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrKXtyLm5leHQ9MTI7YnJlYWt9cmV0dXJuIHIubmV4dD0xMCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSwxZTMpfSkpO2Nhc2UgMTA6ci5uZXh0PTc7YnJlYWs7Y2FzZSAxMjp0LmdldExvZygpLmluZm8oIlJlbGVhc2luZyB3ZWJsb2NrIGZvciBvcGVuaW5nIGxvZ2luIHBvcHVwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sbyl7dmFyIGE9ci5hcHBseShlLHQpO2Z1bmN0aW9uIHMoZSl7aShhLG4sbyxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7aShhLG4sbyxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9Y2F0Y2gocil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIHVzZSB3ZWJsb2NrIHRvIG9wZW4gcG9wdXAuIFlvdXIgYnJvd3NlciBtYXkgYmUgb3V0IG9mIGRhdGUuIikud2l0aEV4Y2VwdGlvbihyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5sb2dpbldpbmRvd3x8KHQuY29yZS5sb2dpbldpbmRvdz10LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkub3BlbihlLHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQLG4pKX19LHQuY29yZS5vbklmcmFtZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JRlJBTUVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dD1mdW5jdGlvbihuLHIsbyxpKXt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChyLCJjb250YWluZXJEaXYiKTt2YXIgYT1vfHx0LmNvcmUscz1uLmNjcExvYWRUaW1lb3V0P24uY2NwTG9hZFRpbWVvdXQ6bi5kaXNhc3RlclJlY292ZXJ5T24/MWU0OjVlMztlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxhLmlmcmFtZVJlZnJlc2hUaW1lb3V0PWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmlmcmFtZVJlZnJlc2hBdHRlbXB0PShhLmlmcmFtZVJlZnJlc2hBdHRlbXB0fHwwKSsxLGEuaWZyYW1lUmVmcmVzaEF0dGVtcHQ8PTEwPyh0LmdldExvZygpLmluZm8oIlJlZnJlc2hpbmcgdGhlIENDUCBJRnJhbWUgZm9yICIuY29uY2F0KG4uY2NwVXJsLCIgb24gYXR0ZW1wdCAiKS5jb25jYXQoYS5pZnJhbWVSZWZyZXNoQXR0ZW1wdCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lKHIsbixpKSx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQobixyLG8saSkpOih0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCxpKSxlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSl9KSxzKX0sdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixyKXt0cnl7dmFyIG89dC5jb3JlLl9nZXRDQ1BJZnJhbWUociksaT1udWxsO28mJihpPW8uc3R5bGUsby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKTt2YXIgYT10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4scik7aSYmKGEuc3R5bGU9aS5jc3NUZXh0KSx0LmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2YgdC5HUlByb3h5SWZyYW1lQ29uZHVpdD90LmNvcmUudXBzdHJlYW0uZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlmcmFtZS5kYXRhc2V0LmlkZW50aWZpZXI9PT1yJiYoZS51cHN0cmVhbS5vdXRwdXQ9YS5jb250ZW50V2luZG93LGUuaWZyYW1lPWEpfSkpOnQuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtLm91dHB1dD1hLmNvbnRlbnRXaW5kb3csdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShhLHQuY29yZS51cHN0cmVhbSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgZm9yLCBhbmQgcmVjcmVhdGluZywgdGhlIENDUCBJRnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX2dldENDUElmcmFtZT1mdW5jdGlvbihlKXt2YXIgdCxuPXUod2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSk7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXt2YXIgbyxpPXQudmFsdWU7aWYoaS5uYW1lPT09ciYmKCFlfHwobnVsbD09PShvPWkuZGF0YXNldCl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaWRlbnRpZmllcik9PT1lKSlyZXR1cm4gaX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG51bGx9LHQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixvKXt2YXIgaTt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChlLCJjb250YWluZXJEaXYiKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtpZihhLnNyYz1uLmNjcFVybCxhLmFsbG93PSJtaWNyb3Bob25lOyBjYW1lcmE7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGlkZW50aXR5LWNyZWRlbnRpYWxzLWdldCIsYS5zdHlsZT1uLnN0eWxlfHx0LmNvcmUuaWZyYW1lU3R5bGUsYS50aXRsZT1uLmlmcmFtZVRpdGxlfHxyLGEubmFtZT1yLG8mJihhLmRhdGFzZXQuaWRlbnRpZmllcj1vKSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpJiYoYS5zcmM9dC5zdG9yYWdlQWNjZXNzLmdldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsKCksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0LnN0b3JhZ2VBY2Nlc3MucmVxdWVzdCkpLG51bGwhPT0oaT10LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpJiZ2b2lkIDAhPT1pJiZpLmlzU3RyZWFtc1Byb3ZpZGVyKXRyeXt2YXIgcztudWxsIT09KHM9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKSYmdm9pZCAwIT09cyYmcy5pc0FDR1JFbmFibGVkP3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5zZXRDQ1BJZnJhbWUoe2lmcmFtZTphLHJlZ2lvbjpuLmdsb2JhbFJlc2lsaWVuY3lSZWdpb259KTp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuc2V0Q0NQSWZyYW1lKGEpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoZW4gc2V0dGluZyBDQ1AgaWZyYW1lIHRvIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiBlLmFwcGVuZENoaWxkKGEpLGF9LHQuY29yZS5faGlkZUlmcmFtZT1mdW5jdGlvbihlKXtlLnN0eWxlPXQuY29yZS5pZnJhbWVTdHlsZSsiZGlzcGxheTogbm9uZTsifSx0LmNvcmUuX3Nob3dJZnJhbWU9ZnVuY3Rpb24oZSl7ZS5zdHlsZT10LmNvcmUuaWZyYW1lU3R5bGV9LHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWU9ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwiaWZyYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImNvbmR1aXQiKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciByPXtkaXNwbGF5OndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZGlzcGxheSxvZmZzZXRXaWR0aDplLm9mZnNldFdpZHRoLG9mZnNldEhlaWdodDplLm9mZnNldEhlaWdodCxjbGllbnRSZWN0c0xlbmd0aDplLmdldENsaWVudFJlY3RzKCkubGVuZ3RofTtuLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5JRlJBTUVfU1RZTEUscil9KSwxZTQpfSx0LmNvcmUuYXV0aGVudGljYXRlPWZ1bmN0aW9uKG4scixvKXtpZighMSE9PW4ubG9naW5Qb3B1cCl0cnl7dmFyIGk9ZnVuY3Rpb24obil7dmFyIHI9Imh0dHBzOi8vbGlseS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS90YXcvYXV0aC9jb2RlIjtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKHIpLG4ubG9naW5Vcmw/bi5sb2dpblVybDpuLmFsaWFzPyhsb2cud2FybigiVGhlIGBhbGlhc2AgcGFyYW0gaXMgZGVwcmVjYXRlZCBhbmQgc2hvdWxkIG5vdCBiZSBleHBlY3RlZCB0byBmdW5jdGlvbiBwcm9wZXJseS4gUGxlYXNlIHVzZSBgY2NwVXJsYCBvciBgbG9naW5VcmxgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FtYXpvbi1jb25uZWN0L2FtYXpvbi1jb25uZWN0LXN0cmVhbXMvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kI2Nvbm5lY3Rjb3JlaW5pdGNjcCBmb3IgdmFsaWQgcGFyYW1ldGVycy4iKSxhLnJlcGxhY2UoInthbGlhc30iLG4uYWxpYXMpLnJlcGxhY2UoIntjbGllbnRfaWR9IixjKS5yZXBsYWNlKCJ7cmVkaXJlY3R9IixlLmVuY29kZVVSSUNvbXBvbmVudChyKSkpOm4uY2NwVXJsfShuKTt0LmdldExvZygpLndhcm4oIkF0dGVtcHRpbmcgdG8gcG9wIHRoZSBsb2dpbiBwYWdlIGlmIG5vdCBhbHJlYWR5IG9wZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmxvZ2luVXJsJiZ0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIodC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLHQuY29yZS5fb3BlblBvcHVwV2l0aExvY2soaSxuLmxvZ2luT3B0aW9ucyl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiVW5hYmxlIHRvIG9wZW4gdGhlIGxvZ2luIHBvcHVwLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pZihudWxsPT10LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e28ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksZS5jbGVhclRpbWVvdXQodC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSx0LmNvcmUuaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCx0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIodC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChuLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fG4ubG9naW5PcHRpb25zJiZuLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZ0LmNvcmUubG9naW5XaW5kb3cmJih0LmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSx0LmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSksdC5jb3JlLmlmcmFtZVJlZnJlc2hBdHRlbXB0PTAsdC5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KG4scil9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVyIGlzIG5vdCBpbml0aWFsaXplZCIpO3JldHVybntwcm92aWRlcjpudWxsPT09KGU9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm92aWRlcn19O3ZhciBOPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29uZHVpdD1lLHRoaXMuZXZlbnRCdXM9dCx0aGlzLnN5blRpbWVvdXQ9bix0aGlzLmFja1RpbWVvdXQ9cix0aGlzLmFja1RpbWVyPW51bGwsdGhpcy5zeW5UaW1lcj1udWxsLHRoaXMuYWNrU3ViPW51bGwsdGhpcy5fZW5hYmxlQWNrVGltZW91dD0hMX07Ti5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuY29uZHVpdC5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuU1lOQ0hST05JWkUpLHRoaXMuYWNrU3ViPXRoaXMuY29uZHVpdC5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbigpe3RoaXMudW5zdWJzY3JpYmUoKSxlLmNsZWFyVGltZW91dChuLmFja1RpbWVyKSxuLl9kZWZlclN0YXJ0KCl9KSksdGhpcy5hY2tUaW1lcj1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5hY2tTdWIudW5zdWJzY3JpYmUoKSx0LmlzQWN0aXZlQ29uZHVpdChuLmNvbmR1aXQpJiZuLl9lbmFibGVBY2tUaW1lb3V0Pyh0LmdldExvZygpLmluZm8oIkFDS19USU1FT1VUIGV2ZW50IGlzIGRldGVjdGVkIGZyb20gdGhlIEtlZXBhbGl2ZU1hbmFnZXIuICIuY29uY2F0KG4uY29uZHVpdC5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmV2ZW50QnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQpKTpuLl9lbmFibGVBY2tUaW1lb3V0JiZ0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIGV2ZW50IGlzIGRldGVjdGVkIGZyb20gdGhlIEtlZXBhbGl2ZU1hbmFnZXIgYnV0IHN1cHByZXNzZWQgYXMgaXQgaXMgZnJvbSBhbiBpbmFjdGl2ZSByZWdpb24uICIuY29uY2F0KG4uY29uZHVpdC5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLl9kZWZlclN0YXJ0KCl9KSx0aGlzLmFja1RpbWVvdXQpfSxOLnByb3RvdHlwZS5fZGVmZXJTdGFydD1mdW5jdGlvbigpe3RoaXMuc3luVGltZXI9ZS5zZXRUaW1lb3V0KHQuaGl0Y2godGhpcyx0aGlzLnN0YXJ0KSx0aGlzLnN5blRpbWVvdXQpfSxOLnByb3RvdHlwZS5kZWZlclN0YXJ0PWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5zeW5UaW1lciYmKHRoaXMuc3luVGltZXI9ZS5zZXRUaW1lb3V0KHQuaGl0Y2godGhpcyx0aGlzLnN0YXJ0KSx0aGlzLnN5blRpbWVvdXQpKX0sTi5wcm90b3R5cGUuZW5hYmxlQWNrVGltZW91dD1mdW5jdGlvbihlKXt0aGlzLl9lbmFibGVBY2tUaW1lb3V0PWV9O3ZhciBQPWZ1bmN0aW9uKCl7dmFyIGU9e2luaXRGYWlsdXJlOm5ldyBTZXQsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0LGRlZXBIZWFydGJlYXRTdWNjZXNzOm5ldyBTZXQsZGVlcEhlYXJ0YmVhdEZhaWx1cmU6bmV3IFNldCx0b3BpY0ZhaWx1cmU6bmV3IFNldH0sbj1mdW5jdGlvbihlLHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSh0KX0pKX07dC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkUsKGZ1bmN0aW9uKCl7bihlLmluaXRGYWlsdXJlKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fT1BFTiwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25PcGVuLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9DTE9TRSwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25DbG9zZSx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fR0FJTiwoZnVuY3Rpb24oKXtuKGUuY29ubmVjdGlvbkdhaW4pfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9MT1NULChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbkxvc3QsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fVVBEQVRFLChmdW5jdGlvbih0KXtuKGUuc3Vic2NyaXB0aW9uVXBkYXRlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX0ZBSUxVUkUsKGZ1bmN0aW9uKHQpe24oZS5zdWJzY3JpcHRpb25GYWlsdXJlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQUxMX01FU1NBR0UsKGZ1bmN0aW9uKHQpe24oZS5hbGxNZXNzYWdlLHQpLGUudG9waWMuaGFzKHQudG9waWMpJiZuKGUudG9waWMuZ2V0KHQudG9waWMpLHQpfSkpLHRoaXMuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNFTkQsZSl9LHRoaXMub25Jbml0RmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuaW5pdEZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5pdEZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25PcGVuPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uT3Blbi5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uT3Blbi5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbkNsb3NlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uQ2xvc2UuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkNsb3NlLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uR2Fpbj1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuY29ubmVjdGlvbkdhaW4uYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkdhaW4uZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uTG9zdC5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uTG9zdC5kZWxldGUobil9fSx0aGlzLm9uU3Vic2NyaXB0aW9uVXBkYXRlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5zdWJzY3JpcHRpb25VcGRhdGUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3Vic2NyaXB0aW9uVXBkYXRlLmRlbGV0ZShuKX19LHRoaXMub25TdWJzY3JpcHRpb25GYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5zdWJzY3JpcHRpb25GYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnN1YnNjcmlwdGlvbkZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5zdWJzY3JpYmVUb3BpY3M9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInRvcGljcyIpLHQuYXNzZXJ0VHJ1ZSh0LmlzQXJyYXkoZSksInRvcGljcyBtdXN0IGJlIGEgYXJyYXkiKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSUJFLGUpfSx0aGlzLm9uTWVzc2FnZT1mdW5jdGlvbihuLHIpe3JldHVybiB0LmFzc2VydE5vdE51bGwobiwidG9waWNOYW1lIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihyKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUudG9waWMuaGFzKG4pP2UudG9waWMuZ2V0KG4pLmFkZChyKTplLnRvcGljLnNldChuLG5ldyBTZXQoW3JdKSksZnVuY3Rpb24oKXtyZXR1cm4gZS50b3BpYy5nZXQobikuZGVsZXRlKHIpfX0sdGhpcy5vbkFsbE1lc3NhZ2U9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmFsbE1lc3NhZ2UuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWxsTWVzc2FnZS5kZWxldGUobil9fSx0aGlzLm9uRGVlcEhlYXJ0YmVhdFN1Y2Nlc3M9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmRlZXBIZWFydGJlYXRTdWNjZXNzLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmRlZXBIZWFydGJlYXRTdWNjZXNzLmRlbGV0ZShuKX19LHRoaXMub25EZWVwSGVhcnRiZWF0RmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuZGVlcEhlYXJ0YmVhdEZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVlcEhlYXJ0YmVhdEZhaWx1cmUuZGVsZXRlKG4pfX0sdGhpcy5vblRvcGljRmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUudG9waWNGYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnRvcGljRmFpbHVyZS5kZWxldGUobil9fX07dC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0PWZ1bmN0aW9uKGUpe3RyeXt0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIFJlbW92aW5nIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh7Y29udGFjdElkOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5kZWxldGUoZSksdC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBSZW1vdmVkIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh0LmNvcmUuZW5kZWRFdmVudFRyYWNrZXIuZW50cmllcygpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKG4pe3QuZ2V0TG9nKCkuZXJyb3IoIltDb250YWN0RXZlbnRdIEZhaWxlZCB0byByZW1vdmUgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZXx8InVua25vd24ifSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLl9oYW5kbGVFbmRlZEV2ZW50PWZ1bmN0aW9uKGUsbil7dHJ5e3QuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5oYXMoZSkmJkUuaW5jbHVkZXMobikmJih0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIEVOREVEIHdhcyB0cmlnZ2VyZWQiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0KGUpKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbQ29udGFjdEV2ZW50XSBGYWlsZWQgdG8gaGFuZGxlIHByb3BlciBFTkRFRCBldmVudCBiZWluZyB0cmlnZ2VyZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX3Nob3VsZFRyaWdnZXJJbnZhbGlkU3RhdGVUcmFuc2l0aW9uPWZ1bmN0aW9uKGUpe2lmKHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5oYXMoZS5jb250YWN0SWQpKXRyeXtyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBDb250YWN0IGRpZCBub3QgdHJhbnNpdGlvbiB0byB0aGUgRU5ERUQgc3RhdGUgcHJpb3IgdG8gREVTVFJPWUVEIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5fcmVtb3ZlQ29udGFjdEZyb21FbmRlZFNldChlLmNvbnRhY3RJZCksITB9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW0NvbnRhY3RFdmVudF0gRmFpbGVkIHRvIGhhbmRsZSBpbnZhbGlkIHN0YXRlIHRyYW5zaXRpb24gZXJyb3IgaGFuZGxpbmciKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuITF9O3ZhciBEPWZ1bmN0aW9uKGUpe3RoaXMuYnVzPWUsdGhpcy5hZ2VudFVwZGF0ZVN1YnNjcmliZXI9dGhpcy5idXMuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuVVBEQVRFLHQuaGl0Y2godGhpcyx0aGlzLnVwZGF0ZUFnZW50RGF0YSkpfTtELnByb3RvdHlwZS51cGRhdGVBZ2VudERhdGE9ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzLmFnZW50RGF0YTt0aGlzLmFnZW50RGF0YT1lLG51bGwhPT0obj10LmFnZW50KSYmdm9pZCAwIT09biYmbi5pbml0aWFsaXplZHx8KHQuYWdlbnQuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5idXMudHJpZ2dlcih0LkFnZW50RXZlbnRzLklOSVQsbmV3IHQuQWdlbnQpKSx0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuUkVGUkVTSCxuZXcgdC5BZ2VudCksdGhpcy5fZmlyZUFnZW50VXBkYXRlRXZlbnRzKHIpfSxELnByb3RvdHlwZS5nZXRBZ2VudERhdGE9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLmFnZW50RGF0YSl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJObyBhZ2VudCBkYXRhIGlzIGF2YWlsYWJsZSB5ZXQhIik7cmV0dXJuIHRoaXMuYWdlbnREYXRhfSxELnByb3RvdHlwZS5nZXRDb250YWN0RGF0YT1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmdldEFnZW50RGF0YSgpLHI9dC5maW5kKG4uc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRhY3RJZD09PWV9KSk7aWYobnVsbD09cil0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJDb250YWN0ICVzIG5vIGxvbmdlciBleGlzdHMuIixlKTtyZXR1cm4gcn0sRC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbkRhdGE9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLmdldENvbnRhY3REYXRhKGUpLG89dC5maW5kKHIuY29ubmVjdGlvbnMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbm5lY3Rpb25JZD09PW59KSk7aWYobnVsbD09byl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJDb25uZWN0aW9uICVzIGZvciBjb250YWN0ICVzIG5vIGxvbmdlciBleGlzdHMuIixuLGUpO3JldHVybiBvfSxELnByb3RvdHlwZS5nZXRJbnN0YW5jZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWdlbnREYXRhKCkuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkLm1hdGNoKC9pbnN0YW5jZVwvKFswLTlhLWZBLUZ8LV0rKVwvLylbMV19LEQucHJvdG90eXBlLmdldEFXU0FjY291bnRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFnZW50RGF0YSgpLmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVJZC5tYXRjaCgvOihbMC05XSspOmluc3RhbmNlLylbMV19LEQucHJvdG90eXBlLl9kaWZmQ29udGFjdHM9ZnVuY3Rpb24oZSl7dmFyIG49e2FkZGVkOnt9LHJlbW92ZWQ6e30sY29tbW9uOnt9LG9sZE1hcDp0LmluZGV4KG51bGw9PWU/W106ZS5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGFjdElkfSkpLG5ld01hcDp0LmluZGV4KHRoaXMuYWdlbnREYXRhLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSksZW5kVGltZTowfTtyZXR1cm4gdC5rZXlzKG4ub2xkTWFwKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmNvbnRhaW5zKG4ubmV3TWFwLGUpP24uY29tbW9uW2VdPW4ubmV3TWFwW2VdOm4ucmVtb3ZlZFtlXT1uLm9sZE1hcFtlXX0pKSx0LmtleXMobi5uZXdNYXApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29udGFpbnMobi5vbGRNYXAsZSl8fChuLmFkZGVkW2VdPW4ubmV3TWFwW2VdKX0pKSxuLmVuZFRpbWU9cGVyZm9ybWFuY2Uubm93KCksbn0sRC5wcm90b3R5cGUuX2ZpcmVBZ2VudFVwZGF0ZUV2ZW50cz1mdW5jdGlvbihlKXt2YXIgbj10aGlzLHI9bnVsbCxvPW51bGw9PWU/dC5BZ2VudEF2YWlsU3RhdGVzLklOSVQ6ZS5zbmFwc2hvdC5zdGF0ZS5uYW1lLGk9dGhpcy5hZ2VudERhdGEuc25hcHNob3Quc3RhdGUubmFtZSxhPW51bGw9PWU/dC5BZ2VudFN0YXRlVHlwZS5JTklUOmUuc25hcHNob3Quc3RhdGUudHlwZSxzPXRoaXMuYWdlbnREYXRhLnNuYXBzaG90LnN0YXRlLnR5cGU7YSE9PXMmJnQuY29yZS5nZXRBZ2VudFJvdXRpbmdFdmVudEdyYXBoKCkuZ2V0QXNzb2NpYXRpb25zKHRoaXMsYSxzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKGUsbmV3IHQuQWdlbnQpfSkpLG8hPT1pJiYodGhpcy5idXMudHJpZ2dlcih0LkFnZW50RXZlbnRzLlNUQVRFX0NIQU5HRSx7YWdlbnQ6bmV3IHQuQWdlbnQsb2xkU3RhdGU6byxuZXdTdGF0ZTppfSksdC5jb3JlLmdldEFnZW50U3RhdGVFdmVudEdyYXBoKCkuZ2V0QXNzb2NpYXRpb25zKHRoaXMsbyxpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKGUsbmV3IHQuQWdlbnQpfSkpKTt2YXIgYz1lJiZlLnNuYXBzaG90Lm5leHRTdGF0ZT9lLnNuYXBzaG90Lm5leHRTdGF0ZS5uYW1lOm51bGwsdT10aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5uZXh0U3RhdGU/dGhpcy5hZ2VudERhdGEuc25hcHNob3QubmV4dFN0YXRlLm5hbWU6bnVsbDtjIT09dSYmdSYmbi5idXMudHJpZ2dlcih0LkFnZW50RXZlbnRzLkVOUVVFVUVEX05FWFRfU1RBVEUsbmV3IHQuQWdlbnQpLHI9bnVsbCE9PWU/dGhpcy5fZGlmZkNvbnRhY3RzKGUpOnthZGRlZDp0LmluZGV4KHRoaXMuYWdlbnREYXRhLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSkscmVtb3ZlZDp7fSxjb21tb246e30sb2xkTWFwOnt9LG5ld01hcDp0LmluZGV4KHRoaXMuYWdlbnREYXRhLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSksZW5kVGltZTpwZXJmb3JtYW5jZS5ub3coKX0sdC52YWx1ZXMoci5hZGRlZCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcih0LkNvbnRhY3RFdmVudHMuSU5JVCxuZXcgdC5Db250YWN0KGUuY29udGFjdElkKSksbi5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHMoZS5jb250YWN0SWQsdC5Db250YWN0U3RhdGVUeXBlLklOSVQsZS5zdGF0ZS50eXBlKX0pKSx0LnZhbHVlcyhyLnJlbW92ZWQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIodC5Db250YWN0RXZlbnRzLkRFU1RST1lFRCxuZXcgdC5Db250YWN0U25hcHNob3QoZSkpLG4uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkRFU1RST1lFRCxlLmNvbnRhY3RJZCksbmV3IHQuQ29udGFjdFNuYXBzaG90KGUpKSxuLl91bnN1YkFsbENvbnRhY3RFdmVudHNGb3JDb250YWN0KGUuY29udGFjdElkKX0pKSx0LmtleXMoci5jb21tb24pLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uX2ZpcmVDb250YWN0VXBkYXRlRXZlbnRzKGUsci5vbGRNYXBbZV0uc3RhdGUudHlwZSxyLm5ld01hcFtlXS5zdGF0ZS50eXBlKX0pKX0sRC5wcm90b3R5cGUuX2ZpcmVDb250YWN0VXBkYXRlRXZlbnRzPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzO24hPT1yJiZ0LmNvcmUuZ2V0Q29udGFjdEV2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxuLHIpLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uYnVzLnRyaWdnZXIobixuZXcgdC5Db250YWN0KGUpKSxvLmJ1cy50cmlnZ2VyKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKG4sZSksbmV3IHQuQ29udGFjdChlKSl9KSksby5idXMudHJpZ2dlcih0LkNvbnRhY3RFdmVudHMuUkVGUkVTSCxuZXcgdC5Db250YWN0KGUpKSxvLmJ1cy50cmlnZ2VyKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5SRUZSRVNILGUpLG5ldyB0LkNvbnRhY3QoZSkpfSxELnByb3RvdHlwZS5fdW5zdWJBbGxDb250YWN0RXZlbnRzRm9yQ29udGFjdD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3QudmFsdWVzKHQuQ29udGFjdEV2ZW50cykuZm9yRWFjaCgoZnVuY3Rpb24ocil7bi5idXMuZ2V0U3Vic2NyaXB0aW9ucyh0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZShyLGUpKS5tYXAoKGZ1bmN0aW9uKGUpe2UudW5zdWJzY3JpYmUoKX0pKX0pKX0sRC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWdlbnRVcGRhdGVTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCl9LHQuY29yZS5vblZpZXdDb250YWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db250YWN0RXZlbnRzLlZJRVcsZSl9LHQuY29yZS52aWV3Q29udGFjdD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuVklFVyxkYXRhOntjb250YWN0SWQ6ZX19KX0sdC5jb3JlLm9uQWN0aXZhdGVDaGFubmVsV2l0aFZpZXdUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5DaGFubmVsVmlld0V2ZW50cy5BQ1RJVkFURV9DSEFOTkVMX1dJVEhfVklFV19UWVBFLGUpfSx0LmNvcmUuYWN0aXZhdGVDaGFubmVsV2l0aFZpZXdUeXBlPWZ1bmN0aW9uKGUsbixyLG8saSl7dmFyIGE9e3ZpZXdUeXBlOmUsbWVkaWFUeXBlOm59O3ImJihhLnNvdXJjZT1yKSxvJiYoYS5jYXNlSWQ9byksYS5jbGllbnRUb2tlbj1pfHx0LnJhbmRvbUlkKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5DaGFubmVsVmlld0V2ZW50cy5BQ1RJVkFURV9DSEFOTkVMX1dJVEhfVklFV19UWVBFLGRhdGE6YX0pfSx0LmNvcmUudHJpZ2dlclRhc2tDcmVhdGVkPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5UYXNrRXZlbnRzLkNSRUFURUQsZSl9LHQuY29yZS50cmlnZ2VyRW1haWxDcmVhdGVkPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FbWFpbEV2ZW50cy5DUkVBVEVELGUpfSx0LmNvcmUub25BY2Nlc3NEZW5pZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BQ0NFU1NfREVOSUVELGUpfSx0LmNvcmUub25BdXRoRmFpbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCxlKX0sdC5jb3JlLm9uQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9TVUNDRVNTLGUpfSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZVN1Y2Nlc3M9ZnVuY3Rpb24oKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5BVVRIT1JJWkVfUkVUUllfQ09VTlQsMCl9LHQuY29yZS5faGFuZGxlQXV0aEZhaWw9ZnVuY3Rpb24oZSxuLHIpe3ImJnIuYXV0aG9yaXplP3QuY29yZS5faGFuZGxlQXV0aG9yaXplRmFpbChlKTp0LmNvcmUuX2hhbmRsZUNUSUF1dGhGYWlsKG4pfSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZUZhaWw9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLl9nZXRBdXRoUmV0cnlDb3VudCgpO2lmKCF0LmNvcmUuYXV0aG9yaXplVGltZW91dElkKWlmKG48dC5jb3JlLk1BWF9BVVRIT1JJWkVfUkVUUllfQ09VTlRfRk9SX1NFU1NJT04pe3QuY29yZS5faW5jcmVtZW50QXV0aFJldHJ5Q291bnQoKTt2YXIgcj1BV1MudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KG4rMXx8MCx7YmFzZToyZTN9KTt0LmNvcmUuYXV0aG9yaXplVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jb3JlLl9yZWRpcmVjdFRvTG9naW4oZSl9KSxyKX1lbHNlIHQuZ2V0TG9nKCkud2FybigiV2UgaGF2ZSBleGhhdXN0ZWQgb3VyIGF1dGhvcml6YXRpb24gcmV0cmllcyBkdWUgdG8gNDAxcyBmcm9tIHRoZSBhdXRob3JpemUgYXBpLiBObyBtb3JlIHJldHJpZXMgd2lsbCBiZSBhdHRlbXB0ZWQgaW4gdGhpcyBzZXNzaW9uIHVudGlsIHRoZSBhdXRob3JpemUgYXBpIHJldHVybnMgMjAwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSx0LmNvcmUuX3JlZGlyZWN0VG9Mb2dpbj1mdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIGU/bG9jYXRpb24uYXNzaWduKGUpOmxvY2F0aW9uLnJlbG9hZCgpfSx0LmNvcmUuX2hhbmRsZUNUSUF1dGhGYWlsPWZ1bmN0aW9uKGUpe2lmKCF0LmNvcmUuY3RpVGltZW91dElkKWlmKHQuY29yZS5jdGlBdXRoUmV0cnlDb3VudDx0LmNvcmUuTUFYX0NUSV9BVVRIX1JFVFJZX0NPVU5UKXt0LmNvcmUuY3RpQXV0aFJldHJ5Q291bnQrKzt2YXIgbj1BV1MudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KHQuY29yZS5jdGlBdXRoUmV0cnlDb3VudHx8MCx7YmFzZTo1MDB9KTt0LmNvcmUuY3RpVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5jb3JlLmF1dGhvcml6ZShlKS50aGVuKHQuY29yZS5fdHJpZ2dlckF1dGhvcml6ZVN1Y2Nlc3MuYmluZCh0LmNvcmUpKS5jYXRjaCh0LmNvcmUuX3RyaWdnZXJBdXRoRmFpbC5iaW5kKHQuY29yZSx7YXV0aG9yaXplOiEwfSkpLHQuY29yZS5jdGlUaW1lb3V0SWQ9bnVsbH0pLG4pfWVsc2UgdC5nZXRMb2coKS53YXJuKCJXZSBoYXZlIGV4aGF1c3RlZCBvdXIgYXV0aG9yaXphdGlvbiByZXRyaWVzIGR1ZSB0byA0MDFzIGZyb20gdGhlIENUSSBzZXJ2aWNlLiBObyBtb3JlIHJldHJpZXMgd2lsbCBiZSBhdHRlbXB0ZWQgdW50aWwgdGhlIHBhZ2UgaXMgcmVmcmVzaGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5DVElfQVVUSE9SSVpFX1JFVFJJRVNfRVhIQVVTVEVEKX0sdC5jb3JlLl90cmlnZ2VyQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQVVUSE9SSVpFX1NVQ0NFU1MpfSx0LmNvcmUuX3RyaWdnZXJBdXRoRmFpbD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS51cHN0cmVhbUJ1cy50cmlnZ2VyKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCxlKX0sdC5jb3JlLl9nZXRBdXRoUmV0cnlDb3VudD1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCk7aWYobnVsbCE9PWUpe2lmKGlzTmFOKHBhcnNlSW50KGUpKSl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgc2Vzc2lvbiBzdG9yYWdlIHZhbHVlIGZvciBhdXRoIHJldHJ5IGNvdW50IHdhcyBOYU4iKTtyZXR1cm4gcGFyc2VJbnQoZSl9cmV0dXJuIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCwwKSwwfSx0LmNvcmUuX2luY3JlbWVudEF1dGhSZXRyeUNvdW50PWZ1bmN0aW9uKCl7d2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5ULCh0LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50KCkrMSkudG9TdHJpbmcoKSl9LHQuY29yZS5vbkF1dGhvcml6ZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5vbkNUSUF1dGhvcml6ZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DVElfQVVUSE9SSVpFX1JFVFJJRVNfRVhIQVVTVEVELGUpfSx0LmNvcmUub25Tb2Z0cGhvbmVTZXNzaW9uSW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29ubmVjdGlvbkV2ZW50cy5TRVNTSU9OX0lOSVQsZSl9LHQuY29yZS5vbkNvbmZpZ3VyZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5DT05GSUdVUkUsZSl9LHQuY29yZS5vbkluaXRpYWxpemVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuSU5JVCxlKX0sdC5jb3JlLnNlbmRDb25maWd1cmU9ZnVuY3Rpb24oZSxuLHIpe2lmKGUuc29mdHBob25lfHxlLmNoYXR8fGUudGFza3x8ZS5wYWdlT3B0aW9uc3x8ZS5zaG91bGRBZGROYW1lc3BhY2VUb0xvZ3N8fGUuZGlzYXN0ZXJSZWNvdmVyeU9uKXt2YXIgbz17c29mdHBob25lOmUuc29mdHBob25lLGNoYXQ6ZS5jaGF0LHRhc2s6ZS50YXNrLHBhZ2VPcHRpb25zOmUucGFnZU9wdGlvbnMsc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzOmUuc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzfTtyPyhvLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3k9ZS5lbmFibGVHbG9iYWxSZXNpbGllbmN5LG8uaW5zdGFuY2VTdGF0ZT10LmlzQWN0aXZlQ29uZHVpdChuKT8iYWN0aXZlIjoiaW5hY3RpdmUiKTpvLmRpc2FzdGVyUmVjb3ZlcnlPbj1lLmRpc2FzdGVyUmVjb3ZlcnlPbixuLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsbyl9fSx0LmNvcmUubGlzdGVuRm9yQ29uZmlndXJlUmVxdWVzdD1mdW5jdGlvbihlLG4scil7bi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLlJFUVVFU1RfQ09ORklHVVJFLChmdW5jdGlvbigpe3QuY29yZS5zZW5kQ29uZmlndXJlKGUsbixyKX0pKX0sdC5jb3JlLmNoZWNrSWZDb25maWd1cmVSZWNlaXZlZD1mdW5jdGlvbihuKXt0LmlzRnJhbWVkKCkmJmUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuaGFzUmVjZWl2ZWRDUk1Db25maWd1cmV8fCh0LmdldExvZygpLndhcm4oIkNDUCBoYXMgbm90IHJlY2VpdmVkIGEgY29uZmlndXJlIG1lc3NhZ2UuIFNlbmRpbmcgcmVxdWVzdCB0byBDUk0gZm9yIGNvbmZpZ3VyYXRpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlJFUVVFU1RfQ09ORklHVVJFKSl9KSwxZTMpfSx0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZT1mdW5jdGlvbihlLG4pe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0LmFzc2VydE5vdE51bGwobiwiY29udGFjdElkIiksIXQuY29udGFpbnModC52YWx1ZXModC5Db250YWN0RXZlbnRzKSxlKSl0aHJvdyBuZXcgdC5WYWx1ZUVycm9yKCIlcyBpcyBub3QgYSB2YWxpZCBjb250YWN0IGV2ZW50LiIsZSk7cmV0dXJuIHQuc3ByaW50ZigiJXM6OiVzIixlLG4pfSx0LmNvcmUuZ2V0RXZlbnRCdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmV2ZW50QnVzfSx0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUud2ViU29ja2V0UHJvdmlkZXJ9LHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXJ9LHQuY29yZS5nZXRMb2NhbFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKS5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcH0sdC5jb3JlLmdldFNrZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCkuc25hcHNob3Quc2tld30sdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50Um91dGluZ0V2ZW50R3JhcGh9LHQuY29yZS5hZ2VudFJvdXRpbmdFdmVudEdyYXBoPShuZXcgdC5FdmVudEdyYXBoKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuUk9VVEFCTEUsdC5BZ2VudEV2ZW50cy5ST1VUQUJMRSkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLk5PVF9ST1VUQUJMRSx0LkFnZW50RXZlbnRzLk5PVF9ST1VUQUJMRSkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLk9GRkxJTkUsdC5BZ2VudEV2ZW50cy5PRkZMSU5FKSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50U3RhdGVFdmVudEdyYXBofSx0LmNvcmUuYWdlbnRTdGF0ZUV2ZW50R3JhcGg9KG5ldyB0LkV2ZW50R3JhcGgpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC52YWx1ZXModC5BZ2VudEVycm9yU3RhdGVzKSx0LkFnZW50RXZlbnRzLkVSUk9SKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRBdmFpbFN0YXRlcy5BRlRFUl9DQUxMX1dPUkssdC5BZ2VudEV2ZW50cy5BQ1cpLHQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuY29udGFjdEV2ZW50R3JhcGh9LHQuY29yZS5jb250YWN0RXZlbnRHcmFwaD0obmV3IHQuRXZlbnRHcmFwaCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0RXZlbnRzLklOQ09NSU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5QRU5ESU5HLHQuQ29udGFjdEV2ZW50cy5QRU5ESU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdEV2ZW50cy5DT05ORUNUSU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNURUQsdC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0U3RhdGVUeXBlLkVSUk9SLHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuRU5ERUQsdC5Db250YWN0RXZlbnRzLkFDVykuYXNzb2ModC52YWx1ZXModC5DT05UQUNUX0FDVElWRV9TVEFURVMpLHQudmFsdWVzKHQucmVsYXRpdmVDb21wbGVtZW50KHQuQ09OVEFDVF9BQ1RJVkVfU1RBVEVTLHQuQ29udGFjdFN0YXRlVHlwZSkpLHQuQ29udGFjdEV2ZW50cy5FTkRFRCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLkVSUk9SKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RTdGF0ZVR5cGUuTUlTU0VELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuTUlTU0VELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5SRUpFQ1RFRCx0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0U3RhdGVUeXBlLlJFSkVDVEVELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLHQuY29yZS5nZXRDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBjb3JlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmNsaWVudH0sdC5jb3JlLmNsaWVudD1udWxsLHQuY29yZS5nZXRBcGlQcm94eUNsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuYXBpUHJveHlDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgYXBpUHJveHkgQ2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmFwaVByb3h5Q2xpZW50fSx0LmNvcmUuYXBpUHJveHlDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0QWdlbnRBcHBDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmFnZW50QXBwQ2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IEFnZW50QXBwIENsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5hZ2VudEFwcENsaWVudH0sdC5jb3JlLmFnZW50QXBwQ2xpZW50PW51bGwsdC5jb3JlLmdldFRhc2tUZW1wbGF0ZXNDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgVGFza1RlbXBsYXRlcyBDbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudH0sdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0TWFzdGVyQ2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5tYXN0ZXJDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgbWFzdGVyIGNsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5tYXN0ZXJDbGllbnR9LHQuY29yZS5tYXN0ZXJDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0U29mdHBob25lTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuc29mdHBob25lTWFuYWdlcn0sdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bnVsbCx0LmNvcmUuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcnx8KHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyPW5ldyB0Lk5vdGlmaWNhdGlvbk1hbmFnZXIpLHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyfSx0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcj1udWxsLHQuY29yZS5nZXRQb3B1cE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLnBvcHVwTWFuYWdlcn0sdC5jb3JlLnBvcHVwTWFuYWdlcj1uZXcgdC5Qb3B1cE1hbmFnZXIsdC5jb3JlLmdldFVwc3RyZWFtPWZ1bmN0aW9uKCl7aWYoIXQuY29yZS51cHN0cmVhbSl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGVyZSBpcyBubyB1cHN0cmVhbSBjb25kdWl0ISIpO3JldHVybiB0LmNvcmUudXBzdHJlYW19LHQuY29yZS51cHN0cmVhbT1udWxsLHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkZhaWxvdmVyUGVuZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HX0NSTSxlKX0sdC5nbG9iYWxSZXNpbGllbmN5Lm9uRmFpbG92ZXJDb21wbGV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUsZSl9LHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkNvbmZpZ3VyZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixlKX0sdC5nbG9iYWxSZXNpbGllbmN5LmdldEFjdGl2ZVJlZ2lvbj1mdW5jdGlvbigpe3JldHVybiB0Lmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbn0sdC5jb3JlLkFnZW50RGF0YVByb3ZpZGVyPUQsdC5XZWJTb2NrZXRQcm92aWRlcj1QLHQuS2VlcGFsaXZlTWFuYWdlcj1OfSgpfSw2ODI6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbj0iPDxhbGw+PiIscj10Lm1ha2VFbnVtKFsiYWNrbm93bGVkZ2UiLCJhY2tfdGltZW91dCIsImluaXQiLCJhcGlfcmVxdWVzdCIsImFwaV9yZXNwb25zZSIsImF1dGhfZmFpbCIsImFjY2Vzc19kZW5pZWQiLCJjbG9zZSIsImNvbmZpZ3VyZSIsImxvZyIsImRvd25sb2FkX2xvZ19mcm9tX2NjcCIsIm1hc3Rlcl9yZXF1ZXN0IiwibWFzdGVyX3Jlc3BvbnNlIiwic3luY2hyb25pemUiLCJ0ZXJtaW5hdGUiLCJ0ZXJtaW5hdGVkIiwic2VuZF9sb2dzIiwicmVsb2FkX2FnZW50X2NvbmZpZ3VyYXRpb24iLCJicm9hZGNhc3QiLCJhcGlfbWV0cmljIiwiY2xpZW50X21ldHJpYyIsInNvZnRwaG9uZV9zdGF0cyIsInNvZnRwaG9uZV9yZXBvcnQiLCJjbGllbnRfc2lkZV9sb2dzIiwic2VydmVyX2JvdW5kX2ludGVybmFsX2xvZyIsIm11dGUiLCJpZnJhbWVfc3R5bGUiLCJpZnJhbWVfcmV0cmllc19leGhhdXN0ZWQiLCJ1cGRhdGVfY29ubmVjdGVkX2NjcHMiLCJvdXRlcl9jb250ZXh0X2luZm8iLCJtZWRpYV9kZXZpY2VfcmVxdWVzdCIsIm1lZGlhX2RldmljZV9yZXNwb25zZSIsInRhYl9pZCIsImF1dGhvcml6ZV9zdWNjZXNzIiwiYXV0aG9yaXplX3JldHJpZXNfZXhoYXVzdGVkIiwiY3RpX2F1dGhvcml6ZV9yZXRyaWVzX2V4aGF1c3RlZCIsImNsaWNrX3N0cmVhbV9kYXRhIiwic2V0X3F1aWNrX2dldF9hZ2VudF9zbmFwc2hvdF9mbGFnIiwiYXBpX3Byb3h5X3JlcXVlc3QiLCJhcGlfcHJveHlfcmVzcG9uc2UiLCJyZXF1ZXN0X2NvbmZpZ3VyZSJdKSxvPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb25uZWN0IixbImxvZ2luUG9wdXAiLCJzZW5kTG9ncyIsInNvZnRwaG9uZSIsInJpbmd0b25lIiwibWV0cmljcyIsImZhaWxvdmVyIl0pLGk9dC5tYWtlTmFtZXNwYWNlZEVudW0oImFnZW50IixbImluaXQiLCJ1cGRhdGUiLCJyZWZyZXNoIiwicm91dGFibGUiLCJub3Rfcm91dGFibGUiLCJwZW5kaW5nIiwiY29udGFjdF9wZW5kaW5nIiwib2ZmbGluZSIsImVycm9yIiwic29mdHBob25lX2Vycm9yIiwid2Vic29ja2V0X2Nvbm5lY3Rpb25fbG9zdCIsIndlYnNvY2tldF9jb25uZWN0aW9uX2dhaW5lZCIsInN0YXRlX2NoYW5nZSIsImFjdyIsIm11dGVfdG9nZ2xlIiwibG9jYWxfbWVkaWFfc3RyZWFtX2NyZWF0ZWQiLCJlbnF1ZXVlZF9uZXh0X3N0YXRlIiwiZmV0Y2hfYWdlbnRfZGF0YV9mcm9tX2NjcCJdKSxhPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ3ZWJTb2NrZXQiLFsiaW5pdF9mYWlsdXJlIiwiY29ubmVjdGlvbl9vcGVuIiwiY29ubmVjdGlvbl9jbG9zZSIsImNvbm5lY3Rpb25fZXJyb3IiLCJjb25uZWN0aW9uX2dhaW4iLCJjb25uZWN0aW9uX2xvc3QiLCJzdWJzY3JpcHRpb25fdXBkYXRlIiwic3Vic2NyaXB0aW9uX2ZhaWx1cmUiLCJhbGxfbWVzc2FnZSIsInNlbmQiLCJzdWJzY3JpYmUiXSkscz10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29udGFjdCIsWyJpbml0IiwicmVmcmVzaCIsImRlc3Ryb3llZCIsImluY29taW5nIiwicGVuZGluZyIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiLCJtaXNzZWQiLCJhY3ciLCJ2aWV3IiwiZW5kZWQiLCJlcnJvciIsImFjY2VwdGVkIiwiaW52YWxpZF9zdGF0ZV90cmFuc2l0aW9uIiwic2NyZWVuX3NoYXJpbmdfc3RhcnRlZCIsInNjcmVlbl9zaGFyaW5nX3N0b3BwZWQiLCJzY3JlZW5fc2hhcmluZ19lcnJvciJdKSxjPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ0YXNrTGlzdCIsWyJhY3RpdmF0ZV9jaGFubmVsX3dpdGhfdmlld190eXBlIl0pLHU9dC5tYWtlTmFtZXNwYWNlZEVudW0oInRhc2siLFsiY3JlYXRlZCJdKSxsPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJlbWFpbCIsWyJjcmVhdGVkIl0pLHA9dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbm5lY3Rpb24iLFsic2Vzc2lvbl9pbml0IiwicmVhZHlfdG9fc3RhcnRfc2Vzc2lvbiJdKSxkPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb25maWd1cmF0aW9uIixbImNvbmZpZ3VyZSIsInNldF9zcGVha2VyX2RldmljZSIsInNldF9taWNyb3Bob25lX2RldmljZSIsInNldF9yaW5nZXJfZGV2aWNlIiwic3BlYWtlcl9kZXZpY2VfY2hhbmdlZCIsIm1pY3JvcGhvbmVfZGV2aWNlX2NoYW5nZWQiLCJyaW5nZXJfZGV2aWNlX2NoYW5nZWQiLCJjYW1lcmFfZGV2aWNlX2NoYW5nZWQiLCJiYWNrZ3JvdW5kX2JsdXJfY2hhbmdlZCJdKSxoPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJkaXNhc3RlclJlY292ZXJ5IixbInN1cHByZXNzIiwiZm9yY2Vfb2ZmbGluZSIsInNldF9vZmZsaW5lIiwiaW5pdF9kaXNhc3Rlcl9yZWNvdmVyeSIsImZhaWxvdmVyIiwiZmFpbG92ZXJfcGVuZGluZyIsImluaXRfZHJfcG9sbGluZyJdKSxmPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJnbG9iYWxSZXNpbGllbmN5IixbImNvbmZpZ3VyZSIsImNvbmZpZ3VyZV9jY3BfY29uZHVpdCIsImluaXQiLCJjb25maWd1cmVfZXJyb3IiLCJmYWlsb3Zlcl9pbml0aWF0ZWQiLCJmYWlsb3Zlcl9wZW5kaW5nIiwiZmFpbG92ZXJfcGVuZGluZ19jcm0iLCJmYWlsb3Zlcl9jb21wbGV0ZSIsImhlYXJ0YmVhdF9zeW4iLCJoZWFydGJlYXRfYWNrIl0pLGc9dC5tYWtlTmFtZXNwYWNlZEVudW0oInZvaWNlSWQiLFsidXBkYXRlX2RvbWFpbl9pZCJdKSxtPWZ1bmN0aW9uKCl7fTttLmNyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxuLHIpe3JldHVybntldmVudDplLHJlcXVlc3RJZDp0LnJhbmRvbUlkKCksbWV0aG9kOm4scGFyYW1zOnJ9fSxtLmNyZWF0ZVJlc3BvbnNlPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybntldmVudDplLHJlcXVlc3RJZDp0LnJlcXVlc3RJZCxkYXRhOm4sZXJyOnJ8fG51bGx9fTt2YXIgdj1mdW5jdGlvbihlLG4scil7dGhpcy5zdWJNYXA9ZSx0aGlzLmlkPXQucmFuZG9tSWQoKSx0aGlzLmV2ZW50TmFtZT1uLHRoaXMuZj1yfTt2LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuc3ViTWFwLnVuc3Vic2NyaWJlKHRoaXMuZXZlbnROYW1lLHRoaXMuaWQpfTt2YXIgeT1mdW5jdGlvbigpe3RoaXMuc3ViSWRNYXA9e30sdGhpcy5zdWJFdmVudE5hbWVNYXA9e319O3kucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyB2KHRoaXMsZSx0KTt0aGlzLnN1YklkTWFwW24uaWRdPW47dmFyIHI9dGhpcy5zdWJFdmVudE5hbWVNYXBbZV18fFtdO3JldHVybiByLnB1c2gobiksdGhpcy5zdWJFdmVudE5hbWVNYXBbZV09cixufSx5LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbihlLG4pe3QuY29udGFpbnModGhpcy5zdWJFdmVudE5hbWVNYXAsZSkmJih0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXT10aGlzLnN1YkV2ZW50TmFtZU1hcFtlXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkIT09bn0pKSx0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXS5sZW5ndGg8MSYmZGVsZXRlIHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdKSx0LmNvbnRhaW5zKHRoaXMuc3ViSWRNYXAsbikmJmRlbGV0ZSB0aGlzLnN1YklkTWFwW25dfSx5LnByb3RvdHlwZS5nZXRBbGxTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHQudmFsdWVzKHRoaXMuc3ViRXZlbnROYW1lTWFwKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSksW10pfSx5LnByb3RvdHlwZS5nZXRTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXXx8W119O3ZhciBiPWZ1bmN0aW9uKGUpe3ZhciB0PWV8fHt9O3RoaXMuc3ViTWFwPW5ldyB5LHRoaXMubG9nRXZlbnRzPXQubG9nRXZlbnRzfHwhMX07Yi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0LmFzc2VydE5vdE51bGwobiwiZiIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5zdWJNYXAuc3Vic2NyaWJlKGUsbil9LGIucHJvdG90eXBlLnN1YnNjcmliZUFsbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImYiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuc3ViTWFwLnN1YnNjcmliZShuLGUpfSxiLnByb3RvdHlwZS5nZXRTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1Yk1hcC5nZXRTdWJzY3JpcHRpb25zKGUpfSxiLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKGUscil7dC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpO3ZhciBvPXRoaXMsaT10aGlzLnN1Yk1hcC5nZXRTdWJzY3JpcHRpb25zKG4pLGE9dGhpcy5zdWJNYXAuZ2V0U3Vic2NyaXB0aW9ucyhlKTt0aGlzLmxvZ0V2ZW50cyYmZSE9PXQuRXZlbnRUeXBlLkxPRyYmZSE9PXQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSYmZSE9PXQuRXZlbnRUeXBlLkFQSV9NRVRSSUMmJmUhPT10LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HJiZ0LmdldExvZygpLnRyYWNlKCJQdWJsaXNoaW5nIGV2ZW50OiAlcyIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLnN0YXJ0c1dpdGgodC5Db250YWN0RXZlbnRzLkFDQ0VQVEVEKSYmciYmci5jb250YWN0SWQmJiEociBpbnN0YW5jZW9mIHQuQ29udGFjdCkmJihyPW5ldyB0LkNvbnRhY3Qoci5jb250YWN0SWQpKSxpLmNvbmNhdChhKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0cnl7bi5mKHJ8fG51bGwsZSxvKX1jYXRjaChuKXt0LmdldExvZygpLmVycm9yKCInJXMnIGV2ZW50IGhhbmRsZXIgZmFpbGVkLiIsZSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKX0sYi5wcm90b3R5cGUuYnJpZGdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxuKXtlLnRyaWdnZXIobix0KX19LGIucHJvdG90eXBlLnVuc3Vic2NyaWJlQWxsPWZ1bmN0aW9uKCl7dGhpcy5zdWJNYXAuZ2V0QWxsU3Vic2NyaXB0aW9ucygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudW5zdWJzY3JpYmUoKX0pKX0sdC5FdmVudEJ1cz1iLHQuRXZlbnRGYWN0b3J5PW0sdC5FdmVudFR5cGU9cix0LkFnZW50RXZlbnRzPWksdC5Db25maWd1cmF0aW9uRXZlbnRzPWQsdC5Db25uZWN0aW9uRXZlbnRzPXAsdC5Db25ubmVjdGlvbkV2ZW50cz1wLHQuQ29udGFjdEV2ZW50cz1zLHQuQ2hhbm5lbFZpZXdFdmVudHM9Yyx0LlRhc2tFdmVudHM9dSx0LkVtYWlsRXZlbnRzPWwsdC5Wb2ljZUlkRXZlbnRzPWcsdC5XZWJTb2NrZXRFdmVudHM9YSx0Lk1hc3RlclRvcGljcz1vLHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cz1oLHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cz1mfSgpfSw5NDk6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMscj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1yO3ZhciBvPSJJZnJhbWVSZWZyZXNoQXR0ZW1wdHMiLGk9IklmcmFtZUluaXRpYWxpemF0aW9uU3VjY2VzcyI7ci5nbG9iYWxSZXNpbGllbmN5Ll9kb3dubG9hZENDUExvZ3M9ZnVuY3Rpb24oKXtyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCl9LHIuZ2xvYmFsUmVzaWxpZW5jeS5faW5pdGlhbGl6ZUFjdGl2ZVJlZ2lvbj1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbzt0JiYobnVsbD09PShvPXIuY29yZS5hZ2VudERhdGFQcm92aWRlcil8fHZvaWQgMD09PW98fG8uZGVzdHJveSgpLHIuY29yZS5hZ2VudERhdGFQcm92aWRlcj9yLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA9bmV3IHIuY29yZS5BZ2VudERhdGFQcm92aWRlcihyLmNvcmUuZ2V0RXZlbnRCdXMoKSk6ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW5ldyByLmNvcmUuQWdlbnREYXRhUHJvdmlkZXIoci5jb3JlLmdldEV2ZW50QnVzKCkpLGUuZ2V0QWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShyLkFnZW50RXZlbnRzLkZFVENIX0FHRU5UX0RBVEFfRlJPTV9DQ1ApKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciByZWluaXRpYWxpemluZyB0aGUgYWdlbnQgZGF0YSBwcm92aWRlci4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uQWdlbnREYXRhUHJvdmlkZXJGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXIuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPWUuZ2V0QWN0aXZlQ29uZHVpdCgpLmtlZXBhbGl2ZU1hbmFnZXIsci5jb3JlLmNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRDbGllbnQoZS5nZXRBY3RpdmVDb25kdWl0KCkpLHIuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHIuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KGUuZ2V0QWN0aXZlQ29uZHVpdCgpKSxyLmNvcmUubWVkaWFGYWN0b3J5PW5ldyByLk1lZGlhRmFjdG9yeShuKG4oe30sci5nbG9iYWxSZXNpbGllbmN5LnBhcmFtcykse30se2NjcFVybDplLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lfSkpO3RyeXt2YXIgaTtudWxsIT09KGk9ci5jb3JlKSYmdm9pZCAwIT09aSYmaS5zb2Z0cGhvbmVNYW5hZ2VyP3IuY29yZS5fYWxsb3dTb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbj8oci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlZnJlc2hpbmcgc29mdHBob25lIG1hbmFnZXIgUlRDIHBlZXIgY29ubmVjdGlvbiBtYW5hZ2VyLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLnNvZnRwaG9uZU1hbmFnZXIuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCkpOihyLmdldExvZygpLmluZm8oIltHUl0gUmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlciBSVEMgcGVlciBjb25uZWN0aW9uIGZhY3RvcnkuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuc29mdHBob25lTWFuYWdlci5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSgpKTpyLmdldExvZygpLmluZm8oIltHUl0gU29mdHBob25lIG1hbmFnZXIgbm90IGluaXRpYWxpemVkIG9yIG5vdCB1c2VkLCBub3QgcmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlci4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlZnJlc2hpbmcgdGhlIHNvZnRwaG9uZSBtYW5hZ2VyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25XZWJSVENGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXQmJihyLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj10LHIuQ2hhdFNlc3Npb24/ci5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZT8oci5nZXRMb2coKS5pbmZvKCJbR1JdIFVwZGF0aW5nIENoYXRKUyByZWdpb24gdG8gIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZSh0KSk6ci5nZXRMb2coKS53YXJuKCJbR1JdIENoYXRKUyBwcmVzZW50LCBidXQgc2V0UmVnaW9uT3ZlcnJpZGUgbm90IGZvdW5kLiBDb25zaWRlciB1cGRhdGluZyB0byBsYXRlc3QgQ2hhdEpTIHZlcnNpb24iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOnIuZ2V0TG9nKCkuaW5mbygiW0dSXSBDaGF0SlMgbm90IHByZXNlbnQsIG5vdCB1cGRhdGluZyBDaGF0U2Vzc2lvbiByZWdpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6ImFjdGl2ZSJ9KSxlLmdldEluYWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0NDUF9DT05EVUlULHtpbnN0YW5jZVN0YXRlOiJpbmFjdGl2ZSJ9KTt0cnl7ci5jb3JlLl9zaG93SWZyYW1lKGUuZ2V0QWN0aXZlQ29uZHVpdCgpLmlmcmFtZSksci5jb3JlLl9oaWRlSWZyYW1lKGUuZ2V0SW5hY3RpdmVDb25kdWl0KCkuaWZyYW1lKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciB1cGRhdGluZyB0aGUgSUZyYW1lIHZpc2liaWxpdHkuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvbklGcmFtZVN3YXBGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXRyeXt2YXIgYT1lLmlmcmFtZUxhYmVsTWFwW2UuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWVdO3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBTZXR0aW5nIHByb3ZpZGVyIGFjdGl2ZSByZWdpb24gdG8gIi5jb25jYXQoYSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLnNldEFjdGl2ZVJlZ2lvbihhKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFNldHRpbmcgYWN0aXZlIHJlZ2lvbiBmb3IgcHJvdmlkZXIgZmFpbGVkLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHIuZ2xvYmFsUmVzaWxpZW5jeS5fc3dpdGNoQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKHQsbil7dmFyIG8saSxhLHMsYztpZighKHQgaW5zdGFuY2VvZiByLkdSUHJveHlJZnJhbWVDb25kdWl0KSlyZXR1cm4gci5nZXRMb2coKS5lcnJvcigiW0dSXSBUcmllZCB0byBzd2l0Y2ggb3ZlciBhY3RpdmUgcmVnaW9uLCBidXQgcHJveHkgY29uZHVpdCB3YXMgbm90IG9mIGV4cGVjdGVkIHR5cGUuIikud2l0aE9iamVjdCh7dHlwZTplKHQpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMTt2YXIgdT10LmdldENvbmR1aXRCeU5hbWUobik7cmV0dXJuIHUgaW5zdGFuY2VvZiByLklGcmFtZUNvbmR1aXQ/dC5nZXRBY3RpdmVDb25kdWl0KCkubmFtZT09PXUubmFtZSYmci5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb249PT11LnJlZ2lvbj8oci5nZXRMb2coKS5pbmZvKCJbR1JdIE5vdCBzd2l0Y2hpbmcgb3ZlciBhY3RpdmUgcmVnaW9uIGFzIHdlIGFyZSBhbHJlYWR5IG9uIGFjdGl2ZSByZWdpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMSk6KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hpbmcgYWN0aXZlIHJlZ2lvbiBmcm9tICIuY29uY2F0KG51bGw9PT0obz10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucmVnaW9uLCIgLyAiKS5jb25jYXQobnVsbD09PShpPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5uYW1lLCIgdG8gIikuY29uY2F0KG51bGw9PXU/dm9pZCAwOnUucmVnaW9uLCIgLyAiKS5jb25jYXQobnVsbD09dT92b2lkIDA6dS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxudWxsPT09KGE9ci5jb3JlKXx8dm9pZCAwPT09YXx8bnVsbD09PShhPWEuc29mdHBob25lTWFuYWdlcil8fHZvaWQgMD09PWF8fGEuX2NsZWFyQWxsU2Vzc2lvbnMoKSx0LnNldEFjdGl2ZUNvbmR1aXQodS5uYW1lKSxyLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb24odCx1LnJlZ2lvbiksci5nZXRMb2coKS5pbmZvKCJbR1JdIFN3aXRjaGVkIGFjdGl2ZSByZWdpb24gdG8gIi5jb25jYXQobnVsbD09PShzPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09cz92b2lkIDA6cy5yZWdpb24sIiAvICIpLmNvbmNhdChudWxsPT09KGM9dC5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiQ2FsbGVkSW50ZXJuYWxTd2l0Y2hBY3RpdmVSZWdpb25TdWNjZXNzZnVsIixkYXRhOntjb3VudDoxfX0pLCEwKTooci5nZXRMb2coKS5lcnJvcigiW0dSXSBUcmllZCB0byBzd2l0Y2ggb3ZlciBhY3RpdmUgcmVnaW9uLCBidXQgY29uZHVpdCBuYW1lIHdhcyBpbnZhbGlkIikud2l0aE9iamVjdCh7bmV3QWN0aXZlQ29uZHVpdE5hbWU6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEpfSxyLmdsb2JhbFJlc2lsaWVuY3kuaW5pdEdSQ0NQPWZ1bmN0aW9uKGUsYSl7dmFyIHM9bih7fSxhKTtyLmdsb2JhbFJlc2lsaWVuY3kucGFyYW1zPXM7dmFyIGMsdSxsLHA9e30sZD0hMTtpZihyLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj1udWxsLHIuZ2xvYmFsUmVzaWxpZW5jeS5nbG9iYWxSZXNpbGllbmN5RW5hYmxlZD0hMCxyLmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCFyLmNvcmUuaW5pdGlhbGl6ZWQpe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGg9RGF0ZS5ub3coKTtyLmFzc2VydE5vdE51bGwoZSwiY29udGFpbmVyRGl2Iik7dmFyIGY9bmV3IFVSTChzLmNjcFVybCkub3JpZ2luLGc9bmV3IFVSTChzLnNlY29uZGFyeUNDUFVybCkub3JpZ2luLG09ci5jb3JlLl9jcmVhdGVDQ1BJZnJhbWUoZSxuKG4oe30scykse30se2dsb2JhbFJlc2lsaWVuY3lSZWdpb246InByaW1hcnkifSksZiksdj1yLmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4obih7fSxzKSx7fSx7Y2NwVXJsOnMuc2Vjb25kYXJ5Q0NQVXJsLGdsb2JhbFJlc2lsaWVuY3lSZWdpb246InNlY29uZGFyeSJ9KSxnKSx5PW5ldyByLkdSUHJveHlJZnJhbWVDb25kdWl0KHdpbmRvdyxbe2lmcmFtZTptLGxhYmVsOiJwcmltYXJ5In0se2lmcmFtZTp2LGxhYmVsOiJzZWNvbmRhcnkifV0sbS5zcmMpO3IuY29yZS51cHN0cmVhbT15LHIuY29yZS5ldmVudEJ1cz1uZXcgci5FdmVudEJ1cyh7bG9nRXZlbnRzOiExfSksci5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uKHkpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiSW5pdEdsb2JhbFJlc2lsaWVuY3lDQ1BDYWxsZWQiLGRhdGE6e2NvdW50OjF9fSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoZS5pZnJhbWUsZSl9KSksci5jb3JlLndlYlNvY2tldFByb3ZpZGVyPW5ldyByLldlYlNvY2tldFByb3ZpZGVyLHkub25BbGxVcHN0cmVhbShyLmNvcmUuZ2V0RXZlbnRCdXMoKS5icmlkZ2UoKSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uua2VlcGFsaXZlTWFuYWdlcj1uZXcgci5LZWVwYWxpdmVNYW5hZ2VyKGUsci5jb3JlLmdldEV2ZW50QnVzKCkscy5jY3BTeW5UaW1lb3V0fHwxZTMscy5jY3BBY2tUaW1lb3V0fHwzZTMpfSkpLHIuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUExvZ3NQdXNoKHkpLHIuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1B1c2goeSkseS5vblVwc3RyZWFtKHIuQWdlbnRFdmVudHMuRkVUQ0hfQUdFTlRfREFUQV9GUk9NX0NDUCwoZnVuY3Rpb24oZSl7ci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyQmFja3VwPyhyLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXAudXBkYXRlQWdlbnREYXRhKGUpLHIuY29yZS5hZ2VudERhdGFQcm92aWRlcj1yLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXAsci5jb3JlLmFnZW50RGF0YVByb3ZpZGVyQmFja3VwPW51bGwpOnIuY29yZS5hZ2VudERhdGFQcm92aWRlci51cGRhdGVBZ2VudERhdGEoZSksci5nZXRMb2coKS5pbmZvKCJbR1JdIEZldGNoZWQgYWdlbnQgZGF0YSBmcm9tIENDUC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtwW2UubmFtZV09e2lmcmFtZVJlZnJlc2hUaW1lb3V0Om51bGx9LHBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCxyLmlzQWN0aXZlQ29uZHVpdChlKT8oci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5BQ0tfVElNRU9VVCksci5nZXRMb2coKS5pbmZvKCJDQ1AgTG9hZFRpbWVvdXQgdHJpZ2dlcmVkLiAiLmNvbmNhdChlLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTpyLmdldExvZygpLmVycm9yKCJDQ1AgTG9hZFRpbWVvdXQgZGV0ZWN0ZWQgYnV0IGlnbm9yZWQgZm9yIG5vbi1wcmltYXJ5IHJlZ2lvbnMuICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSxzLmNjcExvYWRUaW1lb3V0fHw1ZTMpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKG4pe3IuZ2V0TG9nKCkuaW5mbygiQWNrbm93bGVkZ2VkIGJ5IHRoZSBDQ1AhICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGE9ITA7ci5jb3JlLnNlbmRDb25maWd1cmUocyxlLGEpLHIuY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0KHMsZSxhKSxwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSYmKHQuY2xlYXJUaW1lb3V0KHBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlKSxwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsKSxlLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8se3N0cmVhbXNWZXJzaW9uOnIudmVyc2lvbixpbml0Q0NQUGFyYW1zOnN9KTt2YXIgYz0ocy5sb2dpbk9wdGlvbnN8fHt9KS5lbmFibGVBY2tUaW1lb3V0O2lmKGMmJmUua2VlcGFsaXZlTWFuYWdlci5lbmFibGVBY2tUaW1lb3V0KGMpLGUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHIuaXNBY3RpdmVDb25kdWl0KGUpJiYoci5jb3JlLmNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRDbGllbnQoZSksci5jb3JlLm1hc3RlckNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoZSksci5jb3JlLnBvcnRTdHJlYW1JZD1uLmlkLGgpKXt2YXIgdT1EYXRlLm5vdygpLWgsbD1wW2UubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7ci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KHUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQobCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLnB1Ymxpc2hNZXRyaWMoe25hbWU6byxkYXRhOntjb3VudDpsfX0pLHIucHVibGlzaE1ldHJpYyh7bmFtZTppLGRhdGE6e2NvdW50OjF9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50OnV9fSksaD1udWxsfSksMWUzKX1lLnBvcnRTdHJlYW1JZD1uLmlkLHRoaXMudW5zdWJzY3JpYmUoKX0pKX0pKSx5Lm9uVXBzdHJlYW0oci5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXtlLmxvZ2dlcklkIT09ci5nZXRMb2coKS5nZXRMb2dnZXJJZCgpJiZyLmdldExvZygpLmFkZExvZ0VudHJ5KHIuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkFDS19USU1FT1VULChmdW5jdGlvbigpe2lmKCExIT09cy5sb2dpblBvcHVwKXRyeXt2YXIgbz1zLmxvZ2luVXJsO3IuZ2V0TG9nKCkud2FybigiQUNLX1RJTUVPVVQgb2NjdXJyZWQsIGF0dGVtcHRpbmcgdG8gcG9wIHRoZSBsb2dpbiBwYWdlIGlmIG5vdCBhbHJlYWR5IG9wZW4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIoci5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLHIuY29yZS5fb3BlblBvcHVwV2l0aExvY2sobyxzLmxvZ2luT3B0aW9ucyl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiQUNLX1RJTUVPVVQgb2NjdXJyZWQgYnV0IHdlIGFyZSB1bmFibGUgdG8gb3BlbiB0aGUgbG9naW4gcG9wdXAuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihvKXtpZihudWxsPT09cFtvLm5hbWVdLmlmcmFtZVJlZnJlc2hUaW1lb3V0KXRyeXtvLm9uVXBzdHJlYW0oci5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZSgpLHQuY2xlYXJUaW1lb3V0KHBbby5uYW1lXS5pZnJhbWVSZWZyZXNoVGltZW91dCkscFtvLm5hbWVdLmlmcmFtZVJlZnJlc2hUaW1lb3V0PW51bGwsci5jb3JlLmdldFBvcHVwTWFuYWdlcigpLmNsZWFyKHIuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQKSwocy5sb2dpblBvcHVwQXV0b0Nsb3NlfHxzLmxvZ2luT3B0aW9ucyYmcy5sb2dpbk9wdGlvbnMuYXV0b0Nsb3NlKSYmci5jb3JlLmxvZ2luV2luZG93JiYoci5jb3JlLmxvZ2luV2luZG93LmNsb3NlKCksci5jb3JlLmxvZ2luV2luZG93PW51bGwpfSkpLHIuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dChuKG4oe30scykse30se2NjcFVybDpvLmlmcmFtZS5zcmN9KSxlLHBbby5uYW1lXSxvLm5hbWUpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoaWxlIHJlZnJlc2hpbmcgaWZyYW1lIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKX0pKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklULChmdW5jdGlvbih0KXtpZihudWxsIT10JiZ0Lmluc3RhbmNlUmVnaW9uJiZudWxsIT10JiZ0Lmluc3RhbmNlU3RhdGUmJm51bGwhPXQmJnQuYWN0aXZlUmVnaW9uKXtyLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIGluZGljYXRpbmcgIi5jb25jYXQoZS5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lmluc3RhbmNlUmVnaW9uLCIgaXMgIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuaW5zdGFuY2VTdGF0ZSwiLiIpKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuaW5zdGFuY2VSZWdpb249PT10LmFjdGl2ZVJlZ2lvbj9lOnkuZ2V0T3RoZXJDb25kdWl0KGUpO2lmKGUucmVnaW9uJiZuLnJlZ2lvbnx8KGUucmVnaW9uPXQuaW5zdGFuY2VSZWdpb24sbi5yZWdpb249dC5hY3RpdmVSZWdpb24pLGUuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6dC5pbnN0YW5jZVN0YXRlfSksci5jb3JlLmluaXRpYWxpemVkKXIuZ2V0TG9nKCkubG9nKCJbR1JdIERlZHVwaW5nIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSU5JVCAtIENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2V7ci5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgaW5pdGlhbCBhY3RpdmUgaWZyYW1lIHRvICIuY29uY2F0KG4ubmFtZSwiIGluIHJlZ2lvbiAiKS5jb25jYXQobi5yZWdpb24sIiBiZWNhdXNlIHRoZSBpbnN0YW5jZSBzdGF0ZSB3YXMgYWN0aXZlIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dHJ5e3IuZ2xvYmFsUmVzaWxpZW5jeS5fc3dpdGNoQWN0aXZlUmVnaW9uKHksbi5uYW1lKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25TdWNjZXNzIixkYXRhOntjb3VudDoxfX0pfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gRmFpbHVyZSBzd2l0Y2hpbmcgYWN0aXZlIHJlZ2lvbiBhdCBpbml0aWFsaXphdGlvbi4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uRmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KX1yLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuRXZlbnRUeXBlLklOSVQpLHIuY29yZS5pbml0aWFsaXplZD0hMCxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lDb3JlSW5pdGlhbGl6ZWQiLGRhdGE6e2NvdW50OjF9fSl9fWVsc2Ugci5nZXRMb2coKS5lcnJvcigiW0dSXSBFeHBlY3RlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQgdG8gaGF2ZSBpbnN0YW5jZSByZWdpb24sIHN0YXRlLCBhbmQgY3VycmVudCBhY3RpdmUgcmVnaW9uLCBidXQgZGlkIG5vdCBmaW5kIGl0LiIpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQsKGZ1bmN0aW9uKGUpe2lmKHU9RGF0ZS5ub3coKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lGYWlsb3ZlckluaXRpYXRlZFJlY2VpdmVkIixkYXRhOntjb3VudDoxfX0pLGQmJnIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVBlbmRpbmdUb0luaXRpYXRlZExhdGVuY3kiLGRhdGE6e2xhdGVuY3k6dS1jfX0pLG51bGwhPWUmJmUuYWN0aXZlUmVnaW9uKXtyLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQgaW5kaWNhdGluZyB0aGUgYWN0aXZlUmVnaW9uIGlzICIuY29uY2F0KGUuYWN0aXZlUmVnaW9uLCIuIikpO3ZhciB0LG49eS5nZXRDb25kdWl0QnlSZWdpb24oZS5hY3RpdmVSZWdpb24pO258fChyLmdldExvZygpLmRlYnVnKCJbR1JdIEEgY29uZHVpdCBkaWQgbm90IHJlY2VpdmVkIEdMT0JBTF9SRVNJTElFTkNZLklOSVQgZXZlbnQsIGxlYWRpbmcgdG8gdGhlIHJlZ2lvbiBmaWVsZCBiZWluZyB1bnBvcHVsYXRlZC4iKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dm9pZCAwIT09dC5yZWdpb24mJm51bGwhPT10LnJlZ2lvbnx8KHQucmVnaW9uPWUuYWN0aXZlUmVnaW9uLG49dCl9KSkpO3RyeXt0PXIuZ2xvYmFsUmVzaWxpZW5jeS5fc3dpdGNoQWN0aXZlUmVnaW9uKHksbi5uYW1lKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25TdWNjZXNzIixkYXRhOntjb3VudDoxfX0pfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gRmFpbHVyZSBzd2l0Y2hpbmcgYWN0aXZlIHJlZ2lvbi4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uRmFpbHVyZSIsZGF0YTp7Y291bnQ6MX19KX1pZih0KXtkPSExO3ZhciBvPXkub25VcHN0cmVhbShyLkFnZW50RXZlbnRzLlVQREFURSwoZnVuY3Rpb24oKXtvLnVuc3Vic2NyaWJlKCksci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUse2FjdGl2ZVJlZ2lvbjplLmFjdGl2ZVJlZ2lvbn0pLHkuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSksci5nZXRMb2coKS5pbmZvKCJbR1JdIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUgZW1pdHRlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGw9RGF0ZS5ub3coKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lGYWlsb3ZlckNvbXBsZXRlZCIsZGF0YTp7Y291bnQ6MX19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lJbml0aWF0ZWRUb0NvbXBsZXRlZExhdGVuY3kiLGRhdGE6e2xhdGVuY3k6bC11fX0pfSkpfX1lbHNlIHIuZ2V0TG9nKCkuZXJyb3IoIltHUl0gRXhwZWN0ZWQgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQgdG8gaGF2ZSBuZXcgYWN0aXZlIHJlZ2lvbiwgYnV0IGRpZCBub3QgZmluZCBpdC4iKS53aXRoT2JqZWN0KHtkYXRhOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfSkpLHMub25WaWV3Q29udGFjdCYmci5jb3JlLm9uVmlld0NvbnRhY3Qocy5vblZpZXdDb250YWN0KSx5Lm9uVXBzdHJlYW0oci5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLChmdW5jdGlvbihlKXtyLm51bWJlck9mQ29ubmVjdGVkQ0NQcz1lLmxlbmd0aH0pKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5vblVwc3RyZWFtKHIuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELChmdW5jdGlvbih0KXt0JiZ0LmRvbWFpbklkJiYoZS52b2ljZUlkRG9tYWluSWQ9dC5kb21haW5JZCxyLmlzQWN0aXZlQ29uZHVpdChlKSYmKHIuY29yZS52b2ljZUlkRG9tYWluSWQ9dC5kb21haW5JZCkpfSkpfSkpLHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5JRlJBTUVfUkVUUklFU19FWEhBVVNURUQsKGZ1bmN0aW9uKGUpe2lmKGU9PT15LmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lJiZoKXt2YXIgdD1wW3kuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWVdLmlmcmFtZVJlZnJlc2hBdHRlbXB0LTE7ci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmdldExvZygpLmluZm8oIlRpbWUgYWZ0ZXIgaWZyYW1lIGluaXRpYWxpemF0aW9uIHN0YXJ0ZWQgIi5jb25jYXQoRGF0ZS5ub3coKS1oKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmdldExvZygpLmluZm8oIklmcmFtZSByZWZyZXNoIGF0dGVtcHRzICIuY29uY2F0KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZTpvLGRhdGE6e2NvdW50OnR9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOmksZGF0YTp7Y291bnQ6MH19KSxoPW51bGx9fSkpLHIuY29yZS5zb2Z0cGhvbmVQYXJhbXM9cy5zb2Z0cGhvbmUseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uub25VcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElORywoZnVuY3Rpb24odCl7ci5pc0FjdGl2ZUNvbmR1aXQoZSkmJihkP3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBGQUlMT1ZFUl9QRU5ESU5HIC0gZGVkdXBpbmcsIHdpbGwgbm90IHRyaWdnZXIgZXZlbnQgc3Vic2NyaXB0aW9uLiIpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6KHIuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBGQUlMT1ZFUl9QRU5ESU5HIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HX0NSTSx7bmV4dEFjdGl2ZVJlZ2lvbjp0LmFjdGl2ZVJlZ2lvbn0pLGQ9ITAsYz1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVyUGVuZGluZ1JlY2VpdmVkIixkYXRhOntjb3VudDoxfX0pKSl9KSl9KSkseS5yZWxheVVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCkseS5yZWxheVVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSkseS5yZWxheVVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5IRUFSVEJFQVRfU1lOKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkhFQVJUQkVBVF9BQ0spLHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5ET1dOTE9BRF9MT0dfRlJPTV9DQ1AsKGZ1bmN0aW9uKCl7eS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVnaW9ufHwicmVnaW9uIjtlLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5ET1dOTE9BRF9MT0dfRlJPTV9DQ1Ase2xvZ05hbWU6ImNjcC0iLmNvbmNhdCh0LCItYWdlbnQtbG9nIil9KX0pKX0pKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciBlPTA7eS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucmVnaW9uJiYoZSs9MSl9KSksZTwyJiYoci5nZXRMb2coKS5pbmZvKCJbR1JdIE9uZSBvciBtb3JlIGNvbmR1aXRzIGRpZCBub3QgR2xvYmFsUmVzaWxpZW5jeS5JTklUIGV2ZW50IHRvIENSTSBsYXllci4iKS53aXRoT2JqZWN0KHtmaXJzdENvbmR1aXROYW1lOnkuZ2V0QWxsQ29uZHVpdHMoKVswXS5uYW1lLGZpcnN0Q29uZHVpdFJlZ2lvbjp5LmdldEFsbENvbmR1aXRzKClbMF0ucmVnaW9uLHNlY29uZENvbmR1aXROYW1lOnkuZ2V0QWxsQ29uZHVpdHMoKVsxXS5uYW1lLHNlY29uZENvbmR1aXRSZWdpb246eS5nZXRBbGxDb25kdWl0cygpWzFdLnJlZ2lvbn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5UGFydGlhbEluaXRpYWxpemF0aW9uIixkYXRhOntjb3VudDoxfX0pKX0pLDNlNCl9fX0oKX0sOTU6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfSFmdW5jdGlvbih0KXt2YXIgbj17fTtmdW5jdGlvbiByKGUpe2lmKG5bZV0pcmV0dXJuIG5bZV0uZXhwb3J0czt2YXIgbz1uW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtlXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxyKSxvLmw9ITAsby5leHBvcnRzfXIubT10LHIuYz1uLHIuZD1mdW5jdGlvbihlLHQsbil7ci5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LHIudD1mdW5jdGlvbih0LG4pe2lmKDEmbiYmKHQ9cih0KSksOCZuKXJldHVybiB0O2lmKDQmbiYmIm9iamVjdCI9PWUodCkmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImbiYmInN0cmluZyIhPXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KXIuZChvLGksZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxpKSk7cmV0dXJuIG99LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsImEiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPSIiLHIoci5zPTIpfShbZnVuY3Rpb24odCxuLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1yKDEpLGk9IkRFQlVHIixhPSJBTVpfV0VCX1NPQ0tFVF9NQU5BR0VSOiIscz0iTmV0d29yayBvZmZsaW5lIixjPSJOZXR3b3JrIG9ubGluZSwgY29ubmVjdGluZyB0byBXZWJTb2NrZXQgc2VydmVyIix1PSJOZXR3b3JrIG9mZmxpbmUsIGlnbm9yaW5nIHRoaXMgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0IixsPSJIZWFydGJlYXQgcmVzcG9uc2Ugbm90IHJlY2VpdmVkIixwPSJGYWlsZWQgdG8gc2VuZCBoZWFydGJlYXQgc2luY2UgV2ViU29ja2V0IGlzIG5vdCBvcGVuIixkPSJXZWJTb2NrZXQgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCEiLGg9IldlYlNvY2tldCBjb25uZWN0aW9uIGlzIGNsb3NlZCIsZj0iV2ViU29ja2V0TWFuYWdlciBFcnJvciwgZXJyb3JfZXZlbnQ6ICIsZz0iU2NoZWR1bGluZyBXZWJTb2NrZXQgcmVpbml0aWFsaXphdGlvbiwgYWZ0ZXIgZGVsYXkgIixtPSJXZWJTb2NrZXQgVVJMIGNhbm5vdCBiZSB1c2VkIHRvIGVzdGFibGlzaCBjb25uZWN0aW9uIix2PSJXZWJTb2NrZXQgSW5pdGlhbGl6YXRpb24gZmFpbGVkIC0gVGVybWluYXRpbmcgYW5kIGNsZWFuaW5nIHN1YnNjcmlwdGlvbnMiLHk9IkZldGNoaW5nIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixiPSJTdWNjZXNzZnVsbHkgZmV0Y2hlZCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixTPSJGYWlsZWQgdG8gZmV0Y2ggd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsRT0iUmV0cnlpbmcgZmV0Y2hpbmcgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLEM9IkluaXRpYWxpemluZyBXZWJzb2NrZXQgTWFuYWdlciIsST0iV2ViU29ja2V0TWFuYWdlciBNZXNzYWdlIEVycm9yIixUPSJNZXNzYWdlIHJlY2VpdmVkIGZvciB0b3BpYyAiLHc9IkludmFsaWQgaW5jb21pbmcgbWVzc2FnZSIsQT0iYXdzL3N1YnNjcmliZSIsXz0iYXdzL2hlYXJ0YmVhdCIsUj0iZGlzY29ubmVjdGVkIjtmdW5jdGlvbiBPKHQpe3JldHVybihPPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT1lKFN5bWJvbC5pdGVyYXRvcik/ZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjplKHQpfSkodCl9dmFyIEw9e2Fzc2VydFRydWU6ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodCl9LGFzc2VydE5vdE51bGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTC5hc3NlcnRUcnVlKG51bGwhPT1lJiZ2b2lkIDAhPT1PKGUpLE9iamVjdChvLnNwcmludGYpKCIlcyBtdXN0IGJlIHByb3ZpZGVkIix0fHwiQSB2YWx1ZSIpKSxlfSxpc05vbkVtcHR5U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmZS5sZW5ndGg+MH0sYXNzZXJ0SXNMaXN0OmZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3QgYW4gYXJyYXkiKX0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmNvbnN0cnVjdG9yJiZlLmNhbGwmJmUuYXBwbHkpfSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4hKCJvYmplY3QiIT09TyhlKXx8bnVsbD09PWUpfSxpc1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9LGlzTnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX19LGs9bmV3IFJlZ0V4cCgiXih3c3M6Ly8pXFx3KiIpO0wudmFsaWRXU1VybD1mdW5jdGlvbihlKXtyZXR1cm4gay50ZXN0KGUpfSxMLmdldFN1YnNjcmlwdGlvblJlc3BvbnNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57dG9waWM6ZSxjb250ZW50OntzdGF0dXM6dD8ic3VjY2VzcyI6ImZhaWx1cmUiLHRvcGljczpufX19LEwuYXNzZXJ0SXNPYmplY3Q9ZnVuY3Rpb24oZSx0KXtpZighTC5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIil9LEwuYWRkSml0dGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3Q9TWF0aC5taW4odCwxKTt2YXIgbj1NYXRoLnJhbmRvbSgpPi41PzE6LTE7cmV0dXJuIE1hdGguZmxvb3IoZStuKmUqTWF0aC5yYW5kb20oKSp0KX0sTC5pc05ldHdvcmtPbmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLm9uTGluZX0sTC5pc05ldHdvcmtGYWlsdXJlPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUuX2RlYnVnfHwhZS5fZGVidWcudHlwZSkmJiJOZXR3b3JraW5nRXJyb3IiPT09ZS5fZGVidWcudHlwZX07dmFyIE49TDtmdW5jdGlvbiBQKGUpe3JldHVybihQPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBEKGUsdCl7cmV0dXJuKEQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIHgodCl7cmV0dXJuKHg9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PWUoU3ltYm9sLml0ZXJhdG9yKT9mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOmUodCl9KSh0KX1mdW5jdGlvbiBNKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gVShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fWZ1bmN0aW9uIEYoZSx0LG4pe3JldHVybiB0JiZVKGUucHJvdG90eXBlLHQpLG4mJlUoZSxuKSxlfXZhciBqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe00odGhpcyxlKX1yZXR1cm4gRihlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbihlKXt9fV0pLGV9KCkscT1hLEI9e0RFQlVHOjEwLElORk86MjAsV0FSTjozMCxFUlJPUjo0MCxBRFZBTkNFRF9MT0c6NTB9LEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7TSh0aGlzLGUpLHRoaXMudXBkYXRlTG9nZ2VyQ29uZmlnKCksdGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcj1IKCl9cmV0dXJuIEYoZSxbe2tleToid3JpdGVUb0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmhhc0NsaWVudExvZ2dlcigpKXN3aXRjaChlKXtjYXNlIEIuREVCVUc6cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci5kZWJ1Zyh0KXx8dDtjYXNlIEIuSU5GTzpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmluZm8odCl8fHQ7Y2FzZSBCLldBUk46cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci53YXJuKHQpfHx0O2Nhc2UgQi5FUlJPUjpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmVycm9yKHQpfHx0O2Nhc2UgQi5BRFZBTkNFRF9MT0c6cmV0dXJuIHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyP3RoaXMuX2NsaWVudExvZ2dlclt0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcl0odCl8fHQ6IiJ9fX0se2tleToiaXNMZXZlbEVuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPj10aGlzLl9sZXZlbH19LHtrZXk6Imhhc0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2NsaWVudExvZ2dlcn19LHtrZXk6ImdldExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcmVmaXh8fHE7cmV0dXJuIHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj09PWk/dGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcjpuZXcgVyh0KX19LHtrZXk6InVwZGF0ZUxvZ2dlckNvbmZpZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dGhpcy5fbGV2ZWw9dC5sZXZlbHx8Qi5JTkZPLHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyPSJ3YXJuIix0LmFkdmFuY2VkTG9nV3JpdGVyJiYodGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI9dC5hZHZhbmNlZExvZ1dyaXRlciksdC5jdXN0b21pemVkTG9nZ2VyJiYib2JqZWN0Ij09PXgodC5jdXN0b21pemVkTG9nZ2VyKSYmKHRoaXMudXNlQ2xpZW50TG9nZ2VyPSEwKSx0aGlzLl9jbGllbnRMb2dnZXI9dC5sb2dnZXJ8fHRoaXMuc2VsZWN0TG9nZ2VyKHQpLHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj0iTlVMTCIsdC5kZWJ1ZyYmKHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj1pKSx0LmxvZ2dlciYmKHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj0iQ0xJRU5UX0xPR0dFUiIpfX0se2tleToic2VsZWN0TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jdXN0b21pemVkTG9nZ2VyJiYib2JqZWN0Ij09PXgoZS5jdXN0b21pemVkTG9nZ2VyKT9lLmN1c3RvbWl6ZWRMb2dnZXI6ZS51c2VEZWZhdWx0TG9nZ2VyPyh0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyPUgoKSx0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyKTpudWxsfX1dKSxlfSgpLFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7TSh0aGlzLGUpfXJldHVybiBGKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJhZHZhbmNlZExvZyIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLGV9KCksVz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIE0odGhpcyxlKSwobj1mdW5jdGlvbihlLHQpe3JldHVybiF0fHwib2JqZWN0IiE9PXgodCkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX0oZSk6dH0odGhpcyxQKGUpLmNhbGwodGhpcykpKS5wcmVmaXg9dHx8cSxufXJldHVybiBmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZEKGUsdCl9KGUsViksRihlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuREVCVUcsdCl9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5JTkZPLHQpfX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKEIuV0FSTix0KX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5FUlJPUix0KX19LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5BRFZBTkNFRF9MT0csdCl9fSx7a2V5OiJfc2hvdWxkTG9nIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gei5oYXNDbGllbnRMb2dnZXIoKSYmei5pc0xldmVsRW5hYmxlZChlKX19LHtrZXk6Il93cml0ZVRvQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB6LndyaXRlVG9DbGllbnRMb2dnZXIoZSx0KX19LHtrZXk6Il9sb2ciLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fc2hvdWxkTG9nKGUpKXt2YXIgbj16LnVzZUNsaWVudExvZ2dlcj90OnRoaXMuX2NvbnZlcnRUb1NpbmdsZVN0YXRlbWVudCh0LGUpO3JldHVybiB0aGlzLl93cml0ZVRvQ2xpZW50TG9nZ2VyKGUsbil9fX0se2tleToiX2NvbnZlcnRUb1NpbmdsZVN0YXRlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpLHI9dGhpcy5fZ2V0TG9nTGV2ZWxCeVZhbHVlKHQpLG89IlsiLmNvbmNhdChuLCJdWyIpLmNvbmNhdChyLCJdIik7dGhpcy5wcmVmaXgmJihvKz10aGlzLnByZWZpeCsiICIpLHRoaXMub3B0aW9ucyYmKHRoaXMub3B0aW9ucy5wcmVmaXg/bys9IiAiK3RoaXMub3B0aW9ucy5wcmVmaXgrIjoiOm8rPSIiLHRoaXMub3B0aW9ucy5sb2dNZXRhRGF0YT9vKz0iIE1ldGEgZGF0YTogIitKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMubG9nTWV0YURhdGEpOm8rPSIiKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIGE9ZVtpXTtvKz10aGlzLl9jb252ZXJ0VG9TdHJpbmcoYSkrIiAifXJldHVybiBvfX0se2tleToiX2dldExvZ0xldmVsQnlWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMTA6cmV0dXJuIkRFQlVHIjtjYXNlIDIwOnJldHVybiJJTkZPIjtjYXNlIDMwOnJldHVybiJXQVJOIjtjYXNlIDQwOnJldHVybiJFUlJPUiI7Y2FzZSA1MDpyZXR1cm4iQURWQU5DRURfTE9HIn19fSx7a2V5OiJfY29udmVydFRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXt0cnl7aWYoIWUpcmV0dXJuIiI7aWYoTi5pc1N0cmluZyhlKSlyZXR1cm4gZTtpZihOLmlzT2JqZWN0KGUpJiZOLmlzRnVuY3Rpb24oZS50b1N0cmluZykpe3ZhciB0PWUudG9TdHJpbmcoKTtpZigiW29iamVjdCBPYmplY3RdIiE9PXQpcmV0dXJuIHR9cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKCJFcnJvciB3aGlsZSBjb252ZXJ0aW5nIGFyZ3VtZW50IHRvIHN0cmluZyIsZSx0KSwiIn19fV0pLGV9KCksSD1mdW5jdGlvbigpe3ZhciBlPW5ldyBWO3JldHVybiBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuZGVidWcuYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuaW5mby5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS53YXJuLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5lcnJvci5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlfSx6PW5ldyBHO2Z1bmN0aW9uIEsoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX12YXIgWT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjJlMzshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0odGhpcyxlKSx0aGlzLm51bUF0dGVtcHRzPTAsdGhpcy5leGVjdXRvcj10LHRoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9uPSExLHRoaXMuZGVmYXVsdFJldHJ5PW59dmFyIHQsbjtyZXR1cm4gdD1lLChuPVt7a2V5OiJyZXRyeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9ufHwodGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb249ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9leGVjdXRlKCl9KSx0aGlzLl9nZXREZWxheSgpKSl9fSx7a2V5OiJfZXhlY3V0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbj0hMSx0aGlzLmV4ZWN1dG9yKCksdGhpcy5udW1BdHRlbXB0cysrfX0se2tleToiY29ubmVjdGVkIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubnVtQXR0ZW1wdHM9MH19LHtrZXk6Il9nZXREZWxheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnBvdygyLHRoaXMubnVtQXR0ZW1wdHMpKnRoaXMuZGVmYXVsdFJldHJ5O3JldHVybiBlPD0zZTQ/ZTozZTR9fSx7a2V5OiJnZXRJc0Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5udW1BdHRlbXB0c319XSkmJksodC5wcm90b3R5cGUsbiksZX0oKTtyLmQobiwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSk7dmFyIFg9ZnVuY3Rpb24oKXt2YXIgZT16LmdldExvZ2dlcih7cHJlZml4OmF9KSx0PU4uaXNOZXR3b3JrT25saW5lKCksbj17cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfSxyPXtyZWNvbm5lY3RXZWJTb2NrZXQ6ITAsd2Vic29ja2V0SW5pdEZhaWxlZDohMSxleHBvbmVudGlhbEJhY2tPZmZUaW1lOjFlMyxleHBvbmVudGlhbFRpbWVvdXRIYW5kbGU6bnVsbCxsaWZlVGltZVRpbWVvdXRIYW5kbGU6bnVsbCx3ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZDpudWxsLGNvbm5TdGF0ZTpudWxsfSxvPXtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDowLGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm51bGwsbm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6bnVsbH0saT17cGVuZGluZ1Jlc3BvbnNlOiExLGludGVydmFsSGFuZGxlOm51bGx9LE89e2luaXRGYWlsdXJlOm5ldyBTZXQsZ2V0V2ViU29ja2V0VHJhbnNwb3J0Om51bGwsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0fSxMPXtjb25uQ29uZmlnOm51bGwscHJvbWlzZUhhbmRsZTpudWxsLHByb21pc2VDb21wbGV0ZWQ6ITB9LGs9e3N1YnNjcmliZWQ6bmV3IFNldCxwZW5kaW5nOm5ldyBTZXQsc3Vic2NyaXB0aW9uSGlzdG9yeTpuZXcgU2V0fSxQPXtyZXNwb25zZUNoZWNrSW50ZXJ2YWxJZDpudWxsLHJlcXVlc3RDb21wbGV0ZWQ6ITAscmVTdWJzY3JpYmVJbnRlcnZhbElkOm51bGwsY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0czowLGNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q6MH0sRD1uZXcgWSgoZnVuY3Rpb24oKXtzZSgpfSkpLHg9bmV3IFNldChbQSwiYXdzL3Vuc3Vic2NyaWJlIixfXSksTT1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZih0IT09Ti5pc05ldHdvcmtPbmxpbmUoKSl7aWYoISh0PU4uaXNOZXR3b3JrT25saW5lKCkpKXJldHVybiBlLmFkdmFuY2VkTG9nKHMpLHZvaWQgbGUoZS5pbmZvKHMpKTt2YXIgbj1WKCk7dCYmKCFufHxxKG4sV2ViU29ja2V0LkNMT1NJTkcpfHxxKG4sV2ViU29ja2V0LkNMT1NFRCkpJiYoZS5hZHZhbmNlZExvZyhjKSxsZShlLmluZm8oYykpLHNlKCkpfX0pLDI1MCksVT1mdW5jdGlvbih0LG4pe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3Qobil9Y2F0Y2godCl7bGUoZS5lcnJvcigiRXJyb3IgZXhlY3V0aW5nIGNhbGxiYWNrIix0KSl9fSkpfSxGPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiJOVUxMIjtzd2l0Y2goZS5yZWFkeVN0YXRlKXtjYXNlIFdlYlNvY2tldC5DT05ORUNUSU5HOnJldHVybiJDT05ORUNUSU5HIjtjYXNlIFdlYlNvY2tldC5PUEVOOnJldHVybiJPUEVOIjtjYXNlIFdlYlNvY2tldC5DTE9TSU5HOnJldHVybiJDTE9TSU5HIjtjYXNlIFdlYlNvY2tldC5DTE9TRUQ6cmV0dXJuIkNMT1NFRCI7ZGVmYXVsdDpyZXR1cm4iVU5ERUZJTkVEIn19LGo9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06IiI7bGUoZS5kZWJ1ZygiWyIrdCsiXSBQcmltYXJ5IFdlYlNvY2tldDogIitGKG4ucHJpbWFyeSkrIiB8IFNlY29uZGFyeSBXZWJTb2NrZXQ6ICIrRihuLnNlY29uZGFyeSkpKX0scT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLnJlYWR5U3RhdGU9PT10fSxCPWZ1bmN0aW9uKGUpe3JldHVybiBxKGUsV2ViU29ja2V0Lk9QRU4pfSxHPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8dm9pZCAwPT09ZS5yZWFkeVN0YXRlfHxxKGUsV2ViU29ja2V0LkNMT1NFRCl9LFY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW4uc2Vjb25kYXJ5P24uc2Vjb25kYXJ5Om4ucHJpbWFyeX0sVz1mdW5jdGlvbigpe3JldHVybiBCKFYoKSl9LEg9ZnVuY3Rpb24oKXtpZihpLnBlbmRpbmdSZXNwb25zZSlyZXR1cm4gZS5hZHZhbmNlZExvZyhsKSxsZShlLndhcm4obCkpLGNsZWFySW50ZXJ2YWwoaS5pbnRlcnZhbEhhbmRsZSksaS5wZW5kaW5nUmVzcG9uc2U9ITEsdm9pZCBzZSgpO1coKT8obGUoZS5kZWJ1ZygiU2VuZGluZyBoZWFydGJlYXQiKSksVigpLnNlbmQoaWUoXykpLGkucGVuZGluZ1Jlc3BvbnNlPSEwKTooZS5hZHZhbmNlZExvZyhwKSxsZShlLndhcm4ocCkpLGooInNlbmRIZWFydEJlYXQiKSxzZSgpKX0sSz1mdW5jdGlvbigpe2UuYWR2YW5jZWRMb2coIlJlc2V0IFdlYnNvY2tldCBzdGF0ZSIpLHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZT0xZTMsaS5wZW5kaW5nUmVzcG9uc2U9ITEsci5yZWNvbm5lY3RXZWJTb2NrZXQ9ITAsY2xlYXJUaW1lb3V0KHIubGlmZVRpbWVUaW1lb3V0SGFuZGxlKSxjbGVhckludGVydmFsKGkuaW50ZXJ2YWxIYW5kbGUpLGNsZWFyVGltZW91dChyLmV4cG9uZW50aWFsVGltZW91dEhhbmRsZSksY2xlYXJUaW1lb3V0KHIud2ViU29ja2V0SW5pdENoZWNrZXJUaW1lb3V0SWQpfSxYPWZ1bmN0aW9uKCl7UC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTAsUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PTAsY2xlYXJJbnRlcnZhbChQLnJlc3BvbnNlQ2hlY2tJbnRlcnZhbElkKSxjbGVhckludGVydmFsKFAucmVTdWJzY3JpYmVJbnRlcnZhbElkKX0sSj1mdW5jdGlvbigpe28uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ9MCxvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lPW51bGwsby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD1udWxsfSxRPWZ1bmN0aW9uKCl7RC5jb25uZWN0ZWQoKTt0cnl7ZS5hZHZhbmNlZExvZyhkKSxsZShlLmluZm8oZCkpLGooIndlYlNvY2tldE9uT3BlbiIpLG51bGwhPT1yLmNvbm5TdGF0ZSYmci5jb25uU3RhdGUhPT1SfHxVKE8uY29ubmVjdGlvbkdhaW4pLHIuY29ublN0YXRlPSJjb25uZWN0ZWQiO3ZhciB0PURhdGUubm93KCk7VShPLmNvbm5lY3Rpb25PcGVuLHtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDpvLmNvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50LGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUsbm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6by5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcCxjb25uZWN0aW9uRXN0YWJsaXNoZWRUaW1lOnQsdGltZVRvQ29ubmVjdDp0LW8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUsdGltZVdpdGhvdXRDb25uZWN0aW9uOm8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA/dC1vLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wOm51bGx9KSxKKCksSygpLFYoKS5vcGVuVGltZXN0YW1wPURhdGUubm93KCksMD09PWsuc3Vic2NyaWJlZC5zaXplJiZCKG4uc2Vjb25kYXJ5KSYmdGUobi5wcmltYXJ5LCJbUHJpbWFyeSBXZWJTb2NrZXRdIENsb3NpbmcgV2ViU29ja2V0IiksKGsuc3Vic2NyaWJlZC5zaXplPjB8fGsucGVuZGluZy5zaXplPjApJiYoQihuLnNlY29uZGFyeSkmJmxlKGUuaW5mbygiU3Vic2NyaWJpbmcgc2Vjb25kYXJ5IHdlYnNvY2tldCB0byB0b3BpY3Mgb2YgcHJpbWFyeSB3ZWJzb2NrZXQiKSksay5zdWJzY3JpYmVkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2suc3Vic2NyaXB0aW9uSGlzdG9yeS5hZGQoZSksay5wZW5kaW5nLmFkZChlKX0pKSxrLnN1YnNjcmliZWQuY2xlYXIoKSxlZSgpKSxIKCksaS5pbnRlcnZhbEhhbmRsZT1zZXRJbnRlcnZhbChILDFlNCk7dmFyIGE9MWUzKkwuY29ubkNvbmZpZy53ZWJTb2NrZXRUcmFuc3BvcnQudHJhbnNwb3J0TGlmZVRpbWVJblNlY29uZHM7bGUoZS5kZWJ1ZygiU2NoZWR1bGluZyBXZWJTb2NrZXQgbWFuYWdlciByZWNvbm5lY3Rpb24sIGFmdGVyIGRlbGF5ICIrYSsiIG1zIikpLHIubGlmZVRpbWVUaW1lb3V0SGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bGUoZS5kZWJ1ZygiU3RhcnRpbmcgc2NoZWR1bGVkIFdlYlNvY2tldCBtYW5hZ2VyIHJlY29ubmVjdGlvbiIpKSxzZSgpfSksYSl9Y2F0Y2godCl7bGUoZS5lcnJvcigiRXJyb3IgYWZ0ZXIgZXN0YWJsaXNoaW5nIFdlYlNvY2tldCBjb25uZWN0aW9uIix0KSl9fSxaPWZ1bmN0aW9uKHQpe2ooIndlYlNvY2tldE9uRXJyb3IiKSxlLmFkdmFuY2VkTG9nKGYsSlNPTi5zdHJpbmdpZnkodCkpLGxlKGUuZXJyb3IoZixKU09OLnN0cmluZ2lmeSh0KSkpLEQuZ2V0SXNDb25uZWN0ZWQoKT9zZSgpOkQucmV0cnkoKX0sJD1mdW5jdGlvbih0KXt2YXIgcj1KU09OLnBhcnNlKHQuZGF0YSk7c3dpdGNoKHIudG9waWMpe2Nhc2UgQTppZihsZShlLmRlYnVnKCJTdWJzY3JpcHRpb24gTWVzc2FnZSByZWNlaXZlZCBmcm9tIHdlYlNvY2tldCBzZXJ2ZXIiLHQuZGF0YSkpLFAucmVxdWVzdENvbXBsZXRlZD0hMCxQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q9MCwic3VjY2VzcyI9PT1yLmNvbnRlbnQuc3RhdHVzKVAuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cz0wLHIuY29udGVudC50b3BpY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ay5zdWJzY3JpcHRpb25IaXN0b3J5LmRlbGV0ZShlKSxrLnBlbmRpbmcuZGVsZXRlKGUpLGsuc3Vic2NyaWJlZC5hZGQoZSl9KSksMD09PWsuc3Vic2NyaXB0aW9uSGlzdG9yeS5zaXplP0Iobi5zZWNvbmRhcnkpJiYobGUoZS5pbmZvKCJTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCBzZWNvbmRhcnkgd2Vic29ja2V0IHRvIGFsbCB0b3BpY3Mgb2YgcHJpbWFyeSB3ZWJzb2NrZXQiKSksdGUobi5wcmltYXJ5LCJbUHJpbWFyeSBXZWJTb2NrZXRdIENsb3NpbmcgV2ViU29ja2V0IikpOmVlKCksVShPLnN1YnNjcmlwdGlvblVwZGF0ZSxyKTtlbHNle2lmKGNsZWFySW50ZXJ2YWwoUC5yZVN1YnNjcmliZUludGVydmFsSWQpLCsrUC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzLDU9PT1QLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHMpcmV0dXJuIFUoTy5zdWJzY3JpcHRpb25GYWlsdXJlLHIpLHZvaWQoUC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTApO1AucmVTdWJzY3JpYmVJbnRlcnZhbElkPXNldEludGVydmFsKChmdW5jdGlvbigpe2VlKCl9KSw1MDApfWJyZWFrO2Nhc2UgXzpsZShlLmRlYnVnKCJIZWFydGJlYXQgcmVzcG9uc2UgcmVjZWl2ZWQiKSksaS5wZW5kaW5nUmVzcG9uc2U9ITE7YnJlYWs7ZGVmYXVsdDppZihyLnRvcGljKXtpZihlLmFkdmFuY2VkTG9nKFQsci50b3BpYyksbGUoZS5kZWJ1ZyhUK3IudG9waWMpKSxCKG4ucHJpbWFyeSkmJkIobi5zZWNvbmRhcnkpJiYwPT09ay5zdWJzY3JpcHRpb25IaXN0b3J5LnNpemUmJnRoaXM9PT1uLnByaW1hcnkpcmV0dXJuIHZvaWQgbGUoZS53YXJuKCJJZ25vcmluZyBNZXNzYWdlIGZvciBUb3BpYyAiK3IudG9waWMrIiwgdG8gYXZvaWQgZHVwbGljYXRlcyIpKTtpZigwPT09Ty5hbGxNZXNzYWdlLnNpemUmJjA9PT1PLnRvcGljLnNpemUpcmV0dXJuIHZvaWQgbGUoZS53YXJuKCJObyByZWdpc3RlcmVkIGNhbGxiYWNrIGxpc3RlbmVyIGZvciBUb3BpYyIsci50b3BpYykpO2UuYWR2YW5jZWRMb2coIldlYnNvY2tldE1hbmFnZXIgaW52b2tlIGNhbGxiYWNrcyBmb3IgdG9waWMgc3VjY2VzcyAiLHIudG9waWMpLFUoTy5hbGxNZXNzYWdlLHIpLE8udG9waWMuaGFzKHIudG9waWMpJiZVKE8udG9waWMuZ2V0KHIudG9waWMpLHIpfWVsc2Ugci5tZXNzYWdlPyhlLmFkdmFuY2VkTG9nKEksciksbGUoZS53YXJuKEkscikpKTooZS5hZHZhbmNlZExvZyh3LHIpLGxlKGUud2Fybih3LHIpKSl9fSxlZT1mdW5jdGlvbiB0KCl7aWYoUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PjMpcmV0dXJuIGxlKGUud2FybigiSWdub3Jpbmcgc3Vic2NyaWJlUGVuZGluZ1RvcGljcyBzaW5jZSB3ZSBoYXZlIGV4aGF1c3RlZCBtYXggc3Vic2NyaXB0aW9uIHJldHJpZXMgd2l0aCBubyByZXNwb25zZSIpKSx2b2lkIFUoTy5zdWJzY3JpcHRpb25GYWlsdXJlLE4uZ2V0U3Vic2NyaXB0aW9uUmVzcG9uc2UoQSwhMSxBcnJheS5mcm9tKGsucGVuZGluZykpKTtXKCk/MCE9PUFycmF5LmZyb20oay5wZW5kaW5nKS5sZW5ndGgmJihjbGVhckludGVydmFsKFAucmVzcG9uc2VDaGVja0ludGVydmFsSWQpLFYoKS5zZW5kKGllKEEse3RvcGljczpBcnJheS5mcm9tKGsucGVuZGluZyl9KSksUC5yZXF1ZXN0Q29tcGxldGVkPSExLFAucmVzcG9uc2VDaGVja0ludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7UC5yZXF1ZXN0Q29tcGxldGVkfHwoKytQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3QsdCgpKX0pLDFlMykpOmxlKGUud2FybigiSWdub3Jpbmcgc3Vic2NyaWJlUGVuZGluZ1RvcGljcyBjYWxsIHNpbmNlIERlZmF1bHQgV2ViU29ja2V0IGlzIG5vdCBvcGVuIikpfSx0ZT1mdW5jdGlvbih0LG4pe3EodCxXZWJTb2NrZXQuQ09OTkVDVElORyl8fHEodCxXZWJTb2NrZXQuT1BFTik/dC5jbG9zZSgxZTMsbik6bGUoZS53YXJuKCJJZ25vcmluZyBXZWJTb2NrZXQgQ2xvc2UgcmVxdWVzdCwgV2ViU29ja2V0IFN0YXRlOiAiK0YodCkpKX0sbmU9ZnVuY3Rpb24oZSl7dGUobi5wcmltYXJ5LCJbUHJpbWFyeV0gV2ViU29ja2V0ICIrZSksdGUobi5zZWNvbmRhcnksIltTZWNvbmRhcnldIFdlYlNvY2tldCAiK2UpfSxyZT1mdW5jdGlvbigpe28uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQrKzt2YXIgdD1OLmFkZEppdHRlcihyLmV4cG9uZW50aWFsQmFja09mZlRpbWUsLjMpO0RhdGUubm93KCkrdDw9TC5jb25uQ29uZmlnLnVybENvbm5WYWxpZFRpbWU/KGUuYWR2YW5jZWRMb2coZyksbGUoZS5kZWJ1ZyhnK3QrIiBtcyIpKSxyLmV4cG9uZW50aWFsVGltZW91dEhhbmRsZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JldHVybiBjZSgpfSksdCksci5leHBvbmVudGlhbEJhY2tPZmZUaW1lKj0yKTooZS5hZHZhbmNlZExvZyhtKSxsZShlLndhcm4obSkpLHNlKCkpfSxvZT1mdW5jdGlvbih0KXtLKCksWCgpLGUuYWR2YW5jZWRMb2codix0KSxsZShlLmVycm9yKHYpKSxyLndlYnNvY2tldEluaXRGYWlsZWQ9ITAsbmUoIlRlcm1pbmF0aW5nIFdlYlNvY2tldCBNYW5hZ2VyIiksY2xlYXJJbnRlcnZhbChNKSxVKE8uaW5pdEZhaWx1cmUse2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50Om8uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSxyZWFzb246dH0pLEooKX0saWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe3RvcGljOmUsY29udGVudDp0fSl9LGFlPWZ1bmN0aW9uKHQpe3JldHVybiEhKE4uaXNPYmplY3QodCkmJk4uaXNPYmplY3QodC53ZWJTb2NrZXRUcmFuc3BvcnQpJiZOLmlzTm9uRW1wdHlTdHJpbmcodC53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKSYmTi52YWxpZFdTVXJsKHQud2ViU29ja2V0VHJhbnNwb3J0LnVybCkmJjFlMyp0LndlYlNvY2tldFRyYW5zcG9ydC50cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcz49M2U1KXx8KGxlKGUuZXJyb3IoIkludmFsaWQgV2ViU29ja2V0IENvbm5lY3Rpb24gQ29uZmlndXJhdGlvbiIsdCkpLCExKX0sc2U9ZnVuY3Rpb24oKXtpZighTi5pc05ldHdvcmtPbmxpbmUoKSlyZXR1cm4gZS5hZHZhbmNlZExvZyh1KSx2b2lkIGxlKGUuaW5mbyh1KSk7aWYoci53ZWJzb2NrZXRJbml0RmFpbGVkKWxlKGUuZGVidWcoIldlYlNvY2tldCBJbml0IGhhZCBmYWlsZWQsIGlnbm9yaW5nIHRoaXMgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0IikpO2Vsc2V7aWYoTC5wcm9taXNlQ29tcGxldGVkKXJldHVybiBLKCksZS5hZHZhbmNlZExvZyh5KSxsZShlLmluZm8oeSkpLG8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU9by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZXx8RGF0ZS5ub3coKSxMLnByb21pc2VDb21wbGV0ZWQ9ITEsTC5wcm9taXNlSGFuZGxlPU8uZ2V0V2ViU29ja2V0VHJhbnNwb3J0KCksTC5wcm9taXNlSGFuZGxlLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBMLnByb21pc2VDb21wbGV0ZWQ9ITAsZS5hZHZhbmNlZExvZyhiKSxsZShlLmRlYnVnKGIsdCkpLGFlKHQpPyhMLmNvbm5Db25maWc9dCxMLmNvbm5Db25maWcudXJsQ29ublZhbGlkVGltZT1EYXRlLm5vdygpKzg1ZTMsY2UoKSk6KG9lKCJJbnZhbGlkIFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb246ICIrdCkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9KX0pLChmdW5jdGlvbih0KXtyZXR1cm4gTC5wcm9taXNlQ29tcGxldGVkPSEwLGUuYWR2YW5jZWRMb2coUyksbGUoZS5lcnJvcihTLHQpKSxOLmlzTmV0d29ya0ZhaWx1cmUodCk/KGUuYWR2YW5jZWRMb2coRStKU09OLnN0cmluZ2lmeSh0KSksbGUoZS5pbmZvKEUrSlNPTi5zdHJpbmdpZnkodCkpKSxELnJldHJ5KCkpOm9lKCJGYWlsZWQgdG8gZmV0Y2ggd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbjogIitKU09OLnN0cmluZ2lmeSh0KSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9fSkpO2xlKGUuZGVidWcoIlRoZXJlIGlzIGFuIG9uZ29pbmcgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0LCB0aGlzIHJlcXVlc3Qgd2lsbCBiZSBpZ25vcmVkIikpfX0sY2U9ZnVuY3Rpb24oKXtpZihyLndlYnNvY2tldEluaXRGYWlsZWQpcmV0dXJuIGxlKGUuaW5mbygid2ViLXNvY2tldCBpbml0aWFsaXppbmcgaGFkIGZhaWxlZCwgYWJvcnRpbmcgcmUtaW5pdCIpKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH07aWYoIU4uaXNOZXR3b3JrT25saW5lKCkpcmV0dXJuIGxlKGUud2FybigiU3lzdGVtIGlzIG9mZmxpbmUgYWJvcnRpbmcgd2ViLXNvY2tldCBpbml0IikpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfTtlLmFkdmFuY2VkTG9nKEMpLGxlKGUuaW5mbyhDKSksaigiaW5pdFdlYlNvY2tldCIpO3RyeXtpZihhZShMLmNvbm5Db25maWcpKXt2YXIgdD1udWxsO3JldHVybiBCKG4ucHJpbWFyeSk/KGxlKGUuZGVidWcoIlByaW1hcnkgU29ja2V0IGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBvcGVuIikpLHEobi5zZWNvbmRhcnksV2ViU29ja2V0LkNPTk5FQ1RJTkcpfHwobGUoZS5kZWJ1ZygiRXN0YWJsaXNoaW5nIGEgc2Vjb25kYXJ5IHdlYi1zb2NrZXQgY29ubmVjdGlvbiIpKSxELm51bUF0dGVtcHRzPTAsbi5zZWNvbmRhcnk9dWUoKSksdD1uLnNlY29uZGFyeSk6KHEobi5wcmltYXJ5LFdlYlNvY2tldC5DT05ORUNUSU5HKXx8KGxlKGUuZGVidWcoIkVzdGFibGlzaGluZyBhIHByaW1hcnkgd2ViLXNvY2tldCBjb25uZWN0aW9uIikpLG4ucHJpbWFyeT11ZSgpKSx0PW4ucHJpbWFyeSksci53ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe0IodCl8fHJlKCl9KSwxZTMpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiExfX19Y2F0Y2godCl7cmV0dXJuIGxlKGUuZXJyb3IoIkVycm9yIEluaXRpYWxpemluZyB3ZWItc29ja2V0LW1hbmFnZXIiLHQpKSxvZSgiRmFpbGVkIHRvIGluaXRpYWxpemUgbmV3IFdlYlNvY2tldDogIit0Lm1lc3NhZ2UpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfX19LHVlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFdlYlNvY2tldChMLmNvbm5Db25maWcud2ViU29ja2V0VHJhbnNwb3J0LnVybCk7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcigib3BlbiIsUSksdC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwkKSx0LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixaKSx0LmFkZEV2ZW50TGlzdGVuZXIoImNsb3NlIiwoZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7ZS5hZHZhbmNlZExvZyhoLEpTT04uc3RyaW5naWZ5KHQpKSxsZShlLmluZm8oaCxKU09OLnN0cmluZ2lmeSh0KSkpLGooIndlYlNvY2tldE9uQ2xvc2UgYmVmb3JlLWNsZWFudXAiKSxVKE8uY29ubmVjdGlvbkNsb3NlLHtvcGVuVGltZXN0YW1wOmkub3BlblRpbWVzdGFtcCxjbG9zZVRpbWVzdGFtcDpEYXRlLm5vdygpLGNvbm5lY3Rpb25EdXJhdGlvbjpEYXRlLm5vdygpLWkub3BlblRpbWVzdGFtcCxjb2RlOnQuY29kZSxyZWFzb246dC5yZWFzb259KSxHKG4ucHJpbWFyeSkmJihuLnByaW1hcnk9bnVsbCksRyhuLnNlY29uZGFyeSkmJihuLnNlY29uZGFyeT1udWxsKSxyLnJlY29ubmVjdFdlYlNvY2tldCYmKEIobi5wcmltYXJ5KXx8QihuLnNlY29uZGFyeSk/RyhuLnByaW1hcnkpJiZCKG4uc2Vjb25kYXJ5KSYmKGxlKGUuaW5mbygiW1ByaW1hcnldIFdlYlNvY2tldCBDbGVhbmx5IENsb3NlZCIpKSxuLnByaW1hcnk9bi5zZWNvbmRhcnksbi5zZWNvbmRhcnk9bnVsbCk6KGxlKGUud2FybigiTmVpdGhlciBwcmltYXJ5IHdlYnNvY2tldCBhbmQgbm9yIHNlY29uZGFyeSB3ZWJzb2NrZXQgaGF2ZSBvcGVuIGNvbm5lY3Rpb25zLCBhdHRlbXB0aW5nIHRvIHJlLWVzdGFibGlzaCBjb25uZWN0aW9uIikpLHIuY29ublN0YXRlPT09Uj9sZShlLmluZm8oIklnbm9yaW5nIGNvbm5lY3Rpb25Mb3N0IGNhbGxiYWNrIGludm9jYXRpb24iKSk6KFUoTy5jb25uZWN0aW9uTG9zdCx7b3BlblRpbWVzdGFtcDppLm9wZW5UaW1lc3RhbXAsY2xvc2VUaW1lc3RhbXA6RGF0ZS5ub3coKSxjb25uZWN0aW9uRHVyYXRpb246RGF0ZS5ub3coKS1pLm9wZW5UaW1lc3RhbXAsY29kZTp0LmNvZGUscmVhc29uOnQucmVhc29ufSksby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD1EYXRlLm5vdygpKSxyLmNvbm5TdGF0ZT1SLHNlKCkpLGooIndlYlNvY2tldE9uQ2xvc2UgYWZ0ZXItY2xlYW51cCIpKX0oaSx0KX0pKSx0fSxsZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXImJmUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlfTt0aGlzLmluaXQ9ZnVuY3Rpb24odCl7aWYoTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwidHJhbnNwb3J0SGFuZGxlIG11c3QgYmUgYSBmdW5jdGlvbiIpLG51bGw9PT1PLmdldFdlYlNvY2tldFRyYW5zcG9ydClyZXR1cm4gTy5nZXRXZWJTb2NrZXRUcmFuc3BvcnQ9dCxzZSgpO2xlKGUud2FybigiV2ViIFNvY2tldCBNYW5hZ2VyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkIikpfSx0aGlzLm9uSW5pdEZhaWx1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIkluaXRpYWxpemluZyBXZWJzb2NrZXQgTWFuYWdlciBGYWlsZWQhIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5pbml0RmFpbHVyZS5hZGQodCksci53ZWJzb2NrZXRJbml0RmFpbGVkJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTy5pbml0RmFpbHVyZS5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbk9wZW49ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIG9wZW4iKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmNvbm5lY3Rpb25PcGVuLmFkZCh0KSxmdW5jdGlvbigpe3JldHVybiBPLmNvbm5lY3Rpb25PcGVuLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uQ2xvc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5jb25uZWN0aW9uQ2xvc2UuYWRkKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uY29ubmVjdGlvbkNsb3NlLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uR2Fpbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gZ2FpbiIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uY29ubmVjdGlvbkdhaW4uYWRkKHQpLFcoKSYmdCgpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uY29ubmVjdGlvbkdhaW4uZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBsb3N0IiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5jb25uZWN0aW9uTG9zdC5hZGQodCksci5jb25uU3RhdGU9PT1SJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTy5jb25uZWN0aW9uTG9zdC5kZWxldGUodCl9fSx0aGlzLm9uU3Vic2NyaXB0aW9uVXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKGUpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLnN1YnNjcmlwdGlvblVwZGF0ZS5hZGQoZSksZnVuY3Rpb24oKXtyZXR1cm4gTy5zdWJzY3JpcHRpb25VcGRhdGUuZGVsZXRlKGUpfX0sdGhpcy5vblN1YnNjcmlwdGlvbkZhaWx1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBzdWJzY3JpcHRpb24gZmFpbHVyZSIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uc3Vic2NyaXB0aW9uRmFpbHVyZS5hZGQodCksZnVuY3Rpb24oKXtyZXR1cm4gTy5zdWJzY3JpcHRpb25GYWlsdXJlLmRlbGV0ZSh0KX19LHRoaXMub25NZXNzYWdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE4uYXNzZXJ0Tm90TnVsbChlLCJ0b3BpY05hbWUiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLnRvcGljLmhhcyhlKT9PLnRvcGljLmdldChlKS5hZGQodCk6Ty50b3BpYy5zZXQoZSxuZXcgU2V0KFt0XSkpLGZ1bmN0aW9uKCl7cmV0dXJuIE8udG9waWMuZ2V0KGUpLmRlbGV0ZSh0KX19LHRoaXMub25BbGxNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKGUpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmFsbE1lc3NhZ2UuYWRkKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uYWxsTWVzc2FnZS5kZWxldGUoZSl9fSx0aGlzLnN1YnNjcmliZVRvcGljcz1mdW5jdGlvbihlKXtOLmFzc2VydE5vdE51bGwoZSwidG9waWNzIiksTi5hc3NlcnRJc0xpc3QoZSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtrLnN1YnNjcmliZWQuaGFzKGUpfHxrLnBlbmRpbmcuYWRkKGUpfSkpLFAuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD0wLGVlKCl9LHRoaXMuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24odCl7aWYoTi5hc3NlcnRJc09iamVjdCh0LCJwYXlsb2FkIiksdm9pZCAwPT09dC50b3BpY3x8eC5oYXModC50b3BpYykpbGUoZS53YXJuKCJDYW5ub3Qgc2VuZCBtZXNzYWdlLCBJbnZhbGlkIHRvcGljIix0KSk7ZWxzZXt0cnl7dD1KU09OLnN0cmluZ2lmeSh0KX1jYXRjaChuKXtyZXR1cm4gdm9pZCBsZShlLndhcm4oIkVycm9yIHN0cmluZ2lmeSBtZXNzYWdlIix0KSl9VygpP1YoKS5zZW5kKHQpOmxlKGUud2FybigiQ2Fubm90IHNlbmQgbWVzc2FnZSwgd2ViIHNvY2tldCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuIikpfX0sdGhpcy5jbG9zZVdlYlNvY2tldD1mdW5jdGlvbigpe0soKSxYKCksci5yZWNvbm5lY3RXZWJTb2NrZXQ9ITEsY2xlYXJJbnRlcnZhbChNKSxuZSgiVXNlciByZXF1ZXN0IHRvIGNsb3NlIFdlYlNvY2tldCIpfSx0aGlzLnRlcm1pbmF0ZVdlYlNvY2tldE1hbmFnZXI9b2V9LEo9e2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgWH0sc2V0R2xvYmFsQ29uZmlnOmZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUubG9nZ2VyQ29uZmlnO3oudXBkYXRlTG9nZ2VyQ29uZmlnKHQpfSxMb2dMZXZlbDpCLExvZ2dlcjpqfX0sZnVuY3Rpb24odCxuLHIpe3ZhciBvOyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT17bm90X3N0cmluZzovW15zXS8sbm90X2Jvb2w6L1tedF0vLG5vdF90eXBlOi9bXlRdLyxub3RfcHJpbWl0aXZlOi9bXnZdLyxudW1iZXI6L1tkaWVmZ10vLG51bWVyaWNfYXJnOi9bYmNkaWVmZ3V4WF0vLGpzb246L1tqXS8sbm90X2pzb246L1teal0vLHRleHQ6L15bXlx4MjVdKy8sbW9kdWxvOi9eXHgyNXsyfS8scGxhY2Vob2xkZXI6L15ceDI1KD86KFsxLTldXGQqKVwkfFwoKFteKV0rKVwpKT8oXCspPygwfCdbXiRdKT8oLSk/KFxkKyk/KD86XC4oXGQrKSk/KFtiLWdpam9zdFR1dnhYXSkvLGtleTovXihbYS16X11bYS16X1xkXSopL2ksa2V5X2FjY2VzczovXlwuKFthLXpfXVthLXpfXGRdKikvaSxpbmRleF9hY2Nlc3M6L15cWyhcZCspXF0vLHNpZ246L15bKy1dL307ZnVuY3Rpb24gYSh0KXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgcixvLHMsYyx1LGwscCxkLGgsZj0xLGc9dC5sZW5ndGgsbT0iIjtmb3Iobz0wO288ZztvKyspaWYoInN0cmluZyI9PXR5cGVvZiB0W29dKW0rPXRbb107ZWxzZSBpZigib2JqZWN0Ij09ZSh0W29dKSl7aWYoKGM9dFtvXSkua2V5cylmb3Iocj1uW2ZdLHM9MDtzPGMua2V5cy5sZW5ndGg7cysrKXtpZihudWxsPT1yKXRocm93IG5ldyBFcnJvcihhKCdbc3ByaW50Zl0gQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSAiJXMiIG9mIHVuZGVmaW5lZCB2YWx1ZSAiJXMiJyxjLmtleXNbc10sYy5rZXlzW3MtMV0pKTtyPXJbYy5rZXlzW3NdXX1lbHNlIHI9Yy5wYXJhbV9ubz9uW2MucGFyYW1fbm9dOm5bZisrXTtpZihpLm5vdF90eXBlLnRlc3QoYy50eXBlKSYmaS5ub3RfcHJpbWl0aXZlLnRlc3QoYy50eXBlKSYmciBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYocj1yKCkpLGkubnVtZXJpY19hcmcudGVzdChjLnR5cGUpJiYibnVtYmVyIiE9dHlwZW9mIHImJmlzTmFOKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoYSgiW3NwcmludGZdIGV4cGVjdGluZyBudW1iZXIgYnV0IGZvdW5kICVUIixyKSk7c3dpdGNoKGkubnVtYmVyLnRlc3QoYy50eXBlKSYmKGQ9cj49MCksYy50eXBlKXtjYXNlImIiOnI9cGFyc2VJbnQociwxMCkudG9TdHJpbmcoMik7YnJlYWs7Y2FzZSJjIjpyPVN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQociwxMCkpO2JyZWFrO2Nhc2UiZCI6Y2FzZSJpIjpyPXBhcnNlSW50KHIsMTApO2JyZWFrO2Nhc2UiaiI6cj1KU09OLnN0cmluZ2lmeShyLG51bGwsYy53aWR0aD9wYXJzZUludChjLndpZHRoKTowKTticmVhaztjYXNlImUiOnI9Yy5wcmVjaXNpb24/cGFyc2VGbG9hdChyKS50b0V4cG9uZW50aWFsKGMucHJlY2lzaW9uKTpwYXJzZUZsb2F0KHIpLnRvRXhwb25lbnRpYWwoKTticmVhaztjYXNlImYiOnI9Yy5wcmVjaXNpb24/cGFyc2VGbG9hdChyKS50b0ZpeGVkKGMucHJlY2lzaW9uKTpwYXJzZUZsb2F0KHIpO2JyZWFrO2Nhc2UiZyI6cj1jLnByZWNpc2lvbj9TdHJpbmcoTnVtYmVyKHIudG9QcmVjaXNpb24oYy5wcmVjaXNpb24pKSk6cGFyc2VGbG9hdChyKTticmVhaztjYXNlIm8iOnI9KHBhcnNlSW50KHIsMTApPj4+MCkudG9TdHJpbmcoOCk7YnJlYWs7Y2FzZSJzIjpyPVN0cmluZyhyKSxyPWMucHJlY2lzaW9uP3Iuc3Vic3RyaW5nKDAsYy5wcmVjaXNpb24pOnI7YnJlYWs7Y2FzZSJ0IjpyPVN0cmluZyghIXIpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlIlQiOnI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UidSI6cj1wYXJzZUludChyLDEwKT4+PjA7YnJlYWs7Y2FzZSJ2IjpyPXIudmFsdWVPZigpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlIngiOnI9KHBhcnNlSW50KHIsMTApPj4+MCkudG9TdHJpbmcoMTYpO2JyZWFrO2Nhc2UiWCI6cj0ocGFyc2VJbnQociwxMCk+Pj4wKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1pLmpzb24udGVzdChjLnR5cGUpP20rPXI6KCFpLm51bWJlci50ZXN0KGMudHlwZSl8fGQmJiFjLnNpZ24/aD0iIjooaD1kPyIrIjoiLSIscj1yLnRvU3RyaW5nKCkucmVwbGFjZShpLnNpZ24sIiIpKSxsPWMucGFkX2NoYXI/IjAiPT09Yy5wYWRfY2hhcj8iMCI6Yy5wYWRfY2hhci5jaGFyQXQoMSk6IiAiLHA9Yy53aWR0aC0oaCtyKS5sZW5ndGgsdT1jLndpZHRoJiZwPjA/bC5yZXBlYXQocCk6IiIsbSs9Yy5hbGlnbj9oK3IrdToiMCI9PT1sP2grdStyOnUraCtyKX1yZXR1cm4gbX0oZnVuY3Rpb24oZSl7aWYoY1tlXSlyZXR1cm4gY1tlXTtmb3IodmFyIHQsbj1lLHI9W10sbz0wO247KXtpZihudWxsIT09KHQ9aS50ZXh0LmV4ZWMobikpKXIucHVzaCh0WzBdKTtlbHNlIGlmKG51bGwhPT0odD1pLm1vZHVsby5leGVjKG4pKSlyLnB1c2goIiUiKTtlbHNle2lmKG51bGw9PT0odD1pLnBsYWNlaG9sZGVyLmV4ZWMobikpKXRocm93IG5ldyBTeW50YXhFcnJvcigiW3NwcmludGZdIHVuZXhwZWN0ZWQgcGxhY2Vob2xkZXIiKTtpZih0WzJdKXtvfD0xO3ZhciBhPVtdLHM9dFsyXSx1PVtdO2lmKG51bGw9PT0odT1pLmtleS5leGVjKHMpKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5Iik7Zm9yKGEucHVzaCh1WzFdKTsiIiE9PShzPXMuc3Vic3RyaW5nKHVbMF0ubGVuZ3RoKSk7KWlmKG51bGwhPT0odT1pLmtleV9hY2Nlc3MuZXhlYyhzKSkpYS5wdXNoKHVbMV0pO2Vsc2V7aWYobnVsbD09PSh1PWkuaW5kZXhfYWNjZXNzLmV4ZWMocykpKXRocm93IG5ldyBTeW50YXhFcnJvcigiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXkiKTthLnB1c2godVsxXSl9dFsyXT1hfWVsc2Ugb3w9MjtpZigzPT09byl0aHJvdyBuZXcgRXJyb3IoIltzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWQiKTtyLnB1c2goe3BsYWNlaG9sZGVyOnRbMF0scGFyYW1fbm86dFsxXSxrZXlzOnRbMl0sc2lnbjp0WzNdLHBhZF9jaGFyOnRbNF0sYWxpZ246dFs1XSx3aWR0aDp0WzZdLHByZWNpc2lvbjp0WzddLHR5cGU6dFs4XX0pfW49bi5zdWJzdHJpbmcodFswXS5sZW5ndGgpfXJldHVybiBjW2VdPXJ9KHQpLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBhLmFwcGx5KG51bGwsW2VdLmNvbmNhdCh0fHxbXSkpfXZhciBjPU9iamVjdC5jcmVhdGUobnVsbCk7bi5zcHJpbnRmPWEsbi52c3ByaW50Zj1zLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYod2luZG93LnNwcmludGY9YSx3aW5kb3cudnNwcmludGY9cyx2b2lkIDA9PT0obz1mdW5jdGlvbigpe3JldHVybntzcHJpbnRmOmEsdnNwcmludGY6c319LmNhbGwobixyLG4sdCkpfHwodC5leHBvcnRzPW8pKX0oKX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnIodCksZnVuY3Rpb24oZSl7bi5kKHQsIldlYlNvY2tldE1hbmFnZXIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciByPW4oMCk7ZS5jb25uZWN0PWUuY29ubmVjdHx8e30sY29ubmVjdC5XZWJTb2NrZXRNYW5hZ2VyPXIuYTt2YXIgbz1yLmF9LmNhbGwodGhpcyxuKDMpKX0sZnVuY3Rpb24odCxuKXt2YXIgcjtyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e3I9cnx8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2godCl7Im9iamVjdCI9PSgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdz8idW5kZWZpbmVkIjplKHdpbmRvdykpJiYocj13aW5kb3cpfXQuZXhwb3J0cz1yfV0pfSwxNDQ6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMsbj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1uLHQubGlseT1uO3ZhciByPXtURVNUOiJURVNUIixUUkFDRToiVFJBQ0UiLERFQlVHOiJERUJVRyIsSU5GTzoiSU5GTyIsTE9HOiJMT0ciLFdBUk46IldBUk4iLEVSUk9SOiJFUlJPUiIsQ1JJVElDQUw6IkNSSVRJQ0FMIn0sbz17Q0NQOiJjY3AiLFNPRlRQSE9ORToic29mdHBob25lIixDSEFUOiJjaGF0IixUQVNLOiJ0YXNrIn0saT17VEVTVDowLFRSQUNFOjEwLERFQlVHOjIwLElORk86MzAsTE9HOjQwLFdBUk46NTAsRVJST1I6MTAwLENSSVRJQ0FMOjIwMH0sYT0iQ0NQIixzPSJTaGFyZWRXb3JrZXIiLGM9IkNSTSIsdT17VFJBQ0U6ZnVuY3Rpb24oZSl7Y29uc29sZS5pbmZvKGUpfSxERUJVRzpmdW5jdGlvbihlKXtjb25zb2xlLmluZm8oZSl9LElORk86ZnVuY3Rpb24oZSl7Y29uc29sZS5pbmZvKGUpfSxMT0c6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9LFRFU1Q6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9LFdBUk46ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKGUpfSxFUlJPUjpmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUpfSxDUklUSUNBTDpmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKGUpfX0sbD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSwwKSxpPXIuc2hpZnQoKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1PYmplY3QudmFsdWVzKG8pLmluZGV4T2YoZSl9KGkpPyhuPWksdD1yLnNoaWZ0KCkpOih0PWksbj1vLkNDUCkse2Zvcm1hdDp0LGNvbXBvbmVudDpuLGFyZ3M6cn19LHA9ZnVuY3Rpb24oZSx0LHIsbyxpLHUpe3RoaXMuY29tcG9uZW50PWUsdGhpcy5sZXZlbD10LHRoaXMudGV4dD1yLHRoaXMudGltZT1uZXcgRGF0ZSx0aGlzLnRhYklkPW51bGw9PT1pP251bGw6aXx8bi5jb3JlLnRhYklkLHRoaXMuZXhjZXB0aW9uPW51bGwsdGhpcy5vYmplY3RzPVtdLHRoaXMubGluZT0wLHRoaXMuYWdlbnRSZXNvdXJjZUlkPW51bGw7dHJ5e24uYWdlbnQuaW5pdGlhbGl6ZWQmJih0aGlzLmFnZW50UmVzb3VyY2VJZD0obmV3IG4uQWdlbnQpLl9nZXRSZXNvdXJjZUlkKCkpfWNhdGNoKGUpe2NvbnNvbGUubG9nKCJJc3N1ZSBmaW5kaW5nIGFnZW50UmVzb3VyY2VJZDogIixlKX10aGlzLmxvZ2dlcklkPW8sdT90aGlzLmNvbnRleHRMYXllcj11Om4uaXNTaGFyZWRXb3JrZXIoKT90aGlzLmNvbnRleHRMYXllcj1zOm4uaXNDUk0oKT90aGlzLmNvbnRleHRMYXllcj1jOm4uaXNDQ1AoKSYmKHRoaXMuY29udGV4dExheWVyPWEpfTtwLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YWJJZHx8bnVsbCxuPWUuY29udGV4dExheWVyfHxudWxsLHI9bmV3IHAoby5DQ1AsZS5sZXZlbCxlLnRleHQsZS5sb2dnZXJJZCx0LG4pO3JldHVybiJbb2JqZWN0IERhdGVdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLnRpbWUpP3IudGltZT1uZXcgRGF0ZShlLnRpbWUuZ2V0VGltZSgpKToibnVtYmVyIj09dHlwZW9mIGUudGltZT9yLnRpbWU9bmV3IERhdGUoZS50aW1lKToic3RyaW5nIj09dHlwZW9mIGUudGltZT9yLnRpbWU9RGF0ZS5wYXJzZShlLnRpbWUpOnIudGltZT1uZXcgRGF0ZSxyLmV4Y2VwdGlvbj1lLmV4Y2VwdGlvbixyLm9iamVjdHM9ZS5vYmplY3RzLHJ9O3ZhciBkPWZ1bmN0aW9uKHQpe3ZhciBuPS8oQXV0aFRva2VuLiopL2dpO3QmJiJvYmplY3QiPT09ZSh0KSYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7Im9iamVjdCI9PT1lKHRbcl0pP2QodFtyXSk6InN0cmluZyI9PXR5cGVvZiB0W3JdJiYoInVybCI9PT1yfHwidGV4dCI9PT1yP3Rbcl09dFtyXS5yZXBsYWNlKG4sIltyZWRhY3RlZF0iKTpbInF1aWNrQ29ubmVjdE5hbWUiXS5pbmNsdWRlcyhyKT90W3JdPSJbcmVkYWN0ZWRdIjpbImN1c3RvbWVySWQiLCJDdXN0b21lcklkIiwiU3BlYWtlcklkIiwiQ3VzdG9tZXJTcGVha2VySWQiXS5pbmNsdWRlcyhyKSYmKHRbcl09IiIuY29uY2F0KCJbb2JmdXNjYXRlZCB2YWx1ZV0iLCIgIikuY29uY2F0KG1kNSh0W3JdKSkpKX0pKX0saD1mdW5jdGlvbih0KXtpZih0aGlzLnR5cGU9dCBpbnN0YW5jZW9mIEVycm9yP3QubmFtZTp0LmNvZGV8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSx0aGlzLm1lc3NhZ2U9dC5tZXNzYWdlLHRoaXMuc3RhY2s9W10sdC5zdGFjayl0cnl7QXJyYXkuaXNBcnJheSh0LnN0YWNrKT90aGlzLnN0YWNrPXQuc3RhY2s6Im9iamVjdCI9PT1lKHQuc3RhY2spP3RoaXMuc3RhY2s9W0pTT04uc3RyaW5naWZ5KHQuc3RhY2spXToic3RyaW5nIj09dHlwZW9mIHQuc3RhY2smJih0aGlzLnN0YWNrPXQuc3RhY2suc3BsaXQoIlxuIikpfWNhdGNoKGUpe319O3AucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG4uc3ByaW50ZigiWyVzXSBbJXNdIFslc106ICVzIix0aGlzLmdldFRpbWUoKSYmdGhpcy5nZXRUaW1lKCkudG9JU09TdHJpbmc/dGhpcy5nZXRUaW1lKCkudG9JU09TdHJpbmcoKToiPz8/Iix0aGlzLmdldExldmVsKCksdGhpcy5nZXRBZ2VudFJlc291cmNlSWQoKSx0aGlzLmdldFRleHQoKSl9LHAucHJvdG90eXBlLmdldFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lfSxwLnByb3RvdHlwZS5nZXRBZ2VudFJlc291cmNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZ2VudFJlc291cmNlSWR9LHAucHJvdG90eXBlLmdldFRhYklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFiSWR9LHAucHJvdG90eXBlLmdldENvbnRleHRMYXllcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHRMYXllcn0scC5wcm90b3R5cGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZXZlbH0scC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9LHAucHJvdG90eXBlLmdldENvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudH0scC5wcm90b3R5cGUud2l0aEV4Y2VwdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5leGNlcHRpb249bmV3IGgoZSksdGhpc30scC5wcm90b3R5cGUud2l0aE9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZXBjb3B5KGUpO3JldHVybiBkKHQpLHRoaXMub2JqZWN0cy5wdXNoKHQpLHRoaXN9LHAucHJvdG90eXBlLndpdGhDcm9zc09yaWdpbkV2ZW50T2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZGVlcGNvcHlDcm9zc09yaWdpbkV2ZW50KGUpO3JldHVybiBkKHQpLHRoaXMub2JqZWN0cy5wdXNoKHQpLHRoaXN9LHAucHJvdG90eXBlLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0TG9nKCkuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnB1c2godGhpcyksdGhpc307dmFyIGY9ZnVuY3Rpb24oKXt0aGlzLl9sb2dzPVtdLHRoaXMuX3JvbGxlZExvZ3M9W10sdGhpcy5fbG9nc1RvUHVzaD1bXSx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncz1bXSx0aGlzLl9lY2hvTGV2ZWw9aS5JTkZPLHRoaXMuX2xvZ0xldmVsPWkuSU5GTyx0aGlzLl9saW5lQ291bnQ9MCx0aGlzLl9sb2dSb2xsSW50ZXJ2YWw9MCx0aGlzLl9sb2dSb2xsVGltZXI9bnVsbCx0aGlzLl9sb2dnZXJJZD0obmV3IERhdGUpLmdldFRpbWUoKSsiLSIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksdGhpcy5zZXRMb2dSb2xsSW50ZXJ2YWwoMThlNSksdGhpcy5fc3RhcnRMb2dJbmRleFRvUHVzaD0wfTtmLnByb3RvdHlwZS5zZXRMb2dSb2xsSW50ZXJ2YWw9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLl9sb2dSb2xsVGltZXImJmU9PT10aGlzLl9sb2dSb2xsSW50ZXJ2YWw/dGhpcy53YXJuKCJMb2dnZXIgaXMgYWxyZWFkeSBzZXQgdG8gdGhlIGdpdmVuIGludGVydmFsOiAlZCIsdGhpcy5fbG9nUm9sbEludGVydmFsKToodGhpcy5fbG9nUm9sbFRpbWVyJiZ0LmNsZWFySW50ZXJ2YWwodGhpcy5fbG9nUm9sbFRpbWVyKSx0aGlzLl9sb2dSb2xsSW50ZXJ2YWw9ZSx0aGlzLl9sb2dSb2xsVGltZXI9dC5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtuLl9yb2xsZWRMb2dzPW4uX2xvZ3Msbi5fbG9ncz1bXSxuLl9zdGFydExvZ0luZGV4VG9QdXNoPTAsbi5pbmZvKCJMb2cgcm9sbCBpbnRlcnZhbCBvY2N1cnJlZC4iKX0pLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbCkpfSxmLnByb3RvdHlwZS5zZXRMb2dMZXZlbD1mdW5jdGlvbihlKXtpZighKGUgaW4gaSkpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGxvZ2dpbmcgbGV2ZWw6ICIrZSk7dGhpcy5fbG9nTGV2ZWw9aVtlXX0sZi5wcm90b3R5cGUuc2V0RWNob0xldmVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbG9nZ2luZyBsZXZlbDogIitlKTt0aGlzLl9lY2hvTGV2ZWw9aVtlXX0sZi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBwKGUsdCxuLHRoaXMuZ2V0TG9nZ2VySWQoKSk7cmV0dXJuIGQociksdGhpcy5hZGRMb2dFbnRyeShyKSxyfSxmLnByb3RvdHlwZS5hZGRMb2dFbnRyeT1mdW5jdGlvbihlKXtkKGUpLHRoaXMuX2xvZ3MucHVzaChlKSxvLlNPRlRQSE9ORT09PWUuY29tcG9uZW50JiZ0aGlzLl9sb2dzVG9QdXNoLnB1c2goZSksZS5sZXZlbCBpbiBpJiZpW2UubGV2ZWxdPj10aGlzLl9sb2dMZXZlbCYmKGlbZS5sZXZlbF0+PXRoaXMuX2VjaG9MZXZlbCYmdVtlLmdldExldmVsKCldKGUudG9TdHJpbmcoKSksZS5saW5lPXRoaXMuX2xpbmVDb3VudCsrKX0sZi5wcm90b3R5cGUuc2VuZEludGVybmFsTG9nRW50cnlUb1NlcnZlcj1mdW5jdGlvbihlKXt0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5wdXNoKGUpLGUubGV2ZWwgaW4gaSYmaVtlLmxldmVsXT49dGhpcy5fbG9nTGV2ZWwmJihpW2UubGV2ZWxdPj10aGlzLl9lY2hvTGV2ZWwmJnVbZS5nZXRMZXZlbCgpXShlLnRvU3RyaW5nKCkpLGUubGluZT10aGlzLl9saW5lQ291bnQrKyl9LGYucHJvdG90eXBlLmNsZWFyT2JqZWN0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbG9ncy5sZW5ndGg7ZSsrKXRoaXMuX2xvZ3NbZV0ub2JqZWN0cyYmZGVsZXRlIHRoaXMuX2xvZ3NbZV0ub2JqZWN0c30sZi5wcm90b3R5cGUuY2xlYXJFeGNlcHRpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9sb2dzLmxlbmd0aDtlKyspdGhpcy5fbG9nc1tlXS5leGNlcHRpb24mJmRlbGV0ZSB0aGlzLl9sb2dzW2VdLmV4Y2VwdGlvbn0sZi5wcm90b3R5cGUudHJhY2U9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5UUkFDRSxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxmLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkRFQlVHLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5JTkZPLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkxPRyxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxmLnByb3RvdHlwZS50ZXN0PWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuVEVTVCxuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxmLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuV0FSTixuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxmLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLkVSUk9SLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGYucHJvdG90eXBlLmNyaXRpY2FsPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuRVJST1Isbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5fbG9ncy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLl9sb2dzW3RdLnRvU3RyaW5nKCkpO3JldHVybiBlLmpvaW4oIlxuIil9LGYucHJvdG90eXBlLmRvd25sb2FkPWZ1bmN0aW9uKHIpe3ZhciBvLGE9ImFnZW50LWxvZyIscz0hMSxjPSEwPT09KG51bGw9PT0obz1uKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uZ2xvYmFsUmVzaWxpZW5jeSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZ2xvYmFsUmVzaWxpZW5jeUVuYWJsZWQpOyJvYmplY3QiPT09ZShyKSYmbnVsbCE9PXI/KGE9ci5sb2dOYW1lfHxhLHM9ci5maWx0ZXJCeUxvZ0xldmVsfHxzKToic3RyaW5nIj09dHlwZW9mIHImJihhPXJ8fGEpLGMmJihuLmdsb2JhbFJlc2lsaWVuY3kuX2Rvd25sb2FkQ0NQTG9ncygpLGE9ImNybS0iK2EpO3ZhciB1PXRoaXMsbD10aGlzLl9yb2xsZWRMb2dzLmNvbmNhdCh0aGlzLl9sb2dzKTtzJiYobD1sLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZS5sZXZlbF0+PXUuX2xvZ0xldmVsfSkpKTt2YXIgcD1uZXcgdC5CbG9iKFtKU09OLnN0cmluZ2lmeShsLHZvaWQgMCw0KV0sWyJ0ZXh0L3BsYWluIl0pLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2E9YXx8ImFnZW50LWxvZyIsZC5ocmVmPXQuVVJMLmNyZWF0ZU9iamVjdFVSTChwKSxkLmRvd25sb2FkPWErIi50eHQiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZCksZC5jbGljaygpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZCl9LGYucHJvdG90eXBlLnNjaGVkdWxlVXBzdHJlYW1Mb2dQdXNoPWZ1bmN0aW9uKGUpe24udXBzdHJlYW1Mb2dQdXNoU2NoZWR1bGVkfHwobi51cHN0cmVhbUxvZ1B1c2hTY2hlZHVsZWQ9ITAsdC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5yZXBvcnRNYXN0ZXJMb2dzVXBTdHJlYW0sZSksNWUzKSl9LGYucHJvdG90eXBlLnJlcG9ydE1hc3RlckxvZ3NVcFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb2dzVG9QdXNoLnNsaWNlKCk7dGhpcy5fbG9nc1RvUHVzaD1bXSxuLmlmTWFzdGVyKG4uTWFzdGVyVG9waWNzLlNFTkRfTE9HUywoZnVuY3Rpb24oKXt0Lmxlbmd0aD4wJiZlLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5TRU5EX0xPR1MsdCl9KSl9LGYucHJvdG90eXBlLnNjaGVkdWxlVXBzdHJlYW1PdXRlckNvbnRleHRDQ1BzZXJ2ZXJCb3VuZExvZ3NQdXNoPWZ1bmN0aW9uKGUpe3Quc2V0SW50ZXJ2YWwobi5oaXRjaCh0aGlzLHRoaXMucHVzaE91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1Vwc3RyZWFtLGUpLDFlMyl9LGYucHJvdG90eXBlLnNjaGVkdWxlVXBzdHJlYW1PdXRlckNvbnRleHRDQ1BMb2dzUHVzaD1mdW5jdGlvbihlKXt0LnNldEludGVydmFsKG4uaGl0Y2godGhpcyx0aGlzLnB1c2hPdXRlckNvbnRleHRDQ1BMb2dzVXBzdHJlYW0sZSksMWUzKX0sZi5wcm90b3R5cGUucHVzaE91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1Vwc3RyZWFtPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLmxlbmd0aDt0KyspdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3NbdF0udGV4dD10aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1t0XS50ZXh0O2Uuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MpLHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdfX0sZi5wcm90b3R5cGUucHVzaE91dGVyQ29udGV4dENDUExvZ3NVcHN0cmVhbT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fc3RhcnRMb2dJbmRleFRvUHVzaDt0PHRoaXMuX2xvZ3MubGVuZ3RoO3QrKyl0aGlzLl9sb2dzW3RdLmxvZ2dlcklkPT09dGhpcy5fbG9nZ2VySWQmJmUuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkxPRyx0aGlzLl9sb2dzW3RdKTt0aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoPXRoaXMuX2xvZ3MubGVuZ3RofSxmLnByb3RvdHlwZS5nZXRMb2dnZXJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dnZXJJZH0sZi5wcm90b3R5cGUuc2NoZWR1bGVEb3duc3RyZWFtQ2xpZW50U2lkZUxvZ3NQdXNoPWZ1bmN0aW9uKCl7dC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5wdXNoQ2xpZW50U2lkZUxvZ3NEb3duc3RyZWFtKSw1ZTMpfSxmLnByb3RvdHlwZS5wdXNoQ2xpZW50U2lkZUxvZ3NEb3duc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9W107dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPDUwfHwodGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPjUwMD9lPXRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnNwbGljZSgwLDUwMCk6KGU9dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MsdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W10pLG4ucHVibGlzaENsaWVudFNpZGVMb2dzKGUpKX07dmFyIGc9ZnVuY3Rpb24oZSl7Zi5jYWxsKHRoaXMpLHRoaXMuY29uZHVpdD1lLHQuc2V0SW50ZXJ2YWwobi5oaXRjaCh0aGlzLHRoaXMuX3B1c2hMb2dzRG93bnN0cmVhbSksZy5MT0dfUFVTSF9JTlRFUlZBTCksdC5jbGVhckludGVydmFsKHRoaXMuX2xvZ1JvbGxUaW1lciksdGhpcy5fbG9nUm9sbFRpbWVyPW51bGx9O2cuTE9HX1BVU0hfSU5URVJWQUw9MWUzLGcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZi5wcm90b3R5cGUpLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWcsZy5wcm90b3R5cGUucHVzaExvZ3NEb3duc3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuTE9HLGUpfSkpfSxnLnByb3RvdHlwZS5fcHVzaExvZ3NEb3duc3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9sb2dzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5MT0csdCl9KSksdGhpcy5fbG9ncz1bXTtmb3IodmFyIHQ9MDt0PHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLmxlbmd0aDt0KyspdGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLlNFUlZFUl9CT1VORF9JTlRFUk5BTF9MT0csdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3NbdF0pO3RoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdfTt2YXIgbT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGUpe3UuRVJST1IoZSl9fX07bi5yb290TG9nZ2VyPW5ldyBmLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKSJmdW5jdGlvbiI9PXR5cGVvZiBlW3RdJiYoZVt0XT1tKGVbdF0pKX0obi5yb290TG9nZ2VyKSwobj1ufHx7fSkuZ2V0TG9nPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucm9vdExvZ2dlcn0sbi5Mb2dFbnRyeT1wLG4uTG9nZ2VyPWYsbi5Mb2dMZXZlbD1yLG4uTG9nQ29tcG9uZW50PW8sbi5Eb3duc3RyZWFtQ29uZHVpdExvZ2dlcj1nfSgpfSwyNTQ6ZnVuY3Rpb24oKXshZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiB0KHQsbixyLG8saSxhKXtyZXR1cm4gZSgocz1lKGUobix0KSxlKG8sYSkpKTw8KGM9aSl8cz4+PjMyLWMscik7dmFyIHMsY31mdW5jdGlvbiBuKGUsbixyLG8saSxhLHMpe3JldHVybiB0KG4mcnx+biZvLGUsbixpLGEscyl9ZnVuY3Rpb24gcihlLG4scixvLGksYSxzKXtyZXR1cm4gdChuJm98ciZ+byxlLG4saSxhLHMpfWZ1bmN0aW9uIG8oZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQobl5yXm8sZSxuLGksYSxzKX1mdW5jdGlvbiBpKGUsbixyLG8saSxhLHMpe3JldHVybiB0KHJeKG58fm8pLGUsbixpLGEscyl9ZnVuY3Rpb24gYSh0LGEpe3ZhciBzLGMsdSxsLHA7dFthPj41XXw9MTI4PDxhJTMyLHRbMTQrKGErNjQ+Pj45PDw0KV09YTt2YXIgZD0xNzMyNTg0MTkzLGg9LTI3MTczMzg3OSxmPS0xNzMyNTg0MTk0LGc9MjcxNzMzODc4O2ZvcihzPTA7czx0Lmxlbmd0aDtzKz0xNiljPWQsdT1oLGw9ZixwPWcsZD1uKGQsaCxmLGcsdFtzXSw3LC02ODA4NzY5MzYpLGc9bihnLGQsaCxmLHRbcysxXSwxMiwtMzg5NTY0NTg2KSxmPW4oZixnLGQsaCx0W3MrMl0sMTcsNjA2MTA1ODE5KSxoPW4oaCxmLGcsZCx0W3MrM10sMjIsLTEwNDQ1MjUzMzApLGQ9bihkLGgsZixnLHRbcys0XSw3LC0xNzY0MTg4OTcpLGc9bihnLGQsaCxmLHRbcys1XSwxMiwxMjAwMDgwNDI2KSxmPW4oZixnLGQsaCx0W3MrNl0sMTcsLTE0NzMyMzEzNDEpLGg9bihoLGYsZyxkLHRbcys3XSwyMiwtNDU3MDU5ODMpLGQ9bihkLGgsZixnLHRbcys4XSw3LDE3NzAwMzU0MTYpLGc9bihnLGQsaCxmLHRbcys5XSwxMiwtMTk1ODQxNDQxNyksZj1uKGYsZyxkLGgsdFtzKzEwXSwxNywtNDIwNjMpLGg9bihoLGYsZyxkLHRbcysxMV0sMjIsLTE5OTA0MDQxNjIpLGQ9bihkLGgsZixnLHRbcysxMl0sNywxODA0NjAzNjgyKSxnPW4oZyxkLGgsZix0W3MrMTNdLDEyLC00MDM0MTEwMSksZj1uKGYsZyxkLGgsdFtzKzE0XSwxNywtMTUwMjAwMjI5MCksZD1yKGQsaD1uKGgsZixnLGQsdFtzKzE1XSwyMiwxMjM2NTM1MzI5KSxmLGcsdFtzKzFdLDUsLTE2NTc5NjUxMCksZz1yKGcsZCxoLGYsdFtzKzZdLDksLTEwNjk1MDE2MzIpLGY9cihmLGcsZCxoLHRbcysxMV0sMTQsNjQzNzE3NzEzKSxoPXIoaCxmLGcsZCx0W3NdLDIwLC0zNzM4OTczMDIpLGQ9cihkLGgsZixnLHRbcys1XSw1LC03MDE1NTg2OTEpLGc9cihnLGQsaCxmLHRbcysxMF0sOSwzODAxNjA4MyksZj1yKGYsZyxkLGgsdFtzKzE1XSwxNCwtNjYwNDc4MzM1KSxoPXIoaCxmLGcsZCx0W3MrNF0sMjAsLTQwNTUzNzg0OCksZD1yKGQsaCxmLGcsdFtzKzldLDUsNTY4NDQ2NDM4KSxnPXIoZyxkLGgsZix0W3MrMTRdLDksLTEwMTk4MDM2OTApLGY9cihmLGcsZCxoLHRbcyszXSwxNCwtMTg3MzYzOTYxKSxoPXIoaCxmLGcsZCx0W3MrOF0sMjAsMTE2MzUzMTUwMSksZD1yKGQsaCxmLGcsdFtzKzEzXSw1LC0xNDQ0NjgxNDY3KSxnPXIoZyxkLGgsZix0W3MrMl0sOSwtNTE0MDM3ODQpLGY9cihmLGcsZCxoLHRbcys3XSwxNCwxNzM1MzI4NDczKSxkPW8oZCxoPXIoaCxmLGcsZCx0W3MrMTJdLDIwLC0xOTI2NjA3NzM0KSxmLGcsdFtzKzVdLDQsLTM3ODU1OCksZz1vKGcsZCxoLGYsdFtzKzhdLDExLC0yMDIyNTc0NDYzKSxmPW8oZixnLGQsaCx0W3MrMTFdLDE2LDE4MzkwMzA1NjIpLGg9byhoLGYsZyxkLHRbcysxNF0sMjMsLTM1MzA5NTU2KSxkPW8oZCxoLGYsZyx0W3MrMV0sNCwtMTUzMDk5MjA2MCksZz1vKGcsZCxoLGYsdFtzKzRdLDExLDEyNzI4OTMzNTMpLGY9byhmLGcsZCxoLHRbcys3XSwxNiwtMTU1NDk3NjMyKSxoPW8oaCxmLGcsZCx0W3MrMTBdLDIzLC0xMDk0NzMwNjQwKSxkPW8oZCxoLGYsZyx0W3MrMTNdLDQsNjgxMjc5MTc0KSxnPW8oZyxkLGgsZix0W3NdLDExLC0zNTg1MzcyMjIpLGY9byhmLGcsZCxoLHRbcyszXSwxNiwtNzIyNTIxOTc5KSxoPW8oaCxmLGcsZCx0W3MrNl0sMjMsNzYwMjkxODkpLGQ9byhkLGgsZixnLHRbcys5XSw0LC02NDAzNjQ0ODcpLGc9byhnLGQsaCxmLHRbcysxMl0sMTEsLTQyMTgxNTgzNSksZj1vKGYsZyxkLGgsdFtzKzE1XSwxNiw1MzA3NDI1MjApLGQ9aShkLGg9byhoLGYsZyxkLHRbcysyXSwyMywtOTk1MzM4NjUxKSxmLGcsdFtzXSw2LC0xOTg2MzA4NDQpLGc9aShnLGQsaCxmLHRbcys3XSwxMCwxMTI2ODkxNDE1KSxmPWkoZixnLGQsaCx0W3MrMTRdLDE1LC0xNDE2MzU0OTA1KSxoPWkoaCxmLGcsZCx0W3MrNV0sMjEsLTU3NDM0MDU1KSxkPWkoZCxoLGYsZyx0W3MrMTJdLDYsMTcwMDQ4NTU3MSksZz1pKGcsZCxoLGYsdFtzKzNdLDEwLC0xODk0OTg2NjA2KSxmPWkoZixnLGQsaCx0W3MrMTBdLDE1LC0xMDUxNTIzKSxoPWkoaCxmLGcsZCx0W3MrMV0sMjEsLTIwNTQ5MjI3OTkpLGQ9aShkLGgsZixnLHRbcys4XSw2LDE4NzMzMTMzNTkpLGc9aShnLGQsaCxmLHRbcysxNV0sMTAsLTMwNjExNzQ0KSxmPWkoZixnLGQsaCx0W3MrNl0sMTUsLTE1NjAxOTgzODApLGg9aShoLGYsZyxkLHRbcysxM10sMjEsMTMwOTE1MTY0OSksZD1pKGQsaCxmLGcsdFtzKzRdLDYsLTE0NTUyMzA3MCksZz1pKGcsZCxoLGYsdFtzKzExXSwxMCwtMTEyMDIxMDM3OSksZj1pKGYsZyxkLGgsdFtzKzJdLDE1LDcxODc4NzI1OSksaD1pKGgsZixnLGQsdFtzKzldLDIxLC0zNDM0ODU1NTEpLGQ9ZShkLGMpLGg9ZShoLHUpLGY9ZShmLGwpLGc9ZShnLHApO3JldHVybltkLGgsZixnXX1mdW5jdGlvbiBzKGUpe3ZhciB0LG49IiIscj0zMiplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoZVt0Pj41XT4+PnQlMzImMjU1KTtyZXR1cm4gbn1mdW5jdGlvbiBjKGUpe3ZhciB0LG49W107Zm9yKG5bKGUubGVuZ3RoPj4yKS0xXT12b2lkIDAsdD0wO3Q8bi5sZW5ndGg7dCs9MSluW3RdPTA7dmFyIHI9OCplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW5bdD4+NV18PSgyNTUmZS5jaGFyQ29kZUF0KHQvOCkpPDx0JTMyO3JldHVybiBufWZ1bmN0aW9uIHUoZSl7dmFyIHQsbixyPSIwMTIzNDU2Nzg5YWJjZGVmIixvPSIiO2ZvcihuPTA7bjxlLmxlbmd0aDtuKz0xKXQ9ZS5jaGFyQ29kZUF0KG4pLG8rPXIuY2hhckF0KHQ+Pj40JjE1KStyLmNoYXJBdCgxNSZ0KTtyZXR1cm4gb31mdW5jdGlvbiBsKGUpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBzKGEoYyhlKSw4KmUubGVuZ3RoKSl9KGwoZSkpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89YyhlKSxpPVtdLHU9W107Zm9yKGlbMTVdPXVbMTVdPXZvaWQgMCxvLmxlbmd0aD4xNiYmKG89YShvLDgqZS5sZW5ndGgpKSxuPTA7bjwxNjtuKz0xKWlbbl09OTA5NTIyNDg2Xm9bbl0sdVtuXT0xNTQ5NTU2ODI4Xm9bbl07cmV0dXJuIHI9YShpLmNvbmNhdChjKHQpKSw1MTIrOCp0Lmxlbmd0aCkscyhhKHUuY29uY2F0KHIpLDY0MCkpfShsKGUpLGwodCkpfSh0aGlzfHxnbG9iYWxUaGlzKS5tZDU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0P24/ZCh0LGUpOnUoZCh0LGUpKTpuP3AoZSk6dShwKGUpKX19KCl9LDE0MjooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LHQuQ2hhdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbihlLG4pe3ZhciByPXQuZ2V0TG9nKCksbz10LkxvZ0NvbXBvbmVudC5DSEFULGk9ZnVuY3Rpb24obixyKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6bixjb250YWN0SWQ6ZS5jb250YWN0SWQsZGF0YTpyfHxlfSl9LGE9ZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3Rpb25Ccm9rZW4oKGZ1bmN0aW9uKGUpe3IuZXJyb3IobywiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoIkNoYXQgU2Vzc2lvbiBjb25uZWN0aW9uIGJyb2tlbiIsZSl9KSksZS5vbkNvbm5lY3Rpb25Fc3RhYmxpc2hlZCgoZnVuY3Rpb24oZSl7ci5pbmZvKG8sIkNoYXQgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoIkNoYXQgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIixlKX0pKX07cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2koIkNoYXQgbWVkaWEgY29udHJvbGxlciBpbml0IixlLmNvbnRhY3RJZCksci5pbmZvKG8sIkNoYXQgbWVkaWEgY29udHJvbGxlciBpbml0Iikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuQ2hhdFNlc3Npb24uc2V0R2xvYmFsQ29uZmlnKHtsb2dnZXJDb25maWc6e2xvZ2dlcjpyfSxyZWdpb246bi5yZWdpb259KTt2YXIgcz10LkNoYXRTZXNzaW9uLmNyZWF0ZSh7Y2hhdERldGFpbHM6ZSx0eXBlOiJBR0VOVCIsd2Vic29ja2V0TWFuYWdlcjp0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpfSk7cmV0dXJuIGEocykscy5jb25uZWN0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHIuaW5mbyhvLCJDaGF0IFNlc3Npb24gU3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkIGZvciBjb250YWN0SWQgJXMiLGUuY29udGFjdElkKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoIkNoYXQgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQiLGUuY29udGFjdElkKSxzfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyByLmVycm9yKG8sIkNoYXQgU2Vzc2lvbiBlc3RhYmxpc2hlbWVudCBmYWlsZWQgZm9yIGNvbnRhY3QgJXMiLGUuY29udGFjdElkKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCIsZS5jb250YWN0SWQsdCksdH0pKX0oKX19fX0oKX0sODg0OigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5NZWRpYUZhY3Rvcnk9ZnVuY3Rpb24oZSl7dmFyIG49e30scj1uZXcgU2V0LG89dC5nZXRMb2coKSxpPXQuTG9nQ29tcG9uZW50LkNIQVQsYT10Lm1lcmdlKHt9LGUpfHx7fTthLnJlZ2lvbj1hLnJlZ2lvbnx8InVzLXdlc3QtMiI7dmFyIHM9ZnVuY3Rpb24oZSl7bltlXSYmIXIuaGFzKGUpJiYoby5pbmZvKGksIkRlc3Ryb3lpbmcgbWVkaWFDb250cm9sbGVyIGZvciAlcyIsZSksci5hZGQoZSksbltlXS50aGVuKChmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgdC5jbGVhblVwJiZ0LmNsZWFuVXAoKSxkZWxldGUgbltlXSxyLmRlbGV0ZShlKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtkZWxldGUgbltlXSxyLmRlbGV0ZShlKX0pKSl9O3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQWN0aXZlKCl9KGUpP2Z1bmN0aW9uKGUpe3ZhciByPWUuZ2V0Q29ubmVjdGlvbklkKCk7aWYoIWUuZ2V0TWVkaWFJbmZvKCkpcmV0dXJuIG8uZXJyb3IoaSwiTWVkaWEgaW5mbyBkb2VzIG5vdCBleGlzdCBmb3IgYSBtZWRpYSB0eXBlICVzIixlLmdldE1lZGlhVHlwZSgpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUHJvbWlzZS5yZWplY3QoIk1lZGlhIGluZm8gZG9lcyBub3QgZXhpc3QgZm9yIHRoaXMgY29ubmVjdGlvbiIpO2lmKG5bcl0pcmV0dXJuIG5bcl07c3dpdGNoKG8uaW5mbyhpLCJtZWRpYSBjb250cm9sbGVyIG9mIHR5cGUgJXMgaW5pdCIsZS5nZXRNZWRpYVR5cGUoKSkud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuZ2V0TWVkaWFUeXBlKCkpe2Nhc2UgdC5NZWRpYVR5cGUuQ0hBVDpyZXR1cm4gbltyXT1uZXcgdC5DaGF0TWVkaWFDb250cm9sbGVyKGUuZ2V0TWVkaWFJbmZvKCksYSkuZ2V0KCk7Y2FzZSB0Lk1lZGlhVHlwZS5TT0ZUUEhPTkU6cmV0dXJuIG5bcl09bmV3IHQuU29mdHBob25lTWVkaWFDb250cm9sbGVyKGUuZ2V0TWVkaWFJbmZvKCkpLmdldCgpO2Nhc2UgdC5NZWRpYVR5cGUuVEFTSzpyZXR1cm4gbltyXT1uZXcgdC5UYXNrTWVkaWFDb250cm9sbGVyKGUuZ2V0TWVkaWFJbmZvKCkpLmdldCgpO2RlZmF1bHQ6cmV0dXJuIG8uZXJyb3IoaSwiVW5yZWNvZ25pemVkIG1lZGlhIHR5cGUgJXMgIixlLmdldE1lZGlhVHlwZSgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLFByb21pc2UucmVqZWN0KCl9fShlKToocyhlLmdldENvbm5lY3Rpb25JZCgpKSxQcm9taXNlLnJlamVjdCgiTWVkaWEgQ29udHJvbGxlciBpcyBubyBsb25nZXIgYXZhaWxhYmxlIGZvciB0aGlzIGNvbm5lY3Rpb24iKSl9LGRlc3Ryb3k6c319fSgpfSwzOTA6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0LlNvZnRwaG9uZU1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbihlKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX19fX0oKX0sMjY5OigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5UYXNrTWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2V0TG9nKCkscj10LkxvZ0NvbXBvbmVudC5UQVNLLG89ZnVuY3Rpb24obixyKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6bixjb250YWN0SWQ6ZS5jb250YWN0SWQsZGF0YTpyfHxlfSl9LGk9ZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3Rpb25Ccm9rZW4oKGZ1bmN0aW9uKGUpe24uZXJyb3IociwiVGFzayBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIikud2l0aEV4Y2VwdGlvbihlKSxvKCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iLGUpfSkpLGUub25Db25uZWN0aW9uRXN0YWJsaXNoZWQoKGZ1bmN0aW9uKGUpe24uaW5mbyhyLCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCIpLndpdGhPYmplY3QoZSksbygiVGFzayBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiLGUpfSkpfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7bygiVGFzayBtZWRpYSBjb250cm9sbGVyIGluaXQiLGUuY29udGFjdElkKSxuLmluZm8ociwiVGFzayBtZWRpYSBjb250cm9sbGVyIGluaXQiKS53aXRoT2JqZWN0KGUpO3ZhciBhPXQuVGFza1Nlc3Npb24uY3JlYXRlKHtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5pdGlhbENvbnRhY3RJZDplLmluaXRpYWxDb250YWN0SWQsd2Vic29ja2V0TWFuYWdlcjp0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpfSk7cmV0dXJuIGkoYSksYS5jb25uZWN0KCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gbi5pbmZvKHIsIlRhc2sgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgZm9yIGNvbnRhY3RJZCAlcyIsZS5jb250YWN0SWQpLG8oIlRhc2sgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQiLGUuY29udGFjdElkKSxhfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0aHJvdyBuLmVycm9yKHIsIlRhc2sgU2Vzc2lvbiBlc3RhYmxpc2hlbWVudCBmYWlsZWQgZm9yIGNvbnRhY3QgJXMiLGUuY29udGFjdElkKS53aXRoRXhjZXB0aW9uKHQpLG8oIkNoYXQgU2Vzc2lvbiBlc3RhYmxpc2hlbWVudCBmYWlsZWQiLGUuY29udGFjdElkLHQpLHR9KSl9KCl9fX19KCl9LDQxNDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQ7dmFyIHIsbz0iL3JlcXVlc3Qtc3RvcmFnZS1hY2Nlc3MiLGk9e2NhblJlcXVlc3Q6ITEsbW9kZToiZGVmYXVsdCIsY3VzdG9tOntoaWRlQ0NQOiEwfX0sYT17fSxzPSIiLGM9bnVsbCx1PSExLGw9e0lOSVQ6InN0b3JhZ2VBY2Nlc3M6OmluaXQiLEdSQU5URUQ6InN0b3JhZ2VBY2Nlc3M6OmdyYW50ZWQiLERFTklFRDoic3RvcmFnZUFjY2Vzczo6ZGVuaWVkIixSRVFVRVNUOiJzdG9yYWdlQWNjZXNzOjpyZXF1ZXN0In0scD1mdW5jdGlvbigpe3JldHVybntzaG93OmZ1bmN0aW9uKCl7Yy5zdHlsZS5kaXNwbGF5PSJibG9jayJ9LGhpZGU6ZnVuY3Rpb24oKXtjLnN0eWxlLmRpc3BsYXk9Im5vbmUifX19LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSYmImN1c3RvbSI9PT1hLm1vZGV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goLy5jb25uZWN0LmF3cy5hMnouY29tfC5teS5jb25uZWN0LmF3c3wuZ292Y2xvdWQuY29ubmVjdC5hd3N8LmF3c2FwcHMuY29tLyl9LGY9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVSTChlKSxuPXQub3JpZ2luLHI9dC5wYXRobmFtZTtpZihuLm1hdGNoKC8uYXdzYXBwcy5jb20vKSl7dmFyIGk9ImNvbm5lY3QiO3JldHVybiByLnN0YXJ0c1dpdGgoIi9jb25uZWN0LWdhbW1hIikmJihpPSJjb25uZWN0LWdhbW1hIiksIiIuY29uY2F0KG4sIi8iKS5jb25jYXQoaSkuY29uY2F0KG8pfXJldHVybiIiLmNvbmNhdChuKS5jb25jYXQobyl9LGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15odHRwcz86XC9cL2xvY2FsaG9zdC8pfSxtPWZ1bmN0aW9uKCl7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldGxhbmRBdFBhdGhdIEludm9rZSBjb25uZWN0LnN0b3JhZ2VBY2Nlc3MuaW5pdCBmaXJzdCIpO3JldHVybiBoKHMpfHxnKHMpP25ldyBVUkwocykucGF0aG5hbWU6Ii9jb25uZWN0L2NjcC12MiJ9LHY9ZnVuY3Rpb24oZSl7dmFyIG49ZS5vbkluaXQscj1lLm9uRGVueSxvPWUub25HcmFudDtmdW5jdGlvbiBpKGUpe3ZhciBhPWUuZGF0YSxzPWUuc291cmNlO2lmKHQuY29yZS5fZ2V0Q0NQSWZyYW1lKCkuY29udGVudFdpbmRvdyE9PXMpcmV0dXJuITE7c3dpdGNoKHQuY29yZS5pbml0aWFsaXplZCYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpLGEuZXZlbnQpe2Nhc2UgbC5JTklUOnQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdW0lOSVRdIG1lc3NhZ2UgcmVjaWV2ZWQiKS53aXRoT2JqZWN0KGEpLG4mJm4oYSk7YnJlYWs7Y2FzZSBsLkdSQU5URUQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bR1JBTlRFRF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksbyYmbyhhKTticmVhaztjYXNlIGwuREVOSUVEOnQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdW0RFTklFRF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksciYmcihhKTticmVhaztkZWZhdWx0OnQuY29yZS5pbml0aWFsaXplZCYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpfX1yZXR1cm4gYS5jYW5SZXF1ZXN0JiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSkse3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGkpfX19O3Quc3RvcmFnZUFjY2Vzcz1PYmplY3QuZnJlZXplKHtjYW5SZXF1ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FuUmVxdWVzdH0sb3B0T3V0RnJvbVJlcXVlc3RBY2Nlc3M6ZnVuY3Rpb24oKXtpLmNhblJlcXVlc3Q9ITF9LG9wdEluRm9yUmVxdWVzdEFjY2VzczpmdW5jdGlvbigpe2kuY2FuUmVxdWVzdD0hMH0saW5pdDpmdW5jdGlvbihlLHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTt0LmFzc2VydE5vdE51bGwoZSwiY2NwVXJsIiksdC5hc3NlcnROb3ROdWxsKHIsImNvbnRhaW5lciIpLGM9cixzPWUsZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307ZS5jdXN0b209ZS5jdXN0b218fHt9LChhPW4obihuKHt9LGkpLGUpLHt9LHtjdXN0b206bihuKHt9LGkuY3VzdG9tKSxlLmN1c3RvbSl9KSkuY2FuUmVxdWVzdD0hKCJmYWxzZSI9PT1hLmNhblJlcXVlc3R8fCExPT09YS5jYW5SZXF1ZXN0KX0obyksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11baW5pdF0gUmVxdWVzdCBTdG9yYWdlIEFjY2Nlc3MgaW5pdCBjYWxsZWQgd2l0aCBjY3BVcmwgLSAiLmNvbmNhdChlLCIgLSAiKS5jb25jYXQoYS5jYW5SZXF1ZXN0PyJQcm9jZWVkaW5nIHdpdGggcmVxdWVzdGluZyBzdG9yYWdlIGFjY2VzcyI6InVzZXIgaGFzIG9wdGVkIG91dCwgc2tpcHBpbmcgcmVxdWVzdCBzdG9yYWdlIGFjY2VzcyIpKS53aXRoT2JqZWN0KGEpfSxzZXR1cFJlcXVlc3RIYW5kbGVyczpmdW5jdGlvbihlKXt2YXIgbj1lLm9uR3JhbnQ7ciYmci51bnN1YnNjcmliZSgpLHI9dih7b25Jbml0OmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtJTklUXSIsImJhY2tncm91bmQ6eWVsbG93OyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25Jbml0XSBjYWxsYmFjayBleGVjdXRlZCIpLndpdGhPYmplY3QobnVsbD09ZT92b2lkIDA6ZS5kYXRhKSxudWxsIT1lJiZlLmRhdGEuaGFzQWNjZXNzfHwhZCgpfHxwKCkuc2hvdygpfSxvbkRlbnk6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZygiJWNbU3RvcmFnZUFjY2Vzc11bREVOSUVEXSIsImJhY2tncm91bmQ6cmVkOyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25EZW55XSBjYWxsYmFjayBleGVjdXRlZCIpLGQoKSYmcCgpLnNob3coKX0sb25HcmFudDpmdW5jdGlvbigpe3ZhciBlO2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtHUkFOVEVEXSIsImJhY2tncm91bmQ6bGltZTsgY29sb3I6YmxhY2s7IGZvbnQtc2l6ZTpsYXJnZSIpLHQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdW29uR3JhbnRdIGNhbGxiYWNrIGV4ZWN1dGVkIiksZCgpJiYobnVsbD09PShlPWEpfHx2b2lkIDA9PT1lfHxudWxsPT09KGU9ZS5jdXN0b20pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmhpZGVDQ1ApJiZwKCkuaGlkZSgpLHV8fChuKCksdT0hMCl9fSl9LGdldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsOmZ1bmN0aW9uKCl7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZva2UgY29ubmVjdC5zdG9yYWdlQWNjZXNzLmluaXQgZmlyc3QiKTtpZihoKHMpKXJldHVybiBmKHMpO2lmKGcocykpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdIFtDQ1BdIExvY2FsIHRlc3RpbmciKSwiIi5jb25jYXQocykuY29uY2F0KG8pO2lmKGEuaW5zdGFuY2VVcmwmJmgoYS5pbnN0YW5jZVVybCkpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW1N0b3JhZ2VBY2Nlc3NdIFtnZXRSZXF1ZXN0U3RvcmFnZUFjY2Vzc1VybF0gQ3VzdG9tZXIgaGFzIHByb3ZpZGVkIHN0b3JhZ2VQYXJhbXMuaW5zdGFuY2VVcmwgIi5jb25jYXQoYS5pbnN0YW5jZVVybCkpLGYoYS5pbnN0YW5jZVVybCk7aWYoYS5pbnN0YW5jZVVybCYmZyhhLmluc3RhbmNlVXJsKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBMb2NhbCB0ZXN0aW5nIiksIiIuY29uY2F0KGEuaW5zdGFuY2VVcmwpLmNvbmNhdChvKTt0aHJvdyB0LmdldExvZygpLmVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZhbGlkIENvbm5lY3QgaW5zdGFuY2UvQ0NQIFVSTCBwcm92aWRlZCwgcGxlYXNlIHBhc3MgdGhlIGNvcnJlY3QgY2NwVXJsIG9yIHN0b3JhZ2VBY2Nlc3MuaW5zdGFuY2VVcmwgcGFyYW1ldGVycyIpLG5ldyBFcnJvcigiW1N0b3JhZ2VBY2Nlc3NdIFtnZXRSZXF1ZXN0U3RvcmFnZUFjY2Vzc1VybF0gSW52YWxpZCBDb25uZWN0IGluc3RhbmNlL0NDUCBVUkwgcHJvdmlkZWQsIHBsZWFzZSBwYXNzIHRoZSB2YWxpZCBDb25uZWN0IENDUCBVUkwgb3IgaW4gY2FzZSBDQ1AgVVJMIGlzIGNvbmZpZ3VyZWQgdG8gYmUgdGhlIFNTTyBVUkwgdGhlbiB1c2Ugc3RvcmFnZUFjY2Vzcy5pbnN0YW5jZVVybCBhbmQgcGFzcyB0aGUgQ29ubmVjdCBDQ1AgVVJMIil9LHN0b3JhZ2VBY2Nlc3NFdmVudHM6bCxyZXNldFN0b3JhZ2VBY2Nlc3NTdGF0ZTpmdW5jdGlvbigpe2E9e30scz0iIixjPW51bGwsdT0hMX0sZ2V0T25HcmFudENhbGxiYWNrSW52b2tlZDpmdW5jdGlvbigpe3JldHVybiB1fSxnZXRTdG9yYWdlQWNjZXNzUGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LG9uUmVxdWVzdDp2LHJlcXVlc3Q6ZnVuY3Rpb24oKXt0LmNvcmUuX2dldENDUElmcmFtZSgpLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe2V2ZW50OmwuUkVRVUVTVCxkYXRhOm4obih7fSxhKSx7fSx7bGFuZGF0Om0oKX0pfSwiKiIpfX0pfSgpfSw5MDY6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoKXsidXNlIHN0cmljdCI7dD1mdW5jdGlvbigpe3JldHVybiByfTt2YXIgbixyPXt9LG89T2JqZWN0LnByb3RvdHlwZSxpPW8uaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2gobil7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19ci53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PW8mJmkuY2FsbChULGMpJiYoQz1UKTt2YXIgdz1FLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8odCxuKXtmdW5jdGlvbiByKG8sYSxzLGMpe3ZhciB1PWgodFtvXSx0LGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PWUocCkmJmkuY2FsbChwLCJfX2F3YWl0Iik/bi5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7cigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe3IoInRocm93IixlLHMsYyl9KSk6bi5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciBvO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgbigoZnVuY3Rpb24obixvKXtyKGUsdCxuLG8pfSkpfXJldHVybiBvPW8/by50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIoZSx0LHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6bixkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TyhzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgoZSx0LHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIE8oZSx0KXt2YXIgcj10Lm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PW4pcmV0dXJuIHQuZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJih0Lm1ldGhvZD0icmV0dXJuIix0LmFyZz1uLE8oZSx0KSwidGhyb3ciPT09dC5tZXRob2QpfHwicmV0dXJuIiE9PXImJih0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sZS5pdGVyYXRvcix0LmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gdC5tZXRob2Q9InRocm93Iix0LmFyZz1pLmFyZyx0LmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KHRbZS5yZXN1bHROYW1lXT1hLnZhbHVlLHQubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT10Lm1ldGhvZCYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1uKSx0LmRlbGVnYXRlPW51bGwseSk6YToodC5tZXRob2Q9InRocm93Iix0LmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLHQuZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBMKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChMLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAodCl7aWYodHx8IiI9PT10KXt2YXIgcj10W2NdO2lmKHIpcmV0dXJuIHIuY2FsbCh0KTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5uZXh0KXJldHVybiB0O2lmKCFpc05hTih0Lmxlbmd0aCkpe3ZhciBvPS0xLGE9ZnVuY3Rpb24gZSgpe2Zvcig7KytvPHQubGVuZ3RoOylpZihpLmNhbGwodCxvKSlyZXR1cm4gZS52YWx1ZT10W29dLGUuZG9uZT0hMSxlO3JldHVybiBlLnZhbHVlPW4sZS5kb25lPSEwLGV9O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihlKHQpKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIFMucHJvdG90eXBlPUUsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksYShFLCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksUy5kaXNwbGF5TmFtZT1wKEUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxyLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PVN8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LHIubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLEUpOihlLl9fcHJvdG9fXz1FLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LHIuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxyLkFzeW5jSXRlcmF0b3I9XyxyLmFzeW5jPWZ1bmN0aW9uKGUsdCxuLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLHQsbixvKSxpKTtyZXR1cm4gci5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxyLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sci52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1uLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPW4sdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIWUpZm9yKHZhciB0IGluIHRoaXMpInQiPT09dC5jaGFyQXQoMCkmJmkuY2FsbCh0aGlzLHQpJiYhaXNOYU4oK3Quc2xpY2UoMSkpJiYodGhpc1t0XT1uKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciB0PXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLHQubmV4dD1yLG8mJih0Lm1ldGhvZD0ibmV4dCIsdC5hcmc9biksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciBhPXRoaXMudHJ5RW50cmllc1tvXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9aS5jYWxsKGEsImNhdGNoTG9jIiksdT1pLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIG89cjticmVha319byYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJm8udHJ5TG9jPD10JiZ0PD1vLmZpbmFsbHlMb2MmJihvPW51bGwpO3ZhciBhPW8/by5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LG8/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9by5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UChlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPW4pLHl9fSxyfWZ1bmN0aW9uIG4oZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe3ZhciBhPWUuYXBwbHkodCxyKTtmdW5jdGlvbiBzKGUpe24oYSxvLGkscyxjLCJuZXh0IixlKX1mdW5jdGlvbiBjKGUpe24oYSxvLGkscyxjLCJ0aHJvdyIsZSl9cyh2b2lkIDApfSkpfX0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLG49ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9bixlLmxpbHk9bjt2YXIgbz1mdW5jdGlvbihlKXtuLmFzc2VydE5vdE51bGwoZSwicmluZ3RvbmVDb25maWciKSx0aGlzLl9hdWRpbz1udWxsLHRoaXMuX2RldmljZUlkPSIiLHRoaXMuX3Jpbmd0b25lVXJsPWUucmluZ3RvbmVVcmwsdGhpcy5fbG9hZFJpbmd0b25lKHRoaXMuX3Jpbmd0b25lVXJsKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksdGhpcy5fZHJpdmVSaW5ndG9uZSgpfTtvLnByb3RvdHlwZS5fbG9hZFJpbmd0b25lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2V8fG8oRXJyb3IoInJpbmd0b25lVXJsIGlzIHJlcXVpcmVkISIpKSx0Ll9hdWRpbz1uZXcgQXVkaW8oZSksdC5fYXVkaW8ubG9vcD0hMCx0LnNldE91dHB1dERldmljZSh0Ll9kZXZpY2VJZCk7dmFyIGk9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLmdldExvZygpLndhcm4oIlJpbmd0b25lIGlzbid0IGxvYWRlZCBpbiAxIHNlY29uZCBidXQgcHJvY2VlZGluZzogIiwrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKCl9KSwxZTMpO3QuX2F1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoImNhbnBsYXkiLChmdW5jdGlvbigpe24uZ2V0TG9nKCkuaW5mbygiUmluZ3RvbmUgaXMgcmVhZHkgdG8gcGxheTogIiwrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxjbGVhclRpbWVvdXQoaSkscigpfSkpLHQuX2F1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoZnVuY3Rpb24oKXtuLmdldExvZygpLmVycm9yKCJSaW5ndG9uZSBsb2FkIGVycm9yOiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGNsZWFyVGltZW91dChpKSxvKEVycm9yKCJSaW5ndG9uZSBsb2FkIGVycm9yOiAiK2UpKX0pKX0pKX0sby5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZC4iKX0sby5wcm90b3R5cGUuX3N0YXJ0UmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT1yKHQoKS5tYXJrKChmdW5jdGlvbiBlKG8pe3ZhciBpLGEscz10aGlzLGM9YXJndW1lbnRzO3JldHVybiB0KCkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGk9Yy5sZW5ndGg+MSYmdm9pZCAwIT09Y1sxXT9jWzFdOjAsYT1jLmxlbmd0aD4yJiZ2b2lkIDAhPT1jWzJdP2NbMl06W10sZS5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsYyl7cy5fYXVkaW98fGMoRXJyb3IoIk5vIGF1ZGlvIG9iamVjdCBmb3VuZCIpKSxuLmdldExvZygpLmluZm8oIkF0dGVtcHRpbmcgdG8gc3RhcnQgcmluZ3RvbmUgdG8gZGV2aWNlICIuY29uY2F0KHMuX2F1ZGlvLnNpbmtJZHx8IicnIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscy5fYXVkaW8ucGxheSgpLnRoZW4oKGZ1bmN0aW9uKCl7cy5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBTdGFydCIsbyksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdGFydDogU3VjY2VlZGVkIHdpdGggIi5jb25jYXQoaSwiIHJldHJpZXMgcmVtYWluaW5nIikpLndpdGhPYmplY3Qoe2Vycm9yTGlzdDphLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt2YXIgdT1yKHQoKS5tYXJrKChmdW5jdGlvbiByKHUpe3JldHVybiB0KCkud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6aWYocy5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBQbGF5YmFjayBGYWlsdXJlIixvKSxuLmdldExvZygpLmVycm9yKCJSaW5ndG9uZSBQbGF5YmFjayBGYWlsdXJlOiAiLmNvbmNhdChpLCIgcmV0cmllcyByZW1haW5pbmcuIikpLndpdGhFeGNlcHRpb24odSkud2l0aE9iamVjdCh7Y3VycmVudFNyYzpzLl9hdWRpby5jdXJyZW50U3JjLHNpbmtJZDpzLl9hdWRpby5zaW5rSWQsdm9sdW1lOnMuX2F1ZGlvLnZvbHVtZSxjb250YWN0SWQ6by5nZXRDb250YWN0SWQoKX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5wdXNoKHUudG9TdHJpbmcoKSksIShpPjApKXt0Lm5leHQ9MTA7YnJlYWt9cmV0dXJuIHQubmV4dD02LHMuX2xvYWRSaW5ndG9uZShzLl9yaW5ndG9uZVVybCkuY2F0Y2goKGZ1bmN0aW9uKCl7fSkpO2Nhc2UgNjpyZXR1cm4gdC5uZXh0PTgscy5fc3RhcnRSaW5ndG9uZShvLGktMSxhKS50aGVuKGUpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBjKGEpfSkpO2Nhc2UgODp0Lm5leHQ9MTI7YnJlYWs7Y2FzZSAxMDpuLmdldExvZygpLmVycm9yKCJSaW5ndG9uZSBSZXRyaWVzIEV4aGF1c3RlZCIpLndpdGhPYmplY3Qoe2Vycm9yTGlzdDphLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxjKGEpO2Nhc2UgMTI6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19KSxyKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCkpfSkpKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksby5wcm90b3R5cGUuX3N0b3BSaW5ndG9uZT1mdW5jdGlvbihlKXt0aGlzLl9hdWRpbyYmKHRoaXMuX2F1ZGlvLnBhdXNlKCksdGhpcy5fYXVkaW8uY3VycmVudFRpbWU9MCx0aGlzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFN0b3AiLGUpLG4uZ2V0TG9nKCkuaW5mbygiUmluZ3RvbmUgU3RvcCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSxvLnByb3RvdHlwZS5zdG9wUmluZ3RvbmU9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wUmluZ3RvbmUoKX0sby5wcm90b3R5cGUuX3Jpbmd0b25lU2V0dXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztuLmlmTWFzdGVyKG4uTWFzdGVyVG9waWNzLlJJTkdUT05FLChmdW5jdGlvbigpe3QuX3N0YXJ0UmluZ3RvbmUoZSwyKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSksZS5vbkNvbm5lY3RlZChsaWx5LmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vbkFjY2VwdGVkKGxpbHkuaGl0Y2godCx0Ll9zdG9wUmluZ3RvbmUpKSxlLm9uRW5kZWQobGlseS5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25SZWZyZXNoKChmdW5jdGlvbihlKXtlLmdldFN0YXR1cygpLnR5cGUhPT1uLkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkcmJmUuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkcmJnQuX3N0b3BSaW5ndG9uZSgpfSkpfSkpfSxvLnByb3RvdHlwZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50PWZ1bmN0aW9uKGUsdCl7dCYmdC5nZXRDb250YWN0SWQoKSYmbi5wdWJsaXNoTWV0cmljKHtuYW1lOmUsY29udGFjdElkOnQuZ2V0Q29udGFjdElkKCl9KX0sby5wcm90b3R5cGUuc2V0T3V0cHV0RGV2aWNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe3QuX2F1ZGlvJiZ0Ll9hdWRpby5zZXRTaW5rSWQ/dC5fYXVkaW8uc2V0U2lua0lkKGUpLnRoZW4oKGZ1bmN0aW9uKCl7dC5fZGV2aWNlSWQ9ZSxuKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyKCJSaW5ndG9uZUVuZ2luZUJhc2Uuc2V0T3V0cHV0RGV2aWNlIGZhaWxlZDogYXVkaW8uc2V0U2lua0lkKCkgZmFpbGVkIHdpdGggZXJyb3IgIi5jb25jYXQoZSkpfSkpOnIoIlJpbmd0b25lRW5naW5lQmFzZS5zZXRPdXRwdXREZXZpY2UgZmFpbGVkOiAiLmNvbmNhdCh0Ll9hdWRpbz8iYXVkaW8iOiJhdWRpby5zZXRTaW5rSWQiLCIgbm90IGZvdW5kLiIpKX0pKX07dmFyIGk9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PW4uQ29udGFjdFR5cGUuVk9JQ0UmJnQuaXNTb2Z0cGhvbmVDYWxsKCkmJnQuaXNJbmJvdW5kKCkmJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O24uY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3RpbmcodCl9KSksKG5ldyBuLkFnZW50KS5nZXRDb250YWN0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZT09PW4uQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmdChlKX0pKX07dmFyIGE9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuQ0hBVCYmdC5pc0luYm91bmQoKSYmMD09PXQuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFR5cGUoKT09PW4uQ29ubmVjdGlvblR5cGUuQUdFTlQmJmUuaXNTaWxlbnRNb25pdG9yKCl9KSkubGVuZ3RoJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkNoYXQgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJDaGF0IFJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKX07dmFyIHM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cyxzLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1mdW5jdGlvbih0KXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuVEFTSyYmdC5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJUYXNrIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiVGFzayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O24uY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3RpbmcodCl9KSl9O3ZhciBjPWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUpfTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24odCl7dC5nZXRUeXBlKCk9PT1uLkNvbnRhY3RUeXBlLkVNQUlMJiZ0LmlzSW5ib3VuZCgpJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkVtYWlsIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiRW1haWwgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTtuLmNvbnRhY3QoKGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW5nKHQpfSkpfTt2YXIgdT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztuLmNvbnRhY3QoKGZ1bmN0aW9uKHQpe3Qub25JbmNvbWluZygoZnVuY3Rpb24oKXt0LmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2FsbGJhY2sgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJDYWxsYmFjayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSl9KSl9LG4uVm9pY2VSaW5ndG9uZUVuZ2luZT1pLG4uQ2hhdFJpbmd0b25lRW5naW5lPWEsbi5UYXNrUmluZ3RvbmVFbmdpbmU9cyxuLlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZT11LG4uRW1haWxSaW5ndG9uZUVuZ2luZT1jfSgpfSw4MDY6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMscj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1yLHQubGlseT1yLHQuY2NwVmVyc2lvbj0iVjIiO3ZhciBvPSJDSVRSSVgiLGk9IkFXU19XT1JLU1BBQ0UiLGE9ImJyb3dzZXJJZCIscz17fTtzW3IuU29mdHBob25lQ2FsbFR5cGUuQVVESU9fT05MWV09IkF1ZGlvIixzW3IuU29mdHBob25lQ2FsbFR5cGUuVklERU9fT05MWV09IlZpZGVvIixzW3IuU29mdHBob25lQ2FsbFR5cGUuQVVESU9fVklERU9dPSJBdWRpb1ZpZGVvIixzW3IuU29mdHBob25lQ2FsbFR5cGUuTk9ORV09Ik5vbmUiO3ZhciBjPSJhdWRpb19pbnB1dCIsdT0iYXVkaW9fb3V0cHV0Ijsoe30pW3IuQ29udGFjdFR5cGUuVk9JQ0VdPSJWb2ljZSI7dmFyIGw9W10scD1bXSxkPVtdLGg9e30sZj17fSxnPTAsbT0wLHY9MCx5PTAsYj0wLFM9ITEsRT0hMSxDPW51bGwsST1udWxsLFQ9bnVsbCx3PW51bGwsQT1yLlNvZnRwaG9uZUVycm9yVHlwZXMsXz17fSxSPXIucmFuZG9tSWQoKSxPPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtyLmNvcmUuZ2V0Q2xpZW50KCkuY2FsbChyLkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCxlLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QoZS5zb2Z0cGhvbmVUcmFuc3BvcnQuc29mdHBob25lTWVkaWFDb25uZWN0aW9ucyl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7ZS5tZXNzYWdlJiZlLm1lc3NhZ2UuaW5jbHVkZXMoIlNvZnRwaG9uZUNvbm5lY3Rpb25MaW1pdEJyZWFjaGVkRXhjZXB0aW9uIikmJlYoIm11bHRpcGxlX3NvZnRwaG9uZV9hY3RpdmVfc2Vzc2lvbnMiLCJOdW1iZXIgb2YgYWN0aXZlIHNlc3Npb25zIGFyZSBtb3JlIHRoZW4gYWxsb3dlZCBsaW1pdC4iLCIiKSxuKEVycm9yKCJyZXF1ZXN0SWNlQWNjZXNzIGZhaWxlZCIpKX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtuKEVycm9yKCJBdXRoZW50aWNhdGlvbiBmYWlsZWQgd2hpbGUgcmVxdWVzdEljZUFjY2VzcyIpKX0sYWNjZXNzRGVuaWVkOmZ1bmN0aW9uKCl7bihFcnJvcigiQWNjZXNzIERlbmllZCB3aGlsZSByZXF1ZXN0SWNlQWNjZXNzIikpfX0pfSkpfSxMPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxzPXRoaXM7dGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bnVsbCx0aGlzLnJ0Y0pzU3RyYXRlZ3k9bnVsbCx0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj1udWxsLHRoaXMuX3NldFJ0Y0pzU3RyYXRlZ3k9ZnVuY3Rpb24oKXtpZihuLlZESVBsYXRmb3JtKXtDPW4uVkRJUGxhdGZvcm07dHJ5e2lmKG4uVkRJUGxhdGZvcm09PT1vKXRoaXMucnRjSnNTdHJhdGVneT1uZXcgci5DaXRyaXhWRElTdHJhdGVneSx3LmluZm8oIltTb2Z0cGhvbmVNYW5hZ2VyXSBTdHJhdGVneSBjb25zdHJ1Y3RvciByZXRyaWV2ZWQ6ICIuY29uY2F0KHRoaXMucnRjSnNTdHJhdGVneSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXtpZihuLlZESVBsYXRmb3JtIT09aSl0aHJvdyBuZXcgRXJyb3IoIlZESSBTdHJhdGVneSBub3Qgc3VwcG9ydGVkIik7dGhpcy5ydGNKc1N0cmF0ZWd5PW5ldyByLkRDVldlYlJUQ1N0cmF0ZWd5LHcuaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIFN0cmF0ZWd5IGNvbnN0cnVjdG9yIHJldHJpZXZlZDogIi5jb25jYXQodGhpcy5ydGNKc1N0cmF0ZWd5KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19Y2F0Y2goZSl7dGhyb3ciVkRJIFN0cmF0ZWd5IG5vdCBzdXBwb3J0ZWQiPT09ZS5tZXNzYWdlPyhWKEEuVkRJX1NUUkFURUdZX05PVF9TVVBQT1JURUQsZS5tZXNzYWdlLCIiKSxlKToiQ2l0cml4IFdlYlJUQyByZWRpcmVjdGlvbiBmZWF0dXJlIGlzIE5PVCBzdXBwb3J0ZWQhIj09PWUubWVzc2FnZXx8IkRDViBXZWJSVEMgcmVkaXJlY3Rpb24gZmVhdHVyZSBpcyBOT1Qgc3VwcG9ydGVkISI9PT1lLm1lc3NhZ2U/KFYoQS5WRElfUkVESVJfTk9UX1NVUFBPUlRFRCxlLm1lc3NhZ2UsIiIpLGUpOihWKEEuT1RIRVIsZS5tZXNzYWdlLCIiKSxlKX19fSx0aGlzLl9yZWZyZXNoUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PWZ1bmN0aW9uKCl7dmFyIGU7bnVsbCE9ciYmbnVsbCE9PShlPXIuY29yZSkmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnNvZnRwaG9uZU1hbmFnZXIpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkpJiZ2b2lkIDAhPT1lJiZlLmNsb3NlJiZyLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkuY2xvc2UoKSxyLlJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSYmKHRoaXMucnRjSnNTdHJhdGVneT90aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1uZXcgci5SdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkodyxyLmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcigpLFIsci5oaXRjaChzLE8se3RyYW5zcG9ydFR5cGU6InNvZnRwaG9uZSIsc29mdHBob25lQ2xpZW50SWQ6Un0pLHIuaGl0Y2gocyxWKSx0aGlzLnJ0Y0pzU3RyYXRlZ3kpOnRoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW5ldyByLlJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSh3LHIuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCksUixyLmhpdGNoKHMsTyx7dHJhbnNwb3J0VHlwZToic29mdHBob25lIixzb2Z0cGhvbmVDbGllbnRJZDpSfSksci5oaXRjaChzLFYpKSl9LHRoaXMuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKCl7dmFyIGU7bnVsbCE9ciYmbnVsbCE9PShlPXIuY29yZSkmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnNvZnRwaG9uZU1hbmFnZXIpJiZ2b2lkIDAhPT1lJiZudWxsIT09KGU9ZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIpJiZ2b2lkIDAhPT1lJiZlLmNsb3NlJiYoci5jb3JlLnNvZnRwaG9uZU1hbmFnZXIucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsb3NlKCksci5jb3JlLnNvZnRwaG9uZU1hbmFnZXIucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW51bGwpO3ZhciBvLGksYz1uLmlzU29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb25FbmFibGVkO3QubG9jYWxTdG9yYWdlLmdldEl0ZW0oYSl8fHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oYSxBV1MudXRpbC51dWlkLnY0KCkpLG89dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKSxyLlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj8oUz0hMSxudWxsIT09KGk9cy5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkpJiZ2b2lkIDAhPT1pJiZpLmNsb3NlJiYocy5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkuY2xvc2UoKSxzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsKSxzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj1uZXcgci5SdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIobnVsbCxudWxsLHIuaGl0Y2gocyxPLHt0cmFuc3BvcnRUeXBlOiJzb2Z0cGhvbmUiLHNvZnRwaG9uZUNsaWVudElkOlJ9KSxyLmhpdGNoKHMsViksUixudWxsLHcsbnVsbCxudWxsLHIuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCksbnVsbD09PXMucnRjSnNTdHJhdGVneT9uZXcgci5TdGFuZGFyZFN0cmF0ZWd5OnMucnRjSnNTdHJhdGVneSxjLG8pKTp3LmluZm8oIlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciBkb2VzIE5PVCBleGlzdCwgcGxlYXNlIHVwZ3JhZGUgUlRDLmpzIil9LCh3PW5ldyBpZShyLmdldExvZygpKSkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBzb2Z0cGhvbmUgbWFuYWdlciBpbml0aWFsaXphdGlvbiBoYXMgYmVndW4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExIT09bi5hbGxvd0Vhcmx5R3VtJiYoci5pc0Nocm9tZUJyb3dzZXIoKXx8ci5pc0VkZ2VCcm93c2VyKCkpPyh3LmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gZWFybHlHdW0gbWVjaGFuaXNtIGVuYWJsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLFM9ITApOih3LmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gZWFybHlHdW0gbWVjaGFuaXNtIE5PVCBlbmFibGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxTPSExKSx3LmluZm8oIltTb2Z0cGhvbmVNYW5hZ2VyXSBDbGllbnQgUHJvdmlkZWQgU3RyYXRlZ3k6ICIuY29uY2F0KG4uVkRJUGxhdGZvcm0pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuX3NldFJ0Y0pzU3RyYXRlZ3koKSx0aGlzLl9yZWZyZXNoUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KCksci5jb3JlLl9hbGxvd1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uJiZudWxsPT09dGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXImJnRoaXMuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCksci5hZ2VudCgoZnVuY3Rpb24odCl7dmFyIG49dC5vblJlZnJlc2goKGZ1bmN0aW9uKHQpe2lmKGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKXt2YXIgbz10LmdldENvbmZpZ3VyYXRpb24oKS5zb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbjtlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5pc1BQQ0VuYWJsZWQhPT1vJiYoZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuaXNQUENFbmFibGVkPW8sZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuaXNQUENFbmFibGVkPyh3LmluZm8oInNvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uIGNoYW5nZWQgdG8gdHVyZSwgaW5pdGlhdGUgYSBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIucnRjSnNTdHJhdGVneT1lLnJ0Y0pzU3RyYXRlZ3ksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xvc2VFYXJseU1lZGlhQ29ubmVjdGlvbigpLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLnJlcXVlc3RQZWVyQ29ubmVjdGlvbigpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY3JlYXRlU2Vzc2lvbigpLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNvbm5lY3QoKX0pKSk6KHcuaW5mbygic29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24gY2hhbmdlZCB0byBmYWxzZSwgZGVzdHJveSB0aGUgZXhpc3RpbmcgcGVyc2lzdGVudCBwZWVyIGNvbm5lY3Rpb24iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmRlc3Ryb3koKSxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5yZXF1ZXN0UGVlckNvbm5lY3Rpb24oKSkpfWVsc2Ugci5jb3JlLl9hbGxvd1NvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uP2UuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCk6bi51bnN1YnNjcmliZSgpfSkpfSkpLEwuaXNCcm93c2VyU29mdFBob25lU3VwcG9ydGVkKCl8fFYoQS5VTlNVUFBPUlRFRF9CUk9XU0VSLCJDb25uZWN0IGRvZXMgbm90IHN1cHBvcnQgdGhpcyBicm93c2VyLiBTb21lIGZ1bmN0aW9uYWxpdHkgbWF5IG5vdCB3b3JrLiAiLCIiKSxuLlZESVBsYXRmb3JtIT09aSYmRyh7c3VjY2VzczpmdW5jdGlvbihlKXtIKCJDb25uZWN0aXZpdHlDaGVja1Jlc3VsdCIsbnVsbCx7Y29ubmVjdGl2aXR5Q2hlY2tUeXBlOiJNaWNyb3Bob25lUGVybWlzc2lvbiIsc3RhdHVzOiJncmFudGVkIn0pLEgoIk1pY0NoZWNrU3VjY2VlZGVkIixudWxsLHtjb250ZXh0OiJJbml0aWFsaXppbmcgU29mdHBob25lIE1hbmFnZXIifSwhMCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7VihlLCJZb3VyIG1pY3JvcGhvbmUgaXMgbm90IGVuYWJsZWQgaW4geW91ciBicm93c2VyLiAiLCIiKSxIKCJDb25uZWN0aXZpdHlDaGVja1Jlc3VsdCIsbnVsbCx7Y29ubmVjdGl2aXR5Q2hlY2tUeXBlOiJNaWNyb3Bob25lUGVybWlzc2lvbiIsc3RhdHVzOiJkZW5pZWQifSksSCgiR3VtRmFpbGVkIixudWxsLHtjb250ZXh0OiJJbml0aWFsaXppbmcgU29mdHBob25lIE1hbmFnZXIifSwhMCl9fSk7dmFyIGM9TigpLHU9UCgpLGw9RCghbi5kaXNhYmxlRWNob0NhbmNlbGxhdGlvbik7eCgpLHRoaXMucmluZ3RvbmVFbmdpbmU9bnVsbDt2YXIgcD17fSxkPXt9LGg9ITEsZj1udWxsLGc9bnVsbCxtPWZ1bmN0aW9uKCl7aD0hMSxmPW51bGwsZz1udWxsfTt0aGlzLmdldFNlc3Npb249ZnVuY3Rpb24oZSl7cmV0dXJuIHBbZV19LHRoaXMucmVwbGFjZUxvY2FsTWVkaWFUcmFjaz1mdW5jdGlvbihlLHQpe3ZhciByPV9bZV0uc3RyZWFtO2lmKHIpe3ZhciBvPXIuZ2V0QXVkaW9UcmFja3MoKVswXTt0LmVuYWJsZWQ9by5lbmFibGVkLG8uZW5hYmxlZD0hMSxyLnJlbW92ZVRyYWNrKG8pLG4uVkRJUGxhdGZvcm09PT1pJiZvLnN0b3AoKSxyLmFkZFRyYWNrKHQpfX07dmFyIHY9ZnVuY3Rpb24odCl7aWYocC5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIG49cFt0XTtuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtkZWxldGUgcFt0XSxkZWxldGUgZFt0XSxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj9lLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5oYW5ndXAoKTpuLmhhbmd1cCgpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtsaWx5LmdldExvZygpLndhcm4oIlRoZXJlIHdhcyBhbiBlcnJvciBkZXN0cm95aW5nIHRoZSBzb2Z0cGhvbmUgc2Vzc2lvbiBmb3IgY29ubmVjdGlvbiBJRCAiLmNvbmNhdCh0LCIgOiAiKS5jb25jYXQoZS5tZXNzYWdlKSkud2l0aE9iamVjdCh7YWdlbnRDb25uZWN0aW9uSWQ6dCxlcnJvck1lc3NhZ2U6ZS5tZXNzYWdlfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX19O3RoaXMuX2NsZWFyQWxsU2Vzc2lvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gci5nZXRMb2coKS5pbmZvKCJDbGVhcmluZyBhbGwgYWN0aXZlIHNlc3Npb25zIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxwKXAuaGFzT3duUHJvcGVydHkoZSkmJnYoZSl9LHRoaXMuc3RhcnRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG89aD9mOmUsaT1oP2c6dDtpZihvJiZpKXttKCksZFtpXT0hMCx3LmluZm8oIlNvZnRwaG9uZSBjYWxsIGRldGVjdGVkOiIsImNvbnRhY3RJZCAiK28uZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK2kpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZnVuY3Rpb24oZSl7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoPjApe2Zvcih2YXIgdCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJih6KCJNdWx0aVNlc3Npb25IYW5nVXAiLGVbdF0uY2FsbElkLHQpLHYodCkpO3Rocm93IG5ldyBFcnJvcigiZHVwbGljYXRlIHNlc3Npb24gZGV0ZWN0ZWQsIHJlZnVzaW5nIHRvIHNldHVwIG5ldyBjb25uZWN0aW9uIil9fShwKSxvLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkcmJkgoIlNvZnRwaG9uZSBDb25uZWN0aW5nIixvLmdldENvbnRhY3RJZCgpKSxKKCk7dmFyIGEscyxjPW8uZ2V0QWdlbnRDb25uZWN0aW9uKCkuZ2V0U29mdHBob25lTWVkaWFJbmZvKCksdT1CKGMuY2FsbENvbmZpZ0pzb24pO3UudXNlV2ViU29ja2V0UHJvdmlkZXImJihhPXIuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCkpLChzPXRoaXMucnRjSnNTdHJhdGVneT9uZXcgci5SVENTZXNzaW9uKHUuc2lnbmFsaW5nRW5kcG9pbnQsdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbix3LG8uZ2V0Q29udGFjdElkKCksaSxhLHRoaXMucnRjSnNTdHJhdGVneSk6bmV3IHIuUlRDU2Vzc2lvbih1LnNpZ25hbGluZ0VuZHBvaW50LHUuaWNlU2VydmVycyxjLmNhbGxDb250ZXh0VG9rZW4sdyxvLmdldENvbnRhY3RJZCgpLGksYSkpLmVjaG9DYW5jZWxsYXRpb249IW4uZGlzYWJsZUVjaG9DYW5jZWxsYXRpb24scFtpXT1zLHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29ubmVjdGlvbkV2ZW50cy5TRVNTSU9OX0lOSVQsZGF0YTp7Y29ubmVjdGlvbklkOml9fSkscy5vblNlc3Npb25GYWlsZWQ9ZnVuY3Rpb24oZSx0KXtkZWxldGUgcFtpXSxkZWxldGUgZFtpXSxxKGUsdCksVyhvLmdldENvbnRhY3RJZCgpLHQpLG5lKG8sZS5zZXNzaW9uUmVwb3J0KX0scy5vblNlc3Npb25Db25uZWN0ZWQ9ZnVuY3Rpb24oZSl7SCgiU29mdHBob25lIFNlc3Npb24gQ29ubmVjdGVkIixvLmdldENvbnRhY3RJZCgpKSxyLmJlY29tZU1hc3RlcihyLk1hc3RlclRvcGljcy5TRU5EX0xPR1MpLFkoZSksWChvKSxrKG8pfSxzLm9uU2Vzc2lvbkNvbXBsZXRlZD1mdW5jdGlvbihlKXtIKCJTb2Z0cGhvbmUgU2Vzc2lvbiBDb21wbGV0ZWQiLG8uZ2V0Q29udGFjdElkKCkpLGRlbGV0ZSBwW2ldLGRlbGV0ZSBkW2ldLG5lKG8sZS5zZXNzaW9uUmVwb3J0KSxNKGkpfSxzLm9uTG9jYWxTdHJlYW1BZGRlZD1mdW5jdGlvbihlLHQpe19baV09e3N0cmVhbTp0fSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLkxPQ0FMX01FRElBX1NUUkVBTV9DUkVBVEVELGRhdGE6e2Nvbm5lY3Rpb25JZDppfX0pfSxzLnJlbW90ZUF1ZGlvRWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIil8fHdpbmRvdy5wYXJlbnQucGFyZW50LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKSx0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT9zLmNvbm5lY3QodGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkuZ2V0KHUuaWNlU2VydmVycykpOnMuY29ubmVjdCgpfX07dmFyIHk9ZnVuY3Rpb24oZSx0KXt2YXIgbjtwW3RdJiZmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTdGF0dXMoKS50eXBlPT09ci5Db250YWN0U3RhdHVzVHlwZS5FTkRFRHx8ZS5nZXRTdGF0dXMoKS50eXBlPT09ci5Db250YWN0U3RhdHVzVHlwZS5FUlJPUnx8ZS5nZXRTdGF0dXMoKS50eXBlPT09ci5Db250YWN0U3RhdHVzVHlwZS5NSVNTRUR9KGUpJiYodih0KSxtKCkpLCFlLmlzU29mdHBob25lQ2FsbCgpfHxkW3RdfHxlLmdldFN0YXR1cygpLnR5cGUhPT1yLkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkcmJmUuZ2V0U3RhdHVzKCkudHlwZSE9PXIuQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkd8fChIKCJTb2Z0cGhvbmVDb25maWdEZXRlY3RlZCIsZS5nZXRDb250YWN0SWQoKSx7fSwhMCksci5pc0ZpcmVmb3hCcm93c2VyKCkmJnIuaGFzT3RoZXJDb25uZWN0ZWRDQ1BzKCk/KHcuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBQb3N0cG9uZSBzdGFydGluZyBzZXNzaW9uOiAiK2UuZ2V0Q29udGFjdElkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZnVuY3Rpb24oZSx0KXtoPSEwLGY9ZSxnPXR9KGUsdCkpOlMmJm51bGwhPT0obj1yLmNvcmUudXNlck1lZGlhUHJvdmlkZXIpJiZ2b2lkIDAhPT1uJiZuLnByZWNhcHR1cmVkTWVkaWFTdHJlYW1BdmFpbGFibGUoKT8oRT0hMCx3LmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gc3RhcnRpbmcgc2Vzc2lvbiB1c2luZyBwcmVjYXB0dXJlZE1lZGlhU3RyZWFtIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzLnN0YXJ0U2Vzc2lvbihlLHQsci5jb3JlLnVzZXJNZWRpYVByb3ZpZGVyLmdldFByZWNhcHR1cmVkTWVkaWFTdHJlYW0oKSkpOihFPSExLHIuY29yZS5faXNFYXJseUd1bURpc2FibGVkJiYoUz0hMSkscy5zdGFydFNlc3Npb24oZSx0KSkpfSxiPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QWdlbnRDb25uZWN0aW9uKCkuY29ubmVjdGlvbklkO3cuaW5mbygiQ29udGFjdCBkZXRlY3RlZDoiLCJjb250YWN0SWQgIitlLmdldENvbnRhY3RJZCgpLCJhZ2VudCBjb25uZWN0aW9uSWQgIit0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGRbdF18fChlLm9uUmVmcmVzaCgoZnVuY3Rpb24oZSl7eShlLHQpfSkpLGUub25EZXN0cm95KChmdW5jdGlvbigpeyFmdW5jdGlvbihlKXtwW2VdJiZ2KGUpfSh0KSxfW3RdJiZNKHQpfSkpKX0sST1yLmNvbnRhY3QoYik7KG5ldyByLkFnZW50KS5nZXRDb250YWN0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QWdlbnRDb25uZWN0aW9uKCkuY29ubmVjdGlvbklkO3cuaW5mbygiQ29udGFjdCBleGlzdCBpbiB0aGUgc25hcHNob3QuIFJlaW5pdGlhdGUgdGhlIENvbnRhY3QgYW5kIFJUQyBzZXNzaW9uIGNyZWF0aW9uIGZvciBjb250YWN0SWQiK2UuZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK3QpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYihlKSx5KGUsdCl9KSksdGhpcy50ZXJtaW5hdGU9ZnVuY3Rpb24oKXtJJiZJLnVuc3Vic2NyaWJlJiZJLnVuc3Vic2NyaWJlKCksYyYmYy51bnN1YnNjcmliZSYmYy51bnN1YnNjcmliZSgpLHUmJnUudW5zdWJzY3JpYmUmJnUudW5zdWJzY3JpYmUoKSxsJiZsLnVuc3Vic2NyaWJlJiZsLnVuc3Vic2NyaWJlKCksZS5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkuY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkJiZlLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQmJmUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpfX0saz1mdW5jdGlvbihlKXt2YXIgdD1yLmNvcmUuZ2V0VXBzdHJlYW0oKSxuPWUuZ2V0QWdlbnRDb25uZWN0aW9uKCk7aWYobil7dmFyIG89bi5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKTtvPyEwPT09by5hdXRvQWNjZXB0Pyh3LmluZm8oIkF1dG8tYWNjZXB0IGlzIGVuYWJsZWQsIHNlbmRpbmcgb3V0IEFjY2VwdGVkIGV2ZW50IHRvIHN0b3AgcmluZ3RvbmUuLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZGF0YTpuZXcgci5Db250YWN0KGUuY29udGFjdElkKX0pLHQuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoci5Db250YWN0RXZlbnRzLkFDQ0VQVEVELGUuY29udGFjdElkKSxkYXRhOm5ldyByLkNvbnRhY3QoZS5jb250YWN0SWQpfSkpOncuaW5mbygiQXV0by1hY2NlcHQgaXMgZGlzYWJsZWQsIHJpbmd0b25lIHdpbGwgYmUgc3RvcHBlZCBieSB1c2VyIGFjdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOncuaW5mbygiTm90IGFibGUgdG8gcmV0cmlldmUgdGhlIGF1dG8tYWNjZXB0IHNldHRpbmcgZnJvbSBudWxsIFNvZnRwaG9uZU1lZGlhSW5mbywgaWdub3JpbmcgZXZlbnQgcHVibGlzaC4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIHcuaW5mbygiTm90IGFibGUgdG8gcmV0cmlldmUgdGhlIGF1dG8tYWNjZXB0IHNldHRpbmcgZnJvbSBudWxsIEFnZW50Q29ubmVjdGlvbiwgaWdub3JpbmcgZXZlbnQgcHVibGlzaC4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sTj1mdW5jdGlvbigpe3JldHVybiByLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuTVVURSxVKX0sUD1mdW5jdGlvbigpe3JldHVybiByLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9TUEVBS0VSX0RFVklDRSxGKX0sRD1mdW5jdGlvbihlKXtyZXR1cm4gci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfTUlDUk9QSE9ORV9ERVZJQ0UsKGZ1bmN0aW9uKHQpe3JldHVybiBqKG4obih7fSx0KSx7fSx7ZW5hYmxlRWNob0NhbmNlbGxhdGlvbjplfSkpfSkpfSx4PWZ1bmN0aW9uKCl7dHJ5e3IuaXNDaHJvbWVCcm93c2VyKCkmJnIuZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKT40MyYmbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOiJtaWNyb3Bob25lIn0pLnRoZW4oKGZ1bmN0aW9uKGUpe2Uub25jaGFuZ2U9ZnVuY3Rpb24oKXt3LmluZm8oIk1pY3JvcGhvbmUgUGVybWlzc2lvbjogIitlLnN0YXRlKSxIKCJDb25uZWN0aXZpdHlDaGVja1Jlc3VsdCIsbnVsbCx7Y29ubmVjdGl2aXR5Q2hlY2tUeXBlOiJNaWNyb3Bob25lUGVybWlzc2lvbiIsc3RhdHVzOmUuc3RhdGV9KSwiZGVuaWVkIj09PWUuc3RhdGUmJlYoQS5NSUNST1BIT05FX05PVF9TSEFSRUQsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpfX0pKX1jYXRjaChlKXt3LmVycm9yKCJGYWlsZWQgaW4gZGV0ZWN0aW5nIG1pY3JvcGhvbmUgcGVybWlzc2lvbiBzdGF0dXM6ICIrZSl9fSxNPWZ1bmN0aW9uKGUpe2RlbGV0ZSBfW2VdLHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuTVVURV9UT0dHTEUsZGF0YTp7bXV0ZWQ6ITF9fSl9LFU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoMCE9PXIua2V5cyhfKS5sZW5ndGgpe2Zvcih2YXIgbiBpbiBlJiZ2b2lkIDAhPT1lLm11dGUmJih0PWUubXV0ZSksXylpZihfLmhhc093blByb3BlcnR5KG4pKXt2YXIgbz1fW25dLnN0cmVhbTtpZihvKXt2YXIgaT1vLmdldEF1ZGlvVHJhY2tzKClbMF07dm9pZCAwIT09dD8oaS5lbmFibGVkPSF0LF9bbl0ubXV0ZWQ9dCx0P3cuaW5mbygiQWdlbnQgaGFzIG11dGVkIHRoZSBjb250YWN0LCBjb25uZWN0aW9uSWQgLSAgIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOncuaW5mbygiQWdlbnQgaGFzIHVubXV0ZWQgdGhlIGNvbnRhY3QsIGNvbm5lY3Rpb25JZCAtICIrbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6dD1fW25dLm11dGVkfHwhMX19ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5BZ2VudEV2ZW50cy5NVVRFX1RPR0dMRSxkYXRhOnttdXRlZDp0fX0pfX0sRj1mdW5jdGlvbigpe3ZhciBlPShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30pLmRldmljZUlkfHwiIjtpZihyLmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEF0dGVtcHRpbmcgdG8gc2V0IHNwZWFrZXIgZGV2aWNlICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKXx8d2luZG93LnBhcmVudC5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpO3QmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnNldFNpbmtJZD90LnNldFNpbmtJZChlKS50aGVuKChmdW5jdGlvbigpe3IuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU3BlYWtlciBkZXZpY2UgIi5jb25jYXQoZSwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gc3BlYWtlciBhdWRpbyBlbGVtZW50IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25maWd1cmF0aW9uRXZlbnRzLlNQRUFLRVJfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ci5nZXRMb2coKS5lcnJvcigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gRmFpbGVkIHRvIHNldCBzcGVha2VyIGRldmljZSAiK2UpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKTpyLmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgc3BlYWtlciBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIHJlbW90ZUF1ZGlvRWxlbWVudCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSByLmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgc3BlYWtlciBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIGRldmljZUlkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0saj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZGV2aWNlSWR8fCIiO2lmKHIuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gQXR0ZW1wdGluZyB0byBzZXQgbWljcm9waG9uZSBkZXZpY2UgIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksMCE9PXIua2V5cyhfKS5sZW5ndGgpaWYodCl7dmFyIG49ci5jb3JlLmdldFNvZnRwaG9uZU1hbmFnZXIoKSxvPXthdWRpbzp7ZGV2aWNlSWQ6e2V4YWN0OnR9fX07ZS5lbmFibGVFY2hvQ2FuY2VsbGF0aW9ufHwoby5hdWRpby5lY2hvQ2FuY2VsbGF0aW9uPSExKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6ImVjaG9DYW5jZWxsYXRpb25DaGVjayIsZGF0YTp7Y291bnQ6MSxkaXNhYmxlRWNob0NhbmNlbGxhdGlvbjohZS5lbmFibGVFY2hvQ2FuY2VsbGF0aW9ufX0pLG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKG8pLnRoZW4oKGZ1bmN0aW9uKGUpe3RyeXt2YXIgbz1lLmdldEF1ZGlvVHJhY2tzKClbMF07Zm9yKHZhciBpIGluIF8pXy5oYXNPd25Qcm9wZXJ0eShpKSYmKF9baV0uc3RyZWFtLG4uZ2V0U2Vzc2lvbihpKS5fcGMuZ2V0U2VuZGVycygpWzBdLnJlcGxhY2VUcmFjayhvKS50aGVuKChmdW5jdGlvbigpe24ucmVwbGFjZUxvY2FsTWVkaWFUcmFjayhpLG8pLHIuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gTWljcm9waG9uZSBkZXZpY2UgIi5jb25jYXQodCwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gbG9jYWwgbWVkaWEgc3RyZWFtIGluIFJUQ1J0cFNlbmRlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpKX1jYXRjaChlKXtyZXR1cm4gdm9pZCByLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IG1pY3JvcGhvbmUgZGV2aWNlICIrdCkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29uZmlndXJhdGlvbkV2ZW50cy5NSUNST1BIT05FX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOnR9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgbWljcm9waG9uZSBkZXZpY2UgIit0KS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9ZWxzZSByLmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgbWljcm9waG9uZSBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIGRldmljZUlkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBtaWNyb3Bob25lIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgbG9jYWxNZWRpYVN0cmVhbSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHE9ZnVuY3Rpb24oZSx0KXtpZih0PT09ci5SVENFcnJvcnMuSUNFX0NPTExFQ1RJT05fVElNRU9VVCl7Zm9yKHZhciBuPSJcbiIsbz0wO288ZS5faWNlU2VydmVycy5sZW5ndGg7bysrKWZvcih2YXIgaT0wO2k8ZS5faWNlU2VydmVyc1tvXS51cmxzLmxlbmd0aDtpKyspbj1uK2UuX2ljZVNlcnZlcnNbb10udXJsc1tpXSsiXG4iO1YoQS5JQ0VfQ09MTEVDVElPTl9USU1FT1VULCJJY2UgY29sbGVjdGlvbiB0aW1lZG91dC4gIixuKX1lbHNlIHQ9PT1yLlJUQ0Vycm9ycy5VU0VSX0JVU1k/VihBLlVTRVJfQlVTWV9FUlJPUiwiU29mdHBob25lIGNhbGwgVXNlckJ1c3kgZXJyb3IuICIsIiIpOnQ9PT1yLlJUQ0Vycm9ycy5TSUdOQUxMSU5HX0hBTkRTSEFLRV9GQUlMVVJFP1YoQS5TSUdOQUxMSU5HX0hBTkRTSEFLRV9GQUlMVVJFLCJIYW5kc2hha2luZyB3aXRoIFNpZ25hbGxpbmcgU2VydmVyICIrZS5fc2lnbmFsaW5nVXJpKyIgZmFpbGVkLiAiLGUuX3NpZ25hbGluZ1VyaSk6dD09PXIuUlRDRXJyb3JzLkdVTV9USU1FT1VUX0ZBSUxVUkV8fHQ9PT1yLlJUQ0Vycm9ycy5HVU1fT1RIRVJfRkFJTFVSRT9WKEEuTUlDUk9QSE9ORV9OT1RfU0hBUkVELCJZb3VyIG1pY3JvcGhvbmUgaXMgbm90IGVuYWJsZWQgaW4geW91ciBicm93c2VyLiAiLCIiKTp0PT09ci5SVENFcnJvcnMuU0lHTkFMTElOR19DT05ORUNUSU9OX0ZBSUxVUkU/VihBLlNJR05BTExJTkdfQ09OTkVDVElPTl9GQUlMVVJFLCJVUkwgIitlLl9zaWduYWxpbmdVcmkrIiBjYW5ub3QgYmUgcmVhY2hlZC4gIixlLl9zaWduYWxpbmdVcmkpOnQ9PT1yLlJUQ0Vycm9ycy5DQUxMX05PVF9GT1VORD93LmVycm9yKCJTb2Z0cGhvbmUgY2FsbCBmYWlsZWQgZHVlIHRvIENhbGxOb3RGb3VuZEV4Y2VwdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOlYoQS5XRUJSVENfRVJST1IsIndlYnJ0YyBzeXN0ZW0gZXJyb3IuICIsIiIpfSxCPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSgvJnF1b3Q7L2csJyInKTtyZXR1cm4gSlNPTi5wYXJzZSh0KX0sRz1mdW5jdGlvbih0KXt2YXIgbj10fHx7fTtuLnN1Y2Nlc3M9bi5zdWNjZXNzfHxmdW5jdGlvbigpe30sbi5mYWlsdXJlPW4uZmFpbHVyZXx8ZnVuY3Rpb24oKXt9O3ZhciByPXthdWRpbzohMH0sbz1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm9taXNlKXtpZigib2JqZWN0Ij09PWUobmF2aWdhdG9yLm1lZGlhRGV2aWNlcykmJiJmdW5jdGlvbiI9PXR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSlvPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEpcmV0dXJuIHZvaWQgbi5mYWlsdXJlKEEuVU5TVVBQT1JURURfQlJPV1NFUik7bz1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKHIsZSx0KX0pKX1yZXR1cm4gby50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1lLmdldEF1ZGlvVHJhY2tzKCk7dCYmdC5sZW5ndGg+MD9uLnN1Y2Nlc3MoZSk6bi5mYWlsdXJlKEEuTUlDUk9QSE9ORV9OT1RfU0hBUkVEKX0pLChmdW5jdGlvbihlKXtuLmZhaWx1cmUoQS5NSUNST1BIT05FX05PVF9TSEFSRUQpfSkpLG99bi5mYWlsdXJlKEEuVU5TVVBQT1JURURfQlJPV1NFUil9LFY9ZnVuY3Rpb24oZSx0LG4pe3cuZXJyb3IoIlNvZnRwaG9uZSBlcnJvciBvY2N1cnJlZCA6ICIsZSx0fHwiIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLlNPRlRQSE9ORV9FUlJPUixkYXRhOm5ldyByLlNvZnRwaG9uZUVycm9yKGUsdCxuKX0pfSxXPWZ1bmN0aW9uKGUsdCl7SCgiU29mdHBob25lIFNlc3Npb24gRmFpbGVkIixlLHtmYWlsZWRSZWFzb246dH0pfSxIPWZ1bmN0aW9uKGUsdCxuKXtyLnB1Ymxpc2hNZXRyaWMoe25hbWU6ZSxjb250YWN0SWQ6dCxkYXRhOm59KX0sej1mdW5jdGlvbihlLHQsbil7SChlLHQsW3tuYW1lOiJBZ2VudENvbm5lY3Rpb25JZCIsdmFsdWU6bn1dKSx3LmluZm8oIlB1Ymxpc2ggbXVsdGlwbGUgc2Vzc2lvbiBlcnJvciBtZXRyaWNzIixlLCJjb250YWN0SWQgIit0LCJhZ2VudCBjb25uZWN0aW9uSWQgIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTtMLmlzQnJvd3NlclNvZnRQaG9uZVN1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiEhKHIuaXNPcGVyYUJyb3dzZXIoKSYmci5nZXRPcGVyYUJyb3dzZXJWZXJzaW9uKCk+MTcpfHwhIShyLmlzQ2hyb21lQnJvd3NlcigpJiZyLmdldENocm9tZUJyb3dzZXJWZXJzaW9uKCk+MjIpfHwhIShyLmlzRmlyZWZveEJyb3dzZXIoKSYmci5nZXRGaXJlZm94QnJvd3NlclZlcnNpb24oKT4yMSl9O3ZhciBLPWZ1bmN0aW9uKGUpe3ZhciB0PWwuc2xpY2UoKTtsPVtdLHQubGVuZ3RoPjAmJmUuc2VuZFNvZnRwaG9uZU1ldHJpY3ModCx7c3VjY2VzczpmdW5jdGlvbigpe3cuaW5mbygic2VuZFNvZnRwaG9uZU1ldHJpY3Mgc3VjY2VzcyIrSlNPTi5zdHJpbmdpZnkodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dy5lcnJvcigic2VuZFNvZnRwaG9uZU1ldHJpY3MgZmFpbGVkLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KX0sWT1mdW5jdGlvbihlKXtJPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLmdldFVzZXJBdWRpb1N0YXRzKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9aCxuPVEoaD1lLHQsYyk7bC5wdXNoKG4pLFoobil9KSwoZnVuY3Rpb24oZSl7dy5kZWJ1ZygiRmFpbGVkIHRvIGdldCB1c2VyIGF1ZGlvIHN0YXRzLiIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLmdldFJlbW90ZUF1ZGlvU3RhdHMoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1mLG49UShmPWUsdCx1KTtsLnB1c2gobiksWihuKX0pLChmdW5jdGlvbihlKXt3LmRlYnVnKCJGYWlsZWQgdG8gZ2V0IHJlbW90ZSBhdWRpbyBzdGF0cy4iLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSwxZTMpfSxYPWZ1bmN0aW9uKGUpe1Q9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe0soZSl9KSwzZTQpfSxKPWZ1bmN0aW9uKCl7aD1udWxsLGY9bnVsbCxsPVtdLHA9W10sZD1bXSxJPW51bGwsVD1udWxsLGc9MCxtPTAsdj0wLHk9MCxiPTB9LFE9ZnVuY3Rpb24oZSx0LG4pe2lmKHQmJmUpe3ZhciByPWUucGFja2V0c0xvc3Q+dC5wYWNrZXRzTG9zdD9lLnBhY2tldHNMb3N0LXQucGFja2V0c0xvc3Q6MCxvPWUucGFja2V0c0NvdW50PnQucGFja2V0c0NvdW50P2UucGFja2V0c0NvdW50LXQucGFja2V0c0NvdW50OjA7cmV0dXJuICQobyxuKSxlZShlLmF1ZGlvTGV2ZWwsbiksbmV3IHJlKGUudGltZXN0YW1wLHIsbyxuLGUuYXVkaW9MZXZlbCxlLmpiTWlsbGlzZWNvbmRzLGUucnR0TWlsbGlzZWNvbmRzKX1yZXR1cm4gbmV3IHJlKGUudGltZXN0YW1wLGUucGFja2V0c0xvc3QsZS5wYWNrZXRzQ291bnQsbixlLmF1ZGlvTGV2ZWwsZS5qYk1pbGxpc2Vjb25kcyxlLnJ0dE1pbGxpc2Vjb25kcyl9LFo9ZnVuY3Rpb24oZSl7aWYoZS5zb2Z0cGhvbmVTdHJlYW1UeXBlPT09Yyl7Zm9yKDtwLmxlbmd0aD49MTA4MDA7KXAuc2hpZnQoKTtwLnB1c2goZSl9ZWxzZSBpZihlLnNvZnRwaG9uZVN0cmVhbVR5cGU9PT11KXtmb3IoO2QubGVuZ3RoPj0xMDgwMDspZC5zaGlmdCgpO2QucHVzaChlKX19LCQ9ZnVuY3Rpb24oZSx0KXt0PT09Yz8oYisrLGU8PTA/ZysrOmc9MCk6dD09PXUmJihlPD0wP3YrKzp2PTApfSxlZT1mdW5jdGlvbihlLHQpe3Q9PT1jP251bGwhPT1lJiZlPD0xP20rKzptPTA6dD09PXUmJihudWxsIT09ZSYmZTw9MT95Kys6eT0wKX0sdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbChlKSxudWxsfSxuZT1mdW5jdGlvbihlLG8pe0k9dGUoSSksVD10ZShUKSxmdW5jdGlvbihlLG8saSxhKXtvLnN0cmVhbVN0YXRzPVtvZShpLGMpLG9lKGEsdSldO3ZhciBzPXtjYWxsU3RhcnRUaW1lOm8uc2Vzc2lvblN0YXJ0VGltZSxjYWxsRW5kVGltZTpvLnNlc3Npb25FbmRUaW1lLGd1bVRpbWVNaWxsaXM6by5ndW1UaW1lTWlsbGlzLGluaXRpYWxpemF0aW9uVGltZU1pbGxpczpvLmluaXRpYWxpemF0aW9uVGltZU1pbGxpcyxpY2VDb2xsZWN0aW9uVGltZU1pbGxpczpvLmljZUNvbGxlY3Rpb25UaW1lTWlsbGlzLHNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpczpvLnNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcyxoYW5kc2hha2luZ1RpbWVNaWxsaXM6by5oYW5kc2hha2luZ1RpbWVNaWxsaXMscHJlVGFsa2luZ1RpbWVNaWxsaXM6by5wcmVUYWxraW5nVGltZU1pbGxpcyx0YWxraW5nVGltZU1pbGxpczpvLnRhbGtpbmdUaW1lTWlsbGlzLGNsZWFudXBUaW1lTWlsbGlzOm8uY2xlYW51cFRpbWVNaWxsaXMsaWNlQ29sbGVjdGlvbkZhaWx1cmU6by5pY2VDb2xsZWN0aW9uRmFpbHVyZSxzaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmU6by5zaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmUsaGFuZHNoYWtpbmdGYWlsdXJlOm8uaGFuZHNoYWtpbmdGYWlsdXJlLGd1bU90aGVyRmFpbHVyZTpvLmd1bU90aGVyRmFpbHVyZSxndW1UaW1lb3V0RmFpbHVyZTpvLmd1bVRpbWVvdXRGYWlsdXJlLGNyZWF0ZU9mZmVyRmFpbHVyZTpvLmNyZWF0ZU9mZmVyRmFpbHVyZSxzZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZTpvLnNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlLHVzZXJCdXN5RmFpbHVyZTpvLnVzZXJCdXN5RmFpbHVyZSxpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTpvLmludmFsaWRSZW1vdGVTRFBGYWlsdXJlLG5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZTpvLm5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZSxzZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmU6by5zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmUsc29mdHBob25lU3RyZWFtU3RhdGlzdGljczpvLnN0cmVhbVN0YXRzfTtlLnNlbmRTb2Z0cGhvbmVSZXBvcnQocyx7c3VjY2VzczpmdW5jdGlvbigpe3cuaW5mbygic2VuZFNvZnRwaG9uZVJlcG9ydCBzdWNjZXNzIitKU09OLnN0cmluZ2lmeShzKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt3LmVycm9yKCJzZW5kU29mdHBob25lUmVwb3J0IGZhaWxlZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSk7dmFyIGw9e0FVRElPX0lOUFVUOntwYWNrZXRzQ291bnQ6cC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhY2tldHNDb3VudH0pKSxwYWNrZXRzTG9zdDpwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0xvc3R9KSksYXVkaW9MZXZlbDpwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVkaW9MZXZlbH0pKSxqaXR0ZXJCdWZmZXJNaWxsaXM6cC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmppdHRlckJ1ZmZlck1pbGxpc30pKX0sQVVESU9fT1VUUFVUOntwYWNrZXRzQ291bnQ6ZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhY2tldHNDb3VudH0pKSxwYWNrZXRzTG9zdDpkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0xvc3R9KSksYXVkaW9MZXZlbDpkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVkaW9MZXZlbH0pKSxqaXR0ZXJCdWZmZXJNaWxsaXM6ZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmppdHRlckJ1ZmZlck1pbGxpc30pKSxyb3VuZFRyaXBUaW1lTWlsbGlzOmQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yb3VuZFRyaXBUaW1lTWlsbGlzfSkpfX0saD1uKG4oe30scykse30se3NvZnRwaG9uZVN0cmVhbVBlclNlY29uZFN0YXRpc3RpY3M6bCxpY2VDb25uZWN0aW9uc0xvc3Q6by5pY2VDb25uZWN0aW9uc0xvc3QsaWNlQ29ubmVjdGlvbnNGYWlsZWQ6by5pY2VDb25uZWN0aW9uc0ZhaWxlZHx8bnVsbCxwZWVyQ29ubmVjdGlvbkZhaWxlZDpvLnBlZXJDb25uZWN0aW9uRmFpbGVkfHxudWxsLHJ0Y0pzVmVyc2lvbjpvLnJ0Y0pzVmVyc2lvbnx8bnVsbCxjb25zZWN1dGl2ZU5vQXVkaW9JbnB1dFBhY2tldHM6Zyxjb25zZWN1dGl2ZUxvd0lucHV0QXVkaW9MZXZlbDptLGNvbnNlY3V0aXZlTm9BdWRpb091dHB1dFBhY2tldHM6dixjb25zZWN1dGl2ZUxvd091dHB1dEF1ZGlvTGV2ZWw6eSxhdWRpb0lucHV0Q29ubmVjdGVkRHVyYXRpb25TZWNvbmRzOmIsY2NwTWVkaWFSZWFkeUxhdGVuY3lNaWxsaXM6MCxjb250YWN0U3VidHlwZTplLmdldENvbnRhY3RTdWJ0eXBlKCksZWFybHlHdW1FbmFibGVkOlMsZWFybHlHdW1Xb3JrZWQ6RSx2ZGlQbGF0Zm9ybTpDfHxudWxsLHN0cmVhbUpzVmVyc2lvbjpyLnZlcnNpb259KTtyLnB1Ymxpc2hTb2Z0cGhvbmVSZXBvcnQoe2NvbnRhY3RJZDplLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246dC5jY3BWZXJzaW9uLHJlcG9ydDpofSksdy5pbmZvKCJzZW50IFRlbGVtZXRyeUNhbGxSZXBvcnQgIitKU09OLnN0cmluZ2lmeShoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0oZSxvLG9lKGgsYyksb2UoZix1KSksSyhlKX0scmU9ZnVuY3Rpb24oZSx0LG4scixvLGksYSl7dGhpcy5zb2Z0cGhvbmVTdHJlYW1UeXBlPXIsdGhpcy50aW1lc3RhbXA9ZSx0aGlzLnBhY2tldHNMb3N0PXQsdGhpcy5wYWNrZXRzQ291bnQ9bix0aGlzLmF1ZGlvTGV2ZWw9byx0aGlzLmppdHRlckJ1ZmZlck1pbGxpcz1pLHRoaXMucm91bmRUcmlwVGltZU1pbGxpcz1hfSxvZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcmUoKGU9ZXx8e30pLnRpbWVzdGFtcCxlLnBhY2tldHNMb3N0LGUucGFja2V0c0NvdW50LHQsZS5hdWRpb0xldmVsKX0saWU9ZnVuY3Rpb24oZSl7dGhpcy5fb3JpZ2luYWxMb2dnZXI9ZTt2YXIgdD10aGlzO3RoaXMuX3RlZT1mdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50c1swXSksbz0iIjtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbigpe28rPSIgJXMifSkpLG4uYXBwbHkodC5fb3JpZ2luYWxMb2dnZXIsW3IuTG9nQ29tcG9uZW50LlNPRlRQSE9ORSxvXS5jb25jYXQoZSkpfX19O2llLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMSx0aGlzLl9vcmlnaW5hbExvZ2dlci5kZWJ1ZykoYXJndW1lbnRzKX0saWUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDIsdGhpcy5fb3JpZ2luYWxMb2dnZXIuaW5mbykoYXJndW1lbnRzKX0saWUucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMyx0aGlzLl9vcmlnaW5hbExvZ2dlci5sb2cpKGFyZ3VtZW50cyl9LGllLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSg0LHRoaXMuX29yaWdpbmFsTG9nZ2VyLndhcm4pKGFyZ3VtZW50cyl9LGllLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoNSx0aGlzLl9vcmlnaW5hbExvZ2dlci5lcnJvcikoYXJndW1lbnRzKX0sci5Tb2Z0cGhvbmVNYW5hZ2VyPUx9KCl9LDM0NDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1mdW5jdGlvbigpe3JldHVybiB0LmNhY2hlLmhhc093blByb3BlcnR5KGFyZ3VtZW50c1swXSl8fCh0LmNhY2hlW2FyZ3VtZW50c1swXV09dC5wYXJzZShhcmd1bWVudHNbMF0pKSx0LmZvcm1hdC5jYWxsKG51bGwsdC5jYWNoZVthcmd1bWVudHNbMF1dLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49W107dD4wO25bLS10XT1lKTtyZXR1cm4gbi5qb2luKCIiKX10LmZvcm1hdD1mdW5jdGlvbihlLG8pe3ZhciBpLGEscyxjLHUsbCxwLGQ9MSxoPWUubGVuZ3RoLGY9IiIsZz1bXTtmb3IoYT0wO2E8aDthKyspaWYoInN0cmluZyI9PT0oZj1uKGVbYV0pKSlnLnB1c2goZVthXSk7ZWxzZSBpZigiYXJyYXkiPT09Zil7aWYoKGM9ZVthXSlbMl0pZm9yKGk9b1tkXSxzPTA7czxjWzJdLmxlbmd0aDtzKyspe2lmKCFpLmhhc093blByb3BlcnR5KGNbMl1bc10pKXRocm93IHQoJ1tzcHJpbnRmXSBwcm9wZXJ0eSAiJXMiIGRvZXMgbm90IGV4aXN0JyxjWzJdW3NdKTtpPWlbY1syXVtzXV19ZWxzZSBpPWNbMV0/b1tjWzFdXTpvW2QrK107aWYoL1tec10vLnRlc3QoY1s4XSkmJiJudW1iZXIiIT1uKGkpKXRocm93IHQoIltzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlcyIsbihpKSk7c3dpdGNoKGNbOF0pe2Nhc2UiYiI6aT1pLnRvU3RyaW5nKDIpO2JyZWFrO2Nhc2UiYyI6aT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO2JyZWFrO2Nhc2UiZCI6aT1wYXJzZUludChpLDEwKTticmVhaztjYXNlImUiOmk9Y1s3XT9pLnRvRXhwb25lbnRpYWwoY1s3XSk6aS50b0V4cG9uZW50aWFsKCk7YnJlYWs7Y2FzZSJmIjppPWNbN10/cGFyc2VGbG9hdChpKS50b0ZpeGVkKGNbN10pOnBhcnNlRmxvYXQoaSk7YnJlYWs7Y2FzZSJvIjppPWkudG9TdHJpbmcoOCk7YnJlYWs7Y2FzZSJzIjppPShpPVN0cmluZyhpKSkmJmNbN10/aS5zdWJzdHJpbmcoMCxjWzddKTppO2JyZWFrO2Nhc2UidSI6aT4+Pj0wO2JyZWFrO2Nhc2UieCI6aT1pLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIlgiOmk9aS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1pPS9bZGVmXS8udGVzdChjWzhdKSYmY1szXSYmaT49MD8iKyIraTppLGw9Y1s0XT8iMCI9PWNbNF0/IjAiOmNbNF0uY2hhckF0KDEpOiIgIixwPWNbNl0tU3RyaW5nKGkpLmxlbmd0aCx1PWNbNl0/cihsLHApOiIiLGcucHVzaChjWzVdP2krdTp1K2kpfXJldHVybiBnLmpvaW4oIiIpfSx0LmNhY2hlPXt9LHQucGFyc2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsbj1bXSxyPVtdLG89MDt0Oyl7aWYobnVsbCE9PShuPS9eW15ceDI1XSsvLmV4ZWModCkpKXIucHVzaChuWzBdKTtlbHNlIGlmKG51bGwhPT0obj0vXlx4MjV7Mn0vLmV4ZWModCkpKXIucHVzaCgiJSIpO2Vsc2V7aWYobnVsbD09PShuPS9eXHgyNSg/OihbMS05XVxkKilcJHxcKChbXlwpXSspXCkpPyhcKyk/KDB8J1teJF0pPygtKT8oXGQrKT8oPzpcLihcZCspKT8oW2ItZm9zdXhYXSkvLmV4ZWModCkpKXRocm93IltzcHJpbnRmXSBodWg/IjtpZihuWzJdKXtvfD0xO3ZhciBpPVtdLGE9blsyXSxzPVtdO2lmKG51bGw9PT0ocz0vXihbYS16X11bYS16X1xkXSopL2kuZXhlYyhhKSkpdGhyb3ciW3NwcmludGZdIGh1aD8iO2ZvcihpLnB1c2goc1sxXSk7IiIhPT0oYT1hLnN1YnN0cmluZyhzWzBdLmxlbmd0aCkpOylpZihudWxsIT09KHM9L15cLihbYS16X11bYS16X1xkXSopL2kuZXhlYyhhKSkpaS5wdXNoKHNbMV0pO2Vsc2V7aWYobnVsbD09PShzPS9eXFsoXGQrKVxdLy5leGVjKGEpKSl0aHJvdyJbc3ByaW50Zl0gaHVoPyI7aS5wdXNoKHNbMV0pfW5bMl09aX1lbHNlIG98PTI7aWYoMz09PW8pdGhyb3ciW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZCI7ci5wdXNoKG4pfXQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpfXJldHVybiByfSxlLnNwcmludGY9dCxlLnZzcHJpbnRmPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4ocj1uLnNsaWNlKDApKS5zcGxpY2UoMCwwLGUpLHQuYXBwbHkobnVsbCxyKX19KCl9LDQzMTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbihvLmtleSksbyl9fWZ1bmN0aW9uIG4odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBvKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLG49ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9bixlLmxpbHk9bjt2YXIgbz1mdW5jdGlvbigpe307by5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aHJvdyBuZXcgbi5Ob3RJbXBsZW1lbnRlZEVycm9yfSxvLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IG4uTm90SW1wbGVtZW50ZWRFcnJvcn07dmFyIGk9ZnVuY3Rpb24oKXtvLmNhbGwodGhpcyl9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe307dmFyIGE9ZnVuY3Rpb24oZSx0KXtvLmNhbGwodGhpcyksdGhpcy53aW5kb3c9ZSx0aGlzLmRvbWFpbj10fHwiKiJ9OyhhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMud2luZG93LnBvc3RNZXNzYWdlKGUsdGhpcy5kb21haW4pfSxhLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSl9O3ZhciBzPWZ1bmN0aW9uKGUsdCxuKXtvLmNhbGwodGhpcyksdGhpcy5pbnB1dD1lLHRoaXMub3V0cHV0PXQsdGhpcy5kb21haW49bnx8IioifTsocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXMscy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLm91dHB1dC5wb3N0TWVzc2FnZShlLHRoaXMuZG9tYWluKX0scy5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24obil7bi5zb3VyY2U9PT10Lm91dHB1dCYmZShuKX0pKX07dmFyIGM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMpLHRoaXMucG9ydD1lLHRoaXMuaWQ9bi5yYW5kb21JZCgpfTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLnBvcnQucG9zdE1lc3NhZ2UoZSl9LGMucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLnBvcnQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSl9LGMucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9O3ZhciB1PWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzKSx0aGlzLnN0cmVhbU1hcD1lP24uaW5kZXgoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0SWQoKX0pKTp7fSx0aGlzLm1lc3NhZ2VMaXN0ZW5lcnM9W119Oyh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dSx1LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMuZ2V0U3RyZWFtcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3RyeXt0LnNlbmQoZSl9Y2F0Y2goZSl7fX0pKX0sdS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMubWVzc2FnZUxpc3RlbmVycy5wdXNoKGUpLHRoaXMuZ2V0U3RyZWFtcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Qub25NZXNzYWdlKGUpfSkpfSx1LnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5zdHJlYW1NYXBbZS5nZXRJZCgpXT1lLHRoaXMubWVzc2FnZUxpc3RlbmVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLm9uTWVzc2FnZSh0KX0pKX0sdS5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnN0cmVhbU1hcFtlLmdldElkKCldfSx1LnByb3RvdHlwZS5nZXRTdHJlYW1zPWZ1bmN0aW9uKGUpe3JldHVybiBuLnZhbHVlcyh0aGlzLnN0cmVhbU1hcCl9LHUucHJvdG90eXBlLmdldFN0cmVhbUZvclBvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZmluZCh0aGlzLmdldFN0cmVhbXMoKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQucG9ydD09PWV9KSl9O3ZhciBsPWZ1bmN0aW9uKGUsdCxvKXt0aGlzLm5hbWU9ZSx0aGlzLnVwc3RyZWFtPXR8fG5ldyBpLHRoaXMuZG93bnN0cmVhbT1vfHxuZXcgaSx0aGlzLmRvd25zdHJlYW1CdXM9bmV3IG4uRXZlbnRCdXMsdGhpcy51cHN0cmVhbUJ1cz1uZXcgbi5FdmVudEJ1cyx0aGlzLnVwc3RyZWFtLm9uTWVzc2FnZShuLmhpdGNoKHRoaXMsdGhpcy5fZGlzcGF0Y2hFdmVudCx0aGlzLnVwc3RyZWFtQnVzKSksdGhpcy5kb3duc3RyZWFtLm9uTWVzc2FnZShuLmhpdGNoKHRoaXMsdGhpcy5fZGlzcGF0Y2hFdmVudCx0aGlzLmRvd25zdHJlYW1CdXMpKSx0aGlzLmFjdGl2ZT0hMCx0aGlzLmFsbG93ZWRFdmVudHM9W10uY29uY2F0KHIoT2JqZWN0LmVudHJpZXMobi5HbG9iYWxSZXNpbGllbmN5RXZlbnRzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSkpKSxbbi5FdmVudFR5cGUuQ09ORklHVVJFLG4uRXZlbnRUeXBlLlNZTkNIUk9OSVpFLG4uRXZlbnRUeXBlLkFDS05PV0xFREdFLG4uRXZlbnRUeXBlLkxPRyxuLkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLG4uRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUF0pfTtsLnByb3RvdHlwZS5vblVwc3RyZWFtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSxuLmFzc2VydE5vdE51bGwodCwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24odCksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy51cHN0cmVhbUJ1cy5zdWJzY3JpYmUoZSx0KX0sbC5wcm90b3R5cGUub25BbGxVcHN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMudXBzdHJlYW1CdXMuc3Vic2NyaWJlQWxsKGUpfSxsLnByb3RvdHlwZS5vbkRvd25zdHJlYW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLG4uYXNzZXJ0Tm90TnVsbCh0LCJmIiksbi5hc3NlcnRUcnVlKG4uaXNGdW5jdGlvbih0KSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLmRvd25zdHJlYW1CdXMuc3Vic2NyaWJlKGUsdCl9LGwucHJvdG90eXBlLm9uQWxsRG93bnN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuZG93bnN0cmVhbUJ1cy5zdWJzY3JpYmVBbGwoZSl9LGwucHJvdG90eXBlLnNlbmRVcHN0cmVhbT1mdW5jdGlvbihlLHQpe24uYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0aGlzLnVwc3RyZWFtLnNlbmQoe2V2ZW50OmUsZGF0YTp0fSl9LGwucHJvdG90eXBlLnNlbmREb3duc3RyZWFtPWZ1bmN0aW9uKGUsdCl7bi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHRoaXMuZG93bnN0cmVhbS5zZW5kKHtldmVudDplLGRhdGE6dH0pfSxsLnByb3RvdHlwZS5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZGF0YTtuLmV2ZW50JiZlLnRyaWdnZXIobi5ldmVudCxuLmRhdGEpfSxsLnByb3RvdHlwZS5wYXNzVXBzdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LHIpe2UuYWN0aXZlfHxlLmFsbG93ZWRFdmVudHMuaW5jbHVkZXMocik/ZS51cHN0cmVhbS5zZW5kKHtldmVudDpyLGRhdGE6dH0pOm4uZ2V0TG9nKCkuZGVidWcoIltHUl0gQ29uZHVpdCAiLmNvbmNhdChlLm5hbWUsIiBoYXMgYmxvY2tlZCBldmVudCAiKS5jb25jYXQociwiIGZyb20gZ29pbmcgdXBzdHJlYW0uIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxsLnByb3RvdHlwZS5wYXNzRG93bnN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQscil7ZS5hY3RpdmV8fGUuYWxsb3dlZEV2ZW50cy5pbmNsdWRlcyhyKT9lLmRvd25zdHJlYW0uc2VuZCh7ZXZlbnQ6cixkYXRhOnR9KTpuLmdldExvZygpLmRlYnVnKCJbR1JdIENvbmR1aXQgIi5jb25jYXQoZS5uYW1lLCIgaGFzIGJsb2NrZWQgZXZlbnQgIikuY29uY2F0KHIsIiBmcm9tIGdvaW5nIGRvd25zdHJlYW0uIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxsLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3RoaXMudXBzdHJlYW1CdXMudW5zdWJzY3JpYmVBbGwoKSx0aGlzLmRvd25zdHJlYW1CdXMudW5zdWJzY3JpYmVBbGwoKX0sbC5wcm90b3R5cGUuc2V0QWN0aXZlPWZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgQ0NQIGNvbmR1aXQgYXMgYWN0aXZlIiksdGhpcy5hY3RpdmU9ITB9LGwucHJvdG90eXBlLnNldEluYWN0aXZlPWZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgQ0NQIGNvbmR1aXQgYXMgaW5hY3RpdmUiKSx0aGlzLmFjdGl2ZT0hMX07dmFyIHA9ZnVuY3Rpb24oZSx0LG4scil7bC5jYWxsKHRoaXMsZSxuZXcgcyh0LG4uY29udGVudFdpbmRvdyxyfHwiKiIpLG51bGwpfTsocC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShsLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXA7dmFyIGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZT1mdW5jdGlvbiBlKHQsbixyKXt2YXIgbz10aGlzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpLHRoaXMuaWZyYW1lTGFiZWxNYXA9e307dmFyIGk9bmV3IFVSTChyKS5vcmlnaW47dGhpcy5hY3RpdmVSZWdpb25Vcmw9aSx0aGlzLmNvbmR1aXRzPW4ubWFwKChmdW5jdGlvbihlKXt2YXIgbj1lLmlmcmFtZSxyPWUubGFiZWwsaT1uZXcgcChuLnNyYyx0LG4pO2kuaWZyYW1lPW47dmFyIGE9bmV3IFVSTChuLnNyYykub3JpZ2luO3JldHVybiBpLm5hbWU9YSxvLmlmcmFtZUxhYmVsTWFwW2FdPXIsaX0pKSx0aGlzLnNldEFjdGl2ZUNvbmR1aXQoaSl9LChyPVt7a2V5OiJvblVwc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gbi5vblVwc3RyZWFtKGUsdCl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToib25BbGxVcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb25kdWl0cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uQWxsVXBzdHJlYW0oZSl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToib25Eb3duc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gbi5vbkRvd25zdHJlYW0oZSx0KX0pKTtyZXR1cm57dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS51bnN1YnNjcmliZSgpfSkpfX19fSx7a2V5OiJvbkFsbERvd25zdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vbkFsbERvd25zdHJlYW0oZSl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToic2VuZFVwc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY29uZHVpdHMuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5zZW5kVXBzdHJlYW0oZSx0KX0pKX19LHtrZXk6InNlbmREb3duc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuY29uZHVpdHMuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5zZW5kRG93bnN0cmVhbShlLHQpfSkpfX0se2tleToicmVsYXlVcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKHIpe3Iub25VcHN0cmVhbShlLChmdW5jdGlvbihvKXt2YXIgaT10LmdldE90aGVyQ29uZHVpdChyKTtpLnNlbmRVcHN0cmVhbShlLG8pLG4uZ2V0TG9nKCkuaW5mbygiUmVsYXllZCBldmVudCAiLmNvbmNhdChlLCIgZnJvbSAiKS5jb25jYXQoci5uYW1lLCIgdG8gIikuY29uY2F0KGkubmFtZSwiIHNoYXJlZCB3b3JrZXIiKSkud2l0aE9iamVjdCh7ZGF0YTpvfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pKX19LHtrZXk6ImdldEFsbENvbmR1aXRzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmR1aXRzfX0se2tleToic2V0QWN0aXZlQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpPyh0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe24ubmFtZT09PWUmJih0LmFjdGl2ZVJlZ2lvblVybD1lLHQubmFtZT1uLm5hbWUsdC51cHN0cmVhbT1uLnVwc3RyZWFtLHQuZG93bnN0cmVhbT1uLmRvd25zdHJlYW0sdC51cHN0cmVhbUJ1cz1uLnVwc3RyZWFtQnVzLHQuZG93bnN0cmVhbUJ1cz1uLmRvd25zdHJlYW1CdXMpfSkpLG4uZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hlZCB0byBhY3RpdmUgY29uZHVpdCAiLmNvbmNhdCh0aGlzLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6bi5nZXRMb2coKS5lcnJvcigiW0dSXSBObyBjb25kdWl0IGZvdW5kIHdpdGggdGhlIGdpdmVuIGNjcFVybDogIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx7a2V5OiJnZXRBY3RpdmVDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUuYWN0aXZlUmVnaW9uVXJsfSkpfX0se2tleToiZ2V0SW5hY3RpdmVDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZSE9PWUuYWN0aXZlUmVnaW9uVXJsfSkpfX0se2tleToiZ2V0T3RoZXJDb25kdWl0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gZS5uYW1lIT09dC5uYW1lfSkpfX0se2tleToiZ2V0Q29uZHVpdEJ5UmVnaW9uIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWdpb249PT1lfSkpfX0se2tleToiZ2V0Q29uZHVpdEJ5TmFtZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWV9KSl9fV0pJiZ0KGUucHJvdG90eXBlLHIpLG8mJnQoZSxvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlO3ZhciBlLHIsb30oKTtuLlN0cmVhbT1vLG4uTnVsbFN0cmVhbT1pLG4uV2luZG93U3RyZWFtPWEsbi5XaW5kb3dJT1N0cmVhbT1zLG4uUG9ydFN0cmVhbT1jLG4uU3RyZWFtTXVsdGlwbGV4ZXI9dSxuLkNvbmR1aXQ9bCxuLklGcmFtZUNvbmR1aXQ9cCxuLkdSUHJveHlJZnJhbWVDb25kdWl0PWR9KCl9LDgzMDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10O3ZhciBuPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJ0b1N0YXRlIiksdGhpcy5mcm9tU3RhdGU9ZSx0aGlzLnRvU3RhdGU9bn07bi5wcm90b3R5cGUuZ2V0QXNzb2NpYXRpb25zPWZ1bmN0aW9uKGUpe3Rocm93IHQuTm90SW1wbGVtZW50ZWRFcnJvcigpfSxuLnByb3RvdHlwZS5nZXRGcm9tU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcm9tU3RhdGV9LG4ucHJvdG90eXBlLmdldFRvU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0YXRlfTt2YXIgcj1mdW5jdGlvbihlLHIsbyl7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIiksdC5hc3NlcnROb3ROdWxsKG8sImFzc29jaWF0aW9ucyIpLG4uY2FsbCh0aGlzLGUsciksdGhpcy5hc3NvY2lhdGlvbnM9b307KHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hc3NvY2lhdGlvbnN9O3ZhciBvPWZ1bmN0aW9uKGUscixvKXt0LmFzc2VydE5vdE51bGwoZSwiZnJvbVN0YXRlIiksdC5hc3NlcnROb3ROdWxsKHIsInRvU3RhdGUiKSx0LmFzc2VydE5vdE51bGwobywiY2xvc3VyZSIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obyksImNsb3N1cmUgbXVzdCBiZSBhIGZ1bmN0aW9uIiksbi5jYWxsKHRoaXMsZSxyKSx0aGlzLmNsb3N1cmU9b307KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zdXJlKGUsdGhpcy5nZXRGcm9tU3RhdGUoKSx0aGlzLmdldFRvU3RhdGUoKSl9O3ZhciBpPWZ1bmN0aW9uKCl7dGhpcy5mcm9tTWFwPXt9fTtpLkFOWT0iPDxhbnk+PiIsaS5wcm90b3R5cGUuYXNzb2M9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJmcm9tU3RhdGVPYmogaXMgbm90IGRlZmluZWQuIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJ0b1N0YXRlT2JqIGlzIG5vdCBkZWZpbmVkLiIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiYXNzb2NPYmogaXMgbm90IGRlZmluZWQuIik7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9lLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuYXNzb2MoZSx0LG4pfSkpOnQgaW5zdGFuY2VvZiBBcnJheT90LmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuYXNzb2MoZSx0LG4pfSkpOiJmdW5jdGlvbiI9PXR5cGVvZiBuP3RoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyBvKGUsdCxuKSk6biBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyByKGUsdCxuKSk6dGhpcy5fYWRkQXNzb2NpYXRpb24obmV3IHIoZSx0LFtuXSkpLHRoaXN9LGkucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlLG4scil7dC5hc3NlcnROb3ROdWxsKG4sImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIik7dmFyIG89W10sYT10aGlzLmZyb21NYXBbaS5BTlldfHx7fSxzPXRoaXMuZnJvbU1hcFtuXXx8e307cmV0dXJuIG89KG89by5jb25jYXQodGhpcy5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcChhLGUsbixyKSkpLmNvbmNhdCh0aGlzLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwKHMsZSxuLHIpKX0saS5wcm90b3R5cGUuX2FkZEFzc29jaWF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZnJvbU1hcFtlLmdldEZyb21TdGF0ZSgpXTt0fHwodD10aGlzLmZyb21NYXBbZS5nZXRGcm9tU3RhdGUoKV09e30pO3ZhciBuPXRbZS5nZXRUb1N0YXRlKCldO258fChuPXRbZS5nZXRUb1N0YXRlKCldPVtdKSxuLnB1c2goZSl9LGkucHJvdG90eXBlLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybihlW2kuQU5ZXXx8W10pLmNvbmNhdChlW3JdfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlLmNvbmNhdChuLmdldEFzc29jaWF0aW9ucyh0KSl9KSxbXSl9LHQuRXZlbnRHcmFwaD1pfSgpfSw2MDooKT0+e2Z1bmN0aW9uIGUoKXsidXNlIHN0cmljdCI7ZT1mdW5jdGlvbigpe3JldHVybiBufTt2YXIgdCxuPXt9LHI9T2JqZWN0LnByb3RvdHlwZSxvPXIuaGFzT3duUHJvcGVydHksYT1PYmplY3QuZGVmaW5lUHJvcGVydHl8fGZ1bmN0aW9uKGUsdCxuKXtlW3RdPW4udmFsdWV9LHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYz1zLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsdT1zLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGw9cy50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHAoZSx0LG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7cCh7fSwiIil9Y2F0Y2godCl7cD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bn19ZnVuY3Rpb24gZChlLHQsbixyKXt2YXIgbz10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGI/dDpiLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscz1uZXcgTihyfHxbXSk7cmV0dXJuIGEoaSwiX2ludm9rZSIse3ZhbHVlOlIoZSxuLHMpfSksaX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LG4pfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19bi53cmFwPWQ7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixnPSJzdXNwZW5kZWRZaWVsZCIsbT0iZXhlY3V0aW5nIix2PSJjb21wbGV0ZWQiLHk9e307ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBTKCl7fWZ1bmN0aW9uIEUoKXt9dmFyIEM9e307cChDLGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIEk9T2JqZWN0LmdldFByb3RvdHlwZU9mLFQ9SSYmSShJKFAoW10pKSk7VCYmVCE9PXImJm8uY2FsbChULGMpJiYoQz1UKTt2YXIgdz1FLnByb3RvdHlwZT1iLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEMpO2Z1bmN0aW9uIEEoZSl7WyJuZXh0IiwidGhyb3ciLCJyZXR1cm4iXS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCwoZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfSkpfSkpfWZ1bmN0aW9uIF8oZSx0KXtmdW5jdGlvbiBuKHIsYSxzLGMpe3ZhciB1PWgoZVtyXSxlLGEpO2lmKCJ0aHJvdyIhPT11LnR5cGUpe3ZhciBsPXUuYXJnLHA9bC52YWx1ZTtyZXR1cm4gcCYmIm9iamVjdCI9PWkocCkmJm8uY2FsbChwLCJfX2F3YWl0Iik/dC5yZXNvbHZlKHAuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7bigibmV4dCIsZSxzLGMpfSksKGZ1bmN0aW9uKGUpe24oInRocm93IixlLHMsYyl9KSk6dC5yZXNvbHZlKHApLnRoZW4oKGZ1bmN0aW9uKGUpe2wudmFsdWU9ZSxzKGwpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBuKCJ0aHJvdyIsZSxzLGMpfSkpfWModS5hcmcpfXZhciByO2EodGhpcywiX2ludm9rZSIse3ZhbHVlOmZ1bmN0aW9uKGUsbyl7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxyKXtuKGUsbyx0LHIpfSkpfXJldHVybiByPXI/ci50aGVuKGksaSk6aSgpfX0pfWZ1bmN0aW9uIFIoZSxuLHIpe3ZhciBvPWY7cmV0dXJuIGZ1bmN0aW9uKGksYSl7aWYobz09PW0pdGhyb3cgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihvPT09dil7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm57dmFsdWU6dCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9aSxyLmFyZz1hOzspe3ZhciBzPXIuZGVsZWdhdGU7aWYocyl7dmFyIGM9TyhzLHIpO2lmKGMpe2lmKGM9PT15KWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobz09PWYpdGhyb3cgbz12LHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bz1tO3ZhciB1PWgoZSxuLHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihvPXIuZG9uZT92OmcsdS5hcmc9PT15KWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG89dixyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fWZ1bmN0aW9uIE8oZSxuKXt2YXIgcj1uLm1ldGhvZCxvPWUuaXRlcmF0b3Jbcl07aWYobz09PXQpcmV0dXJuIG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ciYmZS5pdGVyYXRvci5yZXR1cm4mJihuLm1ldGhvZD0icmV0dXJuIixuLmFyZz10LE8oZSxuKSwidGhyb3ciPT09bi5tZXRob2QpfHwicmV0dXJuIiE9PXImJihuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJyIrcisiJyBtZXRob2QiKSkseTt2YXIgaT1oKG8sZS5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PWkudHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1pLmFyZyxuLmRlbGVnYXRlPW51bGwseTt2YXIgYT1pLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bZS5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD1lLm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz10KSxuLmRlbGVnYXRlPW51bGwseSk6YToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCx5KX1mdW5jdGlvbiBMKGUpe3ZhciB0PXt0cnlMb2M6ZVswXX07MSBpbiBlJiYodC5jYXRjaExvYz1lWzFdKSwyIGluIGUmJih0LmZpbmFsbHlMb2M9ZVsyXSx0LmFmdGVyTG9jPWVbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKHQpfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5jb21wbGV0aW9ufHx7fTt0LnR5cGU9Im5vcm1hbCIsZGVsZXRlIHQuYXJnLGUuY29tcGxldGlvbj10fWZ1bmN0aW9uIE4oZSl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLGUuZm9yRWFjaChMLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFAoZSl7aWYoZXx8IiI9PT1lKXt2YXIgbj1lW2NdO2lmKG4pcmV0dXJuIG4uY2FsbChlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciByPS0xLGE9ZnVuY3Rpb24gbigpe2Zvcig7KytyPGUubGVuZ3RoOylpZihvLmNhbGwoZSxyKSlyZXR1cm4gbi52YWx1ZT1lW3JdLG4uZG9uZT0hMSxuO3JldHVybiBuLnZhbHVlPXQsbi5kb25lPSEwLG59O3JldHVybiBhLm5leHQ9YX19dGhyb3cgbmV3IFR5cGVFcnJvcihpKGUpKyIgaXMgbm90IGl0ZXJhYmxlIil9cmV0dXJuIFMucHJvdG90eXBlPUUsYSh3LCJjb25zdHJ1Y3RvciIse3ZhbHVlOkUsY29uZmlndXJhYmxlOiEwfSksYShFLCJjb25zdHJ1Y3RvciIse3ZhbHVlOlMsY29uZmlndXJhYmxlOiEwfSksUy5kaXNwbGF5TmFtZT1wKEUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSxuLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PVN8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LG4ubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLEUpOihlLl9fcHJvdG9fXz1FLHAoZSxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLGV9LG4uYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LEEoXy5wcm90b3R5cGUpLHAoXy5wcm90b3R5cGUsdSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxuLkFzeW5jSXRlcmF0b3I9XyxuLmFzeW5jPWZ1bmN0aW9uKGUsdCxyLG8saSl7dm9pZCAwPT09aSYmKGk9UHJvbWlzZSk7dmFyIGE9bmV3IF8oZChlLHQscixvKSxpKTtyZXR1cm4gbi5pc0dlbmVyYXRvckZ1bmN0aW9uKHQpP2E6YS5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmEubmV4dCgpfSkpfSxBKHcpLHAodyxsLCJHZW5lcmF0b3IiKSxwKHcsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxwKHcsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxuLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGUpLG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIpO3JldHVybiBuLnJldmVyc2UoKSxmdW5jdGlvbiBlKCl7Zm9yKDtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCk7aWYociBpbiB0KXJldHVybiBlLnZhbHVlPXIsZS5kb25lPSExLGV9cmV0dXJuIGUuZG9uZT0hMCxlfX0sbi52YWx1ZXM9UCxOLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TixyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goayksIWUpZm9yKHZhciBuIGluIHRoaXMpInQiPT09bi5jaGFyQXQoMCkmJm8uY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciBuPXRoaXM7ZnVuY3Rpb24gcihyLG8pe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLG4ubmV4dD1yLG8mJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxzPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gcigiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIGM9by5jYWxsKGEsImNhdGNoTG9jIiksdT1vLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKGMmJnUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX1lbHNlIGlmKGMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiByKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXUpdGhyb3cgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmby5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIGk9cjticmVha319aSYmKCJicmVhayI9PT1lfHwiY29udGludWUiPT09ZSkmJmkudHJ5TG9jPD10JiZ0PD1pLmZpbmFsbHlMb2MmJihpPW51bGwpO3ZhciBhPWk/aS5jb21wbGV0aW9uOnt9O3JldHVybiBhLnR5cGU9ZSxhLmFyZz10LGk/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9aS5maW5hbGx5TG9jLHkpOnRoaXMuY29tcGxldGUoYSl9LGNvbXBsZXRlOmZ1bmN0aW9uKGUsdCl7aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4iYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlP3RoaXMubmV4dD1lLmFyZzoicmV0dXJuIj09PWUudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPWUuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT1lLnR5cGUmJnQmJih0aGlzLm5leHQ9dCkseX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxrKG4pLHl9fSxjYXRjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi50cnlMb2M9PT1lKXt2YXIgcj1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PXIudHlwZSl7dmFyIG89ci5hcmc7ayhuKX1yZXR1cm4gb319dGhyb3cgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6UChlKSxyZXN1bHROYW1lOm4sbmV4dExvYzpyfSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHl9fSxufWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9aShlKXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09aSh0KT90OnQrIiJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIG8oZSx0LG4scixvLGksYSl7dHJ5e3ZhciBzPWVbaV0oYSksYz1zLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSl9cy5kb25lP3QoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4ocixvKX1mdW5jdGlvbiBpKGUpe3JldHVybiBpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxpKGUpfSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMscj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1yLHQubGlseT1yO3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQscz1bImJ1YmJsZXMiLCJjYW5jZWxCdWJibGUiLCJjYW5jZWxhYmxlIiwiY29tcG9zZWQiLCJkYXRhIiwiZGVmYXVsdFByZXZlbnRlZCIsImV2ZW50UGhhc2UiLCJpc1RydXN0ZWQiLCJsYXN0RXZlbnRJZCIsIm9yaWdpbiIsInJldHVyblZhbHVlIiwidGltZVN0YW1wIiwidHlwZSJdO3Iuc3ByaW50Zj10LnNwcmludGYsci52c3ByaW50Zj10LnZzcHJpbnRmLGRlbGV0ZSB0LnNwcmludGYsZGVsZXRlIHQudnNwcmludGYsci5IVFRQX1NUQVRVU19DT0RFUz17U1VDQ0VTUzoyMDAsVU5BVVRIT1JJWkVEOjQwMSxBQ0NFU1NfREVOSUVEOjQwMyxUT09fTUFOWV9SRVFVRVNUUzo0MjksSU5URVJOQUxfU0VSVkVSX0VSUk9SOjUwMH0sci5UUkFOU1BPUlRfVFlQRVM9e0NIQVRfVE9LRU46ImNoYXRfdG9rZW4iLFdFQl9TT0NLRVQ6IndlYl9zb2NrZXQiLEFHRU5UX0RJU0NPVkVSWToiYWdlbnRfZGlzY292ZXJ5IixXRUJfUlRDOiJ3ZWJfcnRjIn0sci5oaXRjaD1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdD1lLnNoaWZ0KCksbj1lLnNoaWZ0KCk7cmV0dXJuIHIuYXNzZXJ0Tm90TnVsbCh0LCJzY29wZSIpLHIuYXNzZXJ0Tm90TnVsbChuLCJtZXRob2QiKSxyLmFzc2VydFRydWUoci5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZnVuY3Rpb24oKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBuLmFwcGx5KHQsZS5jb25jYXQocikpfX0sci5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuY29uc3RydWN0b3ImJmUuY2FsbCYmZS5hcHBseSl9LHIuaXNBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxyLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHIuYXNzZXJ0Tm90TnVsbChlLCJtYXAiKSxlKXQucHVzaChuKTtyZXR1cm4gdH0sci52YWx1ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIHIuYXNzZXJ0Tm90TnVsbChlLCJtYXAiKSxlKXQucHVzaChlW25dKTtyZXR1cm4gdH0sci5lbnRyaWVzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaCh7a2V5Om4sdmFsdWU6ZVtuXX0pO3JldHVybiB0fSxyLm1lcmdlPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5lbnRyaWVzKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS5rZXldPWUudmFsdWV9KSl9KSksdH0sci5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sci5maW5kPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYodChlW25dKSlyZXR1cm4gZVtuXTtyZXR1cm4gbnVsbH0sci5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/bnVsbCE9ci5maW5kKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTp0IGluIGV9LHIuY29udGFpbnNWYWx1ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/bnVsbCE9ci5maW5kKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTpudWxsIT1yLmZpbmQoci52YWx1ZXMoZSksKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKX0sci5yYW5kb21JZD1mdW5jdGlvbigpe3JldHVybiByLnNwcmludGYoIiVzLSVzIixyLm5vdygpLE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpKX0sci5tYWtlRW51bT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UoL1wuPyhbYS16XSspXz8vZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpKyJfIn0pKS5yZXBsYWNlKC9fJC8sIiIpO3Rbbl09ZX0pKSx0fSxyLm1ha2VOYW1lc3BhY2VkRW51bT1mdW5jdGlvbihlLHQpe3ZhciBuPXIubWFrZUVudW0odCk7cmV0dXJuIHIua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPXIuc3ByaW50ZigiJXM6OiVzIixlLG5bdF0pfSkpLG59LHIubWFrZUdlbmVyaWNOYW1lc3BhY2VkRW51bT1mdW5jdGlvbihlLHQsbil7dmFyIG89ci5tYWtlRW51bSh0KTtyZXR1cm4gci5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09ci5zcHJpbnRmKCIlcyIrbisiJXMiLGUsb1t0XSl9KSksb30sci5pc0Nocm9tZUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiQ2hyb21lIil9LHIuaXNGaXJlZm94QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09YS5pbmRleE9mKCJGaXJlZm94Iil9LHIuaXNPcGVyYUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiT3BlcmEiKX0sci5pc0VkZ2VCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIkVkZyIpfSxyLmdldENocm9tZUJyb3dzZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9YS5zdWJzdHJpbmcoYS5pbmRleE9mKCJDaHJvbWUiKSs3KTtyZXR1cm4gZT9wYXJzZUZsb2F0KGUpOi0xfSxyLmdldEZpcmVmb3hCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiRmlyZWZveCIpKzgpO3JldHVybiBlP3BhcnNlRmxvYXQoZSk6LTF9LHIuaXNWYWxpZExvY2FsZT1mdW5jdGlvbihlKXtyZXR1cm5be2lkOiJlbl9VUyIsbGFiZWw6IkVuZ2xpc2gifSx7aWQ6ImRlX0RFIixsYWJlbDoiRGV1dHNjaCJ9LHtpZDoiZXNfRVMiLGxhYmVsOiJFc3Bhw7FvbCJ9LHtpZDoiZnJfRlIiLGxhYmVsOiJGcmFuw6dhaXMifSx7aWQ6ImphX0pQIixsYWJlbDoi5pel5pys6KqeIn0se2lkOiJpdF9JVCIsbGFiZWw6Ikl0YWxpYW5vIn0se2lkOiJrb19LUiIsbGFiZWw6Iu2VnOq1reyWtCJ9LHtpZDoicHRfQlIiLGxhYmVsOiJQb3J0dWd1w6pzIn0se2lkOiJ6aF9DTiIsbGFiZWw6IuS4reaWhyjnroDkvZMpIn0se2lkOiJ6aF9UVyIsbGFiZWw6IuS4reaWhyjnuYHpq5QpIn1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkuaW5jbHVkZXMoZSl9LHIuZ2V0T3BlcmFCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEuaW5kZXhPZigiT3BlcmEiKSx0PS0xIT09YS5pbmRleE9mKCJWZXJzaW9uIik/YS5zdWJzdHJpbmcoZSs4KTphLnN1YnN0cmluZyhlKzYpO3JldHVybiB0P3BhcnNlRmxvYXQodCk6LTF9LHIuaW5kZXg9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW3QoZSldPWV9KSksbn0sci5zZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0xfSkpLHR9LHIucmVsYXRpdmVDb21wbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIHIua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihyKXtyIGluIGV8fChuW3JdPXRbcl0pfSkpLG59LHIuYXNzZXJ0VHJ1ZT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyByLlZhbHVlRXJyb3IodCl9LHIuYXNzZXJ0Tm90TnVsbD1mdW5jdGlvbihlLHQpe3JldHVybiByLmFzc2VydFRydWUobnVsbCE9ZSYmdm9pZCAwIT09aShlKSxyLnNwcmludGYoIiVzIG11c3QgYmUgcHJvdmlkZWQiLHR8fCJBIHZhbHVlIikpLGV9LHIuZGVlcGNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpfSxyLmRlZXBjb3B5Q3Jvc3NPcmlnaW5FdmVudD1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gcy5mb3JFYWNoKChmdW5jdGlvbihuKXt0cnl7dFtuXT1lW25dfWNhdGNoKGUpe3IuZ2V0TG9nKCkuaW5mbygiZGVlcGNvcHlDcm9zc09yaWdpbkV2ZW50IGZhaWxlZCBvbiBrZXk6ICIsbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSksci5kZWVwY29weSh0KX0sci5nZXRCYXNlVXJsPWZ1bmN0aW9uKCl7dmFyIGU9dC5sb2NhdGlvbjtyZXR1cm4gci5zcHJpbnRmKCIlcy8vJXM6JXMiLGUucHJvdG9jb2wsZS5ob3N0bmFtZSxlLnBvcnQpfSxyLmdldFVybFdpdGhQcm90b2NvbD1mdW5jdGlvbihlKXt2YXIgbj10LmxvY2F0aW9uLnByb3RvY29sO3JldHVybiBlLnN1YnN0cigwLG4ubGVuZ3RoKSE9PW4/ci5zcHJpbnRmKCIlcy8vJXMiLG4sZSk6ZX0sci5pc0ZyYW1lZD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnNlbGYhPT13aW5kb3cudG9wfWNhdGNoKGUpe3JldHVybiEwfX0sci5oYXNPdGhlckNvbm5lY3RlZENDUHM9ZnVuY3Rpb24oKXtyZXR1cm4gci5udW1iZXJPZkNvbm5lY3RlZENDUHM+MX0sci5mZXRjaD1mdW5jdGlvbihlLHQsbixvKXtyZXR1cm4gbz1vfHw1LG49bnx8MWUzLHQ9dHx8e30sbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksYSl7IWZ1bmN0aW9uIG8ocyl7ZmV0Y2goZSx0KS50aGVuKChmdW5jdGlvbihlKXtlLnN0YXR1cz09PXIuSFRUUF9TVEFUVVNfQ09ERVMuU1VDQ0VTUz9lLmpzb24oKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gaShlKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtyZXR1cm4gaSh7fSl9KSk6MSE9PXMmJihlLnN0YXR1cz49ci5IVFRQX1NUQVRVU19DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1J8fGUuc3RhdHVzPT09ci5IVFRQX1NUQVRVU19DT0RFUy5UT09fTUFOWV9SRVFVRVNUUyk/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtvKC0tcyl9KSxuKTphKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfShvKX0pKX0sci5mZXRjaFdpdGhUaW1lb3V0PWZ1bmN0aW9uKCl7dmFyIHQsaT0odD1lKCkubWFyaygoZnVuY3Rpb24gdChvLGksYSxzLGMpe3ZhciB1LGwscDtyZXR1cm4gZSgpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKGE9YXx8e30saSl7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHIuZmV0Y2gobyxhLHMsYykpO2Nhc2UgMzpyZXR1cm4gdT1uZXcgQWJvcnRDb250cm9sbGVyLGw9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdS5hYm9ydCgpfSksaSksZS5uZXh0PTcsci5mZXRjaChvLG4obih7fSxhKSx7fSx7c2lnbmFsOnUuc2lnbmFsfSkscyxjKTtjYXNlIDc6cmV0dXJuIHA9ZS5zZW50LGNsZWFyVGltZW91dChsKSxlLmFicnVwdCgicmV0dXJuIixwKTtjYXNlIDEwOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksdCl9KSksZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgYT10LmFwcGx5KGUsbik7ZnVuY3Rpb24gcyhlKXtvKGEscixpLHMsYywibmV4dCIsZSl9ZnVuY3Rpb24gYyhlKXtvKGEscixpLHMsYywidGhyb3ciLGUpfXModm9pZCAwKX0pKX0pO3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8pe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksci5iYWNrb2ZmPWZ1bmN0aW9uKGUsbixvLGkpe3IuYXNzZXJ0VHJ1ZShyLmlzRnVuY3Rpb24oZSksImZ1bmMgbXVzdCBiZSBhIEZ1bmN0aW9uIik7dmFyIGE9dGhpcztlKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2kmJmkuc3VjY2VzcyYmaS5zdWNjZXNzKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKHIscyl7aWYobz4wKXt2YXIgYz0yKm4qTWF0aC5yYW5kb20oKTt0LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YS5iYWNrb2ZmKGUsMipjLC0tbyxpKX0pLGMpfWVsc2UgaSYmaS5mYWlsdXJlJiZpLmZhaWx1cmUocixzKX19KX0sci5wdWJsaXNoTWV0cmljPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLkNMSUVOVF9NRVRSSUMsZGF0YTplfSl9LHIucHVibGlzaFNvZnRwaG9uZVN0YXRzPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLlNPRlRQSE9ORV9TVEFUUyxkYXRhOmV9KX0sci5wdWJsaXNoU29mdHBob25lUmVwb3J0PWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuRXZlbnRUeXBlLlNPRlRQSE9ORV9SRVBPUlQsZGF0YTplfSl9LHIucHVibGlzaENsaWNrU3RyZWFtRGF0YT1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5DTElDS19TVFJFQU1fREFUQSxkYXRhOmV9KX0sci5wdWJsaXNoQ2xpZW50U2lkZUxvZ3M9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5DTElFTlRfU0lERV9MT0dTLGUpfSxyLmFkZE5hbWVzcGFjZVRvTG9ncz1mdW5jdGlvbihlKXtbImxvZyIsImVycm9yIiwid2FybiIsImluZm8iLCJkZWJ1ZyJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXdpbmRvdy5jb25zb2xlW3RdO3dpbmRvdy5jb25zb2xlW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkuZnJvbShhcmd1bWVudHMpO3QudW5zaGlmdCgiWyIuY29uY2F0KGUsIl0iKSksbi5hcHBseSh3aW5kb3cuY29uc29sZSx0KX19KSl9LHIuUG9wdXBNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bnVsbDtpZihuKXt2YXIgbz1uLmhlaWdodHx8NTc4LGk9bi53aWR0aHx8NDMzLGE9bi50b3B8fDAscz1uLmxlZnR8fDA7KHI9d2luZG93Lm9wZW4oIiIsdCwid2lkdGg9IitpKyIsIGhlaWdodD0iK28rIiwgdG9wPSIrYSsiLCBsZWZ0PSIrcykpLmxvY2F0aW9uIT09ZSYmKHI9d2luZG93Lm9wZW4oZSx0LCJ3aWR0aD0iK2krIiwgaGVpZ2h0PSIrbysiLCB0b3A9IithKyIsIGxlZnQ9IitzKSl9ZWxzZShyPXdpbmRvdy5vcGVuKCIiLHQpKS5sb2NhdGlvbiE9PWUmJihyPXdpbmRvdy5vcGVuKGUsdCkpO3JldHVybiByfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fZ2V0TG9jYWxTdG9yYWdlS2V5KGUpO3QubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obil9LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0TGFzdE9wZW5lZFRpbWVzdGFtcD1mdW5jdGlvbihlKXt2YXIgbj10aGlzLl9nZXRMb2NhbFN0b3JhZ2VLZXkoZSkscj10LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pO3JldHVybiByP3BhcnNlSW50KHIsMTApOjB9LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fc2V0TGFzdE9wZW5lZFRpbWVzdGFtcD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuX2dldExvY2FsU3RvcmFnZUtleShlKTt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHIsIiIrbil9LHIuUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0TG9jYWxTdG9yYWdlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiJjb25uZWN0UG9wdXBNYW5hZ2VyOjoiK2V9O3ZhciBjPXIubWFrZUVudW0oWyJncmFudGVkIiwiZGVuaWVkIiwiZGVmYXVsdCJdKTtyLk5vdGlmaWNhdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt0aGlzLnF1ZXVlPVtdLHRoaXMucGVybWlzc2lvbj1jLkRFRkFVTFR9LHIuTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUucmVxdWVzdFBlcm1pc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzOyJOb3RpZmljYXRpb24iaW4gdD90Lk5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uPT09Yy5ERU5JRUQ/KHIuZ2V0TG9nKCkud2FybigiVGhlIHVzZXIgaGFzIHJlcXVlc3RlZCB0byBub3QgcmVjZWl2ZSBub3RpZmljYXRpb25zLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5wZXJtaXNzaW9uPWMuREVOSUVEKTp0aGlzLnBlcm1pc3Npb24hPT1jLkdSQU5URUQmJnQuTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbigoZnVuY3Rpb24odCl7ZS5wZXJtaXNzaW9uPXQsdD09PWMuR1JBTlRFRD9lLl9zaG93UXVldWVkKCk6ZS5xdWV1ZT1bXX0pKTooci5nZXRMb2coKS53YXJuKCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IG5vdGlmaWNhdGlvbnMuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnBlcm1pc3Npb249Yy5ERU5JRUQpfSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnBlcm1pc3Npb249PT1jLkdSQU5URUQpcmV0dXJuIHRoaXMuX3Nob3dJbXBsKHt0aXRsZTplLG9wdGlvbnM6dH0pO2lmKHRoaXMucGVybWlzc2lvbj09PWMuREVOSUVEKXIuZ2V0TG9nKCkud2FybigiVW5hYmxlIHRvIHNob3cgbm90aWZpY2F0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7dGl0bGU6ZSxvcHRpb25zOnR9KTtlbHNle3ZhciBuPXt0aXRsZTplLG9wdGlvbnM6dH07ci5nZXRMb2coKS53YXJuKCJEZWZlcnJpbmcgbm90aWZpY2F0aW9uIHVudGlsIHVzZXIgZGVjaWRlcyB0byBhbGxvdyBvciBkZW55LiIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnF1ZXVlLnB1c2gobil9fSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLl9zaG93UXVldWVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucXVldWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2hvd0ltcGwodCl9KSk7cmV0dXJuIHRoaXMucXVldWU9W10sdH0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5fc2hvd0ltcGw9ZnVuY3Rpb24oZSl7dmFyIG49bmV3IHQuTm90aWZpY2F0aW9uKGUudGl0bGUsZS5vcHRpb25zKTtyZXR1cm4gZS5vcHRpb25zLmNsaWNrZWQmJihuLm9uY2xpY2s9ZnVuY3Rpb24oKXtlLm9wdGlvbnMuY2xpY2tlZC5jYWxsKG4pfSksbn0sci5WYWx1ZUVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9ZS5zaGlmdCgpLG49bmV3IEVycm9yKHIudnNwcmludGYodCxlKSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLHIuVmFsdWVFcnJvci5wcm90b3R5cGUpLG59LE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlZhbHVlRXJyb3IucHJvdG90eXBlLEVycm9yLnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuVmFsdWVFcnJvcixFcnJvciksci5WYWx1ZUVycm9yLnByb3RvdHlwZS5uYW1lPSJWYWx1ZUVycm9yIixyLk5vdEltcGxlbWVudGVkRXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD1lLnNoaWZ0KCksbj1uZXcgRXJyb3Ioci52c3ByaW50Zih0LGUpKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5Ob3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZSksbn0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUsRXJyb3IucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5Ob3RJbXBsZW1lbnRlZEVycm9yLEVycm9yKSxyLk5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlLm5hbWU9Ik5vdEltcGxlbWVudGVkRXJyb3IiLHIuU3RhdGVFcnJvcj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PWUuc2hpZnQoKSxuPW5ldyBFcnJvcihyLnZzcHJpbnRmKHQsZSkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YobixyLlN0YXRlRXJyb3IucHJvdG90eXBlKSxufSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5TdGF0ZUVycm9yLnByb3RvdHlwZSxFcnJvci5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlN0YXRlRXJyb3IsRXJyb3IpLHIuU3RhdGVFcnJvci5wcm90b3R5cGUubmFtZT0iU3RhdGVFcnJvciIsci5Wb2ljZUlkRXJyb3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9O3JldHVybiByLnR5cGU9ZSxyLm1lc3NhZ2U9dCxyLnN0YWNrPUVycm9yKHQpLnN0YWNrLHIuZXJyPW4scn0sci5pc0NDUD1mdW5jdGlvbigpe3JldHVybiEhci5jb3JlLnVwc3RyZWFtJiYiQ29ubmVjdFNoYXJlZFdvcmtlckNvbmR1aXQiPT09ci5jb3JlLmdldFVwc3RyZWFtKCkubmFtZX0sci5pc1NoYXJlZFdvcmtlcj1mdW5jdGlvbigpe3JldHVybiByLndvcmtlciYmISFyLndvcmtlci5jbGllbnRFbmdpbmV9LHIuaXNDUk09ZnVuY3Rpb24oKXtyZXR1cm4hIXIuY29yZS51cHN0cmVhbSYmKHIuY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiByLklGcmFtZUNvbmR1aXR8fHIuY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiByLkdSUHJveHlJZnJhbWVDb25kdWl0KX0sci5pc0FjdGl2ZUNvbmR1aXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ci5jb3JlLmdldFVwc3RyZWFtKCk7cmV0dXJuIHQgaW5zdGFuY2VvZiByLkdSUHJveHlJZnJhbWVDb25kdWl0P2UubmFtZT09PXQuYWN0aXZlUmVnaW9uVXJsOihyLmdldExvZygpLmRlYnVnKCJjb25uZWN0LmlzQWN0aXZlQ29uZHVpdCBpcyBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIEdSIHByb3h5IGNvbmR1aXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCEwKX19KCl9LDM1NDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cihlLHQsb1t0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6dChPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKHQsbixyKXtyZXR1cm4obj1mdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbih0LG4pe2lmKCJvYmplY3QiIT1lKHQpfHwhdClyZXR1cm4gdDt2YXIgcj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKHQsbnx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9ZShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PW4/U3RyaW5nOk51bWJlcikodCl9KHQsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT1lKG4pP246bisiIn0obikpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQsdC53b3JrZXI9e307dmFyIHI9IkxBRFMuR2V0QWdlbnRGYWlsb3ZlckNvbmZpZ3VyYXRpb24iLG89e2NyZWF0ZVRhc2tDb250YWN0OiJjcmVhdGVUYXNrQ29udGFjdCIsY3JlYXRlT3V0Ym91bmRDb250YWN0OiJjcmVhdGVPdXRib3VuZENvbnRhY3QiLGNyZWF0ZVRlbXBsYXRlZFRhc2s6ImNyZWF0ZVRlbXBsYXRlZFRhc2sifSxpPWZ1bmN0aW9uKCl7dGhpcy50b3BpY01hc3Rlck1hcD17fX07aS5wcm90b3R5cGUuZ2V0TWFzdGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFzc2VydE5vdE51bGwoZSwidG9waWMiKSx0aGlzLnRvcGljTWFzdGVyTWFwW2VdfHxudWxsfSxpLnByb3RvdHlwZS5zZXRNYXN0ZXI9ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwidG9waWMiKSx0LmFzc2VydE5vdE51bGwobiwiaWQiKSx0aGlzLnRvcGljTWFzdGVyTWFwW2VdPW59LGkucHJvdG90eXBlLnJlbW92ZU1hc3Rlcj1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwiaWQiKTt2YXIgbj10aGlzO3QuZW50cmllcyh0aGlzLnRvcGljTWFzdGVyTWFwKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtkZWxldGUgbi50b3BpY01hc3Rlck1hcFtlLmtleV19KSl9O3ZhciBhPWZ1bmN0aW9uKGUpe3QuQ2xpZW50QmFzZS5jYWxsKHRoaXMpLHRoaXMuY29uZHVpdD1lfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LkNsaWVudEJhc2UucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMsaT0obmV3IERhdGUpLmdldFRpbWUoKTt0LmNvbnRhaW5zVmFsdWUodC5BZ2VudEFwcENsaWVudE1ldGhvZHMsZSk/dC5jb3JlLmdldEFnZW50QXBwQ2xpZW50KCkuX2NhbGxJbXBsKGUsbix7c3VjY2VzczpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuKSxyLnN1Y2Nlc3ModCl9LGZhaWx1cmU6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmZhaWx1cmUodCl9fSk6dC5jb250YWluc1ZhbHVlKHQuVGFza1RlbXBsYXRlc0NsaWVudE1ldGhvZHMsZSk/dC5jb3JlLmdldFRhc2tUZW1wbGF0ZXNDbGllbnQoKS5fY2FsbEltcGwoZSxuLHtzdWNjZXNzOmZ1bmN0aW9uKHQpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4pLHIuc3VjY2Vzcyh0KX0sZmFpbHVyZTpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuZmFpbHVyZSh0KX19KTp0LmNvcmUuZ2V0Q2xpZW50KCkuX2NhbGxJbXBsKGUsbix7c3VjY2VzczpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4pLHIuc3VjY2Vzcyh0LGEpfSxmYWlsdXJlOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmZhaWx1cmUodCxhKX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24odCxhKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuLHQpLHIuYXV0aEZhaWx1cmUoKX0sYWNjZXNzRGVuaWVkOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmFjY2Vzc0RlbmllZCYmci5hY2Nlc3NEZW5pZWQoKX19KX0sYS5wcm90b3R5cGUuX3JlY29yZEFQSUxhdGVuY3k9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89KG5ldyBEYXRlKS5nZXRUaW1lKCktdDt0aGlzLl9zZW5kQVBJTWV0cmljcyhlLG8sbixyKX0sYS5wcm90b3R5cGUuX3NlbmRBUElNZXRyaWNzPWZ1bmN0aW9uKGUscixpLGEpe3ZhciBzPXtuYW1lOmUsdGltZTpyLGVycm9yOmEsZXJyb3I1eHg6MH0sYz1be25hbWU6IkNhdGVnb3J5Iix2YWx1ZToiQVBJIn1dLHU9YSYmYS5zdGF0dXNDb2RlfHwyMDAsbD1hJiZhLnJldHJ5U3RhdHVzfHx0LlJldHJ5U3RhdHVzLk5PTkUscD1be25hbWU6Ikh0dHBTdGF0dXNDb2RlIix2YWx1ZTp1fSx7bmFtZToiSHR0cEdlbmVyaWNTdGF0dXNDb2RlIix2YWx1ZToiIi5jb25jYXQodS50b1N0cmluZygpLmNoYXJBdCgwKSwiWFgiKX0se25hbWU6IlJldHJ5U3RhdHVzIix2YWx1ZTpsfV07aWYoIjUiPT09dS50b1N0cmluZygpLmNoYXJBdCgwKSYmKHMuZXJyb3I1eHg9MSksIjUiPT09dS50b1N0cmluZygpLmNoYXJBdCgwKT9zLmZhdWx0PTE6IjIiPT09dS50b1N0cmluZygpLmNoYXJBdCgwKSYmKHMuZmF1bHQ9MCksb1tlXSYmaSYmaS5yZWxhdGVkQ29udGFjdElkKXt2YXIgZD17bmFtZToiIi5jb25jYXQoZSwiV2l0aFJlbGF0ZWRDb250YWN0SWQiKSx0aW1lOnMudGltZSxlcnJvcjpzLmVycm9yLGVycm9yNXh4OnMuZXJyb3I1eHh9O3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfTUVUUklDLG4obih7fSxkKSx7fSx7ZGltZW5zaW9uczpjLG9wdGlvbmFsRGltZW5zaW9uczpwfSkpfXRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfTUVUUklDLG4obih7fSxzKSx7fSx7ZGltZW5zaW9uczpjLG9wdGlvbmFsRGltZW5zaW9uczpwfSkpfTt2YXIgcz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5tdWx0aXBsZXhlcj1uZXcgdC5TdHJlYW1NdWx0aXBsZXhlcix0aGlzLmNvbmR1aXQ9bmV3IHQuQ29uZHVpdCgiQW1hem9uQ29ubmVjdFNoYXJlZFdvcmtlciIsbnVsbCx0aGlzLm11bHRpcGxleGVyKSx0aGlzLmNsaWVudD1uZXcgYSh0aGlzLmNvbmR1aXQpLHRoaXMudGltZW91dD1udWxsLHRoaXMuYWdlbnQ9bnVsbCx0aGlzLm5leHRUb2tlbj1udWxsLHRoaXMuaW5pdERhdGE9e30sdGhpcy5wb3J0Q29uZHVpdE1hcD17fSx0aGlzLnN0cmVhbU1hcEJ5VGFiSWQ9e30sdGhpcy5tYXN0ZXJDb29yZD1uZXcgaSx0aGlzLmxvZ3NCdWZmZXI9W10sdGhpcy5zdXBwcmVzcz0hMSx0aGlzLmZvcmNlT2ZmbGluZT0hMSx0aGlzLmxvbmdQb2xsaW5nT3B0aW9ucz17YWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGU6ITEsYWxsb3dMb25nUG9sbGluZ1dlYnNvY2tldE9ubHlNb2RlOiExfSx0aGlzLmRyUG9sbGluZ1VybD1udWxsLHRoaXMudGhpc0Fybj1udWxsLHRoaXMub3RoZXJBcm49bnVsbCx0aGlzLnBlbmRpbmdGYWlsb3Zlcj1udWxsO3ZhciByPW51bGw7dC5yb290TG9nZ2VyPW5ldyB0LkRvd25zdHJlYW1Db25kdWl0TG9nZ2VyKHRoaXMuY29uZHVpdCksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TRU5EX0xPR1MsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkucHVzaExvZ3NEb3duc3RyZWFtKGUpLG4ubG9nc0J1ZmZlcj1uLmxvZ3NCdWZmZXIuY29uY2F0KGUpLG4ubG9nc0J1ZmZlci5sZW5ndGg+NDAwJiZuLmhhbmRsZVNlbmRMb2dzUmVxdWVzdChuLmxvZ3NCdWZmZXIpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLlNVUFBSRVNTLChmdW5jdGlvbihlKXt0LmdldExvZygpLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNldHRpbmcgU3VwcHJlc3MgdG8gJXMiLGUuc3VwcHJlc3MpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5zdXBwcmVzcz1lLnN1cHByZXNzfHwhMSxuLnN1cHByZXNzfHwobi5mb3JjZU9mZmxpbmU9ITEpLCh2b2lkIDA9PT1lLnNob3VsZFNlbmRGYWlsb3ZlckRvd25zdHJlYW18fGUuc2hvdWxkU2VuZEZhaWxvdmVyRG93bnN0cmVhbSkmJm4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse2lzUHJpbWFyeTohbi5zdXBwcmVzc30pfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUsKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gU2V0dGluZyBGT1JDRV9PRkZMSU5FIHRvICVzIixlLm9mZmxpbmUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5mb3JjZU9mZmxpbmV8fChuLnBlbmRpbmdGYWlsb3Zlcj0hMSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtpc1ByaW1hcnk6ITEsbmV4dEFjdGl2ZUFybjplLm5leHRBY3RpdmVBcm59KSksbi5mb3JjZU9mZmxpbmU9ZS5vZmZsaW5lfHwhMX0pKSx0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HJiZ0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5JTklUX0RSX1BPTExJTkcsKGZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0TG9nKCk7bi5kclBvbGxpbmdVcmw/KHIuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gQWRkaW5nIG5ldyBDQ1AgdG8gYWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZvciBpbnN0YW5jZSAiLmNvbmNhdChlLmluc3RhbmNlQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnBvbGxGb3JBY3RpdmVSZWdpb24oITAsITEpKTooci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluaXRpYWxpemluZyBhY3RpdmUgcmVnaW9uIHBvbGxpbmcgZm9yIGluc3RhbmNlICIuY29uY2F0KGUuaW5zdGFuY2VBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4udGhpc0Fybj1lLmluc3RhbmNlQXJuLG4ub3RoZXJBcm49ZS5vdGhlckFybixuLmdldFByZXNpZ25lZERpc2NvdmVyeVVybCgpLnRoZW4oKGZ1bmN0aW9uKGUpe24uZHJQb2xsaW5nVXJsPWUsbi5wb2xsRm9yQWN0aXZlUmVnaW9uKCEwLCEwKX0pLChmdW5jdGlvbih0KXtyLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybiwiOyBzdXBwcmVzc2luZyBjb250YWN0cyIpKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5zdXBwcmVzcz0hMH0pKSl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJAQEAgY29uZmlndXJlIGV2ZW50IGhhbmRsZXIiLG8pO3RyeXtvLmF1dGhUb2tlbiYmby5hdXRoVG9rZW4hPT1uLmluaXREYXRhLmF1dGhUb2tlbiYmKG4uaW5pdERhdGE9byx0LmNvcmUuaW5pdChvKSxvLmxvbmdQb2xsaW5nT3B0aW9ucyYmKCJib29sZWFuIj09dHlwZW9mIG8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlJiYobi5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGU9by5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGUpLCJib29sZWFuIj09dHlwZW9mIG8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZSYmKG4ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZT1vLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGUpKSxyP3QuZ2V0TG9nKCkuaW5mbygiTm90IEluaXRpYWxpemluZyBhIG5ldyBXZWJzb2NrZXRNYW5hZ2VyIGluc3RhbmNlLCBzaW5jZSBvbmUgYWxyZWFkeSBleGlzdHMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOih0LmdldExvZygpLmluZm8oIkNyZWF0aW5nIGEgbmV3IFdlYnNvY2tldCBjb25uZWN0aW9uIGZvciBDQ1AiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuV2ViU29ja2V0TWFuYWdlci5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOnQuZ2V0TG9nKCksYWR2YW5jZWRMb2dXcml0ZXI6ImluZm8iLGxldmVsOjEwfX0pLChyPXQuV2ViU29ja2V0TWFuYWdlci5jcmVhdGUoKSkub25Jbml0RmFpbHVyZSgoZnVuY3Rpb24oKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFKX0pKSxyLm9uQ29ubmVjdGlvbk9wZW4oKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX09QRU4sZSl9KSksci5vbkNvbm5lY3Rpb25DbG9zZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fQ0xPU0UsZSl9KSksci5vbkNvbm5lY3Rpb25HYWluKChmdW5jdGlvbigpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0dBSU5FRCksbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fR0FJTil9KSksci5vbkNvbm5lY3Rpb25Mb3N0KChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9MT1NULGUpLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0xPU1QsZSl9KSksci5vblN1YnNjcmlwdGlvblVwZGF0ZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9VUERBVEUsZSl9KSksci5vblN1YnNjcmlwdGlvbkZhaWx1cmUoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fRkFJTFVSRSxlKX0pKSxyLm9uQWxsTWVzc2FnZSgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkFMTF9NRVNTQUdFLGUpfSkpLG4uY29uZHVpdC5vbkRvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU0VORCwoZnVuY3Rpb24oZSl7ci5zZW5kTWVzc2FnZShlKX0pKSxuLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklCRSwoZnVuY3Rpb24oZSl7ci5zdWJzY3JpYmVUb3BpY3MoZSl9KSksci5pbml0KHQuaGl0Y2gobixuLmdldFdlYlNvY2tldFVybCkpLnRoZW4oKGZ1bmN0aW9uKHIpe3RyeXtpZihyJiYhci53ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkKXQuZ2V0TG9nKCkuaW5mbygiS2lja2luZyBvZmYgYWdlbnQgcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wb2xsRm9yQWdlbnQoKSx0LmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGNvbmZpZyBwb2xsaW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24oe3JlcGVhdEZvcmV2ZXI6ITB9KSx0LmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGF1dGggdG9rZW4gcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZXRJbnRlcnZhbCh0LmhpdGNoKG4sbi5jaGVja0F1dGhUb2tlbiksM2U1KTtlbHNlIGlmKCF0LndlYlNvY2tldEluaXRGYWlsZWQpe3ZhciBvPXQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRTt0aHJvdyBuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obyksdC53ZWJTb2NrZXRJbml0RmFpbGVkPSEwLG5ldyBFcnJvcihvKX19Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiV2ViU29ja2V0IGZhaWxlZCB0byBpbml0aWFsaXplIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKSkpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoIkBAQCBlcnJvciIsZSl9fSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuVEVSTUlOQVRFLChmdW5jdGlvbigpe24uaGFuZGxlU2VuZExvZ3NSZXF1ZXN0KG4ubG9nc0J1ZmZlciksdC5jb3JlLnRlcm1pbmF0ZSgpLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5URVJNSU5BVEVEKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlNZTkNIUk9OSVpFLChmdW5jdGlvbigpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1QsKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbShlLmV2ZW50LGUuZGF0YSl9KSksZS5vbmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5wb3J0c1swXSxvPW5ldyB0LlBvcnRTdHJlYW0ocik7bi5tdWx0aXBsZXhlci5hZGRTdHJlYW0obyksci5zdGFydCgpO3ZhciBpPW5ldyB0LkNvbmR1aXQoby5nZXRJZCgpLG51bGwsbyk7aS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSx7aWQ6by5nZXRJZCgpfSksbi5wb3J0Q29uZHVpdE1hcFtvLmdldElkKCldPWksbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyx7bGVuZ3RoOk9iamVjdC5rZXlzKG4ucG9ydENvbmR1aXRNYXApLmxlbmd0aH0pLG51bGwhPT1uLmFnZW50JiZuLnVwZGF0ZUFnZW50KCksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFUVVFU1QsdC5oaXRjaChuLG4uaGFuZGxlQVBJUmVxdWVzdCxpKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuTUFTVEVSX1JFUVVFU1QsdC5oaXRjaChuLG4uaGFuZGxlTWFzdGVyUmVxdWVzdCxpLG8uZ2V0SWQoKSkpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlJFTE9BRF9BR0VOVF9DT05GSUdVUkFUSU9OLHQuaGl0Y2gobixuLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24pKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5UQUJfSUQsdC5oaXRjaChuLG4uaGFuZGxlVGFiSWRFdmVudCxvKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQ0xPU0UsdC5oaXRjaChuLG4uaGFuZGxlQ2xvc2VFdmVudCxvKSl9fTtzLnByb3RvdHlwZS5wb2xsRm9yQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKG8saSl7dmFyIGE9dGhpcyxzPXQuZ2V0TG9nKCk7aWYoIWEuZHJQb2xsaW5nVXJsKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gVHJpZWQgdG8gcG9sbCBmb3IgYWN0aXZlIHJlZ2lvbiB3aXRob3V0IGZpcnN0IGluaXRpYWxpemluZyBEUiBwb2xsaW5nIGluIHRoZSB3b3JrZXIuIik7cy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBQb2xsaW5nIGZvciBmYWlsb3ZlciB3aXRoIHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIHQuZmV0Y2hXaXRoVGltZW91dChhLmRyUG9sbGluZ1VybCwxZTQpLmNhdGNoKChmdW5jdGlvbihlKXtpZihlLnN0YXR1cyl7aWYoYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjLHtzdGF0dXNDb2RlOmUuc3RhdHVzfSksW3QuSFRUUF9TVEFUVVNfQ09ERVMuQUNDRVNTX0RFTklFRCx0LkhUVFBfU1RBVFVTX0NPREVTLlVOQVVUSE9SSVpFRF0uaW5jbHVkZXMoZS5zdGF0dXMpKXJldHVybiBzLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gQWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZhaWxlZDsgdHJ5aW5nIHRvIGdldCBhIG5ldyBVUkwgZm9yIHBvbGxpbmcuIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsKCkudGhlbigoZnVuY3Rpb24oZSl7YS5kclBvbGxpbmdVcmw9ZX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQuZmV0Y2hXaXRoVGltZW91dChhLmRyUG9sbGluZ1VybCwxZTQpfSkpO3ZhciBuPSJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBwb2xsIGZvciBmYWlsb3ZlciBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIsICIpKyJyZWNlaXZlZCB1bmV4cGVjdGVkIHJlc3BvbnNlIGNvZGUgIi5jb25jYXQoZS5zdGF0dXMpO3Rocm93IHMuZXJyb3Iobikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG5ldyBFcnJvcihuKX10aHJvdyBuPSJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBwb2xsIGZvciBmYWlsb3ZlciBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIsIHJlcXVlc3QgdGltZWQgb3V0IG9yIGFib3J0ZWQiKSxhLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMse3N0YXR1c0NvZGU6LTF9KSxzLmVycm9yKG4pLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuZXcgRXJyb3Iobil9KSkudGhlbigoZnVuY3Rpb24oZSl7aWYoYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjKSwiYm9vbGVhbiI9PXR5cGVvZiBlLlRlcm1pbmF0ZUFjdGl2ZUNvbnRhY3RzKXt2YXIgbj0hZS5UZXJtaW5hdGVBY3RpdmVDb250YWN0cztpZihlLkluc3RhbmNlQXJuKWlmKHMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gU3VjY2Vzc2Z1bGx5IHBvbGxlZCBmb3IgYWN0aXZlIHJlZ2lvbi4gUHJpbWFyeSBpbnN0YW5jZSBBUk4gaXMgIi5jb25jYXQoZS5JbnN0YW5jZUFybiwiICIpKyJhbmQgc29mdCBmYWlsb3ZlciBpcyAiLmNvbmNhdChuPyJlbmFibGVkIjoiZGlzYWJsZWQiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLnRoaXNBcm49PT1lLkluc3RhbmNlQXJuJiYhYS5zdXBwcmVzcyYmbylzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIGlzIGJlaW5nIHNldCB0byBwcmltYXJ5IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7bmV4dEFjdGl2ZUFybjplLkluc3RhbmNlQXJufSk7ZWxzZSBpZihhLm90aGVyQXJuPT09ZS5JbnN0YW5jZUFybil7aWYoIW58fGl8fCFvfHxhLnN1cHByZXNzJiYhYS5wZW5kaW5nRmFpbG92ZXJ8fGEuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse25leHRBY3RpdmVBcm46YS50aGlzQXJufSksIWEuc3VwcHJlc3Mpe2Euc3VwcHJlc3M9ITA7dmFyIHU9biYmIWk7dT8oYS5wZW5kaW5nRmFpbG92ZXI9ITAscy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiB3aWxsIGJlIHNldCB0byBzdGFuZC1ieSB1c2luZyBzb2Z0IGZhaWxvdmVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOnMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgaXMgYmVpbmcgc2V0IHRvIHN0YW5kLWJ5IGltbWVkaWF0ZWx5IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLHtzb2Z0RmFpbG92ZXI6dSxuZXh0QWN0aXZlQXJuOmUuSW5zdGFuY2VBcm59KX19ZWxzZVthLnRoaXNBcm4sYS5vdGhlckFybl0uaW5jbHVkZXMoZS5JbnN0YW5jZUFybil8fHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gVGhlIGN1cnJlbnQgcHJpbWFyeSBpbnN0YW5jZSBpbiB0aGlzIGFnZW50J3MgZmFpbG92ZXIgZ3JvdXAgIi5jb25jYXQoZS5JbnN0YW5jZUFybiwiICIpKyJkb2Vzbid0IG1hdGNoIHRoaXMgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgb3IgdGhlIG90aGVyIGluc3RhbmNlICIpLmNvbmNhdChhLm90aGVyQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNlIHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gRFIgcG9sbGluZyByZXNwb25zZSBkaWQgbm90IGNvbnRhaW4gYSB0cnV0aHkgYWN0aXZlIGluc3RhbmNlIEFSTi4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSBzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIERSIHBvbGxpbmcgcmVzcG9uc2UgZGlkIG5vdCBjb250YWluIGEgdmFsaWQgdmFsdWUgZm9yIFRlcm1pbmF0ZUFjdGl2ZUNvbnRhY3RzLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ZS5zdGF0dXMmJmEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyxuKG4oe30sZSkse30se3N0YXR1c0NvZGU6ZS5zdGF0dXN9KSkscy5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBY3RpdmUgcmVnaW9uIHBvbGxpbmcgZmFpbGVkIGZvciBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIi4iKSkud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmZpbmFsbHkoKGZ1bmN0aW9uKCl7IWkmJm98fGUuc2V0VGltZW91dCh0LmhpdGNoKGEsYS5wb2xsRm9yQWN0aXZlUmVnaW9uKSw2ZTQpfSkpfSxzLnByb3RvdHlwZS5nZXRQcmVzaWduZWREaXNjb3ZlcnlVcmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7dC5nZXRMb2coKS5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEdldHRpbmcgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQobi50aGlzQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHt0cmFuc3BvcnRUeXBlOnQuVFJBTlNQT1JUX1RZUEVTLkFHRU5UX0RJU0NPVkVSWX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZSYmZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydCYmZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydC5wcmVzaWduZWRVcmw/KHQuZ2V0TG9nKCkuaW5mbygiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlLmFnZW50RGlzY292ZXJ5VHJhbnNwb3J0LnByZXNpZ25lZFVybCkpOih0LmdldExvZygpLmluZm8oImdldFByZXNpZ25lZERpc2NvdmVyeVVybCByZWNlaXZlZCBlbXB0eS9pbnZhbGlkIGRhdGEiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbyhFcnJvcigiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHJlY2VpdmVkIGVtcHR5L2ludmFsaWQgZGF0YSIpKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxyKXt0LmdldExvZygpLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQobi50aGlzQXJuKSkud2l0aEV4Y2VwdGlvbihlKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbyhuZXcgRXJyb3IoIkZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCIpKX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXt0LmhpdGNoKG4sbi5oYW5kbGVBdXRoRmFpbCkoKSxvKG5ldyBFcnJvcigiRW5jb3VudGVyZWQgYXV0aCBmYWlsdXJlIHdoZW4gZ2V0dGluZyBwcmVzaWduZWQgVVJMIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXt0LmhpdGNoKG4sbi5oYW5kbGVBY2Nlc3NEZW5pZWQpKCksbyhuZXcgRXJyb3IoIkVuY291bnRlcmVkIGFjY2VzcyBkZW5pZWQgd2hlbiBnZXR0aW5nIHByZXNpZ25lZCBVUkwiKSl9fSl9KSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudD1mdW5jdGlvbigpe3ZhciBuPXRoaXMscj10LmhpdGNoKG4sbi5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpO3RoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TTkFQU0hPVCx7bmV4dFRva2VuOm4ubmV4dFRva2VuLHRpbWVvdXQ6M2U0fSx7c3VjY2VzczpmdW5jdGlvbihyLG8pe3RyeXtuLmFnZW50PW4uYWdlbnR8fHt9LG4uYWdlbnQuc25hcHNob3Q9ci5zbmFwc2hvdCxuLmFnZW50LnNuYXBzaG90LmxvY2FsVGltZXN0YW1wPXQubm93KCksbi5hZ2VudC5zbmFwc2hvdC5za2V3PW4uYWdlbnQuc25hcHNob3Quc25hcHNob3RUaW1lc3RhbXAtbi5hZ2VudC5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcCxuLm5leHRUb2tlbj1yLm5leHRUb2tlbixvJiZvLmhhc093blByb3BlcnR5KCJjb250ZW50TGVuZ3RoIikmJihuLmFnZW50LnNuYXBzaG90LmNvbnRlbnRMZW5ndGg9by5jb250ZW50TGVuZ3RoKSx0LmdldExvZygpLnRyYWNlKCJHRVRfQUdFTlRfU05BUFNIT1Qgc3VjY2VlZGVkLiIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnVwZGF0ZUFnZW50KCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiTG9uZyBwb2xsIGZhaWxlZCB0byB1cGRhdGUgYWdlbnQuIikud2l0aE9iamVjdChyKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZmluYWxseXtlLnNldFRpbWVvdXQodC5oaXRjaChuLG4ucG9sbEZvckFnZW50KSwxMDApfX0sZmFpbHVyZTpmdW5jdGlvbihyLG8pe3RyeXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZ2V0IGFnZW50IGRhdGEuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6cixkYXRhOm99KX1maW5hbGx5e2Uuc2V0VGltZW91dCh0LmhpdGNoKG4sbi5wb2xsRm9yQWdlbnQpLDVlMyl9fSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3IoKX0sYWNjZXNzRGVuaWVkOnQuaGl0Y2gobixuLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbihuKXt2YXIgcj10aGlzLG89bnx8e30saT10LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpO3RoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9DT05GSUdVUkFUSU9OLHt9LHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciBpPW4uY29uZmlndXJhdGlvbjtyLnBvbGxGb3JBZ2VudFBlcm1pc3Npb25zKGkpLHIucG9sbEZvckFnZW50U3RhdGVzKGkpLHIucG9sbEZvckRpYWxhYmxlQ291bnRyeUNvZGVzKGkpLHIucG9sbEZvclJvdXRpbmdQcm9maWxlUXVldWVzKGkpLG8ucmVwZWF0Rm9yZXZlciYmZS5zZXRUaW1lb3V0KHQuaGl0Y2gocixyLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24sbyksM2U0KX0sZmFpbHVyZTpmdW5jdGlvbihuLGkpe3RyeXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgY29uZmlndXJhdGlvbiBkYXRhLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOm4sZGF0YTppfSl9ZmluYWxseXtvLnJlcGVhdEZvcmV2ZXImJmUuc2V0VGltZW91dCh0LmhpdGNoKHIsci5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKSwzZTQsbyl9fSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe2koKX0sYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50U3RhdGVzPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPW58fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TVEFURVMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yQWdlbnRTdGF0ZXMoZSx7c3RhdGVzOihvLnN0YXRlc3x8W10pLmNvbmNhdCh0LnN0YXRlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUuYWdlbnRTdGF0ZXM9KG8uc3RhdGVzfHxbXSkuY29uY2F0KHQuc3RhdGVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgc3RhdGVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfUEVSTUlTU0lPTlMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucyhlLHtwZXJtaXNzaW9uczooby5wZXJtaXNzaW9uc3x8W10pLmNvbmNhdCh0LnBlcm1pc3Npb25zKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5wZXJtaXNzaW9ucz0oby5wZXJtaXNzaW9uc3x8W10pLmNvbmNhdCh0LnBlcm1pc3Npb25zKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgcGVybWlzc2lvbnMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2Rlcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfRElBTEFCTEVfQ09VTlRSWV9DT0RFUyx7bmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2RlcyhlLHtjb3VudHJ5Q29kZXM6KG8uY291bnRyeUNvZGVzfHxbXSkuY29uY2F0KHQuY291bnRyeUNvZGVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5kaWFsYWJsZUNvdW50cmllcz0oby5jb3VudHJ5Q29kZXN8fFtdKS5jb25jYXQodC5jb3VudHJ5Q29kZXMpLHIudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKGUpKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBkaWFsYWJsZSBjb3VudHJ5IGNvZGVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yUm91dGluZ1Byb2ZpbGVRdWV1ZXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX1JPVVRJTkdfUFJPRklMRV9RVUVVRVMse3JvdXRpbmdQcm9maWxlQVJOOmUucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVBUk4sbmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JSb3V0aW5nUHJvZmlsZVF1ZXVlcyhlLHtjb3VudHJ5Q29kZXM6KG8ucXVldWVzfHxbXSkuY29uY2F0KHQucXVldWVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5yb3V0aW5nUHJvZmlsZS5xdWV1ZXM9KG8ucXVldWVzfHxbXSkuY29uY2F0KHQucXVldWVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggcm91dGluZyBwcm9maWxlIHF1ZXVlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUuaGFuZGxlQVBJUmVxdWVzdD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7dGhpcy5jbGllbnQuY2FsbChuLm1ldGhvZCxuLnBhcmFtcyx7c3VjY2VzczpmdW5jdGlvbihyKXt2YXIgbz10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0UsbixyKTtlLnNlbmREb3duc3RyZWFtKG8uZXZlbnQsbyl9LGZhaWx1cmU6ZnVuY3Rpb24obyxpKXt2YXIgYT10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0UsbixpLEpTT04uc3RyaW5naWZ5KG8pKTtlLnNlbmREb3duc3RyZWFtKGEuZXZlbnQsYSksdC5nZXRMb2coKS5lcnJvcigiJyVzJyBBUEkgcmVxdWVzdCBmYWlsZWQiLG4ubWV0aG9kKS53aXRoT2JqZWN0KHtyZXF1ZXN0OnIuZmlsdGVyQXV0aFRva2VuKG4pLHJlc3BvbnNlOmF9KS53aXRoRXhjZXB0aW9uKG8pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZUF1dGhGYWlsLHthdXRob3JpemU6ITB9KX0pfSxzLnByb3RvdHlwZS5oYW5kbGVNYXN0ZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzLmNvbmR1aXQsaT1udWxsO3N3aXRjaChyLm1ldGhvZCl7Y2FzZSB0Lk1hc3Rlck1ldGhvZHMuQkVDT01FX01BU1RFUjp2YXIgYT10aGlzLm1hc3RlckNvb3JkLmdldE1hc3RlcihyLnBhcmFtcy50b3BpYykscz1Cb29sZWFuKGEpJiZhIT09bjt0aGlzLm1hc3RlckNvb3JkLnNldE1hc3RlcihyLnBhcmFtcy50b3BpYyxuKSxpPXQuRXZlbnRGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSxyLHttYXN0ZXJJZDpuLHRha2VPdmVyOnMsdG9waWM6ci5wYXJhbXMudG9waWN9KSxzJiZvLnNlbmREb3duc3RyZWFtKGkuZXZlbnQsaSk7YnJlYWs7Y2FzZSB0Lk1hc3Rlck1ldGhvZHMuQ0hFQ0tfTUFTVEVSOihhPXRoaXMubWFzdGVyQ29vcmQuZ2V0TWFzdGVyKHIucGFyYW1zLnRvcGljKSl8fHIucGFyYW1zLnNob3VsZE5vdEJlY29tZU1hc3RlcklmTm9uZXx8KHRoaXMubWFzdGVyQ29vcmQuc2V0TWFzdGVyKHIucGFyYW1zLnRvcGljLG4pLGE9biksaT10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0Uscix7bWFzdGVySWQ6YSxpc01hc3RlcjpuPT09YSx0b3BpYzpyLnBhcmFtcy50b3BpY30pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIG1hc3RlciBtZXRob2Q6ICIrci5tZXRob2QpfWUuc2VuZERvd25zdHJlYW0oaS5ldmVudCxpKX0scy5wcm90b3R5cGUuaGFuZGxlVGFiSWRFdmVudD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7dHJ5e3ZhciBvPW4udGFiSWQsaT1yLnN0cmVhbU1hcEJ5VGFiSWRbb10sYT1lLmdldElkKCkscz1PYmplY3Qua2V5cyhyLnN0cmVhbU1hcEJ5VGFiSWQpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIuc3RyZWFtTWFwQnlUYWJJZFtlXS5sZW5ndGg+MH0pKS5sZW5ndGg7aWYoaSYmaS5sZW5ndGg+MCl7aWYoIWkuaW5jbHVkZXMoYSkpe3Iuc3RyZWFtTWFwQnlUYWJJZFtvXS5wdXNoKGEpO3ZhciBjPXtsZW5ndGg6T2JqZWN0LmtleXMoci5wb3J0Q29uZHVpdE1hcCkubGVuZ3RoLHRhYklkOm8sc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyOnN9O2Nbb109e2xlbmd0aDppLmxlbmd0aH0sci5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyxjKX19ZWxzZXtyLnN0cmVhbU1hcEJ5VGFiSWRbb109W2UuZ2V0SWQoKV07dmFyIHU9e2xlbmd0aDpPYmplY3Qua2V5cyhyLnBvcnRDb25kdWl0TWFwKS5sZW5ndGgsdGFiSWQ6byxzdHJlYW1zVGFic0Fjcm9zc0Jyb3dzZXI6cysxfTt1W29dPXtsZW5ndGg6ci5zdHJlYW1NYXBCeVRhYklkW29dLmxlbmd0aH0sci5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLlVQREFURV9DT05ORUNURURfQ0NQUyx1KX19Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZHNdIElzc3VlIHVwZGF0aW5nIGNvbm5lY3RlZCBDQ1BzIHdpdGhpbiB0aGUgc2FtZSB0YWIiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxzLnByb3RvdHlwZS5oYW5kbGVDbG9zZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7bi5tdWx0aXBsZXhlci5yZW1vdmVTdHJlYW0oZSksZGVsZXRlIG4ucG9ydENvbmR1aXRNYXBbZS5nZXRJZCgpXSxuLm1hc3RlckNvb3JkLnJlbW92ZU1hc3RlcihlLmdldElkKCkpO3ZhciByPXtsZW5ndGg6T2JqZWN0LmtleXMobi5wb3J0Q29uZHVpdE1hcCkubGVuZ3RofSxvPU9iamVjdC5rZXlzKG4uc3RyZWFtTWFwQnlUYWJJZCk7dHJ5e3ZhciBpPW8uZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIG4uc3RyZWFtTWFwQnlUYWJJZFt0XS5pbmNsdWRlcyhlLmdldElkKCkpfSkpO2lmKGkpe3ZhciBhPW4uc3RyZWFtTWFwQnlUYWJJZFtpXS5maW5kSW5kZXgoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmdldElkKCk9PT10fSkpO24uc3RyZWFtTWFwQnlUYWJJZFtpXS5zcGxpY2UoYSwxKTt2YXIgcz1uLnN0cmVhbU1hcEJ5VGFiSWRbaV0/bi5zdHJlYW1NYXBCeVRhYklkW2ldLmxlbmd0aDowO3JbaV09e2xlbmd0aDpzfSxyLnRhYklkPWl9dmFyIGM9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnN0cmVhbU1hcEJ5VGFiSWRbZV0ubGVuZ3RoPjB9KSkubGVuZ3RoO3Iuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyPWN9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZHNdIElzc3VlIHVwZGF0aW5nIHRhYklkLXNwZWNpZmljIHN0cmVhbSBkYXRhIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfW4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMscil9LHMucHJvdG90eXBlLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbihlKXtlLnBlcm1pc3Npb25zJiZlLmRpYWxhYmxlQ291bnRyaWVzJiZlLmFnZW50U3RhdGVzJiZlLnJvdXRpbmdQcm9maWxlLnF1ZXVlcz8odGhpcy5hZ2VudD10aGlzLmFnZW50fHx7fSx0aGlzLmFnZW50LmNvbmZpZ3VyYXRpb249ZSx0aGlzLnVwZGF0ZUFnZW50KCkpOnQuZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IGNvbmZpZ3VyYXRpb24gdW50aWwgYWxsIGNvbmZpZyBkYXRhIGhhcyBiZWVuIGZldGNoZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0scy5wcm90b3R5cGUudXBkYXRlQWdlbnQ9ZnVuY3Rpb24oKXt0aGlzLmFnZW50P3RoaXMuYWdlbnQuc25hcHNob3Q/dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uPyh0aGlzLmFnZW50LnNuYXBzaG90LnN0YXR1cz10aGlzLmFnZW50LnN0YXRlLHRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMmJnRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMubGVuZ3RoPjEmJnRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpLXQuc3RhdGUudGltZXN0YW1wLmdldFRpbWUoKX0pKSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RhdHVzPWUuc3RhdGUsZS5jb25uZWN0aW9ucy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmFkZHJlc3M9ZS5lbmRwb2ludH0pKX0pKSx0aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVJZD10aGlzLmFnZW50LmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVBUk4sdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnF1ZXVlcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnF1ZXVlSWQ9ZS5xdWV1ZUFSTn0pKSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucXVldWUmJihlLnF1ZXVlLnF1ZXVlSWQ9ZS5xdWV1ZS5xdWV1ZUFSTil9KSksdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQ9dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlQVJOLHRoaXMuc3VwcHJlc3MmJih0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzPXRoaXMuYWdlbnQuc25hcHNob3QuY29udGFjdHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0ZS50eXBlPT10LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVEVEfHxlLnN0YXRlLnR5cGU9PXQuQ29udGFjdFN0YXRlVHlwZS5FTkRFRH0pKSx0aGlzLmZvcmNlT2ZmbGluZSYmdGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FKSksdGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuQWdlbnRFdmVudHMuVVBEQVRFLHRoaXMuYWdlbnQpKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCB1bnRpbCB0aGUgYWdlbnQgY29uZmlndXJhdGlvbiBpcyBhdmFpbGFibGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCB1bnRpbCB0aGUgYWdlbnQgc25hcHNob3QgaXMgYXZhaWxhYmxlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IGhhcyBiZWVuIGZ1bGx5IGNvbnN0cnVjdGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHMucHJvdG90eXBlLmdldFdlYlNvY2tldFVybD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj10LmNvcmUuZ2V0Q2xpZW50KCkscj10LmhpdGNoKGUsZS5oYW5kbGVBdXRoRmFpbCksbz10LmhpdGNoKGUsZS5oYW5kbGVBY2Nlc3NEZW5pZWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXtuLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQse3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuV0VCX1NPQ0tFVH0se3N1Y2Nlc3M6ZnVuY3Rpb24obil7dC5nZXRMb2coKS5pbmZvKCJnZXRXZWJTb2NrZXRVcmwgc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKG4pfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiZ2V0V2ViU29ja2V0VXJsIGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSksaSh7cmVhc29uOiJnZXRXZWJTb2NrZXRVcmwgZmFpbGVkIixfZGVidWc6ZX0pfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3QuZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBBdXRoIEZhaWx1cmUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSBnZXR0aW5nIGdldFdlYlNvY2tldFVybCIpKSxyKCl9LGFjY2Vzc0RlbmllZDpmdW5jdGlvbigpe3QuZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBBY2Nlc3MgRGVuaWVkIEZhaWx1cmUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkoRXJyb3IoIkFjY2VzcyBEZW5pZWQgRmFpbHVyZSB3aGlsZSBnZXR0aW5nIGdldFdlYlNvY2tldFVybCIpKSxvKCl9fSl9KSl9LHMucHJvdG90eXBlLmhhbmRsZVNlbmRMb2dzUmVxdWVzdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1bXSxyPWUubG9nc0J1ZmZlci5zbGljZSgpO2UubG9nc0J1ZmZlcj1bXSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaCh7dGltZXN0YW1wOmUudGltZSxjb21wb25lbnQ6ZS5jb21wb25lbnQsbWVzc2FnZTplLnRleHR9KX0pKSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5TRU5EX0NMSUVOVF9MT0dTLHtsb2dFdmVudHM6bn0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJTZW5kTG9ncyByZXF1ZXN0IHN1Y2NlZWRlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiU2VuZExvZ3MgcmVxdWVzdCBmYWlsZWQuIikud2l0aE9iamVjdChuKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGF1dGhGYWlsdXJlOnQuaGl0Y2goZSxlLmhhbmRsZUF1dGhGYWlsKX0pfSxzLnByb3RvdHlwZS5oYW5kbGVBdXRoRmFpbD1mdW5jdGlvbihlKXtlP3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BVVRIX0ZBSUwsZSk6dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCl9LHMucHJvdG90eXBlLmhhbmRsZVBvbGxpbmdBdXRoRmFpbD1mdW5jdGlvbigpe3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5DVElfQVVUSE9SSVpFX1JFVFJJRVNfRVhIQVVTVEVEKX0scy5wcm90b3R5cGUuaGFuZGxlQWNjZXNzRGVuaWVkPWZ1bmN0aW9uKCl7dGhpcy5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFDQ0VTU19ERU5JRUQpfSxzLnByb3RvdHlwZS5jaGVja0F1dGhUb2tlbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1uZXcgRGF0ZShlLmluaXREYXRhLmF1dGhUb2tlbkV4cGlyYXRpb24pLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bi5nZXRUaW1lKCk8cisxOGU1JiYodC5nZXRMb2coKS5pbmZvKCJBdXRoIHRva2VuIGV4cGlyZXMgYXQgIituKyIgU3RhcnQgcmVmcmVzaGluZyB0b2tlbiB3aXRoIHJldHJ5LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5iYWNrb2ZmKHQuaGl0Y2goZSxlLmF1dGhvcml6ZSksMWU0LDQpKX0scy5wcm90b3R5cGUuYXV0aG9yaXplPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dC5jb3JlLmF1dGhvcml6ZSh0aGlzLmluaXREYXRhLmF1dGhvcml6ZUVuZHBvaW50KS50aGVuKChmdW5jdGlvbihyKXt2YXIgbz1uZXcgRGF0ZShyLmV4cGlyYXRpb24pO3QuZ2V0TG9nKCkuaW5mbygiQXV0aG9yaXphdGlvbiBzdWNjZWVkZWQgYW5kIHRoZSB0b2tlbiBleHBpcmVzIGF0ICVzIixvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uaW5pdERhdGEuYXV0aFRva2VuPXIuYWNjZXNzVG9rZW4sbi5pbml0RGF0YS5hdXRoVG9rZW5FeHBpcmF0aW9uPW8sdC5jb3JlLmluaXRDbGllbnQobi5pbml0RGF0YSksdC5jb3JlLmluaXRBZ2VudEFwcENsaWVudChuLmluaXREYXRhKSxlLnN1Y2Nlc3MoKX0pKS5jYXRjaCgoZnVuY3Rpb24ocil7dC5nZXRMb2coKS5lcnJvcigiQXV0aG9yaXphdGlvbiBmYWlsZWQgd2l0aCBjb2RlICVzIixyLnN0YXR1cykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSw0MDE9PT1yLnN0YXR1cz9uLmhhbmRsZUF1dGhGYWlsKCk6ZS5mYWlsdXJlKCl9KSl9LHMucHJvdG90eXBlLmZpbHRlckF1dGhUb2tlbj1mdW5jdGlvbihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlpZigicGFyYW1zIj09PW4pe3ZhciByPXt9O2Zvcih2YXIgbyBpbiBlLnBhcmFtcykiYXV0aGVudGljYXRpb24iIT09byYmKHJbb109ZS5wYXJhbXNbb10pO3QucGFyYW1zPXJ9ZWxzZSB0W25dPWVbbl07cmV0dXJuIHR9LHQud29ya2VyLm1haW49ZnVuY3Rpb24oKXt0Lndvcmtlci5jbGllbnRFbmdpbmU9bmV3IHN9fSgpfX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmFtZE89e30sbi5kPShlLHQpPT57Zm9yKHZhciByIGluIHQpbi5vKHQscikmJiFuLm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dFtyXX0pfSxuLmc9ZnVuY3Rpb24oKXtpZigib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChlKXtpZigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLG4ucj1lPT57InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbigxNjcpLG4oMjU0KSxuKDM0NCksbigxNDQpLG4oNjApLG4oNjgyKSxuKDQzMSksbig1NTUpLG4oODMwKSxuKDQxNCksbig2MTApLG4oOTUpLG4oMzk5KSxuKDkwNiksbig4MDYpLG4oMzU0KSxuKDE0Miksbig4ODQpLG4oMzkwKSxuKDI2OSksbig4MjUpLG4oOTYxKSxuKDk0OSl9KSgpOw==";
  var LATEST_STREAMJS_CODE = window.atob(LATEST_STREAMJS_BASE64_CODE);
  const REGION_STRING_DELIMITER = '.';


  /**
   Connect instance container
   It holds the connect api context within an iframe window.

   usage:
   var newContainer = new Container({ccpUrl: "bla", ...})
   */
  var Container = function(resource) {
    this.id = resource.region;
    resource.region = this._normalizeRegionString(resource.region);
    this.height = resource.height;
    this.style = resource.iframe_style;
    this.ccp = this._createFramedCcp(resource);
  };

  Container.prototype._createFramedCcp = function (resource) {
    var permission = permission || "microphone; autoplay; clipboard-write";
    var style = this.style || FRAME_DIMENSIONS;
    var iframe = document.createElement('iframe');
    iframe.srcdoc = this.getContent(resource);
    iframe.allow = permission;
    iframe.id = this.id;
    iframe.style = style;
    iframe.scrolling = "no";
    return iframe;
  };

  Container.prototype.getContent = function(params) {
    return [
      "<!DOCTYPE html>",
      "<meta charset='UTF-8'>",
      "<html>",
        "<head>",
          "<script type='text/javascript'>",
            LATEST_STREAMJS_CODE,
          "</script>",
          "<style>",
            "html, body, iframe { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}",
          "</style>",
        "</head>",
        "<body>",
          "<div id=containerDiv style='width: 100%;height: 100%;'></div>",
          "<script type='text/javascript'>",
            "function init() {",
              "connect.core.initCCP(containerDiv," + JSON.stringify(params) + ");",
            "}",
          "</script>",
        "</body>",
      "</html>"
    ].join('');
  };

  /**
   * Helper function to retrieve the actual region from a region string that may contain a delimiter
   * e.g. "us-east-1.instance0" -> "us-east-1"
   */
  Container.prototype._normalizeRegionString = function(regionString) {
    const delimiterIndex = regionString.indexOf(REGION_STRING_DELIMITER);
    if (delimiterIndex === -1) {
      return regionString;
    } else {
      return regionString.substring(0, delimiterIndex);
    }
  }

  globalConnect.Container = Container;
})();

/***/ }),

/***/ 96:
/***/ (() => {

/*
 * Copyright 2014-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 *
 * Note: load utils before core.js
 */

(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  var globalConnect = global.globalConnect || {};
  global.connect = connect;
  global.globalConnect = globalConnect;
  global.lily = connect;

  globalConnect.core = {};

  var IFRAME_STYLE = "margin: 0; border: 0; padding:0px;width: 0px;height: 0px";
  var GLOBALIFRAME_STYLE =
    "margin: 0; border: 0; padding:0px;width: 100%;height: 100%";
  var GLOBALIFRAME_ID = "globalCCP";
  var DIV_DEFAULT_HEIGHT = {
    height: "465px",
  };

  globalConnect.extractCcpRegionParams = function (globalContainerDiv, paramsIn) {
    connect.assertNotNull(paramsIn.standByRegion, "ccpBackupResource");
    connect.assertNotNull(paramsIn.standByRegion.ccpUrl, "ccpUrl");
    connect.assertNotNull(paramsIn.standByRegion.region, "region");
    if (paramsIn.pollForFailover) {
      connect.assertNotNull(paramsIn.loginUrl, "loginUrl");
      connect.assertNotNull(paramsIn.instanceArn, "primary ARN");
      paramsIn.otherArn = connect.assertNotNull(paramsIn.standByRegion.instanceArn, "backup ARN");
    }

    var regionAParams = paramsIn;
    var regionBParams = Object.assign({}, paramsIn, {
      ccpUrl: paramsIn.standByRegion.ccpUrl,
      region: paramsIn.standByRegion.region,
      instanceArn: paramsIn.standByRegion.instanceArn,
      otherArn: paramsIn.instanceArn,
      loginPopup: false
    });

    var divStyle = extractDivStyle(globalContainerDiv);

    if (parseInt(divStyle.height) <= 0) {
      globalContainerDiv.style.height = DIV_DEFAULT_HEIGHT.height; // populating ccp
      divStyle.height = DIV_DEFAULT_HEIGHT.height;
    }

    return [regionAParams, regionBParams].map(function (params) {
      connect.assertNotNull(params.ccpUrl, "ccpUrl");
      connect.assertNotNull(params.region, "region");
      delete params.standByRegion;
      //signal CCP as part of a disaster recovery fleet
      params.disasterRecoveryOn = true;
      params.iframe_style = IFRAME_STYLE;
      params.height = divStyle.height;
      return params;
    });
  };

  var extractDivStyle = function (globalContainerDiv) {
    var style = window.getComputedStyle(globalContainerDiv);
    return {
      height: style.getPropertyValue("height"),
      width: style.getPropertyValue("width"),
      display: style.getPropertyValue("display"),
    };
  };

  var validateRegion = function (region, availableRegions) {
    connect.assertTrue(
      typeof region == "string",
      "Region provided " + region + " is not a valid string"
    );
    var regions = availableRegions || globalConnect.core.regions;
    if (!regions.hasOwnProperty(region)) {
      var message = "Region provided " + region + " is not found!";
      throw new connect.ValueError(message);
    }
  };

  /**
   * Particular to DR, the getPrimaryRegion paramsIn field is new, and required. It returns a promise that is resolved once the CCP and namespace are successfully initialized.
   * It is recommended that you do not attempt to use the connect object before this promise is resolved.
   * @param {object} globalContainerDiv -- The container div for the active and secondary CCPs for use with DR.
   * @param {object} paramsIn -- Identical to connect.core.initCCP's paramsIn, save for one additional param.
   * @param {getPrimaryRegionCallback} paramsIn.getPrimaryRegion -- Required. A callback function that returns a promise that is resolved once the CCP and namespace are successfully initialized.
   */
  globalConnect.core.initCCP = function (globalContainerDiv, paramsIn) {
    connect.assertNotNull(paramsIn.getPrimaryRegion, "getPrimaryRegion");
    connect.assertTrue(
      connect.isFunction(paramsIn.getPrimaryRegion),
      "getPrimaryRegion must be a function"
    );
    var getPrimaryRegionFunc = paramsIn.getPrimaryRegion;
    delete paramsIn.getPrimaryRegion;
    delete paramsIn.provider;

    var dualCcpResources = globalConnect.extractCcpRegionParams(globalContainerDiv, paramsIn);
    getPrimaryRegionFunc(
      function (primaryRegion) {
        return new Promise(resolve => {
          var initialRegion;
          if (paramsIn.pollForFailover) { // allow getPrimaryRegion function to pass a missing/untruthy region, if polling is enabled
            initialRegion = primaryRegion || paramsIn.region;
          } else {
            initialRegion = connect.assertNotNull(primaryRegion);
          }
          globalConnect.core.regions = dualCcpResources.reduce(function (obj, resource) {
            obj[resource.region] = { ccpParams: resource };
            return obj;
          }, {});
          var arnToRegionMap = dualCcpResources.reduce(function (obj, resource) {
            obj[resource.instanceArn] = resource.region;
            return obj;
          }, {});
          validateRegion(initialRegion, globalConnect.core.regions);
          globalConnect.core.primaryRegion = initialRegion;
          globalConnect.core.secondaryRegion = Object.keys(globalConnect.core.regions).find(function (
            region
          ) {
            return region != globalConnect.core.primaryRegion;
          });

          var containers = dualCcpResources.map(function (resource) {
            if (resource.region === globalConnect.core.primaryRegion) {
              resource.isPrimary = true;
            }
            return new globalConnect.Container(resource);
          });

          //Create global Iframe and attach ccp containers
          var ccpIframes = containers.map(function (container) {
            return container.ccp.outerHTML;
          });
          var globalIframe = document.createElement("iframe");
          globalIframe.style = GLOBALIFRAME_STYLE;
          globalIframe.allow = "microphone; camera; autoplay; clipboard-write; identity-credentials-get";
          globalIframe.id = GLOBALIFRAME_ID;
          globalIframe.scrolling = "no";

          // surface single instance connect api in main window
          globalIframe.onload = function () {
            activateUI(globalConnect.core.primaryRegion);
            deactivateUI(globalConnect.core.secondaryRegion);
            containers.map(function (container) {
              var regionalFrame = globalIframe.contentDocument.getElementById(container.id);
              var contentDocument = regionalFrame.contentDocument;
              var contentWindow = regionalFrame.contentWindow;
              // inject additionalScripts if specified
              if (paramsIn.additionalScripts && Array.isArray(paramsIn.additionalScripts)) {
                paramsIn.additionalScripts.forEach(script => {
                  var scriptElt = contentDocument.createElement('script');
                  scriptElt.src = script;
                  contentDocument.body.appendChild(scriptElt);
                });
              }
              // trigger initCCP
              contentWindow.init();
              var regionalConnect = contentWindow.connect;
              globalConnect.core.regions[container.id].connect = regionalConnect;
              //listen to failover state change from other window
              regionalConnect.core.getUpstream().onUpstream(regionalConnect.DisasterRecoveryEvents.FAILOVER, function (data) {
                if (data.nextActiveArn && globalConnect.core.secondaryRegion === arnToRegionMap[data.nextActiveArn]) {
                  switchDisplayedRegion(arnToRegionMap[data.nextActiveArn], globalConnect.core.primaryRegion);
                } else if (data.isPrimary === false && container.id === globalConnect.core.primaryRegion) {
                  switchDisplayedRegion(globalConnect.core.secondaryRegion, container.id);
                } else {
                  return; // failover request ignored
                }
                delete globalConnect._failoverPending;
                globalConnect._triggerFailoverCompleteHandlers({
                  activeRegion: globalConnect.core.primaryRegion,
                  activeCcpUrl: globalConnect.core.regions[globalConnect.core.primaryRegion].ccpParams.ccpUrl
                });
              });
              regionalConnect.core.getUpstream().onUpstream(regionalConnect.DisasterRecoveryEvents.FAILOVER_PENDING, function ({nextActiveArn}) {
                if (!globalConnect._failoverPending) {
                  globalConnect._triggerFailoverPendingHandlers({nextActiveArn});
                  globalConnect._failoverPending = true;
                }
              });
              if (container.id === globalConnect.core.primaryRegion) {
                window.connect = regionalConnect;
              }
              globalConnect._triggerInitHandlers(regionalConnect, container.id);
            });
            resolve(globalConnect.core.regions[globalConnect.core.primaryRegion].connect);
          };
          globalIframe.srcdoc = [
            "<!DOCTYPE html>",
            "<meta charset='UTF-8'>",
            "<html>",
              "<head>",
                "<style>",
                  "html, body { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}",
                "</style>",
              "</head>",
              "<body>",
              ccpIframes.join(""),
              "</body>",
            "</html>",
          ].join('');
          globalContainerDiv.appendChild(globalIframe);
        });
      },
      function (callback) {
        console.error(
          "[Disaster Recovery] An error occured, while attempting to retrieve your primary region;"
        );
        callback();
      }
    );
  };

  var switchDisplayedRegion = function(newPrimaryRegionId, newSecondaryRegionId) {
    globalConnect.core.primaryRegion = newPrimaryRegionId;
    globalConnect.core.secondaryRegion = newSecondaryRegionId;
    window.connect = globalConnect.core.regions[newPrimaryRegionId].connect;
    globalConnect.core.activate(newPrimaryRegionId);
    activateUI(newPrimaryRegionId);
    deactivateUI(newSecondaryRegionId);
  }

  var deactivateUI = function (regionID) {
    var renderedGlobalIframe = document.getElementById(GLOBALIFRAME_ID);
    renderedGlobalIframe.contentDocument.getElementById(regionID).style =
      "height: 0; width: 0; border: 0px";
  };

  var activateUI = function (regionID) {
    var renderedGlobalIframe = document.getElementById(GLOBALIFRAME_ID);
    renderedGlobalIframe.contentDocument.getElementById(regionID).style =
      "height:100%;width:100%;border:0px";
  };

  /**
   * Register a function to be triggered after globalConnect.core.initCCP() is invoked, and once the
   * Global Resiliency setup has been successfully initialized on the page and agents are able to begin
   * taking contacts. If you wish, you can set up hooks using this function before calling globalConnect.core.initCCP().
   *
   * @param f A function that will be triggered when the Global Resiliency setup has been
   * successfully initialized on the page and agents are able to begin taking contacts.
   *     The function will be called twice (once for each Connect instance in the setup), with two parameters:
   *     1. The Streams API object (the connect object) for one of the Connect instances in the Global Resiliency setup
   *     2. A string parameter with the AWS region associated with the Connect instance whose Streams API object
   *        was provided in the first parameter.
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onInit = function(f) {
    globalConnect.core._onInitHandlers = globalConnect.core._onInitHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._onInitHandlers[subId] = f;
    return () => delete globalConnect.core._onInitHandlers[subId];
  }

  globalConnect._triggerInitHandlers = function(connect, region) {
    const handlers = globalConnect.core._onInitHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(connect, region));
    }
  }

  /**
   * Register a function to be triggered when the UI changes to display a different region, and agents are able to
   * begin taking contacts in the new CCP region. If automatic region selection is in use for this multi-region setup,
   * this function will also be triggered when CCP is initialized and ready for use, if the region provided to the `getPrimaryRegion`
   * callback is not the currently active region for the agent.
   *
   * @param f A function that will be triggered when the UI changes to show CCP for a different region.
   *     The function will be called with an Object parameter with two properties:
   *     1. `activeRegion`: the string name of the AWS region for the newly-active CCP instance
   *     2. `activeCcpUrl`: the value of the `ccpUrl` parameter for the newly-active instance,
   *         as originally provided in the `initCCP()` parameters
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onFailoverComplete = function(f) {
    globalConnect.core._failoverCompleteHandlers = globalConnect.core._failoverCompleteHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._failoverCompleteHandlers[subId] = f;
    return () => delete globalConnect.core._failoverCompleteHandlers[subId];
  }

  globalConnect._triggerFailoverCompleteHandlers = function(data) {
    const handlers = globalConnect.core._failoverCompleteHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(data));
    }
  }

  /**
   * Register a function to be triggered when an active region change has been detected, when soft failover is enabled and
   * a voice contact is active. The UI will wait to change over to the new region until the active voice contact is destroyed.
   *
   * @param f A function that will be triggered when a soft failover has been scheduled to occur when the active voice contact is destroyed.
   *     The function will be called with an Object parameter with one property:
   *     1. `nextActiveArn`: the ARN of the Connect instance that will become active in the UI once the active voice contact is destroyed.
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onFailoverPending = function(f) {
    globalConnect.core._failoverPendingHandlers = globalConnect.core._failoverPendingHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._failoverPendingHandlers[subId] = f;
    return () => delete globalConnect.core._failoverPendingHandlers[subId];
  }

  globalConnect._triggerFailoverPendingHandlers = function(data) {
    const handlers = globalConnect.core._failoverPendingHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(data));
    }
  }

  /**
   * Download CCP agent logs from the CCP instances in this multi-region setup. A separate log file
   * will be produced for each instance. The options are the same as for `connect.getLog().download()`,
   * except each log name will be prefixed with the AWS region associated with that log's Connect instance.
   *
   * @param options Optional parameter of type Object, providing Download options:
   *     { logName: 'agent-log', // (the default name)
   *       filterByLogLevel: false // download all logs (the default)
   *     }
   *     e.g. in a multi-region setup with one CCP instance in us-west-2 and another in us-east-1, this will
   *     download two files: us-west-2-agent-log.txt and us-east-1-agent-log.txt.
   */
  globalConnect.core.downloadLogs = function(options) {
    if (globalConnect.core.regions && globalConnect.core.regions[globalConnect.core.primaryRegion]
        && globalConnect.core.regions[globalConnect.core.primaryRegion].connect) {
      Object.entries(globalConnect.core.regions).forEach(([region, {connect}]) => {
        const logName = `${region}-${options && options.logName || 'agent-log'}`;
        connect.getLog().download({logName, filterByLogLevel: options && options.filterByLogLevel});
      });
    } else {
      throw new Error("CCP is not initialized yet. Please call initCCP() first and wait until the getPrimaryRegion promise resolves.");
    }
  };

  globalConnect.core.failover = function (useSoftFailover) {
    globalConnect.core.failoverTo(globalConnect.core.secondaryRegion, useSoftFailover);
  };

  globalConnect.core.failoverTo = function (electedNewPrimaryRegion, useSoftFailover) {
    validateRegion(electedNewPrimaryRegion);
    if (electedNewPrimaryRegion === globalConnect.core.primaryRegion) {
      connect
        .getLog()
        .info(`[Disaster Recovery] Ignoring request to fail over to region ${electedNewPrimaryRegion} since it is already the currently active region.`)
        .sendInternalLogToServer();
    } else {
      globalConnect.core.deactivate(globalConnect.core.primaryRegion, useSoftFailover);
    }
  };

  /**-------------------------------------------------------------------------
   * Deactivates a region
   */
   globalConnect.core.deactivate = function (region, useSoftFailover) {
    var connect = globalConnect.core.regions[region].connect;
    connect
      .getLog()
      .info("[Disaster Recovery] Deactivating %s region.", region)
      .sendInternalLogToServer();
    // call this to suppress contacts
    if (connect.core.suppressContacts && connect.core.forceOffline) {
      connect.core.suppressContacts(true);
      connect.core.forceOffline({softFailover: useSoftFailover});
    } else {
      connect.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to deactivate region", region);
    }
  };

  /**-------------------------------------------------------------------------
   * Activates Stand-by region on failover using suppress==false event
   */
   globalConnect.core.activate = function (region) {
    var connect = globalConnect.core.regions[region].connect;
    connect
      .getLog()
      .info("[Disaster Recovery] Activating %s region.", region)
      .sendInternalLogToServer();
    if (connect.core.suppressContacts) {
      connect.core.suppressContacts(false);
    } else {
      connect.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to activate region", region);
    }
  };
})();

/***/ }),

/***/ 236:
/***/ (function() {

/*
 * JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

/* global define */

/* eslint-disable strict */

;(function ($) {
	var ctx = this || globalThis;

  /**
   * Add integers, wrapping at 2^32.
   * This uses 16-bit operations internally to work around bugs in interpreters.
   *
   * @param {number} x First integer
   * @param {number} y Second integer
   * @returns {number} Sum
   */
  function safeAdd(x, y) {
    var lsw = (x & 0xffff) + (y & 0xffff)
    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)
    return (msw << 16) | (lsw & 0xffff)
  }

  /**
   * Bitwise rotate a 32-bit number to the left.
   *
   * @param {number} num 32-bit number
   * @param {number} cnt Rotation count
   * @returns {number} Rotated number
   */
  function bitRotateLeft(num, cnt) {
    return (num << cnt) | (num >>> (32 - cnt))
  }

  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} q q
   * @param {number} a a
   * @param {number} b b
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5cmn(q, a, b, x, s, t) {
    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5ff(a, b, c, d, x, s, t) {
    return md5cmn((b & c) | (~b & d), a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5gg(a, b, c, d, x, s, t) {
    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5hh(a, b, c, d, x, s, t) {
    return md5cmn(b ^ c ^ d, a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5ii(a, b, c, d, x, s, t) {
    return md5cmn(c ^ (b | ~d), a, b, x, s, t)
  }

  /**
   * Calculate the MD5 of an array of little-endian words, and a bit length.
   *
   * @param {Array} x Array of little-endian words
   * @param {number} len Bit length
   * @returns {Array<number>} MD5 Array
   */
  function binlMD5(x, len) {
    /* append padding */
    x[len >> 5] |= 0x80 << len % 32
    x[(((len + 64) >>> 9) << 4) + 14] = len

    var i
    var olda
    var oldb
    var oldc
    var oldd
    var a = 1732584193
    var b = -271733879
    var c = -1732584194
    var d = 271733878

    for (i = 0; i < x.length; i += 16) {
      olda = a
      oldb = b
      oldc = c
      oldd = d

      a = md5ff(a, b, c, d, x[i], 7, -680876936)
      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)
      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)
      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)
      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)
      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)
      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)
      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)
      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)
      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)
      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)
      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)
      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)
      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)
      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)
      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)

      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)
      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)
      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)
      b = md5gg(b, c, d, a, x[i], 20, -373897302)
      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)
      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)
      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)
      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)
      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)
      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)
      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)
      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)
      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)
      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)
      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)
      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)

      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)
      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)
      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)
      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)
      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)
      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)
      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)
      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)
      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)
      d = md5hh(d, a, b, c, x[i], 11, -358537222)
      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)
      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)
      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)
      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)
      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)
      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)

      a = md5ii(a, b, c, d, x[i], 6, -198630844)
      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)
      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)
      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)
      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)
      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)
      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)
      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)
      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)
      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)
      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)
      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)
      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)
      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)
      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)
      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)

      a = safeAdd(a, olda)
      b = safeAdd(b, oldb)
      c = safeAdd(c, oldc)
      d = safeAdd(d, oldd)
    }
    return [a, b, c, d]
  }

  /**
   * Convert an array of little-endian words to a string
   *
   * @param {Array<number>} input MD5 Array
   * @returns {string} MD5 string
   */
  function binl2rstr(input) {
    var i
    var output = ''
    var length32 = input.length * 32
    for (i = 0; i < length32; i += 8) {
      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)
    }
    return output
  }

  /**
   * Convert a raw string to an array of little-endian words
   * Characters >255 have their high-byte silently ignored.
   *
   * @param {string} input Raw input string
   * @returns {Array<number>} Array of little-endian words
   */
  function rstr2binl(input) {
    var i
    var output = []
    output[(input.length >> 2) - 1] = undefined
    for (i = 0; i < output.length; i += 1) {
      output[i] = 0
    }
    var length8 = input.length * 8
    for (i = 0; i < length8; i += 8) {
      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32
    }
    return output
  }

  /**
   * Calculate the MD5 of a raw string
   *
   * @param {string} s Input string
   * @returns {string} Raw MD5 string
   */
  function rstrMD5(s) {
    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))
  }

  /**
   * Calculates the HMAC-MD5 of a key and some data (raw strings)
   *
   * @param {string} key HMAC key
   * @param {string} data Raw input string
   * @returns {string} Raw MD5 string
   */
  function rstrHMACMD5(key, data) {
    var i
    var bkey = rstr2binl(key)
    var ipad = []
    var opad = []
    var hash
    ipad[15] = opad[15] = undefined
    if (bkey.length > 16) {
      bkey = binlMD5(bkey, key.length * 8)
    }
    for (i = 0; i < 16; i += 1) {
      ipad[i] = bkey[i] ^ 0x36363636
      opad[i] = bkey[i] ^ 0x5c5c5c5c
    }
    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)
    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))
  }

  /**
   * Convert a raw string to a hex string
   *
   * @param {string} input Raw input string
   * @returns {string} Hex encoded string
   */
  function rstr2hex(input) {
    var hexTab = '0123456789abcdef'
    var output = ''
    var x
    var i
    for (i = 0; i < input.length; i += 1) {
      x = input.charCodeAt(i)
      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)
    }
    return output
  }

  /**
   * Encode a string as UTF-8
   *
   * @param {string} input Input string
   * @returns {string} UTF8 string
   */
  function str2rstrUTF8(input) {
    return unescape(encodeURIComponent(input))
  }

  /**
   * Encodes input string as raw MD5 string
   *
   * @param {string} s Input string
   * @returns {string} Raw MD5 string
   */
  function rawMD5(s) {
    return rstrMD5(str2rstrUTF8(s))
  }
  /**
   * Encodes input string as Hex encoded string
   *
   * @param {string} s Input string
   * @returns {string} Hex encoded string
   */
  function hexMD5(s) {
    return rstr2hex(rawMD5(s))
  }
  /**
   * Calculates the raw HMAC-MD5 for the given key and data
   *
   * @param {string} k HMAC key
   * @param {string} d Input string
   * @returns {string} Raw MD5 string
   */
  function rawHMACMD5(k, d) {
    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))
  }
  /**
   * Calculates the Hex encoded HMAC-MD5 for the given key and data
   *
   * @param {string} k HMAC key
   * @param {string} d Input string
   * @returns {string} Raw MD5 string
   */
  function hexHMACMD5(k, d) {
    return rstr2hex(rawHMACMD5(k, d))
  }

  /**
   * Calculates MD5 value for a given string.
   * If a key is provided, calculates the HMAC-MD5 value.
   * Returns a Hex encoded string unless the raw argument is given.
   *
   * @param {string} string Input string
   * @param {string} [key] HMAC key
   * @param {boolean} [raw] Raw output switch
   * @returns {string} MD5 output
   */
  function md5(string, key, raw) {
    if (!key) {
      if (!raw) {
        return hexMD5(string)
      }
      return rawMD5(string)
    }
    if (!raw) {
      return hexHMACMD5(key, string)
    }
    return rawHMACMD5(key, string)
  }

	ctx.md5 = md5
})(this)

/***/ }),

/***/ 790:
/***/ (() => {

/*! @license sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */

(function() {
   var ctx = this || globalThis;

	var sprintf = function() {
		if (!sprintf.cache.hasOwnProperty(arguments[0])) {
			sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);
		}
		return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);
	};

	sprintf.format = function(parse_tree, argv) {
		var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;
		for (i = 0; i < tree_length; i++) {
			node_type = get_type(parse_tree[i]);
			if (node_type === 'string') {
				output.push(parse_tree[i]);
			}
			else if (node_type === 'array') {
				match = parse_tree[i]; // convenience purposes only
				if (match[2]) { // keyword argument
					arg = argv[cursor];
					for (k = 0; k < match[2].length; k++) {
						if (!arg.hasOwnProperty(match[2][k])) {
							throw(sprintf('[sprintf] property "%s" does not exist', match[2][k]));
						}
						arg = arg[match[2][k]];
					}
				}
				else if (match[1]) { // positional argument (explicit)
					arg = argv[match[1]];
				}
				else { // positional argument (implicit)
					arg = argv[cursor++];
				}

				if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {
					throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));
				}
				switch (match[8]) {
					case 'b': arg = arg.toString(2); break;
					case 'c': arg = String.fromCharCode(arg); break;
					case 'd': arg = parseInt(arg, 10); break;
					case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;
					case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;
					case 'o': arg = arg.toString(8); break;
					case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;
					case 'u': arg = arg >>> 0; break;
					case 'x': arg = arg.toString(16); break;
					case 'X': arg = arg.toString(16).toUpperCase(); break;
				}
				arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);
				pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';
				pad_length = match[6] - String(arg).length;
				pad = match[6] ? str_repeat(pad_character, pad_length) : '';
				output.push(match[5] ? arg + pad : pad + arg);
			}
		}
		return output.join('');
	};

	sprintf.cache = {};

	sprintf.parse = function(fmt) {
		var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;
		while (_fmt) {
			if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
				parse_tree.push(match[0]);
			}
			else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
				parse_tree.push('%');
			}
			else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
				if (match[2]) {
					arg_names |= 1;
					var field_list = [], replacement_field = match[2], field_match = [];
					if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
						field_list.push(field_match[1]);
						while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {
							if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else {
								throw('[sprintf] huh?');
							}
						}
					}
					else {
						throw('[sprintf] huh?');
					}
					match[2] = field_list;
				}
				else {
					arg_names |= 2;
				}
				if (arg_names === 3) {
					throw('[sprintf] mixing positional and named placeholders is not (yet) supported');
				}
				parse_tree.push(match);
			}
			else {
				throw('[sprintf] huh?');
			}
			_fmt = _fmt.substring(match[0].length);
		}
		return parse_tree;
	};

	var vsprintf = function(fmt, argv, _argv) {
		_argv = argv.slice(0);
		_argv.splice(0, 0, fmt);
		return sprintf.apply(null, _argv);
	};

	/**
	 * helpers
	 */
	function get_type(variable) {
		return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
	}

	function str_repeat(input, multiplier) {
		for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}
		return output.join('');
	}

	/**
	 * export to either browser or node.js
	 */
	ctx.sprintf = sprintf;
	ctx.vsprintf = vsprintf;
})();



/***/ }),

/***/ 94:
/***/ (() => {

/*
 * Copyright 2014-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  global.connect = connect;
  global.lily = connect;

  var userAgent = navigator.userAgent;
  var ONE_DAY_MILLIS = 24 * 60 * 60 * 1000;
  var DEFAULT_POPUP_HEIGHT = 578;
  var DEFAULT_POPUP_WIDTH = 433;
  var COPYABLE_EVENT_FIELDS = ["bubbles", "cancelBubble", "cancelable", "composed", "data", "defaultPrevented", "eventPhase", "isTrusted", "lastEventId", "origin", "returnValue", "timeStamp", "type"];

  /**
   * Unpollute sprintf functions from the global namespace.
   */
  connect.sprintf = global.sprintf;
  connect.vsprintf = global.vsprintf;
  delete global.sprintf;
  delete global.vsprintf;

  connect.HTTP_STATUS_CODES = {
    SUCCESS: 200,
    UNAUTHORIZED: 401,
    ACCESS_DENIED: 403,
    TOO_MANY_REQUESTS: 429,
    INTERNAL_SERVER_ERROR: 500
  };

  connect.TRANSPORT_TYPES = {
    CHAT_TOKEN: "chat_token",
    WEB_SOCKET: "web_socket",
    AGENT_DISCOVERY: "agent_discovery",
    WEB_RTC: "web_rtc"
  };

  /**
   * Binds the given instance object as the context for
   * the method provided.
   *
   * @param scope The instance object to be set as the scope
   *    of the function.
   * @param method The method to be encapsulated.
   *
   * All other arguments, if any, are bound to the method
   * invocation inside the closure.
   *
   * @return A closure encapsulating the invocation of the
   *    method provided in context of the given instance.
   */
  connect.hitch = function () {
    var args = Array.prototype.slice.call(arguments);
    var scope = args.shift();
    var method = args.shift();

    connect.assertNotNull(scope, 'scope');
    connect.assertNotNull(method, 'method');
    connect.assertTrue(connect.isFunction(method), 'method must be a function');

    return function () {
      var closureArgs = Array.prototype.slice.call(arguments);
      return method.apply(scope, args.concat(closureArgs));
    };
  };

  /**
   * Determine if the given value is a callable function type.
   * Borrowed from Underscore.js.
   */
  connect.isFunction = function (obj) {
    return !!(obj && obj.constructor && obj.call && obj.apply);
  };

  /**
   * Determine if the given value is an array.
   */
  connect.isArray = function (obj) {
    return Object.prototype.toString.call(obj) === '[object Array]';
  };

  /**
   * Get a list of keys from a Javascript object used
   * as a hash map.
   */
  connect.keys = function (map) {
    var keys = [];

    connect.assertNotNull(map, 'map');

    for (var k in map) {
      keys.push(k);
    }

    return keys;
  };

  /**
   * Get a list of values from a Javascript object used
   * as a hash map.
   */
  connect.values = function (map) {
    var values = [];

    connect.assertNotNull(map, 'map');

    for (var k in map) {
      values.push(map[k]);
    }

    return values;
  };

  /**
   * Get a list of key/value pairs from the given map.
   */
  connect.entries = function (map) {
    var entries = [];

    for (var k in map) {
      entries.push({ key: k, value: map[k] });
    }

    return entries;
  };

  /**
   * Merge two or more maps together into a new map,
   * or simply copy a single map.
   */
  connect.merge = function () {
    var argMaps = Array.prototype.slice.call(arguments, 0);
    var resultMap = {};

    argMaps.forEach(function (map) {
      connect.entries(map).forEach(function (kv) {
        resultMap[kv.key] = kv.value;
      });
    });

    return resultMap;
  };

  connect.now = function () {
    return new Date().getTime();
  };

  connect.find = function (array, predicate) {
    for (var x = 0; x < array.length; x++) {
      if (predicate(array[x])) {
        return array[x];
      }
    }

    return null;
  };

  connect.contains = function (obj, value) {
    if (obj instanceof Array) {
      return connect.find(obj, function (v) { return v === value; }) != null;

    } else {
      return (value in obj);
    }
  };

  connect.containsValue = function (obj, value) {
    if (obj instanceof Array) {
      return connect.find(obj, function (v) { return v === value; }) != null;

    } else {
      return connect.find(connect.values(obj), function (v) { return v === value; }) != null;
    }
  };

  /**
   * Generate a random ID consisting of the current timestamp
   * and a random base-36 number based on Math.random().
   */
  connect.randomId = function () {
    return connect.sprintf("%s-%s", connect.now(), Math.random().toString(36).slice(2));
  };

  /**
   * Generate an enum from the given list of lower-case enum values,
   * where the enum keys will be upper case.
   *
   * Conversion from pascal case based on code from here:
   * http://stackoverflow.com/questions/30521224
   */
  connect.makeEnum = function (values) {
    var enumObj = {};

    values.forEach(function (value) {
      var key = value.replace(/\.?([a-z]+)_?/g, function (x, y) { return y.toUpperCase() + "_"; })
        .replace(/_$/, "");

      enumObj[key] = value;
    });

    return enumObj;
  };

  connect.makeNamespacedEnum = function (prefix, values) {
    var enumObj = connect.makeEnum(values);
    connect.keys(enumObj).forEach(function (key) {
      enumObj[key] = connect.sprintf("%s::%s", prefix, enumObj[key]);
    });
    return enumObj;
  };

  connect.makeGenericNamespacedEnum = function (prefix, values, delimiter) {
    var enumObj = connect.makeEnum(values);
    connect.keys(enumObj).forEach(function (key) {
      enumObj[key] = connect.sprintf("%s"+delimiter+"%s", prefix, enumObj[key]);
    });
    return enumObj;
  };

  /**
  * Methods to determine browser type and versions, used for softphone initialization.
  */

  /*
    This will also return True for Edge and Opera since they
    include Chrome in the user agent string, as they are built
    off of Chrome.
  */
  connect.isChromeBrowser = function () {
    return userAgent.indexOf("Chrome") !== -1;
  };

  connect.isFirefoxBrowser = function () {
    return userAgent.indexOf("Firefox") !== -1;
  };

  connect.isOperaBrowser = function () {
    return userAgent.indexOf("Opera") !== -1;
  };

  connect.isEdgeBrowser = function () {
    return userAgent.indexOf("Edg") !== -1;
  };

  connect.getChromeBrowserVersion = function () {
    var chromeVersion = userAgent.substring(userAgent.indexOf("Chrome") + 7);
    if (chromeVersion) {
      return parseFloat(chromeVersion);
    } else {
      return -1;
    }
  };

  connect.getFirefoxBrowserVersion = function () {
    var firefoxVersion = userAgent.substring(userAgent.indexOf("Firefox") + 8);
    if (firefoxVersion) {
      return parseFloat(firefoxVersion);
    } else {
      return -1;
    }
  };

  connect.isValidLocale = function (locale) {
    var languages = [
      {
        id: 'en_US',
        label: 'English'
      },
      {
        id: 'de_DE',
        label: 'Deutsch'
      },
      {
        id: 'es_ES',
        label: 'Español'
      },
      {
        id: 'fr_FR',
        label: 'Français'
      },
      {
        id: 'ja_JP',
        label: '日本語'
      },
      {
        id: 'it_IT',
        label: 'Italiano'
      },
      {
        id: 'ko_KR',
        label: '한국어'
      },
      {
        id: 'pt_BR',
        label: 'Português'
      },
      {
        id: 'zh_CN',
        label: '中文(简体)'
      },
      {
        id: 'zh_TW',
        label: '中文(繁體)'
      }
    ];
    return languages.map(function(language){ return language.id}).includes(locale);
  }

  connect.getOperaBrowserVersion = function () {
    var versionOffset = userAgent.indexOf("Opera");
    var operaVersion = (userAgent.indexOf("Version") !== -1) ? userAgent.substring(versionOffset + 8) : userAgent.substring(versionOffset + 6);
    if (operaVersion) {
      return parseFloat(operaVersion);
    } else {
      return -1;
    }
  };

  /**
   * Return a map of items in the given list indexed by
   * keys determined by the closure provided.
   *
   * @param iterable A list-like object.
   * @param closure A closure to determine the index for the
   *    items in the iterable.
   * @return A map from index to item for each item in the iterable.
   */
  connect.index = function (iterable, closure) {
    var map = {};

    iterable.forEach(function (item) {
      map[closure(item)] = item;
    });

    return map;
  };

  /**
   * Converts the given array into a map as a set,
   * where elements in the array are mapped to 1.
   */
  connect.set = function (arrayIn) {
    var setMap = {};

    arrayIn.forEach(function (key) {
      setMap[key] = 1;
    });

    return setMap;
  };

  /**
   * Returns a map for each key in mapB which
   * is NOT in mapA.
   */
  connect.relativeComplement = function (mapA, mapB) {
    var compMap = {};

    connect.keys(mapB).forEach(function (key) {
      if (!(key in mapA)) {
        compMap[key] = mapB[key];
      }
    });

    return compMap;
  };

  /**
   * Asserts that a premise is true.
   */
  connect.assertTrue = function (premise, message) {
    if (!premise) {
      throw new connect.ValueError(message);
    }
  };

  /**
   * Asserts that a value is not null or undefined.
   */
  connect.assertNotNull = function (value, name) {
    connect.assertTrue(value != null && typeof value !== undefined,
      connect.sprintf("%s must be provided", name || 'A value'));
    return value;
  };

  connect.deepcopy = function (src) {
    return JSON.parse(JSON.stringify(src));
  };

  connect.deepcopyCrossOriginEvent = function(event) {
    const obj = {};
    const listOfAcceptableKeys = COPYABLE_EVENT_FIELDS;
    listOfAcceptableKeys.forEach((key) => {
      try {
        obj[key] = event[key];
      }
      catch(e) {
        connect.getLog().info("deepcopyCrossOriginEvent failed on key: ", key).sendInternalLogToServer();
      }
    });
    return connect.deepcopy(obj);
  }

  /**
   * Get the current base url of the open page, e.g. if the page is
   * https://example.com:9494/oranges, this will be "https://example.com:9494".
   */
  connect.getBaseUrl = function () {
    var location = global.location;
    return connect.sprintf("%s//%s:%s", location.protocol, location.hostname, location.port);
  };

  connect.getUrlWithProtocol = function(url) {
    var protocol = global.location.protocol;
    if (url.substr(0, protocol.length) !== protocol) {
      return connect.sprintf("%s//%s", protocol, url);
    }
    return url;
  }

  /**
   * Determine if the current window is in an iframe.
   * Courtesy: http://stackoverflow.com/questions/326069/
   */
  connect.isFramed = function () {
    try {
      return window.self !== window.top;
    } catch (e) {
      return true;
    }
  };

  connect.hasOtherConnectedCCPs = function () {
    return connect.numberOfConnectedCCPs > 1;
  }

  connect.fetch = function (endpoint, options, milliInterval, maxRetry) {
    maxRetry = maxRetry || 5;
    milliInterval = milliInterval || 1000;
    options = options || {};
    return new Promise(function (resolve, reject) {
      function fetchData(maxRetry) {
        fetch(endpoint, options).then(function (res) {
          if (res.status === connect.HTTP_STATUS_CODES.SUCCESS) {
            res.json().then(json => resolve(json)).catch(() => resolve({}));
          } else if (maxRetry !== 1 && (res.status >= connect.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR || res.status === connect.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)) {
            setTimeout(function () {
              fetchData(--maxRetry);
            }, milliInterval);
          } else {
            reject(res);
          }
        }).catch(function (e) {
          reject(e);
        });
      }
      fetchData(maxRetry);
    });
  };

  connect.fetchWithTimeout = async function(endpoint, timeoutMs, options, milliInterval, maxRetry) {
    options = options || {};
    if (!timeoutMs) {
      return connect.fetch(endpoint, options, milliInterval, maxRetry);
    }
    const controller = new AbortController();
    const id = setTimeout(() => controller.abort(), timeoutMs);
    const response = await connect.fetch(endpoint, {
      ...options,
      signal: controller.signal
    }, milliInterval, maxRetry);
    clearTimeout(id);
    return response;
  }

  /**
   * Calling a function with exponential backoff with full jitter retry strategy
   * It will retry calling the function for maximum maxRetry times if it fails.
   * Success callback will be called if the function succeeded.
   * Failure callback will be called only if the last try failed.
   */
  connect.backoff = function (func, milliInterval, maxRetry, callbacks) {
    connect.assertTrue(connect.isFunction(func), "func must be a Function");
    var self = this;
    var ratio = 2;

    func({
      success: function (data) {
        if (callbacks && callbacks.success) {
          callbacks.success(data);
        }
      },
      failure: function (err, data) {
        if (maxRetry > 0) {
          var interval = milliInterval * 2 * Math.random();
          global.setTimeout(function () {
            self.backoff(func, interval * ratio, --maxRetry, callbacks);
          }, interval);
        } else {
          if (callbacks && callbacks.failure) {
            callbacks.failure(err, data);
          }
        }
      }
    });
  };

  connect.publishMetric = function (metricData) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.CLIENT_METRIC,
      data: metricData
    });
  };

  connect.publishSoftphoneStats = function(stats) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.SOFTPHONE_STATS,
      data: stats
    });
  };

  connect.publishSoftphoneReport = function(report) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.SOFTPHONE_REPORT,
      data: report
    });
  };

  connect.publishClickStreamData = function(report) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.CLICK_STREAM_DATA,
      data: report
    });
  };

  connect.publishClientSideLogs = function(logs) {
    var bus = connect.core.getEventBus();
    bus.trigger(connect.EventType.CLIENT_SIDE_LOGS, logs);
  };

  connect.addNamespaceToLogs = function(namespace) {
    const methods = ['log', 'error', 'warn', 'info', 'debug'];

    methods.forEach((method) => {
      const consoleMethod = window.console[method];
      window.console[method] = function () {
        const args = Array.from(arguments);
        args.unshift(`[${namespace}]`);
        consoleMethod.apply(window.console, args);
      };
    });
  };

  /**
   * A wrapper around Window.open() for managing single instance popups.
   */
  connect.PopupManager = function () { };

  connect.PopupManager.prototype.open = function (url, name, options) {
    var win = null;
    if (options) {
      // default values are chosen to provide a minimum height without scrolling
      // and a uniform margin based on the css of the ccp login page
      var height = options.height || DEFAULT_POPUP_HEIGHT;
      var width = options.width || DEFAULT_POPUP_WIDTH;
      var top = options.top || 0;
      var left = options.left || 0;
      win = window.open('', name, "width="+width+", height="+height+", top="+top+", left="+left);
      if (win.location !== url) {
        win = window.open(url, name, "width="+width+", height="+height+", top="+top+", left="+left);
      }
    } else {
      win = window.open('', name);
      if (win.location !== url) {
        win = window.open(url, name);
      }
    }
    return win;
  };

  connect.PopupManager.prototype.clear = function (name) {
    var key = this._getLocalStorageKey(name);
    global.localStorage.removeItem(key);
  };

  connect.PopupManager.prototype._getLastOpenedTimestamp = function (name) {
    var key = this._getLocalStorageKey(name);
    var value = global.localStorage.getItem(key);

    if (value) {
      return parseInt(value, 10);

    } else {
      return 0;
    }
  };

  connect.PopupManager.prototype._setLastOpenedTimestamp = function (name, ts) {
    var key = this._getLocalStorageKey(name);
    global.localStorage.setItem(key, '' + ts);
  };

  connect.PopupManager.prototype._getLocalStorageKey = function (name) {
    return "connectPopupManager::" + name;
  };

  /**
   * An enumeration of the HTML5 notification permission values.
   */
  var NotificationPermission = connect.makeEnum([
    'granted',
    'denied',
    'default'
  ]);

  /**
   * A simple engine for showing notification popups.
   */
  connect.NotificationManager = function () {
    this.queue = [];
    this.permission = NotificationPermission.DEFAULT;
  };

  connect.NotificationManager.prototype.requestPermission = function () {
    var self = this;
    if (!("Notification" in global)) {
      connect.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer();
      this.permission = NotificationPermission.DENIED;

    } else if (global.Notification.permission === NotificationPermission.DENIED) {
      connect.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer();
      this.permission = NotificationPermission.DENIED;

    } else if (this.permission !== NotificationPermission.GRANTED) {
      global.Notification.requestPermission().then(function (permission) {
        self.permission = permission;
        if (permission === NotificationPermission.GRANTED) {
          self._showQueued();

        } else {
          self.queue = [];
        }
      });
    }
  };

  connect.NotificationManager.prototype.show = function (title, options) {
    if (this.permission === NotificationPermission.GRANTED) {
      return this._showImpl({ title: title, options: options });

    } else if (this.permission === NotificationPermission.DENIED) {
      connect.getLog().warn("Unable to show notification.")
        .sendInternalLogToServer()
        .withObject({
          title: title,
          options: options
        });

    } else {
      var params = { title: title, options: options };
      connect.getLog().warn("Deferring notification until user decides to allow or deny.")
        .withObject(params)
        .sendInternalLogToServer();
      this.queue.push(params);
    }
  };

  connect.NotificationManager.prototype._showQueued = function () {
    var self = this;
    var notifications = this.queue.map(function (params) {
      return self._showImpl(params);
    });
    this.queue = [];
    return notifications;
  };

  connect.NotificationManager.prototype._showImpl = function (params) {
    var notification = new global.Notification(params.title, params.options);
    if (params.options.clicked) {
      notification.onclick = function () {
        params.options.clicked.call(notification);
      };
    }
    return notification;
  };

  connect.ValueError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.ValueError.prototype);
    return instance;
  };
  Object.setPrototypeOf(connect.ValueError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.ValueError, Error);
  connect.ValueError.prototype.name = 'ValueError';

  connect.NotImplementedError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.NotImplementedError.prototype);
    return instance;
  };
  Object.setPrototypeOf(connect.NotImplementedError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.NotImplementedError, Error);
  connect.NotImplementedError.prototype.name = 'NotImplementedError';

  connect.StateError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.StateError.prototype);
    return instance;
  }
  Object.setPrototypeOf(connect.StateError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.StateError, Error);
  connect.StateError.prototype.name = 'StateError';



  connect.VoiceIdError = function(type, message, err){
    var error = {};
    error.type = type;
    error.message = message;
    error.stack = Error(message).stack;
    error.err = err;
    return error;
  }

  // internal use only
  connect.isCCP = function () {
    if (!connect.core.upstream) {
      return false;
    }
    var conduit = connect.core.getUpstream();
    return conduit.name === 'ConnectSharedWorkerConduit';
  }

  connect.isSharedWorker = function () {
    return connect.worker && !!connect.worker.clientEngine;
  }

  connect.isCRM = function () {
    if (!connect.core.upstream) {
      return false;
    }
    return connect.core.getUpstream() instanceof connect.IFrameConduit || connect.core.getUpstream() instanceof connect.GRProxyIframeConduit;
  }
  
  // internal use only
  connect.isActiveConduit = function (conduit) {
    const grProxyConduit = connect.core.getUpstream();
    if (grProxyConduit instanceof connect.GRProxyIframeConduit) {
      return conduit.name === grProxyConduit.activeRegionUrl;
    } else {
      connect.getLog().debug('connect.isActiveConduit is called but there is no GR proxy conduit').sendInternalLogToServer();
      return true;
    }
  }
})();


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	__webpack_modules__[790]();
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_modules__[236]();
/******/ 	__webpack_modules__[94]();
/******/ 	__webpack_modules__[296]();
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__[96]();
/******/ 	
/******/ })()
;