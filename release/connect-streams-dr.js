/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 296:
/***/ (() => {

/*
 * Copyright 2014-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  global.connect = connect;
  global.globalConnect = {}
  global.lily = connect;

  globalConnect.Container = null;

  var FRAME_DIMENSIONS = "margin: 0; border: 0; padding: 0px; width: 0px; height: 0px";
  var LATEST_STREAMJS_BASE64_CODE = "KCgpPT57dmFyIGU9ezU3ODooZSx0LG4pPT57InVzZSBzdHJpY3QiO24ucih0KSxuLmQodCx7QWN0aXZpdHlSb3V0ZXM6KCk9Pm8sQWN0aXZpdHlUb3BpY0tleXM6KCk9PmcsU2Vzc2lvbkV4cGlyYXRpb25XYXJuaW5nQ2xpZW50OigpPT5mLGFjdGl2aXR5TmFtZXNwYWNlOigpPT5yLHNlbmRBY3Rpdml0eTooKT0+aH0pO2NvbnN0IHI9ImF3cy5jb25uZWN0LmFjdGl2aXR5Ijt2YXIgbzshZnVuY3Rpb24oZSl7ZS5zZW5kQWN0aXZpdHk9InNlbmRBY3Rpdml0eSJ9KG98fChvPXt9KSk7dmFyIGk9bigyMzgpLHM9bigxODEpLGE9bi5uKHMpLGM9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NvbnN0IHU9MWUzO2xldCBsLHAsZD0wO2Z1bmN0aW9uIGgoZSl7aWYoIXApe2w9bmV3IGkucGcoe3Byb3ZpZGVyOmUsc291cmNlOnJ9KSxsLmRlYnVnKCJDcmVhdGluZyBhY3Rpdml0eSBjYWxsYmFjay4uIik7Y29uc3QgdD0oKT0+eyFmdW5jdGlvbihlKXtjKHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtwcm92aWRlcjplfSl7dHJ5e3lpZWxkIGUuZ2V0UHJveHkoKS5yZXF1ZXN0KHIsby5zZW5kQWN0aXZpdHkpLGQ9MH1jYXRjaChlKXtkPDUmJihsLmVycm9yKCJGYWlsZWQgdG8gcmVjb3JkIGFnZW50IGFjdGl2aXR5Iix7ZXJyb3I6ZSxlcnJvckNvdW50OmR9KSxkKyspfX0pKX0oe3Byb3ZpZGVyOmV9KX07cD1hKCkodCx1LHtsZWFkaW5nOiEwLHRyYWlsaW5nOiExfSl9cCgpfXZhciBnOyFmdW5jdGlvbihlKXtlLmV4cGlyYXRpb25XYXJuaW5nPSJleHBpcmF0aW9uLXdhcm5pbmciLGUuZXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkPSJleHBpcmF0aW9uLXdhcm5pbmctY2xlYXJlZCIsZS5zZXNzaW9uRXh0ZW5zaW9uRXJyb3I9InNlc3Npb24tZXh0ZW5zaW9uLWVycm9yIn0oZ3x8KGc9e30pKTtjbGFzcyBmIGV4dGVuZHMgaS5DJHtjb25zdHJ1Y3RvcihlKXtzdXBlcihyLGUpfW9uRXhwaXJhdGlvbldhcm5pbmcoZSl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmcuZXhwaXJhdGlvbldhcm5pbmd9LGUpfW9mZkV4cGlyYXRpb25XYXJuaW5nKGUpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmcuZXhwaXJhdGlvbldhcm5pbmd9LGUpfW9uRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpnLmV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZH0sZSl9b2ZmRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmcuZXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkfSxlKX1vblNlc3Npb25FeHRlbnNpb25FcnJvcihlKXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6Zy5zZXNzaW9uRXh0ZW5zaW9uRXJyb3J9LGUpfW9mZlNlc3Npb25FeHRlbnNpb25FcnJvcihlKXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpnLnNlc3Npb25FeHRlbnNpb25FcnJvcn0sZSl9fX0sNzkxOihlLHQsbik9PnsidXNlIHN0cmljdCI7bi5yKHQpLG4uZCh0LHtBZ2VudENsaWVudDooKT0+cCxBZ2VudFJvdXRlczooKT0+aSxBZ2VudFRvcGljS2V5OigpPT5jLENvbnRhY3RDbGllbnQ6KCk9PmYsQ29udGFjdExpZmVjeWNsZVRvcGljS2V5OigpPT5hLENvbnRhY3RSb3V0ZXM6KCk9PnMsQ29udGFjdFN0YXRlVHlwZTooKT0+ZCxDb250YWN0VG9waWNLZXk6KCk9PnUsUGFydGljaXBhbnRTdGF0ZVR5cGU6KCk9PmgsY29udGFjdE5hbWVzcGFjZTooKT0+b30pO3ZhciByPW4oMjM4KTtjb25zdCBvPSJhd3MuY29ubmVjdC5jb250YWN0Ijt2YXIgaSxzLGEsYyx1OyFmdW5jdGlvbihlKXtlLmdldEFSTj0iYWdlbnQvZ2V0QVJOIixlLmdldE5hbWU9ImFnZW50L2dldE5hbWUiLGUuZ2V0U3RhdGU9ImFnZW50L2dldFN0YXRlIixlLmdldFJvdXRpbmdQcm9maWxlPSJhZ2VudC9nZXRSb3V0aW5nUHJvZmlsZSIsZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ImFnZW50L2dldENoYW5uZWxDb25jdXJyZW5jeSIsZS5nZXRFeHRlbnNpb249ImFnZW50L2dldEV4dGVuc2lvbiIsZS5nZXREaWFsYWJsZUNvdW50cmllcz0iYWdlbnQvZ2V0RGlhbGFibGVDb3VudHJpZXMiLGUuc2V0QXZhaWxhYmlsaXR5U3RhdGU9ImFnZW50L3NldEF2YWlsYWJpbGl0eVN0YXRlIixlLnNldEF2YWlsYWJpbGl0eVN0YXRlQnlOYW1lPSJhZ2VudC9zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZSIsZS5zZXRPZmZsaW5lPSJhZ2VudC9zZXRPZmZsaW5lIixlLmxpc3RBdmFpbGFiaWxpdHlTdGF0ZXM9ImFnZW50L2xpc3RBdmFpbGFiaWxpdHlTdGF0ZXMiLGUubGlzdFF1aWNrQ29ubmVjdHM9ImFnZW50L2xpc3RRdWlja0Nvbm5lY3RzIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLmdldEF0dHJpYnV0ZXM9ImNvbnRhY3QvZ2V0QXR0cmlidXRlcyIsZS5nZXRJbml0aWFsQ29udGFjdElkPSJjb250YWN0L2dldEluaXRpYWxDb250YWN0SWQiLGUuZ2V0VHlwZT0iY29udGFjdC9nZXRUeXBlIixlLmdldFN0YXRlRHVyYXRpb249ImNvbnRhY3QvZ2V0U3RhdGVEdXJhdGlvbiIsZS5nZXRRdWV1ZT0iY29udGFjdC9nZXRRdWV1ZSIsZS5nZXRRdWV1ZVRpbWVzdGFtcD0iY29udGFjdC9nZXRRdWV1ZVRpbWVzdGFtcCIsZS5nZXREZXNjcmlwdGlvbj0iY29udGFjdC9nZXREZXNjcmlwdGlvbiIsZS5nZXRSZWZlcmVuY2VzPSJjb250YWN0L2dldFJlZmVyZW5jZXMiLGUuZ2V0Q2hhbm5lbFR5cGU9ImNvbnRhY3QvZ2V0Q2hhbm5lbFR5cGUiLGUuYWRkUGFydGljaXBhbnQ9ImNvbnRhY3QvYWRkUGFydGljaXBhbnQiLGUudHJhbnNmZXI9ImNvbnRhY3QvdHJhbnNmZXIiLGUuYWNjZXB0PSJjb250YWN0L2FjY2VwdCIsZS5jbGVhcj0iY29udGFjdC9jbGVhciIsZS5pc1ByZXZpZXdNb2RlPSJjb250YWN0L2lzUHJldmlld01vZGUiLGUuZ2V0UHJldmlld0NvbmZpZ3VyYXRpb249ImNvbnRhY3QvZ2V0UHJldmlld0NvbmZpZ3VyYXRpb24iLGUuZW5nYWdlUHJldmlld0NvbnRhY3Q9ImNvbnRhY3QvZW5nYWdlUHJldmlld0NvbnRhY3QifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhcnRpbmdBQ1c9ImNvbnRhY3QvYWN3IixlLkNvbm5lY3RlZD0iY29udGFjdC9jb25uZWN0ZWQiLGUuRGVzdHJveWVkPSJjb250YWN0L2Rlc3Ryb3kiLGUuTWlzc2VkPSJjb250YWN0L21pc3NlZCIsZS5DbGVhcmVkPSJjb250YWN0L2NsZWFyZWQiLGUuSW5jb21pbmc9ImNvbnRhY3QvaW5jb21pbmcifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuU3RhdGVDaGFuZ2VkPSJhZ2VudC9zdGF0ZUNoYW5nZSIsZS5Sb3V0aW5nUHJvZmlsZUNoYW5nZWQ9ImFnZW50L3JvdXRpbmdQcm9maWxlQ2hhbmdlZCIsZS5FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkPSJhZ2VudC9lbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkIn0oY3x8KGM9e30pKSx1fHwodT17fSk7dmFyIGw9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gcyhlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGEoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxhKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NsYXNzIHAgZXh0ZW5kcyByLnVVe2NvbnN0cnVjdG9yKGUpe3N1cGVyKG8sZSl9Z2V0QVJOKCl7cmV0dXJuIGwodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdHtBUk46ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXRBUk4pO3JldHVybiBlfSkpfWdldE5hbWUoKXtyZXR1cm4gbCh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe2NvbnN0e25hbWU6ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXROYW1lKTtyZXR1cm4gZX0pKX1nZXRTdGF0ZSgpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLmdldFN0YXRlKX1nZXRSb3V0aW5nUHJvZmlsZSgpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLmdldFJvdXRpbmdQcm9maWxlKX1nZXRDaGFubmVsQ29uY3VycmVuY3koKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXRDaGFubmVsQ29uY3VycmVuY3kpfWdldEV4dGVuc2lvbigpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7ZXh0ZW5zaW9uOmV9PXlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGkuZ2V0RXh0ZW5zaW9uKTtyZXR1cm4gZX0pKX1nZXREaWFsYWJsZUNvdW50cmllcygpe3JldHVybiBsKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7Y29uc3R7ZGlhbGFibGVDb3VudHJpZXM6ZX09eWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5nZXREaWFsYWJsZUNvdW50cmllcyk7cmV0dXJuIGV9KSl9b25TdGF0ZUNoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmMuU3RhdGVDaGFuZ2VkfSxlKX1vZmZTdGF0ZUNoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnVuc3Vic2NyaWJlKHtrZXk6Yy5TdGF0ZUNoYW5nZWR9LGUpfXNldEF2YWlsYWJpbGl0eVN0YXRlKGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChpLnNldEF2YWlsYWJpbGl0eVN0YXRlLHthZ2VudFN0YXRlQVJOOmV9KX1zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZShlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5zZXRBdmFpbGFiaWxpdHlTdGF0ZUJ5TmFtZSx7YWdlbnRTdGF0ZU5hbWU6ZX0pfXNldE9mZmxpbmUoKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5zZXRPZmZsaW5lLHt9KX1saXN0QXZhaWxhYmlsaXR5U3RhdGVzKCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KGkubGlzdEF2YWlsYWJpbGl0eVN0YXRlcyl9bGlzdFF1aWNrQ29ubmVjdHMoZSx0KXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3QoaS5saXN0UXVpY2tDb25uZWN0cyx7cXVldWVBUk5zOmUsb3B0aW9uczp0fSl9b25FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkKGUpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTpjLkVuYWJsZWRDaGFubmVsTGlzdENoYW5nZWR9LGUpfW9mZkVuYWJsZWRDaGFubmVsTGlzdENoYW5nZWQoZSl7dGhpcy5jb250ZXh0LnByb3h5LnVuc3Vic2NyaWJlKHtrZXk6Yy5FbmFibGVkQ2hhbm5lbExpc3RDaGFuZ2VkfSxlKX1vblJvdXRpbmdQcm9maWxlQ2hhbmdlZChlKXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6Yy5Sb3V0aW5nUHJvZmlsZUNoYW5nZWR9LGUpfW9mZlJvdXRpbmdQcm9maWxlQ2hhbmdlZChlKXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTpjLlJvdXRpbmdQcm9maWxlQ2hhbmdlZH0sZSl9fXZhciBkLGgsZz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBzKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX07Y2xhc3MgZiBleHRlbmRzIHIudVV7Y29uc3RydWN0b3IoZSl7c3VwZXIobyxlKX1nZXRBdHRyaWJ1dGVzKGUsdCl7Y29uc3Qgbj17Y29udGFjdElkOmUsYXR0cmlidXRlczp0fTtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3Qocy5nZXRBdHRyaWJ1dGVzLG4pfWdldEF0dHJpYnV0ZShlLHQpe3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuZ2V0QXR0cmlidXRlcyhlLFt0XSkpW3RdfSkpfWdldEluaXRpYWxDb250YWN0SWQoZSl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3Qocy5nZXRJbml0aWFsQ29udGFjdElkLHtjb250YWN0SWQ6ZX0pKS5pbml0aWFsQ29udGFjdElkfSkpfWdldFR5cGUoZSl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3Qocy5nZXRUeXBlLHtjb250YWN0SWQ6ZX0pKS50eXBlfSkpfWdldFN0YXRlRHVyYXRpb24oZSl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4oeWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3Qocy5nZXRTdGF0ZUR1cmF0aW9uLHtjb250YWN0SWQ6ZX0pKS5zdGF0ZUR1cmF0aW9ufSkpfWdldFF1ZXVlKGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChzLmdldFF1ZXVlLHtjb250YWN0SWQ6ZX0pfWdldFF1ZXVlVGltZXN0YW1wKGUpe3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KHMuZ2V0UXVldWVUaW1lc3RhbXAse2NvbnRhY3RJZDplfSkpLnF1ZXVlVGltZXN0YW1wfSkpfW9uU3RhcnRpbmdBY3coZSx0KXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6YS5TdGFydGluZ0FDVyxwYXJhbWV0ZXI6dH0sZSl9b25EZXN0cm95ZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkuc3Vic2NyaWJlKHtrZXk6YS5EZXN0cm95ZWQscGFyYW1ldGVyOnR9LGUpfW9uQ29ubmVjdGVkKGUsdCl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmEuQ29ubmVjdGVkLHBhcmFtZXRlcjp0fSxlKX1vbk1pc3NlZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTphLk1pc3NlZCxwYXJhbWV0ZXI6dH0sZSl9b25JbmNvbWluZyhlLHQpe3RoaXMuY29udGV4dC5wcm94eS5zdWJzY3JpYmUoe2tleTphLkluY29taW5nLHBhcmFtZXRlcjp0fSxlKX1vZmZTdGFydGluZ0FjdyhlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmEuU3RhcnRpbmdBQ1cscGFyYW1ldGVyOnR9LGUpfW9mZkRlc3Ryb3llZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmEuRGVzdHJveWVkLHBhcmFtZXRlcjp0fSxlKX1vZmZNaXNzZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTphLk1pc3NlZCxwYXJhbWV0ZXI6dH0sZSl9b2ZmSW5jb21pbmcoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTphLkluY29taW5nLHBhcmFtZXRlcjp0fSxlKX1vZmZDb25uZWN0ZWQoZSx0KXt0aGlzLmNvbnRleHQucHJveHkudW5zdWJzY3JpYmUoe2tleTphLkNvbm5lY3RlZCxwYXJhbWV0ZXI6dH0sZSl9Z2V0Q2hhbm5lbFR5cGUoZSl7cmV0dXJuIGcodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtyZXR1cm4geWllbGQgdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3Qocy5nZXRDaGFubmVsVHlwZSx7Y29udGFjdElkOmV9KX0pKX1hZGRQYXJ0aWNpcGFudChlLHQpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChzLmFkZFBhcnRpY2lwYW50LHtjb250YWN0SWQ6ZSxxdWlja0Nvbm5lY3Q6dH0pfXRyYW5zZmVyKGUsdCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KHMudHJhbnNmZXIse2NvbnRhY3RJZDplLHF1aWNrQ29ubmVjdDp0fSl9b25DbGVhcmVkKGUsdCl7dGhpcy5jb250ZXh0LnByb3h5LnN1YnNjcmliZSh7a2V5OmEuQ2xlYXJlZCxwYXJhbWV0ZXI6dH0sZSl9b2ZmQ2xlYXJlZChlLHQpe3RoaXMuY29udGV4dC5wcm94eS51bnN1YnNjcmliZSh7a2V5OmEuQ2xlYXJlZCxwYXJhbWV0ZXI6dH0sZSl9YWNjZXB0KGUpe3JldHVybiB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChzLmFjY2VwdCx7Y29udGFjdElkOmV9KX1jbGVhcihlKXtyZXR1cm4gdGhpcy5jb250ZXh0LnByb3h5LnJlcXVlc3Qocy5jbGVhcix7Y29udGFjdElkOmV9KX1pc1ByZXZpZXdNb2RlKGUpe3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuKHlpZWxkIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KHMuaXNQcmV2aWV3TW9kZSx7Y29udGFjdElkOmV9KSkuaXNQcmV2aWV3TW9kZX0pKX1nZXRQcmV2aWV3Q29uZmlndXJhdGlvbihlKXtyZXR1cm4gZyh0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKigpe3JldHVybiB5aWVsZCB0aGlzLmNvbnRleHQucHJveHkucmVxdWVzdChzLmdldFByZXZpZXdDb25maWd1cmF0aW9uLHtjb250YWN0SWQ6ZX0pfSkpfWVuZ2FnZVByZXZpZXdDb250YWN0KGUpe3JldHVybiBnKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7cmV0dXJuIHRoaXMuY29udGV4dC5wcm94eS5yZXF1ZXN0KHMuZW5nYWdlUHJldmlld0NvbnRhY3Qse2NvbnRhY3RJZDplfSl9KSl9fWR8fChkPXt9KSxofHwoaD17fSl9LDIzODooZSx0LG4pPT57InVzZSBzdHJpY3QiO2xldCByO2Z1bmN0aW9uIG8oZSl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKG51bGwhPWU/ZToiQXR0ZW1wdGVkIHRvIGdldCBHbG9iYWwgQW1hem9uQ29ubmVjdFByb3ZpZGVyIHRoYXQgaGFzIG5vdCBiZWVuIHNldC4iKTtyZXR1cm4gcn1uLmQodCx7THQ6KCk9PmssQyQ6KCk9PngsdVU6KCk9Pk0scGc6KCk9PkwsYnk6KCk9PlIsTHo6KCk9Pm8seFE6KCk9Pmx9KTtjbGFzcyBpIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3Ioe3JlYXNvbjplLG5hbWVzcGFjZTp0LGVycm9yS2V5Om4sZGV0YWlsczpyfSl7c3VwZXIoYENvbm5lY3RFcnJvciB3aXRoIGVycm9yIGtleSAiJHtufSJgKSx0aGlzLmVycm9yVHlwZT1pLkVycm9yVHlwZSx0aGlzLm5hbWVzcGFjZT10LHRoaXMuZXJyb3JLZXk9bix0aGlzLnJlYXNvbj1lLHRoaXMuZGV0YWlscz1udWxsIT1yP3I6e319fWkuRXJyb3JUeXBlPSJDb25uZWN0RXJyb3IiO2NsYXNzIHN7Y29uc3RydWN0b3Ioe3Byb3ZpZGVyOmUsbG9nZ2VyS2V5OnR9KXt0aGlzLmV2ZW50cz1uZXcgTWFwLHRoaXMubG9nZ2VyPW5ldyBMKHtwcm92aWRlcjplLHNvdXJjZToiZW1pdHRlciIsbWl4aW46KCk9Pih7ZW1pdHRlckxvZ2dlcktleTp0fSl9KX1vbihlLHQpe2NvbnN0IG49dGhpcy5ldmVudHMuZ2V0KGUpO24/bi5hZGQodCk6dGhpcy5ldmVudHMuc2V0KGUsbmV3IFNldChbdF0pKX1vZmYoZSx0KXtjb25zdCBuPXRoaXMuZXZlbnRzLmdldChlKTtuJiYobi5kZWxldGUodCksbi5zaXplPDEmJnRoaXMuZXZlbnRzLmRlbGV0ZShlKSl9Z2V0SGFuZGxlcnMoZSl7dmFyIHQ7cmV0dXJuIEFycmF5LmZyb20obnVsbCE9PSh0PXRoaXMuZXZlbnRzLmdldChlKSkmJnZvaWQgMCE9PXQ/dDpbXSl9fXZhciBhPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIHMoZSl7dHJ5e2Moci5uZXh0KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKHIudGhyb3coZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKHMsYSl9Yygocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfTtjbGFzcyBjIGV4dGVuZHMgc3tlbWl0KGUsdCl7cmV0dXJuIGEodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBuPXRoaXMuZ2V0SGFuZGxlcnMoZSk7eWllbGQgUHJvbWlzZS5hbGxTZXR0bGVkKG4ubWFwKChuPT5hKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7dHJ5e3lpZWxkIG4odCl9Y2F0Y2godCl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdoZW4gaW52b2tpbmcgZXZlbnQgaGFuZGxlciIse2Vycm9yOnQscGFyYW1ldGVyOmV9KX19KSkpKSl9KSl9fWZ1bmN0aW9uIHUoKXtyZXR1cm4icmFuZG9tVVVJRCJpbiBjcnlwdG8/Y3J5cHRvLnJhbmRvbVVVSUQoKToiMTAwMDAwMDAtMTAwMC00MDAwLTgwMDAtMTAwMDAwMDAwMDAwIi5yZXBsYWNlKC9bMDE4XS9nLChlPT57Y29uc3QgdD1wYXJzZUludChlKTtyZXR1cm4odF5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSYxNT4+dC80KS50b1N0cmluZygxNil9KSl9ZnVuY3Rpb24gbCgpe3ZhciBlLHQsbixyO3JldHVybntvcmlnaW46bnVsbCE9PSh0PW51bGw9PT0oZT1udWxsPT09ZG9jdW1lbnR8fHZvaWQgMD09PWRvY3VtZW50P3ZvaWQgMDpkb2N1bWVudC5sb2NhdGlvbil8fHZvaWQgMD09PWU/dm9pZCAwOmUub3JpZ2luKSYmdm9pZCAwIT09dD90OiJ1bmtub3duIixwYXRoOm51bGwhPT0ocj1udWxsPT09KG49bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD92b2lkIDA6ZG9jdW1lbnQubG9jYXRpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnBhdGhuYW1lKSYmdm9pZCAwIT09cj9yOiJ1bmtub3duIn19Y2xhc3MgcHtjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzQnlIYW5kbGVyPW5ldyBNYXAsdGhpcy5oYW5kbGVyc0J5SWQ9bmV3IE1hcH1hZGQoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7aWYodClyZXR1cm57aGFuZGxlcklkOnR9O2NvbnN0IG49dSgpO3JldHVybiB0aGlzLmlkc0J5SGFuZGxlci5zZXQoZSxuKSx0aGlzLmhhbmRsZXJzQnlJZC5zZXQobixlKSx7aGFuZGxlcklkOm59fWdldElkQnlIYW5kbGVyKGUpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9dGhpcy5pZHNCeUhhbmRsZXIuZ2V0KGUpKSYmdm9pZCAwIT09dD90Om51bGx9Z2V0SGFuZGxlckJ5SWQoZSl7dmFyIHQ7cmV0dXJuIG51bGwhPT0odD10aGlzLmhhbmRsZXJzQnlJZC5nZXQoZSkpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQoKXtyZXR1cm5bLi4udGhpcy5pZHNCeUhhbmRsZXIuZW50cmllcygpXS5tYXAoKChbZSx0XSk9Pih7aGFuZGxlcjplLGhhbmRsZXJJZDp0fSkpKX1kZWxldGUoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7cmV0dXJuIHQmJnRoaXMuaGFuZGxlcnNCeUlkLmRlbGV0ZSh0KSx0aGlzLmlkc0J5SGFuZGxlci5kZWxldGUoZSkse2lzRW1wdHk6dGhpcy5pZHNCeUhhbmRsZXIuc2l6ZTwxfX1zaXplKCl7cmV0dXJuIHRoaXMuaWRzQnlIYW5kbGVyLnNpemV9fWNsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnM9bmV3IE1hcCx0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucz1uZXcgTWFwfWFkZCh7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59LHIpe3ZhciBvLGkscyxhLGM7aWYobil7aWYoIXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmhhcyhlKSlyZXR1cm4gdm9pZCB0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5zZXQoZSxuZXcgTWFwKFtbdCxuZXcgTWFwKFtbbixyXV0pXV0pKTtpZighKG51bGw9PT0obz10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmhhcyh0KSkpcmV0dXJuIHZvaWQobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuc2V0KHQsbmV3IE1hcChbW24scl1dKSkpO251bGw9PT0oYT1udWxsPT09KHM9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cz92b2lkIDA6cy5nZXQodCkpfHx2b2lkIDA9PT1hfHxhLnNldChuLHIpfWVsc2V7aWYoIXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5oYXMoZSkpcmV0dXJuIHZvaWQgdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLnNldChlLG5ldyBNYXAoW1t0LHJdXSkpO251bGw9PT0oYz10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09Y3x8Yy5zZXQodCxyKX19ZGVsZXRlKHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0pe3ZhciByLG8saSxzO24/KG51bGw9PT0obz1udWxsPT09KHI9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXQodCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRlbGV0ZShuKSkmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkuc2l6ZTwxJiYobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuZGVsZXRlKHQpLHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5zaXplPDEmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmRlbGV0ZShlKSk6KG51bGw9PT0ocz10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cz92b2lkIDA6cy5kZWxldGUodCkpJiZ0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLnNpemU8MSYmdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1nZXQoe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSl7dmFyIHIsbyxpO3JldHVybiBuP251bGw9PT0oaT1udWxsPT09KG89dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bz92b2lkIDA6by5nZXQodCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChuKTpudWxsPT09KHI9dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0KHQpfWdldE9yQWRkKGUsdCl7bGV0IG49dGhpcy5nZXQoZSk7cmV0dXJuIG58fChuPXQoKSx0aGlzLmFkZChlLG4pKSxufWFkZE9yVXBkYXRlKGUsdCxuKXtsZXQgcj10aGlzLmdldChlKTtyZXR1cm4gcj1yP24ocik6dCgpLHRoaXMuYWRkKGUscikscn1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuWy4uLkFycmF5LmZyb20odGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmtleXMoKSkuZmxhdE1hcCgodD0+KHtuYW1lc3BhY2U6ZSxrZXk6dH0pKSkpKSwuLi5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkua2V5cygpKS5mbGF0TWFwKCh0PT5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkua2V5cygpKS5mbGF0TWFwKChuPT4oe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSkpKSkpKSldfX1jbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJzY3JpcHRpb25zPW5ldyBkfWFkZChlLHQpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0T3JBZGQoZSwoKCk9Pm5ldyBwKSkuYWRkKHQpfWdldChlKXt2YXIgdCxuO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldCgpKSYmdm9pZCAwIT09bj9uOltdfWdldEJ5SWQoZSx0KXt2YXIgbixyO3JldHVybiBudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldEhhbmRsZXJCeUlkKHQpKSYmdm9pZCAwIT09cj9yOm51bGx9ZGVsZXRlKGUsdCl7dmFyIG4scjtudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlbGV0ZSh0KS5pc0VtcHR5KSYmdm9pZCAwIT09ciYmciYmdGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1zaXplKGUpe3ZhciB0LG47cmV0dXJuIG51bGwhPT0obj1udWxsPT09KHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2l6ZSgpKSYmdm9pZCAwIT09bj9uOjB9aXNFbXB0eShlKXtyZXR1cm4gMD09PXRoaXMuc2l6ZShlKX1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXRBbGxTdWJzY3JpcHRpb25zKCl9Z2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9ucygpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHRoaXMuZ2V0KHQpLm1hcCgoKHtoYW5kbGVySWQ6ZX0pPT4oe3RvcGljOnQsaGFuZGxlcklkOmV9KSkpKSksW10pfX1jbGFzcyBne2NvbnN0cnVjdG9yKHtzZW5kTWV0cmljOmUsbWV0cmljTmFtZTp0LG1ldHJpY09wdGlvbnM6bn0pe3RoaXMudW5pdD0iTWlsbGlzZWNvbmRzIix0aGlzLnNlbmRNZXRyaWM9ZSx0aGlzLnN0YXJ0VGltZT1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLm1ldHJpY05hbWU9dCx0aGlzLmRpbWVuc2lvbnM9KG51bGw9PW4/dm9pZCAwOm4uZGltZW5zaW9ucyk/bi5kaW1lbnNpb25zOnt9LHRoaXMub3B0aW9uYWxEaW1lbnNpb25zPShudWxsPT1uP3ZvaWQgMDpuLm9wdGlvbmFsRGltZW5zaW9ucyk/bi5vcHRpb25hbERpbWVuc2lvbnM6e319c3RvcER1cmF0aW9uQ291bnRlcigpe2NvbnN0IGU9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS10aGlzLnN0YXJ0VGltZSk7cmV0dXJuIHRoaXMuc2VuZE1ldHJpYyh7bWV0cmljTmFtZTp0aGlzLm1ldHJpY05hbWUsdW5pdDp0aGlzLnVuaXQsdmFsdWU6ZSxkaW1lbnNpb25zOnRoaXMuZGltZW5zaW9ucyxvcHRpb25hbERpbWVuc2lvbnM6dGhpcy5vcHRpb25hbERpbWVuc2lvbnN9KSx7ZHVyYXRpb246ZX19fWNsYXNzIGZ7Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJveHk9bnVsbCx0aGlzLm5hbWVzcGFjZT1lLm5hbWVzcGFjZSxlLnByb3ZpZGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5wcm92aWRlcj90aGlzLnByb3ZpZGVyRmFjdG9yeT1lLnByb3ZpZGVyOnRoaXMucHJvdmlkZXI9ZS5wcm92aWRlcn1yZWNvcmRTdWNjZXNzKGUsdCl7dmFyIG47Y29uc3Qgcj1PYmplY3QuYXNzaWduKHt9LG51bGwhPT0obj1udWxsPT10P3ZvaWQgMDp0LmRpbWVuc2lvbnMpJiZ2b2lkIDAhPT1uP246e30pLG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtkaW1lbnNpb25zOnJ9KTt0aGlzLnJlY29yZENvdW50KGUsMCxvKX1yZWNvcmRFcnJvcihlLHQpe3ZhciBuO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSxudWxsIT09KG49bnVsbD09dD92b2lkIDA6dC5kaW1lbnNpb25zKSYmdm9pZCAwIT09bj9uOnt9KSxvPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0KSx7ZGltZW5zaW9uczpyfSk7dGhpcy5yZWNvcmRDb3VudChlLDEsbyl9cmVjb3JkQ291bnQoZSx0LG4pe3RoaXMuc2VuZE1ldHJpYyh7bWV0cmljTmFtZTplLHVuaXQ6IkNvdW50Iix2YWx1ZTp0LGRpbWVuc2lvbnM6bnVsbD09bj92b2lkIDA6bi5kaW1lbnNpb25zLG9wdGlvbmFsRGltZW5zaW9uczpudWxsPT1uP3ZvaWQgMDpuLm9wdGlvbmFsRGltZW5zaW9uc30pfXN0YXJ0RHVyYXRpb25Db3VudGVyKGUsdCl7cmV0dXJuIG5ldyBnKHtzZW5kTWV0cmljOnRoaXMuc2VuZE1ldHJpYy5iaW5kKHRoaXMpLG1ldHJpY05hbWU6ZSxtZXRyaWNPcHRpb25zOnR9KX1zZW5kTWV0cmljKHttZXRyaWNOYW1lOmUsdW5pdDp0LHZhbHVlOm4sZGltZW5zaW9uczpyLG9wdGlvbmFsRGltZW5zaW9uczpvfSl7ciYmZnVuY3Rpb24oZSx0KXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGgrT2JqZWN0LmtleXMobnVsbCE9dD90Ont9KS5sZW5ndGg+MzApdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYWRkIG1vcmUgdGhhbiAzMCBkaW1lbnNpb25zIHRvIGEgbWV0cmljIil9KHIsbyk7Y29uc3QgaT17bWV0cmljTmFtZTplLHVuaXQ6dCx2YWx1ZTpuLGRpbWVuc2lvbnM6cixvcHRpb25hbERpbWVuc2lvbnM6b30scz1uZXcgRGF0ZTt0aGlzLmdldFByb3h5KCkuc2VuZE1ldHJpYyh7bWV0cmljRGF0YTppLHRpbWU6cyxuYW1lc3BhY2U6dGhpcy5uYW1lc3BhY2V9KX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX19Y29uc3QgbT0iY2xpZW50VGltZW91dCI7ZnVuY3Rpb24gdihlLHQsbixyKXtjb25zdCBvPU1hdGgubWF4KDEsbnVsbCE9cj9yOjNlNCk7cmV0dXJuIG5ldyBQcm9taXNlKCgocixzKT0+e2xldCBhPSExO2NvbnN0IGM9c2V0VGltZW91dCgoKCk9PntuKHt0aW1lb3V0TXM6byxyZXF1ZXN0OmV9KSxzKGZ1bmN0aW9uKGUsdCl7Y29uc3R7bmFtZXNwYWNlOm4sY29tbWFuZDpyLGRhdGE6b309ZTtyZXR1cm57bmFtZXNwYWNlOm4scmVhc29uOiJDbGllbnQgVGltZW91dCIsZGV0YWlsczp7Y29tbWFuZDpyLHJlcXVlc3REYXRhOm8sdGltZW91dE1zOnR9LGVycm9yS2V5Om19fShlLG8pKSxhPSEwfSksbyk7dCgoZT0+e2NsZWFyVGltZW91dChjKSxhfHwoZS5pc0Vycm9yP3MobmV3IGkoZSkpOnIoZS5kYXRhKSl9KSl9KSl9Y2xhc3MgeXtjb25zdHJ1Y3RvcihlKXt0aGlzLnJlcXVlc3RNYXA9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTCh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucmVxdWVzdE1hbmFnZXIifSl9cHJvY2Vzc1JlcXVlc3QoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWU7cmV0dXJuIHYoZSwoZT0+dGhpcy5yZXF1ZXN0TWFwLnNldCh0LGUpKSwoKHtyZXF1ZXN0OmUsdGltZW91dE1zOnR9KT0+dGhpcy5oYW5kbGVUaW1lb3V0KGUsdCkpKX1wcm9jZXNzUmVzcG9uc2UoZSl7Y29uc3R7cmVxdWVzdElkOnR9PWUsbj10aGlzLnJlcXVlc3RNYXAuZ2V0KHQpO24/KG4oZSksdGhpcy5yZXF1ZXN0TWFwLmRlbGV0ZSh0KSk6dGhpcy5sb2dnZXIuZXJyb3IoIlJldHVybmVkIGEgcmVzcG9uc2UgbWVzc2FnZSB3aXRoIG5vIGhhbmRsZXIiLHttZXNzYWdlOmV9KX1oYW5kbGVUaW1lb3V0KGUsdCl7Y29uc3R7cmVxdWVzdElkOm4sbmFtZXNwYWNlOnIsY29tbWFuZDpvfT1lO3RoaXMucmVxdWVzdE1hcC5kZWxldGUobiksdGhpcy5sb2dnZXIuZXJyb3IoIkNsaWVudCByZXF1ZXN0IHRpbWVvdXQiLHtyZXF1ZXN0SWQ6bixuYW1lc3BhY2U6cixjb21tYW5kOm8sdGltZW91dE1zOnR9KX19dmFyIGI9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn07ZnVuY3Rpb24gUyhlKXt0cnl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6Y2FzZSJlcnJvciI6Y2FzZSJjaGlsZENvbm5lY3Rpb25DbG9zZSI6ZGVmYXVsdDpyZXR1cm4gZTtjYXNlImNoaWxkRG93bnN0cmVhbU1lc3NhZ2UiOnJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse21lc3NhZ2U6UyhlLm1lc3NhZ2UpfSk7Y2FzZSJwdWJsaXNoIjp7Y29uc3R7ZGF0YTp0fT1lLG49YihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX1jYXNlInJlc3BvbnNlIjppZihlLmlzRXJyb3IpcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7ZGV0YWlsczp7Y29tbWFuZDplLmRldGFpbHMuY29tbWFuZH19KTt7Y29uc3R7ZGF0YTp0fT1lLG49YihlLFsiZGF0YSJdKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxuKX19fWNhdGNoKHQpe3JldHVybnttZXNzYWdlRGV0YWlsczoiZXJyb3Igd2hlbiBzYW5pdGl6aW5nIGRvd25zdHJlYW0gbWVzc2FnZSIsbWVzc2FnZTplLGVycm9yOnR9fX1jbGFzcyBDe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm92aWRlcj1lLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZT10LHRoaXMuY2hhbm5lbHM9bmV3IE1hcCx0aGlzLmxvZ2dlcj1uZXcgTCh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNoaWxkQ29ubmVjdGlvbk1hbmFnZXIifSl9YWRkQ2hhbm5lbChlKXtjb25zdHtjb25uZWN0aW9uSWQ6dH09ZTt0aGlzLmNoYW5uZWxzLmhhcyh0KT90aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBjaGlsZCBjb25uZWN0aW9uIHRoYXQgYWxyZWFkeSBleGlzdHMuIE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk6KCJpZnJhbWUiPT09ZS50eXBlP3RoaXMuc2V0dXBJZnJhbWUoZSk6dGhpcy5zZXR1cENvbXBvbmVudChlKSx0aGlzLmxvZ2dlci5kZWJ1ZygiQ2hpbGQgY2hhbm5lbCBhZGRlZCIse2Nvbm5lY3Rpb25JZDp0LHR5cGU6ZS50eXBlfSkpfXVwZGF0ZUNoYW5uZWxQb3J0KGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0fT1lLG49dGhpcy5jaGFubmVscy5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgY2hpbGQgY29ubmVjdGlvbiB0aGF0IGRvZXMgbm90IGV4aXN0IE5vIGFjdGlvbiIse2Nvbm5lY3Rpb25JZDp0fSk7aWYoImNvbXBvbmVudCI9PT1uLnR5cGUpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYSBjb21wb25lbnQgY2hhbm5lbCBjb25uZWN0aW9uIGFzIE1lc3NhZ2VQb3J0LiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIix7Y29ubmVjdGlvbklkOnR9KTtjb25zdCByPW47ci5wb3J0Lm9ubWVzc2FnZT1udWxsLHIucG9ydC5jbG9zZSgpO2NvbnN0IG89T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSk7dGhpcy5zZXR1cElmcmFtZShvKSx0aGlzLmxvZ2dlci5pbmZvKCJVcGRhdGVkIGNoaWxkIHBvcnQiLHtjb25uZWN0aW9uSWQ6dH0pfXNldHVwSWZyYW1lKGUpe2NvbnN0e2Nvbm5lY3Rpb25JZDp0LHBvcnQ6bixwcm92aWRlcklkOnJ9PWUsbz10aGlzLmNyZWF0ZU1lc3NhZ2VIYW5kbGVyKHQscik7bi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixvKSxuLnN0YXJ0KCksdGhpcy5jaGFubmVscy5zZXQodCx7dHlwZToiaWZyYW1lIixwb3J0Om4saGFuZGxlcjpvLHByb3ZpZGVySWQ6cn0pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpyLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9c2V0dXBDb21wb25lbnQoZSl7Y29uc3R7Y29ubmVjdGlvbklkOnQscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b309ZTtvKChlPT57dGhpcy5yZWxheUNoaWxkVXBzdHJlYW1NZXNzYWdlKHt0eXBlOiJjaGlsZFVwc3RyZWFtIixzb3VyY2VQcm92aWRlcklkOm4scGFyZW50UHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkLGNvbm5lY3Rpb25JZDp0LG1lc3NhZ2U6ZX0pfSkpLHRoaXMuY2hhbm5lbHMuc2V0KHQse3R5cGU6ImNvbXBvbmVudCIscHJvdmlkZXJJZDpuLHNlbmREb3duc3RyZWFtTWVzc2FnZTpyLHNldFVwc3RyZWFtTWVzc2FnZUhhbmRsZXI6b30pLHRoaXMucmVsYXlDaGlsZFVwc3RyZWFtTWVzc2FnZSh7dHlwZToiY2hpbGRVcHN0cmVhbSIsY29ubmVjdGlvbklkOnQsc291cmNlUHJvdmlkZXJJZDpuLHBhcmVudFByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZCxtZXNzYWdlOnt0eXBlOiJjaGlsZENvbm5lY3Rpb25SZWFkeSJ9fSl9aGFuZGxlRG93bnN0cmVhbU1lc3NhZ2Uoe2Nvbm5lY3Rpb25JZDplLG1lc3NhZ2U6dCx0YXJnZXRQcm92aWRlcklkOm59KXtjb25zdCByPXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byByb3V0ZSBkb3duc3RyZWFtIG1lc3NhZ2UgdG8gY2hpbGQgY2hhbm5lbCB0aGF0IGRvZXMgbm90IGV4aXN0Iix7Y29ubmVjdGlvbklkOmUsbWVzc2FnZTpTKHQpfSk7Y29uc3R7cHJvdmlkZXJJZDpvfT1yO28mJm8hPT1uP3RoaXMubG9nZ2VyLmVycm9yKCJEb3duc3RyZWFtIHRhcmdldCBtZXNzYWdlIGRpZCBub3QgbWF0Y2ggdGFyZ2V0IHByb3ZpZGVyIGlkLiBOb3Qgc2VuZGluZyBtZXNzYWdlLiIse2Nvbm5lY3Rpb25JZDplLHRhcmdldFByb3ZpZGVySWQ6bixhY3R1YWxQcm92aWRlcklkOm8sbWVzc2FnZTpTKHQpfSk6ImlmcmFtZSI9PT1yLnR5cGU/ci5wb3J0LnBvc3RNZXNzYWdlKHQpOnIuc2VuZERvd25zdHJlYW1NZXNzYWdlKHQpfWhhbmRsZUNsb3NlTWVzc2FnZSh7Y29ubmVjdGlvbklkOmV9KXtjb25zdCB0PXRoaXMuY2hhbm5lbHMuZ2V0KGUpO2lmKHQpe2lmKCJpZnJhbWUiPT09dC50eXBlKXtjb25zdHtwb3J0OmUsaGFuZGxlcjpufT10O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksZS5jbG9zZSgpfXRoaXMuY2hhbm5lbHMuZGVsZXRlKGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJSZW1vdmVkIGNoaWxkIGNoYW5uZWwiLHtjb25uZWN0aW9uSWQ6ZSx0eXBlOnQudHlwZX0pfWVsc2UgdGhpcy5sb2dnZXIud2FybigiQXR0ZW1wdGVkIHRvIGNsb3NlIGNoaWxkIGNoYW5uZWwgdGhhdCB3YXMgbm90IGZvdW5kIix7Y29ubmVjdGlvbklkOmV9KX1jcmVhdGVNZXNzYWdlSGFuZGxlcihlLHQpe3JldHVybiBuPT50aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2Uoe3R5cGU6ImNoaWxkVXBzdHJlYW0iLHNvdXJjZVByb3ZpZGVySWQ6dCxwYXJlbnRQcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWQsY29ubmVjdGlvbklkOmUsbWVzc2FnZTpuLmRhdGF9KX19Y2xhc3MgRXtjb25zdHJ1Y3RvcihlKXt0aGlzLmVycm9ySGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTCh7cHJvdmlkZXI6ZSxzb3VyY2U6ImNvcmUucHJveHkuZXJyb3IifSl9aW52b2tlKGUpe2NvbnN0e21lc3NhZ2U6dCxrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX09ZTt0aGlzLmxvZ2dlci5lcnJvcih0LHtrZXk6bixkZXRhaWxzOnIsaXNGYXRhbDpvLGNvbm5lY3Rpb25TdGF0dXM6aX0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITAscmVtb3RlSWdub3JlOiEwfSksWy4uLnRoaXMuZXJyb3JIYW5kbGVyc10uZm9yRWFjaCgodD0+e3RyeXt0KGUpfWNhdGNoKHQpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aXRoaW4gYSBBbWF6b25Db25uZWN0RXJyb3JIYW5kbGVyIix7aGFuZGxlckVycm9yOnQsb3JpZ2luYWxFcnJvcjplfSl9fSkpfW9uRXJyb3IoZSl7dGhpcy5lcnJvckhhbmRsZXJzLmFkZChlKX1vZmZFcnJvcihlKXt0aGlzLmVycm9ySGFuZGxlcnMuZGVsZXRlKGUpfX1jbGFzcyBJe2NvbnN0cnVjdG9yKHtwcm92aWRlcjplLHNlbmRIZWFsdGhDaGVjazp0LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjpufSl7dGhpcy5jb25uZWN0aW9uSWQ9bnVsbCx0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWw9bnVsbCx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsLHRoaXMuc2VuZEhlYWx0aENoZWNrPXQsdGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW49bix0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwsdGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1udWxsLHRoaXMuX3N0YXR1cz0idW5rbm93biIsdGhpcy5sb2dnZXI9bmV3IEwoe3NvdXJjZToiY29yZS5wcm94eS5oZWFsdGgtY2hlY2siLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9KSx0aGlzLmV2ZW50cz1uZXcgYyh7cHJvdmlkZXI6ZSxsb2dnZXJLZXk6ImNvcmUucHJveHkuaGVhbHRoLWNoZWNrIn0pfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5fc3RhdHVzfWdldCBpc1J1bm5pbmcoKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2VuZEhlYWx0aENoZWNrSW50ZXJ2YWx9Z2V0IGxhc3RDaGVja0NvdW50ZXIoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KHQ9bnVsbD09PShlPXRoaXMubGFzdEhlYWx0aENoZWNrUmVzcG9uc2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvdW50ZXIpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQgbGFzdENoZWNrVGltZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGU9dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGltZSkmJnZvaWQgMCE9PXQ/dDpudWxsfXN0YXJ0KHtoZWFsdGhDaGVja0ludGVydmFsOmUsY29ubmVjdGlvbklkOnR9KXt0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuaGVhbHRoQ2hlY2tJbnRlcnZhbD1lLHRoaXMuY2xlYXJJbnRlcnZhbCgpLGU8PTA/dGhpcy5sb2dnZXIuZGVidWcoIkhlYWx0aCBjaGVjayBkaXNhYmxlZCIpOmU8MWUzP3RoaXMubG9nZ2VyLmVycm9yKCJIZWFsdGggY2hlY2sgaW50ZXJ2YWwgaXMgbGVzcyB0aGFuIDEgc2Vjb25kLiBOb3QgcnVubmluZyIse2ludGVydmFsOmV9KToodGhpcy5zZW5kSGVhbHRoQ2hlY2tNZXNzYWdlKCksdGhpcy5zZW5kSGVhbHRoQ2hlY2tJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKCk9PnRoaXMuc2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpKSxlKSx0aGlzLnN0YXJ0VGltZW91dCgpKX1zdG9wKCl7dGhpcy5jbGVhckludGVydmFsKCksdGhpcy5jbGVhclRpbWVvdXQoKX1oYW5kbGVSZXNwb25zZShlKXt0aGlzLnNldEhlYWx0aHkoe3RpbWU6ZS50aW1lLGNvdW50ZXI6ZS5jb3VudGVyfSl9c2VuZEhlYWx0aENoZWNrTWVzc2FnZSgpe3RoaXMuc2VuZEhlYWx0aENoZWNrKHt0eXBlOiJoZWFsdGhDaGVjayIsbWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfSl9c3RhcnRUaW1lb3V0KCl7dGhpcy5oZWFsdGhDaGVja0ludGVydmFsPyh0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5zZXRVbmhlYWx0aHkoKX0pLDMqdGhpcy5oZWFsdGhDaGVja0ludGVydmFsKSk6dGhpcy5sb2dnZXIuZXJyb3IoIkhlYWx0aCBjaGVjayBpbnRlcnZhbCBub3Qgc2V0LiBDYW5ub3Qgc3RhcnQgdGltZW91dCIpfWNsZWFySW50ZXJ2YWwoKXt0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsKSx0aGlzLnNlbmRIZWFsdGhDaGVja0ludGVydmFsPW51bGwpfWNsZWFyVGltZW91dCgpe3RoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0KSx0aGlzLmhlYWx0aENoZWNrVGltZW91dD1udWxsKX1zZXRVbmhlYWx0aHkoKXtpZigidW5oZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuaW5mbygiQ29ubmVjdGlvbiB1bmhlYWx0aHkiLHtwcmV2aW91c1N0YXR1czplfSksdGhpcy5fc3RhdHVzPSJ1bmhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoInVuaGVhbHRoeSIsZSl9fXNldEhlYWx0aHkoZSl7aWYodGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZT1PYmplY3QuYXNzaWduKHt9LGUpLCJoZWFsdGh5IiE9PXRoaXMuX3N0YXR1cyl7Y29uc3QgZT10aGlzLl9zdGF0dXM7dGhpcy5sb2dnZXIuZGVidWcoIkNvbm5lY3Rpb24gaGVhbHRoeSIse3ByZXZpb3VzU3RhdHVzOmV9KSx0aGlzLl9zdGF0dXM9ImhlYWx0aHkiLHRoaXMuZW1pdFN0YXR1c0NoYW5nZWQoImhlYWx0aHkiLGUpfXRoaXMuc3RhcnRUaW1lb3V0KCl9ZW1pdFN0YXR1c0NoYW5nZWQoZSx0KXt2YXIgbixyLG8saTt0aGlzLmV2ZW50cy5lbWl0KEkuc3RhdHVzQ2hhbmdlZEtleSx7c3RhdHVzOmUscHJldmlvdXNTdGF0dXM6dCxsYXN0Q2hlY2tUaW1lOm51bGwhPT0ocj1udWxsPT09KG49dGhpcy5sYXN0SGVhbHRoQ2hlY2tSZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGltZSkmJnZvaWQgMCE9PXI/cjpudWxsLGxhc3RDaGVja0NvdW50ZXI6bnVsbCE9PShpPW51bGw9PT0obz10aGlzLmxhc3RIZWFsdGhDaGVja1Jlc3BvbnNlKXx8dm9pZCAwPT09bz92b2lkIDA6by5jb3VudGVyKSYmdm9pZCAwIT09aT9pOm51bGx9KX1vblN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub24oSS5zdGF0dXNDaGFuZ2VkS2V5LGUpfW9mZlN0YXR1c0NoYW5nZWQoZSl7dGhpcy5ldmVudHMub2ZmKEkuc3RhdHVzQ2hhbmdlZEtleSxlKX19SS5zdGF0dXNDaGFuZ2VkS2V5PSJzdGF0dXNDaGFuZ2VkIjtjbGFzcyBUe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3RhdHVzPSJub3RDb25uZWN0ZWQiLHRoaXMuY2hhbmdlSGFuZGxlcnM9bmV3IFNldCx0aGlzLmxvZ2dlcj1uZXcgTCh7c291cmNlOiJjb3JlLnByb3h5LmNvbm5lY3Rpb24tc3RhdHVzLW1hbmFnZXIiLHByb3ZpZGVyOmUsbWl4aW46KCk9Pih7c3RhdHVzOnRoaXMuc3RhdHVzfSl9KX1nZXRTdGF0dXMoKXtyZXR1cm4gdGhpcy5zdGF0dXN9dXBkYXRlKGUpe3RoaXMuc3RhdHVzPWUuc3RhdHVzLHRoaXMubG9nZ2VyLnRyYWNlKCJQcm94eSBDb25uZWN0aW9uIFN0YXR1cyBDaGFuZ2VkIix7c3RhdHVzOmUuc3RhdHVzfSksWy4uLnRoaXMuY2hhbmdlSGFuZGxlcnNdLmZvckVhY2goKHQ9Pnt0cnl7dChlKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2l0aGluIGEgUHJveHlDb25uZWN0aW9uQ2hhbmdlZEhhbmRsZXIiLHtlcnJvcjplfSl9fSkpfW9uQ2hhbmdlKGUpe3RoaXMuY2hhbmdlSGFuZGxlcnMuYWRkKGUpfW9mZkNoYW5nZShlKXt0aGlzLmNoYW5nZUhhbmRsZXJzLmRlbGV0ZShlKX19dmFyIEEsdz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbmV3KG58fChuPVByb21pc2UpKSgoZnVuY3Rpb24obyxpKXtmdW5jdGlvbiBzKGUpe3RyeXtjKHIubmV4dChlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYShlKXt0cnl7YyhyLnRocm93KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBjKGUpe3ZhciB0O2UuZG9uZT9vKGUudmFsdWUpOih0PWUudmFsdWUsdCBpbnN0YW5jZW9mIG4/dDpuZXcgbigoZnVuY3Rpb24oZSl7ZSh0KX0pKSkudGhlbihzLGEpfWMoKHI9ci5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pKX0sXz1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiZ0LmluZGV4T2Yocik8MCYmKG5bcl09ZVtyXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPHIubGVuZ3RoO28rKyl0LmluZGV4T2YocltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscltvXSkmJihuW3Jbb11dPWVbcltvXV0pfXJldHVybiBufTtjbGFzcyBSe2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXI9ZSx0aGlzLmxvZ2dlcj1uZXcgTCh7c291cmNlOiJjb3JlLnByb3h5Iixwcm92aWRlcjplLG1peGluOigpPT4oe3Byb3h5VHlwZTp0aGlzLnByb3h5VHlwZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KX0pLHRoaXMucmVxdWVzdE1hbmFnZXI9bmV3IHkoZSksdGhpcy5zdGF0dXM9bmV3IFQoZSksdGhpcy5lcnJvclNlcnZpY2U9bmV3IEUoZSksdGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZT1bXSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITEsdGhpcy5zdWJzY3JpcHRpb25zPW5ldyBoLHRoaXMuY29ubmVjdGlvbklkPW51bGwsdGhpcy5jaGFubmVsTWFuYWdlcj1uZXcgQyhlLHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0LmJpbmQodGhpcykpLHRoaXMuaGVhbHRoQ2hlY2s9bmV3IEkoe3Byb3ZpZGVyOmUsc2VuZEhlYWx0aENoZWNrOnRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0LmJpbmQodGhpcyksZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luLmJpbmQodGhpcyl9KX1pbml0KCl7aWYodGhpcy5pc0luaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcigiUHJveHkgYWxyZWFkeSBpbml0aWFsaXplZCIpO3RoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLmluaXRQcm94eSgpfXJlcXVlc3QoZSx0LG4scil7Y29uc3Qgbz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57dHlwZToicmVxdWVzdCIsbmFtZXNwYWNlOmUsY29tbWFuZDp0LHJlcXVlc3RJZDp1KCksZGF0YTpuLG1lc3NhZ2VPcmlnaW46cn19KGUsdCxuLG51bGwhPXI/cjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpKSxpPXRoaXMucmVxdWVzdE1hbmFnZXIucHJvY2Vzc1JlcXVlc3Qobyk7cmV0dXJuIHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KG8pLGl9c3Vic2NyaWJlKGUsdCxuKXtjb25zdHtoYW5kbGVySWQ6cn09dGhpcy5zdWJzY3JpcHRpb25zLmFkZChlLHQpLG89e3R5cGU6InN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpLGhhbmRsZXJJZDpyfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChvKX11bnN1YnNjcmliZShlLHQsbil7aWYodGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlLHQpLHRoaXMuc3Vic2NyaXB0aW9ucy5pc0VtcHR5KGUpKXtjb25zdCB0PXt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdCh0KX19bG9nKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oe2xldmVsOmUsc291cmNlOnQsbWVzc2FnZTpuLGxvZ2dlcklkOnIsZGF0YTpvfSxzLGEpe2NvbnN0IGM9ZnVuY3Rpb24oZSl7aWYoZSl0cnl7cmV0dXJuIGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gc3RydWN0dXJlZENsb25lKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IGkoe2Vycm9yS2V5OiJkZWVwQ2xvbmVGYWlsZWQiLGRldGFpbHM6e2FjdHVhbEVycm9yOmV9fSl9fX0oZSl9Y2F0Y2goZSl7cmV0dXJue2Vycm9yOiJEYXRhIGZhaWxlZCB0byBzYW5pdGl6ZS4gVGhlIG9yaWdpbmFsIGRhdGEgaXMgbm90IGF2YWlsYWJsZSJ9fX0obyk7cmV0dXJue3R5cGU6ImxvZyIsbGV2ZWw6ZSx0aW1lOm5ldyBEYXRlLHNvdXJjZTp0LG1lc3NhZ2U6bixsb2dnZXJJZDpyLGRhdGE6Yyxjb250ZXh0OnMsbWVzc2FnZU9yaWdpbjphfX0oZSx0aGlzLmFkZENvbnRleHRUb0xvZ2dlcigpLHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHQpfXNlbmRMb2dNZXNzYWdlKGUpeyJsb2ciPT09ZS50eXBlPyhlLmNvbnRleHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuY29udGV4dCksdGhpcy5hZGRDb250ZXh0VG9Mb2dnZXIoKSksdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIGxvZyBtZXNzYWdlIix7bWVzc2FnZTplfSl9c2VuZE1ldHJpYyh7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0pe2NvbnN0IHI9ZnVuY3Rpb24oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHIpe3ZhciBvLGk7cmV0dXJue3R5cGU6Im1ldHJpYyIsbmFtZXNwYWNlOm4sbWV0cmljTmFtZTplLm1ldHJpY05hbWUsdW5pdDplLnVuaXQsdmFsdWU6ZS52YWx1ZSx0aW1lOnQsZGltZW5zaW9uczpudWxsIT09KG89ZS5kaW1lbnNpb25zKSYmdm9pZCAwIT09bz9vOnt9LG9wdGlvbmFsRGltZW5zaW9uczpudWxsIT09KGk9ZS5vcHRpb25hbERpbWVuc2lvbnMpJiZ2b2lkIDAhPT1pP2k6e30sbWVzc2FnZU9yaWdpbjpyfX0oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHIpfXNlbmRNZXRyaWNNZXNzYWdlKGUpeyJtZXRyaWMiPT09ZS50eXBlP3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIG1ldHJpYyBtZXNzYWdlIix7bWV0cmljTWVzc2FnZTplfSl9c2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpe3RoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkP3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSk6dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5wdXNoKGUpfWNvbnN1bWVyTWVzc2FnZUhhbmRsZXIoZSl7aWYoIXRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIHByb2Nlc3MgbWVzc2FnZSBmcm9tIHN1YmplY3QgcHJpb3IgdG8gcHJveHkgYmVpbmcgaW5pdGlhbGl6aW5nLiBNZXNzYWdlIG5vdCBwcm9jZXNzZWQiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZS5kYXRhfSk7Y29uc3R7ZGF0YTp0fT1lO2lmKCEoInR5cGUiaW4gdCkpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6dH0pO2NvbnN0IG49dDt0aGlzLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChuKX1oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QoZSl7dGhpcy5oYW5kbGVEZWZhdWx0TWVzc2FnZUZyb21TdWJqZWN0KGUpfWhhbmRsZURlZmF1bHRNZXNzYWdlRnJvbVN1YmplY3QoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6dGhpcy5oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSk7YnJlYWs7Y2FzZSJyZXNwb25zZSI6dGhpcy5oYW5kbGVSZXNwb25zZShlKTticmVhaztjYXNlInB1Ymxpc2giOnRoaXMuaGFuZGxlUHVibGlzaChlKTticmVhaztjYXNlImVycm9yIjp0aGlzLmhhbmRsZUVycm9yKGUpO2JyZWFrO2Nhc2UiY2hpbGREb3duc3RyZWFtTWVzc2FnZSI6dGhpcy5jaGFubmVsTWFuYWdlci5oYW5kbGVEb3duc3RyZWFtTWVzc2FnZShlKTticmVhaztjYXNlImNoaWxkQ29ubmVjdGlvbkNsb3NlIjp0aGlzLmNoYW5uZWxNYW5hZ2VyLmhhbmRsZUNsb3NlTWVzc2FnZShlKTticmVhaztjYXNlImhlYWx0aENoZWNrUmVzcG9uc2UiOnRoaXMuaGVhbHRoQ2hlY2suaGFuZGxlUmVzcG9uc2UoZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZX0pfX1oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSl7Zm9yKHRoaXMuY29ubmVjdGlvbklkPWUuY29ubmVjdGlvbklkLHRoaXMubG9nZ2VyLmRlYnVnKCJDb25uZWN0aW9uIGFja25vd2xlZGdlZCBieSBzdWJqZWN0Iix7Y29ubmVjdGlvbklkOmUuY29ubmVjdGlvbklkLHF1ZXVlZE1lc3NhZ2VDb3VudDp0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLmxlbmd0aCxzdGF0dXM6ZS5zdGF0dXN9KSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVhZHkiLGNvbm5lY3Rpb25JZDplLmNvbm5lY3Rpb25JZH0pLHRoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkPSEwO3RoaXMudXBzdHJlYW1NZXNzYWdlUXVldWUubGVuZ3RoOyl7Y29uc3QgZT10aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLnNoaWZ0KCk7dGhpcy5zZW5kTWVzc2FnZVRvU3ViamVjdChlKX10aGlzLmhlYWx0aENoZWNrLnN0YXJ0KGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJQcm94eSBjb25uZWN0aW9uIHJlYWR5Iix7Y29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9aGFuZGxlUmVzcG9uc2UoZSl7dGhpcy5yZXF1ZXN0TWFuYWdlci5wcm9jZXNzUmVzcG9uc2UoZSl9aGFuZGxlUHVibGlzaChlKXtjb25zdHtoYW5kbGVySWQ6dCx0b3BpYzpufT1lO2lmKHQpe2NvbnN0IHI9dGhpcy5zdWJzY3JpcHRpb25zLmdldEJ5SWQobix0KTtyJiZ0aGlzLmhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZSh7aGFuZGxlcjpyLGhhbmRsZXJJZDp0fSxlKX1lbHNlIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXQobikubWFwKCh0PT57dGhpcy5oYW5kbGVBc3luY1N1YnNjcmlwdGlvbkhhbmRsZXJJbnZva2UodCxlKX0pKX1oYW5kbGVFcnJvcihlKXtpZihlLmlzRmF0YWwpe2NvbnN0e21lc3NhZ2U6dCx0eXBlOm59PWUscj1fKGUsWyJtZXNzYWdlIiwidHlwZSJdKTt0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiZXJyb3IiLHJlYXNvbjp0LGRldGFpbHM6cn0pfXRoaXMucHVibGlzaEVycm9yKHttZXNzYWdlOmUubWVzc2FnZSxrZXk6ZS5rZXksZGV0YWlsczplLmRldGFpbHMsaXNGYXRhbDplLmlzRmF0YWwscHJveHlTdGF0dXM6ZS5zdGF0dXN9KX1wdWJsaXNoRXJyb3IoZSl7Y29uc3QgdD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2Nvbm5lY3Rpb25TdGF0dXM6dGhpcy5jb25uZWN0aW9uU3RhdHVzfSk7dGhpcy5lcnJvclNlcnZpY2UuaW52b2tlKHQpfWhhbmRsZUFzeW5jU3Vic2NyaXB0aW9uSGFuZGxlckludm9rZShlLHQpe3JldHVybiB3KHRoaXMsYXJndW1lbnRzLHZvaWQgMCwoZnVuY3Rpb24qKHtoYW5kbGVyOmUsaGFuZGxlcklkOnR9LHt0b3BpYzpuLGRhdGE6cn0pe3RyeXt5aWVsZCBlKHIpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGVuIGhhbmRsaW5nIHN1YnNjcmlwdGlvbiIse3RvcGljOm4sZXJyb3I6ZSxoYW5kbGVySWQ6dH0pfX0pKX1nZXQgY29ubmVjdGlvblN0YXR1cygpe3JldHVybiB0aGlzLnN0YXR1cy5nZXRTdGF0dXMoKX1vbkVycm9yKGUpe3RoaXMuZXJyb3JTZXJ2aWNlLm9uRXJyb3IoZSl9b2ZmRXJyb3IoZSl7dGhpcy5lcnJvclNlcnZpY2Uub2ZmRXJyb3IoZSl9b25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKGUpe3RoaXMuc3RhdHVzLm9uQ2hhbmdlKGUpfW9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UoZSl7dGhpcy5zdGF0dXMub2ZmQ2hhbmdlKGUpfW9uSGVhbHRoQ2hlY2tTdGF0dXNDaGFuZ2VkKGUpe3RoaXMuaGVhbHRoQ2hlY2sub25TdGF0dXNDaGFuZ2VkKGUpfW9mZkhlYWx0aENoZWNrU3RhdHVzQ2hhbmdlZChlKXt0aGlzLmhlYWx0aENoZWNrLm9mZlN0YXR1c0NoYW5nZWQoZSl9YWRkQ2hpbGRDaGFubmVsKGUpe3RoaXMuYWRkQ2hpbGRJZnJhbWVDaGFubmVsKGUpfWFkZENoaWxkSWZyYW1lQ2hhbm5lbChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJpZnJhbWUifSkpfWFkZENoaWxkQ29tcG9uZW50Q2hhbm5lbChlKXt0aGlzLmNoYW5uZWxNYW5hZ2VyLmFkZENoYW5uZWwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHt0eXBlOiJjb21wb25lbnQifSkpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5jaGFubmVsTWFuYWdlci51cGRhdGVDaGFubmVsUG9ydChlKX11cGRhdGVDaGlsZENoYW5uZWxQb3J0KGUpe3RoaXMudXBkYXRlQ2hpbGRJZnJhbWVDaGFubmVsUG9ydChlKX1nZXRDb25uZWN0aW9uSWQoKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWQ/UHJvbWlzZS5yZXNvbHZlKHRoaXMuY29ubmVjdGlvbklkKTpuZXcgUHJvbWlzZSgoKGUsdCk9PntsZXQgbjtjb25zdCByPXQ9PnsicmVhZHkiPT09dC5zdGF0dXMmJih0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksY2xlYXJJbnRlcnZhbChuKSxlKHQuY29ubmVjdGlvbklkKSl9O249c2V0VGltZW91dCgoKCk9Pnt0aGlzLmxvZ2dlci5lcnJvcigiVGltZW91dCBnZXR0aW5nIGNvbm5lY3Rpb24gaWQiKSx0aGlzLm9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2UociksdChuZXcgRXJyb3IoIlRpbWVvdXQgZ2V0dGluZyBjb25uZWN0aW9uSWQiKSl9KSwxZTQpLHRoaXMub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHIpfSkpfXJlc2V0Q29ubmVjdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZygiUmVzZXR0aW5nIGNvbm5lY3Rpb24iLHtyZWFzb246ZSxjb25uZWN0aW9uSWQ6dGhpcy5jb25uZWN0aW9uSWR9KSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVzZXQiLHJlYXNvbjplfSk7Y29uc3R7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50OnR9PXRoaXMucmVzdG9yZUFsbEhhbmRsZXIoKTt0aGlzLmxvZ2dlci5pbmZvKCJSZXNldHRpbmcgcHJveHkiLHtyZWFzb246ZSxzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH0pLHRoaXMubG9nZ2VyLmRlYnVnKCJDb25uZWN0aW9uIHJlc2V0IGNvbXBsZXRlLCByZXN0b3JpbmcgaGFuZGxlcnMiLHtzdWJzY3JpcHRpb25IYW5kbGVyQ291bnQ6dH0pfXJlc3RvcmVBbGxIYW5kbGVyKCl7dmFyIGU7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpO3JldHVybiBudWxsPT10fHx0Lm1hcCgoKHt0b3BpYzplLGhhbmRsZXJJZDp0fSk9Pih7dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSxoYW5kbGVySWQ6dH0pKSkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpKSx7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50Om51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnZvaWQgMCE9PWU/ZTotMX19dW5zdWJzY3JpYmVBbGxIYW5kbGVycygpe3ZhciBlO2NvbnN0IHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldEFsbFN1YnNjcmlwdGlvbkhhbmRsZXJJZHMoKTt0aGlzLmxvZ2dlci5pbmZvKCJVbnN1YnNjcmliaW5nIGFsbCBoYW5kbGVycyBmcm9tIHByb3h5Iix7c3Vic2NyaXB0aW9uSGFuZGxlckNvdW50Om51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0Lmxlbmd0aCkmJnZvaWQgMCE9PWU/ZTotMX0pLG51bGw9PXR8fHQubWFwKCgoe3RvcGljOmV9KT0+KHt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOnRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9KSkpLmZvckVhY2goKGU9PnRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpKSl9fSFmdW5jdGlvbihlKXtlW2UudHJhY2U9MV09InRyYWNlIixlW2UuZGVidWc9Ml09ImRlYnVnIixlW2UuaW5mbz0zXT0iaW5mbyIsZVtlLndhcm49NF09Indhcm4iLGVbZS5lcnJvcj01XT0iZXJyb3IifShBfHwoQT17fSkpO2NsYXNzIE97Y29uc3RydWN0b3IoZSl7dGhpcy5taXhpbj1lfWdldFRyYW5zZm9ybWVkRGF0YShlLHQpe3JldHVybiB0aGlzLm1peGluP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxudWxsIT10P3Q6e30pLHRoaXMubWl4aW4obnVsbCE9dD90Ont9LGUpKTp0fX1jbGFzcyBMe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3h5PW51bGwsdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWw9bnVsbCx0aGlzLmxvZ2dlcklkPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKGUvMikpO3JldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLEFycmF5LmZyb20odCwoZT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKSkuam9pbigiIikuc3Vic3RyaW5nKDAsZSl9KDgpLCJzdHJpbmciPT10eXBlb2YgZT8odGhpcy5zb3VyY2U9ZSx0aGlzLmRhdGFUcmFuc2Zvcm1lcj1uZXcgTyh2b2lkIDApKToodGhpcy5zb3VyY2U9ZS5zb3VyY2UsZS5wcm92aWRlciYmImZ1bmN0aW9uIj09dHlwZW9mIGUucHJvdmlkZXI/dGhpcy5wcm92aWRlckZhY3Rvcnk9ZS5wcm92aWRlcjp0aGlzLnByb3ZpZGVyPWUucHJvdmlkZXIsdGhpcy5kYXRhVHJhbnNmb3JtZXI9bmV3IE8oZS5taXhpbiksdGhpcy5sb2dPcHRpb25zPWUub3B0aW9ucyl9dHJhY2UoZSx0LG4pe3RoaXMubG9nKEEudHJhY2UsZSx0LG4pfWRlYnVnKGUsdCxuKXt0aGlzLmxvZyhBLmRlYnVnLGUsdCxuKX1pbmZvKGUsdCxuKXt0aGlzLmxvZyhBLmluZm8sZSx0LG4pfXdhcm4oZSx0LG4pe3RoaXMubG9nKEEud2FybixlLHQsbil9ZXJyb3IoZSx0LG4pe3RoaXMubG9nKEEuZXJyb3IsZSx0LG4pfWxvZyhlLHQsbixyKXtjb25zdCBvPXRoaXMuZGF0YVRyYW5zZm9ybWVyLmdldFRyYW5zZm9ybWVkRGF0YShlLG4pO3RoaXMuaWdub3JlUmVtb3RlKHIpfHx0aGlzLmdldFByb3h5KCkubG9nKHtsZXZlbDplLHNvdXJjZTp0aGlzLnNvdXJjZSxsb2dnZXJJZDp0aGlzLmxvZ2dlcklkLG1lc3NhZ2U6dCxkYXRhOm99KSx0aGlzLmFwcGx5RHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZShlLHIpJiZmdW5jdGlvbihlLHQsbil7aWYobilzd2l0Y2goZSl7Y2FzZSBBLmVycm9yOmNvbnNvbGUuZXJyb3IodCxuKTticmVhaztjYXNlIEEud2Fybjpjb25zb2xlLndhcm4odCxuKTticmVhaztjYXNlIEEuaW5mbzpjb25zb2xlLmluZm8odCxuKTticmVhaztjYXNlIEEuZGVidWc6Y29uc29sZS5kZWJ1Zyh0LG4pO2JyZWFrO2Nhc2UgQS50cmFjZTpjb25zb2xlLnRyYWNlKHQsbik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0LG4pfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgQS5lcnJvcjpjb25zb2xlLmVycm9yKHQpO2JyZWFrO2Nhc2UgQS53YXJuOmNvbnNvbGUud2Fybih0KTticmVhaztjYXNlIEEuaW5mbzpjb25zb2xlLmluZm8odCk7YnJlYWs7Y2FzZSBBLmRlYnVnOmNvbnNvbGUuZGVidWcodCk7YnJlYWs7Y2FzZSBBLnRyYWNlOmNvbnNvbGUudHJhY2UodCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0KX19KGUsdCxvKX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX1hcHBseUR1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGUoZSx0KXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5kdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlKXx8dGhpcy5nZXRMb2dDb25zb2xlTGV2ZWwoKTw9ZX1nZXRMb2dDb25zb2xlTGV2ZWwoKXt2YXIgZSx0LG4scjtyZXR1cm4gdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx8fCh0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbD0obnVsbD09PShlPXRoaXMubG9nT3B0aW9ucyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWluTG9nVG9Db25zb2xlTGV2ZWxPdmVycmlkZSk/dGhpcy5sb2dPcHRpb25zLm1pbkxvZ1RvQ29uc29sZUxldmVsT3ZlcnJpZGU6bnVsbCE9PShyPW51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5nZXRQcm92aWRlcigpLmNvbmZpZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubG9nZ2luZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWluTG9nVG9Db25zb2xlTGV2ZWwpJiZ2b2lkIDAhPT1yP3I6QS5lcnJvciksdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx9aWdub3JlUmVtb3RlKGUpe3ZhciB0LG4scjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0odD10aGlzLmxvZ09wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PW4mJm58fG51bGwhPT0ocj1udWxsPT1lP3ZvaWQgMDplLnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PXImJnJ9fWNsYXNzIGt7Y29uc3RydWN0b3Ioe2NvbmZpZzplLHByb3h5RmFjdG9yeTp0fSl7aWYodGhpcy5faWQ9dSgpLCF0KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGdldCBQcm94eSBiZWZvcmUgc2V0dGluZyB1cCBmYWN0b3J5Iik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5jbHVkZSBjb25maWciKTt0aGlzLnByb3h5RmFjdG9yeT10LHRoaXMuX2NvbmZpZz1lfWdldCBpZCgpe3JldHVybiB0aGlzLl9pZH1nZXRQcm94eSgpe3JldHVybiB0aGlzLnByb3h5fHwodGhpcy5wcm94eT10aGlzLnByb3h5RmFjdG9yeSh0aGlzKSx0aGlzLnByb3h5LmluaXQoKSksdGhpcy5wcm94eX1nZXQgY29uZmlnKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdGhpcy5fY29uZmlnKX1vbkVycm9yKGUpe3RoaXMuZ2V0UHJveHkoKS5vbkVycm9yKGUpfW9mZkVycm9yKGUpe3RoaXMuZ2V0UHJveHkoKS5vZmZFcnJvcihlKX1zdGF0aWMgaW5pdGlhbGl6ZVByb3ZpZGVyKGUpe2lmKHRoaXMuaXNJbml0aWFsaXplZCl7Y29uc3QgZT0iQXR0ZW1wdGVkIHRvIGluaXRpYWxpemUgcHJvdmlkZXIgbW9yZSB0aGFuIG9uZSB0aW1lLiIsdD17fTt0cnl7Y29uc3QgdD1vKCk7bmV3IEwoe3NvdXJjZToiY29yZS5hbWF6b25Db25uZWN0UHJvdmlkZXIuaW5pdCIscHJvdmlkZXI6dH0pLmVycm9yKGUpfWNhdGNoKGUpe3QubG9nZ2luZ0Vycm9yPW51bGw9PWU/dm9pZCAwOmUubWVzc2FnZX10aHJvdyBuZXcgaSh7ZXJyb3JLZXk6ImF0dGVtcHRJbml0aWFsaXplTXVsdGlwbGVQcm92aWRlcnMiLHJlYXNvbjplLGRldGFpbHM6dH0pfXJldHVybiBmdW5jdGlvbihlKXtpZihyKXRocm93IG5ldyBFcnJvcigiR2xvYmFsIFByb3ZpZGVyIGlzIGFscmVhZHkgc2V0Iik7cj1lfShlKSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITAsZS5nZXRQcm94eSgpLGV9fWsuaXNJbml0aWFsaXplZD0hMTtjbGFzcyBQe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5lbmdpbmVDb250ZXh0PWUsdGhpcy5tb2R1bGVOYW1lc3BhY2U9dH1nZXQgcHJveHkoKXtpZighdGhpcy5tb2R1bGVQcm94eSl7Y29uc3QgZT10aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpLHQ9dGhpcy5tb2R1bGVOYW1lc3BhY2U7dGhpcy5tb2R1bGVQcm94eT1mdW5jdGlvbihlLHQpe3JldHVybntyZXF1ZXN0OihuLHIpPT5lLnJlcXVlc3QodCxuLHIpLHN1YnNjcmliZToobixyKT0+ZS5zdWJzY3JpYmUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtuYW1lc3BhY2U6dH0pLHIpLHVuc3Vic2NyaWJlOihuLHIpPT5lLnVuc3Vic2NyaWJlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxuKSx7bmFtZXNwYWNlOnR9KSxyKSxnZXRQcm94eUluZm86KCk9Pih7Y29ubmVjdGlvblN0YXR1czplLmNvbm5lY3Rpb25TdGF0dXMscHJveHlUeXBlOmUucHJveHlUeXBlfSksb25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlOnQ9PmUub25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlKHQpLG9mZkNvbm5lY3Rpb25TdGF0dXNDaGFuZ2U6dD0+ZS5vZmZDb25uZWN0aW9uU3RhdHVzQ2hhbmdlKHQpfX0oZSx0KX1yZXR1cm4gdGhpcy5tb2R1bGVQcm94eX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX1jcmVhdGVMb2dnZXIoZSl7cmV0dXJuIG5ldyBMKCJvYmplY3QiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse3Byb3ZpZGVyOigpPT50aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX0pOntzb3VyY2U6ZSxwcm92aWRlcjooKT0+dGhpcy5lbmdpbmVDb250ZXh0LmdldFByb3ZpZGVyKCl9KX1jcmVhdGVNZXRyaWNSZWNvcmRlcihlKXtyZXR1cm4gbmV3IGYoIm9iamVjdCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cHJvdmlkZXI6KCk9PnRoaXMuZW5naW5lQ29udGV4dC5nZXRQcm92aWRlcigpfSk6e25hbWVzcGFjZTplLHByb3ZpZGVyOigpPT50aGlzLmVuZ2luZUNvbnRleHQuZ2V0UHJvdmlkZXIoKX0pfX1jbGFzcyBOe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3ZpZGVyPWV9Z2V0UHJvdmlkZXIoKXtyZXR1cm4gdGhpcy5fcHJvdmlkZXI/dGhpcy5fcHJvdmlkZXI6bygpfWdldE1vZHVsZUNvbnRleHQoZSl7cmV0dXJuIG5ldyBQKHRoaXMsZSl9fWZ1bmN0aW9uIEQoe25hbWVzcGFjZTplLGNvbmZpZzp0fSl7cmV0dXJuIHQmJiJjb250ZXh0ImluIHQmJnQuY29udGV4dD90LmNvbnRleHQ6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4hMTtjb25zdCB0PWU7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0LmlkJiYiY29uZmlnImluIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldFByb3h5fSh0KT9uZXcgTih0KS5nZXRNb2R1bGVDb250ZXh0KGUpOm5ldyBOKG51bGw9PXQ/dm9pZCAwOnQucHJvdmlkZXIpLmdldE1vZHVsZUNvbnRleHQoZSl9Y2xhc3MgeHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubmFtZXNwYWNlPWUsdGhpcy5jb250ZXh0PUQoe25hbWVzcGFjZTplLGNvbmZpZzp0fSl9fWNsYXNzIE17Y29uc3RydWN0b3IoZSx0KXt0aGlzLm5hbWVzcGFjZT1lLHRoaXMuY29udGV4dD1EKHtuYW1lc3BhY2U6ZSxjb25maWc6dH0pfX19LDI3NTooZSx0LG4pPT57InVzZSBzdHJpY3QiO24ucih0KSxuLmQodCx7QW1hem9uQ29ubmVjdEdSU3RyZWFtc1NpdGU6KCk9PnAsQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlOigpPT5hLEdsb2JhbFJlc2lsaWVuY3lSZWdpb246KCk9PnJ9KTt2YXIgcixvPW4oMjM4KTtjbGFzcyBpIGV4dGVuZHMgby5ieXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuaW5zdGFuY2VVcmw9dm9pZCAwIT09dD90OmUuY29uZmlnLmluc3RhbmNlVXJsLHRoaXMucG9zdE1lc3NhZ2VIYW5kbGVyPXRoaXMubGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBvLnBnKHtzb3VyY2U6InNpdGVQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJjb25uZWN0aW5nIn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcil9cmVzZXRDb25uZWN0aW9uKGUpe3N1cGVyLnJlc2V0Q29ubmVjdGlvbihlKSx0aGlzLm1lc3NhZ2VQb3J0PXZvaWQgMCx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiY29ubmVjdGluZyJ9KX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLm1lc3NhZ2VQb3J0P3RoaXMubWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoZSk6dGhpcy5wcm94eUxvZ2dlci5lcnJvcigiRmFpbGVkIHRvIHNlbmQgVXBzdHJlYW1NZXNzYWdlLiBNZXNzYWdlUG9ydCBub3Qgc2V0Iix7bWVzc2FnZVR5cGU6ZS50eXBlfSl9YWRkQ29udGV4dFRvTG9nZ2VyKCl7cmV0dXJue319bGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UoZSl7aWYodGhpcy52ZXJpZnlPcmlnaW4oZSkmJnRoaXMudmVyaWZ5RXZlbnRTb3VyY2UoZSkpe2lmKCJjcm9zcy1kb21haW4tYWRhcHRlci1pbml0IiE9PWUuZGF0YS50eXBlKXJldHVybiB2b2lkIHRoaXMuaW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcihlLmRhdGEpO2lmKHRoaXMubWVzc2FnZVBvcnQmJih0aGlzLnJlc2V0Q29ubmVjdGlvbigiU3Vic2VxdWVudCBNZXNzYWdlIFBvcnQgRGV0ZWN0ZWQiKSx0aGlzLnByb3h5TG9nZ2VyLmluZm8oIlN1YnNlcXVlbnQgbWVzc2FnZSBwb3J0IHJlY2VpdmVkLiBSZXNldHRpbmcgY29ubmVjdGlvbiIpKSx0aGlzLm1lc3NhZ2VQb3J0PWUucG9ydHNbMF0sIXRoaXMubWVzc2FnZVBvcnQpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIHBvcnQgbm90IHByb3ZpZGVkIGJ5IGlmcmFtZSIpO3RoaXMubWVzc2FnZVBvcnQub25tZXNzYWdlPXRoaXMuY29uc3VtZXJNZXNzYWdlSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJpbml0aWFsaXppbmcifSksdGhpcy5tZXNzYWdlUG9ydC5wb3N0TWVzc2FnZSh7dHlwZToiY3Jvc3MtZG9tYWluLXNpdGUtcmVhZHkiLHByb3ZpZGVySWQ6dGhpcy5wcm92aWRlci5pZH0pLHRoaXMucHJveHlMb2dnZXIuZGVidWcoIkNEQSBQb3N0IG1lc3NhZ2UgaGFuZGxlciByZW1vdmVkIil9fXZlcmlmeU9yaWdpbihlKXtjb25zdCB0PWUub3JpZ2luO2lmKCF0KXJldHVybiB0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk5vIG9yaWdpbiBwcm92aWRlZCBpbiBldmVudC4gSWdub3JpbmcgZXZlbnQuIiksITE7bGV0IG47dHJ5e249bmV3IFVSTCh0aGlzLmluc3RhbmNlVXJsKS5vcmlnaW59Y2F0Y2goZSl7cmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIlVuYWJsZSB0byBwYXJzZSBleHBlY3RlZCBvcmlnaW4gZnJvbSBpbnN0YW5jZVVybC4gQ2Fubm90IG1hdGNoIix7ZXJyb3I6ZSxldmVudE9yaWdpbjp0LGluc3RhbmNlVXJsOnRoaXMuaW5zdGFuY2VVcmx9LHtkdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlOiEwfSksITF9cmV0dXJuIHQ9PT1ufHwoImNyb3NzLWRvbWFpbi1hZGFwdGVyLWluaXQiPT09ZS5kYXRhLnR5cGUmJnRoaXMucHJveHlMb2dnZXIud2FybigiT3JpZ2luIG9mIG1lc3NhZ2Ugd2l0aCB0eXBlICdjcm9zcy1kb21haW4tYWRhcHRlci1pbml0JyBkaWQgbm90IGV4cGVjdGVkIGluc3RhbmNlIHZhbHVlLiBJZ25vcmluZyIse2V4cGVjdGVkT3JpZ2luOm4sZXZlbnRPcmlnaW46dH0se2R1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGU6ITB9KSwhMSl9fWNsYXNzIHMgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTB9Z2V0IHByb3h5VHlwZSgpe3JldHVybiJzdHJlYW1zLXNpdGUifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpe3JldHVybiBPYmplY3QuYXNzaWduKHtfdHlwZToic3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LCgwLG8ueFEpKCkpfXZlcmlmeUV2ZW50U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5jY3BJRnJhbWU7aWYoIXQpcmV0dXJuIHRoaXMucHJveHlMb2dnZXIuZXJyb3IoIkNDUCBJZnJhbWUgbm90IHByb3ZpZGVkIHRvIHByb3h5LiBVbmFibGUgdG8gdmVyaWZ5IGV2ZW50IHRvIENvbm5lY3QgdG8gQ0NQLiIse29yaWdpbjplLm9yaWdpbn0pLCExO2NvbnN0IG49ZS5zb3VyY2U9PT10LmNvbnRlbnRXaW5kb3c7cmV0dXJuIG58fCh0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQrKyx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ8NSYmdGhpcy5wcm94eUxvZ2dlci53YXJuKCJNZXNzYWdlIGNhbWUgZnJvbSB1bmV4cGVjdGVkIGlmcmFtZS4gTm90IGEgdmFsaWQgQ0NQLiBXaWxsIG5vdCBjb25uZWN0Iix7b3JpZ2luOmUub3JpZ2luLHVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ6dGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50fSkpLG59aW52YWxpZEluaXRNZXNzYWdlSGFuZGxlcigpe319Y2xhc3MgYSBleHRlbmRzIG8uTHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoe2NvbmZpZzplLHByb3h5RmFjdG9yeTplPT5uZXcgcyhlKX0pfXN0YXRpYyBpbml0KGUpe2NvbnN0IHQ9bmV3IGEoZSk7cmV0dXJuIGEuaW5pdGlhbGl6ZVByb3ZpZGVyKHQpLHtwcm92aWRlcjp0fX1zdGF0aWMgZ2V0IGRlZmF1bHQoKXtyZXR1cm4oMCxvLkx6KSgiQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCIpfXNldENDUElmcmFtZShlKXt0aGlzLmdldFByb3h5KCkuc2V0Q0NQSWZyYW1lKGUpfX0hZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PSJwcmltYXJ5IixlLlNlY29uZGFyeT0ic2Vjb25kYXJ5In0ocnx8KHI9e30pKTtjbGFzcyBjIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcih7cHJvdmlkZXI6ZSxyZWdpb246dCxnZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW46bixyZWxheVRvR2xvYmFsUmVzaWxpZW5jeVByb3h5Om99KXtzdXBlcihlLHQ9PT1yLlByaW1hcnk/ZS5jb25maWcucHJpbWFyeUluc3RhbmNlVXJsOmUuY29uZmlnLnNlY29uZGFyeUluc3RhbmNlVXJsKSx0aGlzLmdldFBhcmVudFVwc3RyZWFtTWVzc2FnZU9yaWdpbj1uLHRoaXMucmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eT1vLHRoaXMuY2NwSUZyYW1lPW51bGwsdGhpcy5yZWdpb249dCx0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnQ9MH1nZXQgcHJveHlUeXBlKCl7cmV0dXJuImFjZ3ItcmVnaW9uYWwtcHJveHkifXNldENDUElmcmFtZShlKXtjb25zdCB0PUJvb2xlYW4odGhpcy5jY3BJRnJhbWUpO3RoaXMuY2NwSUZyYW1lPWUsdGhpcy51bmV4cGVjdGVkSWZyYW1lV2FybmluZ0NvdW50PTAsdCYmdGhpcy5yZXNldENvbm5lY3Rpb24oIkNDUCBJRnJhbWUgVXBkYXRlZCIpfWhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKXtzd2l0Y2goZS50eXBlKXtjYXNlInJlc3BvbnNlIjpjYXNlInB1Ymxpc2giOmNhc2UiZXJyb3IiOnRoaXMucmVsYXlUb0dsb2JhbFJlc2lsaWVuY3lQcm94eShlKTticmVhaztkZWZhdWx0OnN1cGVyLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChlKX19Z2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCl9dmVyaWZ5RXZlbnRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLmNjcElGcmFtZTtpZighdClyZXR1cm4gdGhpcy5wcm94eUxvZ2dlci5lcnJvcigiQ0NQIElmcmFtZSBub3QgcHJvdmlkZWQgdG8gcHJveHkuIFVuYWJsZSB0byB2ZXJpZnkgZXZlbnQgdG8gQ29ubmVjdCB0byBDQ1AuIix7b3JpZ2luOmUub3JpZ2lufSksITE7Y29uc3Qgbj1lLnNvdXJjZT09PXQuY29udGVudFdpbmRvdztyZXR1cm4gbnx8KHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudCsrLHRoaXMudW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudDw1JiZ0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk1lc3NhZ2UgY2FtZSBmcm9tIHVuZXhwZWN0ZWQgaWZyYW1lLiBOb3QgYSB2YWxpZCBDQ1AuIFdpbGwgbm90IGNvbm5lY3QiLHtvcmlnaW46ZS5vcmlnaW4sdW5leHBlY3RlZElmcmFtZVdhcm5pbmdDb3VudDp0aGlzLnVuZXhwZWN0ZWRJZnJhbWVXYXJuaW5nQ291bnR9KSksbn1zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSl7c3VwZXIuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpfWludmFsaWRJbml0TWVzc2FnZUhhbmRsZXIoKXt9fWZ1bmN0aW9uIHUoZSl7Y29uc3QgdD1PYmplY3QudmFsdWVzKHIpO2lmKCF0LmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZWdpb246ICR7ZX0uIFZhbGlkIHJlZ2lvbnMgYXJlOiAke3Quam9pbigiLCAiKX1gKX1jbGFzcyBsIGV4dGVuZHMgby5ieXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmFjdGl2ZVJlZ2lvbj1yLlByaW1hcnksdGhpcy5yZWdpb25Qcm94aWVzPXtbci5QcmltYXJ5XTpuZXcgYyh7cHJvdmlkZXI6ZSxyZWdpb246ci5QcmltYXJ5LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbi5iaW5kKHRoaXMpLHJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk6dGhpcy5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QuYmluZCh0aGlzKX0pLFtyLlNlY29uZGFyeV06bmV3IGMoe3Byb3ZpZGVyOmUscmVnaW9uOnIuU2Vjb25kYXJ5LGdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbi5iaW5kKHRoaXMpLHJlbGF5VG9HbG9iYWxSZXNpbGllbmN5UHJveHk6dGhpcy5oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QuYmluZCh0aGlzKX0pfSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBvLnBnKHtzb3VyY2U6Imdsb2JhbFJlc2lsaWVuY3lQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe09iamVjdC52YWx1ZXModGhpcy5yZWdpb25Qcm94aWVzKS5mb3JFYWNoKChlPT5lLmluaXQoKSkpfXNldENDUElmcmFtZSh7aWZyYW1lOmUscmVnaW9uOnR9KXt1KHQpLHRoaXMucmVnaW9uUHJveGllc1t0XS5zZXRDQ1BJZnJhbWUoZSl9c2V0QWN0aXZlUmVnaW9uKGUpe2lmKHUoZSksZSE9PXRoaXMuYWN0aXZlUmVnaW9uKXtjb25zdCB0PXRoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0sbj10aGlzLnJlZ2lvblByb3hpZXNbZV07dGhpcy51bnN1YnNjcmliZUFsbEhhbmRsZXJzKCksdGhpcy5wcm94eUxvZ2dlci5pbmZvKCJBY3RpdmUgcmVnaW9uIGNoYW5nZWQiLHtjdXJyZW50OmUsaW5zdGFuY2VVcmw6bi5pbnN0YW5jZVVybCxwcmV2aW91c0luc3RhbmNlVXJsOnQuaW5zdGFuY2VVcmx9KSx0aGlzLmFjdGl2ZVJlZ2lvbj1lLHRoaXMucmVzdG9yZUFsbEhhbmRsZXIoKTtjb25zdCByPXRoaXMuc3RhdHVzLmdldFN0YXR1cygpLG89bi5jb25uZWN0aW9uU3RhdHVzO3N3aXRjaChvKXtjYXNlInJlYWR5Ijp0aGlzLnByb3h5TG9nZ2VyLmluZm8oIkFjdGl2ZSByZWdpb24gaXMgcmVhZHkiLHthY3RpdmVSZWdpb25TdGF0dXM6b30pLHRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJyZWFkeSIsY29ubmVjdGlvbklkOm4uY29ubmVjdGlvbklkfSk7YnJlYWs7Y2FzZSJjb25uZWN0aW5nIjpjYXNlImluaXRpYWxpemluZyI6ciE9PW8mJnRoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOm99KTticmVhaztjYXNlImVycm9yIjpyIT09byYmdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6ImVycm9yIixyZWFzb246Im5ldyBhY3RpdmUgcmVnaW9uIGluIGVycm9yIG9uIHRyYW5zaXRpb24iLGRldGFpbHM6e3JlZ2lvbjp0aGlzLmFjdGl2ZVJlZ2lvbn19KX19fWdldCBwcm94eVR5cGUoKXtyZXR1cm4iZ2xvYmFsLXJlc2lsaWVuY3ktcHJveHkifXNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1hZGRDb250ZXh0VG9Mb2dnZXIoKXtyZXR1cm57YWN0aXZlUmVnaW9uOnRoaXMuYWN0aXZlUmVnaW9ufX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLnJlZ2lvblByb3hpZXNbdGhpcy5hY3RpdmVSZWdpb25dLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChlKX1nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtfdHlwZToiZ2xvYmFsLXJlc2lsaWVuY3ktc3RyZWFtcy1zaXRlIixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9LCgwLG8ueFEpKCkpLHthY3RpdmVSZWdpb246dGhpcy5hY3RpdmVSZWdpb259KX1hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS5hZGRDaGlsZElmcmFtZUNoYW5uZWwoZSl9YWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpe3RoaXMucmVnaW9uUHJveGllc1t0aGlzLmFjdGl2ZVJlZ2lvbl0uYWRkQ2hpbGRDb21wb25lbnRDaGFubmVsKGUpfXVwZGF0ZUNoaWxkSWZyYW1lQ2hhbm5lbFBvcnQoZSl7dGhpcy5yZWdpb25Qcm94aWVzW3RoaXMuYWN0aXZlUmVnaW9uXS51cGRhdGVDaGlsZElmcmFtZUNoYW5uZWxQb3J0KGUpfX1jbGFzcyBwIGV4dGVuZHMgby5MdHtjb25zdHJ1Y3RvcihlKXtzdXBlcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OmU9Pm5ldyBsKGUpfSl9c3RhdGljIGluaXQoZSl7Y29uc3QgdD1uZXcgcChlKTtyZXR1cm4gcC5pbml0aWFsaXplUHJvdmlkZXIodCkse3Byb3ZpZGVyOnR9fXN0YXRpYyBnZXQgZGVmYXVsdCgpe3JldHVybigwLG8uTHopKCJBbWF6b25Db25uZWN0R1JTdHJlYW1zU2l0ZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKX1zZXRDQ1BJZnJhbWUoZSl7dGhpcy5nZXRQcm94eSgpLnNldENDUElmcmFtZShlKX1zZXRBY3RpdmVSZWdpb24oZSl7dGhpcy5nZXRQcm94eSgpLnNldEFjdGl2ZVJlZ2lvbihlKX19fSw4MjU6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0LmFnZW50QXBwPXt9O3ZhciBuPXtDQ1A6ImNjcCIsR1VJREVTOiJjdXN0b212aWV3cyJ9O3QuYWdlbnRBcHAuaW5pdENDUD10LmNvcmUuaW5pdENDUCx0LmFnZW50QXBwLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7fSx0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSksbz1uZXcgdC5JRnJhbWVDb25kdWl0KG4sd2luZG93LHIpLGk9W3QuQWdlbnRFdmVudHMuVVBEQVRFLHQuQ29udGFjdEV2ZW50cy5WSUVXLHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsdC5UYXNrRXZlbnRzLkNSRUFURUQsdC5FbWFpbEV2ZW50cy5DUkVBVEVEXTtyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24odCl7by5zZW5kVXBzdHJlYW0oZSx0KX0pKX0pKX0pKX07dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCJjY3AtdjIiKTtyZXR1cm4gZS5zbGljZSgwLHQtMSl9LG89ZnVuY3Rpb24oZSxyLG8pe2NvbnN0e2NvbnRhY3Q6cyxkaXNhYmxlQXV0b0Rlc3Ryb3k6YSxpZnJhbWVTdWZmaXg6Yyx0ZXJtaW5hdGVDdXN0b21WaWV3T3B0aW9uczp1PXt9LGRlZHVwbGljYXRlOmw9ITB9PW8uY3VzdG9tVmlld3NQYXJhbXM7bGV0IHAsZCx7Y29udGFjdEZsb3dJZDpofT1vLmN1c3RvbVZpZXdzUGFyYW1zLGc9aShzKTt2YXIgZjtmPW89PntvJiYoZD0oZT0+e3RyeXtyZXR1cm4gZS50b1NuYXBzaG90KCkuY29udGFjdERhdGEuc3RhdGUudHlwZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oIltDdXN0b21WaWV3c10gRmFpbGVkIHRvIGV4dHJhY3QgY29udGFjdCBzdGF0dXMuIil9fSkobyksZz1pKG8pLHA9KGU9Pnt0cnl7Y29uc3QgdD1lLnRvU25hcHNob3QoKS5jb250YWN0RGF0YS5jb25uZWN0aW9ucy5maW5kKChlPT4iYWdlbnQiPT09ZS50eXBlKSk7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuY29ubmVjdGlvbklkfWNhdGNoKGUpe3JldHVybiB2b2lkIGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSBGYWlsZWQgdG8gZXh0cmFjdCBhZ2VudENvbm5lY3Rpb25JZC4iKX19KShvKSxwJiZjb25zb2xlLmRlYnVnKCJbQ3VzdG9tVmlld3NdIEFnZW50IGNvbm5lY3Rpb24gSUQgZGVyaXZlZCBmcm9tIGNvbnRhY3Qgb2JqZWN0IiksKG49PnthfHwobi5vbkRlc3Ryb3koKCgpPT57dmFyIG4scixvO3QuY29yZS50ZXJtaW5hdGVDdXN0b21WaWV3KGUsYyx7dGltZW91dDpudWxsIT09KG49dS50aW1lb3V0KSYmdm9pZCAwIT09bj9uOjVlMyxoaWRlSWZyYW1lOm51bGw9PT0ocj11LmhpZGVJZnJhbWUpfHx2b2lkIDA9PT1yfHxyLHJlc29sdmVJZnJhbWU6bnVsbD09PShvPXUucmVzb2x2ZUlmcmFtZSl8fHZvaWQgMD09PW98fG99KX0pKSxjb25zb2xlLmRlYnVnKCJbQ3VzdG9tVmlld3NdIG9uRGVzdHJveSBoYW5kbGVyIHJlZ2lzdGVyZWQuIikpfSkobykpLCgodCxvLGkpPT57dmFyIHM7Y29uc3QgYT1jPyIiLmNvbmNhdChuLkdVSURFUykuY29uY2F0KGMpOm4uR1VJREVTLHU9KG51bGw9PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvcigiaWZyYW1lW2lkPSciLmNvbmNhdChhLCInXSIpKSl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfHwobnVsbD09PShzPXdpbmRvdy50b3ApfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpKTtpZighdSl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c10gSWZyYW1lIG5vdCBmb3VuZCBmb3IgYXBwOiAiLmNvbmNhdChhKSk7Y29uc3QgcD1BV1MudXRpbC51dWlkLnY0KCksZD1uZXcgVVJMU2VhcmNoUGFyYW1zKHthZ2VudEFwcFRhYklkOiIiLmNvbmNhdChwLCItdGFiIil9KTtoJiZkLnNldCgiY29udGFjdEZsb3dJZCIsaCksdCYmZC5zZXQoImN1cnJlbnRDb250YWN0SWQiLHQpLG8mJmQuc2V0KCJhZ2VudENvbm5lY3Rpb25JZCIsbyk7Y29uc3QgZz1sP2k/aS50b1VwcGVyQ2FzZSgpOiJERUZBVUxUIjoiQURIT0MiO2Quc2V0KCJkdXBsaWNhdGVDdXN0b21WaWV3c0FwcElkIixnKSx1LnNyYz0iIi5jb25jYXQoZSwiPyIpLmNvbmNhdChkLnRvU3RyaW5nKCkpLGNvbnNvbGUuZGVidWcoIltDdXN0b21WaWV3c10gSWZyYW1lIHNvdXJjZSBpbml0aWFsaXplZCB3aXRoIHN0YXRlIGlkZW50aWZpZXI6ICIsZyl9KShnLHAsZCl9LCJzdHJpbmciPT10eXBlb2Ygcz8oY29uc29sZS5kZWJ1ZygiW0N1c3RvbVZpZXdzXSBSZXNvbHZpbmcgY29udGFjdCBJRCBzdHJpbmcuLi4iKSx0LmFnZW50KChlPT57Y29uc3QgdD1lLmdldENvbnRhY3RzKCkuZmluZCgoZT0+e3RyeXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PWUuZ2V0Q29udGFjdElkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKGUpKT09PXN9Y2F0Y2goZSl7cmV0dXJuITF9fSkpO3R8fGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSBVbmFibGUgdG8gcmVzb2x2ZSBjb250YWN0IElEIHRvIGxpdmUgY29udGFjdCBvYmplY3QuIiksZih0KX0pKSk6ZihzKX0saT1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7dHJ5e3JldHVybiBlLmdldENvbnRhY3RJZCgpfWNhdGNoKHQpe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIltDdXN0b21WaWV3c106IEludmFsaWQgQ29udGFjdCBQcm92aWRlZDogIixlKX19O3QuYWdlbnRBcHAuaW5pdEFwcD1mdW5jdGlvbihlLGkscyxhKXthPWF8fHt9O3ZhciBjLHU9cy5lbmRzV2l0aCgiLyIpfHwvWz8mXT9bXj0/Jl0rPVtePT8mXSsvZy50ZXN0KHMpP3M6cysiLyIsbD1hLm9uTG9hZD9hLm9uTG9hZDpudWxsLHA9e2VuZHBvaW50OnUsc3R5bGU6YS5zdHlsZSxvbkxvYWQ6bH07aWYoZT09PW4uQ0NQX0RSKWM9bi5DQ1A7ZWxzZSBpZihlPT09bi5HVUlERVMmJmEuY3VzdG9tVmlld3NQYXJhbXMpe2NvbnN0e2lmcmFtZVN1ZmZpeDplfT1hLmN1c3RvbVZpZXdzUGFyYW1zO2lmKGM9ZT8iIi5jb25jYXQobi5HVUlERVMpLmNvbmNhdChlKToiIi5jb25jYXQobi5HVUlERVMpLHZvaWQgMCE9PXQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuZ2V0KGMpKXRocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXTogQ3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIHByb3ZpZGUgYSBkaWZmZXJlbnQgaWZyYW1lU3VmZml4IGZvciB0aGUgY3VzdG9tIHZpZXdzIGFwcGxpY2F0aW9uLiIpfWVsc2UgYz1lO3ZhciBkPSJzdHJpbmciPT10eXBlb2YgaT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKTppO3QuYWdlbnRBcHAuQXBwUmVnaXN0cnkucmVnaXN0ZXIoYyxwLGQpLHQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuc3RhcnQoYywoZnVuY3Rpb24oaSl7dmFyIHM9aS5lbmRwb2ludCx1PWkuY29udGFpbmVyRE9NO3JldHVybntpbml0OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIGEuY2NwUGFyYW1zPWEuY2NwUGFyYW1zP2EuY2NwUGFyYW1zOnt9LGEuc3R5bGUmJihhLmNjcFBhcmFtcy5zdHlsZT1hLnN0eWxlKSxmdW5jdGlvbihlLG4sbyl7dmFyIGk9e2NjcFVybDplLGNjcExvYWRUaW1lb3V0OjFlNCxsb2dpblBvcHVwOiEwLGxvZ2luVXJsOnIoZSkrIi9sb2dpbiIsc29mdHBob25lOnthbGxvd0ZyYW1lZFNvZnRwaG9uZTohMCxkaXNhYmxlUmluZ3RvbmU6ITEsYWxsb3dGcmFtZWRWaWRlb0NhbGw6ITAsYWxsb3dGcmFtZWRTY3JlZW5TaGFyaW5nOiEwLGFsbG93RnJhbWVkU2NyZWVuU2hhcmluZ1BvcFVwOiExfX0scz10Lm1lcmdlKGksby5jY3BQYXJhbXMpO3QuY29yZS5pbml0Q0NQKG4scyl9KHMsdSxhKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1hLmN1c3RvbVZpZXdzUGFyYW1zPyh0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uKGMscyx1KSxvKHMsdSxhKSk6dC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLHMsdSk7ZGVmYXVsdDpyZXR1cm4gdC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLHMsdSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7c3dpdGNoKGUpe2Nhc2Ugbi5DQ1A6cmV0dXJuIGk9cihzKSsiL2xvZ291dCIsdC5mZXRjaChpLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9KS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLlRFUk1JTkFURSksITB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldExvZygpLmVycm9yKCJBbiBlcnJvciBvY2N1cmVkIG9uIGxvZ291dC4iK2UpLndpdGhFeGNlcHRpb24oZSksd2luZG93LmxvY2F0aW9uLmhyZWY9aSwhMX0pKTtjYXNlIG4uR1VJREVTOnJldHVybiB2b2lkIDAhPT1hLmN1c3RvbVZpZXdzUGFyYW1zPyhvPWMsdm9pZCB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmRlbGV0ZShvKSk6bnVsbDtkZWZhdWx0OnJldHVybiBudWxsfXZhciBvLGl9fX0pKX0sdC5hZ2VudEFwcC5zdG9wQXBwPWZ1bmN0aW9uKGUpe3JldHVybiB0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnN0b3AoZSl9fSgpfSw5NjE6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbixyPSJjY3AiO2UuY29ubmVjdC5hZ2VudEFwcC5BcHBSZWdpc3RyeT0obj17fSx7cmVnaXN0ZXI6ZnVuY3Rpb24oZSx0LHIpe25bZV09e2NvbnRhaW5lckRPTTpyLGVuZHBvaW50OnQuZW5kcG9pbnQsc3R5bGU6dC5zdHlsZSxpbnN0YW5jZTp2b2lkIDAsb25Mb2FkOnQub25Mb2FkfX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXtpZihuW2VdKXt2YXIgbz1uW2VdLmNvbnRhaW5lckRPTSxpPW5bZV0uZW5kcG9pbnQscz1uW2VdLnN0eWxlLGE9bltlXS5vbkxvYWQ7aWYoZSE9PXIpe3ZhciBjPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBvLnNyYz10LG8uc3R5bGU9bnx8IndpZHRoOiAxMDAlOyBoZWlnaHQ6MTAwJTsiLG8uaWQ9ZSxvWyJhcmlhLWxhYmVsIl09ZSxvLm9ubG9hZD1yLG8uYWxsb3c9ImNsaXBib2FyZC1yZWFkOyBjbGlwYm9hcmQtd3JpdGUiLG8uc2V0QXR0cmlidXRlKCJzYW5kYm94IiwiYWxsb3ctZm9ybXMgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIiksb30oZSxpLHMsYSk7by5hcHBlbmRDaGlsZChjKX1yZXR1cm4gbltlXS5pbnN0YW5jZT10KG5bZV0pLG5bZV0uaW5zdGFuY2UuaW5pdCgpfX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSxkZWxldGU6ZnVuY3Rpb24oZSl7ZGVsZXRlIG5bZV19LHN0b3A6ZnVuY3Rpb24oZSl7aWYobltlXSl7dmFyIHQscj1uW2VdLG89ci5jb250YWluZXJET00ucXVlcnlTZWxlY3RvcigiaWZyYW1lIik7aWYoZS5pbmNsdWRlcygiY3VzdG9tdmlld3MiKSl7Y29uc3QgdD0iaWZyYW1lW2lkPSciLmNvbmNhdChlLCInXSIpO289ci5jb250YWluZXJET00ucXVlcnlTZWxlY3Rvcih0KX1yZXR1cm4gci5jb250YWluZXJET00ucmVtb3ZlQ2hpbGQobyksci5pbnN0YW5jZSYmKHQ9ci5pbnN0YW5jZS5kZXN0cm95KCksZGVsZXRlIHIuaW5zdGFuY2UpLHR9fX0pfSgpfSw2MTA6KGUsdCxuKT0+e2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cihPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2koZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnIoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gaShlLHQsbil7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT10eXBlb2YgcilyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT10eXBlb2YgdD90OnQrIiJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10O2NvbnN0e1Nlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudDpyLHNlbmRBY3Rpdml0eTpzfT1uKDU3OCkse0NvbnRhY3RDbGllbnQ6YX09big3OTEpO3QuQWdlbnRTdGF0ZVR5cGU9dC5tYWtlRW51bShbImluaXQiLCJyb3V0YWJsZSIsIm5vdF9yb3V0YWJsZSIsIm9mZmxpbmUiLCJzeXN0ZW0iLCJlcnJvciJdKSx0LkFnZW50U3RhdHVzVHlwZT10LkFnZW50U3RhdGVUeXBlLHQuQWdlbnRBdmFpbFN0YXRlcz10Lm1ha2VFbnVtKFsiSW5pdCIsIkJ1c3kiLCJBZnRlckNhbGxXb3JrIiwiQ2FsbGluZ0N1c3RvbWVyIiwiRGlhbGluZyIsIkpvaW5pbmciLCJQZW5kaW5nQXZhaWxhYmxlIiwiUGVuZGluZ0J1c3kiXSksdC5BZ2VudEVycm9yU3RhdGVzPXQubWFrZUVudW0oWyJFcnJvciIsIkFnZW50SHVuZ1VwIiwiQmFkQWRkcmVzc0FnZW50IiwiQmFkQWRkcmVzc0N1c3RvbWVyIiwiRGVmYXVsdCIsIkZhaWxlZENvbm5lY3RBZ2VudCIsIkZhaWxlZENvbm5lY3RDdXN0b21lciIsIkludmFsaWRMb2NhbGUiLCJMaW5lRW5nYWdlZEFnZW50IiwiTGluZUVuZ2FnZWRDdXN0b21lciIsIk1pc3NlZENhbGxBZ2VudCIsIk1pc3NlZENhbGxDdXN0b21lciIsIk11bHRpcGxlQ2NwV2luZG93cyIsIlJlYWx0aW1lQ29tbXVuaWNhdGlvbkVycm9yIl0pLHQuRW5kcG9pbnRUeXBlPXQubWFrZUVudW0oWyJwaG9uZV9udW1iZXIiLCJhZ2VudCIsInF1ZXVlIl0pLHQuQWRkcmVzc1R5cGU9dC5FbmRwb2ludFR5cGUsdC5Db25uZWN0aW9uVHlwZT10Lm1ha2VFbnVtKFsiYWdlbnQiLCJpbmJvdW5kIiwib3V0Ym91bmQiLCJtb25pdG9yaW5nIl0pLHQuQ29ubmVjdGlvblN0YXRlVHlwZT10Lm1ha2VFbnVtKFsiaW5pdCIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiLCJob2xkIiwiZGlzY29ubmVjdGVkIiwic2lsZW50X21vbml0b3IiLCJiYXJnZSJdKSx0LkNvbm5lY3Rpb25TdGF0dXNUeXBlPXQuQ29ubmVjdGlvblN0YXRlVHlwZSx0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUz10LnNldChbdC5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RFRCx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRCx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuU0lMRU5UX01PTklUT1IsdC5Db25uZWN0aW9uU3RhdGVUeXBlLkJBUkdFXSksdC5DT05ORUNUSU9OX0NPTk5FQ1RFRF9TVEFURVM9dC5zZXQoW3QuQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNURUQsdC5Db25uZWN0aW9uU3RhdGVUeXBlLlNJTEVOVF9NT05JVE9SLHQuQ29ubmVjdGlvblN0YXRlVHlwZS5CQVJHRV0pLHQuQ29udGFjdFN0YXRlVHlwZT10Lm1ha2VFbnVtKFsiaW5pdCIsImluY29taW5nIiwicGVuZGluZyIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiLCJtaXNzZWQiLCJlcnJvciIsImVuZGVkIiwicmVqZWN0ZWQiLCJwYXVzZWQiXSksdC5Db250YWN0U3RhdHVzVHlwZT10LkNvbnRhY3RTdGF0ZVR5cGUsdC5DT05UQUNUX0FDVElWRV9TVEFURVM9dC5tYWtlRW51bShbInBhdXNlZCIsImluY29taW5nIiwicGVuZGluZyIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiXSksdC5Db250YWN0VHlwZT10Lm1ha2VFbnVtKFsidm9pY2UiLCJxdWV1ZV9jYWxsYmFjayIsImNoYXQiLCJ0YXNrIiwiZW1haWwiXSksdC5Db250YWN0SW5pdGlhdGlvbk1ldGhvZD10Lm1ha2VFbnVtKFsiaW5ib3VuZCIsIm91dGJvdW5kIiwidHJhbnNmZXIiLCJxdWV1ZV90cmFuc2ZlciIsImNhbGxiYWNrIiwiYXBpIiwiZGlzY29ubmVjdCIsIndlYnJ0Y19hcGkiLCJhZ2VudF9yZXBseSJdKSx0Lk1vbml0b3JpbmdNb2RlPXQubWFrZUVudW0oWyJTSUxFTlRfTU9OSVRPUiIsIkJBUkdFIl0pLHQuTW9uaXRvcmluZ0Vycm9yVHlwZXM9dC5tYWtlRW51bShbImludmFsaWRfdGFyZ2V0X3N0YXRlIl0pLHQuQ2hhbm5lbFR5cGU9dC5tYWtlRW51bShbIlZPSUNFIiwiQ0hBVCIsIlRBU0siXSksdC5NZWRpYVR5cGU9dC5tYWtlRW51bShbInNvZnRwaG9uZSIsImNoYXQiLCJ0YXNrIiwiZW1haWwiXSksdC5Tb2Z0cGhvbmVDYWxsVHlwZT10Lm1ha2VFbnVtKFsiYXVkaW9fdmlkZW8iLCJ2aWRlb19vbmx5IiwiYXVkaW9fb25seSIsIm5vbmUiXSksdC5Tb2Z0cGhvbmVFcnJvclR5cGVzPXQubWFrZUVudW0oWyJ1bnN1cHBvcnRlZF9icm93c2VyIiwibWljcm9waG9uZV9ub3Rfc2hhcmVkIiwic2lnbmFsbGluZ19oYW5kc2hha2VfZmFpbHVyZSIsInNpZ25hbGxpbmdfY29ubmVjdGlvbl9mYWlsdXJlIiwiaWNlX2NvbGxlY3Rpb25fdGltZW91dCIsInVzZXJfYnVzeV9lcnJvciIsIndlYnJ0Y19lcnJvciIsInJlYWx0aW1lX2NvbW11bmljYXRpb25fZXJyb3IiLCJ2ZGlfc3RyYXRlZ3lfbm90X3N1cHBvcnRlZCIsInZkaV9yZWRpcl9ub3Rfc3VwcG9ydGVkIiwib3RoZXIiXSksdC5DbGlja1R5cGU9dC5tYWtlRW51bShbIkFjY2VwdCIsIlJlamVjdCIsIkhhbmd1cCJdKSx0LlZvaWNlSWRFcnJvclR5cGVzPXQubWFrZUVudW0oWyJub19zcGVha2VyX2lkX2ZvdW5kIiwic3BlYWtlcl9pZF9ub3RfZW5yb2xsZWQiLCJnZXRfc3BlYWtlcl9pZF9mYWlsZWQiLCJnZXRfc3BlYWtlcl9zdGF0dXNfZmFpbGVkIiwib3B0X291dF9zcGVha2VyX2ZhaWxlZCIsIm9wdF9vdXRfc3BlYWtlcl9pbl9sY21zX2ZhaWxlZCIsImRlbGV0ZV9zcGVha2VyX2ZhaWxlZCIsInN0YXJ0X3Nlc3Npb25fZmFpbGVkIiwiZXZhbHVhdGVfc3BlYWtlcl9mYWlsZWQiLCJzZXNzaW9uX25vdF9leGlzdHMiLCJkZXNjcmliZV9zZXNzaW9uX2ZhaWxlZCIsImVucm9sbF9zcGVha2VyX2ZhaWxlZCIsInVwZGF0ZV9zcGVha2VyX2lkX2ZhaWxlZCIsInVwZGF0ZV9zcGVha2VyX2lkX2luX2xjbXNfZmFpbGVkIiwibm90X3N1cHBvcnRlZF9vbl9jb25mZXJlbmNlX2NhbGxzIiwiZW5yb2xsX3NwZWFrZXJfdGltZW91dCIsImV2YWx1YXRlX3NwZWFrZXJfdGltZW91dCIsImdldF9kb21haW5faWRfZmFpbGVkIiwibm9fZG9tYWluX2lkX2ZvdW5kIl0pLHQuQ1RJRXhjZXB0aW9ucz10Lm1ha2VFbnVtKFsiQWNjZXNzRGVuaWVkRXhjZXB0aW9uIiwiSW52YWxpZFN0YXRlRXhjZXB0aW9uIiwiQmFkRW5kcG9pbnRFeGNlcHRpb24iLCJJbnZhbGlkQWdlbnRBUk5FeGNlcHRpb24iLCJJbnZhbGlkQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsIkludmFsaWRDb250YWN0VHlwZUV4Y2VwdGlvbiIsIlBhZ2luYXRpb25FeGNlcHRpb24iLCJSZWZyZXNoVG9rZW5FeHBpcmVkRXhjZXB0aW9uIiwiU2VuZERhdGFGYWlsZWRFeGNlcHRpb24iLCJVbmF1dGhvcml6ZWRFeGNlcHRpb24iLCJRdW90YUV4Y2VlZGVkRXhjZXB0aW9uIl0pLHQuVm9pY2VJZFN0cmVhbWluZ1N0YXR1cz10Lm1ha2VFbnVtKFsiT05HT0lORyIsIkVOREVEIiwiUEVORElOR19DT05GSUdVUkFUSU9OIl0pLHQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb249dC5tYWtlRW51bShbIkFDQ0VQVCIsIlJFSkVDVCIsIk5PVF9FTk9VR0hfU1BFRUNIIiwiU1BFQUtFUl9OT1RfRU5ST0xMRUQiLCJTUEVBS0VSX09QVEVEX09VVCIsIlNQRUFLRVJfSURfTk9UX1BST1ZJREVEIiwiU1BFQUtFUl9FWFBJUkVEIl0pLHQuVm9pY2VJZEZyYXVkRGV0ZWN0aW9uRGVjaXNpb249dC5tYWtlRW51bShbIk5PVF9FTk9VR0hfU1BFRUNIIiwiSElHSF9SSVNLIiwiTE9XX1JJU0siXSksdC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb249dC5tYWtlRW51bShbIkF1dGhlbnRpY2F0ZWQiLCJOb3RBdXRoZW50aWNhdGVkIiwiSW5jb25jbHVzaXZlIiwiTm90RW5yb2xsZWQiLCJPcHRlZE91dCIsIk5vdEVuYWJsZWQiLCJFcnJvciJdKSx0LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiSGlnaFJpc2siLCJMb3dSaXNrIiwiSW5jb25jbHVzaXZlIiwiTm90RW5hYmxlZCIsIkVycm9yIl0pLHQuQ3VzdG9tZXJBdXRoZW50aWNhdGlvblN0YXR1cz10Lm1ha2VFbnVtKFsiQVVUSEVOVElDQVRFRCIsIkZBSUxFRCIsIlRJTUVPVVQiXSksdC5WaWRlb0NhcGFiaWxpdHk9dC5tYWtlRW51bShbIlNFTkQiXSksdC5TY3JlZW5TaGFyZUNhcGFiaWxpdHk9dC5tYWtlRW51bShbIlNFTkQiXSksdC5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXM9dC5tYWtlRW51bShbIk5PVF9FTk9VR0hfU1BFRUNIIiwiSU5fUFJPR1JFU1MiLCJDT01QTEVURUQiLCJGQUlMRUQiXSksdC5Wb2ljZUlkU3BlYWtlclN0YXR1cz10Lm1ha2VFbnVtKFsiT1BURURfT1VUIiwiRU5ST0xMRUQiLCJQRU5ESU5HIl0pLHQuVm9pY2VJZENvbnN0YW50cz17RVZBTFVBVEVfU0VTU0lPTl9ERUxBWToxZTQsRVZBTFVBVElPTl9NQVhfUE9MTF9USU1FUzoyNCxFVkFMVUFUSU9OX1BPTExJTkdfSU5URVJWQUw6NWUzLEVOUk9MTE1FTlRfTUFYX1BPTExfVElNRVM6MTIwLEVOUk9MTE1FTlRfUE9MTElOR19JTlRFUlZBTDo1ZTMsU1RBUlRfU0VTU0lPTl9ERUxBWTo4ZTN9LHQuQWdlbnRQZXJtaXNzaW9ucz17T1VUQk9VTkRfQ0FMTDoib3V0Ym91bmRDYWxsIixWT0lDRV9JRDoidm9pY2VJZCJ9O2NsYXNzIGN7fWkoYywiaXNFbmFibGVkIiwoZnVuY3Rpb24oKXtjb25zdCBlPXQuaXNDUk0oKT90LmNvcmUuZ2V0Q2xpZW50KCk6dC5jb3JlLmdldEFwaVByb3h5Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe2UuY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5RUl9JTlRFR1JBVElPTl9FWElTVFMsbnVsbCx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIlF1aWNrIFJlc3BvbnNlcyBpc0VuYWJsZWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiUXVpY2sgUmVzcG9uc2VzIGlzRW5hYmxlZCBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlKX19KX0pKX0pKSxpKGMsInNlYXJjaFF1aWNrUmVzcG9uc2VzIiwoZnVuY3Rpb24oZSl7Y29uc3Qgbj10LmlzQ1JNKCk/dC5jb3JlLmdldENsaWVudCgpOnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLHI9bnVsbCE9ZSYmZS5jb250YWN0SWQ/bmV3IHAoZS5jb250YWN0SWQpLmdldEF0dHJpYnV0ZXMoKTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHMpe24uY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5RUl9TRUFSQ0hfUVVJQ0tfUkVTUE9OU0VTLG8obyh7fSxlKSx7fSx7YXR0cmlidXRlczpyfSkse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscyhlKX19KX0pKX0pKTt2YXIgdT1mdW5jdGlvbigpe2lmKCF0LmFnZW50LmluaXRpYWxpemVkKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBhZ2VudCBpcyBub3QgeWV0IGluaXRpYWxpemVkISIpfTt1LnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKX0sdS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhY3RBUEk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0LkNvbnRhY3QoZS5jb250YWN0SWQpfSx1LnByb3RvdHlwZS5vblJlZnJlc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlJFRlJFU0gsZSl9LHUucHJvdG90eXBlLm9uUm91dGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlJPVVRBQkxFLGUpfSx1LnByb3RvdHlwZS5vbk5vdFJvdXRhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5OT1RfUk9VVEFCTEUsZSl9LHUucHJvdG90eXBlLm9uT2ZmbGluZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuT0ZGTElORSxlKX0sdS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuRVJST1IsZSl9LHUucHJvdG90eXBlLm9uU29mdHBob25lRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlNPRlRQSE9ORV9FUlJPUixlKX0sdS5wcm90b3R5cGUub25XZWJTb2NrZXRDb25uZWN0aW9uTG9zdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fTE9TVCxlKX0sdS5wcm90b3R5cGUub25XZWJTb2NrZXRDb25uZWN0aW9uR2FpbmVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9HQUlORUQsZSl9LHUucHJvdG90eXBlLm9uQWZ0ZXJDYWxsV29yaz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuQUNXLGUpfSx1LnByb3RvdHlwZS5vblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5TVEFURV9DSEFOR0UsZSl9LHUucHJvdG90eXBlLm9uTXV0ZVRvZ2dsZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuTVVURV9UT0dHTEUsZSl9LHUucHJvdG90eXBlLm9uTG9jYWxNZWRpYVN0cmVhbUNyZWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkxPQ0FMX01FRElBX1NUUkVBTV9DUkVBVEVELGUpfSx1LnByb3RvdHlwZS5vblNwZWFrZXJEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlNQRUFLRVJfREVWSUNFX0NIQU5HRUQsZSl9LHUucHJvdG90eXBlLm9uTWljcm9waG9uZURldmljZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbmZpZ3VyYXRpb25FdmVudHMuTUlDUk9QSE9ORV9ERVZJQ0VfQ0hBTkdFRCxlKX0sdS5wcm90b3R5cGUub25SaW5nZXJEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlJJTkdFUl9ERVZJQ0VfQ0hBTkdFRCxlKX0sdS5wcm90b3R5cGUub25DYW1lcmFEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCxlKX0sdS5wcm90b3R5cGUub25CYWNrZ3JvdW5kQmx1ckNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbmZpZ3VyYXRpb25FdmVudHMuQkFDS0dST1VORF9CTFVSX0NIQU5HRUQsZSl9LHUucHJvdG90eXBlLm11dGU9ZnVuY3Rpb24oKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkV2ZW50VHlwZS5NVVRFLGRhdGE6e211dGU6ITB9fSl9LHUucHJvdG90eXBlLnVubXV0ZT1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuRXZlbnRUeXBlLk1VVEUsZGF0YTp7bXV0ZTohMX19KX0sdS5wcm90b3R5cGUuc2V0U3BlYWtlckRldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1NQRUFLRVJfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHUucHJvdG90eXBlLnNldE1pY3JvcGhvbmVEZXZpY2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9NSUNST1BIT05FX0RFVklDRSxkYXRhOntkZXZpY2VJZDplfX0pfSx1LnByb3RvdHlwZS5zZXRSaW5nZXJEZXZpY2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9SSU5HRVJfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHUucHJvdG90eXBlLnNldENhbWVyYURldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuQ0FNRVJBX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOmV9fSl9LHUucHJvdG90eXBlLnNldEJhY2tncm91bmRCbHVyPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5CQUNLR1JPVU5EX0JMVVJfQ0hBTkdFRCxkYXRhOntpc0JhY2tncm91bmRCbHVyRW5hYmxlZDplfX0pfSx1LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3Quc3RhdGV9LHUucHJvdG90eXBlLmdldE5leHRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3QubmV4dFN0YXRlfSx1LnByb3RvdHlwZS5nZXRBdmFpbGFiaWxpdHlTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3QuYWdlbnRBdmFpbGFiaWxpdHlTdGF0ZX0sdS5wcm90b3R5cGUuZ2V0U3RhdHVzPXUucHJvdG90eXBlLmdldFN0YXRlLHUucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5ub3coKS10aGlzLl9nZXREYXRhKCkuc25hcHNob3Quc3RhdGUuc3RhcnRUaW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LHUucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPXUucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24sdS5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucGVybWlzc2lvbnN9LHUucHJvdG90eXBlLmdldENvbnRhY3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5jb250YWN0cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9jcmVhdGVDb250YWN0QVBJKGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIWV8fHQuZ2V0VHlwZSgpPT09ZX0pKX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29uZmlndXJhdGlvbn0sdS5wcm90b3R5cGUuZ2V0QWdlbnRTdGF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuYWdlbnRTdGF0ZXN9LHUucHJvdG90eXBlLmdldFJvdXRpbmdQcm9maWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnJvdXRpbmdQcm9maWxlfSx1LnByb3RvdHlwZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5nZXRSb3V0aW5nUHJvZmlsZSgpLmNoYW5uZWxDb25jdXJyZW5jeU1hcDtyZXR1cm4gbnx8KG49T2JqZWN0LmtleXModC5DaGFubmVsVHlwZSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiJUQVNLIiE9PW4mJihlW3QuQ2hhbm5lbFR5cGVbbl1dPTEpLGV9KSx7fSkpLGU/bltlXXx8MDpufSx1LnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWV9LHUucHJvdG90eXBlLmdldEFnZW50QVJOPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmFnZW50QVJOfSx1LnByb3RvdHlwZS5nZXRFeHRlbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuZXh0ZW5zaW9ufSx1LnByb3RvdHlwZS5nZXREaWFsYWJsZUNvdW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5kaWFsYWJsZUNvdW50cmllc30sdS5wcm90b3R5cGUuaXNTb2Z0cGhvbmVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZUVuYWJsZWR9LHUucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCk7ZSYmZS5hZ2VudFByZWZlcmVuY2VzJiZlLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UmJiFlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlJiYoZS5hZ2VudFByZWZlcmVuY2VzLmxvY2FsZT1lLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UpLGUmJmUuYWdlbnRQcmVmZXJlbmNlcyYmIXQuaXNWYWxpZExvY2FsZShlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlKT9uJiZuLmZhaWx1cmUmJm4uZmFpbHVyZSh0LkFnZW50RXJyb3JTdGF0ZXMuSU5WQUxJRF9MT0NBTEUpOnIuY2FsbCh0LkNsaWVudE1ldGhvZHMuVVBEQVRFX0FHRU5UX0NPTkZJR1VSQVRJT04se2NvbmZpZ3VyYXRpb246dC5hc3NlcnROb3ROdWxsKGUsImNvbmZpZ3VyYXRpb24iKX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlJFTE9BRF9BR0VOVF9DT05GSUdVUkFUSU9OKSxuLnN1Y2Nlc3MmJm4uc3VjY2VzcyhlKX0sZmFpbHVyZTpuJiZuLmZhaWx1cmV9KX0sdS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSxuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5QVVRfQUdFTlRfU1RBVEUse3N0YXRlOnQuYXNzZXJ0Tm90TnVsbChlLCJzdGF0ZSIpLGVucXVldWVOZXh0U3RhdGU6ciYmISFyLmVucXVldWVOZXh0U3RhdGV9LG4pfSx1LnByb3RvdHlwZS5vbkVucXVldWVkTmV4dFN0YXRlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5FTlFVRVVFRF9ORVhUX1NUQVRFLGUpfSx1LnByb3RvdHlwZS5zZXRTdGF0dXM9dS5wcm90b3R5cGUuc2V0U3RhdGUsdS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlLG4pe3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPW5ldyB0LkVuZHBvaW50KGUpO2RlbGV0ZSBvLmVuZHBvaW50SWQ7dmFyIGk9e2VuZHBvaW50OnQuYXNzZXJ0Tm90TnVsbChvLCJlbmRwb2ludCIpLHF1ZXVlQVJOOm4mJihuLnF1ZXVlQVJOfHxuLnF1ZXVlSWQpfHx0aGlzLmdldFJvdXRpbmdQcm9maWxlKCkuZGVmYXVsdE91dGJvdW5kUXVldWUucXVldWVBUk59O24mJm4ucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PW4ucmVsYXRlZENvbnRhY3RJZCYmKGkucmVsYXRlZENvbnRhY3RJZD1uLnJlbGF0ZWRDb250YWN0SWQsbi5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIGkucHJldmlvdXNDb250YWN0SWQpLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX09VVEJPVU5EX0NPTlRBQ1QsaSxuJiZ7c3VjY2VzczpuLnN1Y2Nlc3MsZmFpbHVyZTpuLmZhaWx1cmV9KX0sdS5wcm90b3R5cGUuZ2V0QWxsUXVldWVBUk5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnJvdXRpbmdQcm9maWxlLnF1ZXVlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnF1ZXVlQVJOfSkpfSx1LnByb3RvdHlwZS5nZXRFbmRwb2ludHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXMsaT10LmNvcmUuZ2V0Q2xpZW50KCk7dC5hc3NlcnROb3ROdWxsKG4sImNhbGxiYWNrcyIpLHQuYXNzZXJ0Tm90TnVsbChuLnN1Y2Nlc3MsImNhbGxiYWNrcy5zdWNjZXNzIik7dmFyIHM9cnx8e307cy5lbmRwb2ludHM9cy5lbmRwb2ludHN8fFtdLHMubWF4UmVzdWx0cz1zLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHQuaXNBcnJheShlKXx8KGU9W2VdKSxpLmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9FTkRQT0lOVFMse3F1ZXVlQVJOczplLG5leHRUb2tlbjpzLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOnMubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24ocil7aWYoci5uZXh0VG9rZW4pby5nZXRFbmRwb2ludHMoZSxuLHtuZXh0VG9rZW46ci5uZXh0VG9rZW4sbWF4UmVzdWx0czpzLm1heFJlc3VsdHMsZW5kcG9pbnRzOnMuZW5kcG9pbnRzLmNvbmNhdChyLmVuZHBvaW50cyl9KTtlbHNle3MuZW5kcG9pbnRzPXMuZW5kcG9pbnRzLmNvbmNhdChyLmVuZHBvaW50cyk7dmFyIGk9cy5lbmRwb2ludHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHQuRW5kcG9pbnQoZSl9KSk7bi5zdWNjZXNzKHtlbmRwb2ludHM6aSxhZGRyZXNzZXM6aX0pfX0sZmFpbHVyZTpuLmZhaWx1cmV9KX0sdS5wcm90b3R5cGUuZ2V0QWRkcmVzc2VzPXUucHJvdG90eXBlLmdldEVuZHBvaW50cyx1LnByb3RvdHlwZS5fZ2V0UmVzb3VyY2VJZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0QWxsUXVldWVBUk5zKCk7Zm9yKGxldCB0IG9mIGUpe2NvbnN0IGU9dC5tYXRjaCgvXC9hZ2VudFwvKFteL10rKS8pO2lmKGUpcmV0dXJuIGVbMV19cmV0dXJuIG5ldyBFcnJvcigiQWdlbnQucHJvdG90eXBlLl9nZXRSZXNvdXJjZUlkOiBxdWV1ZUFybnMgZGlkIG5vdCBjb250YWluIGFnZW50UmVzb3VyY2VJZDogIixlKX0sdS5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5BZ2VudFNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9O3ZhciBsPWZ1bmN0aW9uKGUpe3QuQWdlbnQuY2FsbCh0aGlzKSx0aGlzLmFnZW50RGF0YT1lfTsobC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh1LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWwsbC5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LGwucHJvdG90eXBlLl9jcmVhdGVDb250YWN0QVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db250YWN0U25hcHNob3QoZSl9O3ZhciBwPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O3AucHJvdG90eXBlLl9nZXRTREtDbGllbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRhY3RDbGllbnQpcmV0dXJuIHRoaXMuY29udGFjdENsaWVudDt0cnl7dmFyIGUsbixyO2NvbnN0IG89e3Byb3ZpZGVySWQ6bnVsbD09PShlPXQuY29yZSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZXx8bnVsbD09PShlPWUucHJvdmlkZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkLGNvbmZpZzpudWxsPT09KG49dC5jb3JlKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5wcm92aWRlcil8fHZvaWQgMD09PW4/dm9pZCAwOm4uY29uZmlnLGlzU3RyZWFtc1Byb3ZpZGVyOm51bGw9PT0ocj10LmNvcmUpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaXNTdHJlYW1zUHJvdmlkZXJ9O3JldHVybiB0LmdldExvZygpLmluZm8oIkluaXRpYWxpemluZyBDb250YWN0IFNESyBDbGllbnRzIikud2l0aE9iamVjdChvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuY29udGFjdENsaWVudD1uZXcgYSh0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpLHRoaXMuY29udGFjdENsaWVudH1jYXRjaChlKXt2YXIgbyxpLHM7Y29uc3Qgbj17cHJvdmlkZXJJZDpudWxsPT09KG89dC5jb3JlKXx8dm9pZCAwPT09b3x8bnVsbD09PShvPW8uX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by5wcm92aWRlcil8fHZvaWQgMD09PW8/dm9pZCAwOm8uaWQsY29uZmlnOm51bGw9PT0oaT10LmNvcmUpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLnByb3ZpZGVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jb25maWcsaXNTdHJlYW1zUHJvdmlkZXI6bnVsbD09PShzPXQuY29yZSl8fHZvaWQgMD09PXN8fG51bGw9PT0ocz1zLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09cz92b2lkIDA6cy5pc1N0cmVhbXNQcm92aWRlcixlcnJvcjplfTt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBDb250YWN0IFNESyBDbGllbnRzIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0scC5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5nZXRDb250YWN0SWQoKSl9LHAucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuQ0hBVD9uZXcgdC5DaGF0Q29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCk6dGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlRBU0s/bmV3IHQuVGFza0Nvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOnRoaXMuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5FTUFJTD9uZXcgdC5FbWFpbENvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOm5ldyB0LlZvaWNlQ29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCl9LHAucHJvdG90eXBlLmdldEV2ZW50TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoZSx0aGlzLmdldENvbnRhY3RJZCgpKX0scC5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gpLGUpfSxwLnByb3RvdHlwZS5vbkluY29taW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLklOQ09NSU5HKSxlKX0scC5wcm90b3R5cGUub25Db25uZWN0aW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLGUpfSxwLnByb3RvdHlwZS5vblBlbmRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuUEVORElORyksZSl9LHAucHJvdG90eXBlLm9uQWNjZXB0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQpLGUpfSxwLnByb3RvdHlwZS5vbk1pc3NlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLGUpfSxwLnByb3RvdHlwZS5vbkVuZGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkVOREVEKSxlKX0scC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkRFU1RST1lFRCksZSl9LHAucHJvdG90eXBlLm9uQUNXPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkFDVyksZSl9LHAucHJvdG90eXBlLm9uQ29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCksZSl9LHAucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuRVJST1IpLGUpfSxwLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LHAucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsQ29udGFjdElkfSxwLnByb3RvdHlwZS5nZXRJbml0aWFsQ29udGFjdElkPXAucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkLHAucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnR5cGV9LHAucHJvdG90eXBlLmdldENvbnRhY3REdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdER1cmF0aW9ufSxwLnByb3RvdHlwZS5lbmdhZ2VQcmV2aWV3Q29udGFjdD1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5fZ2V0U0RLQ2xpZW50KCksdD10aGlzLmdldENvbnRhY3RJZCgpO3JldHVybiBlLmVuZ2FnZVByZXZpZXdDb250YWN0KHQpfSxwLnByb3RvdHlwZS5nZXRQcmV2aWV3Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5fZ2V0U0RLQ2xpZW50KCksdD10aGlzLmdldENvbnRhY3RJZCgpO3JldHVybiBlLmdldFByZXZpZXdDb25maWd1cmF0aW9uKHQpfSxwLnByb3RvdHlwZS5pc1ByZXZpZXdNb2RlPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLl9nZXRTREtDbGllbnQoKSx0PXRoaXMuZ2V0Q29udGFjdElkKCk7cmV0dXJuIGUuaXNQcmV2aWV3TW9kZSh0KX0scC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxwLnByb3RvdHlwZS5nZXRTdGF0dXM9cC5wcm90b3R5cGUuZ2V0U3RhdGUscC5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LHAucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPXAucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24scC5wcm90b3R5cGUuZ2V0UXVldWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnF1ZXVlfSxwLnByb3RvdHlwZS5nZXRRdWV1ZVRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVldWVUaW1lc3RhbXB9LHAucHJvdG90eXBlLmdldENvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbm5lY3Rpb25zLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIGUuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5DSEFUP25ldyB0LkNoYXRDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKTplLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuVEFTSz9uZXcgdC5UYXNrQ29ubmVjdGlvbihlLmNvbnRhY3RJZCxuLmNvbm5lY3Rpb25JZCk6ZS5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLkVNQUlMP25ldyB0LkVtYWlsQ29ubmVjdGlvbihlLmNvbnRhY3RJZCxuLmNvbm5lY3Rpb25JZCk6bmV3IHQuVm9pY2VDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKX0pKX0scC5wcm90b3R5cGUuZ2V0SW5pdGlhbENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNJbml0aWFsQ29ubmVjdGlvbigpfSkpfHxudWxsfSxwLnByb3RvdHlwZS5nZXRBY3RpdmVJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0SW5pdGlhbENvbm5lY3Rpb24oKTtyZXR1cm4gbnVsbCE9ZSYmZS5pc0FjdGl2ZSgpP2U6bnVsbH0scC5wcm90b3R5cGUuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzSW5pdGlhbENvbm5lY3Rpb24oKSYmZS5nZXRUeXBlKCkhPT10LkNvbm5lY3Rpb25UeXBlLkFHRU5UfSkpfSxwLnByb3RvdHlwZS5nZXRTaW5nbGVBY3RpdmVUaGlyZFBhcnR5Q29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRoaXJkUGFydHlDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKVswXXx8bnVsbH0scC5wcm90b3R5cGUuZ2V0QWdlbnRDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZ2V0VHlwZSgpO3JldHVybiBuPT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVHx8bj09PXQuQ29ubmVjdGlvblR5cGUuTU9OSVRPUklOR30pKX0scC5wcm90b3R5cGUuZ2V0QWN0aXZlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZT0+ZS5pc0FjdGl2ZSgpKSl9LHAucHJvdG90eXBlLmhhc1R3b0FjdGl2ZVBhcnRpY2lwYW50cz1mdW5jdGlvbigpe3JldHVybiAyPT09dGhpcy5nZXRBY3RpdmVDb25uZWN0aW9ucygpLmxlbmd0aH0scC5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubmFtZX0scC5wcm90b3R5cGUuZ2V0SW5pdGlhdGlvbk1ldGhvZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhdGlvbk1ldGhvZH0scC5wcm90b3R5cGUuZ2V0Q29udGFjdE1ldGFkYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb250YWN0TWV0YWRhdGF9LHAucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5kZXNjcmlwdGlvbn0scC5wcm90b3R5cGUuZ2V0UmVsYXRlZENvbnRhY3RJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucmVsYXRlZENvbnRhY3RJZH0scC5wcm90b3R5cGUuZ2V0Q29udGFjdEFzc29jaWF0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbnRhY3RBc3NvY2lhdGlvbklkfSxwLnByb3RvdHlwZS5nZXRDdXN0b21lckVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jdXN0b21lckVuZHBvaW50fSxwLnByb3RvdHlwZS5nZXRDb25uZWN0U3lzdGVtRW5kcG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmNvbm5lY3RTeXN0ZW1FbmRwb2ludH0scC5wcm90b3R5cGUuZ2V0UmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucmVmZXJlbmNlc30scC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuYXR0cmlidXRlc30scC5wcm90b3R5cGUuZ2V0Q29udGFjdEZlYXR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jb250YWN0RmVhdHVyZXN9LHAucHJvdG90eXBlLmdldENoYW5uZWxDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5jaGFubmVsQ29udGV4dH0scC5wcm90b3R5cGUuZ2V0U2VnbWVudEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNlZ21lbnRBdHRyaWJ1dGVzfSxwLnByb3RvdHlwZS5nZXRDb250YWN0U3VidHlwZT1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRTZWdtZW50QXR0cmlidXRlcygpO3JldHVybiBlJiZlWyJjb25uZWN0OlN1YnR5cGUiXT9lWyJjb25uZWN0OlN1YnR5cGUiXS5WYWx1ZVN0cmluZzpudWxsfSxwLnByb3RvdHlwZS5pc1NvZnRwaG9uZUNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlZPSUNFfHx0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0spJiZCb29sZWFuKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maW5kKChlPT5lLmdldFNvZnRwaG9uZU1lZGlhSW5mbygpKSkpfSxwLnByb3RvdHlwZS5oYXNWaWRlb1JUQ0NhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FuU2VuZFZpZGVvJiZlLmNhblNlbmRWaWRlbygpfSkpfSxwLnByb3RvdHlwZS5jYW5BZ2VudFNlbmRWaWRlbz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCl9LHAucHJvdG90eXBlLmNhbkFnZW50UmVjZWl2ZVZpZGVvPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7aWYoZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCkpcmV0dXJuITA7Y29uc3QgdD10aGlzLmdldFRoaXJkUGFydHlDb25uZWN0aW9ucygpO3JldHVybiB0JiZ0Lmxlbmd0aD4wJiZ0aGlzLmNhbkFnZW50U2VuZFZpZGVvKCl9LHAucHJvdG90eXBlLmhhc1NjcmVlblNoYXJlQ2FwYWJpbGl0eT1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FuU2VuZFNjcmVlblNoYXJlJiZlLmNhblNlbmRTY3JlZW5TaGFyZSgpfSkpfSxwLnByb3RvdHlwZS5jYW5BZ2VudFNlbmRTY3JlZW5TaGFyZT1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKTtyZXR1cm4gZS5jYW5TZW5kU2NyZWVuU2hhcmUmJmUuY2FuU2VuZFNjcmVlblNoYXJlKCl9LHAucHJvdG90eXBlLmNhbkN1c3RvbWVyU2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7cmV0dXJuIGUuY2FuU2VuZFNjcmVlblNoYXJlJiZlLmNhblNlbmRTY3JlZW5TaGFyZSgpfSxwLnByb3RvdHlwZS5zdGFydFNjcmVlblNoYXJpbmc9YXN5bmMgZnVuY3Rpb24oZSl7Y29uc3Qgbj10aGlzLmdldENvbnRhY3RJZCgpO2lmKCJjb25uZWN0OldlYlJUQyIhPT10aGlzLmdldENvbnRhY3RTdWJ0eXBlKCkpdGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2lmKCF0aGlzLmlzQ29ubmVjdGVkKCkpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiQ29udGFjdCAlcyBpcyBub3QgY29ubmVjdGVkLiIsbik7aWYoIWUpe2NvbnN0IGU9dC5pc0NSTSgpP3QuY29yZS5nZXRDbGllbnQoKTp0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKSxyPXtJbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxDb250YWN0SWQ6bixQYXJ0aWNpcGFudElkOnRoaXMuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZ2V0Q29ubmVjdGlvbklkKCl9O3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxpKXtlLmNhbGwodC5BcGlQcm94eUNsaWVudE1ldGhvZHMuU1RBUlRfU0NSRUVOX1NIQVJJTkcscix7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInN0YXJ0U2NyZWVuU2hhcmluZyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUQVJURUQsZGF0YTp7Y29udGFjdElkOm59fSksbyhlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzdGFydFNjcmVlblNoYXJpbmcgZmFpbGVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19FUlJPUixkYXRhOntjb250YWN0SWQ6bn19KSxpKGUpfX0pfSkpfXQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVEFSVEVELGRhdGE6e2NvbnRhY3RJZDpufX0pfSxwLnByb3RvdHlwZS5vblNjcmVlblNoYXJpbmdTdGFydGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUQVJURUQsZSl9LHAucHJvdG90eXBlLnN0b3BTY3JlZW5TaGFyaW5nPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmdldENvbnRhY3RJZCgpO2lmKCJjb25uZWN0OldlYlJUQyIhPT10aGlzLmdldENvbnRhY3RTdWJ0eXBlKCkpdGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2lmKCF0aGlzLmlzQ29ubmVjdGVkKCkpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiQ29udGFjdCAlcyBpcyBub3QgY29ubmVjdGVkLiIsZSk7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUT1BQRUQsZGF0YTp7Y29udGFjdElkOmV9fSl9LHAucHJvdG90eXBlLm9uU2NyZWVuU2hhcmluZ1N0b3BwZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RPUFBFRCxlKX0scC5wcm90b3R5cGUub25TY3JlZW5TaGFyaW5nRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfRVJST1IsZSl9LHAucHJvdG90eXBlLl9pc0luYm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmluaXRpYXRpb25NZXRob2QhPT10LkNvbnRhY3RJbml0aWF0aW9uTWV0aG9kLk9VVEJPVU5EfSxwLnByb3RvdHlwZS5pc0luYm91bmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7cmV0dXJuW3QuTWVkaWFUeXBlLlRBU0ssdC5NZWRpYVR5cGUuRU1BSUxdLmluY2x1ZGVzKGUuZ2V0TWVkaWFUeXBlKCkpP3RoaXMuX2lzSW5ib3VuZCgpOiEhZSYmZS5nZXRUeXBlKCk9PT10LkNvbm5lY3Rpb25UeXBlLklOQk9VTkR9LHAucHJvdG90eXBlLmlzQ29ubmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNURUR9LHAucHJvdG90eXBlLmFjY2VwdD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCkscj10aGlzLG89dGhpcy5nZXRDb250YWN0SWQoKTt0LnB1Ymxpc2hDbGlja1N0cmVhbURhdGEoe2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNsaWNrVHlwZTp0LkNsaWNrVHlwZS5BQ0NFUFQsY2xpY2tUaW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0pLG4uY2FsbCh0LkNsaWVudE1ldGhvZHMuQUNDRVBUX0NPTlRBQ1Qse2NvbnRhY3RJZDpvfSx7c3VjY2VzczpmdW5jdGlvbihuKXt2YXIgaT10LmNvcmUuZ2V0VXBzdHJlYW0oKTtpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCxkYXRhOm5ldyB0LkNvbnRhY3Qobyl9KSxpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCxyLmdldENvbnRhY3RJZCgpKSxkYXRhOm5ldyB0LkNvbnRhY3Qobyl9KTt2YXIgcz1uZXcgdC5Db250YWN0KG8pO3QuaXNGaXJlZm94QnJvd3NlcigpJiZzLmlzU29mdHBob25lQ2FsbCgpJiZ0LmNvcmUudHJpZ2dlclJlYWR5VG9TdGFydFNlc3Npb25FdmVudCgpLGUmJmUuc3VjY2VzcyYmZS5zdWNjZXNzKG4pfSxmYWlsdXJlOmZ1bmN0aW9uKG4scil7dC5nZXRMb2coKS5lcnJvcigiQWNjZXB0IENvbnRhY3QgZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoRXhjZXB0aW9uKG4pLndpdGhPYmplY3Qoe2RhdGE6cn0pLHQucHVibGlzaE1ldHJpYyh7bmFtZToiQ29udGFjdEFjY2VwdEZhaWx1cmUiLGRhdGE6e2NvdW50OjF9fSksZSYmZS5mYWlsdXJlJiZlLmZhaWx1cmUodC5Db250YWN0U3RhdGVUeXBlLkVSUk9SKX19KX0scC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3QuZ2V0TG9nKCkud2FybigiY29udGFjdC5kZXN0cm95KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4iKX0scC5wcm90b3R5cGUucmVqZWN0PWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTt0LnB1Ymxpc2hDbGlja1N0cmVhbURhdGEoe2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNsaWNrVHlwZTp0LkNsaWNrVHlwZS5SRUpFQ1QsY2xpY2tUaW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0pLG4uY2FsbCh0LkNsaWVudE1ldGhvZHMuUkVKRUNUX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0scC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLkNPTVBMRVRFX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0scC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLkNMRUFSX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0scC5wcm90b3R5cGUubm90aWZ5SXNzdWU9ZnVuY3Rpb24oZSxuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5OT1RJRllfQ09OVEFDVF9JU1NVRSx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksaXNzdWVDb2RlOmUsZGVzY3JpcHRpb246bn0scil9LHAucHJvdG90eXBlLmFkZENvbm5lY3Rpb249ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCksbz1uZXcgdC5FbmRwb2ludChlKTtkZWxldGUgby5lbmRwb2ludElkLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX0FERElUSU9OQUxfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksZW5kcG9pbnQ6b30sbil9LHAucHJvdG90eXBlLnRvZ2dsZUFjdGl2ZUNvbm5lY3Rpb25zPWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKSxyPW51bGwsbz10LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTdGF0dXMoKS50eXBlPT09dC5Db25uZWN0aW9uU3RhdGVUeXBlLkhPTER9KSk7aWYobnVsbCE9bylyPW8uZ2V0Q29ubmVjdGlvbklkKCk7ZWxzZXt2YXIgaT10aGlzLmdldENvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0FjdGl2ZSgpfSkpO2kubGVuZ3RoPjAmJihyPWlbMF0uZ2V0Q29ubmVjdGlvbklkKCkpfW4uY2FsbCh0LkNsaWVudE1ldGhvZHMuVE9HR0xFX0FDVElWRV9DT05ORUNUSU9OUyx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnJ9LGUpfSxwLnByb3RvdHlwZS5zZW5kU29mdHBob25lTWV0cmljcz1mdW5jdGlvbihuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX01FVFJJQ1Mse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246ZS5jY3BWZXJzaW9uLHNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M6bn0sciksdC5wdWJsaXNoU29mdHBob25lU3RhdHMoe2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246ZS5jY3BWZXJzaW9uLHN0YXRzOm59KX0scC5wcm90b3R5cGUuc2VuZFNvZnRwaG9uZVJlcG9ydD1mdW5jdGlvbihuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX1JFUE9SVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY2NwVmVyc2lvbjplLmNjcFZlcnNpb24scmVwb3J0Om59LHIpfSxwLnByb3RvdHlwZS5jb25mZXJlbmNlQ29ubmVjdGlvbnM9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLkNPTkZFUkVOQ0VfQ09OTkVDVElPTlMse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0scC5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5Db250YWN0U25hcHNob3QodGhpcy5fZ2V0RGF0YSgpKX0scC5wcm90b3R5cGUuaXNNdWx0aVBhcnR5Q29uZmVyZW5jZUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvbnRhY3RGZWF0dXJlcygpO3JldHVybiEoIWV8fCFlLm11bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZCl9LHAucHJvdG90eXBlLnVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlPWZ1bmN0aW9uKGUsbil7ZSYmT2JqZWN0LnZhbHVlcyh0Lk1vbml0b3JpbmdNb2RlKS5pbmNsdWRlcyhlLnRvVXBwZXJDYXNlKCkpP3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5VUERBVEVfTU9OSVRPUl9QQVJUSUNJUEFOVF9TVEFURSx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksdGFyZ2V0TW9uaXRvck1vZGU6ZS50b1VwcGVyQ2FzZSgpfSxuKToodC5nZXRMb2coKS5lcnJvcigiSW52YWxpZCB0YXJnZXQgc3RhdGUgd2FzIHByb3ZpZGVkOiAiLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuJiZuLmZhaWx1cmUmJm4uZmFpbHVyZSh0Lk1vbml0b3JpbmdFcnJvclR5cGVzLklOVkFMSURfVEFSR0VUX1NUQVRFKSl9LHAucHJvdG90eXBlLmlzVW5kZXJTdXBlcnZpc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoKGU9PmUuZ2V0VHlwZSgpIT09dC5Db25uZWN0aW9uVHlwZS5BR0VOVCkpO3JldHVybiB2b2lkIDAhPT0oZSYmZS5maW5kKChlPT5lLmlzQmFyZ2UoKSYmZS5pc0FjdGl2ZSgpKSkpfSxwLnByb3RvdHlwZS5zaWxlbnRNb25pdG9yPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZU1vbml0b3JQYXJ0aWNpcGFudFN0YXRlKHQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IsZSl9LHAucHJvdG90eXBlLmJhcmdlSW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUodC5Nb25pdG9yaW5nTW9kZS5CQVJHRSxlKX0scC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlBBVVNFX0NPTlRBQ1Qse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpfSxlKX0scC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5SRVNVTUVfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxwLnByb3RvdHlwZS5hZGRQYXJ0aWNpcGFudD1mdW5jdGlvbihlLG4pe2NvbnN0IHI9dC5jb3JlLmdldENsaWVudCgpLG89bmV3IHQuRW5kcG9pbnQoZSk7ZGVsZXRlIG8uZW5kcG9pbnRJZCxyLmNhbGwodC5DbGllbnRNZXRob2RzLkFERF9ORVdfQ09OTkVDVElPTix7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksZW5kcG9pbnQ6b30sbil9LHAucHJvdG90eXBlLnRyYW5zZmVyPWZ1bmN0aW9uKGUsbil7Y29uc3Qgcj10LmNvcmUuZ2V0Q2xpZW50KCksbz1uZXcgdC5FbmRwb2ludChlKTtkZWxldGUgby5lbmRwb2ludElkLHIuY2FsbCh0LkNsaWVudE1ldGhvZHMuVFJBTlNGRVJfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksZW5kcG9pbnQ6b30sbil9O3ZhciBkPWZ1bmN0aW9uKGUpe3QuQ29udGFjdC5jYWxsKHRoaXMsZS5jb250YWN0SWQpLHRoaXMuY29udGFjdERhdGE9ZX07KGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1kLGQucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdERhdGF9LGQucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db25uZWN0aW9uU25hcHNob3QoZSl9O3ZhciBoPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250YWN0SWQ9ZSx0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuX2luaXRNZWRpYUNvbnRyb2xsZXIoKX07aC5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29ubmVjdGlvbkRhdGEodGhpcy5nZXRDb250YWN0SWQoKSx0aGlzLmdldENvbm5lY3Rpb25JZCgpKX0saC5wcm90b3R5cGUuZ2V0Q29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdElkfSxoLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWR9LGgucHJvdG90eXBlLmdldEVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkVuZHBvaW50KHRoaXMuX2dldERhdGEoKS5lbmRwb2ludCl9LGgucHJvdG90eXBlLmdldEFkZHJlc3M9aC5wcm90b3R5cGUuZ2V0RW5kcG9pbnQsaC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxoLnByb3RvdHlwZS5nZXRTdGF0dXM9aC5wcm90b3R5cGUuZ2V0U3RhdGUsaC5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LGgucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPWgucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24saC5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkudHlwZX0saC5wcm90b3R5cGUuaXNJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhbH0saC5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb250YWlucyh0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUyx0aGlzLmdldFN0YXR1cygpLnR5cGUpfSxoLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRhaW5zKHQuQ09OTkVDVElPTl9DT05ORUNURURfU1RBVEVTLHRoaXMuZ2V0U3RhdHVzKCkudHlwZSl9LGgucHJvdG90eXBlLmlzQ29ubmVjdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVElOR30saC5wcm90b3R5cGUuaXNPbkhvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09dC5Db25uZWN0aW9uU3RhdGVUeXBlLkhPTER9LGgucHJvdG90eXBlLmdldFNvZnRwaG9uZU1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxoLnByb3RvdHlwZS5nZXRNb25pdG9ySW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvcmluZ0luZm99LGgucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dC5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6dC5DbGlja1R5cGUuSEFOR1VQLGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSx0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuREVTVFJPWV9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LGgucHJvdG90eXBlLnNlbmREaWdpdHM9ZnVuY3Rpb24oZSxuKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9ESUdJVFMse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpLGRpZ2l0czplfSxuKX0saC5wcm90b3R5cGUuaG9sZD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuSE9MRF9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LGgucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuUkVTVU1FX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0saC5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5Db25uZWN0aW9uU25hcHNob3QodGhpcy5fZ2V0RGF0YSgpKX0saC5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt0aGlzLmdldE1lZGlhSW5mbygpJiZ0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9LGgucHJvdG90eXBlLl9pc0FnZW50Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFR5cGUoKTtyZXR1cm4gZT09PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR8fGU9PT10LkNvbm5lY3Rpb25UeXBlLk1PTklUT1JJTkd9LGgucHJvdG90eXBlLl9pc0FnZW50Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFR5cGUoKTtyZXR1cm4gZT09PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR8fGU9PT10LkNvbm5lY3Rpb25UeXBlLk1PTklUT1JJTkd9O3ZhciBnPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O2cucHJvdG90eXBlLmdldFNwZWFrZXJJZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtjb25zdCBpPXtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksYXdzQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpfTt0LmdldExvZygpLmluZm8oImdldFNwZWFrZXJJZCBjYWxsZWQiKS53aXRoT2JqZWN0KGkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkdFVF9DT05UQUNULGkse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoZS5jb250YWN0RGF0YS5jdXN0b21lcklkKXt2YXIgbj17c3BlYWtlcklkOmUuY29udGFjdERhdGEuY3VzdG9tZXJJZH07dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VySWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIobil9ZWxzZXt2YXIgaT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk5PX1NQRUFLRVJfSURfRk9VTkQsIk5vIHNwZWFrZXJJZCBhc3NvdGlhdGVkIHdpdGggdGhpcyBjYWxsIik7byhpKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiR2V0IFNwZWFrZXJJZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfU1BFQUtFUl9JRF9GQUlMRUQsIkdldCBTcGVha2VySWQgZmFpbGVkIixlKTtvKG4pfX0pfSkpfSxnLnByb3RvdHlwZS5nZXRTcGVha2VyU3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuZ2V0U3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oaSl7ZS5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGUpe2NvbnN0IHM9e1NwZWFrZXJJZDp0LmFzc2VydE5vdE51bGwoaS5zcGVha2VySWQsInNwZWFrZXJJZCIpLERvbWFpbklkOmV9O3QuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlclN0YXR1cyBjYWxsZWQiKS53aXRoT2JqZWN0KHMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkRFU0NSSUJFX1NQRUFLRVIscyx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImdldFNwZWFrZXJTdGF0dXMgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dmFyIG49SlNPTi5wYXJzZShlKTtzd2l0Y2gobi5zdGF0dXMpe2Nhc2UgNDAwOmNhc2UgNDA0OnZhciBpPW47aS50eXBlPWkudHlwZT9pLnR5cGU6dC5Wb2ljZUlkRXJyb3JUeXBlcy5TUEVBS0VSX0lEX05PVF9FTlJPTExFRCx0LmdldExvZygpLmluZm8oIlNwZWFrZXIgaXMgbm90IGVucm9sbGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihpKTticmVhaztkZWZhdWx0OnQuZ2V0TG9nKCkuZXJyb3IoImdldFNwZWFrZXJTdGF0dXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBzPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuR0VUX1NQRUFLRVJfU1RBVFVTX0ZBSUxFRCwiR2V0IFNwZWFrZXJTdGF0dXMgZmFpbGVkIixlKTtvKHMpfX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sZy5wcm90b3R5cGUuX29wdE91dFNwZWFrZXJJbkxjbXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxzKXtjb25zdCBhPXtDb250YWN0SWQ6ci5jb250YWN0SWQsSW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksQVdTQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLEN1c3RvbWVySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLFZvaWNlSWRSZXN1bHQ6e1NwZWFrZXJPcHRlZE91dDohMCxnZW5lcmF0ZWRTcGVha2VySWQ6bn19O3QuZ2V0TG9nKCkuaW5mbygiX29wdE91dFNwZWFrZXJJbkxjbXMgY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfVk9JQ0VfSURfREFUQSxhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlckluTGNtcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJvcHRPdXRTcGVha2VySW5MY21zIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk9QVF9PVVRfU1BFQUtFUl9JTl9MQ01TX0ZBSUxFRCwib3B0T3V0U3BlYWtlckluTGNtcyBmYWlsZWQiLGUpO3Mobil9fSl9KSl9LGcucHJvdG90eXBlLm9wdE91dFNwZWFrZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24ocyl7dmFyIGE9aS5zcGVha2VySWQ7Y29uc3QgYz17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChhLCJzcGVha2VySWQiKSxEb21haW5JZDpzfTt0LmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5PUFRfT1VUX1NQRUFLRVIsYyx7c3VjY2VzczpmdW5jdGlvbihuKXtlLl9vcHRPdXRTcGVha2VySW5MY21zKGEsbi5nZW5lcmF0ZWRTcGVha2VySWQpLmNhdGNoKChmdW5jdGlvbigpe30pKSx0LmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIobil9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigib3B0T3V0U3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5PUFRfT1VUX1NQRUFLRVJfRkFJTEVELCJvcHRPdXRTcGVha2VyIGZhaWxlZC4iLGUpO28obil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LGcucHJvdG90eXBlLmRlbGV0ZVNwZWFrZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7Y29uc3Qgcz17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChpLnNwZWFrZXJJZCwic3BlYWtlcklkIiksRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJkZWxldGVTcGVha2VyIGNhbGxlZCIpLndpdGhPYmplY3Qocykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVMRVRFX1NQRUFLRVIscyx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImRlbGV0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiZGVsZXRlU3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5ERUxFVEVfU1BFQUtFUl9GQUlMRUQsImRlbGV0ZVNwZWFrZXIgZmFpbGVkLiIsZSk7byhuKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0sZy5wcm90b3R5cGUuc3RhcnRTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLmNoZWNrQ29uZmVyZW5jZUNhbGwoKTt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihpKXtjb25zdCBzPXtjb250YWN0SWQ6ZS5jb250YWN0SWQsaW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksY3VzdG9tZXJBY2NvdW50SWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QVdTQWNjb3VudElkKCksY2xpZW50VG9rZW46QVdTLnV0aWwudXVpZC52NCgpLGRvbWFpbklkOml9O3QuZ2V0TG9nKCkuaW5mbygic3RhcnRTZXNzaW9uIGNhbGxlZCIpLndpdGhPYmplY3Qocykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuU1RBUlRfVk9JQ0VfSURfU0VTU0lPTixzLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKGUuc2Vzc2lvbklkKXIoZSk7ZWxzZXt0LmdldExvZygpLmVycm9yKCJzdGFydFZvaWNlSWRTZXNzaW9uIGZhaWxlZCwgbm8gc2Vzc2lvbiBpZCByZXR1cm5lZCIpLndpdGhPYmplY3Qoe2RhdGE6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5TVEFSVF9TRVNTSU9OX0ZBSUxFRCwiTm8gc2Vzc2lvbiBpZCByZXR1cm5lZCBmcm9tIHN0YXJ0IHNlc3Npb24gYXBpIik7byhuKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigic3RhcnRWb2ljZUlkU2Vzc2lvbiBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5TVEFSVF9TRVNTSU9OX0ZBSUxFRCwic3RhcnRWb2ljZUlkU2Vzc2lvbiBmYWlsZWQiLGUpO28obil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LGcucHJvdG90eXBlLmV2YWx1YXRlU3BlYWtlcj1mdW5jdGlvbihlKXt2YXIgbj10aGlzO24uY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKSxpPTA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihzLGEpe2Z1bmN0aW9uIGMoKXtuLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7Y29uc3QgdT17U2Vzc2lvbk5hbWVPcklkOm8uaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdCh1KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5FVkFMVUFURV9TRVNTSU9OLHUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoKytpPHQuVm9pY2VJZENvbnN0YW50cy5FVkFMVUFUSU9OX01BWF9QT0xMX1RJTUVTKWlmKGUuU3RyZWFtaW5nU3RhdHVzPT09dC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLlBFTkRJTkdfQ09ORklHVVJBVElPTilzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTCk7ZWxzZXtpZihlLkF1dGhlbnRpY2F0aW9uUmVzdWx0fHwoZS5BdXRoZW50aWNhdGlvblJlc3VsdD17fSxlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEKSxlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0fHwoZS5GcmF1ZERldGVjdGlvblJlc3VsdD17fSxlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEKSwhbi5pc0F1dGhFbmFibGVkKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYhbi5pc0ZyYXVkRW5hYmxlZChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgcyhlKTtpZihlLlN0cmVhbWluZ1N0YXR1cz09PXQuVm9pY2VJZFN0cmVhbWluZ1N0YXR1cy5FTkRFRCYmKG4uaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkUpLG4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSYmKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFKSksbi5pc0F1dGhSZXN1bHRJbmNvbmNsdXNpdmUoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNGcmF1ZFJlc3VsdEluY29uY2x1c2l2ZShlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgcyhlKTtpZighbi5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNBdXRoRW5hYmxlZChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSlzd2l0Y2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbil7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkFDQ0VQVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkFVVEhFTlRJQ0FURUQ7YnJlYWs7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLlJFSkVDVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9BVVRIRU5USUNBVEVEO2JyZWFrO2Nhc2UgdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5TUEVBS0VSX09QVEVEX09VVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk9QVEVEX09VVDticmVhaztjYXNlIHQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uU1BFQUtFUl9OT1RfRU5ST0xMRUQ6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5ST0xMRUQ7YnJlYWs7ZGVmYXVsdDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkVSUk9SfWlmKCFuLmlzRnJhdWRSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNGcmF1ZEVuYWJsZWQoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikpc3dpdGNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pe2Nhc2UgdC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5ISUdIX1JJU0s6ZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5ISUdIX1JJU0s7YnJlYWs7Y2FzZSB0LlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkxPV19SSVNLOmUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTE9XX1JJU0s7YnJlYWs7ZGVmYXVsdDplLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkVSUk9SfWlmKCFuLmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmIW4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgcyhlKTtzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTCl9ZWxzZXt0LmdldExvZygpLmVycm9yKCJldmFsdWF0ZVNwZWFrZXIgdGltZW91dCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHI9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FVkFMVUFURV9TUEVBS0VSX1RJTUVPVVQsImV2YWx1YXRlU3BlYWtlciB0aW1lb3V0Iik7YShyKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dmFyIG47c3dpdGNoKEpTT04ucGFyc2UoZSkuc3RhdHVzKXtjYXNlIDQwMDpjYXNlIDQwNDpuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuU0VTU0lPTl9OT1RfRVhJU1RTLCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiLGUpLHQuZ2V0TG9nKCkuZXJyb3IoImV2YWx1YXRlU3BlYWtlciBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTticmVhaztkZWZhdWx0Om49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FVkFMVUFURV9TUEVBS0VSX0ZBSUxFRCwiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCIsZSksdC5nZXRMb2coKS5lcnJvcigiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1hKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfWU/bi5zdGFydFNlc3Npb24oKS50aGVuKChmdW5jdGlvbihlKXtuLnN5bmNTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRFX1NFU1NJT05fREVMQVkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzeW5jU3BlYWtlcklkIGZhaWxlZCB3aGVuIHNlc3Npb24gc3RhcnROZXc9dHJ1ZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzdGFydFNlc3Npb24gZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz10cnVlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEoZSl9KSk6bi5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oKXtjKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN5bmNTcGVha2VySWQgZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz1mYWxzZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhKGUpfSkpfSkpfSxnLnByb3RvdHlwZS5kZXNjcmliZVNlc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dC5jb3JlLmdldENsaWVudCgpLHI9dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7Y29uc3Qgcz17U2Vzc2lvbk5hbWVPcklkOnIuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJkZXNjcmliZVNlc3Npb24gY2FsbGVkIikud2l0aE9iamVjdChzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5ERVNDUklCRV9TRVNTSU9OLHMse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7byhlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJkZXNjcmliZVNlc3Npb24gZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuREVTQ1JJQkVfU0VTU0lPTl9GQUlMRUQsImRlc2NyaWJlU2Vzc2lvbiBmYWlsZWQiLGUpO2kobil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2koZSl9KSl9KSl9LGcucHJvdG90eXBlLmNoZWNrRW5yb2xsbWVudFN0YXR1cz1mdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImNoZWNrRW5yb2xsbWVudFN0YXR1cyBjYWxsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXRoaXMscj0wLG89ITE7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHMpeyFmdW5jdGlvbiBhKCl7aWYoKytyPHQuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX01BWF9QT0xMX1RJTUVTKW4uZGVzY3JpYmVTZXNzaW9uKCkudGhlbigoZnVuY3Rpb24ocil7c3dpdGNoKHIuU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuU3RhdHVzKXtjYXNlIHQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLkNPTVBMRVRFRDppKHIpO2JyZWFrO2Nhc2UgdC5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuSU5fUFJPR1JFU1M6b3x8ImZ1bmN0aW9uIiE9dHlwZW9mIGV8fChlKHIpLG89ITApLHNldFRpbWVvdXQoYSx0LlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMKTticmVhaztjYXNlIHQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLk5PVF9FTk9VR0hfU1BFRUNIOnIuU2Vzc2lvbi5TdHJlYW1pbmdTdGF0dXMhPT10LlZvaWNlSWRTdHJlYW1pbmdTdGF0dXMuRU5ERUQ/c2V0VGltZW91dChhLHQuVm9pY2VJZENvbnN0YW50cy5FTlJPTExNRU5UX1BPTExJTkdfSU5URVJWQUwpOnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5zdGFydFNlc3Npb24oKS50aGVuKChmdW5jdGlvbihlKXthKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUsdCl7cyhlKX0pKX0pLHQuVm9pY2VJZENvbnN0YW50cy5TVEFSVF9TRVNTSU9OX0RFTEFZKTticmVhaztkZWZhdWx0OnZhciBjPXIuU2Vzc2lvbi5FbnJvbGxtZW50UmVxdWVzdERldGFpbHMuTWVzc2FnZT9yLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLk1lc3NhZ2U6ImVucm9sbFNwZWFrZXIgZmFpbGVkLiBVbmtub3duIGVucm9sbG1lbnQgc3RhdHVzIGhhcyBiZWVuIHJlY2VpdmVkIjt0LmdldExvZygpLmVycm9yKGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHU9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FTlJPTExfU1BFQUtFUl9GQUlMRUQsYyxyLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLlN0YXR1cyk7cyh1KX19KSk7ZWxzZXt0LmdldExvZygpLmVycm9yKCJlbnJvbGxTcGVha2VyIHRpbWVvdXQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBjPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfVElNRU9VVCwiZW5yb2xsU3BlYWtlciB0aW1lb3V0Iik7cyhjKX19KCl9KSl9LGcucHJvdG90eXBlLmVucm9sbFNwZWFrZXI9ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIGNhbGxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dGhpcztyZXR1cm4gbi5jaGVja0NvbmZlcmVuY2VDYWxsKCksbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7bi5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oKXtuLmdldFNwZWFrZXJTdGF0dXMoKS50aGVuKChmdW5jdGlvbihpKXtpLlNwZWFrZXImJmkuU3BlYWtlci5TdGF0dXM9PXQuVm9pY2VJZFNwZWFrZXJTdGF0dXMuT1BURURfT1VUP24uZGVsZXRlU3BlYWtlcigpLnRoZW4oKGZ1bmN0aW9uKCl7bi5lbnJvbGxTcGVha2VySGVscGVyKHIsbyxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKTpuLmVucm9sbFNwZWFrZXJIZWxwZXIocixvLGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpfSxnLnByb3RvdHlwZS5lbnJvbGxTcGVha2VySGVscGVyPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzLGk9dC5jb3JlLmdldENsaWVudCgpLHM9dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO28uZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihhKXtjb25zdCBjPXtTZXNzaW9uTmFtZU9ySWQ6cy5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxEb21haW5JZDphfTt0LmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXJIZWxwZXIgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5FTlJPTExfQllfU0VTU0lPTixjLHtzdWNjZXNzOmZ1bmN0aW9uKGkpe2kuU3RhdHVzPT09dC5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXMuQ09NUExFVEVEPyh0LmdldExvZygpLmluZm8oImVucm9sbFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUoaSkpOm8uY2hlY2tFbnJvbGxtZW50U3RhdHVzKHIpLnRoZW4oKGZ1bmN0aW9uKG4pe3QuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZShuKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJlbnJvbGxTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgcj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkVOUk9MTF9TUEVBS0VSX0ZBSUxFRCwiZW5yb2xsU3BlYWtlciBmYWlsZWQiLGUpO24ocil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe24oZSl9KSl9LGcucHJvdG90eXBlLl91cGRhdGVTcGVha2VySWRJbkxjbXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxzKXtjb25zdCBhPXtDb250YWN0SWQ6ci5jb250YWN0SWQsSW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksQVdTQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLEN1c3RvbWVySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLFZvaWNlSWRSZXN1bHQ6e2dlbmVyYXRlZFNwZWFrZXJJZDpufX07dC5nZXRMb2coKS5pbmZvKCJfdXBkYXRlU3BlYWtlcklkSW5MY21zIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuVVBEQVRFX1ZPSUNFX0lEX0RBVEEsYSx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJbkxjbXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuVVBEQVRFX1NQRUFLRVJfSURfSU5fTENNU19GQUlMRUQsInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBmYWlsZWQiLGUpO3Mobil9fSl9KSl9LGcucHJvdG90eXBlLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO24uY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkscyl7bi5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKGEpe2NvbnN0IGM9e1Nlc3Npb25OYW1lT3JJZDpvLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLFNwZWFrZXJJZDp0LmFzc2VydE5vdE51bGwoZSwic3BlYWtlcklkIiksRG9tYWluSWQ6YX07dC5nZXRMb2coKS5pbmZvKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfU0VTU0lPTixjLHtzdWNjZXNzOmZ1bmN0aW9uKHIpe3QuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbz1yJiZyLlNlc3Npb24mJnIuU2Vzc2lvbi5HZW5lcmF0ZWRTcGVha2VySWQ7bi5fdXBkYXRlU3BlYWtlcklkSW5MY21zKGUsbykudGhlbigoZnVuY3Rpb24oKXtpKHIpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtzKGUpfSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3ZhciBuO3N3aXRjaChKU09OLnBhcnNlKGUpLnN0YXR1cyl7Y2FzZSA0MDA6Y2FzZSA0MDQ6bj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlNFU1NJT05fTk9UX0VYSVNUUywidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIixlKSx0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7YnJlYWs7ZGVmYXVsdDpuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuVVBEQVRFX1NQRUFLRVJfSURfRkFJTEVELCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkIixlKSx0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJblZvaWNlSWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXMobil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3MoZSl9KSl9KSl9LGcucHJvdG90eXBlLnN5bmNTcGVha2VySWQ9ZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oInN5bmNTcGVha2VySWQgY2FsbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxuKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKHIpe2UudXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkKHIuc3BlYWtlcklkKS50aGVuKChmdW5jdGlvbihlKXt0KGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSkpfSxnLnByb3RvdHlwZS5nZXREb21haW5JZD1mdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxuKXtpZigobmV3IHQuQWdlbnQpLmdldFBlcm1pc3Npb25zKCkuaW5jbHVkZXModC5BZ2VudFBlcm1pc3Npb25zLlZPSUNFX0lEKSlpZih0LmNvcmUudm9pY2VJZERvbWFpbklkKWUodC5jb3JlLnZvaWNlSWREb21haW5JZCk7ZWxzZXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCk7Y29uc3Qgbz17SW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksSW50ZWdyYXRpb25UeXBlOiJWT0lDRV9JRCJ9O3QuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQgY2FsbGVkIikud2l0aE9iamVjdChvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5MSVNUX0lOVEVHUkFUSU9OX0FTU09DSUFUSU9OUyxvLHtzdWNjZXNzOmZ1bmN0aW9uKHIpe3RyeXt2YXIgbztpZihyLkludGVncmF0aW9uQXNzb2NpYXRpb25TdW1tYXJ5TGlzdC5sZW5ndGg+PTEmJihvPXIuSW50ZWdyYXRpb25Bc3NvY2lhdGlvblN1bW1hcnlMaXN0WzBdLkludGVncmF0aW9uQXJuLnJlcGxhY2UoL14uKmRvbWFpblwvL2ksIiIpKSwhbyl7dC5nZXRMb2coKS5pbmZvKCJnZXREb21haW5JZDogbm8gZG9tYWluSWQgZm91bmQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBpPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuTk9fRE9NQUlOX0lEX0ZPVU5EKTtyZXR1cm4gdm9pZCBuKGkpfXQuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQgc3VjY2VlZGVkIikud2l0aE9iamVjdChyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuVm9pY2VJZEV2ZW50cy5VUERBVEVfRE9NQUlOX0lELGRhdGE6e2RvbWFpbklkOm99fSksZShvKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJnZXREb21haW5JZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkdFVF9ET01BSU5fSURfRkFJTEVELCJnZXREb21haW5JZCBmYWlsZWQiLGUpLG4oaSl9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoImdldERvbWFpbklkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgcj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkdFVF9ET01BSU5fSURfRkFJTEVELCJnZXREb21haW5JZCBmYWlsZWQiLGUpO24ocil9fSl9ZWxzZSBuKG5ldyBFcnJvcigiQWdlbnQgZG9lc24ndCBoYXZlIHRoZSBwZXJtaXNzaW9uIGZvciBWb2ljZSBJRCIpKX0pKX0sZy5wcm90b3R5cGUuY2hlY2tDb25mZXJlbmNlQ2FsbD1mdW5jdGlvbigpe2lmKHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKS5jb25uZWN0aW9ucy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbnRhaW5zKHQuQ09OTkVDVElPTl9BQ1RJVkVfU1RBVEVTLGUuc3RhdGUudHlwZSl9KSkubGVuZ3RoPjIpdGhyb3cgbmV3IHQuTm90SW1wbGVtZW50ZWRFcnJvcigiVm9pY2VJZCBpcyBub3Qgc3VwcG9ydGVkIGZvciBjb25mZXJlbmNlIGNhbGxzIil9LGcucHJvdG90eXBlLmlzQXV0aEVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5BQkxFRH0sZy5wcm90b3R5cGUuaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5PVUdIX1NQRUVDSH0sZy5wcm90b3R5cGUuaXNBdXRoUmVzdWx0SW5jb25jbHVzaXZlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFfSxnLnByb3RvdHlwZS5pc0ZyYXVkRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEfSxnLnByb3RvdHlwZS5pc0ZyYXVkUmVzdWx0Tm90RW5vdWdoU3BlZWNoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5OT1RfRU5PVUdIX1NQRUVDSH0sZy5wcm90b3R5cGUuaXNGcmF1ZFJlc3VsdEluY29uY2x1c2l2ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRX07dmFyIGY9ZnVuY3Rpb24oZSx0KXt0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvcj1uZXcgZyhlKSxoLmNhbGwodGhpcyxlLHQpfTsoZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWYsZi5wcm90b3R5cGUuZ2V0U29mdHBob25lTWVkaWFJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zb2Z0cGhvbmVNZWRpYUluZm99LGYucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxmLnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5NZWRpYVR5cGUuU09GVFBIT05FfSxmLnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9LGYucHJvdG90eXBlLmdldFZvaWNlSWRTcGVha2VySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZ2V0U3BlYWtlcklkKCl9LGYucHJvdG90eXBlLmdldFZvaWNlSWRTcGVha2VyU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmdldFNwZWFrZXJTdGF0dXMoKX0sZi5wcm90b3R5cGUub3B0T3V0Vm9pY2VJZFNwZWFrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3Iub3B0T3V0U3BlYWtlcigpfSxmLnByb3RvdHlwZS5kZWxldGVWb2ljZUlkU3BlYWtlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5kZWxldGVTcGVha2VyKCl9LGYucHJvdG90eXBlLmV2YWx1YXRlU3BlYWtlcldpdGhWb2ljZUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5ldmFsdWF0ZVNwZWFrZXIoZSl9LGYucHJvdG90eXBlLmVucm9sbFNwZWFrZXJJblZvaWNlSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmVucm9sbFNwZWFrZXIoZSl9LGYucHJvdG90eXBlLnVwZGF0ZVZvaWNlSWRTcGVha2VySWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZChlKX0sZi5wcm90b3R5cGUuZ2V0UXVpY2tDb25uZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVpY2tDb25uZWN0TmFtZX0sZi5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09dC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUn0sZi5wcm90b3R5cGUuaXNCYXJnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuQkFSR0V9LGYucHJvdG90eXBlLmlzQmFyZ2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXModC5Nb25pdG9yaW5nTW9kZS5CQVJHRSl9LGYucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvckVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyh0Lk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SKX0sZi5wcm90b3R5cGUuZ2V0TW9uaXRvckNhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvckNhcGFiaWxpdGllc30sZi5wcm90b3R5cGUuZ2V0TW9uaXRvclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvclN0YXR1c30sZi5wcm90b3R5cGUuaXNNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tdXRlfSxmLnByb3RvdHlwZS5pc0ZvcmNlZE11dGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmZvcmNlZE11dGV9LGYucHJvdG90eXBlLm11dGVQYXJ0aWNpcGFudD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuTVVURV9QQVJUSUNJUEFOVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxmLnByb3RvdHlwZS51bm11dGVQYXJ0aWNpcGFudD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuVU5NVVRFX1BBUlRJQ0lQQU5ULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LGYucHJvdG90eXBlLmNhblNlbmRWaWRlbz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5WaWRlbz09PXQuVmlkZW9DYXBhYmlsaXR5LlNFTkR9LGYucHJvdG90eXBlLmNhblNlbmRTY3JlZW5TaGFyZT1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5TY3JlZW5TaGFyZT09PXQuU2NyZWVuU2hhcmVDYXBhYmlsaXR5LlNFTkR9LGYucHJvdG90eXBlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY2FwYWJpbGl0aWVzfSxmLnByb3RvdHlwZS5nZXRWaWRlb0Nvbm5lY3Rpb25JbmZvPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmNvcmUuZ2V0Q2xpZW50KCksbj17dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5XRUJfUlRDLGNvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZH07cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCxuLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZS53ZWJSVENUcmFuc3BvcnQpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiZ2V0VmlkZW9Db25uZWN0aW9uSW5mbyBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pLG8oRXJyb3IoImdldFZpZGVvQ29ubmVjdGlvbkluZm8gZmFpbGVkIikpfX0pfSkpfTt2YXIgbT1mdW5jdGlvbihlLHQpe2guY2FsbCh0aGlzLGUsdCl9OyhtLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGgucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bSxtLnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXREYXRhKCkuY2hhdE1lZGlhSW5mbztpZihlKXt2YXIgbj10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCkscj17Y29udGFjdElkOnRoaXMuY29udGFjdElkLGluaXRpYWxDb250YWN0SWQ6bi5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxwYXJ0aWNpcGFudElkOnRoaXMuY29ubmVjdGlvbklkLGdldENvbm5lY3Rpb25Ub2tlbjp0LmhpdGNoKHRoaXMsdGhpcy5nZXRDb25uZWN0aW9uVG9rZW4pfTtpZihlLmNvbm5lY3Rpb25EYXRhKXRyeXtyLnBhcnRpY2lwYW50VG9rZW49SlNPTi5wYXJzZShlLmNvbm5lY3Rpb25EYXRhKS5Db25uZWN0aW9uQXV0aGVudGljYXRpb25Ub2tlbn1jYXRjaChuKXt0LmdldExvZygpLmVycm9yKHQuTG9nQ29tcG9uZW50LkNIQVQsIkNvbm5lY3Rpb24gZGF0YSBpcyBpbnZhbGlkIikud2l0aE9iamVjdChlKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wYXJ0aWNpcGFudFRva2VuPW51bGx9cmV0dXJuIHIucGFydGljaXBhbnRUb2tlbj1yLnBhcnRpY2lwYW50VG9rZW58fG51bGwsci5vcmlnaW5hbEluZm89dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8scn1yZXR1cm4gbnVsbH0sbS5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dC5jb3JlLmdldENsaWVudCgpLG49KHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKSx7dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5DSEFUX1RPS0VOLHBhcnRpY2lwYW50SWQ6dGhpcy5jb25uZWN0aW9uSWQsY29udGFjdElkOnRoaXMuY29udGFjdElkfSk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCxuLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZ2V0Q29ubmVjdGlvblRva2VuIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoImdldENvbm5lY3Rpb25Ub2tlbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pLG8oRXJyb3IoImdldENvbm5lY3Rpb25Ub2tlbiBmYWlsZWQiKSl9fSl9KSl9LG0ucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiB0Lk1lZGlhVHlwZS5DSEFUfSxtLnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9LG0ucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7dGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCkmJnQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpLmNhdGNoKChmdW5jdGlvbigpe30pKX0sbS5wcm90b3R5cGUuaXNCYXJnZUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyh0Lk1vbml0b3JpbmdNb2RlLkJBUkdFKX0sbS5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKHQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1IpfSxtLnByb3RvdHlwZS5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5tb25pdG9yQ2FwYWJpbGl0aWVzfSxtLnByb3RvdHlwZS5pc0JhcmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09dC5Nb25pdG9yaW5nTW9kZS5CQVJHRX0sbS5wcm90b3R5cGUuaXNTaWxlbnRNb25pdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TW9uaXRvclN0YXR1cygpPT09dC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUn0sbS5wcm90b3R5cGUuZ2V0TW9uaXRvclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvclN0YXR1c30sbS5wcm90b3R5cGUuZ2V0QXV0aGVudGljYXRpb25EZXRhaWxzPWZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5faXNBZ2VudENvbm5lY3Rpb25UeXBlKCkpdGhyb3cgbmV3IEVycm9yKCJBdXRoZW50aWNhdGlvbiBkZXRhaWxzIGFyZSBhdmFpbGFibGUgb25seSBmb3IgY3VzdG9tZXIgY29ubmVjdGlvbiIpO2NvbnN0IG49dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO2lmKG51bGwhPW4mJm51bGwhPT0oZT1uLnNlZ21lbnRBdHRyaWJ1dGVzKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWVbImNvbm5lY3Q6Q3VzdG9tZXJBdXRoZW50aWNhdGlvbiJdKSYmdm9pZCAwIT09ZSYmZS5WYWx1ZU1hcCl7Y29uc3QgZT1uLnNlZ21lbnRBdHRyaWJ1dGVzWyJjb25uZWN0OkN1c3RvbWVyQXV0aGVudGljYXRpb24iXS5WYWx1ZU1hcDtpZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lKXtsZXQgdD17fTtmb3IoY29uc3RbbixyXW9mIE9iamVjdC5lbnRyaWVzKGUpKW51bGwhPT0obnVsbD09cj92b2lkIDA6ci5WYWx1ZVN0cmluZykmJih0W25dPXIuVmFsdWVTdHJpbmcpO3JldHVybiB0fX1yZXR1cm4gbnVsbH0sbS5wcm90b3R5cGUuaXNBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLmdldEF1dGhlbnRpY2F0aW9uRGV0YWlscygpO3JldHVybihudWxsPT1lP3ZvaWQgMDplLlN0YXR1cyk9PT10LkN1c3RvbWVyQXV0aGVudGljYXRpb25TdGF0dXMuQVVUSEVOVElDQVRFRH0sbS5wcm90b3R5cGUuZ2V0UGFydGljaXBhbnROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQWdlbnRDb25uZWN0aW9uVHlwZSgpPyhuZXcgdC5BZ2VudCkuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWU6dGhpcy5pc0luaXRpYWxDb25uZWN0aW9uKCk/dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm8uY3VzdG9tZXJOYW1lOnRoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvLmFnZW50TmFtZX07dmFyIHY9ZnVuY3Rpb24oZSx0KXtoLmNhbGwodGhpcyxlLHQpfTsodi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXYsdi5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTWVkaWFUeXBlLlRBU0t9LHYucHJvdG90eXBlLmdldE1lZGlhSW5mbz1mdW5jdGlvbigpe3ZhciBlPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm57Y29udGFjdElkOnRoaXMuY29udGFjdElkLGluaXRpYWxDb250YWN0SWQ6ZS5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZH19LHYucHJvdG90eXBlLmdldE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKX07dmFyIHk9ZnVuY3Rpb24oZSx0KXtoLmNhbGwodGhpcyxlLHQpfTsoeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXkseS5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTWVkaWFUeXBlLkVNQUlMfSx5LnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe307dmFyIGI9ZnVuY3Rpb24oZSl7dC5Db25uZWN0aW9uLmNhbGwodGhpcyxlLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCksdGhpcy5jb25uZWN0aW9uRGF0YT1lfTsoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uRGF0YX0sYi5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt9O3ZhciBTPWZ1bmN0aW9uKGUpe3ZhciB0PWV8fHt9O3RoaXMuZW5kcG9pbnRBUk49dC5lbmRwb2ludElkfHx0LmVuZHBvaW50QVJOfHxudWxsLHRoaXMuZW5kcG9pbnRJZD10aGlzLmVuZHBvaW50QVJOLHRoaXMudHlwZT10LnR5cGV8fG51bGwsdGhpcy5uYW1lPXQubmFtZXx8bnVsbCx0aGlzLnBob25lTnVtYmVyPXQucGhvbmVOdW1iZXJ8fG51bGwsdGhpcy5hZ2VudExvZ2luPXQuYWdlbnRMb2dpbnx8bnVsbCx0aGlzLnF1ZXVlPXQucXVldWV8fG51bGx9O1MucHJvdG90eXBlLnN0cmlwUGhvbmVOdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waG9uZU51bWJlcj90aGlzLnBob25lTnVtYmVyLnJlcGxhY2UoL3NpcDooW15AXSopQC4qLywiJDEiKToiIn0sUy5ieVBob25lTnVtYmVyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBTKHt0eXBlOnQuRW5kcG9pbnRUeXBlLlBIT05FX05VTUJFUixwaG9uZU51bWJlcjplLG5hbWU6bnx8bnVsbH0pfSx0LnNlbmRBY3Rpdml0eT1mdW5jdGlvbigpe3JldHVybiBzKHQuY29yZS5nZXRTREtDbGllbnRDb25maWcoKS5wcm92aWRlcil9O3ZhciBDPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVycm9yVHlwZT1lLHRoaXMuZXJyb3JNZXNzYWdlPXQsdGhpcy5lbmRQb2ludFVybD1ufTtDLnByb3RvdHlwZS5nZXRFcnJvclR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcnJvclR5cGV9LEMucHJvdG90eXBlLmdldEVycm9yTWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yTWVzc2FnZX0sQy5wcm90b3R5cGUuZ2V0RW5kUG9pbnRVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRQb2ludFVybH0sdC5hZ2VudD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5JTklULGUpO3JldHVybiB0LmFnZW50LmluaXRpYWxpemVkJiZlKG5ldyB0LkFnZW50KSxufSx0LmFnZW50LmluaXRpYWxpemVkPSExLHQuY29udGFjdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5JTklULGUpfSx0Lm9uV2Vic29ja2V0SW5pdEZhaWx1cmU9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRSxlKTtyZXR1cm4gdC53ZWJTb2NrZXRJbml0RmFpbGVkJiZlKCksbn0sdC5pZk1hc3Rlcj1mdW5jdGlvbihlLG4scixvKXtpZih0LmFzc2VydE5vdE51bGwoZSwiQSB0b3BpYyBtdXN0IGJlIHByb3ZpZGVkLiIpLHQuYXNzZXJ0Tm90TnVsbChuLCJBIHRydWUgY2FsbGJhY2sgbXVzdCBiZSBwcm92aWRlZC4iKSwhdC5jb3JlLm1hc3RlckNsaWVudClyZXR1cm4gdC5nZXRMb2coKS53YXJuKCJXZSBjYW4ndCBiZSB0aGUgbWFzdGVyIGZvciB0b3BpYyAnJXMnIGJlY2F1c2UgdGhlcmUgaXMgbm8gbWFzdGVyIGNsaWVudCEiLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZChyJiZyKCkpO3QuY29yZS5nZXRNYXN0ZXJDbGllbnQoKS5jYWxsKHQuTWFzdGVyTWV0aG9kcy5DSEVDS19NQVNURVIse3RvcGljOmUsc2hvdWxkTm90QmVjb21lTWFzdGVySWZOb25lOm99LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2UuaXNNYXN0ZXI/bigpOnImJnIoKX19KX0sdC5iZWNvbWVNYXN0ZXI9ZnVuY3Rpb24oZSxuLHIpe3QuYXNzZXJ0Tm90TnVsbChlLCJBIHRvcGljIG11c3QgYmUgcHJvdmlkZWQuIiksdC5jb3JlLm1hc3RlckNsaWVudD90LmNvcmUuZ2V0TWFzdGVyQ2xpZW50KCkuY2FsbCh0Lk1hc3Rlck1ldGhvZHMuQkVDT01FX01BU1RFUix7dG9waWM6ZX0se3N1Y2Nlc3M6ZnVuY3Rpb24oKXtuJiZuKCl9fSk6KHQuZ2V0TG9nKCkud2FybigiV2UgY2FuJ3QgYmUgdGhlIG1hc3RlciBmb3IgdG9waWMgJyVzJyBiZWNhdXNlIHRoZXJlIGlzIG5vIG1hc3RlciBjbGllbnQhIixlKSxyJiZyKCkpfSx0LkFnZW50PXUsdC5BZ2VudFNuYXBzaG90PWwsdC5Db250YWN0PXAsdC5Db250YWN0U25hcHNob3Q9ZCx0LkNvbm5lY3Rpb249Zix0LkJhc2VDb25uZWN0aW9uPWgsdC5Wb2ljZUNvbm5lY3Rpb249Zix0LkNoYXRDb25uZWN0aW9uPW0sdC5UYXNrQ29ubmVjdGlvbj12LHQuRW1haWxDb25uZWN0aW9uPXksdC5Db25uZWN0aW9uU25hcHNob3Q9Yix0LkVuZHBvaW50PVMsdC5BZGRyZXNzPVMsdC5Tb2Z0cGhvbmVFcnJvcj1DLHQuVm9pY2VJZD1nLHQuUXVpY2tSZXNwb25zZXM9Yyx0LlNlc3Npb25FeHBpcmF0aW9uV2FybmluZ01hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudD1uZXcgcih0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpfV9nZXRTREtDbGllbnQoKXtyZXR1cm4gdGhpcy5zZXNzaW9uRXhwaXJhdGlvbldhcm5pbmdDbGllbnR8fCh0aGlzLnNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudD1uZXcgcih0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnKCkpKSx0aGlzLnNlc3Npb25FeHBpcmF0aW9uV2FybmluZ0NsaWVudH1vbkV4cGlyYXRpb25XYXJuaW5nKGUpe2NvbnN0IHQ9dD0+KGUodCksUHJvbWlzZS5yZXNvbHZlKCkpO3JldHVybiB0aGlzLl9nZXRTREtDbGllbnQoKS5vbkV4cGlyYXRpb25XYXJuaW5nKHQpLHt1bnN1YnNjcmliZTooKT0+dGhpcy5fZ2V0U0RLQ2xpZW50KCkub2ZmRXhwaXJhdGlvbldhcm5pbmcodCl9fW9uRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKGUpe2NvbnN0IHQ9dD0+KGUodCksUHJvbWlzZS5yZXNvbHZlKCkpO3JldHVybiB0aGlzLl9nZXRTREtDbGllbnQoKS5vbkV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZCh0KSx7dW5zdWJzY3JpYmU6KCk9PnRoaXMuX2dldFNES0NsaWVudCgpLm9mZkV4cGlyYXRpb25XYXJuaW5nQ2xlYXJlZCh0KX19b25TZXNzaW9uRXh0ZW5zaW9uRXJyb3IoZSl7Y29uc3QgdD10PT4oZSh0KSxQcm9taXNlLnJlc29sdmUoKSk7cmV0dXJuIHRoaXMuX2dldFNES0NsaWVudCgpLm9uU2Vzc2lvbkV4dGVuc2lvbkVycm9yKHQpLHt1bnN1YnNjcmliZTooKT0+dGhpcy5fZ2V0U0RLQ2xpZW50KCkub2ZmRXhwaXJhdGlvbldhcm5pbmdDbGVhcmVkKHQpfX19fSgpfSwxNjc6KGUsdCxuKT0+e3ZhciByOyFmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBvKHMsYSl7aWYoIW5bc10pe2lmKCF0W3NdKXtpZihpKXJldHVybiBpKHMsITApO3ZhciBjPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBjLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGN9dmFyIHU9bltzXT17ZXhwb3J0czp7fX07dFtzXVswXS5jYWxsKHUuZXhwb3J0cywoZnVuY3Rpb24oZSl7cmV0dXJuIG8odFtzXVsxXVtlXXx8ZSl9KSx1LHUuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltzXS5leHBvcnRzfWZvcih2YXIgaT12b2lkIDAscz0wO3M8ci5sZW5ndGg7cysrKW8ocltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDE0LTA2LTMwIixlbmRwb2ludFByZWZpeDoiY29nbml0by1pZGVudGl0eSIsanNvblZlcnNpb246IjEuMSIscHJvdG9jb2w6Impzb24iLHNlcnZpY2VGdWxsTmFtZToiQW1hem9uIENvZ25pdG8gSWRlbnRpdHkiLHNlcnZpY2VJZDoiQ29nbml0byBJZGVudGl0eSIsc2lnbmF0dXJlVmVyc2lvbjoidjQiLHRhcmdldFByZWZpeDoiQVdTQ29nbml0b0lkZW50aXR5U2VydmljZSIsdWlkOiJjb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAifSxvcGVyYXRpb25zOntDcmVhdGVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sTmFtZSIsIkFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbE5hbWU6e30sQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzOnt0eXBlOiJib29sZWFuIn0sQWxsb3dDbGFzc2ljRmxvdzp7dHlwZToiYm9vbGVhbiJ9LFN1cHBvcnRlZExvZ2luUHJvdmlkZXJzOntzaGFwZToiUzUifSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sT3BlbklkQ29ubmVjdFByb3ZpZGVyQVJOczp7c2hhcGU6IlM5In0sQ29nbml0b0lkZW50aXR5UHJvdmlkZXJzOntzaGFwZToiU2IifSxTYW1sUHJvdmlkZXJBUk5zOntzaGFwZToiU2cifSxJZGVudGl0eVBvb2xUYWdzOntzaGFwZToiU2gifX19LG91dHB1dDp7c2hhcGU6IlNrIn19LERlbGV0ZUlkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZHNUb0RlbGV0ZSJdLG1lbWJlcnM6e0lkZW50aXR5SWRzVG9EZWxldGU6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VW5wcm9jZXNzZWRJZGVudGl0eUlkczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sRXJyb3JDb2RlOnt9fX19fX19LERlbGV0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX19LERlc2NyaWJlSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e319fSxvdXRwdXQ6e3NoYXBlOiJTdiJ9fSxEZXNjcmliZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0OntzaGFwZToiU2sifX0sR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifSxDdXN0b21Sb2xlQXJuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sQ3JlZGVudGlhbHM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7QWNjZXNzS2V5SWQ6e30sU2VjcmV0S2V5Ont9LFNlc3Npb25Ub2tlbjp7fSxFeHBpcmF0aW9uOnt0eXBlOiJ0aW1lc3RhbXAifX19fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRJZDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0FjY291bnRJZDp7fSxJZGVudGl0eVBvb2xJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRJZGVudGl0eVBvb2xSb2xlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LFJvbGVzOntzaGFwZToiUzFjIn0sUm9sZU1hcHBpbmdzOntzaGFwZToiUzFlIn19fX0sR2V0T3BlbklkVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxUb2tlbjp7fX19LGF1dGh0eXBlOiJub25lIn0sR2V0T3BlbklkVG9rZW5Gb3JEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIkxvZ2lucyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9LFRva2VuRHVyYXRpb246e3R5cGU6ImxvbmcifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LFRva2VuOnt9fX19LEdldFByaW5jaXBhbFRhZ0F0dHJpYnV0ZU1hcDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIklkZW50aXR5UHJvdmlkZXJOYW1lIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e30sVXNlRGVmYXVsdHM6e3R5cGU6ImJvb2xlYW4ifSxQcmluY2lwYWxUYWdzOntzaGFwZToiUzFzIn19fX0sTGlzdElkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJNYXhSZXN1bHRzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sTWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fSxIaWRlRGlzYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0aWVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTdiJ9fSxOZXh0VG9rZW46e319fX0sTGlzdElkZW50aXR5UG9vbHM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiTWF4UmVzdWx0cyJdLG1lbWJlcnM6e01heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UG9vbE5hbWU6e319fX0sTmV4dFRva2VuOnt9fX19LExpc3RUYWdzRm9yUmVzb3VyY2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUmVzb3VyY2VBcm4iXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntUYWdzOntzaGFwZToiU2gifX19fSxMb29rdXBEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5SWQ6e30sRGV2ZWxvcGVyVXNlcklkZW50aWZpZXI6e30sTWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxOZXh0VG9rZW46e319fX0sTWVyZ2VEZXZlbG9wZXJJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlNvdXJjZVVzZXJJZGVudGlmaWVyIiwiRGVzdGluYXRpb25Vc2VySWRlbnRpZmllciIsIkRldmVsb3BlclByb3ZpZGVyTmFtZSIsIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7U291cmNlVXNlcklkZW50aWZpZXI6e30sRGVzdGluYXRpb25Vc2VySWRlbnRpZmllcjp7fSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sSWRlbnRpdHlQb29sSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fX19fSxTZXRJZGVudGl0eVBvb2xSb2xlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIlJvbGVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sUm9sZXM6e3NoYXBlOiJTMWMifSxSb2xlTWFwcGluZ3M6e3NoYXBlOiJTMWUifX19fSxTZXRQcmluY2lwYWxUYWdBdHRyaWJ1dGVNYXA6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVByb3ZpZGVyTmFtZSJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX19LFRhZ1Jlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIiwiVGFncyJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9LFRhZ3M6e3NoYXBlOiJTaCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVbmxpbmtEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIiwiSWRlbnRpdHlQb29sSWQiLCJEZXZlbG9wZXJQcm92aWRlck5hbWUiLCJEZXZlbG9wZXJVc2VySWRlbnRpZmllciJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sSWRlbnRpdHlQb29sSWQ6e30sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyOnt9fX19LFVubGlua0lkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiLCJMb2dpbnMiLCJMb2dpbnNUb1JlbW92ZSJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sTG9naW5zVG9SZW1vdmU6e3NoYXBlOiJTdyJ9fX0sYXV0aHR5cGU6Im5vbmUifSxVbnRhZ1Jlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIiwiVGFnS2V5cyJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9LFRhZ0tleXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3NoYXBlOiJTayJ9LG91dHB1dDp7c2hhcGU6IlNrIn19fSxzaGFwZXM6e1M1Ont0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzk6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sU2I6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntQcm92aWRlck5hbWU6e30sQ2xpZW50SWQ6e30sU2VydmVyU2lkZVRva2VuQ2hlY2s6e3R5cGU6ImJvb2xlYW4ifX19fSxTZzp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTaDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFNrOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVBvb2xOYW1lIiwiQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQb29sTmFtZTp7fSxBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXM6e3R5cGU6ImJvb2xlYW4ifSxBbGxvd0NsYXNzaWNGbG93Ont0eXBlOiJib29sZWFuIn0sU3VwcG9ydGVkTG9naW5Qcm92aWRlcnM6e3NoYXBlOiJTNSJ9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxPcGVuSWRDb25uZWN0UHJvdmlkZXJBUk5zOntzaGFwZToiUzkifSxDb2duaXRvSWRlbnRpdHlQcm92aWRlcnM6e3NoYXBlOiJTYiJ9LFNhbWxQcm92aWRlckFSTnM6e3NoYXBlOiJTZyJ9LElkZW50aXR5UG9vbFRhZ3M6e3NoYXBlOiJTaCJ9fX0sU3Y6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTdyJ9LENyZWF0aW9uRGF0ZTp7dHlwZToidGltZXN0YW1wIn0sTGFzdE1vZGlmaWVkRGF0ZTp7dHlwZToidGltZXN0YW1wIn19fSxTdzp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTMTA6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTMWM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTMWU6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiVHlwZSJdLG1lbWJlcnM6e1R5cGU6e30sQW1iaWd1b3VzUm9sZVJlc29sdXRpb246e30sUnVsZXNDb25maWd1cmF0aW9uOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUnVsZXMiXSxtZW1iZXJzOntSdWxlczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQ2xhaW0iLCJNYXRjaFR5cGUiLCJWYWx1ZSIsIlJvbGVBUk4iXSxtZW1iZXJzOntDbGFpbTp7fSxNYXRjaFR5cGU6e30sVmFsdWU6e30sUm9sZUFSTjp7fX19fX19fX19LFMxczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319fX19LHt9XSwyOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtwYWdpbmF0aW9uOntMaXN0SWRlbnRpdHlQb29sczp7aW5wdXRfdG9rZW46Ik5leHRUb2tlbiIsbGltaXRfa2V5OiJNYXhSZXN1bHRzIixvdXRwdXRfdG9rZW46Ik5leHRUb2tlbiIscmVzdWx0X2tleToiSWRlbnRpdHlQb29scyJ9fX19LHt9XSwzOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDE3LTAyLTE1IixlbmRwb2ludFByZWZpeDoiY29ubmVjdCIsanNvblZlcnNpb246IjEuMCIscHJvdG9jb2w6Impzb24iLHNlcnZpY2VBYmJyZXZpYXRpb246IkNvbm5lY3QiLHNlcnZpY2VGdWxsTmFtZToiQW1hem9uQ29ubmVjdENUSVNlcnZpY2UiLHNpZ25hdHVyZVZlcnNpb246IiIsdGFyZ2V0UHJlZml4OiJBbWF6b25Db25uZWN0Q1RJU2VydmljZSIsdWlkOiJjb25uZWN0LTIwMTctMDItMTUifSxvcGVyYXRpb25zOntBY2NlcHRDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ2xlYXJDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ29tcGxldGVDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ29uZmVyZW5jZUNvbm5lY3Rpb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlQWRkaXRpb25hbENvbm5lY3Rpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJlbmRwb2ludCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDcmVhdGVPdXRib3VuZENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJlbmRwb2ludCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxlbmRwb2ludDp7c2hhcGU6IlNlIn0scXVldWVBUk46e30scmVsYXRlZENvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlVGFza0NvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiZW5kcG9pbnQiLCJuYW1lIl0sbWVtYmVyczp7ZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LHByZXZpb3VzQ29udGFjdElkOnt9LG5hbWU6e30sZGVzY3JpcHRpb246e30scmVmZXJlbmNlczp7c2hhcGU6IlN0In0saWRlbXBvdGVuY3lUb2tlbjp7fSxzY2hlZHVsZWRUaW1lOnt0eXBlOiJsb25nIn0scmVsYXRlZENvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjb250YWN0SWQ6e319fX0sQ3JlYXRlVHJhbnNwb3J0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInRyYW5zcG9ydFR5cGUiLCJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e3RyYW5zcG9ydFR5cGU6e30scGFydGljaXBhbnRJZDp7fSxjb250YWN0SWQ6e30sc29mdHBob25lQ2xpZW50SWQ6e30sYXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3dlYlNvY2tldFRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInVybCIsInRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzIl0sbWVtYmVyczp7dXJsOnt9LHRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzOnt0eXBlOiJsb25nIn0sZXhwaXJ5Ont9fX0sY2hhdFRva2VuVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicGFydGljaXBhbnRUb2tlbiIsImV4cGlyeSJdLG1lbWJlcnM6e3BhcnRpY2lwYW50VG9rZW46e30sZXhwaXJ5Ont9fX0sc29mdHBob25lVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic29mdHBob25lTWVkaWFDb25uZWN0aW9ucyJdLG1lbWJlcnM6e3NvZnRwaG9uZU1lZGlhQ29ubmVjdGlvbnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInVzZXJuYW1lIiwiY3JlZGVudGlhbCIsInVybHMiXSxtZW1iZXJzOnt1c2VybmFtZTp7fSxjcmVkZW50aWFsOnt9LHVybHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fX19fSxhZ2VudERpc2NvdmVyeVRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInByZXNpZ25lZFVybCJdLG1lbWJlcnM6e3ByZXNpZ25lZFVybDp7fX19LHdlYlJUQ1RyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm1lZXRpbmciLCJhdHRlbmRlZSJdLG1lbWJlcnM6e21lZXRpbmc6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7bWVldGluZ0lkOnt9LG1lZGlhUmVnaW9uOnt9LG1lZGlhUGxhY2VtZW50Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F1ZGlvSG9zdFVybDp7fSxhdWRpb0ZhbGxiYWNrVXJsOnt9LHNpZ25hbGluZ1VybDp7fSx0dXJuQ29udHJvbFVybDp7fSxldmVudEluZ2VzdGlvblVybDp7fX19LG1lZXRpbmdGZWF0dXJlczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdWRpbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntlY2hvUmVkdWN0aW9uOnt9fX19fX19LGF0dGVuZGVlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F0dGVuZGVlSWQ6e30sam9pblRva2VuOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH19fX19fX19LERlc3Ryb3lDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LEdldEFnZW50Q29uZmlndXJhdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbmZpZ3VyYXRpb24iXSxtZW1iZXJzOntjb25maWd1cmF0aW9uOntzaGFwZToiUzF2In19fX0sR2V0QWdlbnRQZXJtaXNzaW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicGVybWlzc2lvbnMiXSxtZW1iZXJzOntwZXJtaXNzaW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxuZXh0VG9rZW46e319fX0sR2V0QWdlbnRTbmFwc2hvdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sdGltZW91dDp7dHlwZToibG9uZyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic25hcHNob3QiLCJuZXh0VG9rZW4iXSxtZW1iZXJzOntzbmFwc2hvdDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInN0YXRlIiwiY29udGFjdHMiLCJzbmFwc2hvdFRpbWVzdGFtcCJdLG1lbWJlcnM6e3N0YXRlOntzaGFwZToiUzJlIn0sbmV4dFN0YXRlOntzaGFwZToiUzJlIn0sYWdlbnRBdmFpbGFiaWxpdHlTdGF0ZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzdGF0ZTp7fSx0aW1lU3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sY29udGFjdHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCIsInR5cGUiLCJzdGF0ZSIsImNvbm5lY3Rpb25zIiwiYXR0cmlidXRlcyJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fSxpbml0aWFsQ29udGFjdElkOnt9LHJlbGF0ZWRDb250YWN0SWQ6e30sY29udGFjdEFzc29jaWF0aW9uSWQ6e30sdHlwZTp7fSxzdGF0ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiLCJ0aW1lc3RhbXAiXSxtZW1iZXJzOnt0eXBlOnt9LHRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxxdWV1ZTp7c2hhcGU6IlNsIn0scXVldWVUaW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LGNvbm5lY3Rpb25zOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb25uZWN0aW9uSWQiLCJzdGF0ZSIsInR5cGUiLCJpbml0aWFsIl0sbWVtYmVyczp7Y29ubmVjdGlvbklkOnt9LGVuZHBvaW50OntzaGFwZToiU2UifSxzdGF0ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiLCJ0aW1lc3RhbXAiXSxtZW1iZXJzOnt0eXBlOnt9LHRpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSx0eXBlOnt9LGluaXRpYWw6e3R5cGU6ImJvb2xlYW4ifSxzb2Z0cGhvbmVNZWRpYUluZm86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Y2FsbFR5cGU6e30sYXV0b0FjY2VwdDp7dHlwZToiYm9vbGVhbiJ9LG1lZGlhTGVnQ29udGV4dFRva2VuOnt9LGNhbGxDb250ZXh0VG9rZW46e30sY2FsbENvbmZpZ0pzb246e319fSxjaGF0TWVkaWFJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NoYXRBdXRvQWNjZXB0Ont0eXBlOiJib29sZWFuIn0sY29ubmVjdGlvbkRhdGE6e30sY3VzdG9tZXJOYW1lOnt9fX0sbW9uaXRvcmluZ0luZm86e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnROYW1lOnt9fX0sam9pblRpbWVTdGFtcDp7dHlwZToidGltZXN0YW1wIn19fSxtdXRlOnt0eXBlOiJib29sZWFuIn0sZm9yY2VkTXV0ZTp7dHlwZToiYm9vbGVhbiJ9LHF1aWNrQ29ubmVjdE5hbWU6e30sbW9uaXRvckNhcGFiaWxpdGllczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxtb25pdG9yU3RhdHVzOnt9LGNhcGFiaWxpdGllczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntWaWRlbzp7fX19fX19LGF0dHJpYnV0ZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsibmFtZSJdLG1lbWJlcnM6e25hbWU6e30sdmFsdWU6e319fX0sY29udGFjdER1cmF0aW9uOnt9LG5hbWU6e30sZGVzY3JpcHRpb246e30scmVmZXJlbmNlczp7c2hhcGU6IlN0In0saW5pdGlhdGlvbk1ldGhvZDp7fSxjb250YWN0RmVhdHVyZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YXR0YWNobWVudHNFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sbWVzc2FnaW5nTWFya2Rvd25FbmFibGVkOnt0eXBlOiJib29sZWFuIn0sbXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sc2NyZWVuUmVjb3JkaW5nRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ1N0YXRlOnt9LHNjcmVlblJlY29yZGluZ0NvbmZpZzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzY3JlZW5SZWNvcmRpbmdFbmFibGVkOnt0eXBlOiJib29sZWFuIn0sc2NyZWVuUmVjb3JkaW5nU3RhdGU6e319fX19LGNoYW5uZWxDb250ZXh0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3NjaGVkdWxlZFRpbWU6e3R5cGU6ImxvbmcifSx0YXNrVGVtcGxhdGVJZDp7fSx0YXNrVGVtcGxhdGVWZXJzaW9uOnt0eXBlOiJpbnRlZ2VyIn19fSxzZWdtZW50QXR0cmlidXRlczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VmFsdWVTdHJpbmc6e319fX0sY3VzdG9tZXJFbmRwb2ludDp7c2hhcGU6IlNlIn0sY29ubmVjdFN5c3RlbUVuZHBvaW50OntzaGFwZToiU2UifSxsYW5ndWFnZUNvZGU6e30sZW1haWxSZWNpcGllbnRzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3RvTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiUzNpIn19LGNjTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiUzNpIn19LGZyb21SZWNpcGllbnQ6e3NoYXBlOiJTM2kifX19fX19LHNuYXBzaG90VGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LG5leHRUb2tlbjp7fX19fSxHZXRBZ2VudFN0YXRlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic3RhdGVzIl0sbWVtYmVyczp7c3RhdGVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTMmUifX0sbmV4dFRva2VuOnt9fX19LEdldERpYWxhYmxlQ291bnRyeUNvZGVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb3VudHJ5Q29kZXMiXSxtZW1iZXJzOntjb3VudHJ5Q29kZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9fX19LEdldEVuZHBvaW50czp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInF1ZXVlQVJOcyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxxdWV1ZUFSTnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntlbmRwb2ludHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlNlIn19LG5leHRUb2tlbjp7fX19fSxHZXROZXdBdXRoVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJyZWZyZXNoVG9rZW4iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scmVmcmVzaFRva2VuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e25ld0F1dGhUb2tlbjp7fSxleHBpcmF0aW9uRGF0ZVRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9fX19LEdldFJvdXRpbmdQcm9maWxlUXVldWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwicm91dGluZ1Byb2ZpbGVBUk4iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scm91dGluZ1Byb2ZpbGVBUk46e30sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInF1ZXVlcyJdLG1lbWJlcnM6e3F1ZXVlczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiU2wifX0sbmV4dFRva2VuOnt9fX19LEhvbGRDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LE11dGVQYXJ0aWNpcGFudDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxOb3RpZnlDb250YWN0SXNzdWU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGlzc3VlQ29kZTp7fSxkZXNjcmlwdGlvbjp7fSxjbGllbnRMb2dzOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxQYXVzZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxQdXRBZ2VudFN0YXRlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwic3RhdGUiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sc3RhdGU6e3NoYXBlOiJTMmUifSxlbnF1ZXVlTmV4dFN0YXRlOnt0eXBlOiJib29sZWFuIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlamVjdENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZXN1bWVDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlc3VtZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kQ2xpZW50TG9nczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImxvZ0V2ZW50cyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxsb2dFdmVudHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LGNvbXBvbmVudDp7fSxtZXNzYWdlOnt9fX19fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kRGlnaXRzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIiwiZGlnaXRzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e30sZGlnaXRzOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kU29mdHBob25lQ2FsbE1ldHJpY3M6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjY3BWZXJzaW9uOnt9LHNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M6e3NoYXBlOiJTNHAifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZFNvZnRwaG9uZUNhbGxSZXBvcnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJyZXBvcnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNjcFZlcnNpb246e30scmVwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NhbGxTdGFydFRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9LGNhbGxFbmRUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOntzaGFwZToiUzRwIn0sZ3VtVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGluaXRpYWxpemF0aW9uVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGljZUNvbGxlY3Rpb25UaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0saGFuZHNoYWtlVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHByZVRhbGtUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sdGFsa1RpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxjbGVhbnVwVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGljZUNvbGxlY3Rpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2lnbmFsbGluZ0Nvbm5lY3Rpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0saGFuZHNoYWtlRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGd1bU90aGVyRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGd1bVRpbWVvdXRGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sY3JlYXRlT2ZmZXJGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSx1c2VyQnVzeUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LG5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFRvZ2dsZUFjdGl2ZUNvbm5lY3Rpb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVubXV0ZVBhcnRpY2lwYW50OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbmZpZ3VyYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29uZmlndXJhdGlvbjp7c2hhcGU6IlMxdiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiLCJ0YXJnZXRNb25pdG9yTW9kZSJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fSx0YXJnZXRNb25pdG9yTW9kZTp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX19LHNoYXBlczp7UzI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnRBUk46e30sYXV0aFRva2VuOnt9fX0sU2U6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIl0sbWVtYmVyczp7ZW5kcG9pbnRBUk46e30sdHlwZTp7fSxuYW1lOnt9LGRpc3BsYXlOYW1lOnt9LHBob25lTnVtYmVyOnt9LGFnZW50TG9naW46e30scXVldWU6e3NoYXBlOiJTbCJ9LGVtYWlsQWRkcmVzczp7fX19LFNsOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3F1ZXVlQVJOOnt9LG5hbWU6e319fSxTdDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIl0sbWVtYmVyczp7dmFsdWU6e30sdHlwZTp7fSxhcm46e30sc3RhdHVzOnt9LHN0YXR1c1JlYXNvbjp7fX19fSxTMXY6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJuYW1lIiwic29mdHBob25lRW5hYmxlZCIsInNvZnRwaG9uZUF1dG9BY2NlcHQiLCJleHRlbnNpb24iLCJyb3V0aW5nUHJvZmlsZSJdLG1lbWJlcnM6e25hbWU6e30sdXNlcm5hbWU6e30sc29mdHBob25lRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNvZnRwaG9uZUF1dG9BY2NlcHQ6e3R5cGU6ImJvb2xlYW4ifSxleHRlbnNpb246e30scm91dGluZ1Byb2ZpbGU6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7bmFtZTp7fSxyb3V0aW5nUHJvZmlsZUFSTjp7fSxkZWZhdWx0T3V0Ym91bmRRdWV1ZTp7c2hhcGU6IlNsIn0sY2hhbm5lbENvbmN1cnJlbmN5TWFwOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToibG9uZyJ9fX19LGFnZW50UHJlZmVyZW5jZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxhZ2VudEFSTjp7fX19LFMyZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInR5cGUiLCJuYW1lIl0sbWVtYmVyczp7YWdlbnRTdGF0ZUFSTjp7fSx0eXBlOnt9LG5hbWU6e30sc3RhcnRUaW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sUzNpOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FkZHJlc3M6e30sZGlzcGxheU5hbWU6e319fSxTNHA6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LHNvZnRwaG9uZVN0cmVhbVR5cGU6e30scGFja2V0Q291bnQ6e3R5cGU6ImxvbmcifSxwYWNrZXRzTG9zdDp7dHlwZToibG9uZyJ9LGF1ZGlvTGV2ZWw6e3R5cGU6ImRvdWJsZSJ9LGppdHRlckJ1ZmZlck1pbGxpczp7dHlwZToibG9uZyJ9LHJvdW5kVHJpcFRpbWVNaWxsaXM6e3R5cGU6ImxvbmcifX19fX19fSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17YWNtOntuYW1lOiJBQ00iLGNvcnM6ITB9LGFwaWdhdGV3YXk6e25hbWU6IkFQSUdhdGV3YXkiLGNvcnM6ITB9LGFwcGxpY2F0aW9uYXV0b3NjYWxpbmc6e3ByZWZpeDoiYXBwbGljYXRpb24tYXV0b3NjYWxpbmciLG5hbWU6IkFwcGxpY2F0aW9uQXV0b1NjYWxpbmciLGNvcnM6ITB9LGFwcHN0cmVhbTp7bmFtZToiQXBwU3RyZWFtIn0sYXV0b3NjYWxpbmc6e25hbWU6IkF1dG9TY2FsaW5nIixjb3JzOiEwfSxiYXRjaDp7bmFtZToiQmF0Y2gifSxidWRnZXRzOntuYW1lOiJCdWRnZXRzIn0sY2xvdWRkaXJlY3Rvcnk6e25hbWU6IkNsb3VkRGlyZWN0b3J5Iix2ZXJzaW9uczpbIjIwMTYtMDUtMTAqIl19LGNsb3VkZm9ybWF0aW9uOntuYW1lOiJDbG91ZEZvcm1hdGlvbiIsY29yczohMH0sY2xvdWRmcm9udDp7bmFtZToiQ2xvdWRGcm9udCIsdmVyc2lvbnM6WyIyMDEzLTA1LTEyKiIsIjIwMTMtMTEtMTEqIiwiMjAxNC0wNS0zMSoiLCIyMDE0LTEwLTIxKiIsIjIwMTQtMTEtMDYqIiwiMjAxNS0wNC0xNyoiLCIyMDE1LTA3LTI3KiIsIjIwMTUtMDktMTcqIiwiMjAxNi0wMS0xMyoiLCIyMDE2LTAxLTI4KiIsIjIwMTYtMDgtMDEqIiwiMjAxNi0wOC0yMCoiLCIyMDE2LTA5LTA3KiIsIjIwMTYtMDktMjkqIiwiMjAxNi0xMS0yNSoiLCIyMDE3LTAzLTI1KiIsIjIwMTctMTAtMzAqIiwiMjAxOC0wNi0xOCoiLCIyMDE4LTExLTA1KiIsIjIwMTktMDMtMjYqIl0sY29yczohMH0sY2xvdWRoc206e25hbWU6IkNsb3VkSFNNIixjb3JzOiEwfSxjbG91ZHNlYXJjaDp7bmFtZToiQ2xvdWRTZWFyY2gifSxjbG91ZHNlYXJjaGRvbWFpbjp7bmFtZToiQ2xvdWRTZWFyY2hEb21haW4ifSxjbG91ZHRyYWlsOntuYW1lOiJDbG91ZFRyYWlsIixjb3JzOiEwfSxjbG91ZHdhdGNoOntwcmVmaXg6Im1vbml0b3JpbmciLG5hbWU6IkNsb3VkV2F0Y2giLGNvcnM6ITB9LGNsb3Vkd2F0Y2hldmVudHM6e3ByZWZpeDoiZXZlbnRzIixuYW1lOiJDbG91ZFdhdGNoRXZlbnRzIix2ZXJzaW9uczpbIjIwMTQtMDItMDMqIl0sY29yczohMH0sY2xvdWR3YXRjaGxvZ3M6e3ByZWZpeDoibG9ncyIsbmFtZToiQ2xvdWRXYXRjaExvZ3MiLGNvcnM6ITB9LGNvZGVidWlsZDp7bmFtZToiQ29kZUJ1aWxkIixjb3JzOiEwfSxjb2RlY29tbWl0OntuYW1lOiJDb2RlQ29tbWl0Iixjb3JzOiEwfSxjb2RlZGVwbG95OntuYW1lOiJDb2RlRGVwbG95Iixjb3JzOiEwfSxjb2RlcGlwZWxpbmU6e25hbWU6IkNvZGVQaXBlbGluZSIsY29yczohMH0sY29nbml0b2lkZW50aXR5OntwcmVmaXg6ImNvZ25pdG8taWRlbnRpdHkiLG5hbWU6IkNvZ25pdG9JZGVudGl0eSIsY29yczohMH0sY29nbml0b2lkZW50aXR5c2VydmljZXByb3ZpZGVyOntwcmVmaXg6ImNvZ25pdG8taWRwIixuYW1lOiJDb2duaXRvSWRlbnRpdHlTZXJ2aWNlUHJvdmlkZXIiLGNvcnM6ITB9LGNvZ25pdG9zeW5jOntwcmVmaXg6ImNvZ25pdG8tc3luYyIsbmFtZToiQ29nbml0b1N5bmMiLGNvcnM6ITB9LGNvbmZpZ3NlcnZpY2U6e3ByZWZpeDoiY29uZmlnIixuYW1lOiJDb25maWdTZXJ2aWNlIixjb3JzOiEwfSxjdXI6e25hbWU6IkNVUiIsY29yczohMH0sZGF0YXBpcGVsaW5lOntuYW1lOiJEYXRhUGlwZWxpbmUifSxkZXZpY2VmYXJtOntuYW1lOiJEZXZpY2VGYXJtIixjb3JzOiEwfSxkaXJlY3Rjb25uZWN0OntuYW1lOiJEaXJlY3RDb25uZWN0Iixjb3JzOiEwfSxkaXJlY3RvcnlzZXJ2aWNlOntwcmVmaXg6ImRzIixuYW1lOiJEaXJlY3RvcnlTZXJ2aWNlIn0sZGlzY292ZXJ5OntuYW1lOiJEaXNjb3ZlcnkifSxkbXM6e25hbWU6IkRNUyJ9LGR5bmFtb2RiOntuYW1lOiJEeW5hbW9EQiIsY29yczohMH0sZHluYW1vZGJzdHJlYW1zOntwcmVmaXg6InN0cmVhbXMuZHluYW1vZGIiLG5hbWU6IkR5bmFtb0RCU3RyZWFtcyIsY29yczohMH0sZWMyOntuYW1lOiJFQzIiLHZlcnNpb25zOlsiMjAxMy0wNi0xNSoiLCIyMDEzLTEwLTE1KiIsIjIwMTQtMDItMDEqIiwiMjAxNC0wNS0wMSoiLCIyMDE0LTA2LTE1KiIsIjIwMTQtMDktMDEqIiwiMjAxNC0xMC0wMSoiLCIyMDE1LTAzLTAxKiIsIjIwMTUtMDQtMTUqIiwiMjAxNS0xMC0wMSoiLCIyMDE2LTA0LTAxKiIsIjIwMTYtMDktMTUqIl0sY29yczohMH0sZWNyOntuYW1lOiJFQ1IiLGNvcnM6ITB9LGVjczp7bmFtZToiRUNTIixjb3JzOiEwfSxlZnM6e3ByZWZpeDoiZWxhc3RpY2ZpbGVzeXN0ZW0iLG5hbWU6IkVGUyIsY29yczohMH0sZWxhc3RpY2FjaGU6e25hbWU6IkVsYXN0aUNhY2hlIix2ZXJzaW9uczpbIjIwMTItMTEtMTUqIiwiMjAxNC0wMy0yNCoiLCIyMDE0LTA3LTE1KiIsIjIwMTQtMDktMzAqIl0sY29yczohMH0sZWxhc3RpY2JlYW5zdGFsazp7bmFtZToiRWxhc3RpY0JlYW5zdGFsayIsY29yczohMH0sZWxiOntwcmVmaXg6ImVsYXN0aWNsb2FkYmFsYW5jaW5nIixuYW1lOiJFTEIiLGNvcnM6ITB9LGVsYnYyOntwcmVmaXg6ImVsYXN0aWNsb2FkYmFsYW5jaW5ndjIiLG5hbWU6IkVMQnYyIixjb3JzOiEwfSxlbXI6e3ByZWZpeDoiZWxhc3RpY21hcHJlZHVjZSIsbmFtZToiRU1SIixjb3JzOiEwfSxlczp7bmFtZToiRVMifSxlbGFzdGljdHJhbnNjb2Rlcjp7bmFtZToiRWxhc3RpY1RyYW5zY29kZXIiLGNvcnM6ITB9LGZpcmVob3NlOntuYW1lOiJGaXJlaG9zZSIsY29yczohMH0sZ2FtZWxpZnQ6e25hbWU6IkdhbWVMaWZ0Iixjb3JzOiEwfSxnbGFjaWVyOntuYW1lOiJHbGFjaWVyIn0saGVhbHRoOntuYW1lOiJIZWFsdGgifSxpYW06e25hbWU6IklBTSIsY29yczohMH0saW1wb3J0ZXhwb3J0OntuYW1lOiJJbXBvcnRFeHBvcnQifSxpbnNwZWN0b3I6e25hbWU6Ikluc3BlY3RvciIsdmVyc2lvbnM6WyIyMDE1LTA4LTE4KiJdLGNvcnM6ITB9LGlvdDp7bmFtZToiSW90Iixjb3JzOiEwfSxpb3RkYXRhOntwcmVmaXg6ImlvdC1kYXRhIixuYW1lOiJJb3REYXRhIixjb3JzOiEwfSxraW5lc2lzOntuYW1lOiJLaW5lc2lzIixjb3JzOiEwfSxraW5lc2lzYW5hbHl0aWNzOntuYW1lOiJLaW5lc2lzQW5hbHl0aWNzIn0sa21zOntuYW1lOiJLTVMiLGNvcnM6ITB9LGxhbWJkYTp7bmFtZToiTGFtYmRhIixjb3JzOiEwfSxsZXhydW50aW1lOntwcmVmaXg6InJ1bnRpbWUubGV4IixuYW1lOiJMZXhSdW50aW1lIixjb3JzOiEwfSxsaWdodHNhaWw6e25hbWU6IkxpZ2h0c2FpbCJ9LG1hY2hpbmVsZWFybmluZzp7bmFtZToiTWFjaGluZUxlYXJuaW5nIixjb3JzOiEwfSxtYXJrZXRwbGFjZWNvbW1lcmNlYW5hbHl0aWNzOntuYW1lOiJNYXJrZXRwbGFjZUNvbW1lcmNlQW5hbHl0aWNzIixjb3JzOiEwfSxtYXJrZXRwbGFjZW1ldGVyaW5nOntwcmVmaXg6Im1ldGVyaW5nbWFya2V0cGxhY2UiLG5hbWU6Ik1hcmtldHBsYWNlTWV0ZXJpbmcifSxtdHVyazp7cHJlZml4OiJtdHVyay1yZXF1ZXN0ZXIiLG5hbWU6Ik1UdXJrIixjb3JzOiEwfSxtb2JpbGVhbmFseXRpY3M6e25hbWU6Ik1vYmlsZUFuYWx5dGljcyIsY29yczohMH0sb3Bzd29ya3M6e25hbWU6Ik9wc1dvcmtzIixjb3JzOiEwfSxvcHN3b3Jrc2NtOntuYW1lOiJPcHNXb3Jrc0NNIn0sb3JnYW5pemF0aW9uczp7bmFtZToiT3JnYW5pemF0aW9ucyJ9LHBpbnBvaW50OntuYW1lOiJQaW5wb2ludCJ9LHBvbGx5OntuYW1lOiJQb2xseSIsY29yczohMH0scmRzOntuYW1lOiJSRFMiLHZlcnNpb25zOlsiMjAxNC0wOS0wMSoiXSxjb3JzOiEwfSxyZWRzaGlmdDp7bmFtZToiUmVkc2hpZnQiLGNvcnM6ITB9LHJla29nbml0aW9uOntuYW1lOiJSZWtvZ25pdGlvbiIsY29yczohMH0scmVzb3VyY2Vncm91cHN0YWdnaW5nYXBpOntuYW1lOiJSZXNvdXJjZUdyb3Vwc1RhZ2dpbmdBUEkifSxyb3V0ZTUzOntuYW1lOiJSb3V0ZTUzIixjb3JzOiEwfSxyb3V0ZTUzZG9tYWluczp7bmFtZToiUm91dGU1M0RvbWFpbnMiLGNvcnM6ITB9LHMzOntuYW1lOiJTMyIsZHVhbHN0YWNrQXZhaWxhYmxlOiEwLGNvcnM6ITB9LHMzY29udHJvbDp7bmFtZToiUzNDb250cm9sIixkdWFsc3RhY2tBdmFpbGFibGU6ITAseG1sTm9EZWZhdWx0TGlzdHM6ITB9LHNlcnZpY2VjYXRhbG9nOntuYW1lOiJTZXJ2aWNlQ2F0YWxvZyIsY29yczohMH0sc2VzOntwcmVmaXg6ImVtYWlsIixuYW1lOiJTRVMiLGNvcnM6ITB9LHNoaWVsZDp7bmFtZToiU2hpZWxkIn0sc2ltcGxlZGI6e3ByZWZpeDoic2RiIixuYW1lOiJTaW1wbGVEQiJ9LHNtczp7bmFtZToiU01TIn0sc25vd2JhbGw6e25hbWU6IlNub3diYWxsIn0sc25zOntuYW1lOiJTTlMiLGNvcnM6ITB9LHNxczp7bmFtZToiU1FTIixjb3JzOiEwfSxzc206e25hbWU6IlNTTSIsY29yczohMH0sc3RvcmFnZWdhdGV3YXk6e25hbWU6IlN0b3JhZ2VHYXRld2F5Iixjb3JzOiEwfSxzdGVwZnVuY3Rpb25zOntwcmVmaXg6InN0YXRlcyIsbmFtZToiU3RlcEZ1bmN0aW9ucyJ9LHN0czp7bmFtZToiU1RTIixjb3JzOiEwfSxzdXBwb3J0OntuYW1lOiJTdXBwb3J0In0sc3dmOntuYW1lOiJTV0YifSx4cmF5OntuYW1lOiJYUmF5Iixjb3JzOiEwfSx3YWY6e25hbWU6IldBRiIsY29yczohMH0sd2FmcmVnaW9uYWw6e3ByZWZpeDoid2FmLXJlZ2lvbmFsIixuYW1lOiJXQUZSZWdpb25hbCJ9LHdvcmtkb2NzOntuYW1lOiJXb3JrRG9jcyIsY29yczohMH0sd29ya3NwYWNlczp7bmFtZToiV29ya1NwYWNlcyJ9LGNvZGVzdGFyOntuYW1lOiJDb2RlU3RhciJ9LGxleG1vZGVsYnVpbGRpbmdzZXJ2aWNlOntwcmVmaXg6ImxleC1tb2RlbHMiLG5hbWU6IkxleE1vZGVsQnVpbGRpbmdTZXJ2aWNlIixjb3JzOiEwfSxtYXJrZXRwbGFjZWVudGl0bGVtZW50c2VydmljZTp7cHJlZml4OiJlbnRpdGxlbWVudC5tYXJrZXRwbGFjZSIsbmFtZToiTWFya2V0cGxhY2VFbnRpdGxlbWVudFNlcnZpY2UifSxhdGhlbmE6e25hbWU6IkF0aGVuYSIsY29yczohMH0sZ3JlZW5ncmFzczp7bmFtZToiR3JlZW5ncmFzcyJ9LGRheDp7bmFtZToiREFYIn0sbWlncmF0aW9uaHViOntwcmVmaXg6IkFXU01pZ3JhdGlvbkh1YiIsbmFtZToiTWlncmF0aW9uSHViIn0sY2xvdWRoc212Mjp7bmFtZToiQ2xvdWRIU01WMiIsY29yczohMH0sZ2x1ZTp7bmFtZToiR2x1ZSJ9LG1vYmlsZTp7bmFtZToiTW9iaWxlIn0scHJpY2luZzp7bmFtZToiUHJpY2luZyIsY29yczohMH0sY29zdGV4cGxvcmVyOntwcmVmaXg6ImNlIixuYW1lOiJDb3N0RXhwbG9yZXIiLGNvcnM6ITB9LG1lZGlhY29udmVydDp7bmFtZToiTWVkaWFDb252ZXJ0In0sbWVkaWFsaXZlOntuYW1lOiJNZWRpYUxpdmUifSxtZWRpYXBhY2thZ2U6e25hbWU6Ik1lZGlhUGFja2FnZSJ9LG1lZGlhc3RvcmU6e25hbWU6Ik1lZGlhU3RvcmUifSxtZWRpYXN0b3JlZGF0YTp7cHJlZml4OiJtZWRpYXN0b3JlLWRhdGEiLG5hbWU6Ik1lZGlhU3RvcmVEYXRhIixjb3JzOiEwfSxhcHBzeW5jOntuYW1lOiJBcHBTeW5jIn0sZ3VhcmRkdXR5OntuYW1lOiJHdWFyZER1dHkifSxtcTp7bmFtZToiTVEifSxjb21wcmVoZW5kOntuYW1lOiJDb21wcmVoZW5kIixjb3JzOiEwfSxpb3Rqb2JzZGF0YXBsYW5lOntwcmVmaXg6ImlvdC1qb2JzLWRhdGEiLG5hbWU6IklvVEpvYnNEYXRhUGxhbmUifSxraW5lc2lzdmlkZW9hcmNoaXZlZG1lZGlhOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8tYXJjaGl2ZWQtbWVkaWEiLG5hbWU6IktpbmVzaXNWaWRlb0FyY2hpdmVkTWVkaWEiLGNvcnM6ITB9LGtpbmVzaXN2aWRlb21lZGlhOntwcmVmaXg6ImtpbmVzaXMtdmlkZW8tbWVkaWEiLG5hbWU6IktpbmVzaXNWaWRlb01lZGlhIixjb3JzOiEwfSxraW5lc2lzdmlkZW86e25hbWU6IktpbmVzaXNWaWRlbyIsY29yczohMH0sc2FnZW1ha2VycnVudGltZTp7cHJlZml4OiJydW50aW1lLnNhZ2VtYWtlciIsbmFtZToiU2FnZU1ha2VyUnVudGltZSJ9LHNhZ2VtYWtlcjp7bmFtZToiU2FnZU1ha2VyIn0sdHJhbnNsYXRlOntuYW1lOiJUcmFuc2xhdGUiLGNvcnM6ITB9LHJlc291cmNlZ3JvdXBzOntwcmVmaXg6InJlc291cmNlLWdyb3VwcyIsbmFtZToiUmVzb3VyY2VHcm91cHMiLGNvcnM6ITB9LGFsZXhhZm9yYnVzaW5lc3M6e25hbWU6IkFsZXhhRm9yQnVzaW5lc3MifSxjbG91ZDk6e25hbWU6IkNsb3VkOSJ9LHNlcnZlcmxlc3NhcHBsaWNhdGlvbnJlcG9zaXRvcnk6e3ByZWZpeDoic2VydmVybGVzc3JlcG8iLG5hbWU6IlNlcnZlcmxlc3NBcHBsaWNhdGlvblJlcG9zaXRvcnkifSxzZXJ2aWNlZGlzY292ZXJ5OntuYW1lOiJTZXJ2aWNlRGlzY292ZXJ5In0sd29ya21haWw6e25hbWU6IldvcmtNYWlsIn0sYXV0b3NjYWxpbmdwbGFuczp7cHJlZml4OiJhdXRvc2NhbGluZy1wbGFucyIsbmFtZToiQXV0b1NjYWxpbmdQbGFucyJ9LHRyYW5zY3JpYmVzZXJ2aWNlOntwcmVmaXg6InRyYW5zY3JpYmUiLG5hbWU6IlRyYW5zY3JpYmVTZXJ2aWNlIn0sY29ubmVjdDp7bmFtZToiQ29ubmVjdCIsY29yczohMH0sYWNtcGNhOntwcmVmaXg6ImFjbS1wY2EiLG5hbWU6IkFDTVBDQSJ9LGZtczp7bmFtZToiRk1TIn0sc2VjcmV0c21hbmFnZXI6e25hbWU6IlNlY3JldHNNYW5hZ2VyIixjb3JzOiEwfSxpb3RhbmFseXRpY3M6e25hbWU6IklvVEFuYWx5dGljcyIsY29yczohMH0saW90MWNsaWNrZGV2aWNlc3NlcnZpY2U6e3ByZWZpeDoiaW90MWNsaWNrLWRldmljZXMiLG5hbWU6IklvVDFDbGlja0RldmljZXNTZXJ2aWNlIn0saW90MWNsaWNrcHJvamVjdHM6e3ByZWZpeDoiaW90MWNsaWNrLXByb2plY3RzIixuYW1lOiJJb1QxQ2xpY2tQcm9qZWN0cyJ9LHBpOntuYW1lOiJQSSJ9LG5lcHR1bmU6e25hbWU6Ik5lcHR1bmUifSxtZWRpYXRhaWxvcjp7bmFtZToiTWVkaWFUYWlsb3IifSxla3M6e25hbWU6IkVLUyJ9LGRsbTp7bmFtZToiRExNIn0sc2lnbmVyOntuYW1lOiJTaWduZXIifSxjaGltZTp7bmFtZToiQ2hpbWUifSxwaW5wb2ludGVtYWlsOntwcmVmaXg6InBpbnBvaW50LWVtYWlsIixuYW1lOiJQaW5wb2ludEVtYWlsIn0scmFtOntuYW1lOiJSQU0ifSxyb3V0ZTUzcmVzb2x2ZXI6e25hbWU6IlJvdXRlNTNSZXNvbHZlciJ9LHBpbnBvaW50c21zdm9pY2U6e3ByZWZpeDoic21zLXZvaWNlIixuYW1lOiJQaW5wb2ludFNNU1ZvaWNlIn0scXVpY2tzaWdodDp7bmFtZToiUXVpY2tTaWdodCJ9LHJkc2RhdGFzZXJ2aWNlOntwcmVmaXg6InJkcy1kYXRhIixuYW1lOiJSRFNEYXRhU2VydmljZSJ9LGFtcGxpZnk6e25hbWU6IkFtcGxpZnkifSxkYXRhc3luYzp7bmFtZToiRGF0YVN5bmMifSxyb2JvbWFrZXI6e25hbWU6IlJvYm9NYWtlciJ9LHRyYW5zZmVyOntuYW1lOiJUcmFuc2ZlciJ9LGdsb2JhbGFjY2VsZXJhdG9yOntuYW1lOiJHbG9iYWxBY2NlbGVyYXRvciJ9LGNvbXByZWhlbmRtZWRpY2FsOntuYW1lOiJDb21wcmVoZW5kTWVkaWNhbCIsY29yczohMH0sa2luZXNpc2FuYWx5dGljc3YyOntuYW1lOiJLaW5lc2lzQW5hbHl0aWNzVjIifSxtZWRpYWNvbm5lY3Q6e25hbWU6Ik1lZGlhQ29ubmVjdCJ9LGZzeDp7bmFtZToiRlN4In0sc2VjdXJpdHlodWI6e25hbWU6IlNlY3VyaXR5SHViIn0sYXBwbWVzaDp7bmFtZToiQXBwTWVzaCIsdmVyc2lvbnM6WyIyMDE4LTEwLTAxKiJdfSxsaWNlbnNlbWFuYWdlcjp7cHJlZml4OiJsaWNlbnNlLW1hbmFnZXIiLG5hbWU6IkxpY2Vuc2VNYW5hZ2VyIn0sa2Fma2E6e25hbWU6IkthZmthIn0sYXBpZ2F0ZXdheW1hbmFnZW1lbnRhcGk6e25hbWU6IkFwaUdhdGV3YXlNYW5hZ2VtZW50QXBpIn0sYXBpZ2F0ZXdheXYyOntuYW1lOiJBcGlHYXRld2F5VjIifSxkb2NkYjp7bmFtZToiRG9jREIifSxiYWNrdXA6e25hbWU6IkJhY2t1cCJ9LHdvcmtsaW5rOntuYW1lOiJXb3JrTGluayJ9LHRleHRyYWN0OntuYW1lOiJUZXh0cmFjdCJ9LG1hbmFnZWRibG9ja2NoYWluOntuYW1lOiJNYW5hZ2VkQmxvY2tjaGFpbiJ9LG1lZGlhcGFja2FnZXZvZDp7cHJlZml4OiJtZWRpYXBhY2thZ2Utdm9kIixuYW1lOiJNZWRpYVBhY2thZ2VWb2QifSxncm91bmRzdGF0aW9uOntuYW1lOiJHcm91bmRTdGF0aW9uIn0saW90dGhpbmdzZ3JhcGg6e25hbWU6IklvVFRoaW5nc0dyYXBoIn0saW90ZXZlbnRzOntuYW1lOiJJb1RFdmVudHMifSxpb3RldmVudHNkYXRhOntwcmVmaXg6ImlvdGV2ZW50cy1kYXRhIixuYW1lOiJJb1RFdmVudHNEYXRhIn0scGVyc29uYWxpemU6e25hbWU6IlBlcnNvbmFsaXplIixjb3JzOiEwfSxwZXJzb25hbGl6ZWV2ZW50czp7cHJlZml4OiJwZXJzb25hbGl6ZS1ldmVudHMiLG5hbWU6IlBlcnNvbmFsaXplRXZlbnRzIixjb3JzOiEwfSxwZXJzb25hbGl6ZXJ1bnRpbWU6e3ByZWZpeDoicGVyc29uYWxpemUtcnVudGltZSIsbmFtZToiUGVyc29uYWxpemVSdW50aW1lIixjb3JzOiEwfSxhcHBsaWNhdGlvbmluc2lnaHRzOntwcmVmaXg6ImFwcGxpY2F0aW9uLWluc2lnaHRzIixuYW1lOiJBcHBsaWNhdGlvbkluc2lnaHRzIn0sc2VydmljZXF1b3Rhczp7cHJlZml4OiJzZXJ2aWNlLXF1b3RhcyIsbmFtZToiU2VydmljZVF1b3RhcyJ9LGVjMmluc3RhbmNlY29ubmVjdDp7cHJlZml4OiJlYzItaW5zdGFuY2UtY29ubmVjdCIsbmFtZToiRUMySW5zdGFuY2VDb25uZWN0In0sZXZlbnRicmlkZ2U6e25hbWU6IkV2ZW50QnJpZGdlIn0sbGFrZWZvcm1hdGlvbjp7bmFtZToiTGFrZUZvcm1hdGlvbiJ9LGZvcmVjYXN0c2VydmljZTp7cHJlZml4OiJmb3JlY2FzdCIsbmFtZToiRm9yZWNhc3RTZXJ2aWNlIixjb3JzOiEwfSxmb3JlY2FzdHF1ZXJ5c2VydmljZTp7cHJlZml4OiJmb3JlY2FzdHF1ZXJ5IixuYW1lOiJGb3JlY2FzdFF1ZXJ5U2VydmljZSIsY29yczohMH0scWxkYjp7bmFtZToiUUxEQiJ9LHFsZGJzZXNzaW9uOntwcmVmaXg6InFsZGItc2Vzc2lvbiIsbmFtZToiUUxEQlNlc3Npb24ifSx3b3JrbWFpbG1lc3NhZ2VmbG93OntuYW1lOiJXb3JrTWFpbE1lc3NhZ2VGbG93In0sY29kZXN0YXJub3RpZmljYXRpb25zOntwcmVmaXg6ImNvZGVzdGFyLW5vdGlmaWNhdGlvbnMiLG5hbWU6IkNvZGVTdGFyTm90aWZpY2F0aW9ucyJ9LHNhdmluZ3NwbGFuczp7bmFtZToiU2F2aW5nc1BsYW5zIn0sc3NvOntuYW1lOiJTU08ifSxzc29vaWRjOntwcmVmaXg6InNzby1vaWRjIixuYW1lOiJTU09PSURDIn0sbWFya2V0cGxhY2VjYXRhbG9nOntwcmVmaXg6Im1hcmtldHBsYWNlLWNhdGFsb2ciLG5hbWU6Ik1hcmtldHBsYWNlQ2F0YWxvZyIsY29yczohMH0sZGF0YWV4Y2hhbmdlOntuYW1lOiJEYXRhRXhjaGFuZ2UifSxzZXN2Mjp7bmFtZToiU0VTVjIifSxtaWdyYXRpb25odWJjb25maWc6e3ByZWZpeDoibWlncmF0aW9uaHViLWNvbmZpZyIsbmFtZToiTWlncmF0aW9uSHViQ29uZmlnIn0sY29ubmVjdHBhcnRpY2lwYW50OntuYW1lOiJDb25uZWN0UGFydGljaXBhbnQifSxhcHBjb25maWc6e25hbWU6IkFwcENvbmZpZyJ9LGlvdHNlY3VyZXR1bm5lbGluZzp7bmFtZToiSW9UU2VjdXJlVHVubmVsaW5nIn0sd2FmdjI6e25hbWU6IldBRlYyIn0sZWxhc3RpY2luZmVyZW5jZTp7cHJlZml4OiJlbGFzdGljLWluZmVyZW5jZSIsbmFtZToiRWxhc3RpY0luZmVyZW5jZSJ9LGltYWdlYnVpbGRlcjp7bmFtZToiSW1hZ2VidWlsZGVyIn0sc2NoZW1hczp7bmFtZToiU2NoZW1hcyJ9LGFjY2Vzc2FuYWx5emVyOntuYW1lOiJBY2Nlc3NBbmFseXplciJ9LGNvZGVndXJ1cmV2aWV3ZXI6e3ByZWZpeDoiY29kZWd1cnUtcmV2aWV3ZXIiLG5hbWU6IkNvZGVHdXJ1UmV2aWV3ZXIifSxjb2RlZ3VydXByb2ZpbGVyOntuYW1lOiJDb2RlR3VydVByb2ZpbGVyIn0sY29tcHV0ZW9wdGltaXplcjp7cHJlZml4OiJjb21wdXRlLW9wdGltaXplciIsbmFtZToiQ29tcHV0ZU9wdGltaXplciJ9LGZyYXVkZGV0ZWN0b3I6e25hbWU6IkZyYXVkRGV0ZWN0b3IifSxrZW5kcmE6e25hbWU6IktlbmRyYSJ9LG5ldHdvcmttYW5hZ2VyOntuYW1lOiJOZXR3b3JrTWFuYWdlciJ9LG91dHBvc3RzOntuYW1lOiJPdXRwb3N0cyJ9LGF1Z21lbnRlZGFpcnVudGltZTp7cHJlZml4OiJzYWdlbWFrZXItYTJpLXJ1bnRpbWUiLG5hbWU6IkF1Z21lbnRlZEFJUnVudGltZSJ9LGViczp7bmFtZToiRUJTIn0sa2luZXNpc3ZpZGVvc2lnbmFsaW5nY2hhbm5lbHM6e3ByZWZpeDoia2luZXNpcy12aWRlby1zaWduYWxpbmciLG5hbWU6IktpbmVzaXNWaWRlb1NpZ25hbGluZ0NoYW5uZWxzIixjb3JzOiEwfSxkZXRlY3RpdmU6e25hbWU6IkRldGVjdGl2ZSJ9LGNvZGVzdGFyY29ubmVjdGlvbnM6e3ByZWZpeDoiY29kZXN0YXItY29ubmVjdGlvbnMiLG5hbWU6IkNvZGVTdGFyY29ubmVjdGlvbnMifSxzeW50aGV0aWNzOntuYW1lOiJTeW50aGV0aWNzIn0saW90c2l0ZXdpc2U6e25hbWU6IklvVFNpdGVXaXNlIn0sbWFjaWUyOntuYW1lOiJNYWNpZTIifSxjb2RlYXJ0aWZhY3Q6e25hbWU6IkNvZGVBcnRpZmFjdCJ9LGhvbmV5Y29kZTp7bmFtZToiSG9uZXljb2RlIn0saXZzOntuYW1lOiJJVlMifSxicmFrZXQ6e25hbWU6IkJyYWtldCJ9LGlkZW50aXR5c3RvcmU6e25hbWU6IklkZW50aXR5U3RvcmUifSxhcHBmbG93OntuYW1lOiJBcHBmbG93In0scmVkc2hpZnRkYXRhOntwcmVmaXg6InJlZHNoaWZ0LWRhdGEiLG5hbWU6IlJlZHNoaWZ0RGF0YSJ9LHNzb2FkbWluOntwcmVmaXg6InNzby1hZG1pbiIsbmFtZToiU1NPQWRtaW4ifSx0aW1lc3RyZWFtcXVlcnk6e3ByZWZpeDoidGltZXN0cmVhbS1xdWVyeSIsbmFtZToiVGltZXN0cmVhbVF1ZXJ5In0sdGltZXN0cmVhbXdyaXRlOntwcmVmaXg6InRpbWVzdHJlYW0td3JpdGUiLG5hbWU6IlRpbWVzdHJlYW1Xcml0ZSJ9LHMzb3V0cG9zdHM6e25hbWU6IlMzT3V0cG9zdHMifSxkYXRhYnJldzp7bmFtZToiRGF0YUJyZXcifSxzZXJ2aWNlY2F0YWxvZ2FwcHJlZ2lzdHJ5OntwcmVmaXg6InNlcnZpY2VjYXRhbG9nLWFwcHJlZ2lzdHJ5IixuYW1lOiJTZXJ2aWNlQ2F0YWxvZ0FwcFJlZ2lzdHJ5In0sbmV0d29ya2ZpcmV3YWxsOntwcmVmaXg6Im5ldHdvcmstZmlyZXdhbGwiLG5hbWU6Ik5ldHdvcmtGaXJld2FsbCJ9LG13YWE6e25hbWU6Ik1XQUEifSxhbXBsaWZ5YmFja2VuZDp7bmFtZToiQW1wbGlmeUJhY2tlbmQifSxhcHBpbnRlZ3JhdGlvbnM6e25hbWU6IkFwcEludGVncmF0aW9ucyJ9LGNvbm5lY3Rjb250YWN0bGVuczp7cHJlZml4OiJjb25uZWN0LWNvbnRhY3QtbGVucyIsbmFtZToiQ29ubmVjdENvbnRhY3RMZW5zIn0sZGV2b3BzZ3VydTp7cHJlZml4OiJkZXZvcHMtZ3VydSIsbmFtZToiRGV2T3BzR3VydSJ9LGVjcnB1YmxpYzp7cHJlZml4OiJlY3ItcHVibGljIixuYW1lOiJFQ1JQVUJMSUMifSxsb29rb3V0dmlzaW9uOntuYW1lOiJMb29rb3V0VmlzaW9uIn0sc2FnZW1ha2VyZmVhdHVyZXN0b3JlcnVudGltZTp7cHJlZml4OiJzYWdlbWFrZXItZmVhdHVyZXN0b3JlLXJ1bnRpbWUiLG5hbWU6IlNhZ2VNYWtlckZlYXR1cmVTdG9yZVJ1bnRpbWUifSxjdXN0b21lcnByb2ZpbGVzOntwcmVmaXg6ImN1c3RvbWVyLXByb2ZpbGVzIixuYW1lOiJDdXN0b21lclByb2ZpbGVzIn0sYXVkaXRtYW5hZ2VyOntuYW1lOiJBdWRpdE1hbmFnZXIifSxlbXJjb250YWluZXJzOntwcmVmaXg6ImVtci1jb250YWluZXJzIixuYW1lOiJFTVJjb250YWluZXJzIn0saGVhbHRobGFrZTp7bmFtZToiSGVhbHRoTGFrZSJ9LHNhZ2VtYWtlcmVkZ2U6e3ByZWZpeDoic2FnZW1ha2VyLWVkZ2UiLG5hbWU6IlNhZ2VtYWtlckVkZ2UifSxhbXA6e25hbWU6IkFtcCIsY29yczohMH0sZ3JlZW5ncmFzc3YyOntuYW1lOiJHcmVlbmdyYXNzVjIifSxpb3RkZXZpY2VhZHZpc29yOntuYW1lOiJJb3REZXZpY2VBZHZpc29yIn0saW90ZmxlZXRodWI6e25hbWU6IklvVEZsZWV0SHViIn0saW90d2lyZWxlc3M6e25hbWU6IklvVFdpcmVsZXNzIn0sbG9jYXRpb246e25hbWU6IkxvY2F0aW9uIixjb3JzOiEwfSx3ZWxsYXJjaGl0ZWN0ZWQ6e25hbWU6IldlbGxBcmNoaXRlY3RlZCJ9LGxleG1vZGVsc3YyOntwcmVmaXg6Im1vZGVscy5sZXgudjIiLG5hbWU6IkxleE1vZGVsc1YyIn0sbGV4cnVudGltZXYyOntwcmVmaXg6InJ1bnRpbWUubGV4LnYyIixuYW1lOiJMZXhSdW50aW1lVjIiLGNvcnM6ITB9LGZpczp7bmFtZToiRmlzIn0sbG9va291dG1ldHJpY3M6e25hbWU6Ikxvb2tvdXRNZXRyaWNzIn0sbWduOntuYW1lOiJNZ24ifSxsb29rb3V0ZXF1aXBtZW50OntuYW1lOiJMb29rb3V0RXF1aXBtZW50In0sbmltYmxlOntuYW1lOiJOaW1ibGUifSxmaW5zcGFjZTp7bmFtZToiRmluc3BhY2UifSxmaW5zcGFjZWRhdGE6e3ByZWZpeDoiZmluc3BhY2UtZGF0YSIsbmFtZToiRmluc3BhY2VkYXRhIn0sc3NtY29udGFjdHM6e3ByZWZpeDoic3NtLWNvbnRhY3RzIixuYW1lOiJTU01Db250YWN0cyJ9LHNzbWluY2lkZW50czp7cHJlZml4OiJzc20taW5jaWRlbnRzIixuYW1lOiJTU01JbmNpZGVudHMifSxhcHBsaWNhdGlvbmNvc3Rwcm9maWxlcjp7bmFtZToiQXBwbGljYXRpb25Db3N0UHJvZmlsZXIifSxhcHBydW5uZXI6e25hbWU6IkFwcFJ1bm5lciJ9LHByb3Rvbjp7bmFtZToiUHJvdG9uIn0scm91dGU1M3JlY292ZXJ5Y2x1c3Rlcjp7cHJlZml4OiJyb3V0ZTUzLXJlY292ZXJ5LWNsdXN0ZXIiLG5hbWU6IlJvdXRlNTNSZWNvdmVyeUNsdXN0ZXIifSxyb3V0ZTUzcmVjb3Zlcnljb250cm9sY29uZmlnOntwcmVmaXg6InJvdXRlNTMtcmVjb3ZlcnktY29udHJvbC1jb25maWciLG5hbWU6IlJvdXRlNTNSZWNvdmVyeUNvbnRyb2xDb25maWcifSxyb3V0ZTUzcmVjb3ZlcnlyZWFkaW5lc3M6e3ByZWZpeDoicm91dGU1My1yZWNvdmVyeS1yZWFkaW5lc3MiLG5hbWU6IlJvdXRlNTNSZWNvdmVyeVJlYWRpbmVzcyJ9LGNoaW1lc2RraWRlbnRpdHk6e3ByZWZpeDoiY2hpbWUtc2RrLWlkZW50aXR5IixuYW1lOiJDaGltZVNES0lkZW50aXR5In0sY2hpbWVzZGttZXNzYWdpbmc6e3ByZWZpeDoiY2hpbWUtc2RrLW1lc3NhZ2luZyIsbmFtZToiQ2hpbWVTREtNZXNzYWdpbmcifSxzbm93ZGV2aWNlbWFuYWdlbWVudDp7cHJlZml4OiJzbm93LWRldmljZS1tYW5hZ2VtZW50IixuYW1lOiJTbm93RGV2aWNlTWFuYWdlbWVudCJ9LG1lbW9yeWRiOntuYW1lOiJNZW1vcnlEQiJ9LG9wZW5zZWFyY2g6e25hbWU6Ik9wZW5TZWFyY2gifSxrYWZrYWNvbm5lY3Q6e25hbWU6IkthZmthQ29ubmVjdCJ9LHZvaWNlaWQ6e3ByZWZpeDoidm9pY2UtaWQiLG5hbWU6IlZvaWNlSUQifSx3aXNkb206e25hbWU6Ildpc2RvbSJ9LGFjY291bnQ6e25hbWU6IkFjY291bnQifSxjbG91ZGNvbnRyb2w6e25hbWU6IkNsb3VkQ29udHJvbCJ9LGdyYWZhbmE6e25hbWU6IkdyYWZhbmEifSxwYW5vcmFtYTp7bmFtZToiUGFub3JhbWEifSxjaGltZXNka21lZXRpbmdzOntwcmVmaXg6ImNoaW1lLXNkay1tZWV0aW5ncyIsbmFtZToiQ2hpbWVTREtNZWV0aW5ncyJ9LHJlc2lsaWVuY2VodWI6e25hbWU6IlJlc2lsaWVuY2VodWIifSxtaWdyYXRpb25odWJzdHJhdGVneTp7bmFtZToiTWlncmF0aW9uSHViU3RyYXRlZ3kifSxhcHBjb25maWdkYXRhOntuYW1lOiJBcHBDb25maWdEYXRhIn0sZHJzOntuYW1lOiJEcnMifSxtaWdyYXRpb25odWJyZWZhY3RvcnNwYWNlczp7cHJlZml4OiJtaWdyYXRpb24taHViLXJlZmFjdG9yLXNwYWNlcyIsbmFtZToiTWlncmF0aW9uSHViUmVmYWN0b3JTcGFjZXMifSxldmlkZW50bHk6e25hbWU6IkV2aWRlbnRseSJ9LGluc3BlY3RvcjI6e25hbWU6Ikluc3BlY3RvcjIifSxyYmluOntuYW1lOiJSYmluIn0scnVtOntuYW1lOiJSVU0ifSxiYWNrdXBnYXRld2F5OntwcmVmaXg6ImJhY2t1cC1nYXRld2F5IixuYW1lOiJCYWNrdXBHYXRld2F5In0saW90dHdpbm1ha2VyOntuYW1lOiJJb1RUd2luTWFrZXIifSx3b3Jrc3BhY2Vzd2ViOntwcmVmaXg6IndvcmtzcGFjZXMtd2ViIixuYW1lOiJXb3JrU3BhY2VzV2ViIn0sYW1wbGlmeXVpYnVpbGRlcjp7bmFtZToiQW1wbGlmeVVJQnVpbGRlciJ9LGtleXNwYWNlczp7bmFtZToiS2V5c3BhY2VzIn0sYmlsbGluZ2NvbmR1Y3Rvcjp7bmFtZToiQmlsbGluZ2NvbmR1Y3RvciJ9LHBpbnBvaW50c21zdm9pY2V2Mjp7cHJlZml4OiJwaW5wb2ludC1zbXMtdm9pY2UtdjIiLG5hbWU6IlBpbnBvaW50U01TVm9pY2VWMiJ9LGl2c2NoYXQ6e25hbWU6Ikl2c2NoYXQifSxjaGltZXNka21lZGlhcGlwZWxpbmVzOntwcmVmaXg6ImNoaW1lLXNkay1tZWRpYS1waXBlbGluZXMiLG5hbWU6IkNoaW1lU0RLTWVkaWFQaXBlbGluZXMifSxlbXJzZXJ2ZXJsZXNzOntwcmVmaXg6ImVtci1zZXJ2ZXJsZXNzIixuYW1lOiJFTVJTZXJ2ZXJsZXNzIn0sbTI6e25hbWU6Ik0yIn0sY29ubmVjdGNhbXBhaWduczp7bmFtZToiQ29ubmVjdENhbXBhaWducyJ9LHJlZHNoaWZ0c2VydmVybGVzczp7cHJlZml4OiJyZWRzaGlmdC1zZXJ2ZXJsZXNzIixuYW1lOiJSZWRzaGlmdFNlcnZlcmxlc3MifSxyb2xlc2FueXdoZXJlOntuYW1lOiJSb2xlc0FueXdoZXJlIn0sbGljZW5zZW1hbmFnZXJ1c2Vyc3Vic2NyaXB0aW9uczp7cHJlZml4OiJsaWNlbnNlLW1hbmFnZXItdXNlci1zdWJzY3JpcHRpb25zIixuYW1lOiJMaWNlbnNlTWFuYWdlclVzZXJTdWJzY3JpcHRpb25zIn0sYmFja3Vwc3RvcmFnZTp7bmFtZToiQmFja3VwU3RvcmFnZSJ9LHByaXZhdGVuZXR3b3Jrczp7bmFtZToiUHJpdmF0ZU5ldHdvcmtzIn0sc3VwcG9ydGFwcDp7cHJlZml4OiJzdXBwb3J0LWFwcCIsbmFtZToiU3VwcG9ydEFwcCJ9LGNvbnRyb2x0b3dlcjp7bmFtZToiQ29udHJvbFRvd2VyIn0saW90ZmxlZXR3aXNlOntuYW1lOiJJb1RGbGVldFdpc2UifSxtaWdyYXRpb25odWJvcmNoZXN0cmF0b3I6e25hbWU6Ik1pZ3JhdGlvbkh1Yk9yY2hlc3RyYXRvciJ9LGNvbm5lY3RjYXNlczp7bmFtZToiQ29ubmVjdENhc2VzIn0scmVzb3VyY2VleHBsb3JlcjI6e3ByZWZpeDoicmVzb3VyY2UtZXhwbG9yZXItMiIsbmFtZToiUmVzb3VyY2VFeHBsb3JlcjIifSxzY2hlZHVsZXI6e25hbWU6IlNjaGVkdWxlciJ9LGNoaW1lc2Rrdm9pY2U6e3ByZWZpeDoiY2hpbWUtc2RrLXZvaWNlIixuYW1lOiJDaGltZVNES1ZvaWNlIn0sc3Ntc2FwOntwcmVmaXg6InNzbS1zYXAiLG5hbWU6IlNzbVNhcCJ9LG9hbTp7bmFtZToiT0FNIn0sYXJjem9uYWxzaGlmdDp7cHJlZml4OiJhcmMtem9uYWwtc2hpZnQiLG5hbWU6IkFSQ1pvbmFsU2hpZnQifSxvbWljczp7bmFtZToiT21pY3MifSxvcGVuc2VhcmNoc2VydmVybGVzczp7bmFtZToiT3BlblNlYXJjaFNlcnZlcmxlc3MifSxzZWN1cml0eWxha2U6e25hbWU6IlNlY3VyaXR5TGFrZSJ9LHNpbXNwYWNld2VhdmVyOntuYW1lOiJTaW1TcGFjZVdlYXZlciJ9LGRvY2RiZWxhc3RpYzp7cHJlZml4OiJkb2NkYi1lbGFzdGljIixuYW1lOiJEb2NEQkVsYXN0aWMifSxzYWdlbWFrZXJnZW9zcGF0aWFsOntwcmVmaXg6InNhZ2VtYWtlci1nZW9zcGF0aWFsIixuYW1lOiJTYWdlTWFrZXJHZW9zcGF0aWFsIn0sY29kZWNhdGFseXN0OntuYW1lOiJDb2RlQ2F0YWx5c3QifSxwaXBlczp7bmFtZToiUGlwZXMifSxzYWdlbWFrZXJtZXRyaWNzOntwcmVmaXg6InNhZ2VtYWtlci1tZXRyaWNzIixuYW1lOiJTYWdlTWFrZXJNZXRyaWNzIn0sa2luZXNpc3ZpZGVvd2VicnRjc3RvcmFnZTp7cHJlZml4OiJraW5lc2lzLXZpZGVvLXdlYnJ0Yy1zdG9yYWdlIixuYW1lOiJLaW5lc2lzVmlkZW9XZWJSVENTdG9yYWdlIn0sbGljZW5zZW1hbmFnZXJsaW51eHN1YnNjcmlwdGlvbnM6e3ByZWZpeDoibGljZW5zZS1tYW5hZ2VyLWxpbnV4LXN1YnNjcmlwdGlvbnMiLG5hbWU6IkxpY2Vuc2VNYW5hZ2VyTGludXhTdWJzY3JpcHRpb25zIn0sa2VuZHJhcmFua2luZzp7cHJlZml4OiJrZW5kcmEtcmFua2luZyIsbmFtZToiS2VuZHJhUmFua2luZyJ9LGNsZWFucm9vbXM6e25hbWU6IkNsZWFuUm9vbXMifSxjbG91ZHRyYWlsZGF0YTp7cHJlZml4OiJjbG91ZHRyYWlsLWRhdGEiLG5hbWU6IkNsb3VkVHJhaWxEYXRhIn0sdG5iOntuYW1lOiJUbmIifSxpbnRlcm5ldG1vbml0b3I6e25hbWU6IkludGVybmV0TW9uaXRvciJ9LGl2c3JlYWx0aW1lOntwcmVmaXg6Iml2cy1yZWFsdGltZSIsbmFtZToiSVZTUmVhbFRpbWUifSx2cGNsYXR0aWNlOntwcmVmaXg6InZwYy1sYXR0aWNlIixuYW1lOiJWUENMYXR0aWNlIn0sb3Npczp7bmFtZToiT1NJUyJ9LG1lZGlhcGFja2FnZXYyOntuYW1lOiJNZWRpYVBhY2thZ2VWMiJ9LHBheW1lbnRjcnlwdG9ncmFwaHk6e3ByZWZpeDoicGF5bWVudC1jcnlwdG9ncmFwaHkiLG5hbWU6IlBheW1lbnRDcnlwdG9ncmFwaHkifSxwYXltZW50Y3J5cHRvZ3JhcGh5ZGF0YTp7cHJlZml4OiJwYXltZW50LWNyeXB0b2dyYXBoeS1kYXRhIixuYW1lOiJQYXltZW50Q3J5cHRvZ3JhcGh5RGF0YSJ9LGNvZGVndXJ1c2VjdXJpdHk6e3ByZWZpeDoiY29kZWd1cnUtc2VjdXJpdHkiLG5hbWU6IkNvZGVHdXJ1U2VjdXJpdHkifSx2ZXJpZmllZHBlcm1pc3Npb25zOntuYW1lOiJWZXJpZmllZFBlcm1pc3Npb25zIn0sYXBwZmFicmljOntuYW1lOiJBcHBGYWJyaWMifSxtZWRpY2FsaW1hZ2luZzp7cHJlZml4OiJtZWRpY2FsLWltYWdpbmciLG5hbWU6Ik1lZGljYWxJbWFnaW5nIn0sZW50aXR5cmVzb2x1dGlvbjp7bmFtZToiRW50aXR5UmVzb2x1dGlvbiJ9LG1hbmFnZWRibG9ja2NoYWlucXVlcnk6e3ByZWZpeDoibWFuYWdlZGJsb2NrY2hhaW4tcXVlcnkiLG5hbWU6Ik1hbmFnZWRCbG9ja2NoYWluUXVlcnkifSxuZXB0dW5lZGF0YTp7bmFtZToiTmVwdHVuZWRhdGEifSxwY2Fjb25uZWN0b3JhZDp7cHJlZml4OiJwY2EtY29ubmVjdG9yLWFkIixuYW1lOiJQY2FDb25uZWN0b3JBZCJ9LGJlZHJvY2s6e25hbWU6IkJlZHJvY2sifSxiZWRyb2NrcnVudGltZTp7cHJlZml4OiJiZWRyb2NrLXJ1bnRpbWUiLG5hbWU6IkJlZHJvY2tSdW50aW1lIn0sZGF0YXpvbmU6e25hbWU6IkRhdGFab25lIn0sbGF1bmNod2l6YXJkOntwcmVmaXg6ImxhdW5jaC13aXphcmQiLG5hbWU6IkxhdW5jaFdpemFyZCJ9LHRydXN0ZWRhZHZpc29yOntuYW1lOiJUcnVzdGVkQWR2aXNvciJ9LGluc3BlY3RvcnNjYW46e3ByZWZpeDoiaW5zcGVjdG9yLXNjYW4iLG5hbWU6Ikluc3BlY3RvclNjYW4ifSxiY21kYXRhZXhwb3J0czp7cHJlZml4OiJiY20tZGF0YS1leHBvcnRzIixuYW1lOiJCQ01EYXRhRXhwb3J0cyJ9LGNvc3RvcHRpbWl6YXRpb25odWI6e3ByZWZpeDoiY29zdC1vcHRpbWl6YXRpb24taHViIixuYW1lOiJDb3N0T3B0aW1pemF0aW9uSHViIn0sZWtzYXV0aDp7cHJlZml4OiJla3MtYXV0aCIsbmFtZToiRUtTQXV0aCJ9LGZyZWV0aWVyOntuYW1lOiJGcmVlVGllciJ9LHJlcG9zdHNwYWNlOntuYW1lOiJSZXBvc3RzcGFjZSJ9LHdvcmtzcGFjZXN0aGluY2xpZW50OntwcmVmaXg6IndvcmtzcGFjZXMtdGhpbi1jbGllbnQiLG5hbWU6IldvcmtTcGFjZXNUaGluQ2xpZW50In0sYjJiaTp7bmFtZToiQjJiaSJ9LGJlZHJvY2thZ2VudDp7cHJlZml4OiJiZWRyb2NrLWFnZW50IixuYW1lOiJCZWRyb2NrQWdlbnQifSxiZWRyb2NrYWdlbnRydW50aW1lOntwcmVmaXg6ImJlZHJvY2stYWdlbnQtcnVudGltZSIsbmFtZToiQmVkcm9ja0FnZW50UnVudGltZSJ9LHFidXNpbmVzczp7bmFtZToiUUJ1c2luZXNzIn0scWNvbm5lY3Q6e25hbWU6IlFDb25uZWN0In0sY2xlYW5yb29tc21sOntuYW1lOiJDbGVhblJvb21zTUwifSxtYXJrZXRwbGFjZWFncmVlbWVudDp7cHJlZml4OiJtYXJrZXRwbGFjZS1hZ3JlZW1lbnQiLG5hbWU6Ik1hcmtldHBsYWNlQWdyZWVtZW50In0sbWFya2V0cGxhY2VkZXBsb3ltZW50OntwcmVmaXg6Im1hcmtldHBsYWNlLWRlcGxveW1lbnQiLG5hbWU6Ik1hcmtldHBsYWNlRGVwbG95bWVudCJ9LG5ldHdvcmttb25pdG9yOntuYW1lOiJOZXR3b3JrTW9uaXRvciJ9LHN1cHBseWNoYWluOntuYW1lOiJTdXBwbHlDaGFpbiJ9LGFydGlmYWN0OntuYW1lOiJBcnRpZmFjdCJ9LGNoYXRib3Q6e25hbWU6IkNoYXRib3QifSx0aW1lc3RyZWFtaW5mbHV4ZGI6e3ByZWZpeDoidGltZXN0cmVhbS1pbmZsdXhkYiIsbmFtZToiVGltZXN0cmVhbUluZmx1eERCIn0sY29kZWNvbm5lY3Rpb25zOntuYW1lOiJDb2RlQ29ubmVjdGlvbnMifX19LHt9XSw1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDExLTA2LTE1IixlbmRwb2ludFByZWZpeDoic3RzIixnbG9iYWxFbmRwb2ludDoic3RzLmFtYXpvbmF3cy5jb20iLHByb3RvY29sOiJxdWVyeSIsc2VydmljZUFiYnJldmlhdGlvbjoiQVdTIFNUUyIsc2VydmljZUZ1bGxOYW1lOiJBV1MgU2VjdXJpdHkgVG9rZW4gU2VydmljZSIsc2VydmljZUlkOiJTVFMiLHNpZ25hdHVyZVZlcnNpb246InY0Iix1aWQ6InN0cy0yMDExLTA2LTE1Iix4bWxOYW1lc3BhY2U6Imh0dHBzOi8vc3RzLmFtYXpvbmF3cy5jb20vZG9jLzIwMTEtMDYtMTUvIn0sb3BlcmF0aW9uczp7QXNzdW1lUm9sZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSb2xlQXJuIiwiUm9sZVNlc3Npb25OYW1lIl0sbWVtYmVyczp7Um9sZUFybjp7fSxSb2xlU2Vzc2lvbk5hbWU6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sUG9saWN5Ont9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFRhZ3M6e3NoYXBlOiJTOCJ9LFRyYW5zaXRpdmVUYWdLZXlzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LEV4dGVybmFsSWQ6e30sU2VyaWFsTnVtYmVyOnt9LFRva2VuQ29kZTp7fSxTb3VyY2VJZGVudGl0eTp7fSxQcm92aWRlZENvbnRleHRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7UHJvdmlkZXJBcm46e30sQ29udGV4dEFzc2VydGlvbjp7fX19fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sU291cmNlSWRlbnRpdHk6e319fX0sQXNzdW1lUm9sZVdpdGhTQU1MOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJvbGVBcm4iLCJQcmluY2lwYWxBcm4iLCJTQU1MQXNzZXJ0aW9uIl0sbWVtYmVyczp7Um9sZUFybjp7fSxQcmluY2lwYWxBcm46e30sU0FNTEFzc2VydGlvbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LFBvbGljeTp7fSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVdpdGhTQU1MUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxTdWJqZWN0Ont9LFN1YmplY3RUeXBlOnt9LElzc3Vlcjp7fSxBdWRpZW5jZTp7fSxOYW1lUXVhbGlmaWVyOnt9LFNvdXJjZUlkZW50aXR5Ont9fX19LEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUm9sZUFybiIsIlJvbGVTZXNzaW9uTmFtZSIsIldlYklkZW50aXR5VG9rZW4iXSxtZW1iZXJzOntSb2xlQXJuOnt9LFJvbGVTZXNzaW9uTmFtZTp7fSxXZWJJZGVudGl0eVRva2VuOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sUHJvdmlkZXJJZDp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxQb2xpY3k6e30sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LFN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbjp7fSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxQcm92aWRlcjp7fSxBdWRpZW5jZTp7fSxTb3VyY2VJZGVudGl0eTp7fX19fSxEZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJFbmNvZGVkTWVzc2FnZSJdLG1lbWJlcnM6e0VuY29kZWRNZXNzYWdlOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJEZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntEZWNvZGVkTWVzc2FnZTp7fX19fSxHZXRBY2Nlc3NLZXlJbmZvOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkFjY2Vzc0tleUlkIl0sbWVtYmVyczp7QWNjZXNzS2V5SWQ6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldEFjY2Vzc0tleUluZm9SZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7QWNjb3VudDp7fX19fSxHZXRDYWxsZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRDYWxsZXJJZGVudGl0eVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntVc2VySWQ6e30sQWNjb3VudDp7fSxBcm46e319fX0sR2V0RmVkZXJhdGlvblRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIk5hbWUiXSxtZW1iZXJzOntOYW1lOnt9LFBvbGljeTp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxUYWdzOntzaGFwZToiUzgifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0RmVkZXJhdGlvblRva2VuUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxGZWRlcmF0ZWRVc2VyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiRmVkZXJhdGVkVXNlcklkIiwiQXJuIl0sbWVtYmVyczp7RmVkZXJhdGVkVXNlcklkOnt9LEFybjp7fX19LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifX19fSxHZXRTZXNzaW9uVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0R1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFNlcmlhbE51bWJlcjp7fSxUb2tlbkNvZGU6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldFNlc3Npb25Ub2tlblJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn19fX19LHNoYXBlczp7UzQ6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthcm46e319fX0sUzg6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIktleSIsIlZhbHVlIl0sbWVtYmVyczp7S2V5Ont9LFZhbHVlOnt9fX19LFNsOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQWNjZXNzS2V5SWQiLCJTZWNyZXRBY2Nlc3NLZXkiLCJTZXNzaW9uVG9rZW4iLCJFeHBpcmF0aW9uIl0sbWVtYmVyczp7QWNjZXNzS2V5SWQ6e30sU2VjcmV0QWNjZXNzS2V5Ont0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sU2Vzc2lvblRva2VuOnt9LEV4cGlyYXRpb246e3R5cGU6InRpbWVzdGFtcCJ9fX0sU3E6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJBc3N1bWVkUm9sZUlkIiwiQXJuIl0sbWVtYmVyczp7QXNzdW1lZFJvbGVJZDp7fSxBcm46e319fX19fSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cGFnaW5hdGlvbjp7fX19LHt9XSw3OltmdW5jdGlvbihlLHQsbil7ZSgiLi4vbGliL25vZGVfbG9hZGVyIik7dmFyIHI9ZSgiLi4vbGliL2NvcmUiKSxvPXIuU2VydmljZSxpPXIuYXBpTG9hZGVyO2kuc2VydmljZXMuY29nbml0b2lkZW50aXR5PXt9LHIuQ29nbml0b0lkZW50aXR5PW8uZGVmaW5lU2VydmljZSgiY29nbml0b2lkZW50aXR5IixbIjIwMTQtMDYtMzAiXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuc2VydmljZXMuY29nbml0b2lkZW50aXR5LCIyMDE0LTA2LTMwIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAubWluLmpzb24iKTtyZXR1cm4gdC5wYWdpbmF0b3JzPWUoIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLnBhZ2luYXRvcnMuanNvbiIpLnBhZ2luYXRpb24sdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmV4cG9ydHM9ci5Db2duaXRvSWRlbnRpdHl9LHsiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAubWluLmpzb24iOjEsIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLnBhZ2luYXRvcnMuanNvbiI6MiwiLi4vbGliL2NvcmUiOjE5LCIuLi9saWIvbm9kZV9sb2FkZXIiOjE2fV0sODpbZnVuY3Rpb24oZSx0LG4pe2UoIi4uL2xpYi9ub2RlX2xvYWRlciIpO3ZhciByPWUoIi4uL2xpYi9jb3JlIiksbz1yLlNlcnZpY2UsaT1yLmFwaUxvYWRlcjtpLnNlcnZpY2VzLnN0cz17fSxyLlNUUz1vLmRlZmluZVNlcnZpY2UoInN0cyIsWyIyMDExLTA2LTE1Il0pLGUoIi4uL2xpYi9zZXJ2aWNlcy9zdHMiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5zZXJ2aWNlcy5zdHMsIjIwMTEtMDYtMTUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1lKCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1Lm1pbi5qc29uIik7cmV0dXJuIHQucGFnaW5hdG9ycz1lKCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1LnBhZ2luYXRvcnMuanNvbiIpLnBhZ2luYXRpb24sdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmV4cG9ydHM9ci5TVFN9LHsiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5taW4uanNvbiI6NSwiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5wYWdpbmF0b3JzLmpzb24iOjYsIi4uL2xpYi9jb3JlIjoxOSwiLi4vbGliL25vZGVfbG9hZGVyIjoxNiwiLi4vbGliL3NlcnZpY2VzL3N0cyI6NjN9XSw5OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe2lmKCFyLnNlcnZpY2VzLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFNlcnZpY2U6IEZhaWxlZCB0byBsb2FkIGFwaSBmb3IgIitlKTtyZXR1cm4gci5zZXJ2aWNlc1tlXVt0XX1yLnNlcnZpY2VzPXt9LHQuZXhwb3J0cz1yfSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIbWFjIiksbz1lKCIuL2Jyb3dzZXJNZDUiKSxpPWUoIi4vYnJvd3NlclNoYTEiKSxzPWUoIi4vYnJvd3NlclNoYTI1NiIpO3QuZXhwb3J0cz17Y3JlYXRlSGFzaDpmdW5jdGlvbihlKXtpZigibWQ1Ij09PShlPWUudG9Mb3dlckNhc2UoKSkpcmV0dXJuIG5ldyBvO2lmKCJzaGEyNTYiPT09ZSlyZXR1cm4gbmV3IHM7aWYoInNoYTEiPT09ZSlyZXR1cm4gbmV3IGk7dGhyb3cgbmV3IEVycm9yKCJIYXNoIGFsZ29yaXRobSAiK2UrIiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyIFNESyIpfSxjcmVhdGVIbWFjOmZ1bmN0aW9uKGUsdCl7aWYoIm1kNSI9PT0oZT1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuZXcgcihvLHQpO2lmKCJzaGEyNTYiPT09ZSlyZXR1cm4gbmV3IHIocyx0KTtpZigic2hhMSI9PT1lKXJldHVybiBuZXcgcihpLHQpO3Rocm93IG5ldyBFcnJvcigiSE1BQyBhbGdvcml0aG0gIitlKyIgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3NlciBTREsiKX0sY3JlYXRlU2lnbjpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiY3JlYXRlU2lnbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIGJyb3dzZXIiKX19fSx7Ii4vYnJvd3NlckhtYWMiOjEyLCIuL2Jyb3dzZXJNZDUiOjEzLCIuL2Jyb3dzZXJTaGExIjoxNCwiLi9icm93c2VyU2hhMjU2IjoxNX1dLDExOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcjsidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ2b2lkIDA9PT1BcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpPi0xfSk7dmFyIG89WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLCJbb2JqZWN0IERhdGFWaWV3XSJdO3QuZXhwb3J0cz17aXNFbXB0eURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlPzA9PT1lLmxlbmd0aDowPT09ZS5ieXRlTGVuZ3RofSxjb252ZXJ0VG9CdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1uZXcgcihlLCJ1dGY4IikpLEFycmF5QnVmZmVyLmlzVmlldyhlKT9uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoL1VpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpOm5ldyBVaW50OEFycmF5KGUpfX19LHsiYnVmZmVyLyI6ODZ9XSwxMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpO2Z1bmN0aW9uIG8oZSx0KXt0aGlzLmhhc2g9bmV3IGUsdGhpcy5vdXRlcj1uZXcgZTt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXIuY29udmVydFRvQnVmZmVyKHQpO2lmKG4uYnl0ZUxlbmd0aD5lLkJMT0NLX1NJWkUpe3ZhciBvPW5ldyBlO28udXBkYXRlKG4pLG49by5kaWdlc3QoKX12YXIgaT1uZXcgVWludDhBcnJheShlLkJMT0NLX1NJWkUpO3JldHVybiBpLnNldChuKSxpfShlLHQpLG89bmV3IFVpbnQ4QXJyYXkoZS5CTE9DS19TSVpFKTtvLnNldChuKTtmb3IodmFyIGk9MDtpPGUuQkxPQ0tfU0laRTtpKyspbltpXV49NTQsb1tpXV49OTI7Zm9yKHRoaXMuaGFzaC51cGRhdGUobiksdGhpcy5vdXRlci51cGRhdGUobyksaT0wO2k8bi5ieXRlTGVuZ3RoO2krKyluW2ldPTB9dC5leHBvcnRzPW8sby5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHIuaXNFbXB0eURhdGEoZSl8fHRoaXMuZXJyb3IpcmV0dXJuIHRoaXM7dHJ5e3RoaXMuaGFzaC51cGRhdGUoci5jb252ZXJ0VG9CdWZmZXIoZSkpfWNhdGNoKGUpe3RoaXMuZXJyb3I9ZX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm91dGVyLmZpbmlzaGVkfHx0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmhhc2guZGlnZXN0KCkpLHRoaXMub3V0ZXIuZGlnZXN0KGUpfX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExfV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKSxvPWUoImJ1ZmZlci8iKS5CdWZmZXIsaT02NDtmdW5jdGlvbiBzKCl7dGhpcy5zdGF0ZT1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSx0aGlzLmJ1ZmZlcj1uZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKGkpKSx0aGlzLmJ1ZmZlckxlbmd0aD0wLHRoaXMuYnl0ZXNIYXNoZWQ9MCx0aGlzLmZpbmlzaGVkPSExfWZ1bmN0aW9uIGEoZSx0LG4scixvLGkpe3JldHVybigodD0odCtlJjQyOTQ5NjcyOTUpKyhyK2kmNDI5NDk2NzI5NSkmNDI5NDk2NzI5NSk8PG98dD4+PjMyLW8pK24mNDI5NDk2NzI5NX1mdW5jdGlvbiBjKGUsdCxuLHIsbyxpLHMpe3JldHVybiBhKHQmbnx+dCZyLGUsdCxvLGkscyl9ZnVuY3Rpb24gdShlLHQsbixyLG8saSxzKXtyZXR1cm4gYSh0JnJ8biZ+cixlLHQsbyxpLHMpfWZ1bmN0aW9uIGwoZSx0LG4scixvLGkscyl7cmV0dXJuIGEodF5uXnIsZSx0LG8saSxzKX1mdW5jdGlvbiBwKGUsdCxuLHIsbyxpLHMpe3JldHVybiBhKG5eKHR8fnIpLGUsdCxvLGkscyl9dC5leHBvcnRzPXMscy5CTE9DS19TSVpFPWkscy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHIuaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO3ZhciB0PXIuY29udmVydFRvQnVmZmVyKGUpLG49MCxvPXQuYnl0ZUxlbmd0aDtmb3IodGhpcy5ieXRlc0hhc2hlZCs9bztvPjA7KXRoaXMuYnVmZmVyLnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssdFtuKytdKSxvLS0sdGhpcy5idWZmZXJMZW5ndGg9PT1pJiYodGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MCk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtpZighdGhpcy5maW5pc2hlZCl7dmFyIHQ9dGhpcyxuPXQuYnVmZmVyLHI9dC5idWZmZXJMZW5ndGgscz04KnQuYnl0ZXNIYXNoZWQ7aWYobi5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLDEyOCksciVpPj01Nil7Zm9yKHZhciBhPXRoaXMuYnVmZmVyTGVuZ3RoO2E8aTthKyspbi5zZXRVaW50OChhLDApO3RoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTB9Zm9yKGE9dGhpcy5idWZmZXJMZW5ndGg7YTw1NjthKyspbi5zZXRVaW50OChhLDApO24uc2V0VWludDMyKDU2LHM+Pj4wLCEwKSxuLnNldFVpbnQzMig2MCxNYXRoLmZsb29yKHMvNDI5NDk2NzI5NiksITApLHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuZmluaXNoZWQ9ITB9dmFyIGM9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxNikpO2ZvcihhPTA7YTw0O2ErKyljLnNldFVpbnQzMig0KmEsdGhpcy5zdGF0ZVthXSwhMCk7dmFyIHU9bmV3IG8oYy5idWZmZXIsYy5ieXRlT2Zmc2V0LGMuYnl0ZUxlbmd0aCk7cmV0dXJuIGU/dS50b1N0cmluZyhlKTp1fSxzLnByb3RvdHlwZS5oYXNoQnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5idWZmZXIsdD10aGlzLnN0YXRlLG49dFswXSxyPXRbMV0sbz10WzJdLGk9dFszXTtuPWMobixyLG8saSxlLmdldFVpbnQzMigwLCEwKSw3LDM2MTQwOTAzNjApLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDQsITApLDEyLDM5MDU0MDI3MTApLG89YyhvLGksbixyLGUuZ2V0VWludDMyKDgsITApLDE3LDYwNjEwNTgxOSkscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoMTIsITApLDIyLDMyNTA0NDE5NjYpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDE2LCEwKSw3LDQxMTg1NDgzOTkpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDIwLCEwKSwxMiwxMjAwMDgwNDI2KSxvPWMobyxpLG4scixlLmdldFVpbnQzMigyNCwhMCksMTcsMjgyMTczNTk1NSkscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoMjgsITApLDIyLDQyNDkyNjEzMTMpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDMyLCEwKSw3LDE3NzAwMzU0MTYpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDM2LCEwKSwxMiwyMzM2NTUyODc5KSxvPWMobyxpLG4scixlLmdldFVpbnQzMig0MCwhMCksMTcsNDI5NDkyNTIzMykscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoNDQsITApLDIyLDIzMDQ1NjMxMzQpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDQ4LCEwKSw3LDE4MDQ2MDM2ODIpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDUyLCEwKSwxMiw0MjU0NjI2MTk1KSxvPWMobyxpLG4scixlLmdldFVpbnQzMig1NiwhMCksMTcsMjc5Mjk2NTAwNiksbj11KG4scj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoNjAsITApLDIyLDEyMzY1MzUzMjkpLG8saSxlLmdldFVpbnQzMig0LCEwKSw1LDQxMjkxNzA3ODYpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDI0LCEwKSw5LDMyMjU0NjU2NjQpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDQ0LCEwKSwxNCw2NDM3MTc3MTMpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDAsITApLDIwLDM5MjEwNjk5OTQpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDIwLCEwKSw1LDM1OTM0MDg2MDUpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDQwLCEwKSw5LDM4MDE2MDgzKSxvPXUobyxpLG4scixlLmdldFVpbnQzMig2MCwhMCksMTQsMzYzNDQ4ODk2MSkscj11KHIsbyxpLG4sZS5nZXRVaW50MzIoMTYsITApLDIwLDM4ODk0Mjk0NDgpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDM2LCEwKSw1LDU2ODQ0NjQzOCksaT11KGksbixyLG8sZS5nZXRVaW50MzIoNTYsITApLDksMzI3NTE2MzYwNiksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoMTIsITApLDE0LDQxMDc2MDMzMzUpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDMyLCEwKSwyMCwxMTYzNTMxNTAxKSxuPXUobixyLG8saSxlLmdldFVpbnQzMig1MiwhMCksNSwyODUwMjg1ODI5KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMig4LCEwKSw5LDQyNDM1NjM1MTIpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDI4LCEwKSwxNCwxNzM1MzI4NDczKSxuPWwobixyPXUocixvLGksbixlLmdldFVpbnQzMig0OCwhMCksMjAsMjM2ODM1OTU2MiksbyxpLGUuZ2V0VWludDMyKDIwLCEwKSw0LDQyOTQ1ODg3MzgpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDMyLCEwKSwxMSwyMjcyMzkyODMzKSxvPWwobyxpLG4scixlLmdldFVpbnQzMig0NCwhMCksMTYsMTgzOTAzMDU2Mikscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoNTYsITApLDIzLDQyNTk2NTc3NDApLG49bChuLHIsbyxpLGUuZ2V0VWludDMyKDQsITApLDQsMjc2Mzk3NTIzNiksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoMTYsITApLDExLDEyNzI4OTMzNTMpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDI4LCEwKSwxNiw0MTM5NDY5NjY0KSxyPWwocixvLGksbixlLmdldFVpbnQzMig0MCwhMCksMjMsMzIwMDIzNjY1Niksbj1sKG4scixvLGksZS5nZXRVaW50MzIoNTIsITApLDQsNjgxMjc5MTc0KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMigwLCEwKSwxMSwzOTM2NDMwMDc0KSxvPWwobyxpLG4scixlLmdldFVpbnQzMigxMiwhMCksMTYsMzU3MjQ0NTMxNykscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoMjQsITApLDIzLDc2MDI5MTg5KSxuPWwobixyLG8saSxlLmdldFVpbnQzMigzNiwhMCksNCwzNjU0NjAyODA5KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMig0OCwhMCksMTEsMzg3MzE1MTQ2MSksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoNjAsITApLDE2LDUzMDc0MjUyMCksbj1wKG4scj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoOCwhMCksMjMsMzI5OTYyODY0NSksbyxpLGUuZ2V0VWludDMyKDAsITApLDYsNDA5NjMzNjQ1MiksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoMjgsITApLDEwLDExMjY4OTE0MTUpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDU2LCEwKSwxNSwyODc4NjEyMzkxKSxyPXAocixvLGksbixlLmdldFVpbnQzMigyMCwhMCksMjEsNDIzNzUzMzI0MSksbj1wKG4scixvLGksZS5nZXRVaW50MzIoNDgsITApLDYsMTcwMDQ4NTU3MSksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoMTIsITApLDEwLDIzOTk5ODA2OTApLG89cChvLGksbixyLGUuZ2V0VWludDMyKDQwLCEwKSwxNSw0MjkzOTE1NzczKSxyPXAocixvLGksbixlLmdldFVpbnQzMig0LCEwKSwyMSwyMjQwMDQ0NDk3KSxuPXAobixyLG8saSxlLmdldFVpbnQzMigzMiwhMCksNiwxODczMzEzMzU5KSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMig2MCwhMCksMTAsNDI2NDM1NTU1Miksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoMjQsITApLDE1LDI3MzQ3Njg5MTYpLHI9cChyLG8saSxuLGUuZ2V0VWludDMyKDUyLCEwKSwyMSwxMzA5MTUxNjQ5KSxuPXAobixyLG8saSxlLmdldFVpbnQzMigxNiwhMCksNiw0MTQ5NDQ0MjI2KSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMig0NCwhMCksMTAsMzE3NDc1NjkxNyksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoOCwhMCksMTUsNzE4Nzg3MjU5KSxyPXAocixvLGksbixlLmdldFVpbnQzMigzNiwhMCksMjEsMzk1MTQ4MTc0NSksdFswXT1uK3RbMF0mNDI5NDk2NzI5NSx0WzFdPXIrdFsxXSY0Mjk0OTY3Mjk1LHRbMl09byt0WzJdJjQyOTQ5NjcyOTUsdFszXT1pK3RbM10mNDI5NDk2NzI5NX19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoImJ1ZmZlci8iKS5CdWZmZXIsbz1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKTtmdW5jdGlvbiBpKCl7dGhpcy5oMD0xNzMyNTg0MTkzLHRoaXMuaDE9NDAyMzIzMzQxNyx0aGlzLmgyPTI1NjIzODMxMDIsdGhpcy5oMz0yNzE3MzM4NzgsdGhpcy5oND0zMjg1Mzc3NTIwLHRoaXMuYmxvY2s9bmV3IFVpbnQzMkFycmF5KDgwKSx0aGlzLm9mZnNldD0wLHRoaXMuc2hpZnQ9MjQsdGhpcy50b3RhbExlbmd0aD0wfW5ldyBVaW50MzJBcnJheShbMTUxODUwMDI0OSwxODU5Nzc1MzkzLC0xODk0MDA3NTg4LC04OTk0OTc1MTRdKSxNYXRoLnBvdygyLDUzKSx0LmV4cG9ydHM9aSxpLkJMT0NLX1NJWkU9NjQsaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTtpZihvLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO3ZhciB0PShlPW8uY29udmVydFRvQnVmZmVyKGUpKS5sZW5ndGg7dGhpcy50b3RhbExlbmd0aCs9OCp0O2Zvcih2YXIgbj0wO248dDtuKyspdGhpcy53cml0ZShlW25dKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7dGhpcy5ibG9ja1t0aGlzLm9mZnNldF18PSgyNTUmZSk8PHRoaXMuc2hpZnQsdGhpcy5zaGlmdD90aGlzLnNoaWZ0LT04Oih0aGlzLm9mZnNldCsrLHRoaXMuc2hpZnQ9MjQpLDE2PT09dGhpcy5vZmZzZXQmJnRoaXMucHJvY2Vzc0Jsb2NrKCl9LGkucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXt0aGlzLndyaXRlKDEyOCksKHRoaXMub2Zmc2V0PjE0fHwxND09PXRoaXMub2Zmc2V0JiZ0aGlzLnNoaWZ0PDI0KSYmdGhpcy5wcm9jZXNzQmxvY2soKSx0aGlzLm9mZnNldD0xNCx0aGlzLnNoaWZ0PTI0LHRoaXMud3JpdGUoMCksdGhpcy53cml0ZSgwKSx0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+MHhmZmZmZmZmZmZmP3RoaXMudG90YWxMZW5ndGgvMTA5OTUxMTYyNzc3NjowKSx0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+NDI5NDk2NzI5NT90aGlzLnRvdGFsTGVuZ3RoLzQyOTQ5NjcyOTY6MCk7Zm9yKHZhciB0PTI0O3Q+PTA7dC09OCl0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+PnQpO3ZhciBuPW5ldyByKDIwKSxvPW5ldyBEYXRhVmlldyhuLmJ1ZmZlcik7cmV0dXJuIG8uc2V0VWludDMyKDAsdGhpcy5oMCwhMSksby5zZXRVaW50MzIoNCx0aGlzLmgxLCExKSxvLnNldFVpbnQzMig4LHRoaXMuaDIsITEpLG8uc2V0VWludDMyKDEyLHRoaXMuaDMsITEpLG8uc2V0VWludDMyKDE2LHRoaXMuaDQsITEpLGU/bi50b1N0cmluZyhlKTpufSxpLnByb3RvdHlwZS5wcm9jZXNzQmxvY2s9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MTY7ZTw4MDtlKyspe3ZhciB0PXRoaXMuYmxvY2tbZS0zXV50aGlzLmJsb2NrW2UtOF1edGhpcy5ibG9ja1tlLTE0XV50aGlzLmJsb2NrW2UtMTZdO3RoaXMuYmxvY2tbZV09dDw8MXx0Pj4+MzF9dmFyIG4scixvPXRoaXMuaDAsaT10aGlzLmgxLHM9dGhpcy5oMixhPXRoaXMuaDMsYz10aGlzLmg0O2ZvcihlPTA7ZTw4MDtlKyspe2U8MjA/KG49YV5pJihzXmEpLHI9MTUxODUwMDI0OSk6ZTw0MD8obj1pXnNeYSxyPTE4NTk3NzUzOTMpOmU8NjA/KG49aSZzfGEmKGl8cykscj0yNDAwOTU5NzA4KToobj1pXnNeYSxyPTMzOTU0Njk3ODIpO3ZhciB1PShvPDw1fG8+Pj4yNykrbitjK3IrKDB8dGhpcy5ibG9ja1tlXSk7Yz1hLGE9cyxzPWk8PDMwfGk+Pj4yLGk9byxvPXV9Zm9yKHRoaXMuaDA9dGhpcy5oMCtvfDAsdGhpcy5oMT10aGlzLmgxK2l8MCx0aGlzLmgyPXRoaXMuaDIrc3wwLHRoaXMuaDM9dGhpcy5oMythfDAsdGhpcy5oND10aGlzLmg0K2N8MCx0aGlzLm9mZnNldD0wLGU9MDtlPDE2O2UrKyl0aGlzLmJsb2NrW2VdPTB9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJidWZmZXIvIikuQnVmZmVyLG89ZSgiLi9icm93c2VySGFzaFV0aWxzIiksaT02NCxzPW5ldyBVaW50MzJBcnJheShbMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSksYT1NYXRoLnBvdygyLDUzKS0xO2Z1bmN0aW9uIGMoKXt0aGlzLnN0YXRlPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0sdGhpcy50ZW1wPW5ldyBJbnQzMkFycmF5KDY0KSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSg2NCksdGhpcy5idWZmZXJMZW5ndGg9MCx0aGlzLmJ5dGVzSGFzaGVkPTAsdGhpcy5maW5pc2hlZD0hMX10LmV4cG9ydHM9YyxjLkJMT0NLX1NJWkU9aSxjLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO2lmKG8uaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7dmFyIHQ9MCxuPShlPW8uY29udmVydFRvQnVmZmVyKGUpKS5ieXRlTGVuZ3RoO2lmKHRoaXMuYnl0ZXNIYXNoZWQrPW4sOCp0aGlzLmJ5dGVzSGFzaGVkPmEpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgaGFzaCBtb3JlIHRoYW4gMl41MyAtIDEgYml0cyIpO2Zvcig7bj4wOyl0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXT1lW3QrK10sbi0tLHRoaXMuYnVmZmVyTGVuZ3RoPT09aSYmKHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTApO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZmluaXNoZWQpe3ZhciB0PTgqdGhpcy5ieXRlc0hhc2hlZCxuPW5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlci5idWZmZXIsdGhpcy5idWZmZXIuYnl0ZU9mZnNldCx0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxvPXRoaXMuYnVmZmVyTGVuZ3RoO2lmKG4uc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywxMjgpLG8laT49NTYpe2Zvcih2YXIgcz10aGlzLmJ1ZmZlckxlbmd0aDtzPGk7cysrKW4uc2V0VWludDgocywwKTt0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wfWZvcihzPXRoaXMuYnVmZmVyTGVuZ3RoO3M8NTY7cysrKW4uc2V0VWludDgocywwKTtuLnNldFVpbnQzMig1NixNYXRoLmZsb29yKHQvNDI5NDk2NzI5NiksITApLG4uc2V0VWludDMyKDYwLHQpLHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuZmluaXNoZWQ9ITB9dmFyIGE9bmV3IHIoMzIpO2ZvcihzPTA7czw4O3MrKylhWzQqc109dGhpcy5zdGF0ZVtzXT4+PjI0JjI1NSxhWzQqcysxXT10aGlzLnN0YXRlW3NdPj4+MTYmMjU1LGFbNCpzKzJdPXRoaXMuc3RhdGVbc10+Pj44JjI1NSxhWzQqcyszXT10aGlzLnN0YXRlW3NdPj4+MCYyNTU7cmV0dXJuIGU/YS50b1N0cmluZyhlKTphfSxjLnByb3RvdHlwZS5oYXNoQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuYnVmZmVyLHQ9dGhpcy5zdGF0ZSxuPXRbMF0scj10WzFdLG89dFsyXSxhPXRbM10sYz10WzRdLHU9dFs1XSxsPXRbNl0scD10WzddLGQ9MDtkPGk7ZCsrKXtpZihkPDE2KXRoaXMudGVtcFtkXT0oMjU1JmVbNCpkXSk8PDI0fCgyNTUmZVs0KmQrMV0pPDwxNnwoMjU1JmVbNCpkKzJdKTw8OHwyNTUmZVs0KmQrM107ZWxzZXt2YXIgaD10aGlzLnRlbXBbZC0yXSxnPShoPj4+MTd8aDw8MTUpXihoPj4+MTl8aDw8MTMpXmg+Pj4xMCxmPSgoaD10aGlzLnRlbXBbZC0xNV0pPj4+N3xoPDwyNSleKGg+Pj4xOHxoPDwxNCleaD4+PjM7dGhpcy50ZW1wW2RdPShnK3RoaXMudGVtcFtkLTddfDApKyhmK3RoaXMudGVtcFtkLTE2XXwwKX12YXIgbT0oKChjPj4+NnxjPDwyNileKGM+Pj4xMXxjPDwyMSleKGM+Pj4yNXxjPDw3KSkrKGMmdV5+YyZsKXwwKSsocCsoc1tkXSt0aGlzLnRlbXBbZF18MCl8MCl8MCx2PSgobj4+PjJ8bjw8MzApXihuPj4+MTN8bjw8MTkpXihuPj4+MjJ8bjw8MTApKSsobiZyXm4mb15yJm8pfDA7cD1sLGw9dSx1PWMsYz1hK218MCxhPW8sbz1yLHI9bixuPW0rdnwwfXRbMF0rPW4sdFsxXSs9cix0WzJdKz1vLHRbM10rPWEsdFs0XSs9Yyx0WzVdKz11LHRbNl0rPWwsdFs3XSs9cH19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgbj1lKCIuL3V0aWwiKTtuLmNyeXB0by5saWI9ZSgiLi9icm93c2VyQ3J5cHRvTGliIiksbi5CdWZmZXI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcixuLnVybD1lKCJ1cmwvIiksbi5xdWVyeXN0cmluZz1lKCJxdWVyeXN0cmluZy8iKSxuLnJlYWxDbG9jaz1lKCIuL3JlYWxjbG9jay9icm93c2VyQ2xvY2siKSxuLmVudmlyb25tZW50PSJqcyIsbi5jcmVhdGVFdmVudFN0cmVhbT1lKCIuL2V2ZW50LXN0cmVhbS9idWZmZXJlZC1jcmVhdGUtZXZlbnQtc3RyZWFtIikuY3JlYXRlRXZlbnRTdHJlYW0sbi5pc0Jyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5pc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHI9ZSgiLi9jb3JlIik7aWYodC5leHBvcnRzPXIsZSgiLi9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiIpLGUoIi4vY3JlZGVudGlhbHMvdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jaGFpbmFibGVfdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy93ZWJfaWRlbnRpdHlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NvZ25pdG9faWRlbnRpdHlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL3NhbWxfY3JlZGVudGlhbHMiKSxyLlhNTC5QYXJzZXI9ZSgiLi94bWwvYnJvd3Nlcl9wYXJzZXIiKSxlKCIuL2h0dHAveGhyIiksdm9pZCAwPT09byl2YXIgbz17YnJvd3NlcjohMH19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vYnJvd3NlckNyeXB0b0xpYiI6MTAsIi4vY29yZSI6MTksIi4vY3JlZGVudGlhbHMiOjIwLCIuL2NyZWRlbnRpYWxzL2NoYWluYWJsZV90ZW1wb3JhcnlfY3JlZGVudGlhbHMiOjIxLCIuL2NyZWRlbnRpYWxzL2NvZ25pdG9faWRlbnRpdHlfY3JlZGVudGlhbHMiOjIyLCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iOjIzLCIuL2NyZWRlbnRpYWxzL3NhbWxfY3JlZGVudGlhbHMiOjI0LCIuL2NyZWRlbnRpYWxzL3RlbXBvcmFyeV9jcmVkZW50aWFscyI6MjUsIi4vY3JlZGVudGlhbHMvd2ViX2lkZW50aXR5X2NyZWRlbnRpYWxzIjoyNiwiLi9ldmVudC1zdHJlYW0vYnVmZmVyZWQtY3JlYXRlLWV2ZW50LXN0cmVhbSI6MjgsIi4vaHR0cC94aHIiOjM2LCIuL3JlYWxjbG9jay9icm93c2VyQ2xvY2siOjU0LCIuL3V0aWwiOjc0LCIuL3htbC9icm93c2VyX3BhcnNlciI6NzUsX3Byb2Nlc3M6OTEsImJ1ZmZlci8iOjg2LCJxdWVyeXN0cmluZy8iOjk4LCJ1cmwvIjoxMDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89ZSgiLi9jb3JlIik7ZSgiLi9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiIpLG8uQ29uZmlnPW8udXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSksZT10aGlzLmV4dHJhY3RDcmVkZW50aWFscyhlKSxvLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5rZXlzLChmdW5jdGlvbih0LG4pe3RoaXMuc2V0KHQsZVt0XSxuKX0pKX0sZ2V0Q3JlZGVudGlhbHM6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzO2Z1bmN0aW9uIHIodCl7ZSh0LHQ/bnVsbDpuLmNyZWRlbnRpYWxzKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG5ldyBvLnV0aWwuZXJyb3IodHx8bmV3IEVycm9yLHtjb2RlOiJDcmVkZW50aWFsc0Vycm9yIixtZXNzYWdlOmUsbmFtZToiQ3JlZGVudGlhbHNFcnJvciJ9KX1uLmNyZWRlbnRpYWxzPyJmdW5jdGlvbiI9PXR5cGVvZiBuLmNyZWRlbnRpYWxzLmdldD9uLmNyZWRlbnRpYWxzLmdldCgoZnVuY3Rpb24oZSl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSAiK24uY3JlZGVudGlhbHMuY29uc3RydWN0b3IubmFtZSxlKSkscihlKX0pKToodD1udWxsLG4uY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQmJm4uY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5fHwodD1pKCJNaXNzaW5nIGNyZWRlbnRpYWxzIikpLHIodCkpOm4uY3JlZGVudGlhbFByb3ZpZGVyP24uY3JlZGVudGlhbFByb3ZpZGVyLnJlc29sdmUoKGZ1bmN0aW9uKGUsdCl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSBhbnkgcHJvdmlkZXJzIixlKSksbi5jcmVkZW50aWFscz10LHIoZSl9KSk6cihpKCJObyBjcmVkZW50aWFscyB0byBsb2FkIikpfSxnZXRUb2tlbjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXM7ZnVuY3Rpb24gcih0KXtlKHQsdD9udWxsOm4udG9rZW4pfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gbmV3IG8udXRpbC5lcnJvcih0fHxuZXcgRXJyb3Ise2NvZGU6IlRva2VuRXJyb3IiLG1lc3NhZ2U6ZSxuYW1lOiJUb2tlbkVycm9yIn0pfW4udG9rZW4/ImZ1bmN0aW9uIj09dHlwZW9mIG4udG9rZW4uZ2V0P24udG9rZW4uZ2V0KChmdW5jdGlvbihlKXtlJiYoZT1pKCJDb3VsZCBub3QgbG9hZCB0b2tlbiBmcm9tICIrbi50b2tlbi5jb25zdHJ1Y3Rvci5uYW1lLGUpKSxyKGUpfSkpOih0PW51bGwsbi50b2tlbi50b2tlbnx8KHQ9aSgiTWlzc2luZyB0b2tlbiIpKSxyKHQpKTpuLnRva2VuUHJvdmlkZXI/bi50b2tlblByb3ZpZGVyLnJlc29sdmUoKGZ1bmN0aW9uKGUsdCl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgdG9rZW4gZnJvbSBhbnkgcHJvdmlkZXJzIixlKSksbi50b2tlbj10LHIoZSl9KSk6cihpKCJObyB0b2tlbiB0byBsb2FkIikpfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXt0PXR8fCExLGU9dGhpcy5leHRyYWN0Q3JlZGVudGlhbHMoZSksby51dGlsLmVhY2guY2FsbCh0aGlzLGUsKGZ1bmN0aW9uKGUsbil7KHR8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmtleXMsZSl8fG8uU2VydmljZS5oYXNTZXJ2aWNlKGUpKSYmdGhpcy5zZXQoZSxuKX0pKX0sbG9hZEZyb21QYXRoOmZ1bmN0aW9uKGUpe3RoaXMuY2xlYXIoKTt2YXIgdD1KU09OLnBhcnNlKG8udXRpbC5yZWFkRmlsZVN5bmMoZSkpLG49bmV3IG8uRmlsZVN5c3RlbUNyZWRlbnRpYWxzKGUpLHI9bmV3IG8uQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW47cmV0dXJuIHIucHJvdmlkZXJzLnVuc2hpZnQobiksci5yZXNvbHZlKChmdW5jdGlvbihlLG4pe2lmKGUpdGhyb3cgZTt0LmNyZWRlbnRpYWxzPW59KSksdGhpcy5jb25zdHJ1Y3Rvcih0KSx0aGlzfSxjbGVhcjpmdW5jdGlvbigpe28udXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLmtleXMsKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzW2VdfSkpLHRoaXMuc2V0KCJjcmVkZW50aWFscyIsdm9pZCAwKSx0aGlzLnNldCgiY3JlZGVudGlhbFByb3ZpZGVyIix2b2lkIDApfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQ/KHZvaWQgMD09PW4mJihuPXRoaXMua2V5c1tlXSksdGhpc1tlXT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmNhbGwodGhpcyk6bik6Imh0dHBPcHRpb25zIj09PWUmJnRoaXNbZV0/dGhpc1tlXT1vLnV0aWwubWVyZ2UodGhpc1tlXSx0KTp0aGlzW2VdPXR9LGtleXM6e2NyZWRlbnRpYWxzOm51bGwsY3JlZGVudGlhbFByb3ZpZGVyOm51bGwscmVnaW9uOm51bGwsbG9nZ2VyOm51bGwsYXBpVmVyc2lvbnM6e30sYXBpVmVyc2lvbjpudWxsLGVuZHBvaW50OnZvaWQgMCxodHRwT3B0aW9uczp7dGltZW91dDoxMmU0fSxtYXhSZXRyaWVzOnZvaWQgMCxtYXhSZWRpcmVjdHM6MTAscGFyYW1WYWxpZGF0aW9uOiEwLHNzbEVuYWJsZWQ6ITAsczNGb3JjZVBhdGhTdHlsZTohMSxzM0J1Y2tldEVuZHBvaW50OiExLHMzRGlzYWJsZUJvZHlTaWduaW5nOiEwLHMzVXNFYXN0MVJlZ2lvbmFsRW5kcG9pbnQ6ImxlZ2FjeSIsczNVc2VBcm5SZWdpb246dm9pZCAwLGNvbXB1dGVDaGVja3N1bXM6ITAsY29udmVydFJlc3BvbnNlVHlwZXM6ITAsY29ycmVjdENsb2NrU2tldzohMSxjdXN0b21Vc2VyQWdlbnQ6bnVsbCxkeW5hbW9EYkNyYzMyOiEwLHN5c3RlbUNsb2NrT2Zmc2V0OjAsc2lnbmF0dXJlVmVyc2lvbjpudWxsLHNpZ25hdHVyZUNhY2hlOiEwLHJldHJ5RGVsYXlPcHRpb25zOnt9LHVzZUFjY2VsZXJhdGVFbmRwb2ludDohMSxjbGllbnRTaWRlTW9uaXRvcmluZzohMSxlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQ6dm9pZCAwLGVuZHBvaW50Q2FjaGVTaXplOjFlMyxob3N0UHJlZml4RW5hYmxlZDohMCxzdHNSZWdpb25hbEVuZHBvaW50czoibGVnYWN5Iix1c2VGaXBzRW5kcG9pbnQ6ITEsdXNlRHVhbHN0YWNrRW5kcG9pbnQ6ITEsdG9rZW46bnVsbH0sZXh0cmFjdENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmFjY2Vzc0tleUlkJiZlLnNlY3JldEFjY2Vzc0tleSYmKChlPW8udXRpbC5jb3B5KGUpKS5jcmVkZW50aWFscz1uZXcgby5DcmVkZW50aWFscyhlKSksZX0sc2V0UHJvbWlzZXNEZXBlbmRlbmN5OmZ1bmN0aW9uKGUpe3I9ZSxudWxsPT09ZSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2UmJihyPVByb21pc2UpO3ZhciB0PVtvLlJlcXVlc3Qsby5DcmVkZW50aWFscyxvLkNyZWRlbnRpYWxQcm92aWRlckNoYWluXTtvLlMzJiYodC5wdXNoKG8uUzMpLG8uUzMuTWFuYWdlZFVwbG9hZCYmdC5wdXNoKG8uUzMuTWFuYWdlZFVwbG9hZCkpLG8udXRpbC5hZGRQcm9taXNlcyh0LHIpfSxnZXRQcm9taXNlc0RlcGVuZGVuY3k6ZnVuY3Rpb24oKXtyZXR1cm4gcn19KSxvLmNvbmZpZz1uZXcgby5Db25maWd9LHsiLi9jb3JlIjoxOSwiLi9jcmVkZW50aWFscyI6MjAsIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiI6MjN9XSwxODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKTtmdW5jdGlvbiBvKGUsdCl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZihbImxlZ2FjeSIsInJlZ2lvbmFsIl0uaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPj0wKXJldHVybiBlLnRvTG93ZXJDYXNlKCk7dGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix0KX19dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIGk7aWYoKGU9ZXx8e30pW3QuY2xpZW50Q29uZmlnXSYmKGk9byhlW3QuY2xpZW50Q29uZmlnXSx7Y29kZToiSW52YWxpZENvbmZpZ3VyYXRpb24iLG1lc3NhZ2U6J2ludmFsaWQgIicrdC5jbGllbnRDb25maWcrJyIgY29uZmlndXJhdGlvbi4gRXhwZWN0ICJsZWdhY3kiICBvciAicmVnaW9uYWwiLiBHb3QgIicrZVt0LmNsaWVudENvbmZpZ10rJyIuJ30pKSlyZXR1cm4gaTtpZighci51dGlsLmlzTm9kZSgpKXJldHVybiBpO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmVudix0LmVudikmJihpPW8obi5lbnZbdC5lbnZdLHtjb2RlOiJJbnZhbGlkRW52aXJvbm1lbnRhbFZhcmlhYmxlIixtZXNzYWdlOiJpbnZhbGlkICIrdC5lbnYrJyBlbnZpcm9ubWVudGFsIHZhcmlhYmxlLiBFeHBlY3QgImxlZ2FjeSIgIG9yICJyZWdpb25hbCIuIEdvdCAiJytuLmVudlt0LmVudl0rJyIuJ30pKSlyZXR1cm4gaTt2YXIgcz17fTt0cnl7cz1yLnV0aWwuZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnKHIudXRpbC5pbmlMb2FkZXIpW24uZW52LkFXU19QUk9GSUxFfHxyLnV0aWwuZGVmYXVsdFByb2ZpbGVdfWNhdGNoKGUpe31yZXR1cm4gcyYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsdC5zaGFyZWRDb25maWcpJiYoaT1vKHNbdC5zaGFyZWRDb25maWddLHtjb2RlOiJJbnZhbGlkQ29uZmlndXJhdGlvbiIsbWVzc2FnZToiaW52YWxpZCAiK3Quc2hhcmVkQ29uZmlnKycgcHJvZmlsZSBjb25maWcuIEV4cGVjdCAibGVnYWN5IiAgb3IgInJlZ2lvbmFsIi4gR290ICInK3NbdC5zaGFyZWRDb25maWddKyciLid9KSksaX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksX3Byb2Nlc3M6OTF9XSwxOTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt1dGlsOmUoIi4vdXRpbCIpfTsoe30pLnRvU3RyaW5nKCksdC5leHBvcnRzPXIsci51dGlsLnVwZGF0ZShyLHtWRVJTSU9OOiIyLjE1ODkuMCIsU2lnbmVyczp7fSxQcm90b2NvbDp7SnNvbjplKCIuL3Byb3RvY29sL2pzb24iKSxRdWVyeTplKCIuL3Byb3RvY29sL3F1ZXJ5IiksUmVzdDplKCIuL3Byb3RvY29sL3Jlc3QiKSxSZXN0SnNvbjplKCIuL3Byb3RvY29sL3Jlc3RfanNvbiIpLFJlc3RYbWw6ZSgiLi9wcm90b2NvbC9yZXN0X3htbCIpfSxYTUw6e0J1aWxkZXI6ZSgiLi94bWwvYnVpbGRlciIpLFBhcnNlcjpudWxsfSxKU09OOntCdWlsZGVyOmUoIi4vanNvbi9idWlsZGVyIiksUGFyc2VyOmUoIi4vanNvbi9wYXJzZXIiKX0sTW9kZWw6e0FwaTplKCIuL21vZGVsL2FwaSIpLE9wZXJhdGlvbjplKCIuL21vZGVsL29wZXJhdGlvbiIpLFNoYXBlOmUoIi4vbW9kZWwvc2hhcGUiKSxQYWdpbmF0b3I6ZSgiLi9tb2RlbC9wYWdpbmF0b3IiKSxSZXNvdXJjZVdhaXRlcjplKCIuL21vZGVsL3Jlc291cmNlX3dhaXRlciIpfSxhcGlMb2FkZXI6ZSgiLi9hcGlfbG9hZGVyIiksRW5kcG9pbnRDYWNoZTplKCIuLi92ZW5kb3IvZW5kcG9pbnQtY2FjaGUiKS5FbmRwb2ludENhY2hlfSksZSgiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIiksZSgiLi9zZXJ2aWNlIiksZSgiLi9jb25maWciKSxlKCIuL2h0dHAiKSxlKCIuL2V2ZW50X2xpc3RlbmVycyIpLGUoIi4vcmVxdWVzdCIpLGUoIi4vcmVzcG9uc2UiKSxlKCIuL3Jlc291cmNlX3dhaXRlciIpLGUoIi4vc2lnbmVycy9yZXF1ZXN0X3NpZ25lciIpLGUoIi4vcGFyYW1fdmFsaWRhdG9yIiksZSgiLi9tYWludGVuYW5jZV9tb2RlX21lc3NhZ2UiKSxyLmV2ZW50cz1uZXcgci5TZXF1ZW50aWFsRXhlY3V0b3Isci51dGlsLm1lbW9pemVkUHJvcGVydHkociwiZW5kcG9pbnRDYWNoZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByLkVuZHBvaW50Q2FjaGUoci5jb25maWcuZW5kcG9pbnRDYWNoZVNpemUpfSksITApfSx7Ii4uL3ZlbmRvci9lbmRwb2ludC1jYWNoZSI6MTExLCIuL2FwaV9sb2FkZXIiOjksIi4vY29uZmlnIjoxNywiLi9ldmVudF9saXN0ZW5lcnMiOjM0LCIuL2h0dHAiOjM1LCIuL2pzb24vYnVpbGRlciI6MzcsIi4vanNvbi9wYXJzZXIiOjM4LCIuL21haW50ZW5hbmNlX21vZGVfbWVzc2FnZSI6MzksIi4vbW9kZWwvYXBpIjo0MCwiLi9tb2RlbC9vcGVyYXRpb24iOjQyLCIuL21vZGVsL3BhZ2luYXRvciI6NDMsIi4vbW9kZWwvcmVzb3VyY2Vfd2FpdGVyIjo0NCwiLi9tb2RlbC9zaGFwZSI6NDUsIi4vcGFyYW1fdmFsaWRhdG9yIjo0NiwiLi9wcm90b2NvbC9qc29uIjo0OCwiLi9wcm90b2NvbC9xdWVyeSI6NDksIi4vcHJvdG9jb2wvcmVzdCI6NTAsIi4vcHJvdG9jb2wvcmVzdF9qc29uIjo1MSwiLi9wcm90b2NvbC9yZXN0X3htbCI6NTIsIi4vcmVxdWVzdCI6NTgsIi4vcmVzb3VyY2Vfd2FpdGVyIjo1OSwiLi9yZXNwb25zZSI6NjAsIi4vc2VxdWVudGlhbF9leGVjdXRvciI6NjEsIi4vc2VydmljZSI6NjIsIi4vc2lnbmVycy9yZXF1ZXN0X3NpZ25lciI6NjYsIi4vdXRpbCI6NzQsIi4veG1sL2J1aWxkZXIiOjc2fV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLkNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe2lmKHIudXRpbC5oaWRlUHJvcGVydGllcyh0aGlzLFsic2VjcmV0QWNjZXNzS2V5Il0pLHRoaXMuZXhwaXJlZD0hMSx0aGlzLmV4cGlyZVRpbWU9bnVsbCx0aGlzLnJlZnJlc2hDYWxsYmFja3M9W10sMT09PWFyZ3VtZW50cy5sZW5ndGgmJiJvYmplY3QiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgZT1hcmd1bWVudHNbMF0uY3JlZGVudGlhbHN8fGFyZ3VtZW50c1swXTt0aGlzLmFjY2Vzc0tleUlkPWUuYWNjZXNzS2V5SWQsdGhpcy5zZWNyZXRBY2Nlc3NLZXk9ZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zZXNzaW9uVG9rZW49ZS5zZXNzaW9uVG9rZW59ZWxzZSB0aGlzLmFjY2Vzc0tleUlkPWFyZ3VtZW50c1swXSx0aGlzLnNlY3JldEFjY2Vzc0tleT1hcmd1bWVudHNbMV0sdGhpcy5zZXNzaW9uVG9rZW49YXJndW1lbnRzWzJdfSxleHBpcnlXaW5kb3c6MTUsbmVlZHNSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGU9ci51dGlsLmRhdGUuZ2V0RGF0ZSgpLmdldFRpbWUoKSx0PW5ldyBEYXRlKGUrMWUzKnRoaXMuZXhwaXJ5V2luZG93KTtyZXR1cm4hISh0aGlzLmV4cGlyZVRpbWUmJnQ+dGhpcy5leHBpcmVUaW1lKXx8dGhpcy5leHBpcmVkfHwhdGhpcy5hY2Nlc3NLZXlJZHx8IXRoaXMuc2VjcmV0QWNjZXNzS2V5fSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm5lZWRzUmVmcmVzaCgpP3RoaXMucmVmcmVzaCgoZnVuY3Rpb24obil7bnx8KHQuZXhwaXJlZD0hMSksZSYmZShuKX0pKTplJiZlKCl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5leHBpcmVkPSExLGUoKX0sY29hbGVzY2VSZWZyZXNoOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczsxPT09bi5yZWZyZXNoQ2FsbGJhY2tzLnB1c2goZSkmJm4ubG9hZCgoZnVuY3Rpb24oZSl7ci51dGlsLmFycmF5RWFjaChuLnJlZnJlc2hDYWxsYmFja3MsKGZ1bmN0aW9uKG4pe3Q/bihlKTpyLnV0aWwuZGVmZXIoKGZ1bmN0aW9uKCl7bihlKX0pKX0pKSxuLnJlZnJlc2hDYWxsYmFja3MubGVuZ3RoPTB9KSl9LGxvYWQ6ZnVuY3Rpb24oZSl7ZSgpfX0pLHIuQ3JlZGVudGlhbHMuYWRkUHJvbWlzZXNUb0NsYXNzPWZ1bmN0aW9uKGUpe3RoaXMucHJvdG90eXBlLmdldFByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgiZ2V0IixlKSx0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZT1yLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCJyZWZyZXNoIixlKX0sci5DcmVkZW50aWFscy5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5nZXRQcm9taXNlLGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZX0sci51dGlsLmFkZFByb21pc2VzKHIuQ3JlZGVudGlhbHMpfSx7Ii4vY29yZSI6MTl9XSwyMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksZT1lfHx7fSx0aGlzLmVycm9yQ29kZT0iQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUiLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnRva2VuQ29kZUZuPW51bGw7dmFyIHQ9ci51dGlsLmNvcHkoZS5wYXJhbXMpfHx7fTtpZih0LlJvbGVBcm4mJih0LlJvbGVTZXNzaW9uTmFtZT10LlJvbGVTZXNzaW9uTmFtZXx8InRlbXBvcmFyeS1jcmVkZW50aWFscyIpLHQuU2VyaWFsTnVtYmVyKXtpZighZS50b2tlbkNvZGVGbnx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUudG9rZW5Db2RlRm4pdGhyb3cgbmV3IHIudXRpbC5lcnJvcihuZXcgRXJyb3IoInRva2VuQ29kZUZuIG11c3QgYmUgYSBmdW5jdGlvbiB3aGVuIHBhcmFtcy5TZXJpYWxOdW1iZXIgaXMgZ2l2ZW4iKSx7Y29kZTp0aGlzLmVycm9yQ29kZX0pO3RoaXMudG9rZW5Db2RlRm49ZS50b2tlbkNvZGVGbn12YXIgbj1yLnV0aWwubWVyZ2Uoe3BhcmFtczp0LGNyZWRlbnRpYWxzOmUubWFzdGVyQ3JlZGVudGlhbHN8fHIuY29uZmlnLmNyZWRlbnRpYWxzfSxlLnN0c0NvbmZpZ3x8e30pO3RoaXMuc2VydmljZT1uZXcgbyhuKX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10LnNlcnZpY2UuY29uZmlnLnBhcmFtcy5Sb2xlQXJuPyJhc3N1bWVSb2xlIjoiZ2V0U2Vzc2lvblRva2VuIjt0aGlzLmdldFRva2VuQ29kZSgoZnVuY3Rpb24ocixvKXt2YXIgaT17fTtyP2Uocik6KG8mJihpLlRva2VuQ29kZT1vKSx0LnNlcnZpY2Vbbl0oaSwoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKSl9KSl9LGdldFRva2VuQ29kZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudG9rZW5Db2RlRm4/dGhpcy50b2tlbkNvZGVGbih0aGlzLnNlcnZpY2UuY29uZmlnLnBhcmFtcy5TZXJpYWxOdW1iZXIsKGZ1bmN0aW9uKG4sbyl7aWYobil7dmFyIGk9bjtyZXR1cm4gbiBpbnN0YW5jZW9mIEVycm9yJiYoaT1uLm1lc3NhZ2UpLHZvaWQgZShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJFcnJvciBmZXRjaGluZyBNRkEgdG9rZW46ICIraSkse2NvZGU6dC5lcnJvckNvZGV9KSl9ZShudWxsLG8pfSkpOmUobnVsbCl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL2NvZ25pdG9pZGVudGl0eSIpLGk9ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2xvY2FsU3RvcmFnZUtleTp7aWQ6ImF3cy5jb2duaXRvLmlkZW50aXR5LWlkLiIscHJvdmlkZXJzOiJhd3MuY29nbml0by5pZGVudGl0eS1wcm92aWRlcnMuIn0sY29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWUsdGhpcy5kYXRhPW51bGwsdGhpcy5faWRlbnRpdHlJZD1udWxsLHRoaXMuX2NsaWVudENvbmZpZz1yLnV0aWwuY29weSh0fHx7fSksdGhpcy5sb2FkQ2FjaGVkSWQoKTt2YXIgbj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZGVudGl0eUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ubG9hZENhY2hlZElkKCksbi5faWRlbnRpdHlJZHx8bi5wYXJhbXMuSWRlbnRpdHlJZH0sc2V0OmZ1bmN0aW9uKGUpe24uX2lkZW50aXR5SWQ9ZX19KX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5kYXRhPW51bGwsdC5faWRlbnRpdHlJZD1udWxsLHQuZ2V0SWQoKGZ1bmN0aW9uKG4pe24/KHQuY2xlYXJJZE9uTm90QXV0aG9yaXplZChuKSxlKG4pKTp0LnBhcmFtcy5Sb2xlQXJuP3QuZ2V0Q3JlZGVudGlhbHNGcm9tU1RTKGUpOnQuZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eShlKX0pKX0sY2xlYXJDYWNoZWRJZDpmdW5jdGlvbigpe3RoaXMuX2lkZW50aXR5SWQ9bnVsbCxkZWxldGUgdGhpcy5wYXJhbXMuSWRlbnRpdHlJZDt2YXIgZT10aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCx0PXRoaXMucGFyYW1zLkxvZ2luSWR8fCIiO2RlbGV0ZSB0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXkuaWQrZSt0XSxkZWxldGUgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5LnByb3ZpZGVycytlK3RdfSxjbGVhcklkT25Ob3RBdXRob3JpemVkOmZ1bmN0aW9uKGUpeyJOb3RBdXRob3JpemVkRXhjZXB0aW9uIj09ZS5jb2RlJiZ0aGlzLmNsZWFyQ2FjaGVkSWQoKX0sZ2V0SWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigic3RyaW5nIj09dHlwZW9mIHQucGFyYW1zLklkZW50aXR5SWQpcmV0dXJuIGUobnVsbCx0LnBhcmFtcy5JZGVudGl0eUlkKTt0LmNvZ25pdG8uZ2V0SWQoKGZ1bmN0aW9uKG4scil7IW4mJnIuSWRlbnRpdHlJZD8odC5wYXJhbXMuSWRlbnRpdHlJZD1yLklkZW50aXR5SWQsZShudWxsLHIuSWRlbnRpdHlJZCkpOmUobil9KSl9LGxvYWRDcmVkZW50aWFsczpmdW5jdGlvbihlLHQpe2UmJnQmJih0LmV4cGlyZWQ9ITEsdC5hY2Nlc3NLZXlJZD1lLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLHQuc2VjcmV0QWNjZXNzS2V5PWUuQ3JlZGVudGlhbHMuU2VjcmV0S2V5LHQuc2Vzc2lvblRva2VuPWUuQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLHQuZXhwaXJlVGltZT1lLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24pfSxnZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jb2duaXRvLmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkoKGZ1bmN0aW9uKG4scil7bj90LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobik6KHQuY2FjaGVJZChyKSx0LmRhdGE9cix0LmxvYWRDcmVkZW50aWFscyh0LmRhdGEsdCkpLGUobil9KSl9LGdldENyZWRlbnRpYWxzRnJvbVNUUzpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29nbml0by5nZXRPcGVuSWRUb2tlbigoZnVuY3Rpb24obixyKXtuPyh0LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobiksZShuKSk6KHQuY2FjaGVJZChyKSx0LnBhcmFtcy5XZWJJZGVudGl0eVRva2VuPXIuVG9rZW4sdC53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLnJlZnJlc2goKGZ1bmN0aW9uKG4pe258fCh0LmRhdGE9dC53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLmRhdGEsdC5zdHMuY3JlZGVudGlhbHNGcm9tKHQuZGF0YSx0KSksZShuKX0pKSl9KSl9LGxvYWRDYWNoZWRJZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoci51dGlsLmlzQnJvd3NlcigpJiYhZS5wYXJhbXMuSWRlbnRpdHlJZCl7dmFyIHQ9ZS5nZXRTdG9yYWdlKCJpZCIpO2lmKHQmJmUucGFyYW1zLkxvZ2lucyl7dmFyIG49T2JqZWN0LmtleXMoZS5wYXJhbXMuTG9naW5zKTswIT09KGUuZ2V0U3RvcmFnZSgicHJvdmlkZXJzIil8fCIiKS5zcGxpdCgiLCIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1uLmluZGV4T2YoZSl9KSkubGVuZ3RoJiYoZS5wYXJhbXMuSWRlbnRpdHlJZD10KX1lbHNlIHQmJihlLnBhcmFtcy5JZGVudGl0eUlkPXQpfX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NsaWVudENvbmZpZztpZih0aGlzLndlYklkZW50aXR5Q3JlZGVudGlhbHM9dGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzfHxuZXcgci5XZWJJZGVudGl0eUNyZWRlbnRpYWxzKHRoaXMucGFyYW1zLGUpLCF0aGlzLmNvZ25pdG8pe3ZhciB0PXIudXRpbC5tZXJnZSh7fSxlKTt0LnBhcmFtcz10aGlzLnBhcmFtcyx0aGlzLmNvZ25pdG89bmV3IG8odCl9dGhpcy5zdHM9dGhpcy5zdHN8fG5ldyBpKGUpfSxjYWNoZUlkOmZ1bmN0aW9uKGUpe3RoaXMuX2lkZW50aXR5SWQ9ZS5JZGVudGl0eUlkLHRoaXMucGFyYW1zLklkZW50aXR5SWQ9dGhpcy5faWRlbnRpdHlJZCxyLnV0aWwuaXNCcm93c2VyKCkmJih0aGlzLnNldFN0b3JhZ2UoImlkIixlLklkZW50aXR5SWQpLHRoaXMucGFyYW1zLkxvZ2lucyYmdGhpcy5zZXRTdG9yYWdlKCJwcm92aWRlcnMiLE9iamVjdC5rZXlzKHRoaXMucGFyYW1zLkxvZ2lucykuam9pbigiLCIpKSl9LGdldFN0b3JhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleVtlXSt0aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCsodGhpcy5wYXJhbXMuTG9naW5JZHx8IiIpXX0sc2V0U3RvcmFnZTpmdW5jdGlvbihlLHQpe3RyeXt0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXlbZV0rdGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQrKHRoaXMucGFyYW1zLkxvZ2luSWR8fCIiKV09dH1jYXRjaChlKXt9fSxzdG9yYWdlOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIudXRpbC5pc0Jyb3dzZXIoKSYmbnVsbCE9PXdpbmRvdy5sb2NhbFN0b3JhZ2UmJiJvYmplY3QiPT10eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZT93aW5kb3cubG9jYWxTdG9yYWdlOnt9O3JldHVybiBlWyJhd3MudGVzdC1zdG9yYWdlIl09ImZvb2JhciIsZGVsZXRlIGVbImF3cy50ZXN0LXN0b3JhZ2UiXSxlfWNhdGNoKGUpe3JldHVybnt9fX0oKX0pfSx7Ii4uLy4uL2NsaWVudHMvY29nbml0b2lkZW50aXR5Ijo3LCIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKTtyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucHJvdmlkZXJzPWV8fHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycy5zbGljZSgwKSx0aGlzLnJlc29sdmVDYWxsYmFja3M9W119LHJlc29sdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigwPT09dC5wcm92aWRlcnMubGVuZ3RoKXJldHVybiBlKG5ldyBFcnJvcigiTm8gcHJvdmlkZXJzIikpLHQ7aWYoMT09PXQucmVzb2x2ZUNhbGxiYWNrcy5wdXNoKGUpKXt2YXIgbj0wLG89dC5wcm92aWRlcnMuc2xpY2UoMCk7IWZ1bmN0aW9uIGUoaSxzKXtpZighaSYmc3x8bj09PW8ubGVuZ3RoKXJldHVybiByLnV0aWwuYXJyYXlFYWNoKHQucmVzb2x2ZUNhbGxiYWNrcywoZnVuY3Rpb24oZSl7ZShpLHMpfSkpLHZvaWQodC5yZXNvbHZlQ2FsbGJhY2tzLmxlbmd0aD0wKTt2YXIgYT1vW24rK107KHM9ImZ1bmN0aW9uIj09dHlwZW9mIGE/YS5jYWxsKCk6YSkuZ2V0P3MuZ2V0KChmdW5jdGlvbih0KXtlKHQsdD9udWxsOnMpfSkpOmUobnVsbCxzKX0oKX1yZXR1cm4gdH19KSxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlZmF1bHRQcm92aWRlcnM9W10sci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5hZGRQcm9taXNlc1RvQ2xhc3M9ZnVuY3Rpb24oZSl7dGhpcy5wcm90b3R5cGUucmVzb2x2ZVByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgicmVzb2x2ZSIsZSl9LHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3M9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcm90b3R5cGUucmVzb2x2ZVByb21pc2V9LHIudXRpbC5hZGRQcm9taXNlcyhyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluKX0seyIuLi9jb3JlIjoxOX1dLDI0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLlNBTUxDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWV9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQuc2VydmljZS5hc3N1bWVSb2xlV2l0aFNBTUwoKGZ1bmN0aW9uKG4scil7bnx8dC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpLGUobil9KSl9LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXt0aGlzLnNlcnZpY2U9dGhpcy5zZXJ2aWNlfHxuZXcgbyh7cGFyYW1zOnRoaXMucGFyYW1zfSl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuVGVtcG9yYXJ5Q3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5sb2FkTWFzdGVyQ3JlZGVudGlhbHModCksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWV8fHt9LHRoaXMucGFyYW1zLlJvbGVBcm4mJih0aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWU9dGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lfHwidGVtcG9yYXJ5LWNyZWRlbnRpYWxzIil9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQubWFzdGVyQ3JlZGVudGlhbHMuZ2V0KChmdW5jdGlvbigpe3Quc2VydmljZS5jb25maWcuY3JlZGVudGlhbHM9dC5tYXN0ZXJDcmVkZW50aWFscywodC5wYXJhbXMuUm9sZUFybj90LnNlcnZpY2UuYXNzdW1lUm9sZTp0LnNlcnZpY2UuZ2V0U2Vzc2lvblRva2VuKS5jYWxsKHQuc2VydmljZSwoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKX0pKX0sbG9hZE1hc3RlckNyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe2Zvcih0aGlzLm1hc3RlckNyZWRlbnRpYWxzPWV8fHIuY29uZmlnLmNyZWRlbnRpYWxzO3RoaXMubWFzdGVyQ3JlZGVudGlhbHMubWFzdGVyQ3JlZGVudGlhbHM7KXRoaXMubWFzdGVyQ3JlZGVudGlhbHM9dGhpcy5tYXN0ZXJDcmVkZW50aWFscy5tYXN0ZXJDcmVkZW50aWFsczsiZnVuY3Rpb24iIT10eXBlb2YgdGhpcy5tYXN0ZXJDcmVkZW50aWFscy5nZXQmJih0aGlzLm1hc3RlckNyZWRlbnRpYWxzPW5ldyByLkNyZWRlbnRpYWxzKHRoaXMubWFzdGVyQ3JlZGVudGlhbHMpKX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3RoaXMuc2VydmljZT10aGlzLnNlcnZpY2V8fG5ldyBvKHtwYXJhbXM6dGhpcy5wYXJhbXN9KX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5XZWJJZGVudGl0eUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lLHRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZT10aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWV8fCJ3ZWItaWRlbnRpdHkiLHRoaXMuZGF0YT1udWxsLHRoaXMuX2NsaWVudENvbmZpZz1yLnV0aWwuY29weSh0fHx7fSl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5jb2FsZXNjZVJlZnJlc2goZXx8ci51dGlsLmZuLmNhbGxiYWNrKX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3JlYXRlQ2xpZW50cygpLHQuc2VydmljZS5hc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5KChmdW5jdGlvbihuLHIpe3QuZGF0YT1udWxsLG58fCh0LmRhdGE9cix0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCkpLGUobil9KSl9LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXtpZighdGhpcy5zZXJ2aWNlKXt2YXIgZT1yLnV0aWwubWVyZ2Uoe30sdGhpcy5fY2xpZW50Q29uZmlnKTtlLnBhcmFtcz10aGlzLnBhcmFtcyx0aGlzLnNlcnZpY2U9bmV3IG8oZSl9fX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDI3OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciByPWUoIi4vY29yZSIpLG89ZSgiLi91dGlsIiksaT1bIkFXU19FTkFCTEVfRU5EUE9JTlRfRElTQ09WRVJZIiwiQVdTX0VORFBPSU5UX0RJU0NPVkVSWV9FTkFCTEVEIl07ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmFwaXx8e30scj0obi5vcGVyYXRpb25zLHt9KTtyZXR1cm4gdC5jb25maWcucmVnaW9uJiYoci5yZWdpb249dC5jb25maWcucmVnaW9uKSxuLnNlcnZpY2VJZCYmKHIuc2VydmljZUlkPW4uc2VydmljZUlkKSx0LmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCYmKHIuYWNjZXNzS2V5SWQ9dC5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpLHJ9ZnVuY3Rpb24gYShlLHQsbil7biYmbnVsbCE9dCYmInN0cnVjdHVyZSI9PT1uLnR5cGUmJm4ucmVxdWlyZWQmJm4ucmVxdWlyZWQubGVuZ3RoPjAmJm8uYXJyYXlFYWNoKG4ucmVxdWlyZWQsKGZ1bmN0aW9uKHIpe3ZhciBvPW4ubWVtYmVyc1tyXTtpZighMD09PW8uZW5kcG9pbnREaXNjb3ZlcnlJZCl7dmFyIGk9by5pc0xvY2F0aW9uTmFtZT9vLm5hbWU6cjtlW2ldPVN0cmluZyh0W3JdKX1lbHNlIGEoZSx0W3JdLG8pfSkpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fTtyZXR1cm4gYShuLGUucGFyYW1zLHQpLG59ZnVuY3Rpb24gdShlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmFwaSxpPW4ub3BlcmF0aW9ucz9uLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dOnZvaWQgMCxhPWMoZSxpP2kuaW5wdXQ6dm9pZCAwKSx1PXMoZSk7T2JqZWN0LmtleXMoYSkubGVuZ3RoPjAmJih1PW8udXBkYXRlKHUsYSksaSYmKHUub3BlcmF0aW9uPWkubmFtZSkpO3ZhciBsPXIuZW5kcG9pbnRDYWNoZS5nZXQodSk7aWYoIWx8fDEhPT1sLmxlbmd0aHx8IiIhPT1sWzBdLkFkZHJlc3MpaWYobCYmbC5sZW5ndGg+MCllLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGxbMF0uQWRkcmVzcyk7ZWxzZXt2YXIgcD10Lm1ha2VSZXF1ZXN0KG4uZW5kcG9pbnRPcGVyYXRpb24se09wZXJhdGlvbjppLm5hbWUsSWRlbnRpZmllcnM6YX0pO2QocCkscC5yZW1vdmVMaXN0ZW5lcigidmFsaWRhdGUiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9QQVJBTUVURVJTKSxwLnJlbW92ZUxpc3RlbmVyKCJyZXRyeSIsci5FdmVudExpc3RlbmVycy5Db3JlLlJFVFJZX0NIRUNLKSxyLmVuZHBvaW50Q2FjaGUucHV0KHUsW3tBZGRyZXNzOiIiLENhY2hlUGVyaW9kSW5NaW51dGVzOjF9XSkscC5zZW5kKChmdW5jdGlvbihlLHQpe3QmJnQuRW5kcG9pbnRzP3IuZW5kcG9pbnRDYWNoZS5wdXQodSx0LkVuZHBvaW50cyk6ZSYmci5lbmRwb2ludENhY2hlLnB1dCh1LFt7QWRkcmVzczoiIixDYWNoZVBlcmlvZEluTWludXRlczoxfV0pfSkpfX12YXIgbD17fTtmdW5jdGlvbiBwKGUsdCl7dmFyIG49ZS5zZXJ2aWNlLGk9bi5hcGksYT1pLm9wZXJhdGlvbnM/aS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTp2b2lkIDAsdT1hP2EuaW5wdXQ6dm9pZCAwLHA9YyhlLHUpLGg9cyhlKTtPYmplY3Qua2V5cyhwKS5sZW5ndGg+MCYmKGg9by51cGRhdGUoaCxwKSxhJiYoaC5vcGVyYXRpb249YS5uYW1lKSk7dmFyIGc9ci5FbmRwb2ludENhY2hlLmdldEtleVN0cmluZyhoKSxmPXIuZW5kcG9pbnRDYWNoZS5nZXQoZyk7aWYoZiYmMT09PWYubGVuZ3RoJiYiIj09PWZbMF0uQWRkcmVzcylyZXR1cm4gbFtnXXx8KGxbZ109W10pLHZvaWQgbFtnXS5wdXNoKHtyZXF1ZXN0OmUsY2FsbGJhY2s6dH0pO2lmKGYmJmYubGVuZ3RoPjApZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChmWzBdLkFkZHJlc3MpLHQoKTtlbHNle3ZhciBtPW4ubWFrZVJlcXVlc3QoaS5lbmRwb2ludE9wZXJhdGlvbix7T3BlcmF0aW9uOmEubmFtZSxJZGVudGlmaWVyczpwfSk7bS5yZW1vdmVMaXN0ZW5lcigidmFsaWRhdGUiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9QQVJBTUVURVJTKSxkKG0pLHIuZW5kcG9pbnRDYWNoZS5wdXQoZyxbe0FkZHJlc3M6IiIsQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6NjB9XSksbS5zZW5kKChmdW5jdGlvbihuLGkpe2lmKG4pe2lmKGUucmVzcG9uc2UuZXJyb3I9by5lcnJvcihuLHtyZXRyeWFibGU6ITF9KSxyLmVuZHBvaW50Q2FjaGUucmVtb3ZlKGgpLGxbZ10pe3ZhciBzPWxbZ107by5hcnJheUVhY2gocywoZnVuY3Rpb24oZSl7ZS5yZXF1ZXN0LnJlc3BvbnNlLmVycm9yPW8uZXJyb3Iobix7cmV0cnlhYmxlOiExfSksZS5jYWxsYmFjaygpfSkpLGRlbGV0ZSBsW2ddfX1lbHNlIGkmJihyLmVuZHBvaW50Q2FjaGUucHV0KGcsaS5FbmRwb2ludHMpLGUuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoaS5FbmRwb2ludHNbMF0uQWRkcmVzcyksbFtnXSkmJihzPWxbZ10sby5hcnJheUVhY2gocywoZnVuY3Rpb24oZSl7ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGkuRW5kcG9pbnRzWzBdLkFkZHJlc3MpLGUuY2FsbGJhY2soKX0pKSxkZWxldGUgbFtnXSk7dCgpfSkpfX1mdW5jdGlvbiBkKGUpe3ZhciB0PWUuc2VydmljZS5hcGkuYXBpVmVyc2lvbjt0JiYhZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1hcGktdmVyc2lvbiJdJiYoZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJ4LWFtei1hcGktdmVyc2lvbiJdPXQpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5lcnJvcixuPWUuaHR0cFJlc3BvbnNlO2lmKHQmJigiSW52YWxpZEVuZHBvaW50RXhjZXB0aW9uIj09PXQuY29kZXx8NDIxPT09bi5zdGF0dXNDb2RlKSl7dmFyIGk9ZS5yZXF1ZXN0LGE9aS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSx1PWMoaSxhW2kub3BlcmF0aW9uXT9hW2kub3BlcmF0aW9uXS5pbnB1dDp2b2lkIDApLGw9cyhpKTtPYmplY3Qua2V5cyh1KS5sZW5ndGg+MCYmKGw9by51cGRhdGUobCx1KSxhW2kub3BlcmF0aW9uXSYmKGwub3BlcmF0aW9uPWFbaS5vcGVyYXRpb25dLm5hbWUpKSxyLmVuZHBvaW50Q2FjaGUucmVtb3ZlKGwpfX1mdW5jdGlvbiBnKGUpe3JldHVyblsiZmFsc2UiLCIwIl0uaW5kZXhPZihlKT49MH10LmV4cG9ydHM9e2Rpc2NvdmVyRW5kcG9pbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgcz1lLnNlcnZpY2V8fHt9O2lmKGZ1bmN0aW9uKGUpe2lmKGUuX29yaWdpbmFsQ29uZmlnJiZlLl9vcmlnaW5hbENvbmZpZy5lbmRwb2ludCYmITA9PT1lLl9vcmlnaW5hbENvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQpdGhyb3cgby5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6IkN1c3RvbSBlbmRwb2ludCBpcyBzdXBwbGllZDsgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkIG11c3Qgbm90IGJlIHRydWUuIn0pO3ZhciB0PXIuY29uZmlnW2Uuc2VydmljZUlkZW50aWZpZXJdfHx7fTtyZXR1cm4gQm9vbGVhbihyLmNvbmZpZy5lbmRwb2ludHx8dC5lbmRwb2ludHx8ZS5fb3JpZ2luYWxDb25maWcmJmUuX29yaWdpbmFsQ29uZmlnLmVuZHBvaW50KX0ocyl8fGUuaXNQcmVzaWduZWQoKSlyZXR1cm4gdCgpO3ZhciBhPShzLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dLGM9YT9hLmVuZHBvaW50RGlzY292ZXJ5UmVxdWlyZWQ6Ik5VTEwiLGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlfHx7fTtpZih2b2lkIDAhPT10LmNvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQpcmV0dXJuIHQuY29uZmlnLmVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZDtpZighby5pc0Jyb3dzZXIoKSl7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBhPWlbc107aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4uZW52LGEpKXtpZigiIj09PW4uZW52W2FdfHx2b2lkIDA9PT1uLmVudlthXSl0aHJvdyBvLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiZW52aXJvbm1lbnRhbCB2YXJpYWJsZSAiK2ErIiBjYW5ub3QgYmUgc2V0IHRvIG5vdGhpbmcifSk7cmV0dXJuIWcobi5lbnZbYV0pfX12YXIgYz17fTt0cnl7Yz1yLnV0aWwuaW5pTG9hZGVyP3IudXRpbC5pbmlMb2FkZXIubG9hZEZyb20oe2lzQ29uZmlnOiEwLGZpbGVuYW1lOm4uZW52W3IudXRpbC5zaGFyZWRDb25maWdGaWxlRW52XX0pOnt9fWNhdGNoKGUpe312YXIgdT1jW24uZW52LkFXU19QUk9GSUxFfHxyLnV0aWwuZGVmYXVsdFByb2ZpbGVdfHx7fTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSwiZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQiKSl7aWYodm9pZCAwPT09dS5lbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCl0aHJvdyBvLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiY29uZmlnIGZpbGUgZW50cnkgJ2VuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkJyBjYW5ub3QgYmUgc2V0IHRvIG5vdGhpbmcifSk7cmV0dXJuIWcodS5lbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCl9fX0oZSksZD1zLmFwaS5oYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5O3N3aXRjaCgobHx8ZCkmJmUuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoImVuZHBvaW50LWRpc2NvdmVyeSIpLGMpe2Nhc2UiT1BUSU9OQUwiOihsfHxkKSYmKHUoZSksZS5hZGROYW1lZExpc3RlbmVyKCJJTlZBTElEQVRFX0NBQ0hFRF9FTkRQT0lOVFMiLCJleHRyYWN0RXJyb3IiLGgpKSx0KCk7YnJlYWs7Y2FzZSJSRVFVSVJFRCI6aWYoITE9PT1sKXtlLnJlc3BvbnNlLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJFbmRwb2ludCBEaXNjb3ZlcnkgaXMgZGlzYWJsZWQgYnV0ICIrcy5hcGkuY2xhc3NOYW1lKyIuIitlLm9wZXJhdGlvbisiKCkgcmVxdWlyZXMgaXQuIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb25zLiJ9KSx0KCk7YnJlYWt9ZS5hZGROYW1lZExpc3RlbmVyKCJJTlZBTElEQVRFX0NBQ0hFRF9FTkRQT0lOVFMiLCJleHRyYWN0RXJyb3IiLGgpLHAoZSx0KTticmVhaztkZWZhdWx0OnQoKX19LHJlcXVpcmVkRGlzY292ZXJFbmRwb2ludDpwLG9wdGlvbmFsRGlzY292ZXJFbmRwb2ludDp1LG1hcnNoYWxsQ3VzdG9tSWRlbnRpZmllcnM6YyxnZXRDYWNoZUtleTpzLGludmFsaWRhdGVDYWNoZWRFbmRwb2ludDpofX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi91dGlsIjo3NCxfcHJvY2Vzczo5MX1dLDI4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vZXZlbnQtc3RyZWFtL2V2ZW50LW1lc3NhZ2UtY2h1bmtlciIpLmV2ZW50TWVzc2FnZUNodW5rZXIsbz1lKCIuL3BhcnNlLWV2ZW50IikucGFyc2VFdmVudDt0LmV4cG9ydHM9e2NyZWF0ZUV2ZW50U3RyZWFtOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9cihlKSxzPVtdLGE9MDthPGkubGVuZ3RoO2ErKylzLnB1c2gobyh0LGlbYV0sbikpO3JldHVybiBzfX19LHsiLi4vZXZlbnQtc3RyZWFtL2V2ZW50LW1lc3NhZ2UtY2h1bmtlciI6MjksIi4vcGFyc2UtZXZlbnQiOjMxfV0sMjk6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2V2ZW50TWVzc2FnZUNodW5rZXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoOyl7dmFyIHI9ZS5yZWFkSW50MzJCRShuKSxvPWUuc2xpY2UobixyK24pO24rPXIsdC5wdXNoKG8pfXJldHVybiB0fX19LHt9XSwzMDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKS51dGlsLG89ci5idWZmZXIudG9CdWZmZXI7ZnVuY3Rpb24gaShlKXtpZig4IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnQ2NCBidWZmZXJzIG11c3QgYmUgZXhhY3RseSA4IGJ5dGVzIik7ci5CdWZmZXIuaXNCdWZmZXIoZSl8fChlPW8oZSkpLHRoaXMuYnl0ZXM9ZX1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD0wO3Q8ODt0KyspZVt0XV49MjU1O2Zvcih0PTc7dD4tMSYmKGVbdF0rKywwPT09ZVt0XSk7dC0tKTt9aS5mcm9tTnVtYmVyPWZ1bmN0aW9uKGUpe2lmKGU+MHg4MDAwMDAwMDAwMDAwMDAwfHxlPC0weDgwMDAwMDAwMDAwMDAwMDApdGhyb3cgbmV3IEVycm9yKGUrIiBpcyB0b28gbGFyZ2UgKG9yLCBpZiBuZWdhdGl2ZSwgdG9vIHNtYWxsKSB0byByZXByZXNlbnQgYXMgYW4gSW50NjQiKTtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoOCksbj03LHI9TWF0aC5hYnMoTWF0aC5yb3VuZChlKSk7bj4tMSYmcj4wO24tLSxyLz0yNTYpdFtuXT1yO3JldHVybiBlPDAmJnModCksbmV3IGkodCl9LGkucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJ5dGVzLnNsaWNlKDApLHQ9MTI4JmVbMF07cmV0dXJuIHQmJnMoZSkscGFyc2VJbnQoZS50b1N0cmluZygiaGV4IiksMTYpKih0Py0xOjEpfSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBTdHJpbmcodGhpcy52YWx1ZU9mKCkpfSx0LmV4cG9ydHM9e0ludDY0Oml9fSx7Ii4uL2NvcmUiOjE5fV0sMzE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL3BhcnNlLW1lc3NhZ2UiKS5wYXJzZU1lc3NhZ2U7dC5leHBvcnRzPXtwYXJzZUV2ZW50OmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yKHQpLGk9by5oZWFkZXJzWyI6bWVzc2FnZS10eXBlIl07aWYoaSl7aWYoImVycm9yIj09PWkudmFsdWUpdGhyb3cgZnVuY3Rpb24oZSl7dmFyIHQ9ZS5oZWFkZXJzWyI6ZXJyb3ItY29kZSJdLG49ZS5oZWFkZXJzWyI6ZXJyb3ItbWVzc2FnZSJdLHI9bmV3IEVycm9yKG4udmFsdWV8fG4pO3JldHVybiByLmNvZGU9ci5uYW1lPXQudmFsdWV8fHQscn0obyk7aWYoImV2ZW50IiE9PWkudmFsdWUpcmV0dXJufXZhciBzPW8uaGVhZGVyc1siOmV2ZW50LXR5cGUiXSxhPW4ubWVtYmVyc1tzLnZhbHVlXTtpZihhKXt2YXIgYz17fSx1PWEuZXZlbnRQYXlsb2FkTWVtYmVyTmFtZTtpZih1KXt2YXIgbD1hLm1lbWJlcnNbdV07ImJpbmFyeSI9PT1sLnR5cGU/Y1t1XT1vLmJvZHk6Y1t1XT1lLnBhcnNlKG8uYm9keS50b1N0cmluZygpLGwpfWZvcih2YXIgcD1hLmV2ZW50SGVhZGVyTWVtYmVyTmFtZXMsZD0wO2Q8cC5sZW5ndGg7ZCsrKXt2YXIgaD1wW2RdO28uaGVhZGVyc1toXSYmKGNbaF09YS5tZW1iZXJzW2hdLnRvVHlwZShvLmhlYWRlcnNbaF0udmFsdWUpKX12YXIgZz17fTtyZXR1cm4gZ1tzLnZhbHVlXT1jLGd9fX19LHsiLi9wYXJzZS1tZXNzYWdlIjozMn1dLDMyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9pbnQ2NCIpLkludDY0LG89ZSgiLi9zcGxpdC1tZXNzYWdlIikuc3BsaXRNZXNzYWdlLGk9ImJvb2xlYW4iO2Z1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoOyl7dmFyIG89ZS5yZWFkVUludDgobisrKSxzPWUuc2xpY2UobixuK28pLnRvU3RyaW5nKCk7c3dpdGNoKG4rPW8sZS5yZWFkVUludDgobisrKSl7Y2FzZSAwOnRbc109e3R5cGU6aSx2YWx1ZTohMH07YnJlYWs7Y2FzZSAxOnRbc109e3R5cGU6aSx2YWx1ZTohMX07YnJlYWs7Y2FzZSAyOnRbc109e3R5cGU6ImJ5dGUiLHZhbHVlOmUucmVhZEludDgobisrKX07YnJlYWs7Y2FzZSAzOnRbc109e3R5cGU6InNob3J0Iix2YWx1ZTplLnJlYWRJbnQxNkJFKG4pfSxuKz0yO2JyZWFrO2Nhc2UgNDp0W3NdPXt0eXBlOiJpbnRlZ2VyIix2YWx1ZTplLnJlYWRJbnQzMkJFKG4pfSxuKz00O2JyZWFrO2Nhc2UgNTp0W3NdPXt0eXBlOiJsb25nIix2YWx1ZTpuZXcgcihlLnNsaWNlKG4sbis4KSl9LG4rPTg7YnJlYWs7Y2FzZSA2OnZhciBhPWUucmVhZFVJbnQxNkJFKG4pO24rPTIsdFtzXT17dHlwZToiYmluYXJ5Iix2YWx1ZTplLnNsaWNlKG4sbithKX0sbis9YTticmVhaztjYXNlIDc6dmFyIGM9ZS5yZWFkVUludDE2QkUobik7bis9Mix0W3NdPXt0eXBlOiJzdHJpbmciLHZhbHVlOmUuc2xpY2UobixuK2MpLnRvU3RyaW5nKCl9LG4rPWM7YnJlYWs7Y2FzZSA4OnRbc109e3R5cGU6InRpbWVzdGFtcCIsdmFsdWU6bmV3IERhdGUobmV3IHIoZS5zbGljZShuLG4rOCkpLnZhbHVlT2YoKSl9LG4rPTg7YnJlYWs7Y2FzZSA5OnZhciB1PWUuc2xpY2UobixuKzE2KS50b1N0cmluZygiaGV4Iik7bis9MTYsdFtzXT17dHlwZToidXVpZCIsdmFsdWU6dS5zdWJzdHIoMCw4KSsiLSIrdS5zdWJzdHIoOCw0KSsiLSIrdS5zdWJzdHIoMTIsNCkrIi0iK3Uuc3Vic3RyKDE2LDQpKyItIit1LnN1YnN0cigyMCl9O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgaGVhZGVyIHR5cGUgdGFnIil9fXJldHVybiB0fXQuZXhwb3J0cz17cGFyc2VNZXNzYWdlOmZ1bmN0aW9uKGUpe3ZhciB0PW8oZSk7cmV0dXJue2hlYWRlcnM6cyh0LmhlYWRlcnMpLGJvZHk6dC5ib2R5fX19fSx7Ii4vaW50NjQiOjMwLCIuL3NwbGl0LW1lc3NhZ2UiOjMzfV0sMzM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIikudXRpbCxvPXIuYnVmZmVyLnRvQnVmZmVyO3QuZXhwb3J0cz17c3BsaXRNZXNzYWdlOmZ1bmN0aW9uKGUpe2lmKHIuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1vKGUpKSxlLmxlbmd0aDwxNil0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVkIG1lc3NhZ2UgdG9vIHNob3J0IHRvIGFjY29tbW9kYXRlIGV2ZW50IHN0cmVhbSBtZXNzYWdlIG92ZXJoZWFkIik7aWYoZS5sZW5ndGghPT1lLnJlYWRVSW50MzJCRSgwKSl0aHJvdyBuZXcgRXJyb3IoIlJlcG9ydGVkIG1lc3NhZ2UgbGVuZ3RoIGRvZXMgbm90IG1hdGNoIHJlY2VpdmVkIG1lc3NhZ2UgbGVuZ3RoIik7dmFyIHQ9ZS5yZWFkVUludDMyQkUoOCk7aWYodCE9PXIuY3J5cHRvLmNyYzMyKGUuc2xpY2UoMCw4KSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJlbHVkZSBjaGVja3N1bSBzcGVjaWZpZWQgaW4gdGhlIG1lc3NhZ2UgKCIrdCsiKSBkb2VzIG5vdCBtYXRjaCB0aGUgY2FsY3VsYXRlZCBDUkMzMiBjaGVja3N1bS4iKTt2YXIgbj1lLnJlYWRVSW50MzJCRShlLmxlbmd0aC00KTtpZihuIT09ci5jcnlwdG8uY3JjMzIoZS5zbGljZSgwLGUubGVuZ3RoLTQpKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBtZXNzYWdlIGNoZWNrc3VtIGRpZCBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHZhbHVlIG9mICIrbik7dmFyIGk9MTIrZS5yZWFkVUludDMyQkUoNCk7cmV0dXJue2hlYWRlcnM6ZS5zbGljZSgxMixpKSxib2R5OmUuc2xpY2UoaSxlLmxlbmd0aC00KX19fX0seyIuLi9jb3JlIjoxOX1dLDM0OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciBuPWUoIi4vY29yZSIpLHI9ZSgiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIiksbz1lKCIuL2Rpc2NvdmVyX2VuZHBvaW50IikuZGlzY292ZXJFbmRwb2ludDtmdW5jdGlvbiBpKGUpe2lmKCFlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpcmV0dXJuIiI7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtyZXR1cm4gdD90LmF1dGh0eXBlOiIifWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5zZXJ2aWNlO3JldHVybiB0LmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uP3QuY29uZmlnLnNpZ25hdHVyZVZlcnNpb246dC5hcGkuc2lnbmF0dXJlVmVyc2lvbj90LmFwaS5zaWduYXR1cmVWZXJzaW9uOmkoZSl9bi5FdmVudExpc3RlbmVycz17Q29yZTp7fX0sbi5FdmVudExpc3RlbmVycz17Q29yZToobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlLHIpe3IoIlZBTElEQVRFX0NSRURFTlRJQUxTIiwidmFsaWRhdGUiLChmdW5jdGlvbihlLHQpe2lmKCFlLnNlcnZpY2UuYXBpLnNpZ25hdHVyZVZlcnNpb24mJiFlLnNlcnZpY2UuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24pcmV0dXJuIHQoKTsiYmVhcmVyIiE9PXMoZSk/ZS5zZXJ2aWNlLmNvbmZpZy5nZXRDcmVkZW50aWFscygoZnVuY3Rpb24ocil7ciYmKGUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKHIse2NvZGU6IkNyZWRlbnRpYWxzRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgY3JlZGVudGlhbHMgaW4gY29uZmlnLCBpZiB1c2luZyBBV1NfQ09ORklHX0ZJTEUsIHNldCBBV1NfU0RLX0xPQURfQ09ORklHPTEifSkpLHQoKX0pKTplLnNlcnZpY2UuY29uZmlnLmdldFRva2VuKChmdW5jdGlvbihyKXtyJiYoZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3Iocix7Y29kZToiVG9rZW5FcnJvciJ9KSksdCgpfSkpfSkpLGUoIlZBTElEQVRFX1JFR0lPTiIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSl7aWYoIWUuc2VydmljZS5pc0dsb2JhbEVuZHBvaW50KXt2YXIgdD1uZXcgUmVnRXhwKC9eKFthLXpBLVowLTldfFthLXpBLVowLTldW2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pJC8pO2Uuc2VydmljZS5jb25maWcucmVnaW9uP3QudGVzdChlLnNlcnZpY2UuY29uZmlnLnJlZ2lvbil8fChlLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ0Vycm9yIixtZXNzYWdlOiJJbnZhbGlkIHJlZ2lvbiBpbiBjb25maWcifSkpOmUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyJ9KX19KSksZSgiQlVJTERfSURFTVBPVEVOQ1lfVE9LRU5TIiwidmFsaWRhdGUiLChmdW5jdGlvbihlKXtpZihlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07aWYodCl7dmFyIHI9dC5pZGVtcG90ZW50TWVtYmVycztpZihyLmxlbmd0aCl7Zm9yKHZhciBvPW4udXRpbC5jb3B5KGUucGFyYW1zKSxpPTAscz1yLmxlbmd0aDtpPHM7aSsrKW9bcltpXV18fChvW3JbaV1dPW4udXRpbC51dWlkLnY0KCkpO2UucGFyYW1zPW99fX19KSksZSgiVkFMSURBVEVfUEFSQU1FVEVSUyIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSl7aWYoZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0LHI9ZS5zZXJ2aWNlLmNvbmZpZy5wYXJhbVZhbGlkYXRpb247bmV3IG4uUGFyYW1WYWxpZGF0b3IocikudmFsaWRhdGUodCxlLnBhcmFtcyl9fSkpLGUoIkNPTVBVVEVfQ0hFQ0tTVU0iLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7aWYoZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO2lmKHQpe3ZhciByPWUuaHR0cFJlcXVlc3QuYm9keSxvPXImJihuLnV0aWwuQnVmZmVyLmlzQnVmZmVyKHIpfHwic3RyaW5nIj09dHlwZW9mIHIpLGk9ZS5odHRwUmVxdWVzdC5oZWFkZXJzO2lmKHQuaHR0cENoZWNrc3VtUmVxdWlyZWQmJmUuc2VydmljZS5jb25maWcuY29tcHV0ZUNoZWNrc3VtcyYmbyYmIWlbIkNvbnRlbnQtTUQ1Il0pe3ZhciBzPW4udXRpbC5jcnlwdG8ubWQ1KHIsImJhc2U2NCIpO2lbIkNvbnRlbnQtTUQ1Il09c319fX0pKSxyKCJDT01QVVRFX1NIQTI1NiIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlLHQpe2lmKGUuaGFsdEhhbmRsZXJzT25FcnJvcigpLGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHI9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxvPXI/ci5hdXRodHlwZToiIjtpZighZS5zZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uJiYhbyYmIWUuc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbilyZXR1cm4gdCgpO2lmKGUuc2VydmljZS5nZXRTaWduZXJDbGFzcyhlKT09PW4uU2lnbmVycy5WNCl7dmFyIGk9ZS5odHRwUmVxdWVzdC5ib2R5fHwiIjtpZihvLmluZGV4T2YoInVuc2lnbmVkLWJvZHkiKT49MClyZXR1cm4gZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJYLUFtei1Db250ZW50LVNoYTI1NiJdPSJVTlNJR05FRC1QQVlMT0FEIix0KCk7bi51dGlsLmNvbXB1dGVTaGEyNTYoaSwoZnVuY3Rpb24obixyKXtuP3Qobik6KGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT1yLHQoKSl9KSl9ZWxzZSB0KCl9fSkpLGUoIlNFVF9DT05URU5UX0xFTkdUSCIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXt2YXIgdD1pKGUpLHI9bi51dGlsLmdldFJlcXVlc3RQYXlsb2FkU2hhcGUoZSk7aWYodm9pZCAwPT09ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdKXRyeXt2YXIgbz1uLnV0aWwuc3RyaW5nLmJ5dGVMZW5ndGgoZS5odHRwUmVxdWVzdC5ib2R5KTtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl09b31jYXRjaChuKXtpZihyJiZyLmlzU3RyZWFtaW5nKXtpZihyLnJlcXVpcmVzTGVuZ3RoKXRocm93IG47aWYodC5pbmRleE9mKCJ1bnNpZ25lZC1ib2R5Iik+PTApcmV0dXJuIHZvaWQoZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJUcmFuc2Zlci1FbmNvZGluZyJdPSJjaHVua2VkIik7dGhyb3cgbn10aHJvdyBufX0pKSxlKCJTRVRfSFRUUF9IT1NUIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QuaGVhZGVycy5Ib3N0PWUuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdH0pKSxlKCJTRVRfVFJBQ0VfSUQiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7dmFyIHI9IlgtQW16bi1UcmFjZS1JZCI7aWYobi51dGlsLmlzTm9kZSgpJiYhT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZS5odHRwUmVxdWVzdC5oZWFkZXJzLHIpKXt2YXIgbz10LmVudi5BV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUUsaT10LmVudi5fWF9BTVpOX1RSQUNFX0lEOyJzdHJpbmciPT10eXBlb2YgbyYmby5sZW5ndGg+MCYmInN0cmluZyI9PXR5cGVvZiBpJiZpLmxlbmd0aD4wJiYoZS5odHRwUmVxdWVzdC5oZWFkZXJzW3JdPWkpfX0pKSxlKCJSRVNUQVJUIiwicmVzdGFydCIsKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXNwb25zZS5lcnJvcjtlJiZlLnJldHJ5YWJsZSYmKHRoaXMuaHR0cFJlcXVlc3Q9bmV3IG4uSHR0cFJlcXVlc3QodGhpcy5zZXJ2aWNlLmVuZHBvaW50LHRoaXMuc2VydmljZS5yZWdpb24pLHRoaXMucmVzcG9uc2UucmV0cnlDb3VudDx0aGlzLnNlcnZpY2UuY29uZmlnLm1heFJldHJpZXM/dGhpcy5yZXNwb25zZS5yZXRyeUNvdW50Kys6dGhpcy5yZXNwb25zZS5lcnJvcj1udWxsKX0pKSxyKCJESVNDT1ZFUl9FTkRQT0lOVCIsInNpZ24iLG8sITApLHIoIlNJR04iLCJzaWduIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNlcnZpY2Uscj1zKGUpO2lmKCFyfHwwPT09ci5sZW5ndGgpcmV0dXJuIHQoKTsiYmVhcmVyIj09PXI/bi5jb25maWcuZ2V0VG9rZW4oKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gZS5yZXNwb25zZS5lcnJvcj1yLHQoKTt0cnl7bmV3KG4uZ2V0U2lnbmVyQ2xhc3MoZSkpKGUuaHR0cFJlcXVlc3QpLmFkZEF1dGhvcml6YXRpb24obyl9Y2F0Y2godCl7ZS5yZXNwb25zZS5lcnJvcj10fXQoKX0pKTpuLmNvbmZpZy5nZXRDcmVkZW50aWFscygoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlLnJlc3BvbnNlLmVycm9yPXIsdCgpO3RyeXt2YXIgaT1uLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkscz1uLmdldFNpZ25lckNsYXNzKGUpLGE9KGUuc2VydmljZS5hcGkub3BlcmF0aW9uc3x8e30pW2Uub3BlcmF0aW9uXSxjPW5ldyBzKGUuaHR0cFJlcXVlc3Qsbi5nZXRTaWduaW5nTmFtZShlKSx7c2lnbmF0dXJlQ2FjaGU6bi5jb25maWcuc2lnbmF0dXJlQ2FjaGUsb3BlcmF0aW9uOmEsc2lnbmF0dXJlVmVyc2lvbjpuLmFwaS5zaWduYXR1cmVWZXJzaW9ufSk7Yy5zZXRTZXJ2aWNlQ2xpZW50SWQobi5fY2xpZW50SWQpLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbixkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzLkRhdGUsZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdLGMuYWRkQXV0aG9yaXphdGlvbihvLGkpLGUuc2lnbmVkQXQ9aX1jYXRjaCh0KXtlLnJlc3BvbnNlLmVycm9yPXR9dCgpfSkpfSkpLGUoIlZBTElEQVRFX1JFU1BPTlNFIiwidmFsaWRhdGVSZXNwb25zZSIsKGZ1bmN0aW9uKGUpe3RoaXMuc2VydmljZS5zdWNjZXNzZnVsUmVzcG9uc2UoZSx0aGlzKT8oZS5kYXRhPXt9LGUuZXJyb3I9bnVsbCk6KGUuZGF0YT1udWxsLGUuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiVW5rbm93bkVycm9yIixtZXNzYWdlOiJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLiJ9KSl9KSksZSgiRVJST1IiLCJlcnJvciIsKGZ1bmN0aW9uKGUsdCl7aWYodC5yZXF1ZXN0LnNlcnZpY2UuYXBpLmF3c1F1ZXJ5Q29tcGF0aWJsZSl7dmFyIG49dC5odHRwUmVzcG9uc2UuaGVhZGVycyxyPW4/blsieC1hbXpuLXF1ZXJ5LWVycm9yIl06dm9pZCAwO3ImJnIuaW5jbHVkZXMoIjsiKSYmKHQuZXJyb3IuY29kZT1yLnNwbGl0KCI7IilbMF0pfX0pLCEwKSxyKCJTRU5EIiwic2VuZCIsKGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihyKXtlLmh0dHBSZXNwb25zZS5zdHJlYW09cjt2YXIgbz1lLnJlcXVlc3QuaHR0cFJlcXVlc3Quc3RyZWFtLGk9ZS5yZXF1ZXN0LnNlcnZpY2Uscz1pLmFwaSxhPWUucmVxdWVzdC5vcGVyYXRpb24sYz1zLm9wZXJhdGlvbnNbYV18fHt9O3Iub24oImhlYWRlcnMiLChmdW5jdGlvbihvLHMsYSl7aWYoZS5yZXF1ZXN0LmVtaXQoImh0dHBIZWFkZXJzIixbbyxzLGUsYV0pLCFlLmh0dHBSZXNwb25zZS5zdHJlYW1pbmcpaWYoMj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbil7aWYoYy5oYXNFdmVudE91dHB1dCYmaS5zdWNjZXNzZnVsUmVzcG9uc2UoZSkpcmV0dXJuIGUucmVxdWVzdC5lbWl0KCJodHRwRG9uZSIpLHZvaWQgdCgpO3Iub24oInJlYWRhYmxlIiwoZnVuY3Rpb24oKXt2YXIgdD1yLnJlYWQoKTtudWxsIT09dCYmZS5yZXF1ZXN0LmVtaXQoImh0dHBEYXRhIixbdCxlXSl9KSl9ZWxzZSByLm9uKCJkYXRhIiwoZnVuY3Rpb24odCl7ZS5yZXF1ZXN0LmVtaXQoImh0dHBEYXRhIixbdCxlXSl9KSl9KSksci5vbigiZW5kIiwoZnVuY3Rpb24oKXtpZighb3x8IW8uZGlkQ2FsbGJhY2spe2lmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24mJmMuaGFzRXZlbnRPdXRwdXQmJmkuc3VjY2Vzc2Z1bFJlc3BvbnNlKGUpKXJldHVybjtlLnJlcXVlc3QuZW1pdCgiaHR0cERvbmUiKSx0KCl9fSkpfWZ1bmN0aW9uIG8ocil7aWYoIlJlcXVlc3RBYm9ydGVkRXJyb3IiIT09ci5jb2RlKXt2YXIgbz0iVGltZW91dEVycm9yIj09PXIuY29kZT9yLmNvZGU6Ik5ldHdvcmtpbmdFcnJvciI7cj1uLnV0aWwuZXJyb3Iocix7Y29kZTpvLHJlZ2lvbjplLnJlcXVlc3QuaHR0cFJlcXVlc3QucmVnaW9uLGhvc3RuYW1lOmUucmVxdWVzdC5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxyZXRyeWFibGU6ITB9KX1lLmVycm9yPXIsZS5yZXF1ZXN0LmVtaXQoImh0dHBFcnJvciIsW2UuZXJyb3IsZV0sKGZ1bmN0aW9uKCl7dCgpfSkpfWZ1bmN0aW9uIGkoKXt2YXIgdCxpPW4uSHR0cENsaWVudC5nZXRJbnN0YW5jZSgpLHM9ZS5yZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmh0dHBPcHRpb25zfHx7fTt0cnl7dmFyIGE9aS5oYW5kbGVSZXF1ZXN0KGUucmVxdWVzdC5odHRwUmVxdWVzdCxzLHIsbyk7KHQ9YSkub24oInNlbmRQcm9ncmVzcyIsKGZ1bmN0aW9uKHQpe2UucmVxdWVzdC5lbWl0KCJodHRwVXBsb2FkUHJvZ3Jlc3MiLFt0LGVdKX0pKSx0Lm9uKCJyZWNlaXZlUHJvZ3Jlc3MiLChmdW5jdGlvbih0KXtlLnJlcXVlc3QuZW1pdCgiaHR0cERvd25sb2FkUHJvZ3Jlc3MiLFt0LGVdKX0pKX1jYXRjaChlKXtvKGUpfX1lLmh0dHBSZXNwb25zZS5fYWJvcnRDYWxsYmFjaz10LGUuZXJyb3I9bnVsbCxlLmRhdGE9bnVsbCwoZS5yZXF1ZXN0LnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS10aGlzLnNpZ25lZEF0KS8xZTM+PTYwMD90aGlzLmVtaXQoInNpZ24iLFt0aGlzXSwoZnVuY3Rpb24oZSl7ZT90KGUpOmkoKX0pKTppKCl9KSksZSgiSFRUUF9IRUFERVJTIiwiaHR0cEhlYWRlcnMiLChmdW5jdGlvbihlLHQscixvKXtyLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlPWUsci5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZT1vLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnM9dCxyLmh0dHBSZXNwb25zZS5ib2R5PW4udXRpbC5idWZmZXIudG9CdWZmZXIoIiIpLHIuaHR0cFJlc3BvbnNlLmJ1ZmZlcnM9W10sci5odHRwUmVzcG9uc2UubnVtQnl0ZXM9MDt2YXIgaT10LmRhdGV8fHQuRGF0ZSxzPXIucmVxdWVzdC5zZXJ2aWNlO2lmKGkpe3ZhciBhPURhdGUucGFyc2UoaSk7cy5jb25maWcuY29ycmVjdENsb2NrU2tldyYmcy5pc0Nsb2NrU2tld2VkKGEpJiZzLmFwcGx5Q2xvY2tPZmZzZXQoYSl9fSkpLGUoIkhUVFBfREFUQSIsImh0dHBEYXRhIiwoZnVuY3Rpb24oZSx0KXtpZihlKXtpZihuLnV0aWwuaXNOb2RlKCkpe3QuaHR0cFJlc3BvbnNlLm51bUJ5dGVzKz1lLmxlbmd0aDt2YXIgcj10Lmh0dHBSZXNwb25zZS5oZWFkZXJzWyJjb250ZW50LWxlbmd0aCJdLG89e2xvYWRlZDp0Lmh0dHBSZXNwb25zZS5udW1CeXRlcyx0b3RhbDpyfTt0LnJlcXVlc3QuZW1pdCgiaHR0cERvd25sb2FkUHJvZ3Jlc3MiLFtvLHRdKX10Lmh0dHBSZXNwb25zZS5idWZmZXJzLnB1c2gobi51dGlsLmJ1ZmZlci50b0J1ZmZlcihlKSl9fSkpLGUoIkhUVFBfRE9ORSIsImh0dHBEb25lIiwoZnVuY3Rpb24oZSl7aWYoZS5odHRwUmVzcG9uc2UuYnVmZmVycyYmZS5odHRwUmVzcG9uc2UuYnVmZmVycy5sZW5ndGg+MCl7dmFyIHQ9bi51dGlsLmJ1ZmZlci5jb25jYXQoZS5odHRwUmVzcG9uc2UuYnVmZmVycyk7ZS5odHRwUmVzcG9uc2UuYm9keT10fWRlbGV0ZSBlLmh0dHBSZXNwb25zZS5udW1CeXRlcyxkZWxldGUgZS5odHRwUmVzcG9uc2UuYnVmZmVyc30pKSxlKCJGSU5BTElaRV9FUlJPUiIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKGUuZXJyb3Iuc3RhdHVzQ29kZT1lLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLHZvaWQgMD09PWUuZXJyb3IucmV0cnlhYmxlJiYoZS5lcnJvci5yZXRyeWFibGU9dGhpcy5zZXJ2aWNlLnJldHJ5YWJsZUVycm9yKGUuZXJyb3IsdGhpcykpKX0pKSxlKCJJTlZBTElEQVRFX0NSRURFTlRJQUxTIiwicmV0cnkiLChmdW5jdGlvbihlKXtpZihlLmVycm9yKXN3aXRjaChlLmVycm9yLmNvZGUpe2Nhc2UiUmVxdWVzdEV4cGlyZWQiOmNhc2UiRXhwaXJlZFRva2VuRXhjZXB0aW9uIjpjYXNlIkV4cGlyZWRUb2tlbiI6ZS5lcnJvci5yZXRyeWFibGU9ITAsZS5yZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmV4cGlyZWQ9ITB9fSkpLGUoIkVYUElSRURfU0lHTkFUVVJFIiwicmV0cnkiLChmdW5jdGlvbihlKXt2YXIgdD1lLmVycm9yO3QmJiJzdHJpbmciPT10eXBlb2YgdC5jb2RlJiYic3RyaW5nIj09dHlwZW9mIHQubWVzc2FnZSYmdC5jb2RlLm1hdGNoKC9TaWduYXR1cmUvKSYmdC5tZXNzYWdlLm1hdGNoKC9leHBpcmVkLykmJihlLmVycm9yLnJldHJ5YWJsZT0hMCl9KSksZSgiQ0xPQ0tfU0tFV0VEIiwicmV0cnkiLChmdW5jdGlvbihlKXtlLmVycm9yJiZ0aGlzLnNlcnZpY2UuY2xvY2tTa2V3RXJyb3IoZS5lcnJvcikmJnRoaXMuc2VydmljZS5jb25maWcuY29ycmVjdENsb2NrU2tldyYmKGUuZXJyb3IucmV0cnlhYmxlPSEwKX0pKSxlKCJSRURJUkVDVCIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmZS5lcnJvci5zdGF0dXNDb2RlPj0zMDAmJmUuZXJyb3Iuc3RhdHVzQ29kZTw0MDAmJmUuaHR0cFJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24mJih0aGlzLmh0dHBSZXF1ZXN0LmVuZHBvaW50PW5ldyBuLkVuZHBvaW50KGUuaHR0cFJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24pLHRoaXMuaHR0cFJlcXVlc3QuaGVhZGVycy5Ib3N0PXRoaXMuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdCxlLmVycm9yLnJlZGlyZWN0PSEwLGUuZXJyb3IucmV0cnlhYmxlPSEwKX0pKSxlKCJSRVRSWV9DSEVDSyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmKGUuZXJyb3IucmVkaXJlY3QmJmUucmVkaXJlY3RDb3VudDxlLm1heFJlZGlyZWN0cz9lLmVycm9yLnJldHJ5RGVsYXk9MDplLnJldHJ5Q291bnQ8ZS5tYXhSZXRyaWVzJiYoZS5lcnJvci5yZXRyeURlbGF5PXRoaXMuc2VydmljZS5yZXRyeURlbGF5cyhlLnJldHJ5Q291bnQsZS5lcnJvcil8fDApKX0pKSxyKCJSRVNFVF9SRVRSWV9TVEFURSIsImFmdGVyUmV0cnkiLChmdW5jdGlvbihlLHQpe3ZhciBuLHI9ITE7ZS5lcnJvciYmKG49ZS5lcnJvci5yZXRyeURlbGF5fHwwLGUuZXJyb3IucmV0cnlhYmxlJiZlLnJldHJ5Q291bnQ8ZS5tYXhSZXRyaWVzPyhlLnJldHJ5Q291bnQrKyxyPSEwKTplLmVycm9yLnJlZGlyZWN0JiZlLnJlZGlyZWN0Q291bnQ8ZS5tYXhSZWRpcmVjdHMmJihlLnJlZGlyZWN0Q291bnQrKyxyPSEwKSksciYmbj49MD8oZS5lcnJvcj1udWxsLHNldFRpbWVvdXQodCxuKSk6dCgpfSkpfSkpLENvcmVQb3N0OihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKGUpe2UoIkVYVFJBQ1RfUkVRVUVTVF9JRCIsImV4dHJhY3REYXRhIixuLnV0aWwuZXh0cmFjdFJlcXVlc3RJZCksZSgiRVhUUkFDVF9SRVFVRVNUX0lEIiwiZXh0cmFjdEVycm9yIixuLnV0aWwuZXh0cmFjdFJlcXVlc3RJZCksZSgiRU5PVEZPVU5EX0VSUk9SIiwiaHR0cEVycm9yIiwoZnVuY3Rpb24oZSl7aWYoIk5ldHdvcmtpbmdFcnJvciI9PT1lLmNvZGUmJmZ1bmN0aW9uKGUpe3JldHVybiJFTk9URk9VTkQiPT09ZS5lcnJub3x8Im51bWJlciI9PXR5cGVvZiBlLmVycm5vJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi51dGlsLmdldFN5c3RlbUVycm9yTmFtZSYmWyJFQUlfTk9OQU1FIiwiRUFJX05PREFUQSJdLmluZGV4T2Yobi51dGlsLmdldFN5c3RlbUVycm9yTmFtZShlLmVycm5vKT49MCl9KGUpKXt2YXIgdD0iSW5hY2Nlc3NpYmxlIGhvc3Q6IGAiK2UuaG9zdG5hbWUrIicgYXQgcG9ydCBgIitlLnBvcnQrIicuIFRoaXMgc2VydmljZSBtYXkgbm90IGJlIGF2YWlsYWJsZSBpbiB0aGUgYCIrZS5yZWdpb24rIicgcmVnaW9uLiI7dGhpcy5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yKHQpLHtjb2RlOiJVbmtub3duRW5kcG9pbnQiLHJlZ2lvbjplLnJlZ2lvbixob3N0bmFtZTplLmhvc3RuYW1lLHJldHJ5YWJsZTohMCxvcmlnaW5hbEVycm9yOmV9KX19KSl9KSksTG9nZ2VyOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3QoIkxPR19SRVFVRVNUIiwiY29tcGxldGUiLChmdW5jdGlvbih0KXt2YXIgcj10LnJlcXVlc3Qsbz1yLnNlcnZpY2UuY29uZmlnLmxvZ2dlcjtpZihvKXt2YXIgaT1mdW5jdGlvbigpe3ZhciBpPSh0LnJlcXVlc3Quc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLmdldFRpbWUoKS1yLnN0YXJ0VGltZS5nZXRUaW1lKCkpLzFlMyxhPSEhby5pc1RUWSxjPXQuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsdT1yLnBhcmFtcztyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMmJnIuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyLm9wZXJhdGlvbl0mJnIuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyLm9wZXJhdGlvbl0uaW5wdXQmJih1PXMoci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Iub3BlcmF0aW9uXS5pbnB1dCxyLnBhcmFtcykpO3ZhciBsPWUoInV0aWwiKS5pbnNwZWN0KHUsITAsbnVsbCkscD0iIjtyZXR1cm4gYSYmKHArPSIbWzMzbSIpLHArPSJbQVdTICIrci5zZXJ2aWNlLnNlcnZpY2VJZGVudGlmaWVyKyIgIitjLHArPSIgIitpLnRvU3RyaW5nKCkrInMgIit0LnJldHJ5Q291bnQrIiByZXRyaWVzXSIsYSYmKHArPSIbWzA7MW0iKSxwKz0iICIrbi51dGlsLnN0cmluZy5sb3dlckZpcnN0KHIub3BlcmF0aW9uKSxwKz0iKCIrbCsiKSIsYSYmKHArPSIbWzBtIikscH0oKTsiZnVuY3Rpb24iPT10eXBlb2Ygby5sb2c/by5sb2coaSk6ImZ1bmN0aW9uIj09dHlwZW9mIG8ud3JpdGUmJm8ud3JpdGUoaSsiXG4iKX1mdW5jdGlvbiBzKGUsdCl7aWYoIXQpcmV0dXJuIHQ7aWYoZS5pc1NlbnNpdGl2ZSlyZXR1cm4iKioqU2Vuc2l0aXZlSW5mb3JtYXRpb24qKioiO3N3aXRjaChlLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjp2YXIgcj17fTtyZXR1cm4gbi51dGlsLmVhY2godCwoZnVuY3Rpb24odCxuKXtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5tZW1iZXJzLHQpP3JbdF09cyhlLm1lbWJlcnNbdF0sbik6clt0XT1ufSkpLHI7Y2FzZSJsaXN0Ijp2YXIgbz1bXTtyZXR1cm4gbi51dGlsLmFycmF5RWFjaCh0LChmdW5jdGlvbih0LG4pe28ucHVzaChzKGUubWVtYmVyLHQpKX0pKSxvO2Nhc2UibWFwIjp2YXIgaT17fTtyZXR1cm4gbi51dGlsLmVhY2godCwoZnVuY3Rpb24odCxuKXtpW3RdPXMoZS52YWx1ZSxuKX0pKSxpO2RlZmF1bHQ6cmV0dXJuIHR9fX0pKX0pKSxKc29uOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvanNvbiIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpLFJlc3Q6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9yZXN0Iik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSksUmVzdEpzb246KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9yZXN0X2pzb24iKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKSx0KCJVTlNFVF9DT05URU5UX0xFTkdUSCIsImFmdGVyQnVpbGQiLG4udW5zZXRDb250ZW50TGVuZ3RoKX0pKSxSZXN0WG1sOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcmVzdF94bWwiKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKSxRdWVyeToobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3F1ZXJ5Iik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL2Rpc2NvdmVyX2VuZHBvaW50IjoyNywiLi9wcm90b2NvbC9qc29uIjo0OCwiLi9wcm90b2NvbC9xdWVyeSI6NDksIi4vcHJvdG9jb2wvcmVzdCI6NTAsIi4vcHJvdG9jb2wvcmVzdF9qc29uIjo1MSwiLi9wcm90b2NvbC9yZXN0X3htbCI6NTIsIi4vc2VxdWVudGlhbF9leGVjdXRvciI6NjEsX3Byb2Nlc3M6OTEsdXRpbDo4NX1dLDM1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtyLkVuZHBvaW50PW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7aWYoci51dGlsLmhpZGVQcm9wZXJ0aWVzKHRoaXMsWyJzbGFzaGVzIiwiYXV0aCIsImhhc2giLCJzZWFyY2giLCJxdWVyeSJdKSxudWxsPT1lKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBlbmRwb2ludDogIitlKTtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHIudXRpbC5jb3B5KGUpO2UubWF0Y2goL15odHRwLyl8fChlPSgodCYmdm9pZCAwIT09dC5zc2xFbmFibGVkP3Quc3NsRW5hYmxlZDpyLmNvbmZpZy5zc2xFbmFibGVkKT8iaHR0cHMiOiJodHRwIikrIjovLyIrZSksci51dGlsLnVwZGF0ZSh0aGlzLHIudXRpbC51cmxQYXJzZShlKSksdGhpcy5wb3J0P3RoaXMucG9ydD1wYXJzZUludCh0aGlzLnBvcnQsMTApOnRoaXMucG9ydD0iaHR0cHM6Ij09PXRoaXMucHJvdG9jb2w/NDQzOjgwfX0pLHIuSHR0cFJlcXVlc3Q9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtlPW5ldyByLkVuZHBvaW50KGUpLHRoaXMubWV0aG9kPSJQT1NUIix0aGlzLnBhdGg9ZS5wYXRofHwiLyIsdGhpcy5oZWFkZXJzPXt9LHRoaXMuYm9keT0iIix0aGlzLmVuZHBvaW50PWUsdGhpcy5yZWdpb249dCx0aGlzLl91c2VyQWdlbnQ9IiIsdGhpcy5zZXRVc2VyQWdlbnQoKX0sc2V0VXNlckFnZW50OmZ1bmN0aW9uKCl7dGhpcy5fdXNlckFnZW50PXRoaXMuaGVhZGVyc1t0aGlzLmdldFVzZXJBZ2VudEhlYWRlck5hbWUoKV09ci51dGlsLnVzZXJBZ2VudCgpfSxnZXRVc2VyQWdlbnRIZWFkZXJOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuKHIudXRpbC5pc0Jyb3dzZXIoKT8iWC1BbXotIjoiIikrIlVzZXItQWdlbnQifSxhcHBlbmRUb1VzZXJBZ2VudDpmdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIGUmJmUmJih0aGlzLl91c2VyQWdlbnQrPSIgIitlKSx0aGlzLmhlYWRlcnNbdGhpcy5nZXRVc2VyQWdlbnRIZWFkZXJOYW1lKCldPXRoaXMuX3VzZXJBZ2VudH0sZ2V0VXNlckFnZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJBZ2VudH0scGF0aG5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnNwbGl0KCI/IiwxKVswXX0sc2VhcmNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXRoLnNwbGl0KCI/IiwyKVsxXTtyZXR1cm4gZT8oZT1yLnV0aWwucXVlcnlTdHJpbmdQYXJzZShlKSxyLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhlKSk6IiJ9LHVwZGF0ZUVuZHBvaW50OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyByLkVuZHBvaW50KGUpO3RoaXMuZW5kcG9pbnQ9dCx0aGlzLnBhdGg9dC5wYXRofHwiLyIsdGhpcy5oZWFkZXJzLkhvc3QmJih0aGlzLmhlYWRlcnMuSG9zdD10Lmhvc3QpfX0pLHIuSHR0cFJlc3BvbnNlPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5zdGF0dXNDb2RlPXZvaWQgMCx0aGlzLmhlYWRlcnM9e30sdGhpcy5ib2R5PXZvaWQgMCx0aGlzLnN0cmVhbWluZz0hMSx0aGlzLnN0cmVhbT1udWxsfSxjcmVhdGVVbmJ1ZmZlcmVkU3RyZWFtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZWFtaW5nPSEwLHRoaXMuc3RyZWFtfX0pLHIuSHR0cENsaWVudD1vKHt9KSxyLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5zaW5nbGV0b24mJih0aGlzLnNpbmdsZXRvbj1uZXcgdGhpcyksdGhpcy5zaW5nbGV0b259fSx7Ii4vY29yZSI6MTl9XSwzNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoImV2ZW50cyIpLkV2ZW50RW1pdHRlcjtlKCIuLi9odHRwIiksci5YSFJDbGllbnQ9ci51dGlsLmluaGVyaXQoe2hhbmRsZVJlcXVlc3Q6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHM9dGhpcyxhPWUuZW5kcG9pbnQsYz1uZXcgbyx1PWEucHJvdG9jb2wrIi8vIithLmhvc3RuYW1lOzgwIT09YS5wb3J0JiY0NDMhPT1hLnBvcnQmJih1Kz0iOiIrYS5wb3J0KSx1Kz1lLnBhdGg7dmFyIGw9bmV3IFhNTEh0dHBSZXF1ZXN0LHA9ITE7ZS5zdHJlYW09bCxsLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLChmdW5jdGlvbigpe3RyeXtpZigwPT09bC5zdGF0dXMpcmV0dXJufWNhdGNoKGUpe3JldHVybn10aGlzLnJlYWR5U3RhdGU+PXRoaXMuSEVBREVSU19SRUNFSVZFRCYmIXAmJihjLnN0YXR1c0NvZGU9bC5zdGF0dXMsYy5oZWFkZXJzPXMucGFyc2VIZWFkZXJzKGwuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLGMuZW1pdCgiaGVhZGVycyIsYy5zdGF0dXNDb2RlLGMuaGVhZGVycyxsLnN0YXR1c1RleHQpLHA9ITApLHRoaXMucmVhZHlTdGF0ZT09PXRoaXMuRE9ORSYmcy5maW5pc2hSZXF1ZXN0KGwsYyl9KSwhMSksbC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLChmdW5jdGlvbihlKXtjLmVtaXQoInNlbmRQcm9ncmVzcyIsZSl9KSksbC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsKGZ1bmN0aW9uKGUpe2MuZW1pdCgicmVjZWl2ZVByb2dyZXNzIixlKX0pLCExKSxsLmFkZEV2ZW50TGlzdGVuZXIoInRpbWVvdXQiLChmdW5jdGlvbigpe2koci51dGlsLmVycm9yKG5ldyBFcnJvcigiVGltZW91dCIpLHtjb2RlOiJUaW1lb3V0RXJyb3IifSkpfSksITEpLGwuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbigpe2koci51dGlsLmVycm9yKG5ldyBFcnJvcigiTmV0d29yayBGYWlsdXJlIikse2NvZGU6Ik5ldHdvcmtpbmdFcnJvciJ9KSl9KSwhMSksbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7aShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJSZXF1ZXN0IGFib3J0ZWQiKSx7Y29kZToiUmVxdWVzdEFib3J0ZWRFcnJvciJ9KSl9KSwhMSksbihjKSxsLm9wZW4oZS5tZXRob2QsdSwhMSE9PXQueGhyQXN5bmMpLHIudXRpbC5lYWNoKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXsiQ29udGVudC1MZW5ndGgiIT09ZSYmIlVzZXItQWdlbnQiIT09ZSYmIkhvc3QiIT09ZSYmbC5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSksdC50aW1lb3V0JiYhMSE9PXQueGhyQXN5bmMmJihsLnRpbWVvdXQ9dC50aW1lb3V0KSx0LnhocldpdGhDcmVkZW50aWFscyYmKGwud2l0aENyZWRlbnRpYWxzPSEwKTt0cnl7bC5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIn1jYXRjaChlKXt9dHJ5e2UuYm9keT9sLnNlbmQoZS5ib2R5KTpsLnNlbmQoKX1jYXRjaCh0KXtpZighZS5ib2R5fHwib2JqZWN0IiE9dHlwZW9mIGUuYm9keS5idWZmZXIpdGhyb3cgdDtsLnNlbmQoZS5ib2R5LmJ1ZmZlcil9cmV0dXJuIGN9LHBhcnNlSGVhZGVyczpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gci51dGlsLmFycmF5RWFjaChlLnNwbGl0KC9ccj9cbi8pLChmdW5jdGlvbihlKXt2YXIgbj1lLnNwbGl0KCI6IiwxKVswXSxyPWUuc3Vic3RyaW5nKG4ubGVuZ3RoKzIpO24ubGVuZ3RoPjAmJih0W24udG9Mb3dlckNhc2UoKV09cil9KSksdH0sZmluaXNoUmVxdWVzdDpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKCJhcnJheWJ1ZmZlciI9PT1lLnJlc3BvbnNlVHlwZSYmZS5yZXNwb25zZSl7dmFyIG89ZS5yZXNwb25zZTtuPW5ldyByLnV0aWwuQnVmZmVyKG8uYnl0ZUxlbmd0aCk7Zm9yKHZhciBpPW5ldyBVaW50OEFycmF5KG8pLHM9MDtzPG4ubGVuZ3RoOysrcyluW3NdPWlbc119dHJ5e258fCJzdHJpbmciIT10eXBlb2YgZS5yZXNwb25zZVRleHR8fChuPW5ldyByLnV0aWwuQnVmZmVyKGUucmVzcG9uc2VUZXh0KSl9Y2F0Y2goZSl7fW4mJnQuZW1pdCgiZGF0YSIsbiksdC5lbWl0KCJlbmQiKX19KSxyLkh0dHBDbGllbnQucHJvdG90eXBlPXIuWEhSQ2xpZW50LnByb3RvdHlwZSxyLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb249MX0seyIuLi9jb3JlIjoxOSwiLi4vaHR0cCI6MzUsZXZlbnRzOjg3fV0sMzc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUsdCl7aWYodCYmbnVsbCE9ZSlzd2l0Y2godC50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYodC5pc0RvY3VtZW50KXJldHVybiBlO3ZhciBuPXt9O3JldHVybiByLmVhY2goZSwoZnVuY3Rpb24oZSxyKXt2YXIgbz10Lm1lbWJlcnNbZV07aWYobyl7aWYoImJvZHkiIT09by5sb2NhdGlvbilyZXR1cm47dmFyIHM9by5pc0xvY2F0aW9uTmFtZT9vLm5hbWU6ZSxhPWkocixvKTt2b2lkIDAhPT1hJiYobltzXT1hKX19KSksbn0oZSx0KTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIHIuZWFjaChlLChmdW5jdGlvbihlLHIpe3ZhciBvPWkocix0LnZhbHVlKTt2b2lkIDAhPT1vJiYobltlXT1vKX0pKSxufShlLHQpO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49W107cmV0dXJuIHIuYXJyYXlFYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciByPWkoZSx0Lm1lbWJlcik7dm9pZCAwIT09ciYmbi5wdXNoKHIpfSkpLG59KGUsdCk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1dpcmVGb3JtYXQoZSl9KGUsdCl9fW8ucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGkoZSx0KSl9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sMzg6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUsdCl7aWYodCYmdm9pZCAwIT09ZSlzd2l0Y2godC50eXBlKXtjYXNlInN0cnVjdHVyZSI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7aWYodC5pc0RvY3VtZW50KXJldHVybiBlO3ZhciBuPXt9LG89dC5tZW1iZXJzLHM9dC5hcGkmJnQuYXBpLmF3c1F1ZXJ5Q29tcGF0aWJsZTtyZXR1cm4gci5lYWNoKG8sKGZ1bmN0aW9uKHQscil7dmFyIG89ci5pc0xvY2F0aW9uTmFtZT9yLm5hbWU6dDtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIGE9aShlW29dLHIpO3ZvaWQgMCE9PWEmJihuW3RdPWEpfWVsc2UgcyYmci5kZWZhdWx0VmFsdWUmJiJsaXN0Ij09PXIudHlwZSYmKG5bdF09ImZ1bmN0aW9uIj09dHlwZW9mIHIuZGVmYXVsdFZhbHVlP3IuZGVmYXVsdFZhbHVlKCk6ci5kZWZhdWx0VmFsdWUpfSkpLG59fShlLHQpO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXt2YXIgbj17fTtyZXR1cm4gci5lYWNoKGUsKGZ1bmN0aW9uKGUscil7dmFyIG89aShyLHQudmFsdWUpO25bZV09dm9pZCAwPT09bz9udWxsOm99KSksbn19KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXt2YXIgbj1bXTtyZXR1cm4gci5hcnJheUVhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHI9aShlLHQubWVtYmVyKTt2b2lkIDA9PT1yP24ucHVzaChudWxsKTpuLnB1c2gocil9KSksbn19KGUsdCk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1R5cGUoZSl9KGUsdCl9fW8ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoSlNPTi5wYXJzZShlKSx0KX0sdC5leHBvcnRzPW99LHsiLi4vdXRpbCI6NzR9XSwzOTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXt2YXIgbj1bIlRoZSBBV1MgU0RLIGZvciBKYXZhU2NyaXB0ICh2Mikgd2lsbCBlbnRlciBtYWludGVuYW5jZSBtb2RlIiwib24gU2VwdGVtYmVyIDgsIDIwMjQgYW5kIHJlYWNoIGVuZC1vZi1zdXBwb3J0IG9uIFNlcHRlbWJlciA4LCAyMDI1LlxuIiwiUGxlYXNlIG1pZ3JhdGUgeW91ciBjb2RlIHRvIHVzZSBBV1MgU0RLIGZvciBKYXZhU2NyaXB0ICh2MykuIiwiRm9yIG1vcmUgaW5mb3JtYXRpb24sIGNoZWNrIGJsb2cgcG9zdCBhdCBodHRwczovL2EuY28vY1VQbnlpbCJdLmpvaW4oIlxuIik7dC5leHBvcnRzPXtzdXBwcmVzczohMX0sc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmV4cG9ydHMuc3VwcHJlc3N8fHZvaWQgMCE9PWUmJigib2JqZWN0Ij09dHlwZW9mIGUuZW52JiZ2b2lkIDAhPT1lLmVudi5BV1NfRVhFQ1VUSU9OX0VOViYmMD09PWUuZW52LkFXU19FWEVDVVRJT05fRU5WLmluZGV4T2YoIkFXU19MYW1iZGFfIil8fCJvYmplY3QiPT10eXBlb2YgZS5lbnYmJnZvaWQgMCE9PWUuZW52LkFXU19TREtfSlNfU1VQUFJFU1NfTUFJTlRFTkFOQ0VfTU9ERV9NRVNTQUdFfHwiZnVuY3Rpb24iPT10eXBlb2YgZS5lbWl0V2FybmluZyYmZS5lbWl0V2FybmluZyhuLHt0eXBlOiJOT1RFIn0pKX0pLDApfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0se19wcm9jZXNzOjkxfV0sNDA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvbGxlY3Rpb24iKSxvPWUoIi4vb3BlcmF0aW9uIiksaT1lKCIuL3NoYXBlIikscz1lKCIuL3BhZ2luYXRvciIpLGE9ZSgiLi9yZXNvdXJjZV93YWl0ZXIiKSxjPWUoIi4uLy4uL2FwaXMvbWV0YWRhdGEuanNvbiIpLHU9ZSgiLi4vdXRpbCIpLGw9dS5wcm9wZXJ0eSxwPXUubWVtb2l6ZWRQcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2U9ZXx8e30sKHQ9dHx8e30pLmFwaT10aGlzLGUubWV0YWRhdGE9ZS5tZXRhZGF0YXx8e307dmFyIGQ9dC5zZXJ2aWNlSWRlbnRpZmllcjtkZWxldGUgdC5zZXJ2aWNlSWRlbnRpZmllcixsKHRoaXMsImlzQXBpIiwhMCwhMSksbCh0aGlzLCJhcGlWZXJzaW9uIixlLm1ldGFkYXRhLmFwaVZlcnNpb24pLGwodGhpcywiZW5kcG9pbnRQcmVmaXgiLGUubWV0YWRhdGEuZW5kcG9pbnRQcmVmaXgpLGwodGhpcywic2lnbmluZ05hbWUiLGUubWV0YWRhdGEuc2lnbmluZ05hbWUpLGwodGhpcywiZ2xvYmFsRW5kcG9pbnQiLGUubWV0YWRhdGEuZ2xvYmFsRW5kcG9pbnQpLGwodGhpcywic2lnbmF0dXJlVmVyc2lvbiIsZS5tZXRhZGF0YS5zaWduYXR1cmVWZXJzaW9uKSxsKHRoaXMsImpzb25WZXJzaW9uIixlLm1ldGFkYXRhLmpzb25WZXJzaW9uKSxsKHRoaXMsInRhcmdldFByZWZpeCIsZS5tZXRhZGF0YS50YXJnZXRQcmVmaXgpLGwodGhpcywicHJvdG9jb2wiLGUubWV0YWRhdGEucHJvdG9jb2wpLGwodGhpcywidGltZXN0YW1wRm9ybWF0IixlLm1ldGFkYXRhLnRpbWVzdGFtcEZvcm1hdCksbCh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUubWV0YWRhdGEueG1sTmFtZXNwYWNlKSxsKHRoaXMsImFiYnJldmlhdGlvbiIsZS5tZXRhZGF0YS5zZXJ2aWNlQWJicmV2aWF0aW9uKSxsKHRoaXMsImZ1bGxOYW1lIixlLm1ldGFkYXRhLnNlcnZpY2VGdWxsTmFtZSksbCh0aGlzLCJzZXJ2aWNlSWQiLGUubWV0YWRhdGEuc2VydmljZUlkKSxkJiZjW2RdJiZsKHRoaXMsInhtbE5vRGVmYXVsdExpc3RzIixjW2RdLnhtbE5vRGVmYXVsdExpc3RzLCExKSxwKHRoaXMsImNsYXNzTmFtZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5tZXRhZGF0YS5zZXJ2aWNlQWJicmV2aWF0aW9ufHxlLm1ldGFkYXRhLnNlcnZpY2VGdWxsTmFtZTtyZXR1cm4gdD8oIkVsYXN0aWNMb2FkQmFsYW5jaW5nIj09PSh0PXQucmVwbGFjZSgvXkFtYXpvbnxBV1Nccyp8XCguKnxccyt8XFcrL2csIiIpKSYmKHQ9IkVMQiIpLHQpOm51bGx9KSksbCh0aGlzLCJvcGVyYXRpb25zIixuZXcgcihlLm9wZXJhdGlvbnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IG8oZSxuLHQpfSksdS5zdHJpbmcubG93ZXJGaXJzdCwoZnVuY3Rpb24oZSx0KXshMD09PXQuZW5kcG9pbnRvcGVyYXRpb24mJmwobiwiZW5kcG9pbnRPcGVyYXRpb24iLHUuc3RyaW5nLmxvd2VyRmlyc3QoZSkpLHQuZW5kcG9pbnRkaXNjb3ZlcnkmJiFuLmhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3ZlcnkmJmwobiwiaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSIsITA9PT10LmVuZHBvaW50ZGlzY292ZXJ5LnJlcXVpcmVkKX0pKSksbCh0aGlzLCJzaGFwZXMiLG5ldyByKGUuc2hhcGVzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGkuY3JlYXRlKG4sdCl9KSkpLGwodGhpcywicGFnaW5hdG9ycyIsbmV3IHIoZS5wYWdpbmF0b3JzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyBzKGUsbix0KX0pKSksbCh0aGlzLCJ3YWl0ZXJzIixuZXcgcihlLndhaXRlcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IGEoZSxuLHQpfSksdS5zdHJpbmcubG93ZXJGaXJzdCkpLHQuZG9jdW1lbnRhdGlvbiYmKGwodGhpcywiZG9jdW1lbnRhdGlvbiIsZS5kb2N1bWVudGF0aW9uKSxsKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLGUuZG9jdW1lbnRhdGlvblVybCkpLGwodGhpcywiYXdzUXVlcnlDb21wYXRpYmxlIixlLm1ldGFkYXRhLmF3c1F1ZXJ5Q29tcGF0aWJsZSl9fSx7Ii4uLy4uL2FwaXMvbWV0YWRhdGEuanNvbiI6NCwiLi4vdXRpbCI6NzQsIi4vY29sbGVjdGlvbiI6NDEsIi4vb3BlcmF0aW9uIjo0MiwiLi9wYWdpbmF0b3IiOjQzLCIuL3Jlc291cmNlX3dhaXRlciI6NDQsIi4vc2hhcGUiOjQ1fV0sNDE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIikubWVtb2l6ZWRQcm9wZXJ0eTtmdW5jdGlvbiBvKGUsdCxuLG8pe3IodGhpcyxvKGUpLChmdW5jdGlvbigpe3JldHVybiBuKGUsdCl9KSl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHZhciBzIGluIHI9cnx8U3RyaW5nLGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscykmJihvLmNhbGwodGhpcyxzLGVbc10sbixyKSxpJiZpKHMsZVtzXSkpfX0seyIuLi91dGlsIjo3NH1dLDQyOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9zaGFwZSIpLG89ZSgiLi4vdXRpbCIpLGk9by5wcm9wZXJ0eSxzPW8ubWVtb2l6ZWRQcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXM7bj1ufHx7fSxpKHRoaXMsIm5hbWUiLHQubmFtZXx8ZSksaSh0aGlzLCJhcGkiLG4uYXBpLCExKSx0Lmh0dHA9dC5odHRwfHx7fSxpKHRoaXMsImVuZHBvaW50Iix0LmVuZHBvaW50KSxpKHRoaXMsImh0dHBNZXRob2QiLHQuaHR0cC5tZXRob2R8fCJQT1NUIiksaSh0aGlzLCJodHRwUGF0aCIsdC5odHRwLnJlcXVlc3RVcml8fCIvIiksaSh0aGlzLCJhdXRodHlwZSIsdC5hdXRodHlwZXx8IiIpLGkodGhpcywiZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZCIsdC5lbmRwb2ludGRpc2NvdmVyeT90LmVuZHBvaW50ZGlzY292ZXJ5LnJlcXVpcmVkPyJSRVFVSVJFRCI6Ik9QVElPTkFMIjoiTlVMTCIpO3ZhciBhPXQuaHR0cENoZWNrc3VtUmVxdWlyZWR8fHQuaHR0cENoZWNrc3VtJiZ0Lmh0dHBDaGVja3N1bS5yZXF1ZXN0Q2hlY2tzdW1SZXF1aXJlZDtpKHRoaXMsImh0dHBDaGVja3N1bVJlcXVpcmVkIixhLCExKSxzKHRoaXMsImlucHV0IiwoZnVuY3Rpb24oKXtyZXR1cm4gdC5pbnB1dD9yLmNyZWF0ZSh0LmlucHV0LG4pOm5ldyByLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0sbil9KSkscyh0aGlzLCJvdXRwdXQiLChmdW5jdGlvbigpe3JldHVybiB0Lm91dHB1dD9yLmNyZWF0ZSh0Lm91dHB1dCxuKTpuZXcgci5jcmVhdGUoe3R5cGU6InN0cnVjdHVyZSJ9LG4pfSkpLHModGhpcywiZXJyb3JzIiwoZnVuY3Rpb24oKXt2YXIgZT1bXTtpZighdC5lcnJvcnMpcmV0dXJuIG51bGw7Zm9yKHZhciBvPTA7bzx0LmVycm9ycy5sZW5ndGg7bysrKWUucHVzaChyLmNyZWF0ZSh0LmVycm9yc1tvXSxuKSk7cmV0dXJuIGV9KSkscyh0aGlzLCJwYWdpbmF0b3IiLChmdW5jdGlvbigpe3JldHVybiBuLmFwaS5wYWdpbmF0b3JzW2VdfSkpLG4uZG9jdW1lbnRhdGlvbiYmKGkodGhpcywiZG9jdW1lbnRhdGlvbiIsdC5kb2N1bWVudGF0aW9uKSxpKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLHQuZG9jdW1lbnRhdGlvblVybCkpLHModGhpcywiaWRlbXBvdGVudE1lbWJlcnMiLChmdW5jdGlvbigpe3ZhciBlPVtdLHQ9by5pbnB1dCxuPXQubWVtYmVycztpZighdC5tZW1iZXJzKXJldHVybiBlO2Zvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJiEwPT09bltyXS5pc0lkZW1wb3RlbnQmJmUucHVzaChyKTtyZXR1cm4gZX0pKSxzKHRoaXMsImhhc0V2ZW50T3V0cHV0IiwoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZW1iZXJzLG49ZS5wYXlsb2FkO2lmKCFlLm1lbWJlcnMpcmV0dXJuITE7aWYobilyZXR1cm4gdFtuXS5pc0V2ZW50U3RyZWFtO2Zvcih2YXIgciBpbiB0KWlmKCF0Lmhhc093blByb3BlcnR5KHIpJiYhMD09PXRbcl0uaXNFdmVudFN0cmVhbSlyZXR1cm4hMDtyZXR1cm4hMX0oby5vdXRwdXQpfSkpfX0seyIuLi91dGlsIjo3NCwiLi9zaGFwZSI6NDV9XSw0MzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKS5wcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyKHRoaXMsImlucHV0VG9rZW4iLHQuaW5wdXRfdG9rZW4pLHIodGhpcywibGltaXRLZXkiLHQubGltaXRfa2V5KSxyKHRoaXMsIm1vcmVSZXN1bHRzIix0Lm1vcmVfcmVzdWx0cykscih0aGlzLCJvdXRwdXRUb2tlbiIsdC5vdXRwdXRfdG9rZW4pLHIodGhpcywicmVzdWx0S2V5Iix0LnJlc3VsdF9rZXkpfX0seyIuLi91dGlsIjo3NH1dLDQ0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ci5wcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe249bnx8e30sbyh0aGlzLCJuYW1lIixlKSxvKHRoaXMsImFwaSIsbi5hcGksITEpLHQub3BlcmF0aW9uJiZvKHRoaXMsIm9wZXJhdGlvbiIsci5zdHJpbmcubG93ZXJGaXJzdCh0Lm9wZXJhdGlvbikpO3ZhciBpPXRoaXM7WyJ0eXBlIiwiZGVzY3JpcHRpb24iLCJkZWxheSIsIm1heEF0dGVtcHRzIiwiYWNjZXB0b3JzIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49dFtlXTtuJiZvKGksZSxuKX0pKX19LHsiLi4vdXRpbCI6NzR9XSw0NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29sbGVjdGlvbiIpLG89ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIGkoZSx0LG4pe251bGwhPW4mJm8ucHJvcGVydHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHMoZSx0KXtlLmNvbnN0cnVjdG9yLnByb3RvdHlwZVt0XXx8by5tZW1vaXplZFByb3BlcnR5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKGUsdCxuKXt0PXR8fHt9LGkodGhpcywic2hhcGUiLGUuc2hhcGUpLGkodGhpcywiYXBpIix0LmFwaSwhMSksaSh0aGlzLCJ0eXBlIixlLnR5cGUpLGkodGhpcywiZW51bSIsZS5lbnVtKSxpKHRoaXMsIm1pbiIsZS5taW4pLGkodGhpcywibWF4IixlLm1heCksaSh0aGlzLCJwYXR0ZXJuIixlLnBhdHRlcm4pLGkodGhpcywibG9jYXRpb24iLGUubG9jYXRpb258fHRoaXMubG9jYXRpb258fCJib2R5IiksaSh0aGlzLCJuYW1lIix0aGlzLm5hbWV8fGUueG1sTmFtZXx8ZS5xdWVyeU5hbWV8fGUubG9jYXRpb25OYW1lfHxuKSxpKHRoaXMsImlzU3RyZWFtaW5nIixlLnN0cmVhbWluZ3x8dGhpcy5pc1N0cmVhbWluZ3x8ITEpLGkodGhpcywicmVxdWlyZXNMZW5ndGgiLGUucmVxdWlyZXNMZW5ndGgsITEpLGkodGhpcywiaXNDb21wb3NpdGUiLGUuaXNDb21wb3NpdGV8fCExKSxpKHRoaXMsImlzU2hhcGUiLCEwLCExKSxpKHRoaXMsImlzUXVlcnlOYW1lIixCb29sZWFuKGUucXVlcnlOYW1lKSwhMSksaSh0aGlzLCJpc0xvY2F0aW9uTmFtZSIsQm9vbGVhbihlLmxvY2F0aW9uTmFtZSksITEpLGkodGhpcywiaXNJZGVtcG90ZW50IiwhMD09PWUuaWRlbXBvdGVuY3lUb2tlbiksaSh0aGlzLCJpc0pzb25WYWx1ZSIsITA9PT1lLmpzb252YWx1ZSksaSh0aGlzLCJpc1NlbnNpdGl2ZSIsITA9PT1lLnNlbnNpdGl2ZXx8ZS5wcm90b3R5cGUmJiEwPT09ZS5wcm90b3R5cGUuc2Vuc2l0aXZlKSxpKHRoaXMsImlzRXZlbnRTdHJlYW0iLEJvb2xlYW4oZS5ldmVudHN0cmVhbSksITEpLGkodGhpcywiaXNFdmVudCIsQm9vbGVhbihlLmV2ZW50KSwhMSksaSh0aGlzLCJpc0V2ZW50UGF5bG9hZCIsQm9vbGVhbihlLmV2ZW50cGF5bG9hZCksITEpLGkodGhpcywiaXNFdmVudEhlYWRlciIsQm9vbGVhbihlLmV2ZW50aGVhZGVyKSwhMSksaSh0aGlzLCJpc1RpbWVzdGFtcEZvcm1hdFNldCIsQm9vbGVhbihlLnRpbWVzdGFtcEZvcm1hdCl8fGUucHJvdG90eXBlJiYhMD09PWUucHJvdG90eXBlLmlzVGltZXN0YW1wRm9ybWF0U2V0LCExKSxpKHRoaXMsImVuZHBvaW50RGlzY292ZXJ5SWQiLEJvb2xlYW4oZS5lbmRwb2ludGRpc2NvdmVyeWlkKSwhMSksaSh0aGlzLCJob3N0TGFiZWwiLEJvb2xlYW4oZS5ob3N0TGFiZWwpLCExKSx0LmRvY3VtZW50YXRpb24mJihpKHRoaXMsImRvY3VtZW50YXRpb24iLGUuZG9jdW1lbnRhdGlvbiksaSh0aGlzLCJkb2N1bWVudGF0aW9uVXJsIixlLmRvY3VtZW50YXRpb25VcmwpKSxlLnhtbEF0dHJpYnV0ZSYmaSh0aGlzLCJpc1htbEF0dHJpYnV0ZSIsZS54bWxBdHRyaWJ1dGV8fCExKSxpKHRoaXMsImRlZmF1bHRWYWx1ZSIsbnVsbCksdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6ZX0sdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fWZ1bmN0aW9uIGMoZSl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyksaSh0aGlzLCJpc0NvbXBvc2l0ZSIsITApLGUuZmxhdHRlbmVkJiZpKHRoaXMsImZsYXR0ZW5lZCIsZS5mbGF0dGVuZWR8fCExKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49dGhpcyxvPW51bGwsdT0hdGhpcy5pc1NoYXBlO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHUmJihpKHRoaXMsImRlZmF1bHRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJue319KSksaSh0aGlzLCJtZW1iZXJzIix7fSksaSh0aGlzLCJtZW1iZXJOYW1lcyIsW10pLGkodGhpcywicmVxdWlyZWQiLFtdKSxpKHRoaXMsImlzUmVxdWlyZWQiLChmdW5jdGlvbigpe3JldHVybiExfSkpLGkodGhpcywiaXNEb2N1bWVudCIsQm9vbGVhbihlLmRvY3VtZW50KSkpLGUubWVtYmVycyYmKGkodGhpcywibWVtYmVycyIsbmV3IHIoZS5tZW1iZXJzLHQsKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGEuY3JlYXRlKG4sdCxlKX0pKSkscyh0aGlzLCJtZW1iZXJOYW1lcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGUueG1sT3JkZXJ8fE9iamVjdC5rZXlzKGUubWVtYmVycyl9KSksZS5ldmVudCYmKHModGhpcywiZXZlbnRQYXlsb2FkTWVtYmVyTmFtZSIsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW4ubWVtYmVycyx0PW4ubWVtYmVyTmFtZXMscj0wLG89dC5sZW5ndGg7cjxvO3IrKylpZihlW3Rbcl1dLmlzRXZlbnRQYXlsb2FkKXJldHVybiB0W3JdfSkpLHModGhpcywiZXZlbnRIZWFkZXJNZW1iZXJOYW1lcyIsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW4ubWVtYmVycyx0PW4ubWVtYmVyTmFtZXMscj1bXSxvPTAsaT10Lmxlbmd0aDtvPGk7bysrKWVbdFtvXV0uaXNFdmVudEhlYWRlciYmci5wdXNoKHRbb10pO3JldHVybiByfSkpKSksZS5yZXF1aXJlZCYmKGkodGhpcywicmVxdWlyZWQiLGUucmVxdWlyZWQpLGkodGhpcywiaXNSZXF1aXJlZCIsKGZ1bmN0aW9uKHQpe2lmKCFvKXtvPXt9O2Zvcih2YXIgbj0wO248ZS5yZXF1aXJlZC5sZW5ndGg7bisrKW9bZS5yZXF1aXJlZFtuXV09ITB9cmV0dXJuIG9bdF19KSwhMSwhMCkpLGkodGhpcywicmVzdWx0V3JhcHBlciIsZS5yZXN1bHRXcmFwcGVyfHxudWxsKSxlLnBheWxvYWQmJmkodGhpcywicGF5bG9hZCIsZS5wYXlsb2FkKSwic3RyaW5nIj09dHlwZW9mIGUueG1sTmFtZXNwYWNlP2kodGhpcywieG1sTmFtZXNwYWNlVXJpIixlLnhtbE5hbWVzcGFjZSk6Im9iamVjdCI9PXR5cGVvZiBlLnhtbE5hbWVzcGFjZSYmKGkodGhpcywieG1sTmFtZXNwYWNlUHJlZml4IixlLnhtbE5hbWVzcGFjZS5wcmVmaXgpLGkodGhpcywieG1sTmFtZXNwYWNlVXJpIixlLnhtbE5hbWVzcGFjZS51cmkpKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49dGhpcyxyPSF0aGlzLmlzU2hhcGU7aWYoYy5hcHBseSh0aGlzLGFyZ3VtZW50cyksciYmaSh0aGlzLCJkZWZhdWx0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybltdfSkpLGUubWVtYmVyJiZzKHRoaXMsIm1lbWJlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuY3JlYXRlKGUubWVtYmVyLHQpfSkpLHRoaXMuZmxhdHRlbmVkKXt2YXIgbz10aGlzLm5hbWU7cyh0aGlzLCJuYW1lIiwoZnVuY3Rpb24oKXtyZXR1cm4gbi5tZW1iZXIubmFtZXx8b30pKX19ZnVuY3Rpb24gcChlLHQpe3ZhciBuPSF0aGlzLmlzU2hhcGU7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksbiYmKGkodGhpcywiZGVmYXVsdFZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm57fX0pKSxpKHRoaXMsImtleSIsYS5jcmVhdGUoe3R5cGU6InN0cmluZyJ9LHQpKSxpKHRoaXMsInZhbHVlIixhLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0sdCkpKSxlLmtleSYmcyh0aGlzLCJrZXkiLChmdW5jdGlvbigpe3JldHVybiBhLmNyZWF0ZShlLmtleSx0KX0pKSxlLnZhbHVlJiZzKHRoaXMsInZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm4gYS5jcmVhdGUoZS52YWx1ZSx0KX0pKX1mdW5jdGlvbiBkKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9WyJyZXN0LXhtbCIsInF1ZXJ5IiwiZWMyIl07dGhpcy50b1R5cGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5hcGkmJmUuaW5kZXhPZih0aGlzLmFwaS5wcm90b2NvbCk+LTE/dHx8IiI6dCx0aGlzLmlzSnNvblZhbHVlP0pTT04ucGFyc2UodCk6dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQudG9TdHJpbmc/dC50b1N0cmluZygpOnR9LHRoaXMudG9XaXJlRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzSnNvblZhbHVlP0pTT04uc3RyaW5naWZ5KGUpOmV9fWZ1bmN0aW9uIGgoKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXt2YXIgdD1vLmJhc2U2NC5kZWNvZGUoZSk7aWYodGhpcy5pc1NlbnNpdGl2ZSYmby5pc05vZGUoKSYmImZ1bmN0aW9uIj09dHlwZW9mIG8uQnVmZmVyLmFsbG9jKXt2YXIgbj1vLkJ1ZmZlci5hbGxvYyh0Lmxlbmd0aCx0KTt0LmZpbGwoMCksdD1ufXJldHVybiB0fSx0aGlzLnRvV2lyZUZvcm1hdD1vLmJhc2U2NC5lbmNvZGV9ZnVuY3Rpb24gZygpe2guYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U6bnVsbD09ZT9udWxsOiJ0cnVlIj09PWV9fWEubm9ybWFsaXplZFR5cGVzPXtjaGFyYWN0ZXI6InN0cmluZyIsZG91YmxlOiJmbG9hdCIsbG9uZzoiaW50ZWdlciIsc2hvcnQ6ImludGVnZXIiLGJpZ2ludGVnZXI6ImludGVnZXIiLGJpZ2RlY2ltYWw6ImZsb2F0IixibG9iOiJiaW5hcnkifSxhLnR5cGVzPXtzdHJ1Y3R1cmU6dSxsaXN0OmwsbWFwOnAsYm9vbGVhbjpmLHRpbWVzdGFtcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGEuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudGltZXN0YW1wRm9ybWF0KWkodGhpcywidGltZXN0YW1wRm9ybWF0IixlLnRpbWVzdGFtcEZvcm1hdCk7ZWxzZSBpZih0LmlzVGltZXN0YW1wRm9ybWF0U2V0JiZ0aGlzLnRpbWVzdGFtcEZvcm1hdClpKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsdGhpcy50aW1lc3RhbXBGb3JtYXQpO2Vsc2UgaWYoImhlYWRlciI9PT10aGlzLmxvY2F0aW9uKWkodGhpcywidGltZXN0YW1wRm9ybWF0IiwicmZjODIyIik7ZWxzZSBpZigicXVlcnlzdHJpbmciPT09dGhpcy5sb2NhdGlvbilpKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsImlzbzg2MDEiKTtlbHNlIGlmKHRoaXMuYXBpKXN3aXRjaCh0aGlzLmFwaS5wcm90b2NvbCl7Y2FzZSJqc29uIjpjYXNlInJlc3QtanNvbiI6aSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJ1bml4VGltZXN0YW1wIik7YnJlYWs7Y2FzZSJyZXN0LXhtbCI6Y2FzZSJxdWVyeSI6Y2FzZSJlYzIiOmkodGhpcywidGltZXN0YW1wRm9ybWF0IiwiaXNvODYwMSIpfXRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6ImZ1bmN0aW9uIj09dHlwZW9mIGUudG9VVENTdHJpbmc/ZToic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZT9vLmRhdGUucGFyc2VUaW1lc3RhbXAoZSk6bnVsbH0sdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZGF0ZS5mb3JtYXQoZSx0LnRpbWVzdGFtcEZvcm1hdCl9fSxmbG9hdDpmdW5jdGlvbigpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6cGFyc2VGbG9hdChlKX0sdGhpcy50b1dpcmVGb3JtYXQ9dGhpcy50b1R5cGV9LGludGVnZXI6ZnVuY3Rpb24oKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9udWxsOnBhcnNlSW50KGUsMTApfSx0aGlzLnRvV2lyZUZvcm1hdD10aGlzLnRvVHlwZX0sc3RyaW5nOmQsYmFzZTY0OmcsYmluYXJ5Omh9LGEucmVzb2x2ZT1mdW5jdGlvbihlLHQpe2lmKGUuc2hhcGUpe3ZhciBuPXQuYXBpLnNoYXBlc1tlLnNoYXBlXTtpZighbil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHNoYXBlIHJlZmVyZW5jZTogIitlLnNoYXBlKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH0sYS5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNTaGFwZSlyZXR1cm4gZTt2YXIgcj1hLnJlc29sdmUoZSx0KTtpZihyKXt2YXIgbz1PYmplY3Qua2V5cyhlKTt0LmRvY3VtZW50YXRpb258fChvPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5tYXRjaCgvZG9jdW1lbnRhdGlvbi8pfSkpKTt2YXIgaT1mdW5jdGlvbigpe3IuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUsdCxuKX07cmV0dXJuIGkucHJvdG90eXBlPXIsbmV3IGl9ZS50eXBlfHwoZS5tZW1iZXJzP2UudHlwZT0ic3RydWN0dXJlIjplLm1lbWJlcj9lLnR5cGU9Imxpc3QiOmUua2V5P2UudHlwZT0ibWFwIjplLnR5cGU9InN0cmluZyIpO3ZhciBzPWUudHlwZTtpZihhLm5vcm1hbGl6ZWRUeXBlc1tlLnR5cGVdJiYoZS50eXBlPWEubm9ybWFsaXplZFR5cGVzW2UudHlwZV0pLGEudHlwZXNbZS50eXBlXSlyZXR1cm4gbmV3IGEudHlwZXNbZS50eXBlXShlLHQsbik7dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgc2hhcGUgdHlwZTogIitzKX0sYS5zaGFwZXM9e1N0cnVjdHVyZVNoYXBlOnUsTGlzdFNoYXBlOmwsTWFwU2hhcGU6cCxTdHJpbmdTaGFwZTpkLEJvb2xlYW5TaGFwZTpmLEJhc2U2NFNoYXBlOmd9LHQuZXhwb3J0cz1hfSx7Ii4uL3V0aWwiOjc0LCIuL2NvbGxlY3Rpb24iOjQxfV0sNDY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLlBhcmFtVmFsaWRhdG9yPXIudXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXshMCE9PWUmJnZvaWQgMCE9PWV8fChlPXttaW46ITB9KSx0aGlzLnZhbGlkYXRpb249ZX0sdmFsaWRhdGU6ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMuZXJyb3JzPVtdLHRoaXMudmFsaWRhdGVNZW1iZXIoZSx0fHx7fSxufHwicGFyYW1zIiksdGhpcy5lcnJvcnMubGVuZ3RoPjEpe3ZhciBvPXRoaXMuZXJyb3JzLmpvaW4oIlxuKiAiKTt0aHJvdyBvPSJUaGVyZSB3ZXJlICIrdGhpcy5lcnJvcnMubGVuZ3RoKyIgdmFsaWRhdGlvbiBlcnJvcnM6XG4qICIrbyxyLnV0aWwuZXJyb3IobmV3IEVycm9yKG8pLHtjb2RlOiJNdWx0aXBsZVZhbGlkYXRpb25FcnJvcnMiLGVycm9yczp0aGlzLmVycm9yc30pfWlmKDE9PT10aGlzLmVycm9ycy5sZW5ndGgpdGhyb3cgdGhpcy5lcnJvcnNbMF07cmV0dXJuITB9LGZhaWw6ZnVuY3Rpb24oZSx0KXt0aGlzLmVycm9ycy5wdXNoKHIudXRpbC5lcnJvcihuZXcgRXJyb3IodCkse2NvZGU6ZX0pKX0sdmFsaWRhdGVTdHJ1Y3R1cmU6ZnVuY3Rpb24oZSx0LG4pe2lmKGUuaXNEb2N1bWVudClyZXR1cm4hMDt2YXIgcjt0aGlzLnZhbGlkYXRlVHlwZSh0LG4sWyJvYmplY3QiXSwic3RydWN0dXJlIik7Zm9yKHZhciBvPTA7ZS5yZXF1aXJlZCYmbzxlLnJlcXVpcmVkLmxlbmd0aDtvKyspe3ZhciBpPXRbcj1lLnJlcXVpcmVkW29dXTtudWxsPT1pJiZ0aGlzLmZhaWwoIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlciIsIk1pc3NpbmcgcmVxdWlyZWQga2V5ICciK3IrIicgaW4gIituKX1mb3IociBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpKXt2YXIgcz10W3JdLGE9ZS5tZW1iZXJzW3JdO2lmKHZvaWQgMCE9PWEpe3ZhciBjPVtuLHJdLmpvaW4oIi4iKTt0aGlzLnZhbGlkYXRlTWVtYmVyKGEscyxjKX1lbHNlIG51bGwhPXMmJnRoaXMuZmFpbCgiVW5leHBlY3RlZFBhcmFtZXRlciIsIlVuZXhwZWN0ZWQga2V5ICciK3IrIicgZm91bmQgaW4gIituKX1yZXR1cm4hMH0sdmFsaWRhdGVNZW1iZXI6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChlLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cnVjdHVyZShlLHQsbik7Y2FzZSJsaXN0IjpyZXR1cm4gdGhpcy52YWxpZGF0ZUxpc3QoZSx0LG4pO2Nhc2UibWFwIjpyZXR1cm4gdGhpcy52YWxpZGF0ZU1hcChlLHQsbik7ZGVmYXVsdDpyZXR1cm4gdGhpcy52YWxpZGF0ZVNjYWxhcihlLHQsbil9fSx2YWxpZGF0ZUxpc3Q6ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmFsaWRhdGVUeXBlKHQsbixbQXJyYXldKSl7dGhpcy52YWxpZGF0ZVJhbmdlKGUsdC5sZW5ndGgsbiwibGlzdCBtZW1iZXIgY291bnQiKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLnZhbGlkYXRlTWVtYmVyKGUubWVtYmVyLHRbcl0sbisiWyIrcisiXSIpfX0sdmFsaWRhdGVNYXA6ZnVuY3Rpb24oZSx0LG4pe2lmKHRoaXMudmFsaWRhdGVUeXBlKHQsbixbIm9iamVjdCJdLCJtYXAiKSl7dmFyIHI9MDtmb3IodmFyIG8gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKHRoaXMudmFsaWRhdGVNZW1iZXIoZS5rZXksbyxuKyJba2V5PSciK28rIiddIiksdGhpcy52YWxpZGF0ZU1lbWJlcihlLnZhbHVlLHRbb10sbisiWyciK28rIiddIikscisrKTt0aGlzLnZhbGlkYXRlUmFuZ2UoZSxyLG4sIm1hcCBtZW1iZXIgY291bnQiKX19LHZhbGlkYXRlU2NhbGFyOmZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2goZS50eXBlKXtjYXNlIG51bGw6Y2FzZSB2b2lkIDA6Y2FzZSJzdHJpbmciOnJldHVybiB0aGlzLnZhbGlkYXRlU3RyaW5nKGUsdCxuKTtjYXNlImJhc2U2NCI6Y2FzZSJiaW5hcnkiOnJldHVybiB0aGlzLnZhbGlkYXRlUGF5bG9hZCh0LG4pO2Nhc2UiaW50ZWdlciI6Y2FzZSJmbG9hdCI6cmV0dXJuIHRoaXMudmFsaWRhdGVOdW1iZXIoZSx0LG4pO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIHRoaXMudmFsaWRhdGVUeXBlKHQsbixbImJvb2xlYW4iXSk7Y2FzZSJ0aW1lc3RhbXAiOnJldHVybiB0aGlzLnZhbGlkYXRlVHlwZSh0LG4sW0RhdGUsL15cZHs0fS1cZHsyfS1cZHsyfVRcZHsyfTpcZHsyfTpcZHsyfShcLlxkKyk/WiQvLCJudW1iZXIiXSwiRGF0ZSBvYmplY3QsIElTTy04NjAxIHN0cmluZywgb3IgYSBVTklYIHRpbWVzdGFtcCIpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZmFpbCgiVW5rb3duVHlwZSIsIlVuaGFuZGxlZCB0eXBlICIrZS50eXBlKyIgZm9yICIrbil9fSx2YWxpZGF0ZVN0cmluZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9WyJzdHJpbmciXTtlLmlzSnNvblZhbHVlJiYocj1yLmNvbmNhdChbIm51bWJlciIsIm9iamVjdCIsImJvb2xlYW4iXSkpLG51bGwhPT10JiZ0aGlzLnZhbGlkYXRlVHlwZSh0LG4scikmJih0aGlzLnZhbGlkYXRlRW51bShlLHQsbiksdGhpcy52YWxpZGF0ZVJhbmdlKGUsdC5sZW5ndGgsbiwic3RyaW5nIGxlbmd0aCIpLHRoaXMudmFsaWRhdGVQYXR0ZXJuKGUsdCxuKSx0aGlzLnZhbGlkYXRlVXJpKGUsdCxuKSl9LHZhbGlkYXRlVXJpOmZ1bmN0aW9uKGUsdCxuKXsidXJpIj09PWUubG9jYXRpb24mJjA9PT10Lmxlbmd0aCYmdGhpcy5mYWlsKCJVcmlQYXJhbWV0ZXJFcnJvciIsJ0V4cGVjdGVkIHVyaSBwYXJhbWV0ZXIgdG8gaGF2ZSBsZW5ndGggPj0gMSwgYnV0IGZvdW5kICInK3QrJyIgZm9yICcrbil9LHZhbGlkYXRlUGF0dGVybjpmdW5jdGlvbihlLHQsbil7dGhpcy52YWxpZGF0aW9uLnBhdHRlcm4mJnZvaWQgMCE9PWUucGF0dGVybiYmKG5ldyBSZWdFeHAoZS5wYXR0ZXJuKS50ZXN0KHQpfHx0aGlzLmZhaWwoIlBhdHRlcm5NYXRjaEVycm9yIiwnUHJvdmlkZWQgdmFsdWUgIicrdCsnIiBkb2VzIG5vdCBtYXRjaCByZWdleCBwYXR0ZXJuIC8nK2UucGF0dGVybisiLyBmb3IgIituKSl9LHZhbGlkYXRlUmFuZ2U6ZnVuY3Rpb24oZSx0LG4scil7dGhpcy52YWxpZGF0aW9uLm1pbiYmdm9pZCAwIT09ZS5taW4mJnQ8ZS5taW4mJnRoaXMuZmFpbCgiTWluUmFuZ2VFcnJvciIsIkV4cGVjdGVkICIrcisiID49ICIrZS5taW4rIiwgYnV0IGZvdW5kICIrdCsiIGZvciAiK24pLHRoaXMudmFsaWRhdGlvbi5tYXgmJnZvaWQgMCE9PWUubWF4JiZ0PmUubWF4JiZ0aGlzLmZhaWwoIk1heFJhbmdlRXJyb3IiLCJFeHBlY3RlZCAiK3IrIiA8PSAiK2UubWF4KyIsIGJ1dCBmb3VuZCAiK3QrIiBmb3IgIituKX0sdmFsaWRhdGVFbnVtOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbGlkYXRpb24uZW51bSYmdm9pZCAwIT09ZS5lbnVtJiYtMT09PWUuZW51bS5pbmRleE9mKHQpJiZ0aGlzLmZhaWwoIkVudW1FcnJvciIsIkZvdW5kIHN0cmluZyB2YWx1ZSBvZiAiK3QrIiwgYnV0IGV4cGVjdGVkICIrZS5lbnVtLmpvaW4oInwiKSsiIGZvciAiK24pfSx2YWxpZGF0ZVR5cGU6ZnVuY3Rpb24oZSx0LG4sbyl7aWYobnVsbD09ZSlyZXR1cm4hMTtmb3IodmFyIGk9ITEscz0wO3M8bi5sZW5ndGg7cysrKXtpZigic3RyaW5nIj09dHlwZW9mIG5bc10pe2lmKHR5cGVvZiBlPT09bltzXSlyZXR1cm4hMH1lbHNlIGlmKG5bc11pbnN0YW5jZW9mIFJlZ0V4cCl7aWYoKGV8fCIiKS50b1N0cmluZygpLm1hdGNoKG5bc10pKXJldHVybiEwfWVsc2V7aWYoZSBpbnN0YW5jZW9mIG5bc10pcmV0dXJuITA7aWYoci51dGlsLmlzVHlwZShlLG5bc10pKXJldHVybiEwO298fGl8fChuPW4uc2xpY2UoKSksbltzXT1yLnV0aWwudHlwZU5hbWUobltzXSl9aT0hMH12YXIgYT1vO2F8fChhPW4uam9pbigiLCAiKS5yZXBsYWNlKC8sKFteLF0rKSQvLCIsIG9yJDEiKSk7dmFyIGM9YS5tYXRjaCgvXlthZWlvdV0vaSk/Im4iOiIiO3JldHVybiB0aGlzLmZhaWwoIkludmFsaWRQYXJhbWV0ZXJUeXBlIiwiRXhwZWN0ZWQgIit0KyIgdG8gYmUgYSIrYysiICIrYSksITF9LHZhbGlkYXRlTnVtYmVyOmZ1bmN0aW9uKGUsdCxuKXtpZihudWxsIT10KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciByPXBhcnNlRmxvYXQodCk7ci50b1N0cmluZygpPT09dCYmKHQ9cil9dGhpcy52YWxpZGF0ZVR5cGUodCxuLFsibnVtYmVyIl0pJiZ0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0LG4sIm51bWVyaWMgdmFsdWUiKX19LHZhbGlkYXRlUGF5bG9hZDpmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUmJiJzdHJpbmciIT10eXBlb2YgZSYmKCFlfHwibnVtYmVyIiE9dHlwZW9mIGUuYnl0ZUxlbmd0aCkpe2lmKHIudXRpbC5pc05vZGUoKSl7dmFyIG49ci51dGlsLnN0cmVhbS5TdHJlYW07aWYoci51dGlsLkJ1ZmZlci5pc0J1ZmZlcihlKXx8ZSBpbnN0YW5jZW9mIG4pcmV0dXJufWVsc2UgaWYodm9pZCAwIT09dHlwZW9mIEJsb2ImJmUgaW5zdGFuY2VvZiBCbG9iKXJldHVybjt2YXIgbz1bIkJ1ZmZlciIsIlN0cmVhbSIsIkZpbGUiLCJCbG9iIiwiQXJyYXlCdWZmZXIiLCJEYXRhVmlldyJdO2lmKGUpZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspe2lmKHIudXRpbC5pc1R5cGUoZSxvW2ldKSlyZXR1cm47aWYoci51dGlsLnR5cGVOYW1lKGUuY29uc3RydWN0b3IpPT09b1tpXSlyZXR1cm59dGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEgc3RyaW5nLCBCdWZmZXIsIFN0cmVhbSwgQmxvYiwgb3IgdHlwZWQgYXJyYXkgb2JqZWN0Iil9fX0pfSx7Ii4vY29yZSI6MTl9XSw0NzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL2NvcmUiKTt0LmV4cG9ydHM9e3BvcHVsYXRlSG9zdFByZWZpeDpmdW5jdGlvbihlKXtpZighZS5zZXJ2aWNlLmNvbmZpZy5ob3N0UHJlZml4RW5hYmxlZClyZXR1cm4gZTt2YXIgdCxuLGkscyxhLGM9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZihmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLG49dC5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxvPXQuZW5kcG9pbnRPcGVyYXRpb24mJnQuZW5kcG9pbnRPcGVyYXRpb249PT1yLnN0cmluZy5sb3dlckZpcnN0KG4ubmFtZSk7cmV0dXJuIk5VTEwiIT09bi5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkfHwhMD09PW99KGUpKXJldHVybiBlO2lmKGMuZW5kcG9pbnQmJmMuZW5kcG9pbnQuaG9zdFByZWZpeCl7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmVhY2gobi5tZW1iZXJzLChmdW5jdGlvbihuLG8pe2lmKCEwPT09by5ob3N0TGFiZWwpe2lmKCJzdHJpbmciIT10eXBlb2YgdFtuXXx8IiI9PT10W25dKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHttZXNzYWdlOiJQYXJhbWV0ZXIgIituKyIgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZy4iLGNvZGU6IkludmFsaWRQYXJhbWV0ZXIifSk7dmFyIGk9bmV3IFJlZ0V4cCgiXFx7IituKyJcXH0iLCJnIik7ZT1lLnJlcGxhY2UoaSx0W25dKX19KSksZX0oYy5lbmRwb2ludC5ob3N0UHJlZml4LGUucGFyYW1zLGMuaW5wdXQpO3M9ZS5odHRwUmVxdWVzdC5lbmRwb2ludCxhPXUscy5ob3N0JiYocy5ob3N0PWErcy5ob3N0KSxzLmhvc3RuYW1lJiYocy5ob3N0bmFtZT1hK3MuaG9zdG5hbWUpLHQ9ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxuPXQuc3BsaXQoIi4iKSxpPS9eW2EtekEtWjAtOV17MX0kfF5bYS16QS1aMC05XVthLXpBLVowLTlcLV0qW2EtekEtWjAtOV0kLyxyLmFycmF5RWFjaChuLChmdW5jdGlvbihlKXtpZighZS5sZW5ndGh8fGUubGVuZ3RoPDF8fGUubGVuZ3RoPjYzKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6Ikhvc3RuYW1lIGxhYmVsIGxlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxIHRvIDYzIGNoYXJhY3RlcnMsIGluY2x1c2l2ZS4ifSk7aWYoIWkudGVzdChlKSl0aHJvdyBvLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6ZSsiIGlzIG5vdCBob3N0bmFtZSBjb21wYXRpYmxlLiJ9KX0pKX1yZXR1cm4gZX19fSx7Ii4uL2NvcmUiOjE5LCIuLi91dGlsIjo3NH1dLDQ4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vanNvbi9idWlsZGVyIiksaT1lKCIuLi9qc29uL3BhcnNlciIpLHM9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3Qsbj1lLnNlcnZpY2UuYXBpLHI9bi50YXJnZXRQcmVmaXgrIi4iK24ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0ubmFtZSxpPW4uanNvblZlcnNpb258fCIxLjAiLGE9bi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxjPW5ldyBvOzE9PT1pJiYoaT0iMS4wIiksbi5hd3NRdWVyeUNvbXBhdGlibGUmJih0LnBhcmFtc3x8KHQucGFyYW1zPXt9KSxPYmplY3QuYXNzaWduKHQucGFyYW1zLGUucGFyYW1zKSksdC5ib2R5PWMuYnVpbGQoZS5wYXJhbXN8fHt9LGEpLHQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtYW16LWpzb24tIitpLHQuaGVhZGVyc1siWC1BbXotVGFyZ2V0Il09cixzKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj1lLmh0dHBSZXNwb25zZTtpZih0LmNvZGU9bi5oZWFkZXJzWyJ4LWFtem4tZXJyb3J0eXBlIl18fCJVbmtub3duRXJyb3IiLCJzdHJpbmciPT10eXBlb2YgdC5jb2RlJiYodC5jb2RlPXQuY29kZS5zcGxpdCgiOiIpWzBdKSxuLmJvZHkubGVuZ3RoPjApdHJ5e3ZhciBvPUpTT04ucGFyc2Uobi5ib2R5LnRvU3RyaW5nKCkpLGk9by5fX3R5cGV8fG8uY29kZXx8by5Db2RlO2Zvcih2YXIgcyBpbiBpJiYodC5jb2RlPWkuc3BsaXQoIiMiKS5wb3AoKSksIlJlcXVlc3RFbnRpdHlUb29MYXJnZSI9PT10LmNvZGU/dC5tZXNzYWdlPSJSZXF1ZXN0IGJvZHkgbXVzdCBiZSBsZXNzIHRoYW4gMSBNQiI6dC5tZXNzYWdlPW8ubWVzc2FnZXx8by5NZXNzYWdlfHxudWxsLG98fHt9KSJjb2RlIiE9PXMmJiJtZXNzYWdlIiE9PXMmJih0WyJbIitzKyJdIl09IlNlZSBlcnJvci4iK3MrIiBmb3IgZGV0YWlscy4iLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHMse3ZhbHVlOm9bc10sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pKX1jYXRjaChvKXt0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c01lc3NhZ2V9ZWxzZSB0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c0NvZGUudG9TdHJpbmcoKTtlLmVycm9yPXIuZXJyb3IobmV3IEVycm9yLHQpfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCl8fCJ7fSI7aWYoITE9PT1lLnJlcXVlc3Quc2VydmljZS5jb25maWcuY29udmVydFJlc3BvbnNlVHlwZXMpZS5kYXRhPUpTT04ucGFyc2UodCk7ZWxzZXt2YXIgbj1lLnJlcXVlc3Quc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLnJlcXVlc3Qub3BlcmF0aW9uXS5vdXRwdXR8fHt9LHI9bmV3IGk7ZS5kYXRhPXIucGFyc2UodCxuKX19fX0seyIuLi9qc29uL2J1aWxkZXIiOjM3LCIuLi9qc29uL3BhcnNlciI6MzgsIi4uL3V0aWwiOjc0LCIuL2hlbHBlcnMiOjQ3fV0sNDk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi91dGlsIiksaT1lKCIuLi9xdWVyeS9xdWVyeV9wYXJhbV9zZXJpYWxpemVyIikscz1lKCIuLi9tb2RlbC9zaGFwZSIpLGE9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj1lLmh0dHBSZXF1ZXN0O24uaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCIsbi5wYXJhbXM9e1ZlcnNpb246ZS5zZXJ2aWNlLmFwaS5hcGlWZXJzaW9uLEFjdGlvbjp0Lm5hbWV9LChuZXcgaSkuc2VyaWFsaXplKGUucGFyYW1zLHQuaW5wdXQsKGZ1bmN0aW9uKGUsdCl7bi5wYXJhbXNbZV09dH0pKSxuLmJvZHk9by5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxhKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCk7aWYobi5tYXRjaCgiPFVua25vd25PcGVyYXRpb25FeGNlcHRpb24iKSl0PXtDb2RlOiJVbmtub3duT3BlcmF0aW9uIixNZXNzYWdlOiJVbmtub3duIG9wZXJhdGlvbiAiK2UucmVxdWVzdC5vcGVyYXRpb259O2Vsc2UgdHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKG4pfWNhdGNoKG4pe3Q9e0NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxNZXNzYWdlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2V9fXQucmVxdWVzdElkJiYhZS5yZXF1ZXN0SWQmJihlLnJlcXVlc3RJZD10LnJlcXVlc3RJZCksdC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fSxpPW47aWYoaS5yZXN1bHRXcmFwcGVyKXt2YXIgYT1zLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0pO2EubWVtYmVyc1tpLnJlc3VsdFdyYXBwZXJdPW4sYS5tZW1iZXJOYW1lcz1baS5yZXN1bHRXcmFwcGVyXSxvLnByb3BlcnR5KG4sIm5hbWUiLG4ucmVzdWx0V3JhcHBlciksbj1hfXZhciBjPW5ldyByLlhNTC5QYXJzZXI7aWYobiYmbi5tZW1iZXJzJiYhbi5tZW1iZXJzLl9YQU1aUmVxdWVzdElkKXt2YXIgdT1zLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0se2FwaTp7cHJvdG9jb2w6InF1ZXJ5In19LCJyZXF1ZXN0SWQiKTtuLm1lbWJlcnMuX1hBTVpSZXF1ZXN0SWQ9dX12YXIgbD1jLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSxuKTtlLnJlcXVlc3RJZD1sLl9YQU1aUmVxdWVzdElkfHxsLnJlcXVlc3RJZCxsLl9YQU1aUmVxdWVzdElkJiZkZWxldGUgbC5fWEFNWlJlcXVlc3RJZCxpLnJlc3VsdFdyYXBwZXImJmxbaS5yZXN1bHRXcmFwcGVyXSYmKG8udXBkYXRlKGwsbFtpLnJlc3VsdFdyYXBwZXJdKSxkZWxldGUgbFtpLnJlc3VsdFdyYXBwZXJdKSxlLmRhdGE9bH19fSx7Ii4uL2NvcmUiOjE5LCIuLi9tb2RlbC9zaGFwZSI6NDUsIi4uL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXIiOjUzLCIuLi91dGlsIjo3NCwiLi9oZWxwZXJzIjo0N31dLDUwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O2Z1bmN0aW9uIGkoZSx0LG4sbyl7dmFyIGk9W2UsdF0uam9pbigiLyIpO2k9aS5yZXBsYWNlKC9cLysvZywiLyIpO3ZhciBzPXt9LGE9ITE7aWYoci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgbj1vW2VdO2lmKG51bGwhPW4paWYoInVyaSI9PT10LmxvY2F0aW9uKXt2YXIgYz1uZXcgUmVnRXhwKCJcXHsiK3QubmFtZSsiKFxcKyk/XFx9Iik7aT1pLnJlcGxhY2UoYywoZnVuY3Rpb24oZSx0KXtyZXR1cm4odD9yLnVyaUVzY2FwZVBhdGg6ci51cmlFc2NhcGUpKFN0cmluZyhuKSl9KSl9ZWxzZSJxdWVyeXN0cmluZyI9PT10LmxvY2F0aW9uJiYoYT0hMCwibGlzdCI9PT10LnR5cGU/c1t0Lm5hbWVdPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci51cmlFc2NhcGUodC5tZW1iZXIudG9XaXJlRm9ybWF0KGUpLnRvU3RyaW5nKCkpfSkpOiJtYXAiPT09dC50eXBlP3IuZWFjaChuLChmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/c1tlXT10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIudXJpRXNjYXBlKFN0cmluZyhlKSl9KSk6c1tlXT1yLnVyaUVzY2FwZShTdHJpbmcodCkpfSkpOnNbdC5uYW1lXT1yLnVyaUVzY2FwZSh0LnRvV2lyZUZvcm1hdChuKS50b1N0cmluZygpKSl9KSksYSl7aSs9aS5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt2YXIgYz1bXTtyLmFycmF5RWFjaChPYmplY3Qua2V5cyhzKS5zb3J0KCksKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoc1tlXSl8fChzW2VdPVtzW2VdXSk7Zm9yKHZhciB0PTA7dDxzW2VdLmxlbmd0aDt0KyspYy5wdXNoKHIudXJpRXNjYXBlKFN0cmluZyhlKSkrIj0iK3NbZV1bdF0pfSkpLGkrPWMuam9pbigiJiIpfXJldHVybiBpfXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmh0dHBNZXRob2R9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj10LmlucHV0LHI9aShlLmh0dHBSZXF1ZXN0LmVuZHBvaW50LnBhdGgsdC5odHRwUGF0aCxuLGUucGFyYW1zKTtlLmh0dHBSZXF1ZXN0LnBhdGg9cn0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtyLmVhY2godC5pbnB1dC5tZW1iZXJzLChmdW5jdGlvbih0LG4pe3ZhciBvPWUucGFyYW1zW3RdO251bGwhPW8mJigiaGVhZGVycyI9PT1uLmxvY2F0aW9uJiYibWFwIj09PW4udHlwZT9yLmVhY2gobywoZnVuY3Rpb24odCxyKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbbi5uYW1lK3RdPXJ9KSk6ImhlYWRlciI9PT1uLmxvY2F0aW9uJiYobz1uLnRvV2lyZUZvcm1hdChvKS50b1N0cmluZygpLG4uaXNKc29uVmFsdWUmJihvPXIuYmFzZTY0LmVuY29kZShvKSksZS5odHRwUmVxdWVzdC5oZWFkZXJzW24ubmFtZV09bykpfSkpfShlKSxvKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oKXt9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt9LG89ZS5odHRwUmVzcG9uc2UsaT10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLm91dHB1dCxzPXt9O3IuZWFjaChvLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7c1tlLnRvTG93ZXJDYXNlKCldPXR9KSksci5lYWNoKGkubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgaT0odC5uYW1lfHxlKS50b0xvd2VyQ2FzZSgpO2lmKCJoZWFkZXJzIj09PXQubG9jYXRpb24mJiJtYXAiPT09dC50eXBlKXtuW2VdPXt9O3ZhciBhPXQuaXNMb2NhdGlvbk5hbWU/dC5uYW1lOiIiLGM9bmV3IFJlZ0V4cCgiXiIrYSsiKC4rKSIsImkiKTtyLmVhY2goby5oZWFkZXJzLChmdW5jdGlvbih0LHIpe3ZhciBvPXQubWF0Y2goYyk7bnVsbCE9PW8mJihuW2VdW29bMV1dPXIpfSkpfWVsc2UgaWYoImhlYWRlciI9PT10LmxvY2F0aW9uKXtpZih2b2lkIDAhPT1zW2ldKXt2YXIgdT10LmlzSnNvblZhbHVlP3IuYmFzZTY0LmRlY29kZShzW2ldKTpzW2ldO25bZV09dC50b1R5cGUodSl9fWVsc2Uic3RhdHVzQ29kZSI9PT10LmxvY2F0aW9uJiYobltlXT1wYXJzZUludChvLnN0YXR1c0NvZGUsMTApKX0pKSxlLmRhdGE9bn0sZ2VuZXJhdGVVUkk6aX19LHsiLi4vdXRpbCI6NzQsIi4vaGVscGVycyI6NDd9XSw1MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4vcmVzdCIpLGk9ZSgiLi9qc29uIikscz1lKCIuLi9qc29uL2J1aWxkZXIiKSxhPWUoIi4uL2pzb24vcGFyc2VyIiksYz1bIkdFVCIsIkhFQUQiLCJERUxFVEUiXTtmdW5jdGlvbiB1KGUsdCl7aWYoIWUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl0pe3ZhciBuPXQ/ImJpbmFyeS9vY3RldC1zdHJlYW0iOiJhcHBsaWNhdGlvbi9qc29uIjtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPW59fXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe28uYnVpbGRSZXF1ZXN0KGUpLGMuaW5kZXhPZihlLmh0dHBSZXF1ZXN0Lm1ldGhvZCk8MCYmZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHMsbj1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0O2lmKG4ucGF5bG9hZCl7dmFyIHIsbz1uLm1lbWJlcnNbbi5wYXlsb2FkXTtyPWUucGFyYW1zW24ucGF5bG9hZF0sInN0cnVjdHVyZSI9PT1vLnR5cGU/KGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKHJ8fHt9LG8pLHUoZSkpOnZvaWQgMCE9PXImJihlLmh0dHBSZXF1ZXN0LmJvZHk9ciwoImJpbmFyeSI9PT1vLnR5cGV8fG8uaXNTdHJlYW1pbmcpJiZ1KGUsITApKX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKGUucGFyYW1zLG4pLHUoZSl9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7aS5leHRyYWN0RXJyb3IoZSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe28uZXh0cmFjdERhdGEoZSk7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXSxzPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fTtpZihuLmhhc0V2ZW50T3V0cHV0LHMucGF5bG9hZCl7dmFyIGM9cy5tZW1iZXJzW3MucGF5bG9hZF0sdT1lLmh0dHBSZXNwb25zZS5ib2R5O2lmKGMuaXNFdmVudFN0cmVhbSlsPW5ldyBhLGUuZGF0YVtwYXlsb2FkXT1yLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1BV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9lLmh0dHBSZXNwb25zZS5zdHJlYW06dSxsLGMpO2Vsc2UgaWYoInN0cnVjdHVyZSI9PT1jLnR5cGV8fCJsaXN0Ij09PWMudHlwZSl7dmFyIGw9bmV3IGE7ZS5kYXRhW3MucGF5bG9hZF09bC5wYXJzZSh1LGMpfWVsc2UiYmluYXJ5Ij09PWMudHlwZXx8Yy5pc1N0cmVhbWluZz9lLmRhdGFbcy5wYXlsb2FkXT11OmUuZGF0YVtzLnBheWxvYWRdPWMudG9UeXBlKHUpfWVsc2V7dmFyIHA9ZS5kYXRhO2kuZXh0cmFjdERhdGEoZSksZS5kYXRhPXIubWVyZ2UocCxlLmRhdGEpfX0sdW5zZXRDb250ZW50TGVuZ3RoOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PXIuZ2V0UmVxdWVzdFBheWxvYWRTaGFwZShlKSYmYy5pbmRleE9mKGUuaHR0cFJlcXVlc3QubWV0aG9kKT49MCYmZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXX19fSx7Ii4uL2pzb24vYnVpbGRlciI6MzcsIi4uL2pzb24vcGFyc2VyIjozOCwiLi4vdXRpbCI6NzQsIi4vanNvbiI6NDgsIi4vcmVzdCI6NTB9XSw1MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uL3V0aWwiKSxpPWUoIi4vcmVzdCIpO3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe2kuYnVpbGRSZXF1ZXN0KGUpLFsiR0VUIiwiSEVBRCJdLmluZGV4T2YoZS5odHRwUmVxdWVzdC5tZXRob2QpPDAmJmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQsbj1uZXcgci5YTUwuQnVpbGRlcixpPWUucGFyYW1zLHM9dC5wYXlsb2FkO2lmKHMpe3ZhciBhPXQubWVtYmVyc1tzXTtpZih2b2lkIDA9PT0oaT1pW3NdKSlyZXR1cm47aWYoInN0cnVjdHVyZSI9PT1hLnR5cGUpe3ZhciBjPWEubmFtZTtlLmh0dHBSZXF1ZXN0LmJvZHk9bi50b1hNTChpLGEsYywhMCl9ZWxzZSBlLmh0dHBSZXF1ZXN0LmJvZHk9aX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT1uLnRvWE1MKGksdCx0Lm5hbWV8fHQuc2hhcGV8fG8uc3RyaW5nLnVwcGVyRmlyc3QoZS5vcGVyYXRpb24pKyJSZXF1ZXN0Iil9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ7aS5leHRyYWN0RXJyb3IoZSk7dHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSl9Y2F0Y2gobil7dD17Q29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLE1lc3NhZ2U6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX19dC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0O2kuZXh0cmFjdERhdGEoZSk7dmFyIG49ZS5yZXF1ZXN0LHM9ZS5odHRwUmVzcG9uc2UuYm9keSxhPW4uc2VydmljZS5hcGkub3BlcmF0aW9uc1tuLm9wZXJhdGlvbl0sYz1hLm91dHB1dCx1PShhLmhhc0V2ZW50T3V0cHV0LGMucGF5bG9hZCk7aWYodSl7dmFyIGw9Yy5tZW1iZXJzW3VdO2wuaXNFdmVudFN0cmVhbT8odD1uZXcgci5YTUwuUGFyc2VyLGUuZGF0YVt1XT1vLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1yLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/ZS5odHRwUmVzcG9uc2Uuc3RyZWFtOmUuaHR0cFJlc3BvbnNlLmJvZHksdCxsKSk6InN0cnVjdHVyZSI9PT1sLnR5cGU/KHQ9bmV3IHIuWE1MLlBhcnNlcixlLmRhdGFbdV09dC5wYXJzZShzLnRvU3RyaW5nKCksbCkpOiJiaW5hcnkiPT09bC50eXBlfHxsLmlzU3RyZWFtaW5nP2UuZGF0YVt1XT1zOmUuZGF0YVt1XT1sLnRvVHlwZShzKX1lbHNlIGlmKHMubGVuZ3RoPjApe3ZhciBwPSh0PW5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKHMudG9TdHJpbmcoKSxjKTtvLnVwZGF0ZShlLmRhdGEscCl9fX19LHsiLi4vY29yZSI6MTksIi4uL3V0aWwiOjc0LCIuL3Jlc3QiOjUwfV0sNTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUpe3JldHVybiBlLmlzUXVlcnlOYW1lfHwiZWMyIiE9PWUuYXBpLnByb3RvY29sP2UubmFtZTplLm5hbWVbMF0udG9VcHBlckNhc2UoKStlLm5hbWUuc3Vic3RyKDEpfWZ1bmN0aW9uIHMoZSx0LG4sbyl7ci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24obixyKXt2YXIgcz10W25dO2lmKG51bGwhPXMpe3ZhciBjPWkocik7YShjPWU/ZSsiLiIrYzpjLHMscixvKX19KSl9ZnVuY3Rpb24gYShlLHQsbixvKXtudWxsIT10JiYoInN0cnVjdHVyZSI9PT1uLnR5cGU/cyhlLHQsbixvKToibGlzdCI9PT1uLnR5cGU/ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHM9bi5tZW1iZXJ8fHt9OzAhPT10Lmxlbmd0aD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPSIuIisocisxKTtpZigiZWMyIj09PW4uYXBpLnByb3RvY29sKWMrPSIiO2Vsc2UgaWYobi5mbGF0dGVuZWQpe2lmKHMubmFtZSl7dmFyIHU9ZS5zcGxpdCgiLiIpO3UucG9wKCksdS5wdXNoKGkocykpLGU9dS5qb2luKCIuIil9fWVsc2UgYz0iLiIrKHMubmFtZT9zLm5hbWU6Im1lbWJlciIpK2M7YShlK2MsdCxzLG8pfSkpOm8uY2FsbCh0aGlzLGUsbnVsbCl9KGUsdCxuLG8pOiJtYXAiPT09bi50eXBlP2Z1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPTE7ci5lYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIHM9KG4uZmxhdHRlbmVkPyIuIjoiLmVudHJ5LiIpK2krKysiLiIsYz1zKyhuLmtleS5uYW1lfHwia2V5IiksdT1zKyhuLnZhbHVlLm5hbWV8fCJ2YWx1ZSIpO2EoZStjLHQsbi5rZXksbyksYShlK3UscixuLnZhbHVlLG8pfSkpfShlLHQsbixvKTpvKGUsbi50b1dpcmVGb3JtYXQodCkudG9TdHJpbmcoKSkpfW8ucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbihlLHQsbil7cygiIixlLHQsbil9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e25vdzpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgcGVyZm9ybWFuY2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2lzRmlwc1JlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlLnN0YXJ0c1dpdGgoImZpcHMtIil8fGUuZW5kc1dpdGgoIi1maXBzIikpfSxpc0dsb2JhbFJlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJlsiYXdzLWdsb2JhbCIsImF3cy11cy1nb3YtZ2xvYmFsIl0uaW5jbHVkZXMoZSl9LGdldFJlYWxSZWdpb246ZnVuY3Rpb24oZSl7cmV0dXJuWyJmaXBzLWF3cy1nbG9iYWwiLCJhd3MtZmlwcyIsImF3cy1nbG9iYWwiXS5pbmNsdWRlcyhlKT8idXMtZWFzdC0xIjpbImZpcHMtYXdzLXVzLWdvdi1nbG9iYWwiLCJhd3MtdXMtZ292LWdsb2JhbCJdLmluY2x1ZGVzKGUpPyJ1cy1nb3Ytd2VzdC0xIjplLnJlcGxhY2UoL2ZpcHMtKGRrci18cHJvZC0pP3wtZmlwcy8sIiIpfX19LHt9XSw1NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vdXRpbCIpLG89ZSgiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiIpO2Z1bmN0aW9uIGkoZSx0KXtyLmVhY2godCwoZnVuY3Rpb24odCxuKXsiZ2xvYmFsRW5kcG9pbnQiIT09dCYmKHZvaWQgMCE9PWUuY29uZmlnW3RdJiZudWxsIT09ZS5jb25maWdbdF18fChlLmNvbmZpZ1t0XT1uKSl9KSl9dC5leHBvcnRzPXtjb25maWd1cmVFbmRwb2ludDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWcucmVnaW9uLG49ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5zcGxpdCgiLSIpO3JldHVybiB0Lmxlbmd0aDwzP251bGw6dC5zbGljZSgwLHQubGVuZ3RoLTIpLmpvaW4oIi0iKSsiLSoifSh0KSxyPWUuYXBpLmVuZHBvaW50UHJlZml4O3JldHVybltbdCxyXSxbbixyXSxbdCwiKiJdLFtuLCIqIl0sWyIqIixyXSxbdCwiaW50ZXJuYWwtKiJdLFsiKiIsIioiXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXT9lLmpvaW4oIi8iKTpudWxsfSkpfShlKSxuPWUuY29uZmlnLnVzZUZpcHNFbmRwb2ludCxyPWUuY29uZmlnLnVzZUR1YWxzdGFja0VuZHBvaW50LHM9MDtzPHQubGVuZ3RoO3MrKyl7dmFyIGE9dFtzXTtpZihhKXt2YXIgYz1uP3I/by5kdWFsc3RhY2tGaXBzUnVsZXM6by5maXBzUnVsZXM6cj9vLmR1YWxzdGFja1J1bGVzOm8ucnVsZXM7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMsYSkpe3ZhciB1PWNbYV07InN0cmluZyI9PXR5cGVvZiB1JiYodT1vLnBhdHRlcm5zW3VdKSxlLmlzR2xvYmFsRW5kcG9pbnQ9ISF1Lmdsb2JhbEVuZHBvaW50LHUuc2lnbmluZ1JlZ2lvbiYmKGUuc2lnbmluZ1JlZ2lvbj11LnNpZ25pbmdSZWdpb24pLHUuc2lnbmF0dXJlVmVyc2lvbnx8KHUuc2lnbmF0dXJlVmVyc2lvbj0idjQiKTt2YXIgbD0iYmVhcmVyIj09PShlLmFwaSYmZS5hcGkuc2lnbmF0dXJlVmVyc2lvbik7cmV0dXJuIHZvaWQgaShlLE9iamVjdC5hc3NpZ24oe30sdSx7c2lnbmF0dXJlVmVyc2lvbjpsPyJiZWFyZXIiOnUuc2lnbmF0dXJlVmVyc2lvbn0pKX19fX0sZ2V0RW5kcG9pbnRTdWZmaXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXsiXih1c3xldXxhcHxzYXxjYXxtZSlcXC1cXHcrXFwtXFxkKyQiOiJhbWF6b25hd3MuY29tIiwiXmNuXFwtXFx3K1xcLVxcZCskIjoiYW1hem9uYXdzLmNvbS5jbiIsIl51c1xcLWdvdlxcLVxcdytcXC1cXGQrJCI6ImFtYXpvbmF3cy5jb20iLCJedXNcXC1pc29cXC1cXHcrXFwtXFxkKyQiOiJjMnMuaWMuZ292IiwiXnVzXFwtaXNvYlxcLVxcdytcXC1cXGQrJCI6InNjMnMuc2dvdi5nb3YifSxuPU9iamVjdC5rZXlzKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89UmVnRXhwKG5bcl0pLGk9dFtuW3JdXTtpZihvLnRlc3QoZSkpcmV0dXJuIGl9cmV0dXJuImFtYXpvbmF3cy5jb20ifX19LHsiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiI6NTcsIi4vdXRpbCI6NzR9XSw1NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sImV1LWlzb2UtKi8qIjoiZXVJc29lIiwidXMtaXNvLSovKiI6InVzSXNvIiwidXMtaXNvYi0qLyoiOiJ1c0lzb2IiLCIqL2J1ZGdldHMiOiJnbG9iYWxTU0wiLCIqL2Nsb3VkZnJvbnQiOiJnbG9iYWxTU0wiLCIqL3N0cyI6Imdsb2JhbFNTTCIsIiovaW1wb3J0ZXhwb3J0Ijp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiIsZ2xvYmFsRW5kcG9pbnQ6ITB9LCIqL3JvdXRlNTMiOiJnbG9iYWxTU0wiLCJjbi0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20uY24iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246ImNuLW5vcnRod2VzdC0xIn0sInVzLWdvdi0qL3JvdXRlNTMiOiJnbG9iYWxHb3ZDbG91ZCIsInVzLWlzby0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LmMycy5pYy5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzby1lYXN0LTEifSwidXMtaXNvYi0qL3JvdXRlNTMiOntlbmRwb2ludDoie3NlcnZpY2V9LnNjMnMuc2dvdi5nb3YiLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWlzb2ItZWFzdC0xIn0sIiovd2FmIjoiZ2xvYmFsU1NMIiwiKi9pYW0iOiJnbG9iYWxTU0wiLCJjbi0qL2lhbSI6e2VuZHBvaW50OiJ7c2VydmljZX0uY24tbm9ydGgtMS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aC0xIn0sInVzLWlzby0qL2lhbSI6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtaXNvLWVhc3QtMS5jMnMuaWMuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc28tZWFzdC0xIn0sInVzLWdvdi0qL2lhbSI6Imdsb2JhbEdvdkNsb3VkIiwiKi9jZSI6e2VuZHBvaW50OiJ7c2VydmljZX0udXMtZWFzdC0xLmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWVhc3QtMSJ9LCJjbi0qL2NlIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5jbi1ub3J0aHdlc3QtMS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aHdlc3QtMSJ9LCJ1cy1nb3YtKi9zdHMiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwidXMtZ292LXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtd2VzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy13ZXN0LTIvczMiOiJzM3NpZ25hdHVyZSIsImV1LXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwiYXAtc291dGhlYXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsImFwLXNvdXRoZWFzdC0yL3MzIjoiczNzaWduYXR1cmUiLCJhcC1ub3J0aGVhc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwic2EtZWFzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJ1cy1lYXN0LTEvczMiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InMzIn0sInVzLWVhc3QtMS9zZGIiOntlbmRwb2ludDoie3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InYyIn0sIiovc2RiIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiJ9LCIqL3Jlc291cmNlLWV4cGxvcmVyLTIiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2tlbmRyYS1yYW5raW5nIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9pbnRlcm5ldG1vbml0b3IiOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2NvZGVjYXRhbHlzdCI6Imdsb2JhbER1YWxzdGFja0J5RGVmYXVsdCJ9LGZpcHNSdWxlczp7IiovKiI6ImZpcHNTdGFuZGFyZCIsInVzLWdvdi0qLyoiOiJmaXBzU3RhbmRhcmQiLCJ1cy1pc28tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmMycy5pYy5nb3YifSwidXMtaXNvLSovZG1zIjoidXNJc28iLCJ1cy1pc29iLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5zYzJzLnNnb3YuZ292In0sInVzLWlzb2ItKi9kbXMiOiJ1c0lzb2IiLCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LCIqL2FwaS5lY3IiOiJmaXBzLmFwaS5lY3IiLCIqL2FwaS5zYWdlbWFrZXIiOiJmaXBzLmFwaS5zYWdlbWFrZXIiLCIqL2JhdGNoIjoiZmlwc0RvdFByZWZpeCIsIiovZWtzIjoiZmlwc0RvdFByZWZpeCIsIiovbW9kZWxzLmxleCI6ImZpcHMubW9kZWxzLmxleCIsIiovcnVudGltZS5sZXgiOiJmaXBzLnJ1bnRpbWUubGV4IiwiKi9ydW50aW1lLnNhZ2VtYWtlciI6e2VuZHBvaW50OiJydW50aW1lLWZpcHMuc2FnZW1ha2VyLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiKi9pYW0iOiJmaXBzV2l0aG91dFJlZ2lvbiIsIiovcm91dGU1MyI6ImZpcHNXaXRob3V0UmVnaW9uIiwiKi90cmFuc2NyaWJlIjoiZmlwc0RvdFByZWZpeCIsIiovd2FmIjoiZmlwc1dpdGhvdXRSZWdpb24iLCJ1cy1nb3YtKi90cmFuc2NyaWJlIjoiZmlwc0RvdFByZWZpeCIsInVzLWdvdi0qL2FwaS5lY3IiOiJmaXBzLmFwaS5lY3IiLCJ1cy1nb3YtKi9tb2RlbHMubGV4IjoiZmlwcy5tb2RlbHMubGV4IiwidXMtZ292LSovcnVudGltZS5sZXgiOiJmaXBzLnJ1bnRpbWUubGV4IiwidXMtZ292LSovYWNjZXNzLWFuYWx5emVyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FjbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9hY20tcGNhIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwaS5zYWdlbWFrZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovYXBwY29uZmlnIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2FwcGxpY2F0aW9uLWF1dG9zY2FsaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2F1dG9zY2FsaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2F1dG9zY2FsaW5nLXBsYW5zIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2JhdGNoIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nhc3NhbmRyYSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZGRpcmVjdG9yeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZGZvcm1hdGlvbiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9jbG91ZHNoZWxsIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3VkdHJhaWwiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovY29uZmlnIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nvbm5lY3QiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZGF0YWJyZXciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZGxtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2RtcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9keW5hbW9kYiI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9lYzIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWtzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNhY2hlIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNiZWFuc3RhbGsiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY2xvYWRiYWxhbmNpbmciOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY21hcHJlZHVjZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ldmVudHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZmlzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2dsYWNpZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZ3JlZW5ncmFzcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ndWFyZGR1dHkiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovaWRlbnRpdHlzdG9yZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9pbWFnZWJ1aWxkZXIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSova2Fma2EiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSova2luZXNpcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9sb2dzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL21lZGlhY29udmVydCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9tb25pdG9yaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL25ldHdvcmttYW5hZ2VyIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL29yZ2FuaXphdGlvbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovb3V0cG9zdHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcGFydGljaXBhbnQuY29ubmVjdCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9yYW0iOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovcmRzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3JlZHNoaWZ0IjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3Jlc291cmNlLWdyb3VwcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ydW50aW1lLnNhZ2VtYWtlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2ZXJsZXNzcmVwbyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlY2F0YWxvZy1hcHByZWdpc3RyeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlcXVvdGFzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zcXMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3NtIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N0cmVhbXMuZHluYW1vZGIiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3RzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3N1cHBvcnQiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3dmIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi13ZXN0LTEvc3RhdGVzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWlzby1lYXN0LTEvZWxhc3RpY2ZpbGVzeXN0ZW0iOntlbmRwb2ludDoiZWxhc3RpY2ZpbGVzeXN0ZW0tZmlwcy57cmVnaW9ufS5jMnMuaWMuZ292In0sInVzLWdvdi13ZXN0LTEvb3JnYW5pemF0aW9ucyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3Ytd2VzdC0xL3JvdXRlNTMiOntlbmRwb2ludDoicm91dGU1My51cy1nb3YuYW1hem9uYXdzLmNvbSJ9LCIqL3Jlc291cmNlLWV4cGxvcmVyLTIiOiJmaXBzRHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9rZW5kcmEtcmFua2luZyI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovaW50ZXJuZXRtb25pdG9yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9jb2RlY2F0YWx5c3QiOiJmaXBzR2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0In0sZHVhbHN0YWNrUnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFwaS5hd3MifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYW1hem9ud2Vic2VydmljZXMuY29tLmNuIn0sIiovczMiOiJkdWFsc3RhY2tMZWdhY3kiLCJjbi0qL3MzIjoiZHVhbHN0YWNrTGVnYWN5Q24iLCIqL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tMZWdhY3kiLCJjbi0qL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tMZWdhY3lDbiIsImFwLXNvdXRoLTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwiZXUtd2VzdC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInNhLWVhc3QtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJ1cy1lYXN0LTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwidXMtZWFzdC0yL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInVzLXdlc3QtMi9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIifSxkdWFsc3RhY2tGaXBzUnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmF3cyJ9LCJjbi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYXBpLmFtYXpvbndlYnNlcnZpY2VzLmNvbS5jbiJ9LCIqL3MzIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeSIsImNuLSovczMiOiJkdWFsc3RhY2tGaXBzTGVnYWN5Q24iLCIqL3MzLWNvbnRyb2wiOiJkdWFsc3RhY2tGaXBzTGVnYWN5IiwiY24tKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeUNuIn0scGF0dGVybnM6e2dsb2JhbFNTTDp7ZW5kcG9pbnQ6Imh0dHBzOi8ve3NlcnZpY2V9LmFtYXpvbmF3cy5jb20iLGdsb2JhbEVuZHBvaW50OiEwLHNpZ25pbmdSZWdpb246InVzLWVhc3QtMSJ9LGdsb2JhbEdvdkNsb3VkOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWdvdi5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1nb3Ytd2VzdC0xIn0sczNzaWduYXR1cmU6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoiczMifSxldUlzb2U6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uY2xvdWQuYWRjLWUudWsifSx1c0lzbzp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5jMnMuaWMuZ292In0sdXNJc29iOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LnNjMnMuc2dvdi5nb3YifSxmaXBzU3RhbmRhcmQ6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZmlwc0RvdFByZWZpeDp7ZW5kcG9pbnQ6ImZpcHMue3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxmaXBzV2l0aG91dFJlZ2lvbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmFtYXpvbmF3cy5jb20ifSwiZmlwcy5hcGkuZWNyIjp7ZW5kcG9pbnQ6ImVjci1maXBzLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiZmlwcy5hcGkuc2FnZW1ha2VyIjp7ZW5kcG9pbnQ6ImFwaS1maXBzLnNhZ2VtYWtlci57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImZpcHMubW9kZWxzLmxleCI6e2VuZHBvaW50OiJtb2RlbHMtZmlwcy5sZXgue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJmaXBzLnJ1bnRpbWUubGV4Ijp7ZW5kcG9pbnQ6InJ1bnRpbWUtZmlwcy5sZXgue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGZpcHNXaXRoU2VydmljZU9ubHk6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0xlZ2FjeTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0xlZ2FjeUNuOntlbmRwb2ludDoie3NlcnZpY2V9LmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sZHVhbHN0YWNrRmlwc0xlZ2FjeTp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZHVhbHN0YWNrRmlwc0xlZ2FjeUNuOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSxkdWFsc3RhY2tMZWdhY3lFYzI6e2VuZHBvaW50OiJhcGkuZWMyLntyZWdpb259LmF3cyJ9LGR1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYXdzIn0sZmlwc0R1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hd3MifSxnbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0uZ2xvYmFsLmFwaS5hd3MifSxmaXBzR2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMuZ2xvYmFsLmFwaS5hd3MifX19fSx7fV0sNTg6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7dmFyIG49ZSgiLi9jb3JlIikscj1lKCIuL3N0YXRlX21hY2hpbmUiKSxvPW4udXRpbC5pbmhlcml0LGk9bi51dGlsLmRvbWFpbixzPWUoImptZXNwYXRoIiksYT17c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0sYz1uZXcgcjtjLnNldHVwU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO24uX2hhbHRIYW5kbGVyc09uRXJyb3I9ITEsbi5lbWl0KG4uX2FzbS5jdXJyZW50U3RhdGUsKGZ1bmN0aW9uKGUpe2lmKGUpaWYocj1uLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHIuX2FzbS5jdXJyZW50U3RhdGUpKXtpZighKGkmJm4uZG9tYWluIGluc3RhbmNlb2YgaS5Eb21haW4pKXRocm93IGU7ZS5kb21haW5FbWl0dGVyPW4sZS5kb21haW49bi5kb21haW4sZS5kb21haW5UaHJvd249ITEsbi5kb21haW4uZW1pdCgiZXJyb3IiLGUpfWVsc2Ugbi5yZXNwb25zZS5lcnJvcj1lLHQoZSk7ZWxzZSB0KG4ucmVzcG9uc2UuZXJyb3IpO3ZhciByfSkpfTt0aGlzLmFkZFN0YXRlKCJ2YWxpZGF0ZSIsImJ1aWxkIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoImJ1aWxkIiwiYWZ0ZXJCdWlsZCIsInJlc3RhcnQiLGUpLHRoaXMuYWRkU3RhdGUoImFmdGVyQnVpbGQiLCJzaWduIiwicmVzdGFydCIsZSksdGhpcy5hZGRTdGF0ZSgic2lnbiIsInNlbmQiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgicmV0cnkiLCJhZnRlclJldHJ5IiwiYWZ0ZXJSZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgiYWZ0ZXJSZXRyeSIsInNpZ24iLCJlcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgic2VuZCIsInZhbGlkYXRlUmVzcG9uc2UiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgidmFsaWRhdGVSZXNwb25zZSIsImV4dHJhY3REYXRhIiwiZXh0cmFjdEVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJleHRyYWN0RXJyb3IiLCJleHRyYWN0RGF0YSIsInJldHJ5IixlKSx0aGlzLmFkZFN0YXRlKCJleHRyYWN0RGF0YSIsInN1Y2Nlc3MiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgicmVzdGFydCIsImJ1aWxkIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoInN1Y2Nlc3MiLCJjb21wbGV0ZSIsImNvbXBsZXRlIixlKSx0aGlzLmFkZFN0YXRlKCJlcnJvciIsImNvbXBsZXRlIiwiY29tcGxldGUiLGUpLHRoaXMuYWRkU3RhdGUoImNvbXBsZXRlIixudWxsLG51bGwsZSl9LGMuc2V0dXBTdGF0ZXMoKSxuLlJlcXVlc3Q9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG8pe3ZhciBzPWUuZW5kcG9pbnQsYT1lLmNvbmZpZy5yZWdpb24sdT1lLmNvbmZpZy5jdXN0b21Vc2VyQWdlbnQ7ZS5zaWduaW5nUmVnaW9uP2E9ZS5zaWduaW5nUmVnaW9uOmUuaXNHbG9iYWxFbmRwb2ludCYmKGE9InVzLWVhc3QtMSIpLHRoaXMuZG9tYWluPWkmJmkuYWN0aXZlLHRoaXMuc2VydmljZT1lLHRoaXMub3BlcmF0aW9uPXQsdGhpcy5wYXJhbXM9b3x8e30sdGhpcy5odHRwUmVxdWVzdD1uZXcgbi5IdHRwUmVxdWVzdChzLGEpLHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQodSksdGhpcy5zdGFydFRpbWU9ZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLHRoaXMucmVzcG9uc2U9bmV3IG4uUmVzcG9uc2UodGhpcyksdGhpcy5fYXNtPW5ldyByKGMuc3RhdGVzLCJ2YWxpZGF0ZSIpLHRoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3I9ITEsbi5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzKSx0aGlzLmVtaXQ9dGhpcy5lbWl0RXZlbnR9LHNlbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCJjYWxsYmFjayIpLHRoaXMub24oImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7ZS5jYWxsKHQsdC5lcnJvcix0LmRhdGEpfSkpKSx0aGlzLnJ1blRvKCksdGhpcy5yZXNwb25zZX0sYnVpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVuVG8oInNlbmQiLGUpfSxydW5UbzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9hc20ucnVuVG8oZSx0LHRoaXMpLHRoaXN9LGFib3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJ2YWxpZGF0ZVJlc3BvbnNlIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoImV4dHJhY3RFcnJvciIpLHRoaXMub24oInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbihlKXtlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3IoIlJlcXVlc3QgYWJvcnRlZCBieSB1c2VyIikse2NvZGU6IlJlcXVlc3RBYm9ydGVkRXJyb3IiLHJldHJ5YWJsZTohMX0pfSkpLHRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtJiYhdGhpcy5odHRwUmVxdWVzdC5zdHJlYW0uZGlkQ2FsbGJhY2smJih0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbS5hYm9ydCgpLHRoaXMuaHR0cFJlcXVlc3QuX2Fib3J0Q2FsbGJhY2s/dGhpcy5odHRwUmVxdWVzdC5fYWJvcnRDYWxsYmFjaygpOnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJzZW5kIikpLHRoaXN9LGVhY2hQYWdlOmZ1bmN0aW9uKGUpe2U9bi51dGlsLmZuLm1ha2VBc3luYyhlLDMpLHRoaXMub24oImNvbXBsZXRlIiwoZnVuY3Rpb24gdChyKXtlLmNhbGwocixyLmVycm9yLHIuZGF0YSwoZnVuY3Rpb24obyl7ITEhPT1vJiYoci5oYXNOZXh0UGFnZSgpP3IubmV4dFBhZ2UoKS5vbigiY29tcGxldGUiLHQpLnNlbmQoKTplLmNhbGwocixudWxsLG51bGwsbi51dGlsLmZuLm5vb3ApKX0pKX0pKS5zZW5kKCl9LGVhY2hJdGVtOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5lYWNoUGFnZSgoZnVuY3Rpb24ocixvKXtpZihyKXJldHVybiBlKHIsbnVsbCk7aWYobnVsbD09PW8pcmV0dXJuIGUobnVsbCxudWxsKTt2YXIgaT10LnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0Lm9wZXJhdGlvbikucmVzdWx0S2V5O0FycmF5LmlzQXJyYXkoaSkmJihpPWlbMF0pO3ZhciBhPXMuc2VhcmNoKG8saSksYz0hMDtyZXR1cm4gbi51dGlsLmFycmF5RWFjaChhLChmdW5jdGlvbih0KXtpZighMT09PShjPWUobnVsbCx0KSkpcmV0dXJuIG4udXRpbC5hYm9ydH0pKSxjfSkpfSxpc1BhZ2VhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0aGlzLm9wZXJhdGlvbil9LGNyZWF0ZVJlYWRTdHJlYW06ZnVuY3Rpb24oKXt2YXIgZT1uLnV0aWwuc3RyZWFtLHI9dGhpcyxvPW51bGw7cmV0dXJuIDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/KG89bmV3IGUuUGFzc1Rocm91Z2gsdC5uZXh0VGljaygoZnVuY3Rpb24oKXtyLnNlbmQoKX0pKSk6KChvPW5ldyBlLlN0cmVhbSkucmVhZGFibGU9ITAsby5zZW50PSExLG8ub24oIm5ld0xpc3RlbmVyIiwoZnVuY3Rpb24oZSl7by5zZW50fHwiZGF0YSIhPT1lfHwoby5zZW50PSEwLHQubmV4dFRpY2soKGZ1bmN0aW9uKCl7ci5zZW5kKCl9KSkpfSkpKSx0aGlzLm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe28uZW1pdCgiZXJyb3IiLGUpfSkpLHRoaXMub24oImh0dHBIZWFkZXJzIiwoZnVuY3Rpb24odCxpLHMpe2lmKHQ8MzAwKXtyLnJlbW92ZUxpc3RlbmVyKCJodHRwRGF0YSIsbi5FdmVudExpc3RlbmVycy5Db3JlLkhUVFBfREFUQSksci5yZW1vdmVMaXN0ZW5lcigiaHR0cEVycm9yIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuSFRUUF9FUlJPUiksci5vbigiaHR0cEVycm9yIiwoZnVuY3Rpb24oZSl7cy5lcnJvcj1lLHMuZXJyb3IucmV0cnlhYmxlPSExfSkpO3ZhciBhLGM9ITE7aWYoIkhFQUQiIT09ci5odHRwUmVxdWVzdC5tZXRob2QmJihhPXBhcnNlSW50KGlbImNvbnRlbnQtbGVuZ3RoIl0sMTApKSx2b2lkIDAhPT1hJiYhaXNOYU4oYSkmJmE+PTApe2M9ITA7dmFyIHU9MH12YXIgbD1mdW5jdGlvbigpe2MmJnUhPT1hP28uZW1pdCgiZXJyb3IiLG4udXRpbC5lcnJvcihuZXcgRXJyb3IoIlN0cmVhbSBjb250ZW50IGxlbmd0aCBtaXNtYXRjaC4gUmVjZWl2ZWQgIit1KyIgb2YgIithKyIgYnl0ZXMuIikse2NvZGU6IlN0cmVhbUNvbnRlbnRMZW5ndGhNaXNtYXRjaCJ9KSk6Mj09PW4uSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9vLmVuZCgpOm8uZW1pdCgiZW5kIil9LHA9cy5odHRwUmVzcG9uc2UuY3JlYXRlVW5idWZmZXJlZFN0cmVhbSgpO2lmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24paWYoYyl7dmFyIGQ9bmV3IGUuUGFzc1Rocm91Z2g7ZC5fd3JpdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoJiYodSs9dC5sZW5ndGgpLGUuUGFzc1Rocm91Z2gucHJvdG90eXBlLl93cml0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQub24oImVuZCIsbCksby5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtjPSExLHAudW5waXBlKGQpLGQuZW1pdCgiZW5kIiksZC5lbmQoKX0pKSxwLnBpcGUoZCkucGlwZShvLHtlbmQ6ITF9KX1lbHNlIHAucGlwZShvKTtlbHNlIGMmJnAub24oImRhdGEiLChmdW5jdGlvbihlKXtlJiZlLmxlbmd0aCYmKHUrPWUubGVuZ3RoKX0pKSxwLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7by5lbWl0KCJkYXRhIixlKX0pKSxwLm9uKCJlbmQiLGwpO3Aub24oImVycm9yIiwoZnVuY3Rpb24oZSl7Yz0hMSxvLmVtaXQoImVycm9yIixlKX0pKX19KSksb30sZW1pdEV2ZW50OmZ1bmN0aW9uKGUsdCxyKXsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCx0PW51bGwpLHJ8fChyPWZ1bmN0aW9uKCl7fSksdHx8KHQ9dGhpcy5ldmVudFBhcmFtZXRlcnMoZSx0aGlzLnJlc3BvbnNlKSksbi5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLGUsdCwoZnVuY3Rpb24oZSl7ZSYmKHRoaXMucmVzcG9uc2UuZXJyb3I9ZSksci5jYWxsKHRoaXMsZSl9KSl9LGV2ZW50UGFyYW1ldGVyczpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJyZXN0YXJ0IjpjYXNlInZhbGlkYXRlIjpjYXNlInNpZ24iOmNhc2UiYnVpbGQiOmNhc2UiYWZ0ZXJWYWxpZGF0ZSI6Y2FzZSJhZnRlckJ1aWxkIjpyZXR1cm5bdGhpc107Y2FzZSJlcnJvciI6cmV0dXJuW3RoaXMucmVzcG9uc2UuZXJyb3IsdGhpcy5yZXNwb25zZV07ZGVmYXVsdDpyZXR1cm5bdGhpcy5yZXNwb25zZV19fSxwcmVzaWduOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCJmdW5jdGlvbiIhPXR5cGVvZiBlfHwodD1lLGU9bnVsbCksKG5ldyBuLlNpZ25lcnMuUHJlc2lnbikuc2lnbih0aGlzLnRvR2V0KCksZSx0KX0saXNQcmVzaWduZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaHR0cFJlcXVlc3QuaGVhZGVycywicHJlc2lnbmVkLWV4cGlyZXMiKX0sdG9VbmF1dGhlbnRpY2F0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5BdXRoZW50aWNhdGVkPSEwLHRoaXMucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfQ1JFREVOVElBTFMpLHRoaXMucmVtb3ZlTGlzdGVuZXIoInNpZ24iLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5TSUdOKSx0aGlzfSx0b0dldDpmdW5jdGlvbigpe3JldHVybiJxdWVyeSIhPT10aGlzLnNlcnZpY2UuYXBpLnByb3RvY29sJiYiZWMyIiE9PXRoaXMuc2VydmljZS5hcGkucHJvdG9jb2x8fCh0aGlzLnJlbW92ZUxpc3RlbmVyKCJidWlsZCIsdGhpcy5idWlsZEFzR2V0KSx0aGlzLmFkZExpc3RlbmVyKCJidWlsZCIsdGhpcy5idWlsZEFzR2V0KSksdGhpc30sYnVpbGRBc0dldDpmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD0iR0VUIixlLmh0dHBSZXF1ZXN0LnBhdGg9ZS5zZXJ2aWNlLmVuZHBvaW50LnBhdGgrIj8iK2UuaHR0cFJlcXVlc3QuYm9keSxlLmh0dHBSZXF1ZXN0LmJvZHk9IiIsZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXX0saGFsdEhhbmRsZXJzT25FcnJvcjpmdW5jdGlvbigpe3RoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3I9ITB9fSksbi5SZXF1ZXN0LmFkZFByb21pc2VzVG9DbGFzcz1mdW5jdGlvbihlKXt0aGlzLnByb3RvdHlwZS5wcm9taXNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgicHJvbWlzZSIpLG5ldyBlKChmdW5jdGlvbihlLG4pe3Qub24oImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7dC5lcnJvcj9uKHQuZXJyb3IpOmUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuZGF0YXx8e30sIiRyZXNwb25zZSIse3ZhbHVlOnR9KSl9KSksdC5ydW5UbygpfSkpfX0sbi5SZXF1ZXN0LmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJvdG90eXBlLnByb21pc2V9LG4udXRpbC5hZGRQcm9taXNlcyhuLlJlcXVlc3QpLG4udXRpbC5taXhpbihuLlJlcXVlc3Qsbi5TZXF1ZW50aWFsRXhlY3V0b3IpfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL3N0YXRlX21hY2hpbmUiOjczLF9wcm9jZXNzOjkxLGptZXNwYXRoOjkwfV0sNTk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0LGk9ZSgiam1lc3BhdGgiKTtmdW5jdGlvbiBzKGUpe3ZhciB0PWUucmVxdWVzdC5fd2FpdGVyLG49dC5jb25maWcuYWNjZXB0b3JzLHI9ITEsbz0icmV0cnkiO24uZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIXIpe3ZhciBpPXQubWF0Y2hlcnNbbi5tYXRjaGVyXTtpJiZpKGUsbi5leHBlY3RlZCxuLmFyZ3VtZW50KSYmKHI9ITAsbz1uLnN0YXRlKX19KSksIXImJmUuZXJyb3ImJihvPSJmYWlsdXJlIiksInN1Y2Nlc3MiPT09bz90LnNldFN1Y2Nlc3MoZSk6dC5zZXRFcnJvcihlLCJyZXRyeSI9PT1vKX1yLlJlc291cmNlV2FpdGVyPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXJ2aWNlPWUsdGhpcy5zdGF0ZT10LHRoaXMubG9hZFdhaXRlckNvbmZpZyh0aGlzLnN0YXRlKX0sc2VydmljZTpudWxsLHN0YXRlOm51bGwsY29uZmlnOm51bGwsbWF0Y2hlcnM6e3BhdGg6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuIGkuc3RyaWN0RGVlcEVxdWFsKHIsdCl9LHBhdGhBbGw6ZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgcj1pLnNlYXJjaChlLmRhdGEsbil9Y2F0Y2goZSl7cmV0dXJuITF9QXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKTt2YXIgbz1yLmxlbmd0aDtpZighbylyZXR1cm4hMTtmb3IodmFyIHM9MDtzPG87cysrKWlmKCFpLnN0cmljdERlZXBFcXVhbChyW3NdLHQpKXJldHVybiExO3JldHVybiEwfSxwYXRoQW55OmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfUFycmF5LmlzQXJyYXkocil8fChyPVtyXSk7Zm9yKHZhciBvPXIubGVuZ3RoLHM9MDtzPG87cysrKWlmKGkuc3RyaWN0RGVlcEVxdWFsKHJbc10sdCkpcmV0dXJuITA7cmV0dXJuITF9LHN0YXR1czpmdW5jdGlvbihlLHQpe3ZhciBuPWUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBuJiZuPT09dH0sZXJyb3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJmUuZXJyb3I/dD09PWUuZXJyb3IuY29kZTp0PT09ISFlLmVycm9yfX0sbGlzdGVuZXJzOihuZXcgci5TZXF1ZW50aWFsRXhlY3V0b3IpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlKXtlKCJSRVRSWV9DSEVDSyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0Ll93YWl0ZXI7ZS5lcnJvciYmIlJlc291cmNlTm90UmVhZHkiPT09ZS5lcnJvci5jb2RlJiYoZS5lcnJvci5yZXRyeURlbGF5PTFlMyoodC5jb25maWcuZGVsYXl8fDApKX0pKSxlKCJDSEVDS19PVVRQVVQiLCJleHRyYWN0RGF0YSIscyksZSgiQ0hFQ0tfRVJST1IiLCJleHRyYWN0RXJyb3IiLHMpfSkpLHdhaXQ6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksZSYmZS4kd2FpdGVyJiYoIm51bWJlciI9PXR5cGVvZihlPXIudXRpbC5jb3B5KGUpKS4kd2FpdGVyLmRlbGF5JiYodGhpcy5jb25maWcuZGVsYXk9ZS4kd2FpdGVyLmRlbGF5KSwibnVtYmVyIj09dHlwZW9mIGUuJHdhaXRlci5tYXhBdHRlbXB0cyYmKHRoaXMuY29uZmlnLm1heEF0dGVtcHRzPWUuJHdhaXRlci5tYXhBdHRlbXB0cyksZGVsZXRlIGUuJHdhaXRlcik7dmFyIG49dGhpcy5zZXJ2aWNlLm1ha2VSZXF1ZXN0KHRoaXMuY29uZmlnLm9wZXJhdGlvbixlKTtyZXR1cm4gbi5fd2FpdGVyPXRoaXMsbi5yZXNwb25zZS5tYXhSZXRyaWVzPXRoaXMuY29uZmlnLm1heEF0dGVtcHRzLG4uYWRkTGlzdGVuZXJzKHRoaXMubGlzdGVuZXJzKSx0JiZuLnNlbmQodCksbn0sc2V0U3VjY2VzczpmdW5jdGlvbihlKXtlLmVycm9yPW51bGwsZS5kYXRhPWUuZGF0YXx8e30sZS5yZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygiZXh0cmFjdERhdGEiKX0sc2V0RXJyb3I6ZnVuY3Rpb24oZSx0KXtlLmRhdGE9bnVsbCxlLmVycm9yPXIudXRpbC5lcnJvcihlLmVycm9yfHxuZXcgRXJyb3Ise2NvZGU6IlJlc291cmNlTm90UmVhZHkiLG1lc3NhZ2U6IlJlc291cmNlIGlzIG5vdCBpbiB0aGUgc3RhdGUgIit0aGlzLnN0YXRlLHJldHJ5YWJsZTp0fSl9LGxvYWRXYWl0ZXJDb25maWc6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tlXSl0aHJvdyBuZXcgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiU3RhdGVOb3RGb3VuZEVycm9yIixtZXNzYWdlOiJTdGF0ZSAiK2UrIiBub3QgZm91bmQuIn0pO3RoaXMuY29uZmlnPXIudXRpbC5jb3B5KHRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tlXSl9fSl9LHsiLi9jb3JlIjoxOSxqbWVzcGF0aDo5MH1dLDYwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPWUoImptZXNwYXRoIik7ci5SZXNwb25zZT1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3Q9ZSx0aGlzLmRhdGE9bnVsbCx0aGlzLmVycm9yPW51bGwsdGhpcy5yZXRyeUNvdW50PTAsdGhpcy5yZWRpcmVjdENvdW50PTAsdGhpcy5odHRwUmVzcG9uc2U9bmV3IHIuSHR0cFJlc3BvbnNlLGUmJih0aGlzLm1heFJldHJpZXM9ZS5zZXJ2aWNlLm51bVJldHJpZXMoKSx0aGlzLm1heFJlZGlyZWN0cz1lLnNlcnZpY2UuY29uZmlnLm1heFJlZGlyZWN0cyl9LG5leHRQYWdlOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5yZXF1ZXN0LnNlcnZpY2Usbz10aGlzLnJlcXVlc3Qub3BlcmF0aW9uO3RyeXt0PW4ucGFnaW5hdGlvbkNvbmZpZyhvLCEwKX1jYXRjaChlKXt0aGlzLmVycm9yPWV9aWYoIXRoaXMuaGFzTmV4dFBhZ2UoKSl7aWYoZSllKHRoaXMuZXJyb3IsbnVsbCk7ZWxzZSBpZih0aGlzLmVycm9yKXRocm93IHRoaXMuZXJyb3I7cmV0dXJuIG51bGx9dmFyIGk9ci51dGlsLmNvcHkodGhpcy5yZXF1ZXN0LnBhcmFtcyk7aWYodGhpcy5uZXh0UGFnZVRva2Vucyl7dmFyIHM9dC5pbnB1dFRva2VuOyJzdHJpbmciPT10eXBlb2YgcyYmKHM9W3NdKTtmb3IodmFyIGE9MDthPHMubGVuZ3RoO2ErKylpW3NbYV1dPXRoaXMubmV4dFBhZ2VUb2tlbnNbYV07cmV0dXJuIG4ubWFrZVJlcXVlc3QodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbixpLGUpfXJldHVybiBlP2UobnVsbCxudWxsKTpudWxsfSxoYXNOZXh0UGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlTmV4dFBhZ2VUb2tlbnMoKSwhIXRoaXMubmV4dFBhZ2VUb2tlbnN8fHZvaWQgMD09PXRoaXMubmV4dFBhZ2VUb2tlbnMmJnZvaWQgMH0sY2FjaGVOZXh0UGFnZVRva2VuczpmdW5jdGlvbigpe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCJuZXh0UGFnZVRva2VucyIpKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO3RoaXMubmV4dFBhZ2VUb2tlbnM9dm9pZCAwO3ZhciBlPXRoaXMucmVxdWVzdC5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbik7aWYoIWUpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7aWYodGhpcy5uZXh0UGFnZVRva2Vucz1udWxsLGUubW9yZVJlc3VsdHMmJiFpLnNlYXJjaCh0aGlzLmRhdGEsZS5tb3JlUmVzdWx0cykpcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7dmFyIHQ9ZS5vdXRwdXRUb2tlbjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PVt0XSksci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsdCwoZnVuY3Rpb24oZSl7dmFyIHQ9aS5zZWFyY2godGhpcy5kYXRhLGUpO3QmJih0aGlzLm5leHRQYWdlVG9rZW5zPXRoaXMubmV4dFBhZ2VUb2tlbnN8fFtdLHRoaXMubmV4dFBhZ2VUb2tlbnMucHVzaCh0KSl9KSksdGhpcy5uZXh0UGFnZVRva2Vuc319KX0seyIuL2NvcmUiOjE5LGptZXNwYXRoOjkwfV0sNjE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLlNlcXVlbnRpYWxFeGVjdXRvcj1yLnV0aWwuaW5oZXJpdCh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLl9ldmVudHM9e319LGxpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP3RoaXMuX2V2ZW50c1tlXS5zbGljZSgwKTpbXX0sb246ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLl9ldmVudHNbZV0/bj90aGlzLl9ldmVudHNbZV0udW5zaGlmdCh0KTp0aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RdLHRoaXN9LG9uQXN5bmM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Ll9pc0FzeW5jPSEwLHRoaXMub24oZSx0LG4pfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2V2ZW50c1tlXTtpZihuKXtmb3IodmFyIHI9bi5sZW5ndGgsbz0tMSxpPTA7aTxyOysraSluW2ldPT09dCYmKG89aSk7bz4tMSYmbi5zcGxpY2UobywxKX1yZXR1cm4gdGhpc30scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBlP2RlbGV0ZSB0aGlzLl9ldmVudHNbZV06dGhpcy5fZXZlbnRzPXt9LHRoaXN9LGVtaXQ6ZnVuY3Rpb24oZSx0LG4pe258fChuPWZ1bmN0aW9uKCl7fSk7dmFyIHI9dGhpcy5saXN0ZW5lcnMoZSksbz1yLmxlbmd0aDtyZXR1cm4gdGhpcy5jYWxsTGlzdGVuZXJzKHIsdCxuKSxvPjB9LGNhbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGk9dGhpcyxzPW98fG51bGw7ZnVuY3Rpb24gYShvKXtpZihvJiYocz1yLnV0aWwuZXJyb3Ioc3x8bmV3IEVycm9yLG8pLGkuX2hhbHRIYW5kbGVyc09uRXJyb3IpKXJldHVybiBuLmNhbGwoaSxzKTtpLmNhbGxMaXN0ZW5lcnMoZSx0LG4scyl9Zm9yKDtlLmxlbmd0aD4wOyl7dmFyIGM9ZS5zaGlmdCgpO2lmKGMuX2lzQXN5bmMpcmV0dXJuIHZvaWQgYy5hcHBseShpLHQuY29uY2F0KFthXSkpO3RyeXtjLmFwcGx5KGksdCl9Y2F0Y2goZSl7cz1yLnV0aWwuZXJyb3Ioc3x8bmV3IEVycm9yLGUpfWlmKHMmJmkuX2hhbHRIYW5kbGVyc09uRXJyb3IpcmV0dXJuIHZvaWQgbi5jYWxsKGkscyl9bi5jYWxsKGkscyl9LGFkZExpc3RlbmVyczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLl9ldmVudHMmJihlPWUuX2V2ZW50cyksci51dGlsLmVhY2goZSwoZnVuY3Rpb24oZSxuKXsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49W25dKSxyLnV0aWwuYXJyYXlFYWNoKG4sKGZ1bmN0aW9uKG4pe3Qub24oZSxuKX0pKX0pKSx0fSxhZGROYW1lZExpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzW2VdPW4sdGhpcy5hZGRMaXN0ZW5lcih0LG4sciksdGhpc30sYWRkTmFtZWRBc3luY0xpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBuLl9pc0FzeW5jPSEwLHRoaXMuYWRkTmFtZWRMaXN0ZW5lcihlLHQsbixyKX0sYWRkTmFtZWRMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZSgoZnVuY3Rpb24oKXt0LmFkZE5hbWVkTGlzdGVuZXIuYXBwbHkodCxhcmd1bWVudHMpfSksKGZ1bmN0aW9uKCl7dC5hZGROYW1lZEFzeW5jTGlzdGVuZXIuYXBwbHkodCxhcmd1bWVudHMpfSkpLHRoaXN9fSksci5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmFkZExpc3RlbmVyPXIuU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5vbix0LmV4cG9ydHM9ci5TZXF1ZW50aWFsRXhlY3V0b3J9LHsiLi9jb3JlIjoxOX1dLDYyOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpe3ZhciByPWUoIi4vY29yZSIpLG89ZSgiLi9tb2RlbC9hcGkiKSxpPWUoIi4vcmVnaW9uX2NvbmZpZyIpLHM9ci51dGlsLmluaGVyaXQsYT0wLGM9ZSgiLi9yZWdpb24vdXRpbHMiKTtyLlNlcnZpY2U9cyh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7aWYoIXRoaXMubG9hZFNlcnZpY2VDbGFzcyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLCJTZXJ2aWNlIG11c3QgYmUgY29uc3RydWN0ZWQgd2l0aCBgbmV3JyBvcGVyYXRvciIpO2lmKGUpe2lmKGUucmVnaW9uKXt2YXIgdD1lLnJlZ2lvbjtjLmlzRmlwc1JlZ2lvbih0KSYmKGUucmVnaW9uPWMuZ2V0UmVhbFJlZ2lvbih0KSxlLnVzZUZpcHNFbmRwb2ludD0hMCksYy5pc0dsb2JhbFJlZ2lvbih0KSYmKGUucmVnaW9uPWMuZ2V0UmVhbFJlZ2lvbih0KSl9ImJvb2xlYW4iPT10eXBlb2YgZS51c2VEdWFsc3RhY2smJiJib29sZWFuIiE9dHlwZW9mIGUudXNlRHVhbHN0YWNrRW5kcG9pbnQmJihlLnVzZUR1YWxzdGFja0VuZHBvaW50PWUudXNlRHVhbHN0YWNrKX12YXIgbj10aGlzLmxvYWRTZXJ2aWNlQ2xhc3MoZXx8e30pO2lmKG4pe3ZhciBvPXIudXRpbC5jb3B5KGUpLGk9bmV3IG4oZSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfb3JpZ2luYWxDb25maWciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9jbGllbnRJZD0rK2EsaX10aGlzLmluaXRpYWxpemUoZSl9LGluaXRpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9ci5jb25maWdbdGhpcy5zZXJ2aWNlSWRlbnRpZmllcl07aWYodGhpcy5jb25maWc9bmV3IHIuQ29uZmlnKHIuY29uZmlnKSx0JiZ0aGlzLmNvbmZpZy51cGRhdGUodCwhMCksZSYmdGhpcy5jb25maWcudXBkYXRlKGUsITApLHRoaXMudmFsaWRhdGVTZXJ2aWNlKCksdGhpcy5jb25maWcuZW5kcG9pbnR8fGkuY29uZmlndXJlRW5kcG9pbnQodGhpcyksdGhpcy5jb25maWcuZW5kcG9pbnQ9dGhpcy5lbmRwb2ludEZyb21UZW1wbGF0ZSh0aGlzLmNvbmZpZy5lbmRwb2ludCksdGhpcy5zZXRFbmRwb2ludCh0aGlzLmNvbmZpZy5lbmRwb2ludCksci5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzKSxyLlNlcnZpY2UuYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnModGhpcyksKHRoaXMuY29uZmlnLmNsaWVudFNpZGVNb25pdG9yaW5nfHxyLlNlcnZpY2UuX2NsaWVudFNpZGVNb25pdG9yaW5nKSYmdGhpcy5wdWJsaXNoZXIpe3ZhciBvPXRoaXMucHVibGlzaGVyO3RoaXMuYWRkTmFtZWRMaXN0ZW5lcigiUFVCTElTSF9BUElfQ0FMTCIsImFwaUNhbGwiLChmdW5jdGlvbihlKXtuLm5leHRUaWNrKChmdW5jdGlvbigpe28uZXZlbnRIYW5kbGVyKGUpfSkpfSkpLHRoaXMuYWRkTmFtZWRMaXN0ZW5lcigiUFVCTElTSF9BUElfQVRURU1QVCIsImFwaUNhbGxBdHRlbXB0IiwoZnVuY3Rpb24oZSl7bi5uZXh0VGljaygoZnVuY3Rpb24oKXtvLmV2ZW50SGFuZGxlcihlKX0pKX0pKX19LHZhbGlkYXRlU2VydmljZTpmdW5jdGlvbigpe30sbG9hZFNlcnZpY2VDbGFzczpmdW5jdGlvbihlKXt2YXIgdD1lO2lmKHIudXRpbC5pc0VtcHR5KHRoaXMuYXBpKSl7aWYodC5hcGlDb25maWcpcmV0dXJuIHIuU2VydmljZS5kZWZpbmVTZXJ2aWNlQXBpKHRoaXMuY29uc3RydWN0b3IsdC5hcGlDb25maWcpO2lmKHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXMpeyh0PW5ldyByLkNvbmZpZyhyLmNvbmZpZykpLnVwZGF0ZShlLCEwKTt2YXIgbj10LmFwaVZlcnNpb25zW3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXJdO3JldHVybiBuPW58fHQuYXBpVmVyc2lvbix0aGlzLmdldExhdGVzdFNlcnZpY2VDbGFzcyhuKX1yZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0sZ2V0TGF0ZXN0U2VydmljZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiBlPXRoaXMuZ2V0TGF0ZXN0U2VydmljZVZlcnNpb24oZSksbnVsbD09PXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXNbZV0mJnIuU2VydmljZS5kZWZpbmVTZXJ2aWNlQXBpKHRoaXMuY29uc3RydWN0b3IsZSksdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc1tlXX0sZ2V0TGF0ZXN0U2VydmljZVZlcnNpb246ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29uc3RydWN0b3Iuc2VydmljZXN8fDA9PT10aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIk5vIHNlcnZpY2VzIGRlZmluZWQgb24gIit0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VJZGVudGlmaWVyKTtpZihlP3IudXRpbC5pc1R5cGUoZSxEYXRlKSYmKGU9ci51dGlsLmRhdGUuaXNvODYwMShlKS5zcGxpdCgiVCIpWzBdKTplPSJsYXRlc3QiLE9iamVjdC5oYXNPd25Qcm9wZXJ0eSh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLGUpKXJldHVybiBlO2Zvcih2YXIgdD1PYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzKS5zb3J0KCksbj1udWxsLG89dC5sZW5ndGgtMTtvPj0wO28tLSlpZigiKiIhPT10W29dW3Rbb10ubGVuZ3RoLTFdJiYobj10W29dKSx0W29dLnN1YnN0cigwLDEwKTw9ZSlyZXR1cm4gbjt0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kICIrdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlSWRlbnRpZmllcisiIEFQSSB0byBzYXRpc2Z5IHZlcnNpb24gY29uc3RyYWludCBgIitlKyInIil9LGFwaTp7fSxkZWZhdWx0UmV0cnlDb3VudDozLGN1c3RvbWl6ZVJlcXVlc3RzOmZ1bmN0aW9uKGUpe2lmKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjYWxsYmFjayB0eXBlICciK3R5cGVvZiBlKyInIHByb3ZpZGVkIGluIGN1c3RvbWl6ZVJlcXVlc3RzIik7dGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcj1lfWVsc2UgdGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcj1udWxsfSxtYWtlUmVxdWVzdDpmdW5jdGlvbihlLHQsbil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSx0PXR8fHt9LHRoaXMuY29uZmlnLnBhcmFtcyl7dmFyIG89dGhpcy5hcGkub3BlcmF0aW9uc1tlXTtvJiYodD1yLnV0aWwuY29weSh0KSxyLnV0aWwuZWFjaCh0aGlzLmNvbmZpZy5wYXJhbXMsKGZ1bmN0aW9uKGUsbil7by5pbnB1dC5tZW1iZXJzW2VdJiYodm9pZCAwIT09dFtlXSYmbnVsbCE9PXRbZV18fCh0W2VdPW4pKX0pKSl9dmFyIGk9bmV3IHIuUmVxdWVzdCh0aGlzLGUsdCk7cmV0dXJuIHRoaXMuYWRkQWxsUmVxdWVzdExpc3RlbmVycyhpKSx0aGlzLmF0dGFjaE1vbml0b3JpbmdFbWl0dGVyKGkpLG4mJmkuc2VuZChuKSxpfSxtYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdDpmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIHI9dGhpcy5tYWtlUmVxdWVzdChlLHQpLnRvVW5hdXRoZW50aWNhdGVkKCk7cmV0dXJuIG4/ci5zZW5kKG4pOnJ9LHdhaXRGb3I6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgci5SZXNvdXJjZVdhaXRlcih0aGlzLGUpLndhaXQodCxuKX0sYWRkQWxsUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W3IuZXZlbnRzLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZSx0aGlzLnNlcnZpY2VJbnRlcmZhY2UoKSxyLkV2ZW50TGlzdGVuZXJzLkNvcmVQb3N0XSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmZS5hZGRMaXN0ZW5lcnModFtuXSk7dGhpcy5jb25maWcucGFyYW1WYWxpZGF0aW9ufHxlLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLHRoaXMuY29uZmlnLmxvZ2dlciYmZS5hZGRMaXN0ZW5lcnMoci5FdmVudExpc3RlbmVycy5Mb2dnZXIpLHRoaXMuc2V0dXBSZXF1ZXN0TGlzdGVuZXJzKGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jdXN0b21SZXF1ZXN0SGFuZGxlciYmdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY3VzdG9tUmVxdWVzdEhhbmRsZXIoZSksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsImN1c3RvbVJlcXVlc3RIYW5kbGVyIikmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyJiZ0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyKGUpfSxhcGlDYWxsRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPXtUeXBlOiJBcGlDYWxsIixBcGk6dD90Lm5hbWU6ZS5vcGVyYXRpb24sVmVyc2lvbjoxLFNlcnZpY2U6ZS5zZXJ2aWNlLmFwaS5zZXJ2aWNlSWR8fGUuc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXgsUmVnaW9uOmUuaHR0cFJlcXVlc3QucmVnaW9uLE1heFJldHJpZXNFeGNlZWRlZDowLFVzZXJBZ2VudDplLmh0dHBSZXF1ZXN0LmdldFVzZXJBZ2VudCgpfSxyPWUucmVzcG9uc2U7aWYoci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKG4uRmluYWxIdHRwU3RhdHVzQ29kZT1yLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKSxyLmVycm9yKXt2YXIgbz1yLmVycm9yO3IuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU+Mjk5PyhvLmNvZGUmJihuLkZpbmFsQXdzRXhjZXB0aW9uPW8uY29kZSksby5tZXNzYWdlJiYobi5GaW5hbEF3c0V4Y2VwdGlvbk1lc3NhZ2U9by5tZXNzYWdlKSk6KChvLmNvZGV8fG8ubmFtZSkmJihuLkZpbmFsU2RrRXhjZXB0aW9uPW8uY29kZXx8by5uYW1lKSxvLm1lc3NhZ2UmJihuLkZpbmFsU2RrRXhjZXB0aW9uTWVzc2FnZT1vLm1lc3NhZ2UpKX1yZXR1cm4gbn0sYXBpQXR0ZW1wdEV2ZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj17VHlwZToiQXBpQ2FsbEF0dGVtcHQiLEFwaTp0P3QubmFtZTplLm9wZXJhdGlvbixWZXJzaW9uOjEsU2VydmljZTplLnNlcnZpY2UuYXBpLnNlcnZpY2VJZHx8ZS5zZXJ2aWNlLmFwaS5lbmRwb2ludFByZWZpeCxGcWRuOmUuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUsVXNlckFnZW50OmUuaHR0cFJlcXVlc3QuZ2V0VXNlckFnZW50KCl9LHI9ZS5yZXNwb25zZTtyZXR1cm4gci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKG4uSHR0cFN0YXR1c0NvZGU9ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSksIWUuX3VuQXV0aGVudGljYXRlZCYmZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscyYmZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCYmKG4uQWNjZXNzS2V5PWUuc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnM/KGUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXSYmKG4uU2Vzc2lvblRva2VuPWUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdJiYobi5YQW16blJlcXVlc3RJZD1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXSYmKG4uWEFtelJlcXVlc3RJZD1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1yZXF1ZXN0LWlkIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LWlkLTIiXSYmKG4uWEFteklkMj1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1pZC0yIl0pLG4pOm59LGF0dGVtcHRGYWlsRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hcGlBdHRlbXB0RXZlbnQoZSksbj1lLnJlc3BvbnNlLHI9bi5lcnJvcjtyZXR1cm4gbi5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT4yOTk/KHIuY29kZSYmKHQuQXdzRXhjZXB0aW9uPXIuY29kZSksci5tZXNzYWdlJiYodC5Bd3NFeGNlcHRpb25NZXNzYWdlPXIubWVzc2FnZSkpOigoci5jb2RlfHxyLm5hbWUpJiYodC5TZGtFeGNlcHRpb249ci5jb2RlfHxyLm5hbWUpLHIubWVzc2FnZSYmKHQuU2RrRXhjZXB0aW9uTWVzc2FnZT1yLm1lc3NhZ2UpKSx0fSxhdHRhY2hNb25pdG9yaW5nRW1pdHRlcjpmdW5jdGlvbihlKXt2YXIgdCxuLG8saSxzLGEsYz0wLHU9dGhpcyxsPSEwO2Uub24oInZhbGlkYXRlIiwoZnVuY3Rpb24oKXtpPXIudXRpbC5yZWFsQ2xvY2subm93KCksYT1EYXRlLm5vdygpfSksbCksZS5vbigic2lnbiIsKGZ1bmN0aW9uKCl7bj1yLnV0aWwucmVhbENsb2NrLm5vdygpLHQ9RGF0ZS5ub3coKSxzPWUuaHR0cFJlcXVlc3QucmVnaW9uLGMrK30pLGwpLGUub24oInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbigpe289TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLW4pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTExfQVRURU1QVCIsInN1Y2Nlc3MiLChmdW5jdGlvbigpe3ZhciBuPXUuYXBpQXR0ZW1wdEV2ZW50KGUpO24uVGltZXN0YW1wPXQsbi5BdHRlbXB0TGF0ZW5jeT1vPj0wP286MCxuLlJlZ2lvbj1zLHUuZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFtuXSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTF9BVFRFTVBUX1JFVFJZIiwicmV0cnkiLChmdW5jdGlvbigpe3ZhciBpPXUuYXR0ZW1wdEZhaWxFdmVudChlKTtpLlRpbWVzdGFtcD10LG89b3x8TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLW4pLGkuQXR0ZW1wdExhdGVuY3k9bz49MD9vOjAsaS5SZWdpb249cyx1LmVtaXQoImFwaUNhbGxBdHRlbXB0IixbaV0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTEwiLCJjb21wbGV0ZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9dS5hcGlDYWxsRXZlbnQoZSk7aWYodC5BdHRlbXB0Q291bnQ9YywhKHQuQXR0ZW1wdENvdW50PD0wKSl7dC5UaW1lc3RhbXA9YTt2YXIgbj1NYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktaSk7dC5MYXRlbmN5PW4+PTA/bjowO3ZhciBvPWUucmVzcG9uc2U7by5lcnJvciYmby5lcnJvci5yZXRyeWFibGUmJiJudW1iZXIiPT10eXBlb2Ygby5yZXRyeUNvdW50JiYibnVtYmVyIj09dHlwZW9mIG8ubWF4UmV0cmllcyYmby5yZXRyeUNvdW50Pj1vLm1heFJldHJpZXMmJih0Lk1heFJldHJpZXNFeGNlZWRlZD0xKSx1LmVtaXQoImFwaUNhbGwiLFt0XSl9fSkpfSxzZXR1cFJlcXVlc3RMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7fSxnZXRTaWduaW5nTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFwaS5zaWduaW5nTmFtZXx8dGhpcy5hcGkuZW5kcG9pbnRQcmVmaXh9LGdldFNpZ25lckNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG49bnVsbCxvPSIiO3JldHVybiBlJiYobz0obj0oZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dfHxudWxsKT9uLmF1dGh0eXBlOiIiKSx0PXRoaXMuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24/dGhpcy5jb25maWcuc2lnbmF0dXJlVmVyc2lvbjoidjQiPT09b3x8InY0LXVuc2lnbmVkLWJvZHkiPT09bz8idjQiOiJiZWFyZXIiPT09bz8iYmVhcmVyIjp0aGlzLmFwaS5zaWduYXR1cmVWZXJzaW9uLHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb24odCl9LHNlcnZpY2VJbnRlcmZhY2U6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5hcGkucHJvdG9jb2wpe2Nhc2UiZWMyIjpjYXNlInF1ZXJ5IjpyZXR1cm4gci5FdmVudExpc3RlbmVycy5RdWVyeTtjYXNlImpzb24iOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLkpzb247Y2FzZSJyZXN0LWpzb24iOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlJlc3RKc29uO2Nhc2UicmVzdC14bWwiOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlJlc3RYbWx9aWYodGhpcy5hcGkucHJvdG9jb2wpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHNlcnZpY2UgYHByb3RvY29sJyAiK3RoaXMuYXBpLnByb3RvY29sKyIgaW4gQVBJIGNvbmZpZyIpfSxzdWNjZXNzZnVsUmVzcG9uc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU8MzAwfSxudW1SZXRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuY29uZmlnLm1heFJldHJpZXM/dGhpcy5jb25maWcubWF4UmV0cmllczp0aGlzLmRlZmF1bHRSZXRyeUNvdW50fSxyZXRyeURlbGF5czpmdW5jdGlvbihlLHQpe3JldHVybiByLnV0aWwuY2FsY3VsYXRlUmV0cnlEZWxheShlLHRoaXMuY29uZmlnLnJldHJ5RGVsYXlPcHRpb25zLHQpfSxyZXRyeWFibGVFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMudGltZW91dEVycm9yKGUpfHwhIXRoaXMubmV0d29ya2luZ0Vycm9yKGUpfHwhIXRoaXMuZXhwaXJlZENyZWRlbnRpYWxzRXJyb3IoZSl8fCEhdGhpcy50aHJvdHRsZWRFcnJvcihlKXx8ZS5zdGF0dXNDb2RlPj01MDB9LG5ldHdvcmtpbmdFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iTmV0d29ya2luZ0Vycm9yIj09PWUuY29kZX0sdGltZW91dEVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJUaW1lb3V0RXJyb3IiPT09ZS5jb2RlfSxleHBpcmVkQ3JlZGVudGlhbHNFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iRXhwaXJlZFRva2VuRXhjZXB0aW9uIj09PWUuY29kZX0sY2xvY2tTa2V3RXJyb3I6ZnVuY3Rpb24oZSl7c3dpdGNoKGUuY29kZSl7Y2FzZSJSZXF1ZXN0VGltZVRvb1NrZXdlZCI6Y2FzZSJSZXF1ZXN0RXhwaXJlZCI6Y2FzZSJJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uIjpjYXNlIlNpZ25hdHVyZURvZXNOb3RNYXRjaCI6Y2FzZSJBdXRoRmFpbHVyZSI6Y2FzZSJSZXF1ZXN0SW5UaGVGdXR1cmUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRTa2V3Q29ycmVjdGVkRGF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0KX0sYXBwbHlDbG9ja09mZnNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ9ZS1EYXRlLm5vdygpKX0saXNDbG9ja1NrZXdlZDpmdW5jdGlvbihlKXtpZihlKXJldHVybiBNYXRoLmFicyh0aGlzLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkuZ2V0VGltZSgpLWUpPj0zZTV9LHRocm90dGxlZEVycm9yOmZ1bmN0aW9uKGUpe2lmKDQyOT09PWUuc3RhdHVzQ29kZSlyZXR1cm4hMDtzd2l0Y2goZS5jb2RlKXtjYXNlIlByb3Zpc2lvbmVkVGhyb3VnaHB1dEV4Y2VlZGVkRXhjZXB0aW9uIjpjYXNlIlRocm90dGxpbmciOmNhc2UiVGhyb3R0bGluZ0V4Y2VwdGlvbiI6Y2FzZSJSZXF1ZXN0TGltaXRFeGNlZWRlZCI6Y2FzZSJSZXF1ZXN0VGhyb3R0bGVkIjpjYXNlIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb24iOmNhc2UiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uIjpjYXNlIlRyYW5zYWN0aW9uSW5Qcm9ncmVzc0V4Y2VwdGlvbiI6Y2FzZSJFQzJUaHJvdHRsZWRFeGNlcHRpb24iOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxlbmRwb2ludEZyb21UZW1wbGF0ZTpmdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIHQ9ZTtyZXR1cm4gdD0odD0odD10LnJlcGxhY2UoL1x7c2VydmljZVx9L2csdGhpcy5hcGkuZW5kcG9pbnRQcmVmaXgpKS5yZXBsYWNlKC9ce3JlZ2lvblx9L2csdGhpcy5jb25maWcucmVnaW9uKSkucmVwbGFjZSgvXHtzY2hlbWVcfS9nLHRoaXMuY29uZmlnLnNzbEVuYWJsZWQ/Imh0dHBzIjoiaHR0cCIpfSxzZXRFbmRwb2ludDpmdW5jdGlvbihlKXt0aGlzLmVuZHBvaW50PW5ldyByLkVuZHBvaW50KGUsdGhpcy5jb25maWcpfSxwYWdpbmF0aW9uQ29uZmlnOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5hcGkub3BlcmF0aW9uc1tlXS5wYWdpbmF0b3I7aWYoIW4pe2lmKHQpe3ZhciBvPW5ldyBFcnJvcjt0aHJvdyByLnV0aWwuZXJyb3IobywiTm8gcGFnaW5hdGlvbiBjb25maWd1cmF0aW9uIGZvciAiK2UpfXJldHVybiBudWxsfXJldHVybiBufX0pLHIudXRpbC51cGRhdGUoci5TZXJ2aWNlLHtkZWZpbmVNZXRob2RzOmZ1bmN0aW9uKGUpe3IudXRpbC5lYWNoKGUucHJvdG90eXBlLmFwaS5vcGVyYXRpb25zLChmdW5jdGlvbih0KXtlLnByb3RvdHlwZVt0XXx8KCJub25lIj09PWUucHJvdG90eXBlLmFwaS5vcGVyYXRpb25zW3RdLmF1dGh0eXBlP2UucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QodCxlLG4pfTplLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLm1ha2VSZXF1ZXN0KHQsZSxuKX0pfSkpfSxkZWZpbmVTZXJ2aWNlOmZ1bmN0aW9uKGUsdCxuKXtyLlNlcnZpY2UuX3NlcnZpY2VNYXBbZV09ITAsQXJyYXkuaXNBcnJheSh0KXx8KG49dCx0PVtdKTt2YXIgbz1zKHIuU2VydmljZSxufHx7fSk7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtyLlNlcnZpY2UuYWRkVmVyc2lvbnMobyx0KTt2YXIgaT1vLnNlcnZpY2VJZGVudGlmaWVyfHxlO28uc2VydmljZUlkZW50aWZpZXI9aX1lbHNlIG8ucHJvdG90eXBlLmFwaT1lLHIuU2VydmljZS5kZWZpbmVNZXRob2RzKG8pO2lmKHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcy5wcm90b3R5cGUpLCF0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXImJnIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZyl7dmFyIGE9ci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLlB1Ymxpc2hlcixjPSgwLHIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZy5jb25maWdQcm92aWRlcikoKTt0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXI9bmV3IGEoYyksYy5lbmFibGVkJiYoci5TZXJ2aWNlLl9jbGllbnRTaWRlTW9uaXRvcmluZz0hMCl9cmV0dXJuIHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwoby5wcm90b3R5cGUpLHIuU2VydmljZS5hZGREZWZhdWx0TW9uaXRvcmluZ0xpc3RlbmVycyhvLnByb3RvdHlwZSksb30sYWRkVmVyc2lvbnM6ZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLGUuc2VydmljZXM9ZS5zZXJ2aWNlc3x8e307Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdm9pZCAwPT09ZS5zZXJ2aWNlc1t0W25dXSYmKGUuc2VydmljZXNbdFtuXV09bnVsbCk7ZS5hcGlWZXJzaW9ucz1PYmplY3Qua2V5cyhlLnNlcnZpY2VzKS5zb3J0KCl9LGRlZmluZVNlcnZpY2VBcGk6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXMoZSx7c2VydmljZUlkZW50aWZpZXI6ZS5zZXJ2aWNlSWRlbnRpZmllcn0pO2Z1bmN0aW9uIGEodCl7dC5pc0FwaT9pLnByb3RvdHlwZS5hcGk9dDppLnByb3RvdHlwZS5hcGk9bmV3IG8odCx7c2VydmljZUlkZW50aWZpZXI6ZS5zZXJ2aWNlSWRlbnRpZmllcn0pfWlmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYobilhKG4pO2Vsc2UgdHJ5e2Eoci5hcGlMb2FkZXIoZS5zZXJ2aWNlSWRlbnRpZmllcix0KSl9Y2F0Y2gobil7dGhyb3cgci51dGlsLmVycm9yKG4se21lc3NhZ2U6IkNvdWxkIG5vdCBmaW5kIEFQSSBjb25maWd1cmF0aW9uICIrZS5zZXJ2aWNlSWRlbnRpZmllcisiLSIrdH0pfU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLnNlcnZpY2VzLHQpfHwoZS5hcGlWZXJzaW9ucz1lLmFwaVZlcnNpb25zLmNvbmNhdCh0KS5zb3J0KCkpLGUuc2VydmljZXNbdF09aX1lbHNlIGEodCk7cmV0dXJuIHIuU2VydmljZS5kZWZpbmVNZXRob2RzKGkpLGl9LGhhc1NlcnZpY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLlNlcnZpY2UuX3NlcnZpY2VNYXAsZSl9LGFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2UuYWRkTmFtZWRMaXN0ZW5lcigiTU9OSVRPUl9FVkVOVFNfQlVCQkxFIiwiYXBpQ2FsbEF0dGVtcHQiLChmdW5jdGlvbih0KXt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7bi5fZXZlbnRzJiZuLmVtaXQoImFwaUNhbGxBdHRlbXB0IixbdF0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQ0FMTF9FVkVOVFNfQlVCQkxFIiwiYXBpQ2FsbCIsKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtuLl9ldmVudHMmJm4uZW1pdCgiYXBpQ2FsbCIsW3RdKX0pKX0sX3NlcnZpY2VNYXA6e319KSxyLnV0aWwubWl4aW4oci5TZXJ2aWNlLHIuU2VxdWVudGlhbEV4ZWN1dG9yKSx0LmV4cG9ydHM9ci5TZXJ2aWNlfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL21vZGVsL2FwaSI6NDAsIi4vcmVnaW9uL3V0aWxzIjo1NSwiLi9yZWdpb25fY29uZmlnIjo1NixfcHJvY2Vzczo5MX1dLDYzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vY29uZmlnX3JlZ2lvbmFsX2VuZHBvaW50Iik7ci51dGlsLnVwZGF0ZShyLlNUUy5wcm90b3R5cGUse2NyZWRlbnRpYWxzRnJvbTpmdW5jdGlvbihlLHQpe3JldHVybiBlPyh0fHwodD1uZXcgci5UZW1wb3JhcnlDcmVkZW50aWFscyksdC5leHBpcmVkPSExLHQuYWNjZXNzS2V5SWQ9ZS5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCx0LnNlY3JldEFjY2Vzc0tleT1lLkNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSx0LnNlc3Npb25Ub2tlbj1lLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbix0LmV4cGlyZVRpbWU9ZS5DcmVkZW50aWFscy5FeHBpcmF0aW9uLHQpOm51bGx9LGFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgiYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSIsZSx0KX0sYXNzdW1lUm9sZVdpdGhTQU1MOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QoImFzc3VtZVJvbGVXaXRoU0FNTCIsZSx0KX0sc2V0dXBSZXF1ZXN0TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2UuYWRkTGlzdGVuZXIoInZhbGlkYXRlIix0aGlzLm9wdEluUmVnaW9uYWxFbmRwb2ludCwhMCl9LG9wdEluUmVnaW9uYWxFbmRwb2ludDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmNvbmZpZztpZihuLnN0c1JlZ2lvbmFsRW5kcG9pbnRzPW8odC5fb3JpZ2luYWxDb25maWcse2VudjoiQVdTX1NUU19SRUdJT05BTF9FTkRQT0lOVFMiLHNoYXJlZENvbmZpZzoic3RzX3JlZ2lvbmFsX2VuZHBvaW50cyIsY2xpZW50Q29uZmlnOiJzdHNSZWdpb25hbEVuZHBvaW50cyJ9KSwicmVnaW9uYWwiPT09bi5zdHNSZWdpb25hbEVuZHBvaW50cyYmdC5pc0dsb2JhbEVuZHBvaW50KXtpZighbi5yZWdpb24pdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyJ9KTt2YXIgaT1uLmVuZHBvaW50LmluZGV4T2YoIi5hbWF6b25hd3MuY29tIikscz1uLmVuZHBvaW50LnN1YnN0cmluZygwLGkpKyIuIituLnJlZ2lvbituLmVuZHBvaW50LnN1YnN0cmluZyhpKTtlLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KHMpLGUuaHR0cFJlcXVlc3QucmVnaW9uPW4ucmVnaW9ufX19KX0seyIuLi9jb25maWdfcmVnaW9uYWxfZW5kcG9pbnQiOjE4LCIuLi9jb3JlIjoxOX1dLDY0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpO3IuU2lnbmVycy5CZWFyZXI9ci51dGlsLmluaGVyaXQoci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcyxlKX0sYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uPSJCZWFyZXIgIitlLnRva2VufX0pfSx7Ii4uL2NvcmUiOjE5fV0sNjU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPSJwcmVzaWduZWQtZXhwaXJlcyI7ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV0sbj1lLnNlcnZpY2UuZ2V0U2lnbmVyQ2xhc3MoZSk7aWYoZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siVXNlci1BZ2VudCJdLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LVVzZXItQWdlbnQiXSxuPT09ci5TaWduZXJzLlY0KXtpZih0PjYwNDgwMCl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJJbnZhbGlkRXhwaXJ5VGltZSIsbWVzc2FnZToiUHJlc2lnbmluZyBkb2VzIG5vdCBzdXBwb3J0IGV4cGlyeSB0aW1lIGdyZWF0ZXIgdGhhbiBhIHdlZWsgd2l0aCBTaWdWNCBzaWduaW5nLiIscmV0cnlhYmxlOiExfSk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXR9ZWxzZXtpZihuIT09ci5TaWduZXJzLlMzKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise21lc3NhZ2U6IlByZXNpZ25pbmcgb25seSBzdXBwb3J0cyBTMyBvciBTaWdWNCBzaWduaW5nLiIsY29kZToiVW5zdXBwb3J0ZWRTaWduZXIiLHJldHJ5YWJsZTohMX0pO3ZhciBvPWUuc2VydmljZT9lLnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKTpyLnV0aWwuZGF0ZS5nZXREYXRlKCk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXBhcnNlSW50KHIudXRpbC5kYXRlLnVuaXhUaW1lc3RhbXAobykrdCwxMCkudG9TdHJpbmcoKX19ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50LG49ci51dGlsLnVybFBhcnNlKGUuaHR0cFJlcXVlc3QucGF0aCksbz17fTtuLnNlYXJjaCYmKG89ci51dGlsLnF1ZXJ5U3RyaW5nUGFyc2Uobi5zZWFyY2guc3Vic3RyKDEpKSk7dmFyIHM9ZS5odHRwUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24uc3BsaXQoIiAiKTtpZigiQVdTIj09PXNbMF0pcz1zWzFdLnNwbGl0KCI6Iiksby5TaWduYXR1cmU9cy5wb3AoKSxvLkFXU0FjY2Vzc0tleUlkPXMuam9pbigiOiIpLHIudXRpbC5lYWNoKGUuaHR0cFJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtlPT09aSYmKGU9IkV4cGlyZXMiKSwwPT09ZS5pbmRleE9mKCJ4LWFtei1tZXRhLSIpJiYoZGVsZXRlIG9bZV0sZT1lLnRvTG93ZXJDYXNlKCkpLG9bZV09dH0pKSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldLGRlbGV0ZSBvLkF1dGhvcml6YXRpb24sZGVsZXRlIG8uSG9zdDtlbHNlIGlmKCJBV1M0LUhNQUMtU0hBMjU2Ij09PXNbMF0pe3Muc2hpZnQoKTt2YXIgYT1zLmpvaW4oIiAiKS5tYXRjaCgvU2lnbmF0dXJlPSguKj8pKD86LHxcc3xccj9cbnwkKS8pWzFdO29bIlgtQW16LVNpZ25hdHVyZSJdPWEsZGVsZXRlIG8uRXhwaXJlc310LnBhdGhuYW1lPW4ucGF0aG5hbWUsdC5zZWFyY2g9ci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobyl9ci5TaWduZXJzLlByZXNpZ249byh7c2lnbjpmdW5jdGlvbihlLHQsbil7aWYoZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXR8fDM2MDAsZS5vbigiYnVpbGQiLHMpLGUub24oInNpZ24iLGEpLGUucmVtb3ZlTGlzdGVuZXIoImFmdGVyQnVpbGQiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5TRVRfQ09OVEVOVF9MRU5HVEgpLGUucmVtb3ZlTGlzdGVuZXIoImFmdGVyQnVpbGQiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5DT01QVVRFX1NIQTI1NiksZS5lbWl0KCJiZWZvcmVQcmVzaWduIixbZV0pLCFuKXtpZihlLmJ1aWxkKCksZS5yZXNwb25zZS5lcnJvcil0aHJvdyBlLnJlc3BvbnNlLmVycm9yO3JldHVybiByLnV0aWwudXJsRm9ybWF0KGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQpfWUuYnVpbGQoKGZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZS5lcnJvcj9uKHRoaXMucmVzcG9uc2UuZXJyb3IpOm4obnVsbCxyLnV0aWwudXJsRm9ybWF0KGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQpKX0pKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlByZXNpZ259LHsiLi4vY29yZSI6MTl9XSw2NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucmVxdWVzdD1lfSxzZXRTZXJ2aWNlQ2xpZW50SWQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXJ2aWNlQ2xpZW50SWQ9ZX0sZ2V0U2VydmljZUNsaWVudElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VydmljZUNsaWVudElkfX0pLHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb249ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UidjIiOnJldHVybiByLlNpZ25lcnMuVjI7Y2FzZSJ2MyI6cmV0dXJuIHIuU2lnbmVycy5WMztjYXNlInMzdjQiOmNhc2UidjQiOnJldHVybiByLlNpZ25lcnMuVjQ7Y2FzZSJzMyI6cmV0dXJuIHIuU2lnbmVycy5TMztjYXNlInYzaHR0cHMiOnJldHVybiByLlNpZ25lcnMuVjNIdHRwcztjYXNlImJlYXJlciI6cmV0dXJuIHIuU2lnbmVycy5CZWFyZXJ9dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHNpZ25pbmcgdmVyc2lvbiAiK2UpfSxlKCIuL3YyIiksZSgiLi92MyIpLGUoIi4vdjNodHRwcyIpLGUoIi4vdjQiKSxlKCIuL3MzIiksZSgiLi9wcmVzaWduIiksZSgiLi9iZWFyZXIiKX0seyIuLi9jb3JlIjoxOSwiLi9iZWFyZXIiOjY0LCIuL3ByZXNpZ24iOjY1LCIuL3MzIjo2NywiLi92MiI6NjgsIi4vdjMiOjY5LCIuL3YzaHR0cHMiOjcwLCIuL3Y0Ijo3MX1dLDY3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlMzPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse3N1YlJlc291cmNlczp7YWNsOjEsYWNjZWxlcmF0ZToxLGFuYWx5dGljczoxLGNvcnM6MSxsaWZlY3ljbGU6MSxkZWxldGU6MSxpbnZlbnRvcnk6MSxsb2NhdGlvbjoxLGxvZ2dpbmc6MSxtZXRyaWNzOjEsbm90aWZpY2F0aW9uOjEscGFydE51bWJlcjoxLHBvbGljeToxLHJlcXVlc3RQYXltZW50OjEscmVwbGljYXRpb246MSxyZXN0b3JlOjEsdGFnZ2luZzoxLHRvcnJlbnQ6MSx1cGxvYWRJZDoxLHVwbG9hZHM6MSx2ZXJzaW9uSWQ6MSx2ZXJzaW9uaW5nOjEsdmVyc2lvbnM6MSx3ZWJzaXRlOjF9LHJlc3BvbnNlSGVhZGVyczp7InJlc3BvbnNlLWNvbnRlbnQtdHlwZSI6MSwicmVzcG9uc2UtY29udGVudC1sYW5ndWFnZSI6MSwicmVzcG9uc2UtZXhwaXJlcyI6MSwicmVzcG9uc2UtY2FjaGUtY29udHJvbCI6MSwicmVzcG9uc2UtY29udGVudC1kaXNwb3NpdGlvbiI6MSwicmVzcG9uc2UtY29udGVudC1lbmNvZGluZyI6MX0sYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3RoaXMucmVxdWVzdC5oZWFkZXJzWyJwcmVzaWduZWQtZXhwaXJlcyJdfHwodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT1yLnV0aWwuZGF0ZS5yZmM4MjIodCkpLGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pO3ZhciBuPXRoaXMuc2lnbihlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpKSxvPSJBV1MgIitlLmFjY2Vzc0tleUlkKyI6IituO3RoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249b30sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LHQ9W107dC5wdXNoKGUubWV0aG9kKSx0LnB1c2goZS5oZWFkZXJzWyJDb250ZW50LU1ENSJdfHwiIiksdC5wdXNoKGUuaGVhZGVyc1siQ29udGVudC1UeXBlIl18fCIiKSx0LnB1c2goZS5oZWFkZXJzWyJwcmVzaWduZWQtZXhwaXJlcyJdfHwiIik7dmFyIG49dGhpcy5jYW5vbmljYWxpemVkQW16SGVhZGVycygpO3JldHVybiBuJiZ0LnB1c2gobiksdC5wdXNoKHRoaXMuY2Fub25pY2FsaXplZFJlc291cmNlKCkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsaXplZEFtekhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLnV0aWwuZWFjaCh0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCl7dC5tYXRjaCgvXngtYW16LS9pKSYmZS5wdXNoKHQpfSkpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPHQudG9Mb3dlckNhc2UoKT8tMToxfSkpO3ZhciB0PVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlKXt0LnB1c2goZS50b0xvd2VyQ2FzZSgpKyI6IitTdHJpbmcodGhpcy5yZXF1ZXN0LmhlYWRlcnNbZV0pKX0pKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbGl6ZWRSZXNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdCx0PWUucGF0aC5zcGxpdCgiPyIpLG49dFswXSxvPXRbMV0saT0iIjtpZihlLnZpcnR1YWxIb3N0ZWRCdWNrZXQmJihpKz0iLyIrZS52aXJ0dWFsSG9zdGVkQnVja2V0KSxpKz1uLG8pe3ZhciBzPVtdO3IudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLG8uc3BsaXQoIiYiKSwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiPSIpWzBdLG49ZS5zcGxpdCgiPSIpWzFdO2lmKHRoaXMuc3ViUmVzb3VyY2VzW3RdfHx0aGlzLnJlc3BvbnNlSGVhZGVyc1t0XSl7dmFyIHI9e25hbWU6dH07dm9pZCAwIT09biYmKHRoaXMuc3ViUmVzb3VyY2VzW3RdP3IudmFsdWU9bjpyLnZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChuKSkscy5wdXNoKHIpfX0pKSxzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubmFtZTx0Lm5hbWU/LTE6MX0pKSxzLmxlbmd0aCYmKG89W10sci51dGlsLmFycmF5RWFjaChzLChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLnZhbHVlP28ucHVzaChlLm5hbWUpOm8ucHVzaChlLm5hbWUrIj0iK2UudmFsdWUpfSkpLGkrPSI/IitvLmpvaW4oIiYiKSl9cmV0dXJuIGl9LHNpZ246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKGUsdCwiYmFzZTY0Iiwic2hhMSIpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuUzN9LHsiLi4vY29yZSI6MTl9XSw2ODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5WMj1vKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHthZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9ci51dGlsLmRhdGUuZ2V0RGF0ZSgpKTt2YXIgbj10aGlzLnJlcXVlc3Q7bi5wYXJhbXMuVGltZXN0YW1wPXIudXRpbC5kYXRlLmlzbzg2MDEodCksbi5wYXJhbXMuU2lnbmF0dXJlVmVyc2lvbj0iMiIsbi5wYXJhbXMuU2lnbmF0dXJlTWV0aG9kPSJIbWFjU0hBMjU2IixuLnBhcmFtcy5BV1NBY2Nlc3NLZXlJZD1lLmFjY2Vzc0tleUlkLGUuc2Vzc2lvblRva2VuJiYobi5wYXJhbXMuU2VjdXJpdHlUb2tlbj1lLnNlc3Npb25Ub2tlbiksZGVsZXRlIG4ucGFyYW1zLlNpZ25hdHVyZSxuLnBhcmFtcy5TaWduYXR1cmU9dGhpcy5zaWduYXR1cmUoZSksbi5ib2R5PXIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxuLmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl09bi5ib2R5Lmxlbmd0aH0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSwiYmFzZTY0Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKHRoaXMucmVxdWVzdC5lbmRwb2ludC5ob3N0LnRvTG93ZXJDYXNlKCkpLGUucHVzaCh0aGlzLnJlcXVlc3QucGF0aG5hbWUoKSksZS5wdXNoKHIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKHRoaXMucmVxdWVzdC5wYXJhbXMpKSxlLmpvaW4oIlxuIil9fSksdC5leHBvcnRzPXIuU2lnbmVycy5WMn0seyIuLi9jb3JlIjoxOX1dLDY5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlYzPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2FkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnV0aWwuZGF0ZS5yZmM4MjIodCk7dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT1uLGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtem4tQXV0aG9yaXphdGlvbiJdPXRoaXMuYXV0aG9yaXphdGlvbihlLG4pfSxhdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiJBV1MzIEFXU0FjY2Vzc0tleUlkPSIrZS5hY2Nlc3NLZXlJZCsiLEFsZ29yaXRobT1IbWFjU0hBMjU2LFNpZ25lZEhlYWRlcnM9Iit0aGlzLnNpZ25lZEhlYWRlcnMoKSsiLFNpZ25hdHVyZT0iK3RoaXMuc2lnbmF0dXJlKGUpfSxzaWduZWRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2godGhpcy5oZWFkZXJzVG9TaWduKCksKGZ1bmN0aW9uKHQpe2UucHVzaCh0LnRvTG93ZXJDYXNlKCkpfSkpLGUuc29ydCgpLmpvaW4oIjsiKX0sY2Fub25pY2FsSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdC5oZWFkZXJzLHQ9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2godGhpcy5oZWFkZXJzVG9TaWduKCksKGZ1bmN0aW9uKG4pe3QucHVzaChuLnRvTG93ZXJDYXNlKCkudHJpbSgpKyI6IitTdHJpbmcoZVtuXSkudHJpbSgpKX0pKSx0LnNvcnQoKS5qb2luKCJcbiIpKyJcbiJ9LGhlYWRlcnNUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmVhY2godGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQpeygiSG9zdCI9PT10fHwiQ29udGVudC1FbmNvZGluZyI9PT10fHx0Lm1hdGNoKC9eWC1BbXovaSkpJiZlLnB1c2godCl9KSksZX0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSwiYmFzZTY0Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKCIvIiksZS5wdXNoKCIiKSxlLnB1c2godGhpcy5jYW5vbmljYWxIZWFkZXJzKCkpLGUucHVzaCh0aGlzLnJlcXVlc3QuYm9keSksci51dGlsLmNyeXB0by5zaGEyNTYoZS5qb2luKCJcbiIpKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlYzfSx7Ii4uL2NvcmUiOjE5fV0sNzA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtlKCIuL3YzIiksci5TaWduZXJzLlYzSHR0cHM9byhyLlNpZ25lcnMuVjMse2F1dGhvcml6YXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIkFXUzMtSFRUUFMgQVdTQWNjZXNzS2V5SWQ9IitlLmFjY2Vzc0tleUlkKyIsQWxnb3JpdGhtPUhtYWNTSEEyNTYsU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSl9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjNIdHRwc30seyIuLi9jb3JlIjoxOSwiLi92MyI6Njl9XSw3MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4vdjRfY3JlZGVudGlhbHMiKSxpPXIudXRpbC5pbmhlcml0LHM9InByZXNpZ25lZC1leHBpcmVzIjtyLlNpZ25lcnMuVjQ9aShyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4pe3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcyxlKSx0aGlzLnNlcnZpY2VOYW1lPXQsbj1ufHx7fSx0aGlzLnNpZ25hdHVyZUNhY2hlPSJib29sZWFuIiE9dHlwZW9mIG4uc2lnbmF0dXJlQ2FjaGV8fG4uc2lnbmF0dXJlQ2FjaGUsdGhpcy5vcGVyYXRpb249bi5vcGVyYXRpb24sdGhpcy5zaWduYXR1cmVWZXJzaW9uPW4uc2lnbmF0dXJlVmVyc2lvbn0sYWxnb3JpdGhtOiJBV1M0LUhNQUMtU0hBMjU2IixhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49ci51dGlsLmRhdGUuaXNvODYwMSh0KS5yZXBsYWNlKC9bOlwtXXxcLlxkezN9L2csIiIpO3RoaXMuaXNQcmVzaWduZWQoKT90aGlzLnVwZGF0ZUZvclByZXNpZ25lZChlLG4pOnRoaXMuYWRkSGVhZGVycyhlLG4pLHRoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249dGhpcy5hdXRob3JpemF0aW9uKGUsbil9LGFkZEhlYWRlcnM6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPXQsZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbil9LHVwZGF0ZUZvclByZXNpZ25lZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlZGVudGlhbFN0cmluZyh0KSxvPXsiWC1BbXotRGF0ZSI6dCwiWC1BbXotQWxnb3JpdGhtIjp0aGlzLmFsZ29yaXRobSwiWC1BbXotQ3JlZGVudGlhbCI6ZS5hY2Nlc3NLZXlJZCsiLyIrbiwiWC1BbXotRXhwaXJlcyI6dGhpcy5yZXF1ZXN0LmhlYWRlcnNbc10sIlgtQW16LVNpZ25lZEhlYWRlcnMiOnRoaXMuc2lnbmVkSGVhZGVycygpfTtlLnNlc3Npb25Ub2tlbiYmKG9bIlgtQW16LVNlY3VyaXR5LVRva2VuIl09ZS5zZXNzaW9uVG9rZW4pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSYmKG9bIkNvbnRlbnQtVHlwZSJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il0mJihvWyJDb250ZW50LU1ENSJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LU1ENSJdKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siQ2FjaGUtQ29udHJvbCJdJiYob1siQ2FjaGUtQ29udHJvbCJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDYWNoZS1Db250cm9sIl0pLHIudXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpZihlIT09cyYmdGhpcy5pc1NpZ25hYmxlSGVhZGVyKGUpKXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7MD09PW4uaW5kZXhPZigieC1hbXotbWV0YS0iKT9vW25dPXQ6MD09PW4uaW5kZXhPZigieC1hbXotIikmJihvW2VdPXQpfX0pKTt2YXIgaT10aGlzLnJlcXVlc3QucGF0aC5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt0aGlzLnJlcXVlc3QucGF0aCs9aStyLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhvKX0sYXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9dGhpcy5jcmVkZW50aWFsU3RyaW5nKHQpO3JldHVybiBuLnB1c2godGhpcy5hbGdvcml0aG0rIiBDcmVkZW50aWFsPSIrZS5hY2Nlc3NLZXlJZCsiLyIrciksbi5wdXNoKCJTaWduZWRIZWFkZXJzPSIrdGhpcy5zaWduZWRIZWFkZXJzKCkpLG4ucHVzaCgiU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSx0KSksbi5qb2luKCIsICIpfSxzaWduYXR1cmU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1vLmdldFNpZ25pbmdLZXkoZSx0LnN1YnN0cigwLDgpLHRoaXMucmVxdWVzdC5yZWdpb24sdGhpcy5zZXJ2aWNlTmFtZSx0aGlzLnNpZ25hdHVyZUNhY2hlKTtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKG4sdGhpcy5zdHJpbmdUb1NpZ24odCksImhleCIpfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQucHVzaCgiQVdTNC1ITUFDLVNIQTI1NiIpLHQucHVzaChlKSx0LnB1c2godGhpcy5jcmVkZW50aWFsU3RyaW5nKGUpKSx0LnB1c2godGhpcy5oZXhFbmNvZGVkSGFzaCh0aGlzLmNhbm9uaWNhbFN0cmluZygpKSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMucmVxdWVzdC5wYXRobmFtZSgpO3JldHVybiJzMyIhPT10aGlzLnNlcnZpY2VOYW1lJiYiczN2NCIhPT10aGlzLnNpZ25hdHVyZVZlcnNpb24mJih0PXIudXRpbC51cmlFc2NhcGVQYXRoKHQpKSxlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKHQpLGUucHVzaCh0aGlzLnJlcXVlc3Quc2VhcmNoKCkpLGUucHVzaCh0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSsiXG4iKSxlLnB1c2godGhpcy5zaWduZWRIZWFkZXJzKCkpLGUucHVzaCh0aGlzLmhleEVuY29kZWRCb2R5SGFzaCgpKSxlLmpvaW4oIlxuIil9LGNhbm9uaWNhbEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKFt0LG5dKX0pKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF0udG9Mb3dlckNhc2UoKTx0WzBdLnRvTG93ZXJDYXNlKCk/LTE6MX0pKTt2YXIgdD1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsZSwoZnVuY3Rpb24oZSl7dmFyIG49ZVswXS50b0xvd2VyQ2FzZSgpO2lmKHRoaXMuaXNTaWduYWJsZUhlYWRlcihuKSl7dmFyIG89ZVsxXTtpZihudWxsPT1vfHwiZnVuY3Rpb24iIT10eXBlb2Ygby50b1N0cmluZyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yKCJIZWFkZXIgIituKyIgY29udGFpbnMgaW52YWxpZCB2YWx1ZSIpLHtjb2RlOiJJbnZhbGlkSGVhZGVyIn0pO3QucHVzaChuKyI6Iit0aGlzLmNhbm9uaWNhbEhlYWRlclZhbHVlcyhvLnRvU3RyaW5nKCkpKX19KSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxIZWFkZXJWYWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXHMrL2csIiAiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9LHNpZ25lZEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKSx0aGlzLmlzU2lnbmFibGVIZWFkZXIodCkmJmUucHVzaCh0KX0pKSxlLnNvcnQoKS5qb2luKCI7Iil9LGNyZWRlbnRpYWxTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uY3JlYXRlU2NvcGUoZS5zdWJzdHIoMCw4KSx0aGlzLnJlcXVlc3QucmVnaW9uLHRoaXMuc2VydmljZU5hbWUpfSxoZXhFbmNvZGVkSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gci51dGlsLmNyeXB0by5zaGEyNTYoZSwiaGV4Iil9LGhleEVuY29kZWRCb2R5SGFzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdDtyZXR1cm4gdGhpcy5pc1ByZXNpZ25lZCgpJiZbInMzIiwiczMtb2JqZWN0LWxhbWJkYSJdLmluZGV4T2YodGhpcy5zZXJ2aWNlTmFtZSk+LTEmJiFlLmJvZHk/IlVOU0lHTkVELVBBWUxPQUQiOmUuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT9lLmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il06dGhpcy5oZXhFbmNvZGVkSGFzaCh0aGlzLnJlcXVlc3QuYm9keXx8IiIpfSx1bnNpZ25hYmxlSGVhZGVyczpbImF1dGhvcml6YXRpb24iLCJjb250ZW50LXR5cGUiLCJjb250ZW50LWxlbmd0aCIsInVzZXItYWdlbnQiLHMsImV4cGVjdCIsIngtYW16bi10cmFjZS1pZCJdLGlzU2lnbmFibGVIZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigieC1hbXotIil8fHRoaXMudW5zaWduYWJsZUhlYWRlcnMuaW5kZXhPZihlKTwwfSxpc1ByZXNpZ25lZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5yZXF1ZXN0LmhlYWRlcnNbc119fSksdC5leHBvcnRzPXIuU2lnbmVycy5WNH0seyIuLi9jb3JlIjoxOSwiLi92NF9jcmVkZW50aWFscyI6NzJ9XSw3MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXt9LGk9W10scz0iYXdzNF9yZXF1ZXN0Ijt0LmV4cG9ydHM9e2NyZWF0ZVNjb3BlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZS5zdWJzdHIoMCw4KSx0LG4sc10uam9pbigiLyIpfSxnZXRTaWduaW5nS2V5OmZ1bmN0aW9uKGUsdCxuLGEsYyl7dmFyIHU9W3IudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSxlLmFjY2Vzc0tleUlkLCJiYXNlNjQiKSx0LG4sYV0uam9pbigiXyIpO2lmKChjPSExIT09YykmJnUgaW4gbylyZXR1cm4gb1t1XTt2YXIgbD1yLnV0aWwuY3J5cHRvLmhtYWMoIkFXUzQiK2Uuc2VjcmV0QWNjZXNzS2V5LHQsImJ1ZmZlciIpLHA9ci51dGlsLmNyeXB0by5obWFjKGwsbiwiYnVmZmVyIiksZD1yLnV0aWwuY3J5cHRvLmhtYWMocCxhLCJidWZmZXIiKSxoPXIudXRpbC5jcnlwdG8uaG1hYyhkLHMsImJ1ZmZlciIpO3JldHVybiBjJiYob1t1XT1oLGkucHVzaCh1KSxpLmxlbmd0aD41MCYmZGVsZXRlIG9baS5zaGlmdCgpXSksaH0sZW1wdHlDYWNoZTpmdW5jdGlvbigpe289e30saT1bXX19fSx7Ii4uL2NvcmUiOjE5fV0sNzM6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7dGhpcy5jdXJyZW50U3RhdGU9dHx8bnVsbCx0aGlzLnN0YXRlcz1lfHx7fX1yLnByb3RvdHlwZS5ydW5Ubz1mdW5jdGlvbihlLHQsbixyKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHI9bixuPXQsdD1lLGU9bnVsbCk7dmFyIG89dGhpcyxpPW8uc3RhdGVzW28uY3VycmVudFN0YXRlXTtpLmZuLmNhbGwobnx8byxyLChmdW5jdGlvbihyKXtpZihyKXtpZighaS5mYWlsKXJldHVybiB0P3QuY2FsbChuLHIpOm51bGw7by5jdXJyZW50U3RhdGU9aS5mYWlsfWVsc2V7aWYoIWkuYWNjZXB0KXJldHVybiB0P3QuY2FsbChuKTpudWxsO28uY3VycmVudFN0YXRlPWkuYWNjZXB0fWlmKG8uY3VycmVudFN0YXRlPT09ZSlyZXR1cm4gdD90LmNhbGwobixyKTpudWxsO28ucnVuVG8oZSx0LG4scil9KSl9LHIucHJvdG90eXBlLmFkZFN0YXRlPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0PyhyPXQsdD1udWxsLG49bnVsbCk6ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSx0aGlzLmN1cnJlbnRTdGF0ZXx8KHRoaXMuY3VycmVudFN0YXRlPWUpLHRoaXMuc3RhdGVzW2VdPXthY2NlcHQ6dCxmYWlsOm4sZm46cn0sdGhpc30sdC5leHBvcnRzPXJ9LHt9XSw3NDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuLHIpeyhmdW5jdGlvbigpe3ZhciBvLGk9e2Vudmlyb25tZW50OiJub2RlanMiLGVuZ2luZTpmdW5jdGlvbigpe2lmKGkuaXNCcm93c2VyKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yKXJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBlPW4ucGxhdGZvcm0rIi8iK24udmVyc2lvbjtyZXR1cm4gbi5lbnYuQVdTX0VYRUNVVElPTl9FTlYmJihlKz0iIGV4ZWMtZW52LyIrbi5lbnYuQVdTX0VYRUNVVElPTl9FTlYpLGV9LHVzZXJBZ2VudDpmdW5jdGlvbigpe3ZhciB0PWkuZW52aXJvbm1lbnQsbj0iYXdzLXNkay0iK3QrIi8iK2UoIi4vY29yZSIpLlZFUlNJT047cmV0dXJuIm5vZGVqcyI9PT10JiYobis9IiAiK2kuZW5naW5lKCkpLG59LHVyaUVzY2FwZTpmdW5jdGlvbihlKXt2YXIgdD1lbmNvZGVVUklDb21wb25lbnQoZSk7cmV0dXJuIHQ9KHQ9dC5yZXBsYWNlKC9bXkEtWmEtejAtOV8uflwtJV0rL2csZXNjYXBlKSkucmVwbGFjZSgvWypdL2csKGZ1bmN0aW9uKGUpe3JldHVybiIlIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9KSl9LHVyaUVzY2FwZVBhdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGkuYXJyYXlFYWNoKGUuc3BsaXQoIi8iKSwoZnVuY3Rpb24oZSl7dC5wdXNoKGkudXJpRXNjYXBlKGUpKX0pKSx0LmpvaW4oIi8iKX0sdXJsUGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudXJsLnBhcnNlKGUpfSx1cmxGb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudXJsLmZvcm1hdChlKX0scXVlcnlTdHJpbmdQYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gaS5xdWVyeXN0cmluZy5wYXJzZShlKX0scXVlcnlQYXJhbXNUb1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWkudXJpRXNjYXBlLHI9T2JqZWN0LmtleXMoZSkuc29ydCgpO3JldHVybiBpLmFycmF5RWFjaChyLChmdW5jdGlvbihyKXt2YXIgbz1lW3JdLHM9bihyKSxhPXMrIj0iO2lmKEFycmF5LmlzQXJyYXkobykpe3ZhciBjPVtdO2kuYXJyYXlFYWNoKG8sKGZ1bmN0aW9uKGUpe2MucHVzaChuKGUpKX0pKSxhPXMrIj0iK2Muc29ydCgpLmpvaW4oIiYiK3MrIj0iKX1lbHNlIG51bGwhPW8mJihhPXMrIj0iK24obykpO3QucHVzaChhKX0pKSx0LmpvaW4oIiYiKX0scmVhZEZpbGVTeW5jOmZ1bmN0aW9uKHQpe3JldHVybiBpLmlzQnJvd3NlcigpP251bGw6ZSgiZnMiKS5yZWFkRmlsZVN5bmModCwidXRmLTgiKX0sYmFzZTY0OntlbmNvZGU6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXRocm93IGkuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgYmFzZTY0IGVuY29kZSBudW1iZXIgIitlKSk7cmV0dXJuIG51bGw9PWU/ZTppLmJ1ZmZlci50b0J1ZmZlcihlKS50b1N0cmluZygiYmFzZTY0Iil9LGRlY29kZTpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgaS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBiYXNlNjQgZGVjb2RlIG51bWJlciAiK2UpKTtyZXR1cm4gbnVsbD09ZT9lOmkuYnVmZmVyLnRvQnVmZmVyKGUsImJhc2U2NCIpfX0sYnVmZmVyOnt0b0J1ZmZlcjpmdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBpLkJ1ZmZlci5mcm9tJiZpLkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tP2kuQnVmZmVyLmZyb20oZSx0KTpuZXcgaS5CdWZmZXIoZSx0KX0sYWxsb2M6ZnVuY3Rpb24oZSx0LG4pe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoInNpemUgcGFzc2VkIHRvIGFsbG9jIG11c3QgYmUgYSBudW1iZXIuIik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGkuQnVmZmVyLmFsbG9jKXJldHVybiBpLkJ1ZmZlci5hbGxvYyhlLHQsbik7dmFyIHI9bmV3IGkuQnVmZmVyKGUpO3JldHVybiB2b2lkIDAhPT10JiYiZnVuY3Rpb24iPT10eXBlb2Ygci5maWxsJiZyLmZpbGwodCx2b2lkIDAsdm9pZCAwLG4pLHJ9LHRvU3RyZWFtOmZ1bmN0aW9uKGUpe2kuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1pLmJ1ZmZlci50b0J1ZmZlcihlKSk7dmFyIHQ9bmV3IGkuc3RyZWFtLlJlYWRhYmxlLG49MDtyZXR1cm4gdC5fcmVhZD1mdW5jdGlvbihyKXtpZihuPj1lLmxlbmd0aClyZXR1cm4gdC5wdXNoKG51bGwpO3ZhciBvPW4rcjtvPmUubGVuZ3RoJiYobz1lLmxlbmd0aCksdC5wdXNoKGUuc2xpY2UobixvKSksbj1vfSx0fSxjb25jYXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPTAsbz0wO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspcis9ZVtuXS5sZW5ndGg7Zm9yKHQ9aS5idWZmZXIuYWxsb2Mociksbj0wO248ZS5sZW5ndGg7bisrKWVbbl0uY29weSh0LG8pLG8rPWVbbl0ubGVuZ3RoO3JldHVybiB0fX0sc3RyaW5nOntieXRlTGVuZ3RoOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuIDA7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1pLmJ1ZmZlci50b0J1ZmZlcih0KSksIm51bWJlciI9PXR5cGVvZiB0LmJ5dGVMZW5ndGgpcmV0dXJuIHQuYnl0ZUxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybiB0Lmxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIHQuc2l6ZSlyZXR1cm4gdC5zaXplO2lmKCJzdHJpbmciPT10eXBlb2YgdC5wYXRoKXJldHVybiBlKCJmcyIpLmxzdGF0U3luYyh0LnBhdGgpLnNpemU7dGhyb3cgaS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBkZXRlcm1pbmUgbGVuZ3RoIG9mICIrdCkse29iamVjdDp0fSl9LHVwcGVyRmlyc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0udG9VcHBlckNhc2UoKStlLnN1YnN0cigxKX0sbG93ZXJGaXJzdDpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyKDEpfX0saW5pOntwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxuPXt9O3JldHVybiBpLmFycmF5RWFjaChlLnNwbGl0KC9ccj9cbi8pLChmdW5jdGlvbihlKXtpZigiWyI9PT0oZT1lLnNwbGl0KC8oXnxccylbOyNdLylbMF0udHJpbSgpKVswXSYmIl0iPT09ZVtlLmxlbmd0aC0xXSl7aWYoIl9fcHJvdG9fXyI9PT0odD1lLnN1YnN0cmluZygxLGUubGVuZ3RoLTEpKXx8Il9fcHJvdG9fXyI9PT10LnNwbGl0KC9ccy8pWzFdKXRocm93IGkuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgbG9hZCBwcm9maWxlIG5hbWUgJyIrdCsiJyBmcm9tIHNoYXJlZCBpbmkgZmlsZS4iKSl9ZWxzZSBpZih0KXt2YXIgcj1lLmluZGV4T2YoIj0iKSxvPWUubGVuZ3RoLTE7aWYoLTEhPT1yJiYwIT09ciYmciE9PW8pe3ZhciBzPWUuc3Vic3RyaW5nKDAscikudHJpbSgpLGE9ZS5zdWJzdHJpbmcocisxKS50cmltKCk7blt0XT1uW3RdfHx7fSxuW3RdW3NdPWF9fX0pKSxufX0sZm46e25vb3A6ZnVuY3Rpb24oKXt9LGNhbGxiYWNrOmZ1bmN0aW9uKGUpe2lmKGUpdGhyb3cgZX0sbWFrZUFzeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJnQ8PWUubGVuZ3RoP2U6ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7dC5wb3AoKShlLmFwcGx5KG51bGwsdCkpfX19LGRhdGU6e2dldERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gb3x8KG89ZSgiLi9jb3JlIikpLG8uY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0P25ldyBEYXRlKChuZXcgRGF0ZSkuZ2V0VGltZSgpK28uY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0KTpuZXcgRGF0ZX0saXNvODYwMTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9aS5kYXRlLmdldERhdGUoKSksZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1wuXGR7M31aJC8sIloiKX0scmZjODIyOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLmRhdGUuZ2V0RGF0ZSgpKSxlLnRvVVRDU3RyaW5nKCl9LHVuaXhUaW1lc3RhbXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWkuZGF0ZS5nZXREYXRlKCkpLGUuZ2V0VGltZSgpLzFlM30sZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGU/bmV3IERhdGUoMWUzKmUpOm5ldyBEYXRlKGUpfSxmb3JtYXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9Imlzbzg2MDEiKSxpLmRhdGVbdF0oaS5kYXRlLmZyb20oZSkpfSxwYXJzZVRpbWVzdGFtcDpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpcmV0dXJuIG5ldyBEYXRlKDFlMyplKTtpZihlLm1hdGNoKC9eXGQrJC8pKXJldHVybiBuZXcgRGF0ZSgxZTMqZSk7aWYoZS5tYXRjaCgvXlxkezR9LykpcmV0dXJuIG5ldyBEYXRlKGUpO2lmKGUubWF0Y2goL15cd3szfSwvKSlyZXR1cm4gbmV3IERhdGUoZSk7dGhyb3cgaS5lcnJvcihuZXcgRXJyb3IoInVuaGFuZGxlZCB0aW1lc3RhbXAgZm9ybWF0OiAiK2UpLHtjb2RlOiJUaW1lc3RhbXBQYXJzZXJFcnJvciJ9KX19LGNyeXB0bzp7Y3JjMzJUYWJsZTpbMCwxOTk2OTU5ODk0LDM5OTM5MTk3ODgsMjU2NzUyNDc5NCwxMjQ2MzQxMzcsMTg4NjA1NzYxNSwzOTE1NjIxNjg1LDI2NTczOTIwMzUsMjQ5MjY4Mjc0LDIwNDQ1MDgzMjQsMzc3MjExNTIzMCwyNTQ3MTc3ODY0LDE2Mjk0MTk5NSwyMTI1NTYxMDIxLDM4ODc2MDcwNDcsMjQyODQ0NDA0OSw0OTg1MzY1NDgsMTc4OTkyNzY2Niw0MDg5MDE2NjQ4LDIyMjcwNjEyMTQsNDUwNTQ4ODYxLDE4NDMyNTg2MDMsNDEwNzU4MDc1MywyMjExNjc3NjM5LDMyNTg4Mzk5MCwxNjg0Nzc3MTUyLDQyNTExMjIwNDIsMjMyMTkyNjYzNiwzMzU2MzM0ODcsMTY2MTM2NTQ2NSw0MTk1MzAyNzU1LDIzNjYxMTUzMTcsOTk3MDczMDk2LDEyODE5NTM4ODYsMzU3OTg1NTMzMiwyNzI0Njg4MjQyLDEwMDY4ODgxNDUsMTI1ODYwNzY4NywzNTI0MTAxNjI5LDI3Njg5NDI0NDMsOTAxMDk3NzIyLDExMTkwMDA2ODQsMzY4NjUxNzIwNiwyODk4MDY1NzI4LDg1MzA0NDQ1MSwxMTcyMjY2MTAxLDM3MDUwMTU3NTksMjg4MjYxNjY2NSw2NTE3Njc5ODAsMTM3MzUwMzU0NiwzMzY5NTU0MzA0LDMyMTgxMDQ1OTgsNTY1NTA3MjUzLDE0NTQ2MjE3MzEsMzQ4NTExMTcwNSwzMDk5NDM2MzAzLDY3MTI2Njk3NCwxNTk0MTk4MDI0LDMzMjI3MzA5MzAsMjk3MDM0NzgxMiw3OTU4MzU1MjcsMTQ4MzIzMDIyNSwzMjQ0MzY3Mjc1LDMwNjAxNDk1NjUsMTk5NDE0NjE5MiwzMTE1ODUzNCwyNTYzOTA3NzcyLDQwMjM3MTc5MzAsMTkwNzQ1OTQ2NSwxMTI2MzcyMTUsMjY4MDE1MzI1MywzOTA0NDI3MDU5LDIwMTM3NzYyOTAsMjUxNzIyMDM2LDI1MTcyMTUzNzQsMzc3NTgzMDA0MCwyMTM3NjU2NzYzLDE0MTM3NjgxMywyNDM5Mjc3NzE5LDM4NjUyNzEyOTcsMTgwMjE5NTQ0NCw0NzY4NjQ4NjYsMjIzODAwMTM2OCw0MDY2NTA4ODc4LDE4MTIzNzA5MjUsNDUzMDkyNzMxLDIxODE2MjUwMjUsNDExMTQ1MTIyMywxNzA2MDg4OTAyLDMxNDA0MjcwNCwyMzQ0NTMyMjAyLDQyNDAwMTc1MzIsMTY1ODY1ODI3MSwzNjY2MTk5NzcsMjM2MjY3MDMyMyw0MjI0OTk0NDA1LDEzMDM1MzU5NjAsOTg0OTYxNDg2LDI3NDcwMDcwOTIsMzU2OTAzNzUzOCwxMjU2MTcwODE3LDEwMzc2MDQzMTEsMjc2NTIxMDczMywzNTU0MDc5OTk1LDExMzEwMTQ1MDYsODc5Njc5OTk2LDI5MDkyNDM0NjIsMzY2Mzc3MTg1NiwxMTQxMTI0NDY3LDg1NTg0MjI3NywyODUyODAxNjMxLDM3MDg2NDg2NDksMTM0MjUzMzk0OCw2NTQ0NTkzMDYsMzE4ODM5NjA0OCwzMzczMDE1MTc0LDE0NjY0Nzk5MDksNTQ0MTc5NjM1LDMxMTA1MjM5MTMsMzQ2MjUyMjAxNSwxNTkxNjcxMDU0LDcwMjEzODc3NiwyOTY2NDYwNDUwLDMzNTI3OTk0MTIsMTUwNDkxODgwNyw3ODM1NTE4NzMsMzA4MjY0MDQ0MywzMjMzNDQyOTg5LDM5ODgyOTIzODQsMjU5NjI1NDY0Niw2MjMxNzA2OCwxOTU3ODEwODQyLDM5Mzk4NDU5NDUsMjY0NzgxNjExMSw4MTQ3MDk5NywxOTQzODAzNTIzLDM4MTQ5MTg5MzAsMjQ4OTU5NjgwNCwyMjUyNzQ0MzAsMjA1Mzc5MDM3NiwzODI2MTc1NzU1LDI0NjY5MDYwMTMsMTY3ODE2NzQzLDIwOTc2NTEzNzcsNDAyNzU1MjU4MCwyMjY1NDkwMzg2LDUwMzQ0NDA3MiwxNzYyMDUwODE0LDQxNTA0MTcyNDUsMjE1NDEyOTM1NSw0MjY1MjIyMjUsMTg1MjUwNzg3OSw0Mjc1MzEzNTI2LDIzMTIzMTc5MjAsMjgyNzUzNjI2LDE3NDI1NTU4NTIsNDE4OTcwODE0MywyMzk0ODc3OTQ1LDM5NzkxNzc2MywxNjIyMTgzNjM3LDM2MDQzOTA4ODgsMjcxNDg2NjU1OCw5NTM3Mjk3MzIsMTM0MDA3NjYyNiwzNTE4NzE5OTg1LDI3OTczNjA5OTksMTA2ODgyODM4MSwxMjE5NjM4ODU5LDM2MjQ3NDE4NTAsMjkzNjY3NTE0OCw5MDYxODU0NjIsMTA5MDgxMjUxMiwzNzQ3NjcyMDAzLDI4MjUzNzk2NjksODI5MzI5MTM1LDExODEzMzUxNjEsMzQxMjE3NzgwNCwzMTYwODM0ODQyLDYyODA4NTQwOCwxMzgyNjA1MzY2LDM0MjMzNjkxMDksMzEzODA3ODQ2Nyw1NzA1NjIyMzMsMTQyNjQwMDgxNSwzMzE3MzE2NTQyLDI5OTg3MzM2MDgsNzMzMjM5OTU0LDE1NTUyNjE5NTYsMzI2ODkzNTU5MSwzMDUwMzYwNjI1LDc1MjQ1OTQwMywxNTQxMzIwMjIxLDI2MDcwNzE5MjAsMzk2NTk3MzAzMCwxOTY5OTIyOTcyLDQwNzM1NDk4LDI2MTc4MzcyMjUsMzk0MzU3NzE1MSwxOTEzMDg3ODc3LDgzOTA4MzcxLDI1MTIzNDE2MzQsMzgwMzc0MDY5MiwyMDc1MjA4NjIyLDIxMzI2MTExMiwyNDYzMjcyNjAzLDM4NTU5OTAyODUsMjA5NDg1NDA3MSwxOTg5NTg4ODEsMjI2MjAyOTAxMiw0MDU3MjYwNjEwLDE3NTkzNTk5OTIsNTM0NDE0MTkwLDIxNzY3MTg1NDEsNDEzOTMyOTExNSwxODczODM2MDAxLDQxNDY2NDU2NywyMjgyMjQ4OTM0LDQyNzkyMDAzNjgsMTcxMTY4NDU1NCwyODUyODExMTYsMjQwNTgwMTcyNyw0MTY3MjE2NzQ1LDE2MzQ0Njc3OTUsMzc2MjI5NzAxLDI2ODUwNjc4OTYsMzYwODAwNzQwNiwxMzA4OTE4NjEyLDk1NjU0MzkzOCwyODA4NTU1MTA1LDM0OTU5NTgyNjMsMTIzMTYzNjMwMSwxMDQ3NDI3MDM1LDI5MzI5NTk4MTgsMzY1NDcwMzgzNiwxMDg4MzU5MjcwLDkzNjkxOGUzLDI4NDc3MTQ4OTksMzczNjgzNzgyOSwxMjAyOTAwODYzLDgxNzIzMzg5NywzMTgzMzQyMTA4LDM0MDEyMzcxMzAsMTQwNDI3NzU1Miw2MTU4MTgxNTAsMzEzNDIwNzQ5MywzNDUzNDIxMjAzLDE0MjM4NTc0NDksNjAxNDUwNDMxLDMwMDk4Mzc2MTQsMzI5NDcxMDQ1NiwxNTY3MTAzNzQ2LDcxMTkyODcyNCwzMDIwNjY4NDcxLDMyNzIzODAwNjUsMTUxMDMzNDIzNSw3NTUxNjcxMTddLGNyYzMyOmZ1bmN0aW9uKGUpe3ZhciB0PWkuY3J5cHRvLmNyYzMyVGFibGUsbj0tMTsic3RyaW5nIj09dHlwZW9mIGUmJihlPWkuYnVmZmVyLnRvQnVmZmVyKGUpKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyluPW4+Pj44XnRbMjU1JihuXmUucmVhZFVJbnQ4KHIpKV07cmV0dXJufm4+Pj4wfSxobWFjOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBufHwobj0iYmluYXJ5IiksImJ1ZmZlciI9PT1uJiYobj12b2lkIDApLHJ8fChyPSJzaGEyNTYiKSwic3RyaW5nIj09dHlwZW9mIHQmJih0PWkuYnVmZmVyLnRvQnVmZmVyKHQpKSxpLmNyeXB0by5saWIuY3JlYXRlSG1hYyhyLGUpLnVwZGF0ZSh0KS5kaWdlc3Qobil9LG1kNTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGkuY3J5cHRvLmhhc2goIm1kNSIsZSx0LG4pfSxzaGEyNTY6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBpLmNyeXB0by5oYXNoKCJzaGEyNTYiLGUsdCxuKX0saGFzaDpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1pLmNyeXB0by5jcmVhdGVIYXNoKGUpO258fChuPSJiaW5hcnkiKSwiYnVmZmVyIj09PW4mJihuPXZvaWQgMCksInN0cmluZyI9PXR5cGVvZiB0JiYodD1pLmJ1ZmZlci50b0J1ZmZlcih0KSk7dmFyIHM9aS5hcnJheVNsaWNlRm4odCksYT1pLkJ1ZmZlci5pc0J1ZmZlcih0KTtpZihpLmlzQnJvd3NlcigpJiYidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0JiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYoYT0hMCksciYmIm9iamVjdCI9PXR5cGVvZiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5vbiYmIWEpdC5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe28udXBkYXRlKGUpfSkpLHQub24oImVycm9yIiwoZnVuY3Rpb24oZSl7cihlKX0pKSx0Lm9uKCJlbmQiLChmdW5jdGlvbigpe3IobnVsbCxvLmRpZ2VzdChuKSl9KSk7ZWxzZXtpZighcnx8IXN8fGF8fCJ1bmRlZmluZWQiPT10eXBlb2YgRmlsZVJlYWRlcil7aS5pc0Jyb3dzZXIoKSYmIm9iamVjdCI9PXR5cGVvZiB0JiYhYSYmKHQ9bmV3IGkuQnVmZmVyKG5ldyBVaW50OEFycmF5KHQpKSk7dmFyIGM9by51cGRhdGUodCkuZGlnZXN0KG4pO3JldHVybiByJiZyKG51bGwsYyksY312YXIgdT0wLGw9bmV3IEZpbGVSZWFkZXI7bC5vbmVycm9yPWZ1bmN0aW9uKCl7cihuZXcgRXJyb3IoIkZhaWxlZCB0byByZWFkIGRhdGEuIikpfSxsLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPW5ldyBpLkJ1ZmZlcihuZXcgVWludDhBcnJheShsLnJlc3VsdCkpO28udXBkYXRlKGUpLHUrPWUubGVuZ3RoLGwuX2NvbnRpbnVlUmVhZGluZygpfSxsLl9jb250aW51ZVJlYWRpbmc9ZnVuY3Rpb24oKXtpZih1Pj10LnNpemUpcihudWxsLG8uZGlnZXN0KG4pKTtlbHNle3ZhciBlPXUrNTI0Mjg4O2U+dC5zaXplJiYoZT10LnNpemUpLGwucmVhZEFzQXJyYXlCdWZmZXIocy5jYWxsKHQsdSxlKSl9fSxsLl9jb250aW51ZVJlYWRpbmcoKX19LHRvSGV4OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKCgiMCIrZS5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yLDIpKTtyZXR1cm4gdC5qb2luKCIiKX0sY3JlYXRlSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gaS5jcnlwdG8ubGliLmNyZWF0ZUhhc2goZSl9fSxhYm9ydDp7fSxlYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQuY2FsbCh0aGlzLG4sZVtuXSk9PT1pLmFib3J0KWJyZWFrfSxhcnJheUVhY2g6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxwYXJzZUludChuLDEwKSk9PT1pLmFib3J0KWJyZWFrfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7ZVt0XT1ufSkpLGV9LG1lcmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkudXBkYXRlKGkuY29weShlKSx0KX0sY29weTpmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiBlO3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gdH0saXNFbXB0eTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0sYXJyYXlTbGljZUZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2xpY2V8fGUud2Via2l0U2xpY2V8fGUubW96U2xpY2U7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsfSxpc1R5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmKHQ9aS50eXBlTmFtZSh0KSksT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPT09IltvYmplY3QgIit0KyJdIn0sdHlwZU5hbWU6ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIm5hbWUiKSlyZXR1cm4gZS5uYW1lO3ZhciB0PWUudG9TdHJpbmcoKSxuPXQubWF0Y2goL15ccypmdW5jdGlvbiAoLispXCgvKTtyZXR1cm4gbj9uWzFdOnR9LGVycm9yOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtmb3IodmFyIHIgaW4ic3RyaW5nIj09dHlwZW9mIGUubWVzc2FnZSYmIiIhPT1lLm1lc3NhZ2UmJigic3RyaW5nIj09dHlwZW9mIHR8fHQmJnQubWVzc2FnZSkmJigobj1pLmNvcHkoZSkpLm1lc3NhZ2U9ZS5tZXNzYWdlKSxlLm1lc3NhZ2U9ZS5tZXNzYWdlfHxudWxsLCJzdHJpbmciPT10eXBlb2YgdD9lLm1lc3NhZ2U9dDoib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPT10JiYoaS51cGRhdGUoZSx0KSx0Lm1lc3NhZ2UmJihlLm1lc3NhZ2U9dC5tZXNzYWdlKSwodC5jb2RlfHx0Lm5hbWUpJiYoZS5jb2RlPXQuY29kZXx8dC5uYW1lKSx0LnN0YWNrJiYoZS5zdGFjaz10LnN0YWNrKSksImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJuYW1lIix7d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJtZXNzYWdlIix7ZW51bWVyYWJsZTohMH0pKSxlLm5hbWU9U3RyaW5nKHQmJnQubmFtZXx8ZS5uYW1lfHxlLmNvZGV8fCJFcnJvciIpLGUudGltZT1uZXcgRGF0ZSxuJiYoZS5vcmlnaW5hbEVycm9yPW4pLHR8fHt9KWlmKCJbIj09PXJbMF0mJiJdIj09PXJbci5sZW5ndGgtMV0pe2lmKCJjb2RlIj09PShyPXIuc2xpY2UoMSwtMSkpfHwibWVzc2FnZSI9PT1yKWNvbnRpbnVlO2VbIlsiK3IrIl0iXT0iU2VlIGVycm9yLiIrcisiIGZvciBkZXRhaWxzLiIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6ZVtyXXx8dCYmdFtyXXx8biYmbltyXSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfSl9cmV0dXJuIGV9LGluaGVyaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsO2lmKHZvaWQgMD09PXQpdD1lLGU9T2JqZWN0LG49e307ZWxzZXt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbj1uZXcgcn1yZXR1cm4gdC5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKHQuY29uc3RydWN0b3I9ZnVuY3Rpb24oKXtpZihlIT09T2JqZWN0KXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHQuY29uc3RydWN0b3IucHJvdG90eXBlPW4saS51cGRhdGUodC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksdC5jb25zdHJ1Y3Rvci5fX3N1cGVyX189ZSx0LmNvbnN0cnVjdG9yfSxtaXhpbjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBuIGluIGFyZ3VtZW50c1t0XS5wcm90b3R5cGUpe3ZhciByPWFyZ3VtZW50c1t0XS5wcm90b3R5cGVbbl07ImNvbnN0cnVjdG9yIiE9PW4mJihlLnByb3RvdHlwZVtuXT1yKX1yZXR1cm4gZX0saGlkZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5JiZpLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSkpfSxwcm9wZXJ0eTpmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTp2b2lkIDA9PT1yfHxyfTsiZnVuY3Rpb24iIT10eXBlb2Ygbnx8bz8oaS52YWx1ZT1uLGkud3JpdGFibGU9ITApOmkuZ2V0PW4sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxpKX0sbWVtb2l6ZWRQcm9wZXJ0eTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1udWxsO2kucHJvcGVydHkoZSx0LChmdW5jdGlvbigpe3JldHVybiBudWxsPT09byYmKG89bigpKSxvfSkscil9LGhvaXN0UGF5bG9hZE1lbWJlcjpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10Lm9wZXJhdGlvbixyPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1tuXSxvPXIub3V0cHV0O2lmKG8ucGF5bG9hZCYmIXIuaGFzRXZlbnRPdXRwdXQpe3ZhciBzPW8ubWVtYmVyc1tvLnBheWxvYWRdLGE9ZS5kYXRhW28ucGF5bG9hZF07InN0cnVjdHVyZSI9PT1zLnR5cGUmJmkuZWFjaChhLChmdW5jdGlvbih0LG4pe2kucHJvcGVydHkoZS5kYXRhLHQsbiwhMSl9KSl9fSxjb21wdXRlU2hhMjU2OmZ1bmN0aW9uKHQsbil7aWYoaS5pc05vZGUoKSl7dmFyIHI9aS5zdHJlYW0uU3RyZWFtLG89ZSgiZnMiKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmdCBpbnN0YW5jZW9mIHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdC5wYXRoKXJldHVybiBuKG5ldyBFcnJvcigiTm9uLWZpbGUgc3RyZWFtIG9iamVjdHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBTaWdWNCIpKTt2YXIgcz17fTsibnVtYmVyIj09dHlwZW9mIHQuc3RhcnQmJihzLnN0YXJ0PXQuc3RhcnQpLCJudW1iZXIiPT10eXBlb2YgdC5lbmQmJihzLmVuZD10LmVuZCksdD1vLmNyZWF0ZVJlYWRTdHJlYW0odC5wYXRoLHMpfX1pLmNyeXB0by5zaGEyNTYodCwiaGV4IiwoZnVuY3Rpb24oZSx0KXtlP24oZSk6bihudWxsLHQpfSkpfSxpc0Nsb2NrU2tld2VkOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGkucHJvcGVydHkoby5jb25maWcsImlzQ2xvY2tTa2V3ZWQiLE1hdGguYWJzKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWUpPj0zZTUsITEpLG8uY29uZmlnLmlzQ2xvY2tTa2V3ZWR9LGFwcGx5Q2xvY2tPZmZzZXQ6ZnVuY3Rpb24oZSl7ZSYmKG8uY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0PWUtKG5ldyBEYXRlKS5nZXRUaW1lKCkpfSxleHRyYWN0UmVxdWVzdElkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXXx8ZS5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdOyF0JiZlLmRhdGEmJmUuZGF0YS5SZXNwb25zZU1ldGFkYXRhJiYodD1lLmRhdGEuUmVzcG9uc2VNZXRhZGF0YS5SZXF1ZXN0SWQpLHQmJihlLnJlcXVlc3RJZD10KSxlLmVycm9yJiYoZS5lcnJvci5yZXF1ZXN0SWQ9dCl9LGFkZFByb21pc2VzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ITE7dm9pZCAwPT09dCYmbyYmby5jb25maWcmJih0PW8uY29uZmlnLmdldFByb21pc2VzRGVwZW5kZW5jeSgpKSx2b2lkIDA9PT10JiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb21pc2UmJih0PVByb21pc2UpLCJmdW5jdGlvbiIhPXR5cGVvZiB0JiYobj0hMCksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtuP2kuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MmJmkuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MoKTppLmFkZFByb21pc2VzVG9DbGFzcyYmaS5hZGRQcm9taXNlc1RvQ2xhc3ModCl9fSxwcm9taXNpZnlNZXRob2Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7ci5wdXNoKChmdW5jdGlvbihlLG4pe2U/byhlKTp0KG4pfSkpLG5bZV0uYXBwbHkobixyKX0pKX19LGlzRHVhbHN0YWNrQXZhaWxhYmxlOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3ZhciBuPWUoIi4uL2FwaXMvbWV0YWRhdGEuanNvbiIpO3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmKHQ9dC5zZXJ2aWNlSWRlbnRpZmllciksISgic3RyaW5nIiE9dHlwZW9mIHR8fCFuLmhhc093blByb3BlcnR5KHQpfHwhblt0XS5kdWFsc3RhY2tBdmFpbGFibGUpfSxjYWxjdWxhdGVSZXRyeURlbGF5OmZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSk7dmFyIHI9dC5jdXN0b21CYWNrb2ZmfHxudWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiByKGUsbik7dmFyIG89Im51bWJlciI9PXR5cGVvZiB0LmJhc2U/dC5iYXNlOjEwMDtyZXR1cm4gTWF0aC5yYW5kb20oKSooTWF0aC5wb3coMixlKSpvKX0saGFuZGxlUmVxdWVzdFdpdGhSZXRyaWVzOmZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSk7dmFyIHI9by5IdHRwQ2xpZW50LmdldEluc3RhbmNlKCkscz10Lmh0dHBPcHRpb25zfHx7fSxhPTAsYz1mdW5jdGlvbihlKXt2YXIgcj10Lm1heFJldHJpZXN8fDA7aWYoZSYmIlRpbWVvdXRFcnJvciI9PT1lLmNvZGUmJihlLnJldHJ5YWJsZT0hMCksZSYmZS5yZXRyeWFibGUmJmE8cil7dmFyIG89aS5jYWxjdWxhdGVSZXRyeURlbGF5KGEsdC5yZXRyeURlbGF5T3B0aW9ucyxlKTtpZihvPj0wKXJldHVybiBhKyssdm9pZCBzZXRUaW1lb3V0KHUsbysoZS5yZXRyeUFmdGVyfHwwKSl9bihlKX0sdT1mdW5jdGlvbigpe3ZhciB0PSIiO3IuaGFuZGxlUmVxdWVzdChlLHMsKGZ1bmN0aW9uKGUpe2Uub24oImRhdGEiLChmdW5jdGlvbihlKXt0Kz1lLnRvU3RyaW5nKCl9KSksZS5vbigiZW5kIiwoZnVuY3Rpb24oKXt2YXIgcj1lLnN0YXR1c0NvZGU7aWYocjwzMDApbihudWxsLHQpO2Vsc2V7dmFyIG89MWUzKnBhcnNlSW50KGUuaGVhZGVyc1sicmV0cnktYWZ0ZXIiXSwxMCl8fDAscz1pLmVycm9yKG5ldyBFcnJvcix7c3RhdHVzQ29kZTpyLHJldHJ5YWJsZTpyPj01MDB8fDQyOT09PXJ9KTtvJiZzLnJldHJ5YWJsZSYmKHMucmV0cnlBZnRlcj1vKSxjKHMpfX0pKX0pLGMpfTtvLnV0aWwuZGVmZXIodSl9LHV1aWQ6e3Y0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoInV1aWQiKS52NCgpfX0sY29udmVydFBheWxvYWRUb1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10Lm9wZXJhdGlvbixyPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1tuXS5vdXRwdXR8fHt9O3IucGF5bG9hZCYmZS5kYXRhW3IucGF5bG9hZF0mJihlLmRhdGFbci5wYXlsb2FkXT1lLmRhdGFbci5wYXlsb2FkXS50b1N0cmluZygpKX0sZGVmZXI6ZnVuY3Rpb24oZSl7Im9iamVjdCI9PXR5cGVvZiBuJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZXh0VGljaz9uLm5leHRUaWNrKGUpOiJmdW5jdGlvbiI9PXR5cGVvZiByP3IoZSk6c2V0VGltZW91dChlLDApfSxnZXRSZXF1ZXN0UGF5bG9hZFNoYXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9ucztpZih0KXt2YXIgbj0odHx8e30pW2Uub3BlcmF0aW9uXTtpZihuJiZuLmlucHV0JiZuLmlucHV0LnBheWxvYWQpcmV0dXJuIG4uaW5wdXQubWVtYmVyc1tuLmlucHV0LnBheWxvYWRdfX0sZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30sbz17fTtuLmVudltpLmNvbmZpZ09wdEluRW52XSYmKG89ZS5sb2FkRnJvbSh7aXNDb25maWc6ITAsZmlsZW5hbWU6bi5lbnZbaS5zaGFyZWRDb25maWdGaWxlRW52XX0pKTt2YXIgcz17fTt0cnl7cz1lLmxvYWRGcm9tKHtmaWxlbmFtZTp0fHxuLmVudltpLmNvbmZpZ09wdEluRW52XSYmbi5lbnZbaS5zaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnZdfSl9Y2F0Y2goZSl7aWYoIW4uZW52W2kuY29uZmlnT3B0SW5FbnZdKXRocm93IGV9Zm9yKHZhciBhPTAsYz1PYmplY3Qua2V5cyhvKTthPGMubGVuZ3RoO2ErKylyW2NbYV1dPXUocltjW2FdXXx8e30sb1tjW2FdXSk7Zm9yKGE9MCxjPU9iamVjdC5rZXlzKHMpO2E8Yy5sZW5ndGg7YSsrKXJbY1thXV09dShyW2NbYV1dfHx7fSxzW2NbYV1dKTtyZXR1cm4gcjtmdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciBuPTAscj1PYmplY3Qua2V5cyh0KTtuPHIubGVuZ3RoO24rKyllW3Jbbl1dPXRbcltuXV07cmV0dXJuIGV9fSxBUk46e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYwPT09ZS5pbmRleE9mKCJhcm46IikmJmUuc3BsaXQoIjoiKS5sZW5ndGg+PTZ9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIjoiKTtyZXR1cm57cGFydGl0aW9uOnRbMV0sc2VydmljZTp0WzJdLHJlZ2lvbjp0WzNdLGFjY291bnRJZDp0WzRdLHJlc291cmNlOnQuc2xpY2UoNSkuam9pbigiOiIpfX0sYnVpbGQ6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5zZXJ2aWNlfHx2b2lkIDA9PT1lLnJlZ2lvbnx8dm9pZCAwPT09ZS5hY2NvdW50SWR8fHZvaWQgMD09PWUucmVzb3VyY2UpdGhyb3cgaS5lcnJvcihuZXcgRXJyb3IoIklucHV0IEFSTiBvYmplY3QgaXMgaW52YWxpZCIpKTtyZXR1cm4iYXJuOiIrKGUucGFydGl0aW9ufHwiYXdzIikrIjoiK2Uuc2VydmljZSsiOiIrZS5yZWdpb24rIjoiK2UuYWNjb3VudElkKyI6IitlLnJlc291cmNlfX0sZGVmYXVsdFByb2ZpbGU6ImRlZmF1bHQiLGNvbmZpZ09wdEluRW52OiJBV1NfU0RLX0xPQURfQ09ORklHIixzaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnY6IkFXU19TSEFSRURfQ1JFREVOVElBTFNfRklMRSIsc2hhcmVkQ29uZmlnRmlsZUVudjoiQVdTX0NPTkZJR19GSUxFIixpbWRzRGlzYWJsZWRFbnY6IkFXU19FQzJfTUVUQURBVEFfRElTQUJMRUQifTt0LmV4cG9ydHM9aX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSxlKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUpfSx7Ii4uL2FwaXMvbWV0YWRhdGEuanNvbiI6NCwiLi9jb3JlIjoxOSxfcHJvY2Vzczo5MSxmczo4Mix0aW1lcnM6OTksdXVpZDoxMDJ9XSw3NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL21vZGVsL3NoYXBlIik7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBzKGUsdCl7Zm9yKHZhciBuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkscj0wLG89bi5sZW5ndGg7cjxvO3IrKylpZihuW3JdLnBhcmVudE5vZGU9PT1lKXJldHVybiBuW3JdfWZ1bmN0aW9uIGEoZSx0KXtzd2l0Y2godHx8KHQ9e30pLHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBjKGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17fSxyPXQua2V5Lm5hbWV8fCJrZXkiLG89dC52YWx1ZS5uYW1lfHwidmFsdWUiLGk9dC5mbGF0dGVuZWQ/dC5uYW1lOiJlbnRyeSIsYz1lLmZpcnN0RWxlbWVudENoaWxkO2M7KXtpZihjLm5vZGVOYW1lPT09aSl7dmFyIHU9cyhjLHIpLnRleHRDb250ZW50LGw9cyhjLG8pO25bdV09YShsLHQudmFsdWUpfWM9Yy5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIG59KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj10LmZsYXR0ZW5lZD90Lm5hbWU6dC5tZW1iZXIubmFtZXx8Im1lbWJlciIsbz1lLmZpcnN0RWxlbWVudENoaWxkO287KW8ubm9kZU5hbWU9PT1yJiZuLnB1c2goYShvLHQubWVtYmVyKSksbz1vLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbn0oZSx0KTtjYXNlIHZvaWQgMDpjYXNlIG51bGw6cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIiI7aWYoIWUuZmlyc3RFbGVtZW50Q2hpbGQpcmV0dXJuIG51bGw9PT1lLnBhcmVudE5vZGUucGFyZW50Tm9kZT97fTowPT09ZS5jaGlsZE5vZGVzLmxlbmd0aD8iIjplLnRleHRDb250ZW50O2Zvcih2YXIgdD17dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fSxuPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bjspe3ZhciByPW4ubm9kZU5hbWU7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQubWVtYmVycyxyKT90Lm1lbWJlcnNbcl0udHlwZT0ibGlzdCI6dC5tZW1iZXJzW3JdPXtuYW1lOnJ9LG49bi5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIGMoZSx0KX0oZSk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihlLmdldEF0dHJpYnV0ZSl7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoImVuY29kaW5nIik7ImJhc2U2NCI9PT1uJiYodD1uZXcgby5jcmVhdGUoe3R5cGU6bn0pKX12YXIgcj1lLnRleHRDb250ZW50O3JldHVybiIiPT09ciYmKHI9bnVsbCksImZ1bmN0aW9uIj09dHlwZW9mIHQudG9UeXBlP3QudG9UeXBlKHIpOnJ9KGUsdCl9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fTtyZXR1cm4gbnVsbD09PWV8fHIuZWFjaCh0Lm1lbWJlcnMsKGZ1bmN0aW9uKHIsbyl7aWYoby5pc1htbEF0dHJpYnV0ZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuYXR0cmlidXRlcyxvLm5hbWUpKXt2YXIgaT1lLmF0dHJpYnV0ZXNbby5uYW1lXS52YWx1ZTtuW3JdPWEoe3RleHRDb250ZW50Oml9LG8pfX1lbHNle3ZhciBjPW8uZmxhdHRlbmVkP2U6cyhlLG8ubmFtZSk7Yz9uW3JdPWEoYyxvKTpvLmZsYXR0ZW5lZHx8Imxpc3QiIT09by50eXBlfHx0LmFwaS54bWxOb0RlZmF1bHRMaXN0c3x8KG5bcl09by5kZWZhdWx0VmFsdWUpfX0pKSxufWkucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7aWYoIiI9PT1lLnJlcGxhY2UoL15ccysvLCIiKSlyZXR1cm57fTt2YXIgbixvO3RyeXtpZih3aW5kb3cuRE9NUGFyc2VyKXt0cnl7bj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsInRleHQveG1sIil9Y2F0Y2goZSl7dGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIlBhcnNlIGVycm9yIGluIGRvY3VtZW50Iikse29yaWdpbmFsRXJyb3I6ZSxjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSl9aWYobnVsbD09PW4uZG9jdW1lbnRFbGVtZW50KXRocm93IHIuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgcGFyc2UgZW1wdHkgZG9jdW1lbnQuIikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KTt2YXIgaT1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdO2lmKGkmJihpLnBhcmVudE5vZGU9PT1ufHwiYm9keSI9PT1pLnBhcmVudE5vZGUubm9kZU5hbWV8fGkucGFyZW50Tm9kZS5wYXJlbnROb2RlPT09bnx8ImJvZHkiPT09aS5wYXJlbnROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUpKXt2YXIgYz1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXXx8aTt0aHJvdyByLmVycm9yKG5ldyBFcnJvcihjLnRleHRDb250ZW50fHwiUGFyc2VyIGVycm9yIGluIGRvY3VtZW50Iikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX19ZWxzZXtpZighd2luZG93LkFjdGl2ZVhPYmplY3QpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbG9hZCBYTUwgcGFyc2VyIik7aWYoKG49bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikpLmFzeW5jPSExLCFuLmxvYWRYTUwoZSkpdGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIlBhcnNlIGVycm9yIGluIGRvY3VtZW50Iikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX19Y2F0Y2goZSl7bz1lfWlmKG4mJm4uZG9jdW1lbnRFbGVtZW50JiYhbyl7dmFyIHU9YShuLmRvY3VtZW50RWxlbWVudCx0KSxsPXMobi5kb2N1bWVudEVsZW1lbnQsIlJlc3BvbnNlTWV0YWRhdGEiKTtyZXR1cm4gbCYmKHUuUmVzcG9uc2VNZXRhZGF0YT1hKGwse30pKSx1fWlmKG8pdGhyb3cgci5lcnJvcihvfHxuZXcgRXJyb3Ise2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KTtyZXR1cm57fX0sdC5leHBvcnRzPWl9LHsiLi4vbW9kZWwvc2hhcGUiOjQ1LCIuLi91dGlsIjo3NH1dLDc2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi94bWwtbm9kZSIpLlhtbE5vZGUsaT1lKCIuL3htbC10ZXh0IikuWG1sVGV4dDtmdW5jdGlvbiBzKCl7fWZ1bmN0aW9uIGEoZSx0LG4pe3N3aXRjaChuLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3IuYXJyYXlFYWNoKG4ubWVtYmVyTmFtZXMsKGZ1bmN0aW9uKHIpe3ZhciBpPW4ubWVtYmVyc1tyXTtpZigiYm9keSI9PT1pLmxvY2F0aW9uKXt2YXIgcz10W3JdLHU9aS5uYW1lO2lmKG51bGwhPXMpaWYoaS5pc1htbEF0dHJpYnV0ZSllLmFkZEF0dHJpYnV0ZSh1LHMpO2Vsc2UgaWYoaS5mbGF0dGVuZWQpYShlLHMsaSk7ZWxzZXt2YXIgbD1uZXcgbyh1KTtlLmFkZENoaWxkTm9kZShsKSxjKGwsaSksYShsLHMsaSl9fX0pKX0oZSx0LG4pO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4ua2V5Lm5hbWV8fCJrZXkiLHM9bi52YWx1ZS5uYW1lfHwidmFsdWUiO3IuZWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPW5ldyBvKG4uZmxhdHRlbmVkP24ubmFtZToiZW50cnkiKTtlLmFkZENoaWxkTm9kZShjKTt2YXIgdT1uZXcgbyhpKSxsPW5ldyBvKHMpO2MuYWRkQ2hpbGROb2RlKHUpLGMuYWRkQ2hpbGROb2RlKGwpLGEodSx0LG4ua2V5KSxhKGwscixuLnZhbHVlKX0pKX0oZSx0LG4pO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtuLmZsYXR0ZW5lZD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXt2YXIgcj1uLm1lbWJlci5uYW1lfHxuLm5hbWUsaT1uZXcgbyhyKTtlLmFkZENoaWxkTm9kZShpKSxhKGksdCxuLm1lbWJlcil9KSk6ci5hcnJheUVhY2godCwoZnVuY3Rpb24odCl7dmFyIHI9bi5tZW1iZXIubmFtZXx8Im1lbWJlciIsaT1uZXcgbyhyKTtlLmFkZENoaWxkTm9kZShpKSxhKGksdCxuLm1lbWJlcil9KSl9KGUsdCxuKTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQsbil7ZS5hZGRDaGlsZE5vZGUobmV3IGkobi50b1dpcmVGb3JtYXQodCkpKX0oZSx0LG4pfX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcixvPSJ4bWxucyI7dC54bWxOYW1lc3BhY2VVcmk/KHI9dC54bWxOYW1lc3BhY2VVcmksdC54bWxOYW1lc3BhY2VQcmVmaXgmJihvKz0iOiIrdC54bWxOYW1lc3BhY2VQcmVmaXgpKTpuJiZ0LmFwaS54bWxOYW1lc3BhY2VVcmkmJihyPXQuYXBpLnhtbE5hbWVzcGFjZVVyaSksciYmZS5hZGRBdHRyaWJ1dGUobyxyKX1zLnByb3RvdHlwZS50b1hNTD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uZXcgbyhuKTtyZXR1cm4gYyhpLHQsITApLGEoaSxlLHQpLGkuY2hpbGRyZW4ubGVuZ3RoPjB8fHI/aS50b1N0cmluZygpOiIifSx0LmV4cG9ydHM9c30seyIuLi91dGlsIjo3NCwiLi94bWwtbm9kZSI6NzksIi4veG1sLXRleHQiOjgwfV0sNzc6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2VzY2FwZUF0dHJpYnV0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvJy9nLCImYXBvczsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpfX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXNjYXBlRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvXHIvZywiJiN4MEQ7IikucmVwbGFjZSgvXG4vZywiJiN4MEE7IikucmVwbGFjZSgvXHUwMDg1L2csIiYjeDg1OyIpLnJlcGxhY2UoL1x1MjAyOC8sIiYjeDIwMjg7Iil9fX0se31dLDc5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9lc2NhcGUtYXR0cmlidXRlIikuZXNjYXBlQXR0cmlidXRlO2Z1bmN0aW9uIG8oZSx0KXt2b2lkIDA9PT10JiYodD1bXSksdGhpcy5uYW1lPWUsdGhpcy5jaGlsZHJlbj10LHRoaXMuYXR0cmlidXRlcz17fX1vLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2VdPXQsdGhpc30sby5wcm90b3R5cGUuYWRkQ2hpbGROb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNoaWxkcmVuLnB1c2goZSksdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe3JldHVybiBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW2VdLHRoaXN9LG8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPUJvb2xlYW4odGhpcy5jaGlsZHJlbi5sZW5ndGgpLHQ9IjwiK3RoaXMubmFtZSxuPXRoaXMuYXR0cmlidXRlcyxvPTAsaT1PYmplY3Qua2V5cyhuKTtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aVtvXSxhPW5bc107bnVsbCE9YSYmKHQrPSIgIitzKyc9IicrcigiIithKSsnIicpfXJldHVybiB0KyhlPyI+Iit0aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9TdHJpbmcoKX0pKS5qb2luKCIiKSsiPC8iK3RoaXMubmFtZSsiPiI6Ii8+Iil9LHQuZXhwb3J0cz17WG1sTm9kZTpvfX0seyIuL2VzY2FwZS1hdHRyaWJ1dGUiOjc3fV0sODA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2VzY2FwZS1lbGVtZW50IikuZXNjYXBlRWxlbWVudDtmdW5jdGlvbiBvKGUpe3RoaXMudmFsdWU9ZX1vLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByKCIiK3RoaXMudmFsdWUpfSx0LmV4cG9ydHM9e1htbFRleHQ6b319LHsiLi9lc2NhcGUtZWxlbWVudCI6Nzh9XSw4MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9YyhlKSxuPXRbMF0scj10WzFdO3JldHVybiAzKihuK3IpLzQtcn0sbi50b0J5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9YyhlKSxzPXJbMF0sYT1yWzFdLHU9bmV3IGkoZnVuY3Rpb24oZSx0LG4pe3JldHVybiAzKih0K24pLzQtbn0oMCxzLGEpKSxsPTAscD1hPjA/cy00OnM7Zm9yKG49MDtuPHA7bis9NCl0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MTh8b1tlLmNoYXJDb2RlQXQobisxKV08PDEyfG9bZS5jaGFyQ29kZUF0KG4rMildPDw2fG9bZS5jaGFyQ29kZUF0KG4rMyldLHVbbCsrXT10Pj4xNiYyNTUsdVtsKytdPXQ+PjgmMjU1LHVbbCsrXT0yNTUmdDtyZXR1cm4gMj09PWEmJih0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MnxvW2UuY2hhckNvZGVBdChuKzEpXT4+NCx1W2wrK109MjU1JnQpLDE9PT1hJiYodD1vW2UuY2hhckNvZGVBdChuKV08PDEwfG9bZS5jaGFyQ29kZUF0KG4rMSldPDw0fG9bZS5jaGFyQ29kZUF0KG4rMildPj4yLHVbbCsrXT10Pj44JjI1NSx1W2wrK109MjU1JnQpLHV9LG4uZnJvbUJ5dGVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aCxvPW4lMyxpPVtdLHM9MTYzODMsYT0wLGM9bi1vO2E8YzthKz1zKWkucHVzaCh1KGUsYSxhK3M+Yz9jOmErcykpO3JldHVybiAxPT09bz8odD1lW24tMV0saS5wdXNoKHJbdD4+Ml0rclt0PDw0JjYzXSsiPT0iKSk6Mj09PW8mJih0PShlW24tMl08PDgpK2Vbbi0xXSxpLnB1c2goclt0Pj4xMF0rclt0Pj40JjYzXStyW3Q8PDImNjNdKyI9IikpLGkuam9pbigiIil9O2Zvcih2YXIgcj1bXSxvPVtdLGk9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXkscz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsYT0wO2E8NjQ7KythKXJbYV09c1thXSxvW3MuY2hhckNvZGVBdChhKV09YTtmdW5jdGlvbiBjKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQlND4wKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCIpO3ZhciBuPWUuaW5kZXhPZigiPSIpO3JldHVybi0xPT09biYmKG49dCksW24sbj09PXQ/MDo0LW4lNF19ZnVuY3Rpb24gdShlLHQsbil7Zm9yKHZhciBvLGkscz1bXSxhPXQ7YTxuO2ErPTMpbz0oZVthXTw8MTYmMTY3MTE2ODApKyhlW2ErMV08PDgmNjUyODApKygyNTUmZVthKzJdKSxzLnB1c2goclsoaT1vKT4+MTgmNjNdK3JbaT4+MTImNjNdK3JbaT4+NiY2M10rcls2MyZpXSk7cmV0dXJuIHMuam9pbigiIil9b1siLSIuY2hhckNvZGVBdCgwKV09NjIsb1siXyIuY2hhckNvZGVBdCgwKV09NjN9LHt9XSw4MjpbZnVuY3Rpb24oZSx0LG4pe30se31dLDgzOltmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX06dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dDt2YXIgbj1mdW5jdGlvbigpe307bi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19LHt9XSw4NDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jb3B5JiYiZnVuY3Rpb24iPT10eXBlb2YgZS5maWxsJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5yZWFkVUludDh9fSx7fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCxuKXsoZnVuY3Rpb24oKXt2YXIgbz0vJVtzZGolXS9nO3IuZm9ybWF0PWZ1bmN0aW9uKGUpe2lmKCF2KGUpKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGEoYXJndW1lbnRzW25dKSk7cmV0dXJuIHQuam9pbigiICIpfW49MTtmb3IodmFyIHI9YXJndW1lbnRzLGk9ci5sZW5ndGgscz1TdHJpbmcoZSkucmVwbGFjZShvLChmdW5jdGlvbihlKXtpZigiJSUiPT09ZSlyZXR1cm4iJSI7aWYobj49aSlyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZSIlcyI6cmV0dXJuIFN0cmluZyhyW24rK10pO2Nhc2UiJWQiOnJldHVybiBOdW1iZXIocltuKytdKTtjYXNlIiVqIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJbbisrXSl9Y2F0Y2goZSl7cmV0dXJuIltDaXJjdWxhcl0ifWRlZmF1bHQ6cmV0dXJuIGV9fSkpLGM9cltuXTtuPGk7Yz1yWysrbl0pZihjKXx8IVMoYyk/cys9IiAiK2M6cys9IiAiK2EoYyk7cmV0dXJuIHN9LHIuZGVwcmVjYXRlPWZ1bmN0aW9uKGUsbyl7aWYoeShuLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiByLmRlcHJlY2F0ZShlLG8pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoITA9PT10Lm5vRGVwcmVjYXRpb24pcmV0dXJuIGU7dmFyIGk9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWkpe2lmKHQudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3Iobyk7dC50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2Uobyk6Y29uc29sZS5lcnJvcihvKSxpPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O3ZhciBpLHM9e307ZnVuY3Rpb24gYShlLHQpe3ZhciBuPXtzZWVuOltdLHN0eWxpemU6dX07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihuLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKG4uY29sb3JzPWFyZ3VtZW50c1szXSksZyh0KT9uLnNob3dIaWRkZW49dDp0JiZyLl9leHRlbmQobix0KSx5KG4uc2hvd0hpZGRlbikmJihuLnNob3dIaWRkZW49ITEpLHkobi5kZXB0aCkmJihuLmRlcHRoPTIpLHkobi5jb2xvcnMpJiYobi5jb2xvcnM9ITEpLHkobi5jdXN0b21JbnNwZWN0KSYmKG4uY3VzdG9tSW5zcGVjdD0hMCksbi5jb2xvcnMmJihuLnN0eWxpemU9YyksbChuLGUsbi5kZXB0aCl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPWEuc3R5bGVzW3RdO3JldHVybiBuPyIbWyIrYS5jb2xvcnNbbl1bMF0rIm0iK2UrIhtbIithLmNvbG9yc1tuXVsxXSsibSI6ZX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGV9ZnVuY3Rpb24gbChlLHQsbil7aWYoZS5jdXN0b21JbnNwZWN0JiZ0JiZJKHQuaW5zcGVjdCkmJnQuaW5zcGVjdCE9PXIuaW5zcGVjdCYmKCF0LmNvbnN0cnVjdG9yfHx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXQpKXt2YXIgbz10Lmluc3BlY3QobixlKTtyZXR1cm4gdihvKXx8KG89bChlLG8sbikpLG99dmFyIGk9ZnVuY3Rpb24oZSx0KXtpZih5KHQpKXJldHVybiBlLnN0eWxpemUoInVuZGVmaW5lZCIsInVuZGVmaW5lZCIpO2lmKHYodCkpe3ZhciBuPSInIitKU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC9eInwiJC9nLCIiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykrIiciO3JldHVybiBlLnN0eWxpemUobiwic3RyaW5nIil9cmV0dXJuIG0odCk/ZS5zdHlsaXplKCIiK3QsIm51bWJlciIpOmcodCk/ZS5zdHlsaXplKCIiK3QsImJvb2xlYW4iKTpmKHQpP2Uuc3R5bGl6ZSgibnVsbCIsIm51bGwiKTp2b2lkIDB9KGUsdCk7aWYoaSlyZXR1cm4gaTt2YXIgcz1PYmplY3Qua2V5cyh0KSxhPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dFtlXT0hMH0pKSx0fShzKTtpZihlLnNob3dIaWRkZW4mJihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpKSxFKHQpJiYocy5pbmRleE9mKCJtZXNzYWdlIik+PTB8fHMuaW5kZXhPZigiZGVzY3JpcHRpb24iKT49MCkpcmV0dXJuIHAodCk7aWYoMD09PXMubGVuZ3RoKXtpZihJKHQpKXt2YXIgYz10Lm5hbWU/IjogIit0Lm5hbWU6IiI7cmV0dXJuIGUuc3R5bGl6ZSgiW0Z1bmN0aW9uIitjKyJdIiwic3BlY2lhbCIpfWlmKGIodCkpcmV0dXJuIGUuc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksInJlZ2V4cCIpO2lmKEModCkpcmV0dXJuIGUuc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJkYXRlIik7aWYoRSh0KSlyZXR1cm4gcCh0KX12YXIgdSxTPSIiLFQ9ITEsQT1bInsiLCJ9Il07cmV0dXJuIGgodCkmJihUPSEwLEE9WyJbIiwiXSJdKSxJKHQpJiYoUz0iIFtGdW5jdGlvbiIrKHQubmFtZT8iOiAiK3QubmFtZToiIikrIl0iKSxiKHQpJiYoUz0iICIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSxDKHQpJiYoUz0iICIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh0KSksRSh0KSYmKFM9IiAiK3AodCkpLDAhPT1zLmxlbmd0aHx8VCYmMCE9dC5sZW5ndGg/bjwwP2IodCk/ZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik6ZS5zdHlsaXplKCJbT2JqZWN0XSIsInNwZWNpYWwiKTooZS5zZWVuLnB1c2godCksdT1UP2Z1bmN0aW9uKGUsdCxuLHIsbyl7Zm9yKHZhciBpPVtdLHM9MCxhPXQubGVuZ3RoO3M8YTsrK3MpXyh0LFN0cmluZyhzKSk/aS5wdXNoKGQoZSx0LG4scixTdHJpbmcocyksITApKTppLnB1c2goIiIpO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKG8pe28ubWF0Y2goL15cZCskLyl8fGkucHVzaChkKGUsdCxuLHIsbywhMCkpfSkpLGl9KGUsdCxuLGEscyk6cy5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiBkKGUsdCxuLGEscixUKX0pKSxlLnNlZW4ucG9wKCksZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmluZGV4T2YoIlxuIiksZSt0LnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSksMCk7cmV0dXJuIHI+NjA/blswXSsoIiI9PT10PyIiOnQrIlxuICIpKyIgIitlLmpvaW4oIixcbiAgIikrIiAiK25bMV06blswXSt0KyIgIitlLmpvaW4oIiwgIikrIiAiK25bMV19KHUsUyxBKSk6QVswXStTK0FbMV19ZnVuY3Rpb24gcChlKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkrIl0ifWZ1bmN0aW9uIGQoZSx0LG4scixvLGkpe3ZhciBzLGEsYztpZigoYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyl8fHt2YWx1ZTp0W29dfSkuZ2V0P2E9Yy5zZXQ/ZS5zdHlsaXplKCJbR2V0dGVyL1NldHRlcl0iLCJzcGVjaWFsIik6ZS5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTpjLnNldCYmKGE9ZS5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKSksXyhyLG8pfHwocz0iWyIrbysiXSIpLGF8fChlLnNlZW4uaW5kZXhPZihjLnZhbHVlKTwwPyhhPWYobik/bChlLGMudmFsdWUsbnVsbCk6bChlLGMudmFsdWUsbi0xKSkuaW5kZXhPZigiXG4iKT4tMSYmKGE9aT9hLnNwbGl0KCJcbiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiAgIitlfSkpLmpvaW4oIlxuIikuc3Vic3RyKDIpOiJcbiIrYS5zcGxpdCgiXG4iKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIgICAiK2V9KSkuam9pbigiXG4iKSk6YT1lLnN0eWxpemUoIltDaXJjdWxhcl0iLCJzcGVjaWFsIikpLHkocykpe2lmKGkmJm8ubWF0Y2goL15cZCskLykpcmV0dXJuIGE7KHM9SlNPTi5zdHJpbmdpZnkoIiIrbykpLm1hdGNoKC9eIihbYS16QS1aX11bYS16QS1aXzAtOV0qKSIkLyk/KHM9cy5zdWJzdHIoMSxzLmxlbmd0aC0yKSxzPWUuc3R5bGl6ZShzLCJuYW1lIikpOihzPXMucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpLnJlcGxhY2UoLyheInwiJCkvZywiJyIpLHM9ZS5zdHlsaXplKHMsInN0cmluZyIpKX1yZXR1cm4gcysiOiAiK2F9ZnVuY3Rpb24gaChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBnKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gbnVsbD09PWV9ZnVuY3Rpb24gbShlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9ZnVuY3Rpb24geShlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBiKGUpe3JldHVybiBTKGUpJiYiW29iamVjdCBSZWdFeHBdIj09PVQoZSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIFMoZSkmJiJbb2JqZWN0IERhdGVdIj09PVQoZSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gUyhlKSYmKCJbb2JqZWN0IEVycm9yXSI9PT1UKGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gVChlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGU8MTA/IjAiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfXIuZGVidWdsb2c9ZnVuY3Rpb24oZSl7aWYoeShpKSYmKGk9dC5lbnYuTk9ERV9ERUJVR3x8IiIpLGU9ZS50b1VwcGVyQ2FzZSgpLCFzW2VdKWlmKG5ldyBSZWdFeHAoIlxcYiIrZSsiXFxiIiwiaSIpLnRlc3QoaSkpe3ZhciBuPXQucGlkO3NbZV09ZnVuY3Rpb24oKXt2YXIgdD1yLmZvcm1hdC5hcHBseShyLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcigiJXMgJWQ6ICVzIixlLG4sdCl9fWVsc2Ugc1tlXT1mdW5jdGlvbigpe307cmV0dXJuIHNbZV19LHIuaW5zcGVjdD1hLGEuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxhLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLGJvb2xlYW46InllbGxvdyIsdW5kZWZpbmVkOiJncmV5IixudWxsOiJib2xkIixzdHJpbmc6ImdyZWVuIixkYXRlOiJtYWdlbnRhIixyZWdleHA6InJlZCJ9LHIuaXNBcnJheT1oLHIuaXNCb29sZWFuPWcsci5pc051bGw9ZixyLmlzTnVsbE9yVW5kZWZpbmVkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfSxyLmlzTnVtYmVyPW0sci5pc1N0cmluZz12LHIuaXNTeW1ib2w9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfSxyLmlzVW5kZWZpbmVkPXksci5pc1JlZ0V4cD1iLHIuaXNPYmplY3Q9UyxyLmlzRGF0ZT1DLHIuaXNFcnJvcj1FLHIuaXNGdW5jdGlvbj1JLHIuaXNQcmltaXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGV8fCJzdHJpbmciPT10eXBlb2YgZXx8InN5bWJvbCI9PXR5cGVvZiBlfHx2b2lkIDA9PT1lfSxyLmlzQnVmZmVyPWUoIi4vc3VwcG9ydC9pc0J1ZmZlciIpO3ZhciB3PVsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl07ZnVuY3Rpb24gXyhlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX1yLmxvZz1mdW5jdGlvbigpe3ZhciBlLHQ7Y29uc29sZS5sb2coIiVzIC0gJXMiLChlPW5ldyBEYXRlLHQ9W0EoZS5nZXRIb3VycygpKSxBKGUuZ2V0TWludXRlcygpKSxBKGUuZ2V0U2Vjb25kcygpKV0uam9pbigiOiIpLFtlLmdldERhdGUoKSx3W2UuZ2V0TW9udGgoKV0sdF0uam9pbigiICIpKSxyLmZvcm1hdC5hcHBseShyLGFyZ3VtZW50cykpfSxyLmluaGVyaXRzPWUoImluaGVyaXRzIiksci5fZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFTKHQpKXJldHVybiBlO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPW4ubGVuZ3RoO3ItLTspZVtuW3JdXT10W25bcl1dO3JldHVybiBlfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjo4NCxfcHJvY2Vzczo5MSxpbmhlcml0czo4M31dLDg2OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQsbil7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhc2U2NC1qcyIpLG89ZSgiaWVlZTc1NCIpLGk9ZSgiaXNhcnJheSIpO2Z1bmN0aW9uIHMoKXtyZXR1cm4gYy5UWVBFRF9BUlJBWV9TVVBQT1JUPzIxNDc0ODM2NDc6MTA3Mzc0MTgyM31mdW5jdGlvbiBhKGUsdCl7aWYocygpPHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoIik7cmV0dXJuIGMuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT1uZXcgVWludDhBcnJheSh0KSkuX19wcm90b19fPWMucHJvdG90eXBlOihudWxsPT09ZSYmKGU9bmV3IGModCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gYyhlLHQsbil7aWYoIShjLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBjKSlyZXR1cm4gbmV3IGMoZSx0LG4pO2lmKCJudW1iZXIiPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmciKTtyZXR1cm4gcCh0aGlzLGUpfXJldHVybiB1KHRoaXMsZSx0LG4pfWZ1bmN0aW9uIHUoZSx0LG4scil7aWYoIm51bWJlciI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24oZSx0LG4scil7aWYodC5ieXRlTGVuZ3RoLG48MHx8dC5ieXRlTGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHMiKTtpZih0LmJ5dGVMZW5ndGg8bisocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHMiKTtyZXR1cm4gdD12b2lkIDA9PT1uJiZ2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCxuKTpuZXcgVWludDhBcnJheSh0LG4sciksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPXQpLl9fcHJvdG9fXz1jLnByb3RvdHlwZTplPWQoZSx0KSxlfShlLHQsbixyKToic3RyaW5nIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSx0LG4pe2lmKCJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1ufHwobj0idXRmOCIpLCFjLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcignImVuY29kaW5nIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyk7dmFyIHI9MHxnKHQsbiksbz0oZT1hKGUscikpLndyaXRlKHQsbik7cmV0dXJuIG8hPT1yJiYoZT1lLnNsaWNlKDAsbykpLGV9KGUsdCxuKTpmdW5jdGlvbihlLHQpe2lmKGMuaXNCdWZmZXIodCkpe3ZhciBuPTB8aCh0Lmxlbmd0aCk7cmV0dXJuIDA9PT0oZT1hKGUsbikpLmxlbmd0aHx8dC5jb3B5KGUsMCwwLG4pLGV9aWYodCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8Imxlbmd0aCJpbiB0KXJldHVybiJudW1iZXIiIT10eXBlb2YgdC5sZW5ndGh8fChyPXQubGVuZ3RoKSE9cj9hKGUsMCk6ZChlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiZpKHQuZGF0YSkpcmV0dXJuIGQoZSx0LmRhdGEpfXZhciByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX0oZSx0KX1mdW5jdGlvbiBsKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gcChlLHQpe2lmKGwodCksZT1hKGUsdDwwPzA6MHxoKHQpKSwhYy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgbj0wO248dDsrK24pZVtuXT0wO3JldHVybiBlfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj10Lmxlbmd0aDwwPzA6MHxoKHQubGVuZ3RoKTtlPWEoZSxuKTtmb3IodmFyIHI9MDtyPG47cis9MSllW3JdPTI1NSZ0W3JdO3JldHVybiBlfWZ1bmN0aW9uIGgoZSl7aWYoZT49cygpKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IitzKCkudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIGcoZSx0KXtpZihjLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiBlLmJ5dGVMZW5ndGg7InN0cmluZyIhPXR5cGVvZiBlJiYoZT0iIitlKTt2YXIgbj1lLmxlbmd0aDtpZigwPT09bilyZXR1cm4gMDtmb3IodmFyIHI9ITE7Oylzd2l0Y2godCl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gbjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiBxKGUpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIDIqbjtjYXNlImhleCI6cmV0dXJuIG4+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gQihlKS5sZW5ndGg7ZGVmYXVsdDppZihyKXJldHVybiBxKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLG48PTApcmV0dXJuIiI7aWYoKG4+Pj49MCk8PSh0Pj4+PTApKXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gTCh0aGlzLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gdyh0aGlzLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIFIodGhpcyx0LG4pO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIE8odGhpcyx0LG4pO2Nhc2UiYmFzZTY0IjpyZXR1cm4gQSh0aGlzLHQsbik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBrKHRoaXMsdCxuKTtkZWZhdWx0OmlmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtlPShlKyIiKS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIG0oZSx0LG4pe3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1mdW5jdGlvbiB2KGUsdCxuLHIsbyl7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xO2lmKCJzdHJpbmciPT10eXBlb2Ygbj8ocj1uLG49MCk6bj4yMTQ3NDgzNjQ3P249MjE0NzQ4MzY0NzpuPC0yMTQ3NDgzNjQ4JiYobj0tMjE0NzQ4MzY0OCksbj0rbixpc05hTihuKSYmKG49bz8wOmUubGVuZ3RoLTEpLG48MCYmKG49ZS5sZW5ndGgrbiksbj49ZS5sZW5ndGgpe2lmKG8pcmV0dXJuLTE7bj1lLmxlbmd0aC0xfWVsc2UgaWYobjwwKXtpZighbylyZXR1cm4tMTtuPTB9aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1jLmZyb20odCxyKSksYy5pc0J1ZmZlcih0KSlyZXR1cm4gMD09PXQubGVuZ3RoPy0xOnkoZSx0LG4scixvKTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuIHQmPTI1NSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQmJiJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP28/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxuKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxuKTp5KGUsW3RdLG4scixvKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiB5KGUsdCxuLHIsbyl7dmFyIGkscz0xLGE9ZS5sZW5ndGgsYz10Lmxlbmd0aDtpZih2b2lkIDAhPT1yJiYoInVjczIiPT09KHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09cnx8InV0ZjE2bGUiPT09cnx8InV0Zi0xNmxlIj09PXIpKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO3M9MixhLz0yLGMvPTIsbi89Mn1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIDE9PT1zP2VbdF06ZS5yZWFkVUludDE2QkUodCpzKX1pZihvKXt2YXIgbD0tMTtmb3IoaT1uO2k8YTtpKyspaWYodShlLGkpPT09dSh0LC0xPT09bD8wOmktbCkpe2lmKC0xPT09bCYmKGw9aSksaS1sKzE9PT1jKXJldHVybiBsKnN9ZWxzZS0xIT09bCYmKGktPWktbCksbD0tMX1lbHNlIGZvcihuK2M+YSYmKG49YS1jKSxpPW47aT49MDtpLS0pe2Zvcih2YXIgcD0hMCxkPTA7ZDxjO2QrKylpZih1KGUsaStkKSE9PXUodCxkKSl7cD0hMTticmVha31pZihwKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIGIoZSx0LG4scil7bj1OdW1iZXIobil8fDA7dmFyIG89ZS5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSk+byYmKHI9byk6cj1vO3ZhciBpPXQubGVuZ3RoO2lmKGklMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTtyPmkvMiYmKHI9aS8yKTtmb3IodmFyIHM9MDtzPHI7KytzKXt2YXIgYT1wYXJzZUludCh0LnN1YnN0cigyKnMsMiksMTYpO2lmKGlzTmFOKGEpKXJldHVybiBzO2VbbitzXT1hfXJldHVybiBzfWZ1bmN0aW9uIFMoZSx0LG4scil7cmV0dXJuIEcocSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBDKGUsdCxuLHIpe3JldHVybiBHKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDsrK24pdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fSh0KSxlLG4scil9ZnVuY3Rpb24gRShlLHQsbixyKXtyZXR1cm4gQyhlLHQsbixyKX1mdW5jdGlvbiBJKGUsdCxuLHIpe3JldHVybiBHKEIodCksZSxuLHIpfWZ1bmN0aW9uIFQoZSx0LG4scil7cmV0dXJuIEcoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixvLGk9W10scz0wO3M8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrcylyPShuPWUuY2hhckNvZGVBdChzKSk+Pjgsbz1uJTI1NixpLnB1c2gobyksaS5wdXNoKHIpO3JldHVybiBpfSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBBKGUsdCxyKXtyZXR1cm4gMD09PXQmJnI9PT1lLmxlbmd0aD9uLmZyb21CeXRlQXJyYXkoZSk6bi5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gdyhlLHQsbil7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIHI9W10sbz10O288bjspe3ZhciBpLHMsYSxjLHU9ZVtvXSxsPW51bGwscD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKG8rcDw9bilzd2l0Y2gocCl7Y2FzZSAxOnU8MTI4JiYobD11KTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihpPWVbbysxXSkpJiYoYz0oMzEmdSk8PDZ8NjMmaSk+MTI3JiYobD1jKTticmVhaztjYXNlIDM6aT1lW28rMV0scz1lW28rMl0sMTI4PT0oMTkyJmkpJiYxMjg9PSgxOTImcykmJihjPSgxNSZ1KTw8MTJ8KDYzJmkpPDw2fDYzJnMpPjIwNDcmJihjPDU1Mjk2fHxjPjU3MzQzKSYmKGw9Yyk7YnJlYWs7Y2FzZSA0Omk9ZVtvKzFdLHM9ZVtvKzJdLGE9ZVtvKzNdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJnMpJiYxMjg9PSgxOTImYSkmJihjPSgxNSZ1KTw8MTh8KDYzJmkpPDwxMnwoNjMmcyk8PDZ8NjMmYSk+NjU1MzUmJmM8MTExNDExMiYmKGw9Yyl9bnVsbD09PWw/KGw9NjU1MzMscD0xKTpsPjY1NTM1JiYobC09NjU1MzYsci5wdXNoKGw+Pj4xMCYxMDIzfDU1Mjk2KSxsPTU2MzIwfDEwMjMmbCksci5wdXNoKGwpLG8rPXB9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PV8pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO2Zvcih2YXIgbj0iIixyPTA7cjx0OyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKHIscis9XykpO3JldHVybiBufShyKX1yLkJ1ZmZlcj1jLHIuU2xvd0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4rZSE9ZSYmKGU9MCksYy5hbGxvYygrZSl9LHIuSU5TUEVDVF9NQVhfQllURVM9NTAsYy5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PXQuVFlQRURfQVJSQVlfU1VQUE9SVD90LlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSxyLmtNYXhMZW5ndGg9cygpLGMucG9vbFNpemU9ODE5MixjLl9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fXz1jLnByb3RvdHlwZSxlfSxjLmZyb209ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB1KG51bGwsZSx0LG4pfSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihjLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsYy5fX3Byb3RvX189VWludDhBcnJheSwidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJmNbU3ltYm9sLnNwZWNpZXNdPT09YyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGMsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLGMuYWxsb2M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbCh0KSx0PD0wP2EoZSx0KTp2b2lkIDAhPT1uPyJzdHJpbmciPT10eXBlb2Ygcj9hKGUsdCkuZmlsbChuLHIpOmEoZSx0KS5maWxsKG4pOmEoZSx0KX0obnVsbCxlLHQsbil9LGMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHAobnVsbCxlKX0sYy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHAobnVsbCxlKX0sYy5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCFjLmlzQnVmZmVyKGUpfHwhYy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciBuPWUubGVuZ3RoLHI9dC5sZW5ndGgsbz0wLGk9TWF0aC5taW4obixyKTtvPGk7KytvKWlmKGVbb10hPT10W29dKXtuPWVbb10scj10W29dO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0sYy5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxjLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFpKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGMuYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09dClmb3IodD0wLG49MDtuPGUubGVuZ3RoOysrbil0Kz1lW25dLmxlbmd0aDt2YXIgcj1jLmFsbG9jVW5zYWZlKHQpLG89MDtmb3Iobj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcz1lW25dO2lmKCFjLmlzQnVmZmVyKHMpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtzLmNvcHkocixvKSxvKz1zLmxlbmd0aH1yZXR1cm4gcn0sYy5ieXRlTGVuZ3RoPWcsYy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGMucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9MiltKHRoaXMsdCx0KzEpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpbSh0aGlzLHQsdCszKSxtKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OCltKHRoaXMsdCx0KzcpLG0odGhpcyx0KzEsdCs2KSxtKHRoaXMsdCsyLHQrNSksbSh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1lPyIiOjA9PT1hcmd1bWVudHMubGVuZ3RoP3codGhpcywwLGUpOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO3JldHVybiB0aGlzPT09ZXx8MD09PWMuY29tcGFyZSh0aGlzLGUpfSxjLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9IiIsdD1yLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoZT10aGlzLnRvU3RyaW5nKCJoZXgiLDAsdCkubWF0Y2goLy57Mn0vZykuam9pbigiICIpLHRoaXMubGVuZ3RoPnQmJihlKz0iIC4uLiAiKSksIjxCdWZmZXIgIitlKyI+In0sYy5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQsbixyLG8pe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSx0PDB8fG4+ZS5sZW5ndGh8fHI8MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocj49byYmdD49bilyZXR1cm4gMDtpZihyPj1vKXJldHVybi0xO2lmKHQ+PW4pcmV0dXJuIDE7aWYodGhpcz09PWUpcmV0dXJuIDA7Zm9yKHZhciBpPShvPj4+PTApLShyPj4+PTApLHM9KG4+Pj49MCktKHQ+Pj49MCksYT1NYXRoLm1pbihpLHMpLHU9dGhpcy5zbGljZShyLG8pLGw9ZS5zbGljZSh0LG4pLHA9MDtwPGE7KytwKWlmKHVbcF0hPT1sW3BdKXtpPXVbcF0scz1sW3BdO2JyZWFrfXJldHVybiBpPHM/LTE6czxpPzE6MH0sYy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybi0xIT09dGhpcy5pbmRleE9mKGUsdCxuKX0sYy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHYodGhpcyxlLHQsbiwhMCl9LGMucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0aGlzLGUsdCxuLCExKX0sYy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aWYodm9pZCAwPT09dClyPSJ1dGY4IixuPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PW4mJiJzdHJpbmciPT10eXBlb2YgdClyPXQsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3R8PTAsaXNGaW5pdGUobik/KG58PTAsdm9pZCAwPT09ciYmKHI9InV0ZjgiKSk6KHI9bixuPXZvaWQgMCl9dmFyIG89dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09bnx8bj5vKSYmKG49byksZS5sZW5ndGg+MCYmKG48MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTtyfHwocj0idXRmOCIpO2Zvcih2YXIgaT0hMTs7KXN3aXRjaChyKXtjYXNlImhleCI6cmV0dXJuIGIodGhpcyxlLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gUyh0aGlzLGUsdCxuKTtjYXNlImFzY2lpIjpyZXR1cm4gQyh0aGlzLGUsdCxuKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBFKHRoaXMsZSx0LG4pO2Nhc2UiYmFzZTY0IjpyZXR1cm4gSSh0aGlzLGUsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIFQodGhpcyxlLHQsbik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcik7cj0oIiIrcikudG9Mb3dlckNhc2UoKSxpPSEwfX0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkJ1ZmZlciIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgXz00MDk2O2Z1bmN0aW9uIFIoZSx0LG4pe3ZhciByPSIiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBvPXQ7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBPKGUsdCxuKXt2YXIgcj0iIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjsrK28pcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBMKGUsdCxuKXt2YXIgcixvPWUubGVuZ3RoOyghdHx8dDwwKSYmKHQ9MCksKCFufHxuPDB8fG4+bykmJihuPW8pO2Zvcih2YXIgaT0iIixzPXQ7czxuOysrcylpKz0ocj1lW3NdKTwxNj8iMCIrci50b1N0cmluZygxNik6ci50b1N0cmluZygxNik7cmV0dXJuIGl9ZnVuY3Rpb24gayhlLHQsbil7Zm9yKHZhciByPWUuc2xpY2UodCxuKSxvPSIiLGk9MDtpPHIubGVuZ3RoO2krPTIpbys9U3RyaW5nLmZyb21DaGFyQ29kZShyW2ldKzI1NipyW2krMV0pO3JldHVybiBvfWZ1bmN0aW9uIFAoZSx0LG4pe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihlK3Q+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfWZ1bmN0aW9uIE4oZSx0LG4scixvLGkpe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWZmZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih0Pm98fHQ8aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInZhbHVlIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYobityPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBEKGUsdCxuLHIpe3Q8MCYmKHQ9NjU1MzUrdCsxKTtmb3IodmFyIG89MCxpPU1hdGgubWluKGUubGVuZ3RoLW4sMik7bzxpOysrbyllW24rb109KHQmMjU1PDw4KihyP286MS1vKSk+Pj44KihyP286MS1vKX1mdW5jdGlvbiB4KGUsdCxuLHIpe3Q8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4oZS5sZW5ndGgtbiw0KTtvPGk7KytvKWVbbitvXT10Pj4+OCoocj9vOjMtbykmMjU1fWZ1bmN0aW9uIE0oZSx0LG4scixvLGkpe2lmKG4rcj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBVKGUsdCxuLHIsaSl7cmV0dXJuIGl8fE0oZSwwLG4sNCksby53cml0ZShlLHQsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBGKGUsdCxuLHIsaSl7cmV0dXJuIGl8fE0oZSwwLG4sOCksby53cml0ZShlLHQsbixyLDUyLDgpLG4rOH1jLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5sZW5ndGg7aWYoKGU9fn5lKTwwPyhlKz1yKTwwJiYoZT0wKTplPnImJihlPXIpLCh0PXZvaWQgMD09PXQ/cjp+fnQpPDA/KHQrPXIpPDAmJih0PTApOnQ+ciYmKHQ9ciksdDxlJiYodD1lKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQpKG49dGhpcy5zdWJhcnJheShlLHQpKS5fX3Byb3RvX189Yy5wcm90b3R5cGU7ZWxzZXt2YXIgbz10LWU7bj1uZXcgYyhvLHZvaWQgMCk7Zm9yKHZhciBpPTA7aTxvOysraSluW2ldPXRoaXNbaStlXX1yZXR1cm4gbn0sYy5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fFAoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxvPTEsaT0wOysraTx0JiYobyo9MjU2KTspcis9dGhpc1tlK2ldKm87cmV0dXJuIHJ9LGMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxQKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZSstLXRdLG89MTt0PjAmJihvKj0yNTYpOylyKz10aGlzW2UrLS10XSpvO3JldHVybiByfSxjLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UChlLDEsdGhpcy5sZW5ndGgpLHRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxQKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LGMucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxQKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXTw8OHx0aGlzW2UrMV19LGMucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxQKGUsNCx0aGlzLmxlbmd0aCksKHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbZSszXX0sYy5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFAoZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxjLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxQKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZV0sbz0xLGk9MDsrK2k8dCYmKG8qPTI1Nik7KXIrPXRoaXNbZStpXSpvO3JldHVybiByPj0obyo9MTI4KSYmKHItPU1hdGgucG93KDIsOCp0KSkscn0sYy5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8UChlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10LG89MSxpPXRoaXNbZSstLXJdO3I+MCYmKG8qPTI1Nik7KWkrPXRoaXNbZSstLXJdKm87cmV0dXJuIGk+PShvKj0xMjgpJiYoaS09TWF0aC5wb3coMiw4KnQpKSxpfSxjLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxQKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7dHx8UChlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxjLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3R8fFAoZSwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0sYy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UChlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sYy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UChlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDI0fHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXX0sYy5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UChlLDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITAsMjMsNCl9LGMucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFAoZSw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDIzLDQpfSxjLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UChlLDgsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITAsNTIsOCl9LGMucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxQKGUsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMSw1Miw4KX0sYy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7ZT0rZSx0fD0wLG58PTAscnx8Tih0aGlzLGUsdCxuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPTEsaT0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxuJiYobyo9MjU2KTspdGhpc1t0K2ldPWUvbyYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24oZSx0LG4scil7ZT0rZSx0fD0wLG58PTAscnx8Tih0aGlzLGUsdCxuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPW4tMSxpPTE7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihpKj0yNTYpOyl0aGlzW3Qrb109ZS9pJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fE4odGhpcyxlLHQsMSwyNTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSx0aGlzW3RdPTI1NSZlLHQrMX0sYy5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxOKHRoaXMsZSx0LDIsNjU1MzUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6RCh0aGlzLGUsdCwhMCksdCsyfSxjLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fE4odGhpcyxlLHQsMiw2NTUzNSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpEKHRoaXMsZSx0LCExKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8Tih0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUpOngodGhpcyxlLHQsITApLHQrNH0sYy5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxOKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6eCh0aGlzLGUsdCwhMSksdCs0fSxjLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdHw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7Tih0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGk9MCxzPTEsYT0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxuJiYocyo9MjU2KTspZTwwJiYwPT09YSYmMCE9PXRoaXNbdCtpLTFdJiYoYT0xKSx0aGlzW3QraV09KGUvc3wwKS1hJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdHw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7Tih0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGk9bi0xLHM9MSxhPTA7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJihzKj0yNTYpOyllPDAmJjA9PT1hJiYwIT09dGhpc1t0K2krMV0mJihhPTEpLHRoaXNbdCtpXT0oZS9zfDApLWEmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxOKHRoaXMsZSx0LDEsMTI3LC0xMjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksZTwwJiYoZT0yNTUrZSsxKSx0aGlzW3RdPTI1NSZlLHQrMX0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fE4odGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOkQodGhpcyxlLHQsITApLHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fE4odGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOkQodGhpcyxlLHQsITEpLHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fE4odGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzNdPWU+Pj4yNCk6eCh0aGlzLGUsdCwhMCksdCs0fSxjLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8Tih0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTp4KHRoaXMsZSx0LCExKSx0KzR9LGMucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUodGhpcyxlLHQsITAsbil9LGMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUodGhpcyxlLHQsITEsbil9LGMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKHRoaXMsZSx0LCEwLG4pfSxjLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRih0aGlzLGUsdCwhMSxuKX0sYy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQsbixyKXtpZihufHwobj0wKSxyfHwwPT09cnx8KHI9dGhpcy5sZW5ndGgpLHQ+PWUubGVuZ3RoJiYodD1lLmxlbmd0aCksdHx8KHQ9MCkscj4wJiZyPG4mJihyPW4pLHI9PT1uKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzIik7cj50aGlzLmxlbmd0aCYmKHI9dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXQ8ci1uJiYocj1lLmxlbmd0aC10K24pO3ZhciBvLGk9ci1uO2lmKHRoaXM9PT1lJiZuPHQmJnQ8cilmb3Iobz1pLTE7bz49MDstLW8pZVtvK3RdPXRoaXNbbytuXTtlbHNlIGlmKGk8MWUzfHwhYy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihvPTA7bzxpOysrbyllW28rdF09dGhpc1tvK25dO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4sbitpKSx0KTtyZXR1cm4gaX0sYy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdD8ocj10LHQ9MCxuPXRoaXMubGVuZ3RoKToic3RyaW5nIj09dHlwZW9mIG4mJihyPW4sbj10aGlzLmxlbmd0aCksMT09PWUubGVuZ3RoKXt2YXIgbz1lLmNoYXJDb2RlQXQoMCk7bzwyNTYmJihlPW8pfWlmKHZvaWQgMCE9PXImJiJzdHJpbmciIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiByJiYhYy5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcil9ZWxzZSJudW1iZXIiPT10eXBlb2YgZSYmKGUmPTI1NSk7aWYodDwwfHx0aGlzLmxlbmd0aDx0fHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCJPdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihuPD10KXJldHVybiB0aGlzO3ZhciBpO2lmKHQ+Pj49MCxuPXZvaWQgMD09PW4/dGhpcy5sZW5ndGg6bj4+PjAsZXx8KGU9MCksIm51bWJlciI9PXR5cGVvZiBlKWZvcihpPXQ7aTxuOysraSl0aGlzW2ldPWU7ZWxzZXt2YXIgcz1jLmlzQnVmZmVyKGUpP2U6cShuZXcgYyhlLHIpLnRvU3RyaW5nKCkpLGE9cy5sZW5ndGg7Zm9yKGk9MDtpPG4tdDsrK2kpdGhpc1tpK3RdPXNbaSVhXX1yZXR1cm4gdGhpc307dmFyIGo9L1teK1wvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gcShlLHQpe3ZhciBuO3Q9dHx8MS8wO2Zvcih2YXIgcj1lLmxlbmd0aCxvPW51bGwsaT1bXSxzPTA7czxyOysrcyl7aWYoKG49ZS5jaGFyQ29kZUF0KHMpKT41NTI5NSYmbjw1NzM0NCl7aWYoIW8pe2lmKG4+NTYzMTkpeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihzKzE9PT1yKXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bz1uO2NvbnRpbnVlfWlmKG48NTYzMjApeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxvPW47Y29udGludWV9bj02NTUzNisoby01NTI5Njw8MTB8bi01NjMyMCl9ZWxzZSBvJiYodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYobz1udWxsLG48MTI4KXtpZigodC09MSk8MClicmVhaztpLnB1c2gobil9ZWxzZSBpZihuPDIwNDgpe2lmKCh0LT0yKTwwKWJyZWFrO2kucHVzaChuPj42fDE5Miw2MyZufDEyOCl9ZWxzZSBpZihuPDY1NTM2KXtpZigodC09Myk8MClicmVhaztpLnB1c2gobj4+MTJ8MjI0LG4+PjYmNjN8MTI4LDYzJm58MTI4KX1lbHNle2lmKCEobjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpO2lmKCh0LT00KTwwKWJyZWFrO2kucHVzaChuPj4xOHwyNDAsbj4+MTImNjN8MTI4LG4+PjYmNjN8MTI4LDYzJm58MTI4KX19cmV0dXJuIGl9ZnVuY3Rpb24gQihlKXtyZXR1cm4gbi50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfShlKS5yZXBsYWNlKGosIiIpKS5sZW5ndGg8MilyZXR1cm4iIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPSI9IjtyZXR1cm4gZX0oZSkpfWZ1bmN0aW9uIEcoZSx0LG4scil7Zm9yKHZhciBvPTA7bzxyJiYhKG8rbj49dC5sZW5ndGh8fG8+PWUubGVuZ3RoKTsrK28pdFtvK25dPWVbb107cmV0dXJuIG99fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKCJidWZmZXIiKS5CdWZmZXIpfSx7ImJhc2U2NC1qcyI6ODEsYnVmZmVyOjg2LGllZWU3NTQ6ODgsaXNhcnJheTo4OX1dLDg3OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBvKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBzKGUpe3JldHVybiB2b2lkIDA9PT1lfXQuZXhwb3J0cz1yLHIuRXZlbnRFbWl0dGVyPXIsci5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsci5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLHIucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGV8fGU8MHx8aXNOYU4oZSkpdGhyb3cgVHlwZUVycm9yKCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsYSxjLHU7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSwiZXJyb3IiPT09ZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fGkodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZigodD1hcmd1bWVudHNbMV0paW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBsPW5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnK3QrIikiKTt0aHJvdyBsLmNvbnRleHQ9dCxsfWlmKHMobj10aGlzLl9ldmVudHNbZV0pKXJldHVybiExO2lmKG8obikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpuLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6YT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbi5hcHBseSh0aGlzLGEpfWVsc2UgaWYoaShuKSlmb3IoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj0odT1uLnNsaWNlKCkpLmxlbmd0aCxjPTA7YzxyO2MrKyl1W2NdLmFwcGx5KHRoaXMsYSk7cmV0dXJuITB9LHIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdCgibmV3TGlzdGVuZXIiLGUsbyh0Lmxpc3RlbmVyKT90Lmxpc3RlbmVyOnQpLHRoaXMuX2V2ZW50c1tlXT9pKHRoaXMuX2V2ZW50c1tlXSk/dGhpcy5fZXZlbnRzW2VdLnB1c2godCk6dGhpcy5fZXZlbnRzW2VdPVt0aGlzLl9ldmVudHNbZV0sdF06dGhpcy5fZXZlbnRzW2VdPXQsaSh0aGlzLl9ldmVudHNbZV0pJiYhdGhpcy5fZXZlbnRzW2VdLndhcm5lZCYmKG49cyh0aGlzLl9tYXhMaXN0ZW5lcnMpP3IuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMpJiZuPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+biYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcigiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4iLHRoaXMuX2V2ZW50c1tlXS5sZW5ndGgpLCJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpLHRoaXN9LHIucHJvdG90eXBlLm9uPXIucHJvdG90eXBlLmFkZExpc3RlbmVyLHIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtpZighbyh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3ZhciBuPSExO2Z1bmN0aW9uIHIoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGUsciksbnx8KG49ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiByLmxpc3RlbmVyPXQsdGhpcy5vbihlLHIpLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixzLGE7aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2VdKXJldHVybiB0aGlzO2lmKHM9KG49dGhpcy5fZXZlbnRzW2VdKS5sZW5ndGgscj0tMSxuPT09dHx8byhuLmxpc3RlbmVyKSYmbi5saXN0ZW5lcj09PXQpZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCk7ZWxzZSBpZihpKG4pKXtmb3IoYT1zO2EtLSA+MDspaWYoblthXT09PXR8fG5bYV0ubGlzdGVuZXImJm5bYV0ubGlzdGVuZXI9PT10KXtyPWE7YnJlYWt9aWYocjwwKXJldHVybiB0aGlzOzE9PT1uLmxlbmd0aD8obi5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW2VdKTpuLnNwbGljZShyLDEpLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx0KX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2VdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih0IGluIHRoaXMuX2V2ZW50cykicmVtb3ZlTGlzdGVuZXIiIT09dCYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnModCk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKG8obj10aGlzLl9ldmVudHNbZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGlmKG4pZm9yKDtuLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bbi5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV0/byh0aGlzLl9ldmVudHNbZV0pP1t0aGlzLl9ldmVudHNbZV1dOnRoaXMuX2V2ZW50c1tlXS5zbGljZSgpOltdfSxyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2V2ZW50cyl7dmFyIHQ9dGhpcy5fZXZlbnRzW2VdO2lmKG8odCkpcmV0dXJuIDE7aWYodClyZXR1cm4gdC5sZW5ndGh9cmV0dXJuIDB9LHIubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVyQ291bnQodCl9fSx7fV0sODg6W2Z1bmN0aW9uKGUsdCxuKXtuLnJlYWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxzLGE9OCpvLXItMSxjPSgxPDxhKS0xLHU9Yz4+MSxsPS03LHA9bj9vLTE6MCxkPW4/LTE6MSxoPWVbdCtwXTtmb3IocCs9ZCxpPWgmKDE8PC1sKS0xLGg+Pj0tbCxsKz1hO2w+MDtpPTI1NippK2VbdCtwXSxwKz1kLGwtPTgpO2ZvcihzPWkmKDE8PC1sKS0xLGk+Pj0tbCxsKz1yO2w+MDtzPTI1NipzK2VbdCtwXSxwKz1kLGwtPTgpO2lmKDA9PT1pKWk9MS11O2Vsc2V7aWYoaT09PWMpcmV0dXJuIHM/TmFOOjEvMCooaD8tMToxKTtzKz1NYXRoLnBvdygyLHIpLGktPXV9cmV0dXJuKGg/LTE6MSkqcypNYXRoLnBvdygyLGktcil9LG4ud3JpdGU9ZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBzLGEsYyx1PTgqaS1vLTEsbD0oMTw8dSktMSxwPWw+PjEsZD0yMz09PW8/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGg9cj8wOmktMSxnPXI/MTotMSxmPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8oYT1pc05hTih0KT8xOjAscz1sKToocz1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihjPU1hdGgucG93KDIsLXMpKTwxJiYocy0tLGMqPTIpLCh0Kz1zK3A+PTE/ZC9jOmQqTWF0aC5wb3coMiwxLXApKSpjPj0yJiYocysrLGMvPTIpLHMrcD49bD8oYT0wLHM9bCk6cytwPj0xPyhhPSh0KmMtMSkqTWF0aC5wb3coMixvKSxzKz1wKTooYT10Kk1hdGgucG93KDIscC0xKSpNYXRoLnBvdygyLG8pLHM9MCkpO28+PTg7ZVtuK2hdPTI1NSZhLGgrPWcsYS89MjU2LG8tPTgpO2ZvcihzPXM8PG98YSx1Kz1vO3U+MDtlW24raF09MjU1JnMsaCs9ZyxzLz0yNTYsdS09OCk7ZVtuK2gtZ118PTEyOCpmfX0se31dLDg5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9e30udG9TdHJpbmc7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PXIuY2FsbChlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gbnVsbCE9PWUmJiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbCE9PWUmJiJbb2JqZWN0IE9iamVjdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHIoZSxvKXtpZihlPT09bylyZXR1cm4hMDtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpcmV0dXJuITE7aWYoITA9PT10KGUpKXtpZihlLmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCExPT09cihlW2ldLG9baV0pKXJldHVybiExO3JldHVybiEwfWlmKCEwPT09bihlKSl7dmFyIHM9e307Zm9yKHZhciBhIGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLGEpKXtpZighMT09PXIoZVthXSxvW2FdKSlyZXR1cm4hMTtzW2FdPSEwfWZvcih2YXIgYyBpbiBvKWlmKGhhc093blByb3BlcnR5LmNhbGwobyxjKSYmITAhPT1zW2NdKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG8oZSl7aWYoIiI9PT1lfHwhMT09PWV8fG51bGw9PT1lKXJldHVybiEwO2lmKHQoZSkmJjA9PT1lLmxlbmd0aClyZXR1cm4hMDtpZihuKGUpKXtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfXZhciBpO2k9ImZ1bmN0aW9uIj09dHlwZW9mIFN0cmluZy5wcm90b3R5cGUudHJpbUxlZnQ/ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbUxlZnQoKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15ccyooLiopLylbMV19O3ZhciBzPTAsYT0yLGM9ezA6Im51bWJlciIsMToiYW55IiwyOiJzdHJpbmciLDM6ImFycmF5Iiw0OiJvYmplY3QiLDU6ImJvb2xlYW4iLDY6ImV4cHJlc3Npb24iLDc6Im51bGwiLDg6IkFycmF5PG51bWJlcj4iLDk6IkFycmF5PHN0cmluZz4ifSx1PSJFT0YiLGw9IlVucXVvdGVkSWRlbnRpZmllciIscD0iUXVvdGVkSWRlbnRpZmllciIsZD0iUmJyYWNrZXQiLGg9IlJwYXJlbiIsZz0iQ29tbWEiLGY9IkNvbG9uIixtPSJSYnJhY2UiLHY9Ik51bWJlciIseT0iQ3VycmVudCIsYj0iRXhwcmVmIixTPSJQaXBlIixDPSJPciIsRT0iQW5kIixJPSJFUSIsVD0iR1QiLEE9IkxUIix3PSJHVEUiLF89IkxURSIsUj0iTkUiLE89IkZsYXR0ZW4iLEw9IlN0YXIiLGs9IkZpbHRlciIsUD0iRG90IixOPSJOb3QiLEQ9IkxicmFjZSIseD0iTGJyYWNrZXQiLE09IkxwYXJlbiIsVT0iTGl0ZXJhbCIsRj17Ii4iOlAsIioiOkwsIiwiOmcsIjoiOmYsInsiOkQsIn0iOm0sIl0iOmQsIigiOk0sIikiOmgsIkAiOnl9LGo9eyI8IjohMCwiPiI6ITAsIj0iOiEwLCIhIjohMH0scT17IiAiOiEwLCJcdCI6ITAsIlxuIjohMH07ZnVuY3Rpb24gQihlKXtyZXR1cm4gZT49IjAiJiZlPD0iOSJ8fCItIj09PWV9ZnVuY3Rpb24gRygpe31HLnByb3RvdHlwZT17dG9rZW5pemU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1bXTtmb3IodGhpcy5fY3VycmVudD0wO3RoaXMuX2N1cnJlbnQ8ZS5sZW5ndGg7KWlmKChvPWVbdGhpcy5fY3VycmVudF0pPj0iYSImJm88PSJ6Inx8bz49IkEiJiZvPD0iWiJ8fCJfIj09PW8pdD10aGlzLl9jdXJyZW50LG49dGhpcy5fY29uc3VtZVVucXVvdGVkSWRlbnRpZmllcihlKSxpLnB1c2goe3R5cGU6bCx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKHZvaWQgMCE9PUZbZVt0aGlzLl9jdXJyZW50XV0paS5wdXNoKHt0eXBlOkZbZVt0aGlzLl9jdXJyZW50XV0sdmFsdWU6ZVt0aGlzLl9jdXJyZW50XSxzdGFydDp0aGlzLl9jdXJyZW50fSksdGhpcy5fY3VycmVudCsrO2Vsc2UgaWYoQihlW3RoaXMuX2N1cnJlbnRdKSlyPXRoaXMuX2NvbnN1bWVOdW1iZXIoZSksaS5wdXNoKHIpO2Vsc2UgaWYoIlsiPT09ZVt0aGlzLl9jdXJyZW50XSlyPXRoaXMuX2NvbnN1bWVMQnJhY2tldChlKSxpLnB1c2gocik7ZWxzZSBpZignIic9PT1lW3RoaXMuX2N1cnJlbnRdKXQ9dGhpcy5fY3VycmVudCxuPXRoaXMuX2NvbnN1bWVRdW90ZWRJZGVudGlmaWVyKGUpLGkucHVzaCh7dHlwZTpwLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYoIiciPT09ZVt0aGlzLl9jdXJyZW50XSl0PXRoaXMuX2N1cnJlbnQsbj10aGlzLl9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbChlKSxpLnB1c2goe3R5cGU6VSx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKCJgIj09PWVbdGhpcy5fY3VycmVudF0pe3Q9dGhpcy5fY3VycmVudDt2YXIgcz10aGlzLl9jb25zdW1lTGl0ZXJhbChlKTtpLnB1c2goe3R5cGU6VSx2YWx1ZTpzLHN0YXJ0OnR9KX1lbHNlIGlmKHZvaWQgMCE9PWpbZVt0aGlzLl9jdXJyZW50XV0paS5wdXNoKHRoaXMuX2NvbnN1bWVPcGVyYXRvcihlKSk7ZWxzZSBpZih2b2lkIDAhPT1xW2VbdGhpcy5fY3VycmVudF1dKXRoaXMuX2N1cnJlbnQrKztlbHNlIGlmKCImIj09PWVbdGhpcy5fY3VycmVudF0pdD10aGlzLl9jdXJyZW50LHRoaXMuX2N1cnJlbnQrKywiJiI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50KyssaS5wdXNoKHt0eXBlOkUsdmFsdWU6IiYmIixzdGFydDp0fSkpOmkucHVzaCh7dHlwZTpiLHZhbHVlOiImIixzdGFydDp0fSk7ZWxzZXtpZigifCIhPT1lW3RoaXMuX2N1cnJlbnRdKXt2YXIgYT1uZXcgRXJyb3IoIlVua25vd24gY2hhcmFjdGVyOiIrZVt0aGlzLl9jdXJyZW50XSk7dGhyb3cgYS5uYW1lPSJMZXhlckVycm9yIixhfXQ9dGhpcy5fY3VycmVudCx0aGlzLl9jdXJyZW50KyssInwiPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLGkucHVzaCh7dHlwZTpDLHZhbHVlOiJ8fCIsc3RhcnQ6dH0pKTppLnB1c2goe3R5cGU6Uyx2YWx1ZToifCIsc3RhcnQ6dH0pfXJldHVybiBpfSxfY29uc3VtZVVucXVvdGVkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2N1cnJlbnQ7Zm9yKHRoaXMuX2N1cnJlbnQrKzt0aGlzLl9jdXJyZW50PGUubGVuZ3RoJiYoKHQ9ZVt0aGlzLl9jdXJyZW50XSk+PSJhIiYmdDw9InoifHx0Pj0iQSImJnQ8PSJaInx8dD49IjAiJiZ0PD0iOSJ8fCJfIj09PXQpOyl0aGlzLl9jdXJyZW50Kys7cmV0dXJuIGUuc2xpY2Uobix0aGlzLl9jdXJyZW50KX0sX2NvbnN1bWVRdW90ZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgbj1lLmxlbmd0aDsnIichPT1lW3RoaXMuX2N1cnJlbnRdJiZ0aGlzLl9jdXJyZW50PG47KXt2YXIgcj10aGlzLl9jdXJyZW50OyJcXCIhPT1lW3JdfHwiXFwiIT09ZVtyKzFdJiYnIichPT1lW3IrMV0/cisrOnIrPTIsdGhpcy5fY3VycmVudD1yfXJldHVybiB0aGlzLl9jdXJyZW50KyssSlNPTi5wYXJzZShlLnNsaWNlKHQsdGhpcy5fY3VycmVudCkpfSxfY29uc3VtZVJhd1N0cmluZ0xpdGVyYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoOyInIiE9PWVbdGhpcy5fY3VycmVudF0mJnRoaXMuX2N1cnJlbnQ8bjspe3ZhciByPXRoaXMuX2N1cnJlbnQ7IlxcIiE9PWVbcl18fCJcXCIhPT1lW3IrMV0mJiInIiE9PWVbcisxXT9yKys6cis9Mix0aGlzLl9jdXJyZW50PXJ9cmV0dXJuIHRoaXMuX2N1cnJlbnQrKyxlLnNsaWNlKHQrMSx0aGlzLl9jdXJyZW50LTEpLnJlcGxhY2UoIlxcJyIsIiciKX0sX2NvbnN1bWVOdW1iZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoO0IoZVt0aGlzLl9jdXJyZW50XSkmJnRoaXMuX2N1cnJlbnQ8bjspdGhpcy5fY3VycmVudCsrO3ZhciByPXBhcnNlSW50KGUuc2xpY2UodCx0aGlzLl9jdXJyZW50KSk7cmV0dXJue3R5cGU6dix2YWx1ZTpyLHN0YXJ0OnR9fSxfY29uc3VtZUxCcmFja2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7cmV0dXJuIHRoaXMuX2N1cnJlbnQrKywiPyI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6ayx2YWx1ZToiWz8iLHN0YXJ0OnR9KToiXSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Tyx2YWx1ZToiW10iLHN0YXJ0OnR9KTp7dHlwZTp4LHZhbHVlOiJbIixzdGFydDp0fX0sX2NvbnN1bWVPcGVyYXRvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50LG49ZVt0XTtyZXR1cm4gdGhpcy5fY3VycmVudCsrLCIhIj09PW4/Ij0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOlIsdmFsdWU6IiE9IixzdGFydDp0fSk6e3R5cGU6Tix2YWx1ZToiISIsc3RhcnQ6dH06IjwiPT09bj8iPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Xyx2YWx1ZToiPD0iLHN0YXJ0OnR9KTp7dHlwZTpBLHZhbHVlOiI8IixzdGFydDp0fToiPiI9PT1uPyI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTp3LHZhbHVlOiI+PSIsc3RhcnQ6dH0pOnt0eXBlOlQsdmFsdWU6Ij4iLHN0YXJ0OnR9OiI9Ij09PW4mJiI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpJLHZhbHVlOiI9PSIsc3RhcnQ6dH0pOnZvaWQgMH0sX2NvbnN1bWVMaXRlcmFsOmZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIHQsbj10aGlzLl9jdXJyZW50LHI9ZS5sZW5ndGg7ImAiIT09ZVt0aGlzLl9jdXJyZW50XSYmdGhpcy5fY3VycmVudDxyOyl7dmFyIG89dGhpcy5fY3VycmVudDsiXFwiIT09ZVtvXXx8IlxcIiE9PWVbbysxXSYmImAiIT09ZVtvKzFdP28rKzpvKz0yLHRoaXMuX2N1cnJlbnQ9b312YXIgcz1pKGUuc2xpY2Uobix0aGlzLl9jdXJyZW50KSk7cmV0dXJuIHM9cy5yZXBsYWNlKCJcXGAiLCJgIiksdD10aGlzLl9sb29rc0xpa2VKU09OKHMpP0pTT04ucGFyc2Uocyk6SlNPTi5wYXJzZSgnIicrcysnIicpLHRoaXMuX2N1cnJlbnQrKyx0fSxfbG9va3NMaWtlSlNPTjpmdW5jdGlvbihlKXtpZigiIj09PWUpcmV0dXJuITE7aWYoJ1t7IicuaW5kZXhPZihlWzBdKT49MClyZXR1cm4hMDtpZihbInRydWUiLCJmYWxzZSIsIm51bGwiXS5pbmRleE9mKGUpPj0wKXJldHVybiEwO2lmKCEoIi0wMTIzNDU2Nzg5Ii5pbmRleE9mKGVbMF0pPj0wKSlyZXR1cm4hMTt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX07dmFyIFY9e307ZnVuY3Rpb24gVygpe31mdW5jdGlvbiBIKGUpe3RoaXMucnVudGltZT1lfWZ1bmN0aW9uIHooZSl7dGhpcy5faW50ZXJwcmV0ZXI9ZSx0aGlzLmZ1bmN0aW9uVGFibGU9e2Ficzp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25BYnMsX3NpZ25hdHVyZTpbe3R5cGVzOltzXX1dfSxhdmc6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQXZnLF9zaWduYXR1cmU6W3t0eXBlczpbOF19XX0sY2VpbDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25DZWlsLF9zaWduYXR1cmU6W3t0eXBlczpbc119XX0sY29udGFpbnM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQ29udGFpbnMsX3NpZ25hdHVyZTpbe3R5cGVzOlthLDNdfSx7dHlwZXM6WzFdfV19LGVuZHNfd2l0aDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25FbmRzV2l0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W2FdfSx7dHlwZXM6W2FdfV19LGZsb29yOntfZnVuYzp0aGlzLl9mdW5jdGlvbkZsb29yLF9zaWduYXR1cmU6W3t0eXBlczpbc119XX0sbGVuZ3RoOntfZnVuYzp0aGlzLl9mdW5jdGlvbkxlbmd0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W2EsMyw0XX1dfSxtYXA6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWFwLF9zaWduYXR1cmU6W3t0eXBlczpbNl19LHt0eXBlczpbM119XX0sbWF4OntfZnVuYzp0aGlzLl9mdW5jdGlvbk1heCxfc2lnbmF0dXJlOlt7dHlwZXM6WzgsOV19XX0sbWVyZ2U6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWVyZ2UsX3NpZ25hdHVyZTpbe3R5cGVzOls0XSx2YXJpYWRpYzohMH1dfSxtYXhfYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWF4QnksX3NpZ25hdHVyZTpbe3R5cGVzOlszXX0se3R5cGVzOls2XX1dfSxzdW06e19mdW5jOnRoaXMuX2Z1bmN0aW9uU3VtLF9zaWduYXR1cmU6W3t0eXBlczpbOF19XX0sc3RhcnRzX3dpdGg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU3RhcnRzV2l0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W2FdfSx7dHlwZXM6W2FdfV19LG1pbjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NaW4sX3NpZ25hdHVyZTpbe3R5cGVzOls4LDldfV19LG1pbl9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NaW5CeSxfc2lnbmF0dXJlOlt7dHlwZXM6WzNdfSx7dHlwZXM6WzZdfV19LHR5cGU6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVHlwZSxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdfV19LGtleXM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uS2V5cyxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdfV19LHZhbHVlczp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25WYWx1ZXMsX3NpZ25hdHVyZTpbe3R5cGVzOls0XX1dfSxzb3J0OntfZnVuYzp0aGlzLl9mdW5jdGlvblNvcnQsX3NpZ25hdHVyZTpbe3R5cGVzOls5LDhdfV19LHNvcnRfYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU29ydEJ5LF9zaWduYXR1cmU6W3t0eXBlczpbM119LHt0eXBlczpbNl19XX0sam9pbjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Kb2luLF9zaWduYXR1cmU6W3t0eXBlczpbYV19LHt0eXBlczpbOV19XX0scmV2ZXJzZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25SZXZlcnNlLF9zaWduYXR1cmU6W3t0eXBlczpbYSwzXX1dfSx0b19hcnJheTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ub0FycmF5LF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sdG9fc3RyaW5nOntfZnVuYzp0aGlzLl9mdW5jdGlvblRvU3RyaW5nLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sdG9fbnVtYmVyOntfZnVuYzp0aGlzLl9mdW5jdGlvblRvTnVtYmVyLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sbm90X251bGw6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTm90TnVsbCxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdLHZhcmlhZGljOiEwfV19fX1WW3VdPTAsVltsXT0wLFZbcF09MCxWW2RdPTAsVltoXT0wLFZbZ109MCxWW21dPTAsVlt2XT0wLFZbeV09MCxWW2JdPTAsVltTXT0xLFZbQ109MixWW0VdPTMsVltJXT01LFZbVF09NSxWW0FdPTUsVlt3XT01LFZbX109NSxWW1JdPTUsVltPXT05LFZbTF09MjAsVltrXT0yMSxWW1BdPTQwLFZbTl09NDUsVltEXT01MCxWW3hdPTU1LFZbTV09NjAsVy5wcm90b3R5cGU9e3BhcnNlOmZ1bmN0aW9uKGUpe3RoaXMuX2xvYWRUb2tlbnMoZSksdGhpcy5pbmRleD0wO3ZhciB0PXRoaXMuZXhwcmVzc2lvbigwKTtpZih0aGlzLl9sb29rYWhlYWQoMCkhPT11KXt2YXIgbj10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxyPW5ldyBFcnJvcigiVW5leHBlY3RlZCB0b2tlbiB0eXBlOiAiK24udHlwZSsiLCB2YWx1ZTogIituLnZhbHVlKTt0aHJvdyByLm5hbWU9IlBhcnNlckVycm9yIixyfXJldHVybiB0fSxfbG9hZFRva2VuczpmdW5jdGlvbihlKXt2YXIgdD0obmV3IEcpLnRva2VuaXplKGUpO3QucHVzaCh7dHlwZTp1LHZhbHVlOiIiLHN0YXJ0OmUubGVuZ3RofSksdGhpcy50b2tlbnM9dH0sZXhwcmVzc2lvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb29rYWhlYWRUb2tlbigwKTt0aGlzLl9hZHZhbmNlKCk7Zm9yKHZhciBuPXRoaXMubnVkKHQpLHI9dGhpcy5fbG9va2FoZWFkKDApO2U8VltyXTspdGhpcy5fYWR2YW5jZSgpLG49dGhpcy5sZWQocixuKSxyPXRoaXMuX2xvb2thaGVhZCgwKTtyZXR1cm4gbn0sX2xvb2thaGVhZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5pbmRleCtlXS50eXBlfSxfbG9va2FoZWFkVG9rZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMuaW5kZXgrZV19LF9hZHZhbmNlOmZ1bmN0aW9uKCl7dGhpcy5pbmRleCsrfSxudWQ6ZnVuY3Rpb24oZSl7dmFyIHQsbjtzd2l0Y2goZS50eXBlKXtjYXNlIFU6cmV0dXJue3R5cGU6IkxpdGVyYWwiLHZhbHVlOmUudmFsdWV9O2Nhc2UgbDpyZXR1cm57dHlwZToiRmllbGQiLG5hbWU6ZS52YWx1ZX07Y2FzZSBwOnZhciByPXt0eXBlOiJGaWVsZCIsbmFtZTplLnZhbHVlfTtpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1NKXRocm93IG5ldyBFcnJvcigiUXVvdGVkIGlkZW50aWZpZXIgbm90IGFsbG93ZWQgZm9yIGZ1bmN0aW9uIG5hbWVzLiIpO3JldHVybiByO2Nhc2UgTjpyZXR1cm57dHlwZToiTm90RXhwcmVzc2lvbiIsY2hpbGRyZW46W3Q9dGhpcy5leHByZXNzaW9uKFYuTm90KV19O2Nhc2UgTDpyZXR1cm4gdD1udWxsLHt0eXBlOiJWYWx1ZVByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZToiSWRlbnRpdHkifSx0PXRoaXMuX2xvb2thaGVhZCgwKT09PWQ/e3R5cGU6IklkZW50aXR5In06dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfTtjYXNlIGs6cmV0dXJuIHRoaXMubGVkKGUudHlwZSx7dHlwZToiSWRlbnRpdHkifSk7Y2FzZSBEOnJldHVybiB0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpO2Nhc2UgTzpyZXR1cm57dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOk8sY2hpbGRyZW46W3t0eXBlOiJJZGVudGl0eSJ9XX0sdD10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5GbGF0dGVuKV19O2Nhc2UgeDpyZXR1cm4gdGhpcy5fbG9va2FoZWFkKDApPT09dnx8dGhpcy5fbG9va2FoZWFkKDApPT09Zj8odD10aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpLHRoaXMuX3Byb2plY3RJZlNsaWNlKHt0eXBlOiJJZGVudGl0eSJ9LHQpKTp0aGlzLl9sb29rYWhlYWQoMCk9PT1MJiZ0aGlzLl9sb29rYWhlYWQoMSk9PT1kPyh0aGlzLl9hZHZhbmNlKCksdGhpcy5fYWR2YW5jZSgpLHt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6IklkZW50aXR5In0sdD10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19KTp0aGlzLl9wYXJzZU11bHRpc2VsZWN0TGlzdCgpO2Nhc2UgeTpyZXR1cm57dHlwZTp5fTtjYXNlIGI6cmV0dXJue3R5cGU6IkV4cHJlc3Npb25SZWZlcmVuY2UiLGNoaWxkcmVuOltuPXRoaXMuZXhwcmVzc2lvbihWLkV4cHJlZildfTtjYXNlIE06Zm9yKHZhciBvPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWg7KXRoaXMuX2xvb2thaGVhZCgwKT09PXk/KG49e3R5cGU6eX0sdGhpcy5fYWR2YW5jZSgpKTpuPXRoaXMuZXhwcmVzc2lvbigwKSxvLnB1c2gobik7cmV0dXJuIHRoaXMuX21hdGNoKGgpLG9bMF07ZGVmYXVsdDp0aGlzLl9lcnJvclRva2VuKGUpfX0sbGVkOmZ1bmN0aW9uKGUsdCl7dmFyIG47c3dpdGNoKGUpe2Nhc2UgUDp2YXIgcj1WLkRvdDtyZXR1cm4gdGhpcy5fbG9va2FoZWFkKDApIT09TD97dHlwZToiU3ViZXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZURvdFJIUyhyKV19Oih0aGlzLl9hZHZhbmNlKCkse3R5cGU6IlZhbHVlUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMocildfSk7Y2FzZSBTOnJldHVybiBuPXRoaXMuZXhwcmVzc2lvbihWLlBpcGUpLHt0eXBlOlMsY2hpbGRyZW46W3Qsbl19O2Nhc2UgQzpyZXR1cm57dHlwZToiT3JFeHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuZXhwcmVzc2lvbihWLk9yKV19O2Nhc2UgRTpyZXR1cm57dHlwZToiQW5kRXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLmV4cHJlc3Npb24oVi5BbmQpXX07Y2FzZSBNOmZvcih2YXIgbyxpPXQubmFtZSxzPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWg7KXRoaXMuX2xvb2thaGVhZCgwKT09PXk/KG89e3R5cGU6eX0sdGhpcy5fYWR2YW5jZSgpKTpvPXRoaXMuZXhwcmVzc2lvbigwKSx0aGlzLl9sb29rYWhlYWQoMCk9PT1nJiZ0aGlzLl9tYXRjaChnKSxzLnB1c2gobyk7cmV0dXJuIHRoaXMuX21hdGNoKGgpLHt0eXBlOiJGdW5jdGlvbiIsbmFtZTppLGNoaWxkcmVuOnN9O2Nhc2Ugazp2YXIgYT10aGlzLmV4cHJlc3Npb24oMCk7cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJGaWx0ZXJQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX2xvb2thaGVhZCgwKT09PU8/e3R5cGU6IklkZW50aXR5In06dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuRmlsdGVyKSxhXX07Y2FzZSBPOnJldHVybnt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6TyxjaGlsZHJlbjpbdF19LHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLkZsYXR0ZW4pXX07Y2FzZSBJOmNhc2UgUjpjYXNlIFQ6Y2FzZSB3OmNhc2UgQTpjYXNlIF86cmV0dXJuIHRoaXMuX3BhcnNlQ29tcGFyYXRvcih0LGUpO2Nhc2UgeDp2YXIgYz10aGlzLl9sb29rYWhlYWRUb2tlbigwKTtyZXR1cm4gYy50eXBlPT09dnx8Yy50eXBlPT09Zj8obj10aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpLHRoaXMuX3Byb2plY3RJZlNsaWNlKHQsbikpOih0aGlzLl9tYXRjaChMKSx0aGlzLl9tYXRjaChkKSx7dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19KTtkZWZhdWx0OnRoaXMuX2Vycm9yVG9rZW4odGhpcy5fbG9va2FoZWFkVG9rZW4oMCkpfX0sX21hdGNoOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PWUpe3ZhciB0PXRoaXMuX2xvb2thaGVhZFRva2VuKDApLG49bmV3IEVycm9yKCJFeHBlY3RlZCAiK2UrIiwgZ290OiAiK3QudHlwZSk7dGhyb3cgbi5uYW1lPSJQYXJzZXJFcnJvciIsbn10aGlzLl9hZHZhbmNlKCl9LF9lcnJvclRva2VuOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBFcnJvcigiSW52YWxpZCB0b2tlbiAoIitlLnR5cGUrJyk6ICInK2UudmFsdWUrJyInKTt0aHJvdyB0Lm5hbWU9IlBhcnNlckVycm9yIix0fSxfcGFyc2VJbmRleEV4cHJlc3Npb246ZnVuY3Rpb24oKXtpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1mfHx0aGlzLl9sb29rYWhlYWQoMSk9PT1mKXJldHVybiB0aGlzLl9wYXJzZVNsaWNlRXhwcmVzc2lvbigpO3ZhciBlPXt0eXBlOiJJbmRleCIsdmFsdWU6dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkudmFsdWV9O3JldHVybiB0aGlzLl9hZHZhbmNlKCksdGhpcy5fbWF0Y2goZCksZX0sX3Byb2plY3RJZlNsaWNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e3R5cGU6IkluZGV4RXhwcmVzc2lvbiIsY2hpbGRyZW46W2UsdF19O3JldHVybiJTbGljZSI9PT10LnR5cGU/e3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOltuLHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX06bn0sX3BhcnNlU2xpY2VFeHByZXNzaW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtudWxsLG51bGwsbnVsbF0sdD0wLG49dGhpcy5fbG9va2FoZWFkKDApO24hPT1kJiZ0PDM7KXtpZihuPT09Zil0KyssdGhpcy5fYWR2YW5jZSgpO2Vsc2V7aWYobiE9PXYpe3ZhciByPXRoaXMuX2xvb2thaGVhZCgwKSxvPW5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bmV4cGVjdGVkIHRva2VuOiAiK3IudmFsdWUrIigiK3IudHlwZSsiKSIpO3Rocm93IG8ubmFtZT0iUGFyc2VyZXJyb3IiLG99ZVt0XT10aGlzLl9sb29rYWhlYWRUb2tlbigwKS52YWx1ZSx0aGlzLl9hZHZhbmNlKCl9bj10aGlzLl9sb29rYWhlYWQoMCl9cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJTbGljZSIsY2hpbGRyZW46ZX19LF9wYXJzZUNvbXBhcmF0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZToiQ29tcGFyYXRvciIsbmFtZTp0LGNoaWxkcmVuOltlLHRoaXMuZXhwcmVzc2lvbihWW3RdKV19fSxfcGFyc2VEb3RSSFM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbG9va2FoZWFkKDApO3JldHVybltsLHAsTF0uaW5kZXhPZih0KT49MD90aGlzLmV4cHJlc3Npb24oZSk6dD09PXg/KHRoaXMuX21hdGNoKHgpLHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RMaXN0KCkpOnQ9PT1EPyh0aGlzLl9tYXRjaChEKSx0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpKTp2b2lkIDB9LF9wYXJzZVByb2plY3Rpb25SSFM6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoVlt0aGlzLl9sb29rYWhlYWQoMCldPDEwKXQ9e3R5cGU6IklkZW50aXR5In07ZWxzZSBpZih0aGlzLl9sb29rYWhlYWQoMCk9PT14KXQ9dGhpcy5leHByZXNzaW9uKGUpO2Vsc2UgaWYodGhpcy5fbG9va2FoZWFkKDApPT09ayl0PXRoaXMuZXhwcmVzc2lvbihlKTtlbHNle2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PVApe3ZhciBuPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLHI9bmV3IEVycm9yKCJTeXRhbnggZXJyb3IsIHVuZXhwZWN0ZWQgdG9rZW46ICIrbi52YWx1ZSsiKCIrbi50eXBlKyIpIik7dGhyb3cgci5uYW1lPSJQYXJzZXJFcnJvciIscn10aGlzLl9tYXRjaChQKSx0PXRoaXMuX3BhcnNlRG90UkhTKGUpfXJldHVybiB0fSxfcGFyc2VNdWx0aXNlbGVjdExpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W107dGhpcy5fbG9va2FoZWFkKDApIT09ZDspe3ZhciB0PXRoaXMuZXhwcmVzc2lvbigwKTtpZihlLnB1c2godCksdGhpcy5fbG9va2FoZWFkKDApPT09ZyYmKHRoaXMuX21hdGNoKGcpLHRoaXMuX2xvb2thaGVhZCgwKT09PWQpKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCB0b2tlbiBSYnJhY2tldCIpfXJldHVybiB0aGlzLl9tYXRjaChkKSx7dHlwZToiTXVsdGlTZWxlY3RMaXN0IixjaGlsZHJlbjplfX0sX3BhcnNlTXVsdGlzZWxlY3RIYXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsbixyPVtdLG89W2wscF07Oyl7aWYoZT10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxvLmluZGV4T2YoZS50eXBlKTwwKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGFuIGlkZW50aWZpZXIgdG9rZW4sIGdvdDogIitlLnR5cGUpO2lmKHQ9ZS52YWx1ZSx0aGlzLl9hZHZhbmNlKCksdGhpcy5fbWF0Y2goZiksbj17dHlwZToiS2V5VmFsdWVQYWlyIixuYW1lOnQsdmFsdWU6dGhpcy5leHByZXNzaW9uKDApfSxyLnB1c2gobiksdGhpcy5fbG9va2FoZWFkKDApPT09Zyl0aGlzLl9tYXRjaChnKTtlbHNlIGlmKHRoaXMuX2xvb2thaGVhZCgwKT09PW0pe3RoaXMuX21hdGNoKG0pO2JyZWFrfX1yZXR1cm57dHlwZToiTXVsdGlTZWxlY3RIYXNoIixjaGlsZHJlbjpyfX19LEgucHJvdG90eXBlPXtzZWFyY2g6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52aXNpdChlLHQpfSx2aXNpdDpmdW5jdGlvbihlLGkpe3ZhciBzLGEsYyx1LGwscCxkLGgsZztzd2l0Y2goZS50eXBlKXtjYXNlIkZpZWxkIjpyZXR1cm4gbnVsbCE9PWkmJm4oaSk/dm9pZCAwPT09KHA9aVtlLm5hbWVdKT9udWxsOnA6bnVsbDtjYXNlIlN1YmV4cHJlc3Npb24iOmZvcihjPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSxnPTE7ZzxlLmNoaWxkcmVuLmxlbmd0aDtnKyspaWYobnVsbD09PShjPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxjKSkpcmV0dXJuIG51bGw7cmV0dXJuIGM7Y2FzZSJJbmRleEV4cHJlc3Npb24iOnJldHVybiBkPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSx0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sZCk7Y2FzZSJJbmRleCI6aWYoIXQoaSkpcmV0dXJuIG51bGw7dmFyIGY9ZS52YWx1ZTtyZXR1cm4gZjwwJiYoZj1pLmxlbmd0aCtmKSx2b2lkIDA9PT0oYz1pW2ZdKSYmKGM9bnVsbCksYztjYXNlIlNsaWNlIjppZighdChpKSlyZXR1cm4gbnVsbDt2YXIgbT1lLmNoaWxkcmVuLnNsaWNlKDApLHY9dGhpcy5jb21wdXRlU2xpY2VQYXJhbXMoaS5sZW5ndGgsbSksQz12WzBdLEU9dlsxXSxMPXZbMl07aWYoYz1bXSxMPjApZm9yKGc9QztnPEU7Zys9TCljLnB1c2goaVtnXSk7ZWxzZSBmb3IoZz1DO2c+RTtnKz1MKWMucHVzaChpW2ddKTtyZXR1cm4gYztjYXNlIlByb2plY3Rpb24iOnZhciBrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKTtpZighdChrKSlyZXR1cm4gbnVsbDtmb3IoaD1bXSxnPTA7ZzxrLmxlbmd0aDtnKyspbnVsbCE9PShhPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxrW2ddKSkmJmgucHVzaChhKTtyZXR1cm4gaDtjYXNlIlZhbHVlUHJvamVjdGlvbiI6aWYoIW4oaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpKXJldHVybiBudWxsO2g9W107dmFyIFA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49W10scj0wO3I8dC5sZW5ndGg7cisrKW4ucHVzaChlW3Rbcl1dKTtyZXR1cm4gbn0oayk7Zm9yKGc9MDtnPFAubGVuZ3RoO2crKyludWxsIT09KGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLFBbZ10pKSYmaC5wdXNoKGEpO3JldHVybiBoO2Nhc2UiRmlsdGVyUHJvamVjdGlvbiI6aWYoIXQoaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpKXJldHVybiBudWxsO3ZhciBOPVtdLEQ9W107Zm9yKGc9MDtnPGsubGVuZ3RoO2crKylvKHM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzJdLGtbZ10pKXx8Ti5wdXNoKGtbZ10pO2Zvcih2YXIgeD0wO3g8Ti5sZW5ndGg7eCsrKW51bGwhPT0oYT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sTlt4XSkpJiZELnB1c2goYSk7cmV0dXJuIEQ7Y2FzZSJDb21wYXJhdG9yIjpzd2l0Y2godT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksbD10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSksZS5uYW1lKXtjYXNlIEk6Yz1yKHUsbCk7YnJlYWs7Y2FzZSBSOmM9IXIodSxsKTticmVhaztjYXNlIFQ6Yz11Pmw7YnJlYWs7Y2FzZSB3OmM9dT49bDticmVhaztjYXNlIEE6Yz11PGw7YnJlYWs7Y2FzZSBfOmM9dTw9bDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21wYXJhdG9yOiAiK2UubmFtZSl9cmV0dXJuIGM7Y2FzZSBPOnZhciBNPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKTtpZighdChNKSlyZXR1cm4gbnVsbDt2YXIgVT1bXTtmb3IoZz0wO2c8TS5sZW5ndGg7ZysrKXQoYT1NW2ddKT9VLnB1c2guYXBwbHkoVSxhKTpVLnB1c2goYSk7cmV0dXJuIFU7Y2FzZSJJZGVudGl0eSI6cmV0dXJuIGk7Y2FzZSJNdWx0aVNlbGVjdExpc3QiOmlmKG51bGw9PT1pKXJldHVybiBudWxsO2ZvcihoPVtdLGc9MDtnPGUuY2hpbGRyZW4ubGVuZ3RoO2crKyloLnB1c2godGhpcy52aXNpdChlLmNoaWxkcmVuW2ddLGkpKTtyZXR1cm4gaDtjYXNlIk11bHRpU2VsZWN0SGFzaCI6aWYobnVsbD09PWkpcmV0dXJuIG51bGw7dmFyIEY7Zm9yKGg9e30sZz0wO2c8ZS5jaGlsZHJlbi5sZW5ndGg7ZysrKWhbKEY9ZS5jaGlsZHJlbltnXSkubmFtZV09dGhpcy52aXNpdChGLnZhbHVlLGkpO3JldHVybiBoO2Nhc2UiT3JFeHByZXNzaW9uIjpyZXR1cm4gbyhzPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkmJihzPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKSkscztjYXNlIkFuZEV4cHJlc3Npb24iOnJldHVybiEwPT09byh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSk/dTp0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSk7Y2FzZSJOb3RFeHByZXNzaW9uIjpyZXR1cm4gbyh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSk7Y2FzZSJMaXRlcmFsIjpyZXR1cm4gZS52YWx1ZTtjYXNlIFM6cmV0dXJuIGQ9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLHRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxkKTtjYXNlIHk6cmV0dXJuIGk7Y2FzZSJGdW5jdGlvbiI6dmFyIGo9W107Zm9yKGc9MDtnPGUuY2hpbGRyZW4ubGVuZ3RoO2crKylqLnB1c2godGhpcy52aXNpdChlLmNoaWxkcmVuW2ddLGkpKTtyZXR1cm4gdGhpcy5ydW50aW1lLmNhbGxGdW5jdGlvbihlLm5hbWUsaik7Y2FzZSJFeHByZXNzaW9uUmVmZXJlbmNlIjp2YXIgcT1lLmNoaWxkcmVuWzBdO3JldHVybiBxLmptZXNwYXRoVHlwZT1iLHE7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbm9kZSB0eXBlOiAiK2UudHlwZSl9fSxjb21wdXRlU2xpY2VQYXJhbXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxvPXRbMl0saT1bbnVsbCxudWxsLG51bGxdO2lmKG51bGw9PT1vKW89MTtlbHNlIGlmKDA9PT1vKXt2YXIgcz1uZXcgRXJyb3IoIkludmFsaWQgc2xpY2UsIHN0ZXAgY2Fubm90IGJlIDAiKTt0aHJvdyBzLm5hbWU9IlJ1bnRpbWVFcnJvciIsc312YXIgYT1vPDA7cmV0dXJuIG49bnVsbD09PW4/YT9lLTE6MDp0aGlzLmNhcFNsaWNlUmFuZ2UoZSxuLG8pLHI9bnVsbD09PXI/YT8tMTplOnRoaXMuY2FwU2xpY2VSYW5nZShlLHIsbyksaVswXT1uLGlbMV09cixpWzJdPW8saX0sY2FwU2xpY2VSYW5nZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ8MD8odCs9ZSk8MCYmKHQ9bjwwPy0xOjApOnQ+PWUmJih0PW48MD9lLTE6ZSksdH19LHoucHJvdG90eXBlPXtjYWxsRnVuY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmZ1bmN0aW9uVGFibGVbZV07aWYodm9pZCAwPT09bil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZnVuY3Rpb246ICIrZSsiKCkiKTtyZXR1cm4gdGhpcy5fdmFsaWRhdGVBcmdzKGUsdCxuLl9zaWduYXR1cmUpLG4uX2Z1bmMuY2FsbCh0aGlzLHQpfSxfdmFsaWRhdGVBcmdzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGkscztpZihuW24ubGVuZ3RoLTFdLnZhcmlhZGljKXtpZih0Lmxlbmd0aDxuLmxlbmd0aCl0aHJvdyByPTE9PT1uLmxlbmd0aD8iIGFyZ3VtZW50IjoiIGFyZ3VtZW50cyIsbmV3IEVycm9yKCJBcmd1bWVudEVycm9yOiAiK2UrIigpIHRha2VzIGF0IGxlYXN0IituLmxlbmd0aCtyKyIgYnV0IHJlY2VpdmVkICIrdC5sZW5ndGgpfWVsc2UgaWYodC5sZW5ndGghPT1uLmxlbmd0aCl0aHJvdyByPTE9PT1uLmxlbmd0aD8iIGFyZ3VtZW50IjoiIGFyZ3VtZW50cyIsbmV3IEVycm9yKCJBcmd1bWVudEVycm9yOiAiK2UrIigpIHRha2VzICIrbi5sZW5ndGgrcisiIGJ1dCByZWNlaXZlZCAiK3QubGVuZ3RoKTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErKyl7cz0hMSxvPW5bYV0udHlwZXMsaT10aGlzLl9nZXRUeXBlTmFtZSh0W2FdKTtmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKylpZih0aGlzLl90eXBlTWF0Y2hlcyhpLG9bdV0sdFthXSkpe3M9ITA7YnJlYWt9aWYoIXMpe3ZhciBsPW8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gY1tlXX0pKS5qb2luKCIsIik7dGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6ICIrZSsiKCkgZXhwZWN0ZWQgYXJndW1lbnQgIisoYSsxKSsiIHRvIGJlIHR5cGUgIitsKyIgYnV0IHJlY2VpdmVkIHR5cGUgIitjW2ldKyIgaW5zdGVhZC4iKX19fSxfdHlwZU1hdGNoZXM6ZnVuY3Rpb24oZSx0LG4pe2lmKDE9PT10KXJldHVybiEwO2lmKDkhPT10JiY4IT09dCYmMyE9PXQpcmV0dXJuIGU9PT10O2lmKDM9PT10KXJldHVybiAzPT09ZTtpZigzPT09ZSl7dmFyIHI7OD09PXQ/cj1zOjk9PT10JiYocj1hKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZighdGhpcy5fdHlwZU1hdGNoZXModGhpcy5fZ2V0VHlwZU5hbWUobltvXSkscixuW29dKSlyZXR1cm4hMTtyZXR1cm4hMH19LF9nZXRUeXBlTmFtZTpmdW5jdGlvbihlKXtzd2l0Y2goT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIGE7Y2FzZSJbb2JqZWN0IE51bWJlcl0iOnJldHVybiBzO2Nhc2UiW29iamVjdCBBcnJheV0iOnJldHVybiAzO2Nhc2UiW29iamVjdCBCb29sZWFuXSI6cmV0dXJuIDU7Y2FzZSJbb2JqZWN0IE51bGxdIjpyZXR1cm4gNztjYXNlIltvYmplY3QgT2JqZWN0XSI6cmV0dXJuIGUuam1lc3BhdGhUeXBlPT09Yj82OjR9fSxfZnVuY3Rpb25TdGFydHNXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZVswXS5sYXN0SW5kZXhPZihlWzFdKX0sX2Z1bmN0aW9uRW5kc1dpdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV07cmV0dXJuLTEhPT10LmluZGV4T2Yobix0Lmxlbmd0aC1uLmxlbmd0aCl9LF9mdW5jdGlvblJldmVyc2U6ZnVuY3Rpb24oZSl7aWYodGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk9PT1hKXtmb3IodmFyIHQ9ZVswXSxuPSIiLHI9dC5sZW5ndGgtMTtyPj0wO3ItLSluKz10W3JdO3JldHVybiBufXZhciBvPWVbMF0uc2xpY2UoMCk7cmV0dXJuIG8ucmV2ZXJzZSgpLG99LF9mdW5jdGlvbkFiczpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hYnMoZVswXSl9LF9mdW5jdGlvbkNlaWw6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguY2VpbChlWzBdKX0sX2Z1bmN0aW9uQXZnOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZVswXSxyPTA7cjxuLmxlbmd0aDtyKyspdCs9bltyXTtyZXR1cm4gdC9uLmxlbmd0aH0sX2Z1bmN0aW9uQ29udGFpbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT49MH0sX2Z1bmN0aW9uRmxvb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZmxvb3IoZVswXSl9LF9mdW5jdGlvbkxlbmd0aDpmdW5jdGlvbihlKXtyZXR1cm4gbihlWzBdKT9PYmplY3Qua2V5cyhlWzBdKS5sZW5ndGg6ZVswXS5sZW5ndGh9LF9mdW5jdGlvbk1hcDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj10aGlzLl9pbnRlcnByZXRlcixyPWVbMF0sbz1lWzFdLGk9MDtpPG8ubGVuZ3RoO2krKyl0LnB1c2gobi52aXNpdChyLG9baV0pKTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWVyZ2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtmb3IodmFyIG8gaW4gcil0W29dPXJbb119cmV0dXJuIHR9LF9mdW5jdGlvbk1heDpmdW5jdGlvbihlKXtpZihlWzBdLmxlbmd0aD4wKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdWzBdKT09PXMpcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsZVswXSk7Zm9yKHZhciB0PWVbMF0sbj10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyluLmxvY2FsZUNvbXBhcmUodFtyXSk8MCYmKG49dFtyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LF9mdW5jdGlvbk1pbjpmdW5jdGlvbihlKXtpZihlWzBdLmxlbmd0aD4wKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdWzBdKT09PXMpcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsZVswXSk7Zm9yKHZhciB0PWVbMF0sbj10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyl0W3JdLmxvY2FsZUNvbXBhcmUobik8MCYmKG49dFtyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LF9mdW5jdGlvblN1bTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWVbMF0scj0wO3I8bi5sZW5ndGg7cisrKXQrPW5bcl07cmV0dXJuIHR9LF9mdW5jdGlvblR5cGU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pKXtjYXNlIHM6cmV0dXJuIm51bWJlciI7Y2FzZSBhOnJldHVybiJzdHJpbmciO2Nhc2UgMzpyZXR1cm4iYXJyYXkiO2Nhc2UgNDpyZXR1cm4ib2JqZWN0IjtjYXNlIDU6cmV0dXJuImJvb2xlYW4iO2Nhc2UgNjpyZXR1cm4iZXhwcmVmIjtjYXNlIDc6cmV0dXJuIm51bGwifX0sX2Z1bmN0aW9uS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZVswXSl9LF9mdW5jdGlvblZhbHVlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXSxuPU9iamVjdC5rZXlzKHQpLHI9W10sbz0wO288bi5sZW5ndGg7bysrKXIucHVzaCh0W25bb11dKTtyZXR1cm4gcn0sX2Z1bmN0aW9uSm9pbjpmdW5jdGlvbihlKXt2YXIgdD1lWzBdO3JldHVybiBlWzFdLmpvaW4odCl9LF9mdW5jdGlvblRvQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIDM9PT10aGlzLl9nZXRUeXBlTmFtZShlWzBdKT9lWzBdOltlWzBdXX0sX2Z1bmN0aW9uVG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pPT09YT9lWzBdOkpTT04uc3RyaW5naWZ5KGVbMF0pfSxfZnVuY3Rpb25Ub051bWJlcjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2dldFR5cGVOYW1lKGVbMF0pO3JldHVybiBuPT09cz9lWzBdOm4hPT1hfHwodD0rZVswXSxpc05hTih0KSk/bnVsbDp0fSxfZnVuY3Rpb25Ob3ROdWxsOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKDchPT10aGlzLl9nZXRUeXBlTmFtZShlW3RdKSlyZXR1cm4gZVt0XTtyZXR1cm4gbnVsbH0sX2Z1bmN0aW9uU29ydDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLnNsaWNlKDApO3JldHVybiB0LnNvcnQoKSx0fSxfZnVuY3Rpb25Tb3J0Qnk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS5zbGljZSgwKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHQ7dmFyIG49dGhpcy5faW50ZXJwcmV0ZXIscj1lWzFdLG89dGhpcy5fZ2V0VHlwZU5hbWUobi52aXNpdChyLHRbMF0pKTtpZihbcyxhXS5pbmRleE9mKG8pPDApdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3IiKTtmb3IodmFyIGk9dGhpcyxjPVtdLHU9MDt1PHQubGVuZ3RoO3UrKyljLnB1c2goW3UsdFt1XV0pO2Muc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgcz1uLnZpc2l0KHIsZVsxXSksYT1uLnZpc2l0KHIsdFsxXSk7aWYoaS5fZ2V0VHlwZU5hbWUocykhPT1vKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiBleHBlY3RlZCAiK28rIiwgcmVjZWl2ZWQgIitpLl9nZXRUeXBlTmFtZShzKSk7aWYoaS5fZ2V0VHlwZU5hbWUoYSkhPT1vKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiBleHBlY3RlZCAiK28rIiwgcmVjZWl2ZWQgIitpLl9nZXRUeXBlTmFtZShhKSk7cmV0dXJuIHM+YT8xOnM8YT8tMTplWzBdLXRbMF19KSk7Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspdFtsXT1jW2xdWzFdO3JldHVybiB0fSxfZnVuY3Rpb25NYXhCeTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWVbMV0sbz1lWzBdLGk9dGhpcy5jcmVhdGVLZXlGdW5jdGlvbihyLFtzLGFdKSxjPS0xLzAsdT0wO3U8by5sZW5ndGg7dSsrKShuPWkob1t1XSkpPmMmJihjPW4sdD1vW3VdKTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWluQnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lWzFdLG89ZVswXSxpPXRoaXMuY3JlYXRlS2V5RnVuY3Rpb24ocixbcyxhXSksYz0xLzAsdT0wO3U8by5sZW5ndGg7dSsrKShuPWkob1t1XSkpPGMmJihjPW4sdD1vW3VdKTtyZXR1cm4gdH0sY3JlYXRlS2V5RnVuY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5faW50ZXJwcmV0ZXI7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPXIudmlzaXQoZSxvKTtpZih0LmluZGV4T2Yobi5fZ2V0VHlwZU5hbWUoaSkpPDApe3ZhciBzPSJUeXBlRXJyb3I6IGV4cGVjdGVkIG9uZSBvZiAiK3QrIiwgcmVjZWl2ZWQgIituLl9nZXRUeXBlTmFtZShpKTt0aHJvdyBuZXcgRXJyb3Iocyl9cmV0dXJuIGl9fX0sZS50b2tlbml6ZT1mdW5jdGlvbihlKXtyZXR1cm4obmV3IEcpLnRva2VuaXplKGUpfSxlLmNvbXBpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBXKS5wYXJzZShlKX0sZS5zZWFyY2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgVyxyPW5ldyB6LG89bmV3IEgocik7ci5faW50ZXJwcmV0ZXI9bzt2YXIgaT1uLnBhcnNlKHQpO3JldHVybiBvLnNlYXJjaChpLGUpfSxlLnN0cmljdERlZXBFcXVhbD1yfSh2b2lkIDA9PT1uP3RoaXMuam1lc3BhdGg9e306bil9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT10LmV4cG9ydHM9e307ZnVuY3Rpb24gcygpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIGMoZSl7aWYocj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigocj09PXN8fCFyKSYmc2V0VGltZW91dClyZXR1cm4gcj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7cj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OnN9Y2F0Y2goZSl7cj1zfXRyeXtvPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2goZSl7bz1hfX0oKTt2YXIgdSxsPVtdLHA9ITEsZD0tMTtmdW5jdGlvbiBoKCl7cCYmdSYmKHA9ITEsdS5sZW5ndGg/bD11LmNvbmNhdChsKTpkPS0xLGwubGVuZ3RoJiZnKCkpfWZ1bmN0aW9uIGcoKXtpZighcCl7dmFyIGU9YyhoKTtwPSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKHU9bCxsPVtdOysrZDx0Oyl1JiZ1W2RdLnJ1bigpO2Q9LTEsdD1sLmxlbmd0aH11PW51bGwscD0hMSxmdW5jdGlvbihlKXtpZihvPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKG89PT1hfHwhbykmJmNsZWFyVGltZW91dClyZXR1cm4gbz1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG8uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBvLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZihlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIG0oKXt9aS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2wucHVzaChuZXcgZihlLHQpKSwxIT09bC5sZW5ndGh8fHB8fGMoZyl9LGYucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9ImJyb3dzZXIiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPSIiLGkudmVyc2lvbnM9e30saS5vbj1tLGkuYWRkTGlzdGVuZXI9bSxpLm9uY2U9bSxpLm9mZj1tLGkucmVtb3ZlTGlzdGVuZXI9bSxpLnJlbW92ZUFsbExpc3RlbmVycz1tLGkuZW1pdD1tLGkucHJlcGVuZExpc3RlbmVyPW0saS5wcmVwZW5kT25jZUxpc3RlbmVyPW0saS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGkuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LGkudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSw5MjpbZnVuY3Rpb24oZSx0LG8peyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXshZnVuY3Rpb24oKXsib2JqZWN0Ij09dHlwZW9mIG8mJm8mJm8ubm9kZVR5cGUsIm9iamVjdCI9PXR5cGVvZiB0JiZ0JiZ0Lm5vZGVUeXBlO3ZhciBpPSJvYmplY3QiPT10eXBlb2YgZSYmZTtpLmdsb2JhbCE9PWkmJmkud2luZG93IT09aSYmaS5zZWxmO3ZhciBzLGE9MjE0NzQ4MzY0NyxjPTM2LHU9L154bi0tLyxsPS9bXlx4MjAtXHg3RV0vLHA9L1tceDJFXHUzMDAyXHVGRjBFXHVGRjYxXS9nLGQ9e292ZXJmbG93OiJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcyIsIm5vdC1iYXNpYyI6IklsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCkiLCJpbnZhbGlkLWlucHV0IjoiSW52YWxpZCBpbnB1dCJ9LGg9TWF0aC5mbG9vcixnPVN0cmluZy5mcm9tQ2hhckNvZGU7ZnVuY3Rpb24gZihlKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihkW2VdKX1mdW5jdGlvbiBtKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9W107bi0tOylyW25dPXQoZVtuXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gdihlLHQpe3ZhciBuPWUuc3BsaXQoIkAiKSxyPSIiO3JldHVybiBuLmxlbmd0aD4xJiYocj1uWzBdKyJAIixlPW5bMV0pLHIrbSgoZT1lLnJlcGxhY2UocCwiLiIpKS5zcGxpdCgiLiIpLHQpLmpvaW4oIi4iKX1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgdCxuLHI9W10sbz0wLGk9ZS5sZW5ndGg7bzxpOykodD1lLmNoYXJDb2RlQXQobysrKSk+PTU1Mjk2JiZ0PD01NjMxOSYmbzxpPzU2MzIwPT0oNjQ1MTImKG49ZS5jaGFyQ29kZUF0KG8rKykpKT9yLnB1c2goKCgxMDIzJnQpPDwxMCkrKDEwMjMmbikrNjU1MzYpOihyLnB1c2godCksby0tKTpyLnB1c2godCk7cmV0dXJuIHJ9ZnVuY3Rpb24gYihlKXtyZXR1cm4gbShlLChmdW5jdGlvbihlKXt2YXIgdD0iIjtyZXR1cm4gZT42NTUzNSYmKHQrPWcoKGUtPTY1NTM2KT4+PjEwJjEwMjN8NTUyOTYpLGU9NTYzMjB8MTAyMyZlKSx0Kz1nKGUpfSkpLmpvaW4oIiIpfWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gZSsyMis3NSooZTwyNiktKCgwIT10KTw8NSl9ZnVuY3Rpb24gQyhlLHQsbil7dmFyIHI9MDtmb3IoZT1uP2goZS83MDApOmU+PjEsZSs9aChlL3QpO2U+NDU1O3IrPWMpZT1oKGUvMzUpO3JldHVybiBoKHIrMzYqZS8oZSszOCkpfWZ1bmN0aW9uIEUoZSl7dmFyIHQsbixyLG8saSxzLHUsbCxwLGQsZyxtPVtdLHY9ZS5sZW5ndGgseT0wLFM9MTI4LEU9NzI7Zm9yKChuPWUubGFzdEluZGV4T2YoIi0iKSk8MCYmKG49MCkscj0wO3I8bjsrK3IpZS5jaGFyQ29kZUF0KHIpPj0xMjgmJmYoIm5vdC1iYXNpYyIpLG0ucHVzaChlLmNoYXJDb2RlQXQocikpO2ZvcihvPW4+MD9uKzE6MDtvPHY7KXtmb3IoaT15LHM9MSx1PWM7bz49diYmZigiaW52YWxpZC1pbnB1dCIpLCgobD0oZz1lLmNoYXJDb2RlQXQobysrKSktNDg8MTA/Zy0yMjpnLTY1PDI2P2ctNjU6Zy05NzwyNj9nLTk3OmMpPj1jfHxsPmgoKGEteSkvcykpJiZmKCJvdmVyZmxvdyIpLHkrPWwqcywhKGw8KHA9dTw9RT8xOnU+PUUrMjY/MjY6dS1FKSk7dSs9YylzPmgoYS8oZD1jLXApKSYmZigib3ZlcmZsb3ciKSxzKj1kO0U9Qyh5LWksdD1tLmxlbmd0aCsxLDA9PWkpLGgoeS90KT5hLVMmJmYoIm92ZXJmbG93IiksUys9aCh5L3QpLHklPXQsbS5zcGxpY2UoeSsrLDAsUyl9cmV0dXJuIGIobSl9ZnVuY3Rpb24gSShlKXt2YXIgdCxuLHIsbyxpLHMsdSxsLHAsZCxtLHYsYixFLEksVD1bXTtmb3Iodj0oZT15KGUpKS5sZW5ndGgsdD0xMjgsbj0wLGk9NzIscz0wO3M8djsrK3MpKG09ZVtzXSk8MTI4JiZULnB1c2goZyhtKSk7Zm9yKHI9bz1ULmxlbmd0aCxvJiZULnB1c2goIi0iKTtyPHY7KXtmb3IodT1hLHM9MDtzPHY7KytzKShtPWVbc10pPj10JiZtPHUmJih1PW0pO2Zvcih1LXQ+aCgoYS1uKS8oYj1yKzEpKSYmZigib3ZlcmZsb3ciKSxuKz0odS10KSpiLHQ9dSxzPTA7czx2OysrcylpZigobT1lW3NdKTx0JiYrK24+YSYmZigib3ZlcmZsb3ciKSxtPT10KXtmb3IobD1uLHA9YzshKGw8KGQ9cDw9aT8xOnA+PWkrMjY/MjY6cC1pKSk7cCs9YylJPWwtZCxFPWMtZCxULnB1c2goZyhTKGQrSSVFLDApKSksbD1oKEkvRSk7VC5wdXNoKGcoUyhsLDApKSksaT1DKG4sYixyPT1vKSxuPTAsKytyfSsrbiwrK3R9cmV0dXJuIFQuam9pbigiIil9cz17dmVyc2lvbjoiMS40LjEiLHVjczI6e2RlY29kZTp5LGVuY29kZTpifSxkZWNvZGU6RSxlbmNvZGU6SSx0b0FTQ0lJOmZ1bmN0aW9uKGUpe3JldHVybiB2KGUsKGZ1bmN0aW9uKGUpe3JldHVybiBsLnRlc3QoZSk/InhuLS0iK0koZSk6ZX0pKX0sdG9Vbmljb2RlOmZ1bmN0aW9uKGUpe3JldHVybiB2KGUsKGZ1bmN0aW9uKGUpe3JldHVybiB1LnRlc3QoZSk/RShlLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOmV9KSl9fSx2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBzfS5jYWxsKG8sbixvLHQpKXx8KHQuZXhwb3J0cz1yKX0oKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdm9pZCAwIT09bi5nP24uZzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sOTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7dD10fHwiJiIsbj1ufHwiPSI7dmFyIHM9e307aWYoInN0cmluZyIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIHM7dmFyIGE9L1wrL2c7ZT1lLnNwbGl0KHQpO3ZhciBjPTFlMztpJiYibnVtYmVyIj09dHlwZW9mIGkubWF4S2V5cyYmKGM9aS5tYXhLZXlzKTt2YXIgdT1lLmxlbmd0aDtjPjAmJnU+YyYmKHU9Yyk7Zm9yKHZhciBsPTA7bDx1OysrbCl7dmFyIHAsZCxoLGcsZj1lW2xdLnJlcGxhY2UoYSwiJTIwIiksbT1mLmluZGV4T2Yobik7bT49MD8ocD1mLnN1YnN0cigwLG0pLGQ9Zi5zdWJzdHIobSsxKSk6KHA9ZixkPSIiKSxoPWRlY29kZVVSSUNvbXBvbmVudChwKSxnPWRlY29kZVVSSUNvbXBvbmVudChkKSxyKHMsaCk/byhzW2hdKT9zW2hdLnB1c2goZyk6c1toXT1bc1toXSxnXTpzW2hdPWd9cmV0dXJuIHN9O3ZhciBvPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9fSx7fV0sOTQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZnVuY3Rpb24oZSl7c3dpdGNoKHR5cGVvZiBlKXtjYXNlInN0cmluZyI6cmV0dXJuIGU7Y2FzZSJib29sZWFuIjpyZXR1cm4gZT8idHJ1ZSI6ImZhbHNlIjtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKGUpP2U6IiI7ZGVmYXVsdDpyZXR1cm4iIn19O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixhKXtyZXR1cm4gdD10fHwiJiIsbj1ufHwiPSIsbnVsbD09PWUmJihlPXZvaWQgMCksIm9iamVjdCI9PXR5cGVvZiBlP2kocyhlKSwoZnVuY3Rpb24ocyl7dmFyIGE9ZW5jb2RlVVJJQ29tcG9uZW50KHIocykpK247cmV0dXJuIG8oZVtzXSk/aShlW3NdLChmdW5jdGlvbihlKXtyZXR1cm4gYStlbmNvZGVVUklDb21wb25lbnQocihlKSl9KSkuam9pbih0KTphK2VuY29kZVVSSUNvbXBvbmVudChyKGVbc10pKX0pKS5qb2luKHQpOmE/ZW5jb2RlVVJJQ29tcG9uZW50KHIoYSkpK24rZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpOiIifTt2YXIgbz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfTtmdW5jdGlvbiBpKGUsdCl7aWYoZS5tYXApcmV0dXJuIGUubWFwKHQpO2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspbi5wdXNoKHQoZVtyXSxyKSk7cmV0dXJuIG59dmFyIHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LnB1c2gobik7cmV0dXJuIHR9fSx7fV0sOTU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kZWNvZGU9bi5wYXJzZT1lKCIuL2RlY29kZSIpLG4uZW5jb2RlPW4uc3RyaW5naWZ5PWUoIi4vZW5jb2RlIil9LHsiLi9kZWNvZGUiOjkzLCIuL2VuY29kZSI6OTR9XSw5NjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXQuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixvKXt0PXR8fCImIixuPW58fCI9Ijt2YXIgaT17fTtpZigic3RyaW5nIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aClyZXR1cm4gaTt2YXIgcz0vXCsvZztlPWUuc3BsaXQodCk7dmFyIGE9MWUzO28mJiJudW1iZXIiPT10eXBlb2Ygby5tYXhLZXlzJiYoYT1vLm1heEtleXMpO3ZhciBjPWUubGVuZ3RoO2E+MCYmYz5hJiYoYz1hKTtmb3IodmFyIHU9MDt1PGM7Kyt1KXt2YXIgbCxwLGQsaCxnPWVbdV0ucmVwbGFjZShzLCIlMjAiKSxmPWcuaW5kZXhPZihuKTtmPj0wPyhsPWcuc3Vic3RyKDAsZikscD1nLnN1YnN0cihmKzEpKToobD1nLHA9IiIpLGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGwpLGg9ZGVjb2RlVVJJQ29tcG9uZW50KHApLHIoaSxkKT9BcnJheS5pc0FycmF5KGlbZF0pP2lbZF0ucHVzaChoKTppW2RdPVtpW2RdLGhdOmlbZF09aH1yZXR1cm4gaX19LHt9XSw5NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mdW5jdGlvbihlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2Uic3RyaW5nIjpyZXR1cm4gZTtjYXNlImJvb2xlYW4iOnJldHVybiBlPyJ0cnVlIjoiZmFsc2UiO2Nhc2UibnVtYmVyIjpyZXR1cm4gaXNGaW5pdGUoZSk/ZToiIjtkZWZhdWx0OnJldHVybiIifX07dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLG8pe3JldHVybiB0PXR8fCImIixuPW58fCI9IixudWxsPT09ZSYmKGU9dm9pZCAwKSwib2JqZWN0Ij09dHlwZW9mIGU/T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihvKXt2YXIgaT1lbmNvZGVVUklDb21wb25lbnQocihvKSkrbjtyZXR1cm4gQXJyYXkuaXNBcnJheShlW29dKT9lW29dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkrZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpfSkpLmpvaW4odCk6aStlbmNvZGVVUklDb21wb25lbnQocihlW29dKSl9KSkuam9pbih0KTpvP2VuY29kZVVSSUNvbXBvbmVudChyKG8pKStuK2VuY29kZVVSSUNvbXBvbmVudChyKGUpKToiIn19LHt9XSw5ODpbZnVuY3Rpb24oZSx0LG4pe2FyZ3VtZW50c1s0XVs5NV1bMF0uYXBwbHkobixhcmd1bWVudHMpfSx7Ii4vZGVjb2RlIjo5NiwiLi9lbmNvZGUiOjk3LGR1cDo5NX1dLDk5OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQscil7KGZ1bmN0aW9uKCl7dmFyIG89ZSgicHJvY2Vzcy9icm93c2VyLmpzIikubmV4dFRpY2ssaT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkscz1BcnJheS5wcm90b3R5cGUuc2xpY2UsYT17fSxjPTA7ZnVuY3Rpb24gdShlLHQpe3RoaXMuX2lkPWUsdGhpcy5fY2xlYXJGbj10fW4uc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgdShpLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSxuLnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KGkuY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sbi5jbGVhclRpbWVvdXQ9bi5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UuY2xvc2UoKX0sdS5wcm90b3R5cGUudW5yZWY9dS5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSx1LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSxuLmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSxuLnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sbi5fdW5yZWZBY3RpdmU9bi5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0O3Q+PTAmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0pLHQpKX0sbi5zZXRJbW1lZGlhdGU9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpmdW5jdGlvbihlKXt2YXIgdD1jKysscj0hKGFyZ3VtZW50cy5sZW5ndGg8MikmJnMuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGFbdF09ITAsbygoZnVuY3Rpb24oKXthW3RdJiYocj9lLmFwcGx5KG51bGwscik6ZS5jYWxsKG51bGwpLG4uY2xlYXJJbW1lZGlhdGUodCkpfSkpLHR9LG4uY2xlYXJJbW1lZGlhdGU9ImZ1bmN0aW9uIj09dHlwZW9mIHI/cjpmdW5jdGlvbihlKXtkZWxldGUgYVtlXX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoInRpbWVycyIpLnNldEltbWVkaWF0ZSxlKCJ0aW1lcnMiKS5jbGVhckltbWVkaWF0ZSl9LHsicHJvY2Vzcy9icm93c2VyLmpzIjo5MSx0aW1lcnM6OTl9XSwxMDA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJwdW55Y29kZSIpO2Z1bmN0aW9uIG8oKXt0aGlzLnByb3RvY29sPW51bGwsdGhpcy5zbGFzaGVzPW51bGwsdGhpcy5hdXRoPW51bGwsdGhpcy5ob3N0PW51bGwsdGhpcy5wb3J0PW51bGwsdGhpcy5ob3N0bmFtZT1udWxsLHRoaXMuaGFzaD1udWxsLHRoaXMuc2VhcmNoPW51bGwsdGhpcy5xdWVyeT1udWxsLHRoaXMucGF0aG5hbWU9bnVsbCx0aGlzLnBhdGg9bnVsbCx0aGlzLmhyZWY9bnVsbH1uLnBhcnNlPXYsbi5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYoZSwhMSwhMCkucmVzb2x2ZSh0KX0sbi5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dihlLCExLCEwKS5yZXNvbHZlT2JqZWN0KHQpOnR9LG4uZm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiB5KGUpJiYoZT12KGUpKSxlIGluc3RhbmNlb2Ygbz9lLmZvcm1hdCgpOm8ucHJvdG90eXBlLmZvcm1hdC5jYWxsKGUpfSxuLlVybD1vO3ZhciBpPS9eKFthLXowLTkuKy1dKzopL2kscz0vOlswLTldKiQvLGE9WyJ7IiwifSIsInwiLCJcXCIsIl4iLCJgIl0uY29uY2F0KFsiPCIsIj4iLCciJywiYCIsIiAiLCJcciIsIlxuIiwiXHQiXSksYz1bIiciXS5jb25jYXQoYSksdT1bIiUiLCIvIiwiPyIsIjsiLCIjIl0uY29uY2F0KGMpLGw9WyIvIiwiPyIsIiMiXSxwPS9eW2EtejAtOUEtWl8tXXswLDYzfSQvLGQ9L14oW2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8saD17amF2YXNjcmlwdDohMCwiamF2YXNjcmlwdDoiOiEwfSxnPXtqYXZhc2NyaXB0OiEwLCJqYXZhc2NyaXB0OiI6ITB9LGY9e2h0dHA6ITAsaHR0cHM6ITAsZnRwOiEwLGdvcGhlcjohMCxmaWxlOiEwLCJodHRwOiI6ITAsImh0dHBzOiI6ITAsImZ0cDoiOiEwLCJnb3BoZXI6IjohMCwiZmlsZToiOiEwfSxtPWUoInF1ZXJ5c3RyaW5nIik7ZnVuY3Rpb24gdihlLHQsbil7aWYoZSYmYihlKSYmZSBpbnN0YW5jZW9mIG8pcmV0dXJuIGU7dmFyIHI9bmV3IG87cmV0dXJuIHIucGFyc2UoZSx0LG4pLHJ9ZnVuY3Rpb24geShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9ZnVuY3Rpb24gYihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIG51bGw9PT1lfW8ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCxuKXtpZigheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90ICIrdHlwZW9mIGUpO3ZhciBvPWU7bz1vLnRyaW0oKTt2YXIgcz1pLmV4ZWMobyk7aWYocyl7dmFyIGE9KHM9c1swXSkudG9Mb3dlckNhc2UoKTt0aGlzLnByb3RvY29sPWEsbz1vLnN1YnN0cihzLmxlbmd0aCl9aWYobnx8c3x8by5tYXRjaCgvXlwvXC9bXkBcL10rQFteQFwvXSsvKSl7dmFyIHY9Ii8vIj09PW8uc3Vic3RyKDAsMik7IXZ8fHMmJmdbc118fChvPW8uc3Vic3RyKDIpLHRoaXMuc2xhc2hlcz0hMCl9aWYoIWdbc10mJih2fHxzJiYhZltzXSkpe2Zvcih2YXIgYixTLEM9LTEsRT0wO0U8bC5sZW5ndGg7RSsrKS0xIT09KEk9by5pbmRleE9mKGxbRV0pKSYmKC0xPT09Q3x8STxDKSYmKEM9SSk7Zm9yKC0xIT09KFM9LTE9PT1DP28ubGFzdEluZGV4T2YoIkAiKTpvLmxhc3RJbmRleE9mKCJAIixDKSkmJihiPW8uc2xpY2UoMCxTKSxvPW8uc2xpY2UoUysxKSx0aGlzLmF1dGg9ZGVjb2RlVVJJQ29tcG9uZW50KGIpKSxDPS0xLEU9MDtFPHUubGVuZ3RoO0UrKyl7dmFyIEk7LTEhPT0oST1vLmluZGV4T2YodVtFXSkpJiYoLTE9PT1DfHxJPEMpJiYoQz1JKX0tMT09PUMmJihDPW8ubGVuZ3RoKSx0aGlzLmhvc3Q9by5zbGljZSgwLEMpLG89by5zbGljZShDKSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8IiI7dmFyIFQ9IlsiPT09dGhpcy5ob3N0bmFtZVswXSYmIl0iPT09dGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aC0xXTtpZighVClmb3IodmFyIEE9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXC4vKSx3PShFPTAsQS5sZW5ndGgpO0U8dztFKyspe3ZhciBfPUFbRV07aWYoXyYmIV8ubWF0Y2gocCkpe2Zvcih2YXIgUj0iIixPPTAsTD1fLmxlbmd0aDtPPEw7TysrKV8uY2hhckNvZGVBdChPKT4xMjc/Uis9IngiOlIrPV9bT107aWYoIVIubWF0Y2gocCkpe3ZhciBrPUEuc2xpY2UoMCxFKSxQPUEuc2xpY2UoRSsxKSxOPV8ubWF0Y2goZCk7TiYmKGsucHVzaChOWzFdKSxQLnVuc2hpZnQoTlsyXSkpLFAubGVuZ3RoJiYobz0iLyIrUC5qb2luKCIuIikrbyksdGhpcy5ob3N0bmFtZT1rLmpvaW4oIi4iKTticmVha319fWlmKHRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPSIiOnRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLCFUKXt2YXIgRD10aGlzLmhvc3RuYW1lLnNwbGl0KCIuIikseD1bXTtmb3IoRT0wO0U8RC5sZW5ndGg7KytFKXt2YXIgTT1EW0VdO3gucHVzaChNLm1hdGNoKC9bXkEtWmEtejAtOV8tXS8pPyJ4bi0tIityLmVuY29kZShNKTpNKX10aGlzLmhvc3RuYW1lPXguam9pbigiLiIpfXZhciBVPXRoaXMucG9ydD8iOiIrdGhpcy5wb3J0OiIiLEY9dGhpcy5ob3N0bmFtZXx8IiI7dGhpcy5ob3N0PUYrVSx0aGlzLmhyZWYrPXRoaXMuaG9zdCxUJiYodGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnN1YnN0cigxLHRoaXMuaG9zdG5hbWUubGVuZ3RoLTIpLCIvIiE9PW9bMF0mJihvPSIvIitvKSl9aWYoIWhbYV0pZm9yKEU9MCx3PWMubGVuZ3RoO0U8dztFKyspe3ZhciBqPWNbRV0scT1lbmNvZGVVUklDb21wb25lbnQoaik7cT09PWomJihxPWVzY2FwZShqKSksbz1vLnNwbGl0KGopLmpvaW4ocSl9dmFyIEI9by5pbmRleE9mKCIjIik7LTEhPT1CJiYodGhpcy5oYXNoPW8uc3Vic3RyKEIpLG89by5zbGljZSgwLEIpKTt2YXIgRz1vLmluZGV4T2YoIj8iKTtyZXR1cm4tMSE9PUc/KHRoaXMuc2VhcmNoPW8uc3Vic3RyKEcpLHRoaXMucXVlcnk9by5zdWJzdHIoRysxKSx0JiYodGhpcy5xdWVyeT1tLnBhcnNlKHRoaXMucXVlcnkpKSxvPW8uc2xpY2UoMCxHKSk6dCYmKHRoaXMuc2VhcmNoPSIiLHRoaXMucXVlcnk9e30pLG8mJih0aGlzLnBhdGhuYW1lPW8pLGZbYV0mJnRoaXMuaG9zdG5hbWUmJiF0aGlzLnBhdGhuYW1lJiYodGhpcy5wYXRobmFtZT0iLyIpLCh0aGlzLnBhdGhuYW1lfHx0aGlzLnNlYXJjaCkmJihVPXRoaXMucGF0aG5hbWV8fCIiLE09dGhpcy5zZWFyY2h8fCIiLHRoaXMucGF0aD1VK00pLHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LG8ucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYXV0aHx8IiI7ZSYmKGU9KGU9ZW5jb2RlVVJJQ29tcG9uZW50KGUpKS5yZXBsYWNlKC8lM0EvaSwiOiIpLGUrPSJAIik7dmFyIHQ9dGhpcy5wcm90b2NvbHx8IiIsbj10aGlzLnBhdGhuYW1lfHwiIixyPXRoaXMuaGFzaHx8IiIsbz0hMSxpPSIiO3RoaXMuaG9zdD9vPWUrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihvPWUrKC0xPT09dGhpcy5ob3N0bmFtZS5pbmRleE9mKCI6Iik/dGhpcy5ob3N0bmFtZToiWyIrdGhpcy5ob3N0bmFtZSsiXSIpLHRoaXMucG9ydCYmKG8rPSI6Iit0aGlzLnBvcnQpKSx0aGlzLnF1ZXJ5JiZiKHRoaXMucXVlcnkpJiZPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgmJihpPW0uc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgcz10aGlzLnNlYXJjaHx8aSYmIj8iK2l8fCIiO3JldHVybiB0JiYiOiIhPT10LnN1YnN0cigtMSkmJih0Kz0iOiIpLHRoaXMuc2xhc2hlc3x8KCF0fHxmW3RdKSYmITEhPT1vPyhvPSIvLyIrKG98fCIiKSxuJiYiLyIhPT1uLmNoYXJBdCgwKSYmKG49Ii8iK24pKTpvfHwobz0iIiksciYmIiMiIT09ci5jaGFyQXQoMCkmJihyPSIjIityKSxzJiYiPyIhPT1zLmNoYXJBdCgwKSYmKHM9Ij8iK3MpLHQrbysobj1uLnJlcGxhY2UoL1s/I10vZywoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pKSkrKHM9cy5yZXBsYWNlKCIjIiwiJTIzIikpK3J9LG8ucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh2KGUsITEsITApKS5mb3JtYXQoKX0sby5wcm90b3R5cGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbihlKXtpZih5KGUpKXt2YXIgdD1uZXcgbzt0LnBhcnNlKGUsITEsITApLGU9dH12YXIgbj1uZXcgbztpZihPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPXRoaXNbZV19KSx0aGlzKSxuLmhhc2g9ZS5oYXNoLCIiPT09ZS5ocmVmKXJldHVybiBuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKGUuc2xhc2hlcyYmIWUucHJvdG9jb2wpcmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJwcm90b2NvbCIhPT10JiYoblt0XT1lW3RdKX0pKSxmW24ucHJvdG9jb2xdJiZuLmhvc3RuYW1lJiYhbi5wYXRobmFtZSYmKG4ucGF0aD1uLnBhdGhuYW1lPSIvIiksbi5ocmVmPW4uZm9ybWF0KCksbjtpZihlLnByb3RvY29sJiZlLnByb3RvY29sIT09bi5wcm90b2NvbCl7aWYoIWZbZS5wcm90b2NvbF0pcmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF09ZVt0XX0pKSxuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKG4ucHJvdG9jb2w9ZS5wcm90b2NvbCxlLmhvc3R8fGdbZS5wcm90b2NvbF0pbi5wYXRobmFtZT1lLnBhdGhuYW1lO2Vsc2V7Zm9yKHZhciByPShlLnBhdGhuYW1lfHwiIikuc3BsaXQoIi8iKTtyLmxlbmd0aCYmIShlLmhvc3Q9ci5zaGlmdCgpKTspO2UuaG9zdHx8KGUuaG9zdD0iIiksZS5ob3N0bmFtZXx8KGUuaG9zdG5hbWU9IiIpLCIiIT09clswXSYmci51bnNoaWZ0KCIiKSxyLmxlbmd0aDwyJiZyLnVuc2hpZnQoIiIpLG4ucGF0aG5hbWU9ci5qb2luKCIvIil9aWYobi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LG4uaG9zdD1lLmhvc3R8fCIiLG4uYXV0aD1lLmF1dGgsbi5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3Qsbi5wb3J0PWUucG9ydCxuLnBhdGhuYW1lfHxuLnNlYXJjaCl7dmFyIGk9bi5wYXRobmFtZXx8IiIscz1uLnNlYXJjaHx8IiI7bi5wYXRoPWkrc31yZXR1cm4gbi5zbGFzaGVzPW4uc2xhc2hlc3x8ZS5zbGFzaGVzLG4uaHJlZj1uLmZvcm1hdCgpLG59dmFyIGE9bi5wYXRobmFtZSYmIi8iPT09bi5wYXRobmFtZS5jaGFyQXQoMCksYz1lLmhvc3R8fGUucGF0aG5hbWUmJiIvIj09PWUucGF0aG5hbWUuY2hhckF0KDApLHU9Y3x8YXx8bi5ob3N0JiZlLnBhdGhuYW1lLGw9dSxwPW4ucGF0aG5hbWUmJm4ucGF0aG5hbWUuc3BsaXQoIi8iKXx8W10sZD0ocj1lLnBhdGhuYW1lJiZlLnBhdGhuYW1lLnNwbGl0KCIvIil8fFtdLG4ucHJvdG9jb2wmJiFmW24ucHJvdG9jb2xdKTtpZihkJiYobi5ob3N0bmFtZT0iIixuLnBvcnQ9bnVsbCxuLmhvc3QmJigiIj09PXBbMF0/cFswXT1uLmhvc3Q6cC51bnNoaWZ0KG4uaG9zdCkpLG4uaG9zdD0iIixlLnByb3RvY29sJiYoZS5ob3N0bmFtZT1udWxsLGUucG9ydD1udWxsLGUuaG9zdCYmKCIiPT09clswXT9yWzBdPWUuaG9zdDpyLnVuc2hpZnQoZS5ob3N0KSksZS5ob3N0PW51bGwpLHU9dSYmKCIiPT09clswXXx8IiI9PT1wWzBdKSksYyluLmhvc3Q9ZS5ob3N0fHwiIj09PWUuaG9zdD9lLmhvc3Q6bi5ob3N0LG4uaG9zdG5hbWU9ZS5ob3N0bmFtZXx8IiI9PT1lLmhvc3RuYW1lP2UuaG9zdG5hbWU6bi5ob3N0bmFtZSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnkscD1yO2Vsc2UgaWYoci5sZW5ndGgpcHx8KHA9W10pLHAucG9wKCkscD1wLmNvbmNhdChyKSxuLnNlYXJjaD1lLnNlYXJjaCxuLnF1ZXJ5PWUucXVlcnk7ZWxzZSBpZihudWxsIT1lLnNlYXJjaClyZXR1cm4gZCYmKG4uaG9zdG5hbWU9bi5ob3N0PXAuc2hpZnQoKSwoQz0hIShuLmhvc3QmJm4uaG9zdC5pbmRleE9mKCJAIik+MCkmJm4uaG9zdC5zcGxpdCgiQCIpKSYmKG4uYXV0aD1DLnNoaWZ0KCksbi5ob3N0PW4uaG9zdG5hbWU9Qy5zaGlmdCgpKSksbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LFMobi5wYXRobmFtZSkmJlMobi5zZWFyY2gpfHwobi5wYXRoPShuLnBhdGhuYW1lP24ucGF0aG5hbWU6IiIpKyhuLnNlYXJjaD9uLnNlYXJjaDoiIikpLG4uaHJlZj1uLmZvcm1hdCgpLG47aWYoIXAubGVuZ3RoKXJldHVybiBuLnBhdGhuYW1lPW51bGwsbi5zZWFyY2g/bi5wYXRoPSIvIituLnNlYXJjaDpuLnBhdGg9bnVsbCxuLmhyZWY9bi5mb3JtYXQoKSxuO2Zvcih2YXIgaD1wLnNsaWNlKC0xKVswXSxtPShuLmhvc3R8fGUuaG9zdCkmJigiLiI9PT1ofHwiLi4iPT09aCl8fCIiPT09aCx2PTAsYj1wLmxlbmd0aDtiPj0wO2ItLSkiLiI9PShoPXBbYl0pP3Auc3BsaWNlKGIsMSk6Ii4uIj09PWg/KHAuc3BsaWNlKGIsMSksdisrKTp2JiYocC5zcGxpY2UoYiwxKSx2LS0pO2lmKCF1JiYhbClmb3IoO3YtLTt2KXAudW5zaGlmdCgiLi4iKTshdXx8IiI9PT1wWzBdfHxwWzBdJiYiLyI9PT1wWzBdLmNoYXJBdCgwKXx8cC51bnNoaWZ0KCIiKSxtJiYiLyIhPT1wLmpvaW4oIi8iKS5zdWJzdHIoLTEpJiZwLnB1c2goIiIpO3ZhciBDLEU9IiI9PT1wWzBdfHxwWzBdJiYiLyI9PT1wWzBdLmNoYXJBdCgwKTtyZXR1cm4gZCYmKG4uaG9zdG5hbWU9bi5ob3N0PUU/IiI6cC5sZW5ndGg/cC5zaGlmdCgpOiIiLChDPSEhKG4uaG9zdCYmbi5ob3N0LmluZGV4T2YoIkAiKT4wKSYmbi5ob3N0LnNwbGl0KCJAIikpJiYobi5hdXRoPUMuc2hpZnQoKSxuLmhvc3Q9bi5ob3N0bmFtZT1DLnNoaWZ0KCkpKSwodT11fHxuLmhvc3QmJnAubGVuZ3RoKSYmIUUmJnAudW5zaGlmdCgiIikscC5sZW5ndGg/bi5wYXRobmFtZT1wLmpvaW4oIi8iKToobi5wYXRobmFtZT1udWxsLG4ucGF0aD1udWxsKSxTKG4ucGF0aG5hbWUpJiZTKG4uc2VhcmNoKXx8KG4ucGF0aD0obi5wYXRobmFtZT9uLnBhdGhuYW1lOiIiKSsobi5zZWFyY2g/bi5zZWFyY2g6IiIpKSxuLmF1dGg9ZS5hdXRofHxuLmF1dGgsbi5zbGFzaGVzPW4uc2xhc2hlc3x8ZS5zbGFzaGVzLG4uaHJlZj1uLmZvcm1hdCgpLG59LG8ucHJvdG90eXBlLnBhcnNlSG9zdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaG9zdCx0PXMuZXhlYyhlKTt0JiYoIjoiIT09KHQ9dFswXSkmJih0aGlzLnBvcnQ9dC5zdWJzdHIoMSkpLGU9ZS5zdWJzdHIoMCxlLmxlbmd0aC10Lmxlbmd0aCkpLGUmJih0aGlzLmhvc3RuYW1lPWUpfX0se3B1bnljb2RlOjkyLHF1ZXJ5c3RyaW5nOjk1fV0sMTAxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO2Zvcih2YXIgcj1bXSxvPTA7bzwyNTY7KytvKXJbb109KG8rMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO3ZhciBpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8MCxvPXI7cmV0dXJuW29bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSwiLSIsb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV1dLmpvaW4oIiIpfTtuLmRlZmF1bHQ9aX0se31dLDEwMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInYxIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2MyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInY1Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kZWZhdWx0fX0pO3ZhciByPWEoZSgiLi92MS5qcyIpKSxvPWEoZSgiLi92My5qcyIpKSxpPWEoZSgiLi92NC5qcyIpKSxzPWEoZSgiLi92NS5qcyIpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LHsiLi92MS5qcyI6MTA2LCIuL3YzLmpzIjoxMDcsIi4vdjQuanMiOjEwOSwiLi92NS5qcyI6MTEwfV0sMTAzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIG8oZSx0LG4sbyxpLHMpe3JldHVybiByKChhPXIocih0LGUpLHIobyxzKSkpPDwoYz1pKXxhPj4+MzItYyxuKTt2YXIgYSxjfWZ1bmN0aW9uIGkoZSx0LG4scixpLHMsYSl7cmV0dXJuIG8odCZufH50JnIsZSx0LGkscyxhKX1mdW5jdGlvbiBzKGUsdCxuLHIsaSxzLGEpe3JldHVybiBvKHQmcnxuJn5yLGUsdCxpLHMsYSl9ZnVuY3Rpb24gYShlLHQsbixyLGkscyxhKXtyZXR1cm4gbyh0Xm5ecixlLHQsaSxzLGEpfWZ1bmN0aW9uIGMoZSx0LG4scixpLHMsYSl7cmV0dXJuIG8obl4odHx+ciksZSx0LGkscyxhKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgdT1mdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciB0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1uZXcgQXJyYXkodC5sZW5ndGgpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1bXSxpPTMyKmUubGVuZ3RoLHM9IjAxMjM0NTY3ODlhYmNkZWYiO2Zvcih0PTA7dDxpO3QrPTgpbj1lW3Q+PjVdPj4+dCUzMiYyNTUscj1wYXJzZUludChzLmNoYXJBdChuPj4+NCYxNSkrcy5jaGFyQXQoMTUmbiksMTYpLG8ucHVzaChyKTtyZXR1cm4gb30oZnVuY3Rpb24oZSx0KXt2YXIgbixvLHUsbCxwO2VbdD4+NV18PTEyODw8dCUzMixlWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7dmFyIGQ9MTczMjU4NDE5MyxoPS0yNzE3MzM4NzksZz0tMTczMjU4NDE5NCxmPTI3MTczMzg3ODtmb3Iobj0wO248ZS5sZW5ndGg7bis9MTYpbz1kLHU9aCxsPWcscD1mLGQ9aShkLGgsZyxmLGVbbl0sNywtNjgwODc2OTM2KSxmPWkoZixkLGgsZyxlW24rMV0sMTIsLTM4OTU2NDU4NiksZz1pKGcsZixkLGgsZVtuKzJdLDE3LDYwNjEwNTgxOSksaD1pKGgsZyxmLGQsZVtuKzNdLDIyLC0xMDQ0NTI1MzMwKSxkPWkoZCxoLGcsZixlW24rNF0sNywtMTc2NDE4ODk3KSxmPWkoZixkLGgsZyxlW24rNV0sMTIsMTIwMDA4MDQyNiksZz1pKGcsZixkLGgsZVtuKzZdLDE3LC0xNDczMjMxMzQxKSxoPWkoaCxnLGYsZCxlW24rN10sMjIsLTQ1NzA1OTgzKSxkPWkoZCxoLGcsZixlW24rOF0sNywxNzcwMDM1NDE2KSxmPWkoZixkLGgsZyxlW24rOV0sMTIsLTE5NTg0MTQ0MTcpLGc9aShnLGYsZCxoLGVbbisxMF0sMTcsLTQyMDYzKSxoPWkoaCxnLGYsZCxlW24rMTFdLDIyLC0xOTkwNDA0MTYyKSxkPWkoZCxoLGcsZixlW24rMTJdLDcsMTgwNDYwMzY4MiksZj1pKGYsZCxoLGcsZVtuKzEzXSwxMiwtNDAzNDExMDEpLGc9aShnLGYsZCxoLGVbbisxNF0sMTcsLTE1MDIwMDIyOTApLGQ9cyhkLGg9aShoLGcsZixkLGVbbisxNV0sMjIsMTIzNjUzNTMyOSksZyxmLGVbbisxXSw1LC0xNjU3OTY1MTApLGY9cyhmLGQsaCxnLGVbbis2XSw5LC0xMDY5NTAxNjMyKSxnPXMoZyxmLGQsaCxlW24rMTFdLDE0LDY0MzcxNzcxMyksaD1zKGgsZyxmLGQsZVtuXSwyMCwtMzczODk3MzAyKSxkPXMoZCxoLGcsZixlW24rNV0sNSwtNzAxNTU4NjkxKSxmPXMoZixkLGgsZyxlW24rMTBdLDksMzgwMTYwODMpLGc9cyhnLGYsZCxoLGVbbisxNV0sMTQsLTY2MDQ3ODMzNSksaD1zKGgsZyxmLGQsZVtuKzRdLDIwLC00MDU1Mzc4NDgpLGQ9cyhkLGgsZyxmLGVbbis5XSw1LDU2ODQ0NjQzOCksZj1zKGYsZCxoLGcsZVtuKzE0XSw5LC0xMDE5ODAzNjkwKSxnPXMoZyxmLGQsaCxlW24rM10sMTQsLTE4NzM2Mzk2MSksaD1zKGgsZyxmLGQsZVtuKzhdLDIwLDExNjM1MzE1MDEpLGQ9cyhkLGgsZyxmLGVbbisxM10sNSwtMTQ0NDY4MTQ2NyksZj1zKGYsZCxoLGcsZVtuKzJdLDksLTUxNDAzNzg0KSxnPXMoZyxmLGQsaCxlW24rN10sMTQsMTczNTMyODQ3MyksZD1hKGQsaD1zKGgsZyxmLGQsZVtuKzEyXSwyMCwtMTkyNjYwNzczNCksZyxmLGVbbis1XSw0LC0zNzg1NTgpLGY9YShmLGQsaCxnLGVbbis4XSwxMSwtMjAyMjU3NDQ2MyksZz1hKGcsZixkLGgsZVtuKzExXSwxNiwxODM5MDMwNTYyKSxoPWEoaCxnLGYsZCxlW24rMTRdLDIzLC0zNTMwOTU1NiksZD1hKGQsaCxnLGYsZVtuKzFdLDQsLTE1MzA5OTIwNjApLGY9YShmLGQsaCxnLGVbbis0XSwxMSwxMjcyODkzMzUzKSxnPWEoZyxmLGQsaCxlW24rN10sMTYsLTE1NTQ5NzYzMiksaD1hKGgsZyxmLGQsZVtuKzEwXSwyMywtMTA5NDczMDY0MCksZD1hKGQsaCxnLGYsZVtuKzEzXSw0LDY4MTI3OTE3NCksZj1hKGYsZCxoLGcsZVtuXSwxMSwtMzU4NTM3MjIyKSxnPWEoZyxmLGQsaCxlW24rM10sMTYsLTcyMjUyMTk3OSksaD1hKGgsZyxmLGQsZVtuKzZdLDIzLDc2MDI5MTg5KSxkPWEoZCxoLGcsZixlW24rOV0sNCwtNjQwMzY0NDg3KSxmPWEoZixkLGgsZyxlW24rMTJdLDExLC00MjE4MTU4MzUpLGc9YShnLGYsZCxoLGVbbisxNV0sMTYsNTMwNzQyNTIwKSxkPWMoZCxoPWEoaCxnLGYsZCxlW24rMl0sMjMsLTk5NTMzODY1MSksZyxmLGVbbl0sNiwtMTk4NjMwODQ0KSxmPWMoZixkLGgsZyxlW24rN10sMTAsMTEyNjg5MTQxNSksZz1jKGcsZixkLGgsZVtuKzE0XSwxNSwtMTQxNjM1NDkwNSksaD1jKGgsZyxmLGQsZVtuKzVdLDIxLC01NzQzNDA1NSksZD1jKGQsaCxnLGYsZVtuKzEyXSw2LDE3MDA0ODU1NzEpLGY9YyhmLGQsaCxnLGVbbiszXSwxMCwtMTg5NDk4NjYwNiksZz1jKGcsZixkLGgsZVtuKzEwXSwxNSwtMTA1MTUyMyksaD1jKGgsZyxmLGQsZVtuKzFdLDIxLC0yMDU0OTIyNzk5KSxkPWMoZCxoLGcsZixlW24rOF0sNiwxODczMzEzMzU5KSxmPWMoZixkLGgsZyxlW24rMTVdLDEwLC0zMDYxMTc0NCksZz1jKGcsZixkLGgsZVtuKzZdLDE1LC0xNTYwMTk4MzgwKSxoPWMoaCxnLGYsZCxlW24rMTNdLDIxLDEzMDkxNTE2NDkpLGQ9YyhkLGgsZyxmLGVbbis0XSw2LC0xNDU1MjMwNzApLGY9YyhmLGQsaCxnLGVbbisxMV0sMTAsLTExMjAyMTAzNzkpLGc9YyhnLGYsZCxoLGVbbisyXSwxNSw3MTg3ODcyNTkpLGg9YyhoLGcsZixkLGVbbis5XSwyMSwtMzQzNDg1NTUxKSxkPXIoZCxvKSxoPXIoaCx1KSxnPXIoZyxsKSxmPXIoZixwKTtyZXR1cm5bZCxoLGcsZl19KGZ1bmN0aW9uKGUpe3ZhciB0LG49W107Zm9yKG5bKGUubGVuZ3RoPj4yKS0xXT12b2lkIDAsdD0wO3Q8bi5sZW5ndGg7dCs9MSluW3RdPTA7dmFyIHI9OCplLmxlbmd0aDtmb3IodD0wO3Q8cjt0Kz04KW5bdD4+NV18PSgyNTUmZVt0LzhdKTw8dCUzMjtyZXR1cm4gbn0oZSksOCplLmxlbmd0aCkpfTtuLmRlZmF1bHQ9dX0se31dLDEwNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PWZ1bmN0aW9uKCl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiByKG8pfTt2YXIgcj0idW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbXNDcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSxvPW5ldyBVaW50OEFycmF5KDE2KX0se31dLDEwNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxuLHIpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHQmbl5+dCZyO2Nhc2UgMTpjYXNlIDM6cmV0dXJuIHRebl5yO2Nhc2UgMjpyZXR1cm4gdCZuXnQmcl5uJnJ9fWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml0sbj1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIGk9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKTtlPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspZVtzXT1pLmNoYXJDb2RlQXQocyl9ZS5wdXNoKDEyOCk7dmFyIGE9ZS5sZW5ndGgvNCsyLGM9TWF0aC5jZWlsKGEvMTYpLHU9bmV3IEFycmF5KGMpO2ZvcihzPTA7czxjO3MrKyl7dVtzXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgbD0wO2w8MTY7bCsrKXVbc11bbF09ZVs2NCpzKzQqbF08PDI0fGVbNjQqcys0KmwrMV08PDE2fGVbNjQqcys0KmwrMl08PDh8ZVs2NCpzKzQqbCszXX1mb3IodVtjLTFdWzE0XT04KihlLmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSx1W2MtMV1bMTRdPU1hdGguZmxvb3IodVtjLTFdWzE0XSksdVtjLTFdWzE1XT04KihlLmxlbmd0aC0xKSY0Mjk0OTY3Mjk1LHM9MDtzPGM7cysrKXtmb3IodmFyIHA9bmV3IEFycmF5KDgwKSxkPTA7ZDwxNjtkKyspcFtkXT11W3NdW2RdO2ZvcihkPTE2O2Q8ODA7ZCsrKXBbZF09byhwW2QtM11ecFtkLThdXnBbZC0xNF1ecFtkLTE2XSwxKTt2YXIgaD1uWzBdLGc9blsxXSxmPW5bMl0sbT1uWzNdLHY9bls0XTtmb3IoZD0wO2Q8ODA7ZCsrKXt2YXIgeT1NYXRoLmZsb29yKGQvMjApLGI9byhoLDUpK3IoeSxnLGYsbSkrdit0W3ldK3BbZF0+Pj4wO3Y9bSxtPWYsZj1vKGcsMzApPj4+MCxnPWgsaD1ifW5bMF09blswXStoPj4+MCxuWzFdPW5bMV0rZz4+PjAsblsyXT1uWzJdK2Y+Pj4wLG5bM109blszXSttPj4+MCxuWzRdPW5bNF0rdj4+PjB9cmV0dXJuW25bMF0+PjI0JjI1NSxuWzBdPj4xNiYyNTUsblswXT4+OCYyNTUsMjU1Jm5bMF0sblsxXT4+MjQmMjU1LG5bMV0+PjE2JjI1NSxuWzFdPj44JjI1NSwyNTUmblsxXSxuWzJdPj4yNCYyNTUsblsyXT4+MTYmMjU1LG5bMl0+PjgmMjU1LDI1NSZuWzJdLG5bM10+PjI0JjI1NSxuWzNdPj4xNiYyNTUsblszXT4+OCYyNTUsMjU1Jm5bM10sbls0XT4+MjQmMjU1LG5bNF0+PjE2JjI1NSxuWzRdPj44JjI1NSwyNTUmbls0XV19O24uZGVmYXVsdD1pfSx7fV0sMTA2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByLG8saT1hKGUoIi4vcm5nLmpzIikpLHM9YShlKCIuL2J5dGVzVG9VdWlkLmpzIikpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBjPTAsdT0wLGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXQmJm58fDAsbD10fHxbXSxwPShlPWV8fHt9KS5ub2RlfHxyLGQ9dm9pZCAwIT09ZS5jbG9ja3NlcT9lLmNsb2Nrc2VxOm87aWYobnVsbD09cHx8bnVsbD09ZCl7dmFyIGg9ZS5yYW5kb218fChlLnJuZ3x8aS5kZWZhdWx0KSgpO251bGw9PXAmJihwPXI9WzF8aFswXSxoWzFdLGhbMl0saFszXSxoWzRdLGhbNV1dKSxudWxsPT1kJiYoZD1vPTE2MzgzJihoWzZdPDw4fGhbN10pKX12YXIgZz12b2lkIDAhPT1lLm1zZWNzP2UubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZj12b2lkIDAhPT1lLm5zZWNzP2UubnNlY3M6dSsxLG09Zy1jKyhmLXUpLzFlNDtpZihtPDAmJnZvaWQgMD09PWUuY2xvY2tzZXEmJihkPWQrMSYxNjM4MyksKG08MHx8Zz5jKSYmdm9pZCAwPT09ZS5uc2VjcyYmKGY9MCksZj49MWU0KXRocm93IG5ldyBFcnJvcigidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMiKTtjPWcsdT1mLG89ZDt2YXIgdj0oMWU0KigyNjg0MzU0NTUmKGcrPTEyMjE5MjkyOGU1KSkrZiklNDI5NDk2NzI5NjtsW2ErK109dj4+PjI0JjI1NSxsW2ErK109dj4+PjE2JjI1NSxsW2ErK109dj4+PjgmMjU1LGxbYSsrXT0yNTUmdjt2YXIgeT1nLzQyOTQ5NjcyOTYqMWU0JjI2ODQzNTQ1NTtsW2ErK109eT4+PjgmMjU1LGxbYSsrXT0yNTUmeSxsW2ErK109eT4+PjI0JjE1fDE2LGxbYSsrXT15Pj4+MTYmMjU1LGxbYSsrXT1kPj4+OHwxMjgsbFthKytdPTI1NSZkO2Zvcih2YXIgYj0wO2I8NjsrK2IpbFthK2JdPXBbYl07cmV0dXJuIHR8fCgwLHMuZGVmYXVsdCkobCl9O24uZGVmYXVsdD1sfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMSwiLi9ybmcuanMiOjEwNH1dLDEwNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vdjM1LmpzIikpLG89aShlKCIuL21kNS5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz0oMCxyLmRlZmF1bHQpKCJ2MyIsNDgsby5kZWZhdWx0KTtuLmRlZmF1bHQ9c30seyIuL21kNS5qcyI6MTAzLCIuL3YzNS5qcyI6MTA4fV0sMTA4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUscixpLHMpe3ZhciBhPWkmJnN8fDA7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1mdW5jdGlvbihlKXtlPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKXRbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiB0fShlKSksInN0cmluZyI9PXR5cGVvZiByJiYocj1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5yZXBsYWNlKC9bYS1mQS1GMC05XXsyfS9nLChmdW5jdGlvbihlKXt0LnB1c2gocGFyc2VJbnQoZSwxNikpfSkpLHR9KHIpKSwhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBUeXBlRXJyb3IoInZhbHVlIG11c3QgYmUgYW4gYXJyYXkgb2YgYnl0ZXMiKTtpZighQXJyYXkuaXNBcnJheShyKXx8MTYhPT1yLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoIm5hbWVzcGFjZSBtdXN0IGJlIHV1aWQgc3RyaW5nIG9yIGFuIEFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIik7dmFyIGM9bihyLmNvbmNhdChlKSk7aWYoY1s2XT0xNSZjWzZdfHQsY1s4XT02MyZjWzhdfDEyOCxpKWZvcih2YXIgdT0wO3U8MTY7Kyt1KWlbYSt1XT1jW3VdO3JldHVybiBpfHwoMCxvLmRlZmF1bHQpKGMpfTt0cnl7ci5uYW1lPWV9Y2F0Y2goZSl7fXJldHVybiByLkROUz1pLHIuVVJMPXMscn0sbi5VUkw9bi5ETlM9dm9pZCAwO3ZhciByLG89KHI9ZSgiLi9ieXRlc1RvVXVpZC5qcyIpKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07Y29uc3QgaT0iNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtuLkROUz1pO2NvbnN0IHM9IjZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCI7bi5VUkw9c30seyIuL2J5dGVzVG9VdWlkLmpzIjoxMDF9XSwxMDk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHI9aShlKCIuL3JuZy5qcyIpKSxvPWkoZSgiLi9ieXRlc1RvVXVpZC5qcyIpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dCYmbnx8MDsic3RyaW5nIj09dHlwZW9mIGUmJih0PSJiaW5hcnkiPT09ZT9uZXcgQXJyYXkoMTYpOm51bGwsZT1udWxsKTt2YXIgcz0oZT1lfHx7fSkucmFuZG9tfHwoZS5ybmd8fHIuZGVmYXVsdCkoKTtpZihzWzZdPTE1JnNbNl18NjQsc1s4XT02MyZzWzhdfDEyOCx0KWZvcih2YXIgYT0wO2E8MTY7KythKXRbaSthXT1zW2FdO3JldHVybiB0fHwoMCxvLmRlZmF1bHQpKHMpfTtuLmRlZmF1bHQ9c30seyIuL2J5dGVzVG9VdWlkLmpzIjoxMDEsIi4vcm5nLmpzIjoxMDR9XSwxMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHI9aShlKCIuL3YzNS5qcyIpKSxvPWkoZSgiLi9zaGExLmpzIikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBzPSgwLHIuZGVmYXVsdCkoInY1Iiw4MCxvLmRlZmF1bHQpO24uZGVmYXVsdD1zfSx7Ii4vc2hhMS5qcyI6MTA1LCIuL3YzNS5qcyI6MTA4fV0sMTExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1lKCIuL3V0aWxzL0xSVSIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZvaWQgMD09PWUmJihlPTFlMyksdGhpcy5tYXhTaXplPWUsdGhpcy5jYWNoZT1uZXcgci5MUlVDYWNoZShlKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGUubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LG4pe3ZhciByPSJzdHJpbmciIT10eXBlb2YgdD9lLmdldEtleVN0cmluZyh0KTp0LG89dGhpcy5wb3B1bGF0ZVZhbHVlKG4pO3RoaXMuY2FjaGUucHV0KHIsbyl9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgbj0ic3RyaW5nIiE9dHlwZW9mIHQ/ZS5nZXRLZXlTdHJpbmcodCk6dCxyPURhdGUubm93KCksbz10aGlzLmNhY2hlLmdldChuKTtpZihvKXtmb3IodmFyIGk9by5sZW5ndGgtMTtpPj0wO2ktLSlvW2ldLkV4cGlyZTxyJiZvLnNwbGljZShpLDEpO2lmKDA9PT1vLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmNhY2hlLnJlbW92ZShuKX1yZXR1cm4gb30sZS5nZXRLZXlTdHJpbmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49T2JqZWN0LmtleXMoZSkuc29ydCgpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTt2b2lkIDAhPT1lW29dJiZ0LnB1c2goZVtvXSl9cmV0dXJuIHQuam9pbigiICIpfSxlLnByb3RvdHlwZS5wb3B1bGF0ZVZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCk7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57QWRkcmVzczplLkFkZHJlc3N8fCIiLEV4cGlyZTp0KzYwKihlLkNhY2hlUGVyaW9kSW5NaW51dGVzfHwxKSoxZTN9fSkpfSxlLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3RoaXMuY2FjaGUuZW1wdHkoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBuPSJzdHJpbmciIT10eXBlb2YgdD9lLmdldEtleVN0cmluZyh0KTp0O3RoaXMuY2FjaGUucmVtb3ZlKG4pfSxlfSgpO24uRW5kcG9pbnRDYWNoZT1vfSx7Ii4vdXRpbHMvTFJVIjoxMTJ9XSwxMTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKGUsdCl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPXR9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKHRoaXMubm9kZU1hcD17fSx0aGlzLnNpemU9MCwibnVtYmVyIiE9dHlwZW9mIGV8fGU8MSl0aHJvdyBuZXcgRXJyb3IoIkNhY2hlIHNpemUgY2FuIG9ubHkgYmUgcG9zaXRpdmUgbnVtYmVyIik7dGhpcy5zaXplTGltaXQ9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnByZXBlbmRUb0xpc3Q9ZnVuY3Rpb24oZSl7dGhpcy5oZWFkZXJOb2RlPyh0aGlzLmhlYWRlck5vZGUucHJldj1lLGUubmV4dD10aGlzLmhlYWRlck5vZGUpOnRoaXMudGFpbE5vZGU9ZSx0aGlzLmhlYWRlck5vZGU9ZSx0aGlzLnNpemUrK30sZS5wcm90b3R5cGUucmVtb3ZlRnJvbVRhaWw9ZnVuY3Rpb24oKXtpZih0aGlzLnRhaWxOb2RlKXt2YXIgZT10aGlzLnRhaWxOb2RlLHQ9ZS5wcmV2O3JldHVybiB0JiYodC5uZXh0PXZvaWQgMCksZS5wcmV2PXZvaWQgMCx0aGlzLnRhaWxOb2RlPXQsdGhpcy5zaXplLS0sZX19LGUucHJvdG90eXBlLmRldGFjaEZyb21MaXN0PWZ1bmN0aW9uKGUpe3RoaXMuaGVhZGVyTm9kZT09PWUmJih0aGlzLmhlYWRlck5vZGU9ZS5uZXh0KSx0aGlzLnRhaWxOb2RlPT09ZSYmKHRoaXMudGFpbE5vZGU9ZS5wcmV2KSxlLnByZXYmJihlLnByZXYubmV4dD1lLm5leHQpLGUubmV4dCYmKGUubmV4dC5wcmV2PWUucHJldiksZS5uZXh0PXZvaWQgMCxlLnByZXY9dm9pZCAwLHRoaXMuc2l6ZS0tfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5ub2RlTWFwW2VdKXt2YXIgdD10aGlzLm5vZGVNYXBbZV07cmV0dXJuIHRoaXMuZGV0YWNoRnJvbUxpc3QodCksdGhpcy5wcmVwZW5kVG9MaXN0KHQpLHQudmFsdWV9fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYodGhpcy5ub2RlTWFwW2VdKXt2YXIgdD10aGlzLm5vZGVNYXBbZV07dGhpcy5kZXRhY2hGcm9tTGlzdCh0KSxkZWxldGUgdGhpcy5ub2RlTWFwW2VdfX0sZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5ub2RlTWFwW2VdKXRoaXMucmVtb3ZlKGUpO2Vsc2UgaWYodGhpcy5zaXplPT09dGhpcy5zaXplTGltaXQpe3ZhciBuPXRoaXMucmVtb3ZlRnJvbVRhaWwoKS5rZXk7ZGVsZXRlIHRoaXMubm9kZU1hcFtuXX12YXIgbz1uZXcgcihlLHQpO3RoaXMubm9kZU1hcFtlXT1vLHRoaXMucHJlcGVuZFRvTGlzdChvKX0sZS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9T2JqZWN0LmtleXModGhpcy5ub2RlTWFwKSx0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0scj10aGlzLm5vZGVNYXBbbl07dGhpcy5kZXRhY2hGcm9tTGlzdChyKSxkZWxldGUgdGhpcy5ub2RlTWFwW25dfX0sZX0oKTtuLkxSVUNhY2hlPW99LHt9XSwxMTM6W2Z1bmN0aW9uKGUsdCxuKXtlKCIuL2Jyb3dzZXJfbG9hZGVyIik7dmFyIHI9ZSgiLi9jb3JlIik7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuQVdTPXIpLHZvaWQgMCE9PXQmJih0LmV4cG9ydHM9ciksInVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiYoc2VsZi5BV1M9ciksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIkNvbm5lY3QiKXx8KHIuYXBpTG9hZGVyLnNlcnZpY2VzLmNvbm5lY3Q9e30sci5Db25uZWN0PXIuU2VydmljZS5kZWZpbmVTZXJ2aWNlKCJjb25uZWN0IixbIjIwMTctMDItMTUiXSkpLHIuYXBpTG9hZGVyLnNlcnZpY2VzLmNvbm5lY3RbIjIwMTctMDItMTUiXT1lKCIuLi9hcGlzL2Nvbm5lY3QtMjAxNy0wMi0xNS5taW4iKX0seyIuLi9hcGlzL2Nvbm5lY3QtMjAxNy0wMi0xNS5taW4iOjMsIi4vYnJvd3Nlcl9sb2FkZXIiOjE2LCIuL2NvcmUiOjE5fV19LHt9LFsxMTNdKX0sNTU1OigpPT57ZnVuY3Rpb24gZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdCh0KXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9lKE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bih0LGUsb1tlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6ZShPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBuKGUsdCxuKXtyZXR1cm4odD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXR5cGVvZiByKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0P3Q6dCsiIn0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyxuPWUuY29ubmVjdHx8e307ZS5jb25uZWN0PW4sZS5saWx5PW4sbi5DbGllbnRNZXRob2RzPW4ubWFrZUVudW0oWyJnZXRBZ2VudFNuYXBzaG90IiwicHV0QWdlbnRTdGF0ZSIsImdldEFnZW50U3RhdGVzIiwiZ2V0RGlhbGFibGVDb3VudHJ5Q29kZXMiLCJnZXRSb3V0aW5nUHJvZmlsZVF1ZXVlcyIsImdldEFnZW50UGVybWlzc2lvbnMiLCJnZXRBZ2VudENvbmZpZ3VyYXRpb24iLCJ1cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24iLCJhY2NlcHRDb250YWN0IiwiY3JlYXRlT3V0Ym91bmRDb250YWN0IiwiY3JlYXRlVGFza0NvbnRhY3QiLCJjbGVhckNvbnRhY3QiLCJjb21wbGV0ZUNvbnRhY3QiLCJkZXN0cm95Q29udGFjdCIsInJlamVjdENvbnRhY3QiLCJub3RpZnlDb250YWN0SXNzdWUiLCJ1cGRhdGVDb250YWN0QXR0cmlidXRlcyIsImNyZWF0ZUFkZGl0aW9uYWxDb25uZWN0aW9uIiwiZGVzdHJveUNvbm5lY3Rpb24iLCJob2xkQ29ubmVjdGlvbiIsInJlc3VtZUNvbm5lY3Rpb24iLCJ0b2dnbGVBY3RpdmVDb25uZWN0aW9ucyIsImNvbmZlcmVuY2VDb25uZWN0aW9ucyIsInNlbmRDbGllbnRMb2dzIiwic2VuZERpZ2l0cyIsInNlbmRTb2Z0cGhvbmVDYWxsUmVwb3J0Iiwic2VuZFNvZnRwaG9uZUNhbGxNZXRyaWNzIiwiZ2V0RW5kcG9pbnRzIiwiZ2V0TmV3QXV0aFRva2VuIiwiY3JlYXRlVHJhbnNwb3J0IiwibXV0ZVBhcnRpY2lwYW50IiwidW5tdXRlUGFydGljaXBhbnQiLCJ1cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZSIsInBhdXNlQ29udGFjdCIsInJlc3VtZUNvbnRhY3QiLCJhZGROZXdDb25uZWN0aW9uIiwidHJhbnNmZXJDb250YWN0Il0pLG4uQWdlbnRBcHBDbGllbnRNZXRob2RzPXtHRVRfQ09OVEFDVDoiQWdlbnRBcHBTZXJ2aWNlLkxjbXMuZ2V0Q29udGFjdCIsREVMRVRFX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmRlbGV0ZVNwZWFrZXIiLEVOUk9MTF9CWV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5lbnJvbGxCeVNlc3Npb24iLEVWQUxVQVRFX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmV2YWx1YXRlU2Vzc2lvbiIsREVTQ1JJQkVfU1BFQUtFUjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTcGVha2VyIixPUFRfT1VUX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLm9wdE91dFNwZWFrZXIiLFVQREFURV9WT0lDRV9JRF9EQVRBOiJBZ2VudEFwcFNlcnZpY2UuTGNtcy51cGRhdGVWb2ljZUlkRGF0YSIsREVTQ1JJQkVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTZXNzaW9uIixVUERBVEVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQudXBkYXRlU2Vzc2lvbiIsU1RBUlRfVk9JQ0VfSURfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLk5hc2Euc3RhcnRWb2ljZUlkU2Vzc2lvbiIsTElTVF9JTlRFR1JBVElPTl9BU1NPQ0lBVElPTlM6IkFnZW50QXBwU2VydmljZS5BY3MubGlzdEludGVncmF0aW9uQXNzb2NpYXRpb25zIn0sbi5NYXN0ZXJNZXRob2RzPW4ubWFrZUVudW0oWyJiZWNvbWVNYXN0ZXIiLCJjaGVja01hc3RlciJdKSxuLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzPW4ubWFrZUVudW0oWyJsaXN0VGFza1RlbXBsYXRlcyIsImdldFRhc2tUZW1wbGF0ZSIsImNyZWF0ZVRlbXBsYXRlZFRhc2siLCJ1cGRhdGVDb250YWN0Il0pLG4uQXBpUHJveHlDbGllbnRNZXRob2RzPXtRUl9JTlRFR1JBVElPTl9FWElTVFM6InFySW50ZWdyYXRpb25FeGlzdHMiLFFSX1NFQVJDSF9RVUlDS19SRVNQT05TRVM6InFyU2VhcmNoUXVpY2tSZXNwb25zZXMiLFNUQVJUX1NDUkVFTl9TSEFSSU5HOiJzdGFydFNjcmVlblNoYXJpbmcifSxuLlJldHJ5YWJsZUNsaWVudE1ldGhvZHNMaXN0PVtuLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1NOQVBTSE9ULG4uQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfQ09ORklHVVJBVElPTixuLkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1BFUk1JU1NJT05TLG4uQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU1RBVEVTLG4uQ2xpZW50TWV0aG9kcy5HRVRfRElBTEFCTEVfQ09VTlRSWV9DT0RFUyxuLkNsaWVudE1ldGhvZHMuR0VUX1JPVVRJTkdfUFJPRklMRV9RVUVVRVNdLG4uUmV0cnlhYmxlRXJyb3JzPW4ubWFrZUVudW0oWyJ1bmF1dGhvcml6ZWQiLCJhY2Nlc3NEZW5pZWQiXSksbi5SZXRyeVN0YXR1cz1uLm1ha2VFbnVtKFsicmV0cnlpbmciLCJleGhhdXN0ZWQiLCJub25lIl0pO3ZhciByPWZ1bmN0aW9uKCl7fTtyLkVNUFRZX0NBTExCQUNLUz17c3VjY2VzczpmdW5jdGlvbigpe30sZmFpbHVyZTpmdW5jdGlvbigpe319LHIucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0LG8pe24uYXNzZXJ0Tm90TnVsbChlLCJtZXRob2QiKTt2YXIgaT10fHx7fSxzPW98fHIuRU1QVFlfQ0FMTEJBQ0tTO3RoaXMuX2NhbGxJbXBsKGUsaSxzKX0sci5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBuZXcgbi5Ob3RJbXBsZW1lbnRlZEVycm9yfTt2YXIgbz1mdW5jdGlvbigpe3IuY2FsbCh0aGlzKX07KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQscil7aWYociYmci5mYWlsdXJlKXt2YXIgbz1uLnNwcmludGYoIk5vIHN1Y2ggbWV0aG9kIGV4aXN0cyBvbiBOVUxMIGNsaWVudDogJXMiLGUpO3IuZmFpbHVyZShuZXcgbi5WYWx1ZUVycm9yKG8pLHttZXNzYWdlOm99KX19O3ZhciBpPWZ1bmN0aW9uKGUsdCxvKXtyLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWUsdGhpcy5yZXF1ZXN0RXZlbnQ9dCx0aGlzLnJlc3BvbnNlRXZlbnQ9byx0aGlzLl9yZXF1ZXN0SWRDYWxsYmFja3NNYXA9e30sdGhpcy5jb25kdWl0Lm9uVXBzdHJlYW0obyxuLmhpdGNoKHRoaXMsdGhpcy5faGFuZGxlUmVzcG9uc2UpKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQscil7dmFyIG89bi5FdmVudEZhY3RvcnkuY3JlYXRlUmVxdWVzdCh0aGlzLnJlcXVlc3RFdmVudCxlLHQpO3RoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtvLnJlcXVlc3RJZF09cjtjb25zdCBpPVtuLkNsaWVudE1ldGhvZHMuU0VORF9DTElFTlRfTE9HUyxuLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTLG4uQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX1JFUE9SVF07dHJ5e28uZXZlbnQhPT1uLkV2ZW50VHlwZS5BUElfUkVRVUVTVHx8aS5pbmNsdWRlcyhvLm1ldGhvZCl8fG4uZ2V0TG9nKCkudHJhY2UoIlNlbmRpbmcgQVBJX1JFUVVFU1QgZXZlbnQgZm9yICIuY29uY2F0KG8ubWV0aG9kLCIgdG8gdXBzdHJlYW0iKSkud2l0aE9iamVjdCh7bWV0aG9kOm8ubWV0aG9kLHBhcmFtczpvLnBhcmFtcyxzdGFjazoobmV3IEVycm9yKS5zdGFja30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7bi5nZXRMb2coKS5lcnJvcigiU3RhY2sgdHJhY2UgTG9nIEZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX10aGlzLmNvbmR1aXQuc2VuZFVwc3RyZWFtKG8uZXZlbnQsbyl9LGkucHJvdG90eXBlLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXXx8bnVsbDtyZXR1cm4gbnVsbCE9dCYmZGVsZXRlIHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXSx0fSxpLnByb3RvdHlwZS5faGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdChlLnJlcXVlc3RJZCk7bnVsbCE9dCYmKGUuZXJyJiZ0LmZhaWx1cmU/dC5mYWlsdXJlKGUuZXJyLGUuZGF0YSk6dC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZS5kYXRhKSl9O3ZhciBzPWZ1bmN0aW9uKGUpe2kuY2FsbCh0aGlzLGUsbi5FdmVudFR5cGUuQVBJX1JFUVVFU1Qsbi5FdmVudFR5cGUuQVBJX1JFU1BPTlNFKX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zO3ZhciBhPWZ1bmN0aW9uKCl7ci5jYWxsKHRoaXMpLG4uY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShuLkV2ZW50VHlwZS5BUElfUFJPWFlfUkVTUE9OU0Usbi5oaXRjaCh0aGlzLHRoaXMuX2hhbmRsZVJlc3BvbnNlKSksdGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwPXt9fTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1uLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXF1ZXN0KG4uRXZlbnRUeXBlLkFQSV9QUk9YWV9SRVFVRVNULGUsdCk7dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW28ucmVxdWVzdElkXT1yLG4uY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIobi5FdmVudFR5cGUuQVBJX1BST1hZX1JFUVVFU1Qsbyl9LGEucHJvdG90eXBlLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXXx8bnVsbDtyZXR1cm4gbnVsbCE9dCYmZGVsZXRlIHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXSx0fSxhLnByb3RvdHlwZS5faGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdChlLnJlcXVlc3RJZCk7bnVsbCE9dCYmKGUuZXJyJiZ0LmZhaWx1cmU/dC5mYWlsdXJlKGUuZXJyLGUuZGF0YSk6dC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZS5kYXRhKSl9O3ZhciBjPWZ1bmN0aW9uKGUpe2kuY2FsbCh0aGlzLGUsbi5FdmVudFR5cGUuTUFTVEVSX1JFUVVFU1Qsbi5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFKX07KGMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1jO3ZhciB1PWZ1bmN0aW9uKGUsdCxvKXtuLmFzc2VydE5vdE51bGwoZSwiYXV0aENvb2tpZU5hbWUiKSxuLmFzc2VydE5vdE51bGwodCwiYXV0aFRva2VuIiksbi5hc3NlcnROb3ROdWxsKG8sImVuZHBvaW50Iiksci5jYWxsKHRoaXMpLHRoaXMuZW5kcG9pbnRVcmw9bi5nZXRVcmxXaXRoUHJvdG9jb2wobyksdGhpcy5hdXRoVG9rZW49dCx0aGlzLmF1dGhDb29raWVOYW1lPWV9Oyh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dSx1LnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPXRoaXMsaT17fTtpW28uYXV0aENvb2tpZU5hbWVdPW8uYXV0aFRva2VuO3ZhciBzPXttZXRob2Q6InBvc3QiLGJvZHk6SlNPTi5zdHJpbmdpZnkodHx8e30pLGhlYWRlcnM6e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiIsIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJYLUFtei10YXJnZXQiOmUsIlgtQW16LUJlYXJlciI6SlNPTi5zdHJpbmdpZnkoaSl9fTtuLmZldGNoKG8uZW5kcG9pbnRVcmwscykudGhlbigoZnVuY3Rpb24oZSl7ci5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtjb25zdCB0PWUuYm9keS5nZXRSZWFkZXIoKTtsZXQgbj0iIjtjb25zdCBvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKHMpe2xldHtkb25lOmEsdmFsdWU6Y309cztpZihhKXt2YXIgdT1KU09OLnBhcnNlKG4pO3JldHVybiB1LnN0YXR1cz1lLnN0YXR1cyx2b2lkIHIuZmFpbHVyZSh1KX1yZXR1cm4gbis9by5kZWNvZGUoYyksdC5yZWFkKCkudGhlbihpKX0pKX0pKX07dmFyIGw9ZnVuY3Rpb24oZSx0LG8pe24uYXNzZXJ0Tm90TnVsbChlLCJhdXRoVG9rZW4iKSxuLmFzc2VydE5vdE51bGwodCwicmVnaW9uIiksci5jYWxsKHRoaXMpLEFXUy5jb25maWcuY3JlZGVudGlhbHM9bmV3IEFXUy5DcmVkZW50aWFscyh7fSksQVdTLmNvbmZpZy5yZWdpb249dCx0aGlzLmF1dGhUb2tlbj1lO3ZhciBpPW4uZ2V0QmFzZVVybCgpLHM9b3x8KGkuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpP2krIi9jb25uZWN0L2FwaSI6aSsiL2FwaSIpLGE9bmV3IEFXUy5FbmRwb2ludChzKTt0aGlzLmNsaWVudD1uZXcgQVdTLkNvbm5lY3Qoe2VuZHBvaW50OmF9KSx0aGlzLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTAsdGhpcy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wfTsobC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWwsbC5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLGk9bi5nZXRMb2coKTtpZihuLmNvbnRhaW5zKHRoaXMuY2xpZW50LGUpKSh0PXRoaXMuX3RyYW5zbGF0ZVBhcmFtcyhlLHQpKSYmdC5yZWxhdGVkQ29udGFjdElkJiZudWxsIT09dC5yZWxhdGVkQ29udGFjdElkJiZ0LnByZXZpb3VzQ29udGFjdElkJiZkZWxldGUgdC5wcmV2aW91c0NvbnRhY3RJZCxpLnRyYWNlKCJBV1NDbGllbnQ6IC0tXHgzZSBDYWxsaW5nIG9wZXJhdGlvbiAnJXMnIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuY2xpZW50W2VdKHQpLm9uKCJidWlsZCIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQmVhcmVyIl09by5hdXRoVG9rZW59KSkuc2VuZCgoZnVuY3Rpb24odCxzKXt0cnl7aWYodCl0LmNvZGU9PT1uLkNUSUV4Y2VwdGlvbnMuVU5BVVRIT1JJWkVEX0VYQ0VQVElPTnx8NDAxPT09dC5zdGF0dXNDb2RlP28uX3JldHJ5TWV0aG9kKGUscix0LHMsbi5SZXRyeWFibGVFcnJvcnMuVU5BVVRIT1JJWkVEKTp0LmNvZGU9PT1uLkNUSUV4Y2VwdGlvbnMuQUNDRVNTX0RFTklFRF9FWENFUFRJT058fDQwMz09PXQuc3RhdHVzQ29kZT9vLl9yZXRyeU1ldGhvZChlLHIsdCxzLG4uUmV0cnlhYmxlRXJyb3JzLkFDQ0VTU19ERU5JRUQpOihvLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTAsby5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wLHIuZmFpbHVyZShvLl9mb3JtYXRDYWxsRXJyb3Ioby5fYWRkU3RhdHVzQ29kZVRvRXJyb3IodCkpLHMpKSxpLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gJyVzJyBmYWlsZWQ6ICVzIixlLEpTT04uc3RyaW5naWZ5KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2V7bGV0IHQ9e307aS50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICclcycgc3VjY2VlZGVkLiIsZSkud2l0aE9iamVjdChzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8udW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCxvLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTAsdGhpcy5odHRwUmVzcG9uc2UmJnRoaXMuaHR0cFJlc3BvbnNlLmhhc093blByb3BlcnR5KCJib2R5IikmJih0LmNvbnRlbnRMZW5ndGg9dGhpcy5odHRwUmVzcG9uc2UuYm9keS5sZW5ndGgpLHIuc3VjY2VzcyhzLHQpfX1jYXRjaCh0KXtuLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gaGFuZGxlIEFXUyBBUEkgcmVxdWVzdCBmb3IgbWV0aG9kICVzIixlKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpO2Vsc2V7dmFyIHM9bi5zcHJpbnRmKCJObyBzdWNoIG1ldGhvZCBleGlzdHMgb24gQVdTIGNsaWVudDogJXMiLGUpO3IuZmFpbHVyZShuZXcgbi5WYWx1ZUVycm9yKHMpLHttZXNzYWdlOnN9KX19LGwucHJvdG90eXBlLl9pc1JldHJ5YWJsZU1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gbi5SZXRyeWFibGVDbGllbnRNZXRob2RzTGlzdC5pbmNsdWRlcyhlKX0sbC5wcm90b3R5cGUuX3JldHJ5TWV0aG9kPWZ1bmN0aW9uKGUscixvLGkscyl7dmFyIGE9dGhpcyxjPW4uZ2V0TG9nKCk7Y29uc3QgdT1lPT5hLl9mb3JtYXRDYWxsRXJyb3IoYS5fYWRkU3RhdHVzQ29kZVRvRXJyb3IoZSkpO2xldCBsPXttYXhDb3VudDpuLmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVCxmYWlsQ291bnRlcjphLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyLGluY3JlYXNlQ291bnRlcjooKT0+YS51bmF1dGhvcml6ZWRGYWlsQ291bnRlcis9MSxyZXNldENvdW50ZXI6KCk9PmEudW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCxlcnJvck1lc3NhZ2U6InVuYXV0aG9yaXplZCIsZXhoYXVzdGVkUmV0cmllczphLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPj1uLmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVCxyZXRyeUNhbGxiYWNrOihlLHQpPT5yLmZhaWx1cmUodShlKSx0KSxkZWZhdWx0Q2FsbGJhY2s6KGUsdCk9PnIuYXV0aEZhaWx1cmUodShlKSx0KX07c3dpdGNoKHMpe2Nhc2Ugbi5SZXRyeWFibGVFcnJvcnMuVU5BVVRIT1JJWkVEOmJyZWFrO2Nhc2Ugbi5SZXRyeWFibGVFcnJvcnMuQUNDRVNTX0RFTklFRDpsPXQodCh7fSxsKSx7fSx7bWF4Q291bnQ6bi5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5ULGZhaWxDb3VudGVyOmEuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXIsaW5jcmVhc2VDb3VudGVyOigpPT5hLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyKz0xLHJlc2V0Q291bnRlcjooKT0+YS5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wLGVycm9yTWVzc2FnZToiYWNjZXNzIGRlbmllZCIsZXhoYXVzdGVkUmV0cmllczphLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPj1uLmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQsZGVmYXVsdENhbGxiYWNrOihlLHQpPT5yLmFjY2Vzc0RlbmllZCh1KGUpLHQpfSl9bGV0IHA9dCh0KHt9LG8pLHt9LHtyZXRyeVN0YXR1czpuLlJldHJ5U3RhdHVzLk5PTkV9KTtpZihhLl9pc1JldHJ5YWJsZU1ldGhvZChlKSl7aWYoIWwuZXhoYXVzdGVkUmV0cmllcylyZXR1cm4gYy50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICIuY29uY2F0KGUsIiBmYWlsZWQgd2l0aCAiKS5jb25jYXQobC5lcnJvck1lc3NhZ2UsIiBlcnJvci4gUmV0cnlpbmcgY2FsbCBmb3IgYSAiKS5jb25jYXQobC5mYWlsQ291bnRlcisxLCIgdGltZSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwuaW5jcmVhc2VDb3VudGVyKCkscD10KHQoe30scCkse30se3JldHJ5U3RhdHVzOm4uUmV0cnlTdGF0dXMuUkVUUllJTkd9KSx2b2lkIGwucmV0cnlDYWxsYmFjayhwLGkpO2MudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAiLmNvbmNhdChlLCIgZXhoYXVzdGVkIG1heCAiKS5jb25jYXQobC5tYXhDb3VudCwiIG51bWJlciBvZiByZXRyaWVzIGZvciAiKS5jb25jYXQobC5lcnJvck1lc3NhZ2UsIiBlcnJvciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwucmVzZXRDb3VudGVyKCkscD10KHQoe30scCkse30se3JldHJ5U3RhdHVzOm4uUmV0cnlTdGF0dXMuRVhIQVVTVEVEfSl9ZWxzZSBjLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gIi5jb25jYXQoZSwiIGZhaWxlZDogIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG8pKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtsLmRlZmF1bHRDYWxsYmFjayhwLGkpfSxsLnByb3RvdHlwZS5fZm9ybWF0Q2FsbEVycm9yPWZ1bmN0aW9uKGUpe2NvbnN0IHI9dCh7dHlwZTplLmNvZGUsbWVzc2FnZTplLm1lc3NhZ2Usc3RhY2s6W10scmV0cnlTdGF0dXM6ZS5yZXRyeVN0YXR1c3x8bi5SZXRyeVN0YXR1cy5OT05FfSxlLnN0YXR1c0NvZGUmJntzdGF0dXNDb2RlOmUuc3RhdHVzQ29kZX0pO2lmKGUuc3RhY2spdHJ5e0FycmF5LmlzQXJyYXkoZS5zdGFjayk/ci5zdGFjaz1lLnN0YWNrOiJvYmplY3QiPT10eXBlb2YgZS5zdGFjaz9yLnN0YWNrPVtKU09OLnN0cmluZ2lmeShlLnN0YWNrKV06InN0cmluZyI9PXR5cGVvZiBlLnN0YWNrJiYoci5zdGFjaz1lLnN0YWNrLnNwbGl0KCJcbiIpKX1maW5hbGx5e31yZXR1cm4gcn0sbC5wcm90b3R5cGUuX2FkZFN0YXR1c0NvZGVUb0Vycm9yPWZ1bmN0aW9uKGUpe2lmKGUuc3RhdHVzQ29kZSlyZXR1cm4gZTtjb25zdCByPXQoe30sZSk7aWYoZS5jb2RlKXN3aXRjaChyLmNvZGUpe2Nhc2Ugbi5DVElFeGNlcHRpb25zLlVOQVVUSE9SSVpFRF9FWENFUFRJT046ci5zdGF0dXNDb2RlPTQwMTticmVhaztjYXNlIG4uQ1RJRXhjZXB0aW9ucy5BQ0NFU1NfREVOSUVEX0VYQ0VQVElPTjpyLnN0YXR1c0NvZGU9NDAzfWVsc2Ugci5zdGF0dXNDb2RlPTQwMDtyZXR1cm4gcn0sbC5wcm90b3R5cGUuX3JlcXVpcmVzQXV0aGVudGljYXRpb25QYXJhbT1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PW4uQ2xpZW50TWV0aG9kcy5DT01QTEVURV9DT05UQUNUJiZlIT09bi5DbGllbnRNZXRob2RzLkNMRUFSX0NPTlRBQ1QmJmUhPT1uLkNsaWVudE1ldGhvZHMuUkVKRUNUX0NPTlRBQ1QmJmUhPT1uLkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RBU0tfQ09OVEFDVCYmZSE9PW4uQ2xpZW50TWV0aG9kcy5VUERBVEVfTU9OSVRPUl9QQVJUSUNJUEFOVF9TVEFURSYmZSE9PW4uQ2xpZW50TWV0aG9kcy5QQVVTRV9DT05UQUNUJiZlIT09bi5DbGllbnRNZXRob2RzLlJFU1VNRV9DT05UQUNUJiZlIT09bi5DbGllbnRNZXRob2RzLkFERF9ORVdfQ09OTkVDVElPTiYmZSE9PW4uQ2xpZW50TWV0aG9kcy5UUkFOU0ZFUl9DT05UQUNUfSxsLnByb3RvdHlwZS5fdHJhbnNsYXRlUGFyYW1zPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2Ugbi5DbGllbnRNZXRob2RzLlVQREFURV9BR0VOVF9DT05GSUdVUkFUSU9OOnQuY29uZmlndXJhdGlvbj10aGlzLl90cmFuc2xhdGVBZ2VudENvbmZpZ3VyYXRpb24odC5jb25maWd1cmF0aW9uKTticmVhaztjYXNlIG4uQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX01FVFJJQ1M6dC5zb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzPXRoaXMuX3RyYW5zbGF0ZVNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3ModC5zb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKTticmVhaztjYXNlIG4uQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX1JFUE9SVDp0LnJlcG9ydD10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVDYWxsUmVwb3J0KHQucmVwb3J0KX1yZXR1cm4gdGhpcy5fcmVxdWlyZXNBdXRoZW50aWNhdGlvblBhcmFtKGUpJiYodC5hdXRoZW50aWNhdGlvbj17YXV0aFRva2VuOnRoaXMuYXV0aFRva2VufSksdH0sbC5wcm90b3R5cGUuX3RyYW5zbGF0ZUFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTplLm5hbWUsc29mdHBob25lRW5hYmxlZDplLnNvZnRwaG9uZUVuYWJsZWQsc29mdHBob25lQXV0b0FjY2VwdDplLnNvZnRwaG9uZUF1dG9BY2NlcHQsZXh0ZW5zaW9uOmUuZXh0ZW5zaW9uLHJvdXRpbmdQcm9maWxlOnRoaXMuX3RyYW5zbGF0ZVJvdXRpbmdQcm9maWxlKGUucm91dGluZ1Byb2ZpbGUpLGFnZW50UHJlZmVyZW5jZXM6ZS5hZ2VudFByZWZlcmVuY2VzfX0sbC5wcm90b3R5cGUuX3RyYW5zbGF0ZVJvdXRpbmdQcm9maWxlPWZ1bmN0aW9uKGUpe3JldHVybntuYW1lOmUubmFtZSxyb3V0aW5nUHJvZmlsZUFSTjplLnJvdXRpbmdQcm9maWxlQVJOLGRlZmF1bHRPdXRib3VuZFF1ZXVlOnRoaXMuX3RyYW5zbGF0ZVF1ZXVlKGUuZGVmYXVsdE91dGJvdW5kUXVldWUpfX0sbC5wcm90b3R5cGUuX3RyYW5zbGF0ZVF1ZXVlPWZ1bmN0aW9uKGUpe3JldHVybntxdWV1ZUFSTjplLnF1ZXVlQVJOLG5hbWU6ZS5uYW1lfX0sbC5wcm90b3R5cGUuX3RyYW5zbGF0ZVNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7InBhY2tldHNDb3VudCJpbiBlJiYoZS5wYWNrZXRDb3VudD1lLnBhY2tldHNDb3VudCxkZWxldGUgZS5wYWNrZXRzQ291bnQpfSkpLGV9LGwucHJvdG90eXBlLl90cmFuc2xhdGVTb2Z0cGhvbmVDYWxsUmVwb3J0PWZ1bmN0aW9uKGUpe3JldHVybiJoYW5kc2hha2luZ1RpbWVNaWxsaXMiaW4gZSYmKGUuaGFuZHNoYWtlVGltZU1pbGxpcz1lLmhhbmRzaGFraW5nVGltZU1pbGxpcyxkZWxldGUgZS5oYW5kc2hha2luZ1RpbWVNaWxsaXMpLCJwcmVUYWxraW5nVGltZU1pbGxpcyJpbiBlJiYoZS5wcmVUYWxrVGltZU1pbGxpcz1lLnByZVRhbGtpbmdUaW1lTWlsbGlzLGRlbGV0ZSBlLnByZVRhbGtpbmdUaW1lTWlsbGlzKSwiaGFuZHNoYWtpbmdGYWlsdXJlImluIGUmJihlLmhhbmRzaGFrZUZhaWx1cmU9ZS5oYW5kc2hha2luZ0ZhaWx1cmUsZGVsZXRlIGUuaGFuZHNoYWtpbmdGYWlsdXJlKSwidGFsa2luZ1RpbWVNaWxsaXMiaW4gZSYmKGUudGFsa1RpbWVNaWxsaXM9ZS50YWxraW5nVGltZU1pbGxpcyxkZWxldGUgZS50YWxraW5nVGltZU1pbGxpcyksZS5zb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzPXRoaXMuX3RyYW5zbGF0ZVNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3MoZS5zb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKSxlfTt2YXIgcD1mdW5jdGlvbihlKXtpZihuLmFzc2VydE5vdE51bGwoZSwiZW5kcG9pbnQiKSxyLmNhbGwodGhpcyksZS5pbmNsdWRlcygiL3Rhc2stdGVtcGxhdGVzIikpdGhpcy5lbmRwb2ludFVybD1uLmdldFVybFdpdGhQcm90b2NvbChlKTtlbHNle3ZhciB0PW5ldyBBV1MuRW5kcG9pbnQoZSksbz1lLmluY2x1ZGVzKCIuYXdzYXBwcy5jb20iKT8iL2Nvbm5lY3QiOiIiO3RoaXMuZW5kcG9pbnRVcmw9bi5nZXRVcmxXaXRoUHJvdG9jb2woIiIuY29uY2F0KHQuaG9zdCkuY29uY2F0KG8sIi90YXNrLXRlbXBsYXRlcy9hcGkvY2NwIikpfX07KHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1wLHAucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQscil7dCYmdC5yZWxhdGVkQ29udGFjdElkJiZudWxsIT09dC5yZWxhdGVkQ29udGFjdElkJiZ0LnByZXZpb3VzQ29udGFjdElkJiZkZWxldGUgdC5wcmV2aW91c0NvbnRhY3RJZCxuLmFzc2VydE5vdE51bGwoZSwibWV0aG9kIiksbi5hc3NlcnROb3ROdWxsKHQsInBhcmFtcyIpO3ZhciBvPXtjcmVkZW50aWFsczoiaW5jbHVkZSIsbWV0aG9kOiJHRVQiLGhlYWRlcnM6e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiIsIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJ4LWNzcmYtdG9rZW4iOiJjc3JmIn19LGk9dC5pbnN0YW5jZUlkLHM9dGhpcy5lbmRwb2ludFVybCxhPW4uVGFza1RlbXBsYXRlc0NsaWVudE1ldGhvZHM7c3dpdGNoKGUpe2Nhc2UgYS5MSVNUX1RBU0tfVEVNUExBVEVTOmlmKHMrPSIvcHJveHkvaW5zdGFuY2UvIi5jb25jYXQoaSwiL3Rhc2svdGVtcGxhdGUiKSx0LnF1ZXJ5UGFyYW1zKXtjb25zdCBlPW5ldyBVUkxTZWFyY2hQYXJhbXModC5xdWVyeVBhcmFtcykudG9TdHJpbmcoKTtlJiYocys9Ij8iLmNvbmNhdChlKSl9YnJlYWs7Y2FzZSBhLkdFVF9UQVNLX1RFTVBMQVRFOm4uYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMiKTtjb25zdCByPW4uYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLmlkLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMuaWQiKSxjPXQudGVtcGxhdGVQYXJhbXMudmVyc2lvbjtzKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlLyIpLmNvbmNhdChyKSxjJiYocys9Ij9zbmFwc2hvdFZlcnNpb249Ii5jb25jYXQoYykpO2JyZWFrO2Nhc2UgYS5DUkVBVEVfVEVNUExBVEVEX1RBU0s6cys9Ii8iLmNvbmNhdChlKSxvLmJvZHk9SlNPTi5zdHJpbmdpZnkodCksby5tZXRob2Q9IlBVVCI7YnJlYWs7Y2FzZSBhLlVQREFURV9DT05UQUNUOnMrPSIvIi5jb25jYXQoZSksby5ib2R5PUpTT04uc3RyaW5naWZ5KHQpLG8ubWV0aG9kPSJQT1NUIn1uLmZldGNoKHMsbykudGhlbigoZnVuY3Rpb24oZSl7ci5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtjb25zdCB0PWUuYm9keS5nZXRSZWFkZXIoKTtsZXQgbj0iIjtjb25zdCBvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKHMpe2xldHtkb25lOmEsdmFsdWU6Y309cztpZihhKXt2YXIgdT1KU09OLnBhcnNlKG4pO3JldHVybiB1LnN0YXR1cz1lLnN0YXR1cyx2b2lkIHIuZmFpbHVyZSh1KX1yZXR1cm4gbis9by5kZWNvZGUoYyksdC5yZWFkKCkudGhlbihpKX0pKX0pKX0sbi5DbGllbnRCYXNlPXIsbi5OdWxsQ2xpZW50PW8sbi5VcHN0cmVhbUNvbmR1aXRDbGllbnQ9cyxuLkFwaVByb3h5Q2xpZW50PWEsbi5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQ9YyxuLkFXU0NsaWVudD1sLG4uQWdlbnRBcHBDbGllbnQ9dSxuLlRhc2tUZW1wbGF0ZXNDbGllbnQ9cH0oKX0sMzk5OihlLHQsbik9PntmdW5jdGlvbiByKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBvKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9dHlwZW9mIHIpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHQ/dDp0KyIifSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0LmNvcmU9e30sdC5nbG9iYWxSZXNpbGllbmN5PXQuZ2xvYmFsUmVzaWxpZW5jeXx8e30sdC5jb3JlLmluaXRpYWxpemVkPSExLHQudmVyc2lvbj0iMi4yMi4xIix0Lm91dGVyQ29udGV4dFN0cmVhbXNWZXJzaW9uPW51bGwsdC5pbml0Q0NQUGFyYW1zPW51bGwsdC5jb250YWluZXJEaXY9bnVsbCx0LkRFRkFVTFRfQkFUQ0hfU0laRT01MDA7dmFyIHI9M2UzLGk9IkFtYXpvbiBDb25uZWN0IENDUCIscz0iaHR0cHM6Ly97YWxpYXN9LmF3c2FwcHMuY29tL2F1dGgvP2NsaWVudF9pZD17Y2xpZW50X2lkfSZyZWRpcmVjdF91cmk9e3JlZGlyZWN0fSIsYT0iMDY5MTlmNGZkOGVkMzI0ZSIsYz0iL2F1dGgvYXV0aG9yaXplIix1PSIvY29ubmVjdC9hdXRoL2F1dGhvcml6ZSIsbD0iSWZyYW1lUmVmcmVzaEF0dGVtcHRzIixwPSJJZnJhbWVSZWZyZXNoQXR0ZW1wdHNEciIsZD0iSWZyYW1lSW5pdGlhbGl6YXRpb25TdWNjZXNzIixoPSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3NEciI7Y29uc3QgZz0iY3VzdG9tdmlld3MiLGY9WyJlbmRlZCIsIm1pc3NlZCIsImVycm9yIiwicmVqZWN0ZWQiLCJhY3ciXTt0Lm51bWJlck9mQ29ubmVjdGVkQ0NQcz0wLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPTAsdC5jb3JlLk1BWF9BVVRIT1JJWkVfUkVUUllfQ09VTlRfRk9SX1NFU1NJT049Myx0LmNvcmUuTUFYX0NUSV9BVVRIX1JFVFJZX0NPVU5UPTEwLHQuY29yZS5jdGlBdXRoUmV0cnlDb3VudD0wLHQuY29yZS5hdXRob3JpemVUaW1lb3V0SWQ9bnVsbCx0LmNvcmUuY3RpVGltZW91dElkPW51bGwsdC5jb3JlLk1BWF9VTkFVVEhPUklaRURfUkVUUllfQ09VTlQ9MjAsdC5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5UPTEwLHQuU2Vzc2lvblN0b3JhZ2VLZXlzPXQubWFrZUVudW0oWyJ0YWJfaWQiLCJhdXRob3JpemVfcmV0cnlfY291bnQiXSk7Y2xhc3MgbXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmtleT0iIi5jb25jYXQodCwiUGFyYW1zU3RvcmFnZTo6IikuY29uY2F0KGUubG9jYXRpb24ub3JpZ2luKX1nZXQoKXt0cnl7Y29uc3QgdD1lLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KTtyZXR1cm4gdCYmSlNPTi5wYXJzZSh0KX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCIiLmNvbmNhdCh0aGlzLmtleSwiOjogRmFpbGVkIHRvIGdldCBzb2Z0cGhvbmUgcGFyYW1zIGZyb20gbG9jYWwgc3RvcmFnZSEiKSkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiBudWxsfXNldChuKXt0cnl7biYmZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmtleSxKU09OLnN0cmluZ2lmeShuKSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiIi5jb25jYXQodGhpcy5rZXksIjo6IEZhaWxlZCB0byBzZXQgc29mdHBob25lIHBhcmFtcyB0byBsb2NhbCBzdG9yYWdlISIpKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fWNsZWFuKCl7ZS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmtleSl9fWNvbnN0IHY9bmV3IGNsYXNzIGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCJTb2Z0cGhvbmUiKX19LHk9bmV3IGNsYXNzIGV4dGVuZHMgbXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCJSaW5ndG9uZSIpfX07ZnVuY3Rpb24gYihlKXt2YXIgdD1lLm1hdGNoKC9eKD86aHR0cHM/OlwvXC8pPyg/OlteQFxuXStAKT8oPzp3d3dcLik/KFteOlwvXG4/XSspL2dpKTtyZXR1cm4gdC5sZW5ndGg/dFswXToiIn1uZXcgY2xhc3MgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKCl7c3VwZXIoIkdsb2JhbFJlc2lsaWVuY3kiKX19LHQuY29yZS5jaGVja05vdEluaXRpYWxpemVkPWZ1bmN0aW9uKCl7dC5jb3JlLmluaXRpYWxpemVkJiZ0LmdldExvZygpLndhcm4oIkNvbm5lY3QgY29yZSBhbHJlYWR5IGluaXRpYWxpemVkLCBvbmx5IG5lZWRzIHRvIGJlIGluaXRpYWxpemVkIG9uY2UuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX07dmFyIFM9ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmdldEFnZW50U3RhdGVzKCkuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXQuQWdlbnRTdGF0ZVR5cGUuT0ZGTElORX0pKTtlLnNldFN0YXRlKHIsbil9LEM9ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNpZ25hbCBzaGFyZWR3b3JrZXIgdG8gc2V0IGNvbnRhY3RzIHN1cHByZXNzb3IgdG8gJXMgZm9yIGluc3RhbmNlICVzLiIsZSx0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuU1VQUFJFU1Mse3N1cHByZXNzOmUsc2hvdWxkU2VuZEZhaWxvdmVyRG93bnN0cmVhbTohMX0pfSxFPWZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5pbmZvKCJbRElTQVNURVIgUkVDT1ZFUlldIFNpZ25hbCBzaGFyZWR3b3JrZXIgdG8gc2V0IGZvcmNlT2ZmbGluZSB0byAlcyBmb3IgaW5zdGFuY2UgJXMuIixlLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLHtvZmZsaW5lOmUsbmV4dEFjdGl2ZUFybjpufSl9LEk9ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmdldExvZygpO2NvbnN0IG89dC5hZ2VudC5pbml0aWFsaXplZD90LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCk6dC5jb3JlLnJlZ2lvbjtyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gQXR0ZW1wdGluZyB0byBmb3JjZSBpbnN0YW5jZSAiLmNvbmNhdChvLCIgb2ZmbGluZSB1c2luZyAiKS5jb25jYXQoZT8ic29mdCI6ImhhcmQiLCIgZmFpbG92ZXIiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmFnZW50KChmdW5jdGlvbihvKXt2YXIgaT0wLHM9by5nZXRDb250YWN0cygpLGE9ITE7aWYocy5sZW5ndGgpZm9yKGxldCBjIG9mIHMpe2lmKGEpYnJlYWs7IWV8fGMuZ2V0VHlwZSgpIT09dC5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSyYmYy5nZXRUeXBlKCkhPT10LkNvbnRhY3RUeXBlLlZPSUNFP2MuZ2V0QWdlbnRDb25uZWN0aW9uKCkuZGVzdHJveSh7c3VjY2VzczpmdW5jdGlvbigpeysraT09PXMubGVuZ3RoJiYoRSghMSxuKSxTKG8pLHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAlcyBpcyBub3cgb2ZmbGluZSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7ci53YXJuKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFuIGVycm9yIG9jY3VyZWQgd2hpbGUgYXR0ZW1wdGluZyB0byBmb3JjZSB0aGlzIGluc3RhbmNlIHRvIG9mZmxpbmUgaW4gcmVnaW9uICVzIix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIud2FybihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLEUoITAsbiksYT0hMH19KTooci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFdpbGwgd2FpdCB0byBjb21wbGV0ZSBmYWlsb3ZlciBvZiBpbnN0YW5jZSAlcyB1bnRpbCB2b2ljZSBjb250YWN0IHdpdGggSUQgJXMgaXMgZGVzdHJveWVkIix0LmNvcmUucmVnaW9uLGMuZ2V0Q29udGFjdElkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkcse25leHRBY3RpdmVBcm46bn0pLGMub25EZXN0cm95KChmdW5jdGlvbihlKXtyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gVm9pY2UgY29udGFjdCB3aXRoIElEICVzIGRlc3Ryb3llZCwgY29udGludWluZyB3aXRoIGZhaWxvdmVyIGluIGluc3RhbmNlICVzIixlLmdldENvbnRhY3RJZCgpLHQuY29yZS5yZWdpb24pLEkoITAsbil9KSkpfWVsc2UgRSghMSxuKSxTKG8pLHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAlcyBpcyBub3cgb2ZmbGluZSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX07dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXc9ZnVuY3Rpb24oZSl7dmFyIG47bGV0IHIsbz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06IiIse3Jlc29sdmVJZnJhbWU6aT0hMCx0aW1lb3V0OnM9NWUzLGhpZGVJZnJhbWU6YT0hMH09YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2NvbnN0IGM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybihudWxsPT10P3ZvaWQgMDp0LnF1ZXJ5U2VsZWN0b3IobikpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKXx8d2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKX07cj1vPyIiLmNvbmNhdChnKS5jb25jYXQobyk6IiIuY29uY2F0KGcpO2NvbnN0IHU9bnVsbD09PShuPXQuYWdlbnRBcHAuQXBwUmVnaXN0cnkuZ2V0KHIpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jb250YWluZXJET00sbD0iaWZyYW1lW2lkPSciLmNvbmNhdChyLCInXSIpLHA9YyhyLHUsbCk7aWYocCl0cnl7Y29uc3Qgbj17dG9waWM6ImxpZmVjeWNsZS50ZXJtaW5hdGVkIn07cC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG4sZSksaSYmKGEmJihwLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxjb25zb2xlLmluZm8oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgaWZyYW1lIGhpZGRlbiBmb3IgcmVzb2x1dGlvbiBkdXJpbmcgdGVybWluYXRpb24iKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuYWdlbnRBcHAuc3RvcEFwcChyKSxjKHIsdSxsKT9jb25zb2xlLndhcm4oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgYXBwbGljYXRpb24gZGlkIG5vdCBzdG9wIHN1Y2Nlc3NmdWxseSBpbiB0ZXJtaW5hdGVDdXN0b21WaWV3IG9wZXJhdGlvbiIpOmNvbnNvbGUuaW5mbygiW0N1c3RvbVZpZXdzXSBjdXN0b212aWV3cyBhcHBsaWNhdGlvbiBzdWNjZXNzZnVsbHkgc3RvcHBlZCIpfSkscykpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcigiW0N1c3RvbVZpZXdzXSBFcnJvciBpbiB0ZXJtaW5hdGVDdXN0b21WaWV3OiAiLGUpfWVsc2UgY29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIHRlcm1pbmF0ZUN1c3RvbVZpZXcgb3BlcmF0aW9uIGZhaWxlZCBkdWUgdG8gaWZyYW1lIG5vdCBmb3VuZCIpfSx0LmNvcmUuaW5pdERpc2FzdGVyUmVjb3Zlcnk9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXQuZ2V0TG9nKCk7dC5jb3JlLnJlZ2lvbj1lLnJlZ2lvbix0LmNvcmUuc3VwcHJlc3NDb250YWN0cz1ufHxDLHQuY29yZS5mb3JjZU9mZmxpbmU9cnx8SSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vbkRvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLlNFVF9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe3QuY29yZS5mb3JjZU9mZmxpbmUoZSYmZS5zb2Z0RmFpbG92ZXIpfSkpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUsKGZ1bmN0aW9uKGUpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuRkFJTE9WRVIsKGZ1bmN0aW9uKCl7dC5jb3JlLmZvcmNlT2ZmbGluZShlJiZlLnNvZnRGYWlsb3ZlcixlJiZlLm5leHRBY3RpdmVBcm4pfSkpfSkpLHQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuRkFJTE9WRVIsKGZ1bmN0aW9uKCl7by5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluaXRpYWxpemluZyByZWdpb24gJXMgYXMgcGFydCBvZiBhIERpc2FzdGVyIFJlY292ZXJ5IGZsZWV0Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSksKGZ1bmN0aW9uKCl7by5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldICVzIGFscmVhZHkgcGFydCBvZiBhIERpc2FzdGVyIFJlY292ZXJ5IGZsZWV0Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLGUucG9sbEZvckZhaWxvdmVyJiZ0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HP3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HLHtpbnN0YW5jZUFybjplLmluc3RhbmNlQXJuLG90aGVyQXJuOmUub3RoZXJBcm4sYXV0aFRva2VuOmUuYXV0aFRva2VufSk6ZS5pc1ByaW1hcnk/KHQuY29yZS5zdXBwcmVzc0NvbnRhY3RzKCExKSxvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gJXMgaW5zdGFuY2UgaXMgc2V0IHRvIHByaW1hcnkiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOih0LmNvcmUuc3VwcHJlc3NDb250YWN0cyghMCksdC5jb3JlLmZvcmNlT2ZmbGluZSgpLG8uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSAlcyBpbnN0YW5jZSBpcyBzZXQgdG8gc3RhbmQtYnkiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSx0LmNvcmUuaW5pdD1mdW5jdGlvbihlKXt0LmNvcmUuZXZlbnRCdXM9bmV3IHQuRXZlbnRCdXMsdC5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW5ldyBSKHQuY29yZS5nZXRFdmVudEJ1cygpKSx0LmNvcmUuaW5pdENsaWVudChlKSx0LmNvcmUuaW5pdEFnZW50QXBwQ2xpZW50KGUpLHQuY29yZS5pbml0VGFza1RlbXBsYXRlc0NsaWVudChlKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITB9LHQuY29yZS5pbml0Q2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj10LmFzc2VydE5vdE51bGwoZS5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxyPXQuYXNzZXJ0Tm90TnVsbChlLnJlZ2lvbiwicGFyYW1zLnJlZ2lvbiIpLG89ZS5lbmRwb2ludHx8bnVsbDt0LmNvcmUuY2xpZW50PW5ldyB0LkFXU0NsaWVudChuLHIsbyl9LHQuY29yZS5pbml0QWdlbnRBcHBDbGllbnQ9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpO3ZhciBuPXQuYXNzZXJ0Tm90TnVsbChlLmF1dGhUb2tlbiwicGFyYW1zLmF1dGhUb2tlbiIpLHI9dC5hc3NlcnROb3ROdWxsKGUuYXV0aENvb2tpZU5hbWUsInBhcmFtcy5hdXRoQ29va2llTmFtZSIpLG89dC5hc3NlcnROb3ROdWxsKGUuYWdlbnRBcHBFbmRwb2ludCwicGFyYW1zLmFnZW50QXBwRW5kcG9pbnQiKTt0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bmV3IHQuQWdlbnRBcHBDbGllbnQocixuLG8pfSx0LmNvcmUuaW5pdFRhc2tUZW1wbGF0ZXNDbGllbnQ9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpO3ZhciBuPWUudGFza1RlbXBsYXRlc0VuZHBvaW50fHxlLmVuZHBvaW50O3QuYXNzZXJ0Tm90TnVsbChuLCJ0YXNrVGVtcGxhdGVzRW5kcG9pbnQiKSx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1uZXcgdC5UYXNrVGVtcGxhdGVzQ2xpZW50KG4pfSx0LmNvcmUudGVybWluYXRlPWZ1bmN0aW9uKCl7dC5jb3JlLmNsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5hcGlQcm94eUNsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5hZ2VudEFwcENsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50PW5ldyB0Lk51bGxDbGllbnQsdC5jb3JlLm1hc3RlckNsaWVudD1uZXcgdC5OdWxsQ2xpZW50O3ZhciBlPXQuY29yZS5nZXRFdmVudEJ1cygpO2UmJmUudW5zdWJzY3JpYmVBbGwoKSx0LmNvcmUuYnVzPW5ldyB0LkV2ZW50QnVzLHQuY29yZS5hZ2VudERhdGFQcm92aWRlcj1udWxsLHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW51bGwsdC5jb3JlLnVwc3RyZWFtPW51bGwsdC5jb3JlLmtlZXBhbGl2ZU1hbmFnZXI9bnVsbCx0LnN0b3JhZ2VBY2Nlc3MucmVzZXRTdG9yYWdlQWNjZXNzU3RhdGUoKSx0LmFnZW50LmluaXRpYWxpemVkPSExLHQuY29yZS5pbml0aWFsaXplZD0hMX0sdC5jb3JlLnNvZnRwaG9uZVVzZXJNZWRpYVN0cmVhbT1udWxsLHQuY29yZS5zZXRTb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09ZnVuY3Rpb24oZSl7dC5jb3JlLnNvZnRwaG9uZVVzZXJNZWRpYVN0cmVhbT1lfSx0LmNvcmUuaW5pdFJpbmd0b25lRW5naW5lcz1mdW5jdGlvbihuLHIpe3QuZ2V0TG9nKCkuaW5mbygiW1Jpbmd0b25lIEVuZ2luZV0gaW5pdFJpbmd0b25lRW5naW5lIHN0YXJ0ZWQiKS53aXRoT2JqZWN0KHtwYXJhbXM6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5hc3NlcnROb3ROdWxsKG4sInBhcmFtcyIpO2NvbnN0IG89cnx8QTt2YXIgaT1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicmluZ3RvbmVTZXR0aW5ncyIpLHQuYXNzZXJ0Tm90TnVsbChlLnZvaWNlLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlIiksdC5hc3NlcnRUcnVlKGUudm9pY2UucmluZ3RvbmVVcmx8fGUudm9pY2UuZGlzYWJsZWQsInJpbmd0b25lU2V0dGluZ3Mudm9pY2UucmluZ3RvbmVVcmwgbXVzdCBiZSBwcm92aWRlZCBvciByaW5ndG9uZVNldHRpbmdzLnZvaWNlLmRpc2FibGVkIG11c3QgYmUgdHJ1ZSIpLHQuYXNzZXJ0Tm90TnVsbChlLnF1ZXVlX2NhbGxiYWNrLCJyaW5ndG9uZVNldHRpbmdzLnF1ZXVlX2NhbGxiYWNrIiksdC5hc3NlcnRUcnVlKGUucXVldWVfY2FsbGJhY2sucmluZ3RvbmVVcmx8fGUucXVldWVfY2FsbGJhY2suZGlzYWJsZWQsInJpbmd0b25lU2V0dGluZ3Mudm9pY2UucmluZ3RvbmVVcmwgbXVzdCBiZSBwcm92aWRlZCBvciByaW5ndG9uZVNldHRpbmdzLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkIG11c3QgYmUgdHJ1ZSIpLHQuY29yZS5yaW5ndG9uZUVuZ2luZXM9e30sdC5hZ2VudCgoZnVuY3Rpb24obil7bi5vblJlZnJlc2goKGZ1bmN0aW9uKCl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5SSU5HVE9ORSwoZnVuY3Rpb24oKXtsZXQgbj0hMTtlLnZvaWNlLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnZvaWNlfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy52b2ljZT1uZXcgdC5Wb2ljZVJpbmd0b25lRW5naW5lKGUudm9pY2UpLG49ITAsdC5nZXRMb2coKS5pbmZvKCJWb2ljZVJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUuY2hhdC5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy5jaGF0fHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy5jaGF0PW5ldyB0LkNoYXRSaW5ndG9uZUVuZ2luZShlLmNoYXQpLG49ITAsdC5nZXRMb2coKS5pbmZvKCJDaGF0UmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS50YXNrLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnRhc2t8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnRhc2s9bmV3IHQuVGFza1Jpbmd0b25lRW5naW5lKGUudGFzayksbj0hMCx0LmdldExvZygpLmluZm8oIlRhc2tSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmVtYWlsLmRpc2FibGVkfHx0LmNvcmUucmluZ3RvbmVFbmdpbmVzLmVtYWlsfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy5lbWFpbD1uZXcgdC5FbWFpbFJpbmd0b25lRW5naW5lKGUuZW1haWwpLG49ITAsdC5nZXRMb2coKS5pbmZvKCJFbWFpbFJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUucXVldWVfY2FsbGJhY2suZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMucXVldWVfY2FsbGJhY2t8fCh0LmNvcmUucmluZ3RvbmVFbmdpbmVzLnF1ZXVlX2NhbGxiYWNrPW5ldyB0LlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZShlLnF1ZXVlX2NhbGxiYWNrKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiUXVldWVDYWxsYmFja1Jpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLG4mJnQuY29yZS5fcmluZ2VyRGV2aWNlSWQmJm8oe2RldmljZUlkOnQuY29yZS5fcmluZ2VyRGV2aWNlSWR9KX0pKX0pKX0pKSxUKCl9LHM9ZnVuY3Rpb24oZSxuKXtlLnJpbmd0b25lPWUucmluZ3RvbmV8fHt9LGUucmluZ3RvbmUudm9pY2U9ZS5yaW5ndG9uZS52b2ljZXx8e30sZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjaz1lLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrfHx7fSxlLnJpbmd0b25lLmNoYXQ9ZS5yaW5ndG9uZS5jaGF0fHx7ZGlzYWJsZWQ6ITB9LGUucmluZ3RvbmUudGFzaz1lLnJpbmd0b25lLnRhc2t8fHtkaXNhYmxlZDohMH0sZS5yaW5ndG9uZS5lbWFpbD1lLnJpbmd0b25lLmVtYWlsfHx7ZGlzYWJsZWQ6ITB9LG4uc29mdHBob25lJiYobi5zb2Z0cGhvbmUuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS52b2ljZS5kaXNhYmxlZD0hMCxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkPSEwKSxuLnNvZnRwaG9uZS5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUudm9pY2UucmluZ3RvbmVVcmw9bi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwsZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjay5yaW5ndG9uZVVybD1uLnNvZnRwaG9uZS5yaW5ndG9uZVVybCkpLG4uY2hhdCYmKG4uY2hhdC5kaXNhYmxlUmluZ3RvbmUmJihlLnJpbmd0b25lLmNoYXQuZGlzYWJsZWQ9ITApLG4uY2hhdC5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUuY2hhdC5yaW5ndG9uZVVybD1uLmNoYXQucmluZ3RvbmVVcmwpKSxuLnRhc2smJihuLnRhc2suZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS50YXNrLmRpc2FibGVkPSEwKSxuLnRhc2sucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLnRhc2sucmluZ3RvbmVVcmw9bi50YXNrLnJpbmd0b25lVXJsKSksbi5lbWFpbCYmKG4uZW1haWwuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS5lbWFpbC5kaXNhYmxlZD0hMCksbi5lbWFpbC5yaW5ndG9uZVVybCYmKGUucmluZ3RvbmUuZW1haWwucmluZ3RvbmVVcmw9bi5lbWFpbC5yaW5ndG9uZVVybCkpLG4ucmluZ3RvbmUmJihlLnJpbmd0b25lLnZvaWNlPXQubWVyZ2UoZS5yaW5ndG9uZS52b2ljZSxuLnJpbmd0b25lLnZvaWNlfHx7fSksZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjaz10Lm1lcmdlKGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2ssbi5yaW5ndG9uZS52b2ljZXx8e30pLGUucmluZ3RvbmUuY2hhdD10Lm1lcmdlKGUucmluZ3RvbmUuY2hhdCxuLnJpbmd0b25lLmNoYXR8fHt9KSxlLnJpbmd0b25lLnRhc2s9dC5tZXJnZShlLnJpbmd0b25lLnRhc2ssbi5yaW5ndG9uZS50YXNrfHx7fSksZS5yaW5ndG9uZS5lbWFpbD10Lm1lcmdlKGUucmluZ3RvbmUuZW1haWwsbi5yaW5ndG9uZS5lbWFpbHx8e30pKX07aWYocyhuLG4pLHQuaXNGcmFtZWQoKSl7bGV0IHI7dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24obyl7ZS5jbGVhclRpbWVvdXQociksdC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmUgRW5naW5lXSBDb25maWd1cmUgZXZlbnQgaGFuZGxlciBleGVjdXRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy51bnN1YnNjcmliZSgpLHMobixvKSx5LnNldChuLnJpbmd0b25lKSxpKG4ucmluZ3RvbmUpfSkpO2NvbnN0IG89eS5nZXQoKTtvJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtuJiZuLmlkJiYodC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmVFbmdpbmVdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5IGFuZCB3YWl0aW5nIGZvciBjb25maWd1cmUgTWVzc2FnZSBoYW5kbGVyIHRvIGV4ZWN1dGUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMudW5zdWJzY3JpYmUoKSxyPWUuc2V0VGltZW91dCgoKCk9Pnt0LmdldExvZygpLmluZm8oIltSaW5ndG9uZUVuZ2luZV0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCB3aXRob3V0IGNvbmZpZ3VyZSBtZXNzYWdlICYgSW5pdGlhbGl6aW5nIHNldHVwUmluZ3RvbmVFbmdpbmVzIChSaW5ndG9uZSBFbmdpbmUpIGZyb20gbG9jYWxTdG9yYWdlIHJpbmd0b25lIHBhcmFtcy4gIikud2l0aE9iamVjdCh7cmluZ3RvbmU6b30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShvKX0pLDEwMCkpfSkpfWVsc2UgaShuLnJpbmd0b25lKX07dmFyIFQ9ZnVuY3Rpb24oKXt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9SSU5HRVJfREVWSUNFLEEpfSxBPWZ1bmN0aW9uKCl7Y29uc3QgZT0oYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9KS5kZXZpY2VJZHx8IiI7aWYodC5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBBdHRlbXB0aW5nIHRvIHNldCByaW5nZXIgZGV2aWNlICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLDA9PT10LmtleXModC5jb3JlLnJpbmd0b25lRW5naW5lcykubGVuZ3RoKXJldHVybiB0LmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIHNldFJpbmdlckRldmljZSBjYWxsZWQgYmVmb3JlIHJpbmd0b25lIGVuZ2luZSBpcyBpbml0aWFsaXplZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdm9pZChlJiYodC5jb3JlLl9yaW5nZXJEZXZpY2VJZD1lLHQuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gc3RvcmVkIGRldmljZSBJZCBmb3IgbGF0ZXIgdXNlLCBvbmNlIHJpbmd0b25lIGVuZ2luZSBpcyB1cC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQucHVibGlzaE1ldHJpYyh7bmFtZToiU2V0UmluZ2VyRGV2aWNlQmVmb3JlSW5pdFJpbmd0b25lRW5naW5lIixkYXRhOntjb3VudDoxfX0pKSk7aWYoZSl7Zm9yKGxldCBuIGluIHQuY29yZS5yaW5ndG9uZUVuZ2luZXMpdC5jb3JlLnJpbmd0b25lRW5naW5lc1tuXS5zZXRPdXRwdXREZXZpY2UoZSkudGhlbigoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSByaW5ndG9uZVR5cGUgIi5jb25jYXQobiwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gZGV2aWNlaWQgIikuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKGUpfSkpO3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5SSU5HRVJfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX1lbHNlIHQuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyByaW5nZXIgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBkZXZpY2VJZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9O3QuY29yZS5pbml0U29mdHBob25lTWFuYWdlcj1mdW5jdGlvbihuKXt2YXIgcj1ufHx7fTt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gaW5pdFNvZnRwaG9uZU1hbmFnZXIgc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIG49dC5tZXJnZShyLnNvZnRwaG9uZXx8e30sZSk7dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGNvbXBldGVGb3JNYXN0ZXJPbkFnZW50VXBkYXRlIGV4ZWN1dGVkIikud2l0aE9iamVjdCh7c29mdHBob25lUGFyYW1zOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYWdlbnQoKGZ1bmN0aW9uKGUpe2UuZ2V0Q2hhbm5lbENvbmN1cnJlbmN5KHQuQ2hhbm5lbFR5cGUuVk9JQ0UpJiYoZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKG4uaXNTb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQ9ZS5nZXRDb25maWd1cmF0aW9uKCkuc29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24pLGUub25SZWZyZXNoKChmdW5jdGlvbigpe3ZhciByPXRoaXM7dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGFnZW50IHJlZnJlc2ggaGFuZGxlciBleGVjdXRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUsKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGNvbmZpcm1lZCBhcyBzb2Z0cGhvbmUgbWFzdGVyIHRvcGljIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJmUuaXNTb2Z0cGhvbmVFbmFibGVkKCkmJih0LmNvcmUuc29mdHBob25lTWFuYWdlcj1uZXcgdC5Tb2Z0cGhvbmVNYW5hZ2VyKG4pLHIudW5zdWJzY3JpYmUoKSl9KSl9KSkpfSkpfTtpZih0LmlzRnJhbWVkKCkmJnQuaXNDQ1AoKSl7bGV0IG47dC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSwoZnVuY3Rpb24ocil7ZS5jbGVhclRpbWVvdXQobiksdC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIENvbmZpZ3VyZSBldmVudCBoYW5kbGVyIGV4ZWN1dGVkIikud2l0aE9iamVjdCh7ZGF0YTpyfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2LnNldChyLnNvZnRwaG9uZSksci5zb2Z0cGhvbmUmJnIuc29mdHBob25lLmFsbG93RnJhbWVkU29mdHBob25lJiYodGhpcy51bnN1YnNjcmliZSgpLG8oci5zb2Z0cGhvbmUpKSxpKHIuc29mdHBob25lKX0pKTtsZXQgcj12LmdldCgpO3ImJnQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKHMpe3MmJnMuaWQmJih0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHkgYW5kIHdhaXRpbmcgZm9yIGNvbmZpZ3VyZSBNZXNzYWdlIGhhbmRsZXIgdG8gZXhlY3V0ZSIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy51bnN1YnNjcmliZSgpLG49ZS5zZXRUaW1lb3V0KCgoKT0+e3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBFbWJlZGRlZCBDQ1AgaXMgcmVmcmVzaGVkIHdpdGhvdXQgY29uZmlndXJlIG1lc3NhZ2UgaGFuZGxlciBleGVjdXRpb24iKS53aXRoT2JqZWN0KHtzb2Z0cGhvbmVQYXJhbXNGcm9tTG9jYWxTdG9yYWdlOnJ9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQucHVibGlzaE1ldHJpYyh7bmFtZToiRW1iZWRkZWRDQ1BSZWZyZXNoZWRXaXRob3V0SW5pdENDUCIsZGF0YTp7Y291bnQ6MX19KSxpKHIpLHIuYWxsb3dGcmFtZWRTb2Z0cGhvbmUmJih0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCAmIEluaXRpYWxpemluZyBjb21wZXRlRm9yTWFzdGVyT25BZ2VudFVwZGF0ZSAoU29mdHBob25lIG1hbmFnZXIpIGZyb20gbG9jYWxTdG9yYWdlIHNvZnRwaG9uZSBwYXJhbXMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8ocikpfSksMTAwKSl9KSl9ZWxzZSBvKHIpLGkocik7ZnVuY3Rpb24gaShlKXt2YXIgbj10Lm1lcmdlKHIuc29mdHBob25lfHx7fSxlKTt0LmNvcmUuc29mdHBob25lUGFyYW1zPW4sdC5pc0ZpcmVmb3hCcm93c2VyKCkmJih0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSwoZnVuY3Rpb24oZSl7ZS5kYXRhJiZlLmRhdGEudG9waWM9PT10Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUmJmUuZGF0YS50YWtlT3ZlciYmZS5kYXRhLm1hc3RlcklkIT09dC5jb3JlLnBvcnRTdHJlYW1JZCYmdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJih0LmNvcmUuc29mdHBob25lTWFuYWdlci5vbkluaXRDb250YWN0U3ViLnVuc3Vic2NyaWJlKCksZGVsZXRlIHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyKX0pKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04sKGZ1bmN0aW9uKCl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5TT0ZUUEhPTkUsKGZ1bmN0aW9uKCl7dC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJnQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnN0YXJ0U2Vzc2lvbigpfSksKGZ1bmN0aW9uKCl7dC5iZWNvbWVNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FLChmdW5jdGlvbigpe3QuYWdlbnQoKGZ1bmN0aW9uKGUpeyF0LmNvcmUuc29mdHBob25lTWFuYWdlciYmZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKHQuYmVjb21lTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNFTkRfTE9HUyksdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bmV3IHQuU29mdHBob25lTWFuYWdlcihuKSx0LmNvcmUuc29mdHBob25lTWFuYWdlci5zdGFydFNlc3Npb24oKSl9KSl9KSl9KSl9KSksdC5jb250YWN0KChmdW5jdGlvbihlKXt0LmFnZW50KChmdW5jdGlvbihuKXtlLm9uUmVmcmVzaCgoZnVuY3Rpb24oZSl7aWYodC5oYXNPdGhlckNvbm5lY3RlZENDUHMoKSYmInZpc2libGUiPT09ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiYoZS5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HfHxlLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbnRhY3RTdGF0dXNUeXBlLklOQ09NSU5HKSl7dmFyIHI9ZS5pc1NvZnRwaG9uZUNhbGwoKSYmIWUuaXNJbmJvdW5kKCksbz1lLmlzU29mdHBob25lQ2FsbCgpJiZuLmdldENvbmZpZ3VyYXRpb24oKS5zb2Z0cGhvbmVBdXRvQWNjZXB0LGk9ZS5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlFVRVVFX0NBTExCQUNLOyhyfHxvfHxpKSYmdC5jb3JlLnRyaWdnZXJSZWFkeVRvU3RhcnRTZXNzaW9uRXZlbnQoKX19KSl9KSl9KSkpfXQuYWdlbnQoKGZ1bmN0aW9uKGUpe2UuaXNTb2Z0cGhvbmVFbmFibGVkKCkmJmUuZ2V0Q2hhbm5lbENvbmN1cnJlbmN5KHQuQ2hhbm5lbFR5cGUuVk9JQ0UpJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkV2ZW50VHlwZS5NVVRFfSl9KSl9LHQuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50PWZ1bmN0aW9uKCl7dmFyIGU9dC5jb3JlLnNvZnRwaG9uZVBhcmFtcyYmdC5jb3JlLnNvZnRwaG9uZVBhcmFtcy5hbGxvd0ZyYW1lZFNvZnRwaG9uZTt0LmlzQ0NQKCk/ZT90LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTp0LmlzRnJhbWVkKCk/dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOnQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5Db25uZWN0aW9uRXZlbnRzLlJFQURZX1RPX1NUQVJUX1NFU1NJT04pOmU/dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTp0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKX0sdC5jb3JlLmluaXRQYWdlT3B0aW9ucz1mdW5jdGlvbihlKXtpZih0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIiksdC5pc0ZyYW1lZCgpKXt2YXIgbj10LmNvcmUuZ2V0RXZlbnRCdXMoKTtuLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5DT05GSUdVUkUsZGF0YTplfSl9KSksbi5zdWJzY3JpYmUodC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFUVVFU1QsKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVTUE9OU0UsZSl9bmF2aWdhdG9yJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzP25hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGZ1bmN0aW9uKHQpe2RldmljZXM9dHx8W10sZGV2aWNlcz1kZXZpY2VzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9KU09OKCl9KSksZShkZXZpY2VzKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7ZSh7ZXJyb3I6dC5tZXNzYWdlfSl9KSk6ZSh7ZXJyb3I6Ik5vIG5hdmlnYXRvciBvciBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIG9iamVjdCBmb3VuZCJ9KX0pKX19LHQuY29yZS5pbml0QXBpUHJveHlTZXJ2aWNlPWZ1bmN0aW9uKCl7dC5jb3JlLmFwaVByb3h5Q2xpZW50PW5ldyB0LkFwaVByb3h5Q2xpZW50LHQuaXNGcmFtZWQoKSYmKHQuY29yZS5oYW5kbGVBcGlQcm94eVJlcXVlc3Q9ZnVuY3Rpb24oZSl7bnVsbCE9ZSYmZS5tZXRob2QmJnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLmNhbGwoZS5tZXRob2QsZS5wYXJhbXMse3N1Y2Nlc3M6ZnVuY3Rpb24obil7Y29uc3Qgcj17ZGF0YTpuLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLHIpfSxmYWlsdXJlOmZ1bmN0aW9uKG4pe2NvbnN0IHI9e2VycjpuLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLHIpfX0pfSl9LHQuY29yZS5nZXRGcmFtZU1lZGlhRGV2aWNlcz1mdW5jdGlvbihlKXt2YXIgbj1udWxsLHI9ZXx8MWUzLG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KG5ldyBFcnJvcigiVGltZW91dCBleGNlZWRlZCIpKX0pLHIpfSkpLGk9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7aWYodC5pc0NDUCgpKW5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcz9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtkZXZpY2VzPXR8fFtdLGRldmljZXM9ZGV2aWNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSkpLGUoZGV2aWNlcyl9KSk6cihuZXcgRXJyb3IoIk5vIG5hdmlnYXRvciBvciBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIG9iamVjdCBmb3VuZCIpKTtlbHNle3ZhciBvPXQuY29yZS5nZXRFdmVudEJ1cygpO249by5zdWJzY3JpYmUodC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFU1BPTlNFLChmdW5jdGlvbih0KXt0LmVycm9yP3IobmV3IEVycm9yKHQuZXJyb3IpKTplKHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVRVUVTVCl9fSkpO3JldHVybiBQcm9taXNlLnJhY2UoW2ksb10pLmZpbmFsbHkoKGZ1bmN0aW9uKCl7biYmbi51bnN1YnNjcmliZSgpfSkpfSx0LmNvcmUuYXV0aG9yaXplPWZ1bmN0aW9uKGUpe3ZhciBuPWU7cmV0dXJuIG58fChuPXQuY29yZS5pc0xlZ2FjeURvbWFpbigpP3U6YyksdC5mZXRjaChuLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9LDJlMyw1KX0sdC5jb3JlLnZlcmlmeURvbWFpbkFjY2Vzcz1mdW5jdGlvbihlLG4pe2lmKHQuZ2V0TG9nKCkud2FybigiVGhpcyBBUEkgd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gcmVsZWFzZSIpLCF0LmlzRnJhbWVkKCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3ZhciByPXtoZWFkZXJzOnsiWC1BbXotQmVhcmVyIjplfX0sbz1udWxsO3JldHVybiBvPW58fCh0LmNvcmUuaXNMZWdhY3lEb21haW4oKT8iL2Nvbm5lY3Qvd2hpdGVsaXN0ZWQtb3JpZ2lucyI6Ii93aGl0ZWxpc3RlZC1vcmlnaW5zIiksdC5mZXRjaChvLHIsMmUzLDUpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWIod2luZG93LmRvY3VtZW50LnJlZmVycmVyKTtyZXR1cm4gZS53aGl0ZWxpc3RlZE9yaWdpbnMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1iKGUpfSkpP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVqZWN0KCl9KSl9LHQuY29yZS5pc0xlZ2FjeURvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4oZT1lfHx3aW5kb3cubG9jYXRpb24uaHJlZikuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpfSx0LmNvcmUuaW5pdFNoYXJlZFdvcmtlcj1mdW5jdGlvbihuKXtpZih0LmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCF0LmNvcmUuaW5pdGlhbGl6ZWQpe3QuYXNzZXJ0Tm90TnVsbChuLCJwYXJhbXMiKTt2YXIgcj10LmFzc2VydE5vdE51bGwobi5zaGFyZWRXb3JrZXJVcmwsInBhcmFtcy5zaGFyZWRXb3JrZXJVcmwiKSxvPXQuYXNzZXJ0Tm90TnVsbChuLmF1dGhUb2tlbiwicGFyYW1zLmF1dGhUb2tlbiIpLGk9dC5hc3NlcnROb3ROdWxsKG4ucmVmcmVzaFRva2VuLCJwYXJhbXMucmVmcmVzaFRva2VuIikscz10LmFzc2VydE5vdE51bGwobi5hdXRoVG9rZW5FeHBpcmF0aW9uLCJwYXJhbXMuYXV0aFRva2VuRXhwaXJhdGlvbiIpLGE9dC5hc3NlcnROb3ROdWxsKG4ucmVnaW9uLCJwYXJhbXMucmVnaW9uIiksbD1uLmVuZHBvaW50fHxudWxsLHA9bi5hdXRob3JpemVFbmRwb2ludDtwfHwocD10LmNvcmUuaXNMZWdhY3lEb21haW4oKT91OmMpO3ZhciBkPW4uYWdlbnRBcHBFbmRwb2ludHx8bnVsbCxoPW4udGFza1RlbXBsYXRlc0VuZHBvaW50fHxudWxsLGc9bi5hdXRoQ29va2llTmFtZXx8bnVsbDt0cnl7dC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITB9KSx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IFIodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KG4pO3ZhciBmPW5ldyBTaGFyZWRXb3JrZXIociwiQ29ubmVjdFNoYXJlZFdvcmtlciIpLG09bmV3IHQuQ29uZHVpdCgiQ29ubmVjdFNoYXJlZFdvcmtlckNvbmR1aXQiLG5ldyB0LlBvcnRTdHJlYW0oZi5wb3J0KSxuZXcgdC5XaW5kb3dJT1N0cmVhbSh3aW5kb3cscGFyZW50KSk7dC5jb3JlLnVwc3RyZWFtPW0sdC5jb3JlLndlYlNvY2tldFByb3ZpZGVyPW5ldyBfLGUub251bmxvYWQ9ZnVuY3Rpb24oKXttLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5DTE9TRSksZi5wb3J0LmNsb3NlKCl9LHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbUxvZ1B1c2gobSksdC5nZXRMb2coKS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2goKSxtLm9uQWxsVXBzdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLG0ub25BbGxVcHN0cmVhbShtLnBhc3NEb3duc3RyZWFtKCkpLHQuaXNGcmFtZWQoKSYmKG0ub25BbGxEb3duc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSxtLm9uQWxsRG93bnN0cmVhbSgoZnVuY3Rpb24oZSxuKXtuPT09dC5FdmVudFR5cGUuQVBJX1JFUVVFU1QmJnQuY29udGFpbnNWYWx1ZSh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcyxudWxsPT1lP3ZvaWQgMDplLm1ldGhvZCk/dC5jb3JlLmhhbmRsZUFwaVByb3h5UmVxdWVzdChlKTptLnBhc3NVcHN0cmVhbSgpKGUsbil9KSkpLG0uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSx7YXV0aFRva2VuOm8sYXV0aFRva2VuRXhwaXJhdGlvbjpzLGVuZHBvaW50OmwscmVmcmVzaFRva2VuOmkscmVnaW9uOmEsYXV0aG9yaXplRW5kcG9pbnQ6cCxhZ2VudEFwcEVuZHBvaW50OmQsdGFza1RlbXBsYXRlc0VuZHBvaW50OmgsYXV0aENvb2tpZU5hbWU6Zyxsb25nUG9sbGluZ09wdGlvbnM6bi5sb25nUG9sbGluZ09wdGlvbnN8fHZvaWQgMH0pLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJBY2tub3dsZWRnZWQgYnkgdGhlIENvbm5lY3RTaGFyZWRXb3JrZXIhIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLl9zZXRUYWJJZCgpLHQuY29yZS5wb3J0U3RyZWFtSWQ9ZS5pZCx0aGlzLnVuc3Vic2NyaWJlKCl9KSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLChmdW5jdGlvbihlKXt0LmdldExvZygpLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXIodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSxtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLChmdW5jdGlvbihlKXt0LmlzRnJhbWVkKCkmJkFycmF5LmlzQXJyYXkoZSkmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5zZW5kSW50ZXJuYWxMb2dFbnRyeVRvU2VydmVyKHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSl9KSksbS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXt0LmlzRnJhbWVkKCkmJmUubG9nZ2VySWQhPT10LmdldExvZygpLmdldExvZ2dlcklkKCkmJnQuZ2V0TG9nKCkuYWRkTG9nRW50cnkodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSx0LmNvcmUub25BdXRoRmFpbCh0LmhpdGNoKHQuY29yZSx0LmNvcmUuX2hhbmRsZUF1dGhGYWlsLG4ubG9naW5FbmRwb2ludHx8bnVsbCxwKSksdC5jb3JlLm9uQXV0aG9yaXplU3VjY2Vzcyh0LmhpdGNoKHQuY29yZSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZVN1Y2Nlc3MpKSx0LmdldExvZygpLmluZm8oIlVzZXIgQWdlbnQ6ICIrbmF2aWdhdG9yLnVzZXJBZ2VudCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oImlzQ0NQdjI6ICIrITApLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nZXRMb2coKS5pbmZvKCJpc0ZyYW1lZDogIit0LmlzRnJhbWVkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLnVwc3RyZWFtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8sKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3RyZWFtc1ZlcnNpb258fG51bGw7dC5nZXRMb2coKS5pbmZvKCJTdHJlYW1zSlMgVmVyc2lvbjogIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQub3V0ZXJDb250ZXh0U3RyZWFtc1ZlcnNpb249bn0pKSxtLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIk51bWJlciBvZiBjb25uZWN0ZWQgQ0NQcyB1cGRhdGVkOiAiK2UubGVuZ3RoKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RoLGVbdC5jb3JlLnRhYklkXSYmIWlzTmFOKGVbdC5jb3JlLnRhYklkXS5sZW5ndGgpJiZ0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYiE9PWVbdC5jb3JlLnRhYklkXS5sZW5ndGgmJih0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYj1lW3QuY29yZS50YWJJZF0ubGVuZ3RoLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPjEmJnQuZ2V0TG9nKCkud2FybigiVGhlcmUgYXJlICIrdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWIrIiBjb25uZWN0ZWQgQ0NQcyBpbiB0aGlzIHRhYi4gUGxlYXNlIGFkanVzdCB5b3VyIGltcGxlbWVudGF0aW9uIHRvIGF2b2lkIGNvbXBsaWNhdGlvbnMuIElmIHlvdSBhcmUgZW1iZWRkaW5nIENDUCwgcGxlYXNlIGRvIHNvIGV4Y2x1c2l2ZWx5IHdpdGggaW5pdENDUC4gSW5pdENDUCB3aWxsIG5vdCBsZXQgeW91IGVtYmVkIG1vcmUgdGhhbiBvbmUgQ0NQLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDb25uZWN0ZWRDQ1BTaW5nbGVUYWJDb3VudCIsZGF0YTp7Y291bnQ6dC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWJ9fSkpLGUudGFiSWQmJmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyJiZ0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLk1FVFJJQ1MsKCgpPT50LmFnZW50KCgoKT0+dC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDQ1BUYWJzQWNyb3NzQnJvd3NlckNvdW50IixkYXRhOnt0YWJJZDplLnRhYklkLGNvdW50OmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyfX0pKSkpKX0pKSx0LmNvcmUuY2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdENsaWVudChtKSx0LmNvcmUubWFzdGVyQ2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChtKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuVEVSTUlOQVRFLG0ucGFzc1Vwc3RyZWFtKCkpLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEVELChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoITApfSkpLGYucG9ydC5zdGFydCgpLG0ub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5hZ2VudCgoZnVuY3Rpb24oKXsobmV3IHQuVm9pY2VJZCkuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInZvaWNlSWQgZG9tYWluSWQgc3VjY2Vzc2Z1bGx5IGZldGNoZWQgYXQgYWdlbnQgaW5pdGlhbGl6YXRpb246ICIrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJ2b2ljZUlkIGRvbWFpbklkIG5vdCBmZXRjaGVkIGF0IGFnZW50IGluaXRpYWxpemF0aW9uIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfSkpLHQuY29yZS5nZXROb3RpZmljYXRpb25NYW5hZ2VyKCkucmVxdWVzdFBlcm1pc3Npb24oKSxtLm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9ESVNBU1RFUl9SRUNPVkVSWSwoZnVuY3Rpb24oZSl7dC5jb3JlLmluaXREaXNhc3RlclJlY292ZXJ5KGUpfSkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBBUEkgc2hhcmVkIHdvcmtlciwgd2UncmUgZGVhZCEiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fX0sdC5jb3JlLl9zZXRUYWJJZD1mdW5jdGlvbigpe3RyeXt0LmNvcmUudGFiSWQ9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuVEFCX0lEKSx0LmNvcmUudGFiSWR8fCh0LmNvcmUudGFiSWQ9dC5yYW5kb21JZCgpLHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLlRBQl9JRCx0LmNvcmUudGFiSWQpKSx0LmNvcmUudXBzdHJlYW0uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlRBQl9JRCx7dGFiSWQ6dC5jb3JlLnRhYklkfSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZF0gVGhlcmUgd2FzIGFuIGlzc3VlIHNldHRpbmcgdGhlIHRhYiBJZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5zZXR1cEF1dGhlbnRpY2F0aW9uRXZlbnRIYW5kbGVycz1mdW5jdGlvbihlLG4sbyl7dmFyIGk7dC5jb3JlLmxvZ2luQWNrVGltZW91dFN1Yj10LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQsKGZ1bmN0aW9uKCl7dC5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuYXV0aGVudGljYXRlKGUsbixvKX0pKSxudWxsIT09KGk9ZS5sb2dpbk9wdGlvbnMpJiZ2b2lkIDAhPT1pJiZpLmRpc2FibGVBdXRoUG9wdXBBZnRlckxvZ291dHx8KHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEVELChmdW5jdGlvbigpe3QuZ2V0TG9nKCkud2FybigiVEVSTUlOQVRFRCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtjb25zdCBpPWUuY2NwQWNrVGltZW91dHx8cjtzZXRUaW1lb3V0KCgoKT0+e3QuY29yZS5hdXRoZW50aWNhdGUoZSxuLG8pfSksaSl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCwoZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oIkFVVEhfRkFJTCBvY2N1cnJlZC4gQXR0ZW1wdGluZyB0byBhdXRoZW50aWNhdGUuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtjb25zdCBpPWUuY2NwQWNrVGltZW91dHx8cjtzZXRUaW1lb3V0KCgoKT0+e3QuY29yZS5hdXRoZW50aWNhdGUoZSxuLG8pfSksaSl9KSkpfSx0LmNvcmUuaW5pdENDUD1mdW5jdGlvbihpLHMpe3ZhciBhLGM7aWYodC5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQoKSx0LmNvcmUuaW5pdGlhbGl6ZWQpcmV0dXJuO3QuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB1PURhdGUubm93KCk7dHJ5e2lmKHQuY29yZS5fZ2V0Q0NQSWZyYW1lKCkpcmV0dXJuIHZvaWQgdC5nZXRMb2coKS5lcnJvcigiQXR0ZW1wdGVkIHRvIGNhbGwgaW5pdENDUCB3aGVuIGFuIGlmcmFtZSBnZW5lcmF0ZWQgYnkgaW5pdENDUCBhbHJlYWR5IGV4aXN0cyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgaWYgaW5pdENDUCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX12YXIgZz17fSxmPXZvaWQgMCxtPXZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIHM/Zy5jY3BVcmw9czooKGc9cykucHJvdmlkZXImJihmPWcucHJvdmlkZXIsZGVsZXRlIGcucHJvdmlkZXIpLGcucGx1Z2lucyYmKG09Zy5wbHVnaW5zLGRlbGV0ZSBnLnBsdWdpbnMpKSx0LmluaXRDQ1BQYXJhbXM9Zyx0LmNvbnRhaW5lckRpdj1pLHQuYXNzZXJ0Tm90TnVsbChpLCJjb250YWluZXJEaXYiKSx0LmFzc2VydE5vdE51bGwoZy5jY3BVcmwsInBhcmFtcy5jY3BVcmwiKSxmKXRyeXt0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGE9e3Byb3ZpZGVyOmYsaXNTdHJlYW1zUHJvdmlkZXI6ITF9LHQuZ2V0TG9nKCkuaW5mbygiVXNpbmcgQW1hem9uQ29ubmVjdFByb3ZpZGVyIGZyb20gcGFyYW1zIikud2l0aE9iamVjdCh7cHJvdmlkZXJJZDp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuaWQscHJvdmlkZXJUeXBlOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5jb25zdHJ1Y3Rvci5uYW1lfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGVuIHNldHRpbmcgdXAgQW1hem9uQ29ubmVjdFByb3ZpZGVyIGZyb20gcGFyYW1zIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2UgdHJ5e3ZhciBiLFM7Y29uc3R7QW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlOmUsQW1hem9uQ29ubmVjdEdSU3RyZWFtc1NpdGU6cn09bigyNzUpO3ZhciBFPW5ldyBVUkwoZy5jY3BVcmwpLm9yaWdpbjtpZighMD09PShudWxsPT09KGI9Zyl8fHZvaWQgMD09PWI/dm9pZCAwOmIuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSkmJm51bGwhPT0oUz1nKSYmdm9pZCAwIT09UyYmUy5zZWNvbmRhcnlDQ1BVcmwpe3ZhciBJPXtwcmltYXJ5SW5zdGFuY2VVcmw6RSxzZWNvbmRhcnlJbnN0YW5jZVVybDpuZXcgVVJMKGcuc2Vjb25kYXJ5Q0NQVXJsKS5vcmlnaW59O3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT1vKG8oe30sci5pbml0KEkpKSx7fSx7aXNTdHJlYW1zUHJvdmlkZXI6ITAsaXNBQ0dSRW5hYmxlZDohMH0pLHQuZ2V0TG9nKCkuaW5mbygiW0dSXSBDcmVhdGVkIEFtYXpvbkNvbm5lY3RHUlN0cmVhbXNTaXRlIikud2l0aE9iamVjdCh7cHJvdmlkZXJJZDp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuaWR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2UgST17aW5zdGFuY2VVcmw6RX0sdC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhPW8obyh7fSxlLmluaXQoSSkpLHt9LHtpc1N0cmVhbXNQcm92aWRlcjohMH0pLHQuZ2V0TG9nKCkuaW5mbygiQ3JlYXRlZCBBbWF6b25Db25uZWN0U3RyZWFtc1NpdGUiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHVwIEFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1pZihtKXRyeXsobT1BcnJheS5pc0FycmF5KG0pP206W21dKS5yZWR1Y2UoKChlLHQpPT50KGUpKSxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyKSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hlbiBzZXR0aW5nIHBsdWdpbnMgZm9yIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXQuY29yZS5pZnJhbWVTdHlsZT1nLnN0eWxlfHwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiLG51bGwhPT0oYT1nLnNvZnRwaG9uZSkmJnZvaWQgMCE9PWEmJmEuZGlzYWJsZVN0b3JpbmdQYXJhbXNJbkxvY2FsU3RvcmFnZXx8KHYuY2xlYW4oKSx5LmNsZWFuKCkpO2xldCBUPW51bGw7dmFyIEEsTyxMLGs7aWYoITA9PT0obnVsbD09PShjPWcpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3kpKWlmKCJzdHJpbmciIT10eXBlb2YobnVsbD09PShBPWcpfHx2b2lkIDA9PT1BP3ZvaWQgMDpBLnNlY29uZGFyeUNDUFVybCl8fCIiPT09KG51bGw9PT0oTz1nKXx8dm9pZCAwPT09Tz92b2lkIDA6Ty5zZWNvbmRhcnlDQ1BVcmwpKXtjb25zdCBlPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBzZWNvbmRhcnlDQ1BVcmwgd2FzIG5vdCBwcm92aWRlZC4gR2xvYmFsIFJlc2lsaWVuY3kgd2lsbCBub3QgYmUgZW5hYmxlZCI7dC5nZXRMb2coKS5lcnJvcihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLFQ9e2V2ZW50OnQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfRVJST1IsZGF0YTpuZXcgRXJyb3IoZSl9fWVsc2V7aWYoInN0cmluZyI9PXR5cGVvZihudWxsPT09KEw9Zyl8fHZvaWQgMD09PUw/dm9pZCAwOkwubG9naW5VcmwpJiYiIiE9PShudWxsPT09KGs9Zyl8fHZvaWQgMD09PWs/dm9pZCAwOmsubG9naW5VcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCBhbmQgc2Vjb25kYXJ5Q0NQVXJsIGFuZCBsb2dpblVybCB3YXMgcHJvdmlkZWQuIEdsb2JhbCBSZXNpbGllbmN5IHdpbGwgYmUgZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nbG9iYWxSZXNpbGllbmN5LmluaXRHUkNDUChpLHMpO3tjb25zdCBlPSJlbmFibGVHbG9iYWxSZXNpbGllbmN5IGZsYWcgd2FzIGVuYWJsZWQsIGJ1dCBsb2dpblVybCB3YXMgbm90IHByb3ZpZGVkLiBHbG9iYWwgUmVzaWxpZW5jeSB3aWxsIG5vdCBiZSBlbmFibGVkIjt0LmdldExvZygpLmVycm9yKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksVD17ZXZlbnQ6dC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixkYXRhOm5ldyBFcnJvcihlKX19fXQuc3RvcmFnZUFjY2Vzcy5pbml0KGcuY2NwVXJsLGksZy5zdG9yYWdlQWNjZXNzfHx7fSk7dmFyIFA9dC5jb3JlLl9jcmVhdGVDQ1BJZnJhbWUoaSxnKSxOPW5ldyB0LklGcmFtZUNvbmR1aXQoZy5jY3BVcmwsd2luZG93LFApO2Z1bmN0aW9uIEQoKXt0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IFIodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KGcpLHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoUCxOKSx0LmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IF8sTi5vbkFsbFVwc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlcj1uZXcgdyhOLHQuY29yZS5nZXRFdmVudEJ1cygpLGcuY2NwU3luVGltZW91dHx8MWUzLGcuY2NwQWNrVGltZW91dHx8ciksdC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0PW51bGwsdC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCksdC5nZXRMb2coKS5pbmZvKCJDQ1AgTG9hZFRpbWVvdXQgdHJpZ2dlcmVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLGcuY2NwTG9hZFRpbWVvdXR8fDVlMyksdC5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtT3V0ZXJDb250ZXh0Q0NQTG9nc1B1c2goTiksdC5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzUHVzaChOKSxOLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKG4pe3ZhciByO3QuZ2V0TG9nKCkuaW5mbygiQWNrbm93bGVkZ2VkIGJ5IHRoZSBDQ1AhIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuY2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdENsaWVudChOKSx0LmNvcmUubWFzdGVyQ2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChOKSx0LmNvcmUucG9ydFN0cmVhbUlkPW4uaWQsdC5jb3JlLmxvZ2luQWNrVGltZW91dFN1YiYmbnVsbCE9PShyPWcubG9naW5PcHRpb25zKSYmdm9pZCAwIT09ciYmci5kaXNhYmxlQXV0aFBvcHVwQWZ0ZXJMb2dvdXQmJih0LmNvcmUubG9naW5BY2tUaW1lb3V0U3ViLnVuc3Vic2NyaWJlKCksdC5jb3JlLmxvZ2luQWNrVGltZW91dFN1Yj1udWxsLHQuZ2V0TG9nKCkuaW5mbygiQUNLX1RJTUVPVVQgc3Vic2NyaXB0aW9uIHVuc3Vic2NyaWJlZCBhZnRlciByZWNlaXZpbmcgQUNLTk9XTEVER0UgZHVlIHRvIGRpc2FibGVBdXRoUG9wdXBBZnRlckxvZ291dCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLHQuY29yZS5zZW5kQ29uZmlndXJlKGcsTiwhMSksdC5jb3JlLmxpc3RlbkZvckNvbmZpZ3VyZVJlcXVlc3QoZyxOLCExKSxnLmRpc2FzdGVyUmVjb3ZlcnlPbiYmKHQuY29yZS5yZWdpb249Zy5yZWdpb24sdC5jb3JlLnN1cHByZXNzQ29udGFjdHM9Qyx0LmNvcmUuZm9yY2VPZmZsaW5lPWZ1bmN0aW9uKGUpe04uc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TRVRfT0ZGTElORSxlKX0sTi5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRElTQVNURVJfUkVDT1ZFUlksZykpLHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlJiYoZS5jbGVhclRpbWVvdXQodC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UpLHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPW51bGwpLE4uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLk9VVEVSX0NPTlRFWFRfSU5GTyx7c3RyZWFtc1ZlcnNpb246dC52ZXJzaW9ufSk7Y29uc3R7ZW5hYmxlQWNrVGltZW91dDpvfT1nLmxvZ2luT3B0aW9uc3x8e307aWYobyYmdC5jb3JlLmtlZXBhbGl2ZU1hbmFnZXIuZW5hYmxlQWNrVGltZW91dChvKSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHRoaXMudW5zdWJzY3JpYmUoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5JTklUKSxUJiZ0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKFQuZXZlbnQsVC5kYXRhKSx1KXt2YXIgaT1EYXRlLm5vdygpLXUscz10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KGkpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQocykpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoKCk9Pnt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6bCxkYXRhOntjb3VudDpzfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpkLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50Oml9fSksZy5kaXNhc3RlclJlY292ZXJ5T24mJih0LnB1Ymxpc2hNZXRyaWMoe25hbWU6cCxkYXRhOntjb3VudDpzfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpoLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWVEciIsZGF0YTp7Y291bnQ6aX19KSksdT1udWxsfSksMWUzKX19KSksTi5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5zZXR1cEF1dGhlbnRpY2F0aW9uRXZlbnRIYW5kbGVycyhnLGksTiksZy5vblZpZXdDb250YWN0JiZ0LmNvcmUub25WaWV3Q29udGFjdChnLm9uVmlld0NvbnRhY3QpLE4ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLE4ub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oKXtpZih1KXt2YXIgZT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTt0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLXUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOmwsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZCxkYXRhOntjb3VudDowfX0pLGcuZGlzYXN0ZXJSZWNvdmVyeU9uJiYodC5wdWJsaXNoTWV0cmljKHtuYW1lOnAsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6aCxkYXRhOntjb3VudDowfX0pKSx1PW51bGx9fSkpLHQuY29yZS5zb2Z0cGhvbmVQYXJhbXM9Zy5zb2Z0cGhvbmV9dC5jb3JlLnVwc3RyZWFtPU4sdC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpP3Quc3RvcmFnZUFjY2Vzcy5zZXR1cFJlcXVlc3RIYW5kbGVycyh7b25HcmFudDpEfSk6RCgpfSx0LmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrPWZ1bmN0aW9uKGUsbil7Y29uc3Qgcj0iY29ubmVjdC1sb2dpbi1wb3B1cC1sb2NrIitlO3RyeXtuYXZpZ2F0b3IubG9ja3MucmVxdWVzdChyLHttb2RlOiJleGNsdXNpdmUiLGlmQXZhaWxhYmxlOiEwfSwoYXN5bmMgcj0+e2lmKCFyKXJldHVybiB2b2lkIHQuZ2V0TG9nKCkuaW5mbygiUG9wdXAgYWxyZWFkeSBvcGVuZWQgYnkgYW5vdGhlciB0YWIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt0LmdldExvZygpLmluZm8oIk9wZW5pbmcgcG9wdXAgd2luZG93IHdpdGggd2VibG9jay4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5sb2dpbldpbmRvdz10LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkub3BlbihlLHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQLG4pLHQuY29yZS5fc2hvdWxkSG9sZFBvcHVwTG9jaz0hMDtjb25zdCBvPXNldEludGVydmFsKChmdW5jdGlvbigpe3ZhciBlOyghdC5jb3JlLmxvZ2luV2luZG93fHxudWxsIT09KGU9dC5jb3JlLmxvZ2luV2luZG93KSYmdm9pZCAwIT09ZSYmZS5jbG9zZWQpJiYoY2xlYXJJbnRlcnZhbChvKSx0LmNvcmUuX3Nob3VsZEhvbGRQb3B1cExvY2s9ITEsdC5nZXRMb2coKS5pbmZvKCJDbGVhcmVkIGNoZWNrIHBvcHVwIGludGVydmFsLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSksMWUzKTtmb3IoO3QuY29yZS5fc2hvdWxkSG9sZFBvcHVwTG9jazspYXdhaXQgbmV3IFByb21pc2UoKGU9PnNldFRpbWVvdXQoZSwxZTMpKSk7dC5nZXRMb2coKS5pbmZvKCJSZWxlYXNpbmcgd2VibG9jayBmb3Igb3BlbmluZyBsb2dpbiBwb3B1cC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfWNhdGNoKHIpe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byB1c2Ugd2VibG9jayB0byBvcGVuIHBvcHVwLiBZb3VyIGJyb3dzZXIgbWF5IGJlIG91dCBvZiBkYXRlLiIpLndpdGhFeGNlcHRpb24ocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUubG9naW5XaW5kb3d8fCh0LmNvcmUubG9naW5XaW5kb3c9dC5jb3JlLmdldFBvcHVwTWFuYWdlcigpLm9wZW4oZSx0Lk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCxuKSl9fSx0LmNvcmUub25JZnJhbWVSZXRyaWVzRXhoYXVzdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuSUZSQU1FX1JFVFJJRVNfRVhIQVVTVEVELGUpfSx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQ9ZnVuY3Rpb24obixyLG8saSl7dC5hc3NlcnROb3ROdWxsKG4sImluaXRDQ1BQYXJhbXMiKSx0LmFzc2VydE5vdE51bGwociwiY29udGFpbmVyRGl2Iik7Y29uc3Qgcz1vfHx0LmNvcmU7dmFyIGE9bi5jY3BMb2FkVGltZW91dD9uLmNjcExvYWRUaW1lb3V0Om4uZGlzYXN0ZXJSZWNvdmVyeU9uPzFlNDo1ZTM7ZS5jbGVhclRpbWVvdXQocy5pZnJhbWVSZWZyZXNoVGltZW91dCkscy5pZnJhbWVSZWZyZXNoVGltZW91dD1lLnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cy5pZnJhbWVSZWZyZXNoQXR0ZW1wdD0ocy5pZnJhbWVSZWZyZXNoQXR0ZW1wdHx8MCkrMSxzLmlmcmFtZVJlZnJlc2hBdHRlbXB0PD0xMD8odC5nZXRMb2coKS5pbmZvKCJSZWZyZXNoaW5nIHRoZSBDQ1AgSUZyYW1lIGZvciAiLmNvbmNhdChuLmNjcFVybCwiIG9uIGF0dGVtcHQgIikuY29uY2F0KHMuaWZyYW1lUmVmcmVzaEF0dGVtcHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5fcmVwbGFjZUNDUElmcmFtZShyLG4saSksdC5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KG4scixvLGkpKToodC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5JRlJBTUVfUkVUUklFU19FWEhBVVNURUQsaSksZS5jbGVhclRpbWVvdXQocy5pZnJhbWVSZWZyZXNoVGltZW91dCkpfSksYSl9LHQuY29yZS5fcmVwbGFjZUNDUElmcmFtZT1mdW5jdGlvbihlLG4scil7dHJ5e3ZhciBvPXQuY29yZS5fZ2V0Q0NQSWZyYW1lKHIpLGk9bnVsbDtvJiYoaT1vLnN0eWxlLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSk7dmFyIHM9dC5jb3JlLl9jcmVhdGVDQ1BJZnJhbWUoZSxuLHIpO2kmJihzLnN0eWxlPWkuY3NzVGV4dCksdC5jb3JlLmdldFVwc3RyZWFtKClpbnN0YW5jZW9mIHQuR1JQcm94eUlmcmFtZUNvbmR1aXQ/dC5jb3JlLnVwc3RyZWFtLmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZT0+e2UuaWZyYW1lLmRhdGFzZXQuaWRlbnRpZmllcj09PXImJihlLnVwc3RyZWFtLm91dHB1dD1zLmNvbnRlbnRXaW5kb3csZS5pZnJhbWU9cyl9KSk6dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW0ub3V0cHV0PXMuY29udGVudFdpbmRvdyx0LmNvcmUuX3NlbmRJZnJhbWVTdHlsZURhdGFVcHN0cmVhbUFmdGVyUmVhc29uYWJsZVdhaXRUaW1lKHMsdC5jb3JlLnVwc3RyZWFtKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciB3aGlsZSBjaGVja2luZyBmb3IsIGFuZCByZWNyZWF0aW5nLCB0aGUgQ0NQIElGcmFtZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5fZ2V0Q0NQSWZyYW1lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBvZiB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpKXt2YXIgbjtpZih0Lm5hbWU9PT1pJiYoIWV8fChudWxsPT09KG49dC5kYXRhc2V0KXx8dm9pZCAwPT09bj92b2lkIDA6bi5pZGVudGlmaWVyKT09PWUpKXJldHVybiB0fXJldHVybiBudWxsfSx0LmNvcmUuX2NyZWF0ZUNDUElmcmFtZT1mdW5jdGlvbihlLG4scil7dmFyIG87dC5hc3NlcnROb3ROdWxsKG4sImluaXRDQ1BQYXJhbXMiKSx0LmFzc2VydE5vdE51bGwoZSwiY29udGFpbmVyRGl2Iik7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7aWYocy5zcmM9bi5jY3BVcmwscy5hbGxvdz0ibWljcm9waG9uZTsgY2FtZXJhOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBpZGVudGl0eS1jcmVkZW50aWFscy1nZXQiLHMuc3R5bGU9bi5zdHlsZXx8dC5jb3JlLmlmcmFtZVN0eWxlLHMudGl0bGU9bi5pZnJhbWVUaXRsZXx8aSxzLm5hbWU9aSxyJiYocy5kYXRhc2V0LmlkZW50aWZpZXI9ciksdC5zdG9yYWdlQWNjZXNzLmNhblJlcXVlc3QoKSYmKHMuc3JjPXQuc3RvcmFnZUFjY2Vzcy5nZXRSZXF1ZXN0U3RvcmFnZUFjY2Vzc1VybCgpLHMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdC5zdG9yYWdlQWNjZXNzLnJlcXVlc3QpKSxudWxsIT09KG89dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKSYmdm9pZCAwIT09byYmby5pc1N0cmVhbXNQcm92aWRlcil0cnl7dmFyIGE7bnVsbCE9PShhPXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSkmJnZvaWQgMCE9PWEmJmEuaXNBQ0dSRW5hYmxlZD90LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuc2V0Q0NQSWZyYW1lKHtpZnJhbWU6cyxyZWdpb246bi5nbG9iYWxSZXNpbGllbmN5UmVnaW9ufSk6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLnNldENDUElmcmFtZShzKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciBvY2N1cnJlZCB3aGVuIHNldHRpbmcgQ0NQIGlmcmFtZSB0byBwcm92aWRlciIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1yZXR1cm4gZS5hcHBlbmRDaGlsZChzKSxzfSx0LmNvcmUuX2hpZGVJZnJhbWU9ZnVuY3Rpb24oZSl7ZS5zdHlsZT10LmNvcmUuaWZyYW1lU3R5bGUrImRpc3BsYXk6IG5vbmU7In0sdC5jb3JlLl9zaG93SWZyYW1lPWZ1bmN0aW9uKGUpe2Uuc3R5bGU9dC5jb3JlLmlmcmFtZVN0eWxlfSx0LmNvcmUuX3NlbmRJZnJhbWVTdHlsZURhdGFVcHN0cmVhbUFmdGVyUmVhc29uYWJsZVdhaXRUaW1lPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsImlmcmFtZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJjb25kdWl0Iiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgcj17ZGlzcGxheTp3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmRpc3BsYXksb2Zmc2V0V2lkdGg6ZS5vZmZzZXRXaWR0aCxvZmZzZXRIZWlnaHQ6ZS5vZmZzZXRIZWlnaHQsY2xpZW50UmVjdHNMZW5ndGg6ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aH07bi5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuSUZSQU1FX1NUWUxFLHIpfSksMWU0KX0sdC5jb3JlLnJlYXV0aGVudGljYXRlQWZ0ZXJMb2dvdXQ9ZnVuY3Rpb24oKXt2YXIgZTtpZighdC5pbml0Q0NQUGFyYW1zfHwhdC5jb250YWluZXJEaXZ8fCF0LmNvcmUudXBzdHJlYW0pdGhyb3cgdC5nZXRMb2coKS5lcnJvcigiQ2Fubm90IHJlZnJlc2ggQ0NQLCBtaXNzaW5nIGluaXRDQ1BQYXJhbXMsIGNvbnRhaW5lciBkaXYsIGFuZCBvciB1cHN0cmVhbSIpLndpdGhPYmplY3Qoe2luaXRDQ1BQYXJhbXM6dC5pbml0Q0NQUGFyYW1zLGNvbnRhaW5lckRpdjp0LmNvbnRhaW5lckRpdix1cHN0cmVhbTp0LmNvcmUudXBzdHJlYW19KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG5ldyBFcnJvcigiTWlzc2luZyBwYXJhbWV0ZXJzIHRvIHJlZnJlc2ggQ0NQIGlmcmFtZSIpO2lmKG51bGwhPT0oZT10LmluaXRDQ1BQYXJhbXMpJiZ2b2lkIDAhPT1lJiZlLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3kpdGhyb3cgdC5nZXRMb2coKS5lcnJvcigiUmVmcmVzaCBDQ1AgZG9lcyBub3Qgc3VwcG9ydCBBQ0dSIGF0IHRoZSBtb21lbnQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG5ldyBFcnJvcigiTm90IHN1cHBvcnRlZCBpbiBBQ0dSIGluc3RhbmNlIik7dC5jb3JlLmF1dGhlbnRpY2F0ZSh0LmluaXRDQ1BQYXJhbXMsdC5jb250YWluZXJEaXYsdC5jb3JlLnVwc3RyZWFtKX0sdC5jb3JlLmF1dGhlbnRpY2F0ZT1mdW5jdGlvbihuLHIsbyl7aWYoITEhPT1uLmxvZ2luUG9wdXApdHJ5e3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciByPSJodHRwczovL2xpbHkudXMtZWFzdC0xLmFtYXpvbmF3cy5jb20vdGF3L2F1dGgvY29kZSI7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChyKSxuLmxvZ2luVXJsP24ubG9naW5Vcmw6bi5hbGlhcz8obG9nLndhcm4oIlRoZSBgYWxpYXNgIHBhcmFtIGlzIGRlcHJlY2F0ZWQgYW5kIHNob3VsZCBub3QgYmUgZXhwZWN0ZWQgdG8gZnVuY3Rpb24gcHJvcGVybHkuIFBsZWFzZSB1c2UgYGNjcFVybGAgb3IgYGxvZ2luVXJsYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbWF6b24tY29ubmVjdC9hbWF6b24tY29ubmVjdC1zdHJlYW1zL2Jsb2IvbWFzdGVyL1JFQURNRS5tZCNjb25uZWN0Y29yZWluaXRjY3AgZm9yIHZhbGlkIHBhcmFtZXRlcnMuIikscy5yZXBsYWNlKCJ7YWxpYXN9IixuLmFsaWFzKS5yZXBsYWNlKCJ7Y2xpZW50X2lkfSIsYSkucmVwbGFjZSgie3JlZGlyZWN0fSIsZS5lbmNvZGVVUklDb21wb25lbnQocikpKTpuLmNjcFVybH0obik7dC5nZXRMb2coKS53YXJuKCJBdHRlbXB0aW5nIHRvIHBvcCB0aGUgbG9naW4gcGFnZSBpZiBub3QgYWxyZWFkeSBvcGVuLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5sb2dpblVybCYmdC5jb3JlLmdldFBvcHVwTWFuYWdlcigpLmNsZWFyKHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQKSx0LmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrKGksbi5sb2dpbk9wdGlvbnMpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIlVuYWJsZSB0byBvcGVuIHRoZSBsb2dpbiBwb3B1cC4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9aWYobnVsbD09dC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0KXRyeXtvLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZSgpLGUuY2xlYXJUaW1lb3V0KHQuY29yZS5pZnJhbWVSZWZyZXNoVGltZW91dCksdC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0PW51bGwsdC5jb3JlLmdldFBvcHVwTWFuYWdlcigpLmNsZWFyKHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQKSwobi5sb2dpblBvcHVwQXV0b0Nsb3NlfHxuLmxvZ2luT3B0aW9ucyYmbi5sb2dpbk9wdGlvbnMuYXV0b0Nsb3NlKSYmdC5jb3JlLmxvZ2luV2luZG93JiYodC5jb3JlLmxvZ2luV2luZG93LmNsb3NlKCksdC5jb3JlLmxvZ2luV2luZG93PW51bGwpfSkpLHQuY29yZS5pZnJhbWVSZWZyZXNoQXR0ZW1wdD0wLHQuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dChuLHIpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoaWxlIHJlZnJlc2hpbmcgaWZyYW1lIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLmdldFNES0NsaWVudENvbmZpZz1mdW5jdGlvbigpe3ZhciBlO2lmKCF0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpdGhyb3cgbmV3IEVycm9yKCJQcm92aWRlciBpcyBub3QgaW5pdGlhbGl6ZWQiKTtyZXR1cm57cHJvdmlkZXI6bnVsbD09PShlPXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvdmlkZXJ9fTt2YXIgdz1mdW5jdGlvbihlLHQsbixyKXt0aGlzLmNvbmR1aXQ9ZSx0aGlzLmV2ZW50QnVzPXQsdGhpcy5zeW5UaW1lb3V0PW4sdGhpcy5hY2tUaW1lb3V0PXIsdGhpcy5hY2tUaW1lcj1udWxsLHRoaXMuc3luVGltZXI9bnVsbCx0aGlzLmFja1N1Yj1udWxsLHRoaXMuX2VuYWJsZUFja1RpbWVvdXQ9ITF9O3cucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLmNvbmR1aXQuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlNZTkNIUk9OSVpFKSx0aGlzLmFja1N1Yj10aGlzLmNvbmR1aXQub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksZS5jbGVhclRpbWVvdXQobi5hY2tUaW1lciksbi5fZGVmZXJTdGFydCgpfSkpLHRoaXMuYWNrVGltZXI9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uYWNrU3ViLnVuc3Vic2NyaWJlKCksdC5pc0FjdGl2ZUNvbmR1aXQobi5jb25kdWl0KSYmbi5fZW5hYmxlQWNrVGltZW91dD8odC5nZXRMb2coKS5pbmZvKCJBQ0tfVElNRU9VVCBldmVudCBpcyBkZXRlY3RlZCBmcm9tIHRoZSBLZWVwYWxpdmVNYW5hZ2VyLiAiLmNvbmNhdChuLmNvbmR1aXQubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5ldmVudEJ1cy50cmlnZ2VyKHQuRXZlbnRUeXBlLkFDS19USU1FT1VUKSk6bi5fZW5hYmxlQWNrVGltZW91dCYmdC5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBldmVudCBpcyBkZXRlY3RlZCBmcm9tIHRoZSBLZWVwYWxpdmVNYW5hZ2VyIGJ1dCBzdXBwcmVzc2VkIGFzIGl0IGlzIGZyb20gYW4gaW5hY3RpdmUgcmVnaW9uLiAiLmNvbmNhdChuLmNvbmR1aXQubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5fZGVmZXJTdGFydCgpfSksdGhpcy5hY2tUaW1lb3V0KX0sdy5wcm90b3R5cGUuX2RlZmVyU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnN5blRpbWVyPWUuc2V0VGltZW91dCh0LmhpdGNoKHRoaXMsdGhpcy5zdGFydCksdGhpcy5zeW5UaW1lb3V0KX0sdy5wcm90b3R5cGUuZGVmZXJTdGFydD1mdW5jdGlvbigpe251bGw9PXRoaXMuc3luVGltZXImJih0aGlzLnN5blRpbWVyPWUuc2V0VGltZW91dCh0LmhpdGNoKHRoaXMsdGhpcy5zdGFydCksdGhpcy5zeW5UaW1lb3V0KSl9LHcucHJvdG90eXBlLmVuYWJsZUFja1RpbWVvdXQ9ZnVuY3Rpb24oZSl7dGhpcy5fZW5hYmxlQWNrVGltZW91dD1lfTt2YXIgXz1mdW5jdGlvbigpe3ZhciBlPXtpbml0RmFpbHVyZTpuZXcgU2V0LHN1YnNjcmlwdGlvblVwZGF0ZTpuZXcgU2V0LHN1YnNjcmlwdGlvbkZhaWx1cmU6bmV3IFNldCx0b3BpYzpuZXcgTWFwLGFsbE1lc3NhZ2U6bmV3IFNldCxjb25uZWN0aW9uR2FpbjpuZXcgU2V0LGNvbm5lY3Rpb25Mb3N0Om5ldyBTZXQsY29ubmVjdGlvbk9wZW46bmV3IFNldCxjb25uZWN0aW9uQ2xvc2U6bmV3IFNldCxkZWVwSGVhcnRiZWF0U3VjY2VzczpuZXcgU2V0LGRlZXBIZWFydGJlYXRGYWlsdXJlOm5ldyBTZXQsdG9waWNGYWlsdXJlOm5ldyBTZXR9LG49ZnVuY3Rpb24oZSx0KXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UodCl9KSl9O3QuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFLChmdW5jdGlvbigpe24oZS5pbml0RmFpbHVyZSl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX09QRU4sKGZ1bmN0aW9uKHQpe24oZS5jb25uZWN0aW9uT3Blbix0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fQ0xPU0UsKGZ1bmN0aW9uKHQpe24oZS5jb25uZWN0aW9uQ2xvc2UsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0dBSU4sKGZ1bmN0aW9uKCl7bihlLmNvbm5lY3Rpb25HYWluKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fTE9TVCwoZnVuY3Rpb24odCl7bihlLmNvbm5lY3Rpb25Mb3N0LHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX1VQREFURSwoZnVuY3Rpb24odCl7bihlLnN1YnNjcmlwdGlvblVwZGF0ZSx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9GQUlMVVJFLChmdW5jdGlvbih0KXtuKGUuc3Vic2NyaXB0aW9uRmFpbHVyZSx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLkFMTF9NRVNTQUdFLChmdW5jdGlvbih0KXtuKGUuYWxsTWVzc2FnZSx0KSxlLnRvcGljLmhhcyh0LnRvcGljKSYmbihlLnRvcGljLmdldCh0LnRvcGljKSx0KX0pKSx0aGlzLnNlbmRNZXNzYWdlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TRU5ELGUpfSx0aGlzLm9uSW5pdEZhaWx1cmU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmluaXRGYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmluaXRGYWlsdXJlLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uT3Blbj1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuY29ubmVjdGlvbk9wZW4uYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbk9wZW4uZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25DbG9zZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuY29ubmVjdGlvbkNsb3NlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmNvbm5lY3Rpb25DbG9zZS5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbkdhaW49ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25HYWluLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmNvbm5lY3Rpb25HYWluLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uTG9zdD1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuY29ubmVjdGlvbkxvc3QuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29ubmVjdGlvbkxvc3QuZGVsZXRlKG4pfX0sdGhpcy5vblN1YnNjcmlwdGlvblVwZGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuc3Vic2NyaXB0aW9uVXBkYXRlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLnN1YnNjcmlwdGlvblVwZGF0ZS5kZWxldGUobil9fSx0aGlzLm9uU3Vic2NyaXB0aW9uRmFpbHVyZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuc3Vic2NyaXB0aW9uRmFpbHVyZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5zdWJzY3JpcHRpb25GYWlsdXJlLmRlbGV0ZShuKX19LHRoaXMuc3Vic2NyaWJlVG9waWNzPWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJ0b3BpY3MiKSx0LmFzc2VydFRydWUodC5pc0FycmF5KGUpLCJ0b3BpY3MgbXVzdCBiZSBhIGFycmF5IiksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklCRSxlKX0sdGhpcy5vbk1lc3NhZ2U9ZnVuY3Rpb24obixyKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKG4sInRvcGljTmFtZSIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24ociksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLnRvcGljLmhhcyhuKT9lLnRvcGljLmdldChuKS5hZGQocik6ZS50b3BpYy5zZXQobixuZXcgU2V0KFtyXSkpLGZ1bmN0aW9uKCl7cmV0dXJuIGUudG9waWMuZ2V0KG4pLmRlbGV0ZShyKX19LHRoaXMub25BbGxNZXNzYWdlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5hbGxNZXNzYWdlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmFsbE1lc3NhZ2UuZGVsZXRlKG4pfX0sdGhpcy5vbkRlZXBIZWFydGJlYXRTdWNjZXNzPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5kZWVwSGVhcnRiZWF0U3VjY2Vzcy5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWVwSGVhcnRiZWF0U3VjY2Vzcy5kZWxldGUobil9fSx0aGlzLm9uRGVlcEhlYXJ0YmVhdEZhaWx1cmU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmRlZXBIZWFydGJlYXRGYWlsdXJlLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmRlZXBIZWFydGJlYXRGYWlsdXJlLmRlbGV0ZShuKX19LHRoaXMub25Ub3BpY0ZhaWx1cmU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLnRvcGljRmFpbHVyZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS50b3BpY0ZhaWx1cmUuZGVsZXRlKG4pfX19O3QuY29yZS5fcmVtb3ZlQ29udGFjdEZyb21FbmRlZFNldD1mdW5jdGlvbihlKXt0cnl7dC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBSZW1vdmluZyBjb250YWN0IGZyb20gRU5ERUQgZXZlbnQgdHJhY2tlciIpLndpdGhPYmplY3Qoe2NvbnRhY3RJZDplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZW5kZWRFdmVudFRyYWNrZXIuZGVsZXRlKGUpLHQuZ2V0TG9nKCkuaW5mbygiW0NvbnRhY3RFdmVudF0gUmVtb3ZlZCBjb250YWN0IGZyb20gRU5ERUQgZXZlbnQgdHJhY2tlciIpLndpdGhPYmplY3QodC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmVudHJpZXMoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1jYXRjaChuKXt0LmdldExvZygpLmVycm9yKCJbQ29udGFjdEV2ZW50XSBGYWlsZWQgdG8gcmVtb3ZlIGNvbnRhY3QgZnJvbSBFTkRFRCBldmVudCB0cmFja2VyIikud2l0aE9iamVjdCh7Y29udGFjdElkOmV8fCJ1bmtub3duIn0pLndpdGhFeGNlcHRpb24obikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5faGFuZGxlRW5kZWRFdmVudD1mdW5jdGlvbihlLG4pe3RyeXt0LmNvcmUuZW5kZWRFdmVudFRyYWNrZXIuaGFzKGUpJiZmLmluY2x1ZGVzKG4pJiYodC5nZXRMb2coKS5pbmZvKCJbQ29udGFjdEV2ZW50XSBFTkRFRCB3YXMgdHJpZ2dlcmVkIikud2l0aE9iamVjdCh7Y29udGFjdElkOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5fcmVtb3ZlQ29udGFjdEZyb21FbmRlZFNldChlKSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW0NvbnRhY3RFdmVudF0gRmFpbGVkIHRvIGhhbmRsZSBwcm9wZXIgRU5ERUQgZXZlbnQgYmVpbmcgdHJpZ2dlcmVkIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sdC5jb3JlLl9zaG91bGRUcmlnZ2VySW52YWxpZFN0YXRlVHJhbnNpdGlvbj1mdW5jdGlvbihlKXtpZih0LmNvcmUuZW5kZWRFdmVudFRyYWNrZXIuaGFzKGUuY29udGFjdElkKSl0cnl7cmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiW0NvbnRhY3RFdmVudF0gQ29udGFjdCBkaWQgbm90IHRyYW5zaXRpb24gdG8gdGhlIEVOREVEIHN0YXRlIHByaW9yIHRvIERFU1RST1lFRCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuX3JlbW92ZUNvbnRhY3RGcm9tRW5kZWRTZXQoZS5jb250YWN0SWQpLCEwfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltDb250YWN0RXZlbnRdIEZhaWxlZCB0byBoYW5kbGUgaW52YWxpZCBzdGF0ZSB0cmFuc2l0aW9uIGVycm9yIGhhbmRsaW5nIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiExfTt2YXIgUj1mdW5jdGlvbihlKXt0aGlzLmJ1cz1lLHRoaXMuYWdlbnRVcGRhdGVTdWJzY3JpYmVyPXRoaXMuYnVzLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlVQREFURSx0LmhpdGNoKHRoaXMsdGhpcy51cGRhdGVBZ2VudERhdGEpKX07Ui5wcm90b3R5cGUudXBkYXRlQWdlbnREYXRhPWZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcy5hZ2VudERhdGE7dGhpcy5hZ2VudERhdGE9ZSxudWxsIT09KG49dC5hZ2VudCkmJnZvaWQgMCE9PW4mJm4uaW5pdGlhbGl6ZWR8fCh0LmFnZW50LmluaXRpYWxpemVkPSEwLHRoaXMuYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5JTklULG5ldyB0LkFnZW50KSksdGhpcy5idXMudHJpZ2dlcih0LkFnZW50RXZlbnRzLlJFRlJFU0gsbmV3IHQuQWdlbnQpLHRoaXMuX2ZpcmVBZ2VudFVwZGF0ZUV2ZW50cyhyKX0sUi5wcm90b3R5cGUuZ2V0QWdlbnREYXRhPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5hZ2VudERhdGEpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiTm8gYWdlbnQgZGF0YSBpcyBhdmFpbGFibGUgeWV0ISIpO3JldHVybiB0aGlzLmFnZW50RGF0YX0sUi5wcm90b3R5cGUuZ2V0Q29udGFjdERhdGE9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5nZXRBZ2VudERhdGEoKSxyPXQuZmluZChuLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb250YWN0SWQ9PT1lfSkpO2lmKG51bGw9PXIpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiQ29udGFjdCAlcyBubyBsb25nZXIgZXhpc3RzLiIsZSk7cmV0dXJuIHJ9LFIucHJvdG90eXBlLmdldENvbm5lY3Rpb25EYXRhPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcy5nZXRDb250YWN0RGF0YShlKSxvPXQuZmluZChyLmNvbm5lY3Rpb25zLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25uZWN0aW9uSWQ9PT1ufSkpO2lmKG51bGw9PW8pdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiQ29ubmVjdGlvbiAlcyBmb3IgY29udGFjdCAlcyBubyBsb25nZXIgZXhpc3RzLiIsbixlKTtyZXR1cm4gb30sUi5wcm90b3R5cGUuZ2V0SW5zdGFuY2VJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFnZW50RGF0YSgpLmNvbmZpZ3VyYXRpb24ucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVJZC5tYXRjaCgvaW5zdGFuY2VcLyhbMC05YS1mQS1GfC1dKylcLy8pWzFdfSxSLnByb3RvdHlwZS5nZXRBV1NBY2NvdW50SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBZ2VudERhdGEoKS5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQubWF0Y2goLzooWzAtOV0rKTppbnN0YW5jZS8pWzFdfSxSLnByb3RvdHlwZS5fZGlmZkNvbnRhY3RzPWZ1bmN0aW9uKGUpe3ZhciBuPXthZGRlZDp7fSxyZW1vdmVkOnt9LGNvbW1vbjp7fSxvbGRNYXA6dC5pbmRleChudWxsPT1lP1tdOmUuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxuZXdNYXA6dC5pbmRleCh0aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGFjdElkfSkpLGVuZFRpbWU6MH07cmV0dXJuIHQua2V5cyhuLm9sZE1hcCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5jb250YWlucyhuLm5ld01hcCxlKT9uLmNvbW1vbltlXT1uLm5ld01hcFtlXTpuLnJlbW92ZWRbZV09bi5vbGRNYXBbZV19KSksdC5rZXlzKG4ubmV3TWFwKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmNvbnRhaW5zKG4ub2xkTWFwLGUpfHwobi5hZGRlZFtlXT1uLm5ld01hcFtlXSl9KSksbi5lbmRUaW1lPXBlcmZvcm1hbmNlLm5vdygpLG59LFIucHJvdG90eXBlLl9maXJlQWdlbnRVcGRhdGVFdmVudHM9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcyxyPW51bGwsbz1udWxsPT1lP3QuQWdlbnRBdmFpbFN0YXRlcy5JTklUOmUuc25hcHNob3Quc3RhdGUubmFtZSxpPXRoaXMuYWdlbnREYXRhLnNuYXBzaG90LnN0YXRlLm5hbWUscz1udWxsPT1lP3QuQWdlbnRTdGF0ZVR5cGUuSU5JVDplLnNuYXBzaG90LnN0YXRlLnR5cGUsYT10aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5zdGF0ZS50eXBlO3MhPT1hJiZ0LmNvcmUuZ2V0QWdlbnRSb3V0aW5nRXZlbnRHcmFwaCgpLmdldEFzc29jaWF0aW9ucyh0aGlzLHMsYSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcihlLG5ldyB0LkFnZW50KX0pKSxvIT09aSYmKHRoaXMuYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5TVEFURV9DSEFOR0Use2FnZW50Om5ldyB0LkFnZW50LG9sZFN0YXRlOm8sbmV3U3RhdGU6aX0pLHQuY29yZS5nZXRBZ2VudFN0YXRlRXZlbnRHcmFwaCgpLmdldEFzc29jaWF0aW9ucyh0aGlzLG8saSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcihlLG5ldyB0LkFnZW50KX0pKSk7dmFyIGM9ZSYmZS5zbmFwc2hvdC5uZXh0U3RhdGU/ZS5zbmFwc2hvdC5uZXh0U3RhdGUubmFtZTpudWxsLHU9dGhpcy5hZ2VudERhdGEuc25hcHNob3QubmV4dFN0YXRlP3RoaXMuYWdlbnREYXRhLnNuYXBzaG90Lm5leHRTdGF0ZS5uYW1lOm51bGw7YyE9PXUmJnUmJm4uYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5FTlFVRVVFRF9ORVhUX1NUQVRFLG5ldyB0LkFnZW50KSxyPW51bGwhPT1lP3RoaXMuX2RpZmZDb250YWN0cyhlKTp7YWRkZWQ6dC5pbmRleCh0aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGFjdElkfSkpLHJlbW92ZWQ6e30sY29tbW9uOnt9LG9sZE1hcDp7fSxuZXdNYXA6dC5pbmRleCh0aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGFjdElkfSkpLGVuZFRpbWU6cGVyZm9ybWFuY2Uubm93KCl9LHQudmFsdWVzKHIuYWRkZWQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIodC5Db250YWN0RXZlbnRzLklOSVQsbmV3IHQuQ29udGFjdChlLmNvbnRhY3RJZCkpLG4uX2ZpcmVDb250YWN0VXBkYXRlRXZlbnRzKGUuY29udGFjdElkLHQuQ29udGFjdFN0YXRlVHlwZS5JTklULGUuc3RhdGUudHlwZSl9KSksdC52YWx1ZXMoci5yZW1vdmVkKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5ERVNUUk9ZRUQsbmV3IHQuQ29udGFjdFNuYXBzaG90KGUpKSxuLmJ1cy50cmlnZ2VyKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5ERVNUUk9ZRUQsZS5jb250YWN0SWQpLG5ldyB0LkNvbnRhY3RTbmFwc2hvdChlKSksbi5fdW5zdWJBbGxDb250YWN0RXZlbnRzRm9yQ29udGFjdChlLmNvbnRhY3RJZCl9KSksdC5rZXlzKHIuY29tbW9uKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLl9maXJlQ29udGFjdFVwZGF0ZUV2ZW50cyhlLHIub2xkTWFwW2VdLnN0YXRlLnR5cGUsci5uZXdNYXBbZV0uc3RhdGUudHlwZSl9KSl9LFIucHJvdG90eXBlLl9maXJlQ29udGFjdFVwZGF0ZUV2ZW50cz1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcztuIT09ciYmdC5jb3JlLmdldENvbnRhY3RFdmVudEdyYXBoKCkuZ2V0QXNzb2NpYXRpb25zKHRoaXMsbixyKS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmJ1cy50cmlnZ2VyKG4sbmV3IHQuQ29udGFjdChlKSksby5idXMudHJpZ2dlcih0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZShuLGUpLG5ldyB0LkNvbnRhY3QoZSkpfSkpLG8uYnVzLnRyaWdnZXIodC5Db250YWN0RXZlbnRzLlJFRlJFU0gsbmV3IHQuQ29udGFjdChlKSksby5idXMudHJpZ2dlcih0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuUkVGUkVTSCxlKSxuZXcgdC5Db250YWN0KGUpKX0sUi5wcm90b3R5cGUuX3Vuc3ViQWxsQ29udGFjdEV2ZW50c0ZvckNvbnRhY3Q9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0LnZhbHVlcyh0LkNvbnRhY3RFdmVudHMpLmZvckVhY2goKGZ1bmN0aW9uKHIpe24uYnVzLmdldFN1YnNjcmlwdGlvbnModC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUocixlKSkubWFwKChmdW5jdGlvbihlKXtlLnVuc3Vic2NyaWJlKCl9KSl9KSl9LFIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmFnZW50VXBkYXRlU3Vic2NyaWJlci51bnN1YnNjcmliZSgpfSx0LmNvcmUub25WaWV3Q29udGFjdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5WSUVXLGUpfSx0LmNvcmUudmlld0NvbnRhY3Q9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db250YWN0RXZlbnRzLlZJRVcsZGF0YTp7Y29udGFjdElkOmV9fSl9LHQuY29yZS5vbkFjdGl2YXRlQ2hhbm5lbFdpdGhWaWV3VHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ2hhbm5lbFZpZXdFdmVudHMuQUNUSVZBVEVfQ0hBTk5FTF9XSVRIX1ZJRVdfVFlQRSxlKX0sdC5jb3JlLmFjdGl2YXRlQ2hhbm5lbFdpdGhWaWV3VHlwZT1mdW5jdGlvbihlLG4scixvLGkpe2NvbnN0IHM9e3ZpZXdUeXBlOmUsbWVkaWFUeXBlOm59O3ImJihzLnNvdXJjZT1yKSxvJiYocy5jYXNlSWQ9bykscy5jbGllbnRUb2tlbj1pfHx0LnJhbmRvbUlkKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5DaGFubmVsVmlld0V2ZW50cy5BQ1RJVkFURV9DSEFOTkVMX1dJVEhfVklFV19UWVBFLGRhdGE6c30pfSx0LmNvcmUudHJpZ2dlclRhc2tDcmVhdGVkPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5UYXNrRXZlbnRzLkNSRUFURUQsZSl9LHQuY29yZS50cmlnZ2VyRW1haWxDcmVhdGVkPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FbWFpbEV2ZW50cy5DUkVBVEVELGUpfSx0LmNvcmUub25BY2Nlc3NEZW5pZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BQ0NFU1NfREVOSUVELGUpfSx0LmNvcmUub25BdXRoRmFpbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCxlKX0sdC5jb3JlLm9uQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9TVUNDRVNTLGUpfSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZVN1Y2Nlc3M9ZnVuY3Rpb24oKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5BVVRIT1JJWkVfUkVUUllfQ09VTlQsMCl9LHQuY29yZS5faGFuZGxlQXV0aEZhaWw9ZnVuY3Rpb24oZSxuLHIpe3ImJnIuYXV0aG9yaXplP3QuY29yZS5faGFuZGxlQXV0aG9yaXplRmFpbChlKTp0LmNvcmUuX2hhbmRsZUNUSUF1dGhGYWlsKG4pfSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZUZhaWw9ZnVuY3Rpb24oZSl7bGV0IG49dC5jb3JlLl9nZXRBdXRoUmV0cnlDb3VudCgpO2lmKCF0LmNvcmUuYXV0aG9yaXplVGltZW91dElkKWlmKG48dC5jb3JlLk1BWF9BVVRIT1JJWkVfUkVUUllfQ09VTlRfRk9SX1NFU1NJT04pe3QuY29yZS5faW5jcmVtZW50QXV0aFJldHJ5Q291bnQoKTtsZXQgcj1BV1MudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KG4rMXx8MCx7YmFzZToyZTN9KTt0LmNvcmUuYXV0aG9yaXplVGltZW91dElkPXNldFRpbWVvdXQoKCgpPT57dC5jb3JlLl9yZWRpcmVjdFRvTG9naW4oZSl9KSxyKX1lbHNlIHQuZ2V0TG9nKCkud2FybigiV2UgaGF2ZSBleGhhdXN0ZWQgb3VyIGF1dGhvcml6YXRpb24gcmV0cmllcyBkdWUgdG8gNDAxcyBmcm9tIHRoZSBhdXRob3JpemUgYXBpLiBObyBtb3JlIHJldHJpZXMgd2lsbCBiZSBhdHRlbXB0ZWQgaW4gdGhpcyBzZXNzaW9uIHVudGlsIHRoZSBhdXRob3JpemUgYXBpIHJldHVybnMgMjAwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSx0LmNvcmUuX3JlZGlyZWN0VG9Mb2dpbj1mdW5jdGlvbihlKXsic3RyaW5nIj09dHlwZW9mIGU/bG9jYXRpb24uYXNzaWduKGUpOmxvY2F0aW9uLnJlbG9hZCgpfSx0LmNvcmUuX2hhbmRsZUNUSUF1dGhGYWlsPWZ1bmN0aW9uKGUpe2lmKCF0LmNvcmUuY3RpVGltZW91dElkKWlmKHQuY29yZS5jdGlBdXRoUmV0cnlDb3VudDx0LmNvcmUuTUFYX0NUSV9BVVRIX1JFVFJZX0NPVU5UKXt0LmNvcmUuY3RpQXV0aFJldHJ5Q291bnQrKztsZXQgbj1BV1MudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KHQuY29yZS5jdGlBdXRoUmV0cnlDb3VudHx8MCx7YmFzZTo1MDB9KTt0LmNvcmUuY3RpVGltZW91dElkPXNldFRpbWVvdXQoKCgpPT57dC5jb3JlLmF1dGhvcml6ZShlKS50aGVuKHQuY29yZS5fdHJpZ2dlckF1dGhvcml6ZVN1Y2Nlc3MuYmluZCh0LmNvcmUpKS5jYXRjaCh0LmNvcmUuX3RyaWdnZXJBdXRoRmFpbC5iaW5kKHQuY29yZSx7YXV0aG9yaXplOiEwfSkpLHQuY29yZS5jdGlUaW1lb3V0SWQ9bnVsbH0pLG4pfWVsc2UgdC5nZXRMb2coKS53YXJuKCJXZSBoYXZlIGV4aGF1c3RlZCBvdXIgYXV0aG9yaXphdGlvbiByZXRyaWVzIGR1ZSB0byA0MDFzIGZyb20gdGhlIENUSSBzZXJ2aWNlLiBObyBtb3JlIHJldHJpZXMgd2lsbCBiZSBhdHRlbXB0ZWQgdW50aWwgdGhlIHBhZ2UgaXMgcmVmcmVzaGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5DVElfQVVUSE9SSVpFX1JFVFJJRVNfRVhIQVVTVEVEKX0sdC5jb3JlLl90cmlnZ2VyQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQVVUSE9SSVpFX1NVQ0NFU1MpfSx0LmNvcmUuX3RyaWdnZXJBdXRoRmFpbD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS51cHN0cmVhbUJ1cy50cmlnZ2VyKHQuRXZlbnRUeXBlLkFVVEhfRkFJTCxlKX0sdC5jb3JlLl9nZXRBdXRoUmV0cnlDb3VudD1mdW5jdGlvbigpe2xldCBlPXdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCk7aWYobnVsbCE9PWUpe2lmKGlzTmFOKHBhcnNlSW50KGUpKSl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgc2Vzc2lvbiBzdG9yYWdlIHZhbHVlIGZvciBhdXRoIHJldHJ5IGNvdW50IHdhcyBOYU4iKTtyZXR1cm4gcGFyc2VJbnQoZSl9cmV0dXJuIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCwwKSwwfSx0LmNvcmUuX2luY3JlbWVudEF1dGhSZXRyeUNvdW50PWZ1bmN0aW9uKCl7d2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5ULCh0LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50KCkrMSkudG9TdHJpbmcoKSl9LHQuY29yZS5vbkF1dGhvcml6ZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5vbkNUSUF1dGhvcml6ZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DVElfQVVUSE9SSVpFX1JFVFJJRVNfRVhIQVVTVEVELGUpfSx0LmNvcmUub25Tb2Z0cGhvbmVTZXNzaW9uSW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29ubmVjdGlvbkV2ZW50cy5TRVNTSU9OX0lOSVQsZSl9LHQuY29yZS5vbkNvbmZpZ3VyZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29uZmlndXJhdGlvbkV2ZW50cy5DT05GSUdVUkUsZSl9LHQuY29yZS5vbkluaXRpYWxpemVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuSU5JVCxlKX0sdC5jb3JlLnNlbmRDb25maWd1cmU9ZnVuY3Rpb24oZSxuLHIpe2lmKGUuc29mdHBob25lfHxlLmNoYXR8fGUudGFza3x8ZS5wYWdlT3B0aW9uc3x8ZS5zaG91bGRBZGROYW1lc3BhY2VUb0xvZ3N8fGUuZGlzYXN0ZXJSZWNvdmVyeU9uKXt2YXIgbztjb25zdCBpPXtzb2Z0cGhvbmU6ZS5zb2Z0cGhvbmUsY2hhdDplLmNoYXQsdGFzazplLnRhc2sscGFnZU9wdGlvbnM6ZS5wYWdlT3B0aW9ucyxzaG91bGRBZGROYW1lc3BhY2VUb0xvZ3M6ZS5zaG91bGRBZGROYW1lc3BhY2VUb0xvZ3Msc2hvd0luYWN0aXZpdHlNb2RhbDpudWxsPT09KG89ZS5wYWdlT3B0aW9ucyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uc2hvd0luYWN0aXZpdHlNb2RhbH07cj8oaS5lbmFibGVHbG9iYWxSZXNpbGllbmN5PWUuZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSxpLmluc3RhbmNlU3RhdGU9dC5pc0FjdGl2ZUNvbmR1aXQobik/ImFjdGl2ZSI6ImluYWN0aXZlIik6aS5kaXNhc3RlclJlY292ZXJ5T249ZS5kaXNhc3RlclJlY292ZXJ5T24sbi5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQ09ORklHVVJFLGkpfX0sdC5jb3JlLmxpc3RlbkZvckNvbmZpZ3VyZVJlcXVlc3Q9ZnVuY3Rpb24oZSxuLHIpe24ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5SRVFVRVNUX0NPTkZJR1VSRSwoKCk9Pnt0LmNvcmUuc2VuZENvbmZpZ3VyZShlLG4scil9KSl9LHQuY29yZS5jaGVja0lmQ29uZmlndXJlUmVjZWl2ZWQ9ZnVuY3Rpb24obil7dC5pc0ZyYW1lZCgpJiZlLnNldFRpbWVvdXQoKCgpPT57dC5jb3JlLmhhc1JlY2VpdmVkQ1JNQ29uZmlndXJlfHwodC5nZXRMb2coKS53YXJuKCJDQ1AgaGFzIG5vdCByZWNlaXZlZCBhIGNvbmZpZ3VyZSBtZXNzYWdlLiBTZW5kaW5nIHJlcXVlc3QgdG8gQ1JNIGZvciBjb25maWd1cmF0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5SRVFVRVNUX0NPTkZJR1VSRSkpfSksMWUzKX0sdC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWU9ZnVuY3Rpb24oZSxuKXtpZih0LmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImNvbnRhY3RJZCIpLCF0LmNvbnRhaW5zKHQudmFsdWVzKHQuQ29udGFjdEV2ZW50cyksZSkpdGhyb3cgbmV3IHQuVmFsdWVFcnJvcigiJXMgaXMgbm90IGEgdmFsaWQgY29udGFjdCBldmVudC4iLGUpO3JldHVybiB0LnNwcmludGYoIiVzOjolcyIsZSxuKX0sdC5jb3JlLmdldEV2ZW50QnVzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5ldmVudEJ1c30sdC5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLndlYlNvY2tldFByb3ZpZGVyfSx0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50RGF0YVByb3ZpZGVyfSx0LmNvcmUuZ2V0TG9jYWxUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCkuc25hcHNob3QubG9jYWxUaW1lc3RhbXB9LHQuY29yZS5nZXRTa2V3PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFnZW50RGF0YSgpLnNuYXBzaG90LnNrZXd9LHQuY29yZS5nZXRBZ2VudFJvdXRpbmdFdmVudEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5hZ2VudFJvdXRpbmdFdmVudEdyYXBofSx0LmNvcmUuYWdlbnRSb3V0aW5nRXZlbnRHcmFwaD0obmV3IHQuRXZlbnRHcmFwaCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLlJPVVRBQkxFLHQuQWdlbnRFdmVudHMuUk9VVEFCTEUpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5BZ2VudFN0YXRlVHlwZS5OT1RfUk9VVEFCTEUsdC5BZ2VudEV2ZW50cy5OT1RfUk9VVEFCTEUpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5BZ2VudFN0YXRlVHlwZS5PRkZMSU5FLHQuQWdlbnRFdmVudHMuT0ZGTElORSksdC5jb3JlLmdldEFnZW50U3RhdGVFdmVudEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5hZ2VudFN0YXRlRXZlbnRHcmFwaH0sdC5jb3JlLmFnZW50U3RhdGVFdmVudEdyYXBoPShuZXcgdC5FdmVudEdyYXBoKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQudmFsdWVzKHQuQWdlbnRFcnJvclN0YXRlcyksdC5BZ2VudEV2ZW50cy5FUlJPUikuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50QXZhaWxTdGF0ZXMuQUZURVJfQ0FMTF9XT1JLLHQuQWdlbnRFdmVudHMuQUNXKSx0LmNvcmUuZ2V0Q29udGFjdEV2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmNvbnRhY3RFdmVudEdyYXBofSx0LmNvcmUuY29udGFjdEV2ZW50R3JhcGg9KG5ldyB0LkV2ZW50R3JhcGgpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLklOQ09NSU5HLHQuQ29udGFjdEV2ZW50cy5JTkNPTUlORykuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuUEVORElORyx0LkNvbnRhY3RFdmVudHMuUEVORElORykuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RFdmVudHMuQ09OTkVDVElORykuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVEVELHQuQ29udGFjdEV2ZW50cy5DT05ORUNURUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5FUlJPUix0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0U3RhdGVUeXBlLkVSUk9SLHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLkVOREVELHQuQ29udGFjdEV2ZW50cy5BQ1cpLmFzc29jKHQudmFsdWVzKHQuQ09OVEFDVF9BQ1RJVkVfU1RBVEVTKSx0LnZhbHVlcyh0LnJlbGF0aXZlQ29tcGxlbWVudCh0LkNPTlRBQ1RfQUNUSVZFX1NUQVRFUyx0LkNvbnRhY3RTdGF0ZVR5cGUpKSx0LkNvbnRhY3RFdmVudHMuRU5ERUQpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC5Db250YWN0U3RhdGVUeXBlLkVSUk9SLHQuQ29udGFjdEV2ZW50cy5FUlJPUikuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0U3RhdGVUeXBlLk1JU1NFRCx0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0U3RhdGVUeXBlLk1JU1NFRCx0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RTdGF0ZVR5cGUuUkVKRUNURUQsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLklOQ09NSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5SRUpFQ1RFRCx0LkNvbnRhY3RFdmVudHMuTUlTU0VEKSx0LmNvcmUuZ2V0Q2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5jbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgY29yZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5jbGllbnR9LHQuY29yZS5jbGllbnQ9bnVsbCx0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmFwaVByb3h5Q2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IGFwaVByb3h5IENsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5hcGlQcm94eUNsaWVudH0sdC5jb3JlLmFwaVByb3h5Q2xpZW50PW51bGwsdC5jb3JlLmdldEFnZW50QXBwQ2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5hZ2VudEFwcENsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBBZ2VudEFwcCBDbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUuYWdlbnRBcHBDbGllbnR9LHQuY29yZS5hZ2VudEFwcENsaWVudD1udWxsLHQuY29yZS5nZXRUYXNrVGVtcGxhdGVzQ2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IFRhc2tUZW1wbGF0ZXMgQ2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnR9LHQuY29yZS50YXNrVGVtcGxhdGVzQ2xpZW50PW51bGwsdC5jb3JlLmdldE1hc3RlckNsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUubWFzdGVyQ2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IG1hc3RlciBjbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUubWFzdGVyQ2xpZW50fSx0LmNvcmUubWFzdGVyQ2xpZW50PW51bGwsdC5jb3JlLmdldFNvZnRwaG9uZU1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXJ9LHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW51bGwsdC5jb3JlLmdldE5vdGlmaWNhdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm5vdGlmaWNhdGlvbk1hbmFnZXJ8fCh0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcj1uZXcgdC5Ob3RpZmljYXRpb25NYW5hZ2VyKSx0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcn0sdC5jb3JlLm5vdGlmaWNhdGlvbk1hbmFnZXI9bnVsbCx0LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5wb3B1cE1hbmFnZXJ9LHQuY29yZS5wb3B1cE1hbmFnZXI9bmV3IHQuUG9wdXBNYW5hZ2VyLHQuY29yZS5nZXRVcHN0cmVhbT1mdW5jdGlvbigpe2lmKCF0LmNvcmUudXBzdHJlYW0pdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlcmUgaXMgbm8gdXBzdHJlYW0gY29uZHVpdCEiKTtyZXR1cm4gdC5jb3JlLnVwc3RyZWFtfSx0LmNvcmUudXBzdHJlYW09bnVsbCx0Lmdsb2JhbFJlc2lsaWVuY3kub25GYWlsb3ZlclBlbmRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElOR19DUk0sZSl9LHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkZhaWxvdmVyQ29tcGxldGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFLGUpfSx0Lmdsb2JhbFJlc2lsaWVuY3kub25Db25maWd1cmVFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfRVJST1IsZSl9LHQuZ2xvYmFsUmVzaWxpZW5jeS5nZXRBY3RpdmVSZWdpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb259LHQuZ2xvYmFsUmVzaWxpZW5jeS5mb3JjZUZhaWxvdmVyPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GT1JDRV9GQUlMT1ZFUil9LHQuY29yZS5BZ2VudERhdGFQcm92aWRlcj1SLHQuV2ViU29ja2V0UHJvdmlkZXI9Xyx0LktlZXBhbGl2ZU1hbmFnZXI9d30oKX0sNjgyOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQ7dmFyIG49Ijw8YWxsPj4iLHI9dC5tYWtlRW51bShbImFja25vd2xlZGdlIiwiYWNrX3RpbWVvdXQiLCJpbml0IiwiYXBpX3JlcXVlc3QiLCJhcGlfcmVzcG9uc2UiLCJhdXRoX2ZhaWwiLCJhY2Nlc3NfZGVuaWVkIiwiY2xvc2UiLCJjb25maWd1cmUiLCJsb2ciLCJkb3dubG9hZF9sb2dfZnJvbV9jY3AiLCJtYXN0ZXJfcmVxdWVzdCIsIm1hc3Rlcl9yZXNwb25zZSIsInN5bmNocm9uaXplIiwidGVybWluYXRlIiwidGVybWluYXRlZCIsInNlbmRfbG9ncyIsInJlbG9hZF9hZ2VudF9jb25maWd1cmF0aW9uIiwiYnJvYWRjYXN0IiwiYXBpX21ldHJpYyIsImNsaWVudF9tZXRyaWMiLCJzb2Z0cGhvbmVfc3RhdHMiLCJzb2Z0cGhvbmVfcmVwb3J0IiwiY2xpZW50X3NpZGVfbG9ncyIsInNlcnZlcl9ib3VuZF9pbnRlcm5hbF9sb2ciLCJtdXRlIiwiaWZyYW1lX3N0eWxlIiwiaWZyYW1lX3JldHJpZXNfZXhoYXVzdGVkIiwidXBkYXRlX2Nvbm5lY3RlZF9jY3BzIiwib3V0ZXJfY29udGV4dF9pbmZvIiwibWVkaWFfZGV2aWNlX3JlcXVlc3QiLCJtZWRpYV9kZXZpY2VfcmVzcG9uc2UiLCJ0YWJfaWQiLCJhdXRob3JpemVfc3VjY2VzcyIsImF1dGhvcml6ZV9yZXRyaWVzX2V4aGF1c3RlZCIsImN0aV9hdXRob3JpemVfcmV0cmllc19leGhhdXN0ZWQiLCJjbGlja19zdHJlYW1fZGF0YSIsInNldF9xdWlja19nZXRfYWdlbnRfc25hcHNob3RfZmxhZyIsImFwaV9wcm94eV9yZXF1ZXN0IiwiYXBpX3Byb3h5X3Jlc3BvbnNlIiwicmVxdWVzdF9jb25maWd1cmUiXSksbz10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29ubmVjdCIsWyJsb2dpblBvcHVwIiwic2VuZExvZ3MiLCJzb2Z0cGhvbmUiLCJyaW5ndG9uZSIsIm1ldHJpY3MiLCJmYWlsb3ZlciJdKSxpPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJhZ2VudCIsWyJpbml0IiwidXBkYXRlIiwicmVmcmVzaCIsInJvdXRhYmxlIiwibm90X3JvdXRhYmxlIiwicGVuZGluZyIsImNvbnRhY3RfcGVuZGluZyIsIm9mZmxpbmUiLCJlcnJvciIsInNvZnRwaG9uZV9lcnJvciIsIndlYnNvY2tldF9jb25uZWN0aW9uX2xvc3QiLCJ3ZWJzb2NrZXRfY29ubmVjdGlvbl9nYWluZWQiLCJzdGF0ZV9jaGFuZ2UiLCJhY3ciLCJtdXRlX3RvZ2dsZSIsImxvY2FsX21lZGlhX3N0cmVhbV9jcmVhdGVkIiwiZW5xdWV1ZWRfbmV4dF9zdGF0ZSIsImZldGNoX2FnZW50X2RhdGFfZnJvbV9jY3AiXSkscz10Lm1ha2VOYW1lc3BhY2VkRW51bSgid2ViU29ja2V0IixbImluaXRfZmFpbHVyZSIsImNvbm5lY3Rpb25fb3BlbiIsImNvbm5lY3Rpb25fY2xvc2UiLCJjb25uZWN0aW9uX2Vycm9yIiwiY29ubmVjdGlvbl9nYWluIiwiY29ubmVjdGlvbl9sb3N0Iiwic3Vic2NyaXB0aW9uX3VwZGF0ZSIsInN1YnNjcmlwdGlvbl9mYWlsdXJlIiwiYWxsX21lc3NhZ2UiLCJzZW5kIiwic3Vic2NyaWJlIl0pLGE9dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbnRhY3QiLFsiaW5pdCIsInJlZnJlc2giLCJkZXN0cm95ZWQiLCJpbmNvbWluZyIsInBlbmRpbmciLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIiwibWlzc2VkIiwiYWN3IiwidmlldyIsImVuZGVkIiwiZXJyb3IiLCJhY2NlcHRlZCIsImludmFsaWRfc3RhdGVfdHJhbnNpdGlvbiIsInNjcmVlbl9zaGFyaW5nX3N0YXJ0ZWQiLCJzY3JlZW5fc2hhcmluZ19zdG9wcGVkIiwic2NyZWVuX3NoYXJpbmdfZXJyb3IiXSksYz10Lm1ha2VOYW1lc3BhY2VkRW51bSgidGFza0xpc3QiLFsiYWN0aXZhdGVfY2hhbm5lbF93aXRoX3ZpZXdfdHlwZSJdKSx1PXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ0YXNrIixbImNyZWF0ZWQiXSksbD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiZW1haWwiLFsiY3JlYXRlZCJdKSxwPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb25uZWN0aW9uIixbInNlc3Npb25faW5pdCIsInJlYWR5X3RvX3N0YXJ0X3Nlc3Npb24iXSksZD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29uZmlndXJhdGlvbiIsWyJjb25maWd1cmUiLCJzZXRfc3BlYWtlcl9kZXZpY2UiLCJzZXRfbWljcm9waG9uZV9kZXZpY2UiLCJzZXRfcmluZ2VyX2RldmljZSIsInNwZWFrZXJfZGV2aWNlX2NoYW5nZWQiLCJtaWNyb3Bob25lX2RldmljZV9jaGFuZ2VkIiwicmluZ2VyX2RldmljZV9jaGFuZ2VkIiwiY2FtZXJhX2RldmljZV9jaGFuZ2VkIiwiYmFja2dyb3VuZF9ibHVyX2NoYW5nZWQiXSksaD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiZGlzYXN0ZXJSZWNvdmVyeSIsWyJzdXBwcmVzcyIsImZvcmNlX29mZmxpbmUiLCJzZXRfb2ZmbGluZSIsImluaXRfZGlzYXN0ZXJfcmVjb3ZlcnkiLCJmYWlsb3ZlciIsImZhaWxvdmVyX3BlbmRpbmciLCJpbml0X2RyX3BvbGxpbmciXSksZz10Lm1ha2VOYW1lc3BhY2VkRW51bSgiZ2xvYmFsUmVzaWxpZW5jeSIsWyJjb25maWd1cmUiLCJjb25maWd1cmVfY2NwX2NvbmR1aXQiLCJpbml0IiwiY29uZmlndXJlX2Vycm9yIiwiZmFpbG92ZXJfaW5pdGlhdGVkIiwiZmFpbG92ZXJfcGVuZGluZyIsImZhaWxvdmVyX3BlbmRpbmdfY3JtIiwiZmFpbG92ZXJfY29tcGxldGUiLCJoZWFydGJlYXRfc3luIiwiaGVhcnRiZWF0X2FjayIsImZvcmNlX2ZhaWxvdmVyIl0pLGY9dC5tYWtlTmFtZXNwYWNlZEVudW0oInZvaWNlSWQiLFsidXBkYXRlX2RvbWFpbl9pZCJdKSxtPWZ1bmN0aW9uKCl7fTttLmNyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxuLHIpe3JldHVybntldmVudDplLHJlcXVlc3RJZDp0LnJhbmRvbUlkKCksbWV0aG9kOm4scGFyYW1zOnJ9fSxtLmNyZWF0ZVJlc3BvbnNlPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybntldmVudDplLHJlcXVlc3RJZDp0LnJlcXVlc3RJZCxkYXRhOm4sZXJyOnJ8fG51bGx9fTt2YXIgdj1mdW5jdGlvbihlLG4scil7dGhpcy5zdWJNYXA9ZSx0aGlzLmlkPXQucmFuZG9tSWQoKSx0aGlzLmV2ZW50TmFtZT1uLHRoaXMuZj1yfTt2LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuc3ViTWFwLnVuc3Vic2NyaWJlKHRoaXMuZXZlbnROYW1lLHRoaXMuaWQpfTt2YXIgeT1mdW5jdGlvbigpe3RoaXMuc3ViSWRNYXA9e30sdGhpcy5zdWJFdmVudE5hbWVNYXA9e319O3kucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyB2KHRoaXMsZSx0KTt0aGlzLnN1YklkTWFwW24uaWRdPW47dmFyIHI9dGhpcy5zdWJFdmVudE5hbWVNYXBbZV18fFtdO3JldHVybiByLnB1c2gobiksdGhpcy5zdWJFdmVudE5hbWVNYXBbZV09cixufSx5LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbihlLG4pe3QuY29udGFpbnModGhpcy5zdWJFdmVudE5hbWVNYXAsZSkmJih0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXT10aGlzLnN1YkV2ZW50TmFtZU1hcFtlXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkIT09bn0pKSx0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXS5sZW5ndGg8MSYmZGVsZXRlIHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdKSx0LmNvbnRhaW5zKHRoaXMuc3ViSWRNYXAsbikmJmRlbGV0ZSB0aGlzLnN1YklkTWFwW25dfSx5LnByb3RvdHlwZS5nZXRBbGxTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHQudmFsdWVzKHRoaXMuc3ViRXZlbnROYW1lTWFwKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSksW10pfSx5LnByb3RvdHlwZS5nZXRTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXXx8W119O3ZhciBiPWZ1bmN0aW9uKGUpe3ZhciB0PWV8fHt9O3RoaXMuc3ViTWFwPW5ldyB5LHRoaXMubG9nRXZlbnRzPXQubG9nRXZlbnRzfHwhMX07Yi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0LmFzc2VydE5vdE51bGwobiwiZiIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy5zdWJNYXAuc3Vic2NyaWJlKGUsbil9LGIucHJvdG90eXBlLnN1YnNjcmliZUFsbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImYiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuc3ViTWFwLnN1YnNjcmliZShuLGUpfSxiLnByb3RvdHlwZS5nZXRTdWJzY3JpcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN1Yk1hcC5nZXRTdWJzY3JpcHRpb25zKGUpfSxiLnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKGUscil7dC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpO3ZhciBvPXRoaXMsaT10aGlzLnN1Yk1hcC5nZXRTdWJzY3JpcHRpb25zKG4pLHM9dGhpcy5zdWJNYXAuZ2V0U3Vic2NyaXB0aW9ucyhlKTt0aGlzLmxvZ0V2ZW50cyYmZSE9PXQuRXZlbnRUeXBlLkxPRyYmZSE9PXQuRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSYmZSE9PXQuRXZlbnRUeXBlLkFQSV9NRVRSSUMmJmUhPT10LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HJiZ0LmdldExvZygpLnRyYWNlKCJQdWJsaXNoaW5nIGV2ZW50OiAlcyIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLnN0YXJ0c1dpdGgodC5Db250YWN0RXZlbnRzLkFDQ0VQVEVEKSYmciYmci5jb250YWN0SWQmJiEociBpbnN0YW5jZW9mIHQuQ29udGFjdCkmJihyPW5ldyB0LkNvbnRhY3Qoci5jb250YWN0SWQpKSxpLmNvbmNhdChzKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0cnl7bi5mKHJ8fG51bGwsZSxvKX1jYXRjaChuKXt0LmdldExvZygpLmVycm9yKCInJXMnIGV2ZW50IGhhbmRsZXIgZmFpbGVkLiIsZSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pKX0sYi5wcm90b3R5cGUuYnJpZGdlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxuKXtlLnRyaWdnZXIobix0KX19LGIucHJvdG90eXBlLnVuc3Vic2NyaWJlQWxsPWZ1bmN0aW9uKCl7dGhpcy5zdWJNYXAuZ2V0QWxsU3Vic2NyaXB0aW9ucygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudW5zdWJzY3JpYmUoKX0pKX0sdC5FdmVudEJ1cz1iLHQuRXZlbnRGYWN0b3J5PW0sdC5FdmVudFR5cGU9cix0LkFnZW50RXZlbnRzPWksdC5Db25maWd1cmF0aW9uRXZlbnRzPWQsdC5Db25uZWN0aW9uRXZlbnRzPXAsdC5Db25ubmVjdGlvbkV2ZW50cz1wLHQuQ29udGFjdEV2ZW50cz1hLHQuQ2hhbm5lbFZpZXdFdmVudHM9Yyx0LlRhc2tFdmVudHM9dSx0LkVtYWlsRXZlbnRzPWwsdC5Wb2ljZUlkRXZlbnRzPWYsdC5XZWJTb2NrZXRFdmVudHM9cyx0Lk1hc3RlclRvcGljcz1vLHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cz1oLHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cz1nfSgpfSw5NDk6KCk9PntmdW5jdGlvbiBlKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB0KHQpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2UoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuKHQsZSxvW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTplKE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIG4oZSx0LG4pe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9dHlwZW9mIHIpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHQ/dDp0KyIifSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX0hZnVuY3Rpb24oKXtjb25zdCBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uO2NvbnN0IHI9IklmcmFtZVJlZnJlc2hBdHRlbXB0cyIsbz0iSWZyYW1lSW5pdGlhbGl6YXRpb25TdWNjZXNzIjtuLmdsb2JhbFJlc2lsaWVuY3kuX2Rvd25sb2FkQ0NQTG9ncz1mdW5jdGlvbigpe24uY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIobi5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQKX0sbi5nbG9iYWxSZXNpbGllbmN5Ll9pbml0aWFsaXplQWN0aXZlUmVnaW9uPWZ1bmN0aW9uKGUscil7dHJ5e3ZhciBvO3ImJihudWxsPT09KG89bi5jb3JlLmFnZW50RGF0YVByb3ZpZGVyKXx8dm9pZCAwPT09b3x8by5kZXN0cm95KCksbi5jb3JlLmFnZW50RGF0YVByb3ZpZGVyP24uY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cD1uZXcgbi5jb3JlLkFnZW50RGF0YVByb3ZpZGVyKG4uY29yZS5nZXRFdmVudEJ1cygpKTpuLmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IG4uY29yZS5BZ2VudERhdGFQcm92aWRlcihuLmNvcmUuZ2V0RXZlbnRCdXMoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKG4uQWdlbnRFdmVudHMuRkVUQ0hfQUdFTlRfREFUQV9GUk9NX0NDUCkpfWNhdGNoKGUpe24uZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlaW5pdGlhbGl6aW5nIHRoZSBhZ2VudCBkYXRhIHByb3ZpZGVyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25BZ2VudERhdGFQcm92aWRlckZhaWx1cmUiLGRhdGE6e2NvdW50OjF9fSl9bi5jb3JlLmtlZXBhbGl2ZU1hbmFnZXI9ZS5nZXRBY3RpdmVDb25kdWl0KCkua2VlcGFsaXZlTWFuYWdlcixuLmNvcmUuY2xpZW50PW5ldyBuLlVwc3RyZWFtQ29uZHVpdENsaWVudChlLmdldEFjdGl2ZUNvbmR1aXQoKSksbi5jb3JlLm1hc3RlckNsaWVudD1uZXcgbi5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoZS5nZXRBY3RpdmVDb25kdWl0KCkpLG4uY29yZS5tZWRpYUZhY3Rvcnk9bmV3IG4uTWVkaWFGYWN0b3J5KHQodCh7fSxuLmdsb2JhbFJlc2lsaWVuY3kucGFyYW1zKSx7fSx7Y2NwVXJsOmUuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWV9KSk7dHJ5e3ZhciBpO251bGwhPT0oaT1uLmNvcmUpJiZ2b2lkIDAhPT1pJiZpLnNvZnRwaG9uZU1hbmFnZXI/KG4uZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWZyZXNoaW5nIHNvZnRwaG9uZSBtYW5hZ2VyIFJUQyBwZWVyIGNvbm5lY3Rpb24gbWFuYWdlci4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcigpKTpuLmdldExvZygpLmluZm8oIltHUl0gU29mdHBob25lIG1hbmFnZXIgbm90IGluaXRpYWxpemVkIG9yIG5vdCB1c2VkLCBub3QgcmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlci4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe24uZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlZnJlc2hpbmcgdGhlIHNvZnRwaG9uZSBtYW5hZ2VyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25XZWJSVENGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXImJihuLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj1yLG4uQ2hhdFNlc3Npb24/bi5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZT8obi5nZXRMb2coKS5pbmZvKCJbR1JdIFVwZGF0aW5nIENoYXRKUyByZWdpb24gdG8gIi5jb25jYXQocikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZShyKSk6bi5nZXRMb2coKS53YXJuKCJbR1JdIENoYXRKUyBwcmVzZW50LCBidXQgc2V0UmVnaW9uT3ZlcnJpZGUgbm90IGZvdW5kLiBDb25zaWRlciB1cGRhdGluZyB0byBsYXRlc3QgQ2hhdEpTIHZlcnNpb24iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOm4uZ2V0TG9nKCkuaW5mbygiW0dSXSBDaGF0SlMgbm90IHByZXNlbnQsIG5vdCB1cGRhdGluZyBDaGF0U2Vzc2lvbiByZWdpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKG4uR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6ImFjdGl2ZSJ9KSxlLmdldEluYWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0NDUF9DT05EVUlULHtpbnN0YW5jZVN0YXRlOiJpbmFjdGl2ZSJ9KTt0cnl7bi5jb3JlLl9zaG93SWZyYW1lKGUuZ2V0QWN0aXZlQ29uZHVpdCgpLmlmcmFtZSksbi5jb3JlLl9oaWRlSWZyYW1lKGUuZ2V0SW5hY3RpdmVDb25kdWl0KCkuaWZyYW1lKX1jYXRjaChlKXtuLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciB1cGRhdGluZyB0aGUgSUZyYW1lIHZpc2liaWxpdHkuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4ucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvbklGcmFtZVN3YXBGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXRyeXtjb25zdCB0PWUuaWZyYW1lTGFiZWxNYXBbZS5nZXRBY3RpdmVDb25kdWl0KCkubmFtZV07bi5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgcHJvdmlkZXIgYWN0aXZlIHJlZ2lvbiB0byAiLmNvbmNhdCh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuc2V0QWN0aXZlUmVnaW9uKHQpfWNhdGNoKGUpe24uZ2V0TG9nKCkuZXJyb3IoIltHUl0gU2V0dGluZyBhY3RpdmUgcmVnaW9uIGZvciBwcm92aWRlciBmYWlsZWQuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sbi5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb249ZnVuY3Rpb24oZSx0KXt2YXIgcixvLGkscyxhO2lmKCEoZSBpbnN0YW5jZW9mIG4uR1JQcm94eUlmcmFtZUNvbmR1aXQpKXJldHVybiBuLmdldExvZygpLmVycm9yKCJbR1JdIFRyaWVkIHRvIHN3aXRjaCBvdmVyIGFjdGl2ZSByZWdpb24sIGJ1dCBwcm94eSBjb25kdWl0IHdhcyBub3Qgb2YgZXhwZWN0ZWQgdHlwZS4iKS53aXRoT2JqZWN0KHt0eXBlOnR5cGVvZiBlfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMTtjb25zdCBjPWUuZ2V0Q29uZHVpdEJ5TmFtZSh0KTtyZXR1cm4gYyBpbnN0YW5jZW9mIG4uSUZyYW1lQ29uZHVpdD9lLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lPT09Yy5uYW1lJiZuLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj09PWMucmVnaW9uPyhuLmdldExvZygpLmluZm8oIltHUl0gTm90IHN3aXRjaGluZyBvdmVyIGFjdGl2ZSByZWdpb24gYXMgd2UgYXJlIGFscmVhZHkgb24gYWN0aXZlIHJlZ2lvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExKToobi5nZXRMb2coKS5pbmZvKCJbR1JdIFN3aXRjaGluZyBhY3RpdmUgcmVnaW9uIGZyb20gIi5jb25jYXQobnVsbD09PShyPWUuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5yZWdpb24sIiAvICIpLmNvbmNhdChudWxsPT09KG89ZS5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm5hbWUsIiB0byAiKS5jb25jYXQobnVsbD09Yz92b2lkIDA6Yy5yZWdpb24sIiAvICIpLmNvbmNhdChudWxsPT1jP3ZvaWQgMDpjLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG51bGw9PT0oaT1uLmNvcmUpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zb2Z0cGhvbmVNYW5hZ2VyKXx8dm9pZCAwPT09aXx8aS5fY2xlYXJBbGxTZXNzaW9ucygpLGUuc2V0QWN0aXZlQ29uZHVpdChjLm5hbWUpLG4uZ2xvYmFsUmVzaWxpZW5jeS5faW5pdGlhbGl6ZUFjdGl2ZVJlZ2lvbihlLGMucmVnaW9uKSxuLmdldExvZygpLmluZm8oIltHUl0gU3dpdGNoZWQgYWN0aXZlIHJlZ2lvbiB0byAiLmNvbmNhdChudWxsPT09KHM9ZS5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnJlZ2lvbiwiIC8gIikuY29uY2F0KG51bGw9PT0oYT1lLmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PWE/dm9pZCAwOmEubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJDYWxsZWRJbnRlcm5hbFN3aXRjaEFjdGl2ZVJlZ2lvblN1Y2Nlc3NmdWwiLGRhdGE6e2NvdW50OjF9fSksITApOihuLmdldExvZygpLmVycm9yKCJbR1JdIFRyaWVkIHRvIHN3aXRjaCBvdmVyIGFjdGl2ZSByZWdpb24sIGJ1dCBjb25kdWl0IG5hbWUgd2FzIGludmFsaWQiKS53aXRoT2JqZWN0KHtuZXdBY3RpdmVDb25kdWl0TmFtZTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMSl9LG4uZ2xvYmFsUmVzaWxpZW5jeS5pbml0R1JDQ1A9ZnVuY3Rpb24oaSxzKXtjb25zdCBhPXQoe30scyk7bi5nbG9iYWxSZXNpbGllbmN5LnBhcmFtcz1hO2NvbnN0IGM9e307bGV0IHUsbCxwLGQ9ITE7aWYobi5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb249bnVsbCxuLmdsb2JhbFJlc2lsaWVuY3kuZ2xvYmFsUmVzaWxpZW5jeUVuYWJsZWQ9ITAsbi5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQoKSxuLmNvcmUuaW5pdGlhbGl6ZWQpcmV0dXJuO24uZ2V0TG9nKCkuaW5mbygiW0dSXSBJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7bGV0IGg9RGF0ZS5ub3coKTtuLmFzc2VydE5vdE51bGwoaSwiY29udGFpbmVyRGl2Iik7Y29uc3QgZz1uZXcgVVJMKGEuY2NwVXJsKS5vcmlnaW4sZj1uZXcgVVJMKGEuc2Vjb25kYXJ5Q0NQVXJsKS5vcmlnaW4sbT1uLmNvcmUuX2NyZWF0ZUNDUElmcmFtZShpLHQodCh7fSxhKSx7fSx7Z2xvYmFsUmVzaWxpZW5jeVJlZ2lvbjoicHJpbWFyeSJ9KSxnKSx2PW4uY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGksdCh0KHt9LGEpLHt9LHtjY3BVcmw6YS5zZWNvbmRhcnlDQ1BVcmwsZ2xvYmFsUmVzaWxpZW5jeVJlZ2lvbjoic2Vjb25kYXJ5In0pLGYpLHk9bmV3IG4uR1JQcm94eUlmcmFtZUNvbmR1aXQod2luZG93LFt7aWZyYW1lOm0sbGFiZWw6InByaW1hcnkifSx7aWZyYW1lOnYsbGFiZWw6InNlY29uZGFyeSJ9XSxtLnNyYyk7bi5jb3JlLnVwc3RyZWFtPXksbi5jb3JlLmV2ZW50QnVzPW5ldyBuLkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSxuLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb24oeSksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJJbml0R2xvYmFsUmVzaWxpZW5jeUNDUENhbGxlZCIsZGF0YTp7Y291bnQ6MX19KSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZT0+e24uY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWUoZS5pZnJhbWUsZSl9KSksbi5jb3JlLndlYlNvY2tldFByb3ZpZGVyPW5ldyBuLldlYlNvY2tldFByb3ZpZGVyLHkub25BbGxVcHN0cmVhbShuLmNvcmUuZ2V0RXZlbnRCdXMoKS5icmlkZ2UoKSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGU9PntlLmtlZXBhbGl2ZU1hbmFnZXI9bmV3IG4uS2VlcGFsaXZlTWFuYWdlcihlLG4uY29yZS5nZXRFdmVudEJ1cygpLGEuY2NwU3luVGltZW91dHx8MWUzLGEuY2NwQWNrVGltZW91dHx8M2UzKX0pKSxuLmdldExvZygpLnNjaGVkdWxlVXBzdHJlYW1PdXRlckNvbnRleHRDQ1BMb2dzUHVzaCh5KSxuLmdldExvZygpLnNjaGVkdWxlVXBzdHJlYW1PdXRlckNvbnRleHRDQ1BzZXJ2ZXJCb3VuZExvZ3NQdXNoKHkpLHkub25VcHN0cmVhbShuLkFnZW50RXZlbnRzLkZFVENIX0FHRU5UX0RBVEFfRlJPTV9DQ1AsKGU9PntuLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA/KG4uY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cC51cGRhdGVBZ2VudERhdGEoZSksbi5jb3JlLmFnZW50RGF0YVByb3ZpZGVyPW4uY29yZS5hZ2VudERhdGFQcm92aWRlckJhY2t1cCxuLmNvcmUuYWdlbnREYXRhUHJvdmlkZXJCYWNrdXA9bnVsbCk6bi5jb3JlLmFnZW50RGF0YVByb3ZpZGVyLnVwZGF0ZUFnZW50RGF0YShlKSxuLmdldExvZygpLmluZm8oIltHUl0gRmV0Y2hlZCBhZ2VudCBkYXRhIGZyb20gQ0NQLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGU9PntjW2UubmFtZV09e2lmcmFtZVJlZnJlc2hUaW1lb3V0Om51bGx9LGNbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlPXNldFRpbWVvdXQoKCgpPT57Y1tlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCxuLmlzQWN0aXZlQ29uZHVpdChlKT8obi5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihuLkV2ZW50VHlwZS5BQ0tfVElNRU9VVCksbi5nZXRMb2coKS5pbmZvKCJDQ1AgTG9hZFRpbWVvdXQgdHJpZ2dlcmVkLiAiLmNvbmNhdChlLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTpuLmdldExvZygpLmVycm9yKCJDQ1AgTG9hZFRpbWVvdXQgZGV0ZWN0ZWQgYnV0IGlnbm9yZWQgZm9yIG5vbi1wcmltYXJ5IHJlZ2lvbnMuICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSxhLmNjcExvYWRUaW1lb3V0fHw1ZTMpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKCh0PT57dC5vblVwc3RyZWFtKG4uRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihpKXtuLmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ0NQISAiLmNvbmNhdCh0Lm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2NvbnN0IHM9ITA7bi5jb3JlLnNlbmRDb25maWd1cmUoYSx0LHMpLG4uY29yZS5saXN0ZW5Gb3JDb25maWd1cmVSZXF1ZXN0KGEsdCxzKSxjW3QubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSYmKGUuY2xlYXJUaW1lb3V0KGNbdC5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlKSxjW3QubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsKSx0LnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8se3N0cmVhbXNWZXJzaW9uOm4udmVyc2lvbixpbml0Q0NQUGFyYW1zOmF9KTtjb25zdHtlbmFibGVBY2tUaW1lb3V0OnV9PWEubG9naW5PcHRpb25zfHx7fTtpZih1JiZ0LmtlZXBhbGl2ZU1hbmFnZXIuZW5hYmxlQWNrVGltZW91dCh1KSx0LmtlZXBhbGl2ZU1hbmFnZXIuc3RhcnQoKSxuLmlzQWN0aXZlQ29uZHVpdCh0KSYmKG4uY29yZS5jbGllbnQ9bmV3IG4uVXBzdHJlYW1Db25kdWl0Q2xpZW50KHQpLG4uY29yZS5tYXN0ZXJDbGllbnQ9bmV3IG4uVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KHQpLG4uY29yZS5wb3J0U3RyZWFtSWQ9aS5pZCxoKSl7Y29uc3QgZT1EYXRlLm5vdygpLWgsaT1jW3QubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7bi5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoaSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoKCk9PntuLnB1Ymxpc2hNZXRyaWMoe25hbWU6cixkYXRhOntjb3VudDppfX0pLG4ucHVibGlzaE1ldHJpYyh7bmFtZTpvLGRhdGE6e2NvdW50OjF9fSksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50OmV9fSksaD1udWxsfSksMWUzKX10LnBvcnRTdHJlYW1JZD1pLmlkLHRoaXMudW5zdWJzY3JpYmUoKX0pKX0pKSx5Lm9uVXBzdHJlYW0obi5FdmVudFR5cGUuTE9HLChlPT57ZS5sb2dnZXJJZCE9PW4uZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmbi5nZXRMb2coKS5hZGRMb2dFbnRyeShuLkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG4uY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShuLkV2ZW50VHlwZS5BQ0tfVElNRU9VVCwoKCk9PntpZighMSE9PWEubG9naW5Qb3B1cCl0cnl7Y29uc3R7bG9naW5Vcmw6ZX09YTtuLmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIG9jY3VycmVkLCBhdHRlbXB0aW5nIHRvIHBvcCB0aGUgbG9naW4gcGFnZSBpZiBub3QgYWxyZWFkeSBvcGVuLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jb3JlLmdldFBvcHVwTWFuYWdlcigpLmNsZWFyKG4uTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQKSxuLmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrKGUsYS5sb2dpbk9wdGlvbnMpfWNhdGNoKGUpe24uZ2V0TG9nKCkuZXJyb3IoIkFDS19USU1FT1VUIG9jY3VycmVkIGJ1dCB3ZSBhcmUgdW5hYmxlIHRvIG9wZW4gdGhlIGxvZ2luIHBvcHVwLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX15LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgocj0+e2lmKG51bGw9PT1jW3IubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e3Iub25VcHN0cmVhbShuLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksZS5jbGVhclRpbWVvdXQoY1tyLm5hbWVdLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxjW3IubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCxuLmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIobi5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChhLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fGEubG9naW5PcHRpb25zJiZhLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZuLmNvcmUubG9naW5XaW5kb3cmJihuLmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSxuLmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSksbi5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KHQodCh7fSxhKSx7fSx7Y2NwVXJsOnIuaWZyYW1lLnNyY30pLGksY1tyLm5hbWVdLHIubmFtZSl9Y2F0Y2goZSl7bi5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChlPT57ZS5vblVwc3RyZWFtKG4uR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklULCh0PT57aWYobnVsbD09dHx8IXQuaW5zdGFuY2VSZWdpb258fG51bGw9PXR8fCF0Lmluc3RhbmNlU3RhdGV8fG51bGw9PXR8fCF0LmFjdGl2ZVJlZ2lvbilyZXR1cm4gdm9pZCBuLmdldExvZygpLmVycm9yKCJbR1JdIEV4cGVjdGVkIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSU5JVCB0byBoYXZlIGluc3RhbmNlIHJlZ2lvbiwgc3RhdGUsIGFuZCBjdXJyZW50IGFjdGl2ZSByZWdpb24sIGJ1dCBkaWQgbm90IGZpbmQgaXQuIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtuLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIGluZGljYXRpbmcgIi5jb25jYXQoZS5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0Lmluc3RhbmNlUmVnaW9uLCIgaXMgIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuaW5zdGFuY2VTdGF0ZSwiLiIpKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2NvbnN0IHI9dC5pbnN0YW5jZVJlZ2lvbj09PXQuYWN0aXZlUmVnaW9uP2U6eS5nZXRPdGhlckNvbmR1aXQoZSk7aWYoZS5yZWdpb24mJnIucmVnaW9ufHwoZS5yZWdpb249dC5pbnN0YW5jZVJlZ2lvbixyLnJlZ2lvbj10LmFjdGl2ZVJlZ2lvbiksZS5zZW5kVXBzdHJlYW0obi5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9DQ1BfQ09ORFVJVCx7aW5zdGFuY2VTdGF0ZTp0Lmluc3RhbmNlU3RhdGV9KSxuLmNvcmUuaW5pdGlhbGl6ZWQpbi5nZXRMb2coKS5sb2coIltHUl0gRGVkdXBpbmcgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIC0gQ29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXtuLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBpbml0aWFsIGFjdGl2ZSBpZnJhbWUgdG8gIi5jb25jYXQoci5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChyLnJlZ2lvbiwiIGJlY2F1c2UgdGhlIGluc3RhbmNlIHN0YXRlIHdhcyBhY3RpdmUiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt0cnl7bi5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxyLm5hbWUpLG4ucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7bi5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uIGF0IGluaXRpYWxpemF0aW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfW4uY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIobi5FdmVudFR5cGUuSU5JVCksbi5jb3JlLmluaXRpYWxpemVkPSEwLG4ucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUNvcmVJbml0aWFsaXplZCIsZGF0YTp7Y291bnQ6MX19KX19KSksZS5vblVwc3RyZWFtKG4uR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQsKGU9PntpZihsPURhdGUubm93KCksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5RmFpbG92ZXJJbml0aWF0ZWRSZWNlaXZlZCIsZGF0YTp7Y291bnQ6MX19KSxkJiZuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lQZW5kaW5nVG9Jbml0aWF0ZWRMYXRlbmN5IixkYXRhOntsYXRlbmN5OmwtdX19KSxudWxsPT1lfHwhZS5hY3RpdmVSZWdpb24pcmV0dXJuIHZvaWQgbi5nZXRMb2coKS5lcnJvcigiW0dSXSBFeHBlY3RlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCB0byBoYXZlIG5ldyBhY3RpdmUgcmVnaW9uLCBidXQgZGlkIG5vdCBmaW5kIGl0LiIpLndpdGhPYmplY3Qoe2RhdGE6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7bi5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfSU5JVElBVEVEIGluZGljYXRpbmcgdGhlIGFjdGl2ZVJlZ2lvbiBpcyAiLmNvbmNhdChlLmFjdGl2ZVJlZ2lvbiwiLiIpKTtsZXQgdCxyPXkuZ2V0Q29uZHVpdEJ5UmVnaW9uKGUuYWN0aXZlUmVnaW9uKTtyfHwobi5nZXRMb2coKS5kZWJ1ZygiW0dSXSBBIGNvbmR1aXQgZGlkIG5vdCByZWNlaXZlZCBHTE9CQUxfUkVTSUxJRU5DWS5JTklUIGV2ZW50LCBsZWFkaW5nIHRvIHRoZSByZWdpb24gZmllbGQgYmVpbmcgdW5wb3B1bGF0ZWQuIikseS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKHQ9Pnt2b2lkIDAhPT10LnJlZ2lvbiYmbnVsbCE9PXQucmVnaW9ufHwodC5yZWdpb249ZS5hY3RpdmVSZWdpb24scj10KX0pKSk7dHJ5e3Q9bi5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxyLm5hbWUpLG4ucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7bi5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfWlmKHQpe2Q9ITE7Y29uc3QgdD15Lm9uVXBzdHJlYW0obi5BZ2VudEV2ZW50cy5VUERBVEUsKCgpPT57dC51bnN1YnNjcmliZSgpLG4uY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIobi5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFLHthY3RpdmVSZWdpb246ZS5hY3RpdmVSZWdpb259KSx5LnNlbmRVcHN0cmVhbShuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUpLG4uZ2V0TG9nKCkuaW5mbygiW0dSXSBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFIGVtaXR0ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxwPURhdGUubm93KCksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5RmFpbG92ZXJDb21wbGV0ZWQiLGRhdGE6e2NvdW50OjF9fSksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5SW5pdGlhdGVkVG9Db21wbGV0ZWRMYXRlbmN5IixkYXRhOntsYXRlbmN5OnAtbH19KX0pKX19KSl9KSksYS5vblZpZXdDb250YWN0JiZuLmNvcmUub25WaWV3Q29udGFjdChhLm9uVmlld0NvbnRhY3QpLHkub25VcHN0cmVhbShuLkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGU9PntuLm51bWJlck9mQ29ubmVjdGVkQ0NQcz1lLmxlbmd0aH0pKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZT0+e2Uub25VcHN0cmVhbShuLlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwodD0+e3QmJnQuZG9tYWluSWQmJihlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkLG4uaXNBY3RpdmVDb25kdWl0KGUpJiYobi5jb3JlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkKSl9KSl9KSksbi5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKG4uRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZT0+e2lmKGU9PT15LmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lJiZoKXtjb25zdCBlPWNbeS5nZXRBY3RpdmVDb25kdWl0KCkubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTtuLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLWgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wdWJsaXNoTWV0cmljKHtuYW1lOnIsZGF0YTp7Y291bnQ6ZX19KSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6byxkYXRhOntjb3VudDowfX0pLGg9bnVsbH19KSksbi5jb3JlLnNvZnRwaG9uZVBhcmFtcz1hLnNvZnRwaG9uZSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZT0+e2Uub25VcHN0cmVhbShuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElORywodD0+e24uaXNBY3RpdmVDb25kdWl0KGUpJiYoZD9uLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgRkFJTE9WRVJfUEVORElORyAtIGRlZHVwaW5nLCB3aWxsIG5vdCB0cmlnZ2VyIGV2ZW50IHN1YnNjcmlwdGlvbi4iKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOihuLmdldExvZygpLmluZm8oIltHUl0gUmVjZWl2ZWQgRkFJTE9WRVJfUEVORElORyIpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElOR19DUk0se25leHRBY3RpdmVSZWdpb246dC5hY3RpdmVSZWdpb259KSxkPSEwLHU9RGF0ZS5ub3coKSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lGYWlsb3ZlclBlbmRpbmdSZWNlaXZlZCIsZGF0YTp7Y291bnQ6MX19KSkpfSkpfSkpLHkucmVsYXlVcHN0cmVhbShuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfUEVORElORykseS5yZWxheVVwc3RyZWFtKG4uR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9JTklUSUFURUQpLHkucmVsYXlVcHN0cmVhbShuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUpLHkucmVsYXlVcHN0cmVhbShuLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSEVBUlRCRUFUX1NZTikseS5yZWxheVVwc3RyZWFtKG4uR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5IRUFSVEJFQVRfQUNLKSxuLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUobi5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQLCgoKT0+e3kuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnJlZ2lvbnx8InJlZ2lvbiI7ZS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuRE9XTkxPQURfTE9HX0ZST01fQ0NQLHtsb2dOYW1lOiJjY3AtIi5jb25jYXQodCwiLWFnZW50LWxvZyIpfSl9KSl9KSksc2V0VGltZW91dCgoKCk9PntsZXQgZT0wO3kuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKCh0PT57dC5yZWdpb24mJihlKz0xKX0pKSxlPDImJihuLmdldExvZygpLmluZm8oIltHUl0gT25lIG9yIG1vcmUgY29uZHVpdHMgZGlkIG5vdCBHbG9iYWxSZXNpbGllbmN5LklOSVQgZXZlbnQgdG8gQ1JNIGxheWVyLiIpLndpdGhPYmplY3Qoe2ZpcnN0Q29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzBdLm5hbWUsZmlyc3RDb25kdWl0UmVnaW9uOnkuZ2V0QWxsQ29uZHVpdHMoKVswXS5yZWdpb24sc2Vjb25kQ29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzFdLm5hbWUsc2Vjb25kQ29uZHVpdFJlZ2lvbjp5LmdldEFsbENvbmR1aXRzKClbMV0ucmVnaW9ufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lQYXJ0aWFsSW5pdGlhbGl6YXRpb24iLGRhdGE6e2NvdW50OjF9fSkpfSksM2U0KX19KCl9LDk1OigpPT57IWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBvPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9bi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmInN0cmluZyIhPXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKW4uZChyLG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxvKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsImEiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPSIiLG4obi5zPTIpfShbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEpLG89IkRFQlVHIixpPSJBTVpfV0VCX1NPQ0tFVF9NQU5BR0VSOiIscz0iTmV0d29yayBvZmZsaW5lIixhPSJOZXR3b3JrIG9ubGluZSwgY29ubmVjdGluZyB0byBXZWJTb2NrZXQgc2VydmVyIixjPSJOZXR3b3JrIG9mZmxpbmUsIGlnbm9yaW5nIHRoaXMgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0Iix1PSJIZWFydGJlYXQgcmVzcG9uc2Ugbm90IHJlY2VpdmVkIixsPSJGYWlsZWQgdG8gc2VuZCBoZWFydGJlYXQgc2luY2UgV2ViU29ja2V0IGlzIG5vdCBvcGVuIixwPSJXZWJTb2NrZXQgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCEiLGQ9IldlYlNvY2tldCBjb25uZWN0aW9uIGlzIGNsb3NlZCIsaD0iV2ViU29ja2V0TWFuYWdlciBFcnJvciwgZXJyb3JfZXZlbnQ6ICIsZz0iU2NoZWR1bGluZyBXZWJTb2NrZXQgcmVpbml0aWFsaXphdGlvbiwgYWZ0ZXIgZGVsYXkgIixmPSJXZWJTb2NrZXQgVVJMIGNhbm5vdCBiZSB1c2VkIHRvIGVzdGFibGlzaCBjb25uZWN0aW9uIixtPSJXZWJTb2NrZXQgSW5pdGlhbGl6YXRpb24gZmFpbGVkIC0gVGVybWluYXRpbmcgYW5kIGNsZWFuaW5nIHN1YnNjcmlwdGlvbnMiLHY9IkZldGNoaW5nIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIix5PSJTdWNjZXNzZnVsbHkgZmV0Y2hlZCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixiPSJGYWlsZWQgdG8gZmV0Y2ggd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsUz0iUmV0cnlpbmcgZmV0Y2hpbmcgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLEM9IkluaXRpYWxpemluZyBXZWJzb2NrZXQgTWFuYWdlciIsRT0iV2ViU29ja2V0TWFuYWdlciBNZXNzYWdlIEVycm9yIixJPSJNZXNzYWdlIHJlY2VpdmVkIGZvciB0b3BpYyAiLFQ9IkludmFsaWQgaW5jb21pbmcgbWVzc2FnZSIsQT0iYXdzL3N1YnNjcmliZSIsdz0iYXdzL2hlYXJ0YmVhdCIsXz0iZGlzY29ubmVjdGVkIjtmdW5jdGlvbiBSKGUpe3JldHVybihSPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIE89e2Fzc2VydFRydWU6ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodCl9LGFzc2VydE5vdE51bGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTy5hc3NlcnRUcnVlKG51bGwhPT1lJiZ2b2lkIDAhPT1SKGUpLE9iamVjdChyLnNwcmludGYpKCIlcyBtdXN0IGJlIHByb3ZpZGVkIix0fHwiQSB2YWx1ZSIpKSxlfSxpc05vbkVtcHR5U3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmZS5sZW5ndGg+MH0sYXNzZXJ0SXNMaXN0OmZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3QgYW4gYXJyYXkiKX0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmNvbnN0cnVjdG9yJiZlLmNhbGwmJmUuYXBwbHkpfSxpc09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4hKCJvYmplY3QiIT09UihlKXx8bnVsbD09PWUpfSxpc1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9LGlzTnVtYmVyOmZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZX19LEw9bmV3IFJlZ0V4cCgiXih3c3M6Ly8pXFx3KiIpO08udmFsaWRXU1VybD1mdW5jdGlvbihlKXtyZXR1cm4gTC50ZXN0KGUpfSxPLmdldFN1YnNjcmlwdGlvblJlc3BvbnNlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57dG9waWM6ZSxjb250ZW50OntzdGF0dXM6dD8ic3VjY2VzcyI6ImZhaWx1cmUiLHRvcGljczpufX19LE8uYXNzZXJ0SXNPYmplY3Q9ZnVuY3Rpb24oZSx0KXtpZighTy5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhbiBvYmplY3QhIil9LE8uYWRkSml0dGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3Q9TWF0aC5taW4odCwxKTt2YXIgbj1NYXRoLnJhbmRvbSgpPi41PzE6LTE7cmV0dXJuIE1hdGguZmxvb3IoZStuKmUqTWF0aC5yYW5kb20oKSp0KX0sTy5pc05ldHdvcmtPbmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLm9uTGluZX0sTy5pc05ldHdvcmtGYWlsdXJlPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUuX2RlYnVnfHwhZS5fZGVidWcudHlwZSkmJiJOZXR3b3JraW5nRXJyb3IiPT09ZS5fZGVidWcudHlwZX07dmFyIGs9TztmdW5jdGlvbiBQKGUpe3JldHVybihQPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBOKGUsdCl7cmV0dXJuKE49T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIEQoZSl7cmV0dXJuKEQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB4KGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gTShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fWZ1bmN0aW9uIFUoZSx0LG4pe3JldHVybiB0JiZNKGUucHJvdG90eXBlLHQpLG4mJk0oZSxuKSxlfXZhciBGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3godGhpcyxlKX1yZXR1cm4gVShlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKGUpe319LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbihlKXt9fV0pLGV9KCksaj1pLHE9e0RFQlVHOjEwLElORk86MjAsV0FSTjozMCxFUlJPUjo0MCxBRFZBTkNFRF9MT0c6NTB9LEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7eCh0aGlzLGUpLHRoaXMudXBkYXRlTG9nZ2VyQ29uZmlnKCksdGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcj1XKCl9cmV0dXJuIFUoZSxbe2tleToid3JpdGVUb0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmhhc0NsaWVudExvZ2dlcigpKXN3aXRjaChlKXtjYXNlIHEuREVCVUc6cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci5kZWJ1Zyh0KXx8dDtjYXNlIHEuSU5GTzpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmluZm8odCl8fHQ7Y2FzZSBxLldBUk46cmV0dXJuIHRoaXMuX2NsaWVudExvZ2dlci53YXJuKHQpfHx0O2Nhc2UgcS5FUlJPUjpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmVycm9yKHQpfHx0O2Nhc2UgcS5BRFZBTkNFRF9MT0c6cmV0dXJuIHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyP3RoaXMuX2NsaWVudExvZ2dlclt0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcl0odCl8fHQ6IiJ9fX0se2tleToiaXNMZXZlbEVuYWJsZWQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPj10aGlzLl9sZXZlbH19LHtrZXk6Imhhc0NsaWVudExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2NsaWVudExvZ2dlcn19LHtrZXk6ImdldExvZ2dlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcmVmaXh8fGo7cmV0dXJuIHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj09PW8/dGhpcy5jb25zb2xlTG9nZ2VyV3JhcHBlcjpuZXcgVih0KX19LHtrZXk6InVwZGF0ZUxvZ2dlckNvbmZpZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dGhpcy5fbGV2ZWw9dC5sZXZlbHx8cS5JTkZPLHRoaXMuX2FkdmFuY2VkTG9nV3JpdGVyPSJ3YXJuIix0LmFkdmFuY2VkTG9nV3JpdGVyJiYodGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI9dC5hZHZhbmNlZExvZ1dyaXRlciksdC5jdXN0b21pemVkTG9nZ2VyJiYib2JqZWN0Ij09PUQodC5jdXN0b21pemVkTG9nZ2VyKSYmKHRoaXMudXNlQ2xpZW50TG9nZ2VyPSEwKSx0aGlzLl9jbGllbnRMb2dnZXI9dC5sb2dnZXJ8fHRoaXMuc2VsZWN0TG9nZ2VyKHQpLHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj0iTlVMTCIsdC5kZWJ1ZyYmKHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj1vKSx0LmxvZ2dlciYmKHRoaXMuX2xvZ3NEZXN0aW5hdGlvbj0iQ0xJRU5UX0xPR0dFUiIpfX0se2tleToic2VsZWN0TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jdXN0b21pemVkTG9nZ2VyJiYib2JqZWN0Ij09PUQoZS5jdXN0b21pemVkTG9nZ2VyKT9lLmN1c3RvbWl6ZWRMb2dnZXI6ZS51c2VEZWZhdWx0TG9nZ2VyPyh0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyPVcoKSx0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyKTpudWxsfX1dKSxlfSgpLEc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7eCh0aGlzLGUpfXJldHVybiBVKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJhZHZhbmNlZExvZyIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLGV9KCksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG47cmV0dXJuIHgodGhpcyxlKSwobj1mdW5jdGlvbihlLHQpe3JldHVybiF0fHwib2JqZWN0IiE9PUQodCkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2Z1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX0oZSk6dH0odGhpcyxQKGUpLmNhbGwodGhpcykpKS5wcmVmaXg9dHx8aixufXJldHVybiBmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZOKGUsdCl9KGUsRyksVShlLFt7a2V5OiJkZWJ1ZyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKHEuREVCVUcsdCl9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2cocS5JTkZPLHQpfX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5fbG9nKHEuV0FSTix0KX19LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2cocS5FUlJPUix0KX19LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2cocS5BRFZBTkNFRF9MT0csdCl9fSx7a2V5OiJfc2hvdWxkTG9nIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gSC5oYXNDbGllbnRMb2dnZXIoKSYmSC5pc0xldmVsRW5hYmxlZChlKX19LHtrZXk6Il93cml0ZVRvQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBILndyaXRlVG9DbGllbnRMb2dnZXIoZSx0KX19LHtrZXk6Il9sb2ciLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fc2hvdWxkTG9nKGUpKXt2YXIgbj1ILnVzZUNsaWVudExvZ2dlcj90OnRoaXMuX2NvbnZlcnRUb1NpbmdsZVN0YXRlbWVudCh0LGUpO3JldHVybiB0aGlzLl93cml0ZVRvQ2xpZW50TG9nZ2VyKGUsbil9fX0se2tleToiX2NvbnZlcnRUb1NpbmdsZVN0YXRlbWVudCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpLHI9dGhpcy5fZ2V0TG9nTGV2ZWxCeVZhbHVlKHQpLG89IlsiLmNvbmNhdChuLCJdWyIpLmNvbmNhdChyLCJdIik7dGhpcy5wcmVmaXgmJihvKz10aGlzLnByZWZpeCsiICIpLHRoaXMub3B0aW9ucyYmKHRoaXMub3B0aW9ucy5wcmVmaXg/bys9IiAiK3RoaXMub3B0aW9ucy5wcmVmaXgrIjoiOm8rPSIiLHRoaXMub3B0aW9ucy5sb2dNZXRhRGF0YT9vKz0iIE1ldGEgZGF0YTogIitKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMubG9nTWV0YURhdGEpOm8rPSIiKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZVtpXTtvKz10aGlzLl9jb252ZXJ0VG9TdHJpbmcocykrIiAifXJldHVybiBvfX0se2tleToiX2dldExvZ0xldmVsQnlWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMTA6cmV0dXJuIkRFQlVHIjtjYXNlIDIwOnJldHVybiJJTkZPIjtjYXNlIDMwOnJldHVybiJXQVJOIjtjYXNlIDQwOnJldHVybiJFUlJPUiI7Y2FzZSA1MDpyZXR1cm4iQURWQU5DRURfTE9HIn19fSx7a2V5OiJfY29udmVydFRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbihlKXt0cnl7aWYoIWUpcmV0dXJuIiI7aWYoay5pc1N0cmluZyhlKSlyZXR1cm4gZTtpZihrLmlzT2JqZWN0KGUpJiZrLmlzRnVuY3Rpb24oZS50b1N0cmluZykpe3ZhciB0PWUudG9TdHJpbmcoKTtpZigiW29iamVjdCBPYmplY3RdIiE9PXQpcmV0dXJuIHR9cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKHQpe3JldHVybiBjb25zb2xlLmVycm9yKCJFcnJvciB3aGlsZSBjb252ZXJ0aW5nIGFyZ3VtZW50IHRvIHN0cmluZyIsZSx0KSwiIn19fV0pLGV9KCksVz1mdW5jdGlvbigpe3ZhciBlPW5ldyBHO3JldHVybiBlLmRlYnVnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuZGVidWcuYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGNvbnNvbGUuaW5mby5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS53YXJuLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5lcnJvci5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlfSxIPW5ldyBCO2Z1bmN0aW9uIHooZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX12YXIgSz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjJlMzshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0odGhpcyxlKSx0aGlzLm51bUF0dGVtcHRzPTAsdGhpcy5leGVjdXRvcj10LHRoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9uPSExLHRoaXMuZGVmYXVsdFJldHJ5PW59dmFyIHQsbjtyZXR1cm4gdD1lLChuPVt7a2V5OiJyZXRyeSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9ufHwodGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb249ITAsc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9leGVjdXRlKCl9KSx0aGlzLl9nZXREZWxheSgpKSl9fSx7a2V5OiJfZXhlY3V0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbj0hMSx0aGlzLmV4ZWN1dG9yKCksdGhpcy5udW1BdHRlbXB0cysrfX0se2tleToiY29ubmVjdGVkIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubnVtQXR0ZW1wdHM9MH19LHtrZXk6Il9nZXREZWxheSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnBvdygyLHRoaXMubnVtQXR0ZW1wdHMpKnRoaXMuZGVmYXVsdFJldHJ5O3JldHVybiBlPD0zZTQ/ZTozZTR9fSx7a2V5OiJnZXRJc0Nvbm5lY3RlZCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5udW1BdHRlbXB0c319XSkmJnoodC5wcm90b3R5cGUsbiksZX0oKTtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSk7dmFyIFg9ZnVuY3Rpb24oKXt2YXIgZT1ILmdldExvZ2dlcih7cHJlZml4Oml9KSx0PWsuaXNOZXR3b3JrT25saW5lKCksbj17cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfSxyPXtyZWNvbm5lY3RXZWJTb2NrZXQ6ITAsd2Vic29ja2V0SW5pdEZhaWxlZDohMSxleHBvbmVudGlhbEJhY2tPZmZUaW1lOjFlMyxleHBvbmVudGlhbFRpbWVvdXRIYW5kbGU6bnVsbCxsaWZlVGltZVRpbWVvdXRIYW5kbGU6bnVsbCx3ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZDpudWxsLGNvbm5TdGF0ZTpudWxsfSxvPXtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDowLGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm51bGwsbm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6bnVsbH0sUj17cGVuZGluZ1Jlc3BvbnNlOiExLGludGVydmFsSGFuZGxlOm51bGx9LE89e2luaXRGYWlsdXJlOm5ldyBTZXQsZ2V0V2ViU29ja2V0VHJhbnNwb3J0Om51bGwsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0fSxMPXtjb25uQ29uZmlnOm51bGwscHJvbWlzZUhhbmRsZTpudWxsLHByb21pc2VDb21wbGV0ZWQ6ITB9LFA9e3N1YnNjcmliZWQ6bmV3IFNldCxwZW5kaW5nOm5ldyBTZXQsc3Vic2NyaXB0aW9uSGlzdG9yeTpuZXcgU2V0fSxOPXtyZXNwb25zZUNoZWNrSW50ZXJ2YWxJZDpudWxsLHJlcXVlc3RDb21wbGV0ZWQ6ITAscmVTdWJzY3JpYmVJbnRlcnZhbElkOm51bGwsY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0czowLGNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q6MH0sRD1uZXcgSygoZnVuY3Rpb24oKXtzZSgpfSkpLHg9bmV3IFNldChbQSwiYXdzL3Vuc3Vic2NyaWJlIix3XSksTT1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtpZih0IT09ay5pc05ldHdvcmtPbmxpbmUoKSl7aWYoISh0PWsuaXNOZXR3b3JrT25saW5lKCkpKXJldHVybiBlLmFkdmFuY2VkTG9nKHMpLHZvaWQgdWUoZS5pbmZvKHMpKTt2YXIgbj1WKCk7dCYmKCFufHxxKG4sV2ViU29ja2V0LkNMT1NJTkcpfHxxKG4sV2ViU29ja2V0LkNMT1NFRCkpJiYoZS5hZHZhbmNlZExvZyhhKSx1ZShlLmluZm8oYSkpLHNlKCkpfX0pLDI1MCksVT1mdW5jdGlvbih0LG4pe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3Qobil9Y2F0Y2godCl7dWUoZS5lcnJvcigiRXJyb3IgZXhlY3V0aW5nIGNhbGxiYWNrIix0KSl9fSkpfSxGPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiJOVUxMIjtzd2l0Y2goZS5yZWFkeVN0YXRlKXtjYXNlIFdlYlNvY2tldC5DT05ORUNUSU5HOnJldHVybiJDT05ORUNUSU5HIjtjYXNlIFdlYlNvY2tldC5PUEVOOnJldHVybiJPUEVOIjtjYXNlIFdlYlNvY2tldC5DTE9TSU5HOnJldHVybiJDTE9TSU5HIjtjYXNlIFdlYlNvY2tldC5DTE9TRUQ6cmV0dXJuIkNMT1NFRCI7ZGVmYXVsdDpyZXR1cm4iVU5ERUZJTkVEIn19LGo9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06IiI7dWUoZS5kZWJ1ZygiWyIrdCsiXSBQcmltYXJ5IFdlYlNvY2tldDogIitGKG4ucHJpbWFyeSkrIiB8IFNlY29uZGFyeSBXZWJTb2NrZXQ6ICIrRihuLnNlY29uZGFyeSkpKX0scT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLnJlYWR5U3RhdGU9PT10fSxCPWZ1bmN0aW9uKGUpe3JldHVybiBxKGUsV2ViU29ja2V0Lk9QRU4pfSxHPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8dm9pZCAwPT09ZS5yZWFkeVN0YXRlfHxxKGUsV2ViU29ja2V0LkNMT1NFRCl9LFY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW4uc2Vjb25kYXJ5P24uc2Vjb25kYXJ5Om4ucHJpbWFyeX0sVz1mdW5jdGlvbigpe3JldHVybiBCKFYoKSl9LHo9ZnVuY3Rpb24oKXtpZihSLnBlbmRpbmdSZXNwb25zZSlyZXR1cm4gZS5hZHZhbmNlZExvZyh1KSx1ZShlLndhcm4odSkpLGNsZWFySW50ZXJ2YWwoUi5pbnRlcnZhbEhhbmRsZSksUi5wZW5kaW5nUmVzcG9uc2U9ITEsdm9pZCBzZSgpO1coKT8odWUoZS5kZWJ1ZygiU2VuZGluZyBoZWFydGJlYXQiKSksVigpLnNlbmQob2UodykpLFIucGVuZGluZ1Jlc3BvbnNlPSEwKTooZS5hZHZhbmNlZExvZyhsKSx1ZShlLndhcm4obCkpLGooInNlbmRIZWFydEJlYXQiKSxzZSgpKX0sWD1mdW5jdGlvbigpe2UuYWR2YW5jZWRMb2coIlJlc2V0IFdlYnNvY2tldCBzdGF0ZSIpLHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZT0xZTMsUi5wZW5kaW5nUmVzcG9uc2U9ITEsci5yZWNvbm5lY3RXZWJTb2NrZXQ9ITAsY2xlYXJUaW1lb3V0KHIubGlmZVRpbWVUaW1lb3V0SGFuZGxlKSxjbGVhckludGVydmFsKFIuaW50ZXJ2YWxIYW5kbGUpLGNsZWFyVGltZW91dChyLmV4cG9uZW50aWFsVGltZW91dEhhbmRsZSksY2xlYXJUaW1lb3V0KHIud2ViU29ja2V0SW5pdENoZWNrZXJUaW1lb3V0SWQpfSxZPWZ1bmN0aW9uKCl7Ti5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTAsTi5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PTAsY2xlYXJJbnRlcnZhbChOLnJlc3BvbnNlQ2hlY2tJbnRlcnZhbElkKSxjbGVhckludGVydmFsKE4ucmVTdWJzY3JpYmVJbnRlcnZhbElkKX0sUT1mdW5jdGlvbigpe28uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ9MCxvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lPW51bGwsby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD1udWxsfSxKPWZ1bmN0aW9uKCl7RC5jb25uZWN0ZWQoKTt0cnl7ZS5hZHZhbmNlZExvZyhwKSx1ZShlLmluZm8ocCkpLGooIndlYlNvY2tldE9uT3BlbiIpLG51bGwhPT1yLmNvbm5TdGF0ZSYmci5jb25uU3RhdGUhPT1ffHxVKE8uY29ubmVjdGlvbkdhaW4pLHIuY29ublN0YXRlPSJjb25uZWN0ZWQiO3ZhciB0PURhdGUubm93KCk7VShPLmNvbm5lY3Rpb25PcGVuLHtjb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudDpvLmNvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50LGNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lOm8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUsbm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6by5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcCxjb25uZWN0aW9uRXN0YWJsaXNoZWRUaW1lOnQsdGltZVRvQ29ubmVjdDp0LW8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWUsdGltZVdpdGhvdXRDb25uZWN0aW9uOm8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA/dC1vLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wOm51bGx9KSxRKCksWCgpLFYoKS5vcGVuVGltZXN0YW1wPURhdGUubm93KCksMD09PVAuc3Vic2NyaWJlZC5zaXplJiZCKG4uc2Vjb25kYXJ5KSYmdGUobi5wcmltYXJ5LCJbUHJpbWFyeSBXZWJTb2NrZXRdIENsb3NpbmcgV2ViU29ja2V0IiksKFAuc3Vic2NyaWJlZC5zaXplPjB8fFAucGVuZGluZy5zaXplPjApJiYoQihuLnNlY29uZGFyeSkmJnVlKGUuaW5mbygiU3Vic2NyaWJpbmcgc2Vjb25kYXJ5IHdlYnNvY2tldCB0byB0b3BpY3Mgb2YgcHJpbWFyeSB3ZWJzb2NrZXQiKSksUC5zdWJzY3JpYmVkLmZvckVhY2goKGZ1bmN0aW9uKGUpe1Auc3Vic2NyaXB0aW9uSGlzdG9yeS5hZGQoZSksUC5wZW5kaW5nLmFkZChlKX0pKSxQLnN1YnNjcmliZWQuY2xlYXIoKSxlZSgpKSx6KCksUi5pbnRlcnZhbEhhbmRsZT1zZXRJbnRlcnZhbCh6LDFlNCk7dmFyIGk9MWUzKkwuY29ubkNvbmZpZy53ZWJTb2NrZXRUcmFuc3BvcnQudHJhbnNwb3J0TGlmZVRpbWVJblNlY29uZHM7dWUoZS5kZWJ1ZygiU2NoZWR1bGluZyBXZWJTb2NrZXQgbWFuYWdlciByZWNvbm5lY3Rpb24sIGFmdGVyIGRlbGF5ICIraSsiIG1zIikpLHIubGlmZVRpbWVUaW1lb3V0SGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dWUoZS5kZWJ1ZygiU3RhcnRpbmcgc2NoZWR1bGVkIFdlYlNvY2tldCBtYW5hZ2VyIHJlY29ubmVjdGlvbiIpKSxzZSgpfSksaSl9Y2F0Y2godCl7dWUoZS5lcnJvcigiRXJyb3IgYWZ0ZXIgZXN0YWJsaXNoaW5nIFdlYlNvY2tldCBjb25uZWN0aW9uIix0KSl9fSxaPWZ1bmN0aW9uKHQpe2ooIndlYlNvY2tldE9uRXJyb3IiKSxlLmFkdmFuY2VkTG9nKGgsSlNPTi5zdHJpbmdpZnkodCkpLHVlKGUuZXJyb3IoaCxKU09OLnN0cmluZ2lmeSh0KSkpLEQuZ2V0SXNDb25uZWN0ZWQoKT9zZSgpOkQucmV0cnkoKX0sJD1mdW5jdGlvbih0KXt2YXIgcj1KU09OLnBhcnNlKHQuZGF0YSk7c3dpdGNoKHIudG9waWMpe2Nhc2UgQTppZih1ZShlLmRlYnVnKCJTdWJzY3JpcHRpb24gTWVzc2FnZSByZWNlaXZlZCBmcm9tIHdlYlNvY2tldCBzZXJ2ZXIiLHQuZGF0YSkpLE4ucmVxdWVzdENvbXBsZXRlZD0hMCxOLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q9MCwic3VjY2VzcyI9PT1yLmNvbnRlbnQuc3RhdHVzKU4uY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cz0wLHIuY29udGVudC50b3BpY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7UC5zdWJzY3JpcHRpb25IaXN0b3J5LmRlbGV0ZShlKSxQLnBlbmRpbmcuZGVsZXRlKGUpLFAuc3Vic2NyaWJlZC5hZGQoZSl9KSksMD09PVAuc3Vic2NyaXB0aW9uSGlzdG9yeS5zaXplP0Iobi5zZWNvbmRhcnkpJiYodWUoZS5pbmZvKCJTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCBzZWNvbmRhcnkgd2Vic29ja2V0IHRvIGFsbCB0b3BpY3Mgb2YgcHJpbWFyeSB3ZWJzb2NrZXQiKSksdGUobi5wcmltYXJ5LCJbUHJpbWFyeSBXZWJTb2NrZXRdIENsb3NpbmcgV2ViU29ja2V0IikpOmVlKCksVShPLnN1YnNjcmlwdGlvblVwZGF0ZSxyKTtlbHNle2lmKGNsZWFySW50ZXJ2YWwoTi5yZVN1YnNjcmliZUludGVydmFsSWQpLCsrTi5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzLDU9PT1OLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHMpcmV0dXJuIFUoTy5zdWJzY3JpcHRpb25GYWlsdXJlLHIpLHZvaWQoTi5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTApO04ucmVTdWJzY3JpYmVJbnRlcnZhbElkPXNldEludGVydmFsKChmdW5jdGlvbigpe2VlKCl9KSw1MDApfWJyZWFrO2Nhc2Ugdzp1ZShlLmRlYnVnKCJIZWFydGJlYXQgcmVzcG9uc2UgcmVjZWl2ZWQiKSksUi5wZW5kaW5nUmVzcG9uc2U9ITE7YnJlYWs7ZGVmYXVsdDppZihyLnRvcGljKXtpZihlLmFkdmFuY2VkTG9nKEksci50b3BpYyksdWUoZS5kZWJ1ZyhJK3IudG9waWMpKSxCKG4ucHJpbWFyeSkmJkIobi5zZWNvbmRhcnkpJiYwPT09UC5zdWJzY3JpcHRpb25IaXN0b3J5LnNpemUmJnRoaXM9PT1uLnByaW1hcnkpcmV0dXJuIHZvaWQgdWUoZS53YXJuKCJJZ25vcmluZyBNZXNzYWdlIGZvciBUb3BpYyAiK3IudG9waWMrIiwgdG8gYXZvaWQgZHVwbGljYXRlcyIpKTtpZigwPT09Ty5hbGxNZXNzYWdlLnNpemUmJjA9PT1PLnRvcGljLnNpemUpcmV0dXJuIHZvaWQgdWUoZS53YXJuKCJObyByZWdpc3RlcmVkIGNhbGxiYWNrIGxpc3RlbmVyIGZvciBUb3BpYyIsci50b3BpYykpO2UuYWR2YW5jZWRMb2coIldlYnNvY2tldE1hbmFnZXIgaW52b2tlIGNhbGxiYWNrcyBmb3IgdG9waWMgc3VjY2VzcyAiLHIudG9waWMpLFUoTy5hbGxNZXNzYWdlLHIpLE8udG9waWMuaGFzKHIudG9waWMpJiZVKE8udG9waWMuZ2V0KHIudG9waWMpLHIpfWVsc2Ugci5tZXNzYWdlPyhlLmFkdmFuY2VkTG9nKEUsciksdWUoZS53YXJuKEUscikpKTooZS5hZHZhbmNlZExvZyhULHIpLHVlKGUud2FybihULHIpKSl9fSxlZT1mdW5jdGlvbiB0KCl7aWYoTi5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PjMpcmV0dXJuIHVlKGUud2FybigiSWdub3Jpbmcgc3Vic2NyaWJlUGVuZGluZ1RvcGljcyBzaW5jZSB3ZSBoYXZlIGV4aGF1c3RlZCBtYXggc3Vic2NyaXB0aW9uIHJldHJpZXMgd2l0aCBubyByZXNwb25zZSIpKSx2b2lkIFUoTy5zdWJzY3JpcHRpb25GYWlsdXJlLGsuZ2V0U3Vic2NyaXB0aW9uUmVzcG9uc2UoQSwhMSxBcnJheS5mcm9tKFAucGVuZGluZykpKTtXKCk/MCE9PUFycmF5LmZyb20oUC5wZW5kaW5nKS5sZW5ndGgmJihjbGVhckludGVydmFsKE4ucmVzcG9uc2VDaGVja0ludGVydmFsSWQpLFYoKS5zZW5kKG9lKEEse3RvcGljczpBcnJheS5mcm9tKFAucGVuZGluZyl9KSksTi5yZXF1ZXN0Q29tcGxldGVkPSExLE4ucmVzcG9uc2VDaGVja0ludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7Ti5yZXF1ZXN0Q29tcGxldGVkfHwoKytOLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3QsdCgpKX0pLDFlMykpOnVlKGUud2FybigiSWdub3Jpbmcgc3Vic2NyaWJlUGVuZGluZ1RvcGljcyBjYWxsIHNpbmNlIERlZmF1bHQgV2ViU29ja2V0IGlzIG5vdCBvcGVuIikpfSx0ZT1mdW5jdGlvbih0LG4pe3EodCxXZWJTb2NrZXQuQ09OTkVDVElORyl8fHEodCxXZWJTb2NrZXQuT1BFTik/dC5jbG9zZSgxZTMsbik6dWUoZS53YXJuKCJJZ25vcmluZyBXZWJTb2NrZXQgQ2xvc2UgcmVxdWVzdCwgV2ViU29ja2V0IFN0YXRlOiAiK0YodCkpKX0sbmU9ZnVuY3Rpb24oZSl7dGUobi5wcmltYXJ5LCJbUHJpbWFyeV0gV2ViU29ja2V0ICIrZSksdGUobi5zZWNvbmRhcnksIltTZWNvbmRhcnldIFdlYlNvY2tldCAiK2UpfSxyZT1mdW5jdGlvbih0KXtYKCksWSgpLGUuYWR2YW5jZWRMb2cobSx0KSx1ZShlLmVycm9yKG0pKSxyLndlYnNvY2tldEluaXRGYWlsZWQ9ITAsbmUoIlRlcm1pbmF0aW5nIFdlYlNvY2tldCBNYW5hZ2VyIiksY2xlYXJJbnRlcnZhbChNKSxVKE8uaW5pdEZhaWx1cmUse2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50Om8uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSxyZWFzb246dH0pLFEoKX0sb2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoe3RvcGljOmUsY29udGVudDp0fSl9LGllPWZ1bmN0aW9uKHQpe3JldHVybiEhKGsuaXNPYmplY3QodCkmJmsuaXNPYmplY3QodC53ZWJTb2NrZXRUcmFuc3BvcnQpJiZrLmlzTm9uRW1wdHlTdHJpbmcodC53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKSYmay52YWxpZFdTVXJsKHQud2ViU29ja2V0VHJhbnNwb3J0LnVybCkmJjFlMyp0LndlYlNvY2tldFRyYW5zcG9ydC50cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcz49M2U1KXx8KHVlKGUuZXJyb3IoIkludmFsaWQgV2ViU29ja2V0IENvbm5lY3Rpb24gQ29uZmlndXJhdGlvbiIsdCkpLCExKX0sc2U9ZnVuY3Rpb24oKXtpZighay5pc05ldHdvcmtPbmxpbmUoKSlyZXR1cm4gZS5hZHZhbmNlZExvZyhjKSx2b2lkIHVlKGUuaW5mbyhjKSk7aWYoci53ZWJzb2NrZXRJbml0RmFpbGVkKXVlKGUuZGVidWcoIldlYlNvY2tldCBJbml0IGhhZCBmYWlsZWQsIGlnbm9yaW5nIHRoaXMgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0IikpO2Vsc2V7aWYoTC5wcm9taXNlQ29tcGxldGVkKXJldHVybiBYKCksZS5hZHZhbmNlZExvZyh2KSx1ZShlLmluZm8odikpLG8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU9by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZXx8RGF0ZS5ub3coKSxMLnByb21pc2VDb21wbGV0ZWQ9ITEsTC5wcm9taXNlSGFuZGxlPU8uZ2V0V2ViU29ja2V0VHJhbnNwb3J0KCksTC5wcm9taXNlSGFuZGxlLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBMLnByb21pc2VDb21wbGV0ZWQ9ITAsZS5hZHZhbmNlZExvZyh5KSx1ZShlLmRlYnVnKHksdCkpLGllKHQpPyhMLmNvbm5Db25maWc9dCxMLmNvbm5Db25maWcudXJsQ29ublZhbGlkVGltZT1EYXRlLm5vdygpKzg1ZTMsYWUoKSk6KHJlKCJJbnZhbGlkIFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb246ICIrdCkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9KX0pLChmdW5jdGlvbih0KXtyZXR1cm4gTC5wcm9taXNlQ29tcGxldGVkPSEwLGUuYWR2YW5jZWRMb2coYiksdWUoZS5lcnJvcihiLHQpKSxrLmlzTmV0d29ya0ZhaWx1cmUodCk/KGUuYWR2YW5jZWRMb2coUytKU09OLnN0cmluZ2lmeSh0KSksdWUoZS5pbmZvKFMrSlNPTi5zdHJpbmdpZnkodCkpKSxELnJldHJ5KCkpOnJlKCJGYWlsZWQgdG8gZmV0Y2ggd2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbjogIitKU09OLnN0cmluZ2lmeSh0KSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9fSkpO3VlKGUuZGVidWcoIlRoZXJlIGlzIGFuIG9uZ29pbmcgZ2V0V2ViU29ja2V0Q29ubkNvbmZpZyByZXF1ZXN0LCB0aGlzIHJlcXVlc3Qgd2lsbCBiZSBpZ25vcmVkIikpfX0sYWU9ZnVuY3Rpb24oKXtpZihyLndlYnNvY2tldEluaXRGYWlsZWQpcmV0dXJuIHVlKGUuaW5mbygid2ViLXNvY2tldCBpbml0aWFsaXppbmcgaGFkIGZhaWxlZCwgYWJvcnRpbmcgcmUtaW5pdCIpKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH07aWYoIWsuaXNOZXR3b3JrT25saW5lKCkpcmV0dXJuIHVlKGUud2FybigiU3lzdGVtIGlzIG9mZmxpbmUgYWJvcnRpbmcgd2ViLXNvY2tldCBpbml0IikpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfTtlLmFkdmFuY2VkTG9nKEMpLHVlKGUuaW5mbyhDKSksaigiaW5pdFdlYlNvY2tldCIpO3RyeXtpZihpZShMLmNvbm5Db25maWcpKXt2YXIgdD1udWxsO3JldHVybiBCKG4ucHJpbWFyeSk/KHVlKGUuZGVidWcoIlByaW1hcnkgU29ja2V0IGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBvcGVuIikpLHEobi5zZWNvbmRhcnksV2ViU29ja2V0LkNPTk5FQ1RJTkcpfHwodWUoZS5kZWJ1ZygiRXN0YWJsaXNoaW5nIGEgc2Vjb25kYXJ5IHdlYi1zb2NrZXQgY29ubmVjdGlvbiIpKSxELm51bUF0dGVtcHRzPTAsbi5zZWNvbmRhcnk9Y2UoKSksdD1uLnNlY29uZGFyeSk6KHEobi5wcmltYXJ5LFdlYlNvY2tldC5DT05ORUNUSU5HKXx8KHVlKGUuZGVidWcoIkVzdGFibGlzaGluZyBhIHByaW1hcnkgd2ViLXNvY2tldCBjb25uZWN0aW9uIikpLG4ucHJpbWFyeT1jZSgpKSx0PW4ucHJpbWFyeSksci53ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe0IodCl8fGZ1bmN0aW9uKCl7by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudCsrO3ZhciB0PWsuYWRkSml0dGVyKHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZSwuMyk7RGF0ZS5ub3coKSt0PD1MLmNvbm5Db25maWcudXJsQ29ublZhbGlkVGltZT8oZS5hZHZhbmNlZExvZyhnKSx1ZShlLmRlYnVnKGcrdCsiIG1zIikpLHIuZXhwb25lbnRpYWxUaW1lb3V0SGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGFlKCl9KSx0KSxyLmV4cG9uZW50aWFsQmFja09mZlRpbWUqPTIpOihlLmFkdmFuY2VkTG9nKGYpLHVlKGUud2FybihmKSksc2UoKSl9KCl9KSwxZTMpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiExfX19Y2F0Y2godCl7cmV0dXJuIHVlKGUuZXJyb3IoIkVycm9yIEluaXRpYWxpemluZyB3ZWItc29ja2V0LW1hbmFnZXIiLHQpKSxyZSgiRmFpbGVkIHRvIGluaXRpYWxpemUgbmV3IFdlYlNvY2tldDogIit0Lm1lc3NhZ2UpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfX19LGNlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFdlYlNvY2tldChMLmNvbm5Db25maWcud2ViU29ja2V0VHJhbnNwb3J0LnVybCk7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcigib3BlbiIsSiksdC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwkKSx0LmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixaKSx0LmFkZEV2ZW50TGlzdGVuZXIoImNsb3NlIiwoZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7ZS5hZHZhbmNlZExvZyhkLEpTT04uc3RyaW5naWZ5KHQpKSx1ZShlLmluZm8oZCxKU09OLnN0cmluZ2lmeSh0KSkpLGooIndlYlNvY2tldE9uQ2xvc2UgYmVmb3JlLWNsZWFudXAiKSxVKE8uY29ubmVjdGlvbkNsb3NlLHtvcGVuVGltZXN0YW1wOmkub3BlblRpbWVzdGFtcCxjbG9zZVRpbWVzdGFtcDpEYXRlLm5vdygpLGNvbm5lY3Rpb25EdXJhdGlvbjpEYXRlLm5vdygpLWkub3BlblRpbWVzdGFtcCxjb2RlOnQuY29kZSxyZWFzb246dC5yZWFzb259KSxHKG4ucHJpbWFyeSkmJihuLnByaW1hcnk9bnVsbCksRyhuLnNlY29uZGFyeSkmJihuLnNlY29uZGFyeT1udWxsKSxyLnJlY29ubmVjdFdlYlNvY2tldCYmKEIobi5wcmltYXJ5KXx8QihuLnNlY29uZGFyeSk/RyhuLnByaW1hcnkpJiZCKG4uc2Vjb25kYXJ5KSYmKHVlKGUuaW5mbygiW1ByaW1hcnldIFdlYlNvY2tldCBDbGVhbmx5IENsb3NlZCIpKSxuLnByaW1hcnk9bi5zZWNvbmRhcnksbi5zZWNvbmRhcnk9bnVsbCk6KHVlKGUud2FybigiTmVpdGhlciBwcmltYXJ5IHdlYnNvY2tldCBhbmQgbm9yIHNlY29uZGFyeSB3ZWJzb2NrZXQgaGF2ZSBvcGVuIGNvbm5lY3Rpb25zLCBhdHRlbXB0aW5nIHRvIHJlLWVzdGFibGlzaCBjb25uZWN0aW9uIikpLHIuY29ublN0YXRlPT09Xz91ZShlLmluZm8oIklnbm9yaW5nIGNvbm5lY3Rpb25Mb3N0IGNhbGxiYWNrIGludm9jYXRpb24iKSk6KFUoTy5jb25uZWN0aW9uTG9zdCx7b3BlblRpbWVzdGFtcDppLm9wZW5UaW1lc3RhbXAsY2xvc2VUaW1lc3RhbXA6RGF0ZS5ub3coKSxjb25uZWN0aW9uRHVyYXRpb246RGF0ZS5ub3coKS1pLm9wZW5UaW1lc3RhbXAsY29kZTp0LmNvZGUscmVhc29uOnQucmVhc29ufSksby5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD1EYXRlLm5vdygpKSxyLmNvbm5TdGF0ZT1fLHNlKCkpLGooIndlYlNvY2tldE9uQ2xvc2UgYWZ0ZXItY2xlYW51cCIpKX0oaSx0KX0pKSx0fSx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXImJmUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlfTt0aGlzLmluaXQ9ZnVuY3Rpb24odCl7aWYoay5hc3NlcnRUcnVlKGsuaXNGdW5jdGlvbih0KSwidHJhbnNwb3J0SGFuZGxlIG11c3QgYmUgYSBmdW5jdGlvbiIpLG51bGw9PT1PLmdldFdlYlNvY2tldFRyYW5zcG9ydClyZXR1cm4gTy5nZXRXZWJTb2NrZXRUcmFuc3BvcnQ9dCxzZSgpO3VlKGUud2FybigiV2ViIFNvY2tldCBNYW5hZ2VyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkIikpfSx0aGlzLm9uSW5pdEZhaWx1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIkluaXRpYWxpemluZyBXZWJzb2NrZXQgTWFuYWdlciBGYWlsZWQhIiksay5hc3NlcnRUcnVlKGsuaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5pbml0RmFpbHVyZS5hZGQodCksci53ZWJzb2NrZXRJbml0RmFpbGVkJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTy5pbml0RmFpbHVyZS5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbk9wZW49ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIG9wZW4iKSxrLmFzc2VydFRydWUoay5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmNvbm5lY3Rpb25PcGVuLmFkZCh0KSxmdW5jdGlvbigpe3JldHVybiBPLmNvbm5lY3Rpb25PcGVuLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uQ2xvc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlIiksay5hc3NlcnRUcnVlKGsuaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5jb25uZWN0aW9uQ2xvc2UuYWRkKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uY29ubmVjdGlvbkNsb3NlLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uR2Fpbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gZ2FpbiIpLGsuYXNzZXJ0VHJ1ZShrLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uY29ubmVjdGlvbkdhaW4uYWRkKHQpLFcoKSYmdCgpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uY29ubmVjdGlvbkdhaW4uZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25Mb3N0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBsb3N0Iiksay5hc3NlcnRUcnVlKGsuaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5jb25uZWN0aW9uTG9zdC5hZGQodCksci5jb25uU3RhdGU9PT1fJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTy5jb25uZWN0aW9uTG9zdC5kZWxldGUodCl9fSx0aGlzLm9uU3Vic2NyaXB0aW9uVXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBrLmFzc2VydFRydWUoay5pc0Z1bmN0aW9uKGUpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLnN1YnNjcmlwdGlvblVwZGF0ZS5hZGQoZSksZnVuY3Rpb24oKXtyZXR1cm4gTy5zdWJzY3JpcHRpb25VcGRhdGUuZGVsZXRlKGUpfX0sdGhpcy5vblN1YnNjcmlwdGlvbkZhaWx1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBzdWJzY3JpcHRpb24gZmFpbHVyZSIpLGsuYXNzZXJ0VHJ1ZShrLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uc3Vic2NyaXB0aW9uRmFpbHVyZS5hZGQodCksZnVuY3Rpb24oKXtyZXR1cm4gTy5zdWJzY3JpcHRpb25GYWlsdXJlLmRlbGV0ZSh0KX19LHRoaXMub25NZXNzYWdlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGsuYXNzZXJ0Tm90TnVsbChlLCJ0b3BpY05hbWUiKSxrLmFzc2VydFRydWUoay5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLnRvcGljLmhhcyhlKT9PLnRvcGljLmdldChlKS5hZGQodCk6Ty50b3BpYy5zZXQoZSxuZXcgU2V0KFt0XSkpLGZ1bmN0aW9uKCl7cmV0dXJuIE8udG9waWMuZ2V0KGUpLmRlbGV0ZSh0KX19LHRoaXMub25BbGxNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBrLmFzc2VydFRydWUoay5pc0Z1bmN0aW9uKGUpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmFsbE1lc3NhZ2UuYWRkKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uYWxsTWVzc2FnZS5kZWxldGUoZSl9fSx0aGlzLnN1YnNjcmliZVRvcGljcz1mdW5jdGlvbihlKXtrLmFzc2VydE5vdE51bGwoZSwidG9waWNzIiksay5hc3NlcnRJc0xpc3QoZSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtQLnN1YnNjcmliZWQuaGFzKGUpfHxQLnBlbmRpbmcuYWRkKGUpfSkpLE4uY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD0wLGVlKCl9LHRoaXMuc2VuZE1lc3NhZ2U9ZnVuY3Rpb24odCl7aWYoay5hc3NlcnRJc09iamVjdCh0LCJwYXlsb2FkIiksdm9pZCAwPT09dC50b3BpY3x8eC5oYXModC50b3BpYykpdWUoZS53YXJuKCJDYW5ub3Qgc2VuZCBtZXNzYWdlLCBJbnZhbGlkIHRvcGljIix0KSk7ZWxzZXt0cnl7dD1KU09OLnN0cmluZ2lmeSh0KX1jYXRjaChuKXtyZXR1cm4gdm9pZCB1ZShlLndhcm4oIkVycm9yIHN0cmluZ2lmeSBtZXNzYWdlIix0KSl9VygpP1YoKS5zZW5kKHQpOnVlKGUud2FybigiQ2Fubm90IHNlbmQgbWVzc2FnZSwgd2ViIHNvY2tldCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuIikpfX0sdGhpcy5jbG9zZVdlYlNvY2tldD1mdW5jdGlvbigpe1goKSxZKCksci5yZWNvbm5lY3RXZWJTb2NrZXQ9ITEsY2xlYXJJbnRlcnZhbChNKSxuZSgiVXNlciByZXF1ZXN0IHRvIGNsb3NlIFdlYlNvY2tldCIpfSx0aGlzLnRlcm1pbmF0ZVdlYlNvY2tldE1hbmFnZXI9cmV9LFk9e2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgWH0sc2V0R2xvYmFsQ29uZmlnOmZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUubG9nZ2VyQ29uZmlnO0gudXBkYXRlTG9nZ2VyQ29uZmlnKHQpfSxMb2dMZXZlbDpxLExvZ2dlcjpGfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByOyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz17bm90X3N0cmluZzovW15zXS8sbm90X2Jvb2w6L1tedF0vLG5vdF90eXBlOi9bXlRdLyxub3RfcHJpbWl0aXZlOi9bXnZdLyxudW1iZXI6L1tkaWVmZ10vLG51bWVyaWNfYXJnOi9bYmNkaWVmZ3V4WF0vLGpzb246L1tqXS8sbm90X2pzb246L1teal0vLHRleHQ6L15bXlx4MjVdKy8sbW9kdWxvOi9eXHgyNXsyfS8scGxhY2Vob2xkZXI6L15ceDI1KD86KFsxLTldXGQqKVwkfFwoKFteKV0rKVwpKT8oXCspPygwfCdbXiRdKT8oLSk/KFxkKyk/KD86XC4oXGQrKSk/KFtiLWdpam9zdFR1dnhYXSkvLGtleTovXihbYS16X11bYS16X1xkXSopL2ksa2V5X2FjY2VzczovXlwuKFthLXpfXVthLXpfXGRdKikvaSxpbmRleF9hY2Nlc3M6L15cWyhcZCspXF0vLHNpZ246L15bKy1dL307ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLHMsYSxjLHUsbCxwLGQsaD0xLGc9ZS5sZW5ndGgsZj0iIjtmb3Iocj0wO3I8ZztyKyspaWYoInN0cmluZyI9PXR5cGVvZiBlW3JdKWYrPWVbcl07ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGVbcl0pe2lmKChhPWVbcl0pLmtleXMpZm9yKG49dFtoXSxzPTA7czxhLmtleXMubGVuZ3RoO3MrKyl7aWYobnVsbD09bil0aHJvdyBuZXcgRXJyb3IoaSgnW3NwcmludGZdIENhbm5vdCBhY2Nlc3MgcHJvcGVydHkgIiVzIiBvZiB1bmRlZmluZWQgdmFsdWUgIiVzIicsYS5rZXlzW3NdLGEua2V5c1tzLTFdKSk7bj1uW2Eua2V5c1tzXV19ZWxzZSBuPWEucGFyYW1fbm8/dFthLnBhcmFtX25vXTp0W2grK107aWYoby5ub3RfdHlwZS50ZXN0KGEudHlwZSkmJm8ubm90X3ByaW1pdGl2ZS50ZXN0KGEudHlwZSkmJm4gaW5zdGFuY2VvZiBGdW5jdGlvbiYmKG49bigpKSxvLm51bWVyaWNfYXJnLnRlc3QoYS50eXBlKSYmIm51bWJlciIhPXR5cGVvZiBuJiZpc05hTihuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGkoIltzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlVCIsbikpO3N3aXRjaChvLm51bWJlci50ZXN0KGEudHlwZSkmJihwPW4+PTApLGEudHlwZSl7Y2FzZSJiIjpuPXBhcnNlSW50KG4sMTApLnRvU3RyaW5nKDIpO2JyZWFrO2Nhc2UiYyI6bj1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4sMTApKTticmVhaztjYXNlImQiOmNhc2UiaSI6bj1wYXJzZUludChuLDEwKTticmVhaztjYXNlImoiOm49SlNPTi5zdHJpbmdpZnkobixudWxsLGEud2lkdGg/cGFyc2VJbnQoYS53aWR0aCk6MCk7YnJlYWs7Y2FzZSJlIjpuPWEucHJlY2lzaW9uP3BhcnNlRmxvYXQobikudG9FeHBvbmVudGlhbChhLnByZWNpc2lvbik6cGFyc2VGbG9hdChuKS50b0V4cG9uZW50aWFsKCk7YnJlYWs7Y2FzZSJmIjpuPWEucHJlY2lzaW9uP3BhcnNlRmxvYXQobikudG9GaXhlZChhLnByZWNpc2lvbik6cGFyc2VGbG9hdChuKTticmVhaztjYXNlImciOm49YS5wcmVjaXNpb24/U3RyaW5nKE51bWJlcihuLnRvUHJlY2lzaW9uKGEucHJlY2lzaW9uKSkpOnBhcnNlRmxvYXQobik7YnJlYWs7Y2FzZSJvIjpuPShwYXJzZUludChuLDEwKT4+PjApLnRvU3RyaW5nKDgpO2JyZWFrO2Nhc2UicyI6bj1TdHJpbmcobiksbj1hLnByZWNpc2lvbj9uLnN1YnN0cmluZygwLGEucHJlY2lzaW9uKTpuO2JyZWFrO2Nhc2UidCI6bj1TdHJpbmcoISFuKSxuPWEucHJlY2lzaW9uP24uc3Vic3RyaW5nKDAsYS5wcmVjaXNpb24pOm47YnJlYWs7Y2FzZSJUIjpuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpLG49YS5wcmVjaXNpb24/bi5zdWJzdHJpbmcoMCxhLnByZWNpc2lvbik6bjticmVhaztjYXNlInUiOm49cGFyc2VJbnQobiwxMCk+Pj4wO2JyZWFrO2Nhc2UidiI6bj1uLnZhbHVlT2YoKSxuPWEucHJlY2lzaW9uP24uc3Vic3RyaW5nKDAsYS5wcmVjaXNpb24pOm47YnJlYWs7Y2FzZSJ4IjpuPShwYXJzZUludChuLDEwKT4+PjApLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIlgiOm49KHBhcnNlSW50KG4sMTApPj4+MCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9by5qc29uLnRlc3QoYS50eXBlKT9mKz1uOighby5udW1iZXIudGVzdChhLnR5cGUpfHxwJiYhYS5zaWduP2Q9IiI6KGQ9cD8iKyI6Ii0iLG49bi50b1N0cmluZygpLnJlcGxhY2Uoby5zaWduLCIiKSksdT1hLnBhZF9jaGFyPyIwIj09PWEucGFkX2NoYXI/IjAiOmEucGFkX2NoYXIuY2hhckF0KDEpOiIgIixsPWEud2lkdGgtKGQrbikubGVuZ3RoLGM9YS53aWR0aCYmbD4wP3UucmVwZWF0KGwpOiIiLGYrPWEuYWxpZ24/ZCtuK2M6IjAiPT09dT9kK2MrbjpjK2Qrbil9cmV0dXJuIGZ9KGZ1bmN0aW9uKGUpe2lmKGFbZV0pcmV0dXJuIGFbZV07Zm9yKHZhciB0LG49ZSxyPVtdLGk9MDtuOyl7aWYobnVsbCE9PSh0PW8udGV4dC5leGVjKG4pKSlyLnB1c2godFswXSk7ZWxzZSBpZihudWxsIT09KHQ9by5tb2R1bG8uZXhlYyhuKSkpci5wdXNoKCIlIik7ZWxzZXtpZihudWxsPT09KHQ9by5wbGFjZWhvbGRlci5leGVjKG4pKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIltzcHJpbnRmXSB1bmV4cGVjdGVkIHBsYWNlaG9sZGVyIik7aWYodFsyXSl7aXw9MTt2YXIgcz1bXSxjPXRbMl0sdT1bXTtpZihudWxsPT09KHU9by5rZXkuZXhlYyhjKSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleSIpO2ZvcihzLnB1c2godVsxXSk7IiIhPT0oYz1jLnN1YnN0cmluZyh1WzBdLmxlbmd0aCkpOylpZihudWxsIT09KHU9by5rZXlfYWNjZXNzLmV4ZWMoYykpKXMucHVzaCh1WzFdKTtlbHNle2lmKG51bGw9PT0odT1vLmluZGV4X2FjY2Vzcy5leGVjKGMpKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5Iik7cy5wdXNoKHVbMV0pfXRbMl09c31lbHNlIGl8PTI7aWYoMz09PWkpdGhyb3cgbmV3IEVycm9yKCJbc3ByaW50Zl0gbWl4aW5nIHBvc2l0aW9uYWwgYW5kIG5hbWVkIHBsYWNlaG9sZGVycyBpcyBub3QgKHlldCkgc3VwcG9ydGVkIik7ci5wdXNoKHtwbGFjZWhvbGRlcjp0WzBdLHBhcmFtX25vOnRbMV0sa2V5czp0WzJdLHNpZ246dFszXSxwYWRfY2hhcjp0WzRdLGFsaWduOnRbNV0sd2lkdGg6dFs2XSxwcmVjaXNpb246dFs3XSx0eXBlOnRbOF19KX1uPW4uc3Vic3RyaW5nKHRbMF0ubGVuZ3RoKX1yZXR1cm4gYVtlXT1yfShlKSxhcmd1bWVudHMpfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gaS5hcHBseShudWxsLFtlXS5jb25jYXQodHx8W10pKX12YXIgYT1PYmplY3QuY3JlYXRlKG51bGwpO3Quc3ByaW50Zj1pLHQudnNwcmludGY9cywidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5zcHJpbnRmPWksd2luZG93LnZzcHJpbnRmPXMsdm9pZCAwPT09KHI9ZnVuY3Rpb24oKXtyZXR1cm57c3ByaW50ZjppLHZzcHJpbnRmOnN9fS5jYWxsKHQsbix0LGUpKXx8KGUuZXhwb3J0cz1yKSl9KCl9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5yKHQpLGZ1bmN0aW9uKGUpe24uZCh0LCJXZWJTb2NrZXRNYW5hZ2VyIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDApO2UuY29ubmVjdD1lLmNvbm5lY3R8fHt9LGNvbm5lY3QuV2ViU29ja2V0TWFuYWdlcj1yLmE7dmFyIG89ci5hfS5jYWxsKHRoaXMsbigzKSl9LGZ1bmN0aW9uKGUsdCl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufV0pfSwxNDQ6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgbj17VEVTVDoiVEVTVCIsVFJBQ0U6IlRSQUNFIixERUJVRzoiREVCVUciLElORk86IklORk8iLExPRzoiTE9HIixXQVJOOiJXQVJOIixFUlJPUjoiRVJST1IiLENSSVRJQ0FMOiJDUklUSUNBTCJ9LHI9e0NDUDoiY2NwIixTT0ZUUEhPTkU6InNvZnRwaG9uZSIsQ0hBVDoiY2hhdCIsVEFTSzoidGFzayJ9LG89e1RFU1Q6MCxUUkFDRToxMCxERUJVRzoyMCxJTkZPOjMwLExPRzo0MCxXQVJOOjUwLEVSUk9SOjEwMCxDUklUSUNBTDoyMDB9LGk9IkNDUCIscz0iU2hhcmVkV29ya2VyIixhPSJDUk0iLGM9e1RSQUNFOmZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sREVCVUc6ZnVuY3Rpb24oZSl7Y29uc29sZS5pbmZvKGUpfSxJTkZPOmZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sTE9HOmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUpfSxURVNUOmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUpfSxXQVJOOmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihlKX0sRVJST1I6ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcihlKX0sQ1JJVElDQUw6ZnVuY3Rpb24oZSl7Y29uc29sZS5lcnJvcihlKX19O2NvbnN0IHU9IltyZWRhY3RlZF0iO3ZhciBsPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApLGk9by5zaGlmdCgpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU9iamVjdC52YWx1ZXMocikuaW5kZXhPZihlKX0oaSk/KG49aSx0PW8uc2hpZnQoKSk6KHQ9aSxuPXIuQ0NQKSx7Zm9ybWF0OnQsY29tcG9uZW50Om4sYXJnczpvfX0scD1mdW5jdGlvbihlLG4scixvLGMsdSl7dGhpcy5jb21wb25lbnQ9ZSx0aGlzLmxldmVsPW4sdGhpcy50ZXh0PXIsdGhpcy50aW1lPW5ldyBEYXRlLHRoaXMudGFiSWQ9bnVsbD09PWM/bnVsbDpjfHx0LmNvcmUudGFiSWQsdGhpcy5leGNlcHRpb249bnVsbCx0aGlzLm9iamVjdHM9W10sdGhpcy5saW5lPTAsdGhpcy5hZ2VudFJlc291cmNlSWQ9bnVsbDt0cnl7dC5hZ2VudC5pbml0aWFsaXplZCYmKHRoaXMuYWdlbnRSZXNvdXJjZUlkPShuZXcgdC5BZ2VudCkuX2dldFJlc291cmNlSWQoKSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coIklzc3VlIGZpbmRpbmcgYWdlbnRSZXNvdXJjZUlkOiAiLGUpfXRoaXMubG9nZ2VySWQ9byx1P3RoaXMuY29udGV4dExheWVyPXU6dC5pc1NoYXJlZFdvcmtlcigpP3RoaXMuY29udGV4dExheWVyPXM6dC5pc0NSTSgpP3RoaXMuY29udGV4dExheWVyPWE6dC5pc0NDUCgpJiYodGhpcy5jb250ZXh0TGF5ZXI9aSl9O3AuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRhYklkfHxudWxsLG49ZS5jb250ZXh0TGF5ZXJ8fG51bGwsbz1uZXcgcChyLkNDUCxlLmxldmVsLGUudGV4dCxlLmxvZ2dlcklkLHQsbik7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUudGltZSk/by50aW1lPW5ldyBEYXRlKGUudGltZS5nZXRUaW1lKCkpOiJudW1iZXIiPT10eXBlb2YgZS50aW1lP28udGltZT1uZXcgRGF0ZShlLnRpbWUpOiJzdHJpbmciPT10eXBlb2YgZS50aW1lP28udGltZT1EYXRlLnBhcnNlKGUudGltZSk6by50aW1lPW5ldyBEYXRlLG8uZXhjZXB0aW9uPWUuZXhjZXB0aW9uLG8ub2JqZWN0cz1lLm9iamVjdHMsb307dmFyIGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9LyhBdXRoVG9rZW4uKikvZ2ksbj0vUGhvbmUgbnVtYmVyLiovZ2kscj0vU2VuZCBkaWdpdC4qL2dpLG89L0Nvbm5lY3Rpb25BdXRoZW50aWNhdGlvblRva2VuLiovZ2ksaT0vKCJjcmVkZW50aWFsIjoiKShbXiJdKikiLyxzPS9bYS16QS1aMC05Ll8lKy1dK0BbYS16QS1aMC05Li1dK1wuW2EtekEtWl17Mix9L2c7Y29uc3QgYT1bInF1aWNrY29ubmVjdG5hbWUiLCJ0b2tlbiIsImxvZ2luIiwiY3JlZGVudGlhbCIsImludGVybmFsaXAiLCJhdXRodG9rZW4iLCJwaG9uZW51bWJlciIsImZpcnN0bmFtZSIsImxhc3RuYW1lIiwiZW1haWxhZGRyZXNzIiwiYWRkcmVzcyIsImRpc3BsYXluYW1lIiwiYWdlbnRuYW1lIiwiZGVzY3JpcHRpb24iLCJuYW1lIiwidmFsdWUiLCJzdW1tYXJ5IiwicXVldWUubmFtZSJdLGM9WyJjdXN0b21lcmlkIiwic3BlYWtlcmlkIiwiY3VzdG9tZXJzcGVha2VyaWQiLCJwcmVzaWduZWR1cmwiXTtlJiYib2JqZWN0Ij09dHlwZW9mIGUmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKGwpe2lmKCJvYmplY3QiPT10eXBlb2YgZVtsXSlpZigiYXR0cmlidXRlcyI9PT1sKWVbbF09dTtlbHNle2lmKCJzdGF0ZSI9PT1sKXJldHVybjtkKGVbbF0pfWVsc2Uic3RyaW5nIj09dHlwZW9mIGVbbF0mJigidXJsIj09PWx8fCJ0ZXh0Ij09PWw/KGVbbF09ZVtsXS5yZXBsYWNlKHQsdSksZVtsXT1lW2xdLnJlcGxhY2UobiwicGhvbmUgbnVtYmVyIit1KSxlW2xdPWVbbF0ucmVwbGFjZShyLCJzZW5kIGRpZ2l0ICIrdSksZVtsXT1lW2xdLnJlcGxhY2Uobyx1KSxlW2xdPWVbbF0ucmVwbGFjZShzLCJlbWFpbCBhZGRyZXNzICIrdSkpOmEuaW5jbHVkZXMobC50b0xvd2VyQ2FzZSgpKT9lW2xdPXU6ImNhbGxjb25maWdqc29uIj09PWwudG9Mb3dlckNhc2UoKT9lW2xdPWVbbF0ucmVwbGFjZShpLCgoZSx0LG4pPT50K3UrJyInKSk6Yy5pbmNsdWRlcyhsLnRvTG93ZXJDYXNlKCkpJiYoZVtsXT0iIi5jb25jYXQoIltvYmZ1c2NhdGVkIHZhbHVlXSIsIiAiKS5jb25jYXQobWQ1KGVbbF0pKSkpfSkpfSxoPWZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZT1lIGluc3RhbmNlb2YgRXJyb3I/ZS5uYW1lOmUuY29kZXx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLHRoaXMubWVzc2FnZT1lLm1lc3NhZ2UsdGhpcy5zdGFjaz1bXSxlLnN0YWNrKXRyeXtBcnJheS5pc0FycmF5KGUuc3RhY2spP3RoaXMuc3RhY2s9ZS5zdGFjazoib2JqZWN0Ij09dHlwZW9mIGUuc3RhY2s/dGhpcy5zdGFjaz1bSlNPTi5zdHJpbmdpZnkoZS5zdGFjayldOiJzdHJpbmciPT10eXBlb2YgZS5zdGFjayYmKHRoaXMuc3RhY2s9ZS5zdGFjay5zcGxpdCgiXG4iKSl9Y2F0Y2goZSl7fX07cC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5zcHJpbnRmKCJbJXNdIFslc10gWyVzXTogJXMiLHRoaXMuZ2V0VGltZSgpJiZ0aGlzLmdldFRpbWUoKS50b0lTT1N0cmluZz90aGlzLmdldFRpbWUoKS50b0lTT1N0cmluZygpOiI/Pz8iLHRoaXMuZ2V0TGV2ZWwoKSx0aGlzLmdldEFnZW50UmVzb3VyY2VJZCgpLHRoaXMuZ2V0VGV4dCgpKX0scC5wcm90b3R5cGUuZ2V0VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWV9LHAucHJvdG90eXBlLmdldEFnZW50UmVzb3VyY2VJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFnZW50UmVzb3VyY2VJZH0scC5wcm90b3R5cGUuZ2V0VGFiSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJJZH0scC5wcm90b3R5cGUuZ2V0Q29udGV4dExheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dExheWVyfSxwLnByb3RvdHlwZS5nZXRMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxldmVsfSxwLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0scC5wcm90b3R5cGUuZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50fSxwLnByb3RvdHlwZS53aXRoRXhjZXB0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4Y2VwdGlvbj1uZXcgaChlKSx0aGlzfSxwLnByb3RvdHlwZS53aXRoT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBuPXQuZGVlcGNvcHkoZSk7cmV0dXJuIGQobiksdGhpcy5vYmplY3RzLnB1c2gobiksdGhpc30scC5wcm90b3R5cGUud2l0aENyb3NzT3JpZ2luRXZlbnRPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIG49dC5kZWVwY29weUNyb3NzT3JpZ2luRXZlbnQoZSk7cmV0dXJuIGQobiksdGhpcy5vYmplY3RzLnB1c2gobiksdGhpc30scC5wcm90b3R5cGUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRMb2coKS5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MucHVzaCh0aGlzKSx0aGlzfTt2YXIgZz1mdW5jdGlvbigpe3RoaXMuX2xvZ3M9W10sdGhpcy5fcm9sbGVkTG9ncz1bXSx0aGlzLl9sb2dzVG9QdXNoPVtdLHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdLHRoaXMuX2VjaG9MZXZlbD1vLklORk8sdGhpcy5fbG9nTGV2ZWw9by5JTkZPLHRoaXMuX2xpbmVDb3VudD0wLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD0wLHRoaXMuX2xvZ1JvbGxUaW1lcj1udWxsLHRoaXMuX2xvZ2dlcklkPShuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSx0aGlzLnNldExvZ1JvbGxJbnRlcnZhbCgxOGU1KSx0aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoPTB9O2cucHJvdG90eXBlLnNldExvZ1JvbGxJbnRlcnZhbD1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3RoaXMuX2xvZ1JvbGxUaW1lciYmdD09PXRoaXMuX2xvZ1JvbGxJbnRlcnZhbD90aGlzLndhcm4oIkxvZ2dlciBpcyBhbHJlYWR5IHNldCB0byB0aGUgZ2l2ZW4gaW50ZXJ2YWw6ICVkIix0aGlzLl9sb2dSb2xsSW50ZXJ2YWwpOih0aGlzLl9sb2dSb2xsVGltZXImJmUuY2xlYXJJbnRlcnZhbCh0aGlzLl9sb2dSb2xsVGltZXIpLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD10LHRoaXMuX2xvZ1JvbGxUaW1lcj1lLnNldEludGVydmFsKChmdW5jdGlvbigpe24uX3JvbGxlZExvZ3M9bi5fbG9ncyxuLl9sb2dzPVtdLG4uX3N0YXJ0TG9nSW5kZXhUb1B1c2g9MCxuLmluZm8oIkxvZyByb2xsIGludGVydmFsIG9jY3VycmVkLiIpfSksdGhpcy5fbG9nUm9sbEludGVydmFsKSl9LGcucHJvdG90eXBlLnNldExvZ0xldmVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBvKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbG9nZ2luZyBsZXZlbDogIitlKTt0aGlzLl9sb2dMZXZlbD1vW2VdfSxnLnByb3RvdHlwZS5zZXRFY2hvTGV2ZWw9ZnVuY3Rpb24oZSl7aWYoIShlIGluIG8pKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsb2dnaW5nIGxldmVsOiAiK2UpO3RoaXMuX2VjaG9MZXZlbD1vW2VdfSxnLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IHAoZSx0LG4sdGhpcy5nZXRMb2dnZXJJZCgpKTtyZXR1cm4gZChyKSx0aGlzLmFkZExvZ0VudHJ5KHIpLHJ9LGcucHJvdG90eXBlLmFkZExvZ0VudHJ5PWZ1bmN0aW9uKGUpe2QoZSksdGhpcy5fbG9ncy5wdXNoKGUpLHIuU09GVFBIT05FPT09ZS5jb21wb25lbnQmJnRoaXMuX2xvZ3NUb1B1c2gucHVzaChlKSxlLmxldmVsIGluIG8mJm9bZS5sZXZlbF0+PXRoaXMuX2xvZ0xldmVsJiYob1tlLmxldmVsXT49dGhpcy5fZWNob0xldmVsJiZjW2UuZ2V0TGV2ZWwoKV0oZS50b1N0cmluZygpKSxlLmxpbmU9dGhpcy5fbGluZUNvdW50KyspfSxnLnByb3RvdHlwZS5zZW5kSW50ZXJuYWxMb2dFbnRyeVRvU2VydmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnB1c2goZSksZS5sZXZlbCBpbiBvJiZvW2UubGV2ZWxdPj10aGlzLl9sb2dMZXZlbCYmKG9bZS5sZXZlbF0+PXRoaXMuX2VjaG9MZXZlbCYmY1tlLmdldExldmVsKCldKGUudG9TdHJpbmcoKSksZS5saW5lPXRoaXMuX2xpbmVDb3VudCsrKX0sZy5wcm90b3R5cGUuY2xlYXJPYmplY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9sb2dzLmxlbmd0aDtlKyspdGhpcy5fbG9nc1tlXS5vYmplY3RzJiZkZWxldGUgdGhpcy5fbG9nc1tlXS5vYmplY3RzfSxnLnByb3RvdHlwZS5jbGVhckV4Y2VwdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2xvZ3MubGVuZ3RoO2UrKyl0aGlzLl9sb2dzW2VdLmV4Y2VwdGlvbiYmZGVsZXRlIHRoaXMuX2xvZ3NbZV0uZXhjZXB0aW9ufSxnLnByb3RvdHlwZS50cmFjZT1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxuLlRSQUNFLHQudnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LG4uREVCVUcsdC52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxuLklORk8sdC52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LG4uTE9HLHQudnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsbi5URVNULHQudnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsbi5XQVJOLHQudnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGcucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LG4uRVJST1IsdC52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0sZy5wcm90b3R5cGUuY3JpdGljYWw9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsbi5FUlJPUix0LnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxnLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLl9sb2dzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMuX2xvZ3NbdF0udG9TdHJpbmcoKSk7cmV0dXJuIGUuam9pbigiXG4iKX0sZy5wcm90b3R5cGUuZG93bmxvYWQ9ZnVuY3Rpb24obil7dmFyIHIsaT0iYWdlbnQtbG9nIixzPSExLGE9ITA9PT0obnVsbD09PShyPXQpfHx2b2lkIDA9PT1yfHxudWxsPT09KHI9ci5nbG9iYWxSZXNpbGllbmN5KXx8dm9pZCAwPT09cj92b2lkIDA6ci5nbG9iYWxSZXNpbGllbmN5RW5hYmxlZCk7Im9iamVjdCI9PXR5cGVvZiBuJiZudWxsIT09bj8oaT1uLmxvZ05hbWV8fGkscz1uLmZpbHRlckJ5TG9nTGV2ZWx8fHMpOiJzdHJpbmciPT10eXBlb2YgbiYmKGk9bnx8aSksYSYmKHQuZ2xvYmFsUmVzaWxpZW5jeS5fZG93bmxvYWRDQ1BMb2dzKCksaT0iY3JtLSIraSk7dmFyIGM9dGhpcyx1PXRoaXMuX3JvbGxlZExvZ3MuY29uY2F0KHRoaXMuX2xvZ3MpO3MmJih1PXUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlLmxldmVsXT49Yy5fbG9nTGV2ZWx9KSkpO3ZhciBsPW5ldyBlLkJsb2IoW0pTT04uc3RyaW5naWZ5KHUsdm9pZCAwLDQpXSxbInRleHQvcGxhaW4iXSkscD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7aT1pfHwiYWdlbnQtbG9nIixwLmhyZWY9ZS5VUkwuY3JlYXRlT2JqZWN0VVJMKGwpLHAuZG93bmxvYWQ9aSsiLnR4dCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwKSxwLmNsaWNrKCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwKX0sZy5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbUxvZ1B1c2g9ZnVuY3Rpb24obil7dC51cHN0cmVhbUxvZ1B1c2hTY2hlZHVsZWR8fCh0LnVwc3RyZWFtTG9nUHVzaFNjaGVkdWxlZD0hMCxlLnNldEludGVydmFsKHQuaGl0Y2godGhpcyx0aGlzLnJlcG9ydE1hc3RlckxvZ3NVcFN0cmVhbSxuKSw1ZTMpKX0sZy5wcm90b3R5cGUucmVwb3J0TWFzdGVyTG9nc1VwU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX2xvZ3NUb1B1c2guc2xpY2UoKTt0aGlzLl9sb2dzVG9QdXNoPVtdLHQuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU0VORF9MT0dTLChmdW5jdGlvbigpe24ubGVuZ3RoPjAmJmUuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlNFTkRfTE9HUyxuKX0pKX0sZy5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1B1c2g9ZnVuY3Rpb24obil7ZS5zZXRJbnRlcnZhbCh0LmhpdGNoKHRoaXMsdGhpcy5wdXNoT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzVXBzdHJlYW0sbiksMWUzKX0sZy5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUExvZ3NQdXNoPWZ1bmN0aW9uKG4pe2Uuc2V0SW50ZXJ2YWwodC5oaXRjaCh0aGlzLHRoaXMucHVzaE91dGVyQ29udGV4dENDUExvZ3NVcHN0cmVhbSxuKSwxZTMpfSxnLnByb3RvdHlwZS5wdXNoT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzVXBzdHJlYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPjApe2Zvcih2YXIgbj0wO248dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO24rKyl0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1tuXS50ZXh0PXRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzW25dLnRleHQ7ZS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyksdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119fSxnLnByb3RvdHlwZS5wdXNoT3V0ZXJDb250ZXh0Q0NQTG9nc1Vwc3RyZWFtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj10aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoO248dGhpcy5fbG9ncy5sZW5ndGg7bisrKXRoaXMuX2xvZ3Nbbl0ubG9nZ2VySWQ9PT10aGlzLl9sb2dnZXJJZCYmZS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuTE9HLHRoaXMuX2xvZ3Nbbl0pO3RoaXMuX3N0YXJ0TG9nSW5kZXhUb1B1c2g9dGhpcy5fbG9ncy5sZW5ndGh9LGcucHJvdG90eXBlLmdldExvZ2dlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ2dlcklkfSxnLnByb3RvdHlwZS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2g9ZnVuY3Rpb24oKXtlLnNldEludGVydmFsKHQuaGl0Y2godGhpcyx0aGlzLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW0pLDVlMyl9LGcucHJvdG90eXBlLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT1bXTt0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg8NTB8fCh0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg+NTAwP2U9dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3Muc3BsaWNlKDAsNTAwKTooZT10aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncz1bXSksdC5wdWJsaXNoQ2xpZW50U2lkZUxvZ3MoZSkpfTt2YXIgZj1mdW5jdGlvbihuKXtnLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PW4sZS5zZXRJbnRlcnZhbCh0LmhpdGNoKHRoaXMsdGhpcy5fcHVzaExvZ3NEb3duc3RyZWFtKSxmLkxPR19QVVNIX0lOVEVSVkFMKSxlLmNsZWFySW50ZXJ2YWwodGhpcy5fbG9nUm9sbFRpbWVyKSx0aGlzLl9sb2dSb2xsVGltZXI9bnVsbH07Zi5MT0dfUFVTSF9JTlRFUlZBTD0xZTMsZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksZi5wcm90b3R5cGUuY29uc3RydWN0b3I9ZixmLnByb3RvdHlwZS5wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5MT0csZSl9KSl9LGYucHJvdG90eXBlLl9wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2xvZ3MuZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRXZlbnRUeXBlLkxPRyxuKX0pKSx0aGlzLl9sb2dzPVtdO2Zvcih2YXIgbj0wO248dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO24rKyl0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1tuXSk7dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119O3ZhciBtPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7Yy5FUlJPUihlKX19fTt0LnJvb3RMb2dnZXI9bmV3IGcsZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpImZ1bmN0aW9uIj09dHlwZW9mIGVbdF0mJihlW3RdPW0oZVt0XSkpfSh0LnJvb3RMb2dnZXIpLCh0PXR8fHt9KS5nZXRMb2c9ZnVuY3Rpb24oKXtyZXR1cm4gdC5yb290TG9nZ2VyfSx0LkxvZ0VudHJ5PXAsdC5Mb2dnZXI9Zyx0LkxvZ0xldmVsPW4sdC5Mb2dDb21wb25lbnQ9cix0LkRvd25zdHJlYW1Db25kdWl0TG9nZ2VyPWZ9KCl9LDI1NDpmdW5jdGlvbigpeyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIHQodCxuLHIsbyxpLHMpe3JldHVybiBlKChhPWUoZShuLHQpLGUobyxzKSkpPDwoYz1pKXxhPj4+MzItYyxyKTt2YXIgYSxjfWZ1bmN0aW9uIG4oZSxuLHIsbyxpLHMsYSl7cmV0dXJuIHQobiZyfH5uJm8sZSxuLGkscyxhKX1mdW5jdGlvbiByKGUsbixyLG8saSxzLGEpe3JldHVybiB0KG4mb3xyJn5vLGUsbixpLHMsYSl9ZnVuY3Rpb24gbyhlLG4scixvLGkscyxhKXtyZXR1cm4gdChuXnJebyxlLG4saSxzLGEpfWZ1bmN0aW9uIGkoZSxuLHIsbyxpLHMsYSl7cmV0dXJuIHQocl4obnx+byksZSxuLGkscyxhKX1mdW5jdGlvbiBzKHQscyl7dmFyIGEsYyx1LGwscDt0W3M+PjVdfD0xMjg8PHMlMzIsdFsxNCsocys2ND4+Pjk8PDQpXT1zO3ZhciBkPTE3MzI1ODQxOTMsaD0tMjcxNzMzODc5LGc9LTE3MzI1ODQxOTQsZj0yNzE3MzM4Nzg7Zm9yKGE9MDthPHQubGVuZ3RoO2ErPTE2KWM9ZCx1PWgsbD1nLHA9ZixkPW4oZCxoLGcsZix0W2FdLDcsLTY4MDg3NjkzNiksZj1uKGYsZCxoLGcsdFthKzFdLDEyLC0zODk1NjQ1ODYpLGc9bihnLGYsZCxoLHRbYSsyXSwxNyw2MDYxMDU4MTkpLGg9bihoLGcsZixkLHRbYSszXSwyMiwtMTA0NDUyNTMzMCksZD1uKGQsaCxnLGYsdFthKzRdLDcsLTE3NjQxODg5NyksZj1uKGYsZCxoLGcsdFthKzVdLDEyLDEyMDAwODA0MjYpLGc9bihnLGYsZCxoLHRbYSs2XSwxNywtMTQ3MzIzMTM0MSksaD1uKGgsZyxmLGQsdFthKzddLDIyLC00NTcwNTk4MyksZD1uKGQsaCxnLGYsdFthKzhdLDcsMTc3MDAzNTQxNiksZj1uKGYsZCxoLGcsdFthKzldLDEyLC0xOTU4NDE0NDE3KSxnPW4oZyxmLGQsaCx0W2ErMTBdLDE3LC00MjA2MyksaD1uKGgsZyxmLGQsdFthKzExXSwyMiwtMTk5MDQwNDE2MiksZD1uKGQsaCxnLGYsdFthKzEyXSw3LDE4MDQ2MDM2ODIpLGY9bihmLGQsaCxnLHRbYSsxM10sMTIsLTQwMzQxMTAxKSxnPW4oZyxmLGQsaCx0W2ErMTRdLDE3LC0xNTAyMDAyMjkwKSxkPXIoZCxoPW4oaCxnLGYsZCx0W2ErMTVdLDIyLDEyMzY1MzUzMjkpLGcsZix0W2ErMV0sNSwtMTY1Nzk2NTEwKSxmPXIoZixkLGgsZyx0W2ErNl0sOSwtMTA2OTUwMTYzMiksZz1yKGcsZixkLGgsdFthKzExXSwxNCw2NDM3MTc3MTMpLGg9cihoLGcsZixkLHRbYV0sMjAsLTM3Mzg5NzMwMiksZD1yKGQsaCxnLGYsdFthKzVdLDUsLTcwMTU1ODY5MSksZj1yKGYsZCxoLGcsdFthKzEwXSw5LDM4MDE2MDgzKSxnPXIoZyxmLGQsaCx0W2ErMTVdLDE0LC02NjA0NzgzMzUpLGg9cihoLGcsZixkLHRbYSs0XSwyMCwtNDA1NTM3ODQ4KSxkPXIoZCxoLGcsZix0W2ErOV0sNSw1Njg0NDY0MzgpLGY9cihmLGQsaCxnLHRbYSsxNF0sOSwtMTAxOTgwMzY5MCksZz1yKGcsZixkLGgsdFthKzNdLDE0LC0xODczNjM5NjEpLGg9cihoLGcsZixkLHRbYSs4XSwyMCwxMTYzNTMxNTAxKSxkPXIoZCxoLGcsZix0W2ErMTNdLDUsLTE0NDQ2ODE0NjcpLGY9cihmLGQsaCxnLHRbYSsyXSw5LC01MTQwMzc4NCksZz1yKGcsZixkLGgsdFthKzddLDE0LDE3MzUzMjg0NzMpLGQ9byhkLGg9cihoLGcsZixkLHRbYSsxMl0sMjAsLTE5MjY2MDc3MzQpLGcsZix0W2ErNV0sNCwtMzc4NTU4KSxmPW8oZixkLGgsZyx0W2ErOF0sMTEsLTIwMjI1NzQ0NjMpLGc9byhnLGYsZCxoLHRbYSsxMV0sMTYsMTgzOTAzMDU2MiksaD1vKGgsZyxmLGQsdFthKzE0XSwyMywtMzUzMDk1NTYpLGQ9byhkLGgsZyxmLHRbYSsxXSw0LC0xNTMwOTkyMDYwKSxmPW8oZixkLGgsZyx0W2ErNF0sMTEsMTI3Mjg5MzM1MyksZz1vKGcsZixkLGgsdFthKzddLDE2LC0xNTU0OTc2MzIpLGg9byhoLGcsZixkLHRbYSsxMF0sMjMsLTEwOTQ3MzA2NDApLGQ9byhkLGgsZyxmLHRbYSsxM10sNCw2ODEyNzkxNzQpLGY9byhmLGQsaCxnLHRbYV0sMTEsLTM1ODUzNzIyMiksZz1vKGcsZixkLGgsdFthKzNdLDE2LC03MjI1MjE5NzkpLGg9byhoLGcsZixkLHRbYSs2XSwyMyw3NjAyOTE4OSksZD1vKGQsaCxnLGYsdFthKzldLDQsLTY0MDM2NDQ4NyksZj1vKGYsZCxoLGcsdFthKzEyXSwxMSwtNDIxODE1ODM1KSxnPW8oZyxmLGQsaCx0W2ErMTVdLDE2LDUzMDc0MjUyMCksZD1pKGQsaD1vKGgsZyxmLGQsdFthKzJdLDIzLC05OTUzMzg2NTEpLGcsZix0W2FdLDYsLTE5ODYzMDg0NCksZj1pKGYsZCxoLGcsdFthKzddLDEwLDExMjY4OTE0MTUpLGc9aShnLGYsZCxoLHRbYSsxNF0sMTUsLTE0MTYzNTQ5MDUpLGg9aShoLGcsZixkLHRbYSs1XSwyMSwtNTc0MzQwNTUpLGQ9aShkLGgsZyxmLHRbYSsxMl0sNiwxNzAwNDg1NTcxKSxmPWkoZixkLGgsZyx0W2ErM10sMTAsLTE4OTQ5ODY2MDYpLGc9aShnLGYsZCxoLHRbYSsxMF0sMTUsLTEwNTE1MjMpLGg9aShoLGcsZixkLHRbYSsxXSwyMSwtMjA1NDkyMjc5OSksZD1pKGQsaCxnLGYsdFthKzhdLDYsMTg3MzMxMzM1OSksZj1pKGYsZCxoLGcsdFthKzE1XSwxMCwtMzA2MTE3NDQpLGc9aShnLGYsZCxoLHRbYSs2XSwxNSwtMTU2MDE5ODM4MCksaD1pKGgsZyxmLGQsdFthKzEzXSwyMSwxMzA5MTUxNjQ5KSxkPWkoZCxoLGcsZix0W2ErNF0sNiwtMTQ1NTIzMDcwKSxmPWkoZixkLGgsZyx0W2ErMTFdLDEwLC0xMTIwMjEwMzc5KSxnPWkoZyxmLGQsaCx0W2ErMl0sMTUsNzE4Nzg3MjU5KSxoPWkoaCxnLGYsZCx0W2ErOV0sMjEsLTM0MzQ4NTU1MSksZD1lKGQsYyksaD1lKGgsdSksZz1lKGcsbCksZj1lKGYscCk7cmV0dXJuW2QsaCxnLGZdfWZ1bmN0aW9uIGEoZSl7dmFyIHQsbj0iIixyPTMyKmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW3Q+PjVdPj4+dCUzMiYyNTUpO3JldHVybiBufWZ1bmN0aW9uIGMoZSl7dmFyIHQsbj1bXTtmb3IoblsoZS5sZW5ndGg+PjIpLTFdPXZvaWQgMCx0PTA7dDxuLmxlbmd0aDt0Kz0xKW5bdF09MDt2YXIgcj04KmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpblt0Pj41XXw9KDI1NSZlLmNoYXJDb2RlQXQodC84KSk8PHQlMzI7cmV0dXJuIG59ZnVuY3Rpb24gdShlKXt2YXIgdCxuLHI9IjAxMjM0NTY3ODlhYmNkZWYiLG89IiI7Zm9yKG49MDtuPGUubGVuZ3RoO24rPTEpdD1lLmNoYXJDb2RlQXQobiksbys9ci5jaGFyQXQodD4+PjQmMTUpK3IuY2hhckF0KDE1JnQpO3JldHVybiBvfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGEocyhjKGUpLDgqZS5sZW5ndGgpKX0obChlKSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1jKGUpLGk9W10sdT1bXTtmb3IoaVsxNV09dVsxNV09dm9pZCAwLG8ubGVuZ3RoPjE2JiYobz1zKG8sOCplLmxlbmd0aCkpLG49MDtuPDE2O24rPTEpaVtuXT05MDk1MjI0ODZeb1tuXSx1W25dPTE1NDk1NTY4Mjheb1tuXTtyZXR1cm4gcj1zKGkuY29uY2F0KGModCkpLDUxMis4KnQubGVuZ3RoKSxhKHModS5jb25jYXQociksNjQwKSl9KGwoZSksbCh0KSl9KHRoaXN8fGdsb2JhbFRoaXMpLm1kNT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ/bj9kKHQsZSk6dShkKHQsZSkpOm4/cChlKTp1KHAoZSkpfX0oKX0sMTQyOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5DaGF0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5nZXRMb2coKSxvPXQuTG9nQ29tcG9uZW50LkNIQVQsaT1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0scz1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7ci5lcnJvcihvLCJDaGF0IFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIixlKX0pKSxlLm9uQ29ubmVjdGlvbkVzdGFibGlzaGVkKChmdW5jdGlvbihlKXtyLmluZm8obywiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiLGUpfSkpfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7aSgiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiLGUuY29udGFjdElkKSxyLmluZm8obywiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5DaGF0U2Vzc2lvbi5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOnJ9LHJlZ2lvbjpuLnJlZ2lvbn0pO3ZhciBhPXQuQ2hhdFNlc3Npb24uY3JlYXRlKHtjaGF0RGV0YWlsczplLHR5cGU6IkFHRU5UIix3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gcyhhKSxhLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gci5pbmZvKG8sIkNoYXQgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgZm9yIGNvbnRhY3RJZCAlcyIsZS5jb250YWN0SWQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLGF9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IHIuZXJyb3IobywiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKCJDaGF0IFNlc3Npb24gZXN0YWJsaXNoZW1lbnQgZmFpbGVkIixlLmNvbnRhY3RJZCx0KSx0fSkpfSgpfX19fSgpfSw4ODQ6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0Lk1lZGlhRmFjdG9yeT1mdW5jdGlvbihlKXt2YXIgbj17fSxyPW5ldyBTZXQsbz10LmdldExvZygpLGk9dC5Mb2dDb21wb25lbnQuQ0hBVCxzPXQubWVyZ2Uoe30sZSl8fHt9O3MucmVnaW9uPXMucmVnaW9ufHwidXMtd2VzdC0yIjt2YXIgYT1mdW5jdGlvbihlKXtuW2VdJiYhci5oYXMoZSkmJihvLmluZm8oaSwiRGVzdHJveWluZyBtZWRpYUNvbnRyb2xsZXIgZm9yICVzIixlKSxyLmFkZChlKSxuW2VdLnRoZW4oKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0LmNsZWFuVXAmJnQuY2xlYW5VcCgpLGRlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpLmNhdGNoKChmdW5jdGlvbigpe2RlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpKX07cmV0dXJue2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0oZSk/ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXRDb25uZWN0aW9uSWQoKTtpZighZS5nZXRNZWRpYUluZm8oKSlyZXR1cm4gby5lcnJvcihpLCJNZWRpYSBpbmZvIGRvZXMgbm90IGV4aXN0IGZvciBhIG1lZGlhIHR5cGUgJXMiLGUuZ2V0TWVkaWFUeXBlKCkpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxQcm9taXNlLnJlamVjdCgiTWVkaWEgaW5mbyBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBjb25uZWN0aW9uIik7aWYobltyXSlyZXR1cm4gbltyXTtzd2l0Y2goby5pbmZvKGksIm1lZGlhIGNvbnRyb2xsZXIgb2YgdHlwZSAlcyBpbml0IixlLmdldE1lZGlhVHlwZSgpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5nZXRNZWRpYVR5cGUoKSl7Y2FzZSB0Lk1lZGlhVHlwZS5DSEFUOnJldHVybiBuW3JdPW5ldyB0LkNoYXRNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSxzKS5nZXQoKTtjYXNlIHQuTWVkaWFUeXBlLlNPRlRQSE9ORTpyZXR1cm4gbltyXT1uZXcgdC5Tb2Z0cGhvbmVNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7Y2FzZSB0Lk1lZGlhVHlwZS5UQVNLOnJldHVybiBuW3JdPW5ldyB0LlRhc2tNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7ZGVmYXVsdDpyZXR1cm4gby5lcnJvcihpLCJVbnJlY29nbml6ZWQgbWVkaWEgdHlwZSAlcyAiLGUuZ2V0TWVkaWFUeXBlKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUHJvbWlzZS5yZWplY3QoKX19KGUpOihhKGUuZ2V0Q29ubmVjdGlvbklkKCkpLFByb21pc2UucmVqZWN0KCJNZWRpYSBDb250cm9sbGVyIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgZm9yIHRoaXMgY29ubmVjdGlvbiIpKX0sZGVzdHJveTphfX19KCl9LDM5MDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LHQuU29mdHBob25lTWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfX19fSgpfSwyNjk6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0LlRhc2tNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dmFyIG49dC5nZXRMb2coKSxyPXQuTG9nQ29tcG9uZW50LlRBU0ssbz1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0saT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7bi5lcnJvcihyLCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLG8oIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGJyb2tlbiIsZSl9KSksZS5vbkNvbm5lY3Rpb25Fc3RhYmxpc2hlZCgoZnVuY3Rpb24oZSl7bi5pbmZvKHIsIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIikud2l0aE9iamVjdChlKSxvKCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCIsZSl9KSl9O3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtvKCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIsZS5jb250YWN0SWQpLG4uaW5mbyhyLCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIpLndpdGhPYmplY3QoZSk7dmFyIHM9dC5UYXNrU2Vzc2lvbi5jcmVhdGUoe2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOmUuaW5pdGlhbENvbnRhY3RJZCx3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gaShzKSxzLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmluZm8ociwiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBmb3IgY29udGFjdElkICVzIixlLmNvbnRhY3RJZCksbygiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLHN9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IG4uZXJyb3IociwiVGFzayBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCksbygiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCIsZS5jb250YWN0SWQsdCksdH0pKX0oKX19fX0oKX0sNDE0OigpPT57ZnVuY3Rpb24gZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdCh0KXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9lKE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bih0LGUsb1tlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6ZShPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBuKGUsdCxuKXtyZXR1cm4odD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXR5cGVvZiByKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0P3Q6dCsiIn0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9IWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzfHxnbG9iYWxUaGlzLG49ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9bixlLmxpbHk9bjtjb25zdCByPSIvcmVxdWVzdC1zdG9yYWdlLWFjY2VzcyIsbz17Y2FuUmVxdWVzdDohMSxtb2RlOiJkZWZhdWx0IixjdXN0b206e2hpZGVDQ1A6ITB9fTtsZXQgaSxzPXt9LGE9IiIsYz1udWxsLHU9ITE7Y29uc3QgbD17SU5JVDoic3RvcmFnZUFjY2Vzczo6aW5pdCIsR1JBTlRFRDoic3RvcmFnZUFjY2Vzczo6Z3JhbnRlZCIsREVOSUVEOiJzdG9yYWdlQWNjZXNzOjpkZW5pZWQiLFJFUVVFU1Q6InN0b3JhZ2VBY2Nlc3M6OnJlcXVlc3QifSxwPSgpPT4oe3Nob3c6KCk9PntjLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0saGlkZTooKT0+e2Muc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksZD0oKT0+cyYmImN1c3RvbSI9PT1zLm1vZGUsaD1lPT5lLm1hdGNoKC8uY29ubmVjdC5hd3MuYTJ6LmNvbXwubXkuY29ubmVjdC5hd3N8LmdvdmNsb3VkLmNvbm5lY3QuYXdzfC5hd3NhcHBzLmNvbS8pLGc9ZT0+e2NvbnN0e29yaWdpbjp0LHBhdGhuYW1lOm59PW5ldyBVUkwoZSk7aWYodC5tYXRjaCgvLmF3c2FwcHMuY29tLykpe2xldCBlPSJjb25uZWN0IjtyZXR1cm4gbi5zdGFydHNXaXRoKCIvY29ubmVjdC1nYW1tYSIpJiYoZT0iY29ubmVjdC1nYW1tYSIpLCIiLmNvbmNhdCh0LCIvIikuY29uY2F0KGUpLmNvbmNhdChyKX1yZXR1cm4iIi5jb25jYXQodCkuY29uY2F0KHIpfSxmPWU9PmUubWF0Y2goL15odHRwcz86XC9cL2xvY2FsaG9zdC8pLG09KCk9PntpZighYSl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0bGFuZEF0UGF0aF0gSW52b2tlIGNvbm5lY3Quc3RvcmFnZUFjY2Vzcy5pbml0IGZpcnN0Iik7aWYoaChhKXx8ZihhKSl7Y29uc3R7cGF0aG5hbWU6ZX09bmV3IFVSTChhKTtyZXR1cm4gZX1yZXR1cm4iL2Nvbm5lY3QvY2NwLXYyIn0sdj1lPT57bGV0e29uSW5pdDp0LG9uRGVueTpyLG9uR3JhbnQ6b309ZTtmdW5jdGlvbiBpKGUpe2xldHtkYXRhOnMsc291cmNlOmF9PWU7aWYobi5jb3JlLl9nZXRDQ1BJZnJhbWUoKS5jb250ZW50V2luZG93IT09YSlyZXR1cm4hMTtzd2l0Y2gobi5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSkscy5ldmVudCl7Y2FzZSBsLklOSVQ6bi5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bSU5JVF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QocyksdCYmdChzKTticmVhaztjYXNlIGwuR1JBTlRFRDpuLmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtHUkFOVEVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChzKSxvJiZvKHMpO2JyZWFrO2Nhc2UgbC5ERU5JRUQ6bi5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bREVOSUVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChzKSxyJiZyKHMpO2JyZWFrO2RlZmF1bHQ6bi5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fXJldHVybiBzLmNhblJlcXVlc3QmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpKSx7dW5zdWJzY3JpYmU6KCk9Pnt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fX07bi5zdG9yYWdlQWNjZXNzPU9iamVjdC5mcmVlemUoe2NhblJlcXVlc3Q6KCk9PnMuY2FuUmVxdWVzdCxvcHRPdXRGcm9tUmVxdWVzdEFjY2VzczooKT0+e28uY2FuUmVxdWVzdD0hMX0sb3B0SW5Gb3JSZXF1ZXN0QWNjZXNzOigpPT57by5jYW5SZXF1ZXN0PSEwfSxpbml0OmZ1bmN0aW9uKGUscil7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O24uYXNzZXJ0Tm90TnVsbChlLCJjY3BVcmwiKSxuLmFzc2VydE5vdE51bGwociwiY29udGFpbmVyIiksYz1yLGE9ZSxmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtlLmN1c3RvbT1lLmN1c3RvbXx8e30scz10KHQodCh7fSxvKSxlKSx7fSx7Y3VzdG9tOnQodCh7fSxvLmN1c3RvbSksZS5jdXN0b20pfSkscy5jYW5SZXF1ZXN0PSEoImZhbHNlIj09PXMuY2FuUmVxdWVzdHx8ITE9PT1zLmNhblJlcXVlc3QpfShpKSxuLmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtpbml0XSBSZXF1ZXN0IFN0b3JhZ2UgQWNjY2VzcyBpbml0IGNhbGxlZCB3aXRoIGNjcFVybCAtICIuY29uY2F0KGUsIiAtICIpLmNvbmNhdChzLmNhblJlcXVlc3Q/IlByb2NlZWRpbmcgd2l0aCByZXF1ZXN0aW5nIHN0b3JhZ2UgYWNjZXNzIjoidXNlciBoYXMgb3B0ZWQgb3V0LCBza2lwcGluZyByZXF1ZXN0IHN0b3JhZ2UgYWNjZXNzIikpLndpdGhPYmplY3Qocyl9LHNldHVwUmVxdWVzdEhhbmRsZXJzOmU9PntsZXR7b25HcmFudDp0fT1lO2kmJmkudW5zdWJzY3JpYmUoKSxpPXYoe29uSW5pdDplPT57Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0lOSVRdIiwiYmFja2dyb3VuZDp5ZWxsb3c7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSxuLmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkluaXRdIGNhbGxiYWNrIGV4ZWN1dGVkIikud2l0aE9iamVjdChudWxsPT1lP3ZvaWQgMDplLmRhdGEpLG51bGwhPWUmJmUuZGF0YS5oYXNBY2Nlc3N8fCFkKCl8fHAoKS5zaG93KCl9LG9uRGVueTooKT0+e2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtERU5JRURdIiwiYmFja2dyb3VuZDpyZWQ7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSxuLmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkRlbnldIGNhbGxiYWNrIGV4ZWN1dGVkIiksZCgpJiZwKCkuc2hvdygpfSxvbkdyYW50OigpPT57dmFyIGU7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0dSQU5URURdIiwiYmFja2dyb3VuZDpsaW1lOyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksbi5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25HcmFudF0gY2FsbGJhY2sgZXhlY3V0ZWQiKSxkKCkmJihudWxsPT09KGU9cyl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmN1c3RvbSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaGlkZUNDUCkmJnAoKS5oaWRlKCksdXx8KHQoKSx1PSEwKX19KX0sZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmw6KCk9PntpZighYSl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludm9rZSBjb25uZWN0LnN0b3JhZ2VBY2Nlc3MuaW5pdCBmaXJzdCIpO2lmKGgoYSkpcmV0dXJuIGcoYSk7aWYoZihhKSlyZXR1cm4gbi5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW0NDUF0gTG9jYWwgdGVzdGluZyIpLCIiLmNvbmNhdChhKS5jb25jYXQocik7aWYocy5pbnN0YW5jZVVybCYmaChzLmluc3RhbmNlVXJsKSlyZXR1cm4gbi5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBDdXN0b21lciBoYXMgcHJvdmlkZWQgc3RvcmFnZVBhcmFtcy5pbnN0YW5jZVVybCAiLmNvbmNhdChzLmluc3RhbmNlVXJsKSksZyhzLmluc3RhbmNlVXJsKTtpZihzLmluc3RhbmNlVXJsJiZmKHMuaW5zdGFuY2VVcmwpKXJldHVybiBuLmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIExvY2FsIHRlc3RpbmciKSwiIi5jb25jYXQocy5pbnN0YW5jZVVybCkuY29uY2F0KHIpO3Rocm93IG4uZ2V0TG9nKCkuZXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludmFsaWQgQ29ubmVjdCBpbnN0YW5jZS9DQ1AgVVJMIHByb3ZpZGVkLCBwbGVhc2UgcGFzcyB0aGUgY29ycmVjdCBjY3BVcmwgb3Igc3RvcmFnZUFjY2Vzcy5pbnN0YW5jZVVybCBwYXJhbWV0ZXJzIiksbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZhbGlkIENvbm5lY3QgaW5zdGFuY2UvQ0NQIFVSTCBwcm92aWRlZCwgcGxlYXNlIHBhc3MgdGhlIHZhbGlkIENvbm5lY3QgQ0NQIFVSTCBvciBpbiBjYXNlIENDUCBVUkwgaXMgY29uZmlndXJlZCB0byBiZSB0aGUgU1NPIFVSTCB0aGVuIHVzZSBzdG9yYWdlQWNjZXNzLmluc3RhbmNlVXJsIGFuZCBwYXNzIHRoZSBDb25uZWN0IENDUCBVUkwiKX0sc3RvcmFnZUFjY2Vzc0V2ZW50czpsLHJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlOigpPT57cz17fSxhPSIiLGM9bnVsbCx1PSExfSxnZXRPbkdyYW50Q2FsbGJhY2tJbnZva2VkOigpPT51LGdldFN0b3JhZ2VBY2Nlc3NQYXJhbXM6KCk9PnMsb25SZXF1ZXN0OnYscmVxdWVzdDooKT0+e24uY29yZS5fZ2V0Q0NQSWZyYW1lKCkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7ZXZlbnQ6bC5SRVFVRVNULGRhdGE6dCh0KHt9LHMpLHt9LHtsYW5kYXQ6bSgpfSl9LCIqIil9fSl9KCl9LDkwNjooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10O3ZhciBuPWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJyaW5ndG9uZUNvbmZpZyIpLHRoaXMuX2F1ZGlvPW51bGwsdGhpcy5fZGV2aWNlSWQ9IiIsdGhpcy5fcmluZ3RvbmVVcmw9ZS5yaW5ndG9uZVVybCx0aGlzLl9sb2FkUmluZ3RvbmUodGhpcy5fcmluZ3RvbmVVcmwpLmNhdGNoKCgoKT0+e30pKSx0aGlzLl9kcml2ZVJpbmd0b25lKCl9O24ucHJvdG90eXBlLl9sb2FkUmluZ3RvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgobixyKT0+e2V8fHIoRXJyb3IoInJpbmd0b25lVXJsIGlzIHJlcXVpcmVkISIpKSx0aGlzLl9hdWRpbz1uZXcgQXVkaW8oZSksdGhpcy5fYXVkaW8ubG9vcD0hMCx0aGlzLnNldE91dHB1dERldmljZSh0aGlzLl9kZXZpY2VJZCk7Y29uc3Qgbz1zZXRUaW1lb3V0KCgoKT0+e3QuZ2V0TG9nKCkud2FybigiUmluZ3RvbmUgaXNuJ3QgbG9hZGVkIGluIDEgc2Vjb25kIGJ1dCBwcm9jZWVkaW5nOiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4oKX0pLDFlMyk7dGhpcy5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheSIsKCgpPT57dC5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBpcyByZWFkeSB0byBwbGF5OiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGNsZWFyVGltZW91dChvKSxuKCl9KSksdGhpcy5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCgoKT0+e3QuZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIsK2UpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksY2xlYXJUaW1lb3V0KG8pLHIoRXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIrZSkpfSkpfSkpfSxuLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkLiIpfSxuLnByb3RvdHlwZS5fc3RhcnRSaW5ndG9uZT1hc3luYyBmdW5jdGlvbihlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbXTtyZXR1cm4gbmV3IFByb21pc2UoKChvLGkpPT57dGhpcy5fYXVkaW98fGkoRXJyb3IoIk5vIGF1ZGlvIG9iamVjdCBmb3VuZCIpKSx0LmdldExvZygpLmluZm8oIkF0dGVtcHRpbmcgdG8gc3RhcnQgcmluZ3RvbmUgdG8gZGV2aWNlICIuY29uY2F0KHRoaXMuX2F1ZGlvLnNpbmtJZHx8IicnIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5fYXVkaW8ucGxheSgpLnRoZW4oKCgpPT57dGhpcy5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBTdGFydCIsZSksdC5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdGFydDogU3VjY2VlZGVkIHdpdGggIi5jb25jYXQobiwiIHJldHJpZXMgcmVtYWluaW5nIikpLndpdGhPYmplY3Qoe2Vycm9yTGlzdDpyLGNvbnRhY3RJZDplLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKCl9KSkuY2F0Y2goKGFzeW5jIHM9Pnt0aGlzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmUiLGUpLHQuZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmU6ICIuY29uY2F0KG4sIiByZXRyaWVzIHJlbWFpbmluZy4iKSkud2l0aEV4Y2VwdGlvbihzKS53aXRoT2JqZWN0KHtjdXJyZW50U3JjOnRoaXMuX2F1ZGlvLmN1cnJlbnRTcmMsc2lua0lkOnRoaXMuX2F1ZGlvLnNpbmtJZCx2b2x1bWU6dGhpcy5fYXVkaW8udm9sdW1lLGNvbnRhY3RJZDplLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1c2gocy50b1N0cmluZygpKSxuPjA/KGF3YWl0IHRoaXMuX2xvYWRSaW5ndG9uZSh0aGlzLl9yaW5ndG9uZVVybCkuY2F0Y2goKCgpPT57fSkpLGF3YWl0IHRoaXMuX3N0YXJ0UmluZ3RvbmUoZSxuLTEscikudGhlbihvKS5jYXRjaCgoKCk9PmkocikpKSk6KHQuZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFJldHJpZXMgRXhoYXVzdGVkIikud2l0aE9iamVjdCh7ZXJyb3JMaXN0OnIsY29udGFjdElkOmUuZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGkocikpfSkpfSkpfSxuLnByb3RvdHlwZS5fc3RvcFJpbmd0b25lPWZ1bmN0aW9uKGUpe3RoaXMuX2F1ZGlvJiYodGhpcy5fYXVkaW8ucGF1c2UoKSx0aGlzLl9hdWRpby5jdXJyZW50VGltZT0wLHRoaXMuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgU3RvcCIsZSksdC5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdG9wIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LG4ucHJvdG90eXBlLnN0b3BSaW5ndG9uZT1mdW5jdGlvbigpe3RoaXMuX3N0b3BSaW5ndG9uZSgpfSxuLnByb3RvdHlwZS5fcmluZ3RvbmVTZXR1cD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7bi5fc3RhcnRSaW5ndG9uZShlLDIpLmNhdGNoKCgoKT0+e30pKSxlLm9uQ29ubmVjdGVkKGxpbHkuaGl0Y2gobixuLl9zdG9wUmluZ3RvbmUpKSxlLm9uQWNjZXB0ZWQobGlseS5oaXRjaChuLG4uX3N0b3BSaW5ndG9uZSkpLGUub25FbmRlZChsaWx5LmhpdGNoKG4sbi5fc3RvcFJpbmd0b25lKSksZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZSE9PXQuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09dC5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlORyYmbi5fc3RvcFJpbmd0b25lKCl9KSl9KSl9LG4ucHJvdG90eXBlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQ9ZnVuY3Rpb24oZSxuKXtuJiZuLmdldENvbnRhY3RJZCgpJiZ0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZSxjb250YWN0SWQ6bi5nZXRDb250YWN0SWQoKX0pfSxuLnByb3RvdHlwZS5zZXRPdXRwdXREZXZpY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgodCxuKT0+e3RoaXMuX2F1ZGlvJiZ0aGlzLl9hdWRpby5zZXRTaW5rSWQ/dGhpcy5fYXVkaW8uc2V0U2lua0lkKGUpLnRoZW4oKCgpPT57dGhpcy5fZGV2aWNlSWQ9ZSx0KGUpfSkpLmNhdGNoKChlPT57bigiUmluZ3RvbmVFbmdpbmVCYXNlLnNldE91dHB1dERldmljZSBmYWlsZWQ6IGF1ZGlvLnNldFNpbmtJZCgpIGZhaWxlZCB3aXRoIGVycm9yICIuY29uY2F0KGUpKX0pKTpuKCJSaW5ndG9uZUVuZ2luZUJhc2Uuc2V0T3V0cHV0RGV2aWNlIGZhaWxlZDogIi5jb25jYXQodGhpcy5fYXVkaW8/ImF1ZGlvIjoiYXVkaW8uc2V0U2lua0lkIiwiIG5vdCBmb3VuZC4iKSl9KSl9O3ZhciByPWZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLGUpfTsoci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXIsci5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXtjb25zdCBlPWU9PntlLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuVk9JQ0UmJmUuaXNTb2Z0cGhvbmVDYWxsKCkmJmUuaXNJbmJvdW5kKCkmJih0aGlzLl9yaW5ndG9uZVNldHVwKGUpLHRoaXMuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgQ29ubmVjdGluZyIsZSksdC5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O3QuY29udGFjdCgodD0+e3Qub25Db25uZWN0aW5nKGUpfSkpLChuZXcgdC5BZ2VudCkuZ2V0Q29udGFjdHMoKS5mb3JFYWNoKChuPT57bi5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZlKG4pfSkpfTt2YXIgbz1mdW5jdGlvbihlKXtuLmNhbGwodGhpcyxlKX07KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWZ1bmN0aW9uKG4pe24uZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5DSEFUJiZuLmlzSW5ib3VuZCgpJiYwPT09bi5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZT0+ZS5nZXRUeXBlKCk9PT10LkNvbm5lY3Rpb25UeXBlLkFHRU5UJiZlLmlzU2lsZW50TW9uaXRvcigpKSkubGVuZ3RoJiYoZS5fcmluZ3RvbmVTZXR1cChuKSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkNoYXQgUmluZ3RvbmUgQ29ubmVjdGluZyIsbiksdC5nZXRMb2coKS5pbmZvKCJDaGF0IFJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07dC5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyhuKX0pKX07dmFyIGk9ZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsZSl9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbj1mdW5jdGlvbihuKXtuLmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuVEFTSyYmbi5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAobiksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJUYXNrIFJpbmd0b25lIENvbm5lY3RpbmciLG4pLHQuZ2V0TG9nKCkuaW5mbygiVGFzayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9O3QuY29udGFjdCgoZnVuY3Rpb24oZSl7ZS5vbkNvbm5lY3Rpbmcobil9KSl9O3ZhciBzPWZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLGUpfTsocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXMscy5wcm90b3R5cGUuX2RyaXZlUmluZ3RvbmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49ZnVuY3Rpb24obil7bi5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLkVNQUlMJiZuLmlzSW5ib3VuZCgpJiYoZS5fcmluZ3RvbmVTZXR1cChuKSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkVtYWlsIFJpbmd0b25lIENvbm5lY3RpbmciLG4pLHQuZ2V0TG9nKCkuaW5mbygiRW1haWwgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTt0LmNvbnRhY3QoKGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW5nKG4pfSkpfTt2YXIgYT1mdW5jdGlvbihlKXtuLmNhbGwodGhpcyxlKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0LmNvbnRhY3QoKGZ1bmN0aW9uKG4pe24ub25JbmNvbWluZygoZnVuY3Rpb24oKXtuLmdldFR5cGUoKT09PWxpbHkuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJihlLl9yaW5ndG9uZVNldHVwKG4pLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2FsbGJhY2sgUmluZ3RvbmUgQ29ubmVjdGluZyIsbiksdC5nZXRMb2coKS5pbmZvKCJDYWxsYmFjayBSaW5ndG9uZSBDb25uZWN0aW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSl9KSl9LHQuVm9pY2VSaW5ndG9uZUVuZ2luZT1yLHQuQ2hhdFJpbmd0b25lRW5naW5lPW8sdC5UYXNrUmluZ3RvbmVFbmdpbmU9aSx0LlF1ZXVlQ2FsbGJhY2tSaW5ndG9uZUVuZ2luZT1hLHQuRW1haWxSaW5ndG9uZUVuZ2luZT1zfSgpfSw4MDY6KCk9PntmdW5jdGlvbiBlKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiB0KHQpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2UoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuKHQsZSxvW2VdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTplKE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIG4oZSx0LG4pe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8ImRlZmF1bHQiKTtpZigib2JqZWN0IiE9dHlwZW9mIHIpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIHQ/dDp0KyIifSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLG49ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9bixlLmxpbHk9bixlLmNjcFZlcnNpb249IlYyIjtjb25zdCByPSJDSVRSSVgiLG89IkFXU19XT1JLU1BBQ0UiLGk9ImJyb3dzZXJJZCI7dmFyIHM9e307c1tuLlNvZnRwaG9uZUNhbGxUeXBlLkFVRElPX09OTFldPSJBdWRpbyIsc1tuLlNvZnRwaG9uZUNhbGxUeXBlLlZJREVPX09OTFldPSJWaWRlbyIsc1tuLlNvZnRwaG9uZUNhbGxUeXBlLkFVRElPX1ZJREVPXT0iQXVkaW9WaWRlbyIsc1tuLlNvZnRwaG9uZUNhbGxUeXBlLk5PTkVdPSJOb25lIjt2YXIgYT0iYXVkaW9faW5wdXQiLGM9ImF1ZGlvX291dHB1dCI7KHt9KVtuLkNvbnRhY3RUeXBlLlZPSUNFXT0iVm9pY2UiO3ZhciB1PVtdLGw9W10scD1bXSxkPXt9LGg9e30sZz0wLGY9MCxtPTAsdj0wLHk9MCxiPTAsUz0hMSxDPTAsRT0hMSxJPSExLFQ9bnVsbCxBPW51bGwsdz1udWxsLF89bnVsbCxSPW4uU29mdHBob25lRXJyb3JUeXBlcyxPPXt9LEw9bi5yYW5kb21JZCgpLGs9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe24uY29yZS5nZXRDbGllbnQoKS5jYWxsKG4uQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dChlLnNvZnRwaG9uZVRyYW5zcG9ydC5zb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtlLm1lc3NhZ2UmJmUubWVzc2FnZS5pbmNsdWRlcygiU29mdHBob25lQ29ubmVjdGlvbkxpbWl0QnJlYWNoZWRFeGNlcHRpb24iKSYmSCgibXVsdGlwbGVfc29mdHBob25lX2FjdGl2ZV9zZXNzaW9ucyIsIk51bWJlciBvZiBhY3RpdmUgc2Vzc2lvbnMgYXJlIG1vcmUgdGhlbiBhbGxvd2VkIGxpbWl0LiIsIiIpLHIoRXJyb3IoInJlcXVlc3RJY2VBY2Nlc3MgZmFpbGVkIikpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3IoRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSByZXF1ZXN0SWNlQWNjZXNzIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtyKEVycm9yKCJBY2Nlc3MgRGVuaWVkIHdoaWxlIHJlcXVlc3RJY2VBY2Nlc3MiKSl9fSl9KSl9LFA9ZnVuY3Rpb24oKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dmFyIHM9dGhpczt0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLHRoaXMucnRjSnNTdHJhdGVneT1udWxsLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW51bGwsdGhpcy5fc2V0UnRjSnNTdHJhdGVneT1mdW5jdGlvbigpe2lmKHQuVkRJUGxhdGZvcm0pe1Q9dC5WRElQbGF0Zm9ybTt0cnl7aWYodC5WRElQbGF0Zm9ybT09PXIpdGhpcy5ydGNKc1N0cmF0ZWd5PW5ldyBuLkNpdHJpeFZESVN0cmF0ZWd5LF8uaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIFN0cmF0ZWd5IGNvbnN0cnVjdG9yIHJldHJpZXZlZDogIi5jb25jYXQodGhpcy5ydGNKc1N0cmF0ZWd5KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNle2lmKHQuVkRJUGxhdGZvcm0hPT1vKXRocm93IG5ldyBFcnJvcigiVkRJIFN0cmF0ZWd5IG5vdCBzdXBwb3J0ZWQiKTt0aGlzLnJ0Y0pzU3RyYXRlZ3k9bmV3IG4uRENWV2ViUlRDU3RyYXRlZ3ksXy5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gU3RyYXRlZ3kgY29uc3RydWN0b3IgcmV0cmlldmVkOiAiLmNvbmNhdCh0aGlzLnJ0Y0pzU3RyYXRlZ3kpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX1jYXRjaChlKXt0aHJvdyJWREkgU3RyYXRlZ3kgbm90IHN1cHBvcnRlZCI9PT1lLm1lc3NhZ2U/KEgoUi5WRElfU1RSQVRFR1lfTk9UX1NVUFBPUlRFRCxlLm1lc3NhZ2UsIiIpLGUpOiJDaXRyaXggV2ViUlRDIHJlZGlyZWN0aW9uIGZlYXR1cmUgaXMgTk9UIHN1cHBvcnRlZCEiPT09ZS5tZXNzYWdlfHwiRENWIFdlYlJUQyByZWRpcmVjdGlvbiBmZWF0dXJlIGlzIE5PVCBzdXBwb3J0ZWQhIj09PWUubWVzc2FnZT8oSChSLlZESV9SRURJUl9OT1RfU1VQUE9SVEVELGUubWVzc2FnZSwiIiksZSk6KEgoUi5PVEhFUixlLm1lc3NhZ2UsIiIpLGUpfX19LHRoaXMuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9ZnVuY3Rpb24oKXt2YXIgZTtudWxsIT1uJiZudWxsIT09KGU9bi5jb3JlKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUuc29mdHBob25lTWFuYWdlcikmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSkmJnZvaWQgMCE9PWUmJmUuY2xvc2UmJm4uY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbG9zZSgpLG4uUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5JiYodGhpcy5ydGNKc1N0cmF0ZWd5P3RoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW5ldyBuLlJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeShfLG4uY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCksTCxuLmhpdGNoKHMsayx7dHJhbnNwb3J0VHlwZToic29mdHBob25lIixzb2Z0cGhvbmVDbGllbnRJZDpMfSksbi5oaXRjaChzLEgpLHRoaXMucnRjSnNTdHJhdGVneSk6dGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bmV3IG4uUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KF8sbi5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxMLG4uaGl0Y2gocyxrLHt0cmFuc3BvcnRUeXBlOiJzb2Z0cGhvbmUiLHNvZnRwaG9uZUNsaWVudElkOkx9KSxuLmhpdGNoKHMsSCkpKX0sdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgcjtudWxsIT1uJiZudWxsIT09KHI9bi5jb3JlKSYmdm9pZCAwIT09ciYmbnVsbCE9PShyPXIuc29mdHBob25lTWFuYWdlcikmJnZvaWQgMCE9PXImJm51bGwhPT0ocj1yLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcikmJnZvaWQgMCE9PXImJnIuY2xvc2UmJihuLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xvc2UoKSxuLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9bnVsbCk7dmFyIG8sYSxjPXQuaXNTb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQ7ZS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKXx8ZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShpLEFXUy51dGlsLnV1aWQudjQoKSksbz1lLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGkpLG4uUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPyhFPSExLG51bGwhPT0oYT1zLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSkmJnZvaWQgMCE9PWEmJmEuY2xvc2UmJihzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbG9zZSgpLHMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwpLHMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW5ldyBuLlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcihudWxsLG51bGwsbi5oaXRjaChzLGsse3RyYW5zcG9ydFR5cGU6InNvZnRwaG9uZSIsc29mdHBob25lQ2xpZW50SWQ6TH0pLG4uaGl0Y2gocyxIKSxMLG51bGwsXyxudWxsLG51bGwsbi5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxudWxsPT09cy5ydGNKc1N0cmF0ZWd5P25ldyBuLlN0YW5kYXJkU3RyYXRlZ3k6cy5ydGNKc1N0cmF0ZWd5LGMsbykpOl8uaW5mbygiUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGRvZXMgTk9UIGV4aXN0LCBwbGVhc2UgdXBncmFkZSBSVEMuanMiKX0sKF89bmV3IGFlKG4uZ2V0TG9nKCkpKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIHNvZnRwaG9uZSBtYW5hZ2VyIGluaXRpYWxpemF0aW9uIGhhcyBiZWd1biIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEhPT10LmFsbG93RWFybHlHdW0mJihuLmlzQ2hyb21lQnJvd3NlcigpfHxuLmlzRWRnZUJyb3dzZXIoKSk/KF8uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBlYXJseUd1bSBtZWNoYW5pc20gZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksRT0hMCk6KF8uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBlYXJseUd1bSBtZWNoYW5pc20gTk9UIGVuYWJsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLEU9ITEpLF8uaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIENsaWVudCBQcm92aWRlZCBTdHJhdGVneTogIi5jb25jYXQodC5WRElQbGF0Zm9ybSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5fc2V0UnRjSnNTdHJhdGVneSgpLHRoaXMuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkoKSxudWxsPT09dGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXImJnRoaXMuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCksKCgpPT57bi5hZ2VudCgoZT0+e2Uub25SZWZyZXNoKChlPT57aWYodGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIpe2NvbnN0IHQ9ZS5nZXRDb25maWd1cmF0aW9uKCkuc29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb247dGhpcy5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuaGFuZGxlUGVyc2lzdGVudFBlZXJDb25uZWN0aW9uVG9nZ2xlKHQpfWVsc2UgdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKX0pKX0pKX0pKCksUC5pc0Jyb3dzZXJTb2Z0UGhvbmVTdXBwb3J0ZWQoKXx8SChSLlVOU1VQUE9SVEVEX0JST1dTRVIsIkNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIGJyb3dzZXIuIFNvbWUgZnVuY3Rpb25hbGl0eSBtYXkgbm90IHdvcmsuICIsIiIpLHQuVkRJUGxhdGZvcm0hPT1vJiZXKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe0soIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImdyYW50ZWQifSksSygiTWljQ2hlY2tTdWNjZWVkZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtIKGUsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpLEsoIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImRlbmllZCJ9KSxLKCJHdW1GYWlsZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX19KTtjb25zdCBhPUQoKSxjPXgoKSx1PU0oIXQuZGlzYWJsZUVjaG9DYW5jZWxsYXRpb24pO1UoKSx0aGlzLnJpbmd0b25lRW5naW5lPW51bGw7dmFyIGw9e30scD17fSxkPSExLGg9bnVsbCxnPW51bGwsZj1mdW5jdGlvbigpe2Q9ITEsaD1udWxsLGc9bnVsbH07dGhpcy5nZXRTZXNzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBsW2VdfSx0aGlzLnJlcGxhY2VMb2NhbE1lZGlhVHJhY2s9ZnVuY3Rpb24oZSxuKXt2YXIgcj1PW2VdLnN0cmVhbTtpZihyKXt2YXIgaT1yLmdldEF1ZGlvVHJhY2tzKClbMF07bi5lbmFibGVkPWkuZW5hYmxlZCxpLmVuYWJsZWQ9ITEsci5yZW1vdmVUcmFjayhpKSx0LlZESVBsYXRmb3JtPT09byYmaS5zdG9wKCksci5hZGRUcmFjayhuKX19O3ZhciBtPWU9PntpZihsLmhhc093blByb3BlcnR5KGUpKXt2YXIgdD1sW2VdO25ldyBQcm9taXNlKCgobixyKT0+e2RlbGV0ZSBsW2VdLGRlbGV0ZSBwW2VdLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyP3RoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmhhbmd1cCgpOnQuaGFuZ3VwKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2xpbHkuZ2V0TG9nKCkud2FybigiVGhlcmUgd2FzIGFuIGVycm9yIGRlc3Ryb3lpbmcgdGhlIHNvZnRwaG9uZSBzZXNzaW9uIGZvciBjb25uZWN0aW9uIElEICIuY29uY2F0KGUsIiA6ICIpLmNvbmNhdCh0Lm1lc3NhZ2UpKS53aXRoT2JqZWN0KHthZ2VudENvbm5lY3Rpb25JZDplLGVycm9yTWVzc2FnZTp0Lm1lc3NhZ2V9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfX07dGhpcy5fY2xlYXJBbGxTZXNzaW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBuLmdldExvZygpLmluZm8oIkNsZWFyaW5nIGFsbCBhY3RpdmUgc2Vzc2lvbnMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwpbC5oYXNPd25Qcm9wZXJ0eShlKSYmbShlKX0sdGhpcy5zdGFydFNlc3Npb249ZnVuY3Rpb24oZSxyKXt2YXIgbz1kP2g6ZSxpPWQ/ZzpyO2lmKG8mJmkpe2YoKSxwW2ldPSEwLF8uaW5mbygiU29mdHBob25lIGNhbGwgZGV0ZWN0ZWQ6IiwiY29udGFjdElkICIrby5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIraSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlKXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGg+MCl7Zm9yKHZhciB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKFgoIk11bHRpU2Vzc2lvbkhhbmdVcCIsZVt0XS5jYWxsSWQsdCksbSh0KSk7dGhyb3cgbmV3IEVycm9yKCJkdXBsaWNhdGUgc2Vzc2lvbiBkZXRlY3RlZCwgcmVmdXNpbmcgdG8gc2V0dXAgbmV3IGNvbm5lY3Rpb24iKX19KGwpLG8uZ2V0U3RhdHVzKCkudHlwZT09PW4uQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmSygiU29mdHBob25lIENvbm5lY3RpbmciLG8uZ2V0Q29udGFjdElkKCkpLFooKTt2YXIgcyxhLGM9by5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKSx1PVYoYy5jYWxsQ29uZmlnSnNvbik7dS51c2VXZWJTb2NrZXRQcm92aWRlciYmKHM9bi5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSksbnVsbD09PXRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLl9pbml0aWF0ZVJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcigpLChhPW4uUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcj90aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jcmVhdGVTZXNzaW9uKG8uZ2V0Q29udGFjdElkKCksdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixpLHMsbnVsbD09PXRoaXMucnRjSnNTdHJhdGVneT9uZXcgbi5TdGFuZGFyZFN0cmF0ZWd5OnRoaXMucnRjSnNTdHJhdGVneSk6dGhpcy5ydGNKc1N0cmF0ZWd5P25ldyBuLlJUQ1Nlc3Npb24odS5zaWduYWxpbmdFbmRwb2ludCx1LmljZVNlcnZlcnMsYy5jYWxsQ29udGV4dFRva2VuLF8sby5nZXRDb250YWN0SWQoKSxpLHMsdGhpcy5ydGNKc1N0cmF0ZWd5KTpuZXcgbi5SVENTZXNzaW9uKHUuc2lnbmFsaW5nRW5kcG9pbnQsdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixfLG8uZ2V0Q29udGFjdElkKCksaSxzKSkuZWNob0NhbmNlbGxhdGlvbj0hdC5kaXNhYmxlRWNob0NhbmNlbGxhdGlvbixsW2ldPWEsbi5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6bi5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KSxhLm9uU2Vzc2lvbkZhaWxlZD1mdW5jdGlvbihlLHQpe2RlbGV0ZSBsW2ldLGRlbGV0ZSBwW2ldLEcoZSx0KSx6KG8uZ2V0Q29udGFjdElkKCksdCksb2UobyxlLnNlc3Npb25SZXBvcnQpfSxhLm9uU2Vzc2lvbkNvbm5lY3RlZD1mdW5jdGlvbihlKXtLKCJTb2Z0cGhvbmUgU2Vzc2lvbiBDb25uZWN0ZWQiLG8uZ2V0Q29udGFjdElkKCkpLG4uYmVjb21lTWFzdGVyKG4uTWFzdGVyVG9waWNzLlNFTkRfTE9HUyksUShlKSxKKG8pLE4obyl9LGEub25TZXNzaW9uQ29tcGxldGVkPWZ1bmN0aW9uKGUpe0soIlNvZnRwaG9uZSBTZXNzaW9uIENvbXBsZXRlZCIsby5nZXRDb250YWN0SWQoKSksZGVsZXRlIGxbaV0sZGVsZXRlIHBbaV0sb2UobyxlLnNlc3Npb25SZXBvcnQpLEYoaSl9LGEub25Mb2NhbFN0cmVhbUFkZGVkPWZ1bmN0aW9uKGUsdCl7T1tpXT17c3RyZWFtOnR9LG4uY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50Om4uQWdlbnRFdmVudHMuTE9DQUxfTUVESUFfU1RSRUFNX0NSRUFURUQsZGF0YTp7Y29ubmVjdGlvbklkOml9fSl9LGEucmVtb3RlQXVkaW9FbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKXx8d2luZG93LnBhcmVudC5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyP3RoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNvbm5lY3QoKTp0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT9hLmNvbm5lY3QodGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkuZ2V0KHUuaWNlU2VydmVycykpOmEuY29ubmVjdCgpfX07dmFyIHY9ZnVuY3Rpb24oZSx0KXt2YXIgcjtsW3RdJiZmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRTdGF0dXMoKS50eXBlPT09bi5Db250YWN0U3RhdHVzVHlwZS5FTkRFRHx8ZS5nZXRTdGF0dXMoKS50eXBlPT09bi5Db250YWN0U3RhdHVzVHlwZS5FUlJPUnx8ZS5nZXRTdGF0dXMoKS50eXBlPT09bi5Db250YWN0U3RhdHVzVHlwZS5NSVNTRUR9KGUpJiYobSh0KSxmKCkpLCFlLmlzU29mdHBob25lQ2FsbCgpfHxwW3RdfHxlLmdldFN0YXR1cygpLnR5cGUhPT1uLkNvbnRhY3RTdGF0dXNUeXBlLkNPTk5FQ1RJTkcmJmUuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29udGFjdFN0YXR1c1R5cGUuSU5DT01JTkd8fChLKCJTb2Z0cGhvbmVDb25maWdEZXRlY3RlZCIsZS5nZXRDb250YWN0SWQoKSx7fSwhMCksbi5pc0ZpcmVmb3hCcm93c2VyKCkmJm4uaGFzT3RoZXJDb25uZWN0ZWRDQ1BzKCk/KF8uaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBQb3N0cG9uZSBzdGFydGluZyBzZXNzaW9uOiAiK2UuZ2V0Q29udGFjdElkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZnVuY3Rpb24oZSx0KXtkPSEwLGg9ZSxnPXR9KGUsdCkpOkUmJm51bGwhPT0ocj1uLmNvcmUudXNlck1lZGlhUHJvdmlkZXIpJiZ2b2lkIDAhPT1yJiZyLnByZWNhcHR1cmVkTWVkaWFTdHJlYW1BdmFpbGFibGUoKT8oST0hMCxfLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gc3RhcnRpbmcgc2Vzc2lvbiB1c2luZyBwcmVjYXB0dXJlZE1lZGlhU3RyZWFtIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzLnN0YXJ0U2Vzc2lvbihlLHQsbi5jb3JlLnVzZXJNZWRpYVByb3ZpZGVyLmdldFByZWNhcHR1cmVkTWVkaWFTdHJlYW0oKSkpOihJPSExLG4uY29yZS5faXNFYXJseUd1bURpc2FibGVkJiYoRT0hMSkscy5zdGFydFNlc3Npb24oZSx0KSkpfSx5PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QWdlbnRDb25uZWN0aW9uKCkuY29ubmVjdGlvbklkO18uaW5mbygiQ29udGFjdCBkZXRlY3RlZDoiLCJjb250YWN0SWQgIitlLmdldENvbnRhY3RJZCgpLCJhZ2VudCBjb25uZWN0aW9uSWQgIit0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHBbdF18fChlLm9uUmVmcmVzaCgoZnVuY3Rpb24oZSl7dihlLHQpfSkpLGUub25EZXN0cm95KChmdW5jdGlvbigpeyFmdW5jdGlvbihlKXtsW2VdJiZtKGUpfSh0KSxPW3RdJiZGKHQpfSkpKX07Y29uc3QgYj1uLmNvbnRhY3QoeSk7KG5ldyBuLkFnZW50KS5nZXRDb250YWN0cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QWdlbnRDb25uZWN0aW9uKCkuY29ubmVjdGlvbklkO18uaW5mbygiQ29udGFjdCBleGlzdCBpbiB0aGUgc25hcHNob3QuIFJlaW5pdGlhdGUgdGhlIENvbnRhY3QgYW5kIFJUQyBzZXNzaW9uIGNyZWF0aW9uIGZvciBjb250YWN0SWQiK2UuZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK3QpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkseShlKSx2KGUsdCl9KSksdGhpcy50ZXJtaW5hdGU9KCk9PntiJiZiLnVuc3Vic2NyaWJlJiZiLnVuc3Vic2NyaWJlKCksYSYmYS51bnN1YnNjcmliZSYmYS51bnN1YnNjcmliZSgpLGMmJmMudW5zdWJzY3JpYmUmJmMudW5zdWJzY3JpYmUoKSx1JiZ1LnVuc3Vic2NyaWJlJiZ1LnVuc3Vic2NyaWJlKCksdGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkuY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkJiZ0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQoKSx0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyJiZ0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQmJnRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpfX0sTj1mdW5jdGlvbihlKXt2YXIgdD1uLmNvcmUuZ2V0VXBzdHJlYW0oKSxyPWUuZ2V0QWdlbnRDb25uZWN0aW9uKCk7aWYocil7dmFyIG89ci5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKTtvPyEwPT09by5hdXRvQWNjZXB0PyhfLmluZm8oIkF1dG8tYWNjZXB0IGlzIGVuYWJsZWQsIHNlbmRpbmcgb3V0IEFjY2VwdGVkIGV2ZW50IHRvIHN0b3AgcmluZ3RvbmUuLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpuLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZGF0YTpuZXcgbi5Db250YWN0KGUuY29udGFjdElkKX0pLHQuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6bi5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUobi5Db250YWN0RXZlbnRzLkFDQ0VQVEVELGUuY29udGFjdElkKSxkYXRhOm5ldyBuLkNvbnRhY3QoZS5jb250YWN0SWQpfSkpOl8uaW5mbygiQXV0by1hY2NlcHQgaXMgZGlzYWJsZWQsIHJpbmd0b25lIHdpbGwgYmUgc3RvcHBlZCBieSB1c2VyIGFjdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOl8uaW5mbygiTm90IGFibGUgdG8gcmV0cmlldmUgdGhlIGF1dG8tYWNjZXB0IHNldHRpbmcgZnJvbSBudWxsIFNvZnRwaG9uZU1lZGlhSW5mbywgaWdub3JpbmcgZXZlbnQgcHVibGlzaC4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIF8uaW5mbygiTm90IGFibGUgdG8gcmV0cmlldmUgdGhlIGF1dG8tYWNjZXB0IHNldHRpbmcgZnJvbSBudWxsIEFnZW50Q29ubmVjdGlvbiwgaWdub3JpbmcgZXZlbnQgcHVibGlzaC4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sRD1mdW5jdGlvbigpe3JldHVybiBuLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUobi5FdmVudFR5cGUuTVVURSxqKX0seD1mdW5jdGlvbigpe3JldHVybiBuLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUobi5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9TUEVBS0VSX0RFVklDRSxxKX0sTT1mdW5jdGlvbihlKXtyZXR1cm4gbi5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKG4uQ29uZmlndXJhdGlvbkV2ZW50cy5TRVRfTUlDUk9QSE9ORV9ERVZJQ0UsKG49PkIodCh0KHt9LG4pLHt9LHtlbmFibGVFY2hvQ2FuY2VsbGF0aW9uOmV9KSkpKX0sVT1mdW5jdGlvbigpe3RyeXtuLmlzQ2hyb21lQnJvd3NlcigpJiZuLmdldENocm9tZUJyb3dzZXJWZXJzaW9uKCk+NDMmJm5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7bmFtZToibWljcm9waG9uZSJ9KS50aGVuKChmdW5jdGlvbihlKXtlLm9uY2hhbmdlPWZ1bmN0aW9uKCl7Xy5pbmZvKCJNaWNyb3Bob25lIFBlcm1pc3Npb246ICIrZS5zdGF0ZSksSygiQ29ubmVjdGl2aXR5Q2hlY2tSZXN1bHQiLG51bGwse2Nvbm5lY3Rpdml0eUNoZWNrVHlwZToiTWljcm9waG9uZVBlcm1pc3Npb24iLHN0YXR1czplLnN0YXRlfSksImRlbmllZCI9PT1lLnN0YXRlJiZIKFIuTUlDUk9QSE9ORV9OT1RfU0hBUkVELCJZb3VyIG1pY3JvcGhvbmUgaXMgbm90IGVuYWJsZWQgaW4geW91ciBicm93c2VyLiAiLCIiKX19KSl9Y2F0Y2goZSl7Xy5lcnJvcigiRmFpbGVkIGluIGRldGVjdGluZyBtaWNyb3Bob25lIHBlcm1pc3Npb24gc3RhdHVzOiAiK2UpfX0sRj1mdW5jdGlvbihlKXtkZWxldGUgT1tlXSxuLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpuLkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGRhdGE6e211dGVkOiExfX0pfSxqPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKDAhPT1uLmtleXMoTykubGVuZ3RoKXtmb3IodmFyIHIgaW4gZSYmdm9pZCAwIT09ZS5tdXRlJiYodD1lLm11dGUpLE8paWYoTy5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIG89T1tyXS5zdHJlYW07aWYobyl7dmFyIGk9by5nZXRBdWRpb1RyYWNrcygpWzBdO3ZvaWQgMCE9PXQ/KGkuZW5hYmxlZD0hdCxPW3JdLm11dGVkPXQsdD9fLmluZm8oIkFnZW50IGhhcyBtdXRlZCB0aGUgY29udGFjdCwgY29ubmVjdGlvbklkIC0gICIrcikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTpfLmluZm8oIkFnZW50IGhhcyB1bm11dGVkIHRoZSBjb250YWN0LCBjb25uZWN0aW9uSWQgLSAiK3IpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOnQ9T1tyXS5tdXRlZHx8ITF9fW4uY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50Om4uQWdlbnRFdmVudHMuTVVURV9UT0dHTEUsZGF0YTp7bXV0ZWQ6dH19KX19LHE9ZnVuY3Rpb24oKXtjb25zdCBlPShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30pLmRldmljZUlkfHwiIjtpZihuLmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEF0dGVtcHRpbmcgdG8gc2V0IHNwZWFrZXIgZGV2aWNlICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKXx8d2luZG93LnBhcmVudC5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpO3QmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnNldFNpbmtJZD90LnNldFNpbmtJZChlKS50aGVuKCgoKT0+e24uZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU3BlYWtlciBkZXZpY2UgIi5jb25jYXQoZSwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gc3BlYWtlciBhdWRpbyBlbGVtZW50IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6bi5Db25maWd1cmF0aW9uRXZlbnRzLlNQRUFLRVJfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6ZX19KX0pKS5jYXRjaCgodD0+e24uZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgc3BlYWtlciBkZXZpY2UgIitlKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSk6bi5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIHNwZWFrZXIgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyByZW1vdGVBdWRpb0VsZW1lbnQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2Ugbi5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIHNwZWFrZXIgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBkZXZpY2VJZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LEI9ZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Y29uc3QgdD1lLmRldmljZUlkfHwiIjtpZihuLmdldExvZygpLmluZm8oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEF0dGVtcHRpbmcgdG8gc2V0IG1pY3JvcGhvbmUgZGV2aWNlICIuY29uY2F0KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLDAhPT1uLmtleXMoTykubGVuZ3RoKWlmKHQpe3ZhciByPW4uY29yZS5nZXRTb2Z0cGhvbmVNYW5hZ2VyKCksbz17YXVkaW86e2RldmljZUlkOntleGFjdDp0fX19O2UuZW5hYmxlRWNob0NhbmNlbGxhdGlvbnx8KG8uYXVkaW8uZWNob0NhbmNlbGxhdGlvbj0hMSksbi5wdWJsaXNoTWV0cmljKHtuYW1lOiJlY2hvQ2FuY2VsbGF0aW9uQ2hlY2siLGRhdGE6e2NvdW50OjEsZGlzYWJsZUVjaG9DYW5jZWxsYXRpb246IWUuZW5hYmxlRWNob0NhbmNlbGxhdGlvbn19KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShvKS50aGVuKChlPT57dHJ5e3ZhciBvPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtmb3IodmFyIGkgaW4gTylpZihPLmhhc093blByb3BlcnR5KGkpKXtPW2ldLnN0cmVhbTt2YXIgcz1yLmdldFNlc3Npb24oaSk7cy5fcGMuZ2V0U2VuZGVycygpWzBdLnJlcGxhY2VUcmFjayhvKS50aGVuKChmdW5jdGlvbigpe3IucmVwbGFjZUxvY2FsTWVkaWFUcmFjayhpLG8pLHMuX2lzVXNlclByb3ZpZGVkU3RyZWFtPSEwLG4uZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gTWljcm9waG9uZSBkZXZpY2UgIi5jb25jYXQodCwiIHN1Y2Nlc3NmdWxseSBzZXQgdG8gbG9jYWwgbWVkaWEgc3RyZWFtIGluIFJUQ1J0cFNlbmRlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IG1pY3JvcGhvbmUgZGV2aWNlICIrdCkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfW4uY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShuLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50Om4uQ29uZmlndXJhdGlvbkV2ZW50cy5NSUNST1BIT05FX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOnR9fSl9KSkuY2F0Y2goKGU9PntuLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IG1pY3JvcGhvbmUgZGV2aWNlICIrdCkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfWVsc2Ugbi5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIG1pY3JvcGhvbmUgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBkZXZpY2VJZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZSBuLmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgbWljcm9waG9uZSBkZXZpY2UgY2FuY2VsbGVkIGR1ZSB0byBtaXNzaW5nIGxvY2FsTWVkaWFTdHJlYW0iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxHPWZ1bmN0aW9uKGUsdCl7aWYodD09PW4uUlRDRXJyb3JzLklDRV9DT0xMRUNUSU9OX1RJTUVPVVQpe2Zvcih2YXIgcj0iXG4iLG89MDtvPGUuX2ljZVNlcnZlcnMubGVuZ3RoO28rKylmb3IodmFyIGk9MDtpPGUuX2ljZVNlcnZlcnNbb10udXJscy5sZW5ndGg7aSsrKXI9citlLl9pY2VTZXJ2ZXJzW29dLnVybHNbaV0rIlxuIjtIKFIuSUNFX0NPTExFQ1RJT05fVElNRU9VVCwiSWNlIGNvbGxlY3Rpb24gdGltZWRvdXQuICIscil9ZWxzZSB0PT09bi5SVENFcnJvcnMuVVNFUl9CVVNZP0goUi5VU0VSX0JVU1lfRVJST1IsIlNvZnRwaG9uZSBjYWxsIFVzZXJCdXN5IGVycm9yLiAiLCIiKTp0PT09bi5SVENFcnJvcnMuU0lHTkFMTElOR19IQU5EU0hBS0VfRkFJTFVSRT9IKFIuU0lHTkFMTElOR19IQU5EU0hBS0VfRkFJTFVSRSwiSGFuZHNoYWtpbmcgd2l0aCBTaWduYWxsaW5nIFNlcnZlciAiK2UuX3NpZ25hbGluZ1VyaSsiIGZhaWxlZC4gIixlLl9zaWduYWxpbmdVcmkpOnQ9PT1uLlJUQ0Vycm9ycy5HVU1fVElNRU9VVF9GQUlMVVJFfHx0PT09bi5SVENFcnJvcnMuR1VNX09USEVSX0ZBSUxVUkU/SChSLk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCwiWW91ciBtaWNyb3Bob25lIGlzIG5vdCBlbmFibGVkIGluIHlvdXIgYnJvd3Nlci4gIiwiIik6dD09PW4uUlRDRXJyb3JzLlNJR05BTExJTkdfQ09OTkVDVElPTl9GQUlMVVJFP0goUi5TSUdOQUxMSU5HX0NPTk5FQ1RJT05fRkFJTFVSRSwiVVJMICIrZS5fc2lnbmFsaW5nVXJpKyIgY2Fubm90IGJlIHJlYWNoZWQuICIsZS5fc2lnbmFsaW5nVXJpKTp0PT09bi5SVENFcnJvcnMuQ0FMTF9OT1RfRk9VTkQ/Xy5lcnJvcigiU29mdHBob25lIGNhbGwgZmFpbGVkIGR1ZSB0byBDYWxsTm90Rm91bmRFeGNlcHRpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTpIKFIuV0VCUlRDX0VSUk9SLCJ3ZWJydGMgc3lzdGVtIGVycm9yLiAiLCIiKX0sVj1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoLyZxdW90Oy9nLCciJyk7cmV0dXJuIEpTT04ucGFyc2UodCl9LFc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8e307dC5zdWNjZXNzPXQuc3VjY2Vzc3x8ZnVuY3Rpb24oKXt9LHQuZmFpbHVyZT10LmZhaWx1cmV8fGZ1bmN0aW9uKCl7fTt2YXIgbj17YXVkaW86ITB9LHI9bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYiZnVuY3Rpb24iPT10eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpcj1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShuKTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKXJldHVybiB2b2lkIHQuZmFpbHVyZShSLlVOU1VQUE9SVEVEX0JST1dTRVIpO3I9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShuLGUsdCl9KSl9cmV0dXJuIHIudGhlbigoZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXRBdWRpb1RyYWNrcygpO24mJm4ubGVuZ3RoPjA/dC5zdWNjZXNzKGUpOnQuZmFpbHVyZShSLk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCl9KSwoZnVuY3Rpb24oZSl7dC5mYWlsdXJlKFIuTUlDUk9QSE9ORV9OT1RfU0hBUkVEKX0pKSxyfXQuZmFpbHVyZShSLlVOU1VQUE9SVEVEX0JST1dTRVIpfSxIPWZ1bmN0aW9uKGUsdCxyKXtfLmVycm9yKCJTb2Z0cGhvbmUgZXJyb3Igb2NjdXJyZWQgOiAiLGUsdHx8IiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6bi5BZ2VudEV2ZW50cy5TT0ZUUEhPTkVfRVJST1IsZGF0YTpuZXcgbi5Tb2Z0cGhvbmVFcnJvcihlLHQscil9KX0sej1mdW5jdGlvbihlLHQpe0soIlNvZnRwaG9uZSBTZXNzaW9uIEZhaWxlZCIsZSx7ZmFpbGVkUmVhc29uOnR9KX0sSz1mdW5jdGlvbihlLHQscil7bi5wdWJsaXNoTWV0cmljKHtuYW1lOmUsY29udGFjdElkOnQsZGF0YTpyfSl9LFg9ZnVuY3Rpb24oZSx0LG4pe0soZSx0LFt7bmFtZToiQWdlbnRDb25uZWN0aW9uSWQiLHZhbHVlOm59XSksXy5pbmZvKCJQdWJsaXNoIG11bHRpcGxlIHNlc3Npb24gZXJyb3IgbWV0cmljcyIsZSwiY29udGFjdElkICIrdCwiYWdlbnQgY29ubmVjdGlvbklkICIrbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX07UC5pc0Jyb3dzZXJTb2Z0UGhvbmVTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIShuLmlzT3BlcmFCcm93c2VyKCkmJm4uZ2V0T3BlcmFCcm93c2VyVmVyc2lvbigpPjE3KXx8ISEobi5pc0Nocm9tZUJyb3dzZXIoKSYmbi5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbigpPjIyKXx8ISEobi5pc0ZpcmVmb3hCcm93c2VyKCkmJm4uZ2V0RmlyZWZveEJyb3dzZXJWZXJzaW9uKCk+MjEpfTt2YXIgWT1mdW5jdGlvbihlKXt2YXIgdD11LnNsaWNlKCk7dT1bXSx0Lmxlbmd0aD4wJiZlLnNlbmRTb2Z0cGhvbmVNZXRyaWNzKHQse3N1Y2Nlc3M6ZnVuY3Rpb24oKXtfLmluZm8oInNlbmRTb2Z0cGhvbmVNZXRyaWNzIHN1Y2Nlc3MiK0pTT04uc3RyaW5naWZ5KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe18uZXJyb3IoInNlbmRTb2Z0cGhvbmVNZXRyaWNzIGZhaWxlZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSl9LFE9ZnVuY3Rpb24oZSl7QT13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIHQ7ZS5nZXRVc2VyQXVkaW9TdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWQsbj0kKGQ9ZSx0LGEpO3UucHVzaChuKSxlZShuKX0pLChmdW5jdGlvbihlKXtfLmRlYnVnKCJGYWlsZWQgdG8gZ2V0IHVzZXIgYXVkaW8gc3RhdHMuIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLGUuZ2V0UmVtb3RlQXVkaW9TdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWgsbj0kKGg9ZSx0LGMpO3UucHVzaChuKSxlZShuKX0pLChmdW5jdGlvbihlKXtfLmRlYnVnKCJGYWlsZWQgdG8gZ2V0IHJlbW90ZSBhdWRpbyBzdGF0cy4iLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSksbnVsbCE9ZSYmbnVsbCE9PSh0PWUubWVkaWFTdHJlYW0pJiZ2b2lkIDAhPT10JiZudWxsIT09KHQ9dC5nZXRBdWRpb1RyYWNrcygpKSYmdm9pZCAwIT09dCYmbnVsbCE9PSh0PXRbMF0pJiZ2b2lkIDAhPT10JiZ0LmVuYWJsZWQ/Yj0wOmIrK30pLDFlMyl9LEo9ZnVuY3Rpb24oZSl7dz13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7WShlKX0pLDNlNCl9LFo9ZnVuY3Rpb24oKXtkPW51bGwsaD1udWxsLHU9W10sbD1bXSxwPVtdLEE9bnVsbCx3PW51bGwsZz0wLGY9MCxtPTAsdj0wLHk9MH0sJD1mdW5jdGlvbihlLHQsbil7aWYodCYmZSl7dmFyIHI9ZS5wYWNrZXRzTG9zdD50LnBhY2tldHNMb3N0P2UucGFja2V0c0xvc3QtdC5wYWNrZXRzTG9zdDowLG89ZS5wYWNrZXRzQ291bnQ+dC5wYWNrZXRzQ291bnQ/ZS5wYWNrZXRzQ291bnQtdC5wYWNrZXRzQ291bnQ6MDtyZXR1cm4gdGUobyxuKSxuZShlLmF1ZGlvTGV2ZWwsbiksbmV3IGllKGUudGltZXN0YW1wLHIsbyxuLGUuYXVkaW9MZXZlbCxlLmpiTWlsbGlzZWNvbmRzLGUucnR0TWlsbGlzZWNvbmRzKX1yZXR1cm4gbmV3IGllKGUudGltZXN0YW1wLGUucGFja2V0c0xvc3QsZS5wYWNrZXRzQ291bnQsbixlLmF1ZGlvTGV2ZWwsZS5qYk1pbGxpc2Vjb25kcyxlLnJ0dE1pbGxpc2Vjb25kcyl9LGVlPWZ1bmN0aW9uKGUpe2lmKGUuc29mdHBob25lU3RyZWFtVHlwZT09PWEpe2Zvcig7bC5sZW5ndGg+PTEwODAwOylsLnNoaWZ0KCk7bC5wdXNoKGUpfWVsc2UgaWYoZS5zb2Z0cGhvbmVTdHJlYW1UeXBlPT09Yyl7Zm9yKDtwLmxlbmd0aD49MTA4MDA7KXAuc2hpZnQoKTtwLnB1c2goZSl9fSx0ZT1mdW5jdGlvbihlLHQpe3Q9PT1hPyh5KyssZTw9MD9nKys6Zz0wKTp0PT09YyYmKGU8PTA/bSsrOm09MCl9LG5lPWZ1bmN0aW9uKGUsdCl7dD09PWE/bnVsbCE9PWUmJmU8PTE/ZisrOmY9MDp0PT09YyYmKG51bGwhPT1lJiZlPD0xP3YrKzp2PTApfSxyZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWUmJndpbmRvdy5jbGVhckludGVydmFsKGUpLG51bGx9LG9lPWZ1bmN0aW9uKHIsbyl7QT1yZShBKSx3PXJlKHcpLGZ1bmN0aW9uKHIsbyxpLHMpe28uc3RyZWFtU3RhdHM9W3NlKGksYSksc2UocyxjKV07dmFyIHU9e2NhbGxTdGFydFRpbWU6by5zZXNzaW9uU3RhcnRUaW1lLGNhbGxFbmRUaW1lOm8uc2Vzc2lvbkVuZFRpbWUsZ3VtVGltZU1pbGxpczpvLmd1bVRpbWVNaWxsaXMsaW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzOm8uaW5pdGlhbGl6YXRpb25UaW1lTWlsbGlzLGljZUNvbGxlY3Rpb25UaW1lTWlsbGlzOm8uaWNlQ29sbGVjdGlvblRpbWVNaWxsaXMsc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzOm8uc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzLGhhbmRzaGFraW5nVGltZU1pbGxpczpvLmhhbmRzaGFraW5nVGltZU1pbGxpcyxwcmVUYWxraW5nVGltZU1pbGxpczpvLnByZVRhbGtpbmdUaW1lTWlsbGlzLHRhbGtpbmdUaW1lTWlsbGlzOm8udGFsa2luZ1RpbWVNaWxsaXMsY2xlYW51cFRpbWVNaWxsaXM6by5jbGVhbnVwVGltZU1pbGxpcyxpY2VDb2xsZWN0aW9uRmFpbHVyZTpvLmljZUNvbGxlY3Rpb25GYWlsdXJlLHNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZTpvLnNpZ25hbGxpbmdDb25uZWN0aW9uRmFpbHVyZSxoYW5kc2hha2luZ0ZhaWx1cmU6by5oYW5kc2hha2luZ0ZhaWx1cmUsZ3VtT3RoZXJGYWlsdXJlOm8uZ3VtT3RoZXJGYWlsdXJlLGd1bVRpbWVvdXRGYWlsdXJlOm8uZ3VtVGltZW91dEZhaWx1cmUsY3JlYXRlT2ZmZXJGYWlsdXJlOm8uY3JlYXRlT2ZmZXJGYWlsdXJlLHNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlOm8uc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmUsdXNlckJ1c3lGYWlsdXJlOm8udXNlckJ1c3lGYWlsdXJlLGludmFsaWRSZW1vdGVTRFBGYWlsdXJlOm8uaW52YWxpZFJlbW90ZVNEUEZhaWx1cmUsbm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlOm8ubm9SZW1vdGVJY2VDYW5kaWRhdGVGYWlsdXJlLHNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZTpvLnNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOm8uc3RyZWFtU3RhdHN9O3Iuc2VuZFNvZnRwaG9uZVJlcG9ydCh1LHtzdWNjZXNzOmZ1bmN0aW9uKCl7Xy5pbmZvKCJzZW5kU29mdHBob25lUmVwb3J0IHN1Y2Nlc3MiK0pTT04uc3RyaW5naWZ5KHUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe18uZXJyb3IoInNlbmRTb2Z0cGhvbmVSZXBvcnQgZmFpbGVkLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KTt2YXIgZD17QVVESU9fSU5QVVQ6e3BhY2tldHNDb3VudDpsLm1hcCgoZT0+ZS5wYWNrZXRzQ291bnQpKSxwYWNrZXRzTG9zdDpsLm1hcCgoZT0+ZS5wYWNrZXRzTG9zdCkpLGF1ZGlvTGV2ZWw6bC5tYXAoKGU9PmUuYXVkaW9MZXZlbCkpLGppdHRlckJ1ZmZlck1pbGxpczpsLm1hcCgoZT0+ZS5qaXR0ZXJCdWZmZXJNaWxsaXMpKX0sQVVESU9fT1VUUFVUOntwYWNrZXRzQ291bnQ6cC5tYXAoKGU9PmUucGFja2V0c0NvdW50KSkscGFja2V0c0xvc3Q6cC5tYXAoKGU9PmUucGFja2V0c0xvc3QpKSxhdWRpb0xldmVsOnAubWFwKChlPT5lLmF1ZGlvTGV2ZWwpKSxqaXR0ZXJCdWZmZXJNaWxsaXM6cC5tYXAoKGU9PmUuaml0dGVyQnVmZmVyTWlsbGlzKSkscm91bmRUcmlwVGltZU1pbGxpczpwLm1hcCgoZT0+ZS5yb3VuZFRyaXBUaW1lTWlsbGlzKSl9fSxoPXQodCh7fSx1KSx7fSx7c29mdHBob25lU3RyZWFtUGVyU2Vjb25kU3RhdGlzdGljczpkLGljZUNvbm5lY3Rpb25zTG9zdDpvLmljZUNvbm5lY3Rpb25zTG9zdCxpY2VDb25uZWN0aW9uc0ZhaWxlZDpvLmljZUNvbm5lY3Rpb25zRmFpbGVkfHxudWxsLHBlZXJDb25uZWN0aW9uRmFpbGVkOm8ucGVlckNvbm5lY3Rpb25GYWlsZWR8fG51bGwscnRjSnNWZXJzaW9uOm8ucnRjSnNWZXJzaW9ufHxudWxsLGZpcnN0UlRQVGltZU1pbGxpczpvLmZpcnN0UlRQVGltZU1pbGxpc3x8bnVsbCxpc01lZGlhQ2x1c3RlclBhdGg6by5pc01lZGlhQ2x1c3RlclBhdGgsaXNQZXJzaXN0ZW50UGVlckNvbm5lY3Rpb246by5pc1BlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbixpc0V4aXN0aW5nUGVyc2lzdGVudFBlZXJDb25uZWN0aW9uOm8uaXNFeGlzdGluZ1BlcnNpc3RlbnRQZWVyQ29ubmVjdGlvbnx8ITEsY29uc2VjdXRpdmVOb0F1ZGlvSW5wdXRQYWNrZXRzOmcsY29uc2VjdXRpdmVMb3dJbnB1dEF1ZGlvTGV2ZWw6Zixjb25zZWN1dGl2ZU5vQXVkaW9PdXRwdXRQYWNrZXRzOm0sY29uc2VjdXRpdmVMb3dPdXRwdXRBdWRpb0xldmVsOnYsYXVkaW9JbnB1dENvbm5lY3RlZER1cmF0aW9uU2Vjb25kczp5LGNjcE1lZGlhUmVhZHlMYXRlbmN5TWlsbGlzOkMsY29udGFjdFN1YnR5cGU6ci5nZXRDb250YWN0U3VidHlwZSgpLGVhcmx5R3VtRW5hYmxlZDpFLGVhcmx5R3VtV29ya2VkOkksdmRpUGxhdGZvcm06VHx8bnVsbCx1c2VyQWdlbnREYXRhOm8udXNlckFnZW50RGF0YXx8bnVsbCxpc0Nvbm5lY3RlZDpTLGNvbnNlY3V0aXZlQXVkaW9PdXRwdXRNdXRlRHVyYXRpb25TZWNvbmRzOmIsc3RyZWFtSnNWZXJzaW9uOm4udmVyc2lvbn0pO0M9MCxTPSExLGI9MCxuLnB1Ymxpc2hTb2Z0cGhvbmVSZXBvcnQoe2NvbnRhY3RJZDpyLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246ZS5jY3BWZXJzaW9uLHJlcG9ydDpofSksXy5pbmZvKCJzZW50IFRlbGVtZXRyeUNhbGxSZXBvcnQgIitKU09OLnN0cmluZ2lmeShoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0ocixvLHNlKGQsYSksc2UoaCxjKSksWShyKX0saWU9ZnVuY3Rpb24oZSx0LG4scixvLGkscyl7dGhpcy5zb2Z0cGhvbmVTdHJlYW1UeXBlPXIsdGhpcy50aW1lc3RhbXA9ZSx0aGlzLnBhY2tldHNMb3N0PXQsdGhpcy5wYWNrZXRzQ291bnQ9bix0aGlzLmF1ZGlvTGV2ZWw9byx0aGlzLmppdHRlckJ1ZmZlck1pbGxpcz1pLHRoaXMucm91bmRUcmlwVGltZU1pbGxpcz1zfSxzZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaWUoKGU9ZXx8e30pLnRpbWVzdGFtcCxlLnBhY2tldHNMb3N0LGUucGFja2V0c0NvdW50LHQsZS5hdWRpb0xldmVsKX0sYWU9ZnVuY3Rpb24oZSl7dGhpcy5fb3JpZ2luYWxMb2dnZXI9ZTt2YXIgdD10aGlzO3RoaXMuX3RlZT1mdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50c1swXSksbz0iIjtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbigpe28rPSIgJXMifSkpLHIuYXBwbHkodC5fb3JpZ2luYWxMb2dnZXIsW24uTG9nQ29tcG9uZW50LlNPRlRQSE9ORSxvXS5jb25jYXQoZSkpfX19O2FlLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMSx0aGlzLl9vcmlnaW5hbExvZ2dlci5kZWJ1ZykoYXJndW1lbnRzKX0sYWUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDIsdGhpcy5fb3JpZ2luYWxMb2dnZXIuaW5mbykoYXJndW1lbnRzKX0sYWUucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMyx0aGlzLl9vcmlnaW5hbExvZ2dlci5sb2cpKGFyZ3VtZW50cyl9LGFlLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSg0LHRoaXMuX29yaWdpbmFsTG9nZ2VyLndhcm4pKGFyZ3VtZW50cyl9LGFlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoNSx0aGlzLl9vcmlnaW5hbExvZ2dlci5lcnJvcikoYXJndW1lbnRzKX0sbi5Tb2Z0cGhvbmVNYW5hZ2VyPVB9KCl9LDM0NDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1mdW5jdGlvbigpe3JldHVybiB0LmNhY2hlLmhhc093blByb3BlcnR5KGFyZ3VtZW50c1swXSl8fCh0LmNhY2hlW2FyZ3VtZW50c1swXV09dC5wYXJzZShhcmd1bWVudHNbMF0pKSx0LmZvcm1hdC5jYWxsKG51bGwsdC5jYWNoZVthcmd1bWVudHNbMF1dLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49W107dD4wO25bLS10XT1lKTtyZXR1cm4gbi5qb2luKCIiKX10LmZvcm1hdD1mdW5jdGlvbihlLG8pe3ZhciBpLHMsYSxjLHUsbCxwLGQ9MSxoPWUubGVuZ3RoLGc9IiIsZj1bXTtmb3Iocz0wO3M8aDtzKyspaWYoInN0cmluZyI9PT0oZz1uKGVbc10pKSlmLnB1c2goZVtzXSk7ZWxzZSBpZigiYXJyYXkiPT09Zyl7aWYoKGM9ZVtzXSlbMl0pZm9yKGk9b1tkXSxhPTA7YTxjWzJdLmxlbmd0aDthKyspe2lmKCFpLmhhc093blByb3BlcnR5KGNbMl1bYV0pKXRocm93IHQoJ1tzcHJpbnRmXSBwcm9wZXJ0eSAiJXMiIGRvZXMgbm90IGV4aXN0JyxjWzJdW2FdKTtpPWlbY1syXVthXV19ZWxzZSBpPWNbMV0/b1tjWzFdXTpvW2QrK107aWYoL1tec10vLnRlc3QoY1s4XSkmJiJudW1iZXIiIT1uKGkpKXRocm93IHQoIltzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlcyIsbihpKSk7c3dpdGNoKGNbOF0pe2Nhc2UiYiI6aT1pLnRvU3RyaW5nKDIpO2JyZWFrO2Nhc2UiYyI6aT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO2JyZWFrO2Nhc2UiZCI6aT1wYXJzZUludChpLDEwKTticmVhaztjYXNlImUiOmk9Y1s3XT9pLnRvRXhwb25lbnRpYWwoY1s3XSk6aS50b0V4cG9uZW50aWFsKCk7YnJlYWs7Y2FzZSJmIjppPWNbN10/cGFyc2VGbG9hdChpKS50b0ZpeGVkKGNbN10pOnBhcnNlRmxvYXQoaSk7YnJlYWs7Y2FzZSJvIjppPWkudG9TdHJpbmcoOCk7YnJlYWs7Y2FzZSJzIjppPShpPVN0cmluZyhpKSkmJmNbN10/aS5zdWJzdHJpbmcoMCxjWzddKTppO2JyZWFrO2Nhc2UidSI6aT4+Pj0wO2JyZWFrO2Nhc2UieCI6aT1pLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIlgiOmk9aS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1pPS9bZGVmXS8udGVzdChjWzhdKSYmY1szXSYmaT49MD8iKyIraTppLGw9Y1s0XT8iMCI9PWNbNF0/IjAiOmNbNF0uY2hhckF0KDEpOiIgIixwPWNbNl0tU3RyaW5nKGkpLmxlbmd0aCx1PWNbNl0/cihsLHApOiIiLGYucHVzaChjWzVdP2krdTp1K2kpfXJldHVybiBmLmpvaW4oIiIpfSx0LmNhY2hlPXt9LHQucGFyc2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsbj1bXSxyPVtdLG89MDt0Oyl7aWYobnVsbCE9PShuPS9eW15ceDI1XSsvLmV4ZWModCkpKXIucHVzaChuWzBdKTtlbHNlIGlmKG51bGwhPT0obj0vXlx4MjV7Mn0vLmV4ZWModCkpKXIucHVzaCgiJSIpO2Vsc2V7aWYobnVsbD09PShuPS9eXHgyNSg/OihbMS05XVxkKilcJHxcKChbXlwpXSspXCkpPyhcKyk/KDB8J1teJF0pPygtKT8oXGQrKT8oPzpcLihcZCspKT8oW2ItZm9zdXhYXSkvLmV4ZWModCkpKXRocm93IltzcHJpbnRmXSBodWg/IjtpZihuWzJdKXtvfD0xO3ZhciBpPVtdLHM9blsyXSxhPVtdO2lmKG51bGw9PT0oYT0vXihbYS16X11bYS16X1xkXSopL2kuZXhlYyhzKSkpdGhyb3ciW3NwcmludGZdIGh1aD8iO2ZvcihpLnB1c2goYVsxXSk7IiIhPT0ocz1zLnN1YnN0cmluZyhhWzBdLmxlbmd0aCkpOylpZihudWxsIT09KGE9L15cLihbYS16X11bYS16X1xkXSopL2kuZXhlYyhzKSkpaS5wdXNoKGFbMV0pO2Vsc2V7aWYobnVsbD09PShhPS9eXFsoXGQrKVxdLy5leGVjKHMpKSl0aHJvdyJbc3ByaW50Zl0gaHVoPyI7aS5wdXNoKGFbMV0pfW5bMl09aX1lbHNlIG98PTI7aWYoMz09PW8pdGhyb3ciW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZCI7ci5wdXNoKG4pfXQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpfXJldHVybiByfSxlLnNwcmludGY9dCxlLnZzcHJpbnRmPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4ocj1uLnNsaWNlKDApKS5zcGxpY2UoMCwwLGUpLHQuYXBwbHkobnVsbCxyKX19KCl9LDQzMTooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10O3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyB0Lk5vdEltcGxlbWVudGVkRXJyb3J9LG4ucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aHJvdyBuZXcgdC5Ob3RJbXBsZW1lbnRlZEVycm9yfTt2YXIgcj1mdW5jdGlvbigpe24uY2FsbCh0aGlzKX07KHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt9LHIucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7fTt2YXIgbz1mdW5jdGlvbihlLHQpe24uY2FsbCh0aGlzKSx0aGlzLndpbmRvdz1lLHRoaXMuZG9tYWluPXR8fCIqIn07KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy53aW5kb3cucG9zdE1lc3NhZ2UoZSx0aGlzLmRvbWFpbil9LG8ucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKX07dmFyIGk9ZnVuY3Rpb24oZSx0LHIpe24uY2FsbCh0aGlzKSx0aGlzLmlucHV0PWUsdGhpcy5vdXRwdXQ9dCx0aGlzLmRvbWFpbj1yfHwiKiJ9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMub3V0cHV0LnBvc3RNZXNzYWdlKGUsdGhpcy5kb21haW4pfSxpLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwodD0+e3Quc291cmNlPT09dGhpcy5vdXRwdXQmJmUodCl9KSl9O3ZhciBzPWZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzKSx0aGlzLnBvcnQ9ZSx0aGlzLmlkPXQucmFuZG9tSWQoKX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zLHMucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5wb3J0LnBvc3RNZXNzYWdlKGUpfSxzLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5wb3J0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpfSxzLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfTt2YXIgYT1mdW5jdGlvbihlKXtuLmNhbGwodGhpcyksdGhpcy5zdHJlYW1NYXA9ZT90LmluZGV4KGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldElkKCl9KSk6e30sdGhpcy5tZXNzYWdlTGlzdGVuZXJzPVtdfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLmdldFN0cmVhbXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0cnl7dC5zZW5kKGUpfWNhdGNoKGUpe319KSl9LGEucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLm1lc3NhZ2VMaXN0ZW5lcnMucHVzaChlKSx0aGlzLmdldFN0cmVhbXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt0Lm9uTWVzc2FnZShlKX0pKX0sYS5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuc3RyZWFtTWFwW2UuZ2V0SWQoKV09ZSx0aGlzLm1lc3NhZ2VMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5vbk1lc3NhZ2UodCl9KSl9LGEucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy5zdHJlYW1NYXBbZS5nZXRJZCgpXX0sYS5wcm90b3R5cGUuZ2V0U3RyZWFtcz1mdW5jdGlvbihlKXtyZXR1cm4gdC52YWx1ZXModGhpcy5zdHJlYW1NYXApfSxhLnByb3RvdHlwZS5nZXRTdHJlYW1Gb3JQb3J0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbmQodGhpcy5nZXRTdHJlYW1zKCksKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBvcnQ9PT1lfSkpfTt2YXIgYz1mdW5jdGlvbihlLG4sbyl7dGhpcy5uYW1lPWUsdGhpcy51cHN0cmVhbT1ufHxuZXcgcix0aGlzLmRvd25zdHJlYW09b3x8bmV3IHIsdGhpcy5kb3duc3RyZWFtQnVzPW5ldyB0LkV2ZW50QnVzLHRoaXMudXBzdHJlYW1CdXM9bmV3IHQuRXZlbnRCdXMsdGhpcy51cHN0cmVhbS5vbk1lc3NhZ2UodC5oaXRjaCh0aGlzLHRoaXMuX2Rpc3BhdGNoRXZlbnQsdGhpcy51cHN0cmVhbUJ1cykpLHRoaXMuZG93bnN0cmVhbS5vbk1lc3NhZ2UodC5oaXRjaCh0aGlzLHRoaXMuX2Rpc3BhdGNoRXZlbnQsdGhpcy5kb3duc3RyZWFtQnVzKSksdGhpcy5hY3RpdmU9ITAsdGhpcy5hbGxvd2VkRXZlbnRzPVsuLi5PYmplY3QuZW50cmllcyh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMpLm1hcCgoZT0+ZVsxXSkpLHQuRXZlbnRUeXBlLkNPTkZJR1VSRSx0LkV2ZW50VHlwZS5TWU5DSFJPTklaRSx0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSx0LkV2ZW50VHlwZS5MT0csdC5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0LkV2ZW50VHlwZS5ET1dOTE9BRF9MT0dfRlJPTV9DQ1BdfTtjLnByb3RvdHlwZS5vblVwc3RyZWFtPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0LmFzc2VydE5vdE51bGwobiwiZiIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy51cHN0cmVhbUJ1cy5zdWJzY3JpYmUoZSxuKX0sYy5wcm90b3R5cGUub25BbGxVcHN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImYiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMudXBzdHJlYW1CdXMuc3Vic2NyaWJlQWxsKGUpfSxjLnByb3RvdHlwZS5vbkRvd25zdHJlYW09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJmIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLmRvd25zdHJlYW1CdXMuc3Vic2NyaWJlKGUsbil9LGMucHJvdG90eXBlLm9uQWxsRG93bnN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsImYiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuZG93bnN0cmVhbUJ1cy5zdWJzY3JpYmVBbGwoZSl9LGMucHJvdG90eXBlLnNlbmRVcHN0cmVhbT1mdW5jdGlvbihlLG4pe3QuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0aGlzLnVwc3RyZWFtLnNlbmQoe2V2ZW50OmUsZGF0YTpufSl9LGMucHJvdG90eXBlLnNlbmREb3duc3RyZWFtPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHRoaXMuZG93bnN0cmVhbS5zZW5kKHtldmVudDplLGRhdGE6bn0pfSxjLnByb3RvdHlwZS5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZGF0YTtuLmV2ZW50JiZlLnRyaWdnZXIobi5ldmVudCxuLmRhdGEpfSxjLnByb3RvdHlwZS5wYXNzVXBzdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihuLHIpe2UuYWN0aXZlfHxlLmFsbG93ZWRFdmVudHMuaW5jbHVkZXMocik/ZS51cHN0cmVhbS5zZW5kKHtldmVudDpyLGRhdGE6bn0pOnQuZ2V0TG9nKCkuZGVidWcoIltHUl0gQ29uZHVpdCAiLmNvbmNhdChlLm5hbWUsIiBoYXMgYmxvY2tlZCBldmVudCAiKS5jb25jYXQociwiIGZyb20gZ29pbmcgdXBzdHJlYW0uIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxjLnByb3RvdHlwZS5wYXNzRG93bnN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4scil7ZS5hY3RpdmV8fGUuYWxsb3dlZEV2ZW50cy5pbmNsdWRlcyhyKT9lLmRvd25zdHJlYW0uc2VuZCh7ZXZlbnQ6cixkYXRhOm59KTp0LmdldExvZygpLmRlYnVnKCJbR1JdIENvbmR1aXQgIi5jb25jYXQoZS5uYW1lLCIgaGFzIGJsb2NrZWQgZXZlbnQgIikuY29uY2F0KHIsIiBmcm9tIGdvaW5nIGRvd25zdHJlYW0uIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxjLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3RoaXMudXBzdHJlYW1CdXMudW5zdWJzY3JpYmVBbGwoKSx0aGlzLmRvd25zdHJlYW1CdXMudW5zdWJzY3JpYmVBbGwoKX0sYy5wcm90b3R5cGUuc2V0QWN0aXZlPWZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgQ0NQIGNvbmR1aXQgYXMgYWN0aXZlIiksdGhpcy5hY3RpdmU9ITB9LGMucHJvdG90eXBlLnNldEluYWN0aXZlPWZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgQ0NQIGNvbmR1aXQgYXMgaW5hY3RpdmUiKSx0aGlzLmFjdGl2ZT0hMX07dmFyIHU9ZnVuY3Rpb24oZSx0LG4scil7Yy5jYWxsKHRoaXMsZSxuZXcgaSh0LG4uY29udGVudFdpbmRvdyxyfHwiKiIpLG51bGwpfTsodS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXUsdC5TdHJlYW09bix0Lk51bGxTdHJlYW09cix0LldpbmRvd1N0cmVhbT1vLHQuV2luZG93SU9TdHJlYW09aSx0LlBvcnRTdHJlYW09cyx0LlN0cmVhbU11bHRpcGxleGVyPWEsdC5Db25kdWl0PWMsdC5JRnJhbWVDb25kdWl0PXUsdC5HUlByb3h5SWZyYW1lQ29uZHVpdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5pZnJhbWVMYWJlbE1hcD17fTtjb25zdCByPW5ldyBVUkwobikub3JpZ2luO3RoaXMuYWN0aXZlUmVnaW9uVXJsPXIsdGhpcy5jb25kdWl0cz10Lm1hcCgodD0+e2NvbnN0e2lmcmFtZTpuLGxhYmVsOnJ9PXQsbz1uZXcgdShuLnNyYyxlLG4pO28uaWZyYW1lPW47Y29uc3R7b3JpZ2luOml9PW5ldyBVUkwobi5zcmMpO3JldHVybiBvLm5hbWU9aSx0aGlzLmlmcmFtZUxhYmVsTWFwW2ldPXIsb30pKSx0aGlzLnNldEFjdGl2ZUNvbmR1aXQocil9b25VcHN0cmVhbShlLHQpe2NvbnN0IG49dGhpcy5jb25kdWl0cy5tYXAoKG49Pm4ub25VcHN0cmVhbShlLHQpKSk7cmV0dXJue3Vuc3Vic2NyaWJlOigpPT5uLmZvckVhY2goKGU9PmUudW5zdWJzY3JpYmUoKSkpfX1vbkFsbFVwc3RyZWFtKGUpe2NvbnN0IHQ9dGhpcy5jb25kdWl0cy5tYXAoKHQ9PnQub25BbGxVcHN0cmVhbShlKSkpO3JldHVybnt1bnN1YnNjcmliZTooKT0+dC5mb3JFYWNoKChlPT5lLnVuc3Vic2NyaWJlKCkpKX19b25Eb3duc3RyZWFtKGUsdCl7Y29uc3Qgbj10aGlzLmNvbmR1aXRzLm1hcCgobj0+bi5vbkRvd25zdHJlYW0oZSx0KSkpO3JldHVybnt1bnN1YnNjcmliZTooKT0+bi5mb3JFYWNoKChlPT5lLnVuc3Vic2NyaWJlKCkpKX19b25BbGxEb3duc3RyZWFtKGUpe2NvbnN0IHQ9dGhpcy5jb25kdWl0cy5tYXAoKHQ9PnQub25BbGxEb3duc3RyZWFtKGUpKSk7cmV0dXJue3Vuc3Vic2NyaWJlOigpPT50LmZvckVhY2goKGU9PmUudW5zdWJzY3JpYmUoKSkpfX1zZW5kVXBzdHJlYW0oZSx0KXt0aGlzLmNvbmR1aXRzLmZvckVhY2goKG49PntuLnNlbmRVcHN0cmVhbShlLHQpfSkpfXNlbmREb3duc3RyZWFtKGUsdCl7dGhpcy5jb25kdWl0cy5mb3JFYWNoKChuPT57bi5zZW5kRG93bnN0cmVhbShlLHQpfSkpfXJlbGF5VXBzdHJlYW0oZSl7dmFyIG49dGhpczt0aGlzLmNvbmR1aXRzLmZvckVhY2goKHI9PntyLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24obyl7Y29uc3QgaT1uLmdldE90aGVyQ29uZHVpdChyKTtpLnNlbmRVcHN0cmVhbShlLG8pLHQuZ2V0TG9nKCkuaW5mbygiUmVsYXllZCBldmVudCAiLmNvbmNhdChlLCIgZnJvbSAiKS5jb25jYXQoci5uYW1lLCIgdG8gIikuY29uY2F0KGkubmFtZSwiIHNoYXJlZCB3b3JrZXIiKSkud2l0aE9iamVjdCh7ZGF0YTpvfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pKX1nZXRBbGxDb25kdWl0cygpe3JldHVybiB0aGlzLmNvbmR1aXRzfXNldEFjdGl2ZUNvbmR1aXQoZSl7dGhpcy5jb25kdWl0cy5maW5kKCh0PT50Lm5hbWU9PT1lKSk/KHRoaXMuY29uZHVpdHMuZm9yRWFjaCgodD0+e3QubmFtZT09PWUmJih0aGlzLmFjdGl2ZVJlZ2lvblVybD1lLHRoaXMubmFtZT10Lm5hbWUsdGhpcy51cHN0cmVhbT10LnVwc3RyZWFtLHRoaXMuZG93bnN0cmVhbT10LmRvd25zdHJlYW0sdGhpcy51cHN0cmVhbUJ1cz10LnVwc3RyZWFtQnVzLHRoaXMuZG93bnN0cmVhbUJ1cz10LmRvd25zdHJlYW1CdXMpfSkpLHQuZ2V0TG9nKCkuaW5mbygiW0dSXSBTd2l0Y2hlZCB0byBhY3RpdmUgY29uZHVpdCAiLmNvbmNhdCh0aGlzLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSk6dC5nZXRMb2coKS5lcnJvcigiW0dSXSBObyBjb25kdWl0IGZvdW5kIHdpdGggdGhlIGdpdmVuIGNjcFVybDogIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Z2V0QWN0aXZlQ29uZHVpdCgpe3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGU9PmUubmFtZT09PXRoaXMuYWN0aXZlUmVnaW9uVXJsKSl9Z2V0SW5hY3RpdmVDb25kdWl0KCl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZT0+ZS5uYW1lIT09dGhpcy5hY3RpdmVSZWdpb25VcmwpKX1nZXRPdGhlckNvbmR1aXQoZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgodD0+ZS5uYW1lIT09dC5uYW1lKSl9Z2V0Q29uZHVpdEJ5UmVnaW9uKGUpe3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKHQ9PnQucmVnaW9uPT09ZSkpfWdldENvbmR1aXRCeU5hbWUoZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgodD0+dC5uYW1lPT09ZSkpfX19KCl9LDgzMDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10O3ZhciBuPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChuLCJ0b1N0YXRlIiksdGhpcy5mcm9tU3RhdGU9ZSx0aGlzLnRvU3RhdGU9bn07bi5wcm90b3R5cGUuZ2V0QXNzb2NpYXRpb25zPWZ1bmN0aW9uKGUpe3Rocm93IHQuTm90SW1wbGVtZW50ZWRFcnJvcigpfSxuLnByb3RvdHlwZS5nZXRGcm9tU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcm9tU3RhdGV9LG4ucHJvdG90eXBlLmdldFRvU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0YXRlfTt2YXIgcj1mdW5jdGlvbihlLHIsbyl7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIiksdC5hc3NlcnROb3ROdWxsKG8sImFzc29jaWF0aW9ucyIpLG4uY2FsbCh0aGlzLGUsciksdGhpcy5hc3NvY2lhdGlvbnM9b307KHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hc3NvY2lhdGlvbnN9O3ZhciBvPWZ1bmN0aW9uKGUscixvKXt0LmFzc2VydE5vdE51bGwoZSwiZnJvbVN0YXRlIiksdC5hc3NlcnROb3ROdWxsKHIsInRvU3RhdGUiKSx0LmFzc2VydE5vdE51bGwobywiY2xvc3VyZSIpLHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obyksImNsb3N1cmUgbXVzdCBiZSBhIGZ1bmN0aW9uIiksbi5jYWxsKHRoaXMsZSxyKSx0aGlzLmNsb3N1cmU9b307KG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vLG8ucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zdXJlKGUsdGhpcy5nZXRGcm9tU3RhdGUoKSx0aGlzLmdldFRvU3RhdGUoKSl9O3ZhciBpPWZ1bmN0aW9uKCl7dGhpcy5mcm9tTWFwPXt9fTtpLkFOWT0iPDxhbnk+PiIsaS5wcm90b3R5cGUuYXNzb2M9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJmcm9tU3RhdGVPYmogaXMgbm90IGRlZmluZWQuIik7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJ0b1N0YXRlT2JqIGlzIG5vdCBkZWZpbmVkLiIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiYXNzb2NPYmogaXMgbm90IGRlZmluZWQuIik7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9lLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuYXNzb2MoZSx0LG4pfSkpOnQgaW5zdGFuY2VvZiBBcnJheT90LmZvckVhY2goKGZ1bmN0aW9uKHQpe2kuYXNzb2MoZSx0LG4pfSkpOiJmdW5jdGlvbiI9PXR5cGVvZiBuP3RoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyBvKGUsdCxuKSk6biBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyByKGUsdCxuKSk6dGhpcy5fYWRkQXNzb2NpYXRpb24obmV3IHIoZSx0LFtuXSkpLHRoaXN9LGkucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlLG4scil7dC5hc3NlcnROb3ROdWxsKG4sImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIik7dmFyIG89W10scz10aGlzLmZyb21NYXBbaS5BTlldfHx7fSxhPXRoaXMuZnJvbU1hcFtuXXx8e307cmV0dXJuIG89KG89by5jb25jYXQodGhpcy5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcChzLGUsbixyKSkpLmNvbmNhdCh0aGlzLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwKGEsZSxuLHIpKX0saS5wcm90b3R5cGUuX2FkZEFzc29jaWF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZnJvbU1hcFtlLmdldEZyb21TdGF0ZSgpXTt0fHwodD10aGlzLmZyb21NYXBbZS5nZXRGcm9tU3RhdGUoKV09e30pO3ZhciBuPXRbZS5nZXRUb1N0YXRlKCldO258fChuPXRbZS5nZXRUb1N0YXRlKCldPVtdKSxuLnB1c2goZSl9LGkucHJvdG90eXBlLl9nZXRBc3NvY2lhdGlvbnNGcm9tTWFwPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybihlW2kuQU5ZXXx8W10pLmNvbmNhdChlW3JdfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBlLmNvbmNhdChuLmdldEFzc29jaWF0aW9ucyh0KSl9KSxbXSl9LHQuRXZlbnRHcmFwaD1pfSgpfSw2MDooKT0+e2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHQodCl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/ZShPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKGUpe24odCxlLG9bZV0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOmUoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobyxlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gbihlLHQsbil7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT10eXBlb2YgcilyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybigic3RyaW5nIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsInN0cmluZyIpO3JldHVybiJzeW1ib2wiPT10eXBlb2YgdD90OnQrIiJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uLGUubGlseT1uO3ZhciByPW5hdmlnYXRvci51c2VyQWdlbnQsbz1bImJ1YmJsZXMiLCJjYW5jZWxCdWJibGUiLCJjYW5jZWxhYmxlIiwiY29tcG9zZWQiLCJkYXRhIiwiZGVmYXVsdFByZXZlbnRlZCIsImV2ZW50UGhhc2UiLCJpc1RydXN0ZWQiLCJsYXN0RXZlbnRJZCIsIm9yaWdpbiIsInJldHVyblZhbHVlIiwidGltZVN0YW1wIiwidHlwZSJdO24uc3ByaW50Zj1lLnNwcmludGYsbi52c3ByaW50Zj1lLnZzcHJpbnRmLGRlbGV0ZSBlLnNwcmludGYsZGVsZXRlIGUudnNwcmludGYsbi5IVFRQX1NUQVRVU19DT0RFUz17U1VDQ0VTUzoyMDAsVU5BVVRIT1JJWkVEOjQwMSxBQ0NFU1NfREVOSUVEOjQwMyxUT09fTUFOWV9SRVFVRVNUUzo0MjksSU5URVJOQUxfU0VSVkVSX0VSUk9SOjUwMH0sbi5UUkFOU1BPUlRfVFlQRVM9e0NIQVRfVE9LRU46ImNoYXRfdG9rZW4iLFdFQl9TT0NLRVQ6IndlYl9zb2NrZXQiLEFHRU5UX0RJU0NPVkVSWToiYWdlbnRfZGlzY292ZXJ5IixXRUJfUlRDOiJ3ZWJfcnRjIn0sbi5oaXRjaD1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdD1lLnNoaWZ0KCkscj1lLnNoaWZ0KCk7cmV0dXJuIG4uYXNzZXJ0Tm90TnVsbCh0LCJzY29wZSIpLG4uYXNzZXJ0Tm90TnVsbChyLCJtZXRob2QiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKHIpLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiByLmFwcGx5KHQsZS5jb25jYXQobikpfX0sbi5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuY29uc3RydWN0b3ImJmUuY2FsbCYmZS5hcHBseSl9LG4uaXNBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxuLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIG4uYXNzZXJ0Tm90TnVsbChlLCJtYXAiKSxlKXQucHVzaChyKTtyZXR1cm4gdH0sbi52YWx1ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIG4uYXNzZXJ0Tm90TnVsbChlLCJtYXAiKSxlKXQucHVzaChlW3JdKTtyZXR1cm4gdH0sbi5lbnRyaWVzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaCh7a2V5Om4sdmFsdWU6ZVtuXX0pO3JldHVybiB0fSxuLm1lcmdlPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5lbnRyaWVzKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS5rZXldPWUudmFsdWV9KSl9KSksdH0sbi5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sbi5maW5kPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYodChlW25dKSlyZXR1cm4gZVtuXTtyZXR1cm4gbnVsbH0sbi5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/bnVsbCE9bi5maW5kKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTp0IGluIGV9LG4uY29udGFpbnNWYWx1ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/bnVsbCE9bi5maW5kKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKTpudWxsIT1uLmZpbmQobi52YWx1ZXMoZSksKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dH0pKX0sbi5yYW5kb21JZD1mdW5jdGlvbigpe3JldHVybiBuLnNwcmludGYoIiVzLSVzIixuLm5vdygpLE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpKX0sbi5tYWtlRW51bT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UoL1wuPyhbYS16XSspXz8vZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpKyJfIn0pKS5yZXBsYWNlKC9fJC8sIiIpO3Rbbl09ZX0pKSx0fSxuLm1ha2VOYW1lc3BhY2VkRW51bT1mdW5jdGlvbihlLHQpe3ZhciByPW4ubWFrZUVudW0odCk7cmV0dXJuIG4ua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPW4uc3ByaW50ZigiJXM6OiVzIixlLHJbdF0pfSkpLHJ9LG4ubWFrZUdlbmVyaWNOYW1lc3BhY2VkRW51bT1mdW5jdGlvbihlLHQscil7dmFyIG89bi5tYWtlRW51bSh0KTtyZXR1cm4gbi5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09bi5zcHJpbnRmKCIlcyIrcisiJXMiLGUsb1t0XSl9KSksb30sbi5pc0Nocm9tZUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXIuaW5kZXhPZigiQ2hyb21lIil9LG4uaXNGaXJlZm94QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09ci5pbmRleE9mKCJGaXJlZm94Iil9LG4uaXNPcGVyYUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXIuaW5kZXhPZigiT3BlcmEiKX0sbi5pc0VkZ2VCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1yLmluZGV4T2YoIkVkZyIpfSxuLmdldENocm9tZUJyb3dzZXJWZXJzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9ci5zdWJzdHJpbmcoci5pbmRleE9mKCJDaHJvbWUiKSs3KTtyZXR1cm4gZT9wYXJzZUZsb2F0KGUpOi0xfSxuLmdldEZpcmVmb3hCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPXIuc3Vic3RyaW5nKHIuaW5kZXhPZigiRmlyZWZveCIpKzgpO3JldHVybiBlP3BhcnNlRmxvYXQoZSk6LTF9LG4uaXNWYWxpZExvY2FsZT1mdW5jdGlvbihlKXtyZXR1cm5be2lkOiJlbl9VUyIsbGFiZWw6IkVuZ2xpc2gifSx7aWQ6ImRlX0RFIixsYWJlbDoiRGV1dHNjaCJ9LHtpZDoiZXNfRVMiLGxhYmVsOiJFc3Bhw7FvbCJ9LHtpZDoiZnJfRlIiLGxhYmVsOiJGcmFuw6dhaXMifSx7aWQ6ImphX0pQIixsYWJlbDoi5pel5pys6KqeIn0se2lkOiJpdF9JVCIsbGFiZWw6Ikl0YWxpYW5vIn0se2lkOiJrb19LUiIsbGFiZWw6Iu2VnOq1reyWtCJ9LHtpZDoicHRfQlIiLGxhYmVsOiJQb3J0dWd1w6pzIn0se2lkOiJ6aF9DTiIsbGFiZWw6IuS4reaWhyjnroDkvZMpIn0se2lkOiJ6aF9UVyIsbGFiZWw6IuS4reaWhyjnuYHpq5QpIn1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkuaW5jbHVkZXMoZSl9LG4uZ2V0T3BlcmFCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPXIuaW5kZXhPZigiT3BlcmEiKSx0PS0xIT09ci5pbmRleE9mKCJWZXJzaW9uIik/ci5zdWJzdHJpbmcoZSs4KTpyLnN1YnN0cmluZyhlKzYpO3JldHVybiB0P3BhcnNlRmxvYXQodCk6LTF9LG4uaW5kZXg9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW3QoZSldPWV9KSksbn0sbi5zZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0xfSkpLHR9LG4ucmVsYXRpdmVDb21wbGVtZW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIG4ua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtuIGluIGV8fChyW25dPXRbbl0pfSkpLHJ9LG4uYXNzZXJ0VHJ1ZT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBuLlZhbHVlRXJyb3IodCl9LG4uYXNzZXJ0Tm90TnVsbD1mdW5jdGlvbihlLHQpe3JldHVybiBuLmFzc2VydFRydWUobnVsbCE9ZSYmdm9pZCAwIT09dHlwZW9mIGUsbi5zcHJpbnRmKCIlcyBtdXN0IGJlIHByb3ZpZGVkIix0fHwiQSB2YWx1ZSIpKSxlfSxuLmRlZXBjb3B5PWZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX0sbi5kZWVwY29weUNyb3NzT3JpZ2luRXZlbnQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fTtyZXR1cm4gby5mb3JFYWNoKChyPT57dHJ5e3Rbcl09ZVtyXX1jYXRjaChlKXtuLmdldExvZygpLmluZm8oImRlZXBjb3B5Q3Jvc3NPcmlnaW5FdmVudCBmYWlsZWQgb24ga2V5OiAiLHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpLG4uZGVlcGNvcHkodCl9LG4uZ2V0QmFzZVVybD1mdW5jdGlvbigpe3ZhciB0PWUubG9jYXRpb247cmV0dXJuIG4uc3ByaW50ZigiJXMvLyVzOiVzIix0LnByb3RvY29sLHQuaG9zdG5hbWUsdC5wb3J0KX0sbi5nZXRVcmxXaXRoUHJvdG9jb2w9ZnVuY3Rpb24odCl7dmFyIHI9ZS5sb2NhdGlvbi5wcm90b2NvbDtyZXR1cm4gdC5zdWJzdHIoMCxyLmxlbmd0aCkhPT1yP24uc3ByaW50ZigiJXMvLyVzIixyLHQpOnR9LG4uaXNGcmFtZWQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaChlKXtyZXR1cm4hMH19LG4uaGFzT3RoZXJDb25uZWN0ZWRDQ1BzPWZ1bmN0aW9uKCl7cmV0dXJuIG4ubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPjF9LG4uZmV0Y2g9ZnVuY3Rpb24oZSx0LHIsbyl7cmV0dXJuIG89b3x8NSxyPXJ8fDFlMyx0PXR8fHt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHMpeyFmdW5jdGlvbiBvKGEpe2ZldGNoKGUsdCkudGhlbigoZnVuY3Rpb24oZSl7ZS5zdGF0dXM9PT1uLkhUVFBfU1RBVFVTX0NPREVTLlNVQ0NFU1M/ZS5qc29uKCkudGhlbigoZT0+aShlKSkpLmNhdGNoKCgoKT0+aSh7fSkpKToxIT09YSYmKGUuc3RhdHVzPj1uLkhUVFBfU1RBVFVTX0NPREVTLklOVEVSTkFMX1NFUlZFUl9FUlJPUnx8ZS5zdGF0dXM9PT1uLkhUVFBfU1RBVFVTX0NPREVTLlRPT19NQU5ZX1JFUVVFU1RTKT9zZXRUaW1lb3V0KChmdW5jdGlvbigpe28oLS1hKX0pLHIpOnMoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3MoZSl9KSl9KG8pfSkpfSxuLmZldGNoV2l0aFRpbWVvdXQ9YXN5bmMgZnVuY3Rpb24oZSxyLG8saSxzKXtpZihvPW98fHt9LCFyKXJldHVybiBuLmZldGNoKGUsbyxpLHMpO2NvbnN0IGE9bmV3IEFib3J0Q29udHJvbGxlcixjPXNldFRpbWVvdXQoKCgpPT5hLmFib3J0KCkpLHIpLHU9YXdhaXQgbi5mZXRjaChlLHQodCh7fSxvKSx7fSx7c2lnbmFsOmEuc2lnbmFsfSksaSxzKTtyZXR1cm4gY2xlYXJUaW1lb3V0KGMpLHV9LG4uYmFja29mZj1mdW5jdGlvbih0LHIsbyxpKXtuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKHQpLCJmdW5jIG11c3QgYmUgYSBGdW5jdGlvbiIpO3ZhciBzPXRoaXM7dCh7c3VjY2VzczpmdW5jdGlvbihlKXtpJiZpLnN1Y2Nlc3MmJmkuc3VjY2VzcyhlKX0sZmFpbHVyZTpmdW5jdGlvbihuLGEpe2lmKG8+MCl7dmFyIGM9MipyKk1hdGgucmFuZG9tKCk7ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3MuYmFja29mZih0LDIqYywtLW8saSl9KSxjKX1lbHNlIGkmJmkuZmFpbHVyZSYmaS5mYWlsdXJlKG4sYSl9fSl9LG4ucHVibGlzaE1ldHJpYz1mdW5jdGlvbihlKXtuLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpuLkV2ZW50VHlwZS5DTElFTlRfTUVUUklDLGRhdGE6ZX0pfSxuLnB1Ymxpc2hTb2Z0cGhvbmVTdGF0cz1mdW5jdGlvbihlKXtuLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpuLkV2ZW50VHlwZS5TT0ZUUEhPTkVfU1RBVFMsZGF0YTplfSl9LG4ucHVibGlzaFNvZnRwaG9uZVJlcG9ydD1mdW5jdGlvbihlKXtuLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpuLkV2ZW50VHlwZS5TT0ZUUEhPTkVfUkVQT1JULGRhdGE6ZX0pfSxuLnB1Ymxpc2hDbGlja1N0cmVhbURhdGE9ZnVuY3Rpb24oZSl7bi5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6bi5FdmVudFR5cGUuQ0xJQ0tfU1RSRUFNX0RBVEEsZGF0YTplfSl9LG4ucHVibGlzaENsaWVudFNpZGVMb2dzPWZ1bmN0aW9uKGUpe24uY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIobi5FdmVudFR5cGUuQ0xJRU5UX1NJREVfTE9HUyxlKX0sbi5hZGROYW1lc3BhY2VUb0xvZ3M9ZnVuY3Rpb24oZSl7WyJsb2ciLCJlcnJvciIsIndhcm4iLCJpbmZvIiwiZGVidWciXS5mb3JFYWNoKCh0PT57Y29uc3Qgbj13aW5kb3cuY29uc29sZVt0XTt3aW5kb3cuY29uc29sZVt0XT1mdW5jdGlvbigpe2NvbnN0IHQ9QXJyYXkuZnJvbShhcmd1bWVudHMpO3QudW5zaGlmdCgiWyIuY29uY2F0KGUsIl0iKSksbi5hcHBseSh3aW5kb3cuY29uc29sZSx0KX19KSl9LG4uUG9wdXBNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxuLlBvcHVwTWFuYWdlci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9bnVsbDtpZihuKXt2YXIgbz1uLmhlaWdodHx8NTc4LGk9bi53aWR0aHx8NDMzLHM9bi50b3B8fDAsYT1uLmxlZnR8fDA7KHI9d2luZG93Lm9wZW4oIiIsdCwid2lkdGg9IitpKyIsIGhlaWdodD0iK28rIiwgdG9wPSIrcysiLCBsZWZ0PSIrYSkpLmxvY2F0aW9uIT09ZSYmKHI9d2luZG93Lm9wZW4oZSx0LCJ3aWR0aD0iK2krIiwgaGVpZ2h0PSIrbysiLCB0b3A9IitzKyIsIGxlZnQ9IithKSl9ZWxzZShyPXdpbmRvdy5vcGVuKCIiLHQpKS5sb2NhdGlvbiE9PWUmJihyPXdpbmRvdy5vcGVuKGUsdCkpO3JldHVybiByfSxuLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fZ2V0TG9jYWxTdG9yYWdlS2V5KHQpO2UubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obil9LG4uUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0TGFzdE9wZW5lZFRpbWVzdGFtcD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLl9nZXRMb2NhbFN0b3JhZ2VLZXkodCkscj1lLmxvY2FsU3RvcmFnZS5nZXRJdGVtKG4pO3JldHVybiByP3BhcnNlSW50KHIsMTApOjB9LG4uUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fc2V0TGFzdE9wZW5lZFRpbWVzdGFtcD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMuX2dldExvY2FsU3RvcmFnZUtleSh0KTtlLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHIsIiIrbil9LG4uUG9wdXBNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0TG9jYWxTdG9yYWdlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiJjb25uZWN0UG9wdXBNYW5hZ2VyOjoiK2V9O3ZhciBpPW4ubWFrZUVudW0oWyJncmFudGVkIiwiZGVuaWVkIiwiZGVmYXVsdCJdKTtuLk5vdGlmaWNhdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt0aGlzLnF1ZXVlPVtdLHRoaXMucGVybWlzc2lvbj1pLkRFRkFVTFR9LG4uTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUucmVxdWVzdFBlcm1pc3Npb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzOyJOb3RpZmljYXRpb24iaW4gZT9lLk5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uPT09aS5ERU5JRUQ/KG4uZ2V0TG9nKCkud2FybigiVGhlIHVzZXIgaGFzIHJlcXVlc3RlZCB0byBub3QgcmVjZWl2ZSBub3RpZmljYXRpb25zLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5wZXJtaXNzaW9uPWkuREVOSUVEKTp0aGlzLnBlcm1pc3Npb24hPT1pLkdSQU5URUQmJmUuTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbigoZnVuY3Rpb24oZSl7dC5wZXJtaXNzaW9uPWUsZT09PWkuR1JBTlRFRD90Ll9zaG93UXVldWVkKCk6dC5xdWV1ZT1bXX0pKToobi5nZXRMb2coKS53YXJuKCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IG5vdGlmaWNhdGlvbnMuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnBlcm1pc3Npb249aS5ERU5JRUQpfSxuLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnBlcm1pc3Npb249PT1pLkdSQU5URUQpcmV0dXJuIHRoaXMuX3Nob3dJbXBsKHt0aXRsZTplLG9wdGlvbnM6dH0pO2lmKHRoaXMucGVybWlzc2lvbj09PWkuREVOSUVEKW4uZ2V0TG9nKCkud2FybigiVW5hYmxlIHRvIHNob3cgbm90aWZpY2F0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7dGl0bGU6ZSxvcHRpb25zOnR9KTtlbHNle3ZhciByPXt0aXRsZTplLG9wdGlvbnM6dH07bi5nZXRMb2coKS53YXJuKCJEZWZlcnJpbmcgbm90aWZpY2F0aW9uIHVudGlsIHVzZXIgZGVjaWRlcyB0byBhbGxvdyBvciBkZW55LiIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnF1ZXVlLnB1c2gocil9fSxuLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLl9zaG93UXVldWVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucXVldWUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fc2hvd0ltcGwodCl9KSk7cmV0dXJuIHRoaXMucXVldWU9W10sdH0sbi5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5fc2hvd0ltcGw9ZnVuY3Rpb24odCl7dmFyIG49bmV3IGUuTm90aWZpY2F0aW9uKHQudGl0bGUsdC5vcHRpb25zKTtyZXR1cm4gdC5vcHRpb25zLmNsaWNrZWQmJihuLm9uY2xpY2s9ZnVuY3Rpb24oKXt0Lm9wdGlvbnMuY2xpY2tlZC5jYWxsKG4pfSksbn0sbi5WYWx1ZUVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9ZS5zaGlmdCgpLHI9bmV3IEVycm9yKG4udnNwcmludGYodCxlKSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihyLG4uVmFsdWVFcnJvci5wcm90b3R5cGUpLHJ9LE9iamVjdC5zZXRQcm90b3R5cGVPZihuLlZhbHVlRXJyb3IucHJvdG90eXBlLEVycm9yLnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKG4uVmFsdWVFcnJvcixFcnJvciksbi5WYWx1ZUVycm9yLnByb3RvdHlwZS5uYW1lPSJWYWx1ZUVycm9yIixuLk5vdEltcGxlbWVudGVkRXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD1lLnNoaWZ0KCkscj1uZXcgRXJyb3Iobi52c3ByaW50Zih0LGUpKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHIsbi5Ob3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZSkscn0sT2JqZWN0LnNldFByb3RvdHlwZU9mKG4uTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUsRXJyb3IucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yobi5Ob3RJbXBsZW1lbnRlZEVycm9yLEVycm9yKSxuLk5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlLm5hbWU9Ik5vdEltcGxlbWVudGVkRXJyb3IiLG4uU3RhdGVFcnJvcj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PWUuc2hpZnQoKSxyPW5ldyBFcnJvcihuLnZzcHJpbnRmKHQsZSkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YocixuLlN0YXRlRXJyb3IucHJvdG90eXBlKSxyfSxPYmplY3Quc2V0UHJvdG90eXBlT2Yobi5TdGF0ZUVycm9yLnByb3RvdHlwZSxFcnJvci5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihuLlN0YXRlRXJyb3IsRXJyb3IpLG4uU3RhdGVFcnJvci5wcm90b3R5cGUubmFtZT0iU3RhdGVFcnJvciIsbi5Wb2ljZUlkRXJyb3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9O3JldHVybiByLnR5cGU9ZSxyLm1lc3NhZ2U9dCxyLnN0YWNrPUVycm9yKHQpLnN0YWNrLHIuZXJyPW4scn0sbi5pc0NDUD1mdW5jdGlvbigpe3JldHVybiEhbi5jb3JlLnVwc3RyZWFtJiYiQ29ubmVjdFNoYXJlZFdvcmtlckNvbmR1aXQiPT09bi5jb3JlLmdldFVwc3RyZWFtKCkubmFtZX0sbi5pc1NoYXJlZFdvcmtlcj1mdW5jdGlvbigpe3JldHVybiBuLndvcmtlciYmISFuLndvcmtlci5jbGllbnRFbmdpbmV9LG4uaXNDUk09ZnVuY3Rpb24oKXtyZXR1cm4hIW4uY29yZS51cHN0cmVhbSYmKG4uY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiBuLklGcmFtZUNvbmR1aXR8fG4uY29yZS5nZXRVcHN0cmVhbSgpaW5zdGFuY2VvZiBuLkdSUHJveHlJZnJhbWVDb25kdWl0KX0sbi5pc0FjdGl2ZUNvbmR1aXQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1uLmNvcmUuZ2V0VXBzdHJlYW0oKTtyZXR1cm4gdCBpbnN0YW5jZW9mIG4uR1JQcm94eUlmcmFtZUNvbmR1aXQ/ZS5uYW1lPT09dC5hY3RpdmVSZWdpb25Vcmw6KG4uZ2V0TG9nKCkuZGVidWcoImNvbm5lY3QuaXNBY3RpdmVDb25kdWl0IGlzIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gR1IgcHJveHkgY29uZHVpdCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITApfX0oKX0sMzU0OigpPT57ZnVuY3Rpb24gZShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdCh0KXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9lKE9iamVjdChvKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bih0LGUsb1tlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6ZShPYmplY3QobykpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBuKGUsdCxuKXtyZXR1cm4odD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT10eXBlb2YgZXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXR5cGVvZiByKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiB0P3Q6dCsiIn0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyxuPWUuY29ubmVjdHx8e307ZS5jb25uZWN0PW4sZS5saWx5PW4sbi53b3JrZXI9e307dmFyIHI9IkxBRFMuR2V0QWdlbnRGYWlsb3ZlckNvbmZpZ3VyYXRpb24iO2NvbnN0IG89e2NyZWF0ZVRhc2tDb250YWN0OiJjcmVhdGVUYXNrQ29udGFjdCIsY3JlYXRlT3V0Ym91bmRDb250YWN0OiJjcmVhdGVPdXRib3VuZENvbnRhY3QiLGNyZWF0ZVRlbXBsYXRlZFRhc2s6ImNyZWF0ZVRlbXBsYXRlZFRhc2sifTt2YXIgaT1mdW5jdGlvbigpe3RoaXMudG9waWNNYXN0ZXJNYXA9e319O2kucHJvdG90eXBlLmdldE1hc3Rlcj1mdW5jdGlvbihlKXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsInRvcGljIiksdGhpcy50b3BpY01hc3Rlck1hcFtlXXx8bnVsbH0saS5wcm90b3R5cGUuc2V0TWFzdGVyPWZ1bmN0aW9uKGUsdCl7bi5hc3NlcnROb3ROdWxsKGUsInRvcGljIiksbi5hc3NlcnROb3ROdWxsKHQsImlkIiksdGhpcy50b3BpY01hc3Rlck1hcFtlXT10fSxpLnByb3RvdHlwZS5yZW1vdmVNYXN0ZXI9ZnVuY3Rpb24oZSl7bi5hc3NlcnROb3ROdWxsKGUsImlkIik7dmFyIHQ9dGhpcztuLmVudHJpZXModGhpcy50b3BpY01hc3Rlck1hcCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT09PWV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZGVsZXRlIHQudG9waWNNYXN0ZXJNYXBbZS5rZXldfSkpfTt2YXIgcz1mdW5jdGlvbihlKXtuLkNsaWVudEJhc2UuY2FsbCh0aGlzKSx0aGlzLmNvbmR1aXQ9ZX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5DbGllbnRCYXNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXMscy5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bi5jb250YWluc1ZhbHVlKG4uQWdlbnRBcHBDbGllbnRNZXRob2RzLGUpP24uY29yZS5nZXRBZ2VudEFwcENsaWVudCgpLl9jYWxsSW1wbChlLHQse3N1Y2Nlc3M6ZnVuY3Rpb24obil7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksdCksci5zdWNjZXNzKG4pfSxmYWlsdXJlOmZ1bmN0aW9uKG4pe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLHQsbiksci5mYWlsdXJlKG4pfX0pOm4uY29udGFpbnNWYWx1ZShuLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzLGUpP24uY29yZS5nZXRUYXNrVGVtcGxhdGVzQ2xpZW50KCkuX2NhbGxJbXBsKGUsdCx7c3VjY2VzczpmdW5jdGlvbihuKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSx0KSxyLnN1Y2Nlc3Mobil9LGZhaWx1cmU6ZnVuY3Rpb24obil7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksdCxuKSxyLmZhaWx1cmUobil9fSk6bi5jb3JlLmdldENsaWVudCgpLl9jYWxsSW1wbChlLHQse3N1Y2Nlc3M6ZnVuY3Rpb24obixzKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSx0KSxyLnN1Y2Nlc3MobixzKX0sZmFpbHVyZTpmdW5jdGlvbihuLHMpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLHQsbiksci5mYWlsdXJlKG4scyl9LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKG4scyl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksdCxuKSxyLmF1dGhGYWlsdXJlKCl9LGFjY2Vzc0RlbmllZDpmdW5jdGlvbihuLHMpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLHQsbiksci5hY2Nlc3NEZW5pZWQmJnIuYWNjZXNzRGVuaWVkKCl9fSl9LHMucHJvdG90eXBlLl9yZWNvcmRBUElMYXRlbmN5PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXQ7dGhpcy5fc2VuZEFQSU1ldHJpY3MoZSxvLG4scil9LHMucHJvdG90eXBlLl9zZW5kQVBJTWV0cmljcz1mdW5jdGlvbihlLHIsaSxzKXtsZXQgYT17bmFtZTplLHRpbWU6cixlcnJvcjpzLGVycm9yNXh4OjB9O2NvbnN0IGM9W3tuYW1lOiJDYXRlZ29yeSIsdmFsdWU6IkFQSSJ9XSx1PXMmJnMuc3RhdHVzQ29kZXx8MjAwLGw9cyYmcy5yZXRyeVN0YXR1c3x8bi5SZXRyeVN0YXR1cy5OT05FLHA9W3tuYW1lOiJIdHRwU3RhdHVzQ29kZSIsdmFsdWU6dX0se25hbWU6Ikh0dHBHZW5lcmljU3RhdHVzQ29kZSIsdmFsdWU6IiIuY29uY2F0KHUudG9TdHJpbmcoKS5jaGFyQXQoMCksIlhYIil9LHtuYW1lOiJSZXRyeVN0YXR1cyIsdmFsdWU6bH1dO2lmKCI1Ij09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihhLmVycm9yNXh4PTEpLCI1Ij09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCk/YS5mYXVsdD0xOiIyIj09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihhLmZhdWx0PTApLG9bZV0mJmkmJmkucmVsYXRlZENvbnRhY3RJZCl7bGV0IHI9e25hbWU6IiIuY29uY2F0KGUsIldpdGhSZWxhdGVkQ29udGFjdElkIiksdGltZTphLnRpbWUsZXJyb3I6YS5lcnJvcixlcnJvcjV4eDphLmVycm9yNXh4fTt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuQVBJX01FVFJJQyx0KHQoe30scikse30se2RpbWVuc2lvbnM6YyxvcHRpb25hbERpbWVuc2lvbnM6cH0pKX10aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuQVBJX01FVFJJQyx0KHQoe30sYSkse30se2RpbWVuc2lvbnM6YyxvcHRpb25hbERpbWVuc2lvbnM6cH0pKX07dmFyIGE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMubXVsdGlwbGV4ZXI9bmV3IG4uU3RyZWFtTXVsdGlwbGV4ZXIsdGhpcy5jb25kdWl0PW5ldyBuLkNvbmR1aXQoIkFtYXpvbkNvbm5lY3RTaGFyZWRXb3JrZXIiLG51bGwsdGhpcy5tdWx0aXBsZXhlciksdGhpcy5jbGllbnQ9bmV3IHModGhpcy5jb25kdWl0KSx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmFnZW50PW51bGwsdGhpcy5uZXh0VG9rZW49bnVsbCx0aGlzLmluaXREYXRhPXt9LHRoaXMucG9ydENvbmR1aXRNYXA9e30sdGhpcy5zdHJlYW1NYXBCeVRhYklkPXt9LHRoaXMubWFzdGVyQ29vcmQ9bmV3IGksdGhpcy5sb2dzQnVmZmVyPVtdLHRoaXMuc3VwcHJlc3M9ITEsdGhpcy5mb3JjZU9mZmxpbmU9ITEsdGhpcy5sb25nUG9sbGluZ09wdGlvbnM9e2FsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlOiExLGFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZTohMX0sdGhpcy5kclBvbGxpbmdVcmw9bnVsbCx0aGlzLnRoaXNBcm49bnVsbCx0aGlzLm90aGVyQXJuPW51bGwsdGhpcy5wZW5kaW5nRmFpbG92ZXI9bnVsbDt2YXIgcj1udWxsO24ucm9vdExvZ2dlcj1uZXcgbi5Eb3duc3RyZWFtQ29uZHVpdExvZ2dlcih0aGlzLmNvbmR1aXQpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0obi5FdmVudFR5cGUuU0VORF9MT0dTLChmdW5jdGlvbihlKXtuLmdldExvZygpLnB1c2hMb2dzRG93bnN0cmVhbShlKSx0LmxvZ3NCdWZmZXI9dC5sb2dzQnVmZmVyLmNvbmNhdChlKSx0LmxvZ3NCdWZmZXIubGVuZ3RoPjQwMCYmdC5oYW5kbGVTZW5kTG9nc1JlcXVlc3QodC5sb2dzQnVmZmVyKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKG4uRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TVVBQUkVTUywoZnVuY3Rpb24oZSl7bi5nZXRMb2coKS5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBTZXR0aW5nIFN1cHByZXNzIHRvICVzIixlLnN1cHByZXNzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuc3VwcHJlc3M9ZS5zdXBwcmVzc3x8ITEsdC5zdXBwcmVzc3x8KHQuZm9yY2VPZmZsaW5lPSExKSwodm9pZCAwPT09ZS5zaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtfHxlLnNob3VsZFNlbmRGYWlsb3ZlckRvd25zdHJlYW0pJiZ0LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtpc1ByaW1hcnk6IXQuc3VwcHJlc3N9KX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKG4uRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLChmdW5jdGlvbihlKXtuLmdldExvZygpLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNldHRpbmcgRk9SQ0VfT0ZGTElORSB0byAlcyIsZS5vZmZsaW5lKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZm9yY2VPZmZsaW5lfHwodC5wZW5kaW5nRmFpbG92ZXI9ITEsdC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7aXNQcmltYXJ5OiExLG5leHRBY3RpdmVBcm46ZS5uZXh0QWN0aXZlQXJufSkpLHQuZm9yY2VPZmZsaW5lPWUub2ZmbGluZXx8ITF9KSksbi5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORyYmdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbShuLkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HLChmdW5jdGlvbihlKXt2YXIgcj1uLmdldExvZygpO3QuZHJQb2xsaW5nVXJsPyhyLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFkZGluZyBuZXcgQ0NQIHRvIGFjdGl2ZSByZWdpb24gcG9sbGluZyBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wb2xsRm9yQWN0aXZlUmVnaW9uKCEwLCExKSk6KHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbml0aWFsaXppbmcgYWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZvciBpbnN0YW5jZSAiLmNvbmNhdChlLmluc3RhbmNlQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnRoaXNBcm49ZS5pbnN0YW5jZUFybix0Lm90aGVyQXJuPWUub3RoZXJBcm4sdC5nZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwoKS50aGVuKChlPT57dC5kclBvbGxpbmdVcmw9ZSx0LnBvbGxGb3JBY3RpdmVSZWdpb24oITAsITApfSksKG49PntyLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybiwiOyBzdXBwcmVzc2luZyBjb250YWN0cyIpKS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5zdXBwcmVzcz0hMH0pKSl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbShuLkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKG8pe2NvbnNvbGUubG9nKCJAQEAgY29uZmlndXJlIGV2ZW50IGhhbmRsZXIiLG8pO3RyeXtvLmF1dGhUb2tlbiYmby5hdXRoVG9rZW4hPT10LmluaXREYXRhLmF1dGhUb2tlbiYmKHQuaW5pdERhdGE9byxuLmNvcmUuaW5pdChvKSxvLmxvbmdQb2xsaW5nT3B0aW9ucyYmKCJib29sZWFuIj09dHlwZW9mIG8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlJiYodC5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGU9by5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1NoYWRvd01vZGUpLCJib29sZWFuIj09dHlwZW9mIG8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZSYmKHQubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZT1vLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGUpKSxyP24uZ2V0TG9nKCkuaW5mbygiTm90IEluaXRpYWxpemluZyBhIG5ldyBXZWJzb2NrZXRNYW5hZ2VyIGluc3RhbmNlLCBzaW5jZSBvbmUgYWxyZWFkeSBleGlzdHMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOihuLmdldExvZygpLmluZm8oIkNyZWF0aW5nIGEgbmV3IFdlYnNvY2tldCBjb25uZWN0aW9uIGZvciBDQ1AiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uV2ViU29ja2V0TWFuYWdlci5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOm4uZ2V0TG9nKCksYWR2YW5jZWRMb2dXcml0ZXI6ImluZm8iLGxldmVsOjEwfX0pLChyPW4uV2ViU29ja2V0TWFuYWdlci5jcmVhdGUoKSkub25Jbml0RmFpbHVyZSgoZnVuY3Rpb24oKXt0LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFKX0pKSxyLm9uQ29ubmVjdGlvbk9wZW4oKGZ1bmN0aW9uKGUpe3QuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX09QRU4sZSl9KSksci5vbkNvbm5lY3Rpb25DbG9zZSgoZnVuY3Rpb24oZSl7dC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fQ0xPU0UsZSl9KSksci5vbkNvbm5lY3Rpb25HYWluKChmdW5jdGlvbigpe3QuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkFnZW50RXZlbnRzLldFQlNPQ0tFVF9DT05ORUNUSU9OX0dBSU5FRCksdC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uV2ViU29ja2V0RXZlbnRzLkNPTk5FQ1RJT05fR0FJTil9KSksci5vbkNvbm5lY3Rpb25Mb3N0KChmdW5jdGlvbihlKXt0LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9MT1NULGUpLHQuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0xPU1QsZSl9KSksci5vblN1YnNjcmlwdGlvblVwZGF0ZSgoZnVuY3Rpb24oZSl7dC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9VUERBVEUsZSl9KSksci5vblN1YnNjcmlwdGlvbkZhaWx1cmUoKGZ1bmN0aW9uKGUpe3QuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fRkFJTFVSRSxlKX0pKSxyLm9uQWxsTWVzc2FnZSgoZnVuY3Rpb24oZSl7dC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uV2ViU29ja2V0RXZlbnRzLkFMTF9NRVNTQUdFLGUpfSkpLHQuY29uZHVpdC5vbkRvd25zdHJlYW0obi5XZWJTb2NrZXRFdmVudHMuU0VORCwoZnVuY3Rpb24oZSl7ci5zZW5kTWVzc2FnZShlKX0pKSx0LmNvbmR1aXQub25Eb3duc3RyZWFtKG4uV2ViU29ja2V0RXZlbnRzLlNVQlNDUklCRSwoZnVuY3Rpb24oZSl7ci5zdWJzY3JpYmVUb3BpY3MoZSl9KSksci5pbml0KG4uaGl0Y2godCx0LmdldFdlYlNvY2tldFVybCkpLnRoZW4oKGZ1bmN0aW9uKHIpe3RyeXtpZihyJiYhci53ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkKW4uZ2V0TG9nKCkuaW5mbygiS2lja2luZyBvZmYgYWdlbnQgcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wb2xsRm9yQWdlbnQoKSxuLmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGNvbmZpZyBwb2xsaW5nIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24oe3JlcGVhdEZvcmV2ZXI6ITB9KSxuLmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGF1dGggdG9rZW4gcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZXRJbnRlcnZhbChuLmhpdGNoKHQsdC5jaGVja0F1dGhUb2tlbiksM2U1KTtlbHNlIGlmKCFuLndlYlNvY2tldEluaXRGYWlsZWQpe2NvbnN0IGU9bi5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFO3Rocm93IHQuY29uZHVpdC5zZW5kRG93bnN0cmVhbShlKSxuLndlYlNvY2tldEluaXRGYWlsZWQ9ITAsbmV3IEVycm9yKGUpfX1jYXRjaChlKXtuLmdldExvZygpLmVycm9yKCJXZWJTb2NrZXQgZmFpbGVkIHRvIGluaXRpYWxpemUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpKSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiQEBAIGVycm9yIixlKX19KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbShuLkV2ZW50VHlwZS5URVJNSU5BVEUsKGZ1bmN0aW9uKCl7dC5oYW5kbGVTZW5kTG9nc1JlcXVlc3QodC5sb2dzQnVmZmVyKSxuLmNvcmUudGVybWluYXRlKCksdC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLlRFUk1JTkFURUQpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0obi5FdmVudFR5cGUuU1lOQ0hST05JWkUsKGZ1bmN0aW9uKCl7dC5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLkFDS05PV0xFREdFKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKG4uRXZlbnRUeXBlLkJST0FEQ0FTVCwoZnVuY3Rpb24oZSl7dC5jb25kdWl0LnNlbmREb3duc3RyZWFtKGUuZXZlbnQsZS5kYXRhKX0pKSxlLm9uY29ubmVjdD1mdW5jdGlvbihlKXt2YXIgcj1lLnBvcnRzWzBdLG89bmV3IG4uUG9ydFN0cmVhbShyKTt0Lm11bHRpcGxleGVyLmFkZFN0cmVhbShvKSxyLnN0YXJ0KCk7dmFyIGk9bmV3IG4uQ29uZHVpdChvLmdldElkKCksbnVsbCxvKTtpLnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLkFDS05PV0xFREdFLHtpZDpvLmdldElkKCl9KSx0LnBvcnRDb25kdWl0TWFwW28uZ2V0SWQoKV09aSx0LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLHtsZW5ndGg6T2JqZWN0LmtleXModC5wb3J0Q29uZHVpdE1hcCkubGVuZ3RofSksbnVsbCE9PXQuYWdlbnQmJnQudXBkYXRlQWdlbnQoKSxpLm9uRG93bnN0cmVhbShuLkV2ZW50VHlwZS5BUElfUkVRVUVTVCxuLmhpdGNoKHQsdC5oYW5kbGVBUElSZXF1ZXN0LGkpKSxpLm9uRG93bnN0cmVhbShuLkV2ZW50VHlwZS5NQVNURVJfUkVRVUVTVCxuLmhpdGNoKHQsdC5oYW5kbGVNYXN0ZXJSZXF1ZXN0LGksby5nZXRJZCgpKSksaS5vbkRvd25zdHJlYW0obi5FdmVudFR5cGUuUkVMT0FEX0FHRU5UX0NPTkZJR1VSQVRJT04sbi5oaXRjaCh0LHQucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbikpLGkub25Eb3duc3RyZWFtKG4uRXZlbnRUeXBlLlRBQl9JRCxuLmhpdGNoKHQsdC5oYW5kbGVUYWJJZEV2ZW50LG8pKSxpLm9uRG93bnN0cmVhbShuLkV2ZW50VHlwZS5DTE9TRSxuLmhpdGNoKHQsdC5oYW5kbGVDbG9zZUV2ZW50LG8pKX19O2EucHJvdG90eXBlLnBvbGxGb3JBY3RpdmVSZWdpb249ZnVuY3Rpb24obyxpKXt2YXIgcz10aGlzLGE9bi5nZXRMb2coKTtpZighcy5kclBvbGxpbmdVcmwpdGhyb3cgbmV3IG4uU3RhdGVFcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBUcmllZCB0byBwb2xsIGZvciBhY3RpdmUgcmVnaW9uIHdpdGhvdXQgZmlyc3QgaW5pdGlhbGl6aW5nIERSIHBvbGxpbmcgaW4gdGhlIHdvcmtlci4iKTthLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFBvbGxpbmcgZm9yIGZhaWxvdmVyIHdpdGggcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQocy50aGlzQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gbi5mZXRjaFdpdGhUaW1lb3V0KHMuZHJQb2xsaW5nVXJsLDFlNCkuY2F0Y2goKGU9PntpZihlLnN0YXR1cyl7aWYocy5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjLHtzdGF0dXNDb2RlOmUuc3RhdHVzfSksW24uSFRUUF9TVEFUVVNfQ09ERVMuQUNDRVNTX0RFTklFRCxuLkhUVFBfU1RBVFVTX0NPREVTLlVOQVVUSE9SSVpFRF0uaW5jbHVkZXMoZS5zdGF0dXMpKXJldHVybiBhLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gQWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZhaWxlZDsgdHJ5aW5nIHRvIGdldCBhIG5ldyBVUkwgZm9yIHBvbGxpbmcuIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMuZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsKCkudGhlbigoZT0+e3MuZHJQb2xsaW5nVXJsPWV9KSkudGhlbigoKCk9PihjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG4uZmV0Y2hXaXRoVGltZW91dChzLmRyUG9sbGluZ1VybCwxZTQpKSkpO3ZhciB0PSJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBwb2xsIGZvciBmYWlsb3ZlciBmb3IgaW5zdGFuY2UgIi5jb25jYXQocy50aGlzQXJuLCIsICIpKyJyZWNlaXZlZCB1bmV4cGVjdGVkIHJlc3BvbnNlIGNvZGUgIi5jb25jYXQoZS5zdGF0dXMpO3Rocm93IGEuZXJyb3IodCkud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG5ldyBFcnJvcih0KX10aHJvdyB0PSJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBwb2xsIGZvciBmYWlsb3ZlciBmb3IgaW5zdGFuY2UgIi5jb25jYXQocy50aGlzQXJuLCIsIHJlcXVlc3QgdGltZWQgb3V0IG9yIGFib3J0ZWQiKSxzLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMse3N0YXR1c0NvZGU6LTF9KSxhLmVycm9yKHQpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuZXcgRXJyb3IodCl9KSkudGhlbigoZT0+e2lmKHMuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyksImJvb2xlYW4iPT10eXBlb2YgZS5UZXJtaW5hdGVBY3RpdmVDb250YWN0cyl7dmFyIHQ9IWUuVGVybWluYXRlQWN0aXZlQ29udGFjdHM7aWYoZS5JbnN0YW5jZUFybilpZihhLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFN1Y2Nlc3NmdWxseSBwb2xsZWQgZm9yIGFjdGl2ZSByZWdpb24uIFByaW1hcnkgaW5zdGFuY2UgQVJOIGlzICIuY29uY2F0KGUuSW5zdGFuY2VBcm4sIiAiKSsiYW5kIHNvZnQgZmFpbG92ZXIgaXMgIi5jb25jYXQodD8iZW5hYmxlZCI6ImRpc2FibGVkIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscy50aGlzQXJuPT09ZS5JbnN0YW5jZUFybiYmIXMuc3VwcHJlc3MmJm8pYS5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChzLnRoaXNBcm4sIiBpcyBiZWluZyBzZXQgdG8gcHJpbWFyeSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse25leHRBY3RpdmVBcm46ZS5JbnN0YW5jZUFybn0pO2Vsc2UgaWYocy5vdGhlckFybj09PWUuSW5zdGFuY2VBcm4pe2lmKCF0fHxpfHwhb3x8cy5zdXBwcmVzcyYmIXMucGVuZGluZ0ZhaWxvdmVyfHxzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtuZXh0QWN0aXZlQXJuOnMudGhpc0Fybn0pLCFzLnN1cHByZXNzKXtzLnN1cHByZXNzPSEwO2NvbnN0IHI9dCYmIWk7cj8ocy5wZW5kaW5nRmFpbG92ZXI9ITAsYS5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChzLnRoaXNBcm4sIiB3aWxsIGJlIHNldCB0byBzdGFuZC1ieSB1c2luZyBzb2Z0IGZhaWxvdmVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOmEuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgIi5jb25jYXQocy50aGlzQXJuLCIgaXMgYmVpbmcgc2V0IHRvIHN0YW5kLWJ5IGltbWVkaWF0ZWx5IikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscy5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLHtzb2Z0RmFpbG92ZXI6cixuZXh0QWN0aXZlQXJuOmUuSW5zdGFuY2VBcm59KX19ZWxzZVtzLnRoaXNBcm4scy5vdGhlckFybl0uaW5jbHVkZXMoZS5JbnN0YW5jZUFybil8fGEuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gVGhlIGN1cnJlbnQgcHJpbWFyeSBpbnN0YW5jZSBpbiB0aGlzIGFnZW50J3MgZmFpbG92ZXIgZ3JvdXAgIi5jb25jYXQoZS5JbnN0YW5jZUFybiwiICIpKyJkb2Vzbid0IG1hdGNoIHRoaXMgaW5zdGFuY2UgIi5jb25jYXQocy50aGlzQXJuLCIgb3IgdGhlIG90aGVyIGluc3RhbmNlICIpLmNvbmNhdChzLm90aGVyQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNlIGEuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gRFIgcG9sbGluZyByZXNwb25zZSBkaWQgbm90IGNvbnRhaW4gYSB0cnV0aHkgYWN0aXZlIGluc3RhbmNlIEFSTi4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSBhLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIERSIHBvbGxpbmcgcmVzcG9uc2UgZGlkIG5vdCBjb250YWluIGEgdmFsaWQgdmFsdWUgZm9yIFRlcm1pbmF0ZUFjdGl2ZUNvbnRhY3RzLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZT0+e2Uuc3RhdHVzJiZzLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMsdCh0KHt9LGUpLHt9LHtzdGF0dXNDb2RlOmUuc3RhdHVzfSkpLGEuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gQWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZhaWxlZCBmb3IgaW5zdGFuY2UgIi5jb25jYXQocy50aGlzQXJuLCIuIikpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5maW5hbGx5KCgoKT0+eyFpJiZvfHxlLnNldFRpbWVvdXQobi5oaXRjaChzLHMucG9sbEZvckFjdGl2ZVJlZ2lvbiksNmU0KX0pKX0sYS5wcm90b3R5cGUuZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKCh0LHIpPT57bi5nZXRMb2coKS5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEdldHRpbmcgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS50aGlzQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLmNsaWVudC5jYWxsKG4uQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHt0cmFuc3BvcnRUeXBlOm4uVFJBTlNQT1JUX1RZUEVTLkFHRU5UX0RJU0NPVkVSWX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZSYmZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydCYmZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydC5wcmVzaWduZWRVcmw/KG4uZ2V0TG9nKCkuaW5mbygiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdChlLmFnZW50RGlzY292ZXJ5VHJhbnNwb3J0LnByZXNpZ25lZFVybCkpOihuLmdldExvZygpLmluZm8oImdldFByZXNpZ25lZERpc2NvdmVyeVVybCByZWNlaXZlZCBlbXB0eS9pbnZhbGlkIGRhdGEiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihFcnJvcigiZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsIHJlY2VpdmVkIGVtcHR5L2ludmFsaWQgZGF0YSIpKSl9LGZhaWx1cmU6ZnVuY3Rpb24odCxvKXtuLmdldExvZygpLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS50aGlzQXJuKSkud2l0aEV4Y2VwdGlvbih0KS53aXRoT2JqZWN0KG8pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihuZXcgRXJyb3IoIkZhaWxlZCB0byBnZXQgcHJlc2lnbmVkIFVSTCIpKX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtuLmhpdGNoKGUsZS5oYW5kbGVBdXRoRmFpbCkoKSxyKG5ldyBFcnJvcigiRW5jb3VudGVyZWQgYXV0aCBmYWlsdXJlIHdoZW4gZ2V0dGluZyBwcmVzaWduZWQgVVJMIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtuLmhpdGNoKGUsZS5oYW5kbGVBY2Nlc3NEZW5pZWQpKCkscihuZXcgRXJyb3IoIkVuY291bnRlcmVkIGFjY2VzcyBkZW5pZWQgd2hlbiBnZXR0aW5nIHByZXNpZ25lZCBVUkwiKSl9fSl9KSl9LGEucHJvdG90eXBlLnBvbGxGb3JBZ2VudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj1uLmhpdGNoKHQsdC5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpO3RoaXMuY2xpZW50LmNhbGwobi5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TTkFQU0hPVCx7bmV4dFRva2VuOnQubmV4dFRva2VuLHRpbWVvdXQ6M2U0fSx7c3VjY2VzczpmdW5jdGlvbihyLG8pe3RyeXt0LmFnZW50PXQuYWdlbnR8fHt9LHQuYWdlbnQuc25hcHNob3Q9ci5zbmFwc2hvdCx0LmFnZW50LnNuYXBzaG90LmxvY2FsVGltZXN0YW1wPW4ubm93KCksdC5hZ2VudC5zbmFwc2hvdC5za2V3PXQuYWdlbnQuc25hcHNob3Quc25hcHNob3RUaW1lc3RhbXAtdC5hZ2VudC5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcCx0Lm5leHRUb2tlbj1yLm5leHRUb2tlbixvJiZvLmhhc093blByb3BlcnR5KCJjb250ZW50TGVuZ3RoIikmJih0LmFnZW50LnNuYXBzaG90LmNvbnRlbnRMZW5ndGg9by5jb250ZW50TGVuZ3RoKSxuLmdldExvZygpLnRyYWNlKCJHRVRfQUdFTlRfU05BUFNIT1Qgc3VjY2VlZGVkLiIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnVwZGF0ZUFnZW50KCl9Y2F0Y2goZSl7bi5nZXRMb2coKS5lcnJvcigiTG9uZyBwb2xsIGZhaWxlZCB0byB1cGRhdGUgYWdlbnQuIikud2l0aE9iamVjdChyKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZmluYWxseXtlLnNldFRpbWVvdXQobi5oaXRjaCh0LHQucG9sbEZvckFnZW50KSwxMDApfX0sZmFpbHVyZTpmdW5jdGlvbihyLG8pe3RyeXtuLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZ2V0IGFnZW50IGRhdGEuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6cixkYXRhOm99KX1maW5hbGx5e2Uuc2V0VGltZW91dChuLmhpdGNoKHQsdC5wb2xsRm9yQWdlbnQpLDVlMyl9fSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe3IoKX0sYWNjZXNzRGVuaWVkOm4uaGl0Y2godCx0LmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0sYS5wcm90b3R5cGUucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG89dHx8e30saT1uLmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpO3RoaXMuY2xpZW50LmNhbGwobi5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9DT05GSUdVUkFUSU9OLHt9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBpPXQuY29uZmlndXJhdGlvbjtyLnBvbGxGb3JBZ2VudFBlcm1pc3Npb25zKGkpLHIucG9sbEZvckFnZW50U3RhdGVzKGkpLHIucG9sbEZvckRpYWxhYmxlQ291bnRyeUNvZGVzKGkpLHIucG9sbEZvclJvdXRpbmdQcm9maWxlUXVldWVzKGkpLG8ucmVwZWF0Rm9yZXZlciYmZS5zZXRUaW1lb3V0KG4uaGl0Y2gocixyLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb24sbyksM2U0KX0sZmFpbHVyZTpmdW5jdGlvbih0LGkpe3RyeXtuLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgY29uZmlndXJhdGlvbiBkYXRhLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOnQsZGF0YTppfSl9ZmluYWxseXtvLnJlcGVhdEZvcmV2ZXImJmUuc2V0VGltZW91dChuLmhpdGNoKHIsci5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKSwzZTQsbyl9fSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe2koKX0sYWNjZXNzRGVuaWVkOm4uaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0sYS5wcm90b3R5cGUucG9sbEZvckFnZW50U3RhdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPXR8fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fG4uREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwobi5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TVEFURVMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yQWdlbnRTdGF0ZXMoZSx7c3RhdGVzOihvLnN0YXRlc3x8W10pLmNvbmNhdCh0LnN0YXRlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUuYWdlbnRTdGF0ZXM9KG8uc3RhdGVzfHxbXSkuY29uY2F0KHQuc3RhdGVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSx0KXtuLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgc3RhdGVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOnR9KX0sYXV0aEZhaWx1cmU6bi5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6bi5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxhLnByb3RvdHlwZS5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbz10fHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHxuLkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKG4uQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfUEVSTUlTU0lPTlMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucyhlLHtwZXJtaXNzaW9uczooby5wZXJtaXNzaW9uc3x8W10pLmNvbmNhdCh0LnBlcm1pc3Npb25zKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5wZXJtaXNzaW9ucz0oby5wZXJtaXNzaW9uc3x8W10pLmNvbmNhdCh0LnBlcm1pc3Npb25zKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSx0KXtuLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggYWdlbnQgcGVybWlzc2lvbnMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6dH0pfSxhdXRoRmFpbHVyZTpuLmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDpuLmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LGEucHJvdG90eXBlLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2Rlcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbz10fHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHxuLkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKG4uQ2xpZW50TWV0aG9kcy5HRVRfRElBTEFCTEVfQ09VTlRSWV9DT0RFUyx7bmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2RlcyhlLHtjb3VudHJ5Q29kZXM6KG8uY291bnRyeUNvZGVzfHxbXSkuY29uY2F0KHQuY291bnRyeUNvZGVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5kaWFsYWJsZUNvdW50cmllcz0oby5jb3VudHJ5Q29kZXN8fFtdKS5jb25jYXQodC5jb3VudHJ5Q29kZXMpLHIudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKGUpKX0sZmFpbHVyZTpmdW5jdGlvbihlLHQpe24uZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBmZXRjaCBkaWFsYWJsZSBjb3VudHJ5IGNvZGVzIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOnR9KX0sYXV0aEZhaWx1cmU6bi5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6bi5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxhLnByb3RvdHlwZS5wb2xsRm9yUm91dGluZ1Byb2ZpbGVRdWV1ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG89dHx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8bi5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbChuLkNsaWVudE1ldGhvZHMuR0VUX1JPVVRJTkdfUFJPRklMRV9RVUVVRVMse3JvdXRpbmdQcm9maWxlQVJOOmUucm91dGluZ1Byb2ZpbGUucm91dGluZ1Byb2ZpbGVBUk4sbmV4dFRva2VuOm8ubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbih0KXt0Lm5leHRUb2tlbj9yLnBvbGxGb3JSb3V0aW5nUHJvZmlsZVF1ZXVlcyhlLHtjb3VudHJ5Q29kZXM6KG8ucXVldWVzfHxbXSkuY29uY2F0KHQucXVldWVzKSxuZXh0VG9rZW46dC5uZXh0VG9rZW4sbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9KTooZS5yb3V0aW5nUHJvZmlsZS5xdWV1ZXM9KG8ucXVldWVzfHxbXSkuY29uY2F0KHQucXVldWVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSx0KXtuLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggcm91dGluZyBwcm9maWxlIHF1ZXVlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTp0fSl9LGF1dGhGYWlsdXJlOm4uaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOm4uaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0sYS5wcm90b3R5cGUuaGFuZGxlQVBJUmVxdWVzdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5jbGllbnQuY2FsbCh0Lm1ldGhvZCx0LnBhcmFtcyx7c3VjY2VzczpmdW5jdGlvbihyKXt2YXIgbz1uLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZShuLkV2ZW50VHlwZS5BUElfUkVTUE9OU0UsdCxyKTtlLnNlbmREb3duc3RyZWFtKG8uZXZlbnQsbyl9LGZhaWx1cmU6ZnVuY3Rpb24obyxpKXt2YXIgcz1uLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZShuLkV2ZW50VHlwZS5BUElfUkVTUE9OU0UsdCxpLEpTT04uc3RyaW5naWZ5KG8pKTtlLnNlbmREb3duc3RyZWFtKHMuZXZlbnQscyksbi5nZXRMb2coKS5lcnJvcigiJyVzJyBBUEkgcmVxdWVzdCBmYWlsZWQiLHQubWV0aG9kKS53aXRoT2JqZWN0KHtyZXF1ZXN0OnIuZmlsdGVyQXV0aFRva2VuKHQpLHJlc3BvbnNlOnN9KS53aXRoRXhjZXB0aW9uKG8pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGF1dGhGYWlsdXJlOm4uaGl0Y2gocixyLmhhbmRsZUF1dGhGYWlsLHthdXRob3JpemU6ITB9KX0pfSxhLnByb3RvdHlwZS5oYW5kbGVNYXN0ZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLmNvbmR1aXQsaT1udWxsO3N3aXRjaChyLm1ldGhvZCl7Y2FzZSBuLk1hc3Rlck1ldGhvZHMuQkVDT01FX01BU1RFUjp2YXIgcz10aGlzLm1hc3RlckNvb3JkLmdldE1hc3RlcihyLnBhcmFtcy50b3BpYyksYT1Cb29sZWFuKHMpJiZzIT09dDt0aGlzLm1hc3RlckNvb3JkLnNldE1hc3RlcihyLnBhcmFtcy50b3BpYyx0KSxpPW4uRXZlbnRGYWN0b3J5LmNyZWF0ZVJlc3BvbnNlKG4uRXZlbnRUeXBlLk1BU1RFUl9SRVNQT05TRSxyLHttYXN0ZXJJZDp0LHRha2VPdmVyOmEsdG9waWM6ci5wYXJhbXMudG9waWN9KSxhJiZvLnNlbmREb3duc3RyZWFtKGkuZXZlbnQsaSk7YnJlYWs7Y2FzZSBuLk1hc3Rlck1ldGhvZHMuQ0hFQ0tfTUFTVEVSOihzPXRoaXMubWFzdGVyQ29vcmQuZ2V0TWFzdGVyKHIucGFyYW1zLnRvcGljKSl8fHIucGFyYW1zLnNob3VsZE5vdEJlY29tZU1hc3RlcklmTm9uZXx8KHRoaXMubWFzdGVyQ29vcmQuc2V0TWFzdGVyKHIucGFyYW1zLnRvcGljLHQpLHM9dCksaT1uLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZShuLkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0Uscix7bWFzdGVySWQ6cyxpc01hc3Rlcjp0PT09cyx0b3BpYzpyLnBhcmFtcy50b3BpY30pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIG1hc3RlciBtZXRob2Q6ICIrci5tZXRob2QpfWUuc2VuZERvd25zdHJlYW0oaS5ldmVudCxpKX0sYS5wcm90b3R5cGUuaGFuZGxlVGFiSWRFdmVudD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e2xldCBvPXQudGFiSWQsaT1yLnN0cmVhbU1hcEJ5VGFiSWRbb10scz1lLmdldElkKCksYT1PYmplY3Qua2V5cyhyLnN0cmVhbU1hcEJ5VGFiSWQpLmZpbHRlcigoZT0+ci5zdHJlYW1NYXBCeVRhYklkW2VdLmxlbmd0aD4wKSkubGVuZ3RoO2lmKGkmJmkubGVuZ3RoPjApe2lmKCFpLmluY2x1ZGVzKHMpKXtyLnN0cmVhbU1hcEJ5VGFiSWRbb10ucHVzaChzKTtsZXQgZT17bGVuZ3RoOk9iamVjdC5rZXlzKHIucG9ydENvbmR1aXRNYXApLmxlbmd0aCx0YWJJZDpvLHN0cmVhbXNUYWJzQWNyb3NzQnJvd3NlcjphfTtlW29dPXtsZW5ndGg6aS5sZW5ndGh9LHIuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsZSl9fWVsc2V7ci5zdHJlYW1NYXBCeVRhYklkW29dPVtlLmdldElkKCldO2xldCB0PXtsZW5ndGg6T2JqZWN0LmtleXMoci5wb3J0Q29uZHVpdE1hcCkubGVuZ3RoLHRhYklkOm8sc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyOmErMX07dFtvXT17bGVuZ3RoOnIuc3RyZWFtTWFwQnlUYWJJZFtvXS5sZW5ndGh9LHIuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsdCl9fWNhdGNoKGUpe24uZ2V0TG9nKCkuZXJyb3IoIltUYWIgSWRzXSBJc3N1ZSB1cGRhdGluZyBjb25uZWN0ZWQgQ0NQcyB3aXRoaW4gdGhlIHNhbWUgdGFiIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0sYS5wcm90b3R5cGUuaGFuZGxlQ2xvc2VFdmVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QubXVsdGlwbGV4ZXIucmVtb3ZlU3RyZWFtKGUpLGRlbGV0ZSB0LnBvcnRDb25kdWl0TWFwW2UuZ2V0SWQoKV0sdC5tYXN0ZXJDb29yZC5yZW1vdmVNYXN0ZXIoZS5nZXRJZCgpKTtsZXQgcj17bGVuZ3RoOk9iamVjdC5rZXlzKHQucG9ydENvbmR1aXRNYXApLmxlbmd0aH0sbz1PYmplY3Qua2V5cyh0LnN0cmVhbU1hcEJ5VGFiSWQpO3RyeXtsZXQgbj1vLmZpbmQoKG49PnQuc3RyZWFtTWFwQnlUYWJJZFtuXS5pbmNsdWRlcyhlLmdldElkKCkpKSk7aWYobil7bGV0IG89dC5zdHJlYW1NYXBCeVRhYklkW25dLmZpbmRJbmRleCgodD0+ZS5nZXRJZCgpPT09dCkpO3Quc3RyZWFtTWFwQnlUYWJJZFtuXS5zcGxpY2UobywxKTtsZXQgaT10LnN0cmVhbU1hcEJ5VGFiSWRbbl0/dC5zdHJlYW1NYXBCeVRhYklkW25dLmxlbmd0aDowO3Jbbl09e2xlbmd0aDppfSxyLnRhYklkPW59bGV0IGk9by5maWx0ZXIoKGU9PnQuc3RyZWFtTWFwQnlUYWJJZFtlXS5sZW5ndGg+MCkpLmxlbmd0aDtyLnN0cmVhbXNUYWJzQWNyb3NzQnJvd3Nlcj1pfWNhdGNoKGUpe24uZ2V0TG9nKCkuZXJyb3IoIltUYWIgSWRzXSBJc3N1ZSB1cGRhdGluZyB0YWJJZC1zcGVjaWZpYyBzdHJlYW0gZGF0YSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX10LmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLHIpfSxhLnByb3RvdHlwZS51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSl7ZS5wZXJtaXNzaW9ucyYmZS5kaWFsYWJsZUNvdW50cmllcyYmZS5hZ2VudFN0YXRlcyYmZS5yb3V0aW5nUHJvZmlsZS5xdWV1ZXM/KHRoaXMuYWdlbnQ9dGhpcy5hZ2VudHx8e30sdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uPWUsdGhpcy51cGRhdGVBZ2VudCgpKTpuLmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCBjb25maWd1cmF0aW9uIHVudGlsIGFsbCBjb25maWcgZGF0YSBoYXMgYmVlbiBmZXRjaGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LGEucHJvdG90eXBlLnVwZGF0ZUFnZW50PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudD90aGlzLmFnZW50LnNuYXBzaG90P3RoaXMuYWdlbnQuY29uZmlndXJhdGlvbj8odGhpcy5hZ2VudC5zbmFwc2hvdC5zdGF0dXM9dGhpcy5hZ2VudC5zdGF0ZSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzJiZ0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmxlbmd0aD4xJiZ0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RhdGUudGltZXN0YW1wLmdldFRpbWUoKS10LnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCl9KSksdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXR1cz1lLnN0YXRlLGUuY29ubmVjdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5hZGRyZXNzPWUuZW5kcG9pbnR9KSl9KSksdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLmRlZmF1bHRPdXRib3VuZFF1ZXVlLnF1ZXVlSWQ9dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLmRlZmF1bHRPdXRib3VuZFF1ZXVlLnF1ZXVlQVJOLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5xdWV1ZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5xdWV1ZUlkPWUucXVldWVBUk59KSksdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnF1ZXVlJiYoZS5xdWV1ZS5xdWV1ZUlkPWUucXVldWUucXVldWVBUk4pfSkpLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkPXRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUFSTix0aGlzLnN1cHByZXNzJiYodGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cz10aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGUudHlwZT09bi5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRHx8ZS5zdGF0ZS50eXBlPT1uLkNvbnRhY3RTdGF0ZVR5cGUuRU5ERUR9KSksdGhpcy5mb3JjZU9mZmxpbmUmJnRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSkpLHRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkFnZW50RXZlbnRzLlVQREFURSx0aGlzLmFnZW50KSk6bi5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IGNvbmZpZ3VyYXRpb24gaXMgYXZhaWxhYmxlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6bi5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IHNuYXBzaG90IGlzIGF2YWlsYWJsZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOm4uZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IHVudGlsIHRoZSBhZ2VudCBoYXMgYmVlbiBmdWxseSBjb25zdHJ1Y3RlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxhLnByb3RvdHlwZS5nZXRXZWJTb2NrZXRVcmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bi5jb3JlLmdldENsaWVudCgpLHI9bi5oaXRjaChlLGUuaGFuZGxlQXV0aEZhaWwpLG89bi5oaXRjaChlLGUuaGFuZGxlQWNjZXNzRGVuaWVkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsaSl7dC5jYWxsKG4uQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHt0cmFuc3BvcnRUeXBlOm4uVFJBTlNQT1JUX1RZUEVTLldFQl9TT0NLRVR9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe24uZ2V0TG9nKCkuaW5mbygiZ2V0V2ViU29ja2V0VXJsIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZSh0KX0sZmFpbHVyZTpmdW5jdGlvbihlLHQpe24uZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6dH0pLGkoe3JlYXNvbjoiZ2V0V2ViU29ja2V0VXJsIGZhaWxlZCIsX2RlYnVnOmV9KX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtuLmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgQXV0aCBGYWlsdXJlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKEVycm9yKCJBdXRoZW50aWNhdGlvbiBmYWlsZWQgd2hpbGUgZ2V0dGluZyBnZXRXZWJTb2NrZXRVcmwiKSkscigpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtuLmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgQWNjZXNzIERlbmllZCBGYWlsdXJlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKEVycm9yKCJBY2Nlc3MgRGVuaWVkIEZhaWx1cmUgd2hpbGUgZ2V0dGluZyBnZXRXZWJTb2NrZXRVcmwiKSksbygpfX0pfSkpfSxhLnByb3RvdHlwZS5oYW5kbGVTZW5kTG9nc1JlcXVlc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W10scj1lLmxvZ3NCdWZmZXIuc2xpY2UoKTtlLmxvZ3NCdWZmZXI9W10sci5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goe3RpbWVzdGFtcDplLnRpbWUsY29tcG9uZW50OmUuY29tcG9uZW50LG1lc3NhZ2U6ZS50ZXh0fSl9KSksdGhpcy5jbGllbnQuY2FsbChuLkNsaWVudE1ldGhvZHMuU0VORF9DTElFTlRfTE9HUyx7bG9nRXZlbnRzOnR9LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe24uZ2V0TG9nKCkuaW5mbygiU2VuZExvZ3MgcmVxdWVzdCBzdWNjZWVkZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlLHQpe24uZ2V0TG9nKCkuZXJyb3IoIlNlbmRMb2dzIHJlcXVlc3QgZmFpbGVkLiIpLndpdGhPYmplY3QodCkud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxhdXRoRmFpbHVyZTpuLmhpdGNoKGUsZS5oYW5kbGVBdXRoRmFpbCl9KX0sYS5wcm90b3R5cGUuaGFuZGxlQXV0aEZhaWw9ZnVuY3Rpb24oZSl7ZT90aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuQVVUSF9GQUlMLGUpOnRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5BVVRIX0ZBSUwpfSxhLnByb3RvdHlwZS5oYW5kbGVQb2xsaW5nQXV0aEZhaWw9ZnVuY3Rpb24oKXt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuQ1RJX0FVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LGEucHJvdG90eXBlLmhhbmRsZUFjY2Vzc0RlbmllZD1mdW5jdGlvbigpe3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5BQ0NFU1NfREVOSUVEKX0sYS5wcm90b3R5cGUuY2hlY2tBdXRoVG9rZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IERhdGUoZS5pbml0RGF0YS5hdXRoVG9rZW5FeHBpcmF0aW9uKSxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3QuZ2V0VGltZSgpPHIrMThlNSYmKG4uZ2V0TG9nKCkuaW5mbygiQXV0aCB0b2tlbiBleHBpcmVzIGF0ICIrdCsiIFN0YXJ0IHJlZnJlc2hpbmcgdG9rZW4gd2l0aCByZXRyeS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uYmFja29mZihuLmhpdGNoKGUsZS5hdXRob3JpemUpLDFlNCw0KSl9LGEucHJvdG90eXBlLmF1dGhvcml6ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO24uY29yZS5hdXRob3JpemUodGhpcy5pbml0RGF0YS5hdXRob3JpemVFbmRwb2ludCkudGhlbigoZnVuY3Rpb24ocil7dmFyIG89bmV3IERhdGUoci5leHBpcmF0aW9uKTtuLmdldExvZygpLmluZm8oIkF1dGhvcml6YXRpb24gc3VjY2VlZGVkIGFuZCB0aGUgdG9rZW4gZXhwaXJlcyBhdCAlcyIsbykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmluaXREYXRhLmF1dGhUb2tlbj1yLmFjY2Vzc1Rva2VuLHQuaW5pdERhdGEuYXV0aFRva2VuRXhwaXJhdGlvbj1vLG4uY29yZS5pbml0Q2xpZW50KHQuaW5pdERhdGEpLG4uY29yZS5pbml0QWdlbnRBcHBDbGllbnQodC5pbml0RGF0YSksZS5zdWNjZXNzKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHIpe24uZ2V0TG9nKCkuZXJyb3IoIkF1dGhvcml6YXRpb24gZmFpbGVkIHdpdGggY29kZSAlcyIsci5zdGF0dXMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksNDAxPT09ci5zdGF0dXM/dC5oYW5kbGVBdXRoRmFpbCgpOmUuZmFpbHVyZSgpfSkpfSxhLnByb3RvdHlwZS5maWx0ZXJBdXRoVG9rZW49ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpaWYoInBhcmFtcyI9PT1uKXt2YXIgcj17fTtmb3IodmFyIG8gaW4gZS5wYXJhbXMpImF1dGhlbnRpY2F0aW9uIiE9PW8mJihyW29dPWUucGFyYW1zW29dKTt0LnBhcmFtcz1yfWVsc2UgdFtuXT1lW25dO3JldHVybiB0fSxuLndvcmtlci5tYWluPWZ1bmN0aW9uKCl7bi53b3JrZXIuY2xpZW50RW5naW5lPW5ldyBhfX0oKX0sMTgxOihlLHQsbik9Pnt2YXIgcj0vXlxzK3xccyskL2csbz0vXlstK10weFswLTlhLWZdKyQvaSxpPS9eMGJbMDFdKyQvaSxzPS9eMG9bMC03XSskL2ksYT1wYXJzZUludCxjPSJvYmplY3QiPT10eXBlb2Ygbi5nJiZuLmcmJm4uZy5PYmplY3Q9PT1PYmplY3QmJm4uZyx1PSJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbD1jfHx1fHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpLHA9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxkPU1hdGgubWF4LGg9TWF0aC5taW4sZz1mdW5jdGlvbigpe3JldHVybiBsLkRhdGUubm93KCl9O2Z1bmN0aW9uIGYoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoIm9iamVjdCI9PXR8fCJmdW5jdGlvbiI9PXQpfWZ1bmN0aW9uIG0oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGZ1bmN0aW9uKGUpe3JldHVybiJzeW1ib2wiPT10eXBlb2YgZXx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYib2JqZWN0Ij09dHlwZW9mIGV9KGUpJiYiW29iamVjdCBTeW1ib2xdIj09cC5jYWxsKGUpfShlKSlyZXR1cm4gTmFOO2lmKGYoZSkpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPWYodCk/dCsiIjp0fWlmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShyLCIiKTt2YXIgbj1pLnRlc3QoZSk7cmV0dXJuIG58fHMudGVzdChlKT9hKGUuc2xpY2UoMiksbj8yOjgpOm8udGVzdChlKT9OYU46K2V9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGkscyxhLGMsdT0wLGw9ITEscD0hMSx2PSEwO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIkV4cGVjdGVkIGEgZnVuY3Rpb24iKTtmdW5jdGlvbiB5KHQpe3ZhciBuPXIsaT1vO3JldHVybiByPW89dm9pZCAwLHU9dCxzPWUuYXBwbHkoaSxuKX1mdW5jdGlvbiBiKGUpe3ZhciBuPWUtYztyZXR1cm4gdm9pZCAwPT09Y3x8bj49dHx8bjwwfHxwJiZlLXU+PWl9ZnVuY3Rpb24gUygpe3ZhciBlPWcoKTtpZihiKGUpKXJldHVybiBDKGUpO2E9c2V0VGltZW91dChTLGZ1bmN0aW9uKGUpe3ZhciBuPXQtKGUtYyk7cmV0dXJuIHA/aChuLGktKGUtdSkpOm59KGUpKX1mdW5jdGlvbiBDKGUpe3JldHVybiBhPXZvaWQgMCx2JiZyP3koZSk6KHI9bz12b2lkIDAscyl9ZnVuY3Rpb24gRSgpe3ZhciBlPWcoKSxuPWIoZSk7aWYocj1hcmd1bWVudHMsbz10aGlzLGM9ZSxuKXtpZih2b2lkIDA9PT1hKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdT1lLGE9c2V0VGltZW91dChTLHQpLGw/eShlKTpzfShjKTtpZihwKXJldHVybiBhPXNldFRpbWVvdXQoUyx0KSx5KGMpfXJldHVybiB2b2lkIDA9PT1hJiYoYT1zZXRUaW1lb3V0KFMsdCkpLHN9cmV0dXJuIHQ9bSh0KXx8MCxmKG4pJiYobD0hIW4ubGVhZGluZyxpPShwPSJtYXhXYWl0ImluIG4pP2QobShuLm1heFdhaXQpfHwwLHQpOmksdj0idHJhaWxpbmciaW4gbj8hIW4udHJhaWxpbmc6diksRS5jYW5jZWw9ZnVuY3Rpb24oKXt2b2lkIDAhPT1hJiZjbGVhclRpbWVvdXQoYSksdT0wLHI9Yz1vPWE9dm9pZCAwfSxFLmZsdXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWE/czpDKGcoKSl9LEV9fX0sdD17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPXRbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPXRbcl09e2V4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiBuLmQodCx7YTp0fSksdH0sbi5kPShlLHQpPT57Zm9yKHZhciByIGluIHQpbi5vKHQscikmJiFuLm8oZSxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6dFtyXX0pfSxuLmc9ZnVuY3Rpb24oKXtpZigib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChlKXtpZigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdylyZXR1cm4gd2luZG93fX0oKSxuLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLG4ucj1lPT57InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbigxNjcpLG4oMjU0KSxuKDM0NCksbigxNDQpLG4oNjApLG4oNjgyKSxuKDQzMSksbig1NTUpLG4oODMwKSxuKDQxNCksbig2MTApLG4oOTUpLG4oMzk5KSxuKDkwNiksbig4MDYpLG4oMzU0KSxuKDE0Miksbig4ODQpLG4oMzkwKSxuKDI2OSksbig4MjUpLG4oOTYxKSxuKDk0OSl9KSgpOw==";
  var LATEST_STREAMJS_CODE = window.atob(LATEST_STREAMJS_BASE64_CODE);
  const REGION_STRING_DELIMITER = '.';


  /**
   Connect instance container
   It holds the connect api context within an iframe window.

   usage:
   var newContainer = new Container({ccpUrl: "bla", ...})
   */
  var Container = function(resource) {
    this.id = resource.region;
    resource.region = this._normalizeRegionString(resource.region);
    this.height = resource.height;
    this.style = resource.iframe_style;
    this.ccp = this._createFramedCcp(resource);
  };

  Container.prototype._createFramedCcp = function (resource) {
    var permission = permission || "microphone; autoplay; clipboard-write";
    var style = this.style || FRAME_DIMENSIONS;
    var iframe = document.createElement('iframe');
    iframe.srcdoc = this.getContent(resource);
    iframe.allow = permission;
    iframe.id = this.id;
    iframe.style = style;
    iframe.scrolling = "no";
    return iframe;
  };

  Container.prototype.getContent = function(params) {
    return [
      "<!DOCTYPE html>",
      "<meta charset='UTF-8'>",
      "<html>",
        "<head>",
          "<script type='text/javascript'>",
            LATEST_STREAMJS_CODE,
          "</script>",
          "<style>",
            "html, body, iframe { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}",
          "</style>",
        "</head>",
        "<body>",
          "<div id=containerDiv style='width: 100%;height: 100%;'></div>",
          "<script type='text/javascript'>",
            "function init() {",
              "connect.core.initCCP(containerDiv," + JSON.stringify(params) + ");",
            "}",
          "</script>",
        "</body>",
      "</html>"
    ].join('');
  };

  /**
   * Helper function to retrieve the actual region from a region string that may contain a delimiter
   * e.g. "us-east-1.instance0" -> "us-east-1"
   */
  Container.prototype._normalizeRegionString = function(regionString) {
    const delimiterIndex = regionString.indexOf(REGION_STRING_DELIMITER);
    if (delimiterIndex === -1) {
      return regionString;
    } else {
      return regionString.substring(0, delimiterIndex);
    }
  }

  globalConnect.Container = Container;
})();

/***/ }),

/***/ 96:
/***/ (() => {

/*
 * Copyright 2014-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 *
 * Note: load utils before core.js
 */

(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  var globalConnect = global.globalConnect || {};
  global.connect = connect;
  global.globalConnect = globalConnect;
  global.lily = connect;

  globalConnect.core = {};

  var IFRAME_STYLE = "margin: 0; border: 0; padding:0px;width: 0px;height: 0px";
  var GLOBALIFRAME_STYLE =
    "margin: 0; border: 0; padding:0px;width: 100%;height: 100%";
  var GLOBALIFRAME_ID = "globalCCP";
  var DIV_DEFAULT_HEIGHT = {
    height: "465px",
  };

  globalConnect.extractCcpRegionParams = function (globalContainerDiv, paramsIn) {
    connect.assertNotNull(paramsIn.standByRegion, "ccpBackupResource");
    connect.assertNotNull(paramsIn.standByRegion.ccpUrl, "ccpUrl");
    connect.assertNotNull(paramsIn.standByRegion.region, "region");
    if (paramsIn.pollForFailover) {
      connect.assertNotNull(paramsIn.loginUrl, "loginUrl");
      connect.assertNotNull(paramsIn.instanceArn, "primary ARN");
      paramsIn.otherArn = connect.assertNotNull(paramsIn.standByRegion.instanceArn, "backup ARN");
    }

    var regionAParams = paramsIn;
    var regionBParams = Object.assign({}, paramsIn, {
      ccpUrl: paramsIn.standByRegion.ccpUrl,
      region: paramsIn.standByRegion.region,
      instanceArn: paramsIn.standByRegion.instanceArn,
      otherArn: paramsIn.instanceArn,
      loginPopup: false
    });

    var divStyle = extractDivStyle(globalContainerDiv);

    if (parseInt(divStyle.height) <= 0) {
      globalContainerDiv.style.height = DIV_DEFAULT_HEIGHT.height; // populating ccp
      divStyle.height = DIV_DEFAULT_HEIGHT.height;
    }

    return [regionAParams, regionBParams].map(function (params) {
      connect.assertNotNull(params.ccpUrl, "ccpUrl");
      connect.assertNotNull(params.region, "region");
      delete params.standByRegion;
      //signal CCP as part of a disaster recovery fleet
      params.disasterRecoveryOn = true;
      params.iframe_style = IFRAME_STYLE;
      params.height = divStyle.height;
      return params;
    });
  };

  var extractDivStyle = function (globalContainerDiv) {
    var style = window.getComputedStyle(globalContainerDiv);
    return {
      height: style.getPropertyValue("height"),
      width: style.getPropertyValue("width"),
      display: style.getPropertyValue("display"),
    };
  };

  var validateRegion = function (region, availableRegions) {
    connect.assertTrue(
      typeof region == "string",
      "Region provided " + region + " is not a valid string"
    );
    var regions = availableRegions || globalConnect.core.regions;
    if (!regions.hasOwnProperty(region)) {
      var message = "Region provided " + region + " is not found!";
      throw new connect.ValueError(message);
    }
  };

  /**
   * Particular to DR, the getPrimaryRegion paramsIn field is new, and required. It returns a promise that is resolved once the CCP and namespace are successfully initialized.
   * It is recommended that you do not attempt to use the connect object before this promise is resolved.
   * @param {object} globalContainerDiv -- The container div for the active and secondary CCPs for use with DR.
   * @param {object} paramsIn -- Identical to connect.core.initCCP's paramsIn, save for one additional param.
   * @param {getPrimaryRegionCallback} paramsIn.getPrimaryRegion -- Required. A callback function that returns a promise that is resolved once the CCP and namespace are successfully initialized.
   */
  globalConnect.core.initCCP = function (globalContainerDiv, paramsIn) {
    connect.assertNotNull(paramsIn.getPrimaryRegion, "getPrimaryRegion");
    connect.assertTrue(
      connect.isFunction(paramsIn.getPrimaryRegion),
      "getPrimaryRegion must be a function"
    );
    var getPrimaryRegionFunc = paramsIn.getPrimaryRegion;
    delete paramsIn.getPrimaryRegion;
    delete paramsIn.provider;
    delete paramsIn.plugins;

    var dualCcpResources = globalConnect.extractCcpRegionParams(globalContainerDiv, paramsIn);
    getPrimaryRegionFunc(
      function (primaryRegion) {
        return new Promise(resolve => {
          var initialRegion;
          if (paramsIn.pollForFailover) { // allow getPrimaryRegion function to pass a missing/untruthy region, if polling is enabled
            initialRegion = primaryRegion || paramsIn.region;
          } else {
            initialRegion = connect.assertNotNull(primaryRegion);
          }
          globalConnect.core.regions = dualCcpResources.reduce(function (obj, resource) {
            obj[resource.region] = { ccpParams: resource };
            return obj;
          }, {});
          var arnToRegionMap = dualCcpResources.reduce(function (obj, resource) {
            obj[resource.instanceArn] = resource.region;
            return obj;
          }, {});
          validateRegion(initialRegion, globalConnect.core.regions);
          globalConnect.core.primaryRegion = initialRegion;
          globalConnect.core.secondaryRegion = Object.keys(globalConnect.core.regions).find(function (
            region
          ) {
            return region != globalConnect.core.primaryRegion;
          });

          var containers = dualCcpResources.map(function (resource) {
            if (resource.region === globalConnect.core.primaryRegion) {
              resource.isPrimary = true;
            }
            return new globalConnect.Container(resource);
          });

          //Create global Iframe and attach ccp containers
          var ccpIframes = containers.map(function (container) {
            return container.ccp.outerHTML;
          });
          var globalIframe = document.createElement("iframe");
          globalIframe.style = GLOBALIFRAME_STYLE;
          globalIframe.allow = "microphone; camera; autoplay; clipboard-write; identity-credentials-get";
          globalIframe.id = GLOBALIFRAME_ID;
          globalIframe.scrolling = "no";

          // surface single instance connect api in main window
          globalIframe.onload = function () {
            activateUI(globalConnect.core.primaryRegion);
            deactivateUI(globalConnect.core.secondaryRegion);
            containers.map(function (container) {
              var regionalFrame = globalIframe.contentDocument.getElementById(container.id);
              var contentDocument = regionalFrame.contentDocument;
              var contentWindow = regionalFrame.contentWindow;
              // inject additionalScripts if specified
              if (paramsIn.additionalScripts && Array.isArray(paramsIn.additionalScripts)) {
                paramsIn.additionalScripts.forEach(script => {
                  var scriptElt = contentDocument.createElement('script');
                  scriptElt.src = script;
                  contentDocument.body.appendChild(scriptElt);
                });
              }
              // trigger initCCP
              contentWindow.init();
              var regionalConnect = contentWindow.connect;
              globalConnect.core.regions[container.id].connect = regionalConnect;
              //listen to failover state change from other window
              regionalConnect.core.getUpstream().onUpstream(regionalConnect.DisasterRecoveryEvents.FAILOVER, function (data) {
                if (data.nextActiveArn && globalConnect.core.secondaryRegion === arnToRegionMap[data.nextActiveArn]) {
                  switchDisplayedRegion(arnToRegionMap[data.nextActiveArn], globalConnect.core.primaryRegion);
                } else if (data.isPrimary === false && container.id === globalConnect.core.primaryRegion) {
                  switchDisplayedRegion(globalConnect.core.secondaryRegion, container.id);
                } else {
                  return; // failover request ignored
                }
                delete globalConnect._failoverPending;
                globalConnect._triggerFailoverCompleteHandlers({
                  activeRegion: globalConnect.core.primaryRegion,
                  activeCcpUrl: globalConnect.core.regions[globalConnect.core.primaryRegion].ccpParams.ccpUrl
                });
              });
              regionalConnect.core.getUpstream().onUpstream(regionalConnect.DisasterRecoveryEvents.FAILOVER_PENDING, function ({nextActiveArn}) {
                if (!globalConnect._failoverPending) {
                  globalConnect._triggerFailoverPendingHandlers({nextActiveArn});
                  globalConnect._failoverPending = true;
                }
              });
              if (container.id === globalConnect.core.primaryRegion) {
                window.connect = regionalConnect;
              }
              globalConnect._triggerInitHandlers(regionalConnect, container.id);
            });
            resolve(globalConnect.core.regions[globalConnect.core.primaryRegion].connect);
          };
          globalIframe.srcdoc = [
            "<!DOCTYPE html>",
            "<meta charset='UTF-8'>",
            "<html>",
              "<head>",
                "<style>",
                  "html, body { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}",
                "</style>",
              "</head>",
              "<body>",
              ccpIframes.join(""),
              "</body>",
            "</html>",
          ].join('');
          globalContainerDiv.appendChild(globalIframe);
        });
      },
      function (callback) {
        console.error(
          "[Disaster Recovery] An error occured, while attempting to retrieve your primary region;"
        );
        callback();
      }
    );
  };

  var switchDisplayedRegion = function(newPrimaryRegionId, newSecondaryRegionId) {
    globalConnect.core.primaryRegion = newPrimaryRegionId;
    globalConnect.core.secondaryRegion = newSecondaryRegionId;
    window.connect = globalConnect.core.regions[newPrimaryRegionId].connect;
    globalConnect.core.activate(newPrimaryRegionId);
    activateUI(newPrimaryRegionId);
    deactivateUI(newSecondaryRegionId);
  }

  var deactivateUI = function (regionID) {
    var renderedGlobalIframe = document.getElementById(GLOBALIFRAME_ID);
    renderedGlobalIframe.contentDocument.getElementById(regionID).style =
      "height: 0; width: 0; border: 0px";
  };

  var activateUI = function (regionID) {
    var renderedGlobalIframe = document.getElementById(GLOBALIFRAME_ID);
    renderedGlobalIframe.contentDocument.getElementById(regionID).style =
      "height:100%;width:100%;border:0px";
  };

  /**
   * Register a function to be triggered after globalConnect.core.initCCP() is invoked, and once the
   * Global Resiliency setup has been successfully initialized on the page and agents are able to begin
   * taking contacts. If you wish, you can set up hooks using this function before calling globalConnect.core.initCCP().
   *
   * @param f A function that will be triggered when the Global Resiliency setup has been
   * successfully initialized on the page and agents are able to begin taking contacts.
   *     The function will be called twice (once for each Connect instance in the setup), with two parameters:
   *     1. The Streams API object (the connect object) for one of the Connect instances in the Global Resiliency setup
   *     2. A string parameter with the AWS region associated with the Connect instance whose Streams API object
   *        was provided in the first parameter.
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onInit = function(f) {
    globalConnect.core._onInitHandlers = globalConnect.core._onInitHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._onInitHandlers[subId] = f;
    return () => delete globalConnect.core._onInitHandlers[subId];
  }

  globalConnect._triggerInitHandlers = function(connect, region) {
    const handlers = globalConnect.core._onInitHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(connect, region));
    }
  }

  /**
   * Register a function to be triggered when the UI changes to display a different region, and agents are able to
   * begin taking contacts in the new CCP region. If automatic region selection is in use for this multi-region setup,
   * this function will also be triggered when CCP is initialized and ready for use, if the region provided to the `getPrimaryRegion`
   * callback is not the currently active region for the agent.
   *
   * @param f A function that will be triggered when the UI changes to show CCP for a different region.
   *     The function will be called with an Object parameter with two properties:
   *     1. `activeRegion`: the string name of the AWS region for the newly-active CCP instance
   *     2. `activeCcpUrl`: the value of the `ccpUrl` parameter for the newly-active instance,
   *         as originally provided in the `initCCP()` parameters
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onFailoverComplete = function(f) {
    globalConnect.core._failoverCompleteHandlers = globalConnect.core._failoverCompleteHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._failoverCompleteHandlers[subId] = f;
    return () => delete globalConnect.core._failoverCompleteHandlers[subId];
  }

  globalConnect._triggerFailoverCompleteHandlers = function(data) {
    const handlers = globalConnect.core._failoverCompleteHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(data));
    }
  }

  /**
   * Register a function to be triggered when an active region change has been detected, when soft failover is enabled and
   * a voice contact is active. The UI will wait to change over to the new region until the active voice contact is destroyed.
   *
   * @param f A function that will be triggered when a soft failover has been scheduled to occur when the active voice contact is destroyed.
   *     The function will be called with an Object parameter with one property:
   *     1. `nextActiveArn`: the ARN of the Connect instance that will become active in the UI once the active voice contact is destroyed.
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onFailoverPending = function(f) {
    globalConnect.core._failoverPendingHandlers = globalConnect.core._failoverPendingHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._failoverPendingHandlers[subId] = f;
    return () => delete globalConnect.core._failoverPendingHandlers[subId];
  }

  globalConnect._triggerFailoverPendingHandlers = function(data) {
    const handlers = globalConnect.core._failoverPendingHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(data));
    }
  }

  /**
   * Download CCP agent logs from the CCP instances in this multi-region setup. A separate log file
   * will be produced for each instance. The options are the same as for `connect.getLog().download()`,
   * except each log name will be prefixed with the AWS region associated with that log's Connect instance.
   *
   * @param options Optional parameter of type Object, providing Download options:
   *     { logName: 'agent-log', // (the default name)
   *       filterByLogLevel: false // download all logs (the default)
   *     }
   *     e.g. in a multi-region setup with one CCP instance in us-west-2 and another in us-east-1, this will
   *     download two files: us-west-2-agent-log.txt and us-east-1-agent-log.txt.
   */
  globalConnect.core.downloadLogs = function(options) {
    if (globalConnect.core.regions && globalConnect.core.regions[globalConnect.core.primaryRegion]
        && globalConnect.core.regions[globalConnect.core.primaryRegion].connect) {
      Object.entries(globalConnect.core.regions).forEach(([region, {connect}]) => {
        const logName = `${region}-${options && options.logName || 'agent-log'}`;
        connect.getLog().download({logName, filterByLogLevel: options && options.filterByLogLevel});
      });
    } else {
      throw new Error("CCP is not initialized yet. Please call initCCP() first and wait until the getPrimaryRegion promise resolves.");
    }
  };

  globalConnect.core.failover = function (useSoftFailover) {
    globalConnect.core.failoverTo(globalConnect.core.secondaryRegion, useSoftFailover);
  };

  globalConnect.core.failoverTo = function (electedNewPrimaryRegion, useSoftFailover) {
    validateRegion(electedNewPrimaryRegion);
    if (electedNewPrimaryRegion === globalConnect.core.primaryRegion) {
      connect
        .getLog()
        .info(`[Disaster Recovery] Ignoring request to fail over to region ${electedNewPrimaryRegion} since it is already the currently active region.`)
        .sendInternalLogToServer();
    } else {
      globalConnect.core.deactivate(globalConnect.core.primaryRegion, useSoftFailover);
    }
  };

  /**-------------------------------------------------------------------------
   * Deactivates a region
   */
   globalConnect.core.deactivate = function (region, useSoftFailover) {
    var connect = globalConnect.core.regions[region].connect;
    connect
      .getLog()
      .info("[Disaster Recovery] Deactivating %s region.", region)
      .sendInternalLogToServer();
    // call this to suppress contacts
    if (connect.core.suppressContacts && connect.core.forceOffline) {
      connect.core.suppressContacts(true);
      connect.core.forceOffline({softFailover: useSoftFailover});
    } else {
      connect.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to deactivate region", region);
    }
  };

  /**-------------------------------------------------------------------------
   * Activates Stand-by region on failover using suppress==false event
   */
   globalConnect.core.activate = function (region) {
    var connect = globalConnect.core.regions[region].connect;
    connect
      .getLog()
      .info("[Disaster Recovery] Activating %s region.", region)
      .sendInternalLogToServer();
    if (connect.core.suppressContacts) {
      connect.core.suppressContacts(false);
    } else {
      connect.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to activate region", region);
    }
  };
})();

/***/ }),

/***/ 236:
/***/ (function() {

/*
 * JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

/* global define */

/* eslint-disable strict */

;(function ($) {
	var ctx = this || globalThis;

  /**
   * Add integers, wrapping at 2^32.
   * This uses 16-bit operations internally to work around bugs in interpreters.
   *
   * @param {number} x First integer
   * @param {number} y Second integer
   * @returns {number} Sum
   */
  function safeAdd(x, y) {
    var lsw = (x & 0xffff) + (y & 0xffff)
    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)
    return (msw << 16) | (lsw & 0xffff)
  }

  /**
   * Bitwise rotate a 32-bit number to the left.
   *
   * @param {number} num 32-bit number
   * @param {number} cnt Rotation count
   * @returns {number} Rotated number
   */
  function bitRotateLeft(num, cnt) {
    return (num << cnt) | (num >>> (32 - cnt))
  }

  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} q q
   * @param {number} a a
   * @param {number} b b
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5cmn(q, a, b, x, s, t) {
    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5ff(a, b, c, d, x, s, t) {
    return md5cmn((b & c) | (~b & d), a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5gg(a, b, c, d, x, s, t) {
    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5hh(a, b, c, d, x, s, t) {
    return md5cmn(b ^ c ^ d, a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5ii(a, b, c, d, x, s, t) {
    return md5cmn(c ^ (b | ~d), a, b, x, s, t)
  }

  /**
   * Calculate the MD5 of an array of little-endian words, and a bit length.
   *
   * @param {Array} x Array of little-endian words
   * @param {number} len Bit length
   * @returns {Array<number>} MD5 Array
   */
  function binlMD5(x, len) {
    /* append padding */
    x[len >> 5] |= 0x80 << len % 32
    x[(((len + 64) >>> 9) << 4) + 14] = len

    var i
    var olda
    var oldb
    var oldc
    var oldd
    var a = 1732584193
    var b = -271733879
    var c = -1732584194
    var d = 271733878

    for (i = 0; i < x.length; i += 16) {
      olda = a
      oldb = b
      oldc = c
      oldd = d

      a = md5ff(a, b, c, d, x[i], 7, -680876936)
      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)
      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)
      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)
      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)
      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)
      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)
      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)
      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)
      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)
      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)
      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)
      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)
      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)
      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)
      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)

      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)
      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)
      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)
      b = md5gg(b, c, d, a, x[i], 20, -373897302)
      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)
      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)
      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)
      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)
      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)
      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)
      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)
      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)
      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)
      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)
      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)
      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)

      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)
      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)
      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)
      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)
      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)
      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)
      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)
      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)
      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)
      d = md5hh(d, a, b, c, x[i], 11, -358537222)
      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)
      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)
      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)
      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)
      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)
      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)

      a = md5ii(a, b, c, d, x[i], 6, -198630844)
      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)
      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)
      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)
      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)
      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)
      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)
      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)
      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)
      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)
      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)
      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)
      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)
      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)
      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)
      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)

      a = safeAdd(a, olda)
      b = safeAdd(b, oldb)
      c = safeAdd(c, oldc)
      d = safeAdd(d, oldd)
    }
    return [a, b, c, d]
  }

  /**
   * Convert an array of little-endian words to a string
   *
   * @param {Array<number>} input MD5 Array
   * @returns {string} MD5 string
   */
  function binl2rstr(input) {
    var i
    var output = ''
    var length32 = input.length * 32
    for (i = 0; i < length32; i += 8) {
      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)
    }
    return output
  }

  /**
   * Convert a raw string to an array of little-endian words
   * Characters >255 have their high-byte silently ignored.
   *
   * @param {string} input Raw input string
   * @returns {Array<number>} Array of little-endian words
   */
  function rstr2binl(input) {
    var i
    var output = []
    output[(input.length >> 2) - 1] = undefined
    for (i = 0; i < output.length; i += 1) {
      output[i] = 0
    }
    var length8 = input.length * 8
    for (i = 0; i < length8; i += 8) {
      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32
    }
    return output
  }

  /**
   * Calculate the MD5 of a raw string
   *
   * @param {string} s Input string
   * @returns {string} Raw MD5 string
   */
  function rstrMD5(s) {
    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))
  }

  /**
   * Calculates the HMAC-MD5 of a key and some data (raw strings)
   *
   * @param {string} key HMAC key
   * @param {string} data Raw input string
   * @returns {string} Raw MD5 string
   */
  function rstrHMACMD5(key, data) {
    var i
    var bkey = rstr2binl(key)
    var ipad = []
    var opad = []
    var hash
    ipad[15] = opad[15] = undefined
    if (bkey.length > 16) {
      bkey = binlMD5(bkey, key.length * 8)
    }
    for (i = 0; i < 16; i += 1) {
      ipad[i] = bkey[i] ^ 0x36363636
      opad[i] = bkey[i] ^ 0x5c5c5c5c
    }
    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)
    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))
  }

  /**
   * Convert a raw string to a hex string
   *
   * @param {string} input Raw input string
   * @returns {string} Hex encoded string
   */
  function rstr2hex(input) {
    var hexTab = '0123456789abcdef'
    var output = ''
    var x
    var i
    for (i = 0; i < input.length; i += 1) {
      x = input.charCodeAt(i)
      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)
    }
    return output
  }

  /**
   * Encode a string as UTF-8
   *
   * @param {string} input Input string
   * @returns {string} UTF8 string
   */
  function str2rstrUTF8(input) {
    return unescape(encodeURIComponent(input))
  }

  /**
   * Encodes input string as raw MD5 string
   *
   * @param {string} s Input string
   * @returns {string} Raw MD5 string
   */
  function rawMD5(s) {
    return rstrMD5(str2rstrUTF8(s))
  }
  /**
   * Encodes input string as Hex encoded string
   *
   * @param {string} s Input string
   * @returns {string} Hex encoded string
   */
  function hexMD5(s) {
    return rstr2hex(rawMD5(s))
  }
  /**
   * Calculates the raw HMAC-MD5 for the given key and data
   *
   * @param {string} k HMAC key
   * @param {string} d Input string
   * @returns {string} Raw MD5 string
   */
  function rawHMACMD5(k, d) {
    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))
  }
  /**
   * Calculates the Hex encoded HMAC-MD5 for the given key and data
   *
   * @param {string} k HMAC key
   * @param {string} d Input string
   * @returns {string} Raw MD5 string
   */
  function hexHMACMD5(k, d) {
    return rstr2hex(rawHMACMD5(k, d))
  }

  /**
   * Calculates MD5 value for a given string.
   * If a key is provided, calculates the HMAC-MD5 value.
   * Returns a Hex encoded string unless the raw argument is given.
   *
   * @param {string} string Input string
   * @param {string} [key] HMAC key
   * @param {boolean} [raw] Raw output switch
   * @returns {string} MD5 output
   */
  function md5(string, key, raw) {
    if (!key) {
      if (!raw) {
        return hexMD5(string)
      }
      return rawMD5(string)
    }
    if (!raw) {
      return hexHMACMD5(key, string)
    }
    return rawHMACMD5(key, string)
  }

	ctx.md5 = md5
})(this)

/***/ }),

/***/ 790:
/***/ (() => {

/*! @license sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */

(function() {
   var ctx = this || globalThis;

	var sprintf = function() {
		if (!sprintf.cache.hasOwnProperty(arguments[0])) {
			sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);
		}
		return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);
	};

	sprintf.format = function(parse_tree, argv) {
		var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;
		for (i = 0; i < tree_length; i++) {
			node_type = get_type(parse_tree[i]);
			if (node_type === 'string') {
				output.push(parse_tree[i]);
			}
			else if (node_type === 'array') {
				match = parse_tree[i]; // convenience purposes only
				if (match[2]) { // keyword argument
					arg = argv[cursor];
					for (k = 0; k < match[2].length; k++) {
						if (!arg.hasOwnProperty(match[2][k])) {
							throw(sprintf('[sprintf] property "%s" does not exist', match[2][k]));
						}
						arg = arg[match[2][k]];
					}
				}
				else if (match[1]) { // positional argument (explicit)
					arg = argv[match[1]];
				}
				else { // positional argument (implicit)
					arg = argv[cursor++];
				}

				if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {
					throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));
				}
				switch (match[8]) {
					case 'b': arg = arg.toString(2); break;
					case 'c': arg = String.fromCharCode(arg); break;
					case 'd': arg = parseInt(arg, 10); break;
					case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;
					case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;
					case 'o': arg = arg.toString(8); break;
					case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;
					case 'u': arg = arg >>> 0; break;
					case 'x': arg = arg.toString(16); break;
					case 'X': arg = arg.toString(16).toUpperCase(); break;
				}
				arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);
				pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';
				pad_length = match[6] - String(arg).length;
				pad = match[6] ? str_repeat(pad_character, pad_length) : '';
				output.push(match[5] ? arg + pad : pad + arg);
			}
		}
		return output.join('');
	};

	sprintf.cache = {};

	sprintf.parse = function(fmt) {
		var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;
		while (_fmt) {
			if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
				parse_tree.push(match[0]);
			}
			else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
				parse_tree.push('%');
			}
			else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
				if (match[2]) {
					arg_names |= 1;
					var field_list = [], replacement_field = match[2], field_match = [];
					if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
						field_list.push(field_match[1]);
						while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {
							if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else {
								throw('[sprintf] huh?');
							}
						}
					}
					else {
						throw('[sprintf] huh?');
					}
					match[2] = field_list;
				}
				else {
					arg_names |= 2;
				}
				if (arg_names === 3) {
					throw('[sprintf] mixing positional and named placeholders is not (yet) supported');
				}
				parse_tree.push(match);
			}
			else {
				throw('[sprintf] huh?');
			}
			_fmt = _fmt.substring(match[0].length);
		}
		return parse_tree;
	};

	var vsprintf = function(fmt, argv, _argv) {
		_argv = argv.slice(0);
		_argv.splice(0, 0, fmt);
		return sprintf.apply(null, _argv);
	};

	/**
	 * helpers
	 */
	function get_type(variable) {
		return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
	}

	function str_repeat(input, multiplier) {
		for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}
		return output.join('');
	}

	/**
	 * export to either browser or node.js
	 */
	ctx.sprintf = sprintf;
	ctx.vsprintf = vsprintf;
})();



/***/ }),

/***/ 94:
/***/ (() => {

/*
 * Copyright 2014-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  global.connect = connect;
  global.lily = connect;

  var userAgent = navigator.userAgent;
  var ONE_DAY_MILLIS = 24 * 60 * 60 * 1000;
  var DEFAULT_POPUP_HEIGHT = 578;
  var DEFAULT_POPUP_WIDTH = 433;
  var COPYABLE_EVENT_FIELDS = ["bubbles", "cancelBubble", "cancelable", "composed", "data", "defaultPrevented", "eventPhase", "isTrusted", "lastEventId", "origin", "returnValue", "timeStamp", "type"];

  /**
   * Unpollute sprintf functions from the global namespace.
   */
  connect.sprintf = global.sprintf;
  connect.vsprintf = global.vsprintf;
  delete global.sprintf;
  delete global.vsprintf;

  connect.HTTP_STATUS_CODES = {
    SUCCESS: 200,
    UNAUTHORIZED: 401,
    ACCESS_DENIED: 403,
    TOO_MANY_REQUESTS: 429,
    INTERNAL_SERVER_ERROR: 500
  };

  connect.TRANSPORT_TYPES = {
    CHAT_TOKEN: "chat_token",
    WEB_SOCKET: "web_socket",
    AGENT_DISCOVERY: "agent_discovery",
    WEB_RTC: "web_rtc"
  };

  /**
   * Binds the given instance object as the context for
   * the method provided.
   *
   * @param scope The instance object to be set as the scope
   *    of the function.
   * @param method The method to be encapsulated.
   *
   * All other arguments, if any, are bound to the method
   * invocation inside the closure.
   *
   * @return A closure encapsulating the invocation of the
   *    method provided in context of the given instance.
   */
  connect.hitch = function () {
    var args = Array.prototype.slice.call(arguments);
    var scope = args.shift();
    var method = args.shift();

    connect.assertNotNull(scope, 'scope');
    connect.assertNotNull(method, 'method');
    connect.assertTrue(connect.isFunction(method), 'method must be a function');

    return function () {
      var closureArgs = Array.prototype.slice.call(arguments);
      return method.apply(scope, args.concat(closureArgs));
    };
  };

  /**
   * Determine if the given value is a callable function type.
   * Borrowed from Underscore.js.
   */
  connect.isFunction = function (obj) {
    return !!(obj && obj.constructor && obj.call && obj.apply);
  };

  /**
   * Determine if the given value is an array.
   */
  connect.isArray = function (obj) {
    return Object.prototype.toString.call(obj) === '[object Array]';
  };

  /**
   * Get a list of keys from a Javascript object used
   * as a hash map.
   */
  connect.keys = function (map) {
    var keys = [];

    connect.assertNotNull(map, 'map');

    for (var k in map) {
      keys.push(k);
    }

    return keys;
  };

  /**
   * Get a list of values from a Javascript object used
   * as a hash map.
   */
  connect.values = function (map) {
    var values = [];

    connect.assertNotNull(map, 'map');

    for (var k in map) {
      values.push(map[k]);
    }

    return values;
  };

  /**
   * Get a list of key/value pairs from the given map.
   */
  connect.entries = function (map) {
    var entries = [];

    for (var k in map) {
      entries.push({ key: k, value: map[k] });
    }

    return entries;
  };

  /**
   * Merge two or more maps together into a new map,
   * or simply copy a single map.
   */
  connect.merge = function () {
    var argMaps = Array.prototype.slice.call(arguments, 0);
    var resultMap = {};

    argMaps.forEach(function (map) {
      connect.entries(map).forEach(function (kv) {
        resultMap[kv.key] = kv.value;
      });
    });

    return resultMap;
  };

  connect.now = function () {
    return new Date().getTime();
  };

  connect.find = function (array, predicate) {
    for (var x = 0; x < array.length; x++) {
      if (predicate(array[x])) {
        return array[x];
      }
    }

    return null;
  };

  connect.contains = function (obj, value) {
    if (obj instanceof Array) {
      return connect.find(obj, function (v) { return v === value; }) != null;

    } else {
      return (value in obj);
    }
  };

  connect.containsValue = function (obj, value) {
    if (obj instanceof Array) {
      return connect.find(obj, function (v) { return v === value; }) != null;

    } else {
      return connect.find(connect.values(obj), function (v) { return v === value; }) != null;
    }
  };

  /**
   * Generate a random ID consisting of the current timestamp
   * and a random base-36 number based on Math.random().
   */
  connect.randomId = function () {
    return connect.sprintf("%s-%s", connect.now(), Math.random().toString(36).slice(2));
  };

  /**
   * Generate an enum from the given list of lower-case enum values,
   * where the enum keys will be upper case.
   *
   * Conversion from pascal case based on code from here:
   * http://stackoverflow.com/questions/30521224
   */
  connect.makeEnum = function (values) {
    var enumObj = {};

    values.forEach(function (value) {
      var key = value.replace(/\.?([a-z]+)_?/g, function (x, y) { return y.toUpperCase() + "_"; })
        .replace(/_$/, "");

      enumObj[key] = value;
    });

    return enumObj;
  };

  connect.makeNamespacedEnum = function (prefix, values) {
    var enumObj = connect.makeEnum(values);
    connect.keys(enumObj).forEach(function (key) {
      enumObj[key] = connect.sprintf("%s::%s", prefix, enumObj[key]);
    });
    return enumObj;
  };

  connect.makeGenericNamespacedEnum = function (prefix, values, delimiter) {
    var enumObj = connect.makeEnum(values);
    connect.keys(enumObj).forEach(function (key) {
      enumObj[key] = connect.sprintf("%s"+delimiter+"%s", prefix, enumObj[key]);
    });
    return enumObj;
  };

  /**
  * Methods to determine browser type and versions, used for softphone initialization.
  */

  /*
    This will also return True for Edge and Opera since they
    include Chrome in the user agent string, as they are built
    off of Chrome.
  */
  connect.isChromeBrowser = function () {
    return userAgent.indexOf("Chrome") !== -1;
  };

  connect.isFirefoxBrowser = function () {
    return userAgent.indexOf("Firefox") !== -1;
  };

  connect.isOperaBrowser = function () {
    return userAgent.indexOf("Opera") !== -1;
  };

  connect.isEdgeBrowser = function () {
    return userAgent.indexOf("Edg") !== -1;
  };

  connect.getChromeBrowserVersion = function () {
    var chromeVersion = userAgent.substring(userAgent.indexOf("Chrome") + 7);
    if (chromeVersion) {
      return parseFloat(chromeVersion);
    } else {
      return -1;
    }
  };

  connect.getFirefoxBrowserVersion = function () {
    var firefoxVersion = userAgent.substring(userAgent.indexOf("Firefox") + 8);
    if (firefoxVersion) {
      return parseFloat(firefoxVersion);
    } else {
      return -1;
    }
  };

  connect.isValidLocale = function (locale) {
    var languages = [
      {
        id: 'en_US',
        label: 'English'
      },
      {
        id: 'de_DE',
        label: 'Deutsch'
      },
      {
        id: 'es_ES',
        label: 'Espaol'
      },
      {
        id: 'fr_FR',
        label: 'Franais'
      },
      {
        id: 'ja_JP',
        label: ''
      },
      {
        id: 'it_IT',
        label: 'Italiano'
      },
      {
        id: 'ko_KR',
        label: ''
      },
      {
        id: 'pt_BR',
        label: 'Portugus'
      },
      {
        id: 'zh_CN',
        label: '()'
      },
      {
        id: 'zh_TW',
        label: '()'
      }
    ];
    return languages.map(function(language){ return language.id}).includes(locale);
  }

  connect.getOperaBrowserVersion = function () {
    var versionOffset = userAgent.indexOf("Opera");
    var operaVersion = (userAgent.indexOf("Version") !== -1) ? userAgent.substring(versionOffset + 8) : userAgent.substring(versionOffset + 6);
    if (operaVersion) {
      return parseFloat(operaVersion);
    } else {
      return -1;
    }
  };

  /**
   * Return a map of items in the given list indexed by
   * keys determined by the closure provided.
   *
   * @param iterable A list-like object.
   * @param closure A closure to determine the index for the
   *    items in the iterable.
   * @return A map from index to item for each item in the iterable.
   */
  connect.index = function (iterable, closure) {
    var map = {};

    iterable.forEach(function (item) {
      map[closure(item)] = item;
    });

    return map;
  };

  /**
   * Converts the given array into a map as a set,
   * where elements in the array are mapped to 1.
   */
  connect.set = function (arrayIn) {
    var setMap = {};

    arrayIn.forEach(function (key) {
      setMap[key] = 1;
    });

    return setMap;
  };

  /**
   * Returns a map for each key in mapB which
   * is NOT in mapA.
   */
  connect.relativeComplement = function (mapA, mapB) {
    var compMap = {};

    connect.keys(mapB).forEach(function (key) {
      if (!(key in mapA)) {
        compMap[key] = mapB[key];
      }
    });

    return compMap;
  };

  /**
   * Asserts that a premise is true.
   */
  connect.assertTrue = function (premise, message) {
    if (!premise) {
      throw new connect.ValueError(message);
    }
  };

  /**
   * Asserts that a value is not null or undefined.
   */
  connect.assertNotNull = function (value, name) {
    connect.assertTrue(value != null && typeof value !== undefined,
      connect.sprintf("%s must be provided", name || 'A value'));
    return value;
  };

  connect.deepcopy = function (src) {
    return JSON.parse(JSON.stringify(src));
  };

  connect.deepcopyCrossOriginEvent = function(event) {
    const obj = {};
    const listOfAcceptableKeys = COPYABLE_EVENT_FIELDS;
    listOfAcceptableKeys.forEach((key) => {
      try {
        obj[key] = event[key];
      }
      catch(e) {
        connect.getLog().info("deepcopyCrossOriginEvent failed on key: ", key).sendInternalLogToServer();
      }
    });
    return connect.deepcopy(obj);
  }

  /**
   * Get the current base url of the open page, e.g. if the page is
   * https://example.com:9494/oranges, this will be "https://example.com:9494".
   */
  connect.getBaseUrl = function () {
    var location = global.location;
    return connect.sprintf("%s//%s:%s", location.protocol, location.hostname, location.port);
  };

  connect.getUrlWithProtocol = function(url) {
    var protocol = global.location.protocol;
    if (url.substr(0, protocol.length) !== protocol) {
      return connect.sprintf("%s//%s", protocol, url);
    }
    return url;
  }

  /**
   * Determine if the current window is in an iframe.
   * Courtesy: http://stackoverflow.com/questions/326069/
   */
  connect.isFramed = function () {
    try {
      return window.self !== window.top;
    } catch (e) {
      return true;
    }
  };

  connect.hasOtherConnectedCCPs = function () {
    return connect.numberOfConnectedCCPs > 1;
  }

  connect.fetch = function (endpoint, options, milliInterval, maxRetry) {
    maxRetry = maxRetry || 5;
    milliInterval = milliInterval || 1000;
    options = options || {};
    return new Promise(function (resolve, reject) {
      function fetchData(maxRetry) {
        fetch(endpoint, options).then(function (res) {
          if (res.status === connect.HTTP_STATUS_CODES.SUCCESS) {
            res.json().then(json => resolve(json)).catch(() => resolve({}));
          } else if (maxRetry !== 1 && (res.status >= connect.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR || res.status === connect.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)) {
            setTimeout(function () {
              fetchData(--maxRetry);
            }, milliInterval);
          } else {
            reject(res);
          }
        }).catch(function (e) {
          reject(e);
        });
      }
      fetchData(maxRetry);
    });
  };

  connect.fetchWithTimeout = async function(endpoint, timeoutMs, options, milliInterval, maxRetry) {
    options = options || {};
    if (!timeoutMs) {
      return connect.fetch(endpoint, options, milliInterval, maxRetry);
    }
    const controller = new AbortController();
    const id = setTimeout(() => controller.abort(), timeoutMs);
    const response = await connect.fetch(endpoint, {
      ...options,
      signal: controller.signal
    }, milliInterval, maxRetry);
    clearTimeout(id);
    return response;
  }

  /**
   * Calling a function with exponential backoff with full jitter retry strategy
   * It will retry calling the function for maximum maxRetry times if it fails.
   * Success callback will be called if the function succeeded.
   * Failure callback will be called only if the last try failed.
   */
  connect.backoff = function (func, milliInterval, maxRetry, callbacks) {
    connect.assertTrue(connect.isFunction(func), "func must be a Function");
    var self = this;
    var ratio = 2;

    func({
      success: function (data) {
        if (callbacks && callbacks.success) {
          callbacks.success(data);
        }
      },
      failure: function (err, data) {
        if (maxRetry > 0) {
          var interval = milliInterval * 2 * Math.random();
          global.setTimeout(function () {
            self.backoff(func, interval * ratio, --maxRetry, callbacks);
          }, interval);
        } else {
          if (callbacks && callbacks.failure) {
            callbacks.failure(err, data);
          }
        }
      }
    });
  };

  connect.publishMetric = function (metricData) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.CLIENT_METRIC,
      data: metricData
    });
  };

  connect.publishSoftphoneStats = function(stats) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.SOFTPHONE_STATS,
      data: stats
    });
  };

  connect.publishSoftphoneReport = function(report) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.SOFTPHONE_REPORT,
      data: report
    });
  };

  connect.publishClickStreamData = function(report) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.CLICK_STREAM_DATA,
      data: report
    });
  };

  connect.publishClientSideLogs = function(logs) {
    var bus = connect.core.getEventBus();
    bus.trigger(connect.EventType.CLIENT_SIDE_LOGS, logs);
  };

  connect.addNamespaceToLogs = function(namespace) {
    const methods = ['log', 'error', 'warn', 'info', 'debug'];

    methods.forEach((method) => {
      const consoleMethod = window.console[method];
      window.console[method] = function () {
        const args = Array.from(arguments);
        args.unshift(`[${namespace}]`);
        consoleMethod.apply(window.console, args);
      };
    });
  };

  /**
   * A wrapper around Window.open() for managing single instance popups.
   */
  connect.PopupManager = function () { };

  connect.PopupManager.prototype.open = function (url, name, options) {
    var win = null;
    if (options) {
      // default values are chosen to provide a minimum height without scrolling
      // and a uniform margin based on the css of the ccp login page
      var height = options.height || DEFAULT_POPUP_HEIGHT;
      var width = options.width || DEFAULT_POPUP_WIDTH;
      var top = options.top || 0;
      var left = options.left || 0;
      win = window.open('', name, "width="+width+", height="+height+", top="+top+", left="+left);
      if (win.location !== url) {
        win = window.open(url, name, "width="+width+", height="+height+", top="+top+", left="+left);
      }
    } else {
      win = window.open('', name);
      if (win.location !== url) {
        win = window.open(url, name);
      }
    }
    return win;
  };

  connect.PopupManager.prototype.clear = function (name) {
    var key = this._getLocalStorageKey(name);
    global.localStorage.removeItem(key);
  };

  connect.PopupManager.prototype._getLastOpenedTimestamp = function (name) {
    var key = this._getLocalStorageKey(name);
    var value = global.localStorage.getItem(key);

    if (value) {
      return parseInt(value, 10);

    } else {
      return 0;
    }
  };

  connect.PopupManager.prototype._setLastOpenedTimestamp = function (name, ts) {
    var key = this._getLocalStorageKey(name);
    global.localStorage.setItem(key, '' + ts);
  };

  connect.PopupManager.prototype._getLocalStorageKey = function (name) {
    return "connectPopupManager::" + name;
  };

  /**
   * An enumeration of the HTML5 notification permission values.
   */
  var NotificationPermission = connect.makeEnum([
    'granted',
    'denied',
    'default'
  ]);

  /**
   * A simple engine for showing notification popups.
   */
  connect.NotificationManager = function () {
    this.queue = [];
    this.permission = NotificationPermission.DEFAULT;
  };

  connect.NotificationManager.prototype.requestPermission = function () {
    var self = this;
    if (!("Notification" in global)) {
      connect.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer();
      this.permission = NotificationPermission.DENIED;

    } else if (global.Notification.permission === NotificationPermission.DENIED) {
      connect.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer();
      this.permission = NotificationPermission.DENIED;

    } else if (this.permission !== NotificationPermission.GRANTED) {
      global.Notification.requestPermission().then(function (permission) {
        self.permission = permission;
        if (permission === NotificationPermission.GRANTED) {
          self._showQueued();

        } else {
          self.queue = [];
        }
      });
    }
  };

  connect.NotificationManager.prototype.show = function (title, options) {
    if (this.permission === NotificationPermission.GRANTED) {
      return this._showImpl({ title: title, options: options });

    } else if (this.permission === NotificationPermission.DENIED) {
      connect.getLog().warn("Unable to show notification.")
        .sendInternalLogToServer()
        .withObject({
          title: title,
          options: options
        });

    } else {
      var params = { title: title, options: options };
      connect.getLog().warn("Deferring notification until user decides to allow or deny.")
        .withObject(params)
        .sendInternalLogToServer();
      this.queue.push(params);
    }
  };

  connect.NotificationManager.prototype._showQueued = function () {
    var self = this;
    var notifications = this.queue.map(function (params) {
      return self._showImpl(params);
    });
    this.queue = [];
    return notifications;
  };

  connect.NotificationManager.prototype._showImpl = function (params) {
    var notification = new global.Notification(params.title, params.options);
    if (params.options.clicked) {
      notification.onclick = function () {
        params.options.clicked.call(notification);
      };
    }
    return notification;
  };

  connect.ValueError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.ValueError.prototype);
    return instance;
  };
  Object.setPrototypeOf(connect.ValueError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.ValueError, Error);
  connect.ValueError.prototype.name = 'ValueError';

  connect.NotImplementedError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.NotImplementedError.prototype);
    return instance;
  };
  Object.setPrototypeOf(connect.NotImplementedError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.NotImplementedError, Error);
  connect.NotImplementedError.prototype.name = 'NotImplementedError';

  connect.StateError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.StateError.prototype);
    return instance;
  }
  Object.setPrototypeOf(connect.StateError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.StateError, Error);
  connect.StateError.prototype.name = 'StateError';



  connect.VoiceIdError = function(type, message, err){
    var error = {};
    error.type = type;
    error.message = message;
    error.stack = Error(message).stack;
    error.err = err;
    return error;
  }

  // internal use only
  connect.isCCP = function () {
    if (!connect.core.upstream) {
      return false;
    }
    var conduit = connect.core.getUpstream();
    return conduit.name === 'ConnectSharedWorkerConduit';
  }

  connect.isSharedWorker = function () {
    return connect.worker && !!connect.worker.clientEngine;
  }

  connect.isCRM = function () {
    if (!connect.core.upstream) {
      return false;
    }
    return connect.core.getUpstream() instanceof connect.IFrameConduit || connect.core.getUpstream() instanceof connect.GRProxyIframeConduit;
  }
  
  // internal use only
  connect.isActiveConduit = function (conduit) {
    const grProxyConduit = connect.core.getUpstream();
    if (grProxyConduit instanceof connect.GRProxyIframeConduit) {
      return conduit.name === grProxyConduit.activeRegionUrl;
    } else {
      connect.getLog().debug('connect.isActiveConduit is called but there is no GR proxy conduit').sendInternalLogToServer();
      return true;
    }
  }
})();


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	__webpack_modules__[790]();
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_modules__[236]();
/******/ 	__webpack_modules__[94]();
/******/ 	__webpack_modules__[296]();
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__[96]();
/******/ 	
/******/ })()
;