/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 296:
/***/ (() => {

/*
 * Copyright 2014-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  global.connect = connect;
  global.globalConnect = {}
  global.lily = connect;

  globalConnect.Container = null;

  var FRAME_DIMENSIONS = "margin: 0; border: 0; padding: 0px; width: 0px; height: 0px";
  var LATEST_STREAMJS_BASE64_CODE = "KCgpPT57dmFyIGU9ezc4MTooZSx0LG4pPT57InVzZSBzdHJpY3QiO2xldCByO2Z1bmN0aW9uIG8oZSl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKG51bGwhPWU/ZToiQXR0ZW1wdGVkIHRvIGdldCBHbG9iYWwgQW1hem9uQ29ubmVjdFByb3ZpZGVyIHRoYXQgaGFzIG5vdCBiZWVuIHNldC4iKTtyZXR1cm4gcn1mdW5jdGlvbiBpKCl7cmV0dXJuInJhbmRvbVVVSUQiaW4gY3J5cHRvP2NyeXB0by5yYW5kb21VVUlEKCk6IjEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMCIucmVwbGFjZSgvWzAxOF0vZywoZT0+e2NvbnN0IHQ9cGFyc2VJbnQoZSk7cmV0dXJuKHReY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0mMTU+PnQvNCkudG9TdHJpbmcoMTYpfSkpfW4ucih0KSxuLmQodCx7QW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlOigpPT5ffSk7Y2xhc3MgYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzQnlIYW5kbGVyPW5ldyBNYXAsdGhpcy5oYW5kbGVyc0J5SWQ9bmV3IE1hcH1hZGQoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7aWYodClyZXR1cm57aGFuZGxlcklkOnR9O2NvbnN0IG49aSgpO3JldHVybiB0aGlzLmlkc0J5SGFuZGxlci5zZXQoZSxuKSx0aGlzLmhhbmRsZXJzQnlJZC5zZXQobixlKSx7aGFuZGxlcklkOm59fWdldElkQnlIYW5kbGVyKGUpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9dGhpcy5pZHNCeUhhbmRsZXIuZ2V0KGUpKSYmdm9pZCAwIT09dD90Om51bGx9Z2V0SGFuZGxlckJ5SWQoZSl7dmFyIHQ7cmV0dXJuIG51bGwhPT0odD10aGlzLmhhbmRsZXJzQnlJZC5nZXQoZSkpJiZ2b2lkIDAhPT10P3Q6bnVsbH1nZXQoKXtyZXR1cm5bLi4udGhpcy5pZHNCeUhhbmRsZXIuZW50cmllcygpXS5tYXAoKChbZSx0XSk9Pih7aGFuZGxlcjplLGhhbmRsZXJJZDp0fSkpKX1kZWxldGUoZSl7Y29uc3QgdD10aGlzLmlkc0J5SGFuZGxlci5nZXQoZSk7cmV0dXJuIHQmJnRoaXMuaGFuZGxlcnNCeUlkLmRlbGV0ZSh0KSx0aGlzLmlkc0J5SGFuZGxlci5kZWxldGUoZSkse2lzRW1wdHk6dGhpcy5pZHNCeUhhbmRsZXIuc2l6ZTwxfX1zaXplKCl7cmV0dXJuIHRoaXMuaWRzQnlIYW5kbGVyLnNpemV9fWNsYXNzIHN7Y29uc3RydWN0b3IoKXt0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnM9bmV3IE1hcCx0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucz1uZXcgTWFwfWFkZCh7bmFtZXNwYWNlOmUsa2V5OnQscGFyYW1ldGVyOm59LHIpe3ZhciBvLGksYSxzLGM7aWYobil7aWYoIXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmhhcyhlKSlyZXR1cm4gdm9pZCB0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5zZXQoZSxuZXcgTWFwKFtbdCxuZXcgTWFwKFtbbixyXV0pXV0pKTtpZighKG51bGw9PT0obz10aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmhhcyh0KSkpcmV0dXJuIHZvaWQobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuc2V0KHQsbmV3IE1hcChbW24scl1dKSkpO251bGw9PT0ocz1udWxsPT09KGE9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5nZXQodCkpfHx2b2lkIDA9PT1zfHxzLnNldChuLHIpfWVsc2V7aWYoIXRoaXMuc2ltcGxlU3Vic2NyaXB0aW9ucy5oYXMoZSkpcmV0dXJuIHZvaWQgdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLnNldChlLG5ldyBNYXAoW1t0LHJdXSkpO251bGw9PT0oYz10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09Y3x8Yy5zZXQodCxyKX19ZGVsZXRlKHtuYW1lc3BhY2U6ZSxrZXk6dCxwYXJhbWV0ZXI6bn0pe3ZhciByLG8saSxhO24/KG51bGw9PT0obz1udWxsPT09KHI9dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXQodCkpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRlbGV0ZShuKSkmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkuc2l6ZTwxJiYobnVsbD09PShpPXRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PWl8fGkuZGVsZXRlKHQpLHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5zaXplPDEmJnRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmRlbGV0ZShlKSk6KG51bGw9PT0oYT10aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09YT92b2lkIDA6YS5kZWxldGUodCkpJiZ0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLnNpemU8MSYmdGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1nZXQoe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSl7dmFyIHIsbyxpO3JldHVybiBuP251bGw9PT0oaT1udWxsPT09KG89dGhpcy5wYXJhbVN1YnNjcmlwdGlvbnMuZ2V0KGUpKXx8dm9pZCAwPT09bz92b2lkIDA6by5nZXQodCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChuKTpudWxsPT09KHI9dGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZ2V0KHQpfWdldE9yQWRkKGUsdCl7bGV0IG49dGhpcy5nZXQoZSk7cmV0dXJuIG58fChuPXQoKSx0aGlzLmFkZChlLG4pKSxufWFkZE9yVXBkYXRlKGUsdCxuKXtsZXQgcj10aGlzLmdldChlKTtyZXR1cm4gcj1yP24ocik6dCgpLHRoaXMuYWRkKGUscikscn1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuWy4uLkFycmF5LmZyb20odGhpcy5zaW1wbGVTdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnNpbXBsZVN1YnNjcmlwdGlvbnMuZ2V0KGUpLmtleXMoKSkuZmxhdE1hcCgodD0+KHtuYW1lc3BhY2U6ZSxrZXk6dH0pKSkpKSwuLi5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmtleXMoKSkuZmxhdE1hcCgoZT0+QXJyYXkuZnJvbSh0aGlzLnBhcmFtU3Vic2NyaXB0aW9ucy5nZXQoZSkua2V5cygpKS5mbGF0TWFwKCh0PT5BcnJheS5mcm9tKHRoaXMucGFyYW1TdWJzY3JpcHRpb25zLmdldChlKS5nZXQodCkua2V5cygpKS5mbGF0TWFwKChuPT4oe25hbWVzcGFjZTplLGtleTp0LHBhcmFtZXRlcjpufSkpKSkpKSldfX1jbGFzcyBje2NvbnN0cnVjdG9yKCl7dGhpcy5zdWJzY3JpcHRpb25zPW5ldyBzfWFkZChlLHQpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0T3JBZGQoZSwoKCk9Pm5ldyBhKSkuYWRkKHQpfWdldChlKXt2YXIgdCxuO3JldHVybiBudWxsIT09KG49bnVsbD09PSh0PXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldCgpKSYmdm9pZCAwIT09bj9uOltdfWdldEJ5SWQoZSx0KXt2YXIgbixyO3JldHVybiBudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmdldEhhbmRsZXJCeUlkKHQpKSYmdm9pZCAwIT09cj9yOm51bGx9ZGVsZXRlKGUsdCl7dmFyIG4scjtudWxsIT09KHI9bnVsbD09PShuPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmRlbGV0ZSh0KS5pc0VtcHR5KSYmdm9pZCAwIT09ciYmciYmdGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKX1zaXplKGUpe3ZhciB0LG47cmV0dXJuIG51bGwhPT0obj1udWxsPT09KHQ9dGhpcy5zdWJzY3JpcHRpb25zLmdldChlKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2l6ZSgpKSYmdm9pZCAwIT09bj9uOjB9aXNFbXB0eShlKXtyZXR1cm4gMD09PXRoaXMuc2l6ZShlKX1nZXRBbGxTdWJzY3JpcHRpb25zKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5nZXRBbGxTdWJzY3JpcHRpb25zKCl9Z2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpe3JldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9ucygpLnJlZHVjZSgoKGUsdCk9PmUuY29uY2F0KHRoaXMuZ2V0KHQpLm1hcCgoKHtoYW5kbGVySWQ6ZX0pPT4oe3RvcGljOnQsaGFuZGxlcklkOmV9KSkpKSksW10pfX1jbGFzcyB1IGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3Ioe3JlYXNvbjplLG5hbWVzcGFjZTp0LGVycm9yS2V5Om4sZGV0YWlsczpyfSl7c3VwZXIoYENvbm5lY3RFcnJvciB3aXRoIGVycm9yIGtleSAiJHtufSJgKSx0aGlzLmVycm9yVHlwZT11LkVycm9yVHlwZSx0aGlzLm5hbWVzcGFjZT10LHRoaXMuZXJyb3JLZXk9bix0aGlzLnJlYXNvbj1lLHRoaXMuZGV0YWlscz1udWxsIT1yP3I6e319fXUuRXJyb3JUeXBlPSJDb25uZWN0RXJyb3IiO2NvbnN0IGw9ImNsaWVudFRpbWVvdXQiO2Z1bmN0aW9uIHAoZSx0LG4scil7Y29uc3Qgbz1NYXRoLm1heCgxLG51bGwhPXI/cjozZTQpO3JldHVybiBuZXcgUHJvbWlzZSgoKHIsaSk9PntsZXQgYT0hMTtjb25zdCBzPXNldFRpbWVvdXQoKCgpPT57bih7dGltZW91dE1zOm8scmVxdWVzdDplfSksaShmdW5jdGlvbihlLHQpe2NvbnN0e25hbWVzcGFjZTpuLGNvbW1hbmQ6cixkYXRhOm99PWU7cmV0dXJue25hbWVzcGFjZTpuLHJlYXNvbjoiQ2xpZW50IFRpbWVvdXQiLGRldGFpbHM6e2NvbW1hbmQ6cixyZXF1ZXN0RGF0YTpvLHRpbWVvdXRNczp0fSxlcnJvcktleTpsfX0oZSxvKSksYT0hMH0pLG8pO3QoKGU9PntjbGVhclRpbWVvdXQocyksYXx8KGUuaXNFcnJvcj9pKG5ldyB1KGUpKTpyKGUuZGF0YSkpfSkpfSkpfWNsYXNzIGR7Y29uc3RydWN0b3IoZSl7dGhpcy5yZXF1ZXN0TWFwPW5ldyBNYXAsdGhpcy5sb2dnZXI9bmV3IEkoe3Byb3ZpZGVyOmUsc291cmNlOiJjb3JlLnJlcXVlc3RNYW5hZ2VyIn0pfXByb2Nlc3NSZXF1ZXN0KGUpe2NvbnN0e3JlcXVlc3RJZDp0fT1lO3JldHVybiBwKGUsKGU9PnRoaXMucmVxdWVzdE1hcC5zZXQodCxlKSksKCh7cmVxdWVzdDplLHRpbWVvdXRNczp0fSk9PnRoaXMuaGFuZGxlVGltZW91dChlLHQpKSl9cHJvY2Vzc1Jlc3BvbnNlKGUpe2NvbnN0e3JlcXVlc3RJZDp0fT1lLG49dGhpcy5yZXF1ZXN0TWFwLmdldCh0KTtuPyhuKGUpLHRoaXMucmVxdWVzdE1hcC5kZWxldGUodCkpOnRoaXMubG9nZ2VyLmVycm9yKCJSZXR1cm5lZCBhIHJlc3BvbnNlIG1lc3NhZ2Ugd2l0aCBubyBoYW5kbGVyIix7bWVzc2FnZTplfSl9aGFuZGxlVGltZW91dChlLHQpe2NvbnN0e3JlcXVlc3RJZDpuLG5hbWVzcGFjZTpyLGNvbW1hbmQ6b309ZTt0aGlzLnJlcXVlc3RNYXAuZGVsZXRlKG4pLHRoaXMubG9nZ2VyLmVycm9yKCJDbGllbnQgcmVxdWVzdCB0aW1lb3V0Iix7cmVxdWVzdElkOm4sbmFtZXNwYWNlOnIsY29tbWFuZDpvLHRpbWVvdXRNczp0fSl9fXZhciBmPWZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJnQuaW5kZXhPZihyKTwwJiYobltyXT1lW3JdKTtpZihudWxsIT1lJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288ci5sZW5ndGg7bysrKXQuaW5kZXhPZihyW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyW29dKSYmKG5bcltvXV09ZVtyW29dXSl9cmV0dXJuIG59O2Z1bmN0aW9uIGgoZSl7dHJ5e3N3aXRjaChlLnR5cGUpe2Nhc2UiYWNrbm93bGVkZ2UiOmNhc2UiZXJyb3IiOmNhc2UiY2hpbGRDb25uZWN0aW9uQ2xvc2UiOmRlZmF1bHQ6cmV0dXJuIGU7Y2FzZSJjaGlsZERvd25zdHJlYW1NZXNzYWdlIjpyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHttZXNzYWdlOmgoZS5tZXNzYWdlKX0pO2Nhc2UicHVibGlzaCI6e2NvbnN0e2RhdGE6dH09ZSxuPWYoZSxbImRhdGEiXSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sbil9Y2FzZSJyZXNwb25zZSI6aWYoZS5pc0Vycm9yKXJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2RldGFpbHM6e2NvbW1hbmQ6ZS5kZXRhaWxzLmNvbW1hbmR9fSk7e2NvbnN0e2RhdGE6dH09ZSxuPWYoZSxbImRhdGEiXSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sbil9fX1jYXRjaCh0KXtyZXR1cm57bWVzc2FnZURldGFpbHM6ImVycm9yIHdoZW4gc2FuaXRpemluZyBkb3duc3RyZWFtIG1lc3NhZ2UiLG1lc3NhZ2U6ZSxlcnJvcjp0fX19Y2xhc3MgZ3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMucHJvdmlkZXI9ZSx0aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2U9dCx0aGlzLm1lc3NhZ2VQb3J0cz1uZXcgTWFwLHRoaXMubG9nZ2VyPW5ldyBJKHtwcm92aWRlcjplLHNvdXJjZToiY2hpbGRDb25uZWN0aW9uTWFuYWdlciJ9KX1hZGRDaGFubmVsKHtjb25uZWN0aW9uSWQ6ZSxwb3J0OnQscHJvdmlkZXJJZDpufSl7aWYodGhpcy5tZXNzYWdlUG9ydHMuaGFzKGUpKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gYWRkIGNoaWxkIGNvbm5lY3Rpb24gdGhhdCBhbHJlYWR5IGV4aXN0cy4gTm8gYWN0aW9uIix7Y29ubmVjdGlvbklkOmV9KTtjb25zdCByPXRoaXMuY3JlYXRlTWVzc2FnZUhhbmRsZXIoZSxuKTt0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHIpLHQuc3RhcnQoKSx0aGlzLm1lc3NhZ2VQb3J0cy5zZXQoZSx7cG9ydDp0LGhhbmRsZXI6cixwcm92aWRlcklkOm59KSx0aGlzLnJlbGF5Q2hpbGRVcHN0cmVhbU1lc3NhZ2Uoe3R5cGU6ImNoaWxkVXBzdHJlYW0iLGNvbm5lY3Rpb25JZDplLHNvdXJjZVByb3ZpZGVySWQ6bixwYXJlbnRQcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWQsbWVzc2FnZTp7dHlwZToiY2hpbGRDb25uZWN0aW9uUmVhZHkifX0pLHRoaXMubG9nZ2VyLmRlYnVnKCJDaGlsZCBwb3J0IGFkZGVkIix7Y29ubmVjdGlvbklkOmV9KX1oYW5kbGVEb3duc3RyZWFtTWVzc2FnZSh7Y29ubmVjdGlvbklkOmUsbWVzc2FnZTp0LHRhcmdldFByb3ZpZGVySWQ6bn0pe2NvbnN0IHI9dGhpcy5tZXNzYWdlUG9ydHMuZ2V0KGUpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLndhcm4oIkF0dGVtcHRlZCB0byByb3V0ZSBkb3duc3RyZWFtIG1lc3NhZ2UgdG8gY2hpbGQgbWVzc2FnZSBwb3J0IHRoYXQgZG9lcyBub3QgZXhpc3QiLHtjb25uZWN0aW9uSWQ6ZSxtZXNzYWdlOmgodCl9KTtjb25zdHtwb3J0Om8scHJvdmlkZXJJZDppfT1yO2kmJmkhPT1uP3RoaXMubG9nZ2VyLmVycm9yKCJEb3duc3RyZWFtIHRhcmdldCBtZXNzYWdlIGRpZCBub3QgbWF0Y2ggdGFyZ2V0IHByb3ZpZGVyIGlkLiBOb3Qgc2VuZGluZyBtZXNzYWdlLiIse2Nvbm5lY3Rpb25JZDplLHRhcmdldFByb3ZpZGVySWQ6bixhY3R1YWxQcm92aWRlcklkOmksbWVzc2FnZTpoKHQpfSk6by5wb3N0TWVzc2FnZSh0KX1oYW5kbGVDbG9zZU1lc3NhZ2Uoe2Nvbm5lY3Rpb25JZDplfSl7Y29uc3QgdD10aGlzLm1lc3NhZ2VQb3J0cy5nZXQoZSk7aWYoIXQpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybigiQXR0ZW1wdGVkIHRvIGNsb3NlIGNoaWxkIG1lc3NhZ2UgcG9ydCB0aGF0IHdhcyBub3QgZm91bmQiLHtjb25uZWN0aW9uSWQ6ZX0pO2NvbnN0e3BvcnQ6bixoYW5kbGVyOnJ9PXQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixyKSxuLmNsb3NlKCksdGhpcy5tZXNzYWdlUG9ydHMuZGVsZXRlKGUpLHRoaXMubG9nZ2VyLmRlYnVnKCJSZW1vdmVkIGNoaWxkIG1lc3NhZ2UgY2hhbm5lbCIse2Nvbm5lY3Rpb25JZDplfSl9Y3JlYXRlTWVzc2FnZUhhbmRsZXIoZSx0KXtyZXR1cm4gbj0+dGhpcy5yZWxheUNoaWxkVXBzdHJlYW1NZXNzYWdlKHt0eXBlOiJjaGlsZFVwc3RyZWFtIixzb3VyY2VQcm92aWRlcklkOnQscGFyZW50UHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkLGNvbm5lY3Rpb25JZDplLG1lc3NhZ2U6bi5kYXRhfSl9fWNsYXNzIG17Y29uc3RydWN0b3IoZSl7dGhpcy5lcnJvckhhbmRsZXJzPW5ldyBTZXQsdGhpcy5sb2dnZXI9bmV3IEkoe3Byb3ZpZGVyOmUsc291cmNlOiJjb3JlLnByb3h5LmVycm9yIn0pfWludm9rZShlKXtjb25zdHttZXNzYWdlOnQsa2V5Om4sZGV0YWlsczpyLGlzRmF0YWw6byxjb25uZWN0aW9uU3RhdHVzOml9PWU7dGhpcy5sb2dnZXIuZXJyb3IodCx7a2V5Om4sZGV0YWlsczpyLGlzRmF0YWw6byxjb25uZWN0aW9uU3RhdHVzOml9LHtkdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlOiEwLHJlbW90ZUlnbm9yZTohMH0pLFsuLi50aGlzLmVycm9ySGFuZGxlcnNdLmZvckVhY2goKHQ9Pnt0cnl7dChlKX1jYXRjaCh0KXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2l0aGluIGEgQW1hem9uQ29ubmVjdEVycm9ySGFuZGxlciIse2hhbmRsZXJFcnJvcjp0LG9yaWdpbmFsRXJyb3I6ZX0pfX0pKX1vbkVycm9yKGUpe3RoaXMuZXJyb3JIYW5kbGVycy5hZGQoZSl9b2ZmRXJyb3IoZSl7dGhpcy5lcnJvckhhbmRsZXJzLmRlbGV0ZShlKX19Y2xhc3Mgdntjb25zdHJ1Y3RvcihlKXt0aGlzLnN0YXR1cz0ibm90Q29ubmVjdGVkIix0aGlzLmNoYW5nZUhhbmRsZXJzPW5ldyBTZXQsdGhpcy5sb2dnZXI9bmV3IEkoe3NvdXJjZToiY29yZS5wcm94eS5jb25uZWN0aW9uLXN0YXR1cy1tYW5hZ2VyIixwcm92aWRlcjplLG1peGluOigpPT4oe3N0YXR1czp0aGlzLnN0YXR1c30pfSl9Z2V0U3RhdHVzKCl7cmV0dXJuIHRoaXMuc3RhdHVzfXVwZGF0ZShlKXt0aGlzLnN0YXR1cz1lLnN0YXR1cyx0aGlzLmxvZ2dlci50cmFjZSgiUHJveHkgQ29ubmVjdGlvbiBTdGF0dXMgQ2hhbmdlZCIse3N0YXR1czplLnN0YXR1c30pLFsuLi50aGlzLmNoYW5nZUhhbmRsZXJzXS5mb3JFYWNoKCh0PT57dHJ5e3QoZSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdpdGhpbiBhIFByb3h5Q29ubmVjdGlvbkNoYW5nZWRIYW5kbGVyIix7ZXJyb3I6ZX0pfX0pKX1vbkNoYW5nZShlKXt0aGlzLmNoYW5nZUhhbmRsZXJzLmFkZChlKX1vZmZDaGFuZ2UoZSl7dGhpcy5jaGFuZ2VIYW5kbGVycy5kZWxldGUoZSl9fXZhciB5LGI9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gYShlKXt0cnl7YyhyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIHMoZSl7dHJ5e2Moci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYyhlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxzKX1jKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9LEU9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn07Y2xhc3MgU3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3ZpZGVyPWUsdGhpcy5sb2dnZXI9bmV3IEkoe3NvdXJjZToiY29yZS5wcm94eSIscHJvdmlkZXI6ZSxtaXhpbjooKT0+KHtwcm94eVR5cGU6dGhpcy5wcm94eVR5cGUsY29ubmVjdGlvbklkOnRoaXMuY29ubmVjdGlvbklkfSl9KSx0aGlzLnJlcXVlc3RNYW5hZ2VyPW5ldyBkKGUpLHRoaXMuc3RhdHVzPW5ldyB2KGUpLHRoaXMuZXJyb3JTZXJ2aWNlPW5ldyBtKGUpLHRoaXMudXBzdHJlYW1NZXNzYWdlUXVldWU9W10sdGhpcy5jb25uZWN0aW9uRXN0YWJsaXNoZWQ9ITEsdGhpcy5pc0luaXRpYWxpemVkPSExLHRoaXMuc3Vic2NyaXB0aW9ucz1uZXcgYyx0aGlzLmNvbm5lY3Rpb25JZD1udWxsLHRoaXMuY2hhbm5lbE1hbmFnZXI9bmV3IGcoZSx0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdC5iaW5kKHRoaXMpKX1pbml0KCl7aWYodGhpcy5pc0luaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcigiUHJveHkgYWxyZWFkeSBpbml0aWFsaXplZCIpO3RoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLmluaXRQcm94eSgpfXJlcXVlc3QoZSx0LG4scil7Y29uc3Qgbz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57dHlwZToicmVxdWVzdCIsbmFtZXNwYWNlOmUsY29tbWFuZDp0LHJlcXVlc3RJZDppKCksZGF0YTpuLG1lc3NhZ2VPcmlnaW46cn19KGUsdCxuLG51bGwhPXI/cjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpKSxhPXRoaXMucmVxdWVzdE1hbmFnZXIucHJvY2Vzc1JlcXVlc3Qobyk7cmV0dXJuIHRoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KG8pLGF9c3Vic2NyaWJlKGUsdCxuKXtjb25zdHtoYW5kbGVySWQ6cn09dGhpcy5zdWJzY3JpcHRpb25zLmFkZChlLHQpLG89e3R5cGU6InN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpLGhhbmRsZXJJZDpyfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdChvKX11bnN1YnNjcmliZShlLHQsbil7aWYodGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlLHQpLHRoaXMuc3Vic2NyaXB0aW9ucy5pc0VtcHR5KGUpKXtjb25zdCB0PXt0eXBlOiJ1bnN1YnNjcmliZSIsdG9waWM6ZSxtZXNzYWdlT3JpZ2luOm51bGwhPW4/bjp0aGlzLmdldFVwc3RyZWFtTWVzc2FnZU9yaWdpbigpfTt0aGlzLnNlbmRPclF1ZXVlTWVzc2FnZVRvU3ViamVjdCh0KX19bG9nKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oe2xldmVsOmUsc291cmNlOnQsbWVzc2FnZTpuLGxvZ2dlcklkOnIsZGF0YTpvfSxpLGEpe2NvbnN0IHM9bz9KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8pKTp2b2lkIDA7cmV0dXJue3R5cGU6ImxvZyIsbGV2ZWw6ZSx0aW1lOm5ldyBEYXRlLHNvdXJjZTp0LG1lc3NhZ2U6bixsb2dnZXJJZDpyLGRhdGE6cyxjb250ZXh0OmksbWVzc2FnZU9yaWdpbjphfX0oZSx0aGlzLmFkZENvbnRleHRUb0xvZ2dlcigpLHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHQpfXNlbmRMb2dNZXNzYWdlKGUpeyJsb2ciPT09ZS50eXBlPyhlLmNvbnRleHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUuY29udGV4dCksdGhpcy5hZGRDb250ZXh0VG9Mb2dnZXIoKSksdGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIGxvZyBtZXNzYWdlIix7bWVzc2FnZTplfSl9c2VuZE1ldHJpYyh7bWV0cmljRGF0YTplLHRpbWU6dCxuYW1lc3BhY2U6bn0pe2NvbnN0IHI9ZnVuY3Rpb24oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHIpe3ZhciBvLGk7cmV0dXJue3R5cGU6Im1ldHJpYyIsbmFtZXNwYWNlOm4sbWV0cmljTmFtZTplLm1ldHJpY05hbWUsdW5pdDplLnVuaXQsdmFsdWU6ZS52YWx1ZSx0aW1lOnQsZGltZW5zaW9uczpudWxsIT09KG89ZS5kaW1lbnNpb25zKSYmdm9pZCAwIT09bz9vOnt9LG9wdGlvbmFsRGltZW5zaW9uczpudWxsIT09KGk9ZS5vcHRpb25hbERpbWVuc2lvbnMpJiZ2b2lkIDAhPT1pP2k6e30sbWVzc2FnZU9yaWdpbjpyfX0oe21ldHJpY0RhdGE6ZSx0aW1lOnQsbmFtZXNwYWNlOm59LHRoaXMuZ2V0VXBzdHJlYW1NZXNzYWdlT3JpZ2luKCkpO3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KHIpfXNlbmRNZXRyaWNNZXNzYWdlKGUpeyJtZXRyaWMiPT09ZS50eXBlP3RoaXMuc2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpOnRoaXMubG9nZ2VyLmVycm9yKCJBdHRlbXB0ZWQgdG8gc2VuZCBpbnZhbGlkIG1ldHJpYyBtZXNzYWdlIix7bWV0cmljTWVzc2FnZTplfSl9c2VuZE9yUXVldWVNZXNzYWdlVG9TdWJqZWN0KGUpe3RoaXMuY29ubmVjdGlvbkVzdGFibGlzaGVkP3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSk6dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5wdXNoKGUpfWNvbnN1bWVyTWVzc2FnZUhhbmRsZXIoZSl7aWYoIXRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci5lcnJvcigiQXR0ZW1wdGVkIHRvIHByb2Nlc3MgbWVzc2FnZSBmcm9tIHN1YmplY3QgcHJpb3IgdG8gcHJveHkgYmVpbmcgaW5pdGlhbGl6aW5nLiBNZXNzYWdlIG5vdCBwcm9jZXNzZWQiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6ZS5kYXRhfSk7Y29uc3R7ZGF0YTp0fT1lO2lmKCEoInR5cGUiaW4gdCkpcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIud2FybigiVW5rbm93biBpbmJvdW5kIG1lc3NhZ2UiLHtvcmlnaW5hbE1lc3NhZ2VFdmVudERhdGE6dH0pO2NvbnN0IG49dDt0aGlzLmhhbmRsZU1lc3NhZ2VGcm9tU3ViamVjdChuKX1oYW5kbGVNZXNzYWdlRnJvbVN1YmplY3QoZSl7dGhpcy5oYW5kbGVEZWZhdWx0TWVzc2FnZUZyb21TdWJqZWN0KGUpfWhhbmRsZURlZmF1bHRNZXNzYWdlRnJvbVN1YmplY3QoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSJhY2tub3dsZWRnZSI6dGhpcy5oYW5kbGVDb25uZWN0aW9uQWNrbm93bGVkZ2UoZSk7YnJlYWs7Y2FzZSJyZXNwb25zZSI6dGhpcy5oYW5kbGVSZXNwb25zZShlKTticmVhaztjYXNlInB1Ymxpc2giOnRoaXMuaGFuZGxlUHVibGlzaChlKTticmVhaztjYXNlImVycm9yIjp0aGlzLmhhbmRsZUVycm9yKGUpO2JyZWFrO2Nhc2UiY2hpbGREb3duc3RyZWFtTWVzc2FnZSI6dGhpcy5jaGFubmVsTWFuYWdlci5oYW5kbGVEb3duc3RyZWFtTWVzc2FnZShlKTticmVhaztjYXNlImNoaWxkQ29ubmVjdGlvbkNsb3NlIjp0aGlzLmNoYW5uZWxNYW5hZ2VyLmhhbmRsZUNsb3NlTWVzc2FnZShlKTticmVhaztkZWZhdWx0OnJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmVycm9yKCJVbmtub3duIGluYm91bmQgbWVzc2FnZSIse29yaWdpbmFsTWVzc2FnZUV2ZW50RGF0YTplfSl9fWhhbmRsZUNvbm5lY3Rpb25BY2tub3dsZWRnZShlKXtmb3IodGhpcy5jb25uZWN0aW9uSWQ9ZS5jb25uZWN0aW9uSWQsdGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6InJlYWR5Iixjb25uZWN0aW9uSWQ6ZS5jb25uZWN0aW9uSWR9KSx0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMDt0aGlzLnVwc3RyZWFtTWVzc2FnZVF1ZXVlLmxlbmd0aDspe2NvbnN0IGU9dGhpcy51cHN0cmVhbU1lc3NhZ2VRdWV1ZS5zaGlmdCgpO3RoaXMuc2VuZE1lc3NhZ2VUb1N1YmplY3QoZSl9fWhhbmRsZVJlc3BvbnNlKGUpe3RoaXMucmVxdWVzdE1hbmFnZXIucHJvY2Vzc1Jlc3BvbnNlKGUpfWhhbmRsZVB1Ymxpc2goZSl7Y29uc3R7aGFuZGxlcklkOnQsdG9waWM6bn09ZTtpZih0KXtjb25zdCByPXRoaXMuc3Vic2NyaXB0aW9ucy5nZXRCeUlkKG4sdCk7ciYmdGhpcy5oYW5kbGVBc3luY1N1YnNjcmlwdGlvbkhhbmRsZXJJbnZva2Uoe2hhbmRsZXI6cixoYW5kbGVySWQ6dH0sZSl9ZWxzZSB0aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KG4pLm1hcCgodD0+e3RoaXMuaGFuZGxlQXN5bmNTdWJzY3JpcHRpb25IYW5kbGVySW52b2tlKHQsZSl9KSl9aGFuZGxlRXJyb3IoZSl7aWYoZS5pc0ZhdGFsKXtjb25zdHttZXNzYWdlOnQsdHlwZTpufT1lLHI9RShlLFsibWVzc2FnZSIsInR5cGUiXSk7dGhpcy5zdGF0dXMudXBkYXRlKHtzdGF0dXM6ImVycm9yIixyZWFzb246dCxkZXRhaWxzOnJ9KX10aGlzLnB1Ymxpc2hFcnJvcih7bWVzc2FnZTplLm1lc3NhZ2Usa2V5OmUua2V5LGRldGFpbHM6ZS5kZXRhaWxzLGlzRmF0YWw6ZS5pc0ZhdGFsLHByb3h5U3RhdHVzOmUuc3RhdHVzfSl9cHVibGlzaEVycm9yKGUpe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtjb25uZWN0aW9uU3RhdHVzOnRoaXMuY29ubmVjdGlvblN0YXR1c30pO3RoaXMuZXJyb3JTZXJ2aWNlLmludm9rZSh0KX1oYW5kbGVBc3luY1N1YnNjcmlwdGlvbkhhbmRsZXJJbnZva2UoZSx0KXtyZXR1cm4gYih0aGlzLGFyZ3VtZW50cyx2b2lkIDAsKGZ1bmN0aW9uKih7aGFuZGxlcjplLGhhbmRsZXJJZDp0fSx7dG9waWM6bixkYXRhOnJ9KXt0cnl7eWllbGQgZShyKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiBoYW5kbGluZyBzdWJzY3JpcHRpb24iLHt0b3BpYzpuLGVycm9yOmUsaGFuZGxlcklkOnR9KX19KSl9Z2V0IGNvbm5lY3Rpb25TdGF0dXMoKXtyZXR1cm4gdGhpcy5zdGF0dXMuZ2V0U3RhdHVzKCl9b25FcnJvcihlKXt0aGlzLmVycm9yU2VydmljZS5vbkVycm9yKGUpfW9mZkVycm9yKGUpe3RoaXMuZXJyb3JTZXJ2aWNlLm9mZkVycm9yKGUpfW9uQ29ubmVjdGlvblN0YXR1c0NoYW5nZShlKXt0aGlzLnN0YXR1cy5vbkNoYW5nZShlKX1vZmZDb25uZWN0aW9uU3RhdHVzQ2hhbmdlKGUpe3RoaXMuc3RhdHVzLm9mZkNoYW5nZShlKX1hZGRDaGlsZENoYW5uZWwoZSl7dGhpcy5jaGFubmVsTWFuYWdlci5hZGRDaGFubmVsKGUpfXJlc2V0Q29ubmVjdGlvbihlKXt2YXIgdDt0aGlzLmNvbm5lY3Rpb25Fc3RhYmxpc2hlZD0hMSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoicmVzZXQiLHJlYXNvbjplfSk7Y29uc3Qgbj10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0QWxsU3Vic2NyaXB0aW9uSGFuZGxlcklkcygpO3RoaXMubG9nZ2VyLmluZm8oIlJlc2V0dGluZyBwcm94eSIse3JlYXNvbjplLHN1YnNjcmlwdGlvbkhhbmRsZXJDb3VudDpudWxsIT09KHQ9bnVsbD09bj92b2lkIDA6bi5sZW5ndGgpJiZ2b2lkIDAhPT10P3Q6LTF9KSxudWxsPT1ufHxuLm1hcCgoKHt0b3BpYzplLGhhbmRsZXJJZDp0fSk9Pih7dHlwZToic3Vic2NyaWJlIix0b3BpYzplLG1lc3NhZ2VPcmlnaW46dGhpcy5nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKSxoYW5kbGVySWQ6dH0pKSkuZm9yRWFjaCgoZT0+dGhpcy5zZW5kT3JRdWV1ZU1lc3NhZ2VUb1N1YmplY3QoZSkpKX19Y2xhc3MgQ3tjb25zdHJ1Y3Rvcih7Y29uZmlnOmUscHJveHlGYWN0b3J5OnR9KXtpZih0aGlzLl9pZD1pKCksIXQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gZ2V0IFByb3h5IGJlZm9yZSBzZXR0aW5nIHVwIGZhY3RvcnkiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBpbmNsdWRlIGNvbmZpZyIpO3RoaXMucHJveHlGYWN0b3J5PXQsdGhpcy5fY29uZmlnPWV9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2lkfWdldFByb3h5KCl7cmV0dXJuIHRoaXMucHJveHl8fCh0aGlzLnByb3h5PXRoaXMucHJveHlGYWN0b3J5KHRoaXMpLHRoaXMucHJveHkuaW5pdCgpKSx0aGlzLnByb3h5fWdldCBjb25maWcoKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSx0aGlzLl9jb25maWcpfW9uRXJyb3IoZSl7dGhpcy5nZXRQcm94eSgpLm9uRXJyb3IoZSl9b2ZmRXJyb3IoZSl7dGhpcy5nZXRQcm94eSgpLm9mZkVycm9yKGUpfXN0YXRpYyBpbml0aWFsaXplUHJvdmlkZXIoZSl7Y29uc3QgdD1uZXcgSSh7c291cmNlOiJjb3JlLmFtYXpvbkNvbm5lY3QuaW5pdCIscHJvdmlkZXI6ZX0pO2lmKHRoaXMuaXNJbml0aWFsaXplZCl7Y29uc3QgZT0iRXJyb3I6IEF0dGVtcHRlZCB0byBpbml0aWFsaXplIHByb3ZpZGVyIG1vcmUgdGhhbiBvbmUgdGltZS4iO3Rocm93IHQuZXJyb3IoZSksbmV3IEVycm9yKGUpfXJldHVybiBmdW5jdGlvbihlKXtpZihyKXRocm93IG5ldyBFcnJvcigiR2xvYmFsIFByb3ZpZGVyIGlzIGFscmVhZHkgc2V0Iik7cj1lfShlKSx0aGlzLmlzSW5pdGlhbGl6ZWQ9ITAsZS5nZXRQcm94eSgpLGV9fUMuaXNJbml0aWFsaXplZD0hMSxmdW5jdGlvbihlKXtlW2UudHJhY2U9MV09InRyYWNlIixlW2UuZGVidWc9Ml09ImRlYnVnIixlW2UuaW5mbz0zXT0iaW5mbyIsZVtlLndhcm49NF09Indhcm4iLGVbZS5lcnJvcj01XT0iZXJyb3IifSh5fHwoeT17fSkpO2NsYXNzIFR7Y29uc3RydWN0b3IoZSl7dGhpcy5taXhpbj1lfWdldFRyYW5zZm9ybWVkRGF0YShlLHQpe3JldHVybiB0aGlzLm1peGluP09iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxudWxsIT10P3Q6e30pLHRoaXMubWl4aW4obnVsbCE9dD90Ont9LGUpKTp0fX1jbGFzcyBJe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3h5PW51bGwsdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWw9bnVsbCx0aGlzLmxvZ2dlcklkPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKGUvMikpO3JldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpLEFycmF5LmZyb20odCwoZT0+ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKSkuam9pbigiIikuc3Vic3RyaW5nKDAsZSl9KDgpLCJzdHJpbmciPT10eXBlb2YgZT8odGhpcy5zb3VyY2U9ZSx0aGlzLmRhdGFUcmFuc2Zvcm1lcj1uZXcgVCh2b2lkIDApKToodGhpcy5zb3VyY2U9ZS5zb3VyY2UsZS5wcm92aWRlciYmImZ1bmN0aW9uIj09dHlwZW9mIGUucHJvdmlkZXI/dGhpcy5wcm92aWRlckZhY3Rvcnk9ZS5wcm92aWRlcjp0aGlzLnByb3ZpZGVyPWUucHJvdmlkZXIsdGhpcy5kYXRhVHJhbnNmb3JtZXI9bmV3IFQoZS5taXhpbiksdGhpcy5sb2dPcHRpb25zPWUub3B0aW9ucyl9dHJhY2UoZSx0LG4pe3RoaXMubG9nKHkudHJhY2UsZSx0LG4pfWRlYnVnKGUsdCxuKXt0aGlzLmxvZyh5LmRlYnVnLGUsdCxuKX1pbmZvKGUsdCxuKXt0aGlzLmxvZyh5LmluZm8sZSx0LG4pfXdhcm4oZSx0LG4pe3RoaXMubG9nKHkud2FybixlLHQsbil9ZXJyb3IoZSx0LG4pe3RoaXMubG9nKHkuZXJyb3IsZSx0LG4pfWxvZyhlLHQsbixyKXtjb25zdCBvPXRoaXMuZGF0YVRyYW5zZm9ybWVyLmdldFRyYW5zZm9ybWVkRGF0YShlLG4pO3RoaXMuaWdub3JlUmVtb3RlKHIpfHx0aGlzLmdldFByb3h5KCkubG9nKHtsZXZlbDplLHNvdXJjZTp0aGlzLnNvdXJjZSxsb2dnZXJJZDp0aGlzLmxvZ2dlcklkLG1lc3NhZ2U6dCxkYXRhOm99KSx0aGlzLmFwcGx5RHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZShlLHIpJiZmdW5jdGlvbihlLHQsbil7aWYobilzd2l0Y2goZSl7Y2FzZSB5LmVycm9yOmNvbnNvbGUuZXJyb3IodCxuKTticmVhaztjYXNlIHkud2Fybjpjb25zb2xlLndhcm4odCxuKTticmVhaztjYXNlIHkuaW5mbzpjb25zb2xlLmluZm8odCxuKTticmVhaztjYXNlIHkuZGVidWc6Y29uc29sZS5kZWJ1Zyh0LG4pO2JyZWFrO2Nhc2UgeS50cmFjZTpjb25zb2xlLnRyYWNlKHQsbik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0LG4pfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgeS5lcnJvcjpjb25zb2xlLmVycm9yKHQpO2JyZWFrO2Nhc2UgeS53YXJuOmNvbnNvbGUud2Fybih0KTticmVhaztjYXNlIHkuaW5mbzpjb25zb2xlLmluZm8odCk7YnJlYWs7Y2FzZSB5LmRlYnVnOmNvbnNvbGUuZGVidWcodCk7YnJlYWs7Y2FzZSB5LnRyYWNlOmNvbnNvbGUudHJhY2UodCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyh0KX19KGUsdCxvKX1nZXRQcm92aWRlcigpe3JldHVybiB0aGlzLnByb3ZpZGVyfHwodGhpcy5wcm92aWRlcj10aGlzLnByb3ZpZGVyRmFjdG9yeT90aGlzLnByb3ZpZGVyRmFjdG9yeSgpOm8oKSksdGhpcy5wcm92aWRlcn1nZXRQcm94eSgpe3JldHVybiB0aGlzLl9wcm94eXx8KHRoaXMuX3Byb3h5PXRoaXMuZ2V0UHJvdmlkZXIoKS5nZXRQcm94eSgpKSx0aGlzLl9wcm94eX1hcHBseUR1cGxpY2F0ZU1lc3NhZ2VUb0NvbnNvbGUoZSx0KXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5kdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlKXx8dGhpcy5nZXRMb2dDb25zb2xlTGV2ZWwoKTw9ZX1nZXRMb2dDb25zb2xlTGV2ZWwoKXt2YXIgZSx0LG4scjtyZXR1cm4gdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx8fCh0aGlzLl9sb2dUb0NvbnNvbGVMZXZlbD0obnVsbD09PShlPXRoaXMubG9nT3B0aW9ucyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubWluTG9nVG9Db25zb2xlTGV2ZWxPdmVycmlkZSk/dGhpcy5sb2dPcHRpb25zLm1pbkxvZ1RvQ29uc29sZUxldmVsT3ZlcnJpZGU6bnVsbCE9PShyPW51bGw9PT0obj1udWxsPT09KHQ9dGhpcy5nZXRQcm92aWRlcigpLmNvbmZpZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubG9nZ2luZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4ubWluTG9nVG9Db25zb2xlTGV2ZWwpJiZ2b2lkIDAhPT1yP3I6eS5lcnJvciksdGhpcy5fbG9nVG9Db25zb2xlTGV2ZWx9aWdub3JlUmVtb3RlKGUpe3ZhciB0LG4scjtyZXR1cm4gbnVsbCE9PShuPW51bGw9PT0odD10aGlzLmxvZ09wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PW4mJm58fG51bGwhPT0ocj1udWxsPT1lP3ZvaWQgMDplLnJlbW90ZUlnbm9yZSkmJnZvaWQgMCE9PXImJnJ9fWNsYXNzIHcgZXh0ZW5kcyBTe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucG9zdE1lc3NhZ2VIYW5kbGVyPXRoaXMubGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLnByb3h5TG9nZ2VyPW5ldyBJKHtzb3VyY2U6InNpdGVQcm94eSIscHJvdmlkZXI6ZX0pfWluaXRQcm94eSgpe3RoaXMuc3RhdHVzLnVwZGF0ZSh7c3RhdHVzOiJjb25uZWN0aW5nIn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0aGlzLnBvc3RNZXNzYWdlSGFuZGxlcil9cmVzZXRDb25uZWN0aW9uKGUpe3N1cGVyLnJlc2V0Q29ubmVjdGlvbihlKSx0aGlzLm1lc3NhZ2VQb3J0PXZvaWQgMCx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiY29ubmVjdGluZyJ9KX1zZW5kTWVzc2FnZVRvU3ViamVjdChlKXt0aGlzLm1lc3NhZ2VQb3J0P3RoaXMubWVzc2FnZVBvcnQucG9zdE1lc3NhZ2UoZSk6dGhpcy5wcm94eUxvZ2dlci5lcnJvcigiRmFpbGVkIHRvIHNlbmQgVXBzdHJlYW1NZXNzYWdlLiBNZXNzYWdlUG9ydCBub3Qgc2V0Iix7bWVzc2FnZVR5cGU6ZS50eXBlfSl9YWRkQ29udGV4dFRvTG9nZ2VyKCl7cmV0dXJue319bGlzdGVuRm9ySW5pdGlhbE1lc3NhZ2UoZSl7aWYodGhpcy52ZXJpZnlFdmVudFNvdXJjZShlKSl7aWYoIXRoaXMudmVyaWZ5T3JpZ2luKGUpKXJldHVybjtpZigiY3Jvc3MtZG9tYWluLWFkYXB0ZXItaW5pdCIhPT1lLmRhdGEudHlwZSlyZXR1cm4gdm9pZCB0aGlzLmludmFsaWRJbml0TWVzc2FnZUhhbmRsZXIoZS5kYXRhKTtpZih0aGlzLm1lc3NhZ2VQb3J0JiYodGhpcy5yZXNldENvbm5lY3Rpb24oIlN1YnNlcXVlbnQgTWVzc2FnZSBQb3J0IERldGVjdGVkIiksdGhpcy5wcm94eUxvZ2dlci5pbmZvKCJTdWJzZXF1ZW50IG1lc3NhZ2UgcG9ydCByZWNlaXZlZC4gUmVzZXR0aW5nIGNvbm5lY3Rpb24iKSksdGhpcy5tZXNzYWdlUG9ydD1lLnBvcnRzWzBdLCF0aGlzLm1lc3NhZ2VQb3J0KXRocm93IG5ldyBFcnJvcigibWVzc2FnZSBwb3J0IG5vdCBwcm92aWRlZCBieSBpZnJhbWUiKTt0aGlzLm1lc3NhZ2VQb3J0Lm9ubWVzc2FnZT10aGlzLmNvbnN1bWVyTWVzc2FnZUhhbmRsZXIuYmluZCh0aGlzKSx0aGlzLnN0YXR1cy51cGRhdGUoe3N0YXR1czoiaW5pdGlhbGl6aW5nIn0pLHRoaXMubWVzc2FnZVBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6ImNyb3NzLWRvbWFpbi1zaXRlLXJlYWR5Iixwcm92aWRlcklkOnRoaXMucHJvdmlkZXIuaWR9KSx0aGlzLnByb3h5TG9nZ2VyLmRlYnVnKCJDREEgUG9zdCBtZXNzYWdlIGhhbmRsZXIgcmVtb3ZlZCIpfX12ZXJpZnlPcmlnaW4oZSl7Y29uc3QgdD1lLm9yaWdpbjtpZighdClyZXR1cm4gdGhpcy5wcm94eUxvZ2dlci53YXJuKCJObyBvcmlnaW4gcHJvdmlkZWQgaW4gZXZlbnQuIElnbm9yaW5nIGV2ZW50LiIpLCExO2xldCBuO3RyeXtuPW5ldyBVUkwodGhpcy5wcm92aWRlci5jb25maWcuaW5zdGFuY2VVcmwpLm9yaWdpbn1jYXRjaChlKXtyZXR1cm4gdGhpcy5wcm94eUxvZ2dlci5lcnJvcigiVW5hYmxlIHRvIHBhcnNlIGV4cGVjdGVkIG9yaWdpbiBmcm9tIGNvbmZpZy4gQ2Fubm90IG1hdGNoIix7ZXJyb3I6ZSxldmVudE9yaWdpbjp0LGNvbmZpZ0luc3RhbmNlVXJsOnRoaXMucHJvdmlkZXIuY29uZmlnLmluc3RhbmNlVXJsfSx7ZHVwbGljYXRlTWVzc2FnZVRvQ29uc29sZTohMH0pLCExfXJldHVybiB0PT09bnx8KCJjcm9zcy1kb21haW4tYWRhcHRlci1pbml0Ij09PWUuZGF0YS50eXBlJiZ0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk9yaWdpbiBvZiBtZXNzYWdlIHdpdGggdHlwZSAnY3Jvc3MtZG9tYWluLWFkYXB0ZXItaW5pdCcgZGlkIG5vdCBleHBlY3RlZCBpbnN0YW5jZSB2YWx1ZS4gSWdub3JpbmciLHtleHBlY3RlZE9yaWdpbjpuLGV2ZW50T3JpZ2luOnR9LHtkdXBsaWNhdGVNZXNzYWdlVG9Db25zb2xlOiEwfSksITEpfX1jbGFzcyBBIGV4dGVuZHMgd3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNjcElGcmFtZT1udWxsfWdldCBwcm94eVR5cGUoKXtyZXR1cm4ic3RyZWFtcy1zaXRlIn1zZXRDQ1BJZnJhbWUoZSl7Y29uc3QgdD1Cb29sZWFuKHRoaXMuY2NwSUZyYW1lKTt0aGlzLmNjcElGcmFtZT1lLHQmJnRoaXMucmVzZXRDb25uZWN0aW9uKCJDQ1AgSUZyYW1lIFVwZGF0ZWQiKX1nZXRVcHN0cmVhbU1lc3NhZ2VPcmlnaW4oKXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7X3R5cGU6InN0cmVhbXMtc2l0ZSIscHJvdmlkZXJJZDp0aGlzLnByb3ZpZGVyLmlkfSx7b3JpZ2luOm51bGwhPT0odD1udWxsPT09KGU9bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD92b2lkIDA6ZG9jdW1lbnQubG9jYXRpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm9yaWdpbikmJnZvaWQgMCE9PXQ/dDoidW5rbm93biIscGF0aDpudWxsIT09KHI9bnVsbD09PShuPW51bGw9PT1kb2N1bWVudHx8dm9pZCAwPT09ZG9jdW1lbnQ/dm9pZCAwOmRvY3VtZW50LmxvY2F0aW9uKXx8dm9pZCAwPT09bj92b2lkIDA6bi5wYXRobmFtZSkmJnZvaWQgMCE9PXI/cjoidW5rbm93biJ9KTt2YXIgZSx0LG4scn12ZXJpZnlFdmVudFNvdXJjZShlKXtjb25zdCB0PXRoaXMuY2NwSUZyYW1lO2lmKCF0KXJldHVybiB0aGlzLnByb3h5TG9nZ2VyLmVycm9yKCJDQ1AgSWZyYW1lIG5vdCBwcm92aWRlZCB0byBwcm94eS4gVW5hYmxlIHRvIHZlcmlmeSBldmVudCB0byBDb25uZWN0IHRvIENDUC4iLHtvcmlnaW46ZS5vcmlnaW59KSwhMTtjb25zdCBuPWUuc291cmNlPT09dC5jb250ZW50V2luZG93O3JldHVybiBufHx0aGlzLnByb3h5TG9nZ2VyLndhcm4oIk1lc3NhZ2UgY2FtZSBmcm9tIHVuZXhwZWN0ZWQgaWZyYW1lLiBOb3QgYSB2YWxpZCBDQ1AuIFdpbGwgbm90IGNvbm5lY3QiLHtvcmlnaW46ZS5vcmlnaW59KSxufWludmFsaWRJbml0TWVzc2FnZUhhbmRsZXIoKXt9fWNsYXNzIF8gZXh0ZW5kcyBDe2NvbnN0cnVjdG9yKGUpe3N1cGVyKHtjb25maWc6ZSxwcm94eUZhY3Rvcnk6ZT0+bmV3IEEoZSl9KX1zdGF0aWMgaW5pdChlKXtjb25zdCB0PW5ldyBfKGUpO3JldHVybiBfLmluaXRpYWxpemVQcm92aWRlcih0KSx7cHJvdmlkZXI6dH19c3RhdGljIGdldCBkZWZhdWx0KCl7cmV0dXJuIG8oIkFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKX1zZXRDQ1BJZnJhbWUoZSl7dGhpcy5nZXRQcm94eSgpLnNldENDUElmcmFtZShlKX19fSw4MjU6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dCx0LmFnZW50QXBwPXt9O3ZhciBuPXtDQ1A6ImNjcCIsR1VJREVTOiJjdXN0b212aWV3cyJ9O3QuYWdlbnRBcHAuaW5pdENDUD10LmNvcmUuaW5pdENDUCx0LmFnZW50QXBwLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7fSx0LmFnZW50QXBwLmluaXRBcHBDb21tdW5pY2F0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSksbz1uZXcgdC5JRnJhbWVDb25kdWl0KG4sd2luZG93LHIpLGk9W3QuQWdlbnRFdmVudHMuVVBEQVRFLHQuQ29udGFjdEV2ZW50cy5WSUVXLHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLHQuRXZlbnRUeXBlLlRFUk1JTkFURUQsdC5UYXNrRXZlbnRzLkNSRUFURUQsdC5FbWFpbEV2ZW50cy5DUkVBVEVEXTtyLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24odCl7by5zZW5kVXBzdHJlYW0oZSx0KX0pKX0pKX0pKX07dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pbmRleE9mKCJjY3AtdjIiKTtyZXR1cm4gZS5zbGljZSgwLHQtMSl9LG89ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBlO3RyeXtyZXR1cm4gZS5nZXRDb250YWN0SWQoKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJbQ3VzdG9tVmlld3NdOiBJbnZhbGlkIENvbnRhY3QgUHJvdmlkZWQ6ICIsZSl9fTt0LmFnZW50QXBwLmluaXRBcHA9ZnVuY3Rpb24oZSxpLGEscyl7cz1zfHx7fTt2YXIgYyx1PWEuZW5kc1dpdGgoIi8iKXx8L1s/Jl0/W149PyZdKz1bXj0/Jl0rL2cudGVzdChhKT9hOmErIi8iLGw9cy5vbkxvYWQ/cy5vbkxvYWQ6bnVsbCxwPXtlbmRwb2ludDp1LHN0eWxlOnMuc3R5bGUsb25Mb2FkOmx9O2lmKGU9PT1uLkNDUF9EUiljPW4uQ0NQO2Vsc2UgaWYoZT09PW4uR1VJREVTJiZzLmN1c3RvbVZpZXdzUGFyYW1zKXt2YXIgZD1zLmN1c3RvbVZpZXdzUGFyYW1zLmlmcmFtZVN1ZmZpeDtpZihjPWQ/IiIuY29uY2F0KG4uR1VJREVTKS5jb25jYXQoZCk6IiIuY29uY2F0KG4uR1VJREVTKSx2b2lkIDAhPT10LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LmdldChjKSl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c106IEN1c3RvbSB2aWV3cyBhcHBsaWNhdGlvbiB3aXRoIHRoZSBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSBwcm92aWRlIGEgZGlmZmVyZW50IGlmcmFtZVN1ZmZpeCBmb3IgdGhlIGN1c3RvbSB2aWV3cyBhcHBsaWNhdGlvbi4iKX1lbHNlIGM9ZTt2YXIgZj0ic3RyaW5nIj09dHlwZW9mIGk/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaSk6aTt0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnJlZ2lzdGVyKGMscCxmKSx0LmFnZW50QXBwLkFwcFJlZ2lzdHJ5LnN0YXJ0KGMsKGZ1bmN0aW9uKGkpe3ZhciBhPWkuZW5kcG9pbnQsdT1pLmNvbnRhaW5lckRPTTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe3N3aXRjaChlKXtjYXNlIG4uQ0NQOnJldHVybiBzLmNjcFBhcmFtcz1zLmNjcFBhcmFtcz9zLmNjcFBhcmFtczp7fSxzLnN0eWxlJiYocy5jY3BQYXJhbXMuc3R5bGU9cy5zdHlsZSksZnVuY3Rpb24oZSxuLG8pe3ZhciBpPXtjY3BVcmw6ZSxjY3BMb2FkVGltZW91dDoxZTQsbG9naW5Qb3B1cDohMCxsb2dpblVybDpyKGUpKyIvbG9naW4iLHNvZnRwaG9uZTp7YWxsb3dGcmFtZWRTb2Z0cGhvbmU6ITAsZGlzYWJsZVJpbmd0b25lOiExLGFsbG93RnJhbWVkVmlkZW9DYWxsOiEwLGFsbG93RnJhbWVkU2NyZWVuU2hhcmluZzohMCxhbGxvd0ZyYW1lZFNjcmVlblNoYXJpbmdQb3BVcDohMX19LGE9dC5tZXJnZShpLG8uY2NwUGFyYW1zKTt0LmNvcmUuaW5pdENDUChuLGEpfShhLHUscyk7Y2FzZSBuLkdVSURFUzpyZXR1cm4gdm9pZCAwIT09cy5jdXN0b21WaWV3c1BhcmFtcz8odC5hZ2VudEFwcC5pbml0QXBwQ29tbXVuaWNhdGlvbihjLGEsdSksZnVuY3Rpb24oZSxyLGkpe3ZhciBhLHMsYz1pLmN1c3RvbVZpZXdzUGFyYW1zLHU9Yy5jb250YWN0LGw9Yy5kaXNhYmxlQXV0b0Rlc3Ryb3kscD1jLmlmcmFtZVN1ZmZpeCxkPWMudGVybWluYXRlQ3VzdG9tVmlld09wdGlvbnMsZj12b2lkIDA9PT1kP3t9OmQsaD1pLmN1c3RvbVZpZXdzUGFyYW1zLmNvbnRhY3RGbG93SWQ7dm9pZCAwIT09dSYmKChhPW8odSkpJiYhMCE9PWwmJiJzdHJpbmciIT10eXBlb2YgdSYmdS5vbkRlc3Ryb3koKGZ1bmN0aW9uKG4pe3QuY29yZS50ZXJtaW5hdGVDdXN0b21WaWV3KGUscCx7dGltZW91dDpmLnRpbWVvdXR8fDVlMyxoaWRlSWZyYW1lOnZvaWQgMD09PWYuaGlkZUlmcmFtZXx8Zi5oaWRlSWZyYW1lLHJlc29sdmVJZnJhbWU6dm9pZCAwPT09Zi5yZXNvbHZlSWZyYW1lfHxmLnJlc29sdmVJZnJhbWV9KX0pKSxofHxjb25zb2xlLndhcm4oIltDdXN0b21WaWV3c106IE5lZWQgdG8gcHJvdmlkZSBhIGNvbnRhY3RGbG93SWQgd2hlbiBkZWZpbmluZyBjb250YWN0IHBhcmFtZXRlciBmb3IgaW5pdGFsaXppbmcgY3VzdG9tdmlld3MgYXBwbGljYXRpb24iKSkscz1wPyIiLmNvbmNhdChuLkdVSURFUykuY29uY2F0KHApOiIiLmNvbmNhdChuLkdVSURFUyk7dmFyIGc9ImlmcmFtZVtpZD0nIi5jb25jYXQocywiJ10iKSxtPShudWxsPT1yP3ZvaWQgMDpyLnF1ZXJ5U2VsZWN0b3IoZykpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKXx8d2luZG93LnRvcC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKTtpZighbSl0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c106IE5vIGlmcmFtZSBmb3VuZCBmb3IgdGhlIGFwcDogIixzKTt2YXIgdj1BV1MudXRpbC51dWlkLnY0KCk7YT9tLnNyYz0iIi5jb25jYXQoZSwiP2NvbnRhY3RGbG93SWQ9IikuY29uY2F0KGgsIiZjdXJyZW50Q29udGFjdElkPSIpLmNvbmNhdChhLCImYWdlbnRBcHBUYWJJZD0iKS5jb25jYXQodiwiLXRhYiIpOmgmJihtLnNyYz0iIi5jb25jYXQoZSwiP2NvbnRhY3RGbG93SWQ9IikuY29uY2F0KGgsIiZhZ2VudEFwcFRhYklkPSIpLmNvbmNhdCh2LCItdGFiIikpfShhLHUscykpOnQuYWdlbnRBcHAuaW5pdEFwcENvbW11bmljYXRpb24oYyxhLHUpO2RlZmF1bHQ6cmV0dXJuIHQuYWdlbnRBcHAuaW5pdEFwcENvbW11bmljYXRpb24oYyxhLHUpfX0sZGVzdHJveTpmdW5jdGlvbigpe3N3aXRjaChlKXtjYXNlIG4uQ0NQOnJldHVybiBpPXIoYSkrIi9sb2dvdXQiLHQuZmV0Y2goaSx7Y3JlZGVudGlhbHM6ImluY2x1ZGUifSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5URVJNSU5BVEUpLCEwfSkpLmNhdGNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5nZXRMb2coKS5lcnJvcigiQW4gZXJyb3Igb2NjdXJlZCBvbiBsb2dvdXQuIitlKS53aXRoRXhjZXB0aW9uKGUpLHdpbmRvdy5sb2NhdGlvbi5ocmVmPWksITF9KSk7Y2FzZSBuLkdVSURFUzpyZXR1cm4gdm9pZCAwIT09cy5jdXN0b21WaWV3c1BhcmFtcz8obz1jLHZvaWQgdC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5kZWxldGUobykpOm51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH12YXIgbyxpfX19KSl9LHQuYWdlbnRBcHAuc3RvcEFwcD1mdW5jdGlvbihlKXtyZXR1cm4gdC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5zdG9wKGUpfX0oKX0sOTYxOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQ7dmFyIG4scj0iY2NwIjtlLmNvbm5lY3QuYWdlbnRBcHAuQXBwUmVnaXN0cnk9KG49e30se3JlZ2lzdGVyOmZ1bmN0aW9uKGUsdCxyKXtuW2VdPXtjb250YWluZXJET006cixlbmRwb2ludDp0LmVuZHBvaW50LHN0eWxlOnQuc3R5bGUsaW5zdGFuY2U6dm9pZCAwLG9uTG9hZDp0Lm9uTG9hZH19LHN0YXJ0OmZ1bmN0aW9uKGUsdCl7aWYobltlXSl7dmFyIG89bltlXS5jb250YWluZXJET00saT1uW2VdLmVuZHBvaW50LGE9bltlXS5zdHlsZSxzPW5bZV0ub25Mb2FkO2lmKGUhPT1yKXt2YXIgYz1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtyZXR1cm4gby5zcmM9dCxvLnN0eWxlPW58fCJ3aWR0aDogMTAwJTsgaGVpZ2h0OjEwMCU7IixvLmlkPWUsb1siYXJpYS1sYWJlbCJdPWUsby5vbmxvYWQ9cixvLmFsbG93PSJjbGlwYm9hcmQtcmVhZDsgY2xpcGJvYXJkLXdyaXRlIixvLnNldEF0dHJpYnV0ZSgic2FuZGJveCIsImFsbG93LWZvcm1zIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyIpLG99KGUsaSxhLHMpO28uYXBwZW5kQ2hpbGQoYyl9cmV0dXJuIG5bZV0uaW5zdGFuY2U9dChuW2VdKSxuW2VdLmluc3RhbmNlLmluaXQoKX19LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0sZGVsZXRlOmZ1bmN0aW9uKGUpe2RlbGV0ZSBuW2VdfSxzdG9wOmZ1bmN0aW9uKGUpe2lmKG5bZV0pe3ZhciB0LHI9bltlXSxvPXIuY29udGFpbmVyRE9NLnF1ZXJ5U2VsZWN0b3IoImlmcmFtZSIpO2lmKGUuaW5jbHVkZXMoImN1c3RvbXZpZXdzIikpe3ZhciBpPSJpZnJhbWVbaWQ9JyIuY29uY2F0KGUsIiddIik7bz1yLmNvbnRhaW5lckRPTS5xdWVyeVNlbGVjdG9yKGkpfXJldHVybiByLmNvbnRhaW5lckRPTS5yZW1vdmVDaGlsZChvKSxyLmluc3RhbmNlJiYodD1yLmluc3RhbmNlLmRlc3Ryb3koKSxkZWxldGUgci5pbnN0YW5jZSksdH19fSl9KCl9LDYxMDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbihlKXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9O24lMj90KE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bChlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6dChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiByKCl7InVzZSBzdHJpY3QiO3I9ZnVuY3Rpb24oKXtyZXR1cm4gbn07dmFyIHQsbj17fSxvPU9iamVjdC5wcm90b3R5cGUsaT1vLmhhc093blByb3BlcnR5LGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9cy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9cy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPXMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKHQpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBhKGksIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGl9ZnVuY3Rpb24gZihlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fW4ud3JhcD1kO3ZhciBoPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gRSgpe31mdW5jdGlvbiBTKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBUPU9iamVjdC5nZXRQcm90b3R5cGVPZixJPVQmJlQoVChQKFtdKSkpO0kmJkkhPT1vJiZpLmNhbGwoSSxjKSYmKEM9SSk7dmFyIHc9Uy5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKHQsbil7ZnVuY3Rpb24gcihvLGEscyxjKXt2YXIgdT1mKHRbb10sdCxhKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1lKHApJiZpLmNhbGwocCwiX19hd2FpdCIpP24ucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe3IoIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtyKCJ0aHJvdyIsZSxzLGMpfSkpOm4ucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gcigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgbzthKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IG4oKGZ1bmN0aW9uKG4sbyl7cihlLHQsbixvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBSKGUsbixyKXt2YXIgbz1oO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPU8ocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1oKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1mKGUsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBPKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJmUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9dCxPKGUsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9ZihvLGUuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKG4pe2lmKG58fCIiPT09bil7dmFyIHI9bltjXTtpZihyKXJldHVybiByLmNhbGwobik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4ubmV4dClyZXR1cm4gbjtpZighaXNOYU4obi5sZW5ndGgpKXt2YXIgbz0tMSxhPWZ1bmN0aW9uIGUoKXtmb3IoOysrbzxuLmxlbmd0aDspaWYoaS5jYWxsKG4sbykpcmV0dXJuIGUudmFsdWU9bltvXSxlLmRvbmU9ITEsZTtyZXR1cm4gZS52YWx1ZT10LGUuZG9uZT0hMCxlfTtyZXR1cm4gYS5uZXh0PWF9fXRocm93IG5ldyBUeXBlRXJyb3IoZShuKSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBFLnByb3RvdHlwZT1TLGEodywiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLGEoUywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLEUuZGlzcGxheU5hbWU9cChTLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksbi5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1FfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxuLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxTKTooZS5fX3Byb3RvX189UyxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSxuLmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksbi5Bc3luY0l0ZXJhdG9yPV8sbi5hc3luYz1mdW5jdGlvbihlLHQscixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSx0LHIsbyksaSk7cmV0dXJuIG4uaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksbi5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LG4udmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCFlKWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZpLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIHIocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPXQpLCEhb31mb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbb10scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPWkuY2FsbChhLCJjYXRjaExvYyIpLHU9aS5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJmkuY2FsbChyLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxyLmZpbmFsbHlMb2Mpe3ZhciBvPXI7YnJlYWt9fW8mJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZvLnRyeUxvYzw9dCYmdDw9by5maW5hbGx5TG9jJiYobz1udWxsKTt2YXIgYT1vP28uY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxvPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx5fX0sbn1mdW5jdGlvbiBvKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixpKXt2YXIgYT1lLmFwcGx5KHQsbik7ZnVuY3Rpb24gcyhlKXtvKGEscixpLHMsYywibmV4dCIsZSl9ZnVuY3Rpb24gYyhlKXtvKGEscixpLHMsYywidGhyb3ciLGUpfXModm9pZCAwKX0pKX19ZnVuY3Rpb24gYShlLHQpe3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHMoZSx0KTt2YXIgbj17fS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/cyhlLHQpOnZvaWQgMH19KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGksYT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gYT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtjPSEwLGk9ZX0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19fX1mdW5jdGlvbiBzKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxwKHIua2V5KSxyKX19ZnVuY3Rpb24gdShlLHQsbil7cmV0dXJuIHQmJmMoZS5wcm90b3R5cGUsdCksbiYmYyhlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLGV9ZnVuY3Rpb24gbChlLHQsbil7cmV0dXJuKHQ9cCh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBwKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10LHQuQWdlbnRTdGF0ZVR5cGU9dC5tYWtlRW51bShbImluaXQiLCJyb3V0YWJsZSIsIm5vdF9yb3V0YWJsZSIsIm9mZmxpbmUiLCJzeXN0ZW0iLCJlcnJvciJdKSx0LkFnZW50U3RhdHVzVHlwZT10LkFnZW50U3RhdGVUeXBlLHQuQWdlbnRBdmFpbFN0YXRlcz10Lm1ha2VFbnVtKFsiSW5pdCIsIkJ1c3kiLCJBZnRlckNhbGxXb3JrIiwiQ2FsbGluZ0N1c3RvbWVyIiwiRGlhbGluZyIsIkpvaW5pbmciLCJQZW5kaW5nQXZhaWxhYmxlIiwiUGVuZGluZ0J1c3kiXSksdC5BZ2VudEVycm9yU3RhdGVzPXQubWFrZUVudW0oWyJFcnJvciIsIkFnZW50SHVuZ1VwIiwiQmFkQWRkcmVzc0FnZW50IiwiQmFkQWRkcmVzc0N1c3RvbWVyIiwiRGVmYXVsdCIsIkZhaWxlZENvbm5lY3RBZ2VudCIsIkZhaWxlZENvbm5lY3RDdXN0b21lciIsIkludmFsaWRMb2NhbGUiLCJMaW5lRW5nYWdlZEFnZW50IiwiTGluZUVuZ2FnZWRDdXN0b21lciIsIk1pc3NlZENhbGxBZ2VudCIsIk1pc3NlZENhbGxDdXN0b21lciIsIk11bHRpcGxlQ2NwV2luZG93cyIsIlJlYWx0aW1lQ29tbXVuaWNhdGlvbkVycm9yIl0pLHQuRW5kcG9pbnRUeXBlPXQubWFrZUVudW0oWyJwaG9uZV9udW1iZXIiLCJhZ2VudCIsInF1ZXVlIl0pLHQuQWRkcmVzc1R5cGU9dC5FbmRwb2ludFR5cGUsdC5Db25uZWN0aW9uVHlwZT10Lm1ha2VFbnVtKFsiYWdlbnQiLCJpbmJvdW5kIiwib3V0Ym91bmQiLCJtb25pdG9yaW5nIl0pLHQuQ29ubmVjdGlvblN0YXRlVHlwZT10Lm1ha2VFbnVtKFsiaW5pdCIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiLCJob2xkIiwiZGlzY29ubmVjdGVkIiwic2lsZW50X21vbml0b3IiLCJiYXJnZSJdKSx0LkNvbm5lY3Rpb25TdGF0dXNUeXBlPXQuQ29ubmVjdGlvblN0YXRlVHlwZSx0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUz10LnNldChbdC5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db25uZWN0aW9uU3RhdGVUeXBlLkNPTk5FQ1RFRCx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuSE9MRCx0LkNvbm5lY3Rpb25TdGF0ZVR5cGUuU0lMRU5UX01PTklUT1IsdC5Db25uZWN0aW9uU3RhdGVUeXBlLkJBUkdFXSksdC5DT05ORUNUSU9OX0NPTk5FQ1RFRF9TVEFURVM9dC5zZXQoW3QuQ29ubmVjdGlvblN0YXRlVHlwZS5DT05ORUNURUQsdC5Db25uZWN0aW9uU3RhdGVUeXBlLlNJTEVOVF9NT05JVE9SLHQuQ29ubmVjdGlvblN0YXRlVHlwZS5CQVJHRV0pLHQuQ29udGFjdFN0YXRlVHlwZT10Lm1ha2VFbnVtKFsiaW5pdCIsImluY29taW5nIiwicGVuZGluZyIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiLCJtaXNzZWQiLCJlcnJvciIsImVuZGVkIiwicmVqZWN0ZWQiLCJwYXVzZWQiXSksdC5Db250YWN0U3RhdHVzVHlwZT10LkNvbnRhY3RTdGF0ZVR5cGUsdC5DT05UQUNUX0FDVElWRV9TVEFURVM9dC5tYWtlRW51bShbInBhdXNlZCIsImluY29taW5nIiwicGVuZGluZyIsImNvbm5lY3RpbmciLCJjb25uZWN0ZWQiXSksdC5Db250YWN0VHlwZT10Lm1ha2VFbnVtKFsidm9pY2UiLCJxdWV1ZV9jYWxsYmFjayIsImNoYXQiLCJ0YXNrIl0pLHQuQ29udGFjdEluaXRpYXRpb25NZXRob2Q9dC5tYWtlRW51bShbImluYm91bmQiLCJvdXRib3VuZCIsInRyYW5zZmVyIiwicXVldWVfdHJhbnNmZXIiLCJjYWxsYmFjayIsImFwaSIsImRpc2Nvbm5lY3QiLCJ3ZWJydGNfYXBpIiwiYWdlbnRfcmVwbHkiXSksdC5Nb25pdG9yaW5nTW9kZT10Lm1ha2VFbnVtKFsiU0lMRU5UX01PTklUT1IiLCJCQVJHRSJdKSx0Lk1vbml0b3JpbmdFcnJvclR5cGVzPXQubWFrZUVudW0oWyJpbnZhbGlkX3RhcmdldF9zdGF0ZSJdKSx0LkNoYW5uZWxUeXBlPXQubWFrZUVudW0oWyJWT0lDRSIsIkNIQVQiLCJUQVNLIl0pLHQuTWVkaWFUeXBlPXQubWFrZUVudW0oWyJzb2Z0cGhvbmUiLCJjaGF0IiwidGFzayJdKSx0LlNvZnRwaG9uZUNhbGxUeXBlPXQubWFrZUVudW0oWyJhdWRpb192aWRlbyIsInZpZGVvX29ubHkiLCJhdWRpb19vbmx5Iiwibm9uZSJdKSx0LlNvZnRwaG9uZUVycm9yVHlwZXM9dC5tYWtlRW51bShbInVuc3VwcG9ydGVkX2Jyb3dzZXIiLCJtaWNyb3Bob25lX25vdF9zaGFyZWQiLCJzaWduYWxsaW5nX2hhbmRzaGFrZV9mYWlsdXJlIiwic2lnbmFsbGluZ19jb25uZWN0aW9uX2ZhaWx1cmUiLCJpY2VfY29sbGVjdGlvbl90aW1lb3V0IiwidXNlcl9idXN5X2Vycm9yIiwid2VicnRjX2Vycm9yIiwicmVhbHRpbWVfY29tbXVuaWNhdGlvbl9lcnJvciIsInZkaV9zdHJhdGVneV9ub3Rfc3VwcG9ydGVkIiwidmRpX3JlZGlyX25vdF9zdXBwb3J0ZWQiLCJvdGhlciJdKSx0LkNsaWNrVHlwZT10Lm1ha2VFbnVtKFsiQWNjZXB0IiwiUmVqZWN0IiwiSGFuZ3VwIl0pLHQuVm9pY2VJZEVycm9yVHlwZXM9dC5tYWtlRW51bShbIm5vX3NwZWFrZXJfaWRfZm91bmQiLCJzcGVha2VyX2lkX25vdF9lbnJvbGxlZCIsImdldF9zcGVha2VyX2lkX2ZhaWxlZCIsImdldF9zcGVha2VyX3N0YXR1c19mYWlsZWQiLCJvcHRfb3V0X3NwZWFrZXJfZmFpbGVkIiwib3B0X291dF9zcGVha2VyX2luX2xjbXNfZmFpbGVkIiwiZGVsZXRlX3NwZWFrZXJfZmFpbGVkIiwic3RhcnRfc2Vzc2lvbl9mYWlsZWQiLCJldmFsdWF0ZV9zcGVha2VyX2ZhaWxlZCIsInNlc3Npb25fbm90X2V4aXN0cyIsImRlc2NyaWJlX3Nlc3Npb25fZmFpbGVkIiwiZW5yb2xsX3NwZWFrZXJfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfZmFpbGVkIiwidXBkYXRlX3NwZWFrZXJfaWRfaW5fbGNtc19mYWlsZWQiLCJub3Rfc3VwcG9ydGVkX29uX2NvbmZlcmVuY2VfY2FsbHMiLCJlbnJvbGxfc3BlYWtlcl90aW1lb3V0IiwiZXZhbHVhdGVfc3BlYWtlcl90aW1lb3V0IiwiZ2V0X2RvbWFpbl9pZF9mYWlsZWQiLCJub19kb21haW5faWRfZm91bmQiXSksdC5DVElFeGNlcHRpb25zPXQubWFrZUVudW0oWyJBY2Nlc3NEZW5pZWRFeGNlcHRpb24iLCJJbnZhbGlkU3RhdGVFeGNlcHRpb24iLCJCYWRFbmRwb2ludEV4Y2VwdGlvbiIsIkludmFsaWRBZ2VudEFSTkV4Y2VwdGlvbiIsIkludmFsaWRDb25maWd1cmF0aW9uRXhjZXB0aW9uIiwiSW52YWxpZENvbnRhY3RUeXBlRXhjZXB0aW9uIiwiUGFnaW5hdGlvbkV4Y2VwdGlvbiIsIlJlZnJlc2hUb2tlbkV4cGlyZWRFeGNlcHRpb24iLCJTZW5kRGF0YUZhaWxlZEV4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZEV4Y2VwdGlvbiIsIlF1b3RhRXhjZWVkZWRFeGNlcHRpb24iXSksdC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzPXQubWFrZUVudW0oWyJPTkdPSU5HIiwiRU5ERUQiLCJQRU5ESU5HX0NPTkZJR1VSQVRJT04iXSksdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiQUNDRVBUIiwiUkVKRUNUIiwiTk9UX0VOT1VHSF9TUEVFQ0giLCJTUEVBS0VSX05PVF9FTlJPTExFRCIsIlNQRUFLRVJfT1BURURfT1VUIiwiU1BFQUtFUl9JRF9OT1RfUFJPVklERUQiLCJTUEVBS0VSX0VYUElSRUQiXSksdC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiTk9UX0VOT1VHSF9TUEVFQ0giLCJISUdIX1JJU0siLCJMT1dfUklTSyJdKSx0LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbj10Lm1ha2VFbnVtKFsiQXV0aGVudGljYXRlZCIsIk5vdEF1dGhlbnRpY2F0ZWQiLCJJbmNvbmNsdXNpdmUiLCJOb3RFbnJvbGxlZCIsIk9wdGVkT3V0IiwiTm90RW5hYmxlZCIsIkVycm9yIl0pLHQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uPXQubWFrZUVudW0oWyJIaWdoUmlzayIsIkxvd1Jpc2siLCJJbmNvbmNsdXNpdmUiLCJOb3RFbmFibGVkIiwiRXJyb3IiXSksdC5WaWRlb0NhcGFiaWxpdHk9dC5tYWtlRW51bShbIlNFTkQiXSksdC5TY3JlZW5TaGFyZUNhcGFiaWxpdHk9dC5tYWtlRW51bShbIlNFTkQiXSksdC5Wb2ljZUlkRW5yb2xsbWVudFJlcXVlc3RTdGF0dXM9dC5tYWtlRW51bShbIk5PVF9FTk9VR0hfU1BFRUNIIiwiSU5fUFJPR1JFU1MiLCJDT01QTEVURUQiLCJGQUlMRUQiXSksdC5Wb2ljZUlkU3BlYWtlclN0YXR1cz10Lm1ha2VFbnVtKFsiT1BURURfT1VUIiwiRU5ST0xMRUQiLCJQRU5ESU5HIl0pLHQuVm9pY2VJZENvbnN0YW50cz17RVZBTFVBVEVfU0VTU0lPTl9ERUxBWToxZTQsRVZBTFVBVElPTl9NQVhfUE9MTF9USU1FUzoyNCxFVkFMVUFUSU9OX1BPTExJTkdfSU5URVJWQUw6NWUzLEVOUk9MTE1FTlRfTUFYX1BPTExfVElNRVM6MTIwLEVOUk9MTE1FTlRfUE9MTElOR19JTlRFUlZBTDo1ZTMsU1RBUlRfU0VTU0lPTl9ERUxBWTo4ZTN9LHQuQWdlbnRQZXJtaXNzaW9ucz17T1VUQk9VTkRfQ0FMTDoib3V0Ym91bmRDYWxsIixWT0lDRV9JRDoidm9pY2VJZCJ9O3ZhciBvPXUoKGZ1bmN0aW9uIGUoKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0odGhpcyxlKX0pKTtsKG8sImlzRW5hYmxlZCIsKGZ1bmN0aW9uKCl7dmFyIGU9dC5pc0NSTSgpP3QuY29yZS5nZXRDbGllbnQoKTp0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7ZS5jYWxsKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLlFSX0lOVEVHUkFUSU9OX0VYSVNUUyxudWxsLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiUXVpY2sgUmVzcG9uc2VzIGlzRW5hYmxlZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJRdWljayBSZXNwb25zZXMgaXNFbmFibGVkIGZhaWxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUpfX0pfSkpfSkpLGwobywic2VhcmNoUXVpY2tSZXNwb25zZXMiLChmdW5jdGlvbihlKXt2YXIgcj10LmlzQ1JNKCk/dC5jb3JlLmdldENsaWVudCgpOnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLG89bnVsbCE9ZSYmZS5jb250YWN0SWQ/bmV3IHAoZS5jb250YWN0SWQpLmdldEF0dHJpYnV0ZXMoKTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3IuY2FsbCh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcy5RUl9TRUFSQ0hfUVVJQ0tfUkVTUE9OU0VTLG4obih7fSxlKSx7fSx7YXR0cmlidXRlczpvfSkse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzZWFyY2hRdWlja1Jlc3BvbnNlcyBmYWlsZWQiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYShlKX19KX0pKX0pKTt2YXIgcz1mdW5jdGlvbigpe2lmKCF0LmFnZW50LmluaXRpYWxpemVkKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBhZ2VudCBpcyBub3QgeWV0IGluaXRpYWxpemVkISIpfTtzLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKX0scy5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhY3RBUEk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0LkNvbnRhY3QoZS5jb250YWN0SWQpfSxzLnByb3RvdHlwZS5vblJlZnJlc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlJFRlJFU0gsZSl9LHMucHJvdG90eXBlLm9uUm91dGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlJPVVRBQkxFLGUpfSxzLnByb3RvdHlwZS5vbk5vdFJvdXRhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5OT1RfUk9VVEFCTEUsZSl9LHMucHJvdG90eXBlLm9uT2ZmbGluZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuT0ZGTElORSxlKX0scy5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuRVJST1IsZSl9LHMucHJvdG90eXBlLm9uU29mdHBob25lRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLlNPRlRQSE9ORV9FUlJPUixlKX0scy5wcm90b3R5cGUub25XZWJTb2NrZXRDb25uZWN0aW9uTG9zdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fTE9TVCxlKX0scy5wcm90b3R5cGUub25XZWJTb2NrZXRDb25uZWN0aW9uR2FpbmVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9HQUlORUQsZSl9LHMucHJvdG90eXBlLm9uQWZ0ZXJDYWxsV29yaz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuQUNXLGUpfSxzLnByb3RvdHlwZS5vblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5TVEFURV9DSEFOR0UsZSl9LHMucHJvdG90eXBlLm9uTXV0ZVRvZ2dsZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQWdlbnRFdmVudHMuTVVURV9UT0dHTEUsZSl9LHMucHJvdG90eXBlLm9uTG9jYWxNZWRpYVN0cmVhbUNyZWF0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkxPQ0FMX01FRElBX1NUUkVBTV9DUkVBVEVELGUpfSxzLnByb3RvdHlwZS5vblNwZWFrZXJEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlNQRUFLRVJfREVWSUNFX0NIQU5HRUQsZSl9LHMucHJvdG90eXBlLm9uTWljcm9waG9uZURldmljZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbmZpZ3VyYXRpb25FdmVudHMuTUlDUk9QSE9ORV9ERVZJQ0VfQ0hBTkdFRCxlKX0scy5wcm90b3R5cGUub25SaW5nZXJEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlJJTkdFUl9ERVZJQ0VfQ0hBTkdFRCxlKX0scy5wcm90b3R5cGUub25DYW1lcmFEZXZpY2VDaGFuZ2VkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCxlKX0scy5wcm90b3R5cGUub25CYWNrZ3JvdW5kQmx1ckNoYW5nZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbmZpZ3VyYXRpb25FdmVudHMuQkFDS0dST1VORF9CTFVSX0NIQU5HRUQsZSl9LHMucHJvdG90eXBlLm11dGU9ZnVuY3Rpb24oKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkV2ZW50VHlwZS5NVVRFLGRhdGE6e211dGU6ITB9fSl9LHMucHJvdG90eXBlLnVubXV0ZT1mdW5jdGlvbigpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuRXZlbnRUeXBlLk1VVEUsZGF0YTp7bXV0ZTohMX19KX0scy5wcm90b3R5cGUuc2V0U3BlYWtlckRldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1NQRUFLRVJfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHMucHJvdG90eXBlLnNldE1pY3JvcGhvbmVEZXZpY2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9NSUNST1BIT05FX0RFVklDRSxkYXRhOntkZXZpY2VJZDplfX0pfSxzLnByb3RvdHlwZS5zZXRSaW5nZXJEZXZpY2U9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9SSU5HRVJfREVWSUNFLGRhdGE6e2RldmljZUlkOmV9fSl9LHMucHJvdG90eXBlLnNldENhbWVyYURldmljZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuQ0FNRVJBX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOmV9fSl9LHMucHJvdG90eXBlLnNldEJhY2tncm91bmRCbHVyPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29uZmlndXJhdGlvbkV2ZW50cy5CQUNLR1JPVU5EX0JMVVJfQ0hBTkdFRCxkYXRhOntpc0JhY2tncm91bmRCbHVyRW5hYmxlZDplfX0pfSxzLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3Quc3RhdGV9LHMucHJvdG90eXBlLmdldE5leHRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3QubmV4dFN0YXRlfSxzLnByb3RvdHlwZS5nZXRBdmFpbGFiaWxpdHlTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc25hcHNob3QuYWdlbnRBdmFpbGFiaWxpdHlTdGF0ZX0scy5wcm90b3R5cGUuZ2V0U3RhdHVzPXMucHJvdG90eXBlLmdldFN0YXRlLHMucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5ub3coKS10aGlzLl9nZXREYXRhKCkuc25hcHNob3Quc3RhdGUuc3RhcnRUaW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LHMucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPXMucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24scy5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucGVybWlzc2lvbnN9LHMucHJvdG90eXBlLmdldENvbnRhY3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zbmFwc2hvdC5jb250YWN0cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9jcmVhdGVDb250YWN0QVBJKGUpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIWV8fHQuZ2V0VHlwZSgpPT09ZX0pKX0scy5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29uZmlndXJhdGlvbn0scy5wcm90b3R5cGUuZ2V0QWdlbnRTdGF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuYWdlbnRTdGF0ZXN9LHMucHJvdG90eXBlLmdldFJvdXRpbmdQcm9maWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnJvdXRpbmdQcm9maWxlfSxzLnByb3RvdHlwZS5nZXRDaGFubmVsQ29uY3VycmVuY3k9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5nZXRSb3V0aW5nUHJvZmlsZSgpLmNoYW5uZWxDb25jdXJyZW5jeU1hcDtyZXR1cm4gbnx8KG49T2JqZWN0LmtleXModC5DaGFubmVsVHlwZSkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiJUQVNLIiE9PW4mJihlW3QuQ2hhbm5lbFR5cGVbbl1dPTEpLGV9KSx7fSkpLGU/bltlXXx8MDpufSxzLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLm5hbWV9LHMucHJvdG90eXBlLmdldEFnZW50QVJOPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmFnZW50QVJOfSxzLnByb3RvdHlwZS5nZXRFeHRlbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkuZXh0ZW5zaW9ufSxzLnByb3RvdHlwZS5nZXREaWFsYWJsZUNvdW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5kaWFsYWJsZUNvdW50cmllc30scy5wcm90b3R5cGUuaXNTb2Z0cGhvbmVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZUVuYWJsZWR9LHMucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSxuKXt2YXIgcj10LmNvcmUuZ2V0Q2xpZW50KCk7ZSYmZS5hZ2VudFByZWZlcmVuY2VzJiZlLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UmJiFlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlJiYoZS5hZ2VudFByZWZlcmVuY2VzLmxvY2FsZT1lLmFnZW50UHJlZmVyZW5jZXMuTEFOR1VBR0UpLGUmJmUuYWdlbnRQcmVmZXJlbmNlcyYmIXQuaXNWYWxpZExvY2FsZShlLmFnZW50UHJlZmVyZW5jZXMubG9jYWxlKT9uJiZuLmZhaWx1cmUmJm4uZmFpbHVyZSh0LkFnZW50RXJyb3JTdGF0ZXMuSU5WQUxJRF9MT0NBTEUpOnIuY2FsbCh0LkNsaWVudE1ldGhvZHMuVVBEQVRFX0FHRU5UX0NPTkZJR1VSQVRJT04se2NvbmZpZ3VyYXRpb246dC5hc3NlcnROb3ROdWxsKGUsImNvbmZpZ3VyYXRpb24iKX0se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlJFTE9BRF9BR0VOVF9DT05GSUdVUkFUSU9OKSxuLnN1Y2Nlc3MmJm4uc3VjY2VzcyhlKX0sZmFpbHVyZTpuJiZuLmZhaWx1cmV9KX0scy5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSxuLHIpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5QVVRfQUdFTlRfU1RBVEUse3N0YXRlOnQuYXNzZXJ0Tm90TnVsbChlLCJzdGF0ZSIpLGVucXVldWVOZXh0U3RhdGU6ciYmISFyLmVucXVldWVOZXh0U3RhdGV9LG4pfSxzLnByb3RvdHlwZS5vbkVucXVldWVkTmV4dFN0YXRlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLkVOUVVFVUVEX05FWFRfU1RBVEUsZSl9LHMucHJvdG90eXBlLnNldFN0YXR1cz1zLnByb3RvdHlwZS5zZXRTdGF0ZSxzLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89bmV3IHQuRW5kcG9pbnQoZSk7ZGVsZXRlIG8uZW5kcG9pbnRJZDt2YXIgaT17ZW5kcG9pbnQ6dC5hc3NlcnROb3ROdWxsKG8sImVuZHBvaW50IikscXVldWVBUk46biYmKG4ucXVldWVBUk58fG4ucXVldWVJZCl8fHRoaXMuZ2V0Um91dGluZ1Byb2ZpbGUoKS5kZWZhdWx0T3V0Ym91bmRRdWV1ZS5xdWV1ZUFSTn07biYmbi5yZWxhdGVkQ29udGFjdElkJiZudWxsIT09bi5yZWxhdGVkQ29udGFjdElkJiYoaS5yZWxhdGVkQ29udGFjdElkPW4ucmVsYXRlZENvbnRhY3RJZCxuLnByZXZpb3VzQ29udGFjdElkJiZkZWxldGUgaS5wcmV2aW91c0NvbnRhY3RJZCksci5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfT1VUQk9VTkRfQ09OVEFDVCxpLG4mJntzdWNjZXNzOm4uc3VjY2VzcyxmYWlsdXJlOm4uZmFpbHVyZX0pfSxzLnByb3RvdHlwZS5nZXRBbGxRdWV1ZUFSTnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25maWd1cmF0aW9uKCkucm91dGluZ1Byb2ZpbGUucXVldWVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucXVldWVBUk59KSl9LHMucHJvdG90eXBlLmdldEVuZHBvaW50cz1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcyxpPXQuY29yZS5nZXRDbGllbnQoKTt0LmFzc2VydE5vdE51bGwobiwiY2FsbGJhY2tzIiksdC5hc3NlcnROb3ROdWxsKG4uc3VjY2VzcywiY2FsbGJhY2tzLnN1Y2Nlc3MiKTt2YXIgYT1yfHx7fTthLmVuZHBvaW50cz1hLmVuZHBvaW50c3x8W10sYS5tYXhSZXN1bHRzPWEubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdC5pc0FycmF5KGUpfHwoZT1bZV0pLGkuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0VORFBPSU5UUyx7cXVldWVBUk5zOmUsbmV4dFRva2VuOmEubmV4dFRva2VufHxudWxsLG1heFJlc3VsdHM6YS5tYXhSZXN1bHRzfSx7c3VjY2VzczpmdW5jdGlvbihyKXtpZihyLm5leHRUb2tlbilvLmdldEVuZHBvaW50cyhlLG4se25leHRUb2tlbjpyLm5leHRUb2tlbixtYXhSZXN1bHRzOmEubWF4UmVzdWx0cyxlbmRwb2ludHM6YS5lbmRwb2ludHMuY29uY2F0KHIuZW5kcG9pbnRzKX0pO2Vsc2V7YS5lbmRwb2ludHM9YS5lbmRwb2ludHMuY29uY2F0KHIuZW5kcG9pbnRzKTt2YXIgaT1hLmVuZHBvaW50cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5FbmRwb2ludChlKX0pKTtuLnN1Y2Nlc3Moe2VuZHBvaW50czppLGFkZHJlc3NlczppfSl9fSxmYWlsdXJlOm4uZmFpbHVyZX0pfSxzLnByb3RvdHlwZS5nZXRBZGRyZXNzZXM9cy5wcm90b3R5cGUuZ2V0RW5kcG9pbnRzLHMucHJvdG90eXBlLl9nZXRSZXNvdXJjZUlkPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmdldEFsbFF1ZXVlQVJOcygpLG49YSh0KTt0cnl7Zm9yKG4ucygpOyEoZT1uLm4oKSkuZG9uZTspe3ZhciByPWUudmFsdWUubWF0Y2goL1wvYWdlbnRcLyhbXi9dKykvKTtpZihyKXJldHVybiByWzFdfX1jYXRjaChlKXtuLmUoZSl9ZmluYWxseXtuLmYoKX1yZXR1cm4gbmV3IEVycm9yKCJBZ2VudC5wcm90b3R5cGUuX2dldFJlc291cmNlSWQ6IHF1ZXVlQXJucyBkaWQgbm90IGNvbnRhaW4gYWdlbnRSZXNvdXJjZUlkOiAiLHQpfSxzLnByb3RvdHlwZS50b1NuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkFnZW50U25hcHNob3QodGhpcy5fZ2V0RGF0YSgpKX07dmFyIGM9ZnVuY3Rpb24oZSl7dC5BZ2VudC5jYWxsKHRoaXMpLHRoaXMuYWdlbnREYXRhPWV9OyhjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5fZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFnZW50RGF0YX0sYy5wcm90b3R5cGUuX2NyZWF0ZUNvbnRhY3RBUEk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0LkNvbnRhY3RTbmFwc2hvdChlKX07dmFyIHA9ZnVuY3Rpb24oZSl7dGhpcy5jb250YWN0SWQ9ZX07cC5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5nZXRDb250YWN0SWQoKSl9LHAucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFR5cGUoKT09PXQuQ29udGFjdFR5cGUuQ0hBVD9uZXcgdC5DaGF0Q29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCk6dGhpcy5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLlRBU0s/bmV3IHQuVGFza0Nvbm5lY3Rpb24odGhpcy5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpOm5ldyB0LlZvaWNlQ29ubmVjdGlvbih0aGlzLmNvbnRhY3RJZCxlLmNvbm5lY3Rpb25JZCl9LHAucHJvdG90eXBlLmdldEV2ZW50TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUoZSx0aGlzLmdldENvbnRhY3RJZCgpKX0scC5wcm90b3R5cGUub25SZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gpLGUpfSxwLnByb3RvdHlwZS5vbkluY29taW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLklOQ09NSU5HKSxlKX0scC5wcm90b3R5cGUub25Db25uZWN0aW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RJTkcpLGUpfSxwLnByb3RvdHlwZS5vblBlbmRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuUEVORElORyksZSl9LHAucHJvdG90eXBlLm9uQWNjZXB0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQpLGUpfSxwLnByb3RvdHlwZS5vbk1pc3NlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHRoaXMuZ2V0RXZlbnROYW1lKHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLGUpfSxwLnByb3RvdHlwZS5vbkVuZGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkVOREVEKSxlKX0scC5wcm90b3R5cGUub25EZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkRFU1RST1lFRCksZSl9LHAucHJvdG90eXBlLm9uQUNXPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkFDVyksZSl9LHAucHJvdG90eXBlLm9uQ29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodGhpcy5nZXRFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCksZSl9LHAucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0aGlzLmdldEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuRVJST1IpLGUpfSxwLnByb3RvdHlwZS5nZXRDb250YWN0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWN0SWR9LHAucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWFsQ29udGFjdElkfSxwLnByb3RvdHlwZS5nZXRJbml0aWFsQ29udGFjdElkPXAucHJvdG90eXBlLmdldE9yaWdpbmFsQ29udGFjdElkLHAucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnR5cGV9LHAucHJvdG90eXBlLmdldENvbnRhY3REdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdER1cmF0aW9ufSxwLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc3RhdGV9LHAucHJvdG90eXBlLmdldFN0YXR1cz1wLnByb3RvdHlwZS5nZXRTdGF0ZSxwLnByb3RvdHlwZS5nZXRTdGF0ZUR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQubm93KCktdGhpcy5fZ2V0RGF0YSgpLnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCkrdC5jb3JlLmdldFNrZXcoKX0scC5wcm90b3R5cGUuZ2V0U3RhdHVzRHVyYXRpb249cC5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbixwLnByb3RvdHlwZS5nZXRRdWV1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkucXVldWV9LHAucHJvdG90eXBlLmdldFF1ZXVlVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5xdWV1ZVRpbWVzdGFtcH0scC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29ubmVjdGlvbnMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gZS5nZXRUeXBlKCk9PT10LkNvbnRhY3RUeXBlLkNIQVQ/bmV3IHQuQ2hhdENvbm5lY3Rpb24oZS5jb250YWN0SWQsbi5jb25uZWN0aW9uSWQpOmUuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5UQVNLP25ldyB0LlRhc2tDb25uZWN0aW9uKGUuY29udGFjdElkLG4uY29ubmVjdGlvbklkKTpuZXcgdC5Wb2ljZUNvbm5lY3Rpb24oZS5jb250YWN0SWQsbi5jb25uZWN0aW9uSWQpfSkpfSxwLnByb3RvdHlwZS5nZXRJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0luaXRpYWxDb25uZWN0aW9uKCl9KSl8fG51bGx9LHAucHJvdG90eXBlLmdldEFjdGl2ZUluaXRpYWxDb25uZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybiBudWxsIT1lJiZlLmlzQWN0aXZlKCk/ZTpudWxsfSxwLnByb3RvdHlwZS5nZXRUaGlyZFBhcnR5Q29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNJbml0aWFsQ29ubmVjdGlvbigpJiZlLmdldFR5cGUoKSE9PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR9KSl9LHAucHJvdG90eXBlLmdldFNpbmdsZUFjdGl2ZVRoaXJkUGFydHlDb25uZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGhpcmRQYXJ0eUNvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0FjdGl2ZSgpfSkpWzBdfHxudWxsfSxwLnByb3RvdHlwZS5nZXRBZ2VudENvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXRUeXBlKCk7cmV0dXJuIG49PT10LkNvbm5lY3Rpb25UeXBlLkFHRU5UfHxuPT09dC5Db25uZWN0aW9uVHlwZS5NT05JVE9SSU5HfSkpfSxwLnByb3RvdHlwZS5nZXRBY3RpdmVDb25uZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0FjdGl2ZSgpfSkpfSxwLnByb3RvdHlwZS5oYXNUd29BY3RpdmVQYXJ0aWNpcGFudHM9ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXRoaXMuZ2V0QWN0aXZlQ29ubmVjdGlvbnMoKS5sZW5ndGh9LHAucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm5hbWV9LHAucHJvdG90eXBlLmdldEluaXRpYXRpb25NZXRob2Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmluaXRpYXRpb25NZXRob2R9LHAucHJvdG90eXBlLmdldENvbnRhY3RNZXRhZGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdE1ldGFkYXRhfSxwLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuZGVzY3JpcHRpb259LHAucHJvdG90eXBlLmdldFJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnJlZmVyZW5jZXN9LHAucHJvdG90eXBlLmdldEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLmF0dHJpYnV0ZXN9LHAucHJvdG90eXBlLmdldENvbnRhY3RGZWF0dXJlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY29udGFjdEZlYXR1cmVzfSxwLnByb3RvdHlwZS5nZXRDaGFubmVsQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY2hhbm5lbENvbnRleHR9LHAucHJvdG90eXBlLmdldFNlZ21lbnRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5zZWdtZW50QXR0cmlidXRlc30scC5wcm90b3R5cGUuZ2V0Q29udGFjdFN1YnR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNlZ21lbnRBdHRyaWJ1dGVzKCk7cmV0dXJuIGUmJmVbImNvbm5lY3Q6U3VidHlwZSJdP2VbImNvbm5lY3Q6U3VidHlwZSJdLlZhbHVlU3RyaW5nOm51bGx9LHAucHJvdG90eXBlLmlzU29mdHBob25lQ2FsbD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10LmZpbmQodGhpcy5nZXRDb25uZWN0aW9ucygpLChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKX0pKX0scC5wcm90b3R5cGUuaGFzVmlkZW9SVENDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhblNlbmRWaWRlbyYmZS5jYW5TZW5kVmlkZW8oKX0pKX0scC5wcm90b3R5cGUuY2FuQWdlbnRTZW5kVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFnZW50Q29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRWaWRlbyYmZS5jYW5TZW5kVmlkZW8oKX0scC5wcm90b3R5cGUuY2FuQWdlbnRSZWNlaXZlVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7aWYoZS5jYW5TZW5kVmlkZW8mJmUuY2FuU2VuZFZpZGVvKCkpcmV0dXJuITA7dmFyIHQ9dGhpcy5nZXRUaGlyZFBhcnR5Q29ubmVjdGlvbnMoKTtyZXR1cm4gdCYmdC5sZW5ndGg+MCYmdGhpcy5jYW5BZ2VudFNlbmRWaWRlbygpfSxwLnByb3RvdHlwZS5oYXNTY3JlZW5TaGFyZUNhcGFiaWxpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXQuZmluZCh0aGlzLmdldENvbm5lY3Rpb25zKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0pKX0scC5wcm90b3R5cGUuY2FuQWdlbnRTZW5kU2NyZWVuU2hhcmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFnZW50Q29ubmVjdGlvbigpO3JldHVybiBlLmNhblNlbmRTY3JlZW5TaGFyZSYmZS5jYW5TZW5kU2NyZWVuU2hhcmUoKX0scC5wcm90b3R5cGUuY2FuQ3VzdG9tZXJTZW5kU2NyZWVuU2hhcmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluaXRpYWxDb25uZWN0aW9uKCk7cmV0dXJuIGUuY2FuU2VuZFNjcmVlblNoYXJlJiZlLmNhblNlbmRTY3JlZW5TaGFyZSgpfSxwLnByb3RvdHlwZS5zdGFydFNjcmVlblNoYXJpbmc9ZnVuY3Rpb24oKXt2YXIgZT1pKHIoKS5tYXJrKChmdW5jdGlvbiBlKG4pe3ZhciBvLGksYTtyZXR1cm4gcigpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKG89dGhpcy5nZXRDb250YWN0SWQoKSwiY29ubmVjdDpXZWJSVEMiPT09dGhpcy5nZXRDb250YWN0U3VidHlwZSgpKXtlLm5leHQ9MzticmVha310aHJvdyBuZXcgRXJyb3IoIlNjcmVlbiBzaGFyaW5nIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBXZWJSVEMgY29udGFjdHMuIik7Y2FzZSAzOmlmKHRoaXMuaXNDb25uZWN0ZWQoKSl7ZS5uZXh0PTU7YnJlYWt9dGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiQ29udGFjdCAlcyBpcyBub3QgY29ubmVjdGVkLiIsbyk7Y2FzZSA1OmlmKG4pe2UubmV4dD0xMTticmVha31yZXR1cm4gaT10LmlzQ1JNKCk/dC5jb3JlLmdldENsaWVudCgpOnQuY29yZS5nZXRBcGlQcm94eUNsaWVudCgpLGE9e0luc3RhbmNlSWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLENvbnRhY3RJZDpvLFBhcnRpY2lwYW50SWQ6dGhpcy5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRDb25uZWN0aW9uSWQoKX0sZS5hYnJ1cHQoInJldHVybiIsbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7aS5jYWxsKHQuQXBpUHJveHlDbGllbnRNZXRob2RzLlNUQVJUX1NDUkVFTl9TSEFSSU5HLGEse3N1Y2Nlc3M6ZnVuY3Rpb24obil7dC5nZXRMb2coKS5pbmZvKCJzdGFydFNjcmVlblNoYXJpbmcgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVEFSVEVELGRhdGE6e2NvbnRhY3RJZDpvfX0pLGUobil9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigic3RhcnRTY3JlZW5TaGFyaW5nIGZhaWxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfRVJST1IsZGF0YTp7Y29udGFjdElkOm99fSksbihlKX19KX0pKSk7Y2FzZSAxMTp0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RBUlRFRCxkYXRhOntjb250YWN0SWQ6b319KTtjYXNlIDEyOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCkscC5wcm90b3R5cGUub25TY3JlZW5TaGFyaW5nU3RhcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29udGFjdEV2ZW50cy5TQ1JFRU5fU0hBUklOR19TVEFSVEVELGUpfSxwLnByb3RvdHlwZS5zdG9wU2NyZWVuU2hhcmluZz1pKHIoKS5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIG47cmV0dXJuIHIoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihuPXRoaXMuZ2V0Q29udGFjdElkKCksImNvbm5lY3Q6V2ViUlRDIj09PXRoaXMuZ2V0Q29udGFjdFN1YnR5cGUoKSl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJTY3JlZW4gc2hhcmluZyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgV2ViUlRDIGNvbnRhY3RzLiIpO2Nhc2UgMzppZih0aGlzLmlzQ29ubmVjdGVkKCkpe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgaXMgbm90IGNvbm5lY3RlZC4iLG4pO2Nhc2UgNTp0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuU0NSRUVOX1NIQVJJTkdfU1RPUFBFRCxkYXRhOntjb250YWN0SWQ6bn19KTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxwLnByb3RvdHlwZS5vblNjcmVlblNoYXJpbmdTdG9wcGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX1NUT1BQRUQsZSl9LHAucHJvdG90eXBlLm9uU2NyZWVuU2hhcmluZ0Vycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db250YWN0RXZlbnRzLlNDUkVFTl9TSEFSSU5HX0VSUk9SLGUpfSxwLnByb3RvdHlwZS5faXNJbmJvdW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5pbml0aWF0aW9uTWV0aG9kIT09dC5Db250YWN0SW5pdGlhdGlvbk1ldGhvZC5PVVRCT1VORH0scC5wcm90b3R5cGUuaXNJbmJvdW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJbml0aWFsQ29ubmVjdGlvbigpO3JldHVybiBlLmdldE1lZGlhVHlwZSgpPT09dC5NZWRpYVR5cGUuVEFTSz90aGlzLl9pc0luYm91bmQoKTohIWUmJmUuZ2V0VHlwZSgpPT09dC5Db25uZWN0aW9uVHlwZS5JTkJPVU5EfSxwLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVEVEfSxwLnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24oZSl7dmFyIG49dC5jb3JlLmdldENsaWVudCgpLHI9dGhpcyxvPXRoaXMuZ2V0Q29udGFjdElkKCk7dC5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6dC5DbGlja1R5cGUuQUNDRVBULGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSxuLmNhbGwodC5DbGllbnRNZXRob2RzLkFDQ0VQVF9DT05UQUNULHtjb250YWN0SWQ6b30se3N1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIGk9dC5jb3JlLmdldFVwc3RyZWFtKCk7aS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZGF0YTpuZXcgdC5Db250YWN0KG8pfSksaS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuQUNDRVBURUQsci5nZXRDb250YWN0SWQoKSksZGF0YTpuZXcgdC5Db250YWN0KG8pfSk7dmFyIGE9bmV3IHQuQ29udGFjdChvKTt0LmlzRmlyZWZveEJyb3dzZXIoKSYmYS5pc1NvZnRwaG9uZUNhbGwoKSYmdC5jb3JlLnRyaWdnZXJSZWFkeVRvU3RhcnRTZXNzaW9uRXZlbnQoKSxlJiZlLnN1Y2Nlc3MmJmUuc3VjY2VzcyhuKX0sZmFpbHVyZTpmdW5jdGlvbihuLHIpe3QuZ2V0TG9nKCkuZXJyb3IoIkFjY2VwdCBDb250YWN0IGZhaWxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aEV4Y2VwdGlvbihuKS53aXRoT2JqZWN0KHtkYXRhOnJ9KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IkNvbnRhY3RBY2NlcHRGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pLGUmJmUuZmFpbHVyZSYmZS5mYWlsdXJlKHQuQ29udGFjdFN0YXRlVHlwZS5FUlJPUil9fSl9LHAucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0LmdldExvZygpLndhcm4oImNvbnRhY3QuZGVzdHJveSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIil9LHAucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCk7dC5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6dC5DbGlja1R5cGUuUkVKRUNULGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSxuLmNhbGwodC5DbGllbnRNZXRob2RzLlJFSkVDVF9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LHAucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DT01QTEVURV9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LHAucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DTEVBUl9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LHAucHJvdG90eXBlLm5vdGlmeUlzc3VlPWZ1bmN0aW9uKGUsbixyKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuTk9USUZZX0NPTlRBQ1RfSVNTVUUse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGlzc3VlQ29kZTplLGRlc2NyaXB0aW9uOm59LHIpfSxwLnByb3RvdHlwZS5hZGRDb25uZWN0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89bmV3IHQuRW5kcG9pbnQoZSk7ZGVsZXRlIG8uZW5kcG9pbnRJZCxyLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9BRERJVElPTkFMX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGVuZHBvaW50Om99LG4pfSxwLnByb3RvdHlwZS50b2dnbGVBY3RpdmVDb25uZWN0aW9ucz1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuZ2V0Q2xpZW50KCkscj1udWxsLG89dC5maW5kKHRoaXMuZ2V0Q29ubmVjdGlvbnMoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29ubmVjdGlvblN0YXRlVHlwZS5IT0xEfSkpO2lmKG51bGwhPW8pcj1vLmdldENvbm5lY3Rpb25JZCgpO2Vsc2V7dmFyIGk9dGhpcy5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0pKTtpLmxlbmd0aD4wJiYocj1pWzBdLmdldENvbm5lY3Rpb25JZCgpKX1uLmNhbGwodC5DbGllbnRNZXRob2RzLlRPR0dMRV9BQ1RJVkVfQ09OTkVDVElPTlMse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDpyfSxlKX0scC5wcm90b3R5cGUuc2VuZFNvZnRwaG9uZU1ldHJpY3M9ZnVuY3Rpb24obixyKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOm59LHIpLHQucHVibGlzaFNvZnRwaG9uZVN0YXRzKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjY3BWZXJzaW9uOmUuY2NwVmVyc2lvbixzdGF0czpufSl9LHAucHJvdG90eXBlLnNlbmRTb2Z0cGhvbmVSZXBvcnQ9ZnVuY3Rpb24obixyKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9SRVBPUlQse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246ZS5jY3BWZXJzaW9uLHJlcG9ydDpufSxyKX0scC5wcm90b3R5cGUuY29uZmVyZW5jZUNvbm5lY3Rpb25zPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRDbGllbnQoKS5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DT05GRVJFTkNFX0NPTk5FQ1RJT05TLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9LHAucHJvdG90eXBlLnRvU25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQuQ29udGFjdFNuYXBzaG90KHRoaXMuX2dldERhdGEoKSl9LHAucHJvdG90eXBlLmlzTXVsdGlQYXJ0eUNvbmZlcmVuY2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDb250YWN0RmVhdHVyZXMoKTtyZXR1cm4hKCFlfHwhZS5tdWx0aVBhcnR5Q29uZmVyZW5jZUVuYWJsZWQpfSxwLnByb3RvdHlwZS51cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZT1mdW5jdGlvbihlLG4pe2UmJk9iamVjdC52YWx1ZXModC5Nb25pdG9yaW5nTW9kZSkuaW5jbHVkZXMoZS50b1VwcGVyQ2FzZSgpKT90LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuVVBEQVRFX01PTklUT1JfUEFSVElDSVBBTlRfU1RBVEUse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLHRhcmdldE1vbml0b3JNb2RlOmUudG9VcHBlckNhc2UoKX0sbik6KHQuZ2V0TG9nKCkuZXJyb3IoIkludmFsaWQgdGFyZ2V0IHN0YXRlIHdhcyBwcm92aWRlZDogIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbiYmbi5mYWlsdXJlJiZuLmZhaWx1cmUodC5Nb25pdG9yaW5nRXJyb3JUeXBlcy5JTlZBTElEX1RBUkdFVF9TVEFURSkpfSxwLnByb3RvdHlwZS5pc1VuZGVyU3VwZXJ2aXNpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvbm5lY3Rpb25zKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRUeXBlKCkhPT10LkNvbm5lY3Rpb25UeXBlLkFHRU5UfSkpO3JldHVybiB2b2lkIDAhPT0oZSYmZS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0JhcmdlKCkmJmUuaXNBY3RpdmUoKX0pKSl9LHAucHJvdG90eXBlLnNpbGVudE1vbml0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUodC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUixlKX0scC5wcm90b3R5cGUuYmFyZ2VJbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZSh0Lk1vbml0b3JpbmdNb2RlLkJBUkdFLGUpfSxwLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuUEFVU0VfQ09OVEFDVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCl9LGUpfSxwLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlJFU1VNRV9DT05UQUNULHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKX0sZSl9O3ZhciBkPWZ1bmN0aW9uKGUpe3QuQ29udGFjdC5jYWxsKHRoaXMsZS5jb250YWN0SWQpLHRoaXMuY29udGFjdERhdGE9ZX07KGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocC5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1kLGQucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdERhdGF9LGQucHJvdG90eXBlLl9jcmVhdGVDb25uZWN0aW9uQVBJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdC5Db25uZWN0aW9uU25hcHNob3QoZSl9O3ZhciBmPWZ1bmN0aW9uKGUsdCl7dGhpcy5jb250YWN0SWQ9ZSx0aGlzLmNvbm5lY3Rpb25JZD10LHRoaXMuX2luaXRNZWRpYUNvbnRyb2xsZXIoKX07Zi5wcm90b3R5cGUuX2dldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29ubmVjdGlvbkRhdGEodGhpcy5nZXRDb250YWN0SWQoKSx0aGlzLmdldENvbm5lY3Rpb25JZCgpKX0sZi5wcm90b3R5cGUuZ2V0Q29udGFjdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFjdElkfSxmLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0aW9uSWR9LGYucHJvdG90eXBlLmdldEVuZHBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LkVuZHBvaW50KHRoaXMuX2dldERhdGEoKS5lbmRwb2ludCl9LGYucHJvdG90eXBlLmdldEFkZHJlc3M9Zi5wcm90b3R5cGUuZ2V0RW5kcG9pbnQsZi5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnN0YXRlfSxmLnByb3RvdHlwZS5nZXRTdGF0dXM9Zi5wcm90b3R5cGUuZ2V0U3RhdGUsZi5wcm90b3R5cGUuZ2V0U3RhdGVEdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0Lm5vdygpLXRoaXMuX2dldERhdGEoKS5zdGF0ZS50aW1lc3RhbXAuZ2V0VGltZSgpK3QuY29yZS5nZXRTa2V3KCl9LGYucHJvdG90eXBlLmdldFN0YXR1c0R1cmF0aW9uPWYucHJvdG90eXBlLmdldFN0YXRlRHVyYXRpb24sZi5wcm90b3R5cGUuZ2V0VHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkudHlwZX0sZi5wcm90b3R5cGUuaXNJbml0aWFsQ29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuaW5pdGlhbH0sZi5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb250YWlucyh0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUyx0aGlzLmdldFN0YXR1cygpLnR5cGUpfSxmLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiB0LmNvbnRhaW5zKHQuQ09OTkVDVElPTl9DT05ORUNURURfU1RBVEVTLHRoaXMuZ2V0U3RhdHVzKCkudHlwZSl9LGYucHJvdG90eXBlLmlzQ29ubmVjdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFN0YXR1cygpLnR5cGU9PT10LkNvbm5lY3Rpb25TdGF0ZVR5cGUuQ09OTkVDVElOR30sZi5wcm90b3R5cGUuaXNPbkhvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdGF0dXMoKS50eXBlPT09dC5Db25uZWN0aW9uU3RhdGVUeXBlLkhPTER9LGYucHJvdG90eXBlLmdldFNvZnRwaG9uZU1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxmLnByb3RvdHlwZS5nZXRNb25pdG9ySW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvcmluZ0luZm99LGYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dC5wdWJsaXNoQ2xpY2tTdHJlYW1EYXRhKHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjbGlja1R5cGU6dC5DbGlja1R5cGUuSEFOR1VQLGNsaWNrVGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSx0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuREVTVFJPWV9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LGYucHJvdG90eXBlLnNlbmREaWdpdHM9ZnVuY3Rpb24oZSxuKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9ESUdJVFMse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpLGRpZ2l0czplfSxuKX0sZi5wcm90b3R5cGUuaG9sZD1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuSE9MRF9DT05ORUNUSU9OLHtjb250YWN0SWQ6dGhpcy5nZXRDb250YWN0SWQoKSxjb25uZWN0aW9uSWQ6dGhpcy5nZXRDb25uZWN0aW9uSWQoKX0sZSl9LGYucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0Q2xpZW50KCkuY2FsbCh0LkNsaWVudE1ldGhvZHMuUkVTVU1FX0NPTk5FQ1RJT04se2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sZi5wcm90b3R5cGUudG9TbmFwc2hvdD1mdW5jdGlvbigpe3JldHVybiBuZXcgdC5Db25uZWN0aW9uU25hcHNob3QodGhpcy5fZ2V0RGF0YSgpKX0sZi5wcm90b3R5cGUuX2luaXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXt0aGlzLmdldE1lZGlhSW5mbygpJiZ0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9LGYucHJvdG90eXBlLl9pc0FnZW50Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFR5cGUoKTtyZXR1cm4gZT09PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR8fGU9PT10LkNvbm5lY3Rpb25UeXBlLk1PTklUT1JJTkd9LGYucHJvdG90eXBlLl9pc0FnZW50Q29ubmVjdGlvblR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFR5cGUoKTtyZXR1cm4gZT09PXQuQ29ubmVjdGlvblR5cGUuQUdFTlR8fGU9PT10LkNvbm5lY3Rpb25UeXBlLk1PTklUT1JJTkd9O3ZhciBoPWZ1bmN0aW9uKGUpe3RoaXMuY29udGFjdElkPWV9O2gucHJvdG90eXBlLmdldFNwZWFrZXJJZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt2YXIgaT17Y29udGFjdElkOmUuY29udGFjdElkLGluc3RhbmNlSWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLGF3c0FjY291bnRJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBV1NBY2NvdW50SWQoKX07dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VySWQgY2FsbGVkIikud2l0aE9iamVjdChpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5HRVRfQ09OVEFDVCxpLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2lmKGUuY29udGFjdERhdGEuY3VzdG9tZXJJZCl7dmFyIG49e3NwZWFrZXJJZDplLmNvbnRhY3REYXRhLmN1c3RvbWVySWR9O3QuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlcklkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKG4pfWVsc2V7dmFyIGk9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5OT19TUEVBS0VSX0lEX0ZPVU5ELCJObyBzcGVha2VySWQgYXNzb3RpYXRlZCB3aXRoIHRoaXMgY2FsbCIpO28oaSl9fSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkdldCBTcGVha2VySWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuR0VUX1NQRUFLRVJfSURfRkFJTEVELCJHZXQgU3BlYWtlcklkIGZhaWxlZCIsZSk7byhuKX19KX0pKX0saC5wcm90b3R5cGUuZ2V0U3BlYWtlclN0YXR1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmdldFNwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKGkpe2UuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgYT17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChpLnNwZWFrZXJJZCwic3BlYWtlcklkIiksRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJnZXRTcGVha2VyU3RhdHVzIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVTQ1JJQkVfU1BFQUtFUixhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZ2V0U3BlYWtlclN0YXR1cyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscihlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgbj1KU09OLnBhcnNlKGUpO3N3aXRjaChuLnN0YXR1cyl7Y2FzZSA0MDA6Y2FzZSA0MDQ6dmFyIGk9bjtpLnR5cGU9aS50eXBlP2kudHlwZTp0LlZvaWNlSWRFcnJvclR5cGVzLlNQRUFLRVJfSURfTk9UX0VOUk9MTEVELHQuZ2V0TG9nKCkuaW5mbygiU3BlYWtlciBpcyBub3QgZW5yb2xsZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGkpO2JyZWFrO2RlZmF1bHQ6dC5nZXRMb2coKS5lcnJvcigiZ2V0U3BlYWtlclN0YXR1cyBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGE9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfU1BFQUtFUl9TVEFUVVNfRkFJTEVELCJHZXQgU3BlYWtlclN0YXR1cyBmYWlsZWQiLGUpO28oYSl9fX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtvKGUpfSkpfSkpfSxoLnByb3RvdHlwZS5fb3B0T3V0U3BlYWtlckluTGNtcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBzPXtDb250YWN0SWQ6ci5jb250YWN0SWQsSW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksQVdTQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLEN1c3RvbWVySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLFZvaWNlSWRSZXN1bHQ6e1NwZWFrZXJPcHRlZE91dDohMCxnZW5lcmF0ZWRTcGVha2VySWQ6bn19O3QuZ2V0TG9nKCkuaW5mbygiX29wdE91dFNwZWFrZXJJbkxjbXMgY2FsbGVkIikud2l0aE9iamVjdChzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5VUERBVEVfVk9JQ0VfSURfREFUQSxzLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygib3B0T3V0U3BlYWtlckluTGNtcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJvcHRPdXRTcGVha2VySW5MY21zIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk9QVF9PVVRfU1BFQUtFUl9JTl9MQ01TX0ZBSUxFRCwib3B0T3V0U3BlYWtlckluTGNtcyBmYWlsZWQiLGUpO2Eobil9fSl9KSl9LGgucHJvdG90eXBlLm9wdE91dFNwZWFrZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oYSl7dmFyIHM9aS5zcGVha2VySWQsYz17U3BlYWtlcklkOnQuYXNzZXJ0Tm90TnVsbChzLCJzcGVha2VySWQiKSxEb21haW5JZDphfTt0LmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdChjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5PUFRfT1VUX1NQRUFLRVIsYyx7c3VjY2VzczpmdW5jdGlvbihuKXtlLl9vcHRPdXRTcGVha2VySW5MY21zKHMsbi5nZW5lcmF0ZWRTcGVha2VySWQpLmNhdGNoKChmdW5jdGlvbigpe30pKSx0LmdldExvZygpLmluZm8oIm9wdE91dFNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIobil9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigib3B0T3V0U3BlYWtlciBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5PUFRfT1VUX1NQRUFLRVJfRkFJTEVELCJvcHRPdXRTcGVha2VyIGZhaWxlZC4iLGUpO28obil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LGgucHJvdG90eXBlLmRlbGV0ZVNwZWFrZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciBuPXQuY29yZS5nZXRDbGllbnQoKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGE9e1NwZWFrZXJJZDp0LmFzc2VydE5vdE51bGwoaS5zcGVha2VySWQsInNwZWFrZXJJZCIpLERvbWFpbklkOmV9O3QuZ2V0TG9nKCkuaW5mbygiZGVsZXRlU3BlYWtlciBjYWxsZWQiKS53aXRoT2JqZWN0KGEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkRFTEVURV9TUEVBS0VSLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJkZWxldGVTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoImRlbGV0ZVNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuREVMRVRFX1NQRUFLRVJfRkFJTEVELCJkZWxldGVTcGVha2VyIGZhaWxlZC4iLGUpO28obil9fSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSl9KSl9LGgucHJvdG90eXBlLnN0YXJ0U2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIG49dC5jb3JlLmdldENsaWVudCgpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIGE9e2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbnN0YW5jZUlkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKSxjdXN0b21lckFjY291bnRJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBV1NBY2NvdW50SWQoKSxjbGllbnRUb2tlbjpBV1MudXRpbC51dWlkLnY0KCksZG9tYWluSWQ6aX07dC5nZXRMb2coKS5pbmZvKCJzdGFydFNlc3Npb24gY2FsbGVkIikud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5TVEFSVF9WT0lDRV9JRF9TRVNTSU9OLGEse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoZS5zZXNzaW9uSWQpcihlKTtlbHNle3QuZ2V0TG9nKCkuZXJyb3IoInN0YXJ0Vm9pY2VJZFNlc3Npb24gZmFpbGVkLCBubyBzZXNzaW9uIGlkIHJldHVybmVkIikud2l0aE9iamVjdCh7ZGF0YTplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlNUQVJUX1NFU1NJT05fRkFJTEVELCJObyBzZXNzaW9uIGlkIHJldHVybmVkIGZyb20gc3RhcnQgc2Vzc2lvbiBhcGkiKTtvKG4pfX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzdGFydFZvaWNlSWRTZXNzaW9uIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlNUQVJUX1NFU1NJT05fRkFJTEVELCJzdGFydFZvaWNlSWRTZXNzaW9uIGZhaWxlZCIsZSk7byhuKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0saC5wcm90b3R5cGUuZXZhbHVhdGVTcGVha2VyPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7bi5jaGVja0NvbmZlcmVuY2VDYWxsKCk7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpLGk9MDtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGEscyl7ZnVuY3Rpb24gYygpe24uZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdT17U2Vzc2lvbk5hbWVPcklkOm8uaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQsRG9tYWluSWQ6ZX07dC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgY2FsbGVkIikud2l0aE9iamVjdCh1KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY2FsbCh0LkFnZW50QXBwQ2xpZW50TWV0aG9kcy5FVkFMVUFURV9TRVNTSU9OLHUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYoKytpPHQuVm9pY2VJZENvbnN0YW50cy5FVkFMVUFUSU9OX01BWF9QT0xMX1RJTUVTKWlmKGUuU3RyZWFtaW5nU3RhdHVzPT09dC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLlBFTkRJTkdfQ09ORklHVVJBVElPTilzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTCk7ZWxzZXtpZihlLkF1dGhlbnRpY2F0aW9uUmVzdWx0fHwoZS5BdXRoZW50aWNhdGlvblJlc3VsdD17fSxlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEKSxlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0fHwoZS5GcmF1ZERldGVjdGlvblJlc3VsdD17fSxlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLk5PVF9FTkFCTEVEKSwhbi5pc0F1dGhFbmFibGVkKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYhbi5pc0ZyYXVkRW5hYmxlZChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgYShlKTtpZihlLlN0cmVhbWluZ1N0YXR1cz09PXQuVm9pY2VJZFN0cmVhbWluZ1N0YXR1cy5FTkRFRCYmKG4uaXNBdXRoUmVzdWx0Tm90RW5vdWdoU3BlZWNoKGUuQXV0aGVudGljYXRpb25SZXN1bHQuRGVjaXNpb24pJiYoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkUpLG4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSYmKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uSU5DT05DTFVTSVZFKSksbi5pc0F1dGhSZXN1bHRJbmNvbmNsdXNpdmUoZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNGcmF1ZFJlc3VsdEluY29uY2x1c2l2ZShlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgYShlKTtpZighbi5pc0F1dGhSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNBdXRoRW5hYmxlZChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSlzd2l0Y2goZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbil7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkFDQ0VQVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkFVVEhFTlRJQ0FURUQ7YnJlYWs7Y2FzZSB0LlZvaWNlSWRBdXRoZW50aWNhdGlvbkRlY2lzaW9uLlJFSkVDVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk5PVF9BVVRIRU5USUNBVEVEO2JyZWFrO2Nhc2UgdC5Wb2ljZUlkQXV0aGVudGljYXRpb25EZWNpc2lvbi5TUEVBS0VSX09QVEVEX09VVDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLk9QVEVEX09VVDticmVhaztjYXNlIHQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uU1BFQUtFUl9OT1RfRU5ST0xMRUQ6ZS5BdXRoZW50aWNhdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93QXV0aGVudGljYXRpb25EZWNpc2lvbi5OT1RfRU5ST0xMRUQ7YnJlYWs7ZGVmYXVsdDplLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLkVSUk9SfWlmKCFuLmlzRnJhdWRSZXN1bHROb3RFbm91Z2hTcGVlY2goZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikmJm4uaXNGcmF1ZEVuYWJsZWQoZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbikpc3dpdGNoKGUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb24pe2Nhc2UgdC5Wb2ljZUlkRnJhdWREZXRlY3Rpb25EZWNpc2lvbi5ISUdIX1JJU0s6ZS5GcmF1ZERldGVjdGlvblJlc3VsdC5EZWNpc2lvbj10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5ISUdIX1JJU0s7YnJlYWs7Y2FzZSB0LlZvaWNlSWRGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkxPV19SSVNLOmUuRnJhdWREZXRlY3Rpb25SZXN1bHQuRGVjaXNpb249dC5Db250YWN0Rmxvd0ZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTE9XX1JJU0s7YnJlYWs7ZGVmYXVsdDplLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uPXQuQ29udGFjdEZsb3dGcmF1ZERldGVjdGlvbkRlY2lzaW9uLkVSUk9SfWlmKCFuLmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkF1dGhlbnRpY2F0aW9uUmVzdWx0LkRlY2lzaW9uKSYmIW4uaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaChlLkZyYXVkRGV0ZWN0aW9uUmVzdWx0LkRlY2lzaW9uKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJldmFsdWF0ZVNwZWFrZXIgc3VjY2VlZGVkIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQgYShlKTtzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRJT05fUE9MTElOR19JTlRFUlZBTCl9ZWxzZXt0LmdldExvZygpLmVycm9yKCJldmFsdWF0ZVNwZWFrZXIgdGltZW91dCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHI9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FVkFMVUFURV9TUEVBS0VSX1RJTUVPVVQsImV2YWx1YXRlU3BlYWtlciB0aW1lb3V0Iik7cyhyKX19LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dmFyIG47c3dpdGNoKEpTT04ucGFyc2UoZSkuc3RhdHVzKXtjYXNlIDQwMDpjYXNlIDQwNDpuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuU0VTU0lPTl9OT1RfRVhJU1RTLCJldmFsdWF0ZVNwZWFrZXIgZmFpbGVkLCBzZXNzaW9uIG5vdCBleGlzdHMiLGUpLHQuZ2V0TG9nKCkuZXJyb3IoImV2YWx1YXRlU3BlYWtlciBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTticmVhaztkZWZhdWx0Om49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5FVkFMVUFURV9TUEVBS0VSX0ZBSUxFRCwiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCIsZSksdC5nZXRMb2coKS5lcnJvcigiZXZhbHVhdGVTcGVha2VyIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1zKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtzKGUpfSkpfWU/bi5zdGFydFNlc3Npb24oKS50aGVuKChmdW5jdGlvbihlKXtuLnN5bmNTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVWQUxVQVRFX1NFU1NJT05fREVMQVkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzeW5jU3BlYWtlcklkIGZhaWxlZCB3aGVuIHNlc3Npb24gc3RhcnROZXc9dHJ1ZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzKGUpfSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJzdGFydFNlc3Npb24gZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz10cnVlIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHMoZSl9KSk6bi5zeW5jU3BlYWtlcklkKCkudGhlbigoZnVuY3Rpb24oKXtjKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoInN5bmNTcGVha2VySWQgZmFpbGVkIHdoZW4gc2Vzc2lvbiBzdGFydE5ldz1mYWxzZSIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzKGUpfSkpfSkpfSxoLnByb3RvdHlwZS5kZXNjcmliZVNlc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dC5jb3JlLmdldENsaWVudCgpLHI9dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obyxpKXtlLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGE9e1Nlc3Npb25OYW1lT3JJZDpyLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLERvbWFpbklkOmV9O3QuZ2V0TG9nKCkuaW5mbygiZGVzY3JpYmVTZXNzaW9uIGNhbGxlZCIpLndpdGhPYmplY3QoYSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuREVTQ1JJQkVfU0VTU0lPTixhLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe28oZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcigiZGVzY3JpYmVTZXNzaW9uIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkRFU0NSSUJFX1NFU1NJT05fRkFJTEVELCJkZXNjcmliZVNlc3Npb24gZmFpbGVkIixlKTtpKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpKGUpfSkpfSkpfSxoLnByb3RvdHlwZS5jaGVja0Vucm9sbG1lbnRTdGF0dXM9ZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJjaGVja0Vucm9sbG1lbnRTdGF0dXMgY2FsbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgbj10aGlzLHI9MCxvPSExO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXshZnVuY3Rpb24gcygpe2lmKCsrcjx0LlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9NQVhfUE9MTF9USU1FUyluLmRlc2NyaWJlU2Vzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKHIpe3N3aXRjaChyLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLlN0YXR1cyl7Y2FzZSB0LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5DT01QTEVURUQ6aShyKTticmVhaztjYXNlIHQuVm9pY2VJZEVucm9sbG1lbnRSZXF1ZXN0U3RhdHVzLklOX1BST0dSRVNTOm98fCJmdW5jdGlvbiIhPXR5cGVvZiBlfHwoZShyKSxvPSEwKSxzZXRUaW1lb3V0KHMsdC5Wb2ljZUlkQ29uc3RhbnRzLkVOUk9MTE1FTlRfUE9MTElOR19JTlRFUlZBTCk7YnJlYWs7Y2FzZSB0LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5OT1RfRU5PVUdIX1NQRUVDSDpyLlNlc3Npb24uU3RyZWFtaW5nU3RhdHVzIT09dC5Wb2ljZUlkU3RyZWFtaW5nU3RhdHVzLkVOREVEP3NldFRpbWVvdXQocyx0LlZvaWNlSWRDb25zdGFudHMuRU5ST0xMTUVOVF9QT0xMSU5HX0lOVEVSVkFMKTpzZXRUaW1lb3V0KChmdW5jdGlvbigpe24uc3RhcnRTZXNzaW9uKCkudGhlbigoZnVuY3Rpb24oZSl7cygpfSkpLmNhdGNoKChmdW5jdGlvbihlLHQpe2EoZSl9KSl9KSx0LlZvaWNlSWRDb25zdGFudHMuU1RBUlRfU0VTU0lPTl9ERUxBWSk7YnJlYWs7ZGVmYXVsdDp2YXIgYz1yLlNlc3Npb24uRW5yb2xsbWVudFJlcXVlc3REZXRhaWxzLk1lc3NhZ2U/ci5TZXNzaW9uLkVucm9sbG1lbnRSZXF1ZXN0RGV0YWlscy5NZXNzYWdlOiJlbnJvbGxTcGVha2VyIGZhaWxlZC4gVW5rbm93biBlbnJvbGxtZW50IHN0YXR1cyBoYXMgYmVlbiByZWNlaXZlZCI7dC5nZXRMb2coKS5lcnJvcihjKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciB1PXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfRkFJTEVELGMsci5TZXNzaW9uLkVucm9sbG1lbnRSZXF1ZXN0RGV0YWlscy5TdGF0dXMpO2EodSl9fSkpO2Vsc2V7dC5nZXRMb2coKS5lcnJvcigiZW5yb2xsU3BlYWtlciB0aW1lb3V0Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgYz10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLkVOUk9MTF9TUEVBS0VSX1RJTUVPVVQsImVucm9sbFNwZWFrZXIgdGltZW91dCIpO2EoYyl9fSgpfSkpfSxoLnByb3RvdHlwZS5lbnJvbGxTcGVha2VyPWZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlciBjYWxsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXRoaXM7cmV0dXJuIG4uY2hlY2tDb25mZXJlbmNlQ2FsbCgpLG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe24uc3luY1NwZWFrZXJJZCgpLnRoZW4oKGZ1bmN0aW9uKCl7bi5nZXRTcGVha2VyU3RhdHVzKCkudGhlbigoZnVuY3Rpb24oaSl7aS5TcGVha2VyJiZpLlNwZWFrZXIuU3RhdHVzPT10LlZvaWNlSWRTcGVha2VyU3RhdHVzLk9QVEVEX09VVD9uLmRlbGV0ZVNwZWFrZXIoKS50aGVuKChmdW5jdGlvbigpe24uZW5yb2xsU3BlYWtlckhlbHBlcihyLG8sZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe28oZSl9KSk6bi5lbnJvbGxTcGVha2VySGVscGVyKHIsbyxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7byhlKX0pKX0pKX0saC5wcm90b3R5cGUuZW5yb2xsU3BlYWtlckhlbHBlcj1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcyxpPXQuY29yZS5nZXRDbGllbnQoKSxhPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtvLmdldERvbWFpbklkKCkudGhlbigoZnVuY3Rpb24ocyl7dmFyIGM9e1Nlc3Npb25OYW1lT3JJZDphLmluaXRpYWxDb250YWN0SWR8fHRoaXMuY29udGFjdElkLERvbWFpbklkOnN9O3QuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlckhlbHBlciBjYWxsZWQiKS53aXRoT2JqZWN0KGMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaS5jYWxsKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLkVOUk9MTF9CWV9TRVNTSU9OLGMse3N1Y2Nlc3M6ZnVuY3Rpb24oaSl7aS5TdGF0dXM9PT10LlZvaWNlSWRFbnJvbGxtZW50UmVxdWVzdFN0YXR1cy5DT01QTEVURUQ/KHQuZ2V0TG9nKCkuaW5mbygiZW5yb2xsU3BlYWtlciBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZShpKSk6by5jaGVja0Vucm9sbG1lbnRTdGF0dXMocikudGhlbigoZnVuY3Rpb24obil7dC5nZXRMb2coKS5pbmZvKCJlbnJvbGxTcGVha2VyIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qobikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlKG4pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtuKGUpfSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuZXJyb3IoImVucm9sbFNwZWFrZXIgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciByPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuRU5ST0xMX1NQRUFLRVJfRkFJTEVELCJlbnJvbGxTcGVha2VyIGZhaWxlZCIsZSk7bihyKX19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0saC5wcm90b3R5cGUuX3VwZGF0ZVNwZWFrZXJJZEluTGNtcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz10LmNvcmUuZ2V0Q2xpZW50KCk7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBzPXtDb250YWN0SWQ6ci5jb250YWN0SWQsSW5zdGFuY2VJZDp0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRJbnN0YW5jZUlkKCksQVdTQWNjb3VudElkOnQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEFXU0FjY291bnRJZCgpLEN1c3RvbWVySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLFZvaWNlSWRSZXN1bHQ6e2dlbmVyYXRlZFNwZWFrZXJJZDpufX07dC5nZXRMb2coKS5pbmZvKCJfdXBkYXRlU3BlYWtlcklkSW5MY21zIGNhbGxlZCIpLndpdGhPYmplY3Qocykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuVVBEQVRFX1ZPSUNFX0lEX0RBVEEscyx7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShlKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJ1cGRhdGVTcGVha2VySWRJbkxjbXMgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBuPXQuVm9pY2VJZEVycm9yKHQuVm9pY2VJZEVycm9yVHlwZXMuVVBEQVRFX1NQRUFLRVJfSURfSU5fTENNU19GQUlMRUQsInVwZGF0ZVNwZWFrZXJJZEluTGNtcyBmYWlsZWQiLGUpO2Eobil9fSl9KSl9LGgucHJvdG90eXBlLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO24uY2hlY2tDb25mZXJlbmNlQ2FsbCgpO3ZhciByPXQuY29yZS5nZXRDbGllbnQoKSxvPXQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldENvbnRhY3REYXRhKHRoaXMuY29udGFjdElkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksYSl7bi5nZXREb21haW5JZCgpLnRoZW4oKGZ1bmN0aW9uKHMpe3ZhciBjPXtTZXNzaW9uTmFtZU9ySWQ6by5pbml0aWFsQ29udGFjdElkfHx0aGlzLmNvbnRhY3RJZCxTcGVha2VySWQ6dC5hc3NlcnROb3ROdWxsKGUsInNwZWFrZXJJZCIpLERvbWFpbklkOnN9O3QuZ2V0TG9nKCkuaW5mbygidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGNhbGxlZCIpLndpdGhPYmplY3QoYykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuVVBEQVRFX1NFU1NJT04sYyx7c3VjY2VzczpmdW5jdGlvbihyKXt0LmdldExvZygpLmluZm8oInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBzdWNjZWVkZWQiKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG89ciYmci5TZXNzaW9uJiZyLlNlc3Npb24uR2VuZXJhdGVkU3BlYWtlcklkO24uX3VwZGF0ZVNwZWFrZXJJZEluTGNtcyhlLG8pLnRoZW4oKGZ1bmN0aW9uKCl7aShyKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7YShlKX0pKX0sZmFpbHVyZTpmdW5jdGlvbihlKXt2YXIgbjtzd2l0Y2goSlNPTi5wYXJzZShlKS5zdGF0dXMpe2Nhc2UgNDAwOmNhc2UgNDA0Om49dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5TRVNTSU9OX05PVF9FWElTVFMsInVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZCBmYWlsZWQsIHNlc3Npb24gbm90IGV4aXN0cyIsZSksdC5nZXRMb2coKS5lcnJvcigidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCwgc2Vzc2lvbiBub3QgZXhpc3RzIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2JyZWFrO2RlZmF1bHQ6bj10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLlVQREFURV9TUEVBS0VSX0lEX0ZBSUxFRCwidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCIsZSksdC5nZXRMb2coKS5lcnJvcigidXBkYXRlU3BlYWtlcklkSW5Wb2ljZUlkIGZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1hKG4pfX0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfSkpfSxoLnByb3RvdHlwZS5zeW5jU3BlYWtlcklkPWZ1bmN0aW9uKCl7dC5nZXRMb2coKS5pbmZvKCJzeW5jU3BlYWtlcklkIGNhbGxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5nZXRTcGVha2VySWQoKS50aGVuKChmdW5jdGlvbihyKXtlLnVwZGF0ZVNwZWFrZXJJZEluVm9pY2VJZChyLnNwZWFrZXJJZCkudGhlbigoZnVuY3Rpb24oZSl7dChlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7bihlKX0pKX0pKX0saC5wcm90b3R5cGUuZ2V0RG9tYWluSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsbil7aWYoKG5ldyB0LkFnZW50KS5nZXRQZXJtaXNzaW9ucygpLmluY2x1ZGVzKHQuQWdlbnRQZXJtaXNzaW9ucy5WT0lDRV9JRCkpaWYodC5jb3JlLnZvaWNlSWREb21haW5JZCllKHQuY29yZS52b2ljZUlkRG9tYWluSWQpO2Vsc2V7dmFyIHI9dC5jb3JlLmdldENsaWVudCgpLG89e0luc3RhbmNlSWQ6dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0SW5zdGFuY2VJZCgpLEludGVncmF0aW9uVHlwZToiVk9JQ0VfSUQifTt0LmdldExvZygpLmluZm8oImdldERvbWFpbklkIGNhbGxlZCIpLndpdGhPYmplY3Qobykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNhbGwodC5BZ2VudEFwcENsaWVudE1ldGhvZHMuTElTVF9JTlRFR1JBVElPTl9BU1NPQ0lBVElPTlMsbyx7c3VjY2VzczpmdW5jdGlvbihyKXt0cnl7dmFyIG87aWYoci5JbnRlZ3JhdGlvbkFzc29jaWF0aW9uU3VtbWFyeUxpc3QubGVuZ3RoPj0xJiYobz1yLkludGVncmF0aW9uQXNzb2NpYXRpb25TdW1tYXJ5TGlzdFswXS5JbnRlZ3JhdGlvbkFybi5yZXBsYWNlKC9eLipkb21haW5cLy9pLCIiKSksIW8pe3QuZ2V0TG9nKCkuaW5mbygiZ2V0RG9tYWluSWQ6IG5vIGRvbWFpbklkIGZvdW5kIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt2YXIgaT10LlZvaWNlSWRFcnJvcih0LlZvaWNlSWRFcnJvclR5cGVzLk5PX0RPTUFJTl9JRF9GT1VORCk7cmV0dXJuIHZvaWQgbihpKX10LmdldExvZygpLmluZm8oImdldERvbWFpbklkIHN1Y2NlZWRlZCIpLndpdGhPYmplY3Qocikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCxkYXRhOntkb21haW5JZDpvfX0pLGUobyl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiZ2V0RG9tYWluSWQgZmFpbGVkIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGk9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfRE9NQUlOX0lEX0ZBSUxFRCwiZ2V0RG9tYWluSWQgZmFpbGVkIixlKSxuKGkpfX0sZmFpbHVyZTpmdW5jdGlvbihlKXt0LmdldExvZygpLmVycm9yKCJnZXREb21haW5JZCBmYWlsZWQiKS53aXRoT2JqZWN0KHtlcnI6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIHI9dC5Wb2ljZUlkRXJyb3IodC5Wb2ljZUlkRXJyb3JUeXBlcy5HRVRfRE9NQUlOX0lEX0ZBSUxFRCwiZ2V0RG9tYWluSWQgZmFpbGVkIixlKTtuKHIpfX0pfWVsc2UgbihuZXcgRXJyb3IoIkFnZW50IGRvZXNuJ3QgaGF2ZSB0aGUgcGVybWlzc2lvbiBmb3IgVm9pY2UgSUQiKSl9KSl9LGgucHJvdG90eXBlLmNoZWNrQ29uZmVyZW5jZUNhbGw9ZnVuY3Rpb24oKXtpZih0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCkuY29ubmVjdGlvbnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC5jb250YWlucyh0LkNPTk5FQ1RJT05fQUNUSVZFX1NUQVRFUyxlLnN0YXRlLnR5cGUpfSkpLmxlbmd0aD4yKXRocm93IG5ldyB0Lk5vdEltcGxlbWVudGVkRXJyb3IoIlZvaWNlSWQgaXMgbm90IHN1cHBvcnRlZCBmb3IgY29uZmVyZW5jZSBjYWxscyIpfSxoLnByb3RvdHlwZS5pc0F1dGhFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09dC5Db250YWN0Rmxvd0F1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOQUJMRUR9LGgucHJvdG90eXBlLmlzQXV0aFJlc3VsdE5vdEVub3VnaFNwZWVjaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuVm9pY2VJZEF1dGhlbnRpY2F0aW9uRGVjaXNpb24uTk9UX0VOT1VHSF9TUEVFQ0h9LGgucHJvdG90eXBlLmlzQXV0aFJlc3VsdEluY29uY2x1c2l2ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuQ29udGFjdEZsb3dBdXRoZW50aWNhdGlvbkRlY2lzaW9uLklOQ09OQ0xVU0lWRX0saC5wcm90b3R5cGUuaXNGcmF1ZEVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5OT1RfRU5BQkxFRH0saC5wcm90b3R5cGUuaXNGcmF1ZFJlc3VsdE5vdEVub3VnaFNwZWVjaD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQuVm9pY2VJZEZyYXVkRGV0ZWN0aW9uRGVjaXNpb24uTk9UX0VOT1VHSF9TUEVFQ0h9LGgucHJvdG90eXBlLmlzRnJhdWRSZXN1bHRJbmNvbmNsdXNpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10LkNvbnRhY3RGbG93RnJhdWREZXRlY3Rpb25EZWNpc2lvbi5JTkNPTkNMVVNJVkV9O3ZhciBnPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3I9bmV3IGgoZSksZi5jYWxsKHRoaXMsZSx0KX07KGcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1nLGcucHJvdG90eXBlLmdldFNvZnRwaG9uZU1lZGlhSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuc29mdHBob25lTWVkaWFJbmZvfSxnLnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnNvZnRwaG9uZU1lZGlhSW5mb30sZy5wcm90b3R5cGUuZ2V0TWVkaWFUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHQuTWVkaWFUeXBlLlNPRlRQSE9ORX0sZy5wcm90b3R5cGUuZ2V0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpfSxnLnByb3RvdHlwZS5nZXRWb2ljZUlkU3BlYWtlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLmdldFNwZWFrZXJJZCgpfSxnLnByb3RvdHlwZS5nZXRWb2ljZUlkU3BlYWtlclN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5nZXRTcGVha2VyU3RhdHVzKCl9LGcucHJvdG90eXBlLm9wdE91dFZvaWNlSWRTcGVha2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NwZWFrZXJBdXRoZW50aWNhdG9yLm9wdE91dFNwZWFrZXIoKX0sZy5wcm90b3R5cGUuZGVsZXRlVm9pY2VJZFNwZWFrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZGVsZXRlU3BlYWtlcigpfSxnLnByb3RvdHlwZS5ldmFsdWF0ZVNwZWFrZXJXaXRoVm9pY2VJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3BlYWtlckF1dGhlbnRpY2F0b3IuZXZhbHVhdGVTcGVha2VyKGUpfSxnLnByb3RvdHlwZS5lbnJvbGxTcGVha2VySW5Wb2ljZUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci5lbnJvbGxTcGVha2VyKGUpfSxnLnByb3RvdHlwZS51cGRhdGVWb2ljZUlkU3BlYWtlcklkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zcGVha2VyQXV0aGVudGljYXRvci51cGRhdGVTcGVha2VySWRJblZvaWNlSWQoZSl9LGcucHJvdG90eXBlLmdldFF1aWNrQ29ubmVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLnF1aWNrQ29ubmVjdE5hbWV9LGcucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1J9LGcucHJvdG90eXBlLmlzQmFyZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb25pdG9yU3RhdHVzKCk9PT10Lk1vbml0b3JpbmdNb2RlLkJBUkdFfSxnLnByb3RvdHlwZS5pc0JhcmdlRW5hYmxlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0TW9uaXRvckNhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLmluY2x1ZGVzKHQuTW9uaXRvcmluZ01vZGUuQkFSR0UpfSxnLnByb3RvdHlwZS5pc1NpbGVudE1vbml0b3JFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXModC5Nb25pdG9yaW5nTW9kZS5TSUxFTlRfTU9OSVRPUil9LGcucHJvdG90eXBlLmdldE1vbml0b3JDYXBhYmlsaXRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JDYXBhYmlsaXRpZXN9LGcucHJvdG90eXBlLmdldE1vbml0b3JTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JTdGF0dXN9LGcucHJvdG90eXBlLmlzTXV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubXV0ZX0sZy5wcm90b3R5cGUuaXNGb3JjZWRNdXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldERhdGEoKS5mb3JjZWRNdXRlfSxnLnByb3RvdHlwZS5tdXRlUGFydGljaXBhbnQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLk1VVEVfUEFSVElDSVBBTlQse2NvbnRhY3RJZDp0aGlzLmdldENvbnRhY3RJZCgpLGNvbm5lY3Rpb25JZDp0aGlzLmdldENvbm5lY3Rpb25JZCgpfSxlKX0sZy5wcm90b3R5cGUudW5tdXRlUGFydGljaXBhbnQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldENsaWVudCgpLmNhbGwodC5DbGllbnRNZXRob2RzLlVOTVVURV9QQVJUSUNJUEFOVCx7Y29udGFjdElkOnRoaXMuZ2V0Q29udGFjdElkKCksY29ubmVjdGlvbklkOnRoaXMuZ2V0Q29ubmVjdGlvbklkKCl9LGUpfSxnLnByb3RvdHlwZS5jYW5TZW5kVmlkZW89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENhcGFiaWxpdGllcygpO3JldHVybiBlJiZlLlZpZGVvPT09dC5WaWRlb0NhcGFiaWxpdHkuU0VORH0sZy5wcm90b3R5cGUuY2FuU2VuZFNjcmVlblNoYXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5TY3JlZW5TaGFyZT09PXQuU2NyZWVuU2hhcmVDYXBhYmlsaXR5LlNFTkR9LGcucHJvdG90eXBlLmdldENhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkuY2FwYWJpbGl0aWVzfSxnLnByb3RvdHlwZS5nZXRWaWRlb0Nvbm5lY3Rpb25JbmZvPWZ1bmN0aW9uKCl7dmFyIGU9dC5jb3JlLmdldENsaWVudCgpLG49e3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuV0VCX1JUQyxjb250YWN0SWQ6dGhpcy5jb250YWN0SWR9O3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQsbix7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImdldFZpZGVvQ29ubmVjdGlvbkluZm8gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyKGUud2ViUlRDVHJhbnNwb3J0KX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoImdldFZpZGVvQ29ubmVjdGlvbkluZm8gZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KSxvKEVycm9yKCJnZXRWaWRlb0Nvbm5lY3Rpb25JbmZvIGZhaWxlZCIpKX19KX0pKX07dmFyIG09ZnVuY3Rpb24oZSx0KXtmLmNhbGwodGhpcyxlLHQpfTsobS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW0sbS5wcm90b3R5cGUuZ2V0TWVkaWFJbmZvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2V0RGF0YSgpLmNoYXRNZWRpYUluZm87aWYoZSl7dmFyIG49dC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0Q29udGFjdERhdGEodGhpcy5jb250YWN0SWQpLHI9e2NvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOm4uaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWQscGFydGljaXBhbnRJZDp0aGlzLmNvbm5lY3Rpb25JZCxnZXRDb25uZWN0aW9uVG9rZW46dC5oaXRjaCh0aGlzLHRoaXMuZ2V0Q29ubmVjdGlvblRva2VuKX07aWYoZS5jb25uZWN0aW9uRGF0YSl0cnl7ci5wYXJ0aWNpcGFudFRva2VuPUpTT04ucGFyc2UoZS5jb25uZWN0aW9uRGF0YSkuQ29ubmVjdGlvbkF1dGhlbnRpY2F0aW9uVG9rZW59Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcih0LkxvZ0NvbXBvbmVudC5DSEFULCJDb25uZWN0aW9uIGRhdGEgaXMgaW52YWxpZCIpLndpdGhPYmplY3QoZSkud2l0aEV4Y2VwdGlvbihuKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucGFydGljaXBhbnRUb2tlbj1udWxsfXJldHVybiByLnBhcnRpY2lwYW50VG9rZW49ci5wYXJ0aWNpcGFudFRva2VufHxudWxsLHIub3JpZ2luYWxJbmZvPXRoaXMuX2dldERhdGEoKS5jaGF0TWVkaWFJbmZvLHJ9cmV0dXJuIG51bGx9LG0ucHJvdG90eXBlLmdldENvbm5lY3Rpb25Ub2tlbj1mdW5jdGlvbigpe3ZhciBlPXQuY29yZS5nZXRDbGllbnQoKSxuPSh0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCkse3RyYW5zcG9ydFR5cGU6dC5UUkFOU1BPUlRfVFlQRVMuQ0hBVF9UT0tFTixwYXJ0aWNpcGFudElkOnRoaXMuY29ubmVjdGlvbklkLGNvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZH0pO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXtlLmNhbGwodC5DbGllbnRNZXRob2RzLkNSRUFURV9UUkFOU1BPUlQsbix7c3VjY2VzczpmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oImdldENvbm5lY3Rpb25Ub2tlbiBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJnZXRDb25uZWN0aW9uVG9rZW4gZmFpbGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KSxvKEVycm9yKCJnZXRDb25uZWN0aW9uVG9rZW4gZmFpbGVkIikpfX0pfSkpfSxtLnByb3RvdHlwZS5nZXRNZWRpYVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5NZWRpYVR5cGUuQ0hBVH0sbS5wcm90b3R5cGUuZ2V0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY29yZS5tZWRpYUZhY3RvcnkuZ2V0KHRoaXMpfSxtLnByb3RvdHlwZS5faW5pdE1lZGlhQ29udHJvbGxlcj1mdW5jdGlvbigpe3RoaXMuX2lzQWdlbnRDb25uZWN0aW9uVHlwZSgpJiZ0LmNvcmUubWVkaWFGYWN0b3J5LmdldCh0aGlzKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9LG0ucHJvdG90eXBlLmlzQmFyZ2VFbmFibGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRNb25pdG9yQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGUmJmUuaW5jbHVkZXModC5Nb25pdG9yaW5nTW9kZS5CQVJHRSl9LG0ucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvckVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE1vbml0b3JDYXBhYmlsaXRpZXMoKTtyZXR1cm4gZSYmZS5pbmNsdWRlcyh0Lk1vbml0b3JpbmdNb2RlLlNJTEVOVF9NT05JVE9SKX0sbS5wcm90b3R5cGUuZ2V0TW9uaXRvckNhcGFiaWxpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXREYXRhKCkubW9uaXRvckNhcGFiaWxpdGllc30sbS5wcm90b3R5cGUuaXNCYXJnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuQkFSR0V9LG0ucHJvdG90eXBlLmlzU2lsZW50TW9uaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vbml0b3JTdGF0dXMoKT09PXQuTW9uaXRvcmluZ01vZGUuU0lMRU5UX01PTklUT1J9LG0ucHJvdG90eXBlLmdldE1vbml0b3JTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YSgpLm1vbml0b3JTdGF0dXN9O3ZhciB2PWZ1bmN0aW9uKGUsdCl7Zi5jYWxsKHRoaXMsZSx0KX07KHYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj12LHYucHJvdG90eXBlLmdldE1lZGlhVHlwZT1mdW5jdGlvbigpe3JldHVybiB0Lk1lZGlhVHlwZS5UQVNLfSx2LnByb3RvdHlwZS5nZXRNZWRpYUluZm89ZnVuY3Rpb24oKXt2YXIgZT10LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRDb250YWN0RGF0YSh0aGlzLmNvbnRhY3RJZCk7cmV0dXJue2NvbnRhY3RJZDp0aGlzLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOmUuaW5pdGlhbENvbnRhY3RJZHx8dGhpcy5jb250YWN0SWR9fSx2LnByb3RvdHlwZS5nZXRNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLm1lZGlhRmFjdG9yeS5nZXQodGhpcyl9O3ZhciB5PWZ1bmN0aW9uKGUpe3QuQ29ubmVjdGlvbi5jYWxsKHRoaXMsZS5jb250YWN0SWQsZS5jb25uZWN0aW9uSWQpLHRoaXMuY29ubmVjdGlvbkRhdGE9ZX07KHkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZi5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj15LHkucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbkRhdGF9LHkucHJvdG90eXBlLl9pbml0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKCl7fTt2YXIgYj1mdW5jdGlvbihlKXt2YXIgdD1lfHx7fTt0aGlzLmVuZHBvaW50QVJOPXQuZW5kcG9pbnRJZHx8dC5lbmRwb2ludEFSTnx8bnVsbCx0aGlzLmVuZHBvaW50SWQ9dGhpcy5lbmRwb2ludEFSTix0aGlzLnR5cGU9dC50eXBlfHxudWxsLHRoaXMubmFtZT10Lm5hbWV8fG51bGwsdGhpcy5waG9uZU51bWJlcj10LnBob25lTnVtYmVyfHxudWxsLHRoaXMuYWdlbnRMb2dpbj10LmFnZW50TG9naW58fG51bGwsdGhpcy5xdWV1ZT10LnF1ZXVlfHxudWxsfTtiLnByb3RvdHlwZS5zdHJpcFBob25lTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGhvbmVOdW1iZXI/dGhpcy5waG9uZU51bWJlci5yZXBsYWNlKC9zaXA6KFteQF0qKUAuKi8sIiQxIik6IiJ9LGIuYnlQaG9uZU51bWJlcj1mdW5jdGlvbihlLG4pe3JldHVybiBuZXcgYih7dHlwZTp0LkVuZHBvaW50VHlwZS5QSE9ORV9OVU1CRVIscGhvbmVOdW1iZXI6ZSxuYW1lOm58fG51bGx9KX07dmFyIEU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZXJyb3JUeXBlPWUsdGhpcy5lcnJvck1lc3NhZ2U9dCx0aGlzLmVuZFBvaW50VXJsPW59O0UucHJvdG90eXBlLmdldEVycm9yVHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yVHlwZX0sRS5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JNZXNzYWdlfSxFLnByb3RvdHlwZS5nZXRFbmRQb2ludFVybD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZFBvaW50VXJsfSx0LmFnZW50PWZ1bmN0aW9uKGUpe3ZhciBuPXQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkFnZW50RXZlbnRzLklOSVQsZSk7cmV0dXJuIHQuYWdlbnQuaW5pdGlhbGl6ZWQmJmUobmV3IHQuQWdlbnQpLG59LHQuYWdlbnQuaW5pdGlhbGl6ZWQ9ITEsdC5jb250YWN0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db250YWN0RXZlbnRzLklOSVQsZSl9LHQub25XZWJzb2NrZXRJbml0RmFpbHVyZT1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5XZWJTb2NrZXRFdmVudHMuSU5JVF9GQUlMVVJFLGUpO3JldHVybiB0LndlYlNvY2tldEluaXRGYWlsZWQmJmUoKSxufSx0LmlmTWFzdGVyPWZ1bmN0aW9uKGUsbixyLG8pe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJBIHRvcGljIG11c3QgYmUgcHJvdmlkZWQuIiksdC5hc3NlcnROb3ROdWxsKG4sIkEgdHJ1ZSBjYWxsYmFjayBtdXN0IGJlIHByb3ZpZGVkLiIpLCF0LmNvcmUubWFzdGVyQ2xpZW50KXJldHVybiB0LmdldExvZygpLndhcm4oIldlIGNhbid0IGJlIHRoZSBtYXN0ZXIgZm9yIHRvcGljICclcycgYmVjYXVzZSB0aGVyZSBpcyBubyBtYXN0ZXIgY2xpZW50ISIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx2b2lkKHImJnIoKSk7dC5jb3JlLmdldE1hc3RlckNsaWVudCgpLmNhbGwodC5NYXN0ZXJNZXRob2RzLkNIRUNLX01BU1RFUix7dG9waWM6ZSxzaG91bGROb3RCZWNvbWVNYXN0ZXJJZk5vbmU6b30se3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZS5pc01hc3Rlcj9uKCk6ciYmcigpfX0pfSx0LmJlY29tZU1hc3Rlcj1mdW5jdGlvbihlLG4scil7dC5hc3NlcnROb3ROdWxsKGUsIkEgdG9waWMgbXVzdCBiZSBwcm92aWRlZC4iKSx0LmNvcmUubWFzdGVyQ2xpZW50P3QuY29yZS5nZXRNYXN0ZXJDbGllbnQoKS5jYWxsKHQuTWFzdGVyTWV0aG9kcy5CRUNPTUVfTUFTVEVSLHt0b3BpYzplfSx7c3VjY2VzczpmdW5jdGlvbigpe24mJm4oKX19KToodC5nZXRMb2coKS53YXJuKCJXZSBjYW4ndCBiZSB0aGUgbWFzdGVyIGZvciB0b3BpYyAnJXMnIGJlY2F1c2UgdGhlcmUgaXMgbm8gbWFzdGVyIGNsaWVudCEiLGUpLHImJnIoKSl9LHQuQWdlbnQ9cyx0LkFnZW50U25hcHNob3Q9Yyx0LkNvbnRhY3Q9cCx0LkNvbnRhY3RTbmFwc2hvdD1kLHQuQ29ubmVjdGlvbj1nLHQuQmFzZUNvbm5lY3Rpb249Zix0LlZvaWNlQ29ubmVjdGlvbj1nLHQuQ2hhdENvbm5lY3Rpb249bSx0LlRhc2tDb25uZWN0aW9uPXYsdC5Db25uZWN0aW9uU25hcHNob3Q9eSx0LkVuZHBvaW50PWIsdC5BZGRyZXNzPWIsdC5Tb2Z0cGhvbmVFcnJvcj1FLHQuVm9pY2VJZD1oLHQuUXVpY2tSZXNwb25zZXM9b30oKX0sMTY3OihlLHQsbik9Pnt2YXIgcjtmdW5jdGlvbiBvKGUpe3JldHVybiBvPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxvKGUpfSFmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBvKGEscyl7aWYoIW5bYV0pe2lmKCF0W2FdKXtpZihpKXJldHVybiBpKGEsITApO3ZhciBjPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK2ErIiciKTt0aHJvdyBjLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGN9dmFyIHU9blthXT17ZXhwb3J0czp7fX07dFthXVswXS5jYWxsKHUuZXhwb3J0cywoZnVuY3Rpb24oZSl7cmV0dXJuIG8odFthXVsxXVtlXXx8ZSl9KSx1LHUuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gblthXS5leHBvcnRzfWZvcih2YXIgaT12b2lkIDAsYT0wO2E8ci5sZW5ndGg7YSsrKW8oclthXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDE0LTA2LTMwIixlbmRwb2ludFByZWZpeDoiY29nbml0by1pZGVudGl0eSIsanNvblZlcnNpb246IjEuMSIscHJvdG9jb2w6Impzb24iLHNlcnZpY2VGdWxsTmFtZToiQW1hem9uIENvZ25pdG8gSWRlbnRpdHkiLHNlcnZpY2VJZDoiQ29nbml0byBJZGVudGl0eSIsc2lnbmF0dXJlVmVyc2lvbjoidjQiLHRhcmdldFByZWZpeDoiQVdTQ29nbml0b0lkZW50aXR5U2VydmljZSIsdWlkOiJjb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAifSxvcGVyYXRpb25zOntDcmVhdGVJZGVudGl0eVBvb2w6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sTmFtZSIsIkFsbG93VW5hdXRoZW50aWNhdGVkSWRlbnRpdGllcyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbE5hbWU6e30sQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzOnt0eXBlOiJib29sZWFuIn0sQWxsb3dDbGFzc2ljRmxvdzp7dHlwZToiYm9vbGVhbiJ9LFN1cHBvcnRlZExvZ2luUHJvdmlkZXJzOntzaGFwZToiUzUifSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sT3BlbklkQ29ubmVjdFByb3ZpZGVyQVJOczp7c2hhcGU6IlM5In0sQ29nbml0b0lkZW50aXR5UHJvdmlkZXJzOntzaGFwZToiU2IifSxTYW1sUHJvdmlkZXJBUk5zOntzaGFwZToiU2cifSxJZGVudGl0eVBvb2xUYWdzOntzaGFwZToiU2gifX19LG91dHB1dDp7c2hhcGU6IlNrIn19LERlbGV0ZUlkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZHNUb0RlbGV0ZSJdLG1lbWJlcnM6e0lkZW50aXR5SWRzVG9EZWxldGU6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VW5wcm9jZXNzZWRJZGVudGl0eUlkczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sRXJyb3JDb2RlOnt9fX19fX19LERlbGV0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX19LERlc2NyaWJlSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e319fSxvdXRwdXQ6e3NoYXBlOiJTdiJ9fSxEZXNjcmliZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0OntzaGFwZToiU2sifX0sR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIl0sbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifSxDdXN0b21Sb2xlQXJuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sQ3JlZGVudGlhbHM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7QWNjZXNzS2V5SWQ6e30sU2VjcmV0S2V5Ont9LFNlc3Npb25Ub2tlbjp7fSxFeHBpcmF0aW9uOnt0eXBlOiJ0aW1lc3RhbXAifX19fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRJZDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0FjY291bnRJZDp7fSxJZGVudGl0eVBvb2xJZDp7fSxMb2dpbnM6e3NoYXBlOiJTMTAifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9fX0sYXV0aHR5cGU6Im5vbmUifSxHZXRJZGVudGl0eVBvb2xSb2xlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LFJvbGVzOntzaGFwZToiUzFjIn0sUm9sZU1hcHBpbmdzOntzaGFwZToiUzFlIn19fX0sR2V0T3BlbklkVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlJZCJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxUb2tlbjp7fX19LGF1dGh0eXBlOiJub25lIn0sR2V0T3BlbklkVG9rZW5Gb3JEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIkxvZ2lucyJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9LFRva2VuRHVyYXRpb246e3R5cGU6ImxvbmcifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LFRva2VuOnt9fX19LEdldFByaW5jaXBhbFRhZ0F0dHJpYnV0ZU1hcDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIklkZW50aXR5UHJvdmlkZXJOYW1lIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQcm92aWRlck5hbWU6e30sVXNlRGVmYXVsdHM6e3R5cGU6ImJvb2xlYW4ifSxQcmluY2lwYWxUYWdzOntzaGFwZToiUzFzIn19fX0sTGlzdElkZW50aXRpZXM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJNYXhSZXN1bHRzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sTWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fSxIaWRlRGlzYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eVBvb2xJZDp7fSxJZGVudGl0aWVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTdiJ9fSxOZXh0VG9rZW46e319fX0sTGlzdElkZW50aXR5UG9vbHM6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiTWF4UmVzdWx0cyJdLG1lbWJlcnM6e01heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifSxOZXh0VG9rZW46e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlQb29sczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UG9vbE5hbWU6e319fX0sTmV4dFRva2VuOnt9fX19LExpc3RUYWdzRm9yUmVzb3VyY2U6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUmVzb3VyY2VBcm4iXSxtZW1iZXJzOntSZXNvdXJjZUFybjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntUYWdzOntzaGFwZToiU2gifX19fSxMb29rdXBEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5SWQ6e30sRGV2ZWxvcGVyVXNlcklkZW50aWZpZXI6e30sTWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9LE5leHRUb2tlbjp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntJZGVudGl0eUlkOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyTGlzdDp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxOZXh0VG9rZW46e319fX0sTWVyZ2VEZXZlbG9wZXJJZGVudGl0aWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlNvdXJjZVVzZXJJZGVudGlmaWVyIiwiRGVzdGluYXRpb25Vc2VySWRlbnRpZmllciIsIkRldmVsb3BlclByb3ZpZGVyTmFtZSIsIklkZW50aXR5UG9vbElkIl0sbWVtYmVyczp7U291cmNlVXNlcklkZW50aWZpZXI6e30sRGVzdGluYXRpb25Vc2VySWRlbnRpZmllcjp7fSxEZXZlbG9wZXJQcm92aWRlck5hbWU6e30sSWRlbnRpdHlQb29sSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fX19fSxTZXRJZGVudGl0eVBvb2xSb2xlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eVBvb2xJZCIsIlJvbGVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sUm9sZXM6e3NoYXBlOiJTMWMifSxSb2xlTWFwcGluZ3M6e3NoYXBlOiJTMWUifX19fSxTZXRQcmluY2lwYWxUYWdBdHRyaWJ1dGVNYXA6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVByb3ZpZGVyTmFtZSJdLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0lkZW50aXR5UG9vbElkOnt9LElkZW50aXR5UHJvdmlkZXJOYW1lOnt9LFVzZURlZmF1bHRzOnt0eXBlOiJib29sZWFuIn0sUHJpbmNpcGFsVGFnczp7c2hhcGU6IlMxcyJ9fX19LFRhZ1Jlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIiwiVGFncyJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9LFRhZ3M6e3NoYXBlOiJTaCJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVbmxpbmtEZXZlbG9wZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJJZGVudGl0eUlkIiwiSWRlbnRpdHlQb29sSWQiLCJEZXZlbG9wZXJQcm92aWRlck5hbWUiLCJEZXZlbG9wZXJVc2VySWRlbnRpZmllciJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sSWRlbnRpdHlQb29sSWQ6e30sRGV2ZWxvcGVyUHJvdmlkZXJOYW1lOnt9LERldmVsb3BlclVzZXJJZGVudGlmaWVyOnt9fX19LFVubGlua0lkZW50aXR5OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIklkZW50aXR5SWQiLCJMb2dpbnMiLCJMb2dpbnNUb1JlbW92ZSJdLG1lbWJlcnM6e0lkZW50aXR5SWQ6e30sTG9naW5zOntzaGFwZToiUzEwIn0sTG9naW5zVG9SZW1vdmU6e3NoYXBlOiJTdyJ9fX0sYXV0aHR5cGU6Im5vbmUifSxVbnRhZ1Jlc291cmNlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJlc291cmNlQXJuIiwiVGFnS2V5cyJdLG1lbWJlcnM6e1Jlc291cmNlQXJuOnt9LFRhZ0tleXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZUlkZW50aXR5UG9vbDp7aW5wdXQ6e3NoYXBlOiJTayJ9LG91dHB1dDp7c2hhcGU6IlNrIn19fSxzaGFwZXM6e1M1Ont0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sUzk6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sU2I6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntQcm92aWRlck5hbWU6e30sQ2xpZW50SWQ6e30sU2VydmVyU2lkZVRva2VuQ2hlY2s6e3R5cGU6ImJvb2xlYW4ifX19fSxTZzp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTaDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319LFNrOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiSWRlbnRpdHlQb29sSWQiLCJJZGVudGl0eVBvb2xOYW1lIiwiQWxsb3dVbmF1dGhlbnRpY2F0ZWRJZGVudGl0aWVzIl0sbWVtYmVyczp7SWRlbnRpdHlQb29sSWQ6e30sSWRlbnRpdHlQb29sTmFtZTp7fSxBbGxvd1VuYXV0aGVudGljYXRlZElkZW50aXRpZXM6e3R5cGU6ImJvb2xlYW4ifSxBbGxvd0NsYXNzaWNGbG93Ont0eXBlOiJib29sZWFuIn0sU3VwcG9ydGVkTG9naW5Qcm92aWRlcnM6e3NoYXBlOiJTNSJ9LERldmVsb3BlclByb3ZpZGVyTmFtZTp7fSxPcGVuSWRDb25uZWN0UHJvdmlkZXJBUk5zOntzaGFwZToiUzkifSxDb2duaXRvSWRlbnRpdHlQcm92aWRlcnM6e3NoYXBlOiJTYiJ9LFNhbWxQcm92aWRlckFSTnM6e3NoYXBlOiJTZyJ9LElkZW50aXR5UG9vbFRhZ3M6e3NoYXBlOiJTaCJ9fX0sU3Y6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7SWRlbnRpdHlJZDp7fSxMb2dpbnM6e3NoYXBlOiJTdyJ9LENyZWF0aW9uRGF0ZTp7dHlwZToidGltZXN0YW1wIn0sTGFzdE1vZGlmaWVkRGF0ZTp7dHlwZToidGltZXN0YW1wIn19fSxTdzp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxTMTA6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTMWM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt9fSxTMWU6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiVHlwZSJdLG1lbWJlcnM6e1R5cGU6e30sQW1iaWd1b3VzUm9sZVJlc29sdXRpb246e30sUnVsZXNDb25maWd1cmF0aW9uOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUnVsZXMiXSxtZW1iZXJzOntSdWxlczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQ2xhaW0iLCJNYXRjaFR5cGUiLCJWYWx1ZSIsIlJvbGVBUk4iXSxtZW1iZXJzOntDbGFpbTp7fSxNYXRjaFR5cGU6e30sVmFsdWU6e30sUm9sZUFSTjp7fX19fX19fX19LFMxczp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e319fX19LHt9XSwyOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtwYWdpbmF0aW9uOntMaXN0SWRlbnRpdHlQb29sczp7aW5wdXRfdG9rZW46Ik5leHRUb2tlbiIsbGltaXRfa2V5OiJNYXhSZXN1bHRzIixvdXRwdXRfdG9rZW46Ik5leHRUb2tlbiIscmVzdWx0X2tleToiSWRlbnRpdHlQb29scyJ9fX19LHt9XSwzOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDE3LTAyLTE1IixlbmRwb2ludFByZWZpeDoiY29ubmVjdCIsanNvblZlcnNpb246IjEuMCIscHJvdG9jb2w6Impzb24iLHNlcnZpY2VBYmJyZXZpYXRpb246IkNvbm5lY3QiLHNlcnZpY2VGdWxsTmFtZToiQW1hem9uQ29ubmVjdENUSVNlcnZpY2UiLHNpZ25hdHVyZVZlcnNpb246IiIsdGFyZ2V0UHJlZml4OiJBbWF6b25Db25uZWN0Q1RJU2VydmljZSIsdWlkOiJjb25uZWN0LTIwMTctMDItMTUifSxvcGVyYXRpb25zOntBY2NlcHRDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ2xlYXJDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ29tcGxldGVDb250YWN0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ29uZmVyZW5jZUNvbm5lY3Rpb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlQWRkaXRpb25hbENvbm5lY3Rpb246e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJlbmRwb2ludCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxDcmVhdGVPdXRib3VuZENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJlbmRwb2ludCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxlbmRwb2ludDp7c2hhcGU6IlNlIn0scXVldWVBUk46e30scmVsYXRlZENvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sQ3JlYXRlVGFza0NvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiZW5kcG9pbnQiLCJuYW1lIl0sbWVtYmVyczp7ZW5kcG9pbnQ6e3NoYXBlOiJTZSJ9LHByZXZpb3VzQ29udGFjdElkOnt9LG5hbWU6e30sZGVzY3JpcHRpb246e30scmVmZXJlbmNlczp7c2hhcGU6IlNyIn0saWRlbXBvdGVuY3lUb2tlbjp7fSxzY2hlZHVsZWRUaW1lOnt0eXBlOiJsb25nIn0scmVsYXRlZENvbnRhY3RJZDp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjb250YWN0SWQ6e319fX0sQ3JlYXRlVHJhbnNwb3J0OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInRyYW5zcG9ydFR5cGUiLCJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e3RyYW5zcG9ydFR5cGU6e30scGFydGljaXBhbnRJZDp7fSxjb250YWN0SWQ6e30sc29mdHBob25lQ2xpZW50SWQ6e30sYXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3dlYlNvY2tldFRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInVybCIsInRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzIl0sbWVtYmVyczp7dXJsOnt9LHRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzOnt0eXBlOiJsb25nIn0sZXhwaXJ5Ont9fX0sY2hhdFRva2VuVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicGFydGljaXBhbnRUb2tlbiIsImV4cGlyeSJdLG1lbWJlcnM6e3BhcnRpY2lwYW50VG9rZW46e30sZXhwaXJ5Ont9fX0sc29mdHBob25lVHJhbnNwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic29mdHBob25lTWVkaWFDb25uZWN0aW9ucyJdLG1lbWJlcnM6e3NvZnRwaG9uZU1lZGlhQ29ubmVjdGlvbnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInVzZXJuYW1lIiwiY3JlZGVudGlhbCIsInVybHMiXSxtZW1iZXJzOnt1c2VybmFtZTp7fSxjcmVkZW50aWFsOnt9LHVybHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX19fX19fSxhZ2VudERpc2NvdmVyeVRyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInByZXNpZ25lZFVybCJdLG1lbWJlcnM6e3ByZXNpZ25lZFVybDp7fX19LHdlYlJUQ1RyYW5zcG9ydDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm1lZXRpbmciLCJhdHRlbmRlZSJdLG1lbWJlcnM6e21lZXRpbmc6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7bWVldGluZ0lkOnt9LG1lZGlhUmVnaW9uOnt9LG1lZGlhUGxhY2VtZW50Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F1ZGlvSG9zdFVybDp7fSxhdWRpb0ZhbGxiYWNrVXJsOnt9LHNpZ25hbGluZ1VybDp7fSx0dXJuQ29udHJvbFVybDp7fSxldmVudEluZ2VzdGlvblVybDp7fX19LG1lZXRpbmdGZWF0dXJlczp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthdWRpbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntlY2hvUmVkdWN0aW9uOnt9fX19fX19LGF0dGVuZGVlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F0dGVuZGVlSWQ6e30sam9pblRva2VuOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH19fX19fX19LERlc3Ryb3lDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LEdldEFnZW50Q29uZmlndXJhdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbmZpZ3VyYXRpb24iXSxtZW1iZXJzOntjb25maWd1cmF0aW9uOntzaGFwZToiUzFxIn19fX0sR2V0QWdlbnRQZXJtaXNzaW9uczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsicGVybWlzc2lvbnMiXSxtZW1iZXJzOntwZXJtaXNzaW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt9fSxuZXh0VG9rZW46e319fX0sR2V0QWdlbnRTbmFwc2hvdDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sdGltZW91dDp7dHlwZToibG9uZyJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic25hcHNob3QiLCJuZXh0VG9rZW4iXSxtZW1iZXJzOntzbmFwc2hvdDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInN0YXRlIiwiY29udGFjdHMiLCJzbmFwc2hvdFRpbWVzdGFtcCJdLG1lbWJlcnM6e3N0YXRlOntzaGFwZToiUzI5In0sbmV4dFN0YXRlOntzaGFwZToiUzI5In0sYWdlbnRBdmFpbGFiaWxpdHlTdGF0ZTp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzdGF0ZTp7fSx0aW1lU3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sY29udGFjdHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImNvbnRhY3RJZCIsInR5cGUiLCJzdGF0ZSIsImNvbm5lY3Rpb25zIiwiYXR0cmlidXRlcyJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fSxpbml0aWFsQ29udGFjdElkOnt9LHR5cGU6e30sc3RhdGU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwidGltZXN0YW1wIl0sbWVtYmVyczp7dHlwZTp7fSx0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0scXVldWU6e3NoYXBlOiJTayJ9LHF1ZXVlVGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifSxjb25uZWN0aW9uczp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29ubmVjdGlvbklkIiwic3RhdGUiLCJ0eXBlIiwiaW5pdGlhbCJdLG1lbWJlcnM6e2Nvbm5lY3Rpb25JZDp7fSxlbmRwb2ludDp7c2hhcGU6IlNlIn0sc3RhdGU6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwidGltZXN0YW1wIl0sbWVtYmVyczp7dHlwZTp7fSx0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sdHlwZTp7fSxpbml0aWFsOnt0eXBlOiJib29sZWFuIn0sc29mdHBob25lTWVkaWFJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NhbGxUeXBlOnt9LGF1dG9BY2NlcHQ6e3R5cGU6ImJvb2xlYW4ifSxtZWRpYUxlZ0NvbnRleHRUb2tlbjp7fSxjYWxsQ29udGV4dFRva2VuOnt9LGNhbGxDb25maWdKc29uOnt9fX0sY2hhdE1lZGlhSW5mbzp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntjaGF0QXV0b0FjY2VwdDp7dHlwZToiYm9vbGVhbiJ9LGNvbm5lY3Rpb25EYXRhOnt9LGN1c3RvbWVyTmFtZTp7fX19LG1vbml0b3JpbmdJbmZvOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2FnZW50TmFtZTp7fX19LGpvaW5UaW1lU3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9fX0sbXV0ZTp7dHlwZToiYm9vbGVhbiJ9LGZvcmNlZE11dGU6e3R5cGU6ImJvb2xlYW4ifSxxdWlja0Nvbm5lY3ROYW1lOnt9LG1vbml0b3JDYXBhYmlsaXRpZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbW9uaXRvclN0YXR1czp7fSxjYXBhYmlsaXRpZXM6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7VmlkZW86e319fX19fSxhdHRyaWJ1dGVzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIm5hbWUiXSxtZW1iZXJzOntuYW1lOnt9LHZhbHVlOnt9fX19LGNvbnRhY3REdXJhdGlvbjp7fSxuYW1lOnt9LGRlc2NyaXB0aW9uOnt9LHJlZmVyZW5jZXM6e3NoYXBlOiJTciJ9LGluaXRpYXRpb25NZXRob2Q6e30sY29udGFjdEZlYXR1cmVzOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2F0dGFjaG1lbnRzRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LG1lc3NhZ2luZ01hcmtkb3duRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LG11bHRpUGFydHlDb25mZXJlbmNlRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ0VuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzY3JlZW5SZWNvcmRpbmdTdGF0ZTp7fSxzY3JlZW5SZWNvcmRpbmdDb25maWc6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7c2NyZWVuUmVjb3JkaW5nRW5hYmxlZDp7dHlwZToiYm9vbGVhbiJ9LHNjcmVlblJlY29yZGluZ1N0YXRlOnt9fX19fSxjaGFubmVsQ29udGV4dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntzY2hlZHVsZWRUaW1lOnt0eXBlOiJsb25nIn0sdGFza1RlbXBsYXRlSWQ6e30sdGFza1RlbXBsYXRlVmVyc2lvbjp7dHlwZToiaW50ZWdlciJ9fX0sc2VnbWVudEF0dHJpYnV0ZXM6e3R5cGU6Im1hcCIsa2V5Ont9LHZhbHVlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e1ZhbHVlU3RyaW5nOnt9fX19fX19LHNuYXBzaG90VGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LG5leHRUb2tlbjp7fX19fSxHZXRBZ2VudFN0YXRlczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxuZXh0VG9rZW46e30sbWF4UmVzdWx0czp7dHlwZToiaW50ZWdlciJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsic3RhdGVzIl0sbWVtYmVyczp7c3RhdGVzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3NoYXBlOiJTMjkifX0sbmV4dFRva2VuOnt9fX19LEdldERpYWxhYmxlQ291bnRyeUNvZGVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LG5leHRUb2tlbjp7fSxtYXhSZXN1bHRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb3VudHJ5Q29kZXMiXSxtZW1iZXJzOntjb3VudHJ5Q29kZXM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9fX19LEdldEVuZHBvaW50czp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsInF1ZXVlQVJOcyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxxdWV1ZUFSTnM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7fX0sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOntlbmRwb2ludHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7c2hhcGU6IlNlIn19LG5leHRUb2tlbjp7fX19fSxHZXROZXdBdXRoVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJyZWZyZXNoVG9rZW4iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scmVmcmVzaFRva2VuOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e25ld0F1dGhUb2tlbjp7fSxleHBpcmF0aW9uRGF0ZVRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9fX19LEdldFJvdXRpbmdQcm9maWxlUXVldWVzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwicm91dGluZ1Byb2ZpbGVBUk4iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0scm91dGluZ1Byb2ZpbGVBUk46e30sbmV4dFRva2VuOnt9LG1heFJlc3VsdHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInF1ZXVlcyJdLG1lbWJlcnM6e3F1ZXVlczp7dHlwZToibGlzdCIsbWVtYmVyOntzaGFwZToiU2sifX0sbmV4dFRva2VuOnt9fX19LEhvbGRDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LE11dGVQYXJ0aWNpcGFudDp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbnRhY3RJZCIsImNvbm5lY3Rpb25JZCJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxjb250YWN0SWQ6e30sY29ubmVjdGlvbklkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxOb3RpZnlDb250YWN0SXNzdWU6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGlzc3VlQ29kZTp7fSxkZXNjcmlwdGlvbjp7fSxjbGllbnRMb2dzOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxQYXVzZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxQdXRBZ2VudFN0YXRlOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwic3RhdGUiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sc3RhdGU6e3NoYXBlOiJTMjkifSxlbnF1ZXVlTmV4dFN0YXRlOnt0eXBlOiJib29sZWFuIn19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlamVjdENvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxSZXN1bWVDb25uZWN0aW9uOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFJlc3VtZUNvbnRhY3Q6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiY29udGFjdElkIl0sbWVtYmVyczp7Y29udGFjdElkOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kQ2xpZW50TG9nczp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImxvZ0V2ZW50cyJdLG1lbWJlcnM6e2F1dGhlbnRpY2F0aW9uOntzaGFwZToiUzIifSxsb2dFdmVudHM6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt0aW1lc3RhbXA6e3R5cGU6InRpbWVzdGFtcCJ9LGNvbXBvbmVudDp7fSxtZXNzYWdlOnt9fX19fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kRGlnaXRzOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIiwiZGlnaXRzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e30sZGlnaXRzOnt9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxTZW5kU29mdHBob25lQ2FsbE1ldHJpY3M6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjY3BWZXJzaW9uOnt9LHNvZnRwaG9uZVN0cmVhbVN0YXRpc3RpY3M6e3NoYXBlOiJTNGYifX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX0sU2VuZFNvZnRwaG9uZUNhbGxSZXBvcnQ6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiYXV0aGVudGljYXRpb24iLCJjb250YWN0SWQiLCJyZXBvcnQiXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29udGFjdElkOnt9LGNjcFZlcnNpb246e30scmVwb3J0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e2NhbGxTdGFydFRpbWU6e3R5cGU6InRpbWVzdGFtcCJ9LGNhbGxFbmRUaW1lOnt0eXBlOiJ0aW1lc3RhbXAifSxzb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzOntzaGFwZToiUzRmIn0sZ3VtVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGluaXRpYWxpemF0aW9uVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGljZUNvbGxlY3Rpb25UaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sc2lnbmFsbGluZ0Nvbm5lY3RUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0saGFuZHNoYWtlVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LHByZVRhbGtUaW1lTWlsbGlzOnt0eXBlOiJsb25nIn0sdGFsa1RpbWVNaWxsaXM6e3R5cGU6ImxvbmcifSxjbGVhbnVwVGltZU1pbGxpczp7dHlwZToibG9uZyJ9LGljZUNvbGxlY3Rpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2lnbmFsbGluZ0Nvbm5lY3Rpb25GYWlsdXJlOnt0eXBlOiJib29sZWFuIn0saGFuZHNoYWtlRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGd1bU90aGVyRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LGd1bVRpbWVvdXRGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sY3JlYXRlT2ZmZXJGYWlsdXJlOnt0eXBlOiJib29sZWFuIn0sc2V0TG9jYWxEZXNjcmlwdGlvbkZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSx1c2VyQnVzeUZhaWx1cmU6e3R5cGU6ImJvb2xlYW4ifSxpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LG5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9LHNldFJlbW90ZURlc2NyaXB0aW9uRmFpbHVyZTp7dHlwZToiYm9vbGVhbiJ9fX19fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFRvZ2dsZUFjdGl2ZUNvbm5lY3Rpb25zOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVubXV0ZVBhcnRpY2lwYW50OntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbImF1dGhlbnRpY2F0aW9uIiwiY29udGFjdElkIiwiY29ubmVjdGlvbklkIl0sbWVtYmVyczp7YXV0aGVudGljYXRpb246e3NoYXBlOiJTMiJ9LGNvbnRhY3RJZDp7fSxjb25uZWN0aW9uSWQ6e319fSxvdXRwdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX19LFVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbjp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJhdXRoZW50aWNhdGlvbiIsImNvbmZpZ3VyYXRpb24iXSxtZW1iZXJzOnthdXRoZW50aWNhdGlvbjp7c2hhcGU6IlMyIn0sY29uZmlndXJhdGlvbjp7c2hhcGU6IlMxcSJ9fX0sb3V0cHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e319fSxVcGRhdGVNb25pdG9yUGFydGljaXBhbnRTdGF0ZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJjb250YWN0SWQiLCJ0YXJnZXRNb25pdG9yTW9kZSJdLG1lbWJlcnM6e2NvbnRhY3RJZDp7fSx0YXJnZXRNb25pdG9yTW9kZTp7fX19LG91dHB1dDp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fX19LHNoYXBlczp7UzI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7YWdlbnRBUk46e30sYXV0aFRva2VuOnt9fX0sU2U6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIl0sbWVtYmVyczp7ZW5kcG9pbnRBUk46e30sdHlwZTp7fSxuYW1lOnt9LHBob25lTnVtYmVyOnt9LGFnZW50TG9naW46e30scXVldWU6e3NoYXBlOiJTayJ9fX0sU2s6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7cXVldWVBUk46e30sbmFtZTp7fX19LFNyOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbInZhbHVlIiwidHlwZSJdLG1lbWJlcnM6e3ZhbHVlOnt9LHR5cGU6e319fX0sUzFxOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsibmFtZSIsInNvZnRwaG9uZUVuYWJsZWQiLCJzb2Z0cGhvbmVBdXRvQWNjZXB0IiwiZXh0ZW5zaW9uIiwicm91dGluZ1Byb2ZpbGUiXSxtZW1iZXJzOntuYW1lOnt9LHVzZXJuYW1lOnt9LHNvZnRwaG9uZUVuYWJsZWQ6e3R5cGU6ImJvb2xlYW4ifSxzb2Z0cGhvbmVBdXRvQWNjZXB0Ont0eXBlOiJib29sZWFuIn0sZXh0ZW5zaW9uOnt9LHJvdXRpbmdQcm9maWxlOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e25hbWU6e30scm91dGluZ1Byb2ZpbGVBUk46e30sZGVmYXVsdE91dGJvdW5kUXVldWU6e3NoYXBlOiJTayJ9LGNoYW5uZWxDb25jdXJyZW5jeU1hcDp7dHlwZToibWFwIixrZXk6e30sdmFsdWU6e3R5cGU6ImxvbmcifX19fSxhZ2VudFByZWZlcmVuY2VzOnt0eXBlOiJtYXAiLGtleTp7fSx2YWx1ZTp7fX0sYWdlbnRBUk46e319fSxTMjk6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJ0eXBlIiwibmFtZSJdLG1lbWJlcnM6e2FnZW50U3RhdGVBUk46e30sdHlwZTp7fSxuYW1lOnt9LHN0YXJ0VGltZXN0YW1wOnt0eXBlOiJ0aW1lc3RhbXAifX19LFM0Zjp7dHlwZToibGlzdCIsbWVtYmVyOnt0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e3RpbWVzdGFtcDp7dHlwZToidGltZXN0YW1wIn0sc29mdHBob25lU3RyZWFtVHlwZTp7fSxwYWNrZXRDb3VudDp7dHlwZToibG9uZyJ9LHBhY2tldHNMb3N0Ont0eXBlOiJsb25nIn0sYXVkaW9MZXZlbDp7dHlwZToiZG91YmxlIn0saml0dGVyQnVmZmVyTWlsbGlzOnt0eXBlOiJsb25nIn0scm91bmRUcmlwVGltZU1pbGxpczp7dHlwZToibG9uZyJ9fX19fX19LHt9XSw0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXthY206e25hbWU6IkFDTSIsY29yczohMH0sYXBpZ2F0ZXdheTp7bmFtZToiQVBJR2F0ZXdheSIsY29yczohMH0sYXBwbGljYXRpb25hdXRvc2NhbGluZzp7cHJlZml4OiJhcHBsaWNhdGlvbi1hdXRvc2NhbGluZyIsbmFtZToiQXBwbGljYXRpb25BdXRvU2NhbGluZyIsY29yczohMH0sYXBwc3RyZWFtOntuYW1lOiJBcHBTdHJlYW0ifSxhdXRvc2NhbGluZzp7bmFtZToiQXV0b1NjYWxpbmciLGNvcnM6ITB9LGJhdGNoOntuYW1lOiJCYXRjaCJ9LGJ1ZGdldHM6e25hbWU6IkJ1ZGdldHMifSxjbG91ZGRpcmVjdG9yeTp7bmFtZToiQ2xvdWREaXJlY3RvcnkiLHZlcnNpb25zOlsiMjAxNi0wNS0xMCoiXX0sY2xvdWRmb3JtYXRpb246e25hbWU6IkNsb3VkRm9ybWF0aW9uIixjb3JzOiEwfSxjbG91ZGZyb250OntuYW1lOiJDbG91ZEZyb250Iix2ZXJzaW9uczpbIjIwMTMtMDUtMTIqIiwiMjAxMy0xMS0xMSoiLCIyMDE0LTA1LTMxKiIsIjIwMTQtMTAtMjEqIiwiMjAxNC0xMS0wNioiLCIyMDE1LTA0LTE3KiIsIjIwMTUtMDctMjcqIiwiMjAxNS0wOS0xNyoiLCIyMDE2LTAxLTEzKiIsIjIwMTYtMDEtMjgqIiwiMjAxNi0wOC0wMSoiLCIyMDE2LTA4LTIwKiIsIjIwMTYtMDktMDcqIiwiMjAxNi0wOS0yOSoiLCIyMDE2LTExLTI1KiIsIjIwMTctMDMtMjUqIiwiMjAxNy0xMC0zMCoiLCIyMDE4LTA2LTE4KiIsIjIwMTgtMTEtMDUqIiwiMjAxOS0wMy0yNioiXSxjb3JzOiEwfSxjbG91ZGhzbTp7bmFtZToiQ2xvdWRIU00iLGNvcnM6ITB9LGNsb3Vkc2VhcmNoOntuYW1lOiJDbG91ZFNlYXJjaCJ9LGNsb3Vkc2VhcmNoZG9tYWluOntuYW1lOiJDbG91ZFNlYXJjaERvbWFpbiJ9LGNsb3VkdHJhaWw6e25hbWU6IkNsb3VkVHJhaWwiLGNvcnM6ITB9LGNsb3Vkd2F0Y2g6e3ByZWZpeDoibW9uaXRvcmluZyIsbmFtZToiQ2xvdWRXYXRjaCIsY29yczohMH0sY2xvdWR3YXRjaGV2ZW50czp7cHJlZml4OiJldmVudHMiLG5hbWU6IkNsb3VkV2F0Y2hFdmVudHMiLHZlcnNpb25zOlsiMjAxNC0wMi0wMyoiXSxjb3JzOiEwfSxjbG91ZHdhdGNobG9nczp7cHJlZml4OiJsb2dzIixuYW1lOiJDbG91ZFdhdGNoTG9ncyIsY29yczohMH0sY29kZWJ1aWxkOntuYW1lOiJDb2RlQnVpbGQiLGNvcnM6ITB9LGNvZGVjb21taXQ6e25hbWU6IkNvZGVDb21taXQiLGNvcnM6ITB9LGNvZGVkZXBsb3k6e25hbWU6IkNvZGVEZXBsb3kiLGNvcnM6ITB9LGNvZGVwaXBlbGluZTp7bmFtZToiQ29kZVBpcGVsaW5lIixjb3JzOiEwfSxjb2duaXRvaWRlbnRpdHk6e3ByZWZpeDoiY29nbml0by1pZGVudGl0eSIsbmFtZToiQ29nbml0b0lkZW50aXR5Iixjb3JzOiEwfSxjb2duaXRvaWRlbnRpdHlzZXJ2aWNlcHJvdmlkZXI6e3ByZWZpeDoiY29nbml0by1pZHAiLG5hbWU6IkNvZ25pdG9JZGVudGl0eVNlcnZpY2VQcm92aWRlciIsY29yczohMH0sY29nbml0b3N5bmM6e3ByZWZpeDoiY29nbml0by1zeW5jIixuYW1lOiJDb2duaXRvU3luYyIsY29yczohMH0sY29uZmlnc2VydmljZTp7cHJlZml4OiJjb25maWciLG5hbWU6IkNvbmZpZ1NlcnZpY2UiLGNvcnM6ITB9LGN1cjp7bmFtZToiQ1VSIixjb3JzOiEwfSxkYXRhcGlwZWxpbmU6e25hbWU6IkRhdGFQaXBlbGluZSJ9LGRldmljZWZhcm06e25hbWU6IkRldmljZUZhcm0iLGNvcnM6ITB9LGRpcmVjdGNvbm5lY3Q6e25hbWU6IkRpcmVjdENvbm5lY3QiLGNvcnM6ITB9LGRpcmVjdG9yeXNlcnZpY2U6e3ByZWZpeDoiZHMiLG5hbWU6IkRpcmVjdG9yeVNlcnZpY2UifSxkaXNjb3Zlcnk6e25hbWU6IkRpc2NvdmVyeSJ9LGRtczp7bmFtZToiRE1TIn0sZHluYW1vZGI6e25hbWU6IkR5bmFtb0RCIixjb3JzOiEwfSxkeW5hbW9kYnN0cmVhbXM6e3ByZWZpeDoic3RyZWFtcy5keW5hbW9kYiIsbmFtZToiRHluYW1vREJTdHJlYW1zIixjb3JzOiEwfSxlYzI6e25hbWU6IkVDMiIsdmVyc2lvbnM6WyIyMDEzLTA2LTE1KiIsIjIwMTMtMTAtMTUqIiwiMjAxNC0wMi0wMSoiLCIyMDE0LTA1LTAxKiIsIjIwMTQtMDYtMTUqIiwiMjAxNC0wOS0wMSoiLCIyMDE0LTEwLTAxKiIsIjIwMTUtMDMtMDEqIiwiMjAxNS0wNC0xNSoiLCIyMDE1LTEwLTAxKiIsIjIwMTYtMDQtMDEqIiwiMjAxNi0wOS0xNSoiXSxjb3JzOiEwfSxlY3I6e25hbWU6IkVDUiIsY29yczohMH0sZWNzOntuYW1lOiJFQ1MiLGNvcnM6ITB9LGVmczp7cHJlZml4OiJlbGFzdGljZmlsZXN5c3RlbSIsbmFtZToiRUZTIixjb3JzOiEwfSxlbGFzdGljYWNoZTp7bmFtZToiRWxhc3RpQ2FjaGUiLHZlcnNpb25zOlsiMjAxMi0xMS0xNSoiLCIyMDE0LTAzLTI0KiIsIjIwMTQtMDctMTUqIiwiMjAxNC0wOS0zMCoiXSxjb3JzOiEwfSxlbGFzdGljYmVhbnN0YWxrOntuYW1lOiJFbGFzdGljQmVhbnN0YWxrIixjb3JzOiEwfSxlbGI6e3ByZWZpeDoiZWxhc3RpY2xvYWRiYWxhbmNpbmciLG5hbWU6IkVMQiIsY29yczohMH0sZWxidjI6e3ByZWZpeDoiZWxhc3RpY2xvYWRiYWxhbmNpbmd2MiIsbmFtZToiRUxCdjIiLGNvcnM6ITB9LGVtcjp7cHJlZml4OiJlbGFzdGljbWFwcmVkdWNlIixuYW1lOiJFTVIiLGNvcnM6ITB9LGVzOntuYW1lOiJFUyJ9LGVsYXN0aWN0cmFuc2NvZGVyOntuYW1lOiJFbGFzdGljVHJhbnNjb2RlciIsY29yczohMH0sZmlyZWhvc2U6e25hbWU6IkZpcmVob3NlIixjb3JzOiEwfSxnYW1lbGlmdDp7bmFtZToiR2FtZUxpZnQiLGNvcnM6ITB9LGdsYWNpZXI6e25hbWU6IkdsYWNpZXIifSxoZWFsdGg6e25hbWU6IkhlYWx0aCJ9LGlhbTp7bmFtZToiSUFNIixjb3JzOiEwfSxpbXBvcnRleHBvcnQ6e25hbWU6IkltcG9ydEV4cG9ydCJ9LGluc3BlY3Rvcjp7bmFtZToiSW5zcGVjdG9yIix2ZXJzaW9uczpbIjIwMTUtMDgtMTgqIl0sY29yczohMH0saW90OntuYW1lOiJJb3QiLGNvcnM6ITB9LGlvdGRhdGE6e3ByZWZpeDoiaW90LWRhdGEiLG5hbWU6IklvdERhdGEiLGNvcnM6ITB9LGtpbmVzaXM6e25hbWU6IktpbmVzaXMiLGNvcnM6ITB9LGtpbmVzaXNhbmFseXRpY3M6e25hbWU6IktpbmVzaXNBbmFseXRpY3MifSxrbXM6e25hbWU6IktNUyIsY29yczohMH0sbGFtYmRhOntuYW1lOiJMYW1iZGEiLGNvcnM6ITB9LGxleHJ1bnRpbWU6e3ByZWZpeDoicnVudGltZS5sZXgiLG5hbWU6IkxleFJ1bnRpbWUiLGNvcnM6ITB9LGxpZ2h0c2FpbDp7bmFtZToiTGlnaHRzYWlsIn0sbWFjaGluZWxlYXJuaW5nOntuYW1lOiJNYWNoaW5lTGVhcm5pbmciLGNvcnM6ITB9LG1hcmtldHBsYWNlY29tbWVyY2VhbmFseXRpY3M6e25hbWU6Ik1hcmtldHBsYWNlQ29tbWVyY2VBbmFseXRpY3MiLGNvcnM6ITB9LG1hcmtldHBsYWNlbWV0ZXJpbmc6e3ByZWZpeDoibWV0ZXJpbmdtYXJrZXRwbGFjZSIsbmFtZToiTWFya2V0cGxhY2VNZXRlcmluZyJ9LG10dXJrOntwcmVmaXg6Im10dXJrLXJlcXVlc3RlciIsbmFtZToiTVR1cmsiLGNvcnM6ITB9LG1vYmlsZWFuYWx5dGljczp7bmFtZToiTW9iaWxlQW5hbHl0aWNzIixjb3JzOiEwfSxvcHN3b3Jrczp7bmFtZToiT3BzV29ya3MiLGNvcnM6ITB9LG9wc3dvcmtzY206e25hbWU6Ik9wc1dvcmtzQ00ifSxvcmdhbml6YXRpb25zOntuYW1lOiJPcmdhbml6YXRpb25zIn0scGlucG9pbnQ6e25hbWU6IlBpbnBvaW50In0scG9sbHk6e25hbWU6IlBvbGx5Iixjb3JzOiEwfSxyZHM6e25hbWU6IlJEUyIsdmVyc2lvbnM6WyIyMDE0LTA5LTAxKiJdLGNvcnM6ITB9LHJlZHNoaWZ0OntuYW1lOiJSZWRzaGlmdCIsY29yczohMH0scmVrb2duaXRpb246e25hbWU6IlJla29nbml0aW9uIixjb3JzOiEwfSxyZXNvdXJjZWdyb3Vwc3RhZ2dpbmdhcGk6e25hbWU6IlJlc291cmNlR3JvdXBzVGFnZ2luZ0FQSSJ9LHJvdXRlNTM6e25hbWU6IlJvdXRlNTMiLGNvcnM6ITB9LHJvdXRlNTNkb21haW5zOntuYW1lOiJSb3V0ZTUzRG9tYWlucyIsY29yczohMH0sczM6e25hbWU6IlMzIixkdWFsc3RhY2tBdmFpbGFibGU6ITAsY29yczohMH0sczNjb250cm9sOntuYW1lOiJTM0NvbnRyb2wiLGR1YWxzdGFja0F2YWlsYWJsZTohMCx4bWxOb0RlZmF1bHRMaXN0czohMH0sc2VydmljZWNhdGFsb2c6e25hbWU6IlNlcnZpY2VDYXRhbG9nIixjb3JzOiEwfSxzZXM6e3ByZWZpeDoiZW1haWwiLG5hbWU6IlNFUyIsY29yczohMH0sc2hpZWxkOntuYW1lOiJTaGllbGQifSxzaW1wbGVkYjp7cHJlZml4OiJzZGIiLG5hbWU6IlNpbXBsZURCIn0sc21zOntuYW1lOiJTTVMifSxzbm93YmFsbDp7bmFtZToiU25vd2JhbGwifSxzbnM6e25hbWU6IlNOUyIsY29yczohMH0sc3FzOntuYW1lOiJTUVMiLGNvcnM6ITB9LHNzbTp7bmFtZToiU1NNIixjb3JzOiEwfSxzdG9yYWdlZ2F0ZXdheTp7bmFtZToiU3RvcmFnZUdhdGV3YXkiLGNvcnM6ITB9LHN0ZXBmdW5jdGlvbnM6e3ByZWZpeDoic3RhdGVzIixuYW1lOiJTdGVwRnVuY3Rpb25zIn0sc3RzOntuYW1lOiJTVFMiLGNvcnM6ITB9LHN1cHBvcnQ6e25hbWU6IlN1cHBvcnQifSxzd2Y6e25hbWU6IlNXRiJ9LHhyYXk6e25hbWU6IlhSYXkiLGNvcnM6ITB9LHdhZjp7bmFtZToiV0FGIixjb3JzOiEwfSx3YWZyZWdpb25hbDp7cHJlZml4OiJ3YWYtcmVnaW9uYWwiLG5hbWU6IldBRlJlZ2lvbmFsIn0sd29ya2RvY3M6e25hbWU6IldvcmtEb2NzIixjb3JzOiEwfSx3b3Jrc3BhY2VzOntuYW1lOiJXb3JrU3BhY2VzIn0sY29kZXN0YXI6e25hbWU6IkNvZGVTdGFyIn0sbGV4bW9kZWxidWlsZGluZ3NlcnZpY2U6e3ByZWZpeDoibGV4LW1vZGVscyIsbmFtZToiTGV4TW9kZWxCdWlsZGluZ1NlcnZpY2UiLGNvcnM6ITB9LG1hcmtldHBsYWNlZW50aXRsZW1lbnRzZXJ2aWNlOntwcmVmaXg6ImVudGl0bGVtZW50Lm1hcmtldHBsYWNlIixuYW1lOiJNYXJrZXRwbGFjZUVudGl0bGVtZW50U2VydmljZSJ9LGF0aGVuYTp7bmFtZToiQXRoZW5hIixjb3JzOiEwfSxncmVlbmdyYXNzOntuYW1lOiJHcmVlbmdyYXNzIn0sZGF4OntuYW1lOiJEQVgifSxtaWdyYXRpb25odWI6e3ByZWZpeDoiQVdTTWlncmF0aW9uSHViIixuYW1lOiJNaWdyYXRpb25IdWIifSxjbG91ZGhzbXYyOntuYW1lOiJDbG91ZEhTTVYyIixjb3JzOiEwfSxnbHVlOntuYW1lOiJHbHVlIn0sbW9iaWxlOntuYW1lOiJNb2JpbGUifSxwcmljaW5nOntuYW1lOiJQcmljaW5nIixjb3JzOiEwfSxjb3N0ZXhwbG9yZXI6e3ByZWZpeDoiY2UiLG5hbWU6IkNvc3RFeHBsb3JlciIsY29yczohMH0sbWVkaWFjb252ZXJ0OntuYW1lOiJNZWRpYUNvbnZlcnQifSxtZWRpYWxpdmU6e25hbWU6Ik1lZGlhTGl2ZSJ9LG1lZGlhcGFja2FnZTp7bmFtZToiTWVkaWFQYWNrYWdlIn0sbWVkaWFzdG9yZTp7bmFtZToiTWVkaWFTdG9yZSJ9LG1lZGlhc3RvcmVkYXRhOntwcmVmaXg6Im1lZGlhc3RvcmUtZGF0YSIsbmFtZToiTWVkaWFTdG9yZURhdGEiLGNvcnM6ITB9LGFwcHN5bmM6e25hbWU6IkFwcFN5bmMifSxndWFyZGR1dHk6e25hbWU6Ikd1YXJkRHV0eSJ9LG1xOntuYW1lOiJNUSJ9LGNvbXByZWhlbmQ6e25hbWU6IkNvbXByZWhlbmQiLGNvcnM6ITB9LGlvdGpvYnNkYXRhcGxhbmU6e3ByZWZpeDoiaW90LWpvYnMtZGF0YSIsbmFtZToiSW9USm9ic0RhdGFQbGFuZSJ9LGtpbmVzaXN2aWRlb2FyY2hpdmVkbWVkaWE6e3ByZWZpeDoia2luZXNpcy12aWRlby1hcmNoaXZlZC1tZWRpYSIsbmFtZToiS2luZXNpc1ZpZGVvQXJjaGl2ZWRNZWRpYSIsY29yczohMH0sa2luZXNpc3ZpZGVvbWVkaWE6e3ByZWZpeDoia2luZXNpcy12aWRlby1tZWRpYSIsbmFtZToiS2luZXNpc1ZpZGVvTWVkaWEiLGNvcnM6ITB9LGtpbmVzaXN2aWRlbzp7bmFtZToiS2luZXNpc1ZpZGVvIixjb3JzOiEwfSxzYWdlbWFrZXJydW50aW1lOntwcmVmaXg6InJ1bnRpbWUuc2FnZW1ha2VyIixuYW1lOiJTYWdlTWFrZXJSdW50aW1lIn0sc2FnZW1ha2VyOntuYW1lOiJTYWdlTWFrZXIifSx0cmFuc2xhdGU6e25hbWU6IlRyYW5zbGF0ZSIsY29yczohMH0scmVzb3VyY2Vncm91cHM6e3ByZWZpeDoicmVzb3VyY2UtZ3JvdXBzIixuYW1lOiJSZXNvdXJjZUdyb3VwcyIsY29yczohMH0sYWxleGFmb3JidXNpbmVzczp7bmFtZToiQWxleGFGb3JCdXNpbmVzcyJ9LGNsb3VkOTp7bmFtZToiQ2xvdWQ5In0sc2VydmVybGVzc2FwcGxpY2F0aW9ucmVwb3NpdG9yeTp7cHJlZml4OiJzZXJ2ZXJsZXNzcmVwbyIsbmFtZToiU2VydmVybGVzc0FwcGxpY2F0aW9uUmVwb3NpdG9yeSJ9LHNlcnZpY2VkaXNjb3Zlcnk6e25hbWU6IlNlcnZpY2VEaXNjb3ZlcnkifSx3b3JrbWFpbDp7bmFtZToiV29ya01haWwifSxhdXRvc2NhbGluZ3BsYW5zOntwcmVmaXg6ImF1dG9zY2FsaW5nLXBsYW5zIixuYW1lOiJBdXRvU2NhbGluZ1BsYW5zIn0sdHJhbnNjcmliZXNlcnZpY2U6e3ByZWZpeDoidHJhbnNjcmliZSIsbmFtZToiVHJhbnNjcmliZVNlcnZpY2UifSxjb25uZWN0OntuYW1lOiJDb25uZWN0Iixjb3JzOiEwfSxhY21wY2E6e3ByZWZpeDoiYWNtLXBjYSIsbmFtZToiQUNNUENBIn0sZm1zOntuYW1lOiJGTVMifSxzZWNyZXRzbWFuYWdlcjp7bmFtZToiU2VjcmV0c01hbmFnZXIiLGNvcnM6ITB9LGlvdGFuYWx5dGljczp7bmFtZToiSW9UQW5hbHl0aWNzIixjb3JzOiEwfSxpb3QxY2xpY2tkZXZpY2Vzc2VydmljZTp7cHJlZml4OiJpb3QxY2xpY2stZGV2aWNlcyIsbmFtZToiSW9UMUNsaWNrRGV2aWNlc1NlcnZpY2UifSxpb3QxY2xpY2twcm9qZWN0czp7cHJlZml4OiJpb3QxY2xpY2stcHJvamVjdHMiLG5hbWU6IklvVDFDbGlja1Byb2plY3RzIn0scGk6e25hbWU6IlBJIn0sbmVwdHVuZTp7bmFtZToiTmVwdHVuZSJ9LG1lZGlhdGFpbG9yOntuYW1lOiJNZWRpYVRhaWxvciJ9LGVrczp7bmFtZToiRUtTIn0sbWFjaWU6e25hbWU6Ik1hY2llIn0sZGxtOntuYW1lOiJETE0ifSxzaWduZXI6e25hbWU6IlNpZ25lciJ9LGNoaW1lOntuYW1lOiJDaGltZSJ9LHBpbnBvaW50ZW1haWw6e3ByZWZpeDoicGlucG9pbnQtZW1haWwiLG5hbWU6IlBpbnBvaW50RW1haWwifSxyYW06e25hbWU6IlJBTSJ9LHJvdXRlNTNyZXNvbHZlcjp7bmFtZToiUm91dGU1M1Jlc29sdmVyIn0scGlucG9pbnRzbXN2b2ljZTp7cHJlZml4OiJzbXMtdm9pY2UiLG5hbWU6IlBpbnBvaW50U01TVm9pY2UifSxxdWlja3NpZ2h0OntuYW1lOiJRdWlja1NpZ2h0In0scmRzZGF0YXNlcnZpY2U6e3ByZWZpeDoicmRzLWRhdGEiLG5hbWU6IlJEU0RhdGFTZXJ2aWNlIn0sYW1wbGlmeTp7bmFtZToiQW1wbGlmeSJ9LGRhdGFzeW5jOntuYW1lOiJEYXRhU3luYyJ9LHJvYm9tYWtlcjp7bmFtZToiUm9ib01ha2VyIn0sdHJhbnNmZXI6e25hbWU6IlRyYW5zZmVyIn0sZ2xvYmFsYWNjZWxlcmF0b3I6e25hbWU6Ikdsb2JhbEFjY2VsZXJhdG9yIn0sY29tcHJlaGVuZG1lZGljYWw6e25hbWU6IkNvbXByZWhlbmRNZWRpY2FsIixjb3JzOiEwfSxraW5lc2lzYW5hbHl0aWNzdjI6e25hbWU6IktpbmVzaXNBbmFseXRpY3NWMiJ9LG1lZGlhY29ubmVjdDp7bmFtZToiTWVkaWFDb25uZWN0In0sZnN4OntuYW1lOiJGU3gifSxzZWN1cml0eWh1Yjp7bmFtZToiU2VjdXJpdHlIdWIifSxhcHBtZXNoOntuYW1lOiJBcHBNZXNoIix2ZXJzaW9uczpbIjIwMTgtMTAtMDEqIl19LGxpY2Vuc2VtYW5hZ2VyOntwcmVmaXg6ImxpY2Vuc2UtbWFuYWdlciIsbmFtZToiTGljZW5zZU1hbmFnZXIifSxrYWZrYTp7bmFtZToiS2Fma2EifSxhcGlnYXRld2F5bWFuYWdlbWVudGFwaTp7bmFtZToiQXBpR2F0ZXdheU1hbmFnZW1lbnRBcGkifSxhcGlnYXRld2F5djI6e25hbWU6IkFwaUdhdGV3YXlWMiJ9LGRvY2RiOntuYW1lOiJEb2NEQiJ9LGJhY2t1cDp7bmFtZToiQmFja3VwIn0sd29ya2xpbms6e25hbWU6IldvcmtMaW5rIn0sdGV4dHJhY3Q6e25hbWU6IlRleHRyYWN0In0sbWFuYWdlZGJsb2NrY2hhaW46e25hbWU6Ik1hbmFnZWRCbG9ja2NoYWluIn0sbWVkaWFwYWNrYWdldm9kOntwcmVmaXg6Im1lZGlhcGFja2FnZS12b2QiLG5hbWU6Ik1lZGlhUGFja2FnZVZvZCJ9LGdyb3VuZHN0YXRpb246e25hbWU6Ikdyb3VuZFN0YXRpb24ifSxpb3R0aGluZ3NncmFwaDp7bmFtZToiSW9UVGhpbmdzR3JhcGgifSxpb3RldmVudHM6e25hbWU6IklvVEV2ZW50cyJ9LGlvdGV2ZW50c2RhdGE6e3ByZWZpeDoiaW90ZXZlbnRzLWRhdGEiLG5hbWU6IklvVEV2ZW50c0RhdGEifSxwZXJzb25hbGl6ZTp7bmFtZToiUGVyc29uYWxpemUiLGNvcnM6ITB9LHBlcnNvbmFsaXplZXZlbnRzOntwcmVmaXg6InBlcnNvbmFsaXplLWV2ZW50cyIsbmFtZToiUGVyc29uYWxpemVFdmVudHMiLGNvcnM6ITB9LHBlcnNvbmFsaXplcnVudGltZTp7cHJlZml4OiJwZXJzb25hbGl6ZS1ydW50aW1lIixuYW1lOiJQZXJzb25hbGl6ZVJ1bnRpbWUiLGNvcnM6ITB9LGFwcGxpY2F0aW9uaW5zaWdodHM6e3ByZWZpeDoiYXBwbGljYXRpb24taW5zaWdodHMiLG5hbWU6IkFwcGxpY2F0aW9uSW5zaWdodHMifSxzZXJ2aWNlcXVvdGFzOntwcmVmaXg6InNlcnZpY2UtcXVvdGFzIixuYW1lOiJTZXJ2aWNlUXVvdGFzIn0sZWMyaW5zdGFuY2Vjb25uZWN0OntwcmVmaXg6ImVjMi1pbnN0YW5jZS1jb25uZWN0IixuYW1lOiJFQzJJbnN0YW5jZUNvbm5lY3QifSxldmVudGJyaWRnZTp7bmFtZToiRXZlbnRCcmlkZ2UifSxsYWtlZm9ybWF0aW9uOntuYW1lOiJMYWtlRm9ybWF0aW9uIn0sZm9yZWNhc3RzZXJ2aWNlOntwcmVmaXg6ImZvcmVjYXN0IixuYW1lOiJGb3JlY2FzdFNlcnZpY2UiLGNvcnM6ITB9LGZvcmVjYXN0cXVlcnlzZXJ2aWNlOntwcmVmaXg6ImZvcmVjYXN0cXVlcnkiLG5hbWU6IkZvcmVjYXN0UXVlcnlTZXJ2aWNlIixjb3JzOiEwfSxxbGRiOntuYW1lOiJRTERCIn0scWxkYnNlc3Npb246e3ByZWZpeDoicWxkYi1zZXNzaW9uIixuYW1lOiJRTERCU2Vzc2lvbiJ9LHdvcmttYWlsbWVzc2FnZWZsb3c6e25hbWU6IldvcmtNYWlsTWVzc2FnZUZsb3cifSxjb2Rlc3Rhcm5vdGlmaWNhdGlvbnM6e3ByZWZpeDoiY29kZXN0YXItbm90aWZpY2F0aW9ucyIsbmFtZToiQ29kZVN0YXJOb3RpZmljYXRpb25zIn0sc2F2aW5nc3BsYW5zOntuYW1lOiJTYXZpbmdzUGxhbnMifSxzc286e25hbWU6IlNTTyJ9LHNzb29pZGM6e3ByZWZpeDoic3NvLW9pZGMiLG5hbWU6IlNTT09JREMifSxtYXJrZXRwbGFjZWNhdGFsb2c6e3ByZWZpeDoibWFya2V0cGxhY2UtY2F0YWxvZyIsbmFtZToiTWFya2V0cGxhY2VDYXRhbG9nIixjb3JzOiEwfSxkYXRhZXhjaGFuZ2U6e25hbWU6IkRhdGFFeGNoYW5nZSJ9LHNlc3YyOntuYW1lOiJTRVNWMiJ9LG1pZ3JhdGlvbmh1YmNvbmZpZzp7cHJlZml4OiJtaWdyYXRpb25odWItY29uZmlnIixuYW1lOiJNaWdyYXRpb25IdWJDb25maWcifSxjb25uZWN0cGFydGljaXBhbnQ6e25hbWU6IkNvbm5lY3RQYXJ0aWNpcGFudCJ9LGFwcGNvbmZpZzp7bmFtZToiQXBwQ29uZmlnIn0saW90c2VjdXJldHVubmVsaW5nOntuYW1lOiJJb1RTZWN1cmVUdW5uZWxpbmcifSx3YWZ2Mjp7bmFtZToiV0FGVjIifSxlbGFzdGljaW5mZXJlbmNlOntwcmVmaXg6ImVsYXN0aWMtaW5mZXJlbmNlIixuYW1lOiJFbGFzdGljSW5mZXJlbmNlIn0saW1hZ2VidWlsZGVyOntuYW1lOiJJbWFnZWJ1aWxkZXIifSxzY2hlbWFzOntuYW1lOiJTY2hlbWFzIn0sYWNjZXNzYW5hbHl6ZXI6e25hbWU6IkFjY2Vzc0FuYWx5emVyIn0sY29kZWd1cnVyZXZpZXdlcjp7cHJlZml4OiJjb2RlZ3VydS1yZXZpZXdlciIsbmFtZToiQ29kZUd1cnVSZXZpZXdlciJ9LGNvZGVndXJ1cHJvZmlsZXI6e25hbWU6IkNvZGVHdXJ1UHJvZmlsZXIifSxjb21wdXRlb3B0aW1pemVyOntwcmVmaXg6ImNvbXB1dGUtb3B0aW1pemVyIixuYW1lOiJDb21wdXRlT3B0aW1pemVyIn0sZnJhdWRkZXRlY3Rvcjp7bmFtZToiRnJhdWREZXRlY3RvciJ9LGtlbmRyYTp7bmFtZToiS2VuZHJhIn0sbmV0d29ya21hbmFnZXI6e25hbWU6Ik5ldHdvcmtNYW5hZ2VyIn0sb3V0cG9zdHM6e25hbWU6Ik91dHBvc3RzIn0sYXVnbWVudGVkYWlydW50aW1lOntwcmVmaXg6InNhZ2VtYWtlci1hMmktcnVudGltZSIsbmFtZToiQXVnbWVudGVkQUlSdW50aW1lIn0sZWJzOntuYW1lOiJFQlMifSxraW5lc2lzdmlkZW9zaWduYWxpbmdjaGFubmVsczp7cHJlZml4OiJraW5lc2lzLXZpZGVvLXNpZ25hbGluZyIsbmFtZToiS2luZXNpc1ZpZGVvU2lnbmFsaW5nQ2hhbm5lbHMiLGNvcnM6ITB9LGRldGVjdGl2ZTp7bmFtZToiRGV0ZWN0aXZlIn0sY29kZXN0YXJjb25uZWN0aW9uczp7cHJlZml4OiJjb2Rlc3Rhci1jb25uZWN0aW9ucyIsbmFtZToiQ29kZVN0YXJjb25uZWN0aW9ucyJ9LHN5bnRoZXRpY3M6e25hbWU6IlN5bnRoZXRpY3MifSxpb3RzaXRld2lzZTp7bmFtZToiSW9UU2l0ZVdpc2UifSxtYWNpZTI6e25hbWU6Ik1hY2llMiJ9LGNvZGVhcnRpZmFjdDp7bmFtZToiQ29kZUFydGlmYWN0In0saG9uZXljb2RlOntuYW1lOiJIb25leWNvZGUifSxpdnM6e25hbWU6IklWUyJ9LGJyYWtldDp7bmFtZToiQnJha2V0In0saWRlbnRpdHlzdG9yZTp7bmFtZToiSWRlbnRpdHlTdG9yZSJ9LGFwcGZsb3c6e25hbWU6IkFwcGZsb3cifSxyZWRzaGlmdGRhdGE6e3ByZWZpeDoicmVkc2hpZnQtZGF0YSIsbmFtZToiUmVkc2hpZnREYXRhIn0sc3NvYWRtaW46e3ByZWZpeDoic3NvLWFkbWluIixuYW1lOiJTU09BZG1pbiJ9LHRpbWVzdHJlYW1xdWVyeTp7cHJlZml4OiJ0aW1lc3RyZWFtLXF1ZXJ5IixuYW1lOiJUaW1lc3RyZWFtUXVlcnkifSx0aW1lc3RyZWFtd3JpdGU6e3ByZWZpeDoidGltZXN0cmVhbS13cml0ZSIsbmFtZToiVGltZXN0cmVhbVdyaXRlIn0sczNvdXRwb3N0czp7bmFtZToiUzNPdXRwb3N0cyJ9LGRhdGFicmV3OntuYW1lOiJEYXRhQnJldyJ9LHNlcnZpY2VjYXRhbG9nYXBwcmVnaXN0cnk6e3ByZWZpeDoic2VydmljZWNhdGFsb2ctYXBwcmVnaXN0cnkiLG5hbWU6IlNlcnZpY2VDYXRhbG9nQXBwUmVnaXN0cnkifSxuZXR3b3JrZmlyZXdhbGw6e3ByZWZpeDoibmV0d29yay1maXJld2FsbCIsbmFtZToiTmV0d29ya0ZpcmV3YWxsIn0sbXdhYTp7bmFtZToiTVdBQSJ9LGFtcGxpZnliYWNrZW5kOntuYW1lOiJBbXBsaWZ5QmFja2VuZCJ9LGFwcGludGVncmF0aW9uczp7bmFtZToiQXBwSW50ZWdyYXRpb25zIn0sY29ubmVjdGNvbnRhY3RsZW5zOntwcmVmaXg6ImNvbm5lY3QtY29udGFjdC1sZW5zIixuYW1lOiJDb25uZWN0Q29udGFjdExlbnMifSxkZXZvcHNndXJ1OntwcmVmaXg6ImRldm9wcy1ndXJ1IixuYW1lOiJEZXZPcHNHdXJ1In0sZWNycHVibGljOntwcmVmaXg6ImVjci1wdWJsaWMiLG5hbWU6IkVDUlBVQkxJQyJ9LGxvb2tvdXR2aXNpb246e25hbWU6Ikxvb2tvdXRWaXNpb24ifSxzYWdlbWFrZXJmZWF0dXJlc3RvcmVydW50aW1lOntwcmVmaXg6InNhZ2VtYWtlci1mZWF0dXJlc3RvcmUtcnVudGltZSIsbmFtZToiU2FnZU1ha2VyRmVhdHVyZVN0b3JlUnVudGltZSJ9LGN1c3RvbWVycHJvZmlsZXM6e3ByZWZpeDoiY3VzdG9tZXItcHJvZmlsZXMiLG5hbWU6IkN1c3RvbWVyUHJvZmlsZXMifSxhdWRpdG1hbmFnZXI6e25hbWU6IkF1ZGl0TWFuYWdlciJ9LGVtcmNvbnRhaW5lcnM6e3ByZWZpeDoiZW1yLWNvbnRhaW5lcnMiLG5hbWU6IkVNUmNvbnRhaW5lcnMifSxoZWFsdGhsYWtlOntuYW1lOiJIZWFsdGhMYWtlIn0sc2FnZW1ha2VyZWRnZTp7cHJlZml4OiJzYWdlbWFrZXItZWRnZSIsbmFtZToiU2FnZW1ha2VyRWRnZSJ9LGFtcDp7bmFtZToiQW1wIixjb3JzOiEwfSxncmVlbmdyYXNzdjI6e25hbWU6IkdyZWVuZ3Jhc3NWMiJ9LGlvdGRldmljZWFkdmlzb3I6e25hbWU6IklvdERldmljZUFkdmlzb3IifSxpb3RmbGVldGh1Yjp7bmFtZToiSW9URmxlZXRIdWIifSxpb3R3aXJlbGVzczp7bmFtZToiSW9UV2lyZWxlc3MifSxsb2NhdGlvbjp7bmFtZToiTG9jYXRpb24iLGNvcnM6ITB9LHdlbGxhcmNoaXRlY3RlZDp7bmFtZToiV2VsbEFyY2hpdGVjdGVkIn0sbGV4bW9kZWxzdjI6e3ByZWZpeDoibW9kZWxzLmxleC52MiIsbmFtZToiTGV4TW9kZWxzVjIifSxsZXhydW50aW1ldjI6e3ByZWZpeDoicnVudGltZS5sZXgudjIiLG5hbWU6IkxleFJ1bnRpbWVWMiIsY29yczohMH0sZmlzOntuYW1lOiJGaXMifSxsb29rb3V0bWV0cmljczp7bmFtZToiTG9va291dE1ldHJpY3MifSxtZ246e25hbWU6Ik1nbiJ9LGxvb2tvdXRlcXVpcG1lbnQ6e25hbWU6Ikxvb2tvdXRFcXVpcG1lbnQifSxuaW1ibGU6e25hbWU6Ik5pbWJsZSJ9LGZpbnNwYWNlOntuYW1lOiJGaW5zcGFjZSJ9LGZpbnNwYWNlZGF0YTp7cHJlZml4OiJmaW5zcGFjZS1kYXRhIixuYW1lOiJGaW5zcGFjZWRhdGEifSxzc21jb250YWN0czp7cHJlZml4OiJzc20tY29udGFjdHMiLG5hbWU6IlNTTUNvbnRhY3RzIn0sc3NtaW5jaWRlbnRzOntwcmVmaXg6InNzbS1pbmNpZGVudHMiLG5hbWU6IlNTTUluY2lkZW50cyJ9LGFwcGxpY2F0aW9uY29zdHByb2ZpbGVyOntuYW1lOiJBcHBsaWNhdGlvbkNvc3RQcm9maWxlciJ9LGFwcHJ1bm5lcjp7bmFtZToiQXBwUnVubmVyIn0scHJvdG9uOntuYW1lOiJQcm90b24ifSxyb3V0ZTUzcmVjb3ZlcnljbHVzdGVyOntwcmVmaXg6InJvdXRlNTMtcmVjb3ZlcnktY2x1c3RlciIsbmFtZToiUm91dGU1M1JlY292ZXJ5Q2x1c3RlciJ9LHJvdXRlNTNyZWNvdmVyeWNvbnRyb2xjb25maWc6e3ByZWZpeDoicm91dGU1My1yZWNvdmVyeS1jb250cm9sLWNvbmZpZyIsbmFtZToiUm91dGU1M1JlY292ZXJ5Q29udHJvbENvbmZpZyJ9LHJvdXRlNTNyZWNvdmVyeXJlYWRpbmVzczp7cHJlZml4OiJyb3V0ZTUzLXJlY292ZXJ5LXJlYWRpbmVzcyIsbmFtZToiUm91dGU1M1JlY292ZXJ5UmVhZGluZXNzIn0sY2hpbWVzZGtpZGVudGl0eTp7cHJlZml4OiJjaGltZS1zZGstaWRlbnRpdHkiLG5hbWU6IkNoaW1lU0RLSWRlbnRpdHkifSxjaGltZXNka21lc3NhZ2luZzp7cHJlZml4OiJjaGltZS1zZGstbWVzc2FnaW5nIixuYW1lOiJDaGltZVNES01lc3NhZ2luZyJ9LHNub3dkZXZpY2VtYW5hZ2VtZW50OntwcmVmaXg6InNub3ctZGV2aWNlLW1hbmFnZW1lbnQiLG5hbWU6IlNub3dEZXZpY2VNYW5hZ2VtZW50In0sbWVtb3J5ZGI6e25hbWU6Ik1lbW9yeURCIn0sb3BlbnNlYXJjaDp7bmFtZToiT3BlblNlYXJjaCJ9LGthZmthY29ubmVjdDp7bmFtZToiS2Fma2FDb25uZWN0In0sdm9pY2VpZDp7cHJlZml4OiJ2b2ljZS1pZCIsbmFtZToiVm9pY2VJRCJ9LHdpc2RvbTp7bmFtZToiV2lzZG9tIn0sYWNjb3VudDp7bmFtZToiQWNjb3VudCJ9LGNsb3VkY29udHJvbDp7bmFtZToiQ2xvdWRDb250cm9sIn0sZ3JhZmFuYTp7bmFtZToiR3JhZmFuYSJ9LHBhbm9yYW1hOntuYW1lOiJQYW5vcmFtYSJ9LGNoaW1lc2RrbWVldGluZ3M6e3ByZWZpeDoiY2hpbWUtc2RrLW1lZXRpbmdzIixuYW1lOiJDaGltZVNES01lZXRpbmdzIn0scmVzaWxpZW5jZWh1Yjp7bmFtZToiUmVzaWxpZW5jZWh1YiJ9LG1pZ3JhdGlvbmh1YnN0cmF0ZWd5OntuYW1lOiJNaWdyYXRpb25IdWJTdHJhdGVneSJ9LGFwcGNvbmZpZ2RhdGE6e25hbWU6IkFwcENvbmZpZ0RhdGEifSxkcnM6e25hbWU6IkRycyJ9LG1pZ3JhdGlvbmh1YnJlZmFjdG9yc3BhY2VzOntwcmVmaXg6Im1pZ3JhdGlvbi1odWItcmVmYWN0b3Itc3BhY2VzIixuYW1lOiJNaWdyYXRpb25IdWJSZWZhY3RvclNwYWNlcyJ9LGV2aWRlbnRseTp7bmFtZToiRXZpZGVudGx5In0saW5zcGVjdG9yMjp7bmFtZToiSW5zcGVjdG9yMiJ9LHJiaW46e25hbWU6IlJiaW4ifSxydW06e25hbWU6IlJVTSJ9LGJhY2t1cGdhdGV3YXk6e3ByZWZpeDoiYmFja3VwLWdhdGV3YXkiLG5hbWU6IkJhY2t1cEdhdGV3YXkifSxpb3R0d2lubWFrZXI6e25hbWU6IklvVFR3aW5NYWtlciJ9LHdvcmtzcGFjZXN3ZWI6e3ByZWZpeDoid29ya3NwYWNlcy13ZWIiLG5hbWU6IldvcmtTcGFjZXNXZWIifSxhbXBsaWZ5dWlidWlsZGVyOntuYW1lOiJBbXBsaWZ5VUlCdWlsZGVyIn0sa2V5c3BhY2VzOntuYW1lOiJLZXlzcGFjZXMifSxiaWxsaW5nY29uZHVjdG9yOntuYW1lOiJCaWxsaW5nY29uZHVjdG9yIn0sZ2FtZXNwYXJrczp7bmFtZToiR2FtZVNwYXJrcyJ9LHBpbnBvaW50c21zdm9pY2V2Mjp7cHJlZml4OiJwaW5wb2ludC1zbXMtdm9pY2UtdjIiLG5hbWU6IlBpbnBvaW50U01TVm9pY2VWMiJ9LGl2c2NoYXQ6e25hbWU6Ikl2c2NoYXQifSxjaGltZXNka21lZGlhcGlwZWxpbmVzOntwcmVmaXg6ImNoaW1lLXNkay1tZWRpYS1waXBlbGluZXMiLG5hbWU6IkNoaW1lU0RLTWVkaWFQaXBlbGluZXMifSxlbXJzZXJ2ZXJsZXNzOntwcmVmaXg6ImVtci1zZXJ2ZXJsZXNzIixuYW1lOiJFTVJTZXJ2ZXJsZXNzIn0sbTI6e25hbWU6Ik0yIn0sY29ubmVjdGNhbXBhaWduczp7bmFtZToiQ29ubmVjdENhbXBhaWducyJ9LHJlZHNoaWZ0c2VydmVybGVzczp7cHJlZml4OiJyZWRzaGlmdC1zZXJ2ZXJsZXNzIixuYW1lOiJSZWRzaGlmdFNlcnZlcmxlc3MifSxyb2xlc2FueXdoZXJlOntuYW1lOiJSb2xlc0FueXdoZXJlIn0sbGljZW5zZW1hbmFnZXJ1c2Vyc3Vic2NyaXB0aW9uczp7cHJlZml4OiJsaWNlbnNlLW1hbmFnZXItdXNlci1zdWJzY3JpcHRpb25zIixuYW1lOiJMaWNlbnNlTWFuYWdlclVzZXJTdWJzY3JpcHRpb25zIn0sYmFja3Vwc3RvcmFnZTp7bmFtZToiQmFja3VwU3RvcmFnZSJ9LHByaXZhdGVuZXR3b3Jrczp7bmFtZToiUHJpdmF0ZU5ldHdvcmtzIn0sc3VwcG9ydGFwcDp7cHJlZml4OiJzdXBwb3J0LWFwcCIsbmFtZToiU3VwcG9ydEFwcCJ9LGNvbnRyb2x0b3dlcjp7bmFtZToiQ29udHJvbFRvd2VyIn0saW90ZmxlZXR3aXNlOntuYW1lOiJJb1RGbGVldFdpc2UifSxtaWdyYXRpb25odWJvcmNoZXN0cmF0b3I6e25hbWU6Ik1pZ3JhdGlvbkh1Yk9yY2hlc3RyYXRvciJ9LGNvbm5lY3RjYXNlczp7bmFtZToiQ29ubmVjdENhc2VzIn0scmVzb3VyY2VleHBsb3JlcjI6e3ByZWZpeDoicmVzb3VyY2UtZXhwbG9yZXItMiIsbmFtZToiUmVzb3VyY2VFeHBsb3JlcjIifSxzY2hlZHVsZXI6e25hbWU6IlNjaGVkdWxlciJ9LGNoaW1lc2Rrdm9pY2U6e3ByZWZpeDoiY2hpbWUtc2RrLXZvaWNlIixuYW1lOiJDaGltZVNES1ZvaWNlIn0saW90cm9ib3J1bm5lcjp7cHJlZml4OiJpb3Qtcm9ib3J1bm5lciIsbmFtZToiSW9UUm9ib1J1bm5lciJ9LHNzbXNhcDp7cHJlZml4OiJzc20tc2FwIixuYW1lOiJTc21TYXAifSxvYW06e25hbWU6Ik9BTSJ9LGFyY3pvbmFsc2hpZnQ6e3ByZWZpeDoiYXJjLXpvbmFsLXNoaWZ0IixuYW1lOiJBUkNab25hbFNoaWZ0In0sb21pY3M6e25hbWU6Ik9taWNzIn0sb3BlbnNlYXJjaHNlcnZlcmxlc3M6e25hbWU6Ik9wZW5TZWFyY2hTZXJ2ZXJsZXNzIn0sc2VjdXJpdHlsYWtlOntuYW1lOiJTZWN1cml0eUxha2UifSxzaW1zcGFjZXdlYXZlcjp7bmFtZToiU2ltU3BhY2VXZWF2ZXIifSxkb2NkYmVsYXN0aWM6e3ByZWZpeDoiZG9jZGItZWxhc3RpYyIsbmFtZToiRG9jREJFbGFzdGljIn0sc2FnZW1ha2VyZ2Vvc3BhdGlhbDp7cHJlZml4OiJzYWdlbWFrZXItZ2Vvc3BhdGlhbCIsbmFtZToiU2FnZU1ha2VyR2Vvc3BhdGlhbCJ9LGNvZGVjYXRhbHlzdDp7bmFtZToiQ29kZUNhdGFseXN0In0scGlwZXM6e25hbWU6IlBpcGVzIn0sc2FnZW1ha2VybWV0cmljczp7cHJlZml4OiJzYWdlbWFrZXItbWV0cmljcyIsbmFtZToiU2FnZU1ha2VyTWV0cmljcyJ9LGtpbmVzaXN2aWRlb3dlYnJ0Y3N0b3JhZ2U6e3ByZWZpeDoia2luZXNpcy12aWRlby13ZWJydGMtc3RvcmFnZSIsbmFtZToiS2luZXNpc1ZpZGVvV2ViUlRDU3RvcmFnZSJ9LGxpY2Vuc2VtYW5hZ2VybGludXhzdWJzY3JpcHRpb25zOntwcmVmaXg6ImxpY2Vuc2UtbWFuYWdlci1saW51eC1zdWJzY3JpcHRpb25zIixuYW1lOiJMaWNlbnNlTWFuYWdlckxpbnV4U3Vic2NyaXB0aW9ucyJ9LGtlbmRyYXJhbmtpbmc6e3ByZWZpeDoia2VuZHJhLXJhbmtpbmciLG5hbWU6IktlbmRyYVJhbmtpbmcifSxjbGVhbnJvb21zOntuYW1lOiJDbGVhblJvb21zIn0sY2xvdWR0cmFpbGRhdGE6e3ByZWZpeDoiY2xvdWR0cmFpbC1kYXRhIixuYW1lOiJDbG91ZFRyYWlsRGF0YSJ9LHRuYjp7bmFtZToiVG5iIn0saW50ZXJuZXRtb25pdG9yOntuYW1lOiJJbnRlcm5ldE1vbml0b3IifSxpdnNyZWFsdGltZTp7cHJlZml4OiJpdnMtcmVhbHRpbWUiLG5hbWU6IklWU1JlYWxUaW1lIn0sdnBjbGF0dGljZTp7cHJlZml4OiJ2cGMtbGF0dGljZSIsbmFtZToiVlBDTGF0dGljZSJ9LG9zaXM6e25hbWU6Ik9TSVMifSxtZWRpYXBhY2thZ2V2Mjp7bmFtZToiTWVkaWFQYWNrYWdlVjIifSxwYXltZW50Y3J5cHRvZ3JhcGh5OntwcmVmaXg6InBheW1lbnQtY3J5cHRvZ3JhcGh5IixuYW1lOiJQYXltZW50Q3J5cHRvZ3JhcGh5In0scGF5bWVudGNyeXB0b2dyYXBoeWRhdGE6e3ByZWZpeDoicGF5bWVudC1jcnlwdG9ncmFwaHktZGF0YSIsbmFtZToiUGF5bWVudENyeXB0b2dyYXBoeURhdGEifSxjb2RlZ3VydXNlY3VyaXR5OntwcmVmaXg6ImNvZGVndXJ1LXNlY3VyaXR5IixuYW1lOiJDb2RlR3VydVNlY3VyaXR5In0sdmVyaWZpZWRwZXJtaXNzaW9uczp7bmFtZToiVmVyaWZpZWRQZXJtaXNzaW9ucyJ9LGFwcGZhYnJpYzp7bmFtZToiQXBwRmFicmljIn0sbWVkaWNhbGltYWdpbmc6e3ByZWZpeDoibWVkaWNhbC1pbWFnaW5nIixuYW1lOiJNZWRpY2FsSW1hZ2luZyJ9LGVudGl0eXJlc29sdXRpb246e25hbWU6IkVudGl0eVJlc29sdXRpb24ifSxtYW5hZ2VkYmxvY2tjaGFpbnF1ZXJ5OntwcmVmaXg6Im1hbmFnZWRibG9ja2NoYWluLXF1ZXJ5IixuYW1lOiJNYW5hZ2VkQmxvY2tjaGFpblF1ZXJ5In0sbmVwdHVuZWRhdGE6e25hbWU6Ik5lcHR1bmVkYXRhIn0scGNhY29ubmVjdG9yYWQ6e3ByZWZpeDoicGNhLWNvbm5lY3Rvci1hZCIsbmFtZToiUGNhQ29ubmVjdG9yQWQifX19LHt9XSw1OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjAiLG1ldGFkYXRhOnthcGlWZXJzaW9uOiIyMDExLTA2LTE1IixlbmRwb2ludFByZWZpeDoic3RzIixnbG9iYWxFbmRwb2ludDoic3RzLmFtYXpvbmF3cy5jb20iLHByb3RvY29sOiJxdWVyeSIsc2VydmljZUFiYnJldmlhdGlvbjoiQVdTIFNUUyIsc2VydmljZUZ1bGxOYW1lOiJBV1MgU2VjdXJpdHkgVG9rZW4gU2VydmljZSIsc2VydmljZUlkOiJTVFMiLHNpZ25hdHVyZVZlcnNpb246InY0Iix1aWQ6InN0cy0yMDExLTA2LTE1Iix4bWxOYW1lc3BhY2U6Imh0dHBzOi8vc3RzLmFtYXpvbmF3cy5jb20vZG9jLzIwMTEtMDYtMTUvIn0sb3BlcmF0aW9uczp7QXNzdW1lUm9sZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJSb2xlQXJuIiwiUm9sZVNlc3Npb25OYW1lIl0sbWVtYmVyczp7Um9sZUFybjp7fSxSb2xlU2Vzc2lvbk5hbWU6e30sUG9saWN5QXJuczp7c2hhcGU6IlM0In0sUG9saWN5Ont9LER1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFRhZ3M6e3NoYXBlOiJTOCJ9LFRyYW5zaXRpdmVUYWdLZXlzOnt0eXBlOiJsaXN0IixtZW1iZXI6e319LEV4dGVybmFsSWQ6e30sU2VyaWFsTnVtYmVyOnt9LFRva2VuQ29kZTp7fSxTb3VyY2VJZGVudGl0eTp7fSxQcm92aWRlZENvbnRleHRzOnt0eXBlOiJsaXN0IixtZW1iZXI6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7UHJvdmlkZXJBcm46e30sQ29udGV4dEFzc2VydGlvbjp7fX19fX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn0sQXNzdW1lZFJvbGVVc2VyOntzaGFwZToiU3EifSxQYWNrZWRQb2xpY3lTaXplOnt0eXBlOiJpbnRlZ2VyIn0sU291cmNlSWRlbnRpdHk6e319fX0sQXNzdW1lUm9sZVdpdGhTQU1MOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIlJvbGVBcm4iLCJQcmluY2lwYWxBcm4iLCJTQU1MQXNzZXJ0aW9uIl0sbWVtYmVyczp7Um9sZUFybjp7fSxQcmluY2lwYWxBcm46e30sU0FNTEFzc2VydGlvbjp7dHlwZToic3RyaW5nIixzZW5zaXRpdmU6ITB9LFBvbGljeUFybnM6e3NoYXBlOiJTNCJ9LFBvbGljeTp7fSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiQXNzdW1lUm9sZVdpdGhTQU1MUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxTdWJqZWN0Ont9LFN1YmplY3RUeXBlOnt9LElzc3Vlcjp7fSxBdWRpZW5jZTp7fSxOYW1lUXVhbGlmaWVyOnt9LFNvdXJjZUlkZW50aXR5Ont9fX19LEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHk6e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiUm9sZUFybiIsIlJvbGVTZXNzaW9uTmFtZSIsIldlYklkZW50aXR5VG9rZW4iXSxtZW1iZXJzOntSb2xlQXJuOnt9LFJvbGVTZXNzaW9uTmFtZTp7fSxXZWJJZGVudGl0eVRva2VuOnt0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sUHJvdmlkZXJJZDp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxQb2xpY3k6e30sRHVyYXRpb25TZWNvbmRzOnt0eXBlOiJpbnRlZ2VyIn19fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7Q3JlZGVudGlhbHM6e3NoYXBlOiJTbCJ9LFN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbjp7fSxBc3N1bWVkUm9sZVVzZXI6e3NoYXBlOiJTcSJ9LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifSxQcm92aWRlcjp7fSxBdWRpZW5jZTp7fSxTb3VyY2VJZGVudGl0eTp7fX19fSxEZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJFbmNvZGVkTWVzc2FnZSJdLG1lbWJlcnM6e0VuY29kZWRNZXNzYWdlOnt9fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJEZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntEZWNvZGVkTWVzc2FnZTp7fX19fSxHZXRBY2Nlc3NLZXlJbmZvOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIkFjY2Vzc0tleUlkIl0sbWVtYmVyczp7QWNjZXNzS2V5SWQ6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldEFjY2Vzc0tleUluZm9SZXN1bHQiLHR5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7QWNjb3VudDp7fX19fSxHZXRDYWxsZXJJZGVudGl0eTp7aW5wdXQ6e3R5cGU6InN0cnVjdHVyZSIsbWVtYmVyczp7fX0sb3V0cHV0OntyZXN1bHRXcmFwcGVyOiJHZXRDYWxsZXJJZGVudGl0eVJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntVc2VySWQ6e30sQWNjb3VudDp7fSxBcm46e319fX0sR2V0RmVkZXJhdGlvblRva2VuOntpbnB1dDp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIk5hbWUiXSxtZW1iZXJzOntOYW1lOnt9LFBvbGljeTp7fSxQb2xpY3lBcm5zOntzaGFwZToiUzQifSxEdXJhdGlvblNlY29uZHM6e3R5cGU6ImludGVnZXIifSxUYWdzOntzaGFwZToiUzgifX19LG91dHB1dDp7cmVzdWx0V3JhcHBlcjoiR2V0RmVkZXJhdGlvblRva2VuUmVzdWx0Iix0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0NyZWRlbnRpYWxzOntzaGFwZToiU2wifSxGZWRlcmF0ZWRVc2VyOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiRmVkZXJhdGVkVXNlcklkIiwiQXJuIl0sbWVtYmVyczp7RmVkZXJhdGVkVXNlcklkOnt9LEFybjp7fX19LFBhY2tlZFBvbGljeVNpemU6e3R5cGU6ImludGVnZXIifX19fSxHZXRTZXNzaW9uVG9rZW46e2lucHV0Ont0eXBlOiJzdHJ1Y3R1cmUiLG1lbWJlcnM6e0R1cmF0aW9uU2Vjb25kczp7dHlwZToiaW50ZWdlciJ9LFNlcmlhbE51bWJlcjp7fSxUb2tlbkNvZGU6e319fSxvdXRwdXQ6e3Jlc3VsdFdyYXBwZXI6IkdldFNlc3Npb25Ub2tlblJlc3VsdCIsdHlwZToic3RydWN0dXJlIixtZW1iZXJzOntDcmVkZW50aWFsczp7c2hhcGU6IlNsIn19fX19LHNoYXBlczp7UzQ6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnthcm46e319fX0sUzg6e3R5cGU6Imxpc3QiLG1lbWJlcjp7dHlwZToic3RydWN0dXJlIixyZXF1aXJlZDpbIktleSIsIlZhbHVlIl0sbWVtYmVyczp7S2V5Ont9LFZhbHVlOnt9fX19LFNsOnt0eXBlOiJzdHJ1Y3R1cmUiLHJlcXVpcmVkOlsiQWNjZXNzS2V5SWQiLCJTZWNyZXRBY2Nlc3NLZXkiLCJTZXNzaW9uVG9rZW4iLCJFeHBpcmF0aW9uIl0sbWVtYmVyczp7QWNjZXNzS2V5SWQ6e30sU2VjcmV0QWNjZXNzS2V5Ont0eXBlOiJzdHJpbmciLHNlbnNpdGl2ZTohMH0sU2Vzc2lvblRva2VuOnt9LEV4cGlyYXRpb246e3R5cGU6InRpbWVzdGFtcCJ9fX0sU3E6e3R5cGU6InN0cnVjdHVyZSIscmVxdWlyZWQ6WyJBc3N1bWVkUm9sZUlkIiwiQXJuIl0sbWVtYmVyczp7QXNzdW1lZFJvbGVJZDp7fSxBcm46e319fX19fSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cGFnaW5hdGlvbjp7fX19LHt9XSw3OltmdW5jdGlvbihlLHQsbil7ZSgiLi4vbGliL25vZGVfbG9hZGVyIik7dmFyIHI9ZSgiLi4vbGliL2NvcmUiKSxvPXIuU2VydmljZSxpPXIuYXBpTG9hZGVyO2kuc2VydmljZXMuY29nbml0b2lkZW50aXR5PXt9LHIuQ29nbml0b0lkZW50aXR5PW8uZGVmaW5lU2VydmljZSgiY29nbml0b2lkZW50aXR5IixbIjIwMTQtMDYtMzAiXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuc2VydmljZXMuY29nbml0b2lkZW50aXR5LCIyMDE0LTA2LTMwIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZSgiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAubWluLmpzb24iKTtyZXR1cm4gdC5wYWdpbmF0b3JzPWUoIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLnBhZ2luYXRvcnMuanNvbiIpLnBhZ2luYXRpb24sdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmV4cG9ydHM9ci5Db2duaXRvSWRlbnRpdHl9LHsiLi4vYXBpcy9jb2duaXRvLWlkZW50aXR5LTIwMTQtMDYtMzAubWluLmpzb24iOjEsIi4uL2FwaXMvY29nbml0by1pZGVudGl0eS0yMDE0LTA2LTMwLnBhZ2luYXRvcnMuanNvbiI6MiwiLi4vbGliL2NvcmUiOjE5LCIuLi9saWIvbm9kZV9sb2FkZXIiOjE2fV0sODpbZnVuY3Rpb24oZSx0LG4pe2UoIi4uL2xpYi9ub2RlX2xvYWRlciIpO3ZhciByPWUoIi4uL2xpYi9jb3JlIiksbz1yLlNlcnZpY2UsaT1yLmFwaUxvYWRlcjtpLnNlcnZpY2VzLnN0cz17fSxyLlNUUz1vLmRlZmluZVNlcnZpY2UoInN0cyIsWyIyMDExLTA2LTE1Il0pLGUoIi4uL2xpYi9zZXJ2aWNlcy9zdHMiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5zZXJ2aWNlcy5zdHMsIjIwMTEtMDYtMTUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1lKCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1Lm1pbi5qc29uIik7cmV0dXJuIHQucGFnaW5hdG9ycz1lKCIuLi9hcGlzL3N0cy0yMDExLTA2LTE1LnBhZ2luYXRvcnMuanNvbiIpLnBhZ2luYXRpb24sdH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LmV4cG9ydHM9ci5TVFN9LHsiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5taW4uanNvbiI6NSwiLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5wYWdpbmF0b3JzLmpzb24iOjYsIi4uL2xpYi9jb3JlIjoxOSwiLi4vbGliL25vZGVfbG9hZGVyIjoxNiwiLi4vbGliL3NlcnZpY2VzL3N0cyI6NjN9XSw5OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe2lmKCFyLnNlcnZpY2VzLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFNlcnZpY2U6IEZhaWxlZCB0byBsb2FkIGFwaSBmb3IgIitlKTtyZXR1cm4gci5zZXJ2aWNlc1tlXVt0XX1yLnNlcnZpY2VzPXt9LHQuZXhwb3J0cz1yfSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIbWFjIiksbz1lKCIuL2Jyb3dzZXJNZDUiKSxpPWUoIi4vYnJvd3NlclNoYTEiKSxhPWUoIi4vYnJvd3NlclNoYTI1NiIpO3QuZXhwb3J0cz17Y3JlYXRlSGFzaDpmdW5jdGlvbihlKXtpZigibWQ1Ij09PShlPWUudG9Mb3dlckNhc2UoKSkpcmV0dXJuIG5ldyBvO2lmKCJzaGEyNTYiPT09ZSlyZXR1cm4gbmV3IGE7aWYoInNoYTEiPT09ZSlyZXR1cm4gbmV3IGk7dGhyb3cgbmV3IEVycm9yKCJIYXNoIGFsZ29yaXRobSAiK2UrIiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyIFNESyIpfSxjcmVhdGVIbWFjOmZ1bmN0aW9uKGUsdCl7aWYoIm1kNSI9PT0oZT1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuZXcgcihvLHQpO2lmKCJzaGEyNTYiPT09ZSlyZXR1cm4gbmV3IHIoYSx0KTtpZigic2hhMSI9PT1lKXJldHVybiBuZXcgcihpLHQpO3Rocm93IG5ldyBFcnJvcigiSE1BQyBhbGdvcml0aG0gIitlKyIgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3NlciBTREsiKX0sY3JlYXRlU2lnbjpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiY3JlYXRlU2lnbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIGJyb3dzZXIiKX19fSx7Ii4vYnJvd3NlckhtYWMiOjEyLCIuL2Jyb3dzZXJNZDUiOjEzLCIuL2Jyb3dzZXJTaGExIjoxNCwiLi9icm93c2VyU2hhMjU2IjoxNX1dLDExOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcjsidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ2b2lkIDA9PT1BcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpPi0xfSk7dmFyIG89WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iLCJbb2JqZWN0IERhdGFWaWV3XSJdO3QuZXhwb3J0cz17aXNFbXB0eURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlPzA9PT1lLmxlbmd0aDowPT09ZS5ieXRlTGVuZ3RofSxjb252ZXJ0VG9CdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1uZXcgcihlLCJ1dGY4IikpLEFycmF5QnVmZmVyLmlzVmlldyhlKT9uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoL1VpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpOm5ldyBVaW50OEFycmF5KGUpfX19LHsiYnVmZmVyLyI6ODZ9XSwxMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vYnJvd3Nlckhhc2hVdGlscyIpO2Z1bmN0aW9uIG8oZSx0KXt0aGlzLmhhc2g9bmV3IGUsdGhpcy5vdXRlcj1uZXcgZTt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXIuY29udmVydFRvQnVmZmVyKHQpO2lmKG4uYnl0ZUxlbmd0aD5lLkJMT0NLX1NJWkUpe3ZhciBvPW5ldyBlO28udXBkYXRlKG4pLG49by5kaWdlc3QoKX12YXIgaT1uZXcgVWludDhBcnJheShlLkJMT0NLX1NJWkUpO3JldHVybiBpLnNldChuKSxpfShlLHQpLG89bmV3IFVpbnQ4QXJyYXkoZS5CTE9DS19TSVpFKTtvLnNldChuKTtmb3IodmFyIGk9MDtpPGUuQkxPQ0tfU0laRTtpKyspbltpXV49NTQsb1tpXV49OTI7Zm9yKHRoaXMuaGFzaC51cGRhdGUobiksdGhpcy5vdXRlci51cGRhdGUobyksaT0wO2k8bi5ieXRlTGVuZ3RoO2krKyluW2ldPTB9dC5leHBvcnRzPW8sby5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHIuaXNFbXB0eURhdGEoZSl8fHRoaXMuZXJyb3IpcmV0dXJuIHRoaXM7dHJ5e3RoaXMuaGFzaC51cGRhdGUoci5jb252ZXJ0VG9CdWZmZXIoZSkpfWNhdGNoKGUpe3RoaXMuZXJyb3I9ZX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm91dGVyLmZpbmlzaGVkfHx0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmhhc2guZGlnZXN0KCkpLHRoaXMub3V0ZXIuZGlnZXN0KGUpfX0seyIuL2Jyb3dzZXJIYXNoVXRpbHMiOjExfV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKSxvPWUoImJ1ZmZlci8iKS5CdWZmZXIsaT02NDtmdW5jdGlvbiBhKCl7dGhpcy5zdGF0ZT1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSx0aGlzLmJ1ZmZlcj1uZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKGkpKSx0aGlzLmJ1ZmZlckxlbmd0aD0wLHRoaXMuYnl0ZXNIYXNoZWQ9MCx0aGlzLmZpbmlzaGVkPSExfWZ1bmN0aW9uIHMoZSx0LG4scixvLGkpe3JldHVybigodD0odCtlJjQyOTQ5NjcyOTUpKyhyK2kmNDI5NDk2NzI5NSkmNDI5NDk2NzI5NSk8PG98dD4+PjMyLW8pK24mNDI5NDk2NzI5NX1mdW5jdGlvbiBjKGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKHQmbnx+dCZyLGUsdCxvLGksYSl9ZnVuY3Rpb24gdShlLHQsbixyLG8saSxhKXtyZXR1cm4gcyh0JnJ8biZ+cixlLHQsbyxpLGEpfWZ1bmN0aW9uIGwoZSx0LG4scixvLGksYSl7cmV0dXJuIHModF5uXnIsZSx0LG8saSxhKX1mdW5jdGlvbiBwKGUsdCxuLHIsbyxpLGEpe3JldHVybiBzKG5eKHR8fnIpLGUsdCxvLGksYSl9dC5leHBvcnRzPWEsYS5CTE9DS19TSVpFPWksYS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHIuaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO3ZhciB0PXIuY29udmVydFRvQnVmZmVyKGUpLG49MCxvPXQuYnl0ZUxlbmd0aDtmb3IodGhpcy5ieXRlc0hhc2hlZCs9bztvPjA7KXRoaXMuYnVmZmVyLnNldFVpbnQ4KHRoaXMuYnVmZmVyTGVuZ3RoKyssdFtuKytdKSxvLS0sdGhpcy5idWZmZXJMZW5ndGg9PT1pJiYodGhpcy5oYXNoQnVmZmVyKCksdGhpcy5idWZmZXJMZW5ndGg9MCk7cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtpZighdGhpcy5maW5pc2hlZCl7dmFyIHQ9dGhpcyxuPXQuYnVmZmVyLHI9dC5idWZmZXJMZW5ndGgsYT04KnQuYnl0ZXNIYXNoZWQ7aWYobi5zZXRVaW50OCh0aGlzLmJ1ZmZlckxlbmd0aCsrLDEyOCksciVpPj01Nil7Zm9yKHZhciBzPXRoaXMuYnVmZmVyTGVuZ3RoO3M8aTtzKyspbi5zZXRVaW50OChzLDApO3RoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTB9Zm9yKHM9dGhpcy5idWZmZXJMZW5ndGg7czw1NjtzKyspbi5zZXRVaW50OChzLDApO24uc2V0VWludDMyKDU2LGE+Pj4wLCEwKSxuLnNldFVpbnQzMig2MCxNYXRoLmZsb29yKGEvNDI5NDk2NzI5NiksITApLHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuZmluaXNoZWQ9ITB9dmFyIGM9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxNikpO2ZvcihzPTA7czw0O3MrKyljLnNldFVpbnQzMig0KnMsdGhpcy5zdGF0ZVtzXSwhMCk7dmFyIHU9bmV3IG8oYy5idWZmZXIsYy5ieXRlT2Zmc2V0LGMuYnl0ZUxlbmd0aCk7cmV0dXJuIGU/dS50b1N0cmluZyhlKTp1fSxhLnByb3RvdHlwZS5oYXNoQnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5idWZmZXIsdD10aGlzLnN0YXRlLG49dFswXSxyPXRbMV0sbz10WzJdLGk9dFszXTtuPWMobixyLG8saSxlLmdldFVpbnQzMigwLCEwKSw3LDM2MTQwOTAzNjApLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDQsITApLDEyLDM5MDU0MDI3MTApLG89YyhvLGksbixyLGUuZ2V0VWludDMyKDgsITApLDE3LDYwNjEwNTgxOSkscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoMTIsITApLDIyLDMyNTA0NDE5NjYpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDE2LCEwKSw3LDQxMTg1NDgzOTkpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDIwLCEwKSwxMiwxMjAwMDgwNDI2KSxvPWMobyxpLG4scixlLmdldFVpbnQzMigyNCwhMCksMTcsMjgyMTczNTk1NSkscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoMjgsITApLDIyLDQyNDkyNjEzMTMpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDMyLCEwKSw3LDE3NzAwMzU0MTYpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDM2LCEwKSwxMiwyMzM2NTUyODc5KSxvPWMobyxpLG4scixlLmdldFVpbnQzMig0MCwhMCksMTcsNDI5NDkyNTIzMykscj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoNDQsITApLDIyLDIzMDQ1NjMxMzQpLG49YyhuLHIsbyxpLGUuZ2V0VWludDMyKDQ4LCEwKSw3LDE4MDQ2MDM2ODIpLGk9YyhpLG4scixvLGUuZ2V0VWludDMyKDUyLCEwKSwxMiw0MjU0NjI2MTk1KSxvPWMobyxpLG4scixlLmdldFVpbnQzMig1NiwhMCksMTcsMjc5Mjk2NTAwNiksbj11KG4scj1jKHIsbyxpLG4sZS5nZXRVaW50MzIoNjAsITApLDIyLDEyMzY1MzUzMjkpLG8saSxlLmdldFVpbnQzMig0LCEwKSw1LDQxMjkxNzA3ODYpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDI0LCEwKSw5LDMyMjU0NjU2NjQpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDQ0LCEwKSwxNCw2NDM3MTc3MTMpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDAsITApLDIwLDM5MjEwNjk5OTQpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDIwLCEwKSw1LDM1OTM0MDg2MDUpLGk9dShpLG4scixvLGUuZ2V0VWludDMyKDQwLCEwKSw5LDM4MDE2MDgzKSxvPXUobyxpLG4scixlLmdldFVpbnQzMig2MCwhMCksMTQsMzYzNDQ4ODk2MSkscj11KHIsbyxpLG4sZS5nZXRVaW50MzIoMTYsITApLDIwLDM4ODk0Mjk0NDgpLG49dShuLHIsbyxpLGUuZ2V0VWludDMyKDM2LCEwKSw1LDU2ODQ0NjQzOCksaT11KGksbixyLG8sZS5nZXRVaW50MzIoNTYsITApLDksMzI3NTE2MzYwNiksbz11KG8saSxuLHIsZS5nZXRVaW50MzIoMTIsITApLDE0LDQxMDc2MDMzMzUpLHI9dShyLG8saSxuLGUuZ2V0VWludDMyKDMyLCEwKSwyMCwxMTYzNTMxNTAxKSxuPXUobixyLG8saSxlLmdldFVpbnQzMig1MiwhMCksNSwyODUwMjg1ODI5KSxpPXUoaSxuLHIsbyxlLmdldFVpbnQzMig4LCEwKSw5LDQyNDM1NjM1MTIpLG89dShvLGksbixyLGUuZ2V0VWludDMyKDI4LCEwKSwxNCwxNzM1MzI4NDczKSxuPWwobixyPXUocixvLGksbixlLmdldFVpbnQzMig0OCwhMCksMjAsMjM2ODM1OTU2MiksbyxpLGUuZ2V0VWludDMyKDIwLCEwKSw0LDQyOTQ1ODg3MzgpLGk9bChpLG4scixvLGUuZ2V0VWludDMyKDMyLCEwKSwxMSwyMjcyMzkyODMzKSxvPWwobyxpLG4scixlLmdldFVpbnQzMig0NCwhMCksMTYsMTgzOTAzMDU2Mikscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoNTYsITApLDIzLDQyNTk2NTc3NDApLG49bChuLHIsbyxpLGUuZ2V0VWludDMyKDQsITApLDQsMjc2Mzk3NTIzNiksaT1sKGksbixyLG8sZS5nZXRVaW50MzIoMTYsITApLDExLDEyNzI4OTMzNTMpLG89bChvLGksbixyLGUuZ2V0VWludDMyKDI4LCEwKSwxNiw0MTM5NDY5NjY0KSxyPWwocixvLGksbixlLmdldFVpbnQzMig0MCwhMCksMjMsMzIwMDIzNjY1Niksbj1sKG4scixvLGksZS5nZXRVaW50MzIoNTIsITApLDQsNjgxMjc5MTc0KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMigwLCEwKSwxMSwzOTM2NDMwMDc0KSxvPWwobyxpLG4scixlLmdldFVpbnQzMigxMiwhMCksMTYsMzU3MjQ0NTMxNykscj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoMjQsITApLDIzLDc2MDI5MTg5KSxuPWwobixyLG8saSxlLmdldFVpbnQzMigzNiwhMCksNCwzNjU0NjAyODA5KSxpPWwoaSxuLHIsbyxlLmdldFVpbnQzMig0OCwhMCksMTEsMzg3MzE1MTQ2MSksbz1sKG8saSxuLHIsZS5nZXRVaW50MzIoNjAsITApLDE2LDUzMDc0MjUyMCksbj1wKG4scj1sKHIsbyxpLG4sZS5nZXRVaW50MzIoOCwhMCksMjMsMzI5OTYyODY0NSksbyxpLGUuZ2V0VWludDMyKDAsITApLDYsNDA5NjMzNjQ1MiksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoMjgsITApLDEwLDExMjY4OTE0MTUpLG89cChvLGksbixyLGUuZ2V0VWludDMyKDU2LCEwKSwxNSwyODc4NjEyMzkxKSxyPXAocixvLGksbixlLmdldFVpbnQzMigyMCwhMCksMjEsNDIzNzUzMzI0MSksbj1wKG4scixvLGksZS5nZXRVaW50MzIoNDgsITApLDYsMTcwMDQ4NTU3MSksaT1wKGksbixyLG8sZS5nZXRVaW50MzIoMTIsITApLDEwLDIzOTk5ODA2OTApLG89cChvLGksbixyLGUuZ2V0VWludDMyKDQwLCEwKSwxNSw0MjkzOTE1NzczKSxyPXAocixvLGksbixlLmdldFVpbnQzMig0LCEwKSwyMSwyMjQwMDQ0NDk3KSxuPXAobixyLG8saSxlLmdldFVpbnQzMigzMiwhMCksNiwxODczMzEzMzU5KSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMig2MCwhMCksMTAsNDI2NDM1NTU1Miksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoMjQsITApLDE1LDI3MzQ3Njg5MTYpLHI9cChyLG8saSxuLGUuZ2V0VWludDMyKDUyLCEwKSwyMSwxMzA5MTUxNjQ5KSxuPXAobixyLG8saSxlLmdldFVpbnQzMigxNiwhMCksNiw0MTQ5NDQ0MjI2KSxpPXAoaSxuLHIsbyxlLmdldFVpbnQzMig0NCwhMCksMTAsMzE3NDc1NjkxNyksbz1wKG8saSxuLHIsZS5nZXRVaW50MzIoOCwhMCksMTUsNzE4Nzg3MjU5KSxyPXAocixvLGksbixlLmdldFVpbnQzMigzNiwhMCksMjEsMzk1MTQ4MTc0NSksdFswXT1uK3RbMF0mNDI5NDk2NzI5NSx0WzFdPXIrdFsxXSY0Mjk0OTY3Mjk1LHRbMl09byt0WzJdJjQyOTQ5NjcyOTUsdFszXT1pK3RbM10mNDI5NDk2NzI5NX19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoImJ1ZmZlci8iKS5CdWZmZXIsbz1lKCIuL2Jyb3dzZXJIYXNoVXRpbHMiKTtmdW5jdGlvbiBpKCl7dGhpcy5oMD0xNzMyNTg0MTkzLHRoaXMuaDE9NDAyMzIzMzQxNyx0aGlzLmgyPTI1NjIzODMxMDIsdGhpcy5oMz0yNzE3MzM4NzgsdGhpcy5oND0zMjg1Mzc3NTIwLHRoaXMuYmxvY2s9bmV3IFVpbnQzMkFycmF5KDgwKSx0aGlzLm9mZnNldD0wLHRoaXMuc2hpZnQ9MjQsdGhpcy50b3RhbExlbmd0aD0wfW5ldyBVaW50MzJBcnJheShbMTUxODUwMDI0OSwxODU5Nzc1MzkzLC0xODk0MDA3NTg4LC04OTk0OTc1MTRdKSxNYXRoLnBvdygyLDUzKSx0LmV4cG9ydHM9aSxpLkJMT0NLX1NJWkU9NjQsaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZmluaXNoZWQpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIGFscmVhZHkgZmluaXNoZWQgaGFzaC4iKTtpZihvLmlzRW1wdHlEYXRhKGUpKXJldHVybiB0aGlzO3ZhciB0PShlPW8uY29udmVydFRvQnVmZmVyKGUpKS5sZW5ndGg7dGhpcy50b3RhbExlbmd0aCs9OCp0O2Zvcih2YXIgbj0wO248dDtuKyspdGhpcy53cml0ZShlW25dKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7dGhpcy5ibG9ja1t0aGlzLm9mZnNldF18PSgyNTUmZSk8PHRoaXMuc2hpZnQsdGhpcy5zaGlmdD90aGlzLnNoaWZ0LT04Oih0aGlzLm9mZnNldCsrLHRoaXMuc2hpZnQ9MjQpLDE2PT09dGhpcy5vZmZzZXQmJnRoaXMucHJvY2Vzc0Jsb2NrKCl9LGkucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXt0aGlzLndyaXRlKDEyOCksKHRoaXMub2Zmc2V0PjE0fHwxND09PXRoaXMub2Zmc2V0JiZ0aGlzLnNoaWZ0PDI0KSYmdGhpcy5wcm9jZXNzQmxvY2soKSx0aGlzLm9mZnNldD0xNCx0aGlzLnNoaWZ0PTI0LHRoaXMud3JpdGUoMCksdGhpcy53cml0ZSgwKSx0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+MHhmZmZmZmZmZmZmP3RoaXMudG90YWxMZW5ndGgvMTA5OTUxMTYyNzc3NjowKSx0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+NDI5NDk2NzI5NT90aGlzLnRvdGFsTGVuZ3RoLzQyOTQ5NjcyOTY6MCk7Zm9yKHZhciB0PTI0O3Q+PTA7dC09OCl0aGlzLndyaXRlKHRoaXMudG90YWxMZW5ndGg+PnQpO3ZhciBuPW5ldyByKDIwKSxvPW5ldyBEYXRhVmlldyhuLmJ1ZmZlcik7cmV0dXJuIG8uc2V0VWludDMyKDAsdGhpcy5oMCwhMSksby5zZXRVaW50MzIoNCx0aGlzLmgxLCExKSxvLnNldFVpbnQzMig4LHRoaXMuaDIsITEpLG8uc2V0VWludDMyKDEyLHRoaXMuaDMsITEpLG8uc2V0VWludDMyKDE2LHRoaXMuaDQsITEpLGU/bi50b1N0cmluZyhlKTpufSxpLnByb3RvdHlwZS5wcm9jZXNzQmxvY2s9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MTY7ZTw4MDtlKyspe3ZhciB0PXRoaXMuYmxvY2tbZS0zXV50aGlzLmJsb2NrW2UtOF1edGhpcy5ibG9ja1tlLTE0XV50aGlzLmJsb2NrW2UtMTZdO3RoaXMuYmxvY2tbZV09dDw8MXx0Pj4+MzF9dmFyIG4scixvPXRoaXMuaDAsaT10aGlzLmgxLGE9dGhpcy5oMixzPXRoaXMuaDMsYz10aGlzLmg0O2ZvcihlPTA7ZTw4MDtlKyspe2U8MjA/KG49c15pJihhXnMpLHI9MTUxODUwMDI0OSk6ZTw0MD8obj1pXmFecyxyPTE4NTk3NzUzOTMpOmU8NjA/KG49aSZhfHMmKGl8YSkscj0yNDAwOTU5NzA4KToobj1pXmFecyxyPTMzOTU0Njk3ODIpO3ZhciB1PShvPDw1fG8+Pj4yNykrbitjK3IrKDB8dGhpcy5ibG9ja1tlXSk7Yz1zLHM9YSxhPWk8PDMwfGk+Pj4yLGk9byxvPXV9Zm9yKHRoaXMuaDA9dGhpcy5oMCtvfDAsdGhpcy5oMT10aGlzLmgxK2l8MCx0aGlzLmgyPXRoaXMuaDIrYXwwLHRoaXMuaDM9dGhpcy5oMytzfDAsdGhpcy5oND10aGlzLmg0K2N8MCx0aGlzLm9mZnNldD0wLGU9MDtlPDE2O2UrKyl0aGlzLmJsb2NrW2VdPTB9fSx7Ii4vYnJvd3Nlckhhc2hVdGlscyI6MTEsImJ1ZmZlci8iOjg2fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCJidWZmZXIvIikuQnVmZmVyLG89ZSgiLi9icm93c2VySGFzaFV0aWxzIiksaT02NCxhPW5ldyBVaW50MzJBcnJheShbMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSkscz1NYXRoLnBvdygyLDUzKS0xO2Z1bmN0aW9uIGMoKXt0aGlzLnN0YXRlPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0sdGhpcy50ZW1wPW5ldyBJbnQzMkFycmF5KDY0KSx0aGlzLmJ1ZmZlcj1uZXcgVWludDhBcnJheSg2NCksdGhpcy5idWZmZXJMZW5ndGg9MCx0aGlzLmJ5dGVzSGFzaGVkPTAsdGhpcy5maW5pc2hlZD0hMX10LmV4cG9ydHM9YyxjLkJMT0NLX1NJWkU9aSxjLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5maW5pc2hlZCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLiIpO2lmKG8uaXNFbXB0eURhdGEoZSkpcmV0dXJuIHRoaXM7dmFyIHQ9MCxuPShlPW8uY29udmVydFRvQnVmZmVyKGUpKS5ieXRlTGVuZ3RoO2lmKHRoaXMuYnl0ZXNIYXNoZWQrPW4sOCp0aGlzLmJ5dGVzSGFzaGVkPnMpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgaGFzaCBtb3JlIHRoYW4gMl41MyAtIDEgYml0cyIpO2Zvcig7bj4wOyl0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlckxlbmd0aCsrXT1lW3QrK10sbi0tLHRoaXMuYnVmZmVyTGVuZ3RoPT09aSYmKHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuYnVmZmVyTGVuZ3RoPTApO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZmluaXNoZWQpe3ZhciB0PTgqdGhpcy5ieXRlc0hhc2hlZCxuPW5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlci5idWZmZXIsdGhpcy5idWZmZXIuYnl0ZU9mZnNldCx0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxvPXRoaXMuYnVmZmVyTGVuZ3RoO2lmKG4uc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywxMjgpLG8laT49NTYpe2Zvcih2YXIgYT10aGlzLmJ1ZmZlckxlbmd0aDthPGk7YSsrKW4uc2V0VWludDgoYSwwKTt0aGlzLmhhc2hCdWZmZXIoKSx0aGlzLmJ1ZmZlckxlbmd0aD0wfWZvcihhPXRoaXMuYnVmZmVyTGVuZ3RoO2E8NTY7YSsrKW4uc2V0VWludDgoYSwwKTtuLnNldFVpbnQzMig1NixNYXRoLmZsb29yKHQvNDI5NDk2NzI5NiksITApLG4uc2V0VWludDMyKDYwLHQpLHRoaXMuaGFzaEJ1ZmZlcigpLHRoaXMuZmluaXNoZWQ9ITB9dmFyIHM9bmV3IHIoMzIpO2ZvcihhPTA7YTw4O2ErKylzWzQqYV09dGhpcy5zdGF0ZVthXT4+PjI0JjI1NSxzWzQqYSsxXT10aGlzLnN0YXRlW2FdPj4+MTYmMjU1LHNbNCphKzJdPXRoaXMuc3RhdGVbYV0+Pj44JjI1NSxzWzQqYSszXT10aGlzLnN0YXRlW2FdPj4+MCYyNTU7cmV0dXJuIGU/cy50b1N0cmluZyhlKTpzfSxjLnByb3RvdHlwZS5oYXNoQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuYnVmZmVyLHQ9dGhpcy5zdGF0ZSxuPXRbMF0scj10WzFdLG89dFsyXSxzPXRbM10sYz10WzRdLHU9dFs1XSxsPXRbNl0scD10WzddLGQ9MDtkPGk7ZCsrKXtpZihkPDE2KXRoaXMudGVtcFtkXT0oMjU1JmVbNCpkXSk8PDI0fCgyNTUmZVs0KmQrMV0pPDwxNnwoMjU1JmVbNCpkKzJdKTw8OHwyNTUmZVs0KmQrM107ZWxzZXt2YXIgZj10aGlzLnRlbXBbZC0yXSxoPShmPj4+MTd8Zjw8MTUpXihmPj4+MTl8Zjw8MTMpXmY+Pj4xMCxnPSgoZj10aGlzLnRlbXBbZC0xNV0pPj4+N3xmPDwyNSleKGY+Pj4xOHxmPDwxNCleZj4+PjM7dGhpcy50ZW1wW2RdPShoK3RoaXMudGVtcFtkLTddfDApKyhnK3RoaXMudGVtcFtkLTE2XXwwKX12YXIgbT0oKChjPj4+NnxjPDwyNileKGM+Pj4xMXxjPDwyMSleKGM+Pj4yNXxjPDw3KSkrKGMmdV5+YyZsKXwwKSsocCsoYVtkXSt0aGlzLnRlbXBbZF18MCl8MCl8MCx2PSgobj4+PjJ8bjw8MzApXihuPj4+MTN8bjw8MTkpXihuPj4+MjJ8bjw8MTApKSsobiZyXm4mb15yJm8pfDA7cD1sLGw9dSx1PWMsYz1zK218MCxzPW8sbz1yLHI9bixuPW0rdnwwfXRbMF0rPW4sdFsxXSs9cix0WzJdKz1vLHRbM10rPXMsdFs0XSs9Yyx0WzVdKz11LHRbNl0rPWwsdFs3XSs9cH19LHsiLi9icm93c2VySGFzaFV0aWxzIjoxMSwiYnVmZmVyLyI6ODZ9XSwxNjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgbj1lKCIuL3V0aWwiKTtuLmNyeXB0by5saWI9ZSgiLi9icm93c2VyQ3J5cHRvTGliIiksbi5CdWZmZXI9ZSgiYnVmZmVyLyIpLkJ1ZmZlcixuLnVybD1lKCJ1cmwvIiksbi5xdWVyeXN0cmluZz1lKCJxdWVyeXN0cmluZy8iKSxuLnJlYWxDbG9jaz1lKCIuL3JlYWxjbG9jay9icm93c2VyQ2xvY2siKSxuLmVudmlyb25tZW50PSJqcyIsbi5jcmVhdGVFdmVudFN0cmVhbT1lKCIuL2V2ZW50LXN0cmVhbS9idWZmZXJlZC1jcmVhdGUtZXZlbnQtc3RyZWFtIikuY3JlYXRlRXZlbnRTdHJlYW0sbi5pc0Jyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5pc05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHI9ZSgiLi9jb3JlIik7aWYodC5leHBvcnRzPXIsZSgiLi9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiIpLGUoIi4vY3JlZGVudGlhbHMvdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy9jaGFpbmFibGVfdGVtcG9yYXJ5X2NyZWRlbnRpYWxzIiksZSgiLi9jcmVkZW50aWFscy93ZWJfaWRlbnRpdHlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL2NvZ25pdG9faWRlbnRpdHlfY3JlZGVudGlhbHMiKSxlKCIuL2NyZWRlbnRpYWxzL3NhbWxfY3JlZGVudGlhbHMiKSxyLlhNTC5QYXJzZXI9ZSgiLi94bWwvYnJvd3Nlcl9wYXJzZXIiKSxlKCIuL2h0dHAveGhyIiksdm9pZCAwPT09byl2YXIgbz17YnJvd3NlcjohMH19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vYnJvd3NlckNyeXB0b0xpYiI6MTAsIi4vY29yZSI6MTksIi4vY3JlZGVudGlhbHMiOjIwLCIuL2NyZWRlbnRpYWxzL2NoYWluYWJsZV90ZW1wb3JhcnlfY3JlZGVudGlhbHMiOjIxLCIuL2NyZWRlbnRpYWxzL2NvZ25pdG9faWRlbnRpdHlfY3JlZGVudGlhbHMiOjIyLCIuL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4iOjIzLCIuL2NyZWRlbnRpYWxzL3NhbWxfY3JlZGVudGlhbHMiOjI0LCIuL2NyZWRlbnRpYWxzL3RlbXBvcmFyeV9jcmVkZW50aWFscyI6MjUsIi4vY3JlZGVudGlhbHMvd2ViX2lkZW50aXR5X2NyZWRlbnRpYWxzIjoyNiwiLi9ldmVudC1zdHJlYW0vYnVmZmVyZWQtY3JlYXRlLWV2ZW50LXN0cmVhbSI6MjgsIi4vaHR0cC94aHIiOjM2LCIuL3JlYWxjbG9jay9icm93c2VyQ2xvY2siOjU0LCIuL3V0aWwiOjc0LCIuL3htbC9icm93c2VyX3BhcnNlciI6NzUsX3Byb2Nlc3M6OTEsImJ1ZmZlci8iOjg2LCJxdWVyeXN0cmluZy8iOjk4LCJ1cmwvIjoxMDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89ZSgiLi9jb3JlIik7ZSgiLi9jcmVkZW50aWFscyIpLGUoIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiIpLG8uQ29uZmlnPW8udXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT17fSksZT10aGlzLmV4dHJhY3RDcmVkZW50aWFscyhlKSxvLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5rZXlzLChmdW5jdGlvbih0LG4pe3RoaXMuc2V0KHQsZVt0XSxuKX0pKX0sZ2V0Q3JlZGVudGlhbHM6ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzO2Z1bmN0aW9uIHIodCl7ZSh0LHQ/bnVsbDpuLmNyZWRlbnRpYWxzKX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG5ldyBvLnV0aWwuZXJyb3IodHx8bmV3IEVycm9yLHtjb2RlOiJDcmVkZW50aWFsc0Vycm9yIixtZXNzYWdlOmUsbmFtZToiQ3JlZGVudGlhbHNFcnJvciJ9KX1uLmNyZWRlbnRpYWxzPyJmdW5jdGlvbiI9PXR5cGVvZiBuLmNyZWRlbnRpYWxzLmdldD9uLmNyZWRlbnRpYWxzLmdldCgoZnVuY3Rpb24oZSl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSAiK24uY3JlZGVudGlhbHMuY29uc3RydWN0b3IubmFtZSxlKSkscihlKX0pKToodD1udWxsLG4uY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQmJm4uY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5fHwodD1pKCJNaXNzaW5nIGNyZWRlbnRpYWxzIikpLHIodCkpOm4uY3JlZGVudGlhbFByb3ZpZGVyP24uY3JlZGVudGlhbFByb3ZpZGVyLnJlc29sdmUoKGZ1bmN0aW9uKGUsdCl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgY3JlZGVudGlhbHMgZnJvbSBhbnkgcHJvdmlkZXJzIixlKSksbi5jcmVkZW50aWFscz10LHIoZSl9KSk6cihpKCJObyBjcmVkZW50aWFscyB0byBsb2FkIikpfSxnZXRUb2tlbjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXM7ZnVuY3Rpb24gcih0KXtlKHQsdD9udWxsOm4udG9rZW4pfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gbmV3IG8udXRpbC5lcnJvcih0fHxuZXcgRXJyb3Ise2NvZGU6IlRva2VuRXJyb3IiLG1lc3NhZ2U6ZSxuYW1lOiJUb2tlbkVycm9yIn0pfW4udG9rZW4/ImZ1bmN0aW9uIj09dHlwZW9mIG4udG9rZW4uZ2V0P24udG9rZW4uZ2V0KChmdW5jdGlvbihlKXtlJiYoZT1pKCJDb3VsZCBub3QgbG9hZCB0b2tlbiBmcm9tICIrbi50b2tlbi5jb25zdHJ1Y3Rvci5uYW1lLGUpKSxyKGUpfSkpOih0PW51bGwsbi50b2tlbi50b2tlbnx8KHQ9aSgiTWlzc2luZyB0b2tlbiIpKSxyKHQpKTpuLnRva2VuUHJvdmlkZXI/bi50b2tlblByb3ZpZGVyLnJlc29sdmUoKGZ1bmN0aW9uKGUsdCl7ZSYmKGU9aSgiQ291bGQgbm90IGxvYWQgdG9rZW4gZnJvbSBhbnkgcHJvdmlkZXJzIixlKSksbi50b2tlbj10LHIoZSl9KSk6cihpKCJObyB0b2tlbiB0byBsb2FkIikpfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXt0PXR8fCExLGU9dGhpcy5leHRyYWN0Q3JlZGVudGlhbHMoZSksby51dGlsLmVhY2guY2FsbCh0aGlzLGUsKGZ1bmN0aW9uKGUsbil7KHR8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmtleXMsZSl8fG8uU2VydmljZS5oYXNTZXJ2aWNlKGUpKSYmdGhpcy5zZXQoZSxuKX0pKX0sbG9hZEZyb21QYXRoOmZ1bmN0aW9uKGUpe3RoaXMuY2xlYXIoKTt2YXIgdD1KU09OLnBhcnNlKG8udXRpbC5yZWFkRmlsZVN5bmMoZSkpLG49bmV3IG8uRmlsZVN5c3RlbUNyZWRlbnRpYWxzKGUpLHI9bmV3IG8uQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW47cmV0dXJuIHIucHJvdmlkZXJzLnVuc2hpZnQobiksci5yZXNvbHZlKChmdW5jdGlvbihlLG4pe2lmKGUpdGhyb3cgZTt0LmNyZWRlbnRpYWxzPW59KSksdGhpcy5jb25zdHJ1Y3Rvcih0KSx0aGlzfSxjbGVhcjpmdW5jdGlvbigpe28udXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLmtleXMsKGZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzW2VdfSkpLHRoaXMuc2V0KCJjcmVkZW50aWFscyIsdm9pZCAwKSx0aGlzLnNldCgiY3JlZGVudGlhbFByb3ZpZGVyIix2b2lkIDApfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PXQ/KHZvaWQgMD09PW4mJihuPXRoaXMua2V5c1tlXSksdGhpc1tlXT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmNhbGwodGhpcyk6bik6Imh0dHBPcHRpb25zIj09PWUmJnRoaXNbZV0/dGhpc1tlXT1vLnV0aWwubWVyZ2UodGhpc1tlXSx0KTp0aGlzW2VdPXR9LGtleXM6e2NyZWRlbnRpYWxzOm51bGwsY3JlZGVudGlhbFByb3ZpZGVyOm51bGwscmVnaW9uOm51bGwsbG9nZ2VyOm51bGwsYXBpVmVyc2lvbnM6e30sYXBpVmVyc2lvbjpudWxsLGVuZHBvaW50OnZvaWQgMCxodHRwT3B0aW9uczp7dGltZW91dDoxMmU0fSxtYXhSZXRyaWVzOnZvaWQgMCxtYXhSZWRpcmVjdHM6MTAscGFyYW1WYWxpZGF0aW9uOiEwLHNzbEVuYWJsZWQ6ITAsczNGb3JjZVBhdGhTdHlsZTohMSxzM0J1Y2tldEVuZHBvaW50OiExLHMzRGlzYWJsZUJvZHlTaWduaW5nOiEwLHMzVXNFYXN0MVJlZ2lvbmFsRW5kcG9pbnQ6ImxlZ2FjeSIsczNVc2VBcm5SZWdpb246dm9pZCAwLGNvbXB1dGVDaGVja3N1bXM6ITAsY29udmVydFJlc3BvbnNlVHlwZXM6ITAsY29ycmVjdENsb2NrU2tldzohMSxjdXN0b21Vc2VyQWdlbnQ6bnVsbCxkeW5hbW9EYkNyYzMyOiEwLHN5c3RlbUNsb2NrT2Zmc2V0OjAsc2lnbmF0dXJlVmVyc2lvbjpudWxsLHNpZ25hdHVyZUNhY2hlOiEwLHJldHJ5RGVsYXlPcHRpb25zOnt9LHVzZUFjY2VsZXJhdGVFbmRwb2ludDohMSxjbGllbnRTaWRlTW9uaXRvcmluZzohMSxlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQ6dm9pZCAwLGVuZHBvaW50Q2FjaGVTaXplOjFlMyxob3N0UHJlZml4RW5hYmxlZDohMCxzdHNSZWdpb25hbEVuZHBvaW50czoibGVnYWN5Iix1c2VGaXBzRW5kcG9pbnQ6ITEsdXNlRHVhbHN0YWNrRW5kcG9pbnQ6ITEsdG9rZW46bnVsbH0sZXh0cmFjdENyZWRlbnRpYWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmFjY2Vzc0tleUlkJiZlLnNlY3JldEFjY2Vzc0tleSYmKChlPW8udXRpbC5jb3B5KGUpKS5jcmVkZW50aWFscz1uZXcgby5DcmVkZW50aWFscyhlKSksZX0sc2V0UHJvbWlzZXNEZXBlbmRlbmN5OmZ1bmN0aW9uKGUpe3I9ZSxudWxsPT09ZSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2UmJihyPVByb21pc2UpO3ZhciB0PVtvLlJlcXVlc3Qsby5DcmVkZW50aWFscyxvLkNyZWRlbnRpYWxQcm92aWRlckNoYWluXTtvLlMzJiYodC5wdXNoKG8uUzMpLG8uUzMuTWFuYWdlZFVwbG9hZCYmdC5wdXNoKG8uUzMuTWFuYWdlZFVwbG9hZCkpLG8udXRpbC5hZGRQcm9taXNlcyh0LHIpfSxnZXRQcm9taXNlc0RlcGVuZGVuY3k6ZnVuY3Rpb24oKXtyZXR1cm4gcn19KSxvLmNvbmZpZz1uZXcgby5Db25maWd9LHsiLi9jb3JlIjoxOSwiLi9jcmVkZW50aWFscyI6MjAsIi4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbiI6MjN9XSwxODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKTtmdW5jdGlvbiBvKGUsdCl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZihbImxlZ2FjeSIsInJlZ2lvbmFsIl0uaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPj0wKXJldHVybiBlLnRvTG93ZXJDYXNlKCk7dGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix0KX19dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIGk7aWYoKGU9ZXx8e30pW3QuY2xpZW50Q29uZmlnXSYmKGk9byhlW3QuY2xpZW50Q29uZmlnXSx7Y29kZToiSW52YWxpZENvbmZpZ3VyYXRpb24iLG1lc3NhZ2U6J2ludmFsaWQgIicrdC5jbGllbnRDb25maWcrJyIgY29uZmlndXJhdGlvbi4gRXhwZWN0ICJsZWdhY3kiICBvciAicmVnaW9uYWwiLiBHb3QgIicrZVt0LmNsaWVudENvbmZpZ10rJyIuJ30pKSlyZXR1cm4gaTtpZighci51dGlsLmlzTm9kZSgpKXJldHVybiBpO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmVudix0LmVudikmJihpPW8obi5lbnZbdC5lbnZdLHtjb2RlOiJJbnZhbGlkRW52aXJvbm1lbnRhbFZhcmlhYmxlIixtZXNzYWdlOiJpbnZhbGlkICIrdC5lbnYrJyBlbnZpcm9ubWVudGFsIHZhcmlhYmxlLiBFeHBlY3QgImxlZ2FjeSIgIG9yICJyZWdpb25hbCIuIEdvdCAiJytuLmVudlt0LmVudl0rJyIuJ30pKSlyZXR1cm4gaTt2YXIgYT17fTt0cnl7YT1yLnV0aWwuZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnKHIudXRpbC5pbmlMb2FkZXIpW24uZW52LkFXU19QUk9GSUxFfHxyLnV0aWwuZGVmYXVsdFByb2ZpbGVdfWNhdGNoKGUpe31yZXR1cm4gYSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdC5zaGFyZWRDb25maWcpJiYoaT1vKGFbdC5zaGFyZWRDb25maWddLHtjb2RlOiJJbnZhbGlkQ29uZmlndXJhdGlvbiIsbWVzc2FnZToiaW52YWxpZCAiK3Quc2hhcmVkQ29uZmlnKycgcHJvZmlsZSBjb25maWcuIEV4cGVjdCAibGVnYWN5IiAgb3IgInJlZ2lvbmFsIi4gR290ICInK2FbdC5zaGFyZWRDb25maWddKyciLid9KSksaX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksX3Byb2Nlc3M6OTF9XSwxOTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt1dGlsOmUoIi4vdXRpbCIpfTsoe30pLnRvU3RyaW5nKCksdC5leHBvcnRzPXIsci51dGlsLnVwZGF0ZShyLHtWRVJTSU9OOiIyLjE0NTUuMCIsU2lnbmVyczp7fSxQcm90b2NvbDp7SnNvbjplKCIuL3Byb3RvY29sL2pzb24iKSxRdWVyeTplKCIuL3Byb3RvY29sL3F1ZXJ5IiksUmVzdDplKCIuL3Byb3RvY29sL3Jlc3QiKSxSZXN0SnNvbjplKCIuL3Byb3RvY29sL3Jlc3RfanNvbiIpLFJlc3RYbWw6ZSgiLi9wcm90b2NvbC9yZXN0X3htbCIpfSxYTUw6e0J1aWxkZXI6ZSgiLi94bWwvYnVpbGRlciIpLFBhcnNlcjpudWxsfSxKU09OOntCdWlsZGVyOmUoIi4vanNvbi9idWlsZGVyIiksUGFyc2VyOmUoIi4vanNvbi9wYXJzZXIiKX0sTW9kZWw6e0FwaTplKCIuL21vZGVsL2FwaSIpLE9wZXJhdGlvbjplKCIuL21vZGVsL29wZXJhdGlvbiIpLFNoYXBlOmUoIi4vbW9kZWwvc2hhcGUiKSxQYWdpbmF0b3I6ZSgiLi9tb2RlbC9wYWdpbmF0b3IiKSxSZXNvdXJjZVdhaXRlcjplKCIuL21vZGVsL3Jlc291cmNlX3dhaXRlciIpfSxhcGlMb2FkZXI6ZSgiLi9hcGlfbG9hZGVyIiksRW5kcG9pbnRDYWNoZTplKCIuLi92ZW5kb3IvZW5kcG9pbnQtY2FjaGUiKS5FbmRwb2ludENhY2hlfSksZSgiLi9zZXF1ZW50aWFsX2V4ZWN1dG9yIiksZSgiLi9zZXJ2aWNlIiksZSgiLi9jb25maWciKSxlKCIuL2h0dHAiKSxlKCIuL2V2ZW50X2xpc3RlbmVycyIpLGUoIi4vcmVxdWVzdCIpLGUoIi4vcmVzcG9uc2UiKSxlKCIuL3Jlc291cmNlX3dhaXRlciIpLGUoIi4vc2lnbmVycy9yZXF1ZXN0X3NpZ25lciIpLGUoIi4vcGFyYW1fdmFsaWRhdG9yIiksZSgiLi9tYWludGVuYW5jZV9tb2RlX21lc3NhZ2UiKSxyLmV2ZW50cz1uZXcgci5TZXF1ZW50aWFsRXhlY3V0b3Isci51dGlsLm1lbW9pemVkUHJvcGVydHkociwiZW5kcG9pbnRDYWNoZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByLkVuZHBvaW50Q2FjaGUoci5jb25maWcuZW5kcG9pbnRDYWNoZVNpemUpfSksITApfSx7Ii4uL3ZlbmRvci9lbmRwb2ludC1jYWNoZSI6MTExLCIuL2FwaV9sb2FkZXIiOjksIi4vY29uZmlnIjoxNywiLi9ldmVudF9saXN0ZW5lcnMiOjM0LCIuL2h0dHAiOjM1LCIuL2pzb24vYnVpbGRlciI6MzcsIi4vanNvbi9wYXJzZXIiOjM4LCIuL21haW50ZW5hbmNlX21vZGVfbWVzc2FnZSI6MzksIi4vbW9kZWwvYXBpIjo0MCwiLi9tb2RlbC9vcGVyYXRpb24iOjQyLCIuL21vZGVsL3BhZ2luYXRvciI6NDMsIi4vbW9kZWwvcmVzb3VyY2Vfd2FpdGVyIjo0NCwiLi9tb2RlbC9zaGFwZSI6NDUsIi4vcGFyYW1fdmFsaWRhdG9yIjo0NiwiLi9wcm90b2NvbC9qc29uIjo0OCwiLi9wcm90b2NvbC9xdWVyeSI6NDksIi4vcHJvdG9jb2wvcmVzdCI6NTAsIi4vcHJvdG9jb2wvcmVzdF9qc29uIjo1MSwiLi9wcm90b2NvbC9yZXN0X3htbCI6NTIsIi4vcmVxdWVzdCI6NTgsIi4vcmVzb3VyY2Vfd2FpdGVyIjo1OSwiLi9yZXNwb25zZSI6NjAsIi4vc2VxdWVudGlhbF9leGVjdXRvciI6NjEsIi4vc2VydmljZSI6NjIsIi4vc2lnbmVycy9yZXF1ZXN0X3NpZ25lciI6NjYsIi4vdXRpbCI6NzQsIi4veG1sL2J1aWxkZXIiOjc2fV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2NvcmUiKTtyLkNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe2lmKHIudXRpbC5oaWRlUHJvcGVydGllcyh0aGlzLFsic2VjcmV0QWNjZXNzS2V5Il0pLHRoaXMuZXhwaXJlZD0hMSx0aGlzLmV4cGlyZVRpbWU9bnVsbCx0aGlzLnJlZnJlc2hDYWxsYmFja3M9W10sMT09PWFyZ3VtZW50cy5sZW5ndGgmJiJvYmplY3QiPT09byhhcmd1bWVudHNbMF0pKXt2YXIgZT1hcmd1bWVudHNbMF0uY3JlZGVudGlhbHN8fGFyZ3VtZW50c1swXTt0aGlzLmFjY2Vzc0tleUlkPWUuYWNjZXNzS2V5SWQsdGhpcy5zZWNyZXRBY2Nlc3NLZXk9ZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zZXNzaW9uVG9rZW49ZS5zZXNzaW9uVG9rZW59ZWxzZSB0aGlzLmFjY2Vzc0tleUlkPWFyZ3VtZW50c1swXSx0aGlzLnNlY3JldEFjY2Vzc0tleT1hcmd1bWVudHNbMV0sdGhpcy5zZXNzaW9uVG9rZW49YXJndW1lbnRzWzJdfSxleHBpcnlXaW5kb3c6MTUsbmVlZHNSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGU9ci51dGlsLmRhdGUuZ2V0RGF0ZSgpLmdldFRpbWUoKSx0PW5ldyBEYXRlKGUrMWUzKnRoaXMuZXhwaXJ5V2luZG93KTtyZXR1cm4hISh0aGlzLmV4cGlyZVRpbWUmJnQ+dGhpcy5leHBpcmVUaW1lKXx8dGhpcy5leHBpcmVkfHwhdGhpcy5hY2Nlc3NLZXlJZHx8IXRoaXMuc2VjcmV0QWNjZXNzS2V5fSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm5lZWRzUmVmcmVzaCgpP3RoaXMucmVmcmVzaCgoZnVuY3Rpb24obil7bnx8KHQuZXhwaXJlZD0hMSksZSYmZShuKX0pKTplJiZlKCl9LHJlZnJlc2g6ZnVuY3Rpb24oZSl7dGhpcy5leHBpcmVkPSExLGUoKX0sY29hbGVzY2VSZWZyZXNoOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczsxPT09bi5yZWZyZXNoQ2FsbGJhY2tzLnB1c2goZSkmJm4ubG9hZCgoZnVuY3Rpb24oZSl7ci51dGlsLmFycmF5RWFjaChuLnJlZnJlc2hDYWxsYmFja3MsKGZ1bmN0aW9uKG4pe3Q/bihlKTpyLnV0aWwuZGVmZXIoKGZ1bmN0aW9uKCl7bihlKX0pKX0pKSxuLnJlZnJlc2hDYWxsYmFja3MubGVuZ3RoPTB9KSl9LGxvYWQ6ZnVuY3Rpb24oZSl7ZSgpfX0pLHIuQ3JlZGVudGlhbHMuYWRkUHJvbWlzZXNUb0NsYXNzPWZ1bmN0aW9uKGUpe3RoaXMucHJvdG90eXBlLmdldFByb21pc2U9ci51dGlsLnByb21pc2lmeU1ldGhvZCgiZ2V0IixlKSx0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZT1yLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCJyZWZyZXNoIixlKX0sci5DcmVkZW50aWFscy5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5nZXRQcm9taXNlLGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZX0sci51dGlsLmFkZFByb21pc2VzKHIuQ3JlZGVudGlhbHMpfSx7Ii4vY29yZSI6MTl9XSwyMTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlKXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksZT1lfHx7fSx0aGlzLmVycm9yQ29kZT0iQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUiLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnRva2VuQ29kZUZuPW51bGw7dmFyIHQ9ci51dGlsLmNvcHkoZS5wYXJhbXMpfHx7fTtpZih0LlJvbGVBcm4mJih0LlJvbGVTZXNzaW9uTmFtZT10LlJvbGVTZXNzaW9uTmFtZXx8InRlbXBvcmFyeS1jcmVkZW50aWFscyIpLHQuU2VyaWFsTnVtYmVyKXtpZighZS50b2tlbkNvZGVGbnx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUudG9rZW5Db2RlRm4pdGhyb3cgbmV3IHIudXRpbC5lcnJvcihuZXcgRXJyb3IoInRva2VuQ29kZUZuIG11c3QgYmUgYSBmdW5jdGlvbiB3aGVuIHBhcmFtcy5TZXJpYWxOdW1iZXIgaXMgZ2l2ZW4iKSx7Y29kZTp0aGlzLmVycm9yQ29kZX0pO3RoaXMudG9rZW5Db2RlRm49ZS50b2tlbkNvZGVGbn12YXIgbj1yLnV0aWwubWVyZ2Uoe3BhcmFtczp0LGNyZWRlbnRpYWxzOmUubWFzdGVyQ3JlZGVudGlhbHN8fHIuY29uZmlnLmNyZWRlbnRpYWxzfSxlLnN0c0NvbmZpZ3x8e30pO3RoaXMuc2VydmljZT1uZXcgbyhuKX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10LnNlcnZpY2UuY29uZmlnLnBhcmFtcy5Sb2xlQXJuPyJhc3N1bWVSb2xlIjoiZ2V0U2Vzc2lvblRva2VuIjt0aGlzLmdldFRva2VuQ29kZSgoZnVuY3Rpb24ocixvKXt2YXIgaT17fTtyP2Uocik6KG8mJihpLlRva2VuQ29kZT1vKSx0LnNlcnZpY2Vbbl0oaSwoZnVuY3Rpb24obixyKXtufHx0LnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHIsdCksZShuKX0pKSl9KSl9LGdldFRva2VuQ29kZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudG9rZW5Db2RlRm4/dGhpcy50b2tlbkNvZGVGbih0aGlzLnNlcnZpY2UuY29uZmlnLnBhcmFtcy5TZXJpYWxOdW1iZXIsKGZ1bmN0aW9uKG4sbyl7aWYobil7dmFyIGk9bjtyZXR1cm4gbiBpbnN0YW5jZW9mIEVycm9yJiYoaT1uLm1lc3NhZ2UpLHZvaWQgZShyLnV0aWwuZXJyb3IobmV3IEVycm9yKCJFcnJvciBmZXRjaGluZyBNRkEgdG9rZW46ICIraSkse2NvZGU6dC5lcnJvckNvZGV9KSl9ZShudWxsLG8pfSkpOmUobnVsbCl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksaT1lKCIuLi8uLi9jbGllbnRzL2NvZ25pdG9pZGVudGl0eSIpLGE9ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2xvY2FsU3RvcmFnZUtleTp7aWQ6ImF3cy5jb2duaXRvLmlkZW50aXR5LWlkLiIscHJvdmlkZXJzOiJhd3MuY29nbml0by5pZGVudGl0eS1wcm92aWRlcnMuIn0sY29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0KXtyLkNyZWRlbnRpYWxzLmNhbGwodGhpcyksdGhpcy5leHBpcmVkPSEwLHRoaXMucGFyYW1zPWUsdGhpcy5kYXRhPW51bGwsdGhpcy5faWRlbnRpdHlJZD1udWxsLHRoaXMuX2NsaWVudENvbmZpZz1yLnV0aWwuY29weSh0fHx7fSksdGhpcy5sb2FkQ2FjaGVkSWQoKTt2YXIgbj10aGlzO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZGVudGl0eUlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ubG9hZENhY2hlZElkKCksbi5faWRlbnRpdHlJZHx8bi5wYXJhbXMuSWRlbnRpdHlJZH0sc2V0OmZ1bmN0aW9uKGUpe24uX2lkZW50aXR5SWQ9ZX19KX0scmVmcmVzaDpmdW5jdGlvbihlKXt0aGlzLmNvYWxlc2NlUmVmcmVzaChlfHxyLnV0aWwuZm4uY2FsbGJhY2spfSxsb2FkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jcmVhdGVDbGllbnRzKCksdC5kYXRhPW51bGwsdC5faWRlbnRpdHlJZD1udWxsLHQuZ2V0SWQoKGZ1bmN0aW9uKG4pe24/KHQuY2xlYXJJZE9uTm90QXV0aG9yaXplZChuKSxlKG4pKTp0LnBhcmFtcy5Sb2xlQXJuP3QuZ2V0Q3JlZGVudGlhbHNGcm9tU1RTKGUpOnQuZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eShlKX0pKX0sY2xlYXJDYWNoZWRJZDpmdW5jdGlvbigpe3RoaXMuX2lkZW50aXR5SWQ9bnVsbCxkZWxldGUgdGhpcy5wYXJhbXMuSWRlbnRpdHlJZDt2YXIgZT10aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCx0PXRoaXMucGFyYW1zLkxvZ2luSWR8fCIiO2RlbGV0ZSB0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXkuaWQrZSt0XSxkZWxldGUgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5LnByb3ZpZGVycytlK3RdfSxjbGVhcklkT25Ob3RBdXRob3JpemVkOmZ1bmN0aW9uKGUpeyJOb3RBdXRob3JpemVkRXhjZXB0aW9uIj09ZS5jb2RlJiZ0aGlzLmNsZWFyQ2FjaGVkSWQoKX0sZ2V0SWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigic3RyaW5nIj09dHlwZW9mIHQucGFyYW1zLklkZW50aXR5SWQpcmV0dXJuIGUobnVsbCx0LnBhcmFtcy5JZGVudGl0eUlkKTt0LmNvZ25pdG8uZ2V0SWQoKGZ1bmN0aW9uKG4scil7IW4mJnIuSWRlbnRpdHlJZD8odC5wYXJhbXMuSWRlbnRpdHlJZD1yLklkZW50aXR5SWQsZShudWxsLHIuSWRlbnRpdHlJZCkpOmUobil9KSl9LGxvYWRDcmVkZW50aWFsczpmdW5jdGlvbihlLHQpe2UmJnQmJih0LmV4cGlyZWQ9ITEsdC5hY2Nlc3NLZXlJZD1lLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLHQuc2VjcmV0QWNjZXNzS2V5PWUuQ3JlZGVudGlhbHMuU2VjcmV0S2V5LHQuc2Vzc2lvblRva2VuPWUuQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLHQuZXhwaXJlVGltZT1lLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24pfSxnZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5jb2duaXRvLmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkoKGZ1bmN0aW9uKG4scil7bj90LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobik6KHQuY2FjaGVJZChyKSx0LmRhdGE9cix0LmxvYWRDcmVkZW50aWFscyh0LmRhdGEsdCkpLGUobil9KSl9LGdldENyZWRlbnRpYWxzRnJvbVNUUzpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY29nbml0by5nZXRPcGVuSWRUb2tlbigoZnVuY3Rpb24obixyKXtuPyh0LmNsZWFySWRPbk5vdEF1dGhvcml6ZWQobiksZShuKSk6KHQuY2FjaGVJZChyKSx0LnBhcmFtcy5XZWJJZGVudGl0eVRva2VuPXIuVG9rZW4sdC53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLnJlZnJlc2goKGZ1bmN0aW9uKG4pe258fCh0LmRhdGE9dC53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLmRhdGEsdC5zdHMuY3JlZGVudGlhbHNGcm9tKHQuZGF0YSx0KSksZShuKX0pKSl9KSl9LGxvYWRDYWNoZWRJZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoci51dGlsLmlzQnJvd3NlcigpJiYhZS5wYXJhbXMuSWRlbnRpdHlJZCl7dmFyIHQ9ZS5nZXRTdG9yYWdlKCJpZCIpO2lmKHQmJmUucGFyYW1zLkxvZ2lucyl7dmFyIG49T2JqZWN0LmtleXMoZS5wYXJhbXMuTG9naW5zKTswIT09KGUuZ2V0U3RvcmFnZSgicHJvdmlkZXJzIil8fCIiKS5zcGxpdCgiLCIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1uLmluZGV4T2YoZSl9KSkubGVuZ3RoJiYoZS5wYXJhbXMuSWRlbnRpdHlJZD10KX1lbHNlIHQmJihlLnBhcmFtcy5JZGVudGl0eUlkPXQpfX0sY3JlYXRlQ2xpZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NsaWVudENvbmZpZztpZih0aGlzLndlYklkZW50aXR5Q3JlZGVudGlhbHM9dGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzfHxuZXcgci5XZWJJZGVudGl0eUNyZWRlbnRpYWxzKHRoaXMucGFyYW1zLGUpLCF0aGlzLmNvZ25pdG8pe3ZhciB0PXIudXRpbC5tZXJnZSh7fSxlKTt0LnBhcmFtcz10aGlzLnBhcmFtcyx0aGlzLmNvZ25pdG89bmV3IGkodCl9dGhpcy5zdHM9dGhpcy5zdHN8fG5ldyBhKGUpfSxjYWNoZUlkOmZ1bmN0aW9uKGUpe3RoaXMuX2lkZW50aXR5SWQ9ZS5JZGVudGl0eUlkLHRoaXMucGFyYW1zLklkZW50aXR5SWQ9dGhpcy5faWRlbnRpdHlJZCxyLnV0aWwuaXNCcm93c2VyKCkmJih0aGlzLnNldFN0b3JhZ2UoImlkIixlLklkZW50aXR5SWQpLHRoaXMucGFyYW1zLkxvZ2lucyYmdGhpcy5zZXRTdG9yYWdlKCJwcm92aWRlcnMiLE9iamVjdC5rZXlzKHRoaXMucGFyYW1zLkxvZ2lucykuam9pbigiLCIpKSl9LGdldFN0b3JhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleVtlXSt0aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCsodGhpcy5wYXJhbXMuTG9naW5JZHx8IiIpXX0sc2V0U3RvcmFnZTpmdW5jdGlvbihlLHQpe3RyeXt0aGlzLnN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VLZXlbZV0rdGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQrKHRoaXMucGFyYW1zLkxvZ2luSWR8fCIiKV09dH1jYXRjaChlKXt9fSxzdG9yYWdlOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIudXRpbC5pc0Jyb3dzZXIoKSYmbnVsbCE9PXdpbmRvdy5sb2NhbFN0b3JhZ2UmJiJvYmplY3QiPT09byh3aW5kb3cubG9jYWxTdG9yYWdlKT93aW5kb3cubG9jYWxTdG9yYWdlOnt9O3JldHVybiBlWyJhd3MudGVzdC1zdG9yYWdlIl09ImZvb2JhciIsZGVsZXRlIGVbImF3cy50ZXN0LXN0b3JhZ2UiXSxlfWNhdGNoKGUpe3JldHVybnt9fX0oKX0pfSx7Ii4uLy4uL2NsaWVudHMvY29nbml0b2lkZW50aXR5Ijo3LCIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKTtyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucHJvdmlkZXJzPWV8fHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycy5zbGljZSgwKSx0aGlzLnJlc29sdmVDYWxsYmFja3M9W119LHJlc29sdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZigwPT09dC5wcm92aWRlcnMubGVuZ3RoKXJldHVybiBlKG5ldyBFcnJvcigiTm8gcHJvdmlkZXJzIikpLHQ7aWYoMT09PXQucmVzb2x2ZUNhbGxiYWNrcy5wdXNoKGUpKXt2YXIgbj1mdW5jdGlvbihlLGEpe2lmKCFlJiZhfHxvPT09aS5sZW5ndGgpcmV0dXJuIHIudXRpbC5hcnJheUVhY2godC5yZXNvbHZlQ2FsbGJhY2tzLChmdW5jdGlvbih0KXt0KGUsYSl9KSksdm9pZCh0LnJlc29sdmVDYWxsYmFja3MubGVuZ3RoPTApO3ZhciBzPWlbbysrXTsoYT0iZnVuY3Rpb24iPT10eXBlb2Ygcz9zLmNhbGwoKTpzKS5nZXQ/YS5nZXQoKGZ1bmN0aW9uKGUpe24oZSxlP251bGw6YSl9KSk6bihudWxsLGEpfSxvPTAsaT10LnByb3ZpZGVycy5zbGljZSgwKTtuKCl9cmV0dXJuIHR9fSksci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzPVtdLHIuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uYWRkUHJvbWlzZXNUb0NsYXNzPWZ1bmN0aW9uKGUpe3RoaXMucHJvdG90eXBlLnJlc29sdmVQcm9taXNlPXIudXRpbC5wcm9taXNpZnlNZXRob2QoInJlc29sdmUiLGUpfSxyLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJvdG90eXBlLnJlc29sdmVQcm9taXNlfSxyLnV0aWwuYWRkUHJvbWlzZXMoci5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbil9LHsiLi4vY29yZSI6MTl9XSwyNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uLy4uL2NsaWVudHMvc3RzIik7ci5TQU1MQ3JlZGVudGlhbHM9ci51dGlsLmluaGVyaXQoci5DcmVkZW50aWFscyx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0LnNlcnZpY2UuYXNzdW1lUm9sZVdpdGhTQU1MKChmdW5jdGlvbihuLHIpe258fHQuc2VydmljZS5jcmVkZW50aWFsc0Zyb20ocix0KSxlKG4pfSkpfSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7dGhpcy5zZXJ2aWNlPXRoaXMuc2VydmljZXx8bmV3IG8oe3BhcmFtczp0aGlzLnBhcmFtc30pfX0pfSx7Ii4uLy4uL2NsaWVudHMvc3RzIjo4LCIuLi9jb3JlIjoxOX1dLDI1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vLi4vY2xpZW50cy9zdHMiKTtyLlRlbXBvcmFyeUNyZWRlbnRpYWxzPXIudXRpbC5pbmhlcml0KHIuQ3JlZGVudGlhbHMse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ci5DcmVkZW50aWFscy5jYWxsKHRoaXMpLHRoaXMubG9hZE1hc3RlckNyZWRlbnRpYWxzKHQpLHRoaXMuZXhwaXJlZD0hMCx0aGlzLnBhcmFtcz1lfHx7fSx0aGlzLnBhcmFtcy5Sb2xlQXJuJiYodGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lPXRoaXMucGFyYW1zLlJvbGVTZXNzaW9uTmFtZXx8InRlbXBvcmFyeS1jcmVkZW50aWFscyIpfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0Lm1hc3RlckNyZWRlbnRpYWxzLmdldCgoZnVuY3Rpb24oKXt0LnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzPXQubWFzdGVyQ3JlZGVudGlhbHMsKHQucGFyYW1zLlJvbGVBcm4/dC5zZXJ2aWNlLmFzc3VtZVJvbGU6dC5zZXJ2aWNlLmdldFNlc3Npb25Ub2tlbikuY2FsbCh0LnNlcnZpY2UsKGZ1bmN0aW9uKG4scil7bnx8dC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpLGUobil9KSl9KSl9LGxvYWRNYXN0ZXJDcmVkZW50aWFsczpmdW5jdGlvbihlKXtmb3IodGhpcy5tYXN0ZXJDcmVkZW50aWFscz1lfHxyLmNvbmZpZy5jcmVkZW50aWFsczt0aGlzLm1hc3RlckNyZWRlbnRpYWxzLm1hc3RlckNyZWRlbnRpYWxzOyl0aGlzLm1hc3RlckNyZWRlbnRpYWxzPXRoaXMubWFzdGVyQ3JlZGVudGlhbHMubWFzdGVyQ3JlZGVudGlhbHM7ImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMubWFzdGVyQ3JlZGVudGlhbHMuZ2V0JiYodGhpcy5tYXN0ZXJDcmVkZW50aWFscz1uZXcgci5DcmVkZW50aWFscyh0aGlzLm1hc3RlckNyZWRlbnRpYWxzKSl9LGNyZWF0ZUNsaWVudHM6ZnVuY3Rpb24oKXt0aGlzLnNlcnZpY2U9dGhpcy5zZXJ2aWNlfHxuZXcgbyh7cGFyYW1zOnRoaXMucGFyYW1zfSl9fSl9LHsiLi4vLi4vY2xpZW50cy9zdHMiOjgsIi4uL2NvcmUiOjE5fV0sMjY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi8uLi9jbGllbnRzL3N0cyIpO3IuV2ViSWRlbnRpdHlDcmVkZW50aWFscz1yLnV0aWwuaW5oZXJpdChyLkNyZWRlbnRpYWxzLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3IuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKSx0aGlzLmV4cGlyZWQ9ITAsdGhpcy5wYXJhbXM9ZSx0aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWU9dGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lfHwid2ViLWlkZW50aXR5Iix0aGlzLmRhdGE9bnVsbCx0aGlzLl9jbGllbnRDb25maWc9ci51dGlsLmNvcHkodHx8e30pfSxyZWZyZXNoOmZ1bmN0aW9uKGUpe3RoaXMuY29hbGVzY2VSZWZyZXNoKGV8fHIudXRpbC5mbi5jYWxsYmFjayl9LGxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmNyZWF0ZUNsaWVudHMoKSx0LnNlcnZpY2UuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSgoZnVuY3Rpb24obixyKXt0LmRhdGE9bnVsbCxufHwodC5kYXRhPXIsdC5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShyLHQpKSxlKG4pfSkpfSxjcmVhdGVDbGllbnRzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VydmljZSl7dmFyIGU9ci51dGlsLm1lcmdlKHt9LHRoaXMuX2NsaWVudENvbmZpZyk7ZS5wYXJhbXM9dGhpcy5wYXJhbXMsdGhpcy5zZXJ2aWNlPW5ldyBvKGUpfX19KX0seyIuLi8uLi9jbGllbnRzL3N0cyI6OCwiLi4vY29yZSI6MTl9XSwyNzpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKSxvPWUoIi4vdXRpbCIpLGk9WyJBV1NfRU5BQkxFX0VORFBPSU5UX0RJU0NPVkVSWSIsIkFXU19FTkRQT0lOVF9ESVNDT1ZFUllfRU5BQkxFRCJdO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5zZXJ2aWNlLG49dC5hcGl8fHt9LHI9KG4ub3BlcmF0aW9ucyx7fSk7cmV0dXJuIHQuY29uZmlnLnJlZ2lvbiYmKHIucmVnaW9uPXQuY29uZmlnLnJlZ2lvbiksbi5zZXJ2aWNlSWQmJihyLnNlcnZpY2VJZD1uLnNlcnZpY2VJZCksdC5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQmJihyLmFjY2Vzc0tleUlkPXQuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkKSxyfWZ1bmN0aW9uIHMoZSx0LG4pe24mJm51bGwhPXQmJiJzdHJ1Y3R1cmUiPT09bi50eXBlJiZuLnJlcXVpcmVkJiZuLnJlcXVpcmVkLmxlbmd0aD4wJiZvLmFycmF5RWFjaChuLnJlcXVpcmVkLChmdW5jdGlvbihyKXt2YXIgbz1uLm1lbWJlcnNbcl07aWYoITA9PT1vLmVuZHBvaW50RGlzY292ZXJ5SWQpe3ZhciBpPW8uaXNMb2NhdGlvbk5hbWU/by5uYW1lOnI7ZVtpXT1TdHJpbmcodFtyXSl9ZWxzZSBzKGUsdFtyXSxvKX0pKX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49e307cmV0dXJuIHMobixlLnBhcmFtcyx0KSxufWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5zZXJ2aWNlLG49dC5hcGksaT1uLm9wZXJhdGlvbnM/bi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTp2b2lkIDAscz1jKGUsaT9pLmlucHV0OnZvaWQgMCksdT1hKGUpO09iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYodT1vLnVwZGF0ZSh1LHMpLGkmJih1Lm9wZXJhdGlvbj1pLm5hbWUpKTt2YXIgbD1yLmVuZHBvaW50Q2FjaGUuZ2V0KHUpO2lmKCFsfHwxIT09bC5sZW5ndGh8fCIiIT09bFswXS5BZGRyZXNzKWlmKGwmJmwubGVuZ3RoPjApZS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChsWzBdLkFkZHJlc3MpO2Vsc2V7dmFyIHA9dC5tYWtlUmVxdWVzdChuLmVuZHBvaW50T3BlcmF0aW9uLHtPcGVyYXRpb246aS5uYW1lLElkZW50aWZpZXJzOnN9KTtkKHApLHAucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUykscC5yZW1vdmVMaXN0ZW5lcigicmV0cnkiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5SRVRSWV9DSEVDSyksci5lbmRwb2ludENhY2hlLnB1dCh1LFt7QWRkcmVzczoiIixDYWNoZVBlcmlvZEluTWludXRlczoxfV0pLHAuc2VuZCgoZnVuY3Rpb24oZSx0KXt0JiZ0LkVuZHBvaW50cz9yLmVuZHBvaW50Q2FjaGUucHV0KHUsdC5FbmRwb2ludHMpOmUmJnIuZW5kcG9pbnRDYWNoZS5wdXQodSxbe0FkZHJlc3M6IiIsQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6MX1dKX0pKX19dmFyIGw9e307ZnVuY3Rpb24gcChlLHQpe3ZhciBuPWUuc2VydmljZSxpPW4uYXBpLHM9aS5vcGVyYXRpb25zP2kub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl06dm9pZCAwLHU9cz9zLmlucHV0OnZvaWQgMCxwPWMoZSx1KSxmPWEoZSk7T2JqZWN0LmtleXMocCkubGVuZ3RoPjAmJihmPW8udXBkYXRlKGYscCkscyYmKGYub3BlcmF0aW9uPXMubmFtZSkpO3ZhciBoPXIuRW5kcG9pbnRDYWNoZS5nZXRLZXlTdHJpbmcoZiksZz1yLmVuZHBvaW50Q2FjaGUuZ2V0KGgpO2lmKGcmJjE9PT1nLmxlbmd0aCYmIiI9PT1nWzBdLkFkZHJlc3MpcmV0dXJuIGxbaF18fChsW2hdPVtdKSx2b2lkIGxbaF0ucHVzaCh7cmVxdWVzdDplLGNhbGxiYWNrOnR9KTtpZihnJiZnLmxlbmd0aD4wKWUuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoZ1swXS5BZGRyZXNzKSx0KCk7ZWxzZXt2YXIgbT1uLm1ha2VSZXF1ZXN0KGkuZW5kcG9pbnRPcGVyYXRpb24se09wZXJhdGlvbjpzLm5hbWUsSWRlbnRpZmllcnM6cH0pO20ucmVtb3ZlTGlzdGVuZXIoInZhbGlkYXRlIixyLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUyksZChtKSxyLmVuZHBvaW50Q2FjaGUucHV0KGgsW3tBZGRyZXNzOiIiLENhY2hlUGVyaW9kSW5NaW51dGVzOjYwfV0pLG0uc2VuZCgoZnVuY3Rpb24obixpKXtpZihuKXtpZihlLnJlc3BvbnNlLmVycm9yPW8uZXJyb3Iobix7cmV0cnlhYmxlOiExfSksci5lbmRwb2ludENhY2hlLnJlbW92ZShmKSxsW2hdKXt2YXIgYT1sW2hdO28uYXJyYXlFYWNoKGEsKGZ1bmN0aW9uKGUpe2UucmVxdWVzdC5yZXNwb25zZS5lcnJvcj1vLmVycm9yKG4se3JldHJ5YWJsZTohMX0pLGUuY2FsbGJhY2soKX0pKSxkZWxldGUgbFtoXX19ZWxzZSBpJiYoci5lbmRwb2ludENhY2hlLnB1dChoLGkuRW5kcG9pbnRzKSxlLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGkuRW5kcG9pbnRzWzBdLkFkZHJlc3MpLGxbaF0pJiYoYT1sW2hdLG8uYXJyYXlFYWNoKGEsKGZ1bmN0aW9uKGUpe2UucmVxdWVzdC5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChpLkVuZHBvaW50c1swXS5BZGRyZXNzKSxlLmNhbGxiYWNrKCl9KSksZGVsZXRlIGxbaF0pO3QoKX0pKX19ZnVuY3Rpb24gZChlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLmFwaVZlcnNpb247dCYmIWUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotYXBpLXZlcnNpb24iXSYmKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotYXBpLXZlcnNpb24iXT10KX1mdW5jdGlvbiBmKGUpe3ZhciB0PWUuZXJyb3Isbj1lLmh0dHBSZXNwb25zZTtpZih0JiYoIkludmFsaWRFbmRwb2ludEV4Y2VwdGlvbiI9PT10LmNvZGV8fDQyMT09PW4uc3RhdHVzQ29kZSkpe3ZhciBpPWUucmVxdWVzdCxzPWkuc2VydmljZS5hcGkub3BlcmF0aW9uc3x8e30sdT1jKGksc1tpLm9wZXJhdGlvbl0/c1tpLm9wZXJhdGlvbl0uaW5wdXQ6dm9pZCAwKSxsPWEoaSk7T2JqZWN0LmtleXModSkubGVuZ3RoPjAmJihsPW8udXBkYXRlKGwsdSksc1tpLm9wZXJhdGlvbl0mJihsLm9wZXJhdGlvbj1zW2kub3BlcmF0aW9uXS5uYW1lKSksci5lbmRwb2ludENhY2hlLnJlbW92ZShsKX19ZnVuY3Rpb24gaChlKXtyZXR1cm5bImZhbHNlIiwiMCJdLmluZGV4T2YoZSk+PTB9dC5leHBvcnRzPXtkaXNjb3ZlckVuZHBvaW50OmZ1bmN0aW9uKGUsdCl7dmFyIGE9ZS5zZXJ2aWNlfHx7fTtpZihmdW5jdGlvbihlKXtpZihlLl9vcmlnaW5hbENvbmZpZyYmZS5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnQmJiEwPT09ZS5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkKXRocm93IG8uZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWd1cmF0aW9uRXhjZXB0aW9uIixtZXNzYWdlOiJDdXN0b20gZW5kcG9pbnQgaXMgc3VwcGxpZWQ7IGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZCBtdXN0IG5vdCBiZSB0cnVlLiJ9KTt2YXIgdD1yLmNvbmZpZ1tlLnNlcnZpY2VJZGVudGlmaWVyXXx8e307cmV0dXJuIEJvb2xlYW4oci5jb25maWcuZW5kcG9pbnR8fHQuZW5kcG9pbnR8fGUuX29yaWdpbmFsQ29uZmlnJiZlLl9vcmlnaW5hbENvbmZpZy5lbmRwb2ludCl9KGEpfHxlLmlzUHJlc2lnbmVkKCkpcmV0dXJuIHQoKTt2YXIgcz0oYS5hcGkub3BlcmF0aW9uc3x8e30pW2Uub3BlcmF0aW9uXSxjPXM/cy5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkOiJOVUxMIixsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZXx8e307aWYodm9pZCAwIT09dC5jb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkKXJldHVybiB0LmNvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQ7aWYoIW8uaXNCcm93c2VyKCkpe2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgcz1pW2FdO2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmVudixzKSl7aWYoIiI9PT1uLmVudltzXXx8dm9pZCAwPT09bi5lbnZbc10pdGhyb3cgby5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6ImVudmlyb25tZW50YWwgdmFyaWFibGUgIitzKyIgY2Fubm90IGJlIHNldCB0byBub3RoaW5nIn0pO3JldHVybiFoKG4uZW52W3NdKX19dmFyIGM9e307dHJ5e2M9ci51dGlsLmluaUxvYWRlcj9yLnV0aWwuaW5pTG9hZGVyLmxvYWRGcm9tKHtpc0NvbmZpZzohMCxmaWxlbmFtZTpuLmVudltyLnV0aWwuc2hhcmVkQ29uZmlnRmlsZUVudl19KTp7fX1jYXRjaChlKXt9dmFyIHU9Y1tuLmVudi5BV1NfUFJPRklMRXx8ci51dGlsLmRlZmF1bHRQcm9maWxlXXx8e307aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUsImVuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkIikpe2lmKHZvaWQgMD09PXUuZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQpdGhyb3cgby5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ3VyYXRpb25FeGNlcHRpb24iLG1lc3NhZ2U6ImNvbmZpZyBmaWxlIGVudHJ5ICdlbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCcgY2Fubm90IGJlIHNldCB0byBub3RoaW5nIn0pO3JldHVybiFoKHUuZW5kcG9pbnRfZGlzY292ZXJ5X2VuYWJsZWQpfX19KGUpLGQ9YS5hcGkuaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeTtzd2l0Y2goKGx8fGQpJiZlLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCJlbmRwb2ludC1kaXNjb3ZlcnkiKSxjKXtjYXNlIk9QVElPTkFMIjoobHx8ZCkmJih1KGUpLGUuYWRkTmFtZWRMaXN0ZW5lcigiSU5WQUxJREFURV9DQUNIRURfRU5EUE9JTlRTIiwiZXh0cmFjdEVycm9yIixmKSksdCgpO2JyZWFrO2Nhc2UiUkVRVUlSRUQiOmlmKCExPT09bCl7ZS5yZXNwb25zZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiIsbWVzc2FnZToiRW5kcG9pbnQgRGlzY292ZXJ5IGlzIGRpc2FibGVkIGJ1dCAiK2EuYXBpLmNsYXNzTmFtZSsiLiIrZS5vcGVyYXRpb24rIigpIHJlcXVpcmVzIGl0LiBQbGVhc2UgY2hlY2sgeW91ciBjb25maWd1cmF0aW9ucy4ifSksdCgpO2JyZWFrfWUuYWRkTmFtZWRMaXN0ZW5lcigiSU5WQUxJREFURV9DQUNIRURfRU5EUE9JTlRTIiwiZXh0cmFjdEVycm9yIixmKSxwKGUsdCk7YnJlYWs7ZGVmYXVsdDp0KCl9fSxyZXF1aXJlZERpc2NvdmVyRW5kcG9pbnQ6cCxvcHRpb25hbERpc2NvdmVyRW5kcG9pbnQ6dSxtYXJzaGFsbEN1c3RvbUlkZW50aWZpZXJzOmMsZ2V0Q2FjaGVLZXk6YSxpbnZhbGlkYXRlQ2FjaGVkRW5kcG9pbnQ6Zn19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vY29yZSI6MTksIi4vdXRpbCI6NzQsX3Byb2Nlc3M6OTF9XSwyODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLWNodW5rZXIiKS5ldmVudE1lc3NhZ2VDaHVua2VyLG89ZSgiLi9wYXJzZS1ldmVudCIpLnBhcnNlRXZlbnQ7dC5leHBvcnRzPXtjcmVhdGVFdmVudFN0cmVhbTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPXIoZSksYT1bXSxzPTA7czxpLmxlbmd0aDtzKyspYS5wdXNoKG8odCxpW3NdLG4pKTtyZXR1cm4gYX19fSx7Ii4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLWNodW5rZXIiOjI5LCIuL3BhcnNlLWV2ZW50IjozMX1dLDI5OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtldmVudE1lc3NhZ2VDaHVua2VyOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDspe3ZhciByPWUucmVhZEludDMyQkUobiksbz1lLnNsaWNlKG4scituKTtuKz1yLHQucHVzaChvKX1yZXR1cm4gdH19fSx7fV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIikudXRpbCxvPXIuYnVmZmVyLnRvQnVmZmVyO2Z1bmN0aW9uIGkoZSl7aWYoOCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW50NjQgYnVmZmVycyBtdXN0IGJlIGV4YWN0bHkgOCBieXRlcyIpO3IuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1vKGUpKSx0aGlzLmJ5dGVzPWV9ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9MDt0PDg7dCsrKWVbdF1ePTI1NTtmb3IodD03O3Q+LTEmJihlW3RdKyssMD09PWVbdF0pO3QtLSk7fWkuZnJvbU51bWJlcj1mdW5jdGlvbihlKXtpZihlPjB4ODAwMDAwMDAwMDAwMDAwMHx8ZTwtMHg4MDAwMDAwMDAwMDAwMDAwKXRocm93IG5ldyBFcnJvcihlKyIgaXMgdG9vIGxhcmdlIChvciwgaWYgbmVnYXRpdmUsIHRvbyBzbWFsbCkgdG8gcmVwcmVzZW50IGFzIGFuIEludDY0Iik7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KDgpLG49NyxyPU1hdGguYWJzKE1hdGgucm91bmQoZSkpO24+LTEmJnI+MDtuLS0sci89MjU2KXRbbl09cjtyZXR1cm4gZTwwJiZhKHQpLG5ldyBpKHQpfSxpLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ieXRlcy5zbGljZSgwKSx0PTEyOCZlWzBdO3JldHVybiB0JiZhKGUpLHBhcnNlSW50KGUudG9TdHJpbmcoImhleCIpLDE2KSoodD8tMToxKX0saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKHRoaXMudmFsdWVPZigpKX0sdC5leHBvcnRzPXtJbnQ2NDppfX0seyIuLi9jb3JlIjoxOX1dLDMxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9wYXJzZS1tZXNzYWdlIikucGFyc2VNZXNzYWdlO3QuZXhwb3J0cz17cGFyc2VFdmVudDpmdW5jdGlvbihlLHQsbil7dmFyIG89cih0KSxpPW8uaGVhZGVyc1siOm1lc3NhZ2UtdHlwZSJdO2lmKGkpe2lmKCJlcnJvciI9PT1pLnZhbHVlKXRocm93IGZ1bmN0aW9uKGUpe3ZhciB0PWUuaGVhZGVyc1siOmVycm9yLWNvZGUiXSxuPWUuaGVhZGVyc1siOmVycm9yLW1lc3NhZ2UiXSxyPW5ldyBFcnJvcihuLnZhbHVlfHxuKTtyZXR1cm4gci5jb2RlPXIubmFtZT10LnZhbHVlfHx0LHJ9KG8pO2lmKCJldmVudCIhPT1pLnZhbHVlKXJldHVybn12YXIgYT1vLmhlYWRlcnNbIjpldmVudC10eXBlIl0scz1uLm1lbWJlcnNbYS52YWx1ZV07aWYocyl7dmFyIGM9e30sdT1zLmV2ZW50UGF5bG9hZE1lbWJlck5hbWU7aWYodSl7dmFyIGw9cy5tZW1iZXJzW3VdOyJiaW5hcnkiPT09bC50eXBlP2NbdV09by5ib2R5OmNbdV09ZS5wYXJzZShvLmJvZHkudG9TdHJpbmcoKSxsKX1mb3IodmFyIHA9cy5ldmVudEhlYWRlck1lbWJlck5hbWVzLGQ9MDtkPHAubGVuZ3RoO2QrKyl7dmFyIGY9cFtkXTtvLmhlYWRlcnNbZl0mJihjW2ZdPXMubWVtYmVyc1tmXS50b1R5cGUoby5oZWFkZXJzW2ZdLnZhbHVlKSl9dmFyIGg9e307cmV0dXJuIGhbYS52YWx1ZV09YyxofX19fSx7Ii4vcGFyc2UtbWVzc2FnZSI6MzJ9XSwzMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vaW50NjQiKS5JbnQ2NCxvPWUoIi4vc3BsaXQtbWVzc2FnZSIpLnNwbGl0TWVzc2FnZSxpPSJib29sZWFuIjtmdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDspe3ZhciBvPWUucmVhZFVJbnQ4KG4rKyksYT1lLnNsaWNlKG4sbitvKS50b1N0cmluZygpO3N3aXRjaChuKz1vLGUucmVhZFVJbnQ4KG4rKykpe2Nhc2UgMDp0W2FdPXt0eXBlOmksdmFsdWU6ITB9O2JyZWFrO2Nhc2UgMTp0W2FdPXt0eXBlOmksdmFsdWU6ITF9O2JyZWFrO2Nhc2UgMjp0W2FdPXt0eXBlOiJieXRlIix2YWx1ZTplLnJlYWRJbnQ4KG4rKyl9O2JyZWFrO2Nhc2UgMzp0W2FdPXt0eXBlOiJzaG9ydCIsdmFsdWU6ZS5yZWFkSW50MTZCRShuKX0sbis9MjticmVhaztjYXNlIDQ6dFthXT17dHlwZToiaW50ZWdlciIsdmFsdWU6ZS5yZWFkSW50MzJCRShuKX0sbis9NDticmVhaztjYXNlIDU6dFthXT17dHlwZToibG9uZyIsdmFsdWU6bmV3IHIoZS5zbGljZShuLG4rOCkpfSxuKz04O2JyZWFrO2Nhc2UgNjp2YXIgcz1lLnJlYWRVSW50MTZCRShuKTtuKz0yLHRbYV09e3R5cGU6ImJpbmFyeSIsdmFsdWU6ZS5zbGljZShuLG4rcyl9LG4rPXM7YnJlYWs7Y2FzZSA3OnZhciBjPWUucmVhZFVJbnQxNkJFKG4pO24rPTIsdFthXT17dHlwZToic3RyaW5nIix2YWx1ZTplLnNsaWNlKG4sbitjKS50b1N0cmluZygpfSxuKz1jO2JyZWFrO2Nhc2UgODp0W2FdPXt0eXBlOiJ0aW1lc3RhbXAiLHZhbHVlOm5ldyBEYXRlKG5ldyByKGUuc2xpY2UobixuKzgpKS52YWx1ZU9mKCkpfSxuKz04O2JyZWFrO2Nhc2UgOTp2YXIgdT1lLnNsaWNlKG4sbisxNikudG9TdHJpbmcoImhleCIpO24rPTE2LHRbYV09e3R5cGU6InV1aWQiLHZhbHVlOnUuc3Vic3RyKDAsOCkrIi0iK3Uuc3Vic3RyKDgsNCkrIi0iK3Uuc3Vic3RyKDEyLDQpKyItIit1LnN1YnN0cigxNiw0KSsiLSIrdS5zdWJzdHIoMjApfTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIGhlYWRlciB0eXBlIHRhZyIpfX1yZXR1cm4gdH10LmV4cG9ydHM9e3BhcnNlTWVzc2FnZTpmdW5jdGlvbihlKXt2YXIgdD1vKGUpO3JldHVybntoZWFkZXJzOmEodC5oZWFkZXJzKSxib2R5OnQuYm9keX19fX0seyIuL2ludDY0IjozMCwiLi9zcGxpdC1tZXNzYWdlIjozM31dLDMzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLnV0aWwsbz1yLmJ1ZmZlci50b0J1ZmZlcjt0LmV4cG9ydHM9e3NwbGl0TWVzc2FnZTpmdW5jdGlvbihlKXtpZihyLkJ1ZmZlci5pc0J1ZmZlcihlKXx8KGU9byhlKSksZS5sZW5ndGg8MTYpdGhyb3cgbmV3IEVycm9yKCJQcm92aWRlZCBtZXNzYWdlIHRvbyBzaG9ydCB0byBhY2NvbW1vZGF0ZSBldmVudCBzdHJlYW0gbWVzc2FnZSBvdmVyaGVhZCIpO2lmKGUubGVuZ3RoIT09ZS5yZWFkVUludDMyQkUoMCkpdGhyb3cgbmV3IEVycm9yKCJSZXBvcnRlZCBtZXNzYWdlIGxlbmd0aCBkb2VzIG5vdCBtYXRjaCByZWNlaXZlZCBtZXNzYWdlIGxlbmd0aCIpO3ZhciB0PWUucmVhZFVJbnQzMkJFKDgpO2lmKHQhPT1yLmNyeXB0by5jcmMzMihlLnNsaWNlKDAsOCkpKXRocm93IG5ldyBFcnJvcigiVGhlIHByZWx1ZGUgY2hlY2tzdW0gc3BlY2lmaWVkIGluIHRoZSBtZXNzYWdlICgiK3QrIikgZG9lcyBub3QgbWF0Y2ggdGhlIGNhbGN1bGF0ZWQgQ1JDMzIgY2hlY2tzdW0uIik7dmFyIG49ZS5yZWFkVUludDMyQkUoZS5sZW5ndGgtNCk7aWYobiE9PXIuY3J5cHRvLmNyYzMyKGUuc2xpY2UoMCxlLmxlbmd0aC00KSkpdGhyb3cgbmV3IEVycm9yKCJUaGUgbWVzc2FnZSBjaGVja3N1bSBkaWQgbm90IG1hdGNoIHRoZSBleHBlY3RlZCB2YWx1ZSBvZiAiK24pO3ZhciBpPTEyK2UucmVhZFVJbnQzMkJFKDQpO3JldHVybntoZWFkZXJzOmUuc2xpY2UoMTIsaSksYm9keTplLnNsaWNlKGksZS5sZW5ndGgtNCl9fX19LHsiLi4vY29yZSI6MTl9XSwzNDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgbj1lKCIuL2NvcmUiKSxyPWUoIi4vc2VxdWVudGlhbF9leGVjdXRvciIpLG89ZSgiLi9kaXNjb3Zlcl9lbmRwb2ludCIpLmRpc2NvdmVyRW5kcG9pbnQ7ZnVuY3Rpb24gaShlKXtpZighZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXJldHVybiIiO3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl07cmV0dXJuIHQ/dC5hdXRodHlwZToiIn1mdW5jdGlvbiBhKGUpe3ZhciB0PWUuc2VydmljZTtyZXR1cm4gdC5jb25maWcuc2lnbmF0dXJlVmVyc2lvbj90LmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uOnQuYXBpLnNpZ25hdHVyZVZlcnNpb24/dC5hcGkuc2lnbmF0dXJlVmVyc2lvbjppKGUpfW4uRXZlbnRMaXN0ZW5lcnM9e0NvcmU6e319LG4uRXZlbnRMaXN0ZW5lcnM9e0NvcmU6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24oZSxyKXtyKCJWQUxJREFURV9DUkVERU5USUFMUyIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSx0KXtpZighZS5zZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uJiYhZS5zZXJ2aWNlLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uKXJldHVybiB0KCk7ImJlYXJlciIhPT1hKGUpP2Uuc2VydmljZS5jb25maWcuZ2V0Q3JlZGVudGlhbHMoKGZ1bmN0aW9uKHIpe3ImJihlLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihyLHtjb2RlOiJDcmVkZW50aWFsc0Vycm9yIixtZXNzYWdlOiJNaXNzaW5nIGNyZWRlbnRpYWxzIGluIGNvbmZpZywgaWYgdXNpbmcgQVdTX0NPTkZJR19GSUxFLCBzZXQgQVdTX1NES19MT0FEX0NPTkZJRz0xIn0pKSx0KCl9KSk6ZS5zZXJ2aWNlLmNvbmZpZy5nZXRUb2tlbigoZnVuY3Rpb24ocil7ciYmKGUucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKHIse2NvZGU6IlRva2VuRXJyb3IifSkpLHQoKX0pKX0pKSxlKCJWQUxJREFURV9SRUdJT04iLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUpe2lmKCFlLnNlcnZpY2UuaXNHbG9iYWxFbmRwb2ludCl7dmFyIHQ9bmV3IFJlZ0V4cCgvXihbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKSQvKTtlLnNlcnZpY2UuY29uZmlnLnJlZ2lvbj90LnRlc3QoZS5zZXJ2aWNlLmNvbmZpZy5yZWdpb24pfHwoZS5yZXNwb25zZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJDb25maWdFcnJvciIsbWVzc2FnZToiSW52YWxpZCByZWdpb24gaW4gY29uZmlnIn0pKTplLnJlc3BvbnNlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IkNvbmZpZ0Vycm9yIixtZXNzYWdlOiJNaXNzaW5nIHJlZ2lvbiBpbiBjb25maWcifSl9fSkpLGUoIkJVSUxEX0lERU1QT1RFTkNZX1RPS0VOUyIsInZhbGlkYXRlIiwoZnVuY3Rpb24oZSl7aWYoZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKXt2YXIgdD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dO2lmKHQpe3ZhciByPXQuaWRlbXBvdGVudE1lbWJlcnM7aWYoci5sZW5ndGgpe2Zvcih2YXIgbz1uLnV0aWwuY29weShlLnBhcmFtcyksaT0wLGE9ci5sZW5ndGg7aTxhO2krKylvW3JbaV1dfHwob1tyW2ldXT1uLnV0aWwudXVpZC52NCgpKTtlLnBhcmFtcz1vfX19fSkpLGUoIlZBTElEQVRFX1BBUkFNRVRFUlMiLCJ2YWxpZGF0ZSIsKGZ1bmN0aW9uKGUpe2lmKGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxyPWUuc2VydmljZS5jb25maWcucGFyYW1WYWxpZGF0aW9uO25ldyBuLlBhcmFtVmFsaWRhdG9yKHIpLnZhbGlkYXRlKHQsZS5wYXJhbXMpfX0pKSxlKCJDT01QVVRFX0NIRUNLU1VNIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe2lmKGUuc2VydmljZS5hcGkub3BlcmF0aW9ucyl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZih0KXt2YXIgcj1lLmh0dHBSZXF1ZXN0LmJvZHksbz1yJiYobi51dGlsLkJ1ZmZlci5pc0J1ZmZlcihyKXx8InN0cmluZyI9PXR5cGVvZiByKSxpPWUuaHR0cFJlcXVlc3QuaGVhZGVycztpZih0Lmh0dHBDaGVja3N1bVJlcXVpcmVkJiZlLnNlcnZpY2UuY29uZmlnLmNvbXB1dGVDaGVja3N1bXMmJm8mJiFpWyJDb250ZW50LU1ENSJdKXt2YXIgYT1uLnV0aWwuY3J5cHRvLm1kNShyLCJiYXNlNjQiKTtpWyJDb250ZW50LU1ENSJdPWF9fX19KSkscigiQ09NUFVURV9TSEEyNTYiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSx0KXtpZihlLmhhbHRIYW5kbGVyc09uRXJyb3IoKSxlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpe3ZhciByPWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbz1yP3IuYXV0aHR5cGU6IiI7aWYoIWUuc2VydmljZS5hcGkuc2lnbmF0dXJlVmVyc2lvbiYmIW8mJiFlLnNlcnZpY2UuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24pcmV0dXJuIHQoKTtpZihlLnNlcnZpY2UuZ2V0U2lnbmVyQ2xhc3MoZSk9PT1uLlNpZ25lcnMuVjQpe3ZhciBpPWUuaHR0cFJlcXVlc3QuYm9keXx8IiI7aWYoby5pbmRleE9mKCJ1bnNpZ25lZC1ib2R5Iik+PTApcmV0dXJuIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT0iVU5TSUdORUQtUEFZTE9BRCIsdCgpO24udXRpbC5jb21wdXRlU2hhMjU2KGksKGZ1bmN0aW9uKG4scil7bj90KG4pOihlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il09cix0KCkpfSkpfWVsc2UgdCgpfX0pKSxlKCJTRVRfQ09OVEVOVF9MRU5HVEgiLCJhZnRlckJ1aWxkIiwoZnVuY3Rpb24oZSl7dmFyIHQ9aShlKSxyPW4udXRpbC5nZXRSZXF1ZXN0UGF5bG9hZFNoYXBlKGUpO2lmKHZvaWQgMD09PWUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXSl0cnl7dmFyIG89bi51dGlsLnN0cmluZy5ieXRlTGVuZ3RoKGUuaHR0cFJlcXVlc3QuYm9keSk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LUxlbmd0aCJdPW99Y2F0Y2gobil7aWYociYmci5pc1N0cmVhbWluZyl7aWYoci5yZXF1aXJlc0xlbmd0aCl0aHJvdyBuO2lmKHQuaW5kZXhPZigidW5zaWduZWQtYm9keSIpPj0wKXJldHVybiB2b2lkKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siVHJhbnNmZXItRW5jb2RpbmciXT0iY2h1bmtlZCIpO3Rocm93IG59dGhyb3cgbn19KSksZSgiU0VUX0hUVFBfSE9TVCIsImFmdGVyQnVpbGQiLChmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnMuSG9zdD1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3R9KSksZSgiU0VUX1RSQUNFX0lEIiwiYWZ0ZXJCdWlsZCIsKGZ1bmN0aW9uKGUpe3ZhciByPSJYLUFtem4tVHJhY2UtSWQiO2lmKG4udXRpbC5pc05vZGUoKSYmIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuaHR0cFJlcXVlc3QuaGVhZGVycyxyKSl7dmFyIG89dC5lbnYuQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FLGk9dC5lbnYuX1hfQU1aTl9UUkFDRV9JRDsic3RyaW5nIj09dHlwZW9mIG8mJm8ubGVuZ3RoPjAmJiJzdHJpbmciPT10eXBlb2YgaSYmaS5sZW5ndGg+MCYmKGUuaHR0cFJlcXVlc3QuaGVhZGVyc1tyXT1pKX19KSksZSgiUkVTVEFSVCIsInJlc3RhcnQiLChmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVzcG9uc2UuZXJyb3I7ZSYmZS5yZXRyeWFibGUmJih0aGlzLmh0dHBSZXF1ZXN0PW5ldyBuLkh0dHBSZXF1ZXN0KHRoaXMuc2VydmljZS5lbmRwb2ludCx0aGlzLnNlcnZpY2UucmVnaW9uKSx0aGlzLnJlc3BvbnNlLnJldHJ5Q291bnQ8dGhpcy5zZXJ2aWNlLmNvbmZpZy5tYXhSZXRyaWVzP3RoaXMucmVzcG9uc2UucmV0cnlDb3VudCsrOnRoaXMucmVzcG9uc2UuZXJyb3I9bnVsbCl9KSkscigiRElTQ09WRVJfRU5EUE9JTlQiLCJzaWduIixvLCEwKSxyKCJTSUdOIiwic2lnbiIsKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zZXJ2aWNlLHI9YShlKTtpZighcnx8MD09PXIubGVuZ3RoKXJldHVybiB0KCk7ImJlYXJlciI9PT1yP24uY29uZmlnLmdldFRva2VuKChmdW5jdGlvbihyLG8pe2lmKHIpcmV0dXJuIGUucmVzcG9uc2UuZXJyb3I9cix0KCk7dHJ5e25ldyhuLmdldFNpZ25lckNsYXNzKGUpKShlLmh0dHBSZXF1ZXN0KS5hZGRBdXRob3JpemF0aW9uKG8pfWNhdGNoKHQpe2UucmVzcG9uc2UuZXJyb3I9dH10KCl9KSk6bi5jb25maWcuZ2V0Q3JlZGVudGlhbHMoKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gZS5yZXNwb25zZS5lcnJvcj1yLHQoKTt0cnl7dmFyIGk9bi5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpLGE9bi5nZXRTaWduZXJDbGFzcyhlKSxzPShlLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnN8fHt9KVtlLm9wZXJhdGlvbl0sYz1uZXcgYShlLmh0dHBSZXF1ZXN0LG4uZ2V0U2lnbmluZ05hbWUoZSkse3NpZ25hdHVyZUNhY2hlOm4uY29uZmlnLnNpZ25hdHVyZUNhY2hlLG9wZXJhdGlvbjpzLHNpZ25hdHVyZVZlcnNpb246bi5hcGkuc2lnbmF0dXJlVmVyc2lvbn0pO2Muc2V0U2VydmljZUNsaWVudElkKG4uX2NsaWVudElkKSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24sZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVycy5EYXRlLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXSxjLmFkZEF1dGhvcml6YXRpb24obyxpKSxlLnNpZ25lZEF0PWl9Y2F0Y2godCl7ZS5yZXNwb25zZS5lcnJvcj10fXQoKX0pKX0pKSxlKCJWQUxJREFURV9SRVNQT05TRSIsInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbihlKXt0aGlzLnNlcnZpY2Uuc3VjY2Vzc2Z1bFJlc3BvbnNlKGUsdGhpcyk/KGUuZGF0YT17fSxlLmVycm9yPW51bGwpOihlLmRhdGE9bnVsbCxlLmVycm9yPW4udXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IlVua25vd25FcnJvciIsbWVzc2FnZToiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4ifSkpfSkpLGUoIkVSUk9SIiwiZXJyb3IiLChmdW5jdGlvbihlLHQpe2lmKHQucmVxdWVzdC5zZXJ2aWNlLmFwaS5hd3NRdWVyeUNvbXBhdGlibGUpe3ZhciBuPXQuaHR0cFJlc3BvbnNlLmhlYWRlcnMscj1uP25bIngtYW16bi1xdWVyeS1lcnJvciJdOnZvaWQgMDtyJiZyLmluY2x1ZGVzKCI7IikmJih0LmVycm9yLmNvZGU9ci5zcGxpdCgiOyIpWzBdKX19KSwhMCkscigiU0VORCIsInNlbmQiLChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIocil7ZS5odHRwUmVzcG9uc2Uuc3RyZWFtPXI7dmFyIG89ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnN0cmVhbSxpPWUucmVxdWVzdC5zZXJ2aWNlLGE9aS5hcGkscz1lLnJlcXVlc3Qub3BlcmF0aW9uLGM9YS5vcGVyYXRpb25zW3NdfHx7fTtyLm9uKCJoZWFkZXJzIiwoZnVuY3Rpb24obyxhLHMpe2lmKGUucmVxdWVzdC5lbWl0KCJodHRwSGVhZGVycyIsW28sYSxlLHNdKSwhZS5odHRwUmVzcG9uc2Uuc3RyZWFtaW5nKWlmKDI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24pe2lmKGMuaGFzRXZlbnRPdXRwdXQmJmkuc3VjY2Vzc2Z1bFJlc3BvbnNlKGUpKXJldHVybiBlLnJlcXVlc3QuZW1pdCgiaHR0cERvbmUiKSx2b2lkIHQoKTtyLm9uKCJyZWFkYWJsZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9ci5yZWFkKCk7bnVsbCE9PXQmJmUucmVxdWVzdC5lbWl0KCJodHRwRGF0YSIsW3QsZV0pfSkpfWVsc2Ugci5vbigiZGF0YSIsKGZ1bmN0aW9uKHQpe2UucmVxdWVzdC5lbWl0KCJodHRwRGF0YSIsW3QsZV0pfSkpfSkpLHIub24oImVuZCIsKGZ1bmN0aW9uKCl7aWYoIW98fCFvLmRpZENhbGxiYWNrKXtpZigyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uJiZjLmhhc0V2ZW50T3V0cHV0JiZpLnN1Y2Nlc3NmdWxSZXNwb25zZShlKSlyZXR1cm47ZS5yZXF1ZXN0LmVtaXQoImh0dHBEb25lIiksdCgpfX0pKX1mdW5jdGlvbiBvKHIpe2lmKCJSZXF1ZXN0QWJvcnRlZEVycm9yIiE9PXIuY29kZSl7dmFyIG89IlRpbWVvdXRFcnJvciI9PT1yLmNvZGU/ci5jb2RlOiJOZXR3b3JraW5nRXJyb3IiO3I9bi51dGlsLmVycm9yKHIse2NvZGU6byxyZWdpb246ZS5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnJlZ2lvbixob3N0bmFtZTplLnJlcXVlc3QuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUscmV0cnlhYmxlOiEwfSl9ZS5lcnJvcj1yLGUucmVxdWVzdC5lbWl0KCJodHRwRXJyb3IiLFtlLmVycm9yLGVdLChmdW5jdGlvbigpe3QoKX0pKX1mdW5jdGlvbiBpKCl7dmFyIHQsaT1uLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2UoKSxhPWUucmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5odHRwT3B0aW9uc3x8e307dHJ5e3ZhciBzPWkuaGFuZGxlUmVxdWVzdChlLnJlcXVlc3QuaHR0cFJlcXVlc3QsYSxyLG8pOyh0PXMpLm9uKCJzZW5kUHJvZ3Jlc3MiLChmdW5jdGlvbih0KXtlLnJlcXVlc3QuZW1pdCgiaHR0cFVwbG9hZFByb2dyZXNzIixbdCxlXSl9KSksdC5vbigicmVjZWl2ZVByb2dyZXNzIiwoZnVuY3Rpb24odCl7ZS5yZXF1ZXN0LmVtaXQoImh0dHBEb3dubG9hZFByb2dyZXNzIixbdCxlXSl9KSl9Y2F0Y2goZSl7byhlKX19ZS5odHRwUmVzcG9uc2UuX2Fib3J0Q2FsbGJhY2s9dCxlLmVycm9yPW51bGwsZS5kYXRhPW51bGwsKGUucmVxdWVzdC5zZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCktdGhpcy5zaWduZWRBdCkvMWUzPj02MDA/dGhpcy5lbWl0KCJzaWduIixbdGhpc10sKGZ1bmN0aW9uKGUpe2U/dChlKTppKCl9KSk6aSgpfSkpLGUoIkhUVFBfSEVBREVSUyIsImh0dHBIZWFkZXJzIiwoZnVuY3Rpb24oZSx0LHIsbyl7ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT1lLHIuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2U9byxyLmh0dHBSZXNwb25zZS5oZWFkZXJzPXQsci5odHRwUmVzcG9uc2UuYm9keT1uLnV0aWwuYnVmZmVyLnRvQnVmZmVyKCIiKSxyLmh0dHBSZXNwb25zZS5idWZmZXJzPVtdLHIuaHR0cFJlc3BvbnNlLm51bUJ5dGVzPTA7dmFyIGk9dC5kYXRlfHx0LkRhdGUsYT1yLnJlcXVlc3Quc2VydmljZTtpZihpKXt2YXIgcz1EYXRlLnBhcnNlKGkpO2EuY29uZmlnLmNvcnJlY3RDbG9ja1NrZXcmJmEuaXNDbG9ja1NrZXdlZChzKSYmYS5hcHBseUNsb2NrT2Zmc2V0KHMpfX0pKSxlKCJIVFRQX0RBVEEiLCJodHRwRGF0YSIsKGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYobi51dGlsLmlzTm9kZSgpKXt0Lmh0dHBSZXNwb25zZS5udW1CeXRlcys9ZS5sZW5ndGg7dmFyIHI9dC5odHRwUmVzcG9uc2UuaGVhZGVyc1siY29udGVudC1sZW5ndGgiXSxvPXtsb2FkZWQ6dC5odHRwUmVzcG9uc2UubnVtQnl0ZXMsdG90YWw6cn07dC5yZXF1ZXN0LmVtaXQoImh0dHBEb3dubG9hZFByb2dyZXNzIixbbyx0XSl9dC5odHRwUmVzcG9uc2UuYnVmZmVycy5wdXNoKG4udXRpbC5idWZmZXIudG9CdWZmZXIoZSkpfX0pKSxlKCJIVFRQX0RPTkUiLCJodHRwRG9uZSIsKGZ1bmN0aW9uKGUpe2lmKGUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMmJmUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMubGVuZ3RoPjApe3ZhciB0PW4udXRpbC5idWZmZXIuY29uY2F0KGUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMpO2UuaHR0cFJlc3BvbnNlLmJvZHk9dH1kZWxldGUgZS5odHRwUmVzcG9uc2UubnVtQnl0ZXMsZGVsZXRlIGUuaHR0cFJlc3BvbnNlLmJ1ZmZlcnN9KSksZSgiRklOQUxJWkVfRVJST1IiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUmJihlLmVycm9yLnN0YXR1c0NvZGU9ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSx2b2lkIDA9PT1lLmVycm9yLnJldHJ5YWJsZSYmKGUuZXJyb3IucmV0cnlhYmxlPXRoaXMuc2VydmljZS5yZXRyeWFibGVFcnJvcihlLmVycm9yLHRoaXMpKSl9KSksZSgiSU5WQUxJREFURV9DUkVERU5USUFMUyIsInJldHJ5IiwoZnVuY3Rpb24oZSl7aWYoZS5lcnJvcilzd2l0Y2goZS5lcnJvci5jb2RlKXtjYXNlIlJlcXVlc3RFeHBpcmVkIjpjYXNlIkV4cGlyZWRUb2tlbkV4Y2VwdGlvbiI6Y2FzZSJFeHBpcmVkVG9rZW4iOmUuZXJyb3IucmV0cnlhYmxlPSEwLGUucmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5leHBpcmVkPSEwfX0pKSxlKCJFWFBJUkVEX1NJR05BVFVSRSIsInJldHJ5IiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lcnJvcjt0JiYic3RyaW5nIj09dHlwZW9mIHQuY29kZSYmInN0cmluZyI9PXR5cGVvZiB0Lm1lc3NhZ2UmJnQuY29kZS5tYXRjaCgvU2lnbmF0dXJlLykmJnQubWVzc2FnZS5tYXRjaCgvZXhwaXJlZC8pJiYoZS5lcnJvci5yZXRyeWFibGU9ITApfSkpLGUoIkNMT0NLX1NLRVdFRCIsInJldHJ5IiwoZnVuY3Rpb24oZSl7ZS5lcnJvciYmdGhpcy5zZXJ2aWNlLmNsb2NrU2tld0Vycm9yKGUuZXJyb3IpJiZ0aGlzLnNlcnZpY2UuY29uZmlnLmNvcnJlY3RDbG9ja1NrZXcmJihlLmVycm9yLnJldHJ5YWJsZT0hMCl9KSksZSgiUkVESVJFQ1QiLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJmUuZXJyb3Iuc3RhdHVzQ29kZT49MzAwJiZlLmVycm9yLnN0YXR1c0NvZGU8NDAwJiZlLmh0dHBSZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uJiYodGhpcy5odHRwUmVxdWVzdC5lbmRwb2ludD1uZXcgbi5FbmRwb2ludChlLmh0dHBSZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uKSx0aGlzLmh0dHBSZXF1ZXN0LmhlYWRlcnMuSG9zdD10aGlzLmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3QsZS5lcnJvci5yZWRpcmVjdD0hMCxlLmVycm9yLnJldHJ5YWJsZT0hMCl9KSksZSgiUkVUUllfQ0hFQ0siLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe2UuZXJyb3ImJihlLmVycm9yLnJlZGlyZWN0JiZlLnJlZGlyZWN0Q291bnQ8ZS5tYXhSZWRpcmVjdHM/ZS5lcnJvci5yZXRyeURlbGF5PTA6ZS5yZXRyeUNvdW50PGUubWF4UmV0cmllcyYmKGUuZXJyb3IucmV0cnlEZWxheT10aGlzLnNlcnZpY2UucmV0cnlEZWxheXMoZS5yZXRyeUNvdW50LGUuZXJyb3IpfHwwKSl9KSkscigiUkVTRVRfUkVUUllfU1RBVEUiLCJhZnRlclJldHJ5IiwoZnVuY3Rpb24oZSx0KXt2YXIgbixyPSExO2UuZXJyb3ImJihuPWUuZXJyb3IucmV0cnlEZWxheXx8MCxlLmVycm9yLnJldHJ5YWJsZSYmZS5yZXRyeUNvdW50PGUubWF4UmV0cmllcz8oZS5yZXRyeUNvdW50Kysscj0hMCk6ZS5lcnJvci5yZWRpcmVjdCYmZS5yZWRpcmVjdENvdW50PGUubWF4UmVkaXJlY3RzJiYoZS5yZWRpcmVjdENvdW50Kysscj0hMCkpLHImJm4+PTA/KGUuZXJyb3I9bnVsbCxzZXRUaW1lb3V0KHQsbikpOnQoKX0pKX0pKSxDb3JlUG9zdDoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbihlKXtlKCJFWFRSQUNUX1JFUVVFU1RfSUQiLCJleHRyYWN0RGF0YSIsbi51dGlsLmV4dHJhY3RSZXF1ZXN0SWQpLGUoIkVYVFJBQ1RfUkVRVUVTVF9JRCIsImV4dHJhY3RFcnJvciIsbi51dGlsLmV4dHJhY3RSZXF1ZXN0SWQpLGUoIkVOT1RGT1VORF9FUlJPUiIsImh0dHBFcnJvciIsKGZ1bmN0aW9uKGUpe2lmKCJOZXR3b3JraW5nRXJyb3IiPT09ZS5jb2RlJiZmdW5jdGlvbihlKXtyZXR1cm4iRU5PVEZPVU5EIj09PWUuZXJybm98fCJudW1iZXIiPT10eXBlb2YgZS5lcnJubyYmImZ1bmN0aW9uIj09dHlwZW9mIG4udXRpbC5nZXRTeXN0ZW1FcnJvck5hbWUmJlsiRUFJX05PTkFNRSIsIkVBSV9OT0RBVEEiXS5pbmRleE9mKG4udXRpbC5nZXRTeXN0ZW1FcnJvck5hbWUoZS5lcnJubyk+PTApfShlKSl7dmFyIHQ9IkluYWNjZXNzaWJsZSBob3N0OiBgIitlLmhvc3RuYW1lKyInIGF0IHBvcnQgYCIrZS5wb3J0KyInLiBUaGlzIHNlcnZpY2UgbWF5IG5vdCBiZSBhdmFpbGFibGUgaW4gdGhlIGAiK2UucmVnaW9uKyInIHJlZ2lvbi4iO3RoaXMucmVzcG9uc2UuZXJyb3I9bi51dGlsLmVycm9yKG5ldyBFcnJvcih0KSx7Y29kZToiVW5rbm93bkVuZHBvaW50IixyZWdpb246ZS5yZWdpb24saG9zdG5hbWU6ZS5ob3N0bmFtZSxyZXRyeWFibGU6ITAsb3JpZ2luYWxFcnJvcjplfSl9fSkpfSkpLExvZ2dlcjoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt0KCJMT0dfUkVRVUVTVCIsImNvbXBsZXRlIiwoZnVuY3Rpb24odCl7dmFyIHI9dC5yZXF1ZXN0LG89ci5zZXJ2aWNlLmNvbmZpZy5sb2dnZXI7aWYobyl7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgaT0odC5yZXF1ZXN0LnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS5nZXRUaW1lKCktci5zdGFydFRpbWUuZ2V0VGltZSgpKS8xZTMscz0hIW8uaXNUVFksYz10Lmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLHU9ci5wYXJhbXM7ci5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zJiZyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbci5vcGVyYXRpb25dJiZyLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbci5vcGVyYXRpb25dLmlucHV0JiYodT1hKHIuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyLm9wZXJhdGlvbl0uaW5wdXQsci5wYXJhbXMpKTt2YXIgbD1lKCJ1dGlsIikuaW5zcGVjdCh1LCEwLG51bGwpLHA9IiI7cmV0dXJuIHMmJihwKz0iG1szM20iKSxwKz0iW0FXUyAiK3Iuc2VydmljZS5zZXJ2aWNlSWRlbnRpZmllcisiICIrYyxwKz0iICIraS50b1N0cmluZygpKyJzICIrdC5yZXRyeUNvdW50KyIgcmV0cmllc10iLHMmJihwKz0iG1swOzFtIikscCs9IiAiK24udXRpbC5zdHJpbmcubG93ZXJGaXJzdChyLm9wZXJhdGlvbikscCs9IigiK2wrIikiLHMmJihwKz0iG1swbSIpLHB9KCk7ImZ1bmN0aW9uIj09dHlwZW9mIG8ubG9nP28ubG9nKGkpOiJmdW5jdGlvbiI9PXR5cGVvZiBvLndyaXRlJiZvLndyaXRlKGkrIlxuIil9ZnVuY3Rpb24gYShlLHQpe2lmKCF0KXJldHVybiB0O2lmKGUuaXNTZW5zaXRpdmUpcmV0dXJuIioqKlNlbnNpdGl2ZUluZm9ybWF0aW9uKioqIjtzd2l0Y2goZS50eXBlKXtjYXNlInN0cnVjdHVyZSI6dmFyIHI9e307cmV0dXJuIG4udXRpbC5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUubWVtYmVycyx0KT9yW3RdPWEoZS5tZW1iZXJzW3RdLG4pOnJbdF09bn0pKSxyO2Nhc2UibGlzdCI6dmFyIG89W107cmV0dXJuIG4udXRpbC5hcnJheUVhY2godCwoZnVuY3Rpb24odCxuKXtvLnB1c2goYShlLm1lbWJlcix0KSl9KSksbztjYXNlIm1hcCI6dmFyIGk9e307cmV0dXJuIG4udXRpbC5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7aVt0XT1hKGUudmFsdWUsbil9KSksaTtkZWZhdWx0OnJldHVybiB0fX19KSl9KSksSnNvbjoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL2pzb24iKTt0KCJCVUlMRCIsImJ1aWxkIixuLmJ1aWxkUmVxdWVzdCksdCgiRVhUUkFDVF9EQVRBIiwiZXh0cmFjdERhdGEiLG4uZXh0cmFjdERhdGEpLHQoIkVYVFJBQ1RfRVJST1IiLCJleHRyYWN0RXJyb3IiLG4uZXh0cmFjdEVycm9yKX0pKSxSZXN0OihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcmVzdCIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpLFJlc3RKc29uOihuZXcgcikuYWRkTmFtZWRMaXN0ZW5lcnMoKGZ1bmN0aW9uKHQpe3ZhciBuPWUoIi4vcHJvdG9jb2wvcmVzdF9qc29uIik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvciksdCgiVU5TRVRfQ09OVEVOVF9MRU5HVEgiLCJhZnRlckJ1aWxkIixuLnVuc2V0Q29udGVudExlbmd0aCl9KSksUmVzdFhtbDoobmV3IHIpLmFkZE5hbWVkTGlzdGVuZXJzKChmdW5jdGlvbih0KXt2YXIgbj1lKCIuL3Byb3RvY29sL3Jlc3RfeG1sIik7dCgiQlVJTEQiLCJidWlsZCIsbi5idWlsZFJlcXVlc3QpLHQoIkVYVFJBQ1RfREFUQSIsImV4dHJhY3REYXRhIixuLmV4dHJhY3REYXRhKSx0KCJFWFRSQUNUX0VSUk9SIiwiZXh0cmFjdEVycm9yIixuLmV4dHJhY3RFcnJvcil9KSksUXVlcnk6KG5ldyByKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24odCl7dmFyIG49ZSgiLi9wcm90b2NvbC9xdWVyeSIpO3QoIkJVSUxEIiwiYnVpbGQiLG4uYnVpbGRSZXF1ZXN0KSx0KCJFWFRSQUNUX0RBVEEiLCJleHRyYWN0RGF0YSIsbi5leHRyYWN0RGF0YSksdCgiRVhUUkFDVF9FUlJPUiIsImV4dHJhY3RFcnJvciIsbi5leHRyYWN0RXJyb3IpfSkpfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi9kaXNjb3Zlcl9lbmRwb2ludCI6MjcsIi4vcHJvdG9jb2wvanNvbiI6NDgsIi4vcHJvdG9jb2wvcXVlcnkiOjQ5LCIuL3Byb3RvY29sL3Jlc3QiOjUwLCIuL3Byb3RvY29sL3Jlc3RfanNvbiI6NTEsIi4vcHJvdG9jb2wvcmVzdF94bWwiOjUyLCIuL3NlcXVlbnRpYWxfZXhlY3V0b3IiOjYxLF9wcm9jZXNzOjkxLHV0aWw6ODV9XSwzNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5FbmRwb2ludD1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe2lmKHIudXRpbC5oaWRlUHJvcGVydGllcyh0aGlzLFsic2xhc2hlcyIsImF1dGgiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiXSksbnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZW5kcG9pbnQ6ICIrZSk7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiByLnV0aWwuY29weShlKTtlLm1hdGNoKC9eaHR0cC8pfHwoZT0oKHQmJnZvaWQgMCE9PXQuc3NsRW5hYmxlZD90LnNzbEVuYWJsZWQ6ci5jb25maWcuc3NsRW5hYmxlZCk/Imh0dHBzIjoiaHR0cCIpKyI6Ly8iK2UpLHIudXRpbC51cGRhdGUodGhpcyxyLnV0aWwudXJsUGFyc2UoZSkpLHRoaXMucG9ydD90aGlzLnBvcnQ9cGFyc2VJbnQodGhpcy5wb3J0LDEwKTp0aGlzLnBvcnQ9Imh0dHBzOiI9PT10aGlzLnByb3RvY29sPzQ0Mzo4MH19KSxyLkh0dHBSZXF1ZXN0PW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCl7ZT1uZXcgci5FbmRwb2ludChlKSx0aGlzLm1ldGhvZD0iUE9TVCIsdGhpcy5wYXRoPWUucGF0aHx8Ii8iLHRoaXMuaGVhZGVycz17fSx0aGlzLmJvZHk9IiIsdGhpcy5lbmRwb2ludD1lLHRoaXMucmVnaW9uPXQsdGhpcy5fdXNlckFnZW50PSIiLHRoaXMuc2V0VXNlckFnZW50KCl9LHNldFVzZXJBZ2VudDpmdW5jdGlvbigpe3RoaXMuX3VzZXJBZ2VudD10aGlzLmhlYWRlcnNbdGhpcy5nZXRVc2VyQWdlbnRIZWFkZXJOYW1lKCldPXIudXRpbC51c2VyQWdlbnQoKX0sZ2V0VXNlckFnZW50SGVhZGVyTmFtZTpmdW5jdGlvbigpe3JldHVybihyLnV0aWwuaXNCcm93c2VyKCk/IlgtQW16LSI6IiIpKyJVc2VyLUFnZW50In0sYXBwZW5kVG9Vc2VyQWdlbnQ6ZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiBlJiZlJiYodGhpcy5fdXNlckFnZW50Kz0iICIrZSksdGhpcy5oZWFkZXJzW3RoaXMuZ2V0VXNlckFnZW50SGVhZGVyTmFtZSgpXT10aGlzLl91c2VyQWdlbnR9LGdldFVzZXJBZ2VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyQWdlbnR9LHBhdGhuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC5zcGxpdCgiPyIsMSlbMF19LHNlYXJjaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucGF0aC5zcGxpdCgiPyIsMilbMV07cmV0dXJuIGU/KGU9ci51dGlsLnF1ZXJ5U3RyaW5nUGFyc2UoZSksci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcoZSkpOiIifSx1cGRhdGVFbmRwb2ludDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgci5FbmRwb2ludChlKTt0aGlzLmVuZHBvaW50PXQsdGhpcy5wYXRoPXQucGF0aHx8Ii8iLHRoaXMuaGVhZGVycy5Ib3N0JiYodGhpcy5oZWFkZXJzLkhvc3Q9dC5ob3N0KX19KSxyLkh0dHBSZXNwb25zZT1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuc3RhdHVzQ29kZT12b2lkIDAsdGhpcy5oZWFkZXJzPXt9LHRoaXMuYm9keT12b2lkIDAsdGhpcy5zdHJlYW1pbmc9ITEsdGhpcy5zdHJlYW09bnVsbH0sY3JlYXRlVW5idWZmZXJlZFN0cmVhbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmVhbWluZz0hMCx0aGlzLnN0cmVhbX19KSxyLkh0dHBDbGllbnQ9byh7fSksci5IdHRwQ2xpZW50LmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuc2luZ2xldG9uJiYodGhpcy5zaW5nbGV0b249bmV3IHRoaXMpLHRoaXMuc2luZ2xldG9ufX0seyIuL2NvcmUiOjE5fV0sMzY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksaT1lKCJldmVudHMiKS5FdmVudEVtaXR0ZXI7ZSgiLi4vaHR0cCIpLHIuWEhSQ2xpZW50PXIudXRpbC5pbmhlcml0KHtoYW5kbGVSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuLGEpe3ZhciBzPXRoaXMsYz1lLmVuZHBvaW50LHU9bmV3IGksbD1jLnByb3RvY29sKyIvLyIrYy5ob3N0bmFtZTs4MCE9PWMucG9ydCYmNDQzIT09Yy5wb3J0JiYobCs9IjoiK2MucG9ydCksbCs9ZS5wYXRoO3ZhciBwPW5ldyBYTUxIdHRwUmVxdWVzdCxkPSExO2Uuc3RyZWFtPXAscC5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIiwoZnVuY3Rpb24oKXt0cnl7aWYoMD09PXAuc3RhdHVzKXJldHVybn1jYXRjaChlKXtyZXR1cm59dGhpcy5yZWFkeVN0YXRlPj10aGlzLkhFQURFUlNfUkVDRUlWRUQmJiFkJiYodS5zdGF0dXNDb2RlPXAuc3RhdHVzLHUuaGVhZGVycz1zLnBhcnNlSGVhZGVycyhwLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSx1LmVtaXQoImhlYWRlcnMiLHUuc3RhdHVzQ29kZSx1LmhlYWRlcnMscC5zdGF0dXNUZXh0KSxkPSEwKSx0aGlzLnJlYWR5U3RhdGU9PT10aGlzLkRPTkUmJnMuZmluaXNoUmVxdWVzdChwLHUpfSksITEpLHAudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwoZnVuY3Rpb24oZSl7dS5lbWl0KCJzZW5kUHJvZ3Jlc3MiLGUpfSkpLHAuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLChmdW5jdGlvbihlKXt1LmVtaXQoInJlY2VpdmVQcm9ncmVzcyIsZSl9KSwhMSkscC5hZGRFdmVudExpc3RlbmVyKCJ0aW1lb3V0IiwoZnVuY3Rpb24oKXthKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIlRpbWVvdXQiKSx7Y29kZToiVGltZW91dEVycm9yIn0pKX0pLCExKSxwLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoZnVuY3Rpb24oKXthKHIudXRpbC5lcnJvcihuZXcgRXJyb3IoIk5ldHdvcmsgRmFpbHVyZSIpLHtjb2RlOiJOZXR3b3JraW5nRXJyb3IifSkpfSksITEpLHAuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLChmdW5jdGlvbigpe2Eoci51dGlsLmVycm9yKG5ldyBFcnJvcigiUmVxdWVzdCBhYm9ydGVkIikse2NvZGU6IlJlcXVlc3RBYm9ydGVkRXJyb3IifSkpfSksITEpLG4odSkscC5vcGVuKGUubWV0aG9kLGwsITEhPT10LnhockFzeW5jKSxyLnV0aWwuZWFjaChlLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7IkNvbnRlbnQtTGVuZ3RoIiE9PWUmJiJVc2VyLUFnZW50IiE9PWUmJiJIb3N0IiE9PWUmJnAuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSkpLHQudGltZW91dCYmITEhPT10LnhockFzeW5jJiYocC50aW1lb3V0PXQudGltZW91dCksdC54aHJXaXRoQ3JlZGVudGlhbHMmJihwLndpdGhDcmVkZW50aWFscz0hMCk7dHJ5e3AucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciJ9Y2F0Y2goZSl7fXRyeXtlLmJvZHk/cC5zZW5kKGUuYm9keSk6cC5zZW5kKCl9Y2F0Y2godCl7aWYoIWUuYm9keXx8Im9iamVjdCIhPT1vKGUuYm9keS5idWZmZXIpKXRocm93IHQ7cC5zZW5kKGUuYm9keS5idWZmZXIpfXJldHVybiB1fSxwYXJzZUhlYWRlcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHIudXRpbC5hcnJheUVhY2goZS5zcGxpdCgvXHI/XG4vKSwoZnVuY3Rpb24oZSl7dmFyIG49ZS5zcGxpdCgiOiIsMSlbMF0scj1lLnN1YnN0cmluZyhuLmxlbmd0aCsyKTtuLmxlbmd0aD4wJiYodFtuLnRvTG93ZXJDYXNlKCldPXIpfSkpLHR9LGZpbmlzaFJlcXVlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZigiYXJyYXlidWZmZXIiPT09ZS5yZXNwb25zZVR5cGUmJmUucmVzcG9uc2Upe3ZhciBvPWUucmVzcG9uc2U7bj1uZXcgci51dGlsLkJ1ZmZlcihvLmJ5dGVMZW5ndGgpO2Zvcih2YXIgaT1uZXcgVWludDhBcnJheShvKSxhPTA7YTxuLmxlbmd0aDsrK2EpblthXT1pW2FdfXRyeXtufHwic3RyaW5nIiE9dHlwZW9mIGUucmVzcG9uc2VUZXh0fHwobj1uZXcgci51dGlsLkJ1ZmZlcihlLnJlc3BvbnNlVGV4dCkpfWNhdGNoKGUpe31uJiZ0LmVtaXQoImRhdGEiLG4pLHQuZW1pdCgiZW5kIil9fSksci5IdHRwQ2xpZW50LnByb3RvdHlwZT1yLlhIUkNsaWVudC5wcm90b3R5cGUsci5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uPTF9LHsiLi4vY29yZSI6MTksIi4uL2h0dHAiOjM1LGV2ZW50czo4N31dLDM3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gaShlLHQpe2lmKHQmJm51bGwhPWUpc3dpdGNoKHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKHQuaXNEb2N1bWVudClyZXR1cm4gZTt2YXIgbj17fTtyZXR1cm4gci5lYWNoKGUsKGZ1bmN0aW9uKGUscil7dmFyIG89dC5tZW1iZXJzW2VdO2lmKG8pe2lmKCJib2R5IiE9PW8ubG9jYXRpb24pcmV0dXJuO3ZhciBhPW8uaXNMb2NhdGlvbk5hbWU/by5uYW1lOmUscz1pKHIsbyk7dm9pZCAwIT09cyYmKG5bYV09cyl9fSkpLG59KGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiByLmVhY2goZSwoZnVuY3Rpb24oZSxyKXt2YXIgbz1pKHIsdC52YWx1ZSk7dm9pZCAwIT09byYmKG5bZV09byl9KSksbn0oZSx0KTtjYXNlImxpc3QiOnJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiByLmFycmF5RWFjaChlLChmdW5jdGlvbihlKXt2YXIgcj1pKGUsdC5tZW1iZXIpO3ZvaWQgMCE9PXImJm4ucHVzaChyKX0pKSxufShlLHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9XaXJlRm9ybWF0KGUpfShlLHQpfX1vLnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbihlLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShpKGUsdCkpfSx0LmV4cG9ydHM9b30seyIuLi91dGlsIjo3NH1dLDM4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpO2Z1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gaShlLHQpe2lmKHQmJnZvaWQgMCE9PWUpc3dpdGNoKHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBmdW5jdGlvbihlLHQpe2lmKG51bGwhPWUpe2lmKHQuaXNEb2N1bWVudClyZXR1cm4gZTt2YXIgbj17fSxvPXQubWVtYmVycztyZXR1cm4gci5lYWNoKG8sKGZ1bmN0aW9uKHQscil7dmFyIG89ci5pc0xvY2F0aW9uTmFtZT9yLm5hbWU6dDtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIGE9aShlW29dLHIpO3ZvaWQgMCE9PWEmJihuW3RdPWEpfX0pKSxufX0oZSx0KTtjYXNlIm1hcCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7dmFyIG49e307cmV0dXJuIHIuZWFjaChlLChmdW5jdGlvbihlLHIpe3ZhciBvPWkocix0LnZhbHVlKTtuW2VdPXZvaWQgMD09PW8/bnVsbDpvfSkpLG59fShlLHQpO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSl7dmFyIG49W107cmV0dXJuIHIuYXJyYXlFYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciByPWkoZSx0Lm1lbWJlcik7dm9pZCAwPT09cj9uLnB1c2gobnVsbCk6bi5wdXNoKHIpfSkpLG59fShlLHQpO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9UeXBlKGUpfShlLHQpfX1vLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihlLHQpe3JldHVybiBpKEpTT04ucGFyc2UoZSksdCl9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sMzk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7dmFyIG49WyJXZSBhcmUgZm9ybWFsaXppbmcgb3VyIHBsYW5zIHRvIGVudGVyIEFXUyBTREsgZm9yIEphdmFTY3JpcHQgKHYyKSBpbnRvIG1haW50ZW5hbmNlIG1vZGUgaW4gMjAyMy5cbiIsIlBsZWFzZSBtaWdyYXRlIHlvdXIgY29kZSB0byB1c2UgQVdTIFNESyBmb3IgSmF2YVNjcmlwdCAodjMpLiIsIkZvciBtb3JlIGluZm9ybWF0aW9uLCBjaGVjayB0aGUgbWlncmF0aW9uIGd1aWRlIGF0IGh0dHBzOi8vYS5jby83UHpNQ2N5Il0uam9pbigiXG4iKTt0LmV4cG9ydHM9e3N1cHByZXNzOiExfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuZXhwb3J0cy5zdXBwcmVzc3x8dm9pZCAwIT09ZSYmKCJvYmplY3QiPT09byhlLmVudikmJnZvaWQgMCE9PWUuZW52LkFXU19FWEVDVVRJT05fRU5WJiYwPT09ZS5lbnYuQVdTX0VYRUNVVElPTl9FTlYuaW5kZXhPZigiQVdTX0xhbWJkYV8iKXx8Im9iamVjdCI9PT1vKGUuZW52KSYmdm9pZCAwIT09ZS5lbnYuQVdTX1NES19KU19TVVBQUkVTU19NQUlOVEVOQU5DRV9NT0RFX01FU1NBR0V8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLmVtaXRXYXJuaW5nJiZlLmVtaXRXYXJuaW5nKG4se3R5cGU6Ik5PVEUifSkpfSksMCl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7X3Byb2Nlc3M6OTF9XSw0MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29sbGVjdGlvbiIpLG89ZSgiLi9vcGVyYXRpb24iKSxpPWUoIi4vc2hhcGUiKSxhPWUoIi4vcGFnaW5hdG9yIikscz1lKCIuL3Jlc291cmNlX3dhaXRlciIpLGM9ZSgiLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uIiksdT1lKCIuLi91dGlsIiksbD11LnByb3BlcnR5LHA9dS5tZW1vaXplZFByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7ZT1lfHx7fSwodD10fHx7fSkuYXBpPXRoaXMsZS5tZXRhZGF0YT1lLm1ldGFkYXRhfHx7fTt2YXIgZD10LnNlcnZpY2VJZGVudGlmaWVyO2RlbGV0ZSB0LnNlcnZpY2VJZGVudGlmaWVyLGwodGhpcywiaXNBcGkiLCEwLCExKSxsKHRoaXMsImFwaVZlcnNpb24iLGUubWV0YWRhdGEuYXBpVmVyc2lvbiksbCh0aGlzLCJlbmRwb2ludFByZWZpeCIsZS5tZXRhZGF0YS5lbmRwb2ludFByZWZpeCksbCh0aGlzLCJzaWduaW5nTmFtZSIsZS5tZXRhZGF0YS5zaWduaW5nTmFtZSksbCh0aGlzLCJnbG9iYWxFbmRwb2ludCIsZS5tZXRhZGF0YS5nbG9iYWxFbmRwb2ludCksbCh0aGlzLCJzaWduYXR1cmVWZXJzaW9uIixlLm1ldGFkYXRhLnNpZ25hdHVyZVZlcnNpb24pLGwodGhpcywianNvblZlcnNpb24iLGUubWV0YWRhdGEuanNvblZlcnNpb24pLGwodGhpcywidGFyZ2V0UHJlZml4IixlLm1ldGFkYXRhLnRhcmdldFByZWZpeCksbCh0aGlzLCJwcm90b2NvbCIsZS5tZXRhZGF0YS5wcm90b2NvbCksbCh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLGUubWV0YWRhdGEudGltZXN0YW1wRm9ybWF0KSxsKHRoaXMsInhtbE5hbWVzcGFjZVVyaSIsZS5tZXRhZGF0YS54bWxOYW1lc3BhY2UpLGwodGhpcywiYWJicmV2aWF0aW9uIixlLm1ldGFkYXRhLnNlcnZpY2VBYmJyZXZpYXRpb24pLGwodGhpcywiZnVsbE5hbWUiLGUubWV0YWRhdGEuc2VydmljZUZ1bGxOYW1lKSxsKHRoaXMsInNlcnZpY2VJZCIsZS5tZXRhZGF0YS5zZXJ2aWNlSWQpLGQmJmNbZF0mJmwodGhpcywieG1sTm9EZWZhdWx0TGlzdHMiLGNbZF0ueG1sTm9EZWZhdWx0TGlzdHMsITEpLHAodGhpcywiY2xhc3NOYW1lIiwoZnVuY3Rpb24oKXt2YXIgdD1lLm1ldGFkYXRhLnNlcnZpY2VBYmJyZXZpYXRpb258fGUubWV0YWRhdGEuc2VydmljZUZ1bGxOYW1lO3JldHVybiB0PygiRWxhc3RpY0xvYWRCYWxhbmNpbmciPT09KHQ9dC5yZXBsYWNlKC9eQW1hem9ufEFXU1xzKnxcKC4qfFxzK3xcVysvZywiIikpJiYodD0iRUxCIiksdCk6bnVsbH0pKSxsKHRoaXMsIm9wZXJhdGlvbnMiLG5ldyByKGUub3BlcmF0aW9ucyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgbyhlLG4sdCl9KSx1LnN0cmluZy5sb3dlckZpcnN0LChmdW5jdGlvbihlLHQpeyEwPT09dC5lbmRwb2ludG9wZXJhdGlvbiYmbChuLCJlbmRwb2ludE9wZXJhdGlvbiIsdS5zdHJpbmcubG93ZXJGaXJzdChlKSksdC5lbmRwb2ludGRpc2NvdmVyeSYmIW4uaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSYmbChuLCJoYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5IiwhMD09PXQuZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQpfSkpKSxsKHRoaXMsInNoYXBlcyIsbmV3IHIoZS5zaGFwZXMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gaS5jcmVhdGUobix0KX0pKSksbCh0aGlzLCJwYWdpbmF0b3JzIixuZXcgcihlLnBhZ2luYXRvcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IGEoZSxuLHQpfSkpKSxsKHRoaXMsIndhaXRlcnMiLG5ldyByKGUud2FpdGVycyx0LChmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgcyhlLG4sdCl9KSx1LnN0cmluZy5sb3dlckZpcnN0KSksdC5kb2N1bWVudGF0aW9uJiYobCh0aGlzLCJkb2N1bWVudGF0aW9uIixlLmRvY3VtZW50YXRpb24pLGwodGhpcywiZG9jdW1lbnRhdGlvblVybCIsZS5kb2N1bWVudGF0aW9uVXJsKSksbCh0aGlzLCJhd3NRdWVyeUNvbXBhdGlibGUiLGUubWV0YWRhdGEuYXdzUXVlcnlDb21wYXRpYmxlKX19LHsiLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uIjo0LCIuLi91dGlsIjo3NCwiLi9jb2xsZWN0aW9uIjo0MSwiLi9vcGVyYXRpb24iOjQyLCIuL3BhZ2luYXRvciI6NDMsIi4vcmVzb3VyY2Vfd2FpdGVyIjo0NCwiLi9zaGFwZSI6NDV9XSw0MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKS5tZW1vaXplZFByb3BlcnR5O2Z1bmN0aW9uIG8oZSx0LG4sbyl7cih0aGlzLG8oZSksKGZ1bmN0aW9uKCl7cmV0dXJuIG4oZSx0KX0pKX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodmFyIGEgaW4gcj1yfHxTdHJpbmcsZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKSYmKG8uY2FsbCh0aGlzLGEsZVthXSxuLHIpLGkmJmkoYSxlW2FdKSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL3NoYXBlIiksbz1lKCIuLi91dGlsIiksaT1vLnByb3BlcnR5LGE9by5tZW1vaXplZFByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcztuPW58fHt9LGkodGhpcywibmFtZSIsdC5uYW1lfHxlKSxpKHRoaXMsImFwaSIsbi5hcGksITEpLHQuaHR0cD10Lmh0dHB8fHt9LGkodGhpcywiZW5kcG9pbnQiLHQuZW5kcG9pbnQpLGkodGhpcywiaHR0cE1ldGhvZCIsdC5odHRwLm1ldGhvZHx8IlBPU1QiKSxpKHRoaXMsImh0dHBQYXRoIix0Lmh0dHAucmVxdWVzdFVyaXx8Ii8iKSxpKHRoaXMsImF1dGh0eXBlIix0LmF1dGh0eXBlfHwiIiksaSh0aGlzLCJlbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkIix0LmVuZHBvaW50ZGlzY292ZXJ5P3QuZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQ/IlJFUVVJUkVEIjoiT1BUSU9OQUwiOiJOVUxMIik7dmFyIHM9dC5odHRwQ2hlY2tzdW1SZXF1aXJlZHx8dC5odHRwQ2hlY2tzdW0mJnQuaHR0cENoZWNrc3VtLnJlcXVlc3RDaGVja3N1bVJlcXVpcmVkO2kodGhpcywiaHR0cENoZWNrc3VtUmVxdWlyZWQiLHMsITEpLGEodGhpcywiaW5wdXQiLChmdW5jdGlvbigpe3JldHVybiB0LmlucHV0P3IuY3JlYXRlKHQuaW5wdXQsbik6bmV3IHIuY3JlYXRlKHt0eXBlOiJzdHJ1Y3R1cmUifSxuKX0pKSxhKHRoaXMsIm91dHB1dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQub3V0cHV0P3IuY3JlYXRlKHQub3V0cHV0LG4pOm5ldyByLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0sbil9KSksYSh0aGlzLCJlcnJvcnMiLChmdW5jdGlvbigpe3ZhciBlPVtdO2lmKCF0LmVycm9ycylyZXR1cm4gbnVsbDtmb3IodmFyIG89MDtvPHQuZXJyb3JzLmxlbmd0aDtvKyspZS5wdXNoKHIuY3JlYXRlKHQuZXJyb3JzW29dLG4pKTtyZXR1cm4gZX0pKSxhKHRoaXMsInBhZ2luYXRvciIsKGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBpLnBhZ2luYXRvcnNbZV19KSksbi5kb2N1bWVudGF0aW9uJiYoaSh0aGlzLCJkb2N1bWVudGF0aW9uIix0LmRvY3VtZW50YXRpb24pLGkodGhpcywiZG9jdW1lbnRhdGlvblVybCIsdC5kb2N1bWVudGF0aW9uVXJsKSksYSh0aGlzLCJpZGVtcG90ZW50TWVtYmVycyIsKGZ1bmN0aW9uKCl7dmFyIGU9W10sdD1vLmlucHV0LG49dC5tZW1iZXJzO2lmKCF0Lm1lbWJlcnMpcmV0dXJuIGU7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmITA9PT1uW3JdLmlzSWRlbXBvdGVudCYmZS5wdXNoKHIpO3JldHVybiBlfSkpLGEodGhpcywiaGFzRXZlbnRPdXRwdXQiLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLm1lbWJlcnMsbj1lLnBheWxvYWQ7aWYoIWUubWVtYmVycylyZXR1cm4hMTtpZihuKXJldHVybiB0W25dLmlzRXZlbnRTdHJlYW07Zm9yKHZhciByIGluIHQpaWYoIXQuaGFzT3duUHJvcGVydHkocikmJiEwPT09dFtyXS5pc0V2ZW50U3RyZWFtKXJldHVybiEwO3JldHVybiExfShvLm91dHB1dCl9KSl9fSx7Ii4uL3V0aWwiOjc0LCIuL3NoYXBlIjo0NX1dLDQzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLnByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3IodGhpcywiaW5wdXRUb2tlbiIsdC5pbnB1dF90b2tlbikscih0aGlzLCJsaW1pdEtleSIsdC5saW1pdF9rZXkpLHIodGhpcywibW9yZVJlc3VsdHMiLHQubW9yZV9yZXN1bHRzKSxyKHRoaXMsIm91dHB1dFRva2VuIix0Lm91dHB1dF90b2tlbikscih0aGlzLCJyZXN1bHRLZXkiLHQucmVzdWx0X2tleSl9fSx7Ii4uL3V0aWwiOjc0fV0sNDQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIiksbz1yLnByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7bj1ufHx7fSxvKHRoaXMsIm5hbWUiLGUpLG8odGhpcywiYXBpIixuLmFwaSwhMSksdC5vcGVyYXRpb24mJm8odGhpcywib3BlcmF0aW9uIixyLnN0cmluZy5sb3dlckZpcnN0KHQub3BlcmF0aW9uKSk7dmFyIGk9dGhpcztbInR5cGUiLCJkZXNjcmlwdGlvbiIsImRlbGF5IiwibWF4QXR0ZW1wdHMiLCJhY2NlcHRvcnMiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2VdO24mJm8oaSxlLG4pfSkpfX0seyIuLi91dGlsIjo3NH1dLDQ1OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb2xsZWN0aW9uIiksaT1lKCIuLi91dGlsIik7ZnVuY3Rpb24gYShlLHQsbil7bnVsbCE9biYmaS5wcm9wZXJ0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlLHQpe2UuY29uc3RydWN0b3IucHJvdG90eXBlW3RdfHxpLm1lbW9pemVkUHJvcGVydHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSx0LG4pe3Q9dHx8e30sYSh0aGlzLCJzaGFwZSIsZS5zaGFwZSksYSh0aGlzLCJhcGkiLHQuYXBpLCExKSxhKHRoaXMsInR5cGUiLGUudHlwZSksYSh0aGlzLCJlbnVtIixlLmVudW0pLGEodGhpcywibWluIixlLm1pbiksYSh0aGlzLCJtYXgiLGUubWF4KSxhKHRoaXMsInBhdHRlcm4iLGUucGF0dGVybiksYSh0aGlzLCJsb2NhdGlvbiIsZS5sb2NhdGlvbnx8dGhpcy5sb2NhdGlvbnx8ImJvZHkiKSxhKHRoaXMsIm5hbWUiLHRoaXMubmFtZXx8ZS54bWxOYW1lfHxlLnF1ZXJ5TmFtZXx8ZS5sb2NhdGlvbk5hbWV8fG4pLGEodGhpcywiaXNTdHJlYW1pbmciLGUuc3RyZWFtaW5nfHx0aGlzLmlzU3RyZWFtaW5nfHwhMSksYSh0aGlzLCJyZXF1aXJlc0xlbmd0aCIsZS5yZXF1aXJlc0xlbmd0aCwhMSksYSh0aGlzLCJpc0NvbXBvc2l0ZSIsZS5pc0NvbXBvc2l0ZXx8ITEpLGEodGhpcywiaXNTaGFwZSIsITAsITEpLGEodGhpcywiaXNRdWVyeU5hbWUiLEJvb2xlYW4oZS5xdWVyeU5hbWUpLCExKSxhKHRoaXMsImlzTG9jYXRpb25OYW1lIixCb29sZWFuKGUubG9jYXRpb25OYW1lKSwhMSksYSh0aGlzLCJpc0lkZW1wb3RlbnQiLCEwPT09ZS5pZGVtcG90ZW5jeVRva2VuKSxhKHRoaXMsImlzSnNvblZhbHVlIiwhMD09PWUuanNvbnZhbHVlKSxhKHRoaXMsImlzU2Vuc2l0aXZlIiwhMD09PWUuc2Vuc2l0aXZlfHxlLnByb3RvdHlwZSYmITA9PT1lLnByb3RvdHlwZS5zZW5zaXRpdmUpLGEodGhpcywiaXNFdmVudFN0cmVhbSIsQm9vbGVhbihlLmV2ZW50c3RyZWFtKSwhMSksYSh0aGlzLCJpc0V2ZW50IixCb29sZWFuKGUuZXZlbnQpLCExKSxhKHRoaXMsImlzRXZlbnRQYXlsb2FkIixCb29sZWFuKGUuZXZlbnRwYXlsb2FkKSwhMSksYSh0aGlzLCJpc0V2ZW50SGVhZGVyIixCb29sZWFuKGUuZXZlbnRoZWFkZXIpLCExKSxhKHRoaXMsImlzVGltZXN0YW1wRm9ybWF0U2V0IixCb29sZWFuKGUudGltZXN0YW1wRm9ybWF0KXx8ZS5wcm90b3R5cGUmJiEwPT09ZS5wcm90b3R5cGUuaXNUaW1lc3RhbXBGb3JtYXRTZXQsITEpLGEodGhpcywiZW5kcG9pbnREaXNjb3ZlcnlJZCIsQm9vbGVhbihlLmVuZHBvaW50ZGlzY292ZXJ5aWQpLCExKSxhKHRoaXMsImhvc3RMYWJlbCIsQm9vbGVhbihlLmhvc3RMYWJlbCksITEpLHQuZG9jdW1lbnRhdGlvbiYmKGEodGhpcywiZG9jdW1lbnRhdGlvbiIsZS5kb2N1bWVudGF0aW9uKSxhKHRoaXMsImRvY3VtZW50YXRpb25VcmwiLGUuZG9jdW1lbnRhdGlvblVybCkpLGUueG1sQXR0cmlidXRlJiZhKHRoaXMsImlzWG1sQXR0cmlidXRlIixlLnhtbEF0dHJpYnV0ZXx8ITEpLGEodGhpcywiZGVmYXVsdFZhbHVlIixudWxsKSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplfSx0aGlzLnRvVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZX19ZnVuY3Rpb24gdShlKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhKHRoaXMsImlzQ29tcG9zaXRlIiwhMCksZS5mbGF0dGVuZWQmJmEodGhpcywiZmxhdHRlbmVkIixlLmZsYXR0ZW5lZHx8ITEpfWZ1bmN0aW9uIGwoZSx0KXt2YXIgbj10aGlzLGk9bnVsbCxsPSF0aGlzLmlzU2hhcGU7dS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCYmKGEodGhpcywiZGVmYXVsdFZhbHVlIiwoZnVuY3Rpb24oKXtyZXR1cm57fX0pKSxhKHRoaXMsIm1lbWJlcnMiLHt9KSxhKHRoaXMsIm1lbWJlck5hbWVzIixbXSksYSh0aGlzLCJyZXF1aXJlZCIsW10pLGEodGhpcywiaXNSZXF1aXJlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSksYSh0aGlzLCJpc0RvY3VtZW50IixCb29sZWFuKGUuZG9jdW1lbnQpKSksZS5tZW1iZXJzJiYoYSh0aGlzLCJtZW1iZXJzIixuZXcgcihlLm1lbWJlcnMsdCwoZnVuY3Rpb24oZSxuKXtyZXR1cm4gYy5jcmVhdGUobix0LGUpfSkpKSxzKHRoaXMsIm1lbWJlck5hbWVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZS54bWxPcmRlcnx8T2JqZWN0LmtleXMoZS5tZW1iZXJzKX0pKSxlLmV2ZW50JiYocyh0aGlzLCJldmVudFBheWxvYWRNZW1iZXJOYW1lIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9bi5tZW1iZXJzLHQ9bi5tZW1iZXJOYW1lcyxyPTAsbz10Lmxlbmd0aDtyPG87cisrKWlmKGVbdFtyXV0uaXNFdmVudFBheWxvYWQpcmV0dXJuIHRbcl19KSkscyh0aGlzLCJldmVudEhlYWRlck1lbWJlck5hbWVzIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9bi5tZW1iZXJzLHQ9bi5tZW1iZXJOYW1lcyxyPVtdLG89MCxpPXQubGVuZ3RoO288aTtvKyspZVt0W29dXS5pc0V2ZW50SGVhZGVyJiZyLnB1c2godFtvXSk7cmV0dXJuIHJ9KSkpKSxlLnJlcXVpcmVkJiYoYSh0aGlzLCJyZXF1aXJlZCIsZS5yZXF1aXJlZCksYSh0aGlzLCJpc1JlcXVpcmVkIiwoZnVuY3Rpb24odCl7aWYoIWkpe2k9e307Zm9yKHZhciBuPTA7bjxlLnJlcXVpcmVkLmxlbmd0aDtuKyspaVtlLnJlcXVpcmVkW25dXT0hMH1yZXR1cm4gaVt0XX0pLCExLCEwKSksYSh0aGlzLCJyZXN1bHRXcmFwcGVyIixlLnJlc3VsdFdyYXBwZXJ8fG51bGwpLGUucGF5bG9hZCYmYSh0aGlzLCJwYXlsb2FkIixlLnBheWxvYWQpLCJzdHJpbmciPT10eXBlb2YgZS54bWxOYW1lc3BhY2U/YSh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUueG1sTmFtZXNwYWNlKToib2JqZWN0Ij09PW8oZS54bWxOYW1lc3BhY2UpJiYoYSh0aGlzLCJ4bWxOYW1lc3BhY2VQcmVmaXgiLGUueG1sTmFtZXNwYWNlLnByZWZpeCksYSh0aGlzLCJ4bWxOYW1lc3BhY2VVcmkiLGUueG1sTmFtZXNwYWNlLnVyaSkpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj10aGlzLHI9IXRoaXMuaXNTaGFwZTtpZih1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyJiZhKHRoaXMsImRlZmF1bHRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuW119KSksZS5tZW1iZXImJnModGhpcywibWVtYmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gYy5jcmVhdGUoZS5tZW1iZXIsdCl9KSksdGhpcy5mbGF0dGVuZWQpe3ZhciBvPXRoaXMubmFtZTtzKHRoaXMsIm5hbWUiLChmdW5jdGlvbigpe3JldHVybiBuLm1lbWJlci5uYW1lfHxvfSkpfX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49IXRoaXMuaXNTaGFwZTt1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuJiYoYSh0aGlzLCJkZWZhdWx0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybnt9fSkpLGEodGhpcywia2V5IixjLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0sdCkpLGEodGhpcywidmFsdWUiLGMuY3JlYXRlKHt0eXBlOiJzdHJpbmcifSx0KSkpLGUua2V5JiZzKHRoaXMsImtleSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY3JlYXRlKGUua2V5LHQpfSkpLGUudmFsdWUmJnModGhpcywidmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBjLmNyZWF0ZShlLnZhbHVlLHQpfSkpfWZ1bmN0aW9uIGYoKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1bInJlc3QteG1sIiwicXVlcnkiLCJlYzIiXTt0aGlzLnRvVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLmFwaSYmZS5pbmRleE9mKHRoaXMuYXBpLnByb3RvY29sKT4tMT90fHwiIjp0LHRoaXMuaXNKc29uVmFsdWU/SlNPTi5wYXJzZSh0KTp0JiYiZnVuY3Rpb24iPT10eXBlb2YgdC50b1N0cmluZz90LnRvU3RyaW5nKCk6dH0sdGhpcy50b1dpcmVGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNKc29uVmFsdWU/SlNPTi5zdHJpbmdpZnkoZSk6ZX19ZnVuY3Rpb24gaCgpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3ZhciB0PWkuYmFzZTY0LmRlY29kZShlKTtpZih0aGlzLmlzU2Vuc2l0aXZlJiZpLmlzTm9kZSgpJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5CdWZmZXIuYWxsb2Mpe3ZhciBuPWkuQnVmZmVyLmFsbG9jKHQubGVuZ3RoLHQpO3QuZmlsbCgwKSx0PW59cmV0dXJuIHR9LHRoaXMudG9XaXJlRm9ybWF0PWkuYmFzZTY0LmVuY29kZX1mdW5jdGlvbiBnKCl7aC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbSgpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZTpudWxsPT1lP251bGw6InRydWUiPT09ZX19Yy5ub3JtYWxpemVkVHlwZXM9e2NoYXJhY3Rlcjoic3RyaW5nIixkb3VibGU6ImZsb2F0Iixsb25nOiJpbnRlZ2VyIixzaG9ydDoiaW50ZWdlciIsYmlnaW50ZWdlcjoiaW50ZWdlciIsYmlnZGVjaW1hbDoiZmxvYXQiLGJsb2I6ImJpbmFyeSJ9LGMudHlwZXM9e3N0cnVjdHVyZTpsLGxpc3Q6cCxtYXA6ZCxib29sZWFuOm0sdGltZXN0YW1wOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoYy5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50aW1lc3RhbXBGb3JtYXQpYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLGUudGltZXN0YW1wRm9ybWF0KTtlbHNlIGlmKHQuaXNUaW1lc3RhbXBGb3JtYXRTZXQmJnRoaXMudGltZXN0YW1wRm9ybWF0KWEodGhpcywidGltZXN0YW1wRm9ybWF0Iix0aGlzLnRpbWVzdGFtcEZvcm1hdCk7ZWxzZSBpZigiaGVhZGVyIj09PXRoaXMubG9jYXRpb24pYSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJyZmM4MjIiKTtlbHNlIGlmKCJxdWVyeXN0cmluZyI9PT10aGlzLmxvY2F0aW9uKWEodGhpcywidGltZXN0YW1wRm9ybWF0IiwiaXNvODYwMSIpO2Vsc2UgaWYodGhpcy5hcGkpc3dpdGNoKHRoaXMuYXBpLnByb3RvY29sKXtjYXNlImpzb24iOmNhc2UicmVzdC1qc29uIjphKHRoaXMsInRpbWVzdGFtcEZvcm1hdCIsInVuaXhUaW1lc3RhbXAiKTticmVhaztjYXNlInJlc3QteG1sIjpjYXNlInF1ZXJ5IjpjYXNlImVjMiI6YSh0aGlzLCJ0aW1lc3RhbXBGb3JtYXQiLCJpc284NjAxIil9dGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDoiZnVuY3Rpb24iPT10eXBlb2YgZS50b1VUQ1N0cmluZz9lOiJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlP2kuZGF0ZS5wYXJzZVRpbWVzdGFtcChlKTpudWxsfSx0aGlzLnRvV2lyZUZvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gaS5kYXRlLmZvcm1hdChlLHQudGltZXN0YW1wRm9ybWF0KX19LGZsb2F0OmZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50b1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bnVsbDpwYXJzZUZsb2F0KGUpfSx0aGlzLnRvV2lyZUZvcm1hdD10aGlzLnRvVHlwZX0saW50ZWdlcjpmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMudG9UeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP251bGw6cGFyc2VJbnQoZSwxMCl9LHRoaXMudG9XaXJlRm9ybWF0PXRoaXMudG9UeXBlfSxzdHJpbmc6ZixiYXNlNjQ6ZyxiaW5hcnk6aH0sYy5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7aWYoZS5zaGFwZSl7dmFyIG49dC5hcGkuc2hhcGVzW2Uuc2hhcGVdO2lmKCFuKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGZpbmQgc2hhcGUgcmVmZXJlbmNlOiAiK2Uuc2hhcGUpO3JldHVybiBufXJldHVybiBudWxsfSxjLmNyZWF0ZT1mdW5jdGlvbihlLHQsbil7aWYoZS5pc1NoYXBlKXJldHVybiBlO3ZhciByPWMucmVzb2x2ZShlLHQpO2lmKHIpe3ZhciBvPU9iamVjdC5rZXlzKGUpO3QuZG9jdW1lbnRhdGlvbnx8KG89by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLm1hdGNoKC9kb2N1bWVudGF0aW9uLyl9KSkpO3ZhciBpPWZ1bmN0aW9uKCl7ci5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSx0LG4pfTtyZXR1cm4gaS5wcm90b3R5cGU9cixuZXcgaX1lLnR5cGV8fChlLm1lbWJlcnM/ZS50eXBlPSJzdHJ1Y3R1cmUiOmUubWVtYmVyP2UudHlwZT0ibGlzdCI6ZS5rZXk/ZS50eXBlPSJtYXAiOmUudHlwZT0ic3RyaW5nIik7dmFyIGE9ZS50eXBlO2lmKGMubm9ybWFsaXplZFR5cGVzW2UudHlwZV0mJihlLnR5cGU9Yy5ub3JtYWxpemVkVHlwZXNbZS50eXBlXSksYy50eXBlc1tlLnR5cGVdKXJldHVybiBuZXcgYy50eXBlc1tlLnR5cGVdKGUsdCxuKTt0aHJvdyBuZXcgRXJyb3IoIlVucmVjb2duaXplZCBzaGFwZSB0eXBlOiAiK2EpfSxjLnNoYXBlcz17U3RydWN0dXJlU2hhcGU6bCxMaXN0U2hhcGU6cCxNYXBTaGFwZTpkLFN0cmluZ1NoYXBlOmYsQm9vbGVhblNoYXBlOm0sQmFzZTY0U2hhcGU6Z30sdC5leHBvcnRzPWN9LHsiLi4vdXRpbCI6NzQsIi4vY29sbGVjdGlvbiI6NDF9XSw0NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpO3IuUGFyYW1WYWxpZGF0b3I9ci51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpeyEwIT09ZSYmdm9pZCAwIT09ZXx8KGU9e21pbjohMH0pLHRoaXMudmFsaWRhdGlvbj1lfSx2YWxpZGF0ZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5lcnJvcnM9W10sdGhpcy52YWxpZGF0ZU1lbWJlcihlLHR8fHt9LG58fCJwYXJhbXMiKSx0aGlzLmVycm9ycy5sZW5ndGg+MSl7dmFyIG89dGhpcy5lcnJvcnMuam9pbigiXG4qICIpO3Rocm93IG89IlRoZXJlIHdlcmUgIit0aGlzLmVycm9ycy5sZW5ndGgrIiB2YWxpZGF0aW9uIGVycm9yczpcbiogIitvLHIudXRpbC5lcnJvcihuZXcgRXJyb3Iobykse2NvZGU6Ik11bHRpcGxlVmFsaWRhdGlvbkVycm9ycyIsZXJyb3JzOnRoaXMuZXJyb3JzfSl9aWYoMT09PXRoaXMuZXJyb3JzLmxlbmd0aCl0aHJvdyB0aGlzLmVycm9yc1swXTtyZXR1cm4hMH0sZmFpbDpmdW5jdGlvbihlLHQpe3RoaXMuZXJyb3JzLnB1c2goci51dGlsLmVycm9yKG5ldyBFcnJvcih0KSx7Y29kZTplfSkpfSx2YWxpZGF0ZVN0cnVjdHVyZTpmdW5jdGlvbihlLHQsbil7aWYoZS5pc0RvY3VtZW50KXJldHVybiEwO3ZhciByO3RoaXMudmFsaWRhdGVUeXBlKHQsbixbIm9iamVjdCJdLCJzdHJ1Y3R1cmUiKTtmb3IodmFyIG89MDtlLnJlcXVpcmVkJiZvPGUucmVxdWlyZWQubGVuZ3RoO28rKyl7dmFyIGk9dFtyPWUucmVxdWlyZWRbb11dO251bGw9PWkmJnRoaXMuZmFpbCgiTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyIiwiTWlzc2luZyByZXF1aXJlZCBrZXkgJyIrcisiJyBpbiAiK24pfWZvcihyIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpe3ZhciBhPXRbcl0scz1lLm1lbWJlcnNbcl07aWYodm9pZCAwIT09cyl7dmFyIGM9W24scl0uam9pbigiLiIpO3RoaXMudmFsaWRhdGVNZW1iZXIocyxhLGMpfWVsc2UgbnVsbCE9YSYmdGhpcy5mYWlsKCJVbmV4cGVjdGVkUGFyYW1ldGVyIiwiVW5leHBlY3RlZCBrZXkgJyIrcisiJyBmb3VuZCBpbiAiK24pfXJldHVybiEwfSx2YWxpZGF0ZU1lbWJlcjpmdW5jdGlvbihlLHQsbil7c3dpdGNoKGUudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiB0aGlzLnZhbGlkYXRlU3RydWN0dXJlKGUsdCxuKTtjYXNlImxpc3QiOnJldHVybiB0aGlzLnZhbGlkYXRlTGlzdChlLHQsbik7Y2FzZSJtYXAiOnJldHVybiB0aGlzLnZhbGlkYXRlTWFwKGUsdCxuKTtkZWZhdWx0OnJldHVybiB0aGlzLnZhbGlkYXRlU2NhbGFyKGUsdCxuKX19LHZhbGlkYXRlTGlzdDpmdW5jdGlvbihlLHQsbil7aWYodGhpcy52YWxpZGF0ZVR5cGUodCxuLFtBcnJheV0pKXt0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0Lmxlbmd0aCxuLCJsaXN0IG1lbWJlciBjb3VudCIpO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMudmFsaWRhdGVNZW1iZXIoZS5tZW1iZXIsdFtyXSxuKyJbIityKyJdIil9fSx2YWxpZGF0ZU1hcDpmdW5jdGlvbihlLHQsbil7aWYodGhpcy52YWxpZGF0ZVR5cGUodCxuLFsib2JqZWN0Il0sIm1hcCIpKXt2YXIgcj0wO2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYodGhpcy52YWxpZGF0ZU1lbWJlcihlLmtleSxvLG4rIltrZXk9JyIrbysiJ10iKSx0aGlzLnZhbGlkYXRlTWVtYmVyKGUudmFsdWUsdFtvXSxuKyJbJyIrbysiJ10iKSxyKyspO3RoaXMudmFsaWRhdGVSYW5nZShlLHIsbiwibWFwIG1lbWJlciBjb3VudCIpfX0sdmFsaWRhdGVTY2FsYXI6ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaChlLnR5cGUpe2Nhc2UgbnVsbDpjYXNlIHZvaWQgMDpjYXNlInN0cmluZyI6cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmcoZSx0LG4pO2Nhc2UiYmFzZTY0IjpjYXNlImJpbmFyeSI6cmV0dXJuIHRoaXMudmFsaWRhdGVQYXlsb2FkKHQsbik7Y2FzZSJpbnRlZ2VyIjpjYXNlImZsb2F0IjpyZXR1cm4gdGhpcy52YWxpZGF0ZU51bWJlcihlLHQsbik7Y2FzZSJib29sZWFuIjpyZXR1cm4gdGhpcy52YWxpZGF0ZVR5cGUodCxuLFsiYm9vbGVhbiJdKTtjYXNlInRpbWVzdGFtcCI6cmV0dXJuIHRoaXMudmFsaWRhdGVUeXBlKHQsbixbRGF0ZSwvXlxkezR9LVxkezJ9LVxkezJ9VFxkezJ9OlxkezJ9OlxkezJ9KFwuXGQrKT9aJC8sIm51bWJlciJdLCJEYXRlIG9iamVjdCwgSVNPLTg2MDEgc3RyaW5nLCBvciBhIFVOSVggdGltZXN0YW1wIik7ZGVmYXVsdDpyZXR1cm4gdGhpcy5mYWlsKCJVbmtvd25UeXBlIiwiVW5oYW5kbGVkIHR5cGUgIitlLnR5cGUrIiBmb3IgIituKX19LHZhbGlkYXRlU3RyaW5nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bInN0cmluZyJdO2UuaXNKc29uVmFsdWUmJihyPXIuY29uY2F0KFsibnVtYmVyIiwib2JqZWN0IiwiYm9vbGVhbiJdKSksbnVsbCE9PXQmJnRoaXMudmFsaWRhdGVUeXBlKHQsbixyKSYmKHRoaXMudmFsaWRhdGVFbnVtKGUsdCxuKSx0aGlzLnZhbGlkYXRlUmFuZ2UoZSx0Lmxlbmd0aCxuLCJzdHJpbmcgbGVuZ3RoIiksdGhpcy52YWxpZGF0ZVBhdHRlcm4oZSx0LG4pLHRoaXMudmFsaWRhdGVVcmkoZSx0LG4pKX0sdmFsaWRhdGVVcmk6ZnVuY3Rpb24oZSx0LG4peyJ1cmkiPT09ZS5sb2NhdGlvbiYmMD09PXQubGVuZ3RoJiZ0aGlzLmZhaWwoIlVyaVBhcmFtZXRlckVycm9yIiwnRXhwZWN0ZWQgdXJpIHBhcmFtZXRlciB0byBoYXZlIGxlbmd0aCA+PSAxLCBidXQgZm91bmQgIicrdCsnIiBmb3IgJytuKX0sdmFsaWRhdGVQYXR0ZXJuOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbGlkYXRpb24ucGF0dGVybiYmdm9pZCAwIT09ZS5wYXR0ZXJuJiYobmV3IFJlZ0V4cChlLnBhdHRlcm4pLnRlc3QodCl8fHRoaXMuZmFpbCgiUGF0dGVybk1hdGNoRXJyb3IiLCdQcm92aWRlZCB2YWx1ZSAiJyt0KyciIGRvZXMgbm90IG1hdGNoIHJlZ2V4IHBhdHRlcm4gLycrZS5wYXR0ZXJuKyIvIGZvciAiK24pKX0sdmFsaWRhdGVSYW5nZTpmdW5jdGlvbihlLHQsbixyKXt0aGlzLnZhbGlkYXRpb24ubWluJiZ2b2lkIDAhPT1lLm1pbiYmdDxlLm1pbiYmdGhpcy5mYWlsKCJNaW5SYW5nZUVycm9yIiwiRXhwZWN0ZWQgIityKyIgPj0gIitlLm1pbisiLCBidXQgZm91bmQgIit0KyIgZm9yICIrbiksdGhpcy52YWxpZGF0aW9uLm1heCYmdm9pZCAwIT09ZS5tYXgmJnQ+ZS5tYXgmJnRoaXMuZmFpbCgiTWF4UmFuZ2VFcnJvciIsIkV4cGVjdGVkICIrcisiIDw9ICIrZS5tYXgrIiwgYnV0IGZvdW5kICIrdCsiIGZvciAiK24pfSx2YWxpZGF0ZUVudW06ZnVuY3Rpb24oZSx0LG4pe3RoaXMudmFsaWRhdGlvbi5lbnVtJiZ2b2lkIDAhPT1lLmVudW0mJi0xPT09ZS5lbnVtLmluZGV4T2YodCkmJnRoaXMuZmFpbCgiRW51bUVycm9yIiwiRm91bmQgc3RyaW5nIHZhbHVlIG9mICIrdCsiLCBidXQgZXhwZWN0ZWQgIitlLmVudW0uam9pbigifCIpKyIgZm9yICIrbil9LHZhbGlkYXRlVHlwZTpmdW5jdGlvbihlLHQsbixpKXtpZihudWxsPT1lKXJldHVybiExO2Zvcih2YXIgYT0hMSxzPTA7czxuLmxlbmd0aDtzKyspe2lmKCJzdHJpbmciPT10eXBlb2YgbltzXSl7aWYobyhlKT09PW5bc10pcmV0dXJuITB9ZWxzZSBpZihuW3NdaW5zdGFuY2VvZiBSZWdFeHApe2lmKChlfHwiIikudG9TdHJpbmcoKS5tYXRjaChuW3NdKSlyZXR1cm4hMH1lbHNle2lmKGUgaW5zdGFuY2VvZiBuW3NdKXJldHVybiEwO2lmKHIudXRpbC5pc1R5cGUoZSxuW3NdKSlyZXR1cm4hMDtpfHxhfHwobj1uLnNsaWNlKCkpLG5bc109ci51dGlsLnR5cGVOYW1lKG5bc10pfWE9ITB9dmFyIGM9aTtjfHwoYz1uLmpvaW4oIiwgIikucmVwbGFjZSgvLChbXixdKykkLywiLCBvciQxIikpO3ZhciB1PWMubWF0Y2goL15bYWVpb3VdL2kpPyJuIjoiIjtyZXR1cm4gdGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEiK3UrIiAiK2MpLCExfSx2YWxpZGF0ZU51bWJlcjpmdW5jdGlvbihlLHQsbil7aWYobnVsbCE9dCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgcj1wYXJzZUZsb2F0KHQpO3IudG9TdHJpbmcoKT09PXQmJih0PXIpfXRoaXMudmFsaWRhdGVUeXBlKHQsbixbIm51bWJlciJdKSYmdGhpcy52YWxpZGF0ZVJhbmdlKGUsdCxuLCJudW1lcmljIHZhbHVlIil9fSx2YWxpZGF0ZVBheWxvYWQ6ZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lJiYic3RyaW5nIiE9dHlwZW9mIGUmJighZXx8Im51bWJlciIhPXR5cGVvZiBlLmJ5dGVMZW5ndGgpKXtpZihyLnV0aWwuaXNOb2RlKCkpe3ZhciBuPXIudXRpbC5zdHJlYW0uU3RyZWFtO2lmKHIudXRpbC5CdWZmZXIuaXNCdWZmZXIoZSl8fGUgaW5zdGFuY2VvZiBuKXJldHVybn1lbHNlIGlmKHZvaWQgMCE9PSgidW5kZWZpbmVkIj09dHlwZW9mIEJsb2I/InVuZGVmaW5lZCI6byhCbG9iKSkmJmUgaW5zdGFuY2VvZiBCbG9iKXJldHVybjt2YXIgaT1bIkJ1ZmZlciIsIlN0cmVhbSIsIkZpbGUiLCJCbG9iIiwiQXJyYXlCdWZmZXIiLCJEYXRhVmlldyJdO2lmKGUpZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe2lmKHIudXRpbC5pc1R5cGUoZSxpW2FdKSlyZXR1cm47aWYoci51dGlsLnR5cGVOYW1lKGUuY29uc3RydWN0b3IpPT09aVthXSlyZXR1cm59dGhpcy5mYWlsKCJJbnZhbGlkUGFyYW1ldGVyVHlwZSIsIkV4cGVjdGVkICIrdCsiIHRvIGJlIGEgc3RyaW5nLCBCdWZmZXIsIFN0cmVhbSwgQmxvYiwgb3IgdHlwZWQgYXJyYXkgb2JqZWN0Iil9fX0pfSx7Ii4vY29yZSI6MTl9XSw0NzpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL2NvcmUiKTt0LmV4cG9ydHM9e3BvcHVsYXRlSG9zdFByZWZpeDpmdW5jdGlvbihlKXtpZighZS5zZXJ2aWNlLmNvbmZpZy5ob3N0UHJlZml4RW5hYmxlZClyZXR1cm4gZTt2YXIgdCxuLGksYSxzLGM9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtpZihmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UuYXBpLG49dC5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxvPXQuZW5kcG9pbnRPcGVyYXRpb24mJnQuZW5kcG9pbnRPcGVyYXRpb249PT1yLnN0cmluZy5sb3dlckZpcnN0KG4ubmFtZSk7cmV0dXJuIk5VTEwiIT09bi5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkfHwhMD09PW99KGUpKXJldHVybiBlO2lmKGMuZW5kcG9pbnQmJmMuZW5kcG9pbnQuaG9zdFByZWZpeCl7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmVhY2gobi5tZW1iZXJzLChmdW5jdGlvbihuLG8pe2lmKCEwPT09by5ob3N0TGFiZWwpe2lmKCJzdHJpbmciIT10eXBlb2YgdFtuXXx8IiI9PT10W25dKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHttZXNzYWdlOiJQYXJhbWV0ZXIgIituKyIgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZy4iLGNvZGU6IkludmFsaWRQYXJhbWV0ZXIifSk7dmFyIGk9bmV3IFJlZ0V4cCgiXFx7IituKyJcXH0iLCJnIik7ZT1lLnJlcGxhY2UoaSx0W25dKX19KSksZX0oYy5lbmRwb2ludC5ob3N0UHJlZml4LGUucGFyYW1zLGMuaW5wdXQpO2E9ZS5odHRwUmVxdWVzdC5lbmRwb2ludCxzPXUsYS5ob3N0JiYoYS5ob3N0PXMrYS5ob3N0KSxhLmhvc3RuYW1lJiYoYS5ob3N0bmFtZT1zK2EuaG9zdG5hbWUpLHQ9ZS5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0bmFtZSxuPXQuc3BsaXQoIi4iKSxpPS9eW2EtekEtWjAtOV17MX0kfF5bYS16QS1aMC05XVthLXpBLVowLTlcLV0qW2EtekEtWjAtOV0kLyxyLmFycmF5RWFjaChuLChmdW5jdGlvbihlKXtpZighZS5sZW5ndGh8fGUubGVuZ3RoPDF8fGUubGVuZ3RoPjYzKXRocm93IHIuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6Ikhvc3RuYW1lIGxhYmVsIGxlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxIHRvIDYzIGNoYXJhY3RlcnMsIGluY2x1c2l2ZS4ifSk7aWYoIWkudGVzdChlKSl0aHJvdyBvLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJWYWxpZGF0aW9uRXJyb3IiLG1lc3NhZ2U6ZSsiIGlzIG5vdCBob3N0bmFtZSBjb21wYXRpYmxlLiJ9KX0pKX1yZXR1cm4gZX19fSx7Ii4uL2NvcmUiOjE5LCIuLi91dGlsIjo3NH1dLDQ4OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi4vanNvbi9idWlsZGVyIiksaT1lKCIuLi9qc29uL3BhcnNlciIpLGE9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlcXVlc3Qsbj1lLnNlcnZpY2UuYXBpLHI9bi50YXJnZXRQcmVmaXgrIi4iK24ub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0ubmFtZSxpPW4uanNvblZlcnNpb258fCIxLjAiLHM9bi5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXS5pbnB1dCxjPW5ldyBvOzE9PT1pJiYoaT0iMS4wIiksbi5hd3NRdWVyeUNvbXBhdGlibGUmJih0LnBhcmFtc3x8KHQucGFyYW1zPXt9KSxPYmplY3QuYXNzaWduKHQucGFyYW1zLGUucGFyYW1zKSksdC5ib2R5PWMuYnVpbGQoZS5wYXJhbXN8fHt9LHMpLHQuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtYW16LWpzb24tIitpLHQuaGVhZGVyc1siWC1BbXotVGFyZ2V0Il09cixhKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj1lLmh0dHBSZXNwb25zZTtpZih0LmNvZGU9bi5oZWFkZXJzWyJ4LWFtem4tZXJyb3J0eXBlIl18fCJVbmtub3duRXJyb3IiLCJzdHJpbmciPT10eXBlb2YgdC5jb2RlJiYodC5jb2RlPXQuY29kZS5zcGxpdCgiOiIpWzBdKSxuLmJvZHkubGVuZ3RoPjApdHJ5e3ZhciBvPUpTT04ucGFyc2Uobi5ib2R5LnRvU3RyaW5nKCkpLGk9by5fX3R5cGV8fG8uY29kZXx8by5Db2RlO2Zvcih2YXIgYSBpbiBpJiYodC5jb2RlPWkuc3BsaXQoIiMiKS5wb3AoKSksIlJlcXVlc3RFbnRpdHlUb29MYXJnZSI9PT10LmNvZGU/dC5tZXNzYWdlPSJSZXF1ZXN0IGJvZHkgbXVzdCBiZSBsZXNzIHRoYW4gMSBNQiI6dC5tZXNzYWdlPW8ubWVzc2FnZXx8by5NZXNzYWdlfHxudWxsLG98fHt9KSJjb2RlIiE9PWEmJiJtZXNzYWdlIiE9PWEmJih0WyJbIithKyJdIl09IlNlZSBlcnJvci4iK2ErIiBmb3IgZGV0YWlscy4iLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGEse3ZhbHVlOm9bYV0sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pKX1jYXRjaChvKXt0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c01lc3NhZ2V9ZWxzZSB0LnN0YXR1c0NvZGU9bi5zdGF0dXNDb2RlLHQubWVzc2FnZT1uLnN0YXR1c0NvZGUudG9TdHJpbmcoKTtlLmVycm9yPXIuZXJyb3IobmV3IEVycm9yLHQpfSxleHRyYWN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCl8fCJ7fSI7aWYoITE9PT1lLnJlcXVlc3Quc2VydmljZS5jb25maWcuY29udmVydFJlc3BvbnNlVHlwZXMpZS5kYXRhPUpTT04ucGFyc2UodCk7ZWxzZXt2YXIgbj1lLnJlcXVlc3Quc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLnJlcXVlc3Qub3BlcmF0aW9uXS5vdXRwdXR8fHt9LHI9bmV3IGk7ZS5kYXRhPXIucGFyc2UodCxuKX19fX0seyIuLi9qc29uL2J1aWxkZXIiOjM3LCIuLi9qc29uL3BhcnNlciI6MzgsIi4uL3V0aWwiOjc0LCIuL2hlbHBlcnMiOjQ3fV0sNDk6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1lKCIuLi91dGlsIiksaT1lKCIuLi9xdWVyeS9xdWVyeV9wYXJhbV9zZXJpYWxpemVyIiksYT1lKCIuLi9tb2RlbC9zaGFwZSIpLHM9ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj1lLmh0dHBSZXF1ZXN0O24uaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCIsbi5wYXJhbXM9e1ZlcnNpb246ZS5zZXJ2aWNlLmFwaS5hcGlWZXJzaW9uLEFjdGlvbjp0Lm5hbWV9LChuZXcgaSkuc2VyaWFsaXplKGUucGFyYW1zLHQuaW5wdXQsKGZ1bmN0aW9uKGUsdCl7bi5wYXJhbXNbZV09dH0pKSxuLmJvZHk9by5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxzKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCk7aWYobi5tYXRjaCgiPFVua25vd25PcGVyYXRpb25FeGNlcHRpb24iKSl0PXtDb2RlOiJVbmtub3duT3BlcmF0aW9uIixNZXNzYWdlOiJVbmtub3duIG9wZXJhdGlvbiAiK2UucmVxdWVzdC5vcGVyYXRpb259O2Vsc2UgdHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKG4pfWNhdGNoKG4pe3Q9e0NvZGU6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxNZXNzYWdlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2V9fXQucmVxdWVzdElkJiYhZS5yZXF1ZXN0SWQmJihlLnJlcXVlc3RJZD10LnJlcXVlc3RJZCksdC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fSxpPW47aWYoaS5yZXN1bHRXcmFwcGVyKXt2YXIgcz1hLmNyZWF0ZSh7dHlwZToic3RydWN0dXJlIn0pO3MubWVtYmVyc1tpLnJlc3VsdFdyYXBwZXJdPW4scy5tZW1iZXJOYW1lcz1baS5yZXN1bHRXcmFwcGVyXSxvLnByb3BlcnR5KG4sIm5hbWUiLG4ucmVzdWx0V3JhcHBlciksbj1zfXZhciBjPW5ldyByLlhNTC5QYXJzZXI7aWYobiYmbi5tZW1iZXJzJiYhbi5tZW1iZXJzLl9YQU1aUmVxdWVzdElkKXt2YXIgdT1hLmNyZWF0ZSh7dHlwZToic3RyaW5nIn0se2FwaTp7cHJvdG9jb2w6InF1ZXJ5In19LCJyZXF1ZXN0SWQiKTtuLm1lbWJlcnMuX1hBTVpSZXF1ZXN0SWQ9dX12YXIgbD1jLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSxuKTtlLnJlcXVlc3RJZD1sLl9YQU1aUmVxdWVzdElkfHxsLnJlcXVlc3RJZCxsLl9YQU1aUmVxdWVzdElkJiZkZWxldGUgbC5fWEFNWlJlcXVlc3RJZCxpLnJlc3VsdFdyYXBwZXImJmxbaS5yZXN1bHRXcmFwcGVyXSYmKG8udXBkYXRlKGwsbFtpLnJlc3VsdFdyYXBwZXJdKSxkZWxldGUgbFtpLnJlc3VsdFdyYXBwZXJdKSxlLmRhdGE9bH19fSx7Ii4uL2NvcmUiOjE5LCIuLi9tb2RlbC9zaGFwZSI6NDUsIi4uL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXIiOjUzLCIuLi91dGlsIjo3NCwiLi9oZWxwZXJzIjo0N31dLDUwOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi9oZWxwZXJzIikucG9wdWxhdGVIb3N0UHJlZml4O2Z1bmN0aW9uIGkoZSx0LG4sbyl7dmFyIGk9W2UsdF0uam9pbigiLyIpO2k9aS5yZXBsYWNlKC9cLysvZywiLyIpO3ZhciBhPXt9LHM9ITE7aWYoci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgbj1vW2VdO2lmKG51bGwhPW4paWYoInVyaSI9PT10LmxvY2F0aW9uKXt2YXIgYz1uZXcgUmVnRXhwKCJcXHsiK3QubmFtZSsiKFxcKyk/XFx9Iik7aT1pLnJlcGxhY2UoYywoZnVuY3Rpb24oZSx0KXtyZXR1cm4odD9yLnVyaUVzY2FwZVBhdGg6ci51cmlFc2NhcGUpKFN0cmluZyhuKSl9KSl9ZWxzZSJxdWVyeXN0cmluZyI9PT10LmxvY2F0aW9uJiYocz0hMCwibGlzdCI9PT10LnR5cGU/YVt0Lm5hbWVdPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci51cmlFc2NhcGUodC5tZW1iZXIudG9XaXJlRm9ybWF0KGUpLnRvU3RyaW5nKCkpfSkpOiJtYXAiPT09dC50eXBlP3IuZWFjaChuLChmdW5jdGlvbihlLHQpe0FycmF5LmlzQXJyYXkodCk/YVtlXT10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIudXJpRXNjYXBlKFN0cmluZyhlKSl9KSk6YVtlXT1yLnVyaUVzY2FwZShTdHJpbmcodCkpfSkpOmFbdC5uYW1lXT1yLnVyaUVzY2FwZSh0LnRvV2lyZUZvcm1hdChuKS50b1N0cmluZygpKSl9KSkscyl7aSs9aS5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt2YXIgYz1bXTtyLmFycmF5RWFjaChPYmplY3Qua2V5cyhhKS5zb3J0KCksKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoYVtlXSl8fChhW2VdPVthW2VdXSk7Zm9yKHZhciB0PTA7dDxhW2VdLmxlbmd0aDt0KyspYy5wdXNoKHIudXJpRXNjYXBlKFN0cmluZyhlKSkrIj0iK2FbZV1bdF0pfSkpLGkrPWMuam9pbigiJiIpfXJldHVybiBpfXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLmh0dHBSZXF1ZXN0Lm1ldGhvZD1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmh0dHBNZXRob2R9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj10LmlucHV0LHI9aShlLmh0dHBSZXF1ZXN0LmVuZHBvaW50LnBhdGgsdC5odHRwUGF0aCxuLGUucGFyYW1zKTtlLmh0dHBSZXF1ZXN0LnBhdGg9cn0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXTtyLmVhY2godC5pbnB1dC5tZW1iZXJzLChmdW5jdGlvbih0LG4pe3ZhciBvPWUucGFyYW1zW3RdO251bGwhPW8mJigiaGVhZGVycyI9PT1uLmxvY2F0aW9uJiYibWFwIj09PW4udHlwZT9yLmVhY2gobywoZnVuY3Rpb24odCxyKXtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbbi5uYW1lK3RdPXJ9KSk6ImhlYWRlciI9PT1uLmxvY2F0aW9uJiYobz1uLnRvV2lyZUZvcm1hdChvKS50b1N0cmluZygpLG4uaXNKc29uVmFsdWUmJihvPXIuYmFzZTY0LmVuY29kZShvKSksZS5odHRwUmVxdWVzdC5oZWFkZXJzW24ubmFtZV09bykpfSkpfShlKSxvKGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oKXt9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt9LG89ZS5odHRwUmVzcG9uc2UsaT10LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbdC5vcGVyYXRpb25dLm91dHB1dCxhPXt9O3IuZWFjaChvLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7YVtlLnRvTG93ZXJDYXNlKCldPXR9KSksci5lYWNoKGkubWVtYmVycywoZnVuY3Rpb24oZSx0KXt2YXIgaT0odC5uYW1lfHxlKS50b0xvd2VyQ2FzZSgpO2lmKCJoZWFkZXJzIj09PXQubG9jYXRpb24mJiJtYXAiPT09dC50eXBlKXtuW2VdPXt9O3ZhciBzPXQuaXNMb2NhdGlvbk5hbWU/dC5uYW1lOiIiLGM9bmV3IFJlZ0V4cCgiXiIrcysiKC4rKSIsImkiKTtyLmVhY2goby5oZWFkZXJzLChmdW5jdGlvbih0LHIpe3ZhciBvPXQubWF0Y2goYyk7bnVsbCE9PW8mJihuW2VdW29bMV1dPXIpfSkpfWVsc2UgaWYoImhlYWRlciI9PT10LmxvY2F0aW9uKXtpZih2b2lkIDAhPT1hW2ldKXt2YXIgdT10LmlzSnNvblZhbHVlP3IuYmFzZTY0LmRlY29kZShhW2ldKTphW2ldO25bZV09dC50b1R5cGUodSl9fWVsc2Uic3RhdHVzQ29kZSI9PT10LmxvY2F0aW9uJiYobltlXT1wYXJzZUludChvLnN0YXR1c0NvZGUsMTApKX0pKSxlLmRhdGE9bn0sZ2VuZXJhdGVVUkk6aX19LHsiLi4vdXRpbCI6NzQsIi4vaGVscGVycyI6NDd9XSw1MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4vcmVzdCIpLGk9ZSgiLi9qc29uIiksYT1lKCIuLi9qc29uL2J1aWxkZXIiKSxzPWUoIi4uL2pzb24vcGFyc2VyIiksYz1bIkdFVCIsIkhFQUQiLCJERUxFVEUiXTtmdW5jdGlvbiB1KGUsdCl7aWYoIWUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl0pe3ZhciBuPXQ/ImJpbmFyeS9vY3RldC1zdHJlYW0iOiJhcHBsaWNhdGlvbi9qc29uIjtlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPW59fXQuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe28uYnVpbGRSZXF1ZXN0KGUpLGMuaW5kZXhPZihlLmh0dHBSZXF1ZXN0Lm1ldGhvZCk8MCYmZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEsbj1lLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbZS5vcGVyYXRpb25dLmlucHV0O2lmKG4ucGF5bG9hZCl7dmFyIHIsbz1uLm1lbWJlcnNbbi5wYXlsb2FkXTtyPWUucGFyYW1zW24ucGF5bG9hZF0sInN0cnVjdHVyZSI9PT1vLnR5cGU/KGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKHJ8fHt9LG8pLHUoZSkpOnZvaWQgMCE9PXImJihlLmh0dHBSZXF1ZXN0LmJvZHk9ciwoImJpbmFyeSI9PT1vLnR5cGV8fG8uaXNTdHJlYW1pbmcpJiZ1KGUsITApKX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT10LmJ1aWxkKGUucGFyYW1zLG4pLHUoZSl9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7aS5leHRyYWN0RXJyb3IoZSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe28uZXh0cmFjdERhdGEoZSk7dmFyIHQ9ZS5yZXF1ZXN0LG49dC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3Qub3BlcmF0aW9uXSxhPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1t0Lm9wZXJhdGlvbl0ub3V0cHV0fHx7fTtpZihuLmhhc0V2ZW50T3V0cHV0LGEucGF5bG9hZCl7dmFyIGM9YS5tZW1iZXJzW2EucGF5bG9hZF0sdT1lLmh0dHBSZXNwb25zZS5ib2R5O2lmKGMuaXNFdmVudFN0cmVhbSlsPW5ldyBzLGUuZGF0YVtwYXlsb2FkXT1yLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1BV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbj9lLmh0dHBSZXNwb25zZS5zdHJlYW06dSxsLGMpO2Vsc2UgaWYoInN0cnVjdHVyZSI9PT1jLnR5cGV8fCJsaXN0Ij09PWMudHlwZSl7dmFyIGw9bmV3IHM7ZS5kYXRhW2EucGF5bG9hZF09bC5wYXJzZSh1LGMpfWVsc2UiYmluYXJ5Ij09PWMudHlwZXx8Yy5pc1N0cmVhbWluZz9lLmRhdGFbYS5wYXlsb2FkXT11OmUuZGF0YVthLnBheWxvYWRdPWMudG9UeXBlKHUpfWVsc2V7dmFyIHA9ZS5kYXRhO2kuZXh0cmFjdERhdGEoZSksZS5kYXRhPXIubWVyZ2UocCxlLmRhdGEpfX0sdW5zZXRDb250ZW50TGVuZ3RoOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PXIuZ2V0UmVxdWVzdFBheWxvYWRTaGFwZShlKSYmYy5pbmRleE9mKGUuaHR0cFJlcXVlc3QubWV0aG9kKT49MCYmZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1MZW5ndGgiXX19fSx7Ii4uL2pzb24vYnVpbGRlciI6MzcsIi4uL2pzb24vcGFyc2VyIjozOCwiLi4vdXRpbCI6NzQsIi4vanNvbiI6NDgsIi4vcmVzdCI6NTB9XSw1MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4uL3V0aWwiKSxpPWUoIi4vcmVzdCIpO3QuZXhwb3J0cz17YnVpbGRSZXF1ZXN0OmZ1bmN0aW9uKGUpe2kuYnVpbGRSZXF1ZXN0KGUpLFsiR0VUIiwiSEVBRCJdLmluZGV4T2YoZS5odHRwUmVxdWVzdC5tZXRob2QpPDAmJmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0uaW5wdXQsbj1uZXcgci5YTUwuQnVpbGRlcixpPWUucGFyYW1zLGE9dC5wYXlsb2FkO2lmKGEpe3ZhciBzPXQubWVtYmVyc1thXTtpZih2b2lkIDA9PT0oaT1pW2FdKSlyZXR1cm47aWYoInN0cnVjdHVyZSI9PT1zLnR5cGUpe3ZhciBjPXMubmFtZTtlLmh0dHBSZXF1ZXN0LmJvZHk9bi50b1hNTChpLHMsYywhMCl9ZWxzZSBlLmh0dHBSZXF1ZXN0LmJvZHk9aX1lbHNlIGUuaHR0cFJlcXVlc3QuYm9keT1uLnRvWE1MKGksdCx0Lm5hbWV8fHQuc2hhcGV8fG8uc3RyaW5nLnVwcGVyRmlyc3QoZS5vcGVyYXRpb24pKyJSZXF1ZXN0Iil9KGUpfSxleHRyYWN0RXJyb3I6ZnVuY3Rpb24oZSl7dmFyIHQ7aS5leHRyYWN0RXJyb3IoZSk7dHJ5e3Q9KG5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGUuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSl9Y2F0Y2gobil7dD17Q29kZTplLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLE1lc3NhZ2U6ZS5odHRwUmVzcG9uc2Uuc3RhdHVzTWVzc2FnZX19dC5FcnJvcnMmJih0PXQuRXJyb3JzKSx0LkVycm9yJiYodD10LkVycm9yKSx0LkNvZGU/ZS5lcnJvcj1vLmVycm9yKG5ldyBFcnJvcix7Y29kZTp0LkNvZGUsbWVzc2FnZTp0Lk1lc3NhZ2V9KTplLmVycm9yPW8uZXJyb3IobmV3IEVycm9yLHtjb2RlOmUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsbWVzc2FnZTpudWxsfSl9LGV4dHJhY3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0O2kuZXh0cmFjdERhdGEoZSk7dmFyIG49ZS5yZXF1ZXN0LGE9ZS5odHRwUmVzcG9uc2UuYm9keSxzPW4uc2VydmljZS5hcGkub3BlcmF0aW9uc1tuLm9wZXJhdGlvbl0sYz1zLm91dHB1dCx1PShzLmhhc0V2ZW50T3V0cHV0LGMucGF5bG9hZCk7aWYodSl7dmFyIGw9Yy5tZW1iZXJzW3VdO2wuaXNFdmVudFN0cmVhbT8odD1uZXcgci5YTUwuUGFyc2VyLGUuZGF0YVt1XT1vLmNyZWF0ZUV2ZW50U3RyZWFtKDI9PT1yLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/ZS5odHRwUmVzcG9uc2Uuc3RyZWFtOmUuaHR0cFJlc3BvbnNlLmJvZHksdCxsKSk6InN0cnVjdHVyZSI9PT1sLnR5cGU/KHQ9bmV3IHIuWE1MLlBhcnNlcixlLmRhdGFbdV09dC5wYXJzZShhLnRvU3RyaW5nKCksbCkpOiJiaW5hcnkiPT09bC50eXBlfHxsLmlzU3RyZWFtaW5nP2UuZGF0YVt1XT1hOmUuZGF0YVt1XT1sLnRvVHlwZShhKX1lbHNlIGlmKGEubGVuZ3RoPjApe3ZhciBwPSh0PW5ldyByLlhNTC5QYXJzZXIpLnBhcnNlKGEudG9TdHJpbmcoKSxjKTtvLnVwZGF0ZShlLmRhdGEscCl9fX19LHsiLi4vY29yZSI6MTksIi4uL3V0aWwiOjc0LCIuL3Jlc3QiOjUwfV0sNTM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi91dGlsIik7ZnVuY3Rpb24gbygpe31mdW5jdGlvbiBpKGUpe3JldHVybiBlLmlzUXVlcnlOYW1lfHwiZWMyIiE9PWUuYXBpLnByb3RvY29sP2UubmFtZTplLm5hbWVbMF0udG9VcHBlckNhc2UoKStlLm5hbWUuc3Vic3RyKDEpfWZ1bmN0aW9uIGEoZSx0LG4sbyl7ci5lYWNoKG4ubWVtYmVycywoZnVuY3Rpb24obixyKXt2YXIgYT10W25dO2lmKG51bGwhPWEpe3ZhciBjPWkocik7cyhjPWU/ZSsiLiIrYzpjLGEscixvKX19KSl9ZnVuY3Rpb24gcyhlLHQsbixvKXtudWxsIT10JiYoInN0cnVjdHVyZSI9PT1uLnR5cGU/YShlLHQsbixvKToibGlzdCI9PT1uLnR5cGU/ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIGE9bi5tZW1iZXJ8fHt9OzAhPT10Lmxlbmd0aD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPSIuIisocisxKTtpZigiZWMyIj09PW4uYXBpLnByb3RvY29sKWMrPSIiO2Vsc2UgaWYobi5mbGF0dGVuZWQpe2lmKGEubmFtZSl7dmFyIHU9ZS5zcGxpdCgiLiIpO3UucG9wKCksdS5wdXNoKGkoYSkpLGU9dS5qb2luKCIuIil9fWVsc2UgYz0iLiIrKGEubmFtZT9hLm5hbWU6Im1lbWJlciIpK2M7cyhlK2MsdCxhLG8pfSkpOm8uY2FsbCh0aGlzLGUsbnVsbCl9KGUsdCxuLG8pOiJtYXAiPT09bi50eXBlP2Z1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPTE7ci5lYWNoKHQsKGZ1bmN0aW9uKHQscil7dmFyIGE9KG4uZmxhdHRlbmVkPyIuIjoiLmVudHJ5LiIpK2krKysiLiIsYz1hKyhuLmtleS5uYW1lfHwia2V5IiksdT1hKyhuLnZhbHVlLm5hbWV8fCJ2YWx1ZSIpO3MoZStjLHQsbi5rZXksbykscyhlK3UscixuLnZhbHVlLG8pfSkpfShlLHQsbixvKTpvKGUsbi50b1dpcmVGb3JtYXQodCkudG9TdHJpbmcoKSkpfW8ucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbihlLHQsbil7YSgiIixlLHQsbil9LHQuZXhwb3J0cz1vfSx7Ii4uL3V0aWwiOjc0fV0sNTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e25vdzpmdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgcGVyZm9ybWFuY2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19fSx7fV0sNTU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2lzRmlwc1JlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlLnN0YXJ0c1dpdGgoImZpcHMtIil8fGUuZW5kc1dpdGgoIi1maXBzIikpfSxpc0dsb2JhbFJlZ2lvbjpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJlsiYXdzLWdsb2JhbCIsImF3cy11cy1nb3YtZ2xvYmFsIl0uaW5jbHVkZXMoZSl9LGdldFJlYWxSZWdpb246ZnVuY3Rpb24oZSl7cmV0dXJuWyJmaXBzLWF3cy1nbG9iYWwiLCJhd3MtZmlwcyIsImF3cy1nbG9iYWwiXS5pbmNsdWRlcyhlKT8idXMtZWFzdC0xIjpbImZpcHMtYXdzLXVzLWdvdi1nbG9iYWwiLCJhd3MtdXMtZ292LWdsb2JhbCJdLmluY2x1ZGVzKGUpPyJ1cy1nb3Ytd2VzdC0xIjplLnJlcGxhY2UoL2ZpcHMtKGRrci18cHJvZC0pP3wtZmlwcy8sIiIpfX19LHt9XSw1NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vdXRpbCIpLG89ZSgiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiIpO2Z1bmN0aW9uIGkoZSx0KXtyLmVhY2godCwoZnVuY3Rpb24odCxuKXsiZ2xvYmFsRW5kcG9pbnQiIT09dCYmKHZvaWQgMCE9PWUuY29uZmlnW3RdJiZudWxsIT09ZS5jb25maWdbdF18fChlLmNvbmZpZ1t0XT1uKSl9KSl9dC5leHBvcnRzPXtjb25maWd1cmVFbmRwb2ludDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb25maWcucmVnaW9uLG49ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5zcGxpdCgiLSIpO3JldHVybiB0Lmxlbmd0aDwzP251bGw6dC5zbGljZSgwLHQubGVuZ3RoLTIpLmpvaW4oIi0iKSsiLSoifSh0KSxyPWUuYXBpLmVuZHBvaW50UHJlZml4O3JldHVybltbdCxyXSxbbixyXSxbdCwiKiJdLFtuLCIqIl0sWyIqIixyXSxbdCwiaW50ZXJuYWwtKiJdLFsiKiIsIioiXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSYmZVsxXT9lLmpvaW4oIi8iKTpudWxsfSkpfShlKSxuPWUuY29uZmlnLnVzZUZpcHNFbmRwb2ludCxyPWUuY29uZmlnLnVzZUR1YWxzdGFja0VuZHBvaW50LGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIHM9dFthXTtpZihzKXt2YXIgYz1uP3I/by5kdWFsc3RhY2tGaXBzUnVsZXM6by5maXBzUnVsZXM6cj9vLmR1YWxzdGFja1J1bGVzOm8ucnVsZXM7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMscykpe3ZhciB1PWNbc107InN0cmluZyI9PXR5cGVvZiB1JiYodT1vLnBhdHRlcm5zW3VdKSxlLmlzR2xvYmFsRW5kcG9pbnQ9ISF1Lmdsb2JhbEVuZHBvaW50LHUuc2lnbmluZ1JlZ2lvbiYmKGUuc2lnbmluZ1JlZ2lvbj11LnNpZ25pbmdSZWdpb24pLHUuc2lnbmF0dXJlVmVyc2lvbnx8KHUuc2lnbmF0dXJlVmVyc2lvbj0idjQiKTt2YXIgbD0iYmVhcmVyIj09PShlLmFwaSYmZS5hcGkuc2lnbmF0dXJlVmVyc2lvbik7cmV0dXJuIHZvaWQgaShlLE9iamVjdC5hc3NpZ24oe30sdSx7c2lnbmF0dXJlVmVyc2lvbjpsPyJiZWFyZXIiOnUuc2lnbmF0dXJlVmVyc2lvbn0pKX19fX0sZ2V0RW5kcG9pbnRTdWZmaXg6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXsiXih1c3xldXxhcHxzYXxjYXxtZSlcXC1cXHcrXFwtXFxkKyQiOiJhbWF6b25hd3MuY29tIiwiXmNuXFwtXFx3K1xcLVxcZCskIjoiYW1hem9uYXdzLmNvbS5jbiIsIl51c1xcLWdvdlxcLVxcdytcXC1cXGQrJCI6ImFtYXpvbmF3cy5jb20iLCJedXNcXC1pc29cXC1cXHcrXFwtXFxkKyQiOiJjMnMuaWMuZ292IiwiXnVzXFwtaXNvYlxcLVxcdytcXC1cXGQrJCI6InNjMnMuc2dvdi5nb3YifSxuPU9iamVjdC5rZXlzKHQpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89UmVnRXhwKG5bcl0pLGk9dFtuW3JdXTtpZihvLnRlc3QoZSkpcmV0dXJuIGl9cmV0dXJuImFtYXpvbmF3cy5jb20ifX19LHsiLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbiI6NTcsIi4vdXRpbCI6NzR9XSw1NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17cnVsZXM6eyIqLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sInVzLWlzby0qLyoiOiJ1c0lzbyIsInVzLWlzb2ItKi8qIjoidXNJc29iIiwiKi9idWRnZXRzIjoiZ2xvYmFsU1NMIiwiKi9jbG91ZGZyb250IjoiZ2xvYmFsU1NMIiwiKi9zdHMiOiJnbG9iYWxTU0wiLCIqL2ltcG9ydGV4cG9ydCI6e2VuZHBvaW50OiJ7c2VydmljZX0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoidjIiLGdsb2JhbEVuZHBvaW50OiEwfSwiKi9yb3V0ZTUzIjoiZ2xvYmFsU1NMIiwiY24tKi9yb3V0ZTUzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tLmNuIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJjbi1ub3J0aHdlc3QtMSJ9LCJ1cy1nb3YtKi9yb3V0ZTUzIjoiZ2xvYmFsR292Q2xvdWQiLCJ1cy1pc28tKi9yb3V0ZTUzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5jMnMuaWMuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc28tZWFzdC0xIn0sInVzLWlzb2ItKi9yb3V0ZTUzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5zYzJzLnNnb3YuZ292IixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1pc29iLWVhc3QtMSJ9LCIqL3dhZiI6Imdsb2JhbFNTTCIsIiovaWFtIjoiZ2xvYmFsU1NMIiwiY24tKi9pYW0iOntlbmRwb2ludDoie3NlcnZpY2V9LmNuLW5vcnRoLTEuYW1hem9uYXdzLmNvbS5jbiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoiY24tbm9ydGgtMSJ9LCJ1cy1pc28tKi9pYW0iOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWlzby1lYXN0LTEuYzJzLmljLmdvdiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtaXNvLWVhc3QtMSJ9LCJ1cy1nb3YtKi9pYW0iOiJnbG9iYWxHb3ZDbG91ZCIsIiovY2UiOntlbmRwb2ludDoie3NlcnZpY2V9LnVzLWVhc3QtMS5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1lYXN0LTEifSwiY24tKi9jZSI6e2VuZHBvaW50OiJ7c2VydmljZX0uY24tbm9ydGh3ZXN0LTEuYW1hem9uYXdzLmNvbS5jbiIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoiY24tbm9ydGh3ZXN0LTEifSwidXMtZ292LSovc3RzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sInVzLWdvdi13ZXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsInVzLXdlc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtd2VzdC0yL3MzIjoiczNzaWduYXR1cmUiLCJldS13ZXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsImFwLXNvdXRoZWFzdC0xL3MzIjoiczNzaWduYXR1cmUiLCJhcC1zb3V0aGVhc3QtMi9zMyI6InMzc2lnbmF0dXJlIiwiYXAtbm9ydGhlYXN0LTEvczMiOiJzM3NpZ25hdHVyZSIsInNhLWVhc3QtMS9zMyI6InMzc2lnbmF0dXJlIiwidXMtZWFzdC0xL3MzIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJzMyJ9LCJ1cy1lYXN0LTEvc2RiIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixzaWduYXR1cmVWZXJzaW9uOiJ2MiJ9LCIqL3NkYiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSIsc2lnbmF0dXJlVmVyc2lvbjoidjIifSwiKi9yZXNvdXJjZS1leHBsb3Jlci0yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9rZW5kcmEtcmFua2luZyI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovaW50ZXJuZXRtb25pdG9yIjoiZHVhbHN0YWNrQnlEZWZhdWx0IiwiKi9jb2RlY2F0YWx5c3QiOiJnbG9iYWxEdWFsc3RhY2tCeURlZmF1bHQifSxmaXBzUnVsZXM6eyIqLyoiOiJmaXBzU3RhbmRhcmQiLCJ1cy1nb3YtKi8qIjoiZmlwc1N0YW5kYXJkIiwidXMtaXNvLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5jMnMuaWMuZ292In0sInVzLWlzby0qL2RtcyI6InVzSXNvIiwidXMtaXNvYi0qLyoiOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uc2Mycy5zZ292LmdvdiJ9LCJ1cy1pc29iLSovZG1zIjoidXNJc29iIiwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFtYXpvbmF3cy5jb20uY24ifSwiKi9hcGkuZWNyIjoiZmlwcy5hcGkuZWNyIiwiKi9hcGkuc2FnZW1ha2VyIjoiZmlwcy5hcGkuc2FnZW1ha2VyIiwiKi9iYXRjaCI6ImZpcHNEb3RQcmVmaXgiLCIqL2VrcyI6ImZpcHNEb3RQcmVmaXgiLCIqL21vZGVscy5sZXgiOiJmaXBzLm1vZGVscy5sZXgiLCIqL3J1bnRpbWUubGV4IjoiZmlwcy5ydW50aW1lLmxleCIsIiovcnVudGltZS5zYWdlbWFrZXIiOntlbmRwb2ludDoicnVudGltZS1maXBzLnNhZ2VtYWtlci57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sIiovaWFtIjoiZmlwc1dpdGhvdXRSZWdpb24iLCIqL3JvdXRlNTMiOiJmaXBzV2l0aG91dFJlZ2lvbiIsIiovdHJhbnNjcmliZSI6ImZpcHNEb3RQcmVmaXgiLCIqL3dhZiI6ImZpcHNXaXRob3V0UmVnaW9uIiwidXMtZ292LSovdHJhbnNjcmliZSI6ImZpcHNEb3RQcmVmaXgiLCJ1cy1nb3YtKi9hcGkuZWNyIjoiZmlwcy5hcGkuZWNyIiwidXMtZ292LSovYXBpLnNhZ2VtYWtlciI6ImZpcHMuYXBpLnNhZ2VtYWtlciIsInVzLWdvdi0qL21vZGVscy5sZXgiOiJmaXBzLm1vZGVscy5sZXgiLCJ1cy1nb3YtKi9ydW50aW1lLmxleCI6ImZpcHMucnVudGltZS5sZXgiLCJ1cy1nb3YtKi9hY20tcGNhIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2JhdGNoIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2Nsb3VkZm9ybWF0aW9uIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2NvbmZpZyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9la3MiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovZWxhc3RpY21hcHJlZHVjZSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9pZGVudGl0eXN0b3JlIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2R5bmFtb2RiIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2VsYXN0aWNsb2FkYmFsYW5jaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL2d1YXJkZHV0eSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9tb25pdG9yaW5nIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3Jlc291cmNlLWdyb3VwcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9ydW50aW1lLnNhZ2VtYWtlciI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlY2F0YWxvZy1hcHByZWdpc3RyeSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zZXJ2aWNlcXVvdGFzIjoiZmlwc1dpdGhTZXJ2aWNlT25seSIsInVzLWdvdi0qL3NzbSI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3YtKi9zdHMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LSovc3VwcG9ydCI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1nb3Ytd2VzdC0xL3N0YXRlcyI6ImZpcHNXaXRoU2VydmljZU9ubHkiLCJ1cy1pc28tZWFzdC0xL2VsYXN0aWNmaWxlc3lzdGVtIjp7ZW5kcG9pbnQ6ImVsYXN0aWNmaWxlc3lzdGVtLWZpcHMue3JlZ2lvbn0uYzJzLmljLmdvdiJ9LCJ1cy1nb3Ytd2VzdC0xL29yZ2FuaXphdGlvbnMiOiJmaXBzV2l0aFNlcnZpY2VPbmx5IiwidXMtZ292LXdlc3QtMS9yb3V0ZTUzIjp7ZW5kcG9pbnQ6InJvdXRlNTMudXMtZ292LmFtYXpvbmF3cy5jb20ifSwiKi9yZXNvdXJjZS1leHBsb3Jlci0yIjoiZmlwc0R1YWxzdGFja0J5RGVmYXVsdCIsIiova2VuZHJhLXJhbmtpbmciOiJkdWFsc3RhY2tCeURlZmF1bHQiLCIqL2ludGVybmV0bW9uaXRvciI6ImR1YWxzdGFja0J5RGVmYXVsdCIsIiovY29kZWNhdGFseXN0IjoiZmlwc0dsb2JhbER1YWxzdGFja0J5RGVmYXVsdCJ9LGR1YWxzdGFja1J1bGVzOnsiKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5hcGkuYXdzIn0sImNuLSovKiI6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYXBpLmFtYXpvbndlYnNlcnZpY2VzLmNvbS5jbiJ9LCIqL3MzIjoiZHVhbHN0YWNrTGVnYWN5IiwiY24tKi9zMyI6ImR1YWxzdGFja0xlZ2FjeUNuIiwiKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrTGVnYWN5IiwiY24tKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrTGVnYWN5Q24iLCJhcC1zb3V0aC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsImV1LXdlc3QtMS9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJzYS1lYXN0LTEvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIiwidXMtZWFzdC0xL2VjMiI6ImR1YWxzdGFja0xlZ2FjeUVjMiIsInVzLWVhc3QtMi9lYzIiOiJkdWFsc3RhY2tMZWdhY3lFYzIiLCJ1cy13ZXN0LTIvZWMyIjoiZHVhbHN0YWNrTGVnYWN5RWMyIn0sZHVhbHN0YWNrRmlwc1J1bGVzOnsiKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hd3MifSwiY24tKi8qIjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLntyZWdpb259LmFwaS5hbWF6b253ZWJzZXJ2aWNlcy5jb20uY24ifSwiKi9zMyI6ImR1YWxzdGFja0ZpcHNMZWdhY3kiLCJjbi0qL3MzIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeUNuIiwiKi9zMy1jb250cm9sIjoiZHVhbHN0YWNrRmlwc0xlZ2FjeSIsImNuLSovczMtY29udHJvbCI6ImR1YWxzdGFja0ZpcHNMZWdhY3lDbiJ9LHBhdHRlcm5zOntnbG9iYWxTU0w6e2VuZHBvaW50OiJodHRwczovL3tzZXJ2aWNlfS5hbWF6b25hd3MuY29tIixnbG9iYWxFbmRwb2ludDohMCxzaWduaW5nUmVnaW9uOiJ1cy1lYXN0LTEifSxnbG9iYWxHb3ZDbG91ZDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS51cy1nb3YuYW1hem9uYXdzLmNvbSIsZ2xvYmFsRW5kcG9pbnQ6ITAsc2lnbmluZ1JlZ2lvbjoidXMtZ292LXdlc3QtMSJ9LHMzc2lnbmF0dXJlOntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20iLHNpZ25hdHVyZVZlcnNpb246InMzIn0sdXNJc286e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYzJzLmljLmdvdiJ9LHVzSXNvYjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS57cmVnaW9ufS5zYzJzLnNnb3YuZ292In0sZmlwc1N0YW5kYXJkOntlbmRwb2ludDoie3NlcnZpY2V9LWZpcHMue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGZpcHNEb3RQcmVmaXg6e2VuZHBvaW50OiJmaXBzLntzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sZmlwc1dpdGhvdXRSZWdpb246e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy5hbWF6b25hd3MuY29tIn0sImZpcHMuYXBpLmVjciI6e2VuZHBvaW50OiJlY3ItZmlwcy57cmVnaW9ufS5hbWF6b25hd3MuY29tIn0sImZpcHMuYXBpLnNhZ2VtYWtlciI6e2VuZHBvaW50OiJhcGktZmlwcy5zYWdlbWFrZXIue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LCJmaXBzLm1vZGVscy5sZXgiOntlbmRwb2ludDoibW9kZWxzLWZpcHMubGV4LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSwiZmlwcy5ydW50aW1lLmxleCI6e2VuZHBvaW50OiJydW50aW1lLWZpcHMubGV4LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxmaXBzV2l0aFNlcnZpY2VPbmx5OntlbmRwb2ludDoie3NlcnZpY2V9LntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxkdWFsc3RhY2tMZWdhY3k6e2VuZHBvaW50OiJ7c2VydmljZX0uZHVhbHN0YWNrLntyZWdpb259LmFtYXpvbmF3cy5jb20ifSxkdWFsc3RhY2tMZWdhY3lDbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbS5jbiJ9LGR1YWxzdGFja0ZpcHNMZWdhY3k6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy5kdWFsc3RhY2sue3JlZ2lvbn0uYW1hem9uYXdzLmNvbSJ9LGR1YWxzdGFja0ZpcHNMZWdhY3lDbjp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmR1YWxzdGFjay57cmVnaW9ufS5hbWF6b25hd3MuY29tLmNuIn0sZHVhbHN0YWNrTGVnYWN5RWMyOntlbmRwb2ludDoiYXBpLmVjMi57cmVnaW9ufS5hd3MifSxkdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0ue3JlZ2lvbn0uYXBpLmF3cyJ9LGZpcHNEdWFsc3RhY2tCeURlZmF1bHQ6e2VuZHBvaW50OiJ7c2VydmljZX0tZmlwcy57cmVnaW9ufS5hcGkuYXdzIn0sZ2xvYmFsRHVhbHN0YWNrQnlEZWZhdWx0OntlbmRwb2ludDoie3NlcnZpY2V9Lmdsb2JhbC5hcGkuYXdzIn0sZmlwc0dsb2JhbER1YWxzdGFja0J5RGVmYXVsdDp7ZW5kcG9pbnQ6IntzZXJ2aWNlfS1maXBzLmdsb2JhbC5hcGkuYXdzIn19fX0se31dLDU4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciBuPWUoIi4vY29yZSIpLHI9ZSgiLi9zdGF0ZV9tYWNoaW5lIiksbz1uLnV0aWwuaW5oZXJpdCxpPW4udXRpbC5kb21haW4sYT1lKCJqbWVzcGF0aCIpLHM9e3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9LGM9bmV3IHI7Yy5zZXR1cFN0YXRlcz1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztuLl9oYWx0SGFuZGxlcnNPbkVycm9yPSExLG4uZW1pdChuLl9hc20uY3VycmVudFN0YXRlLChmdW5jdGlvbihlKXtpZihlKWlmKHI9bixPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxyLl9hc20uY3VycmVudFN0YXRlKSl7aWYoIShpJiZuLmRvbWFpbiBpbnN0YW5jZW9mIGkuRG9tYWluKSl0aHJvdyBlO2UuZG9tYWluRW1pdHRlcj1uLGUuZG9tYWluPW4uZG9tYWluLGUuZG9tYWluVGhyb3duPSExLG4uZG9tYWluLmVtaXQoImVycm9yIixlKX1lbHNlIG4ucmVzcG9uc2UuZXJyb3I9ZSx0KGUpO2Vsc2UgdChuLnJlc3BvbnNlLmVycm9yKTt2YXIgcn0pKX07dGhpcy5hZGRTdGF0ZSgidmFsaWRhdGUiLCJidWlsZCIsImVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJidWlsZCIsImFmdGVyQnVpbGQiLCJyZXN0YXJ0IixlKSx0aGlzLmFkZFN0YXRlKCJhZnRlckJ1aWxkIiwic2lnbiIsInJlc3RhcnQiLGUpLHRoaXMuYWRkU3RhdGUoInNpZ24iLCJzZW5kIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoInJldHJ5IiwiYWZ0ZXJSZXRyeSIsImFmdGVyUmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoImFmdGVyUmV0cnkiLCJzaWduIiwiZXJyb3IiLGUpLHRoaXMuYWRkU3RhdGUoInNlbmQiLCJ2YWxpZGF0ZVJlc3BvbnNlIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoInZhbGlkYXRlUmVzcG9uc2UiLCJleHRyYWN0RGF0YSIsImV4dHJhY3RFcnJvciIsZSksdGhpcy5hZGRTdGF0ZSgiZXh0cmFjdEVycm9yIiwiZXh0cmFjdERhdGEiLCJyZXRyeSIsZSksdGhpcy5hZGRTdGF0ZSgiZXh0cmFjdERhdGEiLCJzdWNjZXNzIiwicmV0cnkiLGUpLHRoaXMuYWRkU3RhdGUoInJlc3RhcnQiLCJidWlsZCIsImVycm9yIixlKSx0aGlzLmFkZFN0YXRlKCJzdWNjZXNzIiwiY29tcGxldGUiLCJjb21wbGV0ZSIsZSksdGhpcy5hZGRTdGF0ZSgiZXJyb3IiLCJjb21wbGV0ZSIsImNvbXBsZXRlIixlKSx0aGlzLmFkZFN0YXRlKCJjb21wbGV0ZSIsbnVsbCxudWxsLGUpfSxjLnNldHVwU3RhdGVzKCksbi5SZXF1ZXN0PW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxvKXt2YXIgYT1lLmVuZHBvaW50LHM9ZS5jb25maWcucmVnaW9uLHU9ZS5jb25maWcuY3VzdG9tVXNlckFnZW50O2Uuc2lnbmluZ1JlZ2lvbj9zPWUuc2lnbmluZ1JlZ2lvbjplLmlzR2xvYmFsRW5kcG9pbnQmJihzPSJ1cy1lYXN0LTEiKSx0aGlzLmRvbWFpbj1pJiZpLmFjdGl2ZSx0aGlzLnNlcnZpY2U9ZSx0aGlzLm9wZXJhdGlvbj10LHRoaXMucGFyYW1zPW98fHt9LHRoaXMuaHR0cFJlcXVlc3Q9bmV3IG4uSHR0cFJlcXVlc3QoYSxzKSx0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KHUpLHRoaXMuc3RhcnRUaW1lPWUuZ2V0U2tld0NvcnJlY3RlZERhdGUoKSx0aGlzLnJlc3BvbnNlPW5ldyBuLlJlc3BvbnNlKHRoaXMpLHRoaXMuX2FzbT1uZXcgcihjLnN0YXRlcywidmFsaWRhdGUiKSx0aGlzLl9oYWx0SGFuZGxlcnNPbkVycm9yPSExLG4uU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcyksdGhpcy5lbWl0PXRoaXMuZW1pdEV2ZW50fSxzZW5kOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYodGhpcy5odHRwUmVxdWVzdC5hcHBlbmRUb1VzZXJBZ2VudCgiY2FsbGJhY2siKSx0aGlzLm9uKCJjb21wbGV0ZSIsKGZ1bmN0aW9uKHQpe2UuY2FsbCh0LHQuZXJyb3IsdC5kYXRhKX0pKSksdGhpcy5ydW5UbygpLHRoaXMucmVzcG9uc2V9LGJ1aWxkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1blRvKCJzZW5kIixlKX0scnVuVG86ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fYXNtLnJ1blRvKGUsdCx0aGlzKSx0aGlzfSxhYm9ydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygidmFsaWRhdGVSZXNwb25zZSIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJleHRyYWN0RXJyb3IiKSx0aGlzLm9uKCJ2YWxpZGF0ZVJlc3BvbnNlIiwoZnVuY3Rpb24oZSl7ZS5lcnJvcj1uLnV0aWwuZXJyb3IobmV3IEVycm9yKCJSZXF1ZXN0IGFib3J0ZWQgYnkgdXNlciIpLHtjb2RlOiJSZXF1ZXN0QWJvcnRlZEVycm9yIixyZXRyeWFibGU6ITF9KX0pKSx0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbSYmIXRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtLmRpZENhbGxiYWNrJiYodGhpcy5odHRwUmVxdWVzdC5zdHJlYW0uYWJvcnQoKSx0aGlzLmh0dHBSZXF1ZXN0Ll9hYm9ydENhbGxiYWNrP3RoaXMuaHR0cFJlcXVlc3QuX2Fib3J0Q2FsbGJhY2soKTp0aGlzLnJlbW92ZUFsbExpc3RlbmVycygic2VuZCIpKSx0aGlzfSxlYWNoUGFnZTpmdW5jdGlvbihlKXtlPW4udXRpbC5mbi5tYWtlQXN5bmMoZSwzKSx0aGlzLm9uKCJjb21wbGV0ZSIsKGZ1bmN0aW9uIHQocil7ZS5jYWxsKHIsci5lcnJvcixyLmRhdGEsKGZ1bmN0aW9uKG8peyExIT09byYmKHIuaGFzTmV4dFBhZ2UoKT9yLm5leHRQYWdlKCkub24oImNvbXBsZXRlIix0KS5zZW5kKCk6ZS5jYWxsKHIsbnVsbCxudWxsLG4udXRpbC5mbi5ub29wKSl9KSl9KSkuc2VuZCgpfSxlYWNoSXRlbTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuZWFjaFBhZ2UoKGZ1bmN0aW9uKHIsbyl7aWYocilyZXR1cm4gZShyLG51bGwpO2lmKG51bGw9PT1vKXJldHVybiBlKG51bGwsbnVsbCk7dmFyIGk9dC5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodC5vcGVyYXRpb24pLnJlc3VsdEtleTtBcnJheS5pc0FycmF5KGkpJiYoaT1pWzBdKTt2YXIgcz1hLnNlYXJjaChvLGkpLGM9ITA7cmV0dXJuIG4udXRpbC5hcnJheUVhY2gocywoZnVuY3Rpb24odCl7aWYoITE9PT0oYz1lKG51bGwsdCkpKXJldHVybiBuLnV0aWwuYWJvcnR9KSksY30pKX0saXNQYWdlYWJsZTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcodGhpcy5vcGVyYXRpb24pfSxjcmVhdGVSZWFkU3RyZWFtOmZ1bmN0aW9uKCl7dmFyIGU9bi51dGlsLnN0cmVhbSxyPXRoaXMsbz1udWxsO3JldHVybiAyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uPyhvPW5ldyBlLlBhc3NUaHJvdWdoLHQubmV4dFRpY2soKGZ1bmN0aW9uKCl7ci5zZW5kKCl9KSkpOigobz1uZXcgZS5TdHJlYW0pLnJlYWRhYmxlPSEwLG8uc2VudD0hMSxvLm9uKCJuZXdMaXN0ZW5lciIsKGZ1bmN0aW9uKGUpe28uc2VudHx8ImRhdGEiIT09ZXx8KG8uc2VudD0hMCx0Lm5leHRUaWNrKChmdW5jdGlvbigpe3Iuc2VuZCgpfSkpKX0pKSksdGhpcy5vbigiZXJyb3IiLChmdW5jdGlvbihlKXtvLmVtaXQoImVycm9yIixlKX0pKSx0aGlzLm9uKCJodHRwSGVhZGVycyIsKGZ1bmN0aW9uKHQsaSxhKXtpZih0PDMwMCl7ci5yZW1vdmVMaXN0ZW5lcigiaHR0cERhdGEiLG4uRXZlbnRMaXN0ZW5lcnMuQ29yZS5IVFRQX0RBVEEpLHIucmVtb3ZlTGlzdGVuZXIoImh0dHBFcnJvciIsbi5FdmVudExpc3RlbmVycy5Db3JlLkhUVFBfRVJST1IpLHIub24oImh0dHBFcnJvciIsKGZ1bmN0aW9uKGUpe2EuZXJyb3I9ZSxhLmVycm9yLnJldHJ5YWJsZT0hMX0pKTt2YXIgcyxjPSExO2lmKCJIRUFEIiE9PXIuaHR0cFJlcXVlc3QubWV0aG9kJiYocz1wYXJzZUludChpWyJjb250ZW50LWxlbmd0aCJdLDEwKSksdm9pZCAwIT09cyYmIWlzTmFOKHMpJiZzPj0wKXtjPSEwO3ZhciB1PTB9dmFyIGw9ZnVuY3Rpb24oKXtjJiZ1IT09cz9vLmVtaXQoImVycm9yIixuLnV0aWwuZXJyb3IobmV3IEVycm9yKCJTdHJlYW0gY29udGVudCBsZW5ndGggbWlzbWF0Y2guIFJlY2VpdmVkICIrdSsiIG9mICIrcysiIGJ5dGVzLiIpLHtjb2RlOiJTdHJlYW1Db250ZW50TGVuZ3RoTWlzbWF0Y2gifSkpOjI9PT1uLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24/by5lbmQoKTpvLmVtaXQoImVuZCIpfSxwPWEuaHR0cFJlc3BvbnNlLmNyZWF0ZVVuYnVmZmVyZWRTdHJlYW0oKTtpZigyPT09bi5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uKWlmKGMpe3ZhciBkPW5ldyBlLlBhc3NUaHJvdWdoO2QuX3dyaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aCYmKHUrPXQubGVuZ3RoKSxlLlBhc3NUaHJvdWdoLnByb3RvdHlwZS5fd3JpdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkLm9uKCJlbmQiLGwpLG8ub24oImVycm9yIiwoZnVuY3Rpb24oZSl7Yz0hMSxwLnVucGlwZShkKSxkLmVtaXQoImVuZCIpLGQuZW5kKCl9KSkscC5waXBlKGQpLnBpcGUobyx7ZW5kOiExfSl9ZWxzZSBwLnBpcGUobyk7ZWxzZSBjJiZwLm9uKCJkYXRhIiwoZnVuY3Rpb24oZSl7ZSYmZS5sZW5ndGgmJih1Kz1lLmxlbmd0aCl9KSkscC5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe28uZW1pdCgiZGF0YSIsZSl9KSkscC5vbigiZW5kIixsKTtwLm9uKCJlcnJvciIsKGZ1bmN0aW9uKGUpe2M9ITEsby5lbWl0KCJlcnJvciIsZSl9KSl9fSkpLG99LGVtaXRFdmVudDpmdW5jdGlvbihlLHQscil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQsdD1udWxsKSxyfHwocj1mdW5jdGlvbigpe30pLHR8fCh0PXRoaXMuZXZlbnRQYXJhbWV0ZXJzKGUsdGhpcy5yZXNwb25zZSkpLG4uU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxlLHQsKGZ1bmN0aW9uKGUpe2UmJih0aGlzLnJlc3BvbnNlLmVycm9yPWUpLHIuY2FsbCh0aGlzLGUpfSkpfSxldmVudFBhcmFtZXRlcnM6ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UicmVzdGFydCI6Y2FzZSJ2YWxpZGF0ZSI6Y2FzZSJzaWduIjpjYXNlImJ1aWxkIjpjYXNlImFmdGVyVmFsaWRhdGUiOmNhc2UiYWZ0ZXJCdWlsZCI6cmV0dXJuW3RoaXNdO2Nhc2UiZXJyb3IiOnJldHVyblt0aGlzLnJlc3BvbnNlLmVycm9yLHRoaXMucmVzcG9uc2VdO2RlZmF1bHQ6cmV0dXJuW3RoaXMucmVzcG9uc2VdfX0scHJlc2lnbjpmdW5jdGlvbihlLHQpe3JldHVybiB0fHwiZnVuY3Rpb24iIT10eXBlb2YgZXx8KHQ9ZSxlPW51bGwpLChuZXcgbi5TaWduZXJzLlByZXNpZ24pLnNpZ24odGhpcy50b0dldCgpLGUsdCl9LGlzUHJlc2lnbmVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmh0dHBSZXF1ZXN0LmhlYWRlcnMsInByZXNpZ25lZC1leHBpcmVzIil9LHRvVW5hdXRoZW50aWNhdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuQXV0aGVudGljYXRlZD0hMCx0aGlzLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsbi5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX0NSRURFTlRJQUxTKSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJzaWduIixuLkV2ZW50TGlzdGVuZXJzLkNvcmUuU0lHTiksdGhpc30sdG9HZXQ6ZnVuY3Rpb24oKXtyZXR1cm4icXVlcnkiIT09dGhpcy5zZXJ2aWNlLmFwaS5wcm90b2NvbCYmImVjMiIhPT10aGlzLnNlcnZpY2UuYXBpLnByb3RvY29sfHwodGhpcy5yZW1vdmVMaXN0ZW5lcigiYnVpbGQiLHRoaXMuYnVpbGRBc0dldCksdGhpcy5hZGRMaXN0ZW5lcigiYnVpbGQiLHRoaXMuYnVpbGRBc0dldCkpLHRoaXN9LGJ1aWxkQXNHZXQ6ZnVuY3Rpb24oZSl7ZS5odHRwUmVxdWVzdC5tZXRob2Q9IkdFVCIsZS5odHRwUmVxdWVzdC5wYXRoPWUuc2VydmljZS5lbmRwb2ludC5wYXRoKyI/IitlLmh0dHBSZXF1ZXN0LmJvZHksZS5odHRwUmVxdWVzdC5ib2R5PSIiLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl0sZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siQ29udGVudC1UeXBlIl19LGhhbHRIYW5kbGVyc09uRXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oYWx0SGFuZGxlcnNPbkVycm9yPSEwfX0pLG4uUmVxdWVzdC5hZGRQcm9taXNlc1RvQ2xhc3M9ZnVuY3Rpb24oZSl7dGhpcy5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoInByb21pc2UiKSxuZXcgZSgoZnVuY3Rpb24oZSxuKXt0Lm9uKCJjb21wbGV0ZSIsKGZ1bmN0aW9uKHQpe3QuZXJyb3I/bih0LmVycm9yKTplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LmRhdGF8fHt9LCIkcmVzcG9uc2UiLHt2YWx1ZTp0fSkpfSkpLHQucnVuVG8oKX0pKX19LG4uUmVxdWVzdC5kZWxldGVQcm9taXNlc0Zyb21DbGFzcz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByb3RvdHlwZS5wcm9taXNlfSxuLnV0aWwuYWRkUHJvbWlzZXMobi5SZXF1ZXN0KSxuLnV0aWwubWl4aW4obi5SZXF1ZXN0LG4uU2VxdWVudGlhbEV4ZWN1dG9yKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb3JlIjoxOSwiLi9zdGF0ZV9tYWNoaW5lIjo3MyxfcHJvY2Vzczo5MSxqbWVzcGF0aDo5MH1dLDU5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPWUoImptZXNwYXRoIik7ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnJlcXVlc3QuX3dhaXRlcixuPXQuY29uZmlnLmFjY2VwdG9ycyxyPSExLG89InJldHJ5IjtuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFyKXt2YXIgaT10Lm1hdGNoZXJzW24ubWF0Y2hlcl07aSYmaShlLG4uZXhwZWN0ZWQsbi5hcmd1bWVudCkmJihyPSEwLG89bi5zdGF0ZSl9fSkpLCFyJiZlLmVycm9yJiYobz0iZmFpbHVyZSIpLCJzdWNjZXNzIj09PW8/dC5zZXRTdWNjZXNzKGUpOnQuc2V0RXJyb3IoZSwicmV0cnkiPT09byl9ci5SZXNvdXJjZVdhaXRlcj1vKHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQpe3RoaXMuc2VydmljZT1lLHRoaXMuc3RhdGU9dCx0aGlzLmxvYWRXYWl0ZXJDb25maWcodGhpcy5zdGF0ZSl9LHNlcnZpY2U6bnVsbCxzdGF0ZTpudWxsLGNvbmZpZzpudWxsLG1hdGNoZXJzOntwYXRoOmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfXJldHVybiBpLnN0cmljdERlZXBFcXVhbChyLHQpfSxwYXRoQWxsOmZ1bmN0aW9uKGUsdCxuKXt0cnl7dmFyIHI9aS5zZWFyY2goZS5kYXRhLG4pfWNhdGNoKGUpe3JldHVybiExfUFycmF5LmlzQXJyYXkocil8fChyPVtyXSk7dmFyIG89ci5sZW5ndGg7aWYoIW8pcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxvO2ErKylpZighaS5zdHJpY3REZWVwRXF1YWwoclthXSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0scGF0aEFueTpmdW5jdGlvbihlLHQsbil7dHJ5e3ZhciByPWkuc2VhcmNoKGUuZGF0YSxuKX1jYXRjaChlKXtyZXR1cm4hMX1BcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO2Zvcih2YXIgbz1yLmxlbmd0aCxhPTA7YTxvO2ErKylpZihpLnN0cmljdERlZXBFcXVhbChyW2FdLHQpKXJldHVybiEwO3JldHVybiExfSxzdGF0dXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO3JldHVybiJudW1iZXIiPT10eXBlb2YgbiYmbj09PXR9LGVycm9yOmZ1bmN0aW9uKGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiZlLmVycm9yP3Q9PT1lLmVycm9yLmNvZGU6dD09PSEhZS5lcnJvcn19LGxpc3RlbmVyczoobmV3IHIuU2VxdWVudGlhbEV4ZWN1dG9yKS5hZGROYW1lZExpc3RlbmVycygoZnVuY3Rpb24oZSl7ZSgiUkVUUllfQ0hFQ0siLCJyZXRyeSIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdC5fd2FpdGVyO2UuZXJyb3ImJiJSZXNvdXJjZU5vdFJlYWR5Ij09PWUuZXJyb3IuY29kZSYmKGUuZXJyb3IucmV0cnlEZWxheT0xZTMqKHQuY29uZmlnLmRlbGF5fHwwKSl9KSksZSgiQ0hFQ0tfT1VUUFVUIiwiZXh0cmFjdERhdGEiLGEpLGUoIkNIRUNLX0VSUk9SIiwiZXh0cmFjdEVycm9yIixhKX0pKSx3YWl0OmZ1bmN0aW9uKGUsdCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGUmJmUuJHdhaXRlciYmKCJudW1iZXIiPT10eXBlb2YoZT1yLnV0aWwuY29weShlKSkuJHdhaXRlci5kZWxheSYmKHRoaXMuY29uZmlnLmRlbGF5PWUuJHdhaXRlci5kZWxheSksIm51bWJlciI9PXR5cGVvZiBlLiR3YWl0ZXIubWF4QXR0ZW1wdHMmJih0aGlzLmNvbmZpZy5tYXhBdHRlbXB0cz1lLiR3YWl0ZXIubWF4QXR0ZW1wdHMpLGRlbGV0ZSBlLiR3YWl0ZXIpO3ZhciBuPXRoaXMuc2VydmljZS5tYWtlUmVxdWVzdCh0aGlzLmNvbmZpZy5vcGVyYXRpb24sZSk7cmV0dXJuIG4uX3dhaXRlcj10aGlzLG4ucmVzcG9uc2UubWF4UmV0cmllcz10aGlzLmNvbmZpZy5tYXhBdHRlbXB0cyxuLmFkZExpc3RlbmVycyh0aGlzLmxpc3RlbmVycyksdCYmbi5zZW5kKHQpLG59LHNldFN1Y2Nlc3M6ZnVuY3Rpb24oZSl7ZS5lcnJvcj1udWxsLGUuZGF0YT1lLmRhdGF8fHt9LGUucmVxdWVzdC5yZW1vdmVBbGxMaXN0ZW5lcnMoImV4dHJhY3REYXRhIil9LHNldEVycm9yOmZ1bmN0aW9uKGUsdCl7ZS5kYXRhPW51bGwsZS5lcnJvcj1yLnV0aWwuZXJyb3IoZS5lcnJvcnx8bmV3IEVycm9yLHtjb2RlOiJSZXNvdXJjZU5vdFJlYWR5IixtZXNzYWdlOiJSZXNvdXJjZSBpcyBub3QgaW4gdGhlIHN0YXRlICIrdGhpcy5zdGF0ZSxyZXRyeWFibGU6dH0pfSxsb2FkV2FpdGVyQ29uZmlnOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLnNlcnZpY2UuYXBpLndhaXRlcnNbZV0pdGhyb3cgbmV3IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise2NvZGU6IlN0YXRlTm90Rm91bmRFcnJvciIsbWVzc2FnZToiU3RhdGUgIitlKyIgbm90IGZvdW5kLiJ9KTt0aGlzLmNvbmZpZz1yLnV0aWwuY29weSh0aGlzLnNlcnZpY2UuYXBpLndhaXRlcnNbZV0pfX0pfSx7Ii4vY29yZSI6MTksam1lc3BhdGg6OTB9XSw2MDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQsaT1lKCJqbWVzcGF0aCIpO3IuUmVzcG9uc2U9byh7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSl7dGhpcy5yZXF1ZXN0PWUsdGhpcy5kYXRhPW51bGwsdGhpcy5lcnJvcj1udWxsLHRoaXMucmV0cnlDb3VudD0wLHRoaXMucmVkaXJlY3RDb3VudD0wLHRoaXMuaHR0cFJlc3BvbnNlPW5ldyByLkh0dHBSZXNwb25zZSxlJiYodGhpcy5tYXhSZXRyaWVzPWUuc2VydmljZS5udW1SZXRyaWVzKCksdGhpcy5tYXhSZWRpcmVjdHM9ZS5zZXJ2aWNlLmNvbmZpZy5tYXhSZWRpcmVjdHMpfSxuZXh0UGFnZTpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMucmVxdWVzdC5zZXJ2aWNlLG89dGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbjt0cnl7dD1uLnBhZ2luYXRpb25Db25maWcobywhMCl9Y2F0Y2goZSl7dGhpcy5lcnJvcj1lfWlmKCF0aGlzLmhhc05leHRQYWdlKCkpe2lmKGUpZSh0aGlzLmVycm9yLG51bGwpO2Vsc2UgaWYodGhpcy5lcnJvcil0aHJvdyB0aGlzLmVycm9yO3JldHVybiBudWxsfXZhciBpPXIudXRpbC5jb3B5KHRoaXMucmVxdWVzdC5wYXJhbXMpO2lmKHRoaXMubmV4dFBhZ2VUb2tlbnMpe3ZhciBhPXQuaW5wdXRUb2tlbjsic3RyaW5nIj09dHlwZW9mIGEmJihhPVthXSk7Zm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspaVthW3NdXT10aGlzLm5leHRQYWdlVG9rZW5zW3NdO3JldHVybiBuLm1ha2VSZXF1ZXN0KHRoaXMucmVxdWVzdC5vcGVyYXRpb24saSxlKX1yZXR1cm4gZT9lKG51bGwsbnVsbCk6bnVsbH0saGFzTmV4dFBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZU5leHRQYWdlVG9rZW5zKCksISF0aGlzLm5leHRQYWdlVG9rZW5zfHx2b2lkIDA9PT10aGlzLm5leHRQYWdlVG9rZW5zJiZ2b2lkIDB9LGNhY2hlTmV4dFBhZ2VUb2tlbnM6ZnVuY3Rpb24oKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywibmV4dFBhZ2VUb2tlbnMiKSlyZXR1cm4gdGhpcy5uZXh0UGFnZVRva2Vuczt0aGlzLm5leHRQYWdlVG9rZW5zPXZvaWQgMDt2YXIgZT10aGlzLnJlcXVlc3Quc2VydmljZS5wYWdpbmF0aW9uQ29uZmlnKHRoaXMucmVxdWVzdC5vcGVyYXRpb24pO2lmKCFlKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO2lmKHRoaXMubmV4dFBhZ2VUb2tlbnM9bnVsbCxlLm1vcmVSZXN1bHRzJiYhaS5zZWFyY2godGhpcy5kYXRhLGUubW9yZVJlc3VsdHMpKXJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO3ZhciB0PWUub3V0cHV0VG9rZW47cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD1bdF0pLHIudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLHQsKGZ1bmN0aW9uKGUpe3ZhciB0PWkuc2VhcmNoKHRoaXMuZGF0YSxlKTt0JiYodGhpcy5uZXh0UGFnZVRva2Vucz10aGlzLm5leHRQYWdlVG9rZW5zfHxbXSx0aGlzLm5leHRQYWdlVG9rZW5zLnB1c2godCkpfSkpLHRoaXMubmV4dFBhZ2VUb2tlbnN9fSl9LHsiLi9jb3JlIjoxOSxqbWVzcGF0aDo5MH1dLDYxOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9jb3JlIik7ci5TZXF1ZW50aWFsRXhlY3V0b3I9ci51dGlsLmluaGVyaXQoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRzPXt9fSxsaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT90aGlzLl9ldmVudHNbZV0uc2xpY2UoMCk6W119LG9uOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2VdP24/dGhpcy5fZXZlbnRzW2VdLnVuc2hpZnQodCk6dGhpcy5fZXZlbnRzW2VdLnB1c2godCk6dGhpcy5fZXZlbnRzW2VdPVt0XSx0aGlzfSxvbkFzeW5jOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdC5faXNBc3luYz0hMCx0aGlzLm9uKGUsdCxuKX0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9ldmVudHNbZV07aWYobil7Zm9yKHZhciByPW4ubGVuZ3RoLG89LTEsaT0wO2k8cjsrK2kpbltpXT09PXQmJihvPWkpO28+LTEmJm4uc3BsaWNlKG8sMSl9cmV0dXJuIHRoaXN9LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbihlKXtyZXR1cm4gZT9kZWxldGUgdGhpcy5fZXZlbnRzW2VdOnRoaXMuX2V2ZW50cz17fSx0aGlzfSxlbWl0OmZ1bmN0aW9uKGUsdCxuKXtufHwobj1mdW5jdGlvbigpe30pO3ZhciByPXRoaXMubGlzdGVuZXJzKGUpLG89ci5sZW5ndGg7cmV0dXJuIHRoaXMuY2FsbExpc3RlbmVycyhyLHQsbiksbz4wfSxjYWxsTGlzdGVuZXJzOmZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPXRoaXMsYT1vfHxudWxsO2Z1bmN0aW9uIHMobyl7aWYobyYmKGE9ci51dGlsLmVycm9yKGF8fG5ldyBFcnJvcixvKSxpLl9oYWx0SGFuZGxlcnNPbkVycm9yKSlyZXR1cm4gbi5jYWxsKGksYSk7aS5jYWxsTGlzdGVuZXJzKGUsdCxuLGEpfWZvcig7ZS5sZW5ndGg+MDspe3ZhciBjPWUuc2hpZnQoKTtpZihjLl9pc0FzeW5jKXJldHVybiB2b2lkIGMuYXBwbHkoaSx0LmNvbmNhdChbc10pKTt0cnl7Yy5hcHBseShpLHQpfWNhdGNoKGUpe2E9ci51dGlsLmVycm9yKGF8fG5ldyBFcnJvcixlKX1pZihhJiZpLl9oYWx0SGFuZGxlcnNPbkVycm9yKXJldHVybiB2b2lkIG4uY2FsbChpLGEpfW4uY2FsbChpLGEpfSxhZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gZS5fZXZlbnRzJiYoZT1lLl9ldmVudHMpLHIudXRpbC5lYWNoKGUsKGZ1bmN0aW9uKGUsbil7ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihuPVtuXSksci51dGlsLmFycmF5RWFjaChuLChmdW5jdGlvbihuKXt0Lm9uKGUsbil9KSl9KSksdH0sYWRkTmFtZWRMaXN0ZW5lcjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpc1tlXT1uLHRoaXMuYWRkTGlzdGVuZXIodCxuLHIpLHRoaXN9LGFkZE5hbWVkQXN5bmNMaXN0ZW5lcjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbi5faXNBc3luYz0hMCx0aGlzLmFkZE5hbWVkTGlzdGVuZXIoZSx0LG4scil9LGFkZE5hbWVkTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIGUoKGZ1bmN0aW9uKCl7dC5hZGROYW1lZExpc3RlbmVyLmFwcGx5KHQsYXJndW1lbnRzKX0pLChmdW5jdGlvbigpe3QuYWRkTmFtZWRBc3luY0xpc3RlbmVyLmFwcGx5KHQsYXJndW1lbnRzKX0pKSx0aGlzfX0pLHIuU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1yLlNlcXVlbnRpYWxFeGVjdXRvci5wcm90b3R5cGUub24sdC5leHBvcnRzPXIuU2VxdWVudGlhbEV4ZWN1dG9yfSx7Ii4vY29yZSI6MTl9XSw2MjpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuKXsoZnVuY3Rpb24oKXt2YXIgcj1lKCIuL2NvcmUiKSxpPWUoIi4vbW9kZWwvYXBpIiksYT1lKCIuL3JlZ2lvbl9jb25maWciKSxzPXIudXRpbC5pbmhlcml0LGM9MCx1PWUoIi4vcmVnaW9uL3V0aWxzIik7ci5TZXJ2aWNlPXMoe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmxvYWRTZXJ2aWNlQ2xhc3MpdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvciwiU2VydmljZSBtdXN0IGJlIGNvbnN0cnVjdGVkIHdpdGggYG5ldycgb3BlcmF0b3IiKTtpZihlKXtpZihlLnJlZ2lvbil7dmFyIHQ9ZS5yZWdpb247dS5pc0ZpcHNSZWdpb24odCkmJihlLnJlZ2lvbj11LmdldFJlYWxSZWdpb24odCksZS51c2VGaXBzRW5kcG9pbnQ9ITApLHUuaXNHbG9iYWxSZWdpb24odCkmJihlLnJlZ2lvbj11LmdldFJlYWxSZWdpb24odCkpfSJib29sZWFuIj09dHlwZW9mIGUudXNlRHVhbHN0YWNrJiYiYm9vbGVhbiIhPXR5cGVvZiBlLnVzZUR1YWxzdGFja0VuZHBvaW50JiYoZS51c2VEdWFsc3RhY2tFbmRwb2ludD1lLnVzZUR1YWxzdGFjayl9dmFyIG49dGhpcy5sb2FkU2VydmljZUNsYXNzKGV8fHt9KTtpZihuKXt2YXIgbz1yLnV0aWwuY29weShlKSxpPW5ldyBuKGUpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX29yaWdpbmFsQ29uZmlnIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5fY2xpZW50SWQ9KytjLGl9dGhpcy5pbml0aWFsaXplKGUpfSxpbml0aWFsaXplOmZ1bmN0aW9uKGUpe3ZhciB0PXIuY29uZmlnW3RoaXMuc2VydmljZUlkZW50aWZpZXJdO2lmKHRoaXMuY29uZmlnPW5ldyByLkNvbmZpZyhyLmNvbmZpZyksdCYmdGhpcy5jb25maWcudXBkYXRlKHQsITApLGUmJnRoaXMuY29uZmlnLnVwZGF0ZShlLCEwKSx0aGlzLnZhbGlkYXRlU2VydmljZSgpLHRoaXMuY29uZmlnLmVuZHBvaW50fHxhLmNvbmZpZ3VyZUVuZHBvaW50KHRoaXMpLHRoaXMuY29uZmlnLmVuZHBvaW50PXRoaXMuZW5kcG9pbnRGcm9tVGVtcGxhdGUodGhpcy5jb25maWcuZW5kcG9pbnQpLHRoaXMuc2V0RW5kcG9pbnQodGhpcy5jb25maWcuZW5kcG9pbnQpLHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcyksci5TZXJ2aWNlLmFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzKHRoaXMpLCh0aGlzLmNvbmZpZy5jbGllbnRTaWRlTW9uaXRvcmluZ3x8ci5TZXJ2aWNlLl9jbGllbnRTaWRlTW9uaXRvcmluZykmJnRoaXMucHVibGlzaGVyKXt2YXIgbz10aGlzLnB1Ymxpc2hlcjt0aGlzLmFkZE5hbWVkTGlzdGVuZXIoIlBVQkxJU0hfQVBJX0NBTEwiLCJhcGlDYWxsIiwoZnVuY3Rpb24oZSl7bi5uZXh0VGljaygoZnVuY3Rpb24oKXtvLmV2ZW50SGFuZGxlcihlKX0pKX0pKSx0aGlzLmFkZE5hbWVkTGlzdGVuZXIoIlBVQkxJU0hfQVBJX0FUVEVNUFQiLCJhcGlDYWxsQXR0ZW1wdCIsKGZ1bmN0aW9uKGUpe24ubmV4dFRpY2soKGZ1bmN0aW9uKCl7by5ldmVudEhhbmRsZXIoZSl9KSl9KSl9fSx2YWxpZGF0ZVNlcnZpY2U6ZnVuY3Rpb24oKXt9LGxvYWRTZXJ2aWNlQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtpZihyLnV0aWwuaXNFbXB0eSh0aGlzLmFwaSkpe2lmKHQuYXBpQ29uZmlnKXJldHVybiByLlNlcnZpY2UuZGVmaW5lU2VydmljZUFwaSh0aGlzLmNvbnN0cnVjdG9yLHQuYXBpQ29uZmlnKTtpZih0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzKXsodD1uZXcgci5Db25maWcoci5jb25maWcpKS51cGRhdGUoZSwhMCk7dmFyIG49dC5hcGlWZXJzaW9uc1t0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VJZGVudGlmaWVyXTtyZXR1cm4gbj1ufHx0LmFwaVZlcnNpb24sdGhpcy5nZXRMYXRlc3RTZXJ2aWNlQ2xhc3Mobil9cmV0dXJuIG51bGx9cmV0dXJuIG51bGx9LGdldExhdGVzdFNlcnZpY2VDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gZT10aGlzLmdldExhdGVzdFNlcnZpY2VWZXJzaW9uKGUpLG51bGw9PT10aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzW2VdJiZyLlNlcnZpY2UuZGVmaW5lU2VydmljZUFwaSh0aGlzLmNvbnN0cnVjdG9yLGUpLHRoaXMuY29uc3RydWN0b3Iuc2VydmljZXNbZV19LGdldExhdGVzdFNlcnZpY2VWZXJzaW9uOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzfHwwPT09dGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJObyBzZXJ2aWNlcyBkZWZpbmVkIG9uICIrdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlSWRlbnRpZmllcik7aWYoZT9yLnV0aWwuaXNUeXBlKGUsRGF0ZSkmJihlPXIudXRpbC5kYXRlLmlzbzg2MDEoZSkuc3BsaXQoIlQiKVswXSk6ZT0ibGF0ZXN0IixPYmplY3QuaGFzT3duUHJvcGVydHkodGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcyxlKSlyZXR1cm4gZTtmb3IodmFyIHQ9T2JqZWN0LmtleXModGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcykuc29ydCgpLG49bnVsbCxvPXQubGVuZ3RoLTE7bz49MDtvLS0paWYoIioiIT09dFtvXVt0W29dLmxlbmd0aC0xXSYmKG49dFtvXSksdFtvXS5zdWJzdHIoMCwxMCk8PWUpcmV0dXJuIG47dGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCAiK3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXIrIiBBUEkgdG8gc2F0aXNmeSB2ZXJzaW9uIGNvbnN0cmFpbnQgYCIrZSsiJyIpfSxhcGk6e30sZGVmYXVsdFJldHJ5Q291bnQ6MyxjdXN0b21pemVSZXF1ZXN0czpmdW5jdGlvbihlKXtpZihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY2FsbGJhY2sgdHlwZSAnIitvKGUpKyInIHByb3ZpZGVkIGluIGN1c3RvbWl6ZVJlcXVlc3RzIik7dGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcj1lfWVsc2UgdGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlcj1udWxsfSxtYWtlUmVxdWVzdDpmdW5jdGlvbihlLHQsbil7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSx0PXR8fHt9LHRoaXMuY29uZmlnLnBhcmFtcyl7dmFyIG89dGhpcy5hcGkub3BlcmF0aW9uc1tlXTtvJiYodD1yLnV0aWwuY29weSh0KSxyLnV0aWwuZWFjaCh0aGlzLmNvbmZpZy5wYXJhbXMsKGZ1bmN0aW9uKGUsbil7by5pbnB1dC5tZW1iZXJzW2VdJiYodm9pZCAwIT09dFtlXSYmbnVsbCE9PXRbZV18fCh0W2VdPW4pKX0pKSl9dmFyIGk9bmV3IHIuUmVxdWVzdCh0aGlzLGUsdCk7cmV0dXJuIHRoaXMuYWRkQWxsUmVxdWVzdExpc3RlbmVycyhpKSx0aGlzLmF0dGFjaE1vbml0b3JpbmdFbWl0dGVyKGkpLG4mJmkuc2VuZChuKSxpfSxtYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdDpmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIHI9dGhpcy5tYWtlUmVxdWVzdChlLHQpLnRvVW5hdXRoZW50aWNhdGVkKCk7cmV0dXJuIG4/ci5zZW5kKG4pOnJ9LHdhaXRGb3I6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgci5SZXNvdXJjZVdhaXRlcih0aGlzLGUpLndhaXQodCxuKX0sYWRkQWxsUmVxdWVzdExpc3RlbmVyczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W3IuZXZlbnRzLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZSx0aGlzLnNlcnZpY2VJbnRlcmZhY2UoKSxyLkV2ZW50TGlzdGVuZXJzLkNvcmVQb3N0XSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmZS5hZGRMaXN0ZW5lcnModFtuXSk7dGhpcy5jb25maWcucGFyYW1WYWxpZGF0aW9ufHxlLnJlbW92ZUxpc3RlbmVyKCJ2YWxpZGF0ZSIsci5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpLHRoaXMuY29uZmlnLmxvZ2dlciYmZS5hZGRMaXN0ZW5lcnMoci5FdmVudExpc3RlbmVycy5Mb2dnZXIpLHRoaXMuc2V0dXBSZXF1ZXN0TGlzdGVuZXJzKGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jdXN0b21SZXF1ZXN0SGFuZGxlciYmdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY3VzdG9tUmVxdWVzdEhhbmRsZXIoZSksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsImN1c3RvbVJlcXVlc3RIYW5kbGVyIikmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyJiZ0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyKGUpfSxhcGlDYWxsRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW2Uub3BlcmF0aW9uXSxuPXtUeXBlOiJBcGlDYWxsIixBcGk6dD90Lm5hbWU6ZS5vcGVyYXRpb24sVmVyc2lvbjoxLFNlcnZpY2U6ZS5zZXJ2aWNlLmFwaS5zZXJ2aWNlSWR8fGUuc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXgsUmVnaW9uOmUuaHR0cFJlcXVlc3QucmVnaW9uLE1heFJldHJpZXNFeGNlZWRlZDowLFVzZXJBZ2VudDplLmh0dHBSZXF1ZXN0LmdldFVzZXJBZ2VudCgpfSxyPWUucmVzcG9uc2U7aWYoci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKG4uRmluYWxIdHRwU3RhdHVzQ29kZT1yLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKSxyLmVycm9yKXt2YXIgbz1yLmVycm9yO3IuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU+Mjk5PyhvLmNvZGUmJihuLkZpbmFsQXdzRXhjZXB0aW9uPW8uY29kZSksby5tZXNzYWdlJiYobi5GaW5hbEF3c0V4Y2VwdGlvbk1lc3NhZ2U9by5tZXNzYWdlKSk6KChvLmNvZGV8fG8ubmFtZSkmJihuLkZpbmFsU2RrRXhjZXB0aW9uPW8uY29kZXx8by5uYW1lKSxvLm1lc3NhZ2UmJihuLkZpbmFsU2RrRXhjZXB0aW9uTWVzc2FnZT1vLm1lc3NhZ2UpKX1yZXR1cm4gbn0sYXBpQXR0ZW1wdEV2ZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9uc1tlLm9wZXJhdGlvbl0sbj17VHlwZToiQXBpQ2FsbEF0dGVtcHQiLEFwaTp0P3QubmFtZTplLm9wZXJhdGlvbixWZXJzaW9uOjEsU2VydmljZTplLnNlcnZpY2UuYXBpLnNlcnZpY2VJZHx8ZS5zZXJ2aWNlLmFwaS5lbmRwb2ludFByZWZpeCxGcWRuOmUuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUsVXNlckFnZW50OmUuaHR0cFJlcXVlc3QuZ2V0VXNlckFnZW50KCl9LHI9ZS5yZXNwb25zZTtyZXR1cm4gci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSYmKG4uSHR0cFN0YXR1c0NvZGU9ci5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSksIWUuX3VuQXV0aGVudGljYXRlZCYmZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscyYmZS5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCYmKG4uQWNjZXNzS2V5PWUuc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnM/KGUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXSYmKG4uU2Vzc2lvblRva2VuPWUuaHR0cFJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXSksci5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdJiYobi5YQW16blJlcXVlc3RJZD1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtem4tcmVxdWVzdGlkIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXSYmKG4uWEFtelJlcXVlc3RJZD1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1yZXF1ZXN0LWlkIl0pLHIuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LWlkLTIiXSYmKG4uWEFteklkMj1yLmh0dHBSZXNwb25zZS5oZWFkZXJzWyJ4LWFtei1pZC0yIl0pLG4pOm59LGF0dGVtcHRGYWlsRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5hcGlBdHRlbXB0RXZlbnQoZSksbj1lLnJlc3BvbnNlLHI9bi5lcnJvcjtyZXR1cm4gbi5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZT4yOTk/KHIuY29kZSYmKHQuQXdzRXhjZXB0aW9uPXIuY29kZSksci5tZXNzYWdlJiYodC5Bd3NFeGNlcHRpb25NZXNzYWdlPXIubWVzc2FnZSkpOigoci5jb2RlfHxyLm5hbWUpJiYodC5TZGtFeGNlcHRpb249ci5jb2RlfHxyLm5hbWUpLHIubWVzc2FnZSYmKHQuU2RrRXhjZXB0aW9uTWVzc2FnZT1yLm1lc3NhZ2UpKSx0fSxhdHRhY2hNb25pdG9yaW5nRW1pdHRlcjpmdW5jdGlvbihlKXt2YXIgdCxuLG8saSxhLHMsYz0wLHU9dGhpcyxsPSEwO2Uub24oInZhbGlkYXRlIiwoZnVuY3Rpb24oKXtpPXIudXRpbC5yZWFsQ2xvY2subm93KCkscz1EYXRlLm5vdygpfSksbCksZS5vbigic2lnbiIsKGZ1bmN0aW9uKCl7bj1yLnV0aWwucmVhbENsb2NrLm5vdygpLHQ9RGF0ZS5ub3coKSxhPWUuaHR0cFJlcXVlc3QucmVnaW9uLGMrK30pLGwpLGUub24oInZhbGlkYXRlUmVzcG9uc2UiLChmdW5jdGlvbigpe289TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLW4pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTExfQVRURU1QVCIsInN1Y2Nlc3MiLChmdW5jdGlvbigpe3ZhciBuPXUuYXBpQXR0ZW1wdEV2ZW50KGUpO24uVGltZXN0YW1wPXQsbi5BdHRlbXB0TGF0ZW5jeT1vPj0wP286MCxuLlJlZ2lvbj1hLHUuZW1pdCgiYXBpQ2FsbEF0dGVtcHQiLFtuXSl9KSksZS5hZGROYW1lZExpc3RlbmVyKCJBUElfQ0FMTF9BVFRFTVBUX1JFVFJZIiwicmV0cnkiLChmdW5jdGlvbigpe3ZhciBpPXUuYXR0ZW1wdEZhaWxFdmVudChlKTtpLlRpbWVzdGFtcD10LG89b3x8TWF0aC5yb3VuZChyLnV0aWwucmVhbENsb2NrLm5vdygpLW4pLGkuQXR0ZW1wdExhdGVuY3k9bz49MD9vOjAsaS5SZWdpb249YSx1LmVtaXQoImFwaUNhbGxBdHRlbXB0IixbaV0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQVBJX0NBTEwiLCJjb21wbGV0ZSIsKGZ1bmN0aW9uKCl7dmFyIHQ9dS5hcGlDYWxsRXZlbnQoZSk7aWYodC5BdHRlbXB0Q291bnQ9YywhKHQuQXR0ZW1wdENvdW50PD0wKSl7dC5UaW1lc3RhbXA9czt2YXIgbj1NYXRoLnJvdW5kKHIudXRpbC5yZWFsQ2xvY2subm93KCktaSk7dC5MYXRlbmN5PW4+PTA/bjowO3ZhciBvPWUucmVzcG9uc2U7by5lcnJvciYmby5lcnJvci5yZXRyeWFibGUmJiJudW1iZXIiPT10eXBlb2Ygby5yZXRyeUNvdW50JiYibnVtYmVyIj09dHlwZW9mIG8ubWF4UmV0cmllcyYmby5yZXRyeUNvdW50Pj1vLm1heFJldHJpZXMmJih0Lk1heFJldHJpZXNFeGNlZWRlZD0xKSx1LmVtaXQoImFwaUNhbGwiLFt0XSl9fSkpfSxzZXR1cFJlcXVlc3RMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7fSxnZXRTaWduaW5nTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFwaS5zaWduaW5nTmFtZXx8dGhpcy5hcGkuZW5kcG9pbnRQcmVmaXh9LGdldFNpZ25lckNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG49bnVsbCxvPSIiO3JldHVybiBlJiYobz0obj0oZS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zfHx7fSlbZS5vcGVyYXRpb25dfHxudWxsKT9uLmF1dGh0eXBlOiIiKSx0PXRoaXMuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24/dGhpcy5jb25maWcuc2lnbmF0dXJlVmVyc2lvbjoidjQiPT09b3x8InY0LXVuc2lnbmVkLWJvZHkiPT09bz8idjQiOiJiZWFyZXIiPT09bz8iYmVhcmVyIjp0aGlzLmFwaS5zaWduYXR1cmVWZXJzaW9uLHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb24odCl9LHNlcnZpY2VJbnRlcmZhY2U6ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5hcGkucHJvdG9jb2wpe2Nhc2UiZWMyIjpjYXNlInF1ZXJ5IjpyZXR1cm4gci5FdmVudExpc3RlbmVycy5RdWVyeTtjYXNlImpzb24iOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLkpzb247Y2FzZSJyZXN0LWpzb24iOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlJlc3RKc29uO2Nhc2UicmVzdC14bWwiOnJldHVybiByLkV2ZW50TGlzdGVuZXJzLlJlc3RYbWx9aWYodGhpcy5hcGkucHJvdG9jb2wpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHNlcnZpY2UgYHByb3RvY29sJyAiK3RoaXMuYXBpLnByb3RvY29sKyIgaW4gQVBJIGNvbmZpZyIpfSxzdWNjZXNzZnVsUmVzcG9uc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU8MzAwfSxudW1SZXRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuY29uZmlnLm1heFJldHJpZXM/dGhpcy5jb25maWcubWF4UmV0cmllczp0aGlzLmRlZmF1bHRSZXRyeUNvdW50fSxyZXRyeURlbGF5czpmdW5jdGlvbihlLHQpe3JldHVybiByLnV0aWwuY2FsY3VsYXRlUmV0cnlEZWxheShlLHRoaXMuY29uZmlnLnJldHJ5RGVsYXlPcHRpb25zLHQpfSxyZXRyeWFibGVFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4hIXRoaXMudGltZW91dEVycm9yKGUpfHwhIXRoaXMubmV0d29ya2luZ0Vycm9yKGUpfHwhIXRoaXMuZXhwaXJlZENyZWRlbnRpYWxzRXJyb3IoZSl8fCEhdGhpcy50aHJvdHRsZWRFcnJvcihlKXx8ZS5zdGF0dXNDb2RlPj01MDB9LG5ldHdvcmtpbmdFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iTmV0d29ya2luZ0Vycm9yIj09PWUuY29kZX0sdGltZW91dEVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiJUaW1lb3V0RXJyb3IiPT09ZS5jb2RlfSxleHBpcmVkQ3JlZGVudGlhbHNFcnJvcjpmdW5jdGlvbihlKXtyZXR1cm4iRXhwaXJlZFRva2VuRXhjZXB0aW9uIj09PWUuY29kZX0sY2xvY2tTa2V3RXJyb3I6ZnVuY3Rpb24oZSl7c3dpdGNoKGUuY29kZSl7Y2FzZSJSZXF1ZXN0VGltZVRvb1NrZXdlZCI6Y2FzZSJSZXF1ZXN0RXhwaXJlZCI6Y2FzZSJJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uIjpjYXNlIlNpZ25hdHVyZURvZXNOb3RNYXRjaCI6Y2FzZSJBdXRoRmFpbHVyZSI6Y2FzZSJSZXF1ZXN0SW5UaGVGdXR1cmUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRTa2V3Q29ycmVjdGVkRGF0ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpK3RoaXMuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0KX0sYXBwbHlDbG9ja09mZnNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ9ZS1EYXRlLm5vdygpKX0saXNDbG9ja1NrZXdlZDpmdW5jdGlvbihlKXtpZihlKXJldHVybiBNYXRoLmFicyh0aGlzLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkuZ2V0VGltZSgpLWUpPj0zZTV9LHRocm90dGxlZEVycm9yOmZ1bmN0aW9uKGUpe2lmKDQyOT09PWUuc3RhdHVzQ29kZSlyZXR1cm4hMDtzd2l0Y2goZS5jb2RlKXtjYXNlIlByb3Zpc2lvbmVkVGhyb3VnaHB1dEV4Y2VlZGVkRXhjZXB0aW9uIjpjYXNlIlRocm90dGxpbmciOmNhc2UiVGhyb3R0bGluZ0V4Y2VwdGlvbiI6Y2FzZSJSZXF1ZXN0TGltaXRFeGNlZWRlZCI6Y2FzZSJSZXF1ZXN0VGhyb3R0bGVkIjpjYXNlIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb24iOmNhc2UiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uIjpjYXNlIlRyYW5zYWN0aW9uSW5Qcm9ncmVzc0V4Y2VwdGlvbiI6Y2FzZSJFQzJUaHJvdHRsZWRFeGNlcHRpb24iOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxlbmRwb2ludEZyb21UZW1wbGF0ZTpmdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIHQ9ZTtyZXR1cm4gdD0odD0odD10LnJlcGxhY2UoL1x7c2VydmljZVx9L2csdGhpcy5hcGkuZW5kcG9pbnRQcmVmaXgpKS5yZXBsYWNlKC9ce3JlZ2lvblx9L2csdGhpcy5jb25maWcucmVnaW9uKSkucmVwbGFjZSgvXHtzY2hlbWVcfS9nLHRoaXMuY29uZmlnLnNzbEVuYWJsZWQ/Imh0dHBzIjoiaHR0cCIpfSxzZXRFbmRwb2ludDpmdW5jdGlvbihlKXt0aGlzLmVuZHBvaW50PW5ldyByLkVuZHBvaW50KGUsdGhpcy5jb25maWcpfSxwYWdpbmF0aW9uQ29uZmlnOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5hcGkub3BlcmF0aW9uc1tlXS5wYWdpbmF0b3I7aWYoIW4pe2lmKHQpe3ZhciBvPW5ldyBFcnJvcjt0aHJvdyByLnV0aWwuZXJyb3IobywiTm8gcGFnaW5hdGlvbiBjb25maWd1cmF0aW9uIGZvciAiK2UpfXJldHVybiBudWxsfXJldHVybiBufX0pLHIudXRpbC51cGRhdGUoci5TZXJ2aWNlLHtkZWZpbmVNZXRob2RzOmZ1bmN0aW9uKGUpe3IudXRpbC5lYWNoKGUucHJvdG90eXBlLmFwaS5vcGVyYXRpb25zLChmdW5jdGlvbih0KXtlLnByb3RvdHlwZVt0XXx8KCJub25lIj09PWUucHJvdG90eXBlLmFwaS5vcGVyYXRpb25zW3RdLmF1dGh0eXBlP2UucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QodCxlLG4pfTplLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLm1ha2VSZXF1ZXN0KHQsZSxuKX0pfSkpfSxkZWZpbmVTZXJ2aWNlOmZ1bmN0aW9uKGUsdCxuKXtyLlNlcnZpY2UuX3NlcnZpY2VNYXBbZV09ITAsQXJyYXkuaXNBcnJheSh0KXx8KG49dCx0PVtdKTt2YXIgbz1zKHIuU2VydmljZSxufHx7fSk7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtyLlNlcnZpY2UuYWRkVmVyc2lvbnMobyx0KTt2YXIgaT1vLnNlcnZpY2VJZGVudGlmaWVyfHxlO28uc2VydmljZUlkZW50aWZpZXI9aX1lbHNlIG8ucHJvdG90eXBlLmFwaT1lLHIuU2VydmljZS5kZWZpbmVNZXRob2RzKG8pO2lmKHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcy5wcm90b3R5cGUpLCF0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXImJnIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZyl7dmFyIGE9ci51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLlB1Ymxpc2hlcixjPSgwLHIudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZy5jb25maWdQcm92aWRlcikoKTt0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXI9bmV3IGEoYyksYy5lbmFibGVkJiYoci5TZXJ2aWNlLl9jbGllbnRTaWRlTW9uaXRvcmluZz0hMCl9cmV0dXJuIHIuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwoby5wcm90b3R5cGUpLHIuU2VydmljZS5hZGREZWZhdWx0TW9uaXRvcmluZ0xpc3RlbmVycyhvLnByb3RvdHlwZSksb30sYWRkVmVyc2lvbnM6ZnVuY3Rpb24oZSx0KXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLGUuc2VydmljZXM9ZS5zZXJ2aWNlc3x8e307Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdm9pZCAwPT09ZS5zZXJ2aWNlc1t0W25dXSYmKGUuc2VydmljZXNbdFtuXV09bnVsbCk7ZS5hcGlWZXJzaW9ucz1PYmplY3Qua2V5cyhlLnNlcnZpY2VzKS5zb3J0KCl9LGRlZmluZVNlcnZpY2VBcGk6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXMoZSx7c2VydmljZUlkZW50aWZpZXI6ZS5zZXJ2aWNlSWRlbnRpZmllcn0pO2Z1bmN0aW9uIGEodCl7dC5pc0FwaT9vLnByb3RvdHlwZS5hcGk9dDpvLnByb3RvdHlwZS5hcGk9bmV3IGkodCx7c2VydmljZUlkZW50aWZpZXI6ZS5zZXJ2aWNlSWRlbnRpZmllcn0pfWlmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYobilhKG4pO2Vsc2UgdHJ5e2Eoci5hcGlMb2FkZXIoZS5zZXJ2aWNlSWRlbnRpZmllcix0KSl9Y2F0Y2gobil7dGhyb3cgci51dGlsLmVycm9yKG4se21lc3NhZ2U6IkNvdWxkIG5vdCBmaW5kIEFQSSBjb25maWd1cmF0aW9uICIrZS5zZXJ2aWNlSWRlbnRpZmllcisiLSIrdH0pfU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLnNlcnZpY2VzLHQpfHwoZS5hcGlWZXJzaW9ucz1lLmFwaVZlcnNpb25zLmNvbmNhdCh0KS5zb3J0KCkpLGUuc2VydmljZXNbdF09b31lbHNlIGEodCk7cmV0dXJuIHIuU2VydmljZS5kZWZpbmVNZXRob2RzKG8pLG99LGhhc1NlcnZpY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLlNlcnZpY2UuX3NlcnZpY2VNYXAsZSl9LGFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2UuYWRkTmFtZWRMaXN0ZW5lcigiTU9OSVRPUl9FVkVOVFNfQlVCQkxFIiwiYXBpQ2FsbEF0dGVtcHQiLChmdW5jdGlvbih0KXt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7bi5fZXZlbnRzJiZuLmVtaXQoImFwaUNhbGxBdHRlbXB0IixbdF0pfSkpLGUuYWRkTmFtZWRMaXN0ZW5lcigiQ0FMTF9FVkVOVFNfQlVCQkxFIiwiYXBpQ2FsbCIsKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtuLl9ldmVudHMmJm4uZW1pdCgiYXBpQ2FsbCIsW3RdKX0pKX0sX3NlcnZpY2VNYXA6e319KSxyLnV0aWwubWl4aW4oci5TZXJ2aWNlLHIuU2VxdWVudGlhbEV4ZWN1dG9yKSx0LmV4cG9ydHM9ci5TZXJ2aWNlfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0seyIuL2NvcmUiOjE5LCIuL21vZGVsL2FwaSI6NDAsIi4vcmVnaW9uL3V0aWxzIjo1NSwiLi9yZWdpb25fY29uZmlnIjo1NixfcHJvY2Vzczo5MX1dLDYzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ZSgiLi4vY29uZmlnX3JlZ2lvbmFsX2VuZHBvaW50Iik7ci51dGlsLnVwZGF0ZShyLlNUUy5wcm90b3R5cGUse2NyZWRlbnRpYWxzRnJvbTpmdW5jdGlvbihlLHQpe3JldHVybiBlPyh0fHwodD1uZXcgci5UZW1wb3JhcnlDcmVkZW50aWFscyksdC5leHBpcmVkPSExLHQuYWNjZXNzS2V5SWQ9ZS5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCx0LnNlY3JldEFjY2Vzc0tleT1lLkNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSx0LnNlc3Npb25Ub2tlbj1lLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbix0LmV4cGlyZVRpbWU9ZS5DcmVkZW50aWFscy5FeHBpcmF0aW9uLHQpOm51bGx9LGFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgiYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSIsZSx0KX0sYXNzdW1lUm9sZVdpdGhTQU1MOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3QoImFzc3VtZVJvbGVXaXRoU0FNTCIsZSx0KX0sc2V0dXBSZXF1ZXN0TGlzdGVuZXJzOmZ1bmN0aW9uKGUpe2UuYWRkTGlzdGVuZXIoInZhbGlkYXRlIix0aGlzLm9wdEluUmVnaW9uYWxFbmRwb2ludCwhMCl9LG9wdEluUmVnaW9uYWxFbmRwb2ludDpmdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2Usbj10LmNvbmZpZztpZihuLnN0c1JlZ2lvbmFsRW5kcG9pbnRzPW8odC5fb3JpZ2luYWxDb25maWcse2VudjoiQVdTX1NUU19SRUdJT05BTF9FTkRQT0lOVFMiLHNoYXJlZENvbmZpZzoic3RzX3JlZ2lvbmFsX2VuZHBvaW50cyIsY2xpZW50Q29uZmlnOiJzdHNSZWdpb25hbEVuZHBvaW50cyJ9KSwicmVnaW9uYWwiPT09bi5zdHNSZWdpb25hbEVuZHBvaW50cyYmdC5pc0dsb2JhbEVuZHBvaW50KXtpZighbi5yZWdpb24pdGhyb3cgci51dGlsLmVycm9yKG5ldyBFcnJvcix7Y29kZToiQ29uZmlnRXJyb3IiLG1lc3NhZ2U6Ik1pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyJ9KTt2YXIgaT1uLmVuZHBvaW50LmluZGV4T2YoIi5hbWF6b25hd3MuY29tIiksYT1uLmVuZHBvaW50LnN1YnN0cmluZygwLGkpKyIuIituLnJlZ2lvbituLmVuZHBvaW50LnN1YnN0cmluZyhpKTtlLmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGEpLGUuaHR0cFJlcXVlc3QucmVnaW9uPW4ucmVnaW9ufX19KX0seyIuLi9jb25maWdfcmVnaW9uYWxfZW5kcG9pbnQiOjE4LCIuLi9jb3JlIjoxOX1dLDY0OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpO3IuU2lnbmVycy5CZWFyZXI9ci51dGlsLmluaGVyaXQoci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcyxlKX0sYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlKXt0aGlzLnJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uPSJCZWFyZXIgIitlLnRva2VufX0pfSx7Ii4uL2NvcmUiOjE5fV0sNjU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdCxpPSJwcmVzaWduZWQtZXhwaXJlcyI7ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LmhlYWRlcnNbaV0sbj1lLnNlcnZpY2UuZ2V0U2lnbmVyQ2xhc3MoZSk7aWYoZGVsZXRlIGUuaHR0cFJlcXVlc3QuaGVhZGVyc1siVXNlci1BZ2VudCJdLGRlbGV0ZSBlLmh0dHBSZXF1ZXN0LmhlYWRlcnNbIlgtQW16LVVzZXItQWdlbnQiXSxuPT09ci5TaWduZXJzLlY0KXtpZih0PjYwNDgwMCl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yLHtjb2RlOiJJbnZhbGlkRXhwaXJ5VGltZSIsbWVzc2FnZToiUHJlc2lnbmluZyBkb2VzIG5vdCBzdXBwb3J0IGV4cGlyeSB0aW1lIGdyZWF0ZXIgdGhhbiBhIHdlZWsgd2l0aCBTaWdWNCBzaWduaW5nLiIscmV0cnlhYmxlOiExfSk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXR9ZWxzZXtpZihuIT09ci5TaWduZXJzLlMzKXRocm93IHIudXRpbC5lcnJvcihuZXcgRXJyb3Ise21lc3NhZ2U6IlByZXNpZ25pbmcgb25seSBzdXBwb3J0cyBTMyBvciBTaWdWNCBzaWduaW5nLiIsY29kZToiVW5zdXBwb3J0ZWRTaWduZXIiLHJldHJ5YWJsZTohMX0pO3ZhciBvPWUuc2VydmljZT9lLnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKTpyLnV0aWwuZGF0ZS5nZXREYXRlKCk7ZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXBhcnNlSW50KHIudXRpbC5kYXRlLnVuaXhUaW1lc3RhbXAobykrdCwxMCkudG9TdHJpbmcoKX19ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLmh0dHBSZXF1ZXN0LmVuZHBvaW50LG49ci51dGlsLnVybFBhcnNlKGUuaHR0cFJlcXVlc3QucGF0aCksbz17fTtuLnNlYXJjaCYmKG89ci51dGlsLnF1ZXJ5U3RyaW5nUGFyc2Uobi5zZWFyY2guc3Vic3RyKDEpKSk7dmFyIGE9ZS5odHRwUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24uc3BsaXQoIiAiKTtpZigiQVdTIj09PWFbMF0pYT1hWzFdLnNwbGl0KCI6Iiksby5TaWduYXR1cmU9YS5wb3AoKSxvLkFXU0FjY2Vzc0tleUlkPWEuam9pbigiOiIpLHIudXRpbC5lYWNoKGUuaHR0cFJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtlPT09aSYmKGU9IkV4cGlyZXMiKSwwPT09ZS5pbmRleE9mKCJ4LWFtei1tZXRhLSIpJiYoZGVsZXRlIG9bZV0sZT1lLnRvTG93ZXJDYXNlKCkpLG9bZV09dH0pKSxkZWxldGUgZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldLGRlbGV0ZSBvLkF1dGhvcml6YXRpb24sZGVsZXRlIG8uSG9zdDtlbHNlIGlmKCJBV1M0LUhNQUMtU0hBMjU2Ij09PWFbMF0pe2Euc2hpZnQoKTt2YXIgcz1hLmpvaW4oIiAiKS5tYXRjaCgvU2lnbmF0dXJlPSguKj8pKD86LHxcc3xccj9cbnwkKS8pWzFdO29bIlgtQW16LVNpZ25hdHVyZSJdPXMsZGVsZXRlIG8uRXhwaXJlc310LnBhdGhuYW1lPW4ucGF0aG5hbWUsdC5zZWFyY2g9ci51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcobyl9ci5TaWduZXJzLlByZXNpZ249byh7c2lnbjpmdW5jdGlvbihlLHQsbil7aWYoZS5odHRwUmVxdWVzdC5oZWFkZXJzW2ldPXR8fDM2MDAsZS5vbigiYnVpbGQiLGEpLGUub24oInNpZ24iLHMpLGUucmVtb3ZlTGlzdGVuZXIoImFmdGVyQnVpbGQiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5TRVRfQ09OVEVOVF9MRU5HVEgpLGUucmVtb3ZlTGlzdGVuZXIoImFmdGVyQnVpbGQiLHIuRXZlbnRMaXN0ZW5lcnMuQ29yZS5DT01QVVRFX1NIQTI1NiksZS5lbWl0KCJiZWZvcmVQcmVzaWduIixbZV0pLCFuKXtpZihlLmJ1aWxkKCksZS5yZXNwb25zZS5lcnJvcil0aHJvdyBlLnJlc3BvbnNlLmVycm9yO3JldHVybiByLnV0aWwudXJsRm9ybWF0KGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQpfWUuYnVpbGQoKGZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZS5lcnJvcj9uKHRoaXMucmVzcG9uc2UuZXJyb3IpOm4obnVsbCxyLnV0aWwudXJsRm9ybWF0KGUuaHR0cFJlcXVlc3QuZW5kcG9pbnQpKX0pKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlByZXNpZ259LHsiLi4vY29yZSI6MTl9XSw2NjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyPW8oe2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMucmVxdWVzdD1lfSxzZXRTZXJ2aWNlQ2xpZW50SWQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXJ2aWNlQ2xpZW50SWQ9ZX0sZ2V0U2VydmljZUNsaWVudElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VydmljZUNsaWVudElkfX0pLHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb249ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UidjIiOnJldHVybiByLlNpZ25lcnMuVjI7Y2FzZSJ2MyI6cmV0dXJuIHIuU2lnbmVycy5WMztjYXNlInMzdjQiOmNhc2UidjQiOnJldHVybiByLlNpZ25lcnMuVjQ7Y2FzZSJzMyI6cmV0dXJuIHIuU2lnbmVycy5TMztjYXNlInYzaHR0cHMiOnJldHVybiByLlNpZ25lcnMuVjNIdHRwcztjYXNlImJlYXJlciI6cmV0dXJuIHIuU2lnbmVycy5CZWFyZXJ9dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHNpZ25pbmcgdmVyc2lvbiAiK2UpfSxlKCIuL3YyIiksZSgiLi92MyIpLGUoIi4vdjNodHRwcyIpLGUoIi4vdjQiKSxlKCIuL3MzIiksZSgiLi9wcmVzaWduIiksZSgiLi9iZWFyZXIiKX0seyIuLi9jb3JlIjoxOSwiLi9iZWFyZXIiOjY0LCIuL3ByZXNpZ24iOjY1LCIuL3MzIjo2NywiLi92MiI6NjgsIi4vdjMiOjY5LCIuL3YzaHR0cHMiOjcwLCIuL3Y0Ijo3MX1dLDY3OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlMzPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse3N1YlJlc291cmNlczp7YWNsOjEsYWNjZWxlcmF0ZToxLGFuYWx5dGljczoxLGNvcnM6MSxsaWZlY3ljbGU6MSxkZWxldGU6MSxpbnZlbnRvcnk6MSxsb2NhdGlvbjoxLGxvZ2dpbmc6MSxtZXRyaWNzOjEsbm90aWZpY2F0aW9uOjEscGFydE51bWJlcjoxLHBvbGljeToxLHJlcXVlc3RQYXltZW50OjEscmVwbGljYXRpb246MSxyZXN0b3JlOjEsdGFnZ2luZzoxLHRvcnJlbnQ6MSx1cGxvYWRJZDoxLHVwbG9hZHM6MSx2ZXJzaW9uSWQ6MSx2ZXJzaW9uaW5nOjEsdmVyc2lvbnM6MSx3ZWJzaXRlOjF9LHJlc3BvbnNlSGVhZGVyczp7InJlc3BvbnNlLWNvbnRlbnQtdHlwZSI6MSwicmVzcG9uc2UtY29udGVudC1sYW5ndWFnZSI6MSwicmVzcG9uc2UtZXhwaXJlcyI6MSwicmVzcG9uc2UtY2FjaGUtY29udHJvbCI6MSwicmVzcG9uc2UtY29udGVudC1kaXNwb3NpdGlvbiI6MSwicmVzcG9uc2UtY29udGVudC1lbmNvZGluZyI6MX0sYWRkQXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3RoaXMucmVxdWVzdC5oZWFkZXJzWyJwcmVzaWduZWQtZXhwaXJlcyJdfHwodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT1yLnV0aWwuZGF0ZS5yZmM4MjIodCkpLGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pO3ZhciBuPXRoaXMuc2lnbihlLnNlY3JldEFjY2Vzc0tleSx0aGlzLnN0cmluZ1RvU2lnbigpKSxvPSJBV1MgIitlLmFjY2Vzc0tleUlkKyI6IituO3RoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249b30sc3RyaW5nVG9TaWduOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZXF1ZXN0LHQ9W107dC5wdXNoKGUubWV0aG9kKSx0LnB1c2goZS5oZWFkZXJzWyJDb250ZW50LU1ENSJdfHwiIiksdC5wdXNoKGUuaGVhZGVyc1siQ29udGVudC1UeXBlIl18fCIiKSx0LnB1c2goZS5oZWFkZXJzWyJwcmVzaWduZWQtZXhwaXJlcyJdfHwiIik7dmFyIG49dGhpcy5jYW5vbmljYWxpemVkQW16SGVhZGVycygpO3JldHVybiBuJiZ0LnB1c2gobiksdC5wdXNoKHRoaXMuY2Fub25pY2FsaXplZFJlc291cmNlKCkpLHQuam9pbigiXG4iKX0sY2Fub25pY2FsaXplZEFtekhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLnV0aWwuZWFjaCh0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24odCl7dC5tYXRjaCgvXngtYW16LS9pKSYmZS5wdXNoKHQpfSkpLGUuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpPHQudG9Mb3dlckNhc2UoKT8tMToxfSkpO3ZhciB0PVtdO3JldHVybiByLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcyxlLChmdW5jdGlvbihlKXt0LnB1c2goZS50b0xvd2VyQ2FzZSgpKyI6IitTdHJpbmcodGhpcy5yZXF1ZXN0LmhlYWRlcnNbZV0pKX0pKSx0LmpvaW4oIlxuIil9LGNhbm9uaWNhbGl6ZWRSZXNvdXJjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdCx0PWUucGF0aC5zcGxpdCgiPyIpLG49dFswXSxvPXRbMV0saT0iIjtpZihlLnZpcnR1YWxIb3N0ZWRCdWNrZXQmJihpKz0iLyIrZS52aXJ0dWFsSG9zdGVkQnVja2V0KSxpKz1uLG8pe3ZhciBhPVtdO3IudXRpbC5hcnJheUVhY2guY2FsbCh0aGlzLG8uc3BsaXQoIiYiKSwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiPSIpWzBdLG49ZS5zcGxpdCgiPSIpWzFdO2lmKHRoaXMuc3ViUmVzb3VyY2VzW3RdfHx0aGlzLnJlc3BvbnNlSGVhZGVyc1t0XSl7dmFyIHI9e25hbWU6dH07dm9pZCAwIT09biYmKHRoaXMuc3ViUmVzb3VyY2VzW3RdP3IudmFsdWU9bjpyLnZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChuKSksYS5wdXNoKHIpfX0pKSxhLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubmFtZTx0Lm5hbWU/LTE6MX0pKSxhLmxlbmd0aCYmKG89W10sci51dGlsLmFycmF5RWFjaChhLChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLnZhbHVlP28ucHVzaChlLm5hbWUpOm8ucHVzaChlLm5hbWUrIj0iK2UudmFsdWUpfSkpLGkrPSI/IitvLmpvaW4oIiYiKSl9cmV0dXJuIGl9LHNpZ246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKGUsdCwiYmFzZTY0Iiwic2hhMSIpfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuUzN9LHsiLi4vY29yZSI6MTl9XSw2ODpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXIudXRpbC5pbmhlcml0O3IuU2lnbmVycy5WMj1vKHIuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLHthZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dHx8KHQ9ci51dGlsLmRhdGUuZ2V0RGF0ZSgpKTt2YXIgbj10aGlzLnJlcXVlc3Q7bi5wYXJhbXMuVGltZXN0YW1wPXIudXRpbC5kYXRlLmlzbzg2MDEodCksbi5wYXJhbXMuU2lnbmF0dXJlVmVyc2lvbj0iMiIsbi5wYXJhbXMuU2lnbmF0dXJlTWV0aG9kPSJIbWFjU0hBMjU2IixuLnBhcmFtcy5BV1NBY2Nlc3NLZXlJZD1lLmFjY2Vzc0tleUlkLGUuc2Vzc2lvblRva2VuJiYobi5wYXJhbXMuU2VjdXJpdHlUb2tlbj1lLnNlc3Npb25Ub2tlbiksZGVsZXRlIG4ucGFyYW1zLlNpZ25hdHVyZSxuLnBhcmFtcy5TaWduYXR1cmU9dGhpcy5zaWduYXR1cmUoZSksbi5ib2R5PXIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKG4ucGFyYW1zKSxuLmhlYWRlcnNbIkNvbnRlbnQtTGVuZ3RoIl09bi5ib2R5Lmxlbmd0aH0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSwiYmFzZTY0Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKHRoaXMucmVxdWVzdC5lbmRwb2ludC5ob3N0LnRvTG93ZXJDYXNlKCkpLGUucHVzaCh0aGlzLnJlcXVlc3QucGF0aG5hbWUoKSksZS5wdXNoKHIudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKHRoaXMucmVxdWVzdC5wYXJhbXMpKSxlLmpvaW4oIlxuIil9fSksdC5leHBvcnRzPXIuU2lnbmVycy5WMn0seyIuLi9jb3JlIjoxOX1dLDY5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vY29yZSIpLG89ci51dGlsLmluaGVyaXQ7ci5TaWduZXJzLlYzPW8oci5TaWduZXJzLlJlcXVlc3RTaWduZXIse2FkZEF1dGhvcml6YXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnV0aWwuZGF0ZS5yZmM4MjIodCk7dGhpcy5yZXF1ZXN0LmhlYWRlcnNbIlgtQW16LURhdGUiXT1uLGUuc2Vzc2lvblRva2VuJiYodGhpcy5yZXF1ZXN0LmhlYWRlcnNbIngtYW16LXNlY3VyaXR5LXRva2VuIl09ZS5zZXNzaW9uVG9rZW4pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJYLUFtem4tQXV0aG9yaXphdGlvbiJdPXRoaXMuYXV0aG9yaXphdGlvbihlLG4pfSxhdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiJBV1MzIEFXU0FjY2Vzc0tleUlkPSIrZS5hY2Nlc3NLZXlJZCsiLEFsZ29yaXRobT1IbWFjU0hBMjU2LFNpZ25lZEhlYWRlcnM9Iit0aGlzLnNpZ25lZEhlYWRlcnMoKSsiLFNpZ25hdHVyZT0iK3RoaXMuc2lnbmF0dXJlKGUpfSxzaWduZWRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2godGhpcy5oZWFkZXJzVG9TaWduKCksKGZ1bmN0aW9uKHQpe2UucHVzaCh0LnRvTG93ZXJDYXNlKCkpfSkpLGUuc29ydCgpLmpvaW4oIjsiKX0sY2Fub25pY2FsSGVhZGVyczpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdC5oZWFkZXJzLHQ9W107cmV0dXJuIHIudXRpbC5hcnJheUVhY2godGhpcy5oZWFkZXJzVG9TaWduKCksKGZ1bmN0aW9uKG4pe3QucHVzaChuLnRvTG93ZXJDYXNlKCkudHJpbSgpKyI6IitTdHJpbmcoZVtuXSkudHJpbSgpKX0pKSx0LnNvcnQoKS5qb2luKCJcbiIpKyJcbiJ9LGhlYWRlcnNUb1NpZ246ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmVhY2godGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQpeygiSG9zdCI9PT10fHwiQ29udGVudC1FbmNvZGluZyI9PT10fHx0Lm1hdGNoKC9eWC1BbXovaSkpJiZlLnB1c2godCl9KSksZX0sc2lnbmF0dXJlOmZ1bmN0aW9uKGUpe3JldHVybiByLnV0aWwuY3J5cHRvLmhtYWMoZS5zZWNyZXRBY2Nlc3NLZXksdGhpcy5zdHJpbmdUb1NpZ24oKSwiYmFzZTY0Iil9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKCIvIiksZS5wdXNoKCIiKSxlLnB1c2godGhpcy5jYW5vbmljYWxIZWFkZXJzKCkpLGUucHVzaCh0aGlzLnJlcXVlc3QuYm9keSksci51dGlsLmNyeXB0by5zaGEyNTYoZS5qb2luKCJcbiIpKX19KSx0LmV4cG9ydHM9ci5TaWduZXJzLlYzfSx7Ii4uL2NvcmUiOjE5fV0sNzA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuLi9jb3JlIiksbz1yLnV0aWwuaW5oZXJpdDtlKCIuL3YzIiksci5TaWduZXJzLlYzSHR0cHM9byhyLlNpZ25lcnMuVjMse2F1dGhvcml6YXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIkFXUzMtSFRUUFMgQVdTQWNjZXNzS2V5SWQ9IitlLmFjY2Vzc0tleUlkKyIsQWxnb3JpdGhtPUhtYWNTSEEyNTYsU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSl9LHN0cmluZ1RvU2lnbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdfX0pLHQuZXhwb3J0cz1yLlNpZ25lcnMuVjNIdHRwc30seyIuLi9jb3JlIjoxOSwiLi92MyI6Njl9XSw3MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPWUoIi4vdjRfY3JlZGVudGlhbHMiKSxpPXIudXRpbC5pbmhlcml0LGE9InByZXNpZ25lZC1leHBpcmVzIjtyLlNpZ25lcnMuVjQ9aShyLlNpZ25lcnMuUmVxdWVzdFNpZ25lcix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4pe3IuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcyxlKSx0aGlzLnNlcnZpY2VOYW1lPXQsbj1ufHx7fSx0aGlzLnNpZ25hdHVyZUNhY2hlPSJib29sZWFuIiE9dHlwZW9mIG4uc2lnbmF0dXJlQ2FjaGV8fG4uc2lnbmF0dXJlQ2FjaGUsdGhpcy5vcGVyYXRpb249bi5vcGVyYXRpb24sdGhpcy5zaWduYXR1cmVWZXJzaW9uPW4uc2lnbmF0dXJlVmVyc2lvbn0sYWxnb3JpdGhtOiJBV1M0LUhNQUMtU0hBMjU2IixhZGRBdXRob3JpemF0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49ci51dGlsLmRhdGUuaXNvODYwMSh0KS5yZXBsYWNlKC9bOlwtXXxcLlxkezN9L2csIiIpO3RoaXMuaXNQcmVzaWduZWQoKT90aGlzLnVwZGF0ZUZvclByZXNpZ25lZChlLG4pOnRoaXMuYWRkSGVhZGVycyhlLG4pLHRoaXMucmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb249dGhpcy5hdXRob3JpemF0aW9uKGUsbil9LGFkZEhlYWRlcnM6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlcXVlc3QuaGVhZGVyc1siWC1BbXotRGF0ZSJdPXQsZS5zZXNzaW9uVG9rZW4mJih0aGlzLnJlcXVlc3QuaGVhZGVyc1sieC1hbXotc2VjdXJpdHktdG9rZW4iXT1lLnNlc3Npb25Ub2tlbil9LHVwZGF0ZUZvclByZXNpZ25lZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlZGVudGlhbFN0cmluZyh0KSxvPXsiWC1BbXotRGF0ZSI6dCwiWC1BbXotQWxnb3JpdGhtIjp0aGlzLmFsZ29yaXRobSwiWC1BbXotQ3JlZGVudGlhbCI6ZS5hY2Nlc3NLZXlJZCsiLyIrbiwiWC1BbXotRXhwaXJlcyI6dGhpcy5yZXF1ZXN0LmhlYWRlcnNbYV0sIlgtQW16LVNpZ25lZEhlYWRlcnMiOnRoaXMuc2lnbmVkSGVhZGVycygpfTtlLnNlc3Npb25Ub2tlbiYmKG9bIlgtQW16LVNlY3VyaXR5LVRva2VuIl09ZS5zZXNzaW9uVG9rZW4pLHRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSYmKG9bIkNvbnRlbnQtVHlwZSJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSksdGhpcy5yZXF1ZXN0LmhlYWRlcnNbIkNvbnRlbnQtTUQ1Il0mJihvWyJDb250ZW50LU1ENSJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LU1ENSJdKSx0aGlzLnJlcXVlc3QuaGVhZGVyc1siQ2FjaGUtQ29udHJvbCJdJiYob1siQ2FjaGUtQ29udHJvbCJdPXRoaXMucmVxdWVzdC5oZWFkZXJzWyJDYWNoZS1Db250cm9sIl0pLHIudXRpbC5lYWNoLmNhbGwodGhpcyx0aGlzLnJlcXVlc3QuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpZihlIT09YSYmdGhpcy5pc1NpZ25hYmxlSGVhZGVyKGUpKXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7MD09PW4uaW5kZXhPZigieC1hbXotbWV0YS0iKT9vW25dPXQ6MD09PW4uaW5kZXhPZigieC1hbXotIikmJihvW2VdPXQpfX0pKTt2YXIgaT10aGlzLnJlcXVlc3QucGF0aC5pbmRleE9mKCI/Iik+PTA/IiYiOiI/Ijt0aGlzLnJlcXVlc3QucGF0aCs9aStyLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhvKX0sYXV0aG9yaXphdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9dGhpcy5jcmVkZW50aWFsU3RyaW5nKHQpO3JldHVybiBuLnB1c2godGhpcy5hbGdvcml0aG0rIiBDcmVkZW50aWFsPSIrZS5hY2Nlc3NLZXlJZCsiLyIrciksbi5wdXNoKCJTaWduZWRIZWFkZXJzPSIrdGhpcy5zaWduZWRIZWFkZXJzKCkpLG4ucHVzaCgiU2lnbmF0dXJlPSIrdGhpcy5zaWduYXR1cmUoZSx0KSksbi5qb2luKCIsICIpfSxzaWduYXR1cmU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1vLmdldFNpZ25pbmdLZXkoZSx0LnN1YnN0cigwLDgpLHRoaXMucmVxdWVzdC5yZWdpb24sdGhpcy5zZXJ2aWNlTmFtZSx0aGlzLnNpZ25hdHVyZUNhY2hlKTtyZXR1cm4gci51dGlsLmNyeXB0by5obWFjKG4sdGhpcy5zdHJpbmdUb1NpZ24odCksImhleCIpfSxzdHJpbmdUb1NpZ246ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQucHVzaCgiQVdTNC1ITUFDLVNIQTI1NiIpLHQucHVzaChlKSx0LnB1c2godGhpcy5jcmVkZW50aWFsU3RyaW5nKGUpKSx0LnB1c2godGhpcy5oZXhFbmNvZGVkSGFzaCh0aGlzLmNhbm9uaWNhbFN0cmluZygpKSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXMucmVxdWVzdC5wYXRobmFtZSgpO3JldHVybiJzMyIhPT10aGlzLnNlcnZpY2VOYW1lJiYiczN2NCIhPT10aGlzLnNpZ25hdHVyZVZlcnNpb24mJih0PXIudXRpbC51cmlFc2NhcGVQYXRoKHQpKSxlLnB1c2godGhpcy5yZXF1ZXN0Lm1ldGhvZCksZS5wdXNoKHQpLGUucHVzaCh0aGlzLnJlcXVlc3Quc2VhcmNoKCkpLGUucHVzaCh0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSsiXG4iKSxlLnB1c2godGhpcy5zaWduZWRIZWFkZXJzKCkpLGUucHVzaCh0aGlzLmhleEVuY29kZWRCb2R5SGFzaCgpKSxlLmpvaW4oIlxuIil9LGNhbm9uaWNhbEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyLnV0aWwuZWFjaC5jYWxsKHRoaXMsdGhpcy5yZXF1ZXN0LmhlYWRlcnMsKGZ1bmN0aW9uKHQsbil7ZS5wdXNoKFt0LG5dKX0pKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF0udG9Mb3dlckNhc2UoKTx0WzBdLnRvTG93ZXJDYXNlKCk/LTE6MX0pKTt2YXIgdD1bXTtyZXR1cm4gci51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsZSwoZnVuY3Rpb24oZSl7dmFyIG49ZVswXS50b0xvd2VyQ2FzZSgpO2lmKHRoaXMuaXNTaWduYWJsZUhlYWRlcihuKSl7dmFyIG89ZVsxXTtpZihudWxsPT1vfHwiZnVuY3Rpb24iIT10eXBlb2Ygby50b1N0cmluZyl0aHJvdyByLnV0aWwuZXJyb3IobmV3IEVycm9yKCJIZWFkZXIgIituKyIgY29udGFpbnMgaW52YWxpZCB2YWx1ZSIpLHtjb2RlOiJJbnZhbGlkSGVhZGVyIn0pO3QucHVzaChuKyI6Iit0aGlzLmNhbm9uaWNhbEhlYWRlclZhbHVlcyhvLnRvU3RyaW5nKCkpKX19KSksdC5qb2luKCJcbiIpfSxjYW5vbmljYWxIZWFkZXJWYWx1ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXHMrL2csIiAiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9LHNpZ25lZEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gci51dGlsLmVhY2guY2FsbCh0aGlzLHRoaXMucmVxdWVzdC5oZWFkZXJzLChmdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKSx0aGlzLmlzU2lnbmFibGVIZWFkZXIodCkmJmUucHVzaCh0KX0pKSxlLnNvcnQoKS5qb2luKCI7Iil9LGNyZWRlbnRpYWxTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uY3JlYXRlU2NvcGUoZS5zdWJzdHIoMCw4KSx0aGlzLnJlcXVlc3QucmVnaW9uLHRoaXMuc2VydmljZU5hbWUpfSxoZXhFbmNvZGVkSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gci51dGlsLmNyeXB0by5zaGEyNTYoZSwiaGV4Iil9LGhleEVuY29kZWRCb2R5SGFzaDpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVxdWVzdDtyZXR1cm4gdGhpcy5pc1ByZXNpZ25lZCgpJiZbInMzIiwiczMtb2JqZWN0LWxhbWJkYSJdLmluZGV4T2YodGhpcy5zZXJ2aWNlTmFtZSk+LTEmJiFlLmJvZHk/IlVOU0lHTkVELVBBWUxPQUQiOmUuaGVhZGVyc1siWC1BbXotQ29udGVudC1TaGEyNTYiXT9lLmhlYWRlcnNbIlgtQW16LUNvbnRlbnQtU2hhMjU2Il06dGhpcy5oZXhFbmNvZGVkSGFzaCh0aGlzLnJlcXVlc3QuYm9keXx8IiIpfSx1bnNpZ25hYmxlSGVhZGVyczpbImF1dGhvcml6YXRpb24iLCJjb250ZW50LXR5cGUiLCJjb250ZW50LWxlbmd0aCIsInVzZXItYWdlbnQiLGEsImV4cGVjdCIsIngtYW16bi10cmFjZS1pZCJdLGlzU2lnbmFibGVIZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigieC1hbXotIil8fHRoaXMudW5zaWduYWJsZUhlYWRlcnMuaW5kZXhPZihlKTwwfSxpc1ByZXNpZ25lZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5yZXF1ZXN0LmhlYWRlcnNbYV19fSksdC5leHBvcnRzPXIuU2lnbmVycy5WNH0seyIuLi9jb3JlIjoxOSwiLi92NF9jcmVkZW50aWFscyI6NzJ9XSw3MjpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL2NvcmUiKSxvPXt9LGk9W10sYT0iYXdzNF9yZXF1ZXN0Ijt0LmV4cG9ydHM9e2NyZWF0ZVNjb3BlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bZS5zdWJzdHIoMCw4KSx0LG4sYV0uam9pbigiLyIpfSxnZXRTaWduaW5nS2V5OmZ1bmN0aW9uKGUsdCxuLHMsYyl7dmFyIHU9W3IudXRpbC5jcnlwdG8uaG1hYyhlLnNlY3JldEFjY2Vzc0tleSxlLmFjY2Vzc0tleUlkLCJiYXNlNjQiKSx0LG4sc10uam9pbigiXyIpO2lmKChjPSExIT09YykmJnUgaW4gbylyZXR1cm4gb1t1XTt2YXIgbD1yLnV0aWwuY3J5cHRvLmhtYWMoIkFXUzQiK2Uuc2VjcmV0QWNjZXNzS2V5LHQsImJ1ZmZlciIpLHA9ci51dGlsLmNyeXB0by5obWFjKGwsbiwiYnVmZmVyIiksZD1yLnV0aWwuY3J5cHRvLmhtYWMocCxzLCJidWZmZXIiKSxmPXIudXRpbC5jcnlwdG8uaG1hYyhkLGEsImJ1ZmZlciIpO3JldHVybiBjJiYob1t1XT1mLGkucHVzaCh1KSxpLmxlbmd0aD41MCYmZGVsZXRlIG9baS5zaGlmdCgpXSksZn0sZW1wdHlDYWNoZTpmdW5jdGlvbigpe289e30saT1bXX19fSx7Ii4uL2NvcmUiOjE5fV0sNzM6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7dGhpcy5jdXJyZW50U3RhdGU9dHx8bnVsbCx0aGlzLnN0YXRlcz1lfHx7fX1yLnByb3RvdHlwZS5ydW5Ubz1mdW5jdGlvbihlLHQsbixyKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHI9bixuPXQsdD1lLGU9bnVsbCk7dmFyIG89dGhpcyxpPW8uc3RhdGVzW28uY3VycmVudFN0YXRlXTtpLmZuLmNhbGwobnx8byxyLChmdW5jdGlvbihyKXtpZihyKXtpZighaS5mYWlsKXJldHVybiB0P3QuY2FsbChuLHIpOm51bGw7by5jdXJyZW50U3RhdGU9aS5mYWlsfWVsc2V7aWYoIWkuYWNjZXB0KXJldHVybiB0P3QuY2FsbChuKTpudWxsO28uY3VycmVudFN0YXRlPWkuYWNjZXB0fWlmKG8uY3VycmVudFN0YXRlPT09ZSlyZXR1cm4gdD90LmNhbGwobixyKTpudWxsO28ucnVuVG8oZSx0LG4scil9KSl9LHIucHJvdG90eXBlLmFkZFN0YXRlPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0PyhyPXQsdD1udWxsLG49bnVsbCk6ImZ1bmN0aW9uIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKSx0aGlzLmN1cnJlbnRTdGF0ZXx8KHRoaXMuY3VycmVudFN0YXRlPWUpLHRoaXMuc3RhdGVzW2VdPXthY2NlcHQ6dCxmYWlsOm4sZm46cn0sdGhpc30sdC5leHBvcnRzPXJ9LHt9XSw3NDpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihuLHIpeyhmdW5jdGlvbigpe3ZhciBpLGE9e2Vudmlyb25tZW50OiJub2RlanMiLGVuZ2luZTpmdW5jdGlvbigpe2lmKGEuaXNCcm93c2VyKCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yKXJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBlPW4ucGxhdGZvcm0rIi8iK24udmVyc2lvbjtyZXR1cm4gbi5lbnYuQVdTX0VYRUNVVElPTl9FTlYmJihlKz0iIGV4ZWMtZW52LyIrbi5lbnYuQVdTX0VYRUNVVElPTl9FTlYpLGV9LHVzZXJBZ2VudDpmdW5jdGlvbigpe3ZhciB0PWEuZW52aXJvbm1lbnQsbj0iYXdzLXNkay0iK3QrIi8iK2UoIi4vY29yZSIpLlZFUlNJT047cmV0dXJuIm5vZGVqcyI9PT10JiYobis9IiAiK2EuZW5naW5lKCkpLG59LHVyaUVzY2FwZTpmdW5jdGlvbihlKXt2YXIgdD1lbmNvZGVVUklDb21wb25lbnQoZSk7cmV0dXJuIHQ9KHQ9dC5yZXBsYWNlKC9bXkEtWmEtejAtOV8uflwtJV0rL2csZXNjYXBlKSkucmVwbGFjZSgvWypdL2csKGZ1bmN0aW9uKGUpe3JldHVybiIlIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9KSl9LHVyaUVzY2FwZVBhdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGEuYXJyYXlFYWNoKGUuc3BsaXQoIi8iKSwoZnVuY3Rpb24oZSl7dC5wdXNoKGEudXJpRXNjYXBlKGUpKX0pKSx0LmpvaW4oIi8iKX0sdXJsUGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudXJsLnBhcnNlKGUpfSx1cmxGb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGEudXJsLmZvcm1hdChlKX0scXVlcnlTdHJpbmdQYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gYS5xdWVyeXN0cmluZy5wYXJzZShlKX0scXVlcnlQYXJhbXNUb1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPWEudXJpRXNjYXBlLHI9T2JqZWN0LmtleXMoZSkuc29ydCgpO3JldHVybiBhLmFycmF5RWFjaChyLChmdW5jdGlvbihyKXt2YXIgbz1lW3JdLGk9bihyKSxzPWkrIj0iO2lmKEFycmF5LmlzQXJyYXkobykpe3ZhciBjPVtdO2EuYXJyYXlFYWNoKG8sKGZ1bmN0aW9uKGUpe2MucHVzaChuKGUpKX0pKSxzPWkrIj0iK2Muc29ydCgpLmpvaW4oIiYiK2krIj0iKX1lbHNlIG51bGwhPW8mJihzPWkrIj0iK24obykpO3QucHVzaChzKX0pKSx0LmpvaW4oIiYiKX0scmVhZEZpbGVTeW5jOmZ1bmN0aW9uKHQpe3JldHVybiBhLmlzQnJvd3NlcigpP251bGw6ZSgiZnMiKS5yZWFkRmlsZVN5bmModCwidXRmLTgiKX0sYmFzZTY0OntlbmNvZGU6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXRocm93IGEuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgYmFzZTY0IGVuY29kZSBudW1iZXIgIitlKSk7cmV0dXJuIG51bGw9PWU/ZTphLmJ1ZmZlci50b0J1ZmZlcihlKS50b1N0cmluZygiYmFzZTY0Iil9LGRlY29kZTpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBiYXNlNjQgZGVjb2RlIG51bWJlciAiK2UpKTtyZXR1cm4gbnVsbD09ZT9lOmEuYnVmZmVyLnRvQnVmZmVyKGUsImJhc2U2NCIpfX0sYnVmZmVyOnt0b0J1ZmZlcjpmdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhLkJ1ZmZlci5mcm9tJiZhLkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tP2EuQnVmZmVyLmZyb20oZSx0KTpuZXcgYS5CdWZmZXIoZSx0KX0sYWxsb2M6ZnVuY3Rpb24oZSx0LG4pe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoInNpemUgcGFzc2VkIHRvIGFsbG9jIG11c3QgYmUgYSBudW1iZXIuIik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGEuQnVmZmVyLmFsbG9jKXJldHVybiBhLkJ1ZmZlci5hbGxvYyhlLHQsbik7dmFyIHI9bmV3IGEuQnVmZmVyKGUpO3JldHVybiB2b2lkIDAhPT10JiYiZnVuY3Rpb24iPT10eXBlb2Ygci5maWxsJiZyLmZpbGwodCx2b2lkIDAsdm9pZCAwLG4pLHJ9LHRvU3RyZWFtOmZ1bmN0aW9uKGUpe2EuQnVmZmVyLmlzQnVmZmVyKGUpfHwoZT1hLmJ1ZmZlci50b0J1ZmZlcihlKSk7dmFyIHQ9bmV3IGEuc3RyZWFtLlJlYWRhYmxlLG49MDtyZXR1cm4gdC5fcmVhZD1mdW5jdGlvbihyKXtpZihuPj1lLmxlbmd0aClyZXR1cm4gdC5wdXNoKG51bGwpO3ZhciBvPW4rcjtvPmUubGVuZ3RoJiYobz1lLmxlbmd0aCksdC5wdXNoKGUuc2xpY2UobixvKSksbj1vfSx0fSxjb25jYXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPTAsbz0wO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspcis9ZVtuXS5sZW5ndGg7Zm9yKHQ9YS5idWZmZXIuYWxsb2Mociksbj0wO248ZS5sZW5ndGg7bisrKWVbbl0uY29weSh0LG8pLG8rPWVbbl0ubGVuZ3RoO3JldHVybiB0fX0sc3RyaW5nOntieXRlTGVuZ3RoOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuIDA7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1hLmJ1ZmZlci50b0J1ZmZlcih0KSksIm51bWJlciI9PXR5cGVvZiB0LmJ5dGVMZW5ndGgpcmV0dXJuIHQuYnl0ZUxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybiB0Lmxlbmd0aDtpZigibnVtYmVyIj09dHlwZW9mIHQuc2l6ZSlyZXR1cm4gdC5zaXplO2lmKCJzdHJpbmciPT10eXBlb2YgdC5wYXRoKXJldHVybiBlKCJmcyIpLmxzdGF0U3luYyh0LnBhdGgpLnNpemU7dGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIkNhbm5vdCBkZXRlcm1pbmUgbGVuZ3RoIG9mICIrdCkse29iamVjdDp0fSl9LHVwcGVyRmlyc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0udG9VcHBlckNhc2UoKStlLnN1YnN0cigxKX0sbG93ZXJGaXJzdDpmdW5jdGlvbihlKXtyZXR1cm4gZVswXS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyKDEpfX0saW5pOntwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxuPXt9O3JldHVybiBhLmFycmF5RWFjaChlLnNwbGl0KC9ccj9cbi8pLChmdW5jdGlvbihlKXtpZigiWyI9PT0oZT1lLnNwbGl0KC8oXnxccylbOyNdLylbMF0udHJpbSgpKVswXSYmIl0iPT09ZVtlLmxlbmd0aC0xXSl7aWYoIl9fcHJvdG9fXyI9PT0odD1lLnN1YnN0cmluZygxLGUubGVuZ3RoLTEpKXx8Il9fcHJvdG9fXyI9PT10LnNwbGl0KC9ccy8pWzFdKXRocm93IGEuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgbG9hZCBwcm9maWxlIG5hbWUgJyIrdCsiJyBmcm9tIHNoYXJlZCBpbmkgZmlsZS4iKSl9ZWxzZSBpZih0KXt2YXIgcj1lLmluZGV4T2YoIj0iKSxvPWUubGVuZ3RoLTE7aWYoLTEhPT1yJiYwIT09ciYmciE9PW8pe3ZhciBpPWUuc3Vic3RyaW5nKDAscikudHJpbSgpLHM9ZS5zdWJzdHJpbmcocisxKS50cmltKCk7blt0XT1uW3RdfHx7fSxuW3RdW2ldPXN9fX0pKSxufX0sZm46e25vb3A6ZnVuY3Rpb24oKXt9LGNhbGxiYWNrOmZ1bmN0aW9uKGUpe2lmKGUpdGhyb3cgZX0sbWFrZUFzeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJnQ8PWUubGVuZ3RoP2U6ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7dC5wb3AoKShlLmFwcGx5KG51bGwsdCkpfX19LGRhdGU6e2dldERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaXx8KGk9ZSgiLi9jb3JlIikpLGkuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0P25ldyBEYXRlKChuZXcgRGF0ZSkuZ2V0VGltZSgpK2kuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0KTpuZXcgRGF0ZX0saXNvODYwMTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9YS5kYXRlLmdldERhdGUoKSksZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1wuXGR7M31aJC8sIloiKX0scmZjODIyOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1hLmRhdGUuZ2V0RGF0ZSgpKSxlLnRvVVRDU3RyaW5nKCl9LHVuaXhUaW1lc3RhbXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPWEuZGF0ZS5nZXREYXRlKCkpLGUuZ2V0VGltZSgpLzFlM30sZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGU/bmV3IERhdGUoMWUzKmUpOm5ldyBEYXRlKGUpfSxmb3JtYXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9Imlzbzg2MDEiKSxhLmRhdGVbdF0oYS5kYXRlLmZyb20oZSkpfSxwYXJzZVRpbWVzdGFtcDpmdW5jdGlvbihlKXtpZigibnVtYmVyIj09dHlwZW9mIGUpcmV0dXJuIG5ldyBEYXRlKDFlMyplKTtpZihlLm1hdGNoKC9eXGQrJC8pKXJldHVybiBuZXcgRGF0ZSgxZTMqZSk7aWYoZS5tYXRjaCgvXlxkezR9LykpcmV0dXJuIG5ldyBEYXRlKGUpO2lmKGUubWF0Y2goL15cd3szfSwvKSlyZXR1cm4gbmV3IERhdGUoZSk7dGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoInVuaGFuZGxlZCB0aW1lc3RhbXAgZm9ybWF0OiAiK2UpLHtjb2RlOiJUaW1lc3RhbXBQYXJzZXJFcnJvciJ9KX19LGNyeXB0bzp7Y3JjMzJUYWJsZTpbMCwxOTk2OTU5ODk0LDM5OTM5MTk3ODgsMjU2NzUyNDc5NCwxMjQ2MzQxMzcsMTg4NjA1NzYxNSwzOTE1NjIxNjg1LDI2NTczOTIwMzUsMjQ5MjY4Mjc0LDIwNDQ1MDgzMjQsMzc3MjExNTIzMCwyNTQ3MTc3ODY0LDE2Mjk0MTk5NSwyMTI1NTYxMDIxLDM4ODc2MDcwNDcsMjQyODQ0NDA0OSw0OTg1MzY1NDgsMTc4OTkyNzY2Niw0MDg5MDE2NjQ4LDIyMjcwNjEyMTQsNDUwNTQ4ODYxLDE4NDMyNTg2MDMsNDEwNzU4MDc1MywyMjExNjc3NjM5LDMyNTg4Mzk5MCwxNjg0Nzc3MTUyLDQyNTExMjIwNDIsMjMyMTkyNjYzNiwzMzU2MzM0ODcsMTY2MTM2NTQ2NSw0MTk1MzAyNzU1LDIzNjYxMTUzMTcsOTk3MDczMDk2LDEyODE5NTM4ODYsMzU3OTg1NTMzMiwyNzI0Njg4MjQyLDEwMDY4ODgxNDUsMTI1ODYwNzY4NywzNTI0MTAxNjI5LDI3Njg5NDI0NDMsOTAxMDk3NzIyLDExMTkwMDA2ODQsMzY4NjUxNzIwNiwyODk4MDY1NzI4LDg1MzA0NDQ1MSwxMTcyMjY2MTAxLDM3MDUwMTU3NTksMjg4MjYxNjY2NSw2NTE3Njc5ODAsMTM3MzUwMzU0NiwzMzY5NTU0MzA0LDMyMTgxMDQ1OTgsNTY1NTA3MjUzLDE0NTQ2MjE3MzEsMzQ4NTExMTcwNSwzMDk5NDM2MzAzLDY3MTI2Njk3NCwxNTk0MTk4MDI0LDMzMjI3MzA5MzAsMjk3MDM0NzgxMiw3OTU4MzU1MjcsMTQ4MzIzMDIyNSwzMjQ0MzY3Mjc1LDMwNjAxNDk1NjUsMTk5NDE0NjE5MiwzMTE1ODUzNCwyNTYzOTA3NzcyLDQwMjM3MTc5MzAsMTkwNzQ1OTQ2NSwxMTI2MzcyMTUsMjY4MDE1MzI1MywzOTA0NDI3MDU5LDIwMTM3NzYyOTAsMjUxNzIyMDM2LDI1MTcyMTUzNzQsMzc3NTgzMDA0MCwyMTM3NjU2NzYzLDE0MTM3NjgxMywyNDM5Mjc3NzE5LDM4NjUyNzEyOTcsMTgwMjE5NTQ0NCw0NzY4NjQ4NjYsMjIzODAwMTM2OCw0MDY2NTA4ODc4LDE4MTIzNzA5MjUsNDUzMDkyNzMxLDIxODE2MjUwMjUsNDExMTQ1MTIyMywxNzA2MDg4OTAyLDMxNDA0MjcwNCwyMzQ0NTMyMjAyLDQyNDAwMTc1MzIsMTY1ODY1ODI3MSwzNjY2MTk5NzcsMjM2MjY3MDMyMyw0MjI0OTk0NDA1LDEzMDM1MzU5NjAsOTg0OTYxNDg2LDI3NDcwMDcwOTIsMzU2OTAzNzUzOCwxMjU2MTcwODE3LDEwMzc2MDQzMTEsMjc2NTIxMDczMywzNTU0MDc5OTk1LDExMzEwMTQ1MDYsODc5Njc5OTk2LDI5MDkyNDM0NjIsMzY2Mzc3MTg1NiwxMTQxMTI0NDY3LDg1NTg0MjI3NywyODUyODAxNjMxLDM3MDg2NDg2NDksMTM0MjUzMzk0OCw2NTQ0NTkzMDYsMzE4ODM5NjA0OCwzMzczMDE1MTc0LDE0NjY0Nzk5MDksNTQ0MTc5NjM1LDMxMTA1MjM5MTMsMzQ2MjUyMjAxNSwxNTkxNjcxMDU0LDcwMjEzODc3NiwyOTY2NDYwNDUwLDMzNTI3OTk0MTIsMTUwNDkxODgwNyw3ODM1NTE4NzMsMzA4MjY0MDQ0MywzMjMzNDQyOTg5LDM5ODgyOTIzODQsMjU5NjI1NDY0Niw2MjMxNzA2OCwxOTU3ODEwODQyLDM5Mzk4NDU5NDUsMjY0NzgxNjExMSw4MTQ3MDk5NywxOTQzODAzNTIzLDM4MTQ5MTg5MzAsMjQ4OTU5NjgwNCwyMjUyNzQ0MzAsMjA1Mzc5MDM3NiwzODI2MTc1NzU1LDI0NjY5MDYwMTMsMTY3ODE2NzQzLDIwOTc2NTEzNzcsNDAyNzU1MjU4MCwyMjY1NDkwMzg2LDUwMzQ0NDA3MiwxNzYyMDUwODE0LDQxNTA0MTcyNDUsMjE1NDEyOTM1NSw0MjY1MjIyMjUsMTg1MjUwNzg3OSw0Mjc1MzEzNTI2LDIzMTIzMTc5MjAsMjgyNzUzNjI2LDE3NDI1NTU4NTIsNDE4OTcwODE0MywyMzk0ODc3OTQ1LDM5NzkxNzc2MywxNjIyMTgzNjM3LDM2MDQzOTA4ODgsMjcxNDg2NjU1OCw5NTM3Mjk3MzIsMTM0MDA3NjYyNiwzNTE4NzE5OTg1LDI3OTczNjA5OTksMTA2ODgyODM4MSwxMjE5NjM4ODU5LDM2MjQ3NDE4NTAsMjkzNjY3NTE0OCw5MDYxODU0NjIsMTA5MDgxMjUxMiwzNzQ3NjcyMDAzLDI4MjUzNzk2NjksODI5MzI5MTM1LDExODEzMzUxNjEsMzQxMjE3NzgwNCwzMTYwODM0ODQyLDYyODA4NTQwOCwxMzgyNjA1MzY2LDM0MjMzNjkxMDksMzEzODA3ODQ2Nyw1NzA1NjIyMzMsMTQyNjQwMDgxNSwzMzE3MzE2NTQyLDI5OTg3MzM2MDgsNzMzMjM5OTU0LDE1NTUyNjE5NTYsMzI2ODkzNTU5MSwzMDUwMzYwNjI1LDc1MjQ1OTQwMywxNTQxMzIwMjIxLDI2MDcwNzE5MjAsMzk2NTk3MzAzMCwxOTY5OTIyOTcyLDQwNzM1NDk4LDI2MTc4MzcyMjUsMzk0MzU3NzE1MSwxOTEzMDg3ODc3LDgzOTA4MzcxLDI1MTIzNDE2MzQsMzgwMzc0MDY5MiwyMDc1MjA4NjIyLDIxMzI2MTExMiwyNDYzMjcyNjAzLDM4NTU5OTAyODUsMjA5NDg1NDA3MSwxOTg5NTg4ODEsMjI2MjAyOTAxMiw0MDU3MjYwNjEwLDE3NTkzNTk5OTIsNTM0NDE0MTkwLDIxNzY3MTg1NDEsNDEzOTMyOTExNSwxODczODM2MDAxLDQxNDY2NDU2NywyMjgyMjQ4OTM0LDQyNzkyMDAzNjgsMTcxMTY4NDU1NCwyODUyODExMTYsMjQwNTgwMTcyNyw0MTY3MjE2NzQ1LDE2MzQ0Njc3OTUsMzc2MjI5NzAxLDI2ODUwNjc4OTYsMzYwODAwNzQwNiwxMzA4OTE4NjEyLDk1NjU0MzkzOCwyODA4NTU1MTA1LDM0OTU5NTgyNjMsMTIzMTYzNjMwMSwxMDQ3NDI3MDM1LDI5MzI5NTk4MTgsMzY1NDcwMzgzNiwxMDg4MzU5MjcwLDkzNjkxOGUzLDI4NDc3MTQ4OTksMzczNjgzNzgyOSwxMjAyOTAwODYzLDgxNzIzMzg5NywzMTgzMzQyMTA4LDM0MDEyMzcxMzAsMTQwNDI3NzU1Miw2MTU4MTgxNTAsMzEzNDIwNzQ5MywzNDUzNDIxMjAzLDE0MjM4NTc0NDksNjAxNDUwNDMxLDMwMDk4Mzc2MTQsMzI5NDcxMDQ1NiwxNTY3MTAzNzQ2LDcxMTkyODcyNCwzMDIwNjY4NDcxLDMyNzIzODAwNjUsMTUxMDMzNDIzNSw3NTUxNjcxMTddLGNyYzMyOmZ1bmN0aW9uKGUpe3ZhciB0PWEuY3J5cHRvLmNyYzMyVGFibGUsbj0tMTsic3RyaW5nIj09dHlwZW9mIGUmJihlPWEuYnVmZmVyLnRvQnVmZmVyKGUpKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyluPW4+Pj44XnRbMjU1JihuXmUucmVhZFVJbnQ4KHIpKV07cmV0dXJufm4+Pj4wfSxobWFjOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBufHwobj0iYmluYXJ5IiksImJ1ZmZlciI9PT1uJiYobj12b2lkIDApLHJ8fChyPSJzaGEyNTYiKSwic3RyaW5nIj09dHlwZW9mIHQmJih0PWEuYnVmZmVyLnRvQnVmZmVyKHQpKSxhLmNyeXB0by5saWIuY3JlYXRlSG1hYyhyLGUpLnVwZGF0ZSh0KS5kaWdlc3Qobil9LG1kNTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGEuY3J5cHRvLmhhc2goIm1kNSIsZSx0LG4pfSxzaGEyNTY6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBhLmNyeXB0by5oYXNoKCJzaGEyNTYiLGUsdCxuKX0saGFzaDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1hLmNyeXB0by5jcmVhdGVIYXNoKGUpO258fChuPSJiaW5hcnkiKSwiYnVmZmVyIj09PW4mJihuPXZvaWQgMCksInN0cmluZyI9PXR5cGVvZiB0JiYodD1hLmJ1ZmZlci50b0J1ZmZlcih0KSk7dmFyIHM9YS5hcnJheVNsaWNlRm4odCksYz1hLkJ1ZmZlci5pc0J1ZmZlcih0KTtpZihhLmlzQnJvd3NlcigpJiYidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0JiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYoYz0hMCksciYmIm9iamVjdCI9PT1vKHQpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5vbiYmIWMpdC5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe2kudXBkYXRlKGUpfSkpLHQub24oImVycm9yIiwoZnVuY3Rpb24oZSl7cihlKX0pKSx0Lm9uKCJlbmQiLChmdW5jdGlvbigpe3IobnVsbCxpLmRpZ2VzdChuKSl9KSk7ZWxzZXtpZighcnx8IXN8fGN8fCJ1bmRlZmluZWQiPT10eXBlb2YgRmlsZVJlYWRlcil7YS5pc0Jyb3dzZXIoKSYmIm9iamVjdCI9PT1vKHQpJiYhYyYmKHQ9bmV3IGEuQnVmZmVyKG5ldyBVaW50OEFycmF5KHQpKSk7dmFyIHU9aS51cGRhdGUodCkuZGlnZXN0KG4pO3JldHVybiByJiZyKG51bGwsdSksdX12YXIgbD0wLHA9bmV3IEZpbGVSZWFkZXI7cC5vbmVycm9yPWZ1bmN0aW9uKCl7cihuZXcgRXJyb3IoIkZhaWxlZCB0byByZWFkIGRhdGEuIikpfSxwLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPW5ldyBhLkJ1ZmZlcihuZXcgVWludDhBcnJheShwLnJlc3VsdCkpO2kudXBkYXRlKGUpLGwrPWUubGVuZ3RoLHAuX2NvbnRpbnVlUmVhZGluZygpfSxwLl9jb250aW51ZVJlYWRpbmc9ZnVuY3Rpb24oKXtpZihsPj10LnNpemUpcihudWxsLGkuZGlnZXN0KG4pKTtlbHNle3ZhciBlPWwrNTI0Mjg4O2U+dC5zaXplJiYoZT10LnNpemUpLHAucmVhZEFzQXJyYXlCdWZmZXIocy5jYWxsKHQsbCxlKSl9fSxwLl9jb250aW51ZVJlYWRpbmcoKX19LHRvSGV4OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKCgiMCIrZS5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yLDIpKTtyZXR1cm4gdC5qb2luKCIiKX0sY3JlYXRlSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gYS5jcnlwdG8ubGliLmNyZWF0ZUhhc2goZSl9fSxhYm9ydDp7fSxlYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJnQuY2FsbCh0aGlzLG4sZVtuXSk9PT1hLmFib3J0KWJyZWFrfSxhcnJheUVhY2g6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxwYXJzZUludChuLDEwKSk9PT1hLmFib3J0KWJyZWFrfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5lYWNoKHQsKGZ1bmN0aW9uKHQsbil7ZVt0XT1ufSkpLGV9LG1lcmdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEudXBkYXRlKGEuY29weShlKSx0KX0sY29weTpmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiBlO3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gdH0saXNFbXB0eTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0sYXJyYXlTbGljZUZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2xpY2V8fGUud2Via2l0U2xpY2V8fGUubW96U2xpY2U7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsfSxpc1R5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdCYmKHQ9YS50eXBlTmFtZSh0KSksT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpPT09IltvYmplY3QgIit0KyJdIn0sdHlwZU5hbWU6ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIm5hbWUiKSlyZXR1cm4gZS5uYW1lO3ZhciB0PWUudG9TdHJpbmcoKSxuPXQubWF0Y2goL15ccypmdW5jdGlvbiAoLispXCgvKTtyZXR1cm4gbj9uWzFdOnR9LGVycm9yOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtmb3IodmFyIHIgaW4ic3RyaW5nIj09dHlwZW9mIGUubWVzc2FnZSYmIiIhPT1lLm1lc3NhZ2UmJigic3RyaW5nIj09dHlwZW9mIHR8fHQmJnQubWVzc2FnZSkmJigobj1hLmNvcHkoZSkpLm1lc3NhZ2U9ZS5tZXNzYWdlKSxlLm1lc3NhZ2U9ZS5tZXNzYWdlfHxudWxsLCJzdHJpbmciPT10eXBlb2YgdD9lLm1lc3NhZ2U9dDoib2JqZWN0Ij09PW8odCkmJm51bGwhPT10JiYoYS51cGRhdGUoZSx0KSx0Lm1lc3NhZ2UmJihlLm1lc3NhZ2U9dC5tZXNzYWdlKSwodC5jb2RlfHx0Lm5hbWUpJiYoZS5jb2RlPXQuY29kZXx8dC5uYW1lKSx0LnN0YWNrJiYoZS5zdGFjaz10LnN0YWNrKSksImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJuYW1lIix7d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJtZXNzYWdlIix7ZW51bWVyYWJsZTohMH0pKSxlLm5hbWU9U3RyaW5nKHQmJnQubmFtZXx8ZS5uYW1lfHxlLmNvZGV8fCJFcnJvciIpLGUudGltZT1uZXcgRGF0ZSxuJiYoZS5vcmlnaW5hbEVycm9yPW4pLHR8fHt9KWlmKCJbIj09PXJbMF0mJiJdIj09PXJbci5sZW5ndGgtMV0pe2lmKCJjb2RlIj09PShyPXIuc2xpY2UoMSwtMSkpfHwibWVzc2FnZSI9PT1yKWNvbnRpbnVlO2VbIlsiK3IrIl0iXT0iU2VlIGVycm9yLiIrcisiIGZvciBkZXRhaWxzLiIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6ZVtyXXx8dCYmdFtyXXx8biYmbltyXSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfSl9cmV0dXJuIGV9LGluaGVyaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsO2lmKHZvaWQgMD09PXQpdD1lLGU9T2JqZWN0LG49e307ZWxzZXt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbj1uZXcgcn1yZXR1cm4gdC5jb25zdHJ1Y3Rvcj09PU9iamVjdCYmKHQuY29uc3RydWN0b3I9ZnVuY3Rpb24oKXtpZihlIT09T2JqZWN0KXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHQuY29uc3RydWN0b3IucHJvdG90eXBlPW4sYS51cGRhdGUodC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksdC5jb25zdHJ1Y3Rvci5fX3N1cGVyX189ZSx0LmNvbnN0cnVjdG9yfSxtaXhpbjpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBuIGluIGFyZ3VtZW50c1t0XS5wcm90b3R5cGUpe3ZhciByPWFyZ3VtZW50c1t0XS5wcm90b3R5cGVbbl07ImNvbnN0cnVjdG9yIiE9PW4mJihlLnByb3RvdHlwZVtuXT1yKX1yZXR1cm4gZX0saGlkZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5JiZhLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfSkpfSxwcm9wZXJ0eTpmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTp2b2lkIDA9PT1yfHxyfTsiZnVuY3Rpb24iIT10eXBlb2Ygbnx8bz8oaS52YWx1ZT1uLGkud3JpdGFibGU9ITApOmkuZ2V0PW4sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxpKX0sbWVtb2l6ZWRQcm9wZXJ0eTpmdW5jdGlvbihlLHQsbixyKXt2YXIgbz1udWxsO2EucHJvcGVydHkoZSx0LChmdW5jdGlvbigpe3JldHVybiBudWxsPT09byYmKG89bigpKSxvfSkscil9LGhvaXN0UGF5bG9hZE1lbWJlcjpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10Lm9wZXJhdGlvbixyPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1tuXSxvPXIub3V0cHV0O2lmKG8ucGF5bG9hZCYmIXIuaGFzRXZlbnRPdXRwdXQpe3ZhciBpPW8ubWVtYmVyc1tvLnBheWxvYWRdLHM9ZS5kYXRhW28ucGF5bG9hZF07InN0cnVjdHVyZSI9PT1pLnR5cGUmJmEuZWFjaChzLChmdW5jdGlvbih0LG4pe2EucHJvcGVydHkoZS5kYXRhLHQsbiwhMSl9KSl9fSxjb21wdXRlU2hhMjU2OmZ1bmN0aW9uKHQsbil7aWYoYS5pc05vZGUoKSl7dmFyIHI9YS5zdHJlYW0uU3RyZWFtLG89ZSgiZnMiKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmdCBpbnN0YW5jZW9mIHIpe2lmKCJzdHJpbmciIT10eXBlb2YgdC5wYXRoKXJldHVybiBuKG5ldyBFcnJvcigiTm9uLWZpbGUgc3RyZWFtIG9iamVjdHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBTaWdWNCIpKTt2YXIgaT17fTsibnVtYmVyIj09dHlwZW9mIHQuc3RhcnQmJihpLnN0YXJ0PXQuc3RhcnQpLCJudW1iZXIiPT10eXBlb2YgdC5lbmQmJihpLmVuZD10LmVuZCksdD1vLmNyZWF0ZVJlYWRTdHJlYW0odC5wYXRoLGkpfX1hLmNyeXB0by5zaGEyNTYodCwiaGV4IiwoZnVuY3Rpb24oZSx0KXtlP24oZSk6bihudWxsLHQpfSkpfSxpc0Nsb2NrU2tld2VkOmZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGEucHJvcGVydHkoaS5jb25maWcsImlzQ2xvY2tTa2V3ZWQiLE1hdGguYWJzKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWUpPj0zZTUsITEpLGkuY29uZmlnLmlzQ2xvY2tTa2V3ZWR9LGFwcGx5Q2xvY2tPZmZzZXQ6ZnVuY3Rpb24oZSl7ZSYmKGkuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0PWUtKG5ldyBEYXRlKS5nZXRUaW1lKCkpfSxleHRyYWN0UmVxdWVzdElkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaHR0cFJlc3BvbnNlLmhlYWRlcnNbIngtYW16LXJlcXVlc3QtaWQiXXx8ZS5odHRwUmVzcG9uc2UuaGVhZGVyc1sieC1hbXpuLXJlcXVlc3RpZCJdOyF0JiZlLmRhdGEmJmUuZGF0YS5SZXNwb25zZU1ldGFkYXRhJiYodD1lLmRhdGEuUmVzcG9uc2VNZXRhZGF0YS5SZXF1ZXN0SWQpLHQmJihlLnJlcXVlc3RJZD10KSxlLmVycm9yJiYoZS5lcnJvci5yZXF1ZXN0SWQ9dCl9LGFkZFByb21pc2VzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ITE7dm9pZCAwPT09dCYmaSYmaS5jb25maWcmJih0PWkuY29uZmlnLmdldFByb21pc2VzRGVwZW5kZW5jeSgpKSx2b2lkIDA9PT10JiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb21pc2UmJih0PVByb21pc2UpLCJmdW5jdGlvbiIhPXR5cGVvZiB0JiYobj0hMCksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTtuP28uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MmJm8uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MoKTpvLmFkZFByb21pc2VzVG9DbGFzcyYmby5hZGRQcm9taXNlc1RvQ2xhc3ModCl9fSxwcm9taXNpZnlNZXRob2Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7ci5wdXNoKChmdW5jdGlvbihlLG4pe2U/byhlKTp0KG4pfSkpLG5bZV0uYXBwbHkobixyKX0pKX19LGlzRHVhbHN0YWNrQXZhaWxhYmxlOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3ZhciBuPWUoIi4uL2FwaXMvbWV0YWRhdGEuanNvbiIpO3JldHVybiJzdHJpbmciIT10eXBlb2YgdCYmKHQ9dC5zZXJ2aWNlSWRlbnRpZmllciksISgic3RyaW5nIiE9dHlwZW9mIHR8fCFuLmhhc093blByb3BlcnR5KHQpfHwhblt0XS5kdWFsc3RhY2tBdmFpbGFibGUpfSxjYWxjdWxhdGVSZXRyeURlbGF5OmZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSk7dmFyIHI9dC5jdXN0b21CYWNrb2ZmfHxudWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiByKGUsbik7dmFyIG89Im51bWJlciI9PXR5cGVvZiB0LmJhc2U/dC5iYXNlOjEwMDtyZXR1cm4gTWF0aC5yYW5kb20oKSooTWF0aC5wb3coMixlKSpvKX0saGFuZGxlUmVxdWVzdFdpdGhSZXRyaWVzOmZ1bmN0aW9uKGUsdCxuKXt0fHwodD17fSk7dmFyIHI9aS5IdHRwQ2xpZW50LmdldEluc3RhbmNlKCksbz10Lmh0dHBPcHRpb25zfHx7fSxzPTAsYz1mdW5jdGlvbihlKXt2YXIgcj10Lm1heFJldHJpZXN8fDA7aWYoZSYmIlRpbWVvdXRFcnJvciI9PT1lLmNvZGUmJihlLnJldHJ5YWJsZT0hMCksZSYmZS5yZXRyeWFibGUmJnM8cil7dmFyIG89YS5jYWxjdWxhdGVSZXRyeURlbGF5KHMsdC5yZXRyeURlbGF5T3B0aW9ucyxlKTtpZihvPj0wKXJldHVybiBzKyssdm9pZCBzZXRUaW1lb3V0KHUsbysoZS5yZXRyeUFmdGVyfHwwKSl9bihlKX0sdT1mdW5jdGlvbigpe3ZhciB0PSIiO3IuaGFuZGxlUmVxdWVzdChlLG8sKGZ1bmN0aW9uKGUpe2Uub24oImRhdGEiLChmdW5jdGlvbihlKXt0Kz1lLnRvU3RyaW5nKCl9KSksZS5vbigiZW5kIiwoZnVuY3Rpb24oKXt2YXIgcj1lLnN0YXR1c0NvZGU7aWYocjwzMDApbihudWxsLHQpO2Vsc2V7dmFyIG89MWUzKnBhcnNlSW50KGUuaGVhZGVyc1sicmV0cnktYWZ0ZXIiXSwxMCl8fDAsaT1hLmVycm9yKG5ldyBFcnJvcix7c3RhdHVzQ29kZTpyLHJldHJ5YWJsZTpyPj01MDB8fDQyOT09PXJ9KTtvJiZpLnJldHJ5YWJsZSYmKGkucmV0cnlBZnRlcj1vKSxjKGkpfX0pKX0pLGMpfTtpLnV0aWwuZGVmZXIodSl9LHV1aWQ6e3Y0OmZ1bmN0aW9uKCl7cmV0dXJuIGUoInV1aWQiKS52NCgpfX0sY29udmVydFBheWxvYWRUb1N0cmluZzpmdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj10Lm9wZXJhdGlvbixyPXQuc2VydmljZS5hcGkub3BlcmF0aW9uc1tuXS5vdXRwdXR8fHt9O3IucGF5bG9hZCYmZS5kYXRhW3IucGF5bG9hZF0mJihlLmRhdGFbci5wYXlsb2FkXT1lLmRhdGFbci5wYXlsb2FkXS50b1N0cmluZygpKX0sZGVmZXI6ZnVuY3Rpb24oZSl7Im9iamVjdCI9PT1vKG4pJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5uZXh0VGljaz9uLm5leHRUaWNrKGUpOiJmdW5jdGlvbiI9PXR5cGVvZiByP3IoZSk6c2V0VGltZW91dChlLDApfSxnZXRSZXF1ZXN0UGF5bG9hZFNoYXBlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZS5hcGkub3BlcmF0aW9ucztpZih0KXt2YXIgbj0odHx8e30pW2Uub3BlcmF0aW9uXTtpZihuJiZuLmlucHV0JiZuLmlucHV0LnBheWxvYWQpcmV0dXJuIG4uaW5wdXQubWVtYmVyc1tuLmlucHV0LnBheWxvYWRdfX0sZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30sbz17fTtuLmVudlthLmNvbmZpZ09wdEluRW52XSYmKG89ZS5sb2FkRnJvbSh7aXNDb25maWc6ITAsZmlsZW5hbWU6bi5lbnZbYS5zaGFyZWRDb25maWdGaWxlRW52XX0pKTt2YXIgaT17fTt0cnl7aT1lLmxvYWRGcm9tKHtmaWxlbmFtZTp0fHxuLmVudlthLmNvbmZpZ09wdEluRW52XSYmbi5lbnZbYS5zaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnZdfSl9Y2F0Y2goZSl7aWYoIW4uZW52W2EuY29uZmlnT3B0SW5FbnZdKXRocm93IGV9Zm9yKHZhciBzPTAsYz1PYmplY3Qua2V5cyhvKTtzPGMubGVuZ3RoO3MrKylyW2Nbc11dPXUocltjW3NdXXx8e30sb1tjW3NdXSk7Zm9yKHM9MCxjPU9iamVjdC5rZXlzKGkpO3M8Yy5sZW5ndGg7cysrKXJbY1tzXV09dShyW2Nbc11dfHx7fSxpW2Nbc11dKTtyZXR1cm4gcjtmdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciBuPTAscj1PYmplY3Qua2V5cyh0KTtuPHIubGVuZ3RoO24rKyllW3Jbbl1dPXRbcltuXV07cmV0dXJuIGV9fSxBUk46e3ZhbGlkYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYwPT09ZS5pbmRleE9mKCJhcm46IikmJmUuc3BsaXQoIjoiKS5sZW5ndGg+PTZ9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIjoiKTtyZXR1cm57cGFydGl0aW9uOnRbMV0sc2VydmljZTp0WzJdLHJlZ2lvbjp0WzNdLGFjY291bnRJZDp0WzRdLHJlc291cmNlOnQuc2xpY2UoNSkuam9pbigiOiIpfX0sYnVpbGQ6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5zZXJ2aWNlfHx2b2lkIDA9PT1lLnJlZ2lvbnx8dm9pZCAwPT09ZS5hY2NvdW50SWR8fHZvaWQgMD09PWUucmVzb3VyY2UpdGhyb3cgYS5lcnJvcihuZXcgRXJyb3IoIklucHV0IEFSTiBvYmplY3QgaXMgaW52YWxpZCIpKTtyZXR1cm4iYXJuOiIrKGUucGFydGl0aW9ufHwiYXdzIikrIjoiK2Uuc2VydmljZSsiOiIrZS5yZWdpb24rIjoiK2UuYWNjb3VudElkKyI6IitlLnJlc291cmNlfX0sZGVmYXVsdFByb2ZpbGU6ImRlZmF1bHQiLGNvbmZpZ09wdEluRW52OiJBV1NfU0RLX0xPQURfQ09ORklHIixzaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnY6IkFXU19TSEFSRURfQ1JFREVOVElBTFNfRklMRSIsc2hhcmVkQ29uZmlnRmlsZUVudjoiQVdTX0NPTkZJR19GSUxFIixpbWRzRGlzYWJsZWRFbnY6IkFXU19FQzJfTUVUQURBVEFfRElTQUJMRUQifTt0LmV4cG9ydHM9YX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSxlKCJ0aW1lcnMiKS5zZXRJbW1lZGlhdGUpfSx7Ii4uL2FwaXMvbWV0YWRhdGEuanNvbiI6NCwiLi9jb3JlIjoxOSxfcHJvY2Vzczo5MSxmczo4Mix0aW1lcnM6OTksdXVpZDoxMDJ9XSw3NTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoIi4uL3V0aWwiKSxvPWUoIi4uL21vZGVsL3NoYXBlIik7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkscj0wLG89bi5sZW5ndGg7cjxvO3IrKylpZihuW3JdLnBhcmVudE5vZGU9PT1lKXJldHVybiBuW3JdfWZ1bmN0aW9uIHMoZSx0KXtzd2l0Y2godHx8KHQ9e30pLHQudHlwZSl7Y2FzZSJzdHJ1Y3R1cmUiOnJldHVybiBjKGUsdCk7Y2FzZSJtYXAiOnJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj17fSxyPXQua2V5Lm5hbWV8fCJrZXkiLG89dC52YWx1ZS5uYW1lfHwidmFsdWUiLGk9dC5mbGF0dGVuZWQ/dC5uYW1lOiJlbnRyeSIsYz1lLmZpcnN0RWxlbWVudENoaWxkO2M7KXtpZihjLm5vZGVOYW1lPT09aSl7dmFyIHU9YShjLHIpLnRleHRDb250ZW50LGw9YShjLG8pO25bdV09cyhsLHQudmFsdWUpfWM9Yy5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIG59KGUsdCk7Y2FzZSJsaXN0IjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj10LmZsYXR0ZW5lZD90Lm5hbWU6dC5tZW1iZXIubmFtZXx8Im1lbWJlciIsbz1lLmZpcnN0RWxlbWVudENoaWxkO287KW8ubm9kZU5hbWU9PT1yJiZuLnB1c2gocyhvLHQubWVtYmVyKSksbz1vLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbn0oZSx0KTtjYXNlIHZvaWQgMDpjYXNlIG51bGw6cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIiI7aWYoIWUuZmlyc3RFbGVtZW50Q2hpbGQpcmV0dXJuIG51bGw9PT1lLnBhcmVudE5vZGUucGFyZW50Tm9kZT97fTowPT09ZS5jaGlsZE5vZGVzLmxlbmd0aD8iIjplLnRleHRDb250ZW50O2Zvcih2YXIgdD17dHlwZToic3RydWN0dXJlIixtZW1iZXJzOnt9fSxuPWUuZmlyc3RFbGVtZW50Q2hpbGQ7bjspe3ZhciByPW4ubm9kZU5hbWU7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQubWVtYmVycyxyKT90Lm1lbWJlcnNbcl0udHlwZT0ibGlzdCI6dC5tZW1iZXJzW3JdPXtuYW1lOnJ9LG49bi5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIGMoZSx0KX0oZSk7ZGVmYXVsdDpyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihlLmdldEF0dHJpYnV0ZSl7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoImVuY29kaW5nIik7ImJhc2U2NCI9PT1uJiYodD1uZXcgby5jcmVhdGUoe3R5cGU6bn0pKX12YXIgcj1lLnRleHRDb250ZW50O3JldHVybiIiPT09ciYmKHI9bnVsbCksImZ1bmN0aW9uIj09dHlwZW9mIHQudG9UeXBlP3QudG9UeXBlKHIpOnJ9KGUsdCl9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj17fTtyZXR1cm4gbnVsbD09PWV8fHIuZWFjaCh0Lm1lbWJlcnMsKGZ1bmN0aW9uKHIsbyl7aWYoby5pc1htbEF0dHJpYnV0ZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuYXR0cmlidXRlcyxvLm5hbWUpKXt2YXIgaT1lLmF0dHJpYnV0ZXNbby5uYW1lXS52YWx1ZTtuW3JdPXMoe3RleHRDb250ZW50Oml9LG8pfX1lbHNle3ZhciBjPW8uZmxhdHRlbmVkP2U6YShlLG8ubmFtZSk7Yz9uW3JdPXMoYyxvKTpvLmZsYXR0ZW5lZHx8Imxpc3QiIT09by50eXBlfHx0LmFwaS54bWxOb0RlZmF1bHRMaXN0c3x8KG5bcl09by5kZWZhdWx0VmFsdWUpfX0pKSxufWkucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7aWYoIiI9PT1lLnJlcGxhY2UoL15ccysvLCIiKSlyZXR1cm57fTt2YXIgbixvO3RyeXtpZih3aW5kb3cuRE9NUGFyc2VyKXt0cnl7bj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsInRleHQveG1sIil9Y2F0Y2goZSl7dGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIlBhcnNlIGVycm9yIGluIGRvY3VtZW50Iikse29yaWdpbmFsRXJyb3I6ZSxjb2RlOiJYTUxQYXJzZXJFcnJvciIscmV0cnlhYmxlOiEwfSl9aWYobnVsbD09PW4uZG9jdW1lbnRFbGVtZW50KXRocm93IHIuZXJyb3IobmV3IEVycm9yKCJDYW5ub3QgcGFyc2UgZW1wdHkgZG9jdW1lbnQuIikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KTt2YXIgaT1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdO2lmKGkmJihpLnBhcmVudE5vZGU9PT1ufHwiYm9keSI9PT1pLnBhcmVudE5vZGUubm9kZU5hbWV8fGkucGFyZW50Tm9kZS5wYXJlbnROb2RlPT09bnx8ImJvZHkiPT09aS5wYXJlbnROb2RlLnBhcmVudE5vZGUubm9kZU5hbWUpKXt2YXIgYz1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXXx8aTt0aHJvdyByLmVycm9yKG5ldyBFcnJvcihjLnRleHRDb250ZW50fHwiUGFyc2VyIGVycm9yIGluIGRvY3VtZW50Iikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX19ZWxzZXtpZighd2luZG93LkFjdGl2ZVhPYmplY3QpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbG9hZCBYTUwgcGFyc2VyIik7aWYoKG49bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikpLmFzeW5jPSExLCFuLmxvYWRYTUwoZSkpdGhyb3cgci5lcnJvcihuZXcgRXJyb3IoIlBhcnNlIGVycm9yIGluIGRvY3VtZW50Iikse2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KX19Y2F0Y2goZSl7bz1lfWlmKG4mJm4uZG9jdW1lbnRFbGVtZW50JiYhbyl7dmFyIHU9cyhuLmRvY3VtZW50RWxlbWVudCx0KSxsPWEobi5kb2N1bWVudEVsZW1lbnQsIlJlc3BvbnNlTWV0YWRhdGEiKTtyZXR1cm4gbCYmKHUuUmVzcG9uc2VNZXRhZGF0YT1zKGwse30pKSx1fWlmKG8pdGhyb3cgci5lcnJvcihvfHxuZXcgRXJyb3Ise2NvZGU6IlhNTFBhcnNlckVycm9yIixyZXRyeWFibGU6ITB9KTtyZXR1cm57fX0sdC5leHBvcnRzPWl9LHsiLi4vbW9kZWwvc2hhcGUiOjQ1LCIuLi91dGlsIjo3NH1dLDc2OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi4vdXRpbCIpLG89ZSgiLi94bWwtbm9kZSIpLlhtbE5vZGUsaT1lKCIuL3htbC10ZXh0IikuWG1sVGV4dDtmdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIHMoZSx0LG4pe3N3aXRjaChuLnR5cGUpe2Nhc2Uic3RydWN0dXJlIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3IuYXJyYXlFYWNoKG4ubWVtYmVyTmFtZXMsKGZ1bmN0aW9uKHIpe3ZhciBpPW4ubWVtYmVyc1tyXTtpZigiYm9keSI9PT1pLmxvY2F0aW9uKXt2YXIgYT10W3JdLHU9aS5uYW1lO2lmKG51bGwhPWEpaWYoaS5pc1htbEF0dHJpYnV0ZSllLmFkZEF0dHJpYnV0ZSh1LGEpO2Vsc2UgaWYoaS5mbGF0dGVuZWQpcyhlLGEsaSk7ZWxzZXt2YXIgbD1uZXcgbyh1KTtlLmFkZENoaWxkTm9kZShsKSxjKGwsaSkscyhsLGEsaSl9fX0pKX0oZSx0LG4pO2Nhc2UibWFwIjpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4ua2V5Lm5hbWV8fCJrZXkiLGE9bi52YWx1ZS5uYW1lfHwidmFsdWUiO3IuZWFjaCh0LChmdW5jdGlvbih0LHIpe3ZhciBjPW5ldyBvKG4uZmxhdHRlbmVkP24ubmFtZToiZW50cnkiKTtlLmFkZENoaWxkTm9kZShjKTt2YXIgdT1uZXcgbyhpKSxsPW5ldyBvKGEpO2MuYWRkQ2hpbGROb2RlKHUpLGMuYWRkQ2hpbGROb2RlKGwpLHModSx0LG4ua2V5KSxzKGwscixuLnZhbHVlKX0pKX0oZSx0LG4pO2Nhc2UibGlzdCI6cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtuLmZsYXR0ZW5lZD9yLmFycmF5RWFjaCh0LChmdW5jdGlvbih0KXt2YXIgcj1uLm1lbWJlci5uYW1lfHxuLm5hbWUsaT1uZXcgbyhyKTtlLmFkZENoaWxkTm9kZShpKSxzKGksdCxuLm1lbWJlcil9KSk6ci5hcnJheUVhY2godCwoZnVuY3Rpb24odCl7dmFyIHI9bi5tZW1iZXIubmFtZXx8Im1lbWJlciIsaT1uZXcgbyhyKTtlLmFkZENoaWxkTm9kZShpKSxzKGksdCxuLm1lbWJlcil9KSl9KGUsdCxuKTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbihlLHQsbil7ZS5hZGRDaGlsZE5vZGUobmV3IGkobi50b1dpcmVGb3JtYXQodCkpKX0oZSx0LG4pfX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcixvPSJ4bWxucyI7dC54bWxOYW1lc3BhY2VVcmk/KHI9dC54bWxOYW1lc3BhY2VVcmksdC54bWxOYW1lc3BhY2VQcmVmaXgmJihvKz0iOiIrdC54bWxOYW1lc3BhY2VQcmVmaXgpKTpuJiZ0LmFwaS54bWxOYW1lc3BhY2VVcmkmJihyPXQuYXBpLnhtbE5hbWVzcGFjZVVyaSksciYmZS5hZGRBdHRyaWJ1dGUobyxyKX1hLnByb3RvdHlwZS50b1hNTD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uZXcgbyhuKTtyZXR1cm4gYyhpLHQsITApLHMoaSxlLHQpLGkuY2hpbGRyZW4ubGVuZ3RoPjB8fHI/aS50b1N0cmluZygpOiIifSx0LmV4cG9ydHM9YX0seyIuLi91dGlsIjo3NCwiLi94bWwtbm9kZSI6NzksIi4veG1sLXRleHQiOjgwfV0sNzc6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2VzY2FwZUF0dHJpYnV0ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvJy9nLCImYXBvczsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKS5yZXBsYWNlKC8iL2csIiZxdW90OyIpfX19LHt9XSw3ODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17ZXNjYXBlRWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8mL2csIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7IikucmVwbGFjZSgvXHIvZywiJiN4MEQ7IikucmVwbGFjZSgvXG4vZywiJiN4MEE7IikucmVwbGFjZSgvXHUwMDg1L2csIiYjeDg1OyIpLnJlcGxhY2UoL1x1MjAyOC8sIiYjeDIwMjg7Iil9fX0se31dLDc5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9ZSgiLi9lc2NhcGUtYXR0cmlidXRlIikuZXNjYXBlQXR0cmlidXRlO2Z1bmN0aW9uIG8oZSx0KXt2b2lkIDA9PT10JiYodD1bXSksdGhpcy5uYW1lPWUsdGhpcy5jaGlsZHJlbj10LHRoaXMuYXR0cmlidXRlcz17fX1vLnByb3RvdHlwZS5hZGRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2VdPXQsdGhpc30sby5wcm90b3R5cGUuYWRkQ2hpbGROb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNoaWxkcmVuLnB1c2goZSksdGhpc30sby5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUpe3JldHVybiBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW2VdLHRoaXN9LG8ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPUJvb2xlYW4odGhpcy5jaGlsZHJlbi5sZW5ndGgpLHQ9IjwiK3RoaXMubmFtZSxuPXRoaXMuYXR0cmlidXRlcyxvPTAsaT1PYmplY3Qua2V5cyhuKTtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSxzPW5bYV07bnVsbCE9cyYmKHQrPSIgIithKyc9IicrcigiIitzKSsnIicpfXJldHVybiB0KyhlPyI+Iit0aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9TdHJpbmcoKX0pKS5qb2luKCIiKSsiPC8iK3RoaXMubmFtZSsiPiI6Ii8+Iil9LHQuZXhwb3J0cz17WG1sTm9kZTpvfX0seyIuL2VzY2FwZS1hdHRyaWJ1dGUiOjc3fV0sODA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1lKCIuL2VzY2FwZS1lbGVtZW50IikuZXNjYXBlRWxlbWVudDtmdW5jdGlvbiBvKGUpe3RoaXMudmFsdWU9ZX1vLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByKCIiK3RoaXMudmFsdWUpfSx0LmV4cG9ydHM9e1htbFRleHQ6b319LHsiLi9lc2NhcGUtZWxlbWVudCI6Nzh9XSw4MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9YyhlKSxuPXRbMF0scj10WzFdO3JldHVybiAzKihuK3IpLzQtcn0sbi50b0J5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9YyhlKSxhPXJbMF0scz1yWzFdLHU9bmV3IGkoZnVuY3Rpb24oZSx0LG4pe3JldHVybiAzKih0K24pLzQtbn0oMCxhLHMpKSxsPTAscD1zPjA/YS00OmE7Zm9yKG49MDtuPHA7bis9NCl0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MTh8b1tlLmNoYXJDb2RlQXQobisxKV08PDEyfG9bZS5jaGFyQ29kZUF0KG4rMildPDw2fG9bZS5jaGFyQ29kZUF0KG4rMyldLHVbbCsrXT10Pj4xNiYyNTUsdVtsKytdPXQ+PjgmMjU1LHVbbCsrXT0yNTUmdDtyZXR1cm4gMj09PXMmJih0PW9bZS5jaGFyQ29kZUF0KG4pXTw8MnxvW2UuY2hhckNvZGVBdChuKzEpXT4+NCx1W2wrK109MjU1JnQpLDE9PT1zJiYodD1vW2UuY2hhckNvZGVBdChuKV08PDEwfG9bZS5jaGFyQ29kZUF0KG4rMSldPDw0fG9bZS5jaGFyQ29kZUF0KG4rMildPj4yLHVbbCsrXT10Pj44JjI1NSx1W2wrK109MjU1JnQpLHV9LG4uZnJvbUJ5dGVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aCxvPW4lMyxpPVtdLGE9MTYzODMscz0wLGM9bi1vO3M8YztzKz1hKWkucHVzaCh1KGUscyxzK2E+Yz9jOnMrYSkpO3JldHVybiAxPT09bz8odD1lW24tMV0saS5wdXNoKHJbdD4+Ml0rclt0PDw0JjYzXSsiPT0iKSk6Mj09PW8mJih0PShlW24tMl08PDgpK2Vbbi0xXSxpLnB1c2goclt0Pj4xMF0rclt0Pj40JjYzXStyW3Q8PDImNjNdKyI9IikpLGkuam9pbigiIil9O2Zvcih2YXIgcj1bXSxvPVtdLGk9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIscz0wO3M8NjQ7KytzKXJbc109YVtzXSxvW2EuY2hhckNvZGVBdChzKV09cztmdW5jdGlvbiBjKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQlND4wKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCIpO3ZhciBuPWUuaW5kZXhPZigiPSIpO3JldHVybi0xPT09biYmKG49dCksW24sbj09PXQ/MDo0LW4lNF19ZnVuY3Rpb24gdShlLHQsbil7Zm9yKHZhciBvLGksYT1bXSxzPXQ7czxuO3MrPTMpbz0oZVtzXTw8MTYmMTY3MTE2ODApKyhlW3MrMV08PDgmNjUyODApKygyNTUmZVtzKzJdKSxhLnB1c2goclsoaT1vKT4+MTgmNjNdK3JbaT4+MTImNjNdK3JbaT4+NiY2M10rcls2MyZpXSk7cmV0dXJuIGEuam9pbigiIil9b1siLSIuY2hhckNvZGVBdCgwKV09NjIsb1siXyIuY2hhckNvZGVBdCgwKV09NjN9LHt9XSw4MjpbZnVuY3Rpb24oZSx0LG4pe30se31dLDgzOltmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX06dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dDt2YXIgbj1mdW5jdGlvbigpe307bi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19LHt9XSw4NDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIm9iamVjdCI9PT1vKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5jb3B5JiYiZnVuY3Rpb24iPT10eXBlb2YgZS5maWxsJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5yZWFkVUludDh9fSx7fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24odCxuKXsoZnVuY3Rpb24oKXt2YXIgaT0vJVtzZGolXS9nO3IuZm9ybWF0PWZ1bmN0aW9uKGUpe2lmKCF5KGUpKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGMoYXJndW1lbnRzW25dKSk7cmV0dXJuIHQuam9pbigiICIpfW49MTtmb3IodmFyIHI9YXJndW1lbnRzLG89ci5sZW5ndGgsYT1TdHJpbmcoZSkucmVwbGFjZShpLChmdW5jdGlvbihlKXtpZigiJSUiPT09ZSlyZXR1cm4iJSI7aWYobj49bylyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZSIlcyI6cmV0dXJuIFN0cmluZyhyW24rK10pO2Nhc2UiJWQiOnJldHVybiBOdW1iZXIocltuKytdKTtjYXNlIiVqIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJbbisrXSl9Y2F0Y2goZSl7cmV0dXJuIltDaXJjdWxhcl0ifWRlZmF1bHQ6cmV0dXJuIGV9fSkpLHM9cltuXTtuPG87cz1yWysrbl0pbShzKXx8IVMocyk/YSs9IiAiK3M6YSs9IiAiK2Mocyk7cmV0dXJuIGF9LHIuZGVwcmVjYXRlPWZ1bmN0aW9uKGUsbyl7aWYoYihuLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiByLmRlcHJlY2F0ZShlLG8pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYoITA9PT10Lm5vRGVwcmVjYXRpb24pcmV0dXJuIGU7dmFyIGk9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWkpe2lmKHQudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3Iobyk7dC50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2Uobyk6Y29uc29sZS5lcnJvcihvKSxpPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O3ZhciBhLHM9e307ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXtzZWVuOltdLHN0eWxpemU6bH07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihuLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKG4uY29sb3JzPWFyZ3VtZW50c1szXSksZyh0KT9uLnNob3dIaWRkZW49dDp0JiZyLl9leHRlbmQobix0KSxiKG4uc2hvd0hpZGRlbikmJihuLnNob3dIaWRkZW49ITEpLGIobi5kZXB0aCkmJihuLmRlcHRoPTIpLGIobi5jb2xvcnMpJiYobi5jb2xvcnM9ITEpLGIobi5jdXN0b21JbnNwZWN0KSYmKG4uY3VzdG9tSW5zcGVjdD0hMCksbi5jb2xvcnMmJihuLnN0eWxpemU9dSkscChuLGUsbi5kZXB0aCl9ZnVuY3Rpb24gdShlLHQpe3ZhciBuPWMuc3R5bGVzW3RdO3JldHVybiBuPyIbWyIrYy5jb2xvcnNbbl1bMF0rIm0iK2UrIhtbIitjLmNvbG9yc1tuXVsxXSsibSI6ZX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQsbil7aWYoZS5jdXN0b21JbnNwZWN0JiZ0JiZJKHQuaW5zcGVjdCkmJnQuaW5zcGVjdCE9PXIuaW5zcGVjdCYmKCF0LmNvbnN0cnVjdG9yfHx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXQpKXt2YXIgbz10Lmluc3BlY3QobixlKTtyZXR1cm4geShvKXx8KG89cChlLG8sbikpLG99dmFyIGk9ZnVuY3Rpb24oZSx0KXtpZihiKHQpKXJldHVybiBlLnN0eWxpemUoInVuZGVmaW5lZCIsInVuZGVmaW5lZCIpO2lmKHkodCkpe3ZhciBuPSInIitKU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC9eInwiJC9nLCIiKS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykrIiciO3JldHVybiBlLnN0eWxpemUobiwic3RyaW5nIil9cmV0dXJuIHYodCk/ZS5zdHlsaXplKCIiK3QsIm51bWJlciIpOmcodCk/ZS5zdHlsaXplKCIiK3QsImJvb2xlYW4iKTptKHQpP2Uuc3R5bGl6ZSgibnVsbCIsIm51bGwiKTp2b2lkIDB9KGUsdCk7aWYoaSlyZXR1cm4gaTt2YXIgYT1PYmplY3Qua2V5cyh0KSxzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dFtlXT0hMH0pKSx0fShhKTtpZihlLnNob3dIaWRkZW4mJihhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpKSxUKHQpJiYoYS5pbmRleE9mKCJtZXNzYWdlIik+PTB8fGEuaW5kZXhPZigiZGVzY3JpcHRpb24iKT49MCkpcmV0dXJuIGQodCk7aWYoMD09PWEubGVuZ3RoKXtpZihJKHQpKXt2YXIgYz10Lm5hbWU/IjogIit0Lm5hbWU6IiI7cmV0dXJuIGUuc3R5bGl6ZSgiW0Z1bmN0aW9uIitjKyJdIiwic3BlY2lhbCIpfWlmKEUodCkpcmV0dXJuIGUuc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksInJlZ2V4cCIpO2lmKEModCkpcmV0dXJuIGUuc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLCJkYXRlIik7aWYoVCh0KSlyZXR1cm4gZCh0KX12YXIgdSxsPSIiLFM9ITEsdz1bInsiLCJ9Il07cmV0dXJuIGgodCkmJihTPSEwLHc9WyJbIiwiXSJdKSxJKHQpJiYobD0iIFtGdW5jdGlvbiIrKHQubmFtZT8iOiAiK3QubmFtZToiIikrIl0iKSxFKHQpJiYobD0iICIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSxDKHQpJiYobD0iICIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh0KSksVCh0KSYmKGw9IiAiK2QodCkpLDAhPT1hLmxlbmd0aHx8UyYmMCE9dC5sZW5ndGg/bjwwP0UodCk/ZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSwicmVnZXhwIik6ZS5zdHlsaXplKCJbT2JqZWN0XSIsInNwZWNpYWwiKTooZS5zZWVuLnB1c2godCksdT1TP2Z1bmN0aW9uKGUsdCxuLHIsbyl7Zm9yKHZhciBpPVtdLGE9MCxzPXQubGVuZ3RoO2E8czsrK2EpUih0LFN0cmluZyhhKSk/aS5wdXNoKGYoZSx0LG4scixTdHJpbmcoYSksITApKTppLnB1c2goIiIpO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKG8pe28ubWF0Y2goL15cZCskLyl8fGkucHVzaChmKGUsdCxuLHIsbywhMCkpfSkpLGl9KGUsdCxuLHMsYSk6YS5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiBmKGUsdCxuLHMscixTKX0pKSxlLnNlZW4ucG9wKCksZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmluZGV4T2YoIlxuIiksZSt0LnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSksMCk7cmV0dXJuIHI+NjA/blswXSsoIiI9PT10PyIiOnQrIlxuICIpKyIgIitlLmpvaW4oIixcbiAgIikrIiAiK25bMV06blswXSt0KyIgIitlLmpvaW4oIiwgIikrIiAiK25bMV19KHUsbCx3KSk6d1swXStsK3dbMV19ZnVuY3Rpb24gZChlKXtyZXR1cm4iWyIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkrIl0ifWZ1bmN0aW9uIGYoZSx0LG4scixvLGkpe3ZhciBhLHMsYztpZigoYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbyl8fHt2YWx1ZTp0W29dfSkuZ2V0P3M9Yy5zZXQ/ZS5zdHlsaXplKCJbR2V0dGVyL1NldHRlcl0iLCJzcGVjaWFsIik6ZS5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTpjLnNldCYmKHM9ZS5zdHlsaXplKCJbU2V0dGVyXSIsInNwZWNpYWwiKSksUihyLG8pfHwoYT0iWyIrbysiXSIpLHN8fChlLnNlZW4uaW5kZXhPZihjLnZhbHVlKTwwPyhzPW0obik/cChlLGMudmFsdWUsbnVsbCk6cChlLGMudmFsdWUsbi0xKSkuaW5kZXhPZigiXG4iKT4tMSYmKHM9aT9zLnNwbGl0KCJcbiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiAgIitlfSkpLmpvaW4oIlxuIikuc3Vic3RyKDIpOiJcbiIrcy5zcGxpdCgiXG4iKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIgICAiK2V9KSkuam9pbigiXG4iKSk6cz1lLnN0eWxpemUoIltDaXJjdWxhcl0iLCJzcGVjaWFsIikpLGIoYSkpe2lmKGkmJm8ubWF0Y2goL15cZCskLykpcmV0dXJuIHM7KGE9SlNPTi5zdHJpbmdpZnkoIiIrbykpLm1hdGNoKC9eIihbYS16QS1aX11bYS16QS1aXzAtOV0qKSIkLyk/KGE9YS5zdWJzdHIoMSxhLmxlbmd0aC0yKSxhPWUuc3R5bGl6ZShhLCJuYW1lIikpOihhPWEucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpLnJlcGxhY2UoLyheInwiJCkvZywiJyIpLGE9ZS5zdHlsaXplKGEsInN0cmluZyIpKX1yZXR1cm4gYSsiOiAiK3N9ZnVuY3Rpb24gaChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBnKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4gbnVsbD09PWV9ZnVuY3Rpb24gdihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24geShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9ZnVuY3Rpb24gYihlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBFKGUpe3JldHVybiBTKGUpJiYiW29iamVjdCBSZWdFeHBdIj09PXcoZSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4ib2JqZWN0Ij09PW8oZSkmJm51bGwhPT1lfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIFMoZSkmJiJbb2JqZWN0IERhdGVdIj09PXcoZSl9ZnVuY3Rpb24gVChlKXtyZXR1cm4gUyhlKSYmKCJbb2JqZWN0IEVycm9yXSI9PT13KGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGU8MTA/IjAiK2UudG9TdHJpbmcoMTApOmUudG9TdHJpbmcoMTApfXIuZGVidWdsb2c9ZnVuY3Rpb24oZSl7aWYoYihhKSYmKGE9dC5lbnYuTk9ERV9ERUJVR3x8IiIpLGU9ZS50b1VwcGVyQ2FzZSgpLCFzW2VdKWlmKG5ldyBSZWdFeHAoIlxcYiIrZSsiXFxiIiwiaSIpLnRlc3QoYSkpe3ZhciBuPXQucGlkO3NbZV09ZnVuY3Rpb24oKXt2YXIgdD1yLmZvcm1hdC5hcHBseShyLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcigiJXMgJWQ6ICVzIixlLG4sdCl9fWVsc2Ugc1tlXT1mdW5jdGlvbigpe307cmV0dXJuIHNbZV19LHIuaW5zcGVjdD1jLGMuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxjLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLGJvb2xlYW46InllbGxvdyIsdW5kZWZpbmVkOiJncmV5IixudWxsOiJib2xkIixzdHJpbmc6ImdyZWVuIixkYXRlOiJtYWdlbnRhIixyZWdleHA6InJlZCJ9LHIuaXNBcnJheT1oLHIuaXNCb29sZWFuPWcsci5pc051bGw9bSxyLmlzTnVsbE9yVW5kZWZpbmVkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lfSxyLmlzTnVtYmVyPXYsci5pc1N0cmluZz15LHIuaXNTeW1ib2w9ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PT1vKGUpfSxyLmlzVW5kZWZpbmVkPWIsci5pc1JlZ0V4cD1FLHIuaXNPYmplY3Q9UyxyLmlzRGF0ZT1DLHIuaXNFcnJvcj1ULHIuaXNGdW5jdGlvbj1JLHIuaXNQcmltaXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGV8fCJzdHJpbmciPT10eXBlb2YgZXx8InN5bWJvbCI9PT1vKGUpfHx2b2lkIDA9PT1lfSxyLmlzQnVmZmVyPWUoIi4vc3VwcG9ydC9pc0J1ZmZlciIpO3ZhciBfPVsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl07ZnVuY3Rpb24gUihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX1yLmxvZz1mdW5jdGlvbigpe3ZhciBlLHQ7Y29uc29sZS5sb2coIiVzIC0gJXMiLChlPW5ldyBEYXRlLHQ9W0EoZS5nZXRIb3VycygpKSxBKGUuZ2V0TWludXRlcygpKSxBKGUuZ2V0U2Vjb25kcygpKV0uam9pbigiOiIpLFtlLmdldERhdGUoKSxfW2UuZ2V0TW9udGgoKV0sdF0uam9pbigiICIpKSxyLmZvcm1hdC5hcHBseShyLGFyZ3VtZW50cykpfSxyLmluaGVyaXRzPWUoImluaGVyaXRzIiksci5fZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFTKHQpKXJldHVybiBlO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPW4ubGVuZ3RoO3ItLTspZVtuW3JdXT10W25bcl1dO3JldHVybiBlfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjo4NCxfcHJvY2Vzczo5MSxpbmhlcml0czo4M31dLDg2OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQsbil7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhc2U2NC1qcyIpLG89ZSgiaWVlZTc1NCIpLGk9ZSgiaXNhcnJheSIpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gYy5UWVBFRF9BUlJBWV9TVVBQT1JUPzIxNDc0ODM2NDc6MTA3Mzc0MTgyM31mdW5jdGlvbiBzKGUsdCl7aWYoYSgpPHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoIik7cmV0dXJuIGMuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT1uZXcgVWludDhBcnJheSh0KSkuX19wcm90b19fPWMucHJvdG90eXBlOihudWxsPT09ZSYmKGU9bmV3IGModCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gYyhlLHQsbil7aWYoIShjLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBjKSlyZXR1cm4gbmV3IGMoZSx0LG4pO2lmKCJudW1iZXIiPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmciKTtyZXR1cm4gcCh0aGlzLGUpfXJldHVybiB1KHRoaXMsZSx0LG4pfWZ1bmN0aW9uIHUoZSx0LG4scil7aWYoIm51bWJlciI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24oZSx0LG4scil7aWYodC5ieXRlTGVuZ3RoLG48MHx8dC5ieXRlTGVuZ3RoPG4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHMiKTtpZih0LmJ5dGVMZW5ndGg8bisocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHMiKTtyZXR1cm4gdD12b2lkIDA9PT1uJiZ2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCxuKTpuZXcgVWludDhBcnJheSh0LG4sciksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPXQpLl9fcHJvdG9fXz1jLnByb3RvdHlwZTplPWQoZSx0KSxlfShlLHQsbixyKToic3RyaW5nIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSx0LG4pe2lmKCJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1ufHwobj0idXRmOCIpLCFjLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcignImVuY29kaW5nIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyk7dmFyIHI9MHxoKHQsbiksbz0oZT1zKGUscikpLndyaXRlKHQsbik7cmV0dXJuIG8hPT1yJiYoZT1lLnNsaWNlKDAsbykpLGV9KGUsdCxuKTpmdW5jdGlvbihlLHQpe2lmKGMuaXNCdWZmZXIodCkpe3ZhciBuPTB8Zih0Lmxlbmd0aCk7cmV0dXJuIDA9PT0oZT1zKGUsbikpLmxlbmd0aHx8dC5jb3B5KGUsMCwwLG4pLGV9aWYodCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8Imxlbmd0aCJpbiB0KXJldHVybiJudW1iZXIiIT10eXBlb2YgdC5sZW5ndGh8fChyPXQubGVuZ3RoKSE9cj9zKGUsMCk6ZChlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiZpKHQuZGF0YSkpcmV0dXJuIGQoZSx0LmRhdGEpfXZhciByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX0oZSx0KX1mdW5jdGlvbiBsKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gcChlLHQpe2lmKGwodCksZT1zKGUsdDwwPzA6MHxmKHQpKSwhYy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgbj0wO248dDsrK24pZVtuXT0wO3JldHVybiBlfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj10Lmxlbmd0aDwwPzA6MHxmKHQubGVuZ3RoKTtlPXMoZSxuKTtmb3IodmFyIHI9MDtyPG47cis9MSllW3JdPTI1NSZ0W3JdO3JldHVybiBlfWZ1bmN0aW9uIGYoZSl7aWYoZT49YSgpKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IithKCkudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIGgoZSx0KXtpZihjLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiBlLmJ5dGVMZW5ndGg7InN0cmluZyIhPXR5cGVvZiBlJiYoZT0iIitlKTt2YXIgbj1lLmxlbmd0aDtpZigwPT09bilyZXR1cm4gMDtmb3IodmFyIHI9ITE7Oylzd2l0Y2godCl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gbjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiBxKGUpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIDIqbjtjYXNlImhleCI6cmV0dXJuIG4+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gQihlKS5sZW5ndGg7ZGVmYXVsdDppZihyKXJldHVybiBxKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIGcoZSx0LG4pe3ZhciByPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1ufHxuPnRoaXMubGVuZ3RoKSYmKG49dGhpcy5sZW5ndGgpLG48PTApcmV0dXJuIiI7aWYoKG4+Pj49MCk8PSh0Pj4+PTApKXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gTCh0aGlzLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gQSh0aGlzLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIFIodGhpcyx0LG4pO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIE8odGhpcyx0LG4pO2Nhc2UiYmFzZTY0IjpyZXR1cm4gdyh0aGlzLHQsbik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBrKHRoaXMsdCxuKTtkZWZhdWx0OmlmKHIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtlPShlKyIiKS50b0xvd2VyQ2FzZSgpLHI9ITB9fWZ1bmN0aW9uIG0oZSx0LG4pe3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1mdW5jdGlvbiB2KGUsdCxuLHIsbyl7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xO2lmKCJzdHJpbmciPT10eXBlb2Ygbj8ocj1uLG49MCk6bj4yMTQ3NDgzNjQ3P249MjE0NzQ4MzY0NzpuPC0yMTQ3NDgzNjQ4JiYobj0tMjE0NzQ4MzY0OCksbj0rbixpc05hTihuKSYmKG49bz8wOmUubGVuZ3RoLTEpLG48MCYmKG49ZS5sZW5ndGgrbiksbj49ZS5sZW5ndGgpe2lmKG8pcmV0dXJuLTE7bj1lLmxlbmd0aC0xfWVsc2UgaWYobjwwKXtpZighbylyZXR1cm4tMTtuPTB9aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1jLmZyb20odCxyKSksYy5pc0J1ZmZlcih0KSlyZXR1cm4gMD09PXQubGVuZ3RoPy0xOnkoZSx0LG4scixvKTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuIHQmPTI1NSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQmJiJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP28/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxuKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxuKTp5KGUsW3RdLG4scixvKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiB5KGUsdCxuLHIsbyl7dmFyIGksYT0xLHM9ZS5sZW5ndGgsYz10Lmxlbmd0aDtpZih2b2lkIDAhPT1yJiYoInVjczIiPT09KHI9U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09cnx8InV0ZjE2bGUiPT09cnx8InV0Zi0xNmxlIj09PXIpKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO2E9MixzLz0yLGMvPTIsbi89Mn1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIDE9PT1hP2VbdF06ZS5yZWFkVUludDE2QkUodCphKX1pZihvKXt2YXIgbD0tMTtmb3IoaT1uO2k8cztpKyspaWYodShlLGkpPT09dSh0LC0xPT09bD8wOmktbCkpe2lmKC0xPT09bCYmKGw9aSksaS1sKzE9PT1jKXJldHVybiBsKmF9ZWxzZS0xIT09bCYmKGktPWktbCksbD0tMX1lbHNlIGZvcihuK2M+cyYmKG49cy1jKSxpPW47aT49MDtpLS0pe2Zvcih2YXIgcD0hMCxkPTA7ZDxjO2QrKylpZih1KGUsaStkKSE9PXUodCxkKSl7cD0hMTticmVha31pZihwKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIGIoZSx0LG4scil7bj1OdW1iZXIobil8fDA7dmFyIG89ZS5sZW5ndGgtbjtyPyhyPU51bWJlcihyKSk+byYmKHI9byk6cj1vO3ZhciBpPXQubGVuZ3RoO2lmKGklMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTtyPmkvMiYmKHI9aS8yKTtmb3IodmFyIGE9MDthPHI7KythKXt2YXIgcz1wYXJzZUludCh0LnN1YnN0cigyKmEsMiksMTYpO2lmKGlzTmFOKHMpKXJldHVybiBhO2VbbithXT1zfXJldHVybiBhfWZ1bmN0aW9uIEUoZSx0LG4scil7cmV0dXJuIEcocSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBTKGUsdCxuLHIpe3JldHVybiBHKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDsrK24pdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQobikpO3JldHVybiB0fSh0KSxlLG4scil9ZnVuY3Rpb24gQyhlLHQsbixyKXtyZXR1cm4gUyhlLHQsbixyKX1mdW5jdGlvbiBUKGUsdCxuLHIpe3JldHVybiBHKEIodCksZSxuLHIpfWZ1bmN0aW9uIEkoZSx0LG4scil7cmV0dXJuIEcoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixvLGk9W10sYT0wO2E8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrYSlyPShuPWUuY2hhckNvZGVBdChhKSk+Pjgsbz1uJTI1NixpLnB1c2gobyksaS5wdXNoKHIpO3JldHVybiBpfSh0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiB3KGUsdCxyKXtyZXR1cm4gMD09PXQmJnI9PT1lLmxlbmd0aD9uLmZyb21CeXRlQXJyYXkoZSk6bi5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gQShlLHQsbil7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIHI9W10sbz10O288bjspe3ZhciBpLGEscyxjLHU9ZVtvXSxsPW51bGwscD11PjIzOT80OnU+MjIzPzM6dT4xOTE/MjoxO2lmKG8rcDw9bilzd2l0Y2gocCl7Y2FzZSAxOnU8MTI4JiYobD11KTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihpPWVbbysxXSkpJiYoYz0oMzEmdSk8PDZ8NjMmaSk+MTI3JiYobD1jKTticmVhaztjYXNlIDM6aT1lW28rMV0sYT1lW28rMl0sMTI4PT0oMTkyJmkpJiYxMjg9PSgxOTImYSkmJihjPSgxNSZ1KTw8MTJ8KDYzJmkpPDw2fDYzJmEpPjIwNDcmJihjPDU1Mjk2fHxjPjU3MzQzKSYmKGw9Yyk7YnJlYWs7Y2FzZSA0Omk9ZVtvKzFdLGE9ZVtvKzJdLHM9ZVtvKzNdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImcykmJihjPSgxNSZ1KTw8MTh8KDYzJmkpPDwxMnwoNjMmYSk8PDZ8NjMmcyk+NjU1MzUmJmM8MTExNDExMiYmKGw9Yyl9bnVsbD09PWw/KGw9NjU1MzMscD0xKTpsPjY1NTM1JiYobC09NjU1MzYsci5wdXNoKGw+Pj4xMCYxMDIzfDU1Mjk2KSxsPTU2MzIwfDEwMjMmbCksci5wdXNoKGwpLG8rPXB9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PV8pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUpO2Zvcih2YXIgbj0iIixyPTA7cjx0OyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKHIscis9XykpO3JldHVybiBufShyKX1yLkJ1ZmZlcj1jLHIuU2xvd0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4rZSE9ZSYmKGU9MCksYy5hbGxvYygrZSl9LHIuSU5TUEVDVF9NQVhfQllURVM9NTAsYy5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PXQuVFlQRURfQVJSQVlfU1VQUE9SVD90LlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSxyLmtNYXhMZW5ndGg9YSgpLGMucG9vbFNpemU9ODE5MixjLl9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fXz1jLnByb3RvdHlwZSxlfSxjLmZyb209ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB1KG51bGwsZSx0LG4pfSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihjLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsYy5fX3Byb3RvX189VWludDhBcnJheSwidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJmNbU3ltYm9sLnNwZWNpZXNdPT09YyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGMsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLGMuYWxsb2M9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbCh0KSx0PD0wP3MoZSx0KTp2b2lkIDAhPT1uPyJzdHJpbmciPT10eXBlb2Ygcj9zKGUsdCkuZmlsbChuLHIpOnMoZSx0KS5maWxsKG4pOnMoZSx0KX0obnVsbCxlLHQsbil9LGMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHAobnVsbCxlKX0sYy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHAobnVsbCxlKX0sYy5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCFjLmlzQnVmZmVyKGUpfHwhYy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzIik7aWYoZT09PXQpcmV0dXJuIDA7Zm9yKHZhciBuPWUubGVuZ3RoLHI9dC5sZW5ndGgsbz0wLGk9TWF0aC5taW4obixyKTtvPGk7KytvKWlmKGVbb10hPT10W29dKXtuPWVbb10scj10W29dO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0sYy5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChTdHJpbmcoZSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxjLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFpKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGMuYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09dClmb3IodD0wLG49MDtuPGUubGVuZ3RoOysrbil0Kz1lW25dLmxlbmd0aDt2YXIgcj1jLmFsbG9jVW5zYWZlKHQpLG89MDtmb3Iobj0wO248ZS5sZW5ndGg7KytuKXt2YXIgYT1lW25dO2lmKCFjLmlzQnVmZmVyKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTthLmNvcHkocixvKSxvKz1hLmxlbmd0aH1yZXR1cm4gcn0sYy5ieXRlTGVuZ3RoPWgsYy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGMucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9MiltKHRoaXMsdCx0KzEpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpbSh0aGlzLHQsdCszKSxtKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OCltKHRoaXMsdCx0KzcpLG0odGhpcyx0KzEsdCs2KSxtKHRoaXMsdCsyLHQrNSksbSh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1lPyIiOjA9PT1hcmd1bWVudHMubGVuZ3RoP0EodGhpcywwLGUpOmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYoIWMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO3JldHVybiB0aGlzPT09ZXx8MD09PWMuY29tcGFyZSh0aGlzLGUpfSxjLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9IiIsdD1yLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoZT10aGlzLnRvU3RyaW5nKCJoZXgiLDAsdCkubWF0Y2goLy57Mn0vZykuam9pbigiICIpLHRoaXMubGVuZ3RoPnQmJihlKz0iIC4uLiAiKSksIjxCdWZmZXIgIitlKyI+In0sYy5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQsbixyLG8pe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSx0PDB8fG4+ZS5sZW5ndGh8fHI8MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocj49byYmdD49bilyZXR1cm4gMDtpZihyPj1vKXJldHVybi0xO2lmKHQ+PW4pcmV0dXJuIDE7aWYodGhpcz09PWUpcmV0dXJuIDA7Zm9yKHZhciBpPShvPj4+PTApLShyPj4+PTApLGE9KG4+Pj49MCktKHQ+Pj49MCkscz1NYXRoLm1pbihpLGEpLHU9dGhpcy5zbGljZShyLG8pLGw9ZS5zbGljZSh0LG4pLHA9MDtwPHM7KytwKWlmKHVbcF0hPT1sW3BdKXtpPXVbcF0sYT1sW3BdO2JyZWFrfXJldHVybiBpPGE/LTE6YTxpPzE6MH0sYy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybi0xIT09dGhpcy5pbmRleE9mKGUsdCxuKX0sYy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHYodGhpcyxlLHQsbiwhMCl9LGMucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdih0aGlzLGUsdCxuLCExKX0sYy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LG4scil7aWYodm9pZCAwPT09dClyPSJ1dGY4IixuPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PW4mJiJzdHJpbmciPT10eXBlb2YgdClyPXQsbj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3R8PTAsaXNGaW5pdGUobik/KG58PTAsdm9pZCAwPT09ciYmKHI9InV0ZjgiKSk6KHI9bixuPXZvaWQgMCl9dmFyIG89dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09bnx8bj5vKSYmKG49byksZS5sZW5ndGg+MCYmKG48MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTtyfHwocj0idXRmOCIpO2Zvcih2YXIgaT0hMTs7KXN3aXRjaChyKXtjYXNlImhleCI6cmV0dXJuIGIodGhpcyxlLHQsbik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gRSh0aGlzLGUsdCxuKTtjYXNlImFzY2lpIjpyZXR1cm4gUyh0aGlzLGUsdCxuKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBDKHRoaXMsZSx0LG4pO2Nhc2UiYmFzZTY0IjpyZXR1cm4gVCh0aGlzLGUsdCxuKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIEkodGhpcyxlLHQsbik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcik7cj0oIiIrcikudG9Mb3dlckNhc2UoKSxpPSEwfX0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkJ1ZmZlciIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgXz00MDk2O2Z1bmN0aW9uIFIoZSx0LG4pe3ZhciByPSIiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBvPXQ7bzxuOysrbylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBPKGUsdCxuKXt2YXIgcj0iIjtuPU1hdGgubWluKGUubGVuZ3RoLG4pO2Zvcih2YXIgbz10O288bjsrK28pcis9U3RyaW5nLmZyb21DaGFyQ29kZShlW29dKTtyZXR1cm4gcn1mdW5jdGlvbiBMKGUsdCxuKXt2YXIgcixvPWUubGVuZ3RoOyghdHx8dDwwKSYmKHQ9MCksKCFufHxuPDB8fG4+bykmJihuPW8pO2Zvcih2YXIgaT0iIixhPXQ7YTxuOysrYSlpKz0ocj1lW2FdKTwxNj8iMCIrci50b1N0cmluZygxNik6ci50b1N0cmluZygxNik7cmV0dXJuIGl9ZnVuY3Rpb24gayhlLHQsbil7Zm9yKHZhciByPWUuc2xpY2UodCxuKSxvPSIiLGk9MDtpPHIubGVuZ3RoO2krPTIpbys9U3RyaW5nLmZyb21DaGFyQ29kZShyW2ldKzI1NipyW2krMV0pO3JldHVybiBvfWZ1bmN0aW9uIE4oZSx0LG4pe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihlK3Q+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfWZ1bmN0aW9uIFAoZSx0LG4scixvLGkpe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWZmZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih0Pm98fHQ8aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInZhbHVlIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYobityPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBEKGUsdCxuLHIpe3Q8MCYmKHQ9NjU1MzUrdCsxKTtmb3IodmFyIG89MCxpPU1hdGgubWluKGUubGVuZ3RoLW4sMik7bzxpOysrbyllW24rb109KHQmMjU1PDw4KihyP286MS1vKSk+Pj44KihyP286MS1vKX1mdW5jdGlvbiB4KGUsdCxuLHIpe3Q8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpO2Zvcih2YXIgbz0wLGk9TWF0aC5taW4oZS5sZW5ndGgtbiw0KTtvPGk7KytvKWVbbitvXT10Pj4+OCoocj9vOjMtbykmMjU1fWZ1bmN0aW9uIE0oZSx0LG4scixvLGkpe2lmKG4rcj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBVKGUsdCxuLHIsaSl7cmV0dXJuIGl8fE0oZSwwLG4sNCksby53cml0ZShlLHQsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBGKGUsdCxuLHIsaSl7cmV0dXJuIGl8fE0oZSwwLG4sOCksby53cml0ZShlLHQsbixyLDUyLDgpLG4rOH1jLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dGhpcy5sZW5ndGg7aWYoKGU9fn5lKTwwPyhlKz1yKTwwJiYoZT0wKTplPnImJihlPXIpLCh0PXZvaWQgMD09PXQ/cjp+fnQpPDA/KHQrPXIpPDAmJih0PTApOnQ+ciYmKHQ9ciksdDxlJiYodD1lKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQpKG49dGhpcy5zdWJhcnJheShlLHQpKS5fX3Byb3RvX189Yy5wcm90b3R5cGU7ZWxzZXt2YXIgbz10LWU7bj1uZXcgYyhvLHZvaWQgMCk7Zm9yKHZhciBpPTA7aTxvOysraSluW2ldPXRoaXNbaStlXX1yZXR1cm4gbn0sYy5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihlLHQsbil7ZXw9MCx0fD0wLG58fE4oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxvPTEsaT0wOysraTx0JiYobyo9MjU2KTspcis9dGhpc1tlK2ldKm87cmV0dXJuIHJ9LGMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZSstLXRdLG89MTt0PjAmJihvKj0yNTYpOylyKz10aGlzW2UrLS10XSpvO3JldHVybiByfSxjLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDEsdGhpcy5sZW5ndGgpLHRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LGMucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXTw8OHx0aGlzW2UrMV19LGMucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsNCx0aGlzLmxlbmd0aCksKHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbZSszXX0sYy5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxjLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LG4pe2V8PTAsdHw9MCxufHxOKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciByPXRoaXNbZV0sbz0xLGk9MDsrK2k8dCYmKG8qPTI1Nik7KXIrPXRoaXNbZStpXSpvO3JldHVybiByPj0obyo9MTI4KSYmKHItPU1hdGgucG93KDIsOCp0KSkscn0sYy5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxuKXtlfD0wLHR8PTAsbnx8TihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10LG89MSxpPXRoaXNbZSstLXJdO3I+MCYmKG8qPTI1Nik7KWkrPXRoaXNbZSstLXJdKm87cmV0dXJuIGk+PShvKj0xMjgpJiYoaS09TWF0aC5wb3coMiw4KnQpKSxpfSxjLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7dHx8TihlLDIsdGhpcy5sZW5ndGgpO3ZhciBuPXRoaXNbZV18dGhpc1tlKzFdPDw4O3JldHVybiAzMjc2OCZuPzQyOTQ5MDE3NjB8bjpufSxjLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihlLHQpe3R8fE4oZSwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0sYy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sYy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDI0fHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXX0sYy5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDQsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITAsMjMsNCl9LGMucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fE4oZSw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDIzLDQpfSxjLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8TihlLDgsdGhpcy5sZW5ndGgpLG8ucmVhZCh0aGlzLGUsITAsNTIsOCl9LGMucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxOKGUsOCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMSw1Miw4KX0sYy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LG4scil7ZT0rZSx0fD0wLG58PTAscnx8UCh0aGlzLGUsdCxuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPTEsaT0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxuJiYobyo9MjU2KTspdGhpc1t0K2ldPWUvbyYyNTU7cmV0dXJuIHQrbn0sYy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24oZSx0LG4scil7ZT0rZSx0fD0wLG58PTAscnx8UCh0aGlzLGUsdCxuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPW4tMSxpPTE7Zm9yKHRoaXNbdCtvXT0yNTUmZTstLW8+PTAmJihpKj0yNTYpOyl0aGlzW3Qrb109ZS9pJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMSwyNTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSx0aGlzW3RdPTI1NSZlLHQrMX0sYy5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDIsNjU1MzUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6RCh0aGlzLGUsdCwhMCksdCsyfSxjLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiw2NTUzNSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpEKHRoaXMsZSx0LCExKSx0KzJ9LGMucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksYy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUpOngodGhpcyxlLHQsITApLHQrNH0sYy5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6eCh0aGlzLGUsdCwhMSksdCs0fSxjLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdHw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7UCh0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGk9MCxhPTEscz0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxuJiYoYSo9MjU2KTspZTwwJiYwPT09cyYmMCE9PXRoaXNbdCtpLTFdJiYocz0xKSx0aGlzW3QraV09KGUvYXwwKS1zJjI1NTtyZXR1cm4gdCtufSxjLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9K2UsdHw9MCwhcil7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7UCh0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGk9bi0xLGE9MSxzPTA7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K2krMV0mJihzPTEpLHRoaXNbdCtpXT0oZS9hfDApLXMmMjU1O3JldHVybiB0K259LGMucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdHw9MCxufHxQKHRoaXMsZSx0LDEsMTI3LC0xMjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksZTwwJiYoZT0yNTUrZSsxKSx0aGlzW3RdPTI1NSZlLHQrMX0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOkQodGhpcyxlLHQsITApLHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUpOkQodGhpcyxlLHQsITEpLHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0fD0wLG58fFAodGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxjLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzNdPWU+Pj4yNCk6eCh0aGlzLGUsdCwhMCksdCs0fSxjLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHR8PTAsbnx8UCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLGMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTp4KHRoaXMsZSx0LCExKSx0KzR9LGMucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUodGhpcyxlLHQsITAsbil9LGMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIFUodGhpcyxlLHQsITEsbil9LGMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKHRoaXMsZSx0LCEwLG4pfSxjLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRih0aGlzLGUsdCwhMSxuKX0sYy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQsbixyKXtpZihufHwobj0wKSxyfHwwPT09cnx8KHI9dGhpcy5sZW5ndGgpLHQ+PWUubGVuZ3RoJiYodD1lLmxlbmd0aCksdHx8KHQ9MCkscj4wJiZyPG4mJihyPW4pLHI9PT1uKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKG48MHx8bj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzIik7cj50aGlzLmxlbmd0aCYmKHI9dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXQ8ci1uJiYocj1lLmxlbmd0aC10K24pO3ZhciBvLGk9ci1uO2lmKHRoaXM9PT1lJiZuPHQmJnQ8cilmb3Iobz1pLTE7bz49MDstLW8pZVtvK3RdPXRoaXNbbytuXTtlbHNlIGlmKGk8MWUzfHwhYy5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihvPTA7bzxpOysrbyllW28rdF09dGhpc1tvK25dO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4sbitpKSx0KTtyZXR1cm4gaX0sYy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdD8ocj10LHQ9MCxuPXRoaXMubGVuZ3RoKToic3RyaW5nIj09dHlwZW9mIG4mJihyPW4sbj10aGlzLmxlbmd0aCksMT09PWUubGVuZ3RoKXt2YXIgbz1lLmNoYXJDb2RlQXQoMCk7bzwyNTYmJihlPW8pfWlmKHZvaWQgMCE9PXImJiJzdHJpbmciIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiByJiYhYy5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcil9ZWxzZSJudW1iZXIiPT10eXBlb2YgZSYmKGUmPTI1NSk7aWYodDwwfHx0aGlzLmxlbmd0aDx0fHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCJPdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihuPD10KXJldHVybiB0aGlzO3ZhciBpO2lmKHQ+Pj49MCxuPXZvaWQgMD09PW4/dGhpcy5sZW5ndGg6bj4+PjAsZXx8KGU9MCksIm51bWJlciI9PXR5cGVvZiBlKWZvcihpPXQ7aTxuOysraSl0aGlzW2ldPWU7ZWxzZXt2YXIgYT1jLmlzQnVmZmVyKGUpP2U6cShuZXcgYyhlLHIpLnRvU3RyaW5nKCkpLHM9YS5sZW5ndGg7Zm9yKGk9MDtpPG4tdDsrK2kpdGhpc1tpK3RdPWFbaSVzXX1yZXR1cm4gdGhpc307dmFyIGo9L1teK1wvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gcShlLHQpe3ZhciBuO3Q9dHx8MS8wO2Zvcih2YXIgcj1lLmxlbmd0aCxvPW51bGwsaT1bXSxhPTA7YTxyOysrYSl7aWYoKG49ZS5jaGFyQ29kZUF0KGEpKT41NTI5NSYmbjw1NzM0NCl7aWYoIW8pe2lmKG4+NTYzMTkpeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihhKzE9PT1yKXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bz1uO2NvbnRpbnVlfWlmKG48NTYzMjApeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxvPW47Y29udGludWV9bj02NTUzNisoby01NTI5Njw8MTB8bi01NjMyMCl9ZWxzZSBvJiYodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYobz1udWxsLG48MTI4KXtpZigodC09MSk8MClicmVhaztpLnB1c2gobil9ZWxzZSBpZihuPDIwNDgpe2lmKCh0LT0yKTwwKWJyZWFrO2kucHVzaChuPj42fDE5Miw2MyZufDEyOCl9ZWxzZSBpZihuPDY1NTM2KXtpZigodC09Myk8MClicmVhaztpLnB1c2gobj4+MTJ8MjI0LG4+PjYmNjN8MTI4LDYzJm58MTI4KX1lbHNle2lmKCEobjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpO2lmKCh0LT00KTwwKWJyZWFrO2kucHVzaChuPj4xOHwyNDAsbj4+MTImNjN8MTI4LG4+PjYmNjN8MTI4LDYzJm58MTI4KX19cmV0dXJuIGl9ZnVuY3Rpb24gQihlKXtyZXR1cm4gbi50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfShlKS5yZXBsYWNlKGosIiIpKS5sZW5ndGg8MilyZXR1cm4iIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPSI9IjtyZXR1cm4gZX0oZSkpfWZ1bmN0aW9uIEcoZSx0LG4scil7Zm9yKHZhciBvPTA7bzxyJiYhKG8rbj49dC5sZW5ndGh8fG8+PWUubGVuZ3RoKTsrK28pdFtvK25dPWVbb107cmV0dXJuIG99fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyx2b2lkIDAhPT1uLmc/bi5nOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKCJidWZmZXIiKS5CdWZmZXIpfSx7ImJhc2U2NC1qcyI6ODEsYnVmZmVyOjg2LGllZWU3NTQ6ODgsaXNhcnJheTo4OX1dLDg3OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBpKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIm9iamVjdCI9PT1vKGUpJiZudWxsIT09ZX1mdW5jdGlvbiBzKGUpe3JldHVybiB2b2lkIDA9PT1lfXQuZXhwb3J0cz1yLHIuRXZlbnRFbWl0dGVyPXIsci5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsci5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLHIucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGV8fGU8MHx8aXNOYU4oZSkpdGhyb3cgVHlwZUVycm9yKCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxjLHU7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSwiZXJyb3IiPT09ZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fGEodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZigodD1hcmd1bWVudHNbMV0paW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3ZhciBsPW5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnK3QrIikiKTt0aHJvdyBsLmNvbnRleHQ9dCxsfWlmKHMobj10aGlzLl9ldmVudHNbZV0pKXJldHVybiExO2lmKGkobikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpuLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6bz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbi5hcHBseSh0aGlzLG8pfWVsc2UgaWYoYShuKSlmb3Iobz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj0odT1uLnNsaWNlKCkpLmxlbmd0aCxjPTA7YzxyO2MrKyl1W2NdLmFwcGx5KHRoaXMsbyk7cmV0dXJuITB9LHIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdCgibmV3TGlzdGVuZXIiLGUsaSh0Lmxpc3RlbmVyKT90Lmxpc3RlbmVyOnQpLHRoaXMuX2V2ZW50c1tlXT9hKHRoaXMuX2V2ZW50c1tlXSk/dGhpcy5fZXZlbnRzW2VdLnB1c2godCk6dGhpcy5fZXZlbnRzW2VdPVt0aGlzLl9ldmVudHNbZV0sdF06dGhpcy5fZXZlbnRzW2VdPXQsYSh0aGlzLl9ldmVudHNbZV0pJiYhdGhpcy5fZXZlbnRzW2VdLndhcm5lZCYmKG49cyh0aGlzLl9tYXhMaXN0ZW5lcnMpP3IuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMpJiZuPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+biYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcigiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4iLHRoaXMuX2V2ZW50c1tlXS5sZW5ndGgpLCJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpLHRoaXN9LHIucHJvdG90eXBlLm9uPXIucHJvdG90eXBlLmFkZExpc3RlbmVyLHIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtpZighaSh0KSl0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpO3ZhciBuPSExO2Z1bmN0aW9uIHIoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGUsciksbnx8KG49ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiByLmxpc3RlbmVyPXQsdGhpcy5vbihlLHIpLHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLHM7aWYoIWkodCkpdGhyb3cgVHlwZUVycm9yKCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24iKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2VdKXJldHVybiB0aGlzO2lmKG89KG49dGhpcy5fZXZlbnRzW2VdKS5sZW5ndGgscj0tMSxuPT09dHx8aShuLmxpc3RlbmVyKSYmbi5saXN0ZW5lcj09PXQpZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdCk7ZWxzZSBpZihhKG4pKXtmb3Iocz1vO3MtLSA+MDspaWYobltzXT09PXR8fG5bc10ubGlzdGVuZXImJm5bc10ubGlzdGVuZXI9PT10KXtyPXM7YnJlYWt9aWYocjwwKXJldHVybiB0aGlzOzE9PT1uLmxlbmd0aD8obi5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW2VdKTpuLnNwbGljZShyLDEpLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx0KX1yZXR1cm4gdGhpc30sci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2VdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih0IGluIHRoaXMuX2V2ZW50cykicmVtb3ZlTGlzdGVuZXIiIT09dCYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnModCk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKGkobj10aGlzLl9ldmVudHNbZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGlmKG4pZm9yKDtuLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bbi5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV0/aSh0aGlzLl9ldmVudHNbZV0pP1t0aGlzLl9ldmVudHNbZV1dOnRoaXMuX2V2ZW50c1tlXS5zbGljZSgpOltdfSxyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2V2ZW50cyl7dmFyIHQ9dGhpcy5fZXZlbnRzW2VdO2lmKGkodCkpcmV0dXJuIDE7aWYodClyZXR1cm4gdC5sZW5ndGh9cmV0dXJuIDB9LHIubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVyQ291bnQodCl9fSx7fV0sODg6W2Z1bmN0aW9uKGUsdCxuKXtuLnJlYWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHM9OCpvLXItMSxjPSgxPDxzKS0xLHU9Yz4+MSxsPS03LHA9bj9vLTE6MCxkPW4/LTE6MSxmPWVbdCtwXTtmb3IocCs9ZCxpPWYmKDE8PC1sKS0xLGY+Pj0tbCxsKz1zO2w+MDtpPTI1NippK2VbdCtwXSxwKz1kLGwtPTgpO2ZvcihhPWkmKDE8PC1sKS0xLGk+Pj0tbCxsKz1yO2w+MDthPTI1NiphK2VbdCtwXSxwKz1kLGwtPTgpO2lmKDA9PT1pKWk9MS11O2Vsc2V7aWYoaT09PWMpcmV0dXJuIGE/TmFOOjEvMCooZj8tMToxKTthKz1NYXRoLnBvdygyLHIpLGktPXV9cmV0dXJuKGY/LTE6MSkqYSpNYXRoLnBvdygyLGktcil9LG4ud3JpdGU9ZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBhLHMsYyx1PTgqaS1vLTEsbD0oMTw8dSktMSxwPWw+PjEsZD0yMz09PW8/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGY9cj8wOmktMSxoPXI/MTotMSxnPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsYT1sKTooYT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihjPU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLGMqPTIpLCh0Kz1hK3A+PTE/ZC9jOmQqTWF0aC5wb3coMiwxLXApKSpjPj0yJiYoYSsrLGMvPTIpLGErcD49bD8ocz0wLGE9bCk6YStwPj0xPyhzPSh0KmMtMSkqTWF0aC5wb3coMixvKSxhKz1wKToocz10Kk1hdGgucG93KDIscC0xKSpNYXRoLnBvdygyLG8pLGE9MCkpO28+PTg7ZVtuK2ZdPTI1NSZzLGYrPWgscy89MjU2LG8tPTgpO2ZvcihhPWE8PG98cyx1Kz1vO3U+MDtlW24rZl09MjU1JmEsZis9aCxhLz0yNTYsdS09OCk7ZVtuK2YtaF18PTEyOCpnfX0se31dLDg5OltmdW5jdGlvbihlLHQsbil7dmFyIHI9e30udG9TdHJpbmc7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PXIuY2FsbChlKX19LHt9XSw5MDpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gbnVsbCE9PWUmJiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbCE9PWUmJiJbb2JqZWN0IE9iamVjdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHIoZSxvKXtpZihlPT09bylyZXR1cm4hMDtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpcmV0dXJuITE7aWYoITA9PT10KGUpKXtpZihlLmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCExPT09cihlW2ldLG9baV0pKXJldHVybiExO3JldHVybiEwfWlmKCEwPT09bihlKSl7dmFyIGE9e307Zm9yKHZhciBzIGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHMpKXtpZighMT09PXIoZVtzXSxvW3NdKSlyZXR1cm4hMTthW3NdPSEwfWZvcih2YXIgYyBpbiBvKWlmKGhhc093blByb3BlcnR5LmNhbGwobyxjKSYmITAhPT1hW2NdKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG8oZSl7aWYoIiI9PT1lfHwhMT09PWV8fG51bGw9PT1lKXJldHVybiEwO2lmKHQoZSkmJjA9PT1lLmxlbmd0aClyZXR1cm4hMDtpZihuKGUpKXtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfXZhciBpO2k9ImZ1bmN0aW9uIj09dHlwZW9mIFN0cmluZy5wcm90b3R5cGUudHJpbUxlZnQ/ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbUxlZnQoKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWF0Y2goL15ccyooLiopLylbMV19O3ZhciBhPTAscz0yLGM9ezA6Im51bWJlciIsMToiYW55IiwyOiJzdHJpbmciLDM6ImFycmF5Iiw0OiJvYmplY3QiLDU6ImJvb2xlYW4iLDY6ImV4cHJlc3Npb24iLDc6Im51bGwiLDg6IkFycmF5PG51bWJlcj4iLDk6IkFycmF5PHN0cmluZz4ifSx1PSJFT0YiLGw9IlVucXVvdGVkSWRlbnRpZmllciIscD0iUXVvdGVkSWRlbnRpZmllciIsZD0iUmJyYWNrZXQiLGY9IlJwYXJlbiIsaD0iQ29tbWEiLGc9IkNvbG9uIixtPSJSYnJhY2UiLHY9Ik51bWJlciIseT0iQ3VycmVudCIsYj0iRXhwcmVmIixFPSJQaXBlIixTPSJPciIsQz0iQW5kIixUPSJFUSIsST0iR1QiLHc9IkxUIixBPSJHVEUiLF89IkxURSIsUj0iTkUiLE89IkZsYXR0ZW4iLEw9IlN0YXIiLGs9IkZpbHRlciIsTj0iRG90IixQPSJOb3QiLEQ9IkxicmFjZSIseD0iTGJyYWNrZXQiLE09IkxwYXJlbiIsVT0iTGl0ZXJhbCIsRj17Ii4iOk4sIioiOkwsIiwiOmgsIjoiOmcsInsiOkQsIn0iOm0sIl0iOmQsIigiOk0sIikiOmYsIkAiOnl9LGo9eyI8IjohMCwiPiI6ITAsIj0iOiEwLCIhIjohMH0scT17IiAiOiEwLCJcdCI6ITAsIlxuIjohMH07ZnVuY3Rpb24gQihlKXtyZXR1cm4gZT49IjAiJiZlPD0iOSJ8fCItIj09PWV9ZnVuY3Rpb24gRygpe31HLnByb3RvdHlwZT17dG9rZW5pemU6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saT1bXTtmb3IodGhpcy5fY3VycmVudD0wO3RoaXMuX2N1cnJlbnQ8ZS5sZW5ndGg7KWlmKChvPWVbdGhpcy5fY3VycmVudF0pPj0iYSImJm88PSJ6Inx8bz49IkEiJiZvPD0iWiJ8fCJfIj09PW8pdD10aGlzLl9jdXJyZW50LG49dGhpcy5fY29uc3VtZVVucXVvdGVkSWRlbnRpZmllcihlKSxpLnB1c2goe3R5cGU6bCx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKHZvaWQgMCE9PUZbZVt0aGlzLl9jdXJyZW50XV0paS5wdXNoKHt0eXBlOkZbZVt0aGlzLl9jdXJyZW50XV0sdmFsdWU6ZVt0aGlzLl9jdXJyZW50XSxzdGFydDp0aGlzLl9jdXJyZW50fSksdGhpcy5fY3VycmVudCsrO2Vsc2UgaWYoQihlW3RoaXMuX2N1cnJlbnRdKSlyPXRoaXMuX2NvbnN1bWVOdW1iZXIoZSksaS5wdXNoKHIpO2Vsc2UgaWYoIlsiPT09ZVt0aGlzLl9jdXJyZW50XSlyPXRoaXMuX2NvbnN1bWVMQnJhY2tldChlKSxpLnB1c2gocik7ZWxzZSBpZignIic9PT1lW3RoaXMuX2N1cnJlbnRdKXQ9dGhpcy5fY3VycmVudCxuPXRoaXMuX2NvbnN1bWVRdW90ZWRJZGVudGlmaWVyKGUpLGkucHVzaCh7dHlwZTpwLHZhbHVlOm4sc3RhcnQ6dH0pO2Vsc2UgaWYoIiciPT09ZVt0aGlzLl9jdXJyZW50XSl0PXRoaXMuX2N1cnJlbnQsbj10aGlzLl9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbChlKSxpLnB1c2goe3R5cGU6VSx2YWx1ZTpuLHN0YXJ0OnR9KTtlbHNlIGlmKCJgIj09PWVbdGhpcy5fY3VycmVudF0pe3Q9dGhpcy5fY3VycmVudDt2YXIgYT10aGlzLl9jb25zdW1lTGl0ZXJhbChlKTtpLnB1c2goe3R5cGU6VSx2YWx1ZTphLHN0YXJ0OnR9KX1lbHNlIGlmKHZvaWQgMCE9PWpbZVt0aGlzLl9jdXJyZW50XV0paS5wdXNoKHRoaXMuX2NvbnN1bWVPcGVyYXRvcihlKSk7ZWxzZSBpZih2b2lkIDAhPT1xW2VbdGhpcy5fY3VycmVudF1dKXRoaXMuX2N1cnJlbnQrKztlbHNlIGlmKCImIj09PWVbdGhpcy5fY3VycmVudF0pdD10aGlzLl9jdXJyZW50LHRoaXMuX2N1cnJlbnQrKywiJiI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50KyssaS5wdXNoKHt0eXBlOkMsdmFsdWU6IiYmIixzdGFydDp0fSkpOmkucHVzaCh7dHlwZTpiLHZhbHVlOiImIixzdGFydDp0fSk7ZWxzZXtpZigifCIhPT1lW3RoaXMuX2N1cnJlbnRdKXt2YXIgcz1uZXcgRXJyb3IoIlVua25vd24gY2hhcmFjdGVyOiIrZVt0aGlzLl9jdXJyZW50XSk7dGhyb3cgcy5uYW1lPSJMZXhlckVycm9yIixzfXQ9dGhpcy5fY3VycmVudCx0aGlzLl9jdXJyZW50KyssInwiPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLGkucHVzaCh7dHlwZTpTLHZhbHVlOiJ8fCIsc3RhcnQ6dH0pKTppLnB1c2goe3R5cGU6RSx2YWx1ZToifCIsc3RhcnQ6dH0pfXJldHVybiBpfSxfY29uc3VtZVVucXVvdGVkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2N1cnJlbnQ7Zm9yKHRoaXMuX2N1cnJlbnQrKzt0aGlzLl9jdXJyZW50PGUubGVuZ3RoJiYoKHQ9ZVt0aGlzLl9jdXJyZW50XSk+PSJhIiYmdDw9InoifHx0Pj0iQSImJnQ8PSJaInx8dD49IjAiJiZ0PD0iOSJ8fCJfIj09PXQpOyl0aGlzLl9jdXJyZW50Kys7cmV0dXJuIGUuc2xpY2Uobix0aGlzLl9jdXJyZW50KX0sX2NvbnN1bWVRdW90ZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7dGhpcy5fY3VycmVudCsrO2Zvcih2YXIgbj1lLmxlbmd0aDsnIichPT1lW3RoaXMuX2N1cnJlbnRdJiZ0aGlzLl9jdXJyZW50PG47KXt2YXIgcj10aGlzLl9jdXJyZW50OyJcXCIhPT1lW3JdfHwiXFwiIT09ZVtyKzFdJiYnIichPT1lW3IrMV0/cisrOnIrPTIsdGhpcy5fY3VycmVudD1yfXJldHVybiB0aGlzLl9jdXJyZW50KyssSlNPTi5wYXJzZShlLnNsaWNlKHQsdGhpcy5fY3VycmVudCkpfSxfY29uc3VtZVJhd1N0cmluZ0xpdGVyYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoOyInIiE9PWVbdGhpcy5fY3VycmVudF0mJnRoaXMuX2N1cnJlbnQ8bjspe3ZhciByPXRoaXMuX2N1cnJlbnQ7IlxcIiE9PWVbcl18fCJcXCIhPT1lW3IrMV0mJiInIiE9PWVbcisxXT9yKys6cis9Mix0aGlzLl9jdXJyZW50PXJ9cmV0dXJuIHRoaXMuX2N1cnJlbnQrKyxlLnNsaWNlKHQrMSx0aGlzLl9jdXJyZW50LTEpLnJlcGxhY2UoIlxcJyIsIiciKX0sX2NvbnN1bWVOdW1iZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fY3VycmVudDt0aGlzLl9jdXJyZW50Kys7Zm9yKHZhciBuPWUubGVuZ3RoO0IoZVt0aGlzLl9jdXJyZW50XSkmJnRoaXMuX2N1cnJlbnQ8bjspdGhpcy5fY3VycmVudCsrO3ZhciByPXBhcnNlSW50KGUuc2xpY2UodCx0aGlzLl9jdXJyZW50KSk7cmV0dXJue3R5cGU6dix2YWx1ZTpyLHN0YXJ0OnR9fSxfY29uc3VtZUxCcmFja2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2N1cnJlbnQ7cmV0dXJuIHRoaXMuX2N1cnJlbnQrKywiPyI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6ayx2YWx1ZToiWz8iLHN0YXJ0OnR9KToiXSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Tyx2YWx1ZToiW10iLHN0YXJ0OnR9KTp7dHlwZTp4LHZhbHVlOiJbIixzdGFydDp0fX0sX2NvbnN1bWVPcGVyYXRvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9jdXJyZW50LG49ZVt0XTtyZXR1cm4gdGhpcy5fY3VycmVudCsrLCIhIj09PW4/Ij0iPT09ZVt0aGlzLl9jdXJyZW50XT8odGhpcy5fY3VycmVudCsrLHt0eXBlOlIsdmFsdWU6IiE9IixzdGFydDp0fSk6e3R5cGU6UCx2YWx1ZToiISIsc3RhcnQ6dH06IjwiPT09bj8iPSI9PT1lW3RoaXMuX2N1cnJlbnRdPyh0aGlzLl9jdXJyZW50Kysse3R5cGU6Xyx2YWx1ZToiPD0iLHN0YXJ0OnR9KTp7dHlwZTp3LHZhbHVlOiI8IixzdGFydDp0fToiPiI9PT1uPyI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpBLHZhbHVlOiI+PSIsc3RhcnQ6dH0pOnt0eXBlOkksdmFsdWU6Ij4iLHN0YXJ0OnR9OiI9Ij09PW4mJiI9Ij09PWVbdGhpcy5fY3VycmVudF0/KHRoaXMuX2N1cnJlbnQrKyx7dHlwZTpULHZhbHVlOiI9PSIsc3RhcnQ6dH0pOnZvaWQgMH0sX2NvbnN1bWVMaXRlcmFsOmZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnQrKztmb3IodmFyIHQsbj10aGlzLl9jdXJyZW50LHI9ZS5sZW5ndGg7ImAiIT09ZVt0aGlzLl9jdXJyZW50XSYmdGhpcy5fY3VycmVudDxyOyl7dmFyIG89dGhpcy5fY3VycmVudDsiXFwiIT09ZVtvXXx8IlxcIiE9PWVbbysxXSYmImAiIT09ZVtvKzFdP28rKzpvKz0yLHRoaXMuX2N1cnJlbnQ9b312YXIgYT1pKGUuc2xpY2Uobix0aGlzLl9jdXJyZW50KSk7cmV0dXJuIGE9YS5yZXBsYWNlKCJcXGAiLCJgIiksdD10aGlzLl9sb29rc0xpa2VKU09OKGEpP0pTT04ucGFyc2UoYSk6SlNPTi5wYXJzZSgnIicrYSsnIicpLHRoaXMuX2N1cnJlbnQrKyx0fSxfbG9va3NMaWtlSlNPTjpmdW5jdGlvbihlKXtpZigiIj09PWUpcmV0dXJuITE7aWYoJ1t7IicuaW5kZXhPZihlWzBdKT49MClyZXR1cm4hMDtpZihbInRydWUiLCJmYWxzZSIsIm51bGwiXS5pbmRleE9mKGUpPj0wKXJldHVybiEwO2lmKCEoIi0wMTIzNDU2Nzg5Ii5pbmRleE9mKGVbMF0pPj0wKSlyZXR1cm4hMTt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fX07dmFyIFY9e307ZnVuY3Rpb24gVygpe31mdW5jdGlvbiBIKGUpe3RoaXMucnVudGltZT1lfWZ1bmN0aW9uIHooZSl7dGhpcy5faW50ZXJwcmV0ZXI9ZSx0aGlzLmZ1bmN0aW9uVGFibGU9e2Ficzp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25BYnMsX3NpZ25hdHVyZTpbe3R5cGVzOlthXX1dfSxhdmc6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQXZnLF9zaWduYXR1cmU6W3t0eXBlczpbOF19XX0sY2VpbDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25DZWlsLF9zaWduYXR1cmU6W3t0eXBlczpbYV19XX0sY29udGFpbnM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uQ29udGFpbnMsX3NpZ25hdHVyZTpbe3R5cGVzOltzLDNdfSx7dHlwZXM6WzFdfV19LGVuZHNfd2l0aDp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25FbmRzV2l0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W3NdfSx7dHlwZXM6W3NdfV19LGZsb29yOntfZnVuYzp0aGlzLl9mdW5jdGlvbkZsb29yLF9zaWduYXR1cmU6W3t0eXBlczpbYV19XX0sbGVuZ3RoOntfZnVuYzp0aGlzLl9mdW5jdGlvbkxlbmd0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W3MsMyw0XX1dfSxtYXA6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWFwLF9zaWduYXR1cmU6W3t0eXBlczpbNl19LHt0eXBlczpbM119XX0sbWF4OntfZnVuYzp0aGlzLl9mdW5jdGlvbk1heCxfc2lnbmF0dXJlOlt7dHlwZXM6WzgsOV19XX0sbWVyZ2U6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWVyZ2UsX3NpZ25hdHVyZTpbe3R5cGVzOls0XSx2YXJpYWRpYzohMH1dfSxtYXhfYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTWF4QnksX3NpZ25hdHVyZTpbe3R5cGVzOlszXX0se3R5cGVzOls2XX1dfSxzdW06e19mdW5jOnRoaXMuX2Z1bmN0aW9uU3VtLF9zaWduYXR1cmU6W3t0eXBlczpbOF19XX0sc3RhcnRzX3dpdGg6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU3RhcnRzV2l0aCxfc2lnbmF0dXJlOlt7dHlwZXM6W3NdfSx7dHlwZXM6W3NdfV19LG1pbjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NaW4sX3NpZ25hdHVyZTpbe3R5cGVzOls4LDldfV19LG1pbl9ieTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25NaW5CeSxfc2lnbmF0dXJlOlt7dHlwZXM6WzNdfSx7dHlwZXM6WzZdfV19LHR5cGU6e19mdW5jOnRoaXMuX2Z1bmN0aW9uVHlwZSxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdfV19LGtleXM6e19mdW5jOnRoaXMuX2Z1bmN0aW9uS2V5cyxfc2lnbmF0dXJlOlt7dHlwZXM6WzRdfV19LHZhbHVlczp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25WYWx1ZXMsX3NpZ25hdHVyZTpbe3R5cGVzOls0XX1dfSxzb3J0OntfZnVuYzp0aGlzLl9mdW5jdGlvblNvcnQsX3NpZ25hdHVyZTpbe3R5cGVzOls5LDhdfV19LHNvcnRfYnk6e19mdW5jOnRoaXMuX2Z1bmN0aW9uU29ydEJ5LF9zaWduYXR1cmU6W3t0eXBlczpbM119LHt0eXBlczpbNl19XX0sam9pbjp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Kb2luLF9zaWduYXR1cmU6W3t0eXBlczpbc119LHt0eXBlczpbOV19XX0scmV2ZXJzZTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25SZXZlcnNlLF9zaWduYXR1cmU6W3t0eXBlczpbcywzXX1dfSx0b19hcnJheTp7X2Z1bmM6dGhpcy5fZnVuY3Rpb25Ub0FycmF5LF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sdG9fc3RyaW5nOntfZnVuYzp0aGlzLl9mdW5jdGlvblRvU3RyaW5nLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sdG9fbnVtYmVyOntfZnVuYzp0aGlzLl9mdW5jdGlvblRvTnVtYmVyLF9zaWduYXR1cmU6W3t0eXBlczpbMV19XX0sbm90X251bGw6e19mdW5jOnRoaXMuX2Z1bmN0aW9uTm90TnVsbCxfc2lnbmF0dXJlOlt7dHlwZXM6WzFdLHZhcmlhZGljOiEwfV19fX1WW3VdPTAsVltsXT0wLFZbcF09MCxWW2RdPTAsVltmXT0wLFZbaF09MCxWW21dPTAsVlt2XT0wLFZbeV09MCxWW2JdPTAsVltFXT0xLFZbU109MixWW0NdPTMsVltUXT01LFZbSV09NSxWW3ddPTUsVltBXT01LFZbX109NSxWW1JdPTUsVltPXT05LFZbTF09MjAsVltrXT0yMSxWW05dPTQwLFZbUF09NDUsVltEXT01MCxWW3hdPTU1LFZbTV09NjAsVy5wcm90b3R5cGU9e3BhcnNlOmZ1bmN0aW9uKGUpe3RoaXMuX2xvYWRUb2tlbnMoZSksdGhpcy5pbmRleD0wO3ZhciB0PXRoaXMuZXhwcmVzc2lvbigwKTtpZih0aGlzLl9sb29rYWhlYWQoMCkhPT11KXt2YXIgbj10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxyPW5ldyBFcnJvcigiVW5leHBlY3RlZCB0b2tlbiB0eXBlOiAiK24udHlwZSsiLCB2YWx1ZTogIituLnZhbHVlKTt0aHJvdyByLm5hbWU9IlBhcnNlckVycm9yIixyfXJldHVybiB0fSxfbG9hZFRva2VuczpmdW5jdGlvbihlKXt2YXIgdD0obmV3IEcpLnRva2VuaXplKGUpO3QucHVzaCh7dHlwZTp1LHZhbHVlOiIiLHN0YXJ0OmUubGVuZ3RofSksdGhpcy50b2tlbnM9dH0sZXhwcmVzc2lvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sb29rYWhlYWRUb2tlbigwKTt0aGlzLl9hZHZhbmNlKCk7Zm9yKHZhciBuPXRoaXMubnVkKHQpLHI9dGhpcy5fbG9va2FoZWFkKDApO2U8VltyXTspdGhpcy5fYWR2YW5jZSgpLG49dGhpcy5sZWQocixuKSxyPXRoaXMuX2xvb2thaGVhZCgwKTtyZXR1cm4gbn0sX2xvb2thaGVhZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5pbmRleCtlXS50eXBlfSxfbG9va2FoZWFkVG9rZW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9rZW5zW3RoaXMuaW5kZXgrZV19LF9hZHZhbmNlOmZ1bmN0aW9uKCl7dGhpcy5pbmRleCsrfSxudWQ6ZnVuY3Rpb24oZSl7dmFyIHQsbjtzd2l0Y2goZS50eXBlKXtjYXNlIFU6cmV0dXJue3R5cGU6IkxpdGVyYWwiLHZhbHVlOmUudmFsdWV9O2Nhc2UgbDpyZXR1cm57dHlwZToiRmllbGQiLG5hbWU6ZS52YWx1ZX07Y2FzZSBwOnZhciByPXt0eXBlOiJGaWVsZCIsbmFtZTplLnZhbHVlfTtpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1NKXRocm93IG5ldyBFcnJvcigiUXVvdGVkIGlkZW50aWZpZXIgbm90IGFsbG93ZWQgZm9yIGZ1bmN0aW9uIG5hbWVzLiIpO3JldHVybiByO2Nhc2UgUDpyZXR1cm57dHlwZToiTm90RXhwcmVzc2lvbiIsY2hpbGRyZW46W3Q9dGhpcy5leHByZXNzaW9uKFYuTm90KV19O2Nhc2UgTDpyZXR1cm4gdD1udWxsLHt0eXBlOiJWYWx1ZVByb2plY3Rpb24iLGNoaWxkcmVuOlt7dHlwZToiSWRlbnRpdHkifSx0PXRoaXMuX2xvb2thaGVhZCgwKT09PWQ/e3R5cGU6IklkZW50aXR5In06dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuU3RhcildfTtjYXNlIGs6cmV0dXJuIHRoaXMubGVkKGUudHlwZSx7dHlwZToiSWRlbnRpdHkifSk7Y2FzZSBEOnJldHVybiB0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpO2Nhc2UgTzpyZXR1cm57dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3t0eXBlOk8sY2hpbGRyZW46W3t0eXBlOiJJZGVudGl0eSJ9XX0sdD10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5GbGF0dGVuKV19O2Nhc2UgeDpyZXR1cm4gdGhpcy5fbG9va2FoZWFkKDApPT09dnx8dGhpcy5fbG9va2FoZWFkKDApPT09Zz8odD10aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpLHRoaXMuX3Byb2plY3RJZlNsaWNlKHt0eXBlOiJJZGVudGl0eSJ9LHQpKTp0aGlzLl9sb29rYWhlYWQoMCk9PT1MJiZ0aGlzLl9sb29rYWhlYWQoMSk9PT1kPyh0aGlzLl9hZHZhbmNlKCksdGhpcy5fYWR2YW5jZSgpLHt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6IklkZW50aXR5In0sdD10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19KTp0aGlzLl9wYXJzZU11bHRpc2VsZWN0TGlzdCgpO2Nhc2UgeTpyZXR1cm57dHlwZTp5fTtjYXNlIGI6cmV0dXJue3R5cGU6IkV4cHJlc3Npb25SZWZlcmVuY2UiLGNoaWxkcmVuOltuPXRoaXMuZXhwcmVzc2lvbihWLkV4cHJlZildfTtjYXNlIE06Zm9yKHZhciBvPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWY7KXRoaXMuX2xvb2thaGVhZCgwKT09PXk/KG49e3R5cGU6eX0sdGhpcy5fYWR2YW5jZSgpKTpuPXRoaXMuZXhwcmVzc2lvbigwKSxvLnB1c2gobik7cmV0dXJuIHRoaXMuX21hdGNoKGYpLG9bMF07ZGVmYXVsdDp0aGlzLl9lcnJvclRva2VuKGUpfX0sbGVkOmZ1bmN0aW9uKGUsdCl7dmFyIG47c3dpdGNoKGUpe2Nhc2UgTjp2YXIgcj1WLkRvdDtyZXR1cm4gdGhpcy5fbG9va2FoZWFkKDApIT09TD97dHlwZToiU3ViZXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZURvdFJIUyhyKV19Oih0aGlzLl9hZHZhbmNlKCkse3R5cGU6IlZhbHVlUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMocildfSk7Y2FzZSBFOnJldHVybiBuPXRoaXMuZXhwcmVzc2lvbihWLlBpcGUpLHt0eXBlOkUsY2hpbGRyZW46W3Qsbl19O2Nhc2UgUzpyZXR1cm57dHlwZToiT3JFeHByZXNzaW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuZXhwcmVzc2lvbihWLk9yKV19O2Nhc2UgQzpyZXR1cm57dHlwZToiQW5kRXhwcmVzc2lvbiIsY2hpbGRyZW46W3Qsbj10aGlzLmV4cHJlc3Npb24oVi5BbmQpXX07Y2FzZSBNOmZvcih2YXIgbyxpPXQubmFtZSxhPVtdO3RoaXMuX2xvb2thaGVhZCgwKSE9PWY7KXRoaXMuX2xvb2thaGVhZCgwKT09PXk/KG89e3R5cGU6eX0sdGhpcy5fYWR2YW5jZSgpKTpvPXRoaXMuZXhwcmVzc2lvbigwKSx0aGlzLl9sb29rYWhlYWQoMCk9PT1oJiZ0aGlzLl9tYXRjaChoKSxhLnB1c2gobyk7cmV0dXJuIHRoaXMuX21hdGNoKGYpLHt0eXBlOiJGdW5jdGlvbiIsbmFtZTppLGNoaWxkcmVuOmF9O2Nhc2Ugazp2YXIgcz10aGlzLmV4cHJlc3Npb24oMCk7cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJGaWx0ZXJQcm9qZWN0aW9uIixjaGlsZHJlbjpbdCxuPXRoaXMuX2xvb2thaGVhZCgwKT09PU8/e3R5cGU6IklkZW50aXR5In06dGhpcy5fcGFyc2VQcm9qZWN0aW9uUkhTKFYuRmlsdGVyKSxzXX07Y2FzZSBPOnJldHVybnt0eXBlOiJQcm9qZWN0aW9uIixjaGlsZHJlbjpbe3R5cGU6TyxjaGlsZHJlbjpbdF19LHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLkZsYXR0ZW4pXX07Y2FzZSBUOmNhc2UgUjpjYXNlIEk6Y2FzZSBBOmNhc2UgdzpjYXNlIF86cmV0dXJuIHRoaXMuX3BhcnNlQ29tcGFyYXRvcih0LGUpO2Nhc2UgeDp2YXIgYz10aGlzLl9sb29rYWhlYWRUb2tlbigwKTtyZXR1cm4gYy50eXBlPT09dnx8Yy50eXBlPT09Zz8obj10aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpLHRoaXMuX3Byb2plY3RJZlNsaWNlKHQsbikpOih0aGlzLl9tYXRjaChMKSx0aGlzLl9tYXRjaChkKSx7dHlwZToiUHJvamVjdGlvbiIsY2hpbGRyZW46W3Qsbj10aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoVi5TdGFyKV19KTtkZWZhdWx0OnRoaXMuX2Vycm9yVG9rZW4odGhpcy5fbG9va2FoZWFkVG9rZW4oMCkpfX0sX21hdGNoOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PWUpe3ZhciB0PXRoaXMuX2xvb2thaGVhZFRva2VuKDApLG49bmV3IEVycm9yKCJFeHBlY3RlZCAiK2UrIiwgZ290OiAiK3QudHlwZSk7dGhyb3cgbi5uYW1lPSJQYXJzZXJFcnJvciIsbn10aGlzLl9hZHZhbmNlKCl9LF9lcnJvclRva2VuOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBFcnJvcigiSW52YWxpZCB0b2tlbiAoIitlLnR5cGUrJyk6ICInK2UudmFsdWUrJyInKTt0aHJvdyB0Lm5hbWU9IlBhcnNlckVycm9yIix0fSxfcGFyc2VJbmRleEV4cHJlc3Npb246ZnVuY3Rpb24oKXtpZih0aGlzLl9sb29rYWhlYWQoMCk9PT1nfHx0aGlzLl9sb29rYWhlYWQoMSk9PT1nKXJldHVybiB0aGlzLl9wYXJzZVNsaWNlRXhwcmVzc2lvbigpO3ZhciBlPXt0eXBlOiJJbmRleCIsdmFsdWU6dGhpcy5fbG9va2FoZWFkVG9rZW4oMCkudmFsdWV9O3JldHVybiB0aGlzLl9hZHZhbmNlKCksdGhpcy5fbWF0Y2goZCksZX0sX3Byb2plY3RJZlNsaWNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e3R5cGU6IkluZGV4RXhwcmVzc2lvbiIsY2hpbGRyZW46W2UsdF19O3JldHVybiJTbGljZSI9PT10LnR5cGU/e3R5cGU6IlByb2plY3Rpb24iLGNoaWxkcmVuOltuLHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhWLlN0YXIpXX06bn0sX3BhcnNlU2xpY2VFeHByZXNzaW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtudWxsLG51bGwsbnVsbF0sdD0wLG49dGhpcy5fbG9va2FoZWFkKDApO24hPT1kJiZ0PDM7KXtpZihuPT09Zyl0KyssdGhpcy5fYWR2YW5jZSgpO2Vsc2V7aWYobiE9PXYpe3ZhciByPXRoaXMuX2xvb2thaGVhZCgwKSxvPW5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bmV4cGVjdGVkIHRva2VuOiAiK3IudmFsdWUrIigiK3IudHlwZSsiKSIpO3Rocm93IG8ubmFtZT0iUGFyc2VyZXJyb3IiLG99ZVt0XT10aGlzLl9sb29rYWhlYWRUb2tlbigwKS52YWx1ZSx0aGlzLl9hZHZhbmNlKCl9bj10aGlzLl9sb29rYWhlYWQoMCl9cmV0dXJuIHRoaXMuX21hdGNoKGQpLHt0eXBlOiJTbGljZSIsY2hpbGRyZW46ZX19LF9wYXJzZUNvbXBhcmF0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZToiQ29tcGFyYXRvciIsbmFtZTp0LGNoaWxkcmVuOltlLHRoaXMuZXhwcmVzc2lvbihWW3RdKV19fSxfcGFyc2VEb3RSSFM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbG9va2FoZWFkKDApO3JldHVybltsLHAsTF0uaW5kZXhPZih0KT49MD90aGlzLmV4cHJlc3Npb24oZSk6dD09PXg/KHRoaXMuX21hdGNoKHgpLHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RMaXN0KCkpOnQ9PT1EPyh0aGlzLl9tYXRjaChEKSx0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpKTp2b2lkIDB9LF9wYXJzZVByb2plY3Rpb25SSFM6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoVlt0aGlzLl9sb29rYWhlYWQoMCldPDEwKXQ9e3R5cGU6IklkZW50aXR5In07ZWxzZSBpZih0aGlzLl9sb29rYWhlYWQoMCk9PT14KXQ9dGhpcy5leHByZXNzaW9uKGUpO2Vsc2UgaWYodGhpcy5fbG9va2FoZWFkKDApPT09ayl0PXRoaXMuZXhwcmVzc2lvbihlKTtlbHNle2lmKHRoaXMuX2xvb2thaGVhZCgwKSE9PU4pe3ZhciBuPXRoaXMuX2xvb2thaGVhZFRva2VuKDApLHI9bmV3IEVycm9yKCJTeXRhbnggZXJyb3IsIHVuZXhwZWN0ZWQgdG9rZW46ICIrbi52YWx1ZSsiKCIrbi50eXBlKyIpIik7dGhyb3cgci5uYW1lPSJQYXJzZXJFcnJvciIscn10aGlzLl9tYXRjaChOKSx0PXRoaXMuX3BhcnNlRG90UkhTKGUpfXJldHVybiB0fSxfcGFyc2VNdWx0aXNlbGVjdExpc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W107dGhpcy5fbG9va2FoZWFkKDApIT09ZDspe3ZhciB0PXRoaXMuZXhwcmVzc2lvbigwKTtpZihlLnB1c2godCksdGhpcy5fbG9va2FoZWFkKDApPT09aCYmKHRoaXMuX21hdGNoKGgpLHRoaXMuX2xvb2thaGVhZCgwKT09PWQpKXRocm93IG5ldyBFcnJvcigiVW5leHBlY3RlZCB0b2tlbiBSYnJhY2tldCIpfXJldHVybiB0aGlzLl9tYXRjaChkKSx7dHlwZToiTXVsdGlTZWxlY3RMaXN0IixjaGlsZHJlbjplfX0sX3BhcnNlTXVsdGlzZWxlY3RIYXNoOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsbixyPVtdLG89W2wscF07Oyl7aWYoZT10aGlzLl9sb29rYWhlYWRUb2tlbigwKSxvLmluZGV4T2YoZS50eXBlKTwwKXRocm93IG5ldyBFcnJvcigiRXhwZWN0aW5nIGFuIGlkZW50aWZpZXIgdG9rZW4sIGdvdDogIitlLnR5cGUpO2lmKHQ9ZS52YWx1ZSx0aGlzLl9hZHZhbmNlKCksdGhpcy5fbWF0Y2goZyksbj17dHlwZToiS2V5VmFsdWVQYWlyIixuYW1lOnQsdmFsdWU6dGhpcy5leHByZXNzaW9uKDApfSxyLnB1c2gobiksdGhpcy5fbG9va2FoZWFkKDApPT09aCl0aGlzLl9tYXRjaChoKTtlbHNlIGlmKHRoaXMuX2xvb2thaGVhZCgwKT09PW0pe3RoaXMuX21hdGNoKG0pO2JyZWFrfX1yZXR1cm57dHlwZToiTXVsdGlTZWxlY3RIYXNoIixjaGlsZHJlbjpyfX19LEgucHJvdG90eXBlPXtzZWFyY2g6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy52aXNpdChlLHQpfSx2aXNpdDpmdW5jdGlvbihlLGkpe3ZhciBhLHMsYyx1LGwscCxkLGYsaDtzd2l0Y2goZS50eXBlKXtjYXNlIkZpZWxkIjpyZXR1cm4gbnVsbCE9PWkmJm4oaSk/dm9pZCAwPT09KHA9aVtlLm5hbWVdKT9udWxsOnA6bnVsbDtjYXNlIlN1YmV4cHJlc3Npb24iOmZvcihjPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSxoPTE7aDxlLmNoaWxkcmVuLmxlbmd0aDtoKyspaWYobnVsbD09PShjPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxjKSkpcmV0dXJuIG51bGw7cmV0dXJuIGM7Y2FzZSJJbmRleEV4cHJlc3Npb24iOnJldHVybiBkPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSx0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sZCk7Y2FzZSJJbmRleCI6aWYoIXQoaSkpcmV0dXJuIG51bGw7dmFyIGc9ZS52YWx1ZTtyZXR1cm4gZzwwJiYoZz1pLmxlbmd0aCtnKSx2b2lkIDA9PT0oYz1pW2ddKSYmKGM9bnVsbCksYztjYXNlIlNsaWNlIjppZighdChpKSlyZXR1cm4gbnVsbDt2YXIgbT1lLmNoaWxkcmVuLnNsaWNlKDApLHY9dGhpcy5jb21wdXRlU2xpY2VQYXJhbXMoaS5sZW5ndGgsbSksUz12WzBdLEM9dlsxXSxMPXZbMl07aWYoYz1bXSxMPjApZm9yKGg9UztoPEM7aCs9TCljLnB1c2goaVtoXSk7ZWxzZSBmb3IoaD1TO2g+QztoKz1MKWMucHVzaChpW2hdKTtyZXR1cm4gYztjYXNlIlByb2plY3Rpb24iOnZhciBrPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKTtpZighdChrKSlyZXR1cm4gbnVsbDtmb3IoZj1bXSxoPTA7aDxrLmxlbmd0aDtoKyspbnVsbCE9PShzPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxrW2hdKSkmJmYucHVzaChzKTtyZXR1cm4gZjtjYXNlIlZhbHVlUHJvamVjdGlvbiI6aWYoIW4oaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpKXJldHVybiBudWxsO2Y9W107dmFyIE49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49W10scj0wO3I8dC5sZW5ndGg7cisrKW4ucHVzaChlW3Rbcl1dKTtyZXR1cm4gbn0oayk7Zm9yKGg9MDtoPE4ubGVuZ3RoO2grKyludWxsIT09KHM9dGhpcy52aXNpdChlLmNoaWxkcmVuWzFdLE5baF0pKSYmZi5wdXNoKHMpO3JldHVybiBmO2Nhc2UiRmlsdGVyUHJvamVjdGlvbiI6aWYoIXQoaz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSkpKXJldHVybiBudWxsO3ZhciBQPVtdLEQ9W107Zm9yKGg9MDtoPGsubGVuZ3RoO2grKylvKGE9dGhpcy52aXNpdChlLmNoaWxkcmVuWzJdLGtbaF0pKXx8UC5wdXNoKGtbaF0pO2Zvcih2YXIgeD0wO3g8UC5sZW5ndGg7eCsrKW51bGwhPT0ocz10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0sUFt4XSkpJiZELnB1c2gocyk7cmV0dXJuIEQ7Y2FzZSJDb21wYXJhdG9yIjpzd2l0Y2godT10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMF0saSksbD10aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSksZS5uYW1lKXtjYXNlIFQ6Yz1yKHUsbCk7YnJlYWs7Y2FzZSBSOmM9IXIodSxsKTticmVhaztjYXNlIEk6Yz11Pmw7YnJlYWs7Y2FzZSBBOmM9dT49bDticmVhaztjYXNlIHc6Yz11PGw7YnJlYWs7Y2FzZSBfOmM9dTw9bDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21wYXJhdG9yOiAiK2UubmFtZSl9cmV0dXJuIGM7Y2FzZSBPOnZhciBNPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKTtpZighdChNKSlyZXR1cm4gbnVsbDt2YXIgVT1bXTtmb3IoaD0wO2g8TS5sZW5ndGg7aCsrKXQocz1NW2hdKT9VLnB1c2guYXBwbHkoVSxzKTpVLnB1c2gocyk7cmV0dXJuIFU7Y2FzZSJJZGVudGl0eSI6cmV0dXJuIGk7Y2FzZSJNdWx0aVNlbGVjdExpc3QiOmlmKG51bGw9PT1pKXJldHVybiBudWxsO2ZvcihmPVtdLGg9MDtoPGUuY2hpbGRyZW4ubGVuZ3RoO2grKylmLnB1c2godGhpcy52aXNpdChlLmNoaWxkcmVuW2hdLGkpKTtyZXR1cm4gZjtjYXNlIk11bHRpU2VsZWN0SGFzaCI6aWYobnVsbD09PWkpcmV0dXJuIG51bGw7dmFyIEY7Zm9yKGY9e30saD0wO2g8ZS5jaGlsZHJlbi5sZW5ndGg7aCsrKWZbKEY9ZS5jaGlsZHJlbltoXSkubmFtZV09dGhpcy52aXNpdChGLnZhbHVlLGkpO3JldHVybiBmO2Nhc2UiT3JFeHByZXNzaW9uIjpyZXR1cm4gbyhhPXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSkmJihhPXRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxpKSksYTtjYXNlIkFuZEV4cHJlc3Npb24iOnJldHVybiEwPT09byh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSk/dTp0aGlzLnZpc2l0KGUuY2hpbGRyZW5bMV0saSk7Y2FzZSJOb3RFeHByZXNzaW9uIjpyZXR1cm4gbyh1PXRoaXMudmlzaXQoZS5jaGlsZHJlblswXSxpKSk7Y2FzZSJMaXRlcmFsIjpyZXR1cm4gZS52YWx1ZTtjYXNlIEU6cmV0dXJuIGQ9dGhpcy52aXNpdChlLmNoaWxkcmVuWzBdLGkpLHRoaXMudmlzaXQoZS5jaGlsZHJlblsxXSxkKTtjYXNlIHk6cmV0dXJuIGk7Y2FzZSJGdW5jdGlvbiI6dmFyIGo9W107Zm9yKGg9MDtoPGUuY2hpbGRyZW4ubGVuZ3RoO2grKylqLnB1c2godGhpcy52aXNpdChlLmNoaWxkcmVuW2hdLGkpKTtyZXR1cm4gdGhpcy5ydW50aW1lLmNhbGxGdW5jdGlvbihlLm5hbWUsaik7Y2FzZSJFeHByZXNzaW9uUmVmZXJlbmNlIjp2YXIgcT1lLmNoaWxkcmVuWzBdO3JldHVybiBxLmptZXNwYXRoVHlwZT1iLHE7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbm9kZSB0eXBlOiAiK2UudHlwZSl9fSxjb21wdXRlU2xpY2VQYXJhbXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj10WzBdLHI9dFsxXSxvPXRbMl0saT1bbnVsbCxudWxsLG51bGxdO2lmKG51bGw9PT1vKW89MTtlbHNlIGlmKDA9PT1vKXt2YXIgYT1uZXcgRXJyb3IoIkludmFsaWQgc2xpY2UsIHN0ZXAgY2Fubm90IGJlIDAiKTt0aHJvdyBhLm5hbWU9IlJ1bnRpbWVFcnJvciIsYX12YXIgcz1vPDA7cmV0dXJuIG49bnVsbD09PW4/cz9lLTE6MDp0aGlzLmNhcFNsaWNlUmFuZ2UoZSxuLG8pLHI9bnVsbD09PXI/cz8tMTplOnRoaXMuY2FwU2xpY2VSYW5nZShlLHIsbyksaVswXT1uLGlbMV09cixpWzJdPW8saX0sY2FwU2xpY2VSYW5nZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ8MD8odCs9ZSk8MCYmKHQ9bjwwPy0xOjApOnQ+PWUmJih0PW48MD9lLTE6ZSksdH19LHoucHJvdG90eXBlPXtjYWxsRnVuY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmZ1bmN0aW9uVGFibGVbZV07aWYodm9pZCAwPT09bil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZnVuY3Rpb246ICIrZSsiKCkiKTtyZXR1cm4gdGhpcy5fdmFsaWRhdGVBcmdzKGUsdCxuLl9zaWduYXR1cmUpLG4uX2Z1bmMuY2FsbCh0aGlzLHQpfSxfdmFsaWRhdGVBcmdzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtpZihuW24ubGVuZ3RoLTFdLnZhcmlhZGljKXtpZih0Lmxlbmd0aDxuLmxlbmd0aCl0aHJvdyByPTE9PT1uLmxlbmd0aD8iIGFyZ3VtZW50IjoiIGFyZ3VtZW50cyIsbmV3IEVycm9yKCJBcmd1bWVudEVycm9yOiAiK2UrIigpIHRha2VzIGF0IGxlYXN0IituLmxlbmd0aCtyKyIgYnV0IHJlY2VpdmVkICIrdC5sZW5ndGgpfWVsc2UgaWYodC5sZW5ndGghPT1uLmxlbmd0aCl0aHJvdyByPTE9PT1uLmxlbmd0aD8iIGFyZ3VtZW50IjoiIGFyZ3VtZW50cyIsbmV3IEVycm9yKCJBcmd1bWVudEVycm9yOiAiK2UrIigpIHRha2VzICIrbi5sZW5ndGgrcisiIGJ1dCByZWNlaXZlZCAiK3QubGVuZ3RoKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl7YT0hMSxvPW5bc10udHlwZXMsaT10aGlzLl9nZXRUeXBlTmFtZSh0W3NdKTtmb3IodmFyIHU9MDt1PG8ubGVuZ3RoO3UrKylpZih0aGlzLl90eXBlTWF0Y2hlcyhpLG9bdV0sdFtzXSkpe2E9ITA7YnJlYWt9aWYoIWEpe3ZhciBsPW8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gY1tlXX0pKS5qb2luKCIsIik7dGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3I6ICIrZSsiKCkgZXhwZWN0ZWQgYXJndW1lbnQgIisocysxKSsiIHRvIGJlIHR5cGUgIitsKyIgYnV0IHJlY2VpdmVkIHR5cGUgIitjW2ldKyIgaW5zdGVhZC4iKX19fSxfdHlwZU1hdGNoZXM6ZnVuY3Rpb24oZSx0LG4pe2lmKDE9PT10KXJldHVybiEwO2lmKDkhPT10JiY4IT09dCYmMyE9PXQpcmV0dXJuIGU9PT10O2lmKDM9PT10KXJldHVybiAzPT09ZTtpZigzPT09ZSl7dmFyIHI7OD09PXQ/cj1hOjk9PT10JiYocj1zKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylpZighdGhpcy5fdHlwZU1hdGNoZXModGhpcy5fZ2V0VHlwZU5hbWUobltvXSkscixuW29dKSlyZXR1cm4hMTtyZXR1cm4hMH19LF9nZXRUeXBlTmFtZTpmdW5jdGlvbihlKXtzd2l0Y2goT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtjYXNlIltvYmplY3QgU3RyaW5nXSI6cmV0dXJuIHM7Y2FzZSJbb2JqZWN0IE51bWJlcl0iOnJldHVybiBhO2Nhc2UiW29iamVjdCBBcnJheV0iOnJldHVybiAzO2Nhc2UiW29iamVjdCBCb29sZWFuXSI6cmV0dXJuIDU7Y2FzZSJbb2JqZWN0IE51bGxdIjpyZXR1cm4gNztjYXNlIltvYmplY3QgT2JqZWN0XSI6cmV0dXJuIGUuam1lc3BhdGhUeXBlPT09Yj82OjR9fSxfZnVuY3Rpb25TdGFydHNXaXRoOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZVswXS5sYXN0SW5kZXhPZihlWzFdKX0sX2Z1bmN0aW9uRW5kc1dpdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV07cmV0dXJuLTEhPT10LmluZGV4T2Yobix0Lmxlbmd0aC1uLmxlbmd0aCl9LF9mdW5jdGlvblJldmVyc2U6ZnVuY3Rpb24oZSl7aWYodGhpcy5fZ2V0VHlwZU5hbWUoZVswXSk9PT1zKXtmb3IodmFyIHQ9ZVswXSxuPSIiLHI9dC5sZW5ndGgtMTtyPj0wO3ItLSluKz10W3JdO3JldHVybiBufXZhciBvPWVbMF0uc2xpY2UoMCk7cmV0dXJuIG8ucmV2ZXJzZSgpLG99LF9mdW5jdGlvbkFiczpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hYnMoZVswXSl9LF9mdW5jdGlvbkNlaWw6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguY2VpbChlWzBdKX0sX2Z1bmN0aW9uQXZnOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49ZVswXSxyPTA7cjxuLmxlbmd0aDtyKyspdCs9bltyXTtyZXR1cm4gdC9uLmxlbmd0aH0sX2Z1bmN0aW9uQ29udGFpbnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0uaW5kZXhPZihlWzFdKT49MH0sX2Z1bmN0aW9uRmxvb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZmxvb3IoZVswXSl9LF9mdW5jdGlvbkxlbmd0aDpmdW5jdGlvbihlKXtyZXR1cm4gbihlWzBdKT9PYmplY3Qua2V5cyhlWzBdKS5sZW5ndGg6ZVswXS5sZW5ndGh9LF9mdW5jdGlvbk1hcDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj10aGlzLl9pbnRlcnByZXRlcixyPWVbMF0sbz1lWzFdLGk9MDtpPG8ubGVuZ3RoO2krKyl0LnB1c2gobi52aXNpdChyLG9baV0pKTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWVyZ2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtmb3IodmFyIG8gaW4gcil0W29dPXJbb119cmV0dXJuIHR9LF9mdW5jdGlvbk1heDpmdW5jdGlvbihlKXtpZihlWzBdLmxlbmd0aD4wKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdWzBdKT09PWEpcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsZVswXSk7Zm9yKHZhciB0PWVbMF0sbj10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyluLmxvY2FsZUNvbXBhcmUodFtyXSk8MCYmKG49dFtyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LF9mdW5jdGlvbk1pbjpmdW5jdGlvbihlKXtpZihlWzBdLmxlbmd0aD4wKXtpZih0aGlzLl9nZXRUeXBlTmFtZShlWzBdWzBdKT09PWEpcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsZVswXSk7Zm9yKHZhciB0PWVbMF0sbj10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyl0W3JdLmxvY2FsZUNvbXBhcmUobik8MCYmKG49dFtyXSk7cmV0dXJuIG59cmV0dXJuIG51bGx9LF9mdW5jdGlvblN1bTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWVbMF0scj0wO3I8bi5sZW5ndGg7cisrKXQrPW5bcl07cmV0dXJuIHR9LF9mdW5jdGlvblR5cGU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pKXtjYXNlIGE6cmV0dXJuIm51bWJlciI7Y2FzZSBzOnJldHVybiJzdHJpbmciO2Nhc2UgMzpyZXR1cm4iYXJyYXkiO2Nhc2UgNDpyZXR1cm4ib2JqZWN0IjtjYXNlIDU6cmV0dXJuImJvb2xlYW4iO2Nhc2UgNjpyZXR1cm4iZXhwcmVmIjtjYXNlIDc6cmV0dXJuIm51bGwifX0sX2Z1bmN0aW9uS2V5czpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZVswXSl9LF9mdW5jdGlvblZhbHVlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXSxuPU9iamVjdC5rZXlzKHQpLHI9W10sbz0wO288bi5sZW5ndGg7bysrKXIucHVzaCh0W25bb11dKTtyZXR1cm4gcn0sX2Z1bmN0aW9uSm9pbjpmdW5jdGlvbihlKXt2YXIgdD1lWzBdO3JldHVybiBlWzFdLmpvaW4odCl9LF9mdW5jdGlvblRvQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIDM9PT10aGlzLl9nZXRUeXBlTmFtZShlWzBdKT9lWzBdOltlWzBdXX0sX2Z1bmN0aW9uVG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2dldFR5cGVOYW1lKGVbMF0pPT09cz9lWzBdOkpTT04uc3RyaW5naWZ5KGVbMF0pfSxfZnVuY3Rpb25Ub051bWJlcjpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuX2dldFR5cGVOYW1lKGVbMF0pO3JldHVybiBuPT09YT9lWzBdOm4hPT1zfHwodD0rZVswXSxpc05hTih0KSk/bnVsbDp0fSxfZnVuY3Rpb25Ob3ROdWxsOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKDchPT10aGlzLl9nZXRUeXBlTmFtZShlW3RdKSlyZXR1cm4gZVt0XTtyZXR1cm4gbnVsbH0sX2Z1bmN0aW9uU29ydDpmdW5jdGlvbihlKXt2YXIgdD1lWzBdLnNsaWNlKDApO3JldHVybiB0LnNvcnQoKSx0fSxfZnVuY3Rpb25Tb3J0Qnk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS5zbGljZSgwKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHQ7dmFyIG49dGhpcy5faW50ZXJwcmV0ZXIscj1lWzFdLG89dGhpcy5fZ2V0VHlwZU5hbWUobi52aXNpdChyLHRbMF0pKTtpZihbYSxzXS5pbmRleE9mKG8pPDApdGhyb3cgbmV3IEVycm9yKCJUeXBlRXJyb3IiKTtmb3IodmFyIGk9dGhpcyxjPVtdLHU9MDt1PHQubGVuZ3RoO3UrKyljLnB1c2goW3UsdFt1XV0pO2Muc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgYT1uLnZpc2l0KHIsZVsxXSkscz1uLnZpc2l0KHIsdFsxXSk7aWYoaS5fZ2V0VHlwZU5hbWUoYSkhPT1vKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiBleHBlY3RlZCAiK28rIiwgcmVjZWl2ZWQgIitpLl9nZXRUeXBlTmFtZShhKSk7aWYoaS5fZ2V0VHlwZU5hbWUocykhPT1vKXRocm93IG5ldyBFcnJvcigiVHlwZUVycm9yOiBleHBlY3RlZCAiK28rIiwgcmVjZWl2ZWQgIitpLl9nZXRUeXBlTmFtZShzKSk7cmV0dXJuIGE+cz8xOmE8cz8tMTplWzBdLXRbMF19KSk7Zm9yKHZhciBsPTA7bDxjLmxlbmd0aDtsKyspdFtsXT1jW2xdWzFdO3JldHVybiB0fSxfZnVuY3Rpb25NYXhCeTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWVbMV0sbz1lWzBdLGk9dGhpcy5jcmVhdGVLZXlGdW5jdGlvbihyLFthLHNdKSxjPS0xLzAsdT0wO3U8by5sZW5ndGg7dSsrKShuPWkob1t1XSkpPmMmJihjPW4sdD1vW3VdKTtyZXR1cm4gdH0sX2Z1bmN0aW9uTWluQnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lWzFdLG89ZVswXSxpPXRoaXMuY3JlYXRlS2V5RnVuY3Rpb24ocixbYSxzXSksYz0xLzAsdT0wO3U8by5sZW5ndGg7dSsrKShuPWkob1t1XSkpPGMmJihjPW4sdD1vW3VdKTtyZXR1cm4gdH0sY3JlYXRlS2V5RnVuY3Rpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9dGhpcy5faW50ZXJwcmV0ZXI7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBpPXIudmlzaXQoZSxvKTtpZih0LmluZGV4T2Yobi5fZ2V0VHlwZU5hbWUoaSkpPDApe3ZhciBhPSJUeXBlRXJyb3I6IGV4cGVjdGVkIG9uZSBvZiAiK3QrIiwgcmVjZWl2ZWQgIituLl9nZXRUeXBlTmFtZShpKTt0aHJvdyBuZXcgRXJyb3IoYSl9cmV0dXJuIGl9fX0sZS50b2tlbml6ZT1mdW5jdGlvbihlKXtyZXR1cm4obmV3IEcpLnRva2VuaXplKGUpfSxlLmNvbXBpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBXKS5wYXJzZShlKX0sZS5zZWFyY2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgVyxyPW5ldyB6LG89bmV3IEgocik7ci5faW50ZXJwcmV0ZXI9bzt2YXIgaT1uLnBhcnNlKHQpO3JldHVybiBvLnNlYXJjaChpLGUpfSxlLnN0cmljdERlZXBFcXVhbD1yfSh2b2lkIDA9PT1uP3RoaXMuam1lc3BhdGg9e306bil9LHt9XSw5MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT10LmV4cG9ydHM9e307ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHMoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIGMoZSl7aWYocj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigocj09PWF8fCFyKSYmc2V0VGltZW91dClyZXR1cm4gcj1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7cj0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmF9Y2F0Y2goZSl7cj1hfXRyeXtvPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnN9Y2F0Y2goZSl7bz1zfX0oKTt2YXIgdSxsPVtdLHA9ITEsZD0tMTtmdW5jdGlvbiBmKCl7cCYmdSYmKHA9ITEsdS5sZW5ndGg/bD11LmNvbmNhdChsKTpkPS0xLGwubGVuZ3RoJiZoKCkpfWZ1bmN0aW9uIGgoKXtpZighcCl7dmFyIGU9YyhmKTtwPSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKHU9bCxsPVtdOysrZDx0Oyl1JiZ1W2RdLnJ1bigpO2Q9LTEsdD1sLmxlbmd0aH11PW51bGwscD0hMSxmdW5jdGlvbihlKXtpZihvPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKG89PT1zfHwhbykmJmNsZWFyVGltZW91dClyZXR1cm4gbz1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG8uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBvLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIG0oKXt9aS5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2wucHVzaChuZXcgZyhlLHQpKSwxIT09bC5sZW5ndGh8fHB8fGMoaCl9LGcucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9ImJyb3dzZXIiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPSIiLGkudmVyc2lvbnM9e30saS5vbj1tLGkuYWRkTGlzdGVuZXI9bSxpLm9uY2U9bSxpLm9mZj1tLGkucmVtb3ZlTGlzdGVuZXI9bSxpLnJlbW92ZUFsbExpc3RlbmVycz1tLGkuZW1pdD1tLGkucHJlcGVuZExpc3RlbmVyPW0saS5wcmVwZW5kT25jZUxpc3RlbmVyPW0saS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGkuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxpLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LGkudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSw5MjpbZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXshZnVuY3Rpb24oYSl7dmFyIHM9Im9iamVjdCI9PW8oaSkmJmkmJiFpLm5vZGVUeXBlJiZpLGM9Im9iamVjdCI9PW8odCkmJnQmJiF0Lm5vZGVUeXBlJiZ0LHU9Im9iamVjdCI9PW8oZSkmJmU7dS5nbG9iYWwhPT11JiZ1LndpbmRvdyE9PXUmJnUuc2VsZiE9PXV8fChhPXUpO3ZhciBsLHAsZD0yMTQ3NDgzNjQ3LGY9MzYsaD0vXnhuLS0vLGc9L1teXHgyMC1ceDdFXS8sbT0vW1x4MkVcdTMwMDJcdUZGMEVcdUZGNjFdL2csdj17b3ZlcmZsb3c6Ik92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzIiwibm90LWJhc2ljIjoiSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KSIsImludmFsaWQtaW5wdXQiOiJJbnZhbGlkIGlucHV0In0seT1NYXRoLmZsb29yLGI9U3RyaW5nLmZyb21DaGFyQ29kZTtmdW5jdGlvbiBFKGUpe3Rocm93IG5ldyBSYW5nZUVycm9yKHZbZV0pfWZ1bmN0aW9uIFMoZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj1bXTtuLS07KXJbbl09dChlW25dKTtyZXR1cm4gcn1mdW5jdGlvbiBDKGUsdCl7dmFyIG49ZS5zcGxpdCgiQCIpLHI9IiI7cmV0dXJuIG4ubGVuZ3RoPjEmJihyPW5bMF0rIkAiLGU9blsxXSkscitTKChlPWUucmVwbGFjZShtLCIuIikpLnNwbGl0KCIuIiksdCkuam9pbigiLiIpfWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0LG4scj1bXSxvPTAsaT1lLmxlbmd0aDtvPGk7KSh0PWUuY2hhckNvZGVBdChvKyspKT49NTUyOTYmJnQ8PTU2MzE5JiZvPGk/NTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQobysrKSkpP3IucHVzaCgoKDEwMjMmdCk8PDEwKSsoMTAyMyZuKSs2NTUzNik6KHIucHVzaCh0KSxvLS0pOnIucHVzaCh0KTtyZXR1cm4gcn1mdW5jdGlvbiBJKGUpe3JldHVybiBTKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PSIiO3JldHVybiBlPjY1NTM1JiYodCs9YigoZS09NjU1MzYpPj4+MTAmMTAyM3w1NTI5NiksZT01NjMyMHwxMDIzJmUpLHQrPWIoZSl9KSkuam9pbigiIil9ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBlKzIyKzc1KihlPDI2KS0oKDAhPXQpPDw1KX1mdW5jdGlvbiBBKGUsdCxuKXt2YXIgcj0wO2ZvcihlPW4/eShlLzcwMCk6ZT4+MSxlKz15KGUvdCk7ZT40NTU7cis9ZillPXkoZS8zNSk7cmV0dXJuIHkociszNiplLyhlKzM4KSl9ZnVuY3Rpb24gXyhlKXt2YXIgdCxuLHIsbyxpLGEscyxjLHUsbCxwLGg9W10sZz1lLmxlbmd0aCxtPTAsdj0xMjgsYj03Mjtmb3IoKG49ZS5sYXN0SW5kZXhPZigiLSIpKTwwJiYobj0wKSxyPTA7cjxuOysrcillLmNoYXJDb2RlQXQocik+PTEyOCYmRSgibm90LWJhc2ljIiksaC5wdXNoKGUuY2hhckNvZGVBdChyKSk7Zm9yKG89bj4wP24rMTowO288Zzspe2ZvcihpPW0sYT0xLHM9ZjtvPj1nJiZFKCJpbnZhbGlkLWlucHV0IiksKChjPShwPWUuY2hhckNvZGVBdChvKyspKS00ODwxMD9wLTIyOnAtNjU8MjY/cC02NTpwLTk3PDI2P3AtOTc6Zik+PWZ8fGM+eSgoZC1tKS9hKSkmJkUoIm92ZXJmbG93IiksbSs9YyphLCEoYzwodT1zPD1iPzE6cz49YisyNj8yNjpzLWIpKTtzKz1mKWE+eShkLyhsPWYtdSkpJiZFKCJvdmVyZmxvdyIpLGEqPWw7Yj1BKG0taSx0PWgubGVuZ3RoKzEsMD09aSkseShtL3QpPmQtdiYmRSgib3ZlcmZsb3ciKSx2Kz15KG0vdCksbSU9dCxoLnNwbGljZShtKyssMCx2KX1yZXR1cm4gSShoKX1mdW5jdGlvbiBSKGUpe3ZhciB0LG4scixvLGksYSxzLGMsdSxsLHAsaCxnLG0sdixTPVtdO2ZvcihoPShlPVQoZSkpLmxlbmd0aCx0PTEyOCxuPTAsaT03MixhPTA7YTxoOysrYSkocD1lW2FdKTwxMjgmJlMucHVzaChiKHApKTtmb3Iocj1vPVMubGVuZ3RoLG8mJlMucHVzaCgiLSIpO3I8aDspe2ZvcihzPWQsYT0wO2E8aDsrK2EpKHA9ZVthXSk+PXQmJnA8cyYmKHM9cCk7Zm9yKHMtdD55KChkLW4pLyhnPXIrMSkpJiZFKCJvdmVyZmxvdyIpLG4rPShzLXQpKmcsdD1zLGE9MDthPGg7KythKWlmKChwPWVbYV0pPHQmJisrbj5kJiZFKCJvdmVyZmxvdyIpLHA9PXQpe2ZvcihjPW4sdT1mOyEoYzwobD11PD1pPzE6dT49aSsyNj8yNjp1LWkpKTt1Kz1mKXY9Yy1sLG09Zi1sLFMucHVzaChiKHcobCt2JW0sMCkpKSxjPXkodi9tKTtTLnB1c2goYih3KGMsMCkpKSxpPUEobixnLHI9PW8pLG49MCwrK3J9KytuLCsrdH1yZXR1cm4gUy5qb2luKCIiKX1pZihsPXt2ZXJzaW9uOiIxLjQuMSIsdWNzMjp7ZGVjb2RlOlQsZW5jb2RlOkl9LGRlY29kZTpfLGVuY29kZTpSLHRvQVNDSUk6ZnVuY3Rpb24oZSl7cmV0dXJuIEMoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGcudGVzdChlKT8ieG4tLSIrUihlKTplfSkpfSx0b1VuaWNvZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIEMoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGgudGVzdChlKT9fKGUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSk6ZX0pKX19LCJvYmplY3QiPT1vKG4uYW1kTykmJm4uYW1kTyl2b2lkIDA9PT0ocj1mdW5jdGlvbigpe3JldHVybiBsfS5jYWxsKGksbixpLHQpKXx8KHQuZXhwb3J0cz1yKTtlbHNlIGlmKHMmJmMpaWYodC5leHBvcnRzPT1zKWMuZXhwb3J0cz1sO2Vsc2UgZm9yKHAgaW4gbClsLmhhc093blByb3BlcnR5KHApJiYoc1twXT1sW3BdKTtlbHNlIGEucHVueWNvZGU9bH0odGhpcyl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PW4uZz9uLmc6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDkzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe3Q9dHx8IiYiLG49bnx8Ij0iO3ZhciBhPXt9O2lmKCJzdHJpbmciIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiBhO3ZhciBzPS9cKy9nO2U9ZS5zcGxpdCh0KTt2YXIgYz0xZTM7aSYmIm51bWJlciI9PXR5cGVvZiBpLm1heEtleXMmJihjPWkubWF4S2V5cyk7dmFyIHU9ZS5sZW5ndGg7Yz4wJiZ1PmMmJih1PWMpO2Zvcih2YXIgbD0wO2w8dTsrK2wpe3ZhciBwLGQsZixoLGc9ZVtsXS5yZXBsYWNlKHMsIiUyMCIpLG09Zy5pbmRleE9mKG4pO20+PTA/KHA9Zy5zdWJzdHIoMCxtKSxkPWcuc3Vic3RyKG0rMSkpOihwPWcsZD0iIiksZj1kZWNvZGVVUklDb21wb25lbnQocCksaD1kZWNvZGVVUklDb21wb25lbnQoZCkscihhLGYpP28oYVtmXSk/YVtmXS5wdXNoKGgpOmFbZl09W2FbZl0saF06YVtmXT1ofXJldHVybiBhfTt2YXIgbz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfX0se31dLDk0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWZ1bmN0aW9uKGUpe3N3aXRjaChvKGUpKXtjYXNlInN0cmluZyI6cmV0dXJuIGU7Y2FzZSJib29sZWFuIjpyZXR1cm4gZT8idHJ1ZSI6ImZhbHNlIjtjYXNlIm51bWJlciI6cmV0dXJuIGlzRmluaXRlKGUpP2U6IiI7ZGVmYXVsdDpyZXR1cm4iIn19O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixjKXtyZXR1cm4gdD10fHwiJiIsbj1ufHwiPSIsbnVsbD09PWUmJihlPXZvaWQgMCksIm9iamVjdCI9PT1vKGUpP2EocyhlKSwoZnVuY3Rpb24obyl7dmFyIHM9ZW5jb2RlVVJJQ29tcG9uZW50KHIobykpK247cmV0dXJuIGkoZVtvXSk/YShlW29dLChmdW5jdGlvbihlKXtyZXR1cm4gcytlbmNvZGVVUklDb21wb25lbnQocihlKSl9KSkuam9pbih0KTpzK2VuY29kZVVSSUNvbXBvbmVudChyKGVbb10pKX0pKS5qb2luKHQpOmM/ZW5jb2RlVVJJQ29tcG9uZW50KHIoYykpK24rZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpOiIifTt2YXIgaT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfTtmdW5jdGlvbiBhKGUsdCl7aWYoZS5tYXApcmV0dXJuIGUubWFwKHQpO2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspbi5wdXNoKHQoZVtyXSxyKSk7cmV0dXJuIG59dmFyIHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LnB1c2gobik7cmV0dXJuIHR9fSx7fV0sOTU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kZWNvZGU9bi5wYXJzZT1lKCIuL2RlY29kZSIpLG4uZW5jb2RlPW4uc3RyaW5naWZ5PWUoIi4vZW5jb2RlIil9LHsiLi9kZWNvZGUiOjkzLCIuL2VuY29kZSI6OTR9XSw5NjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXQuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixvKXt0PXR8fCImIixuPW58fCI9Ijt2YXIgaT17fTtpZigic3RyaW5nIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aClyZXR1cm4gaTt2YXIgYT0vXCsvZztlPWUuc3BsaXQodCk7dmFyIHM9MWUzO28mJiJudW1iZXIiPT10eXBlb2Ygby5tYXhLZXlzJiYocz1vLm1heEtleXMpO3ZhciBjPWUubGVuZ3RoO3M+MCYmYz5zJiYoYz1zKTtmb3IodmFyIHU9MDt1PGM7Kyt1KXt2YXIgbCxwLGQsZixoPWVbdV0ucmVwbGFjZShhLCIlMjAiKSxnPWguaW5kZXhPZihuKTtnPj0wPyhsPWguc3Vic3RyKDAsZykscD1oLnN1YnN0cihnKzEpKToobD1oLHA9IiIpLGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGwpLGY9ZGVjb2RlVVJJQ29tcG9uZW50KHApLHIoaSxkKT9BcnJheS5pc0FycmF5KGlbZF0pP2lbZF0ucHVzaChmKTppW2RdPVtpW2RdLGZdOmlbZF09Zn1yZXR1cm4gaX19LHt9XSw5NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1mdW5jdGlvbihlKXtzd2l0Y2gobyhlKSl7Y2FzZSJzdHJpbmciOnJldHVybiBlO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIGU/InRydWUiOiJmYWxzZSI7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShlKT9lOiIiO2RlZmF1bHQ6cmV0dXJuIiJ9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIHQ9dHx8IiYiLG49bnx8Ij0iLG51bGw9PT1lJiYoZT12b2lkIDApLCJvYmplY3QiPT09byhlKT9PYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKG8pe3ZhciBpPWVuY29kZVVSSUNvbXBvbmVudChyKG8pKStuO3JldHVybiBBcnJheS5pc0FycmF5KGVbb10pP2Vbb10ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaStlbmNvZGVVUklDb21wb25lbnQocihlKSl9KSkuam9pbih0KTppK2VuY29kZVVSSUNvbXBvbmVudChyKGVbb10pKX0pKS5qb2luKHQpOmk/ZW5jb2RlVVJJQ29tcG9uZW50KHIoaSkpK24rZW5jb2RlVVJJQ29tcG9uZW50KHIoZSkpOiIifX0se31dLDk4OltmdW5jdGlvbihlLHQsbil7YXJndW1lbnRzWzRdWzk1XVswXS5hcHBseShuLGFyZ3VtZW50cyl9LHsiLi9kZWNvZGUiOjk2LCIuL2VuY29kZSI6OTcsZHVwOjk1fV0sOTk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCxyKXsoZnVuY3Rpb24oKXt2YXIgbz1lKCJwcm9jZXNzL2Jyb3dzZXIuanMiKS5uZXh0VGljayxpPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxzPXt9LGM9MDtmdW5jdGlvbiB1KGUsdCl7dGhpcy5faWQ9ZSx0aGlzLl9jbGVhckZuPXR9bi5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KGkuY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LG4uc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUoaS5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxuLmNsZWFyVGltZW91dD1uLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7ZS5jbG9zZSgpfSx1LnByb3RvdHlwZS51bnJlZj11LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LHUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCl9LG4uZW5yb2xsPWZ1bmN0aW9uKGUsdCl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PXR9LG4udW5lbnJvbGw9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PS0xfSxuLl91bnJlZkFjdGl2ZT1uLmFjdGl2ZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCk7dmFyIHQ9ZS5faWRsZVRpbWVvdXQ7dD49MCYmKGUuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9vblRpbWVvdXQmJmUuX29uVGltZW91dCgpfSksdCkpfSxuLnNldEltbWVkaWF0ZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OmZ1bmN0aW9uKGUpe3ZhciB0PWMrKyxyPSEoYXJndW1lbnRzLmxlbmd0aDwyKSYmYS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gc1t0XT0hMCxvKChmdW5jdGlvbigpe3NbdF0mJihyP2UuYXBwbHkobnVsbCxyKTplLmNhbGwobnVsbCksbi5jbGVhckltbWVkaWF0ZSh0KSl9KSksdH0sbi5jbGVhckltbWVkaWF0ZT0iZnVuY3Rpb24iPT10eXBlb2Ygcj9yOmZ1bmN0aW9uKGUpe2RlbGV0ZSBzW2VdfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgidGltZXJzIikuc2V0SW1tZWRpYXRlLGUoInRpbWVycyIpLmNsZWFySW1tZWRpYXRlKX0seyJwcm9jZXNzL2Jyb3dzZXIuanMiOjkxLHRpbWVyczo5OX1dLDEwMDpbZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUoInB1bnljb2RlIik7ZnVuY3Rpb24gaSgpe3RoaXMucHJvdG9jb2w9bnVsbCx0aGlzLnNsYXNoZXM9bnVsbCx0aGlzLmF1dGg9bnVsbCx0aGlzLmhvc3Q9bnVsbCx0aGlzLnBvcnQ9bnVsbCx0aGlzLmhvc3RuYW1lPW51bGwsdGhpcy5oYXNoPW51bGwsdGhpcy5zZWFyY2g9bnVsbCx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5wYXRobmFtZT1udWxsLHRoaXMucGF0aD1udWxsLHRoaXMuaHJlZj1udWxsfW4ucGFyc2U9eSxuLnJlc29sdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4geShlLCExLCEwKS5yZXNvbHZlKHQpfSxuLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT95KGUsITEsITApLnJlc29sdmVPYmplY3QodCk6dH0sbi5mb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGIoZSkmJihlPXkoZSkpLGUgaW5zdGFuY2VvZiBpP2UuZm9ybWF0KCk6aS5wcm90b3R5cGUuZm9ybWF0LmNhbGwoZSl9LG4uVXJsPWk7dmFyIGE9L14oW2EtejAtOS4rLV0rOikvaSxzPS86WzAtOV0qJC8sYz1bInsiLCJ9IiwifCIsIlxcIiwiXiIsImAiXS5jb25jYXQoWyI8IiwiPiIsJyInLCJgIiwiICIsIlxyIiwiXG4iLCJcdCJdKSx1PVsiJyJdLmNvbmNhdChjKSxsPVsiJSIsIi8iLCI/IiwiOyIsIiMiXS5jb25jYXQodSkscD1bIi8iLCI/IiwiIyJdLGQ9L15bYS16MC05QS1aXy1dezAsNjN9JC8sZj0vXihbYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxoPXtqYXZhc2NyaXB0OiEwLCJqYXZhc2NyaXB0OiI6ITB9LGc9e2phdmFzY3JpcHQ6ITAsImphdmFzY3JpcHQ6IjohMH0sbT17aHR0cDohMCxodHRwczohMCxmdHA6ITAsZ29waGVyOiEwLGZpbGU6ITAsImh0dHA6IjohMCwiaHR0cHM6IjohMCwiZnRwOiI6ITAsImdvcGhlcjoiOiEwLCJmaWxlOiI6ITB9LHY9ZSgicXVlcnlzdHJpbmciKTtmdW5jdGlvbiB5KGUsdCxuKXtpZihlJiZFKGUpJiZlIGluc3RhbmNlb2YgaSlyZXR1cm4gZTt2YXIgcj1uZXcgaTtyZXR1cm4gci5wYXJzZShlLHQsbikscn1mdW5jdGlvbiBiKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX1mdW5jdGlvbiBFKGUpe3JldHVybiJvYmplY3QiPT09byhlKSYmbnVsbCE9PWV9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gbnVsbD09PWV9aS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LG4pe2lmKCFiKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgIitvKGUpKTt2YXIgaT1lO2k9aS50cmltKCk7dmFyIHM9YS5leGVjKGkpO2lmKHMpe3ZhciBjPShzPXNbMF0pLnRvTG93ZXJDYXNlKCk7dGhpcy5wcm90b2NvbD1jLGk9aS5zdWJzdHIocy5sZW5ndGgpfWlmKG58fHN8fGkubWF0Y2goL15cL1wvW15AXC9dK0BbXkBcL10rLykpe3ZhciB5PSIvLyI9PT1pLnN1YnN0cigwLDIpOyF5fHxzJiZnW3NdfHwoaT1pLnN1YnN0cigyKSx0aGlzLnNsYXNoZXM9ITApfWlmKCFnW3NdJiYoeXx8cyYmIW1bc10pKXtmb3IodmFyIEUsUyxDPS0xLFQ9MDtUPHAubGVuZ3RoO1QrKyktMSE9PShJPWkuaW5kZXhPZihwW1RdKSkmJigtMT09PUN8fEk8QykmJihDPUkpO2ZvcigtMSE9PShTPS0xPT09Qz9pLmxhc3RJbmRleE9mKCJAIik6aS5sYXN0SW5kZXhPZigiQCIsQykpJiYoRT1pLnNsaWNlKDAsUyksaT1pLnNsaWNlKFMrMSksdGhpcy5hdXRoPWRlY29kZVVSSUNvbXBvbmVudChFKSksQz0tMSxUPTA7VDxsLmxlbmd0aDtUKyspe3ZhciBJOy0xIT09KEk9aS5pbmRleE9mKGxbVF0pKSYmKC0xPT09Q3x8STxDKSYmKEM9SSl9LTE9PT1DJiYoQz1pLmxlbmd0aCksdGhpcy5ob3N0PWkuc2xpY2UoMCxDKSxpPWkuc2xpY2UoQyksdGhpcy5wYXJzZUhvc3QoKSx0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWV8fCIiO3ZhciB3PSJbIj09PXRoaXMuaG9zdG5hbWVbMF0mJiJdIj09PXRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGgtMV07aWYoIXcpZm9yKHZhciBBPXRoaXMuaG9zdG5hbWUuc3BsaXQoL1wuLyksXz0oVD0wLEEubGVuZ3RoKTtUPF87VCsrKXt2YXIgUj1BW1RdO2lmKFImJiFSLm1hdGNoKGQpKXtmb3IodmFyIE89IiIsTD0wLGs9Ui5sZW5ndGg7TDxrO0wrKylSLmNoYXJDb2RlQXQoTCk+MTI3P08rPSJ4IjpPKz1SW0xdO2lmKCFPLm1hdGNoKGQpKXt2YXIgTj1BLnNsaWNlKDAsVCksUD1BLnNsaWNlKFQrMSksRD1SLm1hdGNoKGYpO0QmJihOLnB1c2goRFsxXSksUC51bnNoaWZ0KERbMl0pKSxQLmxlbmd0aCYmKGk9Ii8iK1Auam9pbigiLiIpK2kpLHRoaXMuaG9zdG5hbWU9Ti5qb2luKCIuIik7YnJlYWt9fX1pZih0aGlzLmhvc3RuYW1lLmxlbmd0aD4yNTU/dGhpcy5ob3N0bmFtZT0iIjp0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSwhdyl7dmFyIHg9dGhpcy5ob3N0bmFtZS5zcGxpdCgiLiIpLE09W107Zm9yKFQ9MDtUPHgubGVuZ3RoOysrVCl7dmFyIFU9eFtUXTtNLnB1c2goVS5tYXRjaCgvW15BLVphLXowLTlfLV0vKT8ieG4tLSIrci5lbmNvZGUoVSk6VSl9dGhpcy5ob3N0bmFtZT1NLmpvaW4oIi4iKX12YXIgRj10aGlzLnBvcnQ/IjoiK3RoaXMucG9ydDoiIixqPXRoaXMuaG9zdG5hbWV8fCIiO3RoaXMuaG9zdD1qK0YsdGhpcy5ocmVmKz10aGlzLmhvc3QsdyYmKHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZS5zdWJzdHIoMSx0aGlzLmhvc3RuYW1lLmxlbmd0aC0yKSwiLyIhPT1pWzBdJiYoaT0iLyIraSkpfWlmKCFoW2NdKWZvcihUPTAsXz11Lmxlbmd0aDtUPF87VCsrKXt2YXIgcT11W1RdLEI9ZW5jb2RlVVJJQ29tcG9uZW50KHEpO0I9PT1xJiYoQj1lc2NhcGUocSkpLGk9aS5zcGxpdChxKS5qb2luKEIpfXZhciBHPWkuaW5kZXhPZigiIyIpOy0xIT09RyYmKHRoaXMuaGFzaD1pLnN1YnN0cihHKSxpPWkuc2xpY2UoMCxHKSk7dmFyIFY9aS5pbmRleE9mKCI/Iik7cmV0dXJuLTEhPT1WPyh0aGlzLnNlYXJjaD1pLnN1YnN0cihWKSx0aGlzLnF1ZXJ5PWkuc3Vic3RyKFYrMSksdCYmKHRoaXMucXVlcnk9di5wYXJzZSh0aGlzLnF1ZXJ5KSksaT1pLnNsaWNlKDAsVikpOnQmJih0aGlzLnNlYXJjaD0iIix0aGlzLnF1ZXJ5PXt9KSxpJiYodGhpcy5wYXRobmFtZT1pKSxtW2NdJiZ0aGlzLmhvc3RuYW1lJiYhdGhpcy5wYXRobmFtZSYmKHRoaXMucGF0aG5hbWU9Ii8iKSwodGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpJiYoRj10aGlzLnBhdGhuYW1lfHwiIixVPXRoaXMuc2VhcmNofHwiIix0aGlzLnBhdGg9RitVKSx0aGlzLmhyZWY9dGhpcy5mb3JtYXQoKSx0aGlzfSxpLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmF1dGh8fCIiO2UmJihlPShlPWVuY29kZVVSSUNvbXBvbmVudChlKSkucmVwbGFjZSgvJTNBL2ksIjoiKSxlKz0iQCIpO3ZhciB0PXRoaXMucHJvdG9jb2x8fCIiLG49dGhpcy5wYXRobmFtZXx8IiIscj10aGlzLmhhc2h8fCIiLG89ITEsaT0iIjt0aGlzLmhvc3Q/bz1lK3RoaXMuaG9zdDp0aGlzLmhvc3RuYW1lJiYobz1lKygtMT09PXRoaXMuaG9zdG5hbWUuaW5kZXhPZigiOiIpP3RoaXMuaG9zdG5hbWU6IlsiK3RoaXMuaG9zdG5hbWUrIl0iKSx0aGlzLnBvcnQmJihvKz0iOiIrdGhpcy5wb3J0KSksdGhpcy5xdWVyeSYmRSh0aGlzLnF1ZXJ5KSYmT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoJiYoaT12LnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KSk7dmFyIGE9dGhpcy5zZWFyY2h8fGkmJiI/IitpfHwiIjtyZXR1cm4gdCYmIjoiIT09dC5zdWJzdHIoLTEpJiYodCs9IjoiKSx0aGlzLnNsYXNoZXN8fCghdHx8bVt0XSkmJiExIT09bz8obz0iLy8iKyhvfHwiIiksbiYmIi8iIT09bi5jaGFyQXQoMCkmJihuPSIvIituKSk6b3x8KG89IiIpLHImJiIjIiE9PXIuY2hhckF0KDApJiYocj0iIyIrciksYSYmIj8iIT09YS5jaGFyQXQoMCkmJihhPSI/IithKSx0K28rKG49bi5yZXBsYWNlKC9bPyNdL2csKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkpKyhhPWEucmVwbGFjZSgiIyIsIiUyMyIpKStyfSxpLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlc29sdmVPYmplY3QoeShlLCExLCEwKSkuZm9ybWF0KCl9LGkucHJvdG90eXBlLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24oZSl7aWYoYihlKSl7dmFyIHQ9bmV3IGk7dC5wYXJzZShlLCExLCEwKSxlPXR9dmFyIG49bmV3IGk7aWYoT2JqZWN0LmtleXModGhpcykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bltlXT10aGlzW2VdfSksdGhpcyksbi5oYXNoPWUuaGFzaCwiIj09PWUuaHJlZilyZXR1cm4gbi5ocmVmPW4uZm9ybWF0KCksbjtpZihlLnNsYXNoZXMmJiFlLnByb3RvY29sKXJldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXsicHJvdG9jb2wiIT09dCYmKG5bdF09ZVt0XSl9KSksbVtuLnByb3RvY29sXSYmbi5ob3N0bmFtZSYmIW4ucGF0aG5hbWUmJihuLnBhdGg9bi5wYXRobmFtZT0iLyIpLG4uaHJlZj1uLmZvcm1hdCgpLG47aWYoZS5wcm90b2NvbCYmZS5wcm90b2NvbCE9PW4ucHJvdG9jb2wpe2lmKCFtW2UucHJvdG9jb2xdKXJldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtuW3RdPWVbdF19KSksbi5ocmVmPW4uZm9ybWF0KCksbjtpZihuLnByb3RvY29sPWUucHJvdG9jb2wsZS5ob3N0fHxnW2UucHJvdG9jb2xdKW4ucGF0aG5hbWU9ZS5wYXRobmFtZTtlbHNle2Zvcih2YXIgcj0oZS5wYXRobmFtZXx8IiIpLnNwbGl0KCIvIik7ci5sZW5ndGgmJiEoZS5ob3N0PXIuc2hpZnQoKSk7KTtlLmhvc3R8fChlLmhvc3Q9IiIpLGUuaG9zdG5hbWV8fChlLmhvc3RuYW1lPSIiKSwiIiE9PXJbMF0mJnIudW5zaGlmdCgiIiksci5sZW5ndGg8MiYmci51bnNoaWZ0KCIiKSxuLnBhdGhuYW1lPXIuam9pbigiLyIpfWlmKG4uc2VhcmNoPWUuc2VhcmNoLG4ucXVlcnk9ZS5xdWVyeSxuLmhvc3Q9ZS5ob3N0fHwiIixuLmF1dGg9ZS5hdXRoLG4uaG9zdG5hbWU9ZS5ob3N0bmFtZXx8ZS5ob3N0LG4ucG9ydD1lLnBvcnQsbi5wYXRobmFtZXx8bi5zZWFyY2gpe3ZhciBvPW4ucGF0aG5hbWV8fCIiLGE9bi5zZWFyY2h8fCIiO24ucGF0aD1vK2F9cmV0dXJuIG4uc2xhc2hlcz1uLnNsYXNoZXN8fGUuc2xhc2hlcyxuLmhyZWY9bi5mb3JtYXQoKSxufXZhciBzPW4ucGF0aG5hbWUmJiIvIj09PW4ucGF0aG5hbWUuY2hhckF0KDApLGM9ZS5ob3N0fHxlLnBhdGhuYW1lJiYiLyI9PT1lLnBhdGhuYW1lLmNoYXJBdCgwKSx1PWN8fHN8fG4uaG9zdCYmZS5wYXRobmFtZSxsPXUscD1uLnBhdGhuYW1lJiZuLnBhdGhuYW1lLnNwbGl0KCIvIil8fFtdLGQ9KHI9ZS5wYXRobmFtZSYmZS5wYXRobmFtZS5zcGxpdCgiLyIpfHxbXSxuLnByb3RvY29sJiYhbVtuLnByb3RvY29sXSk7aWYoZCYmKG4uaG9zdG5hbWU9IiIsbi5wb3J0PW51bGwsbi5ob3N0JiYoIiI9PT1wWzBdP3BbMF09bi5ob3N0OnAudW5zaGlmdChuLmhvc3QpKSxuLmhvc3Q9IiIsZS5wcm90b2NvbCYmKGUuaG9zdG5hbWU9bnVsbCxlLnBvcnQ9bnVsbCxlLmhvc3QmJigiIj09PXJbMF0/clswXT1lLmhvc3Q6ci51bnNoaWZ0KGUuaG9zdCkpLGUuaG9zdD1udWxsKSx1PXUmJigiIj09PXJbMF18fCIiPT09cFswXSkpLGMpbi5ob3N0PWUuaG9zdHx8IiI9PT1lLmhvc3Q/ZS5ob3N0Om4uaG9zdCxuLmhvc3RuYW1lPWUuaG9zdG5hbWV8fCIiPT09ZS5ob3N0bmFtZT9lLmhvc3RuYW1lOm4uaG9zdG5hbWUsbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5LHA9cjtlbHNlIGlmKHIubGVuZ3RoKXB8fChwPVtdKSxwLnBvcCgpLHA9cC5jb25jYXQociksbi5zZWFyY2g9ZS5zZWFyY2gsbi5xdWVyeT1lLnF1ZXJ5O2Vsc2UgaWYobnVsbCE9ZS5zZWFyY2gpcmV0dXJuIGQmJihuLmhvc3RuYW1lPW4uaG9zdD1wLnNoaWZ0KCksKEU9ISEobi5ob3N0JiZuLmhvc3QuaW5kZXhPZigiQCIpPjApJiZuLmhvc3Quc3BsaXQoIkAiKSkmJihuLmF1dGg9RS5zaGlmdCgpLG4uaG9zdD1uLmhvc3RuYW1lPUUuc2hpZnQoKSkpLG4uc2VhcmNoPWUuc2VhcmNoLG4ucXVlcnk9ZS5xdWVyeSxTKG4ucGF0aG5hbWUpJiZTKG4uc2VhcmNoKXx8KG4ucGF0aD0obi5wYXRobmFtZT9uLnBhdGhuYW1lOiIiKSsobi5zZWFyY2g/bi5zZWFyY2g6IiIpKSxuLmhyZWY9bi5mb3JtYXQoKSxuO2lmKCFwLmxlbmd0aClyZXR1cm4gbi5wYXRobmFtZT1udWxsLG4uc2VhcmNoP24ucGF0aD0iLyIrbi5zZWFyY2g6bi5wYXRoPW51bGwsbi5ocmVmPW4uZm9ybWF0KCksbjtmb3IodmFyIGY9cC5zbGljZSgtMSlbMF0saD0obi5ob3N0fHxlLmhvc3QpJiYoIi4iPT09Znx8Ii4uIj09PWYpfHwiIj09PWYsdj0wLHk9cC5sZW5ndGg7eT49MDt5LS0pIi4iPT0oZj1wW3ldKT9wLnNwbGljZSh5LDEpOiIuLiI9PT1mPyhwLnNwbGljZSh5LDEpLHYrKyk6diYmKHAuc3BsaWNlKHksMSksdi0tKTtpZighdSYmIWwpZm9yKDt2LS07dilwLnVuc2hpZnQoIi4uIik7IXV8fCIiPT09cFswXXx8cFswXSYmIi8iPT09cFswXS5jaGFyQXQoMCl8fHAudW5zaGlmdCgiIiksaCYmIi8iIT09cC5qb2luKCIvIikuc3Vic3RyKC0xKSYmcC5wdXNoKCIiKTt2YXIgRSxDPSIiPT09cFswXXx8cFswXSYmIi8iPT09cFswXS5jaGFyQXQoMCk7cmV0dXJuIGQmJihuLmhvc3RuYW1lPW4uaG9zdD1DPyIiOnAubGVuZ3RoP3Auc2hpZnQoKToiIiwoRT0hIShuLmhvc3QmJm4uaG9zdC5pbmRleE9mKCJAIik+MCkmJm4uaG9zdC5zcGxpdCgiQCIpKSYmKG4uYXV0aD1FLnNoaWZ0KCksbi5ob3N0PW4uaG9zdG5hbWU9RS5zaGlmdCgpKSksKHU9dXx8bi5ob3N0JiZwLmxlbmd0aCkmJiFDJiZwLnVuc2hpZnQoIiIpLHAubGVuZ3RoP24ucGF0aG5hbWU9cC5qb2luKCIvIik6KG4ucGF0aG5hbWU9bnVsbCxuLnBhdGg9bnVsbCksUyhuLnBhdGhuYW1lKSYmUyhuLnNlYXJjaCl8fChuLnBhdGg9KG4ucGF0aG5hbWU/bi5wYXRobmFtZToiIikrKG4uc2VhcmNoP24uc2VhcmNoOiIiKSksbi5hdXRoPWUuYXV0aHx8bi5hdXRoLG4uc2xhc2hlcz1uLnNsYXNoZXN8fGUuc2xhc2hlcyxuLmhyZWY9bi5mb3JtYXQoKSxufSxpLnByb3RvdHlwZS5wYXJzZUhvc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvc3QsdD1zLmV4ZWMoZSk7dCYmKCI6IiE9PSh0PXRbMF0pJiYodGhpcy5wb3J0PXQuc3Vic3RyKDEpKSxlPWUuc3Vic3RyKDAsZS5sZW5ndGgtdC5sZW5ndGgpKSxlJiYodGhpcy5ob3N0bmFtZT1lKX19LHtwdW55Y29kZTo5MixxdWVyeXN0cmluZzo5NX1dLDEwMTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDtmb3IodmFyIHI9W10sbz0wO288MjU2OysrbylyW29dPShvKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKTt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuPXR8fDAsbz1yO3JldHVybltvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sIi0iLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dLG9bZVtuKytdXSxvW2VbbisrXV0sb1tlW24rK11dXS5qb2luKCIiKX07bi5kZWZhdWx0PWl9LHt9XSwxMDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2MSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2NSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdH19KTt2YXIgcj1zKGUoIi4vdjEuanMiKSksbz1zKGUoIi4vdjMuanMiKSksaT1zKGUoIi4vdjQuanMiKSksYT1zKGUoIi4vdjUuanMiKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSx7Ii4vdjEuanMiOjEwNiwiLi92My5qcyI6MTA3LCIuL3Y0LmpzIjoxMDksIi4vdjUuanMiOjExMH1dLDEwMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiBvKGUsdCxuLG8saSxhKXtyZXR1cm4gcigocz1yKHIodCxlKSxyKG8sYSkpKTw8KGM9aSl8cz4+PjMyLWMsbik7dmFyIHMsY31mdW5jdGlvbiBpKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKHQmbnx+dCZyLGUsdCxpLGEscyl9ZnVuY3Rpb24gYShlLHQsbixyLGksYSxzKXtyZXR1cm4gbyh0JnJ8biZ+cixlLHQsaSxhLHMpfWZ1bmN0aW9uIHMoZSx0LG4scixpLGEscyl7cmV0dXJuIG8odF5uXnIsZSx0LGksYSxzKX1mdW5jdGlvbiBjKGUsdCxuLHIsaSxhLHMpe3JldHVybiBvKG5eKHR8fnIpLGUsdCxpLGEscyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHU9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgdD11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpO2U9bmV3IEFycmF5KHQubGVuZ3RoKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyllW25dPXQuY2hhckNvZGVBdChuKX1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89W10saT0zMiplLmxlbmd0aCxhPSIwMTIzNDU2Nzg5YWJjZGVmIjtmb3IodD0wO3Q8aTt0Kz04KW49ZVt0Pj41XT4+PnQlMzImMjU1LHI9cGFyc2VJbnQoYS5jaGFyQXQobj4+PjQmMTUpK2EuY2hhckF0KDE1Jm4pLDE2KSxvLnB1c2gocik7cmV0dXJuIG99KGZ1bmN0aW9uKGUsdCl7dmFyIG4sbyx1LGwscDtlW3Q+PjVdfD0xMjg8PHQlMzIsZVsxNCsodCs2ND4+Pjk8PDQpXT10O3ZhciBkPTE3MzI1ODQxOTMsZj0tMjcxNzMzODc5LGg9LTE3MzI1ODQxOTQsZz0yNzE3MzM4Nzg7Zm9yKG49MDtuPGUubGVuZ3RoO24rPTE2KW89ZCx1PWYsbD1oLHA9ZyxkPWkoZCxmLGgsZyxlW25dLDcsLTY4MDg3NjkzNiksZz1pKGcsZCxmLGgsZVtuKzFdLDEyLC0zODk1NjQ1ODYpLGg9aShoLGcsZCxmLGVbbisyXSwxNyw2MDYxMDU4MTkpLGY9aShmLGgsZyxkLGVbbiszXSwyMiwtMTA0NDUyNTMzMCksZD1pKGQsZixoLGcsZVtuKzRdLDcsLTE3NjQxODg5NyksZz1pKGcsZCxmLGgsZVtuKzVdLDEyLDEyMDAwODA0MjYpLGg9aShoLGcsZCxmLGVbbis2XSwxNywtMTQ3MzIzMTM0MSksZj1pKGYsaCxnLGQsZVtuKzddLDIyLC00NTcwNTk4MyksZD1pKGQsZixoLGcsZVtuKzhdLDcsMTc3MDAzNTQxNiksZz1pKGcsZCxmLGgsZVtuKzldLDEyLC0xOTU4NDE0NDE3KSxoPWkoaCxnLGQsZixlW24rMTBdLDE3LC00MjA2MyksZj1pKGYsaCxnLGQsZVtuKzExXSwyMiwtMTk5MDQwNDE2MiksZD1pKGQsZixoLGcsZVtuKzEyXSw3LDE4MDQ2MDM2ODIpLGc9aShnLGQsZixoLGVbbisxM10sMTIsLTQwMzQxMTAxKSxoPWkoaCxnLGQsZixlW24rMTRdLDE3LC0xNTAyMDAyMjkwKSxkPWEoZCxmPWkoZixoLGcsZCxlW24rMTVdLDIyLDEyMzY1MzUzMjkpLGgsZyxlW24rMV0sNSwtMTY1Nzk2NTEwKSxnPWEoZyxkLGYsaCxlW24rNl0sOSwtMTA2OTUwMTYzMiksaD1hKGgsZyxkLGYsZVtuKzExXSwxNCw2NDM3MTc3MTMpLGY9YShmLGgsZyxkLGVbbl0sMjAsLTM3Mzg5NzMwMiksZD1hKGQsZixoLGcsZVtuKzVdLDUsLTcwMTU1ODY5MSksZz1hKGcsZCxmLGgsZVtuKzEwXSw5LDM4MDE2MDgzKSxoPWEoaCxnLGQsZixlW24rMTVdLDE0LC02NjA0NzgzMzUpLGY9YShmLGgsZyxkLGVbbis0XSwyMCwtNDA1NTM3ODQ4KSxkPWEoZCxmLGgsZyxlW24rOV0sNSw1Njg0NDY0MzgpLGc9YShnLGQsZixoLGVbbisxNF0sOSwtMTAxOTgwMzY5MCksaD1hKGgsZyxkLGYsZVtuKzNdLDE0LC0xODczNjM5NjEpLGY9YShmLGgsZyxkLGVbbis4XSwyMCwxMTYzNTMxNTAxKSxkPWEoZCxmLGgsZyxlW24rMTNdLDUsLTE0NDQ2ODE0NjcpLGc9YShnLGQsZixoLGVbbisyXSw5LC01MTQwMzc4NCksaD1hKGgsZyxkLGYsZVtuKzddLDE0LDE3MzUzMjg0NzMpLGQ9cyhkLGY9YShmLGgsZyxkLGVbbisxMl0sMjAsLTE5MjY2MDc3MzQpLGgsZyxlW24rNV0sNCwtMzc4NTU4KSxnPXMoZyxkLGYsaCxlW24rOF0sMTEsLTIwMjI1NzQ0NjMpLGg9cyhoLGcsZCxmLGVbbisxMV0sMTYsMTgzOTAzMDU2MiksZj1zKGYsaCxnLGQsZVtuKzE0XSwyMywtMzUzMDk1NTYpLGQ9cyhkLGYsaCxnLGVbbisxXSw0LC0xNTMwOTkyMDYwKSxnPXMoZyxkLGYsaCxlW24rNF0sMTEsMTI3Mjg5MzM1MyksaD1zKGgsZyxkLGYsZVtuKzddLDE2LC0xNTU0OTc2MzIpLGY9cyhmLGgsZyxkLGVbbisxMF0sMjMsLTEwOTQ3MzA2NDApLGQ9cyhkLGYsaCxnLGVbbisxM10sNCw2ODEyNzkxNzQpLGc9cyhnLGQsZixoLGVbbl0sMTEsLTM1ODUzNzIyMiksaD1zKGgsZyxkLGYsZVtuKzNdLDE2LC03MjI1MjE5NzkpLGY9cyhmLGgsZyxkLGVbbis2XSwyMyw3NjAyOTE4OSksZD1zKGQsZixoLGcsZVtuKzldLDQsLTY0MDM2NDQ4NyksZz1zKGcsZCxmLGgsZVtuKzEyXSwxMSwtNDIxODE1ODM1KSxoPXMoaCxnLGQsZixlW24rMTVdLDE2LDUzMDc0MjUyMCksZD1jKGQsZj1zKGYsaCxnLGQsZVtuKzJdLDIzLC05OTUzMzg2NTEpLGgsZyxlW25dLDYsLTE5ODYzMDg0NCksZz1jKGcsZCxmLGgsZVtuKzddLDEwLDExMjY4OTE0MTUpLGg9YyhoLGcsZCxmLGVbbisxNF0sMTUsLTE0MTYzNTQ5MDUpLGY9YyhmLGgsZyxkLGVbbis1XSwyMSwtNTc0MzQwNTUpLGQ9YyhkLGYsaCxnLGVbbisxMl0sNiwxNzAwNDg1NTcxKSxnPWMoZyxkLGYsaCxlW24rM10sMTAsLTE4OTQ5ODY2MDYpLGg9YyhoLGcsZCxmLGVbbisxMF0sMTUsLTEwNTE1MjMpLGY9YyhmLGgsZyxkLGVbbisxXSwyMSwtMjA1NDkyMjc5OSksZD1jKGQsZixoLGcsZVtuKzhdLDYsMTg3MzMxMzM1OSksZz1jKGcsZCxmLGgsZVtuKzE1XSwxMCwtMzA2MTE3NDQpLGg9YyhoLGcsZCxmLGVbbis2XSwxNSwtMTU2MDE5ODM4MCksZj1jKGYsaCxnLGQsZVtuKzEzXSwyMSwxMzA5MTUxNjQ5KSxkPWMoZCxmLGgsZyxlW24rNF0sNiwtMTQ1NTIzMDcwKSxnPWMoZyxkLGYsaCxlW24rMTFdLDEwLC0xMTIwMjEwMzc5KSxoPWMoaCxnLGQsZixlW24rMl0sMTUsNzE4Nzg3MjU5KSxmPWMoZixoLGcsZCxlW24rOV0sMjEsLTM0MzQ4NTU1MSksZD1yKGQsbyksZj1yKGYsdSksaD1yKGgsbCksZz1yKGcscCk7cmV0dXJuW2QsZixoLGddfShmdW5jdGlvbihlKXt2YXIgdCxuPVtdO2ZvcihuWyhlLmxlbmd0aD4+MiktMV09dm9pZCAwLHQ9MDt0PG4ubGVuZ3RoO3QrPTEpblt0XT0wO3ZhciByPTgqZS5sZW5ndGg7Zm9yKHQ9MDt0PHI7dCs9OCluW3Q+PjVdfD0oMjU1JmVbdC84XSk8PHQlMzI7cmV0dXJuIG59KGUpLDgqZS5sZW5ndGgpKX07bi5kZWZhdWx0PXV9LHt9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD1mdW5jdGlvbigpe2lmKCFyKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gcihvKX07dmFyIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBjcnlwdG8mJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pfHwidW5kZWZpbmVkIiE9dHlwZW9mIG1zQ3J5cHRvJiYiZnVuY3Rpb24iPT10eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byksbz1uZXcgVWludDhBcnJheSgxNil9LHt9XSwxMDU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQsbixyKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0Jm5efnQmcjtjYXNlIDE6Y2FzZSAzOnJldHVybiB0Xm5ecjtjYXNlIDI6cmV0dXJuIHQmbl50JnJebiZyfX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9WzE1MTg1MDAyNDksMTg1OTc3NTM5MywyNDAwOTU5NzA4LDMzOTU0Njk3ODJdLG49WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBpPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1uZXcgQXJyYXkoaS5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWVbYV09aS5jaGFyQ29kZUF0KGEpfWUucHVzaCgxMjgpO3ZhciBzPWUubGVuZ3RoLzQrMixjPU1hdGguY2VpbChzLzE2KSx1PW5ldyBBcnJheShjKTtmb3IoYT0wO2E8YzthKyspe3VbYV09bmV3IEFycmF5KDE2KTtmb3IodmFyIGw9MDtsPDE2O2wrKyl1W2FdW2xdPWVbNjQqYSs0KmxdPDwyNHxlWzY0KmErNCpsKzFdPDwxNnxlWzY0KmErNCpsKzJdPDw4fGVbNjQqYSs0KmwrM119Zm9yKHVbYy0xXVsxNF09OCooZS5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMiksdVtjLTFdWzE0XT1NYXRoLmZsb29yKHVbYy0xXVsxNF0pLHVbYy0xXVsxNV09OCooZS5sZW5ndGgtMSkmNDI5NDk2NzI5NSxhPTA7YTxjO2ErKyl7Zm9yKHZhciBwPW5ldyBBcnJheSg4MCksZD0wO2Q8MTY7ZCsrKXBbZF09dVthXVtkXTtmb3IoZD0xNjtkPDgwO2QrKylwW2RdPW8ocFtkLTNdXnBbZC04XV5wW2QtMTRdXnBbZC0xNl0sMSk7dmFyIGY9blswXSxoPW5bMV0sZz1uWzJdLG09blszXSx2PW5bNF07Zm9yKGQ9MDtkPDgwO2QrKyl7dmFyIHk9TWF0aC5mbG9vcihkLzIwKSxiPW8oZiw1KStyKHksaCxnLG0pK3YrdFt5XStwW2RdPj4+MDt2PW0sbT1nLGc9byhoLDMwKT4+PjAsaD1mLGY9Yn1uWzBdPW5bMF0rZj4+PjAsblsxXT1uWzFdK2g+Pj4wLG5bMl09blsyXStnPj4+MCxuWzNdPW5bM10rbT4+PjAsbls0XT1uWzRdK3Y+Pj4wfXJldHVybltuWzBdPj4yNCYyNTUsblswXT4+MTYmMjU1LG5bMF0+PjgmMjU1LDI1NSZuWzBdLG5bMV0+PjI0JjI1NSxuWzFdPj4xNiYyNTUsblsxXT4+OCYyNTUsMjU1Jm5bMV0sblsyXT4+MjQmMjU1LG5bMl0+PjE2JjI1NSxuWzJdPj44JjI1NSwyNTUmblsyXSxuWzNdPj4yNCYyNTUsblszXT4+MTYmMjU1LG5bM10+PjgmMjU1LDI1NSZuWzNdLG5bNF0+PjI0JjI1NSxuWzRdPj4xNiYyNTUsbls0XT4+OCYyNTUsMjU1Jm5bNF1dfTtuLmRlZmF1bHQ9aX0se31dLDEwNjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcixvLGk9cyhlKCIuL3JuZy5qcyIpKSxhPXMoZSgiLi9ieXRlc1RvVXVpZC5qcyIpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz0wLHU9MCxsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz10JiZufHwwLGw9dHx8W10scD0oZT1lfHx7fSkubm9kZXx8cixkPXZvaWQgMCE9PWUuY2xvY2tzZXE/ZS5jbG9ja3NlcTpvO2lmKG51bGw9PXB8fG51bGw9PWQpe3ZhciBmPWUucmFuZG9tfHwoZS5ybmd8fGkuZGVmYXVsdCkoKTtudWxsPT1wJiYocD1yPVsxfGZbMF0sZlsxXSxmWzJdLGZbM10sZls0XSxmWzVdXSksbnVsbD09ZCYmKGQ9bz0xNjM4MyYoZls2XTw8OHxmWzddKSl9dmFyIGg9dm9pZCAwIT09ZS5tc2Vjcz9lLm1zZWNzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGc9dm9pZCAwIT09ZS5uc2Vjcz9lLm5zZWNzOnUrMSxtPWgtYysoZy11KS8xZTQ7aWYobTwwJiZ2b2lkIDA9PT1lLmNsb2Nrc2VxJiYoZD1kKzEmMTYzODMpLChtPDB8fGg+YykmJnZvaWQgMD09PWUubnNlY3MmJihnPTApLGc+PTFlNCl0aHJvdyBuZXcgRXJyb3IoInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjIik7Yz1oLHU9ZyxvPWQ7dmFyIHY9KDFlNCooMjY4NDM1NDU1JihoKz0xMjIxOTI5MjhlNSkpK2cpJTQyOTQ5NjcyOTY7bFtzKytdPXY+Pj4yNCYyNTUsbFtzKytdPXY+Pj4xNiYyNTUsbFtzKytdPXY+Pj44JjI1NSxsW3MrK109MjU1JnY7dmFyIHk9aC80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7bFtzKytdPXk+Pj44JjI1NSxsW3MrK109MjU1JnksbFtzKytdPXk+Pj4yNCYxNXwxNixsW3MrK109eT4+PjE2JjI1NSxsW3MrK109ZD4+Pjh8MTI4LGxbcysrXT0yNTUmZDtmb3IodmFyIGI9MDtiPDY7KytiKWxbcytiXT1wW2JdO3JldHVybiB0fHwoMCxhLmRlZmF1bHQpKGwpfTtuLmRlZmF1bHQ9bH0seyIuL2J5dGVzVG9VdWlkLmpzIjoxMDEsIi4vcm5nLmpzIjoxMDR9XSwxMDc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIHI9aShlKCIuL3YzNS5qcyIpKSxvPWkoZSgiLi9tZDUuanMiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9KDAsci5kZWZhdWx0KSgidjMiLDQ4LG8uZGVmYXVsdCk7bi5kZWZhdWx0PWF9LHsiLi9tZDUuanMiOjEwMywiLi92MzUuanMiOjEwOH1dLDEwODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHIsaSxhKXt2YXIgcz1pJiZhfHwwO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZnVuY3Rpb24oZSl7ZT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpO2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLG49MDtuPGUubGVuZ3RoO24rKyl0W25dPWUuY2hhckNvZGVBdChuKTtyZXR1cm4gdH0oZSkpLCJzdHJpbmciPT10eXBlb2YgciYmKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUucmVwbGFjZSgvW2EtZkEtRjAtOV17Mn0vZywoZnVuY3Rpb24oZSl7dC5wdXNoKHBhcnNlSW50KGUsMTYpKX0pKSx0fShyKSksIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgVHlwZUVycm9yKCJ2YWx1ZSBtdXN0IGJlIGFuIGFycmF5IG9mIGJ5dGVzIik7aWYoIUFycmF5LmlzQXJyYXkocil8fDE2IT09ci5sZW5ndGgpdGhyb3cgVHlwZUVycm9yKCJuYW1lc3BhY2UgbXVzdCBiZSB1dWlkIHN0cmluZyBvciBhbiBBcnJheSBvZiAxNiBieXRlIHZhbHVlcyIpO3ZhciBjPW4oci5jb25jYXQoZSkpO2lmKGNbNl09MTUmY1s2XXx0LGNbOF09NjMmY1s4XXwxMjgsaSlmb3IodmFyIHU9MDt1PDE2OysrdSlpW3MrdV09Y1t1XTtyZXR1cm4gaXx8KDAsby5kZWZhdWx0KShjKX07dHJ5e3IubmFtZT1lfWNhdGNoKGUpe31yZXR1cm4gci5ETlM9aSxyLlVSTD1hLHJ9LG4uVVJMPW4uRE5TPXZvaWQgMDt2YXIgcixvPShyPWUoIi4vYnl0ZXNUb1V1aWQuanMiKSkmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9LGk9IjZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCI7bi5ETlM9aTt2YXIgYT0iNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtuLlVSTD1hfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMX1dLDEwOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vcm5nLmpzIikpLG89aShlKCIuL2J5dGVzVG9VdWlkLmpzIikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10JiZufHwwOyJzdHJpbmciPT10eXBlb2YgZSYmKHQ9ImJpbmFyeSI9PT1lP25ldyBBcnJheSgxNik6bnVsbCxlPW51bGwpO3ZhciBhPShlPWV8fHt9KS5yYW5kb218fChlLnJuZ3x8ci5kZWZhdWx0KSgpO2lmKGFbNl09MTUmYVs2XXw2NCxhWzhdPTYzJmFbOF18MTI4LHQpZm9yKHZhciBzPTA7czwxNjsrK3MpdFtpK3NdPWFbc107cmV0dXJuIHR8fCgwLG8uZGVmYXVsdCkoYSl9O24uZGVmYXVsdD1hfSx7Ii4vYnl0ZXNUb1V1aWQuanMiOjEwMSwiLi9ybmcuanMiOjEwNH1dLDExMDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoIi4vdjM1LmpzIikpLG89aShlKCIuL3NoYTEuanMiKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9KDAsci5kZWZhdWx0KSgidjUiLDgwLG8uZGVmYXVsdCk7bi5kZWZhdWx0PWF9LHsiLi9zaGExLmpzIjoxMDUsIi4vdjM1LmpzIjoxMDh9XSwxMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWUoIi4vdXRpbHMvTFJVIiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwPT09ZSYmKGU9MWUzKSx0aGlzLm1heFNpemU9ZSx0aGlzLmNhY2hlPW5ldyByLkxSVUNhY2hlKGUpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZS5sZW5ndGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKHQsbil7dmFyIHI9InN0cmluZyIhPXR5cGVvZiB0P2UuZ2V0S2V5U3RyaW5nKHQpOnQsbz10aGlzLnBvcHVsYXRlVmFsdWUobik7dGhpcy5jYWNoZS5wdXQocixvKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBuPSJzdHJpbmciIT10eXBlb2YgdD9lLmdldEtleVN0cmluZyh0KTp0LHI9RGF0ZS5ub3coKSxvPXRoaXMuY2FjaGUuZ2V0KG4pO2lmKG8pe2Zvcih2YXIgaT1vLmxlbmd0aC0xO2k+PTA7aS0tKW9baV0uRXhwaXJlPHImJm8uc3BsaWNlKGksMSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuY2FjaGUucmVtb3ZlKG4pfXJldHVybiBvfSxlLmdldEtleVN0cmluZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1PYmplY3Qua2V5cyhlKS5zb3J0KCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO3ZvaWQgMCE9PWVbb10mJnQucHVzaChlW29dKX1yZXR1cm4gdC5qb2luKCIgIil9LGUucHJvdG90eXBlLnBvcHVsYXRlVmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntBZGRyZXNzOmUuQWRkcmVzc3x8IiIsRXhwaXJlOnQrNjAqKGUuQ2FjaGVQZXJpb2RJbk1pbnV0ZXN8fDEpKjFlM319KSl9LGUucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7dGhpcy5jYWNoZS5lbXB0eSgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIG49InN0cmluZyIhPXR5cGVvZiB0P2UuZ2V0S2V5U3RyaW5nKHQpOnQ7dGhpcy5jYWNoZS5yZW1vdmUobil9LGV9KCk7bi5FbmRwb2ludENhY2hlPW99LHsiLi91dGlscy9MUlUiOjExMn1dLDExMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oZSx0KXt0aGlzLmtleT1lLHRoaXMudmFsdWU9dH0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYodGhpcy5ub2RlTWFwPXt9LHRoaXMuc2l6ZT0wLCJudW1iZXIiIT10eXBlb2YgZXx8ZTwxKXRocm93IG5ldyBFcnJvcigiQ2FjaGUgc2l6ZSBjYW4gb25seSBiZSBwb3NpdGl2ZSBudW1iZXIiKTt0aGlzLnNpemVMaW1pdD1lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxlbmd0aCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucHJlcGVuZFRvTGlzdD1mdW5jdGlvbihlKXt0aGlzLmhlYWRlck5vZGU/KHRoaXMuaGVhZGVyTm9kZS5wcmV2PWUsZS5uZXh0PXRoaXMuaGVhZGVyTm9kZSk6dGhpcy50YWlsTm9kZT1lLHRoaXMuaGVhZGVyTm9kZT1lLHRoaXMuc2l6ZSsrfSxlLnByb3RvdHlwZS5yZW1vdmVGcm9tVGFpbD1mdW5jdGlvbigpe2lmKHRoaXMudGFpbE5vZGUpe3ZhciBlPXRoaXMudGFpbE5vZGUsdD1lLnByZXY7cmV0dXJuIHQmJih0Lm5leHQ9dm9pZCAwKSxlLnByZXY9dm9pZCAwLHRoaXMudGFpbE5vZGU9dCx0aGlzLnNpemUtLSxlfX0sZS5wcm90b3R5cGUuZGV0YWNoRnJvbUxpc3Q9ZnVuY3Rpb24oZSl7dGhpcy5oZWFkZXJOb2RlPT09ZSYmKHRoaXMuaGVhZGVyTm9kZT1lLm5leHQpLHRoaXMudGFpbE5vZGU9PT1lJiYodGhpcy50YWlsTm9kZT1lLnByZXYpLGUucHJldiYmKGUucHJldi5uZXh0PWUubmV4dCksZS5uZXh0JiYoZS5uZXh0LnByZXY9ZS5wcmV2KSxlLm5leHQ9dm9pZCAwLGUucHJldj12b2lkIDAsdGhpcy5zaXplLS19LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtpZih0aGlzLm5vZGVNYXBbZV0pe3ZhciB0PXRoaXMubm9kZU1hcFtlXTtyZXR1cm4gdGhpcy5kZXRhY2hGcm9tTGlzdCh0KSx0aGlzLnByZXBlbmRUb0xpc3QodCksdC52YWx1ZX19LGUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihlKXtpZih0aGlzLm5vZGVNYXBbZV0pe3ZhciB0PXRoaXMubm9kZU1hcFtlXTt0aGlzLmRldGFjaEZyb21MaXN0KHQpLGRlbGV0ZSB0aGlzLm5vZGVNYXBbZV19fSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm5vZGVNYXBbZV0pdGhpcy5yZW1vdmUoZSk7ZWxzZSBpZih0aGlzLnNpemU9PT10aGlzLnNpemVMaW1pdCl7dmFyIG49dGhpcy5yZW1vdmVGcm9tVGFpbCgpLmtleTtkZWxldGUgdGhpcy5ub2RlTWFwW25dfXZhciBvPW5ldyByKGUsdCk7dGhpcy5ub2RlTWFwW2VdPW8sdGhpcy5wcmVwZW5kVG9MaXN0KG8pfSxlLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0aGlzLm5vZGVNYXApLHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XSxyPXRoaXMubm9kZU1hcFtuXTt0aGlzLmRldGFjaEZyb21MaXN0KHIpLGRlbGV0ZSB0aGlzLm5vZGVNYXBbbl19fSxlfSgpO24uTFJVQ2FjaGU9b30se31dLDExMzpbZnVuY3Rpb24oZSx0LG4pe2UoIi4vYnJvd3Nlcl9sb2FkZXIiKTt2YXIgcj1lKCIuL2NvcmUiKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5BV1M9ciksdm9pZCAwIT09dCYmKHQuZXhwb3J0cz1yKSwidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJihzZWxmLkFXUz1yKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwociwiQ29ubmVjdCIpfHwoci5hcGlMb2FkZXIuc2VydmljZXMuY29ubmVjdD17fSxyLkNvbm5lY3Q9ci5TZXJ2aWNlLmRlZmluZVNlcnZpY2UoImNvbm5lY3QiLFsiMjAxNy0wMi0xNSJdKSksci5hcGlMb2FkZXIuc2VydmljZXMuY29ubmVjdFsiMjAxNy0wMi0xNSJdPWUoIi4uL2FwaXMvY29ubmVjdC0yMDE3LTAyLTE1Lm1pbiIpfSx7Ii4uL2FwaXMvY29ubmVjdC0yMDE3LTAyLTE1Lm1pbiI6MywiLi9icm93c2VyX2xvYWRlciI6MTYsIi4vY29yZSI6MTl9XX0se30sWzExM10pfSw1NTU6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fSFmdW5jdGlvbigpe3ZhciB0PXRoaXN8fGdsb2JhbFRoaXMscj10LmNvbm5lY3R8fHt9O3QuY29ubmVjdD1yLHQubGlseT1yLHIuQ2xpZW50TWV0aG9kcz1yLm1ha2VFbnVtKFsiZ2V0QWdlbnRTbmFwc2hvdCIsInB1dEFnZW50U3RhdGUiLCJnZXRBZ2VudFN0YXRlcyIsImdldERpYWxhYmxlQ291bnRyeUNvZGVzIiwiZ2V0Um91dGluZ1Byb2ZpbGVRdWV1ZXMiLCJnZXRBZ2VudFBlcm1pc3Npb25zIiwiZ2V0QWdlbnRDb25maWd1cmF0aW9uIiwidXBkYXRlQWdlbnRDb25maWd1cmF0aW9uIiwiYWNjZXB0Q29udGFjdCIsImNyZWF0ZU91dGJvdW5kQ29udGFjdCIsImNyZWF0ZVRhc2tDb250YWN0IiwiY2xlYXJDb250YWN0IiwiY29tcGxldGVDb250YWN0IiwiZGVzdHJveUNvbnRhY3QiLCJyZWplY3RDb250YWN0Iiwibm90aWZ5Q29udGFjdElzc3VlIiwidXBkYXRlQ29udGFjdEF0dHJpYnV0ZXMiLCJjcmVhdGVBZGRpdGlvbmFsQ29ubmVjdGlvbiIsImRlc3Ryb3lDb25uZWN0aW9uIiwiaG9sZENvbm5lY3Rpb24iLCJyZXN1bWVDb25uZWN0aW9uIiwidG9nZ2xlQWN0aXZlQ29ubmVjdGlvbnMiLCJjb25mZXJlbmNlQ29ubmVjdGlvbnMiLCJzZW5kQ2xpZW50TG9ncyIsInNlbmREaWdpdHMiLCJzZW5kU29mdHBob25lQ2FsbFJlcG9ydCIsInNlbmRTb2Z0cGhvbmVDYWxsTWV0cmljcyIsImdldEVuZHBvaW50cyIsImdldE5ld0F1dGhUb2tlbiIsImNyZWF0ZVRyYW5zcG9ydCIsIm11dGVQYXJ0aWNpcGFudCIsInVubXV0ZVBhcnRpY2lwYW50IiwidXBkYXRlTW9uaXRvclBhcnRpY2lwYW50U3RhdGUiLCJwYXVzZUNvbnRhY3QiLCJyZXN1bWVDb250YWN0Il0pLHIuQWdlbnRBcHBDbGllbnRNZXRob2RzPXtHRVRfQ09OVEFDVDoiQWdlbnRBcHBTZXJ2aWNlLkxjbXMuZ2V0Q29udGFjdCIsREVMRVRFX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmRlbGV0ZVNwZWFrZXIiLEVOUk9MTF9CWV9TRVNTSU9OOiJBZ2VudEFwcFNlcnZpY2UuVm9pY2VJZC5lbnJvbGxCeVNlc3Npb24iLEVWQUxVQVRFX1NFU1NJT046IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLmV2YWx1YXRlU2Vzc2lvbiIsREVTQ1JJQkVfU1BFQUtFUjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTcGVha2VyIixPUFRfT1VUX1NQRUFLRVI6IkFnZW50QXBwU2VydmljZS5Wb2ljZUlkLm9wdE91dFNwZWFrZXIiLFVQREFURV9WT0lDRV9JRF9EQVRBOiJBZ2VudEFwcFNlcnZpY2UuTGNtcy51cGRhdGVWb2ljZUlkRGF0YSIsREVTQ1JJQkVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQuZGVzY3JpYmVTZXNzaW9uIixVUERBVEVfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLlZvaWNlSWQudXBkYXRlU2Vzc2lvbiIsU1RBUlRfVk9JQ0VfSURfU0VTU0lPTjoiQWdlbnRBcHBTZXJ2aWNlLk5hc2Euc3RhcnRWb2ljZUlkU2Vzc2lvbiIsTElTVF9JTlRFR1JBVElPTl9BU1NPQ0lBVElPTlM6IkFnZW50QXBwU2VydmljZS5BY3MubGlzdEludGVncmF0aW9uQXNzb2NpYXRpb25zIn0sci5NYXN0ZXJNZXRob2RzPXIubWFrZUVudW0oWyJiZWNvbWVNYXN0ZXIiLCJjaGVja01hc3RlciJdKSxyLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzPXIubWFrZUVudW0oWyJsaXN0VGFza1RlbXBsYXRlcyIsImdldFRhc2tUZW1wbGF0ZSIsImNyZWF0ZVRlbXBsYXRlZFRhc2siLCJ1cGRhdGVDb250YWN0Il0pLHIuQXBpUHJveHlDbGllbnRNZXRob2RzPXtRUl9JTlRFR1JBVElPTl9FWElTVFM6InFySW50ZWdyYXRpb25FeGlzdHMiLFFSX1NFQVJDSF9RVUlDS19SRVNQT05TRVM6InFyU2VhcmNoUXVpY2tSZXNwb25zZXMiLEJBVENIX0dFVF9BVFRBQ0hFRF9GSUxFX01FVEFEQVRBOiJiYXRjaEdldEF0dGFjaGVkRmlsZU1ldGFkYXRhIixTVEFSVF9BVFRBQ0hFRF9GSUxFX1VQTE9BRDoic3RhcnRBdHRhY2hlZEZpbGVVcGxvYWQiLENPTVBMRVRFX0FUVEFDSEVEX0ZJTEVfVVBMT0FEOiJjb21wbGV0ZUF0dGFjaGVkRmlsZVVwbG9hZCIsR0VUX0FUVEFDSEVEX0ZJTEU6ImdldEF0dGFjaGVkRmlsZSIsREVMRVRFX0FUVEFDSEVEX0ZJTEU6ImRlbGV0ZUF0dGFjaGVkRmlsZSIsQ1JFQVRFX09VVEJPVU5EX0VNQUlMX0NPTlRBQ1Q6ImNyZWF0ZU91dGJvdW5kRW1haWxDb250YWN0IixTVEFSVF9PVVRCT1VORF9FTUFJTF9DT05UQUNUOiJzdGFydE91dGJvdW5kRW1haWxDb250YWN0IixMSVNUX0NPTlRBQ1RfUkVGRVJFTkNFUzoibGlzdENvbnRhY3RSZWZlcmVuY2VzIixERVNDUklCRV9DT05UQUNUOiJkZXNjcmliZUNvbnRhY3QiLExJU1RfQVNTT0NJQVRFRF9DT05UQUNUUzoibGlzdEFzc29jaWF0ZWRDb250YWN0cyIsU1RBUlRfU0NSRUVOX1NIQVJJTkc6InN0YXJ0U2NyZWVuU2hhcmluZyJ9LHIuUmV0cnlhYmxlQ2xpZW50TWV0aG9kc0xpc3Q9W3IuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU05BUFNIT1Qsci5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9DT05GSUdVUkFUSU9OLHIuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfUEVSTUlTU0lPTlMsci5DbGllbnRNZXRob2RzLkdFVF9BR0VOVF9TVEFURVMsci5DbGllbnRNZXRob2RzLkdFVF9ESUFMQUJMRV9DT1VOVFJZX0NPREVTLHIuQ2xpZW50TWV0aG9kcy5HRVRfUk9VVElOR19QUk9GSUxFX1FVRVVFU10sci5SZXRyeWFibGVFcnJvcnM9ci5tYWtlRW51bShbInVuYXV0aG9yaXplZCIsImFjY2Vzc0RlbmllZCJdKSxyLlJldHJ5U3RhdHVzPXIubWFrZUVudW0oWyJyZXRyeWluZyIsImV4aGF1c3RlZCIsIm5vbmUiXSk7dmFyIG89ZnVuY3Rpb24oKXt9O28uRU1QVFlfQ0FMTEJBQ0tTPXtzdWNjZXNzOmZ1bmN0aW9uKCl7fSxmYWlsdXJlOmZ1bmN0aW9uKCl7fX0sby5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbihlLHQsbil7ci5hc3NlcnROb3ROdWxsKGUsIm1ldGhvZCIpO3ZhciBpPXR8fHt9LGE9bnx8by5FTVBUWV9DQUxMQkFDS1M7dGhpcy5fY2FsbEltcGwoZSxpLGEpfSxvLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3Rocm93IG5ldyByLk5vdEltcGxlbWVudGVkRXJyb3J9O3ZhciBpPWZ1bmN0aW9uKCl7by5jYWxsKHRoaXMpfTsoaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXtpZihuJiZuLmZhaWx1cmUpe3ZhciBvPXIuc3ByaW50ZigiTm8gc3VjaCBtZXRob2QgZXhpc3RzIG9uIE5VTEwgY2xpZW50OiAlcyIsZSk7bi5mYWlsdXJlKG5ldyByLlZhbHVlRXJyb3Iobykse21lc3NhZ2U6b30pfX07dmFyIGE9ZnVuY3Rpb24oZSx0LG4pe28uY2FsbCh0aGlzKSx0aGlzLmNvbmR1aXQ9ZSx0aGlzLnJlcXVlc3RFdmVudD10LHRoaXMucmVzcG9uc2VFdmVudD1uLHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcD17fSx0aGlzLmNvbmR1aXQub25VcHN0cmVhbShuLHIuaGl0Y2godGhpcyx0aGlzLl9oYW5kbGVSZXNwb25zZSkpfTsoYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXF1ZXN0KHRoaXMucmVxdWVzdEV2ZW50LGUsdCk7dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW28ucmVxdWVzdElkXT1uO3ZhciBpPVtyLkNsaWVudE1ldGhvZHMuU0VORF9DTElFTlRfTE9HUyxyLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTLHIuQ2xpZW50TWV0aG9kcy5TRU5EX1NPRlRQSE9ORV9DQUxMX1JFUE9SVF07dHJ5e28uZXZlbnQhPT1yLkV2ZW50VHlwZS5BUElfUkVRVUVTVHx8aS5pbmNsdWRlcyhvLm1ldGhvZCl8fHIuZ2V0TG9nKCkudHJhY2UoIlNlbmRpbmcgQVBJX1JFUVVFU1QgZXZlbnQgZm9yICIuY29uY2F0KG8ubWV0aG9kLCIgdG8gdXBzdHJlYW0iKSkud2l0aE9iamVjdCh7bWV0aG9kOm8ubWV0aG9kLHBhcmFtczpvLnBhcmFtcyxzdGFjazoobmV3IEVycm9yKS5zdGFja30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiU3RhY2sgdHJhY2UgTG9nIEZhaWxlZCIpLndpdGhPYmplY3Qoe2VycjplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX10aGlzLmNvbmR1aXQuc2VuZFVwc3RyZWFtKG8uZXZlbnQsbyl9LGEucHJvdG90eXBlLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXXx8bnVsbDtyZXR1cm4gbnVsbCE9dCYmZGVsZXRlIHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXSx0fSxhLnByb3RvdHlwZS5faGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdChlLnJlcXVlc3RJZCk7bnVsbCE9dCYmKGUuZXJyJiZ0LmZhaWx1cmU/dC5mYWlsdXJlKGUuZXJyLGUuZGF0YSk6dC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZS5kYXRhKSl9O3ZhciBzPWZ1bmN0aW9uKGUpe2EuY2FsbCh0aGlzLGUsci5FdmVudFR5cGUuQVBJX1JFUVVFU1Qsci5FdmVudFR5cGUuQVBJX1JFU1BPTlNFKX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zO3ZhciBjPWZ1bmN0aW9uKCl7by5jYWxsKHRoaXMpLHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5BUElfUFJPWFlfUkVTUE9OU0Usci5oaXRjaCh0aGlzLHRoaXMuX2hhbmRsZVJlc3BvbnNlKSksdGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwPXt9fTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1yLkV2ZW50RmFjdG9yeS5jcmVhdGVSZXF1ZXN0KHIuRXZlbnRUeXBlLkFQSV9QUk9YWV9SRVFVRVNULGUsdCk7dGhpcy5fcmVxdWVzdElkQ2FsbGJhY2tzTWFwW28ucmVxdWVzdElkXT1uLHIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuQVBJX1BST1hZX1JFUVVFU1Qsbyl9LGMucHJvdG90eXBlLl9nZXRDYWxsYmFja3NGb3JSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXXx8bnVsbDtyZXR1cm4gbnVsbCE9dCYmZGVsZXRlIHRoaXMuX3JlcXVlc3RJZENhbGxiYWNrc01hcFtlXSx0fSxjLnByb3RvdHlwZS5faGFuZGxlUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZ2V0Q2FsbGJhY2tzRm9yUmVxdWVzdChlLnJlcXVlc3RJZCk7bnVsbCE9dCYmKGUuZXJyJiZ0LmZhaWx1cmU/dC5mYWlsdXJlKGUuZXJyLGUuZGF0YSk6dC5zdWNjZXNzJiZ0LnN1Y2Nlc3MoZS5kYXRhKSl9O3ZhciB1PWZ1bmN0aW9uKGUpe2EuY2FsbCh0aGlzLGUsci5FdmVudFR5cGUuTUFTVEVSX1JFUVVFU1Qsci5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFKX07KHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj11O3ZhciBsPWZ1bmN0aW9uKGUsdCxuKXtyLmFzc2VydE5vdE51bGwoZSwiYXV0aENvb2tpZU5hbWUiKSxyLmFzc2VydE5vdE51bGwodCwiYXV0aFRva2VuIiksci5hc3NlcnROb3ROdWxsKG4sImVuZHBvaW50Iiksby5jYWxsKHRoaXMpLHRoaXMuZW5kcG9pbnRVcmw9ci5nZXRVcmxXaXRoUHJvdG9jb2wobiksdGhpcy5hdXRoVG9rZW49dCx0aGlzLmF1dGhDb29raWVOYW1lPWV9OyhsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9bCxsLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXMsaT17fTtpW28uYXV0aENvb2tpZU5hbWVdPW8uYXV0aFRva2VuO3ZhciBhPXttZXRob2Q6InBvc3QiLGJvZHk6SlNPTi5zdHJpbmdpZnkodHx8e30pLGhlYWRlcnM6e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiIsIkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24iLCJYLUFtei10YXJnZXQiOmUsIlgtQW16LUJlYXJlciI6SlNPTi5zdHJpbmdpZnkoaSl9fTtyLmZldGNoKG8uZW5kcG9pbnRVcmwsYSkudGhlbigoZnVuY3Rpb24oZSl7bi5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkuZ2V0UmVhZGVyKCkscj0iIixvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKGEpe3ZhciBzPWEuZG9uZSxjPWEudmFsdWU7aWYocyl7dmFyIHU9SlNPTi5wYXJzZShyKTtyZXR1cm4gdS5zdGF0dXM9ZS5zdGF0dXMsdm9pZCBuLmZhaWx1cmUodSl9cmV0dXJuIHIrPW8uZGVjb2RlKGMpLHQucmVhZCgpLnRoZW4oaSl9KSl9KSl9O3ZhciBwPWZ1bmN0aW9uKGUsdCxuKXtyLmFzc2VydE5vdE51bGwoZSwiYXV0aFRva2VuIiksci5hc3NlcnROb3ROdWxsKHQsInJlZ2lvbiIpLG8uY2FsbCh0aGlzKSxBV1MuY29uZmlnLmNyZWRlbnRpYWxzPW5ldyBBV1MuQ3JlZGVudGlhbHMoe30pLEFXUy5jb25maWcucmVnaW9uPXQsdGhpcy5hdXRoVG9rZW49ZTt2YXIgaT1yLmdldEJhc2VVcmwoKSxhPW58fChpLmluY2x1ZGVzKCIuYXdzYXBwcy5jb20iKT9pKyIvY29ubmVjdC9hcGkiOmkrIi9hcGkiKSxzPW5ldyBBV1MuRW5kcG9pbnQoYSk7dGhpcy5jbGllbnQ9bmV3IEFXUy5Db25uZWN0KHtlbmRwb2ludDpzfSksdGhpcy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj0wLHRoaXMuYWNjZXNzRGVuaWVkRmFpbENvdW50ZXI9MH07KHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1wLHAucHJvdG90eXBlLl9jYWxsSW1wbD1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcyxpPXIuZ2V0TG9nKCk7aWYoci5jb250YWlucyh0aGlzLmNsaWVudCxlKSl0PXRoaXMuX3RyYW5zbGF0ZVBhcmFtcyhlLHQpLCJwYXVzZUNvbnRhY3QiIT09ZSYmInJlc3VtZUNvbnRhY3QiIT09ZXx8ZGVsZXRlIHQuYXV0aGVudGljYXRpb24sdCYmdC5yZWxhdGVkQ29udGFjdElkJiZudWxsIT09dC5yZWxhdGVkQ29udGFjdElkJiZ0LnByZXZpb3VzQ29udGFjdElkJiZkZWxldGUgdC5wcmV2aW91c0NvbnRhY3RJZCxpLnRyYWNlKCJBV1NDbGllbnQ6IC0tXHgzZSBDYWxsaW5nIG9wZXJhdGlvbiAnJXMnIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMuY2xpZW50W2VdKHQpLm9uKCJidWlsZCIsKGZ1bmN0aW9uKGUpe2UuaHR0cFJlcXVlc3QuaGVhZGVyc1siWC1BbXotQmVhcmVyIl09by5hdXRoVG9rZW59KSkuc2VuZCgoZnVuY3Rpb24odCxhKXt0cnl7aWYodCl0LmNvZGU9PT1yLkNUSUV4Y2VwdGlvbnMuVU5BVVRIT1JJWkVEX0VYQ0VQVElPTnx8NDAxPT09dC5zdGF0dXNDb2RlP28uX3JldHJ5TWV0aG9kKGUsbix0LGEsci5SZXRyeWFibGVFcnJvcnMuVU5BVVRIT1JJWkVEKTp0LmNvZGU9PT1yLkNUSUV4Y2VwdGlvbnMuQUNDRVNTX0RFTklFRF9FWENFUFRJT058fDQwMz09PXQuc3RhdHVzQ29kZT9vLl9yZXRyeU1ldGhvZChlLG4sdCxhLHIuUmV0cnlhYmxlRXJyb3JzLkFDQ0VTU19ERU5JRUQpOihvLnVuYXV0aG9yaXplZEZhaWxDb3VudGVyPTAsby5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wLG4uZmFpbHVyZShvLl9mb3JtYXRDYWxsRXJyb3Ioby5fYWRkU3RhdHVzQ29kZVRvRXJyb3IodCkpLGEpKSxpLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gJyVzJyBmYWlsZWQ6ICVzIixlLEpTT04uc3RyaW5naWZ5KHQpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2V7dmFyIHM9e307aS50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICclcycgc3VjY2VlZGVkLiIsZSkud2l0aE9iamVjdChhKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8udW5hdXRob3JpemVkRmFpbENvdW50ZXI9MCxvLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyPTAsdGhpcy5odHRwUmVzcG9uc2UmJnRoaXMuaHR0cFJlc3BvbnNlLmhhc093blByb3BlcnR5KCJib2R5IikmJihzLmNvbnRlbnRMZW5ndGg9dGhpcy5odHRwUmVzcG9uc2UuYm9keS5sZW5ndGgpLG4uc3VjY2VzcyhhLHMpfX1jYXRjaCh0KXtyLmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gaGFuZGxlIEFXUyBBUEkgcmVxdWVzdCBmb3IgbWV0aG9kICVzIixlKS53aXRoRXhjZXB0aW9uKHQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpO2Vsc2V7dmFyIGE9ci5zcHJpbnRmKCJObyBzdWNoIG1ldGhvZCBleGlzdHMgb24gQVdTIGNsaWVudDogJXMiLGUpO24uZmFpbHVyZShuZXcgci5WYWx1ZUVycm9yKGEpLHttZXNzYWdlOmF9KX19LHAucHJvdG90eXBlLl9pc1JldHJ5YWJsZU1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gci5SZXRyeWFibGVDbGllbnRNZXRob2RzTGlzdC5pbmNsdWRlcyhlKX0scC5wcm90b3R5cGUuX3JldHJ5TWV0aG9kPWZ1bmN0aW9uKGUsdCxvLGksYSl7dmFyIHM9dGhpcyxjPXIuZ2V0TG9nKCksdT1mdW5jdGlvbihlKXtyZXR1cm4gcy5fZm9ybWF0Q2FsbEVycm9yKHMuX2FkZFN0YXR1c0NvZGVUb0Vycm9yKGUpKX0sbD17bWF4Q291bnQ6ci5jb3JlLk1BWF9VTkFVVEhPUklaRURfUkVUUllfQ09VTlQsZmFpbENvdW50ZXI6cy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcixpbmNyZWFzZUNvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcis9MX0scmVzZXRDb3VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHMudW5hdXRob3JpemVkRmFpbENvdW50ZXI9MH0sZXJyb3JNZXNzYWdlOiJ1bmF1dGhvcml6ZWQiLGV4aGF1c3RlZFJldHJpZXM6cy51bmF1dGhvcml6ZWRGYWlsQ291bnRlcj49ci5jb3JlLk1BWF9VTkFVVEhPUklaRURfUkVUUllfQ09VTlQscmV0cnlDYWxsYmFjazpmdW5jdGlvbihlLG4pe3JldHVybiB0LmZhaWx1cmUodShlKSxuKX0sZGVmYXVsdENhbGxiYWNrOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXV0aEZhaWx1cmUodShlKSxuKX19O3N3aXRjaChhKXtjYXNlIHIuUmV0cnlhYmxlRXJyb3JzLlVOQVVUSE9SSVpFRDpicmVhaztjYXNlIHIuUmV0cnlhYmxlRXJyb3JzLkFDQ0VTU19ERU5JRUQ6bD1uKG4oe30sbCkse30se21heENvdW50OnIuY29yZS5NQVhfQUNDRVNTX0RFTklFRF9SRVRSWV9DT1VOVCxmYWlsQ291bnRlcjpzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyLGluY3JlYXNlQ291bnRlcjpmdW5jdGlvbigpe3JldHVybiBzLmFjY2Vzc0RlbmllZEZhaWxDb3VudGVyKz0xfSxyZXNldENvdW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj0wfSxlcnJvck1lc3NhZ2U6ImFjY2VzcyBkZW5pZWQiLGV4aGF1c3RlZFJldHJpZXM6cy5hY2Nlc3NEZW5pZWRGYWlsQ291bnRlcj49ci5jb3JlLk1BWF9BQ0NFU1NfREVOSUVEX1JFVFJZX0NPVU5ULGRlZmF1bHRDYWxsYmFjazpmdW5jdGlvbihlLG4pe3JldHVybiB0LmFjY2Vzc0RlbmllZCh1KGUpLG4pfX0pfXZhciBwPW4obih7fSxvKSx7fSx7cmV0cnlTdGF0dXM6ci5SZXRyeVN0YXR1cy5OT05FfSk7aWYocy5faXNSZXRyeWFibGVNZXRob2QoZSkpe2lmKCFsLmV4aGF1c3RlZFJldHJpZXMpcmV0dXJuIGMudHJhY2UoIkFXU0NsaWVudDogPC0tIE9wZXJhdGlvbiAiLmNvbmNhdChlLCIgZmFpbGVkIHdpdGggIikuY29uY2F0KGwuZXJyb3JNZXNzYWdlLCIgZXJyb3IuIFJldHJ5aW5nIGNhbGwgZm9yIGEgIikuY29uY2F0KGwuZmFpbENvdW50ZXIrMSwiIHRpbWUiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxsLmluY3JlYXNlQ291bnRlcigpLHA9bihuKHt9LHApLHt9LHtyZXRyeVN0YXR1czpyLlJldHJ5U3RhdHVzLlJFVFJZSU5HfSksdm9pZCBsLnJldHJ5Q2FsbGJhY2socCxpKTtjLnRyYWNlKCJBV1NDbGllbnQ6IDwtLSBPcGVyYXRpb24gIi5jb25jYXQoZSwiIGV4aGF1c3RlZCBtYXggIikuY29uY2F0KGwubWF4Q291bnQsIiBudW1iZXIgb2YgcmV0cmllcyBmb3IgIikuY29uY2F0KGwuZXJyb3JNZXNzYWdlLCIgZXJyb3IiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxsLnJlc2V0Q291bnRlcigpLHA9bihuKHt9LHApLHt9LHtyZXRyeVN0YXR1czpyLlJldHJ5U3RhdHVzLkVYSEFVU1RFRH0pfWVsc2UgYy50cmFjZSgiQVdTQ2xpZW50OiA8LS0gT3BlcmF0aW9uICIuY29uY2F0KGUsIiBmYWlsZWQ6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShvKSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7bC5kZWZhdWx0Q2FsbGJhY2socCxpKX0scC5wcm90b3R5cGUuX2Zvcm1hdENhbGxFcnJvcj1mdW5jdGlvbih0KXt2YXIgbz1uKHt0eXBlOnQuY29kZSxtZXNzYWdlOnQubWVzc2FnZSxzdGFjazpbXSxyZXRyeVN0YXR1czp0LnJldHJ5U3RhdHVzfHxyLlJldHJ5U3RhdHVzLk5PTkV9LHQuc3RhdHVzQ29kZSYme3N0YXR1c0NvZGU6dC5zdGF0dXNDb2RlfSk7aWYodC5zdGFjayl0cnl7QXJyYXkuaXNBcnJheSh0LnN0YWNrKT9vLnN0YWNrPXQuc3RhY2s6Im9iamVjdCI9PT1lKHQuc3RhY2spP28uc3RhY2s9W0pTT04uc3RyaW5naWZ5KHQuc3RhY2spXToic3RyaW5nIj09dHlwZW9mIHQuc3RhY2smJihvLnN0YWNrPXQuc3RhY2suc3BsaXQoIlxuIikpfWZpbmFsbHl7fXJldHVybiBvfSxwLnByb3RvdHlwZS5fYWRkU3RhdHVzQ29kZVRvRXJyb3I9ZnVuY3Rpb24oZSl7aWYoZS5zdGF0dXNDb2RlKXJldHVybiBlO3ZhciB0PW4oe30sZSk7aWYoZS5jb2RlKXN3aXRjaCh0LmNvZGUpe2Nhc2Ugci5DVElFeGNlcHRpb25zLlVOQVVUSE9SSVpFRF9FWENFUFRJT046dC5zdGF0dXNDb2RlPTQwMTticmVhaztjYXNlIHIuQ1RJRXhjZXB0aW9ucy5BQ0NFU1NfREVOSUVEX0VYQ0VQVElPTjp0LnN0YXR1c0NvZGU9NDAzfWVsc2UgdC5zdGF0dXNDb2RlPTQwMDtyZXR1cm4gdH0scC5wcm90b3R5cGUuX3JlcXVpcmVzQXV0aGVudGljYXRpb25QYXJhbT1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PXIuQ2xpZW50TWV0aG9kcy5DT01QTEVURV9DT05UQUNUJiZlIT09ci5DbGllbnRNZXRob2RzLkNMRUFSX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuUkVKRUNUX0NPTlRBQ1QmJmUhPT1yLkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RBU0tfQ09OVEFDVCYmZSE9PXIuQ2xpZW50TWV0aG9kcy5VUERBVEVfTU9OSVRPUl9QQVJUSUNJUEFOVF9TVEFURX0scC5wcm90b3R5cGUuX3RyYW5zbGF0ZVBhcmFtcz1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIHIuQ2xpZW50TWV0aG9kcy5VUERBVEVfQUdFTlRfQ09ORklHVVJBVElPTjp0LmNvbmZpZ3VyYXRpb249dGhpcy5fdHJhbnNsYXRlQWdlbnRDb25maWd1cmF0aW9uKHQuY29uZmlndXJhdGlvbik7YnJlYWs7Y2FzZSByLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9NRVRSSUNTOnQuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcz10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKHQuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcyk7YnJlYWs7Y2FzZSByLkNsaWVudE1ldGhvZHMuU0VORF9TT0ZUUEhPTkVfQ0FMTF9SRVBPUlQ6dC5yZXBvcnQ9dGhpcy5fdHJhbnNsYXRlU29mdHBob25lQ2FsbFJlcG9ydCh0LnJlcG9ydCl9cmV0dXJuIHRoaXMuX3JlcXVpcmVzQXV0aGVudGljYXRpb25QYXJhbShlKSYmKHQuYXV0aGVudGljYXRpb249e2F1dGhUb2tlbjp0aGlzLmF1dGhUb2tlbn0pLHR9LHAucHJvdG90eXBlLl90cmFuc2xhdGVBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6ZS5uYW1lLHNvZnRwaG9uZUVuYWJsZWQ6ZS5zb2Z0cGhvbmVFbmFibGVkLHNvZnRwaG9uZUF1dG9BY2NlcHQ6ZS5zb2Z0cGhvbmVBdXRvQWNjZXB0LGV4dGVuc2lvbjplLmV4dGVuc2lvbixyb3V0aW5nUHJvZmlsZTp0aGlzLl90cmFuc2xhdGVSb3V0aW5nUHJvZmlsZShlLnJvdXRpbmdQcm9maWxlKSxhZ2VudFByZWZlcmVuY2VzOmUuYWdlbnRQcmVmZXJlbmNlc319LHAucHJvdG90eXBlLl90cmFuc2xhdGVSb3V0aW5nUHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTplLm5hbWUscm91dGluZ1Byb2ZpbGVBUk46ZS5yb3V0aW5nUHJvZmlsZUFSTixkZWZhdWx0T3V0Ym91bmRRdWV1ZTp0aGlzLl90cmFuc2xhdGVRdWV1ZShlLmRlZmF1bHRPdXRib3VuZFF1ZXVlKX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVRdWV1ZT1mdW5jdGlvbihlKXtyZXR1cm57cXVldWVBUk46ZS5xdWV1ZUFSTixuYW1lOmUubmFtZX19LHAucHJvdG90eXBlLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJwYWNrZXRzQ291bnQiaW4gZSYmKGUucGFja2V0Q291bnQ9ZS5wYWNrZXRzQ291bnQsZGVsZXRlIGUucGFja2V0c0NvdW50KX0pKSxlfSxwLnByb3RvdHlwZS5fdHJhbnNsYXRlU29mdHBob25lQ2FsbFJlcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4iaGFuZHNoYWtpbmdUaW1lTWlsbGlzImluIGUmJihlLmhhbmRzaGFrZVRpbWVNaWxsaXM9ZS5oYW5kc2hha2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUuaGFuZHNoYWtpbmdUaW1lTWlsbGlzKSwicHJlVGFsa2luZ1RpbWVNaWxsaXMiaW4gZSYmKGUucHJlVGFsa1RpbWVNaWxsaXM9ZS5wcmVUYWxraW5nVGltZU1pbGxpcyxkZWxldGUgZS5wcmVUYWxraW5nVGltZU1pbGxpcyksImhhbmRzaGFraW5nRmFpbHVyZSJpbiBlJiYoZS5oYW5kc2hha2VGYWlsdXJlPWUuaGFuZHNoYWtpbmdGYWlsdXJlLGRlbGV0ZSBlLmhhbmRzaGFraW5nRmFpbHVyZSksInRhbGtpbmdUaW1lTWlsbGlzImluIGUmJihlLnRhbGtUaW1lTWlsbGlzPWUudGFsa2luZ1RpbWVNaWxsaXMsZGVsZXRlIGUudGFsa2luZ1RpbWVNaWxsaXMpLGUuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcz10aGlzLl90cmFuc2xhdGVTb2Z0cGhvbmVTdHJlYW1TdGF0aXN0aWNzKGUuc29mdHBob25lU3RyZWFtU3RhdGlzdGljcyksZX07dmFyIGQ9ZnVuY3Rpb24oZSl7aWYoci5hc3NlcnROb3ROdWxsKGUsImVuZHBvaW50Iiksby5jYWxsKHRoaXMpLGUuaW5jbHVkZXMoIi90YXNrLXRlbXBsYXRlcyIpKXRoaXMuZW5kcG9pbnRVcmw9ci5nZXRVcmxXaXRoUHJvdG9jb2woZSk7ZWxzZXt2YXIgdD1uZXcgQVdTLkVuZHBvaW50KGUpLG49ZS5pbmNsdWRlcygiLmF3c2FwcHMuY29tIik/Ii9jb25uZWN0IjoiIjt0aGlzLmVuZHBvaW50VXJsPXIuZ2V0VXJsV2l0aFByb3RvY29sKCIiLmNvbmNhdCh0Lmhvc3QpLmNvbmNhdChuLCIvdGFzay10ZW1wbGF0ZXMvYXBpL2NjcCIpKX19OyhkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9ZCxkLnByb3RvdHlwZS5fY2FsbEltcGw9ZnVuY3Rpb24oZSx0LG4pe3QmJnQucmVsYXRlZENvbnRhY3RJZCYmbnVsbCE9PXQucmVsYXRlZENvbnRhY3RJZCYmdC5wcmV2aW91c0NvbnRhY3RJZCYmZGVsZXRlIHQucHJldmlvdXNDb250YWN0SWQsci5hc3NlcnROb3ROdWxsKGUsIm1ldGhvZCIpLHIuYXNzZXJ0Tm90TnVsbCh0LCJwYXJhbXMiKTt2YXIgbz17Y3JlZGVudGlhbHM6ImluY2x1ZGUiLG1ldGhvZDoiR0VUIixoZWFkZXJzOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24iLCJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIiwieC1jc3JmLXRva2VuIjoiY3NyZiJ9fSxpPXQuaW5zdGFuY2VJZCxhPXRoaXMuZW5kcG9pbnRVcmwscz1yLlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzO3N3aXRjaChlKXtjYXNlIHMuTElTVF9UQVNLX1RFTVBMQVRFUzppZihhKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlIiksdC5xdWVyeVBhcmFtcyl7dmFyIGM9bmV3IFVSTFNlYXJjaFBhcmFtcyh0LnF1ZXJ5UGFyYW1zKS50b1N0cmluZygpO2MmJihhKz0iPyIuY29uY2F0KGMpKX1icmVhaztjYXNlIHMuR0VUX1RBU0tfVEVNUExBVEU6ci5hc3NlcnROb3ROdWxsKHQudGVtcGxhdGVQYXJhbXMsInBhcmFtcy50ZW1wbGF0ZVBhcmFtcyIpO3ZhciB1PXIuYXNzZXJ0Tm90TnVsbCh0LnRlbXBsYXRlUGFyYW1zLmlkLCJwYXJhbXMudGVtcGxhdGVQYXJhbXMuaWQiKSxsPXQudGVtcGxhdGVQYXJhbXMudmVyc2lvbjthKz0iL3Byb3h5L2luc3RhbmNlLyIuY29uY2F0KGksIi90YXNrL3RlbXBsYXRlLyIpLmNvbmNhdCh1KSxsJiYoYSs9Ij9zbmFwc2hvdFZlcnNpb249Ii5jb25jYXQobCkpO2JyZWFrO2Nhc2Ugcy5DUkVBVEVfVEVNUExBVEVEX1RBU0s6YSs9Ii8iLmNvbmNhdChlKSxvLmJvZHk9SlNPTi5zdHJpbmdpZnkodCksby5tZXRob2Q9IlBVVCI7YnJlYWs7Y2FzZSBzLlVQREFURV9DT05UQUNUOmErPSIvIi5jb25jYXQoZSksby5ib2R5PUpTT04uc3RyaW5naWZ5KHQpLG8ubWV0aG9kPSJQT1NUIn1yLmZldGNoKGEsbykudGhlbigoZnVuY3Rpb24oZSl7bi5zdWNjZXNzKGUpfSkpLmNhdGNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkuZ2V0UmVhZGVyKCkscj0iIixvPW5ldyBUZXh0RGVjb2Rlcjt0LnJlYWQoKS50aGVuKChmdW5jdGlvbiBpKGEpe3ZhciBzPWEuZG9uZSxjPWEudmFsdWU7aWYocyl7dmFyIHU9SlNPTi5wYXJzZShyKTtyZXR1cm4gdS5zdGF0dXM9ZS5zdGF0dXMsdm9pZCBuLmZhaWx1cmUodSl9cmV0dXJuIHIrPW8uZGVjb2RlKGMpLHQucmVhZCgpLnRoZW4oaSl9KSl9KSl9LHIuQ2xpZW50QmFzZT1vLHIuTnVsbENsaWVudD1pLHIuVXBzdHJlYW1Db25kdWl0Q2xpZW50PXMsci5BcGlQcm94eUNsaWVudD1jLHIuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50PXUsci5BV1NDbGllbnQ9cCxyLkFnZW50QXBwQ2xpZW50PWwsci5UYXNrVGVtcGxhdGVzQ2xpZW50PWR9KCl9LDM5OTooZSx0LG4pPT57ZnVuY3Rpb24gcihlKXtyZXR1cm4gcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0scihlKX1mdW5jdGlvbiBvKCl7InVzZSBzdHJpY3QiO289ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIGUsdD17fSxuPU9iamVjdC5wcm90b3R5cGUsaT1uLmhhc093blByb3BlcnR5LGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9cy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9cy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPXMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKGUpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBhKGksIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGl9ZnVuY3Rpb24gZihlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fXQud3JhcD1kO3ZhciBoPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gRSgpe31mdW5jdGlvbiBTKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBUPU9iamVjdC5nZXRQcm90b3R5cGVPZixJPVQmJlQoVChQKFtdKSkpO0kmJkkhPT1uJiZpLmNhbGwoSSxjKSYmKEM9SSk7dmFyIHc9Uy5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihvLGEscyxjKXt2YXIgdT1mKGVbb10sZSxhKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1yKHApJiZpLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgbzthKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsbyl7bihlLHIsdCxvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBSKHQsbixyKXt2YXIgbz1oO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPU8ocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1oKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1mKHQsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBPKHQsbil7dmFyIHI9bi5tZXRob2Qsbz10Lml0ZXJhdG9yW3JdO2lmKG89PT1lKXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxPKHQsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9ZihvLHQuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW3QucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9ZSksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKHQpe2lmKHR8fCIiPT09dCl7dmFyIG49dFtjXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgbz0tMSxhPWZ1bmN0aW9uIG4oKXtmb3IoOysrbzx0Lmxlbmd0aDspaWYoaS5jYWxsKHQsbykpcmV0dXJuIG4udmFsdWU9dFtvXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gYS5uZXh0PWF9fXRocm93IG5ldyBUeXBlRXJyb3Iocih0KSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBFLnByb3RvdHlwZT1TLGEodywiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLGEoUywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLEUuZGlzcGxheU5hbWU9cChTLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksdC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1FfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSx0Lm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxTKTooZS5fX3Byb3RvX189UyxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSx0LmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksdC5Bc3luY0l0ZXJhdG9yPV8sdC5hc3luYz1mdW5jdGlvbihlLG4scixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSxuLHIsbyksaSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksdC5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LHQudmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9ZSx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCF0KWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZpLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09ZSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbih0KXtpZih0aGlzLmRvbmUpdGhyb3cgdDt2YXIgbj10aGlzO2Z1bmN0aW9uIHIocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPWUpLCEhb31mb3IodmFyIG89dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO28+PTA7LS1vKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbb10scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPWkuY2FsbChhLCJjYXRjaExvYyIpLHU9aS5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJmkuY2FsbChyLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxyLmZpbmFsbHlMb2Mpe3ZhciBvPXI7YnJlYWt9fW8mJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZvLnRyeUxvYzw9dCYmdDw9by5maW5hbGx5TG9jJiYobz1udWxsKTt2YXIgYT1vP28uY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxvPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAodCkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSx5fX0sdH1mdW5jdGlvbiBpKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gYShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9hKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7YyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCxuKXtyZXR1cm4odD1iKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkoZSl8fChuPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBsKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2woZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe24mJihlPW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW3IrK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBpLGE9ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9bi5uZXh0KCk7cmV0dXJuIGE9ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxpPWV9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fX19ZnVuY3Rpb24gbChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9QXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIHQ9Zih0KSxmdW5jdGlvbihlLHQpe2lmKHQmJigib2JqZWN0Ij09cih0KXx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKX0oZSxkKCk/UmVmbGVjdC5jb25zdHJ1Y3QodCxufHxbXSxmKGUpLmNvbnN0cnVjdG9yKTp0LmFwcGx5KGUsbikpfWZ1bmN0aW9uIGQoKXt0cnl7dmFyIGU9IUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSl9Y2F0Y2goZSl7fXJldHVybihkPWZ1bmN0aW9uKCl7cmV0dXJuISFlfSkoKX1mdW5jdGlvbiBmKGUpe3JldHVybiBmPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfSxmKGUpfWZ1bmN0aW9uIGgoZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksdCYmZyhlLHQpfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gZz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGcoZSx0KX1mdW5jdGlvbiBtKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYihyLmtleSkscil9fWZ1bmN0aW9uIHkoZSx0LG4pe3JldHVybiB0JiZ2KGUucHJvdG90eXBlLHQpLG4mJnYoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxlfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0IiE9cihlKXx8IWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBvPW4uY2FsbChlLHR8fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPXIobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09cih0KT90OnQrIiJ9IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsZS5saWx5PXQsdC5jb3JlPXt9LHQuZ2xvYmFsUmVzaWxpZW5jeT10Lmdsb2JhbFJlc2lsaWVuY3l8fHt9LHQuY29yZS5pbml0aWFsaXplZD0hMSx0LnZlcnNpb249IjIuMTcuMCIsdC5vdXRlckNvbnRleHRTdHJlYW1zVmVyc2lvbj1udWxsLHQuREVGQVVMVF9CQVRDSF9TSVpFPTUwMDt2YXIgcj0iQW1hem9uIENvbm5lY3QgQ0NQIixhPSJodHRwczovL3thbGlhc30uYXdzYXBwcy5jb20vYXV0aC8/Y2xpZW50X2lkPXtjbGllbnRfaWR9JnJlZGlyZWN0X3VyaT17cmVkaXJlY3R9IixjPSIwNjkxOWY0ZmQ4ZWQzMjRlIixsPSIvYXV0aC9hdXRob3JpemUiLGQ9Ii9jb25uZWN0L2F1dGgvYXV0aG9yaXplIixmPSJJZnJhbWVSZWZyZXNoQXR0ZW1wdHMiLGc9IklmcmFtZVJlZnJlc2hBdHRlbXB0c0RyIix2PSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3MiLGI9IklmcmFtZUluaXRpYWxpemF0aW9uU3VjY2Vzc0RyIixFPSJjdXN0b212aWV3cyIsUz1bImVuZGVkIiwibWlzc2VkIiwiZXJyb3IiLCJyZWplY3RlZCIsImFjdyJdO3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPTAsdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWI9MCx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTj0zLHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQ9MTAsdC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PTAsdC5jb3JlLmF1dGhvcml6ZVRpbWVvdXRJZD1udWxsLHQuY29yZS5jdGlUaW1lb3V0SWQ9bnVsbCx0LmNvcmUuTUFYX1VOQVVUSE9SSVpFRF9SRVRSWV9DT1VOVD0yMCx0LmNvcmUuTUFYX0FDQ0VTU19ERU5JRURfUkVUUllfQ09VTlQ9MTAsdC5TZXNzaW9uU3RvcmFnZUtleXM9dC5tYWtlRW51bShbInRhYl9pZCIsImF1dGhvcml6ZV9yZXRyeV9jb3VudCJdKTt2YXIgQz1mdW5jdGlvbigpe3JldHVybiB5KChmdW5jdGlvbiB0KG4pe20odGhpcyx0KSx0aGlzLmtleT0iIi5jb25jYXQobiwiUGFyYW1zU3RvcmFnZTo6IikuY29uY2F0KGUubG9jYXRpb24ub3JpZ2luKX0pLFt7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dHJ5e3ZhciBuPWUubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5rZXkpO3JldHVybiBuJiZKU09OLnBhcnNlKG4pfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIiIuY29uY2F0KHRoaXMua2V5LCI6OiBGYWlsZWQgdG8gZ2V0IHNvZnRwaG9uZSBwYXJhbXMgZnJvbSBsb2NhbCBzdG9yYWdlISIpKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9cmV0dXJuIG51bGx9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uKG4pe3RyeXtuJiZlLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LEpTT04uc3RyaW5naWZ5KG4pKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCIiLmNvbmNhdCh0aGlzLmtleSwiOjogRmFpbGVkIHRvIHNldCBzb2Z0cGhvbmUgcGFyYW1zIHRvIGxvY2FsIHN0b3JhZ2UhIikpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19fSx7a2V5OiJjbGVhbiIsdmFsdWU6ZnVuY3Rpb24oKXtlLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMua2V5KX19XSl9KCksVD1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJTb2Z0cGhvbmUiXSl9cmV0dXJuIGgodCxlKSx5KHQpfShDKSksST1uZXcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBtKHRoaXMsdCkscCh0aGlzLHQsWyJSaW5ndG9uZSJdKX1yZXR1cm4gaCh0LGUpLHkodCl9KEMpKTtmdW5jdGlvbiB3KGUpe3ZhciB0PWUubWF0Y2goL14oPzpodHRwcz86XC9cLyk/KD86W15AXG5dK0ApPyg/Ond3d1wuKT8oW146XC9cbj9dKykvZ2kpO3JldHVybiB0Lmxlbmd0aD90WzBdOiIifW5ldyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG0odGhpcyx0KSxwKHRoaXMsdCxbIkdsb2JhbFJlc2lsaWVuY3kiXSl9cmV0dXJuIGgodCxlKSx5KHQpfShDKSksdC5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXt0LmNvcmUuaW5pdGlhbGl6ZWQmJnQuZ2V0TG9nKCkud2FybigiQ29ubmVjdCBjb3JlIGFscmVhZHkgaW5pdGlhbGl6ZWQsIG9ubHkgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgb25jZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTt2YXIgQT1mdW5jdGlvbihlLG4pe3ZhciByPWUuZ2V0QWdlbnRTdGF0ZXMoKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dC5BZ2VudFN0YXRlVHlwZS5PRkZMSU5FfSkpO2Uuc2V0U3RhdGUocixuKX0sXz1mdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gU2lnbmFsIHNoYXJlZHdvcmtlciB0byBzZXQgY29udGFjdHMgc3VwcHJlc3NvciB0byAlcyBmb3IgaW5zdGFuY2UgJXMuIixlLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TVVBQUkVTUyx7c3VwcHJlc3M6ZSxzaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtOiExfSl9LFI9ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmluZm8oIltESVNBU1RFUiBSRUNPVkVSWV0gU2lnbmFsIHNoYXJlZHdvcmtlciB0byBzZXQgZm9yY2VPZmZsaW5lIHRvICVzIGZvciBpbnN0YW5jZSAlcy4iLGUsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZPUkNFX09GRkxJTkUse29mZmxpbmU6ZSxuZXh0QWN0aXZlQXJuOm59KX0sTz1mdW5jdGlvbihlLG4pe3ZhciByPXQuZ2V0TG9nKCksbz10LmFnZW50LmluaXRpYWxpemVkP3QuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcigpLmdldEluc3RhbmNlSWQoKTp0LmNvcmUucmVnaW9uO3IuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBdHRlbXB0aW5nIHRvIGZvcmNlIGluc3RhbmNlICIuY29uY2F0KG8sIiBvZmZsaW5lIHVzaW5nICIpLmNvbmNhdChlPyJzb2Z0IjoiaGFyZCIsIiBmYWlsb3ZlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYWdlbnQoKGZ1bmN0aW9uKG8pe3ZhciBpPTAsYT1vLmdldENvbnRhY3RzKCkscz0hMTtpZihhLmxlbmd0aCl7dmFyIGMsbD11KGEpO3RyeXtmb3IobC5zKCk7IShjPWwubigpKS5kb25lOyl7dmFyIHA9Yy52YWx1ZTtpZihzKWJyZWFrOyFlfHxwLmdldFR5cGUoKSE9PXQuQ29udGFjdFR5cGUuUVVFVUVfQ0FMTEJBQ0smJnAuZ2V0VHlwZSgpIT09dC5Db250YWN0VHlwZS5WT0lDRT9wLmdldEFnZW50Q29ubmVjdGlvbigpLmRlc3Ryb3koe3N1Y2Nlc3M6ZnVuY3Rpb24oKXsrK2k9PT1hLmxlbmd0aCYmKFIoITEsbiksQShvKSxyLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgJXMgaXMgbm93IG9mZmxpbmUiLHQuY29yZS5yZWdpb24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUpe3Iud2FybigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBBbiBlcnJvciBvY2N1cmVkIHdoaWxlIGF0dGVtcHRpbmcgdG8gZm9yY2UgdGhpcyBpbnN0YW5jZSB0byBvZmZsaW5lIGluIHJlZ2lvbiAlcyIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLndhcm4oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxSKCEwLG4pLHM9ITB9fSk6KHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBXaWxsIHdhaXQgdG8gY29tcGxldGUgZmFpbG92ZXIgb2YgaW5zdGFuY2UgJXMgdW50aWwgdm9pY2UgY29udGFjdCB3aXRoIElEICVzIGlzIGRlc3Ryb3llZCIsdC5jb3JlLnJlZ2lvbixwLmdldENvbnRhY3RJZCgpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HLHtuZXh0QWN0aXZlQXJuOm59KSxwLm9uRGVzdHJveSgoZnVuY3Rpb24oZSl7ci5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFZvaWNlIGNvbnRhY3Qgd2l0aCBJRCAlcyBkZXN0cm95ZWQsIGNvbnRpbnVpbmcgd2l0aCBmYWlsb3ZlciBpbiBpbnN0YW5jZSAlcyIsZS5nZXRDb250YWN0SWQoKSx0LmNvcmUucmVnaW9uKSxPKCEwLG4pfSkpKX19Y2F0Y2goZSl7bC5lKGUpfWZpbmFsbHl7bC5mKCl9fWVsc2UgUighMSxuKSxBKG8pLHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAlcyBpcyBub3cgb2ZmbGluZSIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX07dC5jb3JlLnRlcm1pbmF0ZUN1c3RvbVZpZXc9ZnVuY3Rpb24oZSl7dmFyIG4scixvPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToiIixpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxhPWkucmVzb2x2ZUlmcmFtZSxzPXZvaWQgMD09PWF8fGEsYz1pLnRpbWVvdXQsdT12b2lkIDA9PT1jPzVlMzpjLGw9aS5oaWRlSWZyYW1lLHA9dm9pZCAwPT09bHx8bCxkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4obnVsbD09dD92b2lkIDA6dC5xdWVyeVNlbGVjdG9yKG4pKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl8fHdpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl9O3I9bz8iIi5jb25jYXQoRSkuY29uY2F0KG8pOiIiLmNvbmNhdChFKTt2YXIgZj1udWxsPT09KG49dC5hZ2VudEFwcC5BcHBSZWdpc3RyeS5nZXQocikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNvbnRhaW5lckRPTSxoPSJpZnJhbWVbaWQ9JyIuY29uY2F0KHIsIiddIiksZz1kKHIsZixoKTtpZihnKXRyeXtnLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3RvcGljOiJsaWZlY3ljbGUudGVybWluYXRlZCJ9LGUpLHMmJihwJiYoZy5zdHlsZS5kaXNwbGF5PSJub25lIiksY29uc29sZS5pbmZvKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGlmcmFtZSBoaWRkZW4gZm9yIHJlc29sdXRpb24gZHVyaW5nIHRlcm1pbmF0aW9uIiksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmFnZW50QXBwLnN0b3BBcHAociksZChyLGYsaCk/Y29uc29sZS53YXJuKCJbQ3VzdG9tVmlld3NdIGN1c3RvbXZpZXdzIGFwcGxpY2F0aW9uIGRpZCBub3Qgc3RvcCBzdWNjZXNzZnVsbHkgaW4gdGVybWluYXRlQ3VzdG9tVmlldyBvcGVyYXRpb24iKTpjb25zb2xlLmluZm8oIltDdXN0b21WaWV3c10gY3VzdG9tdmlld3MgYXBwbGljYXRpb24gc3VjY2Vzc2Z1bGx5IHN0b3BwZWQiKX0pLHUpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoIltDdXN0b21WaWV3c10gRXJyb3IgaW4gdGVybWluYXRlQ3VzdG9tVmlldzogIixlKX1lbHNlIGNvbnNvbGUud2FybigiW0N1c3RvbVZpZXdzXSB0ZXJtaW5hdGVDdXN0b21WaWV3IG9wZXJhdGlvbiBmYWlsZWQgZHVlIHRvIGlmcmFtZSBub3QgZm91bmQiKX0sdC5jb3JlLmluaXREaXNhc3RlclJlY292ZXJ5PWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10LmdldExvZygpO3QuY29yZS5yZWdpb249ZS5yZWdpb24sdC5jb3JlLnN1cHByZXNzQ29udGFjdHM9bnx8Xyx0LmNvcmUuZm9yY2VPZmZsaW5lPXJ8fE8sdC5jb3JlLmdldFVwc3RyZWFtKCkub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TRVRfT0ZGTElORSwoZnVuY3Rpb24oZSl7dC5pZk1hc3Rlcih0Lk1hc3RlclRvcGljcy5GQUlMT1ZFUiwoZnVuY3Rpb24oKXt0LmNvcmUuZm9yY2VPZmZsaW5lKGUmJmUuc29mdEZhaWxvdmVyKX0pKX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe3QuY29yZS5mb3JjZU9mZmxpbmUoZSYmZS5zb2Z0RmFpbG92ZXIsZSYmZS5uZXh0QWN0aXZlQXJuKX0pKX0pKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLkZBSUxPVkVSLChmdW5jdGlvbigpe28uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbml0aWFsaXppbmcgcmVnaW9uICVzIGFzIHBhcnQgb2YgYSBEaXNhc3RlciBSZWNvdmVyeSBmbGVldCIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pLChmdW5jdGlvbigpe28uaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSAlcyBhbHJlYWR5IHBhcnQgb2YgYSBEaXNhc3RlciBSZWNvdmVyeSBmbGVldCIsdC5jb3JlLnJlZ2lvbikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLnBvbGxGb3JGYWlsb3ZlciYmdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORz90LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORyx7aW5zdGFuY2VBcm46ZS5pbnN0YW5jZUFybixvdGhlckFybjplLm90aGVyQXJuLGF1dGhUb2tlbjplLmF1dGhUb2tlbn0pOmUuaXNQcmltYXJ5Pyh0LmNvcmUuc3VwcHJlc3NDb250YWN0cyghMSksby5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldICVzIGluc3RhbmNlIGlzIHNldCB0byBwcmltYXJ5Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKToodC5jb3JlLnN1cHByZXNzQ29udGFjdHMoITApLHQuY29yZS5mb3JjZU9mZmxpbmUoKSxvLmluZm8oIltEaXNhc3RlciBSZWNvdmVyeV0gJXMgaW5zdGFuY2UgaXMgc2V0IHRvIHN0YW5kLWJ5Iix0LmNvcmUucmVnaW9uKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX0sdC5jb3JlLmluaXQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzLHQuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgRCh0LmNvcmUuZ2V0RXZlbnRCdXMoKSksdC5jb3JlLmluaXRDbGllbnQoZSksdC5jb3JlLmluaXRBZ2VudEFwcENsaWVudChlKSx0LmNvcmUuaW5pdFRhc2tUZW1wbGF0ZXNDbGllbnQoZSksdC5jb3JlLmluaXRpYWxpemVkPSEwfSx0LmNvcmUuaW5pdENsaWVudD1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwicGFyYW1zIik7dmFyIG49dC5hc3NlcnROb3ROdWxsKGUuYXV0aFRva2VuLCJwYXJhbXMuYXV0aFRva2VuIikscj10LmFzc2VydE5vdE51bGwoZS5yZWdpb24sInBhcmFtcy5yZWdpb24iKSxvPWUuZW5kcG9pbnR8fG51bGw7dC5jb3JlLmNsaWVudD1uZXcgdC5BV1NDbGllbnQobixyLG8pfSx0LmNvcmUuaW5pdEFnZW50QXBwQ2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj10LmFzc2VydE5vdE51bGwoZS5hdXRoVG9rZW4sInBhcmFtcy5hdXRoVG9rZW4iKSxyPXQuYXNzZXJ0Tm90TnVsbChlLmF1dGhDb29raWVOYW1lLCJwYXJhbXMuYXV0aENvb2tpZU5hbWUiKSxvPXQuYXNzZXJ0Tm90TnVsbChlLmFnZW50QXBwRW5kcG9pbnQsInBhcmFtcy5hZ2VudEFwcEVuZHBvaW50Iik7dC5jb3JlLmFnZW50QXBwQ2xpZW50PW5ldyB0LkFnZW50QXBwQ2xpZW50KHIsbixvKX0sdC5jb3JlLmluaXRUYXNrVGVtcGxhdGVzQ2xpZW50PWZ1bmN0aW9uKGUpe3QuYXNzZXJ0Tm90TnVsbChlLCJwYXJhbXMiKTt2YXIgbj1lLnRhc2tUZW1wbGF0ZXNFbmRwb2ludHx8ZS5lbmRwb2ludDt0LmFzc2VydE5vdE51bGwobiwidGFza1RlbXBsYXRlc0VuZHBvaW50IiksdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bmV3IHQuVGFza1RlbXBsYXRlc0NsaWVudChuKX0sdC5jb3JlLnRlcm1pbmF0ZT1mdW5jdGlvbigpe3QuY29yZS5jbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUuYXBpUHJveHlDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUuYWdlbnRBcHBDbGllbnQ9bmV3IHQuTnVsbENsaWVudCx0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudD1uZXcgdC5OdWxsQ2xpZW50LHQuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHQuTnVsbENsaWVudDt2YXIgZT10LmNvcmUuZ2V0RXZlbnRCdXMoKTtlJiZlLnVuc3Vic2NyaWJlQWxsKCksdC5jb3JlLmJ1cz1uZXcgdC5FdmVudEJ1cyx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bnVsbCx0LmNvcmUuc29mdHBob25lTWFuYWdlcj1udWxsLHQuY29yZS51cHN0cmVhbT1udWxsLHQuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPW51bGwsdC5zdG9yYWdlQWNjZXNzLnJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlKCksdC5hZ2VudC5pbml0aWFsaXplZD0hMSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITF9LHQuY29yZS5zb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09bnVsbCx0LmNvcmUuc2V0U29mdHBob25lVXNlck1lZGlhU3RyZWFtPWZ1bmN0aW9uKGUpe3QuY29yZS5zb2Z0cGhvbmVVc2VyTWVkaWFTdHJlYW09ZX0sdC5jb3JlLmluaXRSaW5ndG9uZUVuZ2luZXM9ZnVuY3Rpb24obixyKXt0LmdldExvZygpLmluZm8oIltSaW5ndG9uZSBFbmdpbmVdIGluaXRSaW5ndG9uZUVuZ2luZSBzdGFydGVkIikud2l0aE9iamVjdCh7cGFyYW1zOm59KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYXNzZXJ0Tm90TnVsbChuLCJwYXJhbXMiKTt2YXIgbz1yfHxrLGk9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsInJpbmd0b25lU2V0dGluZ3MiKSx0LmFzc2VydE5vdE51bGwoZS52b2ljZSwicmluZ3RvbmVTZXR0aW5ncy52b2ljZSIpLHQuYXNzZXJ0VHJ1ZShlLnZvaWNlLnJpbmd0b25lVXJsfHxlLnZvaWNlLmRpc2FibGVkLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlLnJpbmd0b25lVXJsIG11c3QgYmUgcHJvdmlkZWQgb3IgcmluZ3RvbmVTZXR0aW5ncy52b2ljZS5kaXNhYmxlZCBtdXN0IGJlIHRydWUiKSx0LmFzc2VydE5vdE51bGwoZS5xdWV1ZV9jYWxsYmFjaywicmluZ3RvbmVTZXR0aW5ncy5xdWV1ZV9jYWxsYmFjayIpLHQuYXNzZXJ0VHJ1ZShlLnF1ZXVlX2NhbGxiYWNrLnJpbmd0b25lVXJsfHxlLnF1ZXVlX2NhbGxiYWNrLmRpc2FibGVkLCJyaW5ndG9uZVNldHRpbmdzLnZvaWNlLnJpbmd0b25lVXJsIG11c3QgYmUgcHJvdmlkZWQgb3IgcmluZ3RvbmVTZXR0aW5ncy5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZCBtdXN0IGJlIHRydWUiKSx0LmNvcmUucmluZ3RvbmVFbmdpbmVzPXt9LHQuYWdlbnQoKGZ1bmN0aW9uKG4pe24ub25SZWZyZXNoKChmdW5jdGlvbigpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dmFyIG49ITE7ZS52b2ljZS5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy52b2ljZXx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMudm9pY2U9bmV3IHQuVm9pY2VSaW5ndG9uZUVuZ2luZShlLnZvaWNlKSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiVm9pY2VSaW5ndG9uZUVuZ2luZSBpbml0aWFsaXplZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKSxlLmNoYXQuZGlzYWJsZWR8fHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuY2hhdHx8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMuY2hhdD1uZXcgdC5DaGF0UmluZ3RvbmVFbmdpbmUoZS5jaGF0KSxuPSEwLHQuZ2V0TG9nKCkuaW5mbygiQ2hhdFJpbmd0b25lRW5naW5lIGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpLGUudGFzay5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy50YXNrfHwodC5jb3JlLnJpbmd0b25lRW5naW5lcy50YXNrPW5ldyB0LlRhc2tSaW5ndG9uZUVuZ2luZShlLnRhc2spLG49ITAsdC5nZXRMb2coKS5pbmZvKCJUYXNrUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZHx8dC5jb3JlLnJpbmd0b25lRW5naW5lcy5xdWV1ZV9jYWxsYmFja3x8KHQuY29yZS5yaW5ndG9uZUVuZ2luZXMucXVldWVfY2FsbGJhY2s9bmV3IHQuUXVldWVDYWxsYmFja1Jpbmd0b25lRW5naW5lKGUucXVldWVfY2FsbGJhY2spLG49ITAsdC5nZXRMb2coKS5pbmZvKCJRdWV1ZUNhbGxiYWNrUmluZ3RvbmVFbmdpbmUgaW5pdGlhbGl6ZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksbiYmdC5jb3JlLl9yaW5nZXJEZXZpY2VJZCYmbyh7ZGV2aWNlSWQ6dC5jb3JlLl9yaW5nZXJEZXZpY2VJZH0pfSkpfSkpfSkpLEwoKX0sYT1mdW5jdGlvbihlLG4pe2UucmluZ3RvbmU9ZS5yaW5ndG9uZXx8e30sZS5yaW5ndG9uZS52b2ljZT1lLnJpbmd0b25lLnZvaWNlfHx7fSxlLnJpbmd0b25lLnF1ZXVlX2NhbGxiYWNrPWUucmluZ3RvbmUucXVldWVfY2FsbGJhY2t8fHt9LGUucmluZ3RvbmUuY2hhdD1lLnJpbmd0b25lLmNoYXR8fHtkaXNhYmxlZDohMH0sZS5yaW5ndG9uZS50YXNrPWUucmluZ3RvbmUudGFza3x8e2Rpc2FibGVkOiEwfSxuLnNvZnRwaG9uZSYmKG4uc29mdHBob25lLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUudm9pY2UuZGlzYWJsZWQ9ITAsZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjay5kaXNhYmxlZD0hMCksbi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLnZvaWNlLnJpbmd0b25lVXJsPW4uc29mdHBob25lLnJpbmd0b25lVXJsLGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2sucmluZ3RvbmVVcmw9bi5zb2Z0cGhvbmUucmluZ3RvbmVVcmwpKSxuLmNoYXQmJihuLmNoYXQuZGlzYWJsZVJpbmd0b25lJiYoZS5yaW5ndG9uZS5jaGF0LmRpc2FibGVkPSEwKSxuLmNoYXQucmluZ3RvbmVVcmwmJihlLnJpbmd0b25lLmNoYXQucmluZ3RvbmVVcmw9bi5jaGF0LnJpbmd0b25lVXJsKSksbi50YXNrJiYobi50YXNrLmRpc2FibGVSaW5ndG9uZSYmKGUucmluZ3RvbmUudGFzay5kaXNhYmxlZD0hMCksbi50YXNrLnJpbmd0b25lVXJsJiYoZS5yaW5ndG9uZS50YXNrLnJpbmd0b25lVXJsPW4udGFzay5yaW5ndG9uZVVybCkpLG4ucmluZ3RvbmUmJihlLnJpbmd0b25lLnZvaWNlPXQubWVyZ2UoZS5yaW5ndG9uZS52b2ljZSxuLnJpbmd0b25lLnZvaWNlfHx7fSksZS5yaW5ndG9uZS5xdWV1ZV9jYWxsYmFjaz10Lm1lcmdlKGUucmluZ3RvbmUucXVldWVfY2FsbGJhY2ssbi5yaW5ndG9uZS52b2ljZXx8e30pLGUucmluZ3RvbmUuY2hhdD10Lm1lcmdlKGUucmluZ3RvbmUuY2hhdCxuLnJpbmd0b25lLmNoYXR8fHt9KSxlLnJpbmd0b25lLnRhc2s9dC5tZXJnZShlLnJpbmd0b25lLnRhc2ssbi5yaW5ndG9uZS50YXNrfHx7fSkpfTtpZihhKG4sbiksdC5pc0ZyYW1lZCgpKXt2YXIgczt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihyKXtlLmNsZWFyVGltZW91dChzKSx0LmdldExvZygpLmluZm8oIltSaW5ndG9uZSBFbmdpbmVdIENvbmZpZ3VyZSBldmVudCBoYW5kbGVyIGV4ZWN1dGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0aGlzLnVuc3Vic2NyaWJlKCksYShuLHIpLEkuc2V0KG4ucmluZ3RvbmUpLGkobi5yaW5ndG9uZSl9KSk7dmFyIGM9SS5nZXQoKTtjJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtuJiZuLmlkJiYodC5nZXRMb2coKS5pbmZvKCJbUmluZ3RvbmVFbmdpbmVdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5IGFuZCB3YWl0aW5nIGZvciBjb25maWd1cmUgTWVzc2FnZSBoYW5kbGVyIHRvIGV4ZWN1dGUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMudW5zdWJzY3JpYmUoKSxzPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltSaW5ndG9uZUVuZ2luZV0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCB3aXRob3V0IGNvbmZpZ3VyZSBtZXNzYWdlICYgSW5pdGlhbGl6aW5nIHNldHVwUmluZ3RvbmVFbmdpbmVzIChSaW5ndG9uZSBFbmdpbmUpIGZyb20gbG9jYWxTdG9yYWdlIHJpbmd0b25lIHBhcmFtcy4gIikud2l0aE9iamVjdCh7cmluZ3RvbmU6Y30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaShjKX0pLDEwMCkpfSkpfWVsc2UgaShuLnJpbmd0b25lKX07dmFyIEw9ZnVuY3Rpb24oKXt0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9SSU5HRVJfREVWSUNFLGspfSxrPWZ1bmN0aW9uKCl7dmFyIGU9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuZGV2aWNlSWR8fCIiO2lmKHQuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gQXR0ZW1wdGluZyB0byBzZXQgcmluZ2VyIGRldmljZSAiLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwwPT09dC5rZXlzKHQuY29yZS5yaW5ndG9uZUVuZ2luZXMpLmxlbmd0aClyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBzZXRSaW5nZXJEZXZpY2UgY2FsbGVkIGJlZm9yZSByaW5ndG9uZSBlbmdpbmUgaXMgaW5pdGlhbGl6ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHZvaWQoZSYmKHQuY29yZS5fcmluZ2VyRGV2aWNlSWQ9ZSx0LmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIHN0b3JlZCBkZXZpY2UgSWQgZm9yIGxhdGVyIHVzZSwgb25jZSByaW5ndG9uZSBlbmdpbmUgaXMgdXAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IlNldFJpbmdlckRldmljZUJlZm9yZUluaXRSaW5ndG9uZUVuZ2luZSIsZGF0YTp7Y291bnQ6MX19KSkpO2lmKGUpe3ZhciBuPWZ1bmN0aW9uKG4pe3QuY29yZS5yaW5ndG9uZUVuZ2luZXNbbl0uc2V0T3V0cHV0RGV2aWNlKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gcmluZ3RvbmVUeXBlICIuY29uY2F0KG4sIiBzdWNjZXNzZnVsbHkgc2V0IHRvIGRldmljZWlkICIpLmNvbmNhdChlKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5lcnJvcihlKX0pKX07Zm9yKHZhciByIGluIHQuY29yZS5yaW5ndG9uZUVuZ2luZXMpbihyKTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuUklOR0VSX0RFVklDRV9DSEFOR0VELGRhdGE6e2RldmljZUlkOmV9fSl9ZWxzZSB0LmdldExvZygpLndhcm4oIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIFNldHRpbmcgcmluZ2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfTt0LmNvcmUuaW5pdFNvZnRwaG9uZU1hbmFnZXI9ZnVuY3Rpb24obil7dmFyIHI9bnx8e307dC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIGluaXRTb2Z0cGhvbmVNYW5hZ2VyIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciBuPXQubWVyZ2Uoci5zb2Z0cGhvbmV8fHt9LGUpO3QuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBjb21wZXRlRm9yTWFzdGVyT25BZ2VudFVwZGF0ZSBleGVjdXRlZCIpLndpdGhPYmplY3Qoe3NvZnRwaG9uZVBhcmFtczpufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmFnZW50KChmdW5jdGlvbihlKXtlLmdldENoYW5uZWxDb25jdXJyZW5jeSh0LkNoYW5uZWxUeXBlLlZPSUNFKSYmZS5vblJlZnJlc2goKGZ1bmN0aW9uKCl7dmFyIHI9dGhpczt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gYWdlbnQgcmVmcmVzaCBoYW5kbGVyIGV4ZWN1dGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gY29uZmlybWVkIGFzIHNvZnRwaG9uZSBtYXN0ZXIgdG9waWMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCF0LmNvcmUuc29mdHBob25lTWFuYWdlciYmZS5pc1NvZnRwaG9uZUVuYWJsZWQoKSYmKHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW5ldyB0LlNvZnRwaG9uZU1hbmFnZXIobiksci51bnN1YnNjcmliZSgpKX0pKX0pKX0pKX07aWYodC5pc0ZyYW1lZCgpJiZ0LmlzQ0NQKCkpe3ZhciBpO3QuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5DT05GSUdVUkUsKGZ1bmN0aW9uKG4pe2UuY2xlYXJUaW1lb3V0KGkpLHQuZ2V0TG9nKCkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBDb25maWd1cmUgZXZlbnQgaGFuZGxlciBleGVjdXRlZCIpLndpdGhPYmplY3Qoe2RhdGE6bn0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksVC5zZXQobi5zb2Z0cGhvbmUpLG4uc29mdHBob25lJiZuLnNvZnRwaG9uZS5hbGxvd0ZyYW1lZFNvZnRwaG9uZSYmKHRoaXMudW5zdWJzY3JpYmUoKSxvKG4uc29mdHBob25lKSkscyhuLnNvZnRwaG9uZSl9KSk7dmFyIGE9VC5nZXQoKTthJiZ0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtuJiZuLmlkJiYodC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5IGFuZCB3YWl0aW5nIGZvciBjb25maWd1cmUgTWVzc2FnZSBoYW5kbGVyIHRvIGV4ZWN1dGUiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMudW5zdWJzY3JpYmUoKSxpPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmdldExvZygpLmluZm8oIltTb2Z0cGhvbmUgTWFuYWdlcl0gRW1iZWRkZWQgQ0NQIGlzIHJlZnJlc2hlZCB3aXRob3V0IGNvbmZpZ3VyZSBtZXNzYWdlIGhhbmRsZXIgZXhlY3V0aW9uIikud2l0aE9iamVjdCh7c29mdHBob25lUGFyYW1zRnJvbUxvY2FsU3RvcmFnZTphfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6IkVtYmVkZGVkQ0NQUmVmcmVzaGVkV2l0aG91dEluaXRDQ1AiLGRhdGE6e2NvdW50OjF9fSkscyhhKSxhLmFsbG93RnJhbWVkU29mdHBob25lJiYodC5nZXRMb2coKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIEVtYmVkZGVkIENDUCBpcyByZWZyZXNoZWQgJiBJbml0aWFsaXppbmcgY29tcGV0ZUZvck1hc3Rlck9uQWdlbnRVcGRhdGUgKFNvZnRwaG9uZSBtYW5hZ2VyKSBmcm9tIGxvY2FsU3RvcmFnZSBzb2Z0cGhvbmUgcGFyYW1zIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxvKGEpKX0pLDEwMCkpfSkpfWVsc2UgbyhyKSxzKHIpO2Z1bmN0aW9uIHMoZSl7dmFyIG49dC5tZXJnZShyLnNvZnRwaG9uZXx8e30sZSk7dC5jb3JlLnNvZnRwaG9uZVBhcmFtcz1uLHQuaXNGaXJlZm94QnJvd3NlcigpJiYodC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0UsKGZ1bmN0aW9uKGUpe2UuZGF0YSYmZS5kYXRhLnRvcGljPT09dC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FJiZlLmRhdGEudGFrZU92ZXImJmUuZGF0YS5tYXN0ZXJJZCE9PXQuY29yZS5wb3J0U3RyZWFtSWQmJnQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiYodC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIub25Jbml0Q29udGFjdFN1Yi51bnN1YnNjcmliZSgpLGRlbGV0ZSB0LmNvcmUuc29mdHBob25lTWFuYWdlcil9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OLChmdW5jdGlvbigpe3QuaWZNYXN0ZXIodC5NYXN0ZXJUb3BpY3MuU09GVFBIT05FLChmdW5jdGlvbigpe3QuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyJiZ0LmNvcmUuc29mdHBob25lTWFuYWdlci5zdGFydFNlc3Npb24oKX0pLChmdW5jdGlvbigpe3QuYmVjb21lTWFzdGVyKHQuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXt0LmFnZW50KChmdW5jdGlvbihlKXshdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXImJmUuaXNTb2Z0cGhvbmVFbmFibGVkKCkmJih0LmJlY29tZU1hc3Rlcih0Lk1hc3RlclRvcGljcy5TRU5EX0xPR1MpLHQuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyPW5ldyB0LlNvZnRwaG9uZU1hbmFnZXIobiksdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXIuc3RhcnRTZXNzaW9uKCkpfSkpfSkpfSkpfSkpLHQuY29udGFjdCgoZnVuY3Rpb24oZSl7dC5hZ2VudCgoZnVuY3Rpb24obil7ZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2lmKHQuaGFzT3RoZXJDb25uZWN0ZWRDQ1BzKCkmJiJ2aXNpYmxlIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmKGUuZ2V0U3RhdHVzKCkudHlwZT09PXQuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElOR3x8ZS5nZXRTdGF0dXMoKS50eXBlPT09dC5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlORykpe3ZhciByPWUuaXNTb2Z0cGhvbmVDYWxsKCkmJiFlLmlzSW5ib3VuZCgpLG89ZS5pc1NvZnRwaG9uZUNhbGwoKSYmbi5nZXRDb25maWd1cmF0aW9uKCkuc29mdHBob25lQXV0b0FjY2VwdCxpPWUuZ2V0VHlwZSgpPT09dC5Db250YWN0VHlwZS5RVUVVRV9DQUxMQkFDSzsocnx8b3x8aSkmJnQuY29yZS50cmlnZ2VyUmVhZHlUb1N0YXJ0U2Vzc2lvbkV2ZW50KCl9fSkpfSkpfSkpKX10LmFnZW50KChmdW5jdGlvbihlKXtlLmlzU29mdHBob25lRW5hYmxlZCgpJiZlLmdldENoYW5uZWxDb25jdXJyZW5jeSh0LkNoYW5uZWxUeXBlLlZPSUNFKSYmdC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6dC5FdmVudFR5cGUuTVVURX0pfSkpfSx0LmNvcmUudHJpZ2dlclJlYWR5VG9TdGFydFNlc3Npb25FdmVudD1mdW5jdGlvbigpe3ZhciBlPXQuY29yZS5zb2Z0cGhvbmVQYXJhbXMmJnQuY29yZS5zb2Z0cGhvbmVQYXJhbXMuYWxsb3dGcmFtZWRTb2Z0cGhvbmU7dC5pc0NDUCgpP2U/dC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6dC5pc0ZyYW1lZCgpP3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmREb3duc3RyZWFtKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTp0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuQ29ubmVjdGlvbkV2ZW50cy5SRUFEWV9UT19TVEFSVF9TRVNTSU9OKTplP3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTik6dC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkNvbm5lY3Rpb25FdmVudHMuUkVBRFlfVE9fU1RBUlRfU0VTU0lPTil9LHQuY29yZS5pbml0UGFnZU9wdGlvbnM9ZnVuY3Rpb24oZSl7aWYodC5hc3NlcnROb3ROdWxsKGUsInBhcmFtcyIpLHQuaXNGcmFtZWQoKSl7dmFyIG49dC5jb3JlLmdldEV2ZW50QnVzKCk7bi5zdWJzY3JpYmUodC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNvbmZpZ3VyYXRpb25FdmVudHMuQ09ORklHVVJFLGRhdGE6ZX0pfSkpLG4uc3Vic2NyaWJlKHQuRXZlbnRUeXBlLk1FRElBX0RFVklDRV9SRVFVRVNULChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFU1BPTlNFLGUpfW5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcz9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtkZXZpY2VzPXR8fFtdLGRldmljZXM9ZGV2aWNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSkpLGUoZGV2aWNlcyl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2Uoe2Vycm9yOnQubWVzc2FnZX0pfSkpOmUoe2Vycm9yOiJObyBuYXZpZ2F0b3Igb3IgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBvYmplY3QgZm91bmQifSl9KSl9fSx0LmNvcmUuaW5pdEFwaVByb3h5U2VydmljZT1mdW5jdGlvbigpe3QuY29yZS5hcGlQcm94eUNsaWVudD1uZXcgdC5BcGlQcm94eUNsaWVudCx0LmlzRnJhbWVkKCkmJih0LmNvcmUuaGFuZGxlQXBpUHJveHlSZXF1ZXN0PWZ1bmN0aW9uKGUpe251bGwhPWUmJmUubWV0aG9kJiZ0LmNvcmUuZ2V0QXBpUHJveHlDbGllbnQoKS5jYWxsKGUubWV0aG9kLGUucGFyYW1zLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciByPXtkYXRhOm4scmVxdWVzdElkOmUucmVxdWVzdElkfTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BUElfUkVTUE9OU0Uscil9LGZhaWx1cmU6ZnVuY3Rpb24obil7dmFyIHI9e2VycjpuLHJlcXVlc3RJZDplLnJlcXVlc3RJZH07dC5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLHIpfX0pfSl9LHQuY29yZS5nZXRGcmFtZU1lZGlhRGV2aWNlcz1mdW5jdGlvbihlKXt2YXIgbj1udWxsLHI9ZXx8MWUzLG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0KG5ldyBFcnJvcigiVGltZW91dCBleGNlZWRlZCIpKX0pLHIpfSkpLGk9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7aWYodC5pc0NDUCgpKW5hdmlnYXRvciYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcz9uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChmdW5jdGlvbih0KXtkZXZpY2VzPXR8fFtdLGRldmljZXM9ZGV2aWNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTigpfSkpLGUoZGV2aWNlcyl9KSk6cihuZXcgRXJyb3IoIk5vIG5hdmlnYXRvciBvciBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzIG9iamVjdCBmb3VuZCIpKTtlbHNle3ZhciBvPXQuY29yZS5nZXRFdmVudEJ1cygpO249by5zdWJzY3JpYmUodC5FdmVudFR5cGUuTUVESUFfREVWSUNFX1JFU1BPTlNFLChmdW5jdGlvbih0KXt0LmVycm9yP3IobmV3IEVycm9yKHQuZXJyb3IpKTplKHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5NRURJQV9ERVZJQ0VfUkVRVUVTVCl9fSkpO3JldHVybiBQcm9taXNlLnJhY2UoW2ksb10pLmZpbmFsbHkoKGZ1bmN0aW9uKCl7biYmbi51bnN1YnNjcmliZSgpfSkpfSx0LmNvcmUuYXV0aG9yaXplPWZ1bmN0aW9uKGUpe3ZhciBuPWU7cmV0dXJuIG58fChuPXQuY29yZS5pc0xlZ2FjeURvbWFpbigpP2Q6bCksdC5mZXRjaChuLHtjcmVkZW50aWFsczoiaW5jbHVkZSJ9LDJlMyw1KX0sdC5jb3JlLnZlcmlmeURvbWFpbkFjY2Vzcz1mdW5jdGlvbihlLG4pe2lmKHQuZ2V0TG9nKCkud2FybigiVGhpcyBBUEkgd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gcmVsZWFzZSIpLCF0LmlzRnJhbWVkKCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3ZhciByPXtoZWFkZXJzOnsiWC1BbXotQmVhcmVyIjplfX0sbz1udWxsO3JldHVybiBvPW58fCh0LmNvcmUuaXNMZWdhY3lEb21haW4oKT8iL2Nvbm5lY3Qvd2hpdGVsaXN0ZWQtb3JpZ2lucyI6Ii93aGl0ZWxpc3RlZC1vcmlnaW5zIiksdC5mZXRjaChvLHIsMmUzLDUpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PXcod2luZG93LmRvY3VtZW50LnJlZmVycmVyKTtyZXR1cm4gZS53aGl0ZWxpc3RlZE9yaWdpbnMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT13KGUpfSkpP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVqZWN0KCl9KSl9LHQuY29yZS5pc0xlZ2FjeURvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4oZT1lfHx3aW5kb3cubG9jYXRpb24uaHJlZikuaW5jbHVkZXMoIi5hd3NhcHBzLmNvbSIpfSx0LmNvcmUuaW5pdFNoYXJlZFdvcmtlcj1mdW5jdGlvbihuKXtpZih0LmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCF0LmNvcmUuaW5pdGlhbGl6ZWQpe3QuYXNzZXJ0Tm90TnVsbChuLCJwYXJhbXMiKTt2YXIgcj10LmFzc2VydE5vdE51bGwobi5zaGFyZWRXb3JrZXJVcmwsInBhcmFtcy5zaGFyZWRXb3JrZXJVcmwiKSxvPXQuYXNzZXJ0Tm90TnVsbChuLmF1dGhUb2tlbiwicGFyYW1zLmF1dGhUb2tlbiIpLGk9dC5hc3NlcnROb3ROdWxsKG4ucmVmcmVzaFRva2VuLCJwYXJhbXMucmVmcmVzaFRva2VuIiksYT10LmFzc2VydE5vdE51bGwobi5hdXRoVG9rZW5FeHBpcmF0aW9uLCJwYXJhbXMuYXV0aFRva2VuRXhwaXJhdGlvbiIpLHM9dC5hc3NlcnROb3ROdWxsKG4ucmVnaW9uLCJwYXJhbXMucmVnaW9uIiksYz1uLmVuZHBvaW50fHxudWxsLHU9bi5hdXRob3JpemVFbmRwb2ludDt1fHwodT10LmNvcmUuaXNMZWdhY3lEb21haW4oKT9kOmwpO3ZhciBwPW4uYWdlbnRBcHBFbmRwb2ludHx8bnVsbCxmPW4udGFza1RlbXBsYXRlc0VuZHBvaW50fHxudWxsLGg9bi5hdXRoQ29va2llTmFtZXx8bnVsbDt0cnl7dC5jb3JlLmV2ZW50QnVzPW5ldyB0LkV2ZW50QnVzKHtsb2dFdmVudHM6ITB9KSx0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXI9bmV3IEQodC5jb3JlLmdldEV2ZW50QnVzKCkpLHQuY29yZS5tZWRpYUZhY3Rvcnk9bmV3IHQuTWVkaWFGYWN0b3J5KG4pO3ZhciBnPW5ldyBTaGFyZWRXb3JrZXIociwiQ29ubmVjdFNoYXJlZFdvcmtlciIpLG09bmV3IHQuQ29uZHVpdCgiQ29ubmVjdFNoYXJlZFdvcmtlckNvbmR1aXQiLG5ldyB0LlBvcnRTdHJlYW0oZy5wb3J0KSxuZXcgdC5XaW5kb3dJT1N0cmVhbSh3aW5kb3cscGFyZW50KSk7dC5jb3JlLnVwc3RyZWFtPW0sdC5jb3JlLndlYlNvY2tldFByb3ZpZGVyPW5ldyBQLGUub251bmxvYWQ9ZnVuY3Rpb24oKXttLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5DTE9TRSksZy5wb3J0LmNsb3NlKCl9LHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbUxvZ1B1c2gobSksdC5nZXRMb2coKS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2goKSxtLm9uQWxsVXBzdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLG0ub25BbGxVcHN0cmVhbShtLnBhc3NEb3duc3RyZWFtKCkpLHQuaXNGcmFtZWQoKSYmKG0ub25BbGxEb3duc3RyZWFtKHQuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSxtLm9uQWxsRG93bnN0cmVhbSgoZnVuY3Rpb24oZSxuKXtuPT09dC5FdmVudFR5cGUuQVBJX1JFUVVFU1QmJnQuY29udGFpbnNWYWx1ZSh0LkFwaVByb3h5Q2xpZW50TWV0aG9kcyxudWxsPT1lP3ZvaWQgMDplLm1ldGhvZCk/dC5jb3JlLmhhbmRsZUFwaVByb3h5UmVxdWVzdChlKTptLnBhc3NVcHN0cmVhbSgpKGUsbil9KSkpLG0uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSx7YXV0aFRva2VuOm8sYXV0aFRva2VuRXhwaXJhdGlvbjphLGVuZHBvaW50OmMscmVmcmVzaFRva2VuOmkscmVnaW9uOnMsYXV0aG9yaXplRW5kcG9pbnQ6dSxhZ2VudEFwcEVuZHBvaW50OnAsdGFza1RlbXBsYXRlc0VuZHBvaW50OmYsYXV0aENvb2tpZU5hbWU6aCxsb25nUG9sbGluZ09wdGlvbnM6bi5sb25nUG9sbGluZ09wdGlvbnN8fHZvaWQgMH0pLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJBY2tub3dsZWRnZWQgYnkgdGhlIENvbm5lY3RTaGFyZWRXb3JrZXIhIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLl9zZXRUYWJJZCgpLHQuY29yZS5wb3J0U3RyZWFtSWQ9ZS5pZCx0aGlzLnVuc3Vic2NyaWJlKCl9KSksbS5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLG0ub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLChmdW5jdGlvbihlKXt0LmdldExvZygpLnNlbmRJbnRlcm5hbExvZ0VudHJ5VG9TZXJ2ZXIodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSxtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLChmdW5jdGlvbihlKXt0LmlzRnJhbWVkKCkmJkFycmF5LmlzQXJyYXkoZSkmJmUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5zZW5kSW50ZXJuYWxMb2dFbnRyeVRvU2VydmVyKHQuTG9nRW50cnkuZnJvbU9iamVjdChlKSl9KSl9KSksbS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuTE9HLChmdW5jdGlvbihlKXt0LmlzRnJhbWVkKCkmJmUubG9nZ2VySWQhPT10LmdldExvZygpLmdldExvZ2dlcklkKCkmJnQuZ2V0TG9nKCkuYWRkTG9nRW50cnkodC5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSx0LmNvcmUub25BdXRoRmFpbCh0LmhpdGNoKHQuY29yZSx0LmNvcmUuX2hhbmRsZUF1dGhGYWlsLG4ubG9naW5FbmRwb2ludHx8bnVsbCx1KSksdC5jb3JlLm9uQXV0aG9yaXplU3VjY2Vzcyh0LmhpdGNoKHQuY29yZSx0LmNvcmUuX2hhbmRsZUF1dGhvcml6ZVN1Y2Nlc3MpKSx0LmdldExvZygpLmluZm8oIlVzZXIgQWdlbnQ6ICIrbmF2aWdhdG9yLnVzZXJBZ2VudCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oImlzQ0NQdjI6ICIrITApLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5nZXRMb2coKS5pbmZvKCJpc0ZyYW1lZDogIit0LmlzRnJhbWVkKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLnVwc3RyZWFtLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5PVVRFUl9DT05URVhUX0lORk8sKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3RyZWFtc1ZlcnNpb258fG51bGw7dC5nZXRMb2coKS5pbmZvKCJTdHJlYW1zSlMgVmVyc2lvbjogIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQub3V0ZXJDb250ZXh0U3RyZWFtc1ZlcnNpb249bn0pKSxtLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oIk51bWJlciBvZiBjb25uZWN0ZWQgQ0NQcyB1cGRhdGVkOiAiK2UubGVuZ3RoKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RoLGVbdC5jb3JlLnRhYklkXSYmIWlzTmFOKGVbdC5jb3JlLnRhYklkXS5sZW5ndGgpJiZ0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYiE9PWVbdC5jb3JlLnRhYklkXS5sZW5ndGgmJih0Lm51bWJlck9mQ29ubmVjdGVkQ0NQc0luVGhpc1RhYj1lW3QuY29yZS50YWJJZF0ubGVuZ3RoLHQubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzSW5UaGlzVGFiPjEmJnQuZ2V0TG9nKCkud2FybigiVGhlcmUgYXJlICIrdC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWIrIiBjb25uZWN0ZWQgQ0NQcyBpbiB0aGlzIHRhYi4gUGxlYXNlIGFkanVzdCB5b3VyIGltcGxlbWVudGF0aW9uIHRvIGF2b2lkIGNvbXBsaWNhdGlvbnMuIElmIHlvdSBhcmUgZW1iZWRkaW5nIENDUCwgcGxlYXNlIGRvIHNvIGV4Y2x1c2l2ZWx5IHdpdGggaW5pdENDUC4gSW5pdENDUCB3aWxsIG5vdCBsZXQgeW91IGVtYmVkIG1vcmUgdGhhbiBvbmUgQ0NQLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJDb25uZWN0ZWRDQ1BTaW5nbGVUYWJDb3VudCIsZGF0YTp7Y291bnQ6dC5udW1iZXJPZkNvbm5lY3RlZENDUHNJblRoaXNUYWJ9fSkpLGUudGFiSWQmJmUuc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyJiZ0LmlmTWFzdGVyKHQuTWFzdGVyVG9waWNzLk1FVFJJQ1MsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuYWdlbnQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQucHVibGlzaE1ldHJpYyh7bmFtZToiQ0NQVGFic0Fjcm9zc0Jyb3dzZXJDb3VudCIsZGF0YTp7dGFiSWQ6ZS50YWJJZCxjb3VudDplLnN0cmVhbXNUYWJzQWNyb3NzQnJvd3Nlcn19KX0pKX0pKX0pKSx0LmNvcmUuY2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdENsaWVudChtKSx0LmNvcmUubWFzdGVyQ2xpZW50PW5ldyB0LlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChtKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuVEVSTUlOQVRFLG0ucGFzc1Vwc3RyZWFtKCkpLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5URVJNSU5BVEVELChmdW5jdGlvbigpe3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoITApfSkpLGcucG9ydC5zdGFydCgpLG0ub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5hZ2VudCgoZnVuY3Rpb24oKXsobmV3IHQuVm9pY2VJZCkuZ2V0RG9tYWluSWQoKS50aGVuKChmdW5jdGlvbihlKXt0LmdldExvZygpLmluZm8oInZvaWNlSWQgZG9tYWluSWQgc3VjY2Vzc2Z1bGx5IGZldGNoZWQgYXQgYWdlbnQgaW5pdGlhbGl6YXRpb246ICIrZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5pbmZvKCJ2b2ljZUlkIGRvbWFpbklkIG5vdCBmZXRjaGVkIGF0IGFnZW50IGluaXRpYWxpemF0aW9uIikud2l0aE9iamVjdCh7ZXJyOmV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfSkpLHQuY29yZS5nZXROb3RpZmljYXRpb25NYW5hZ2VyKCkucmVxdWVzdFBlcm1pc3Npb24oKSxtLm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9ESVNBU1RFUl9SRUNPVkVSWSwoZnVuY3Rpb24oZSl7dC5jb3JlLmluaXREaXNhc3RlclJlY292ZXJ5KGUpfSkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkZhaWxlZCB0byBpbml0aWFsaXplIHRoZSBBUEkgc2hhcmVkIHdvcmtlciwgd2UncmUgZGVhZCEiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fX0sdC5jb3JlLl9zZXRUYWJJZD1mdW5jdGlvbigpe3RyeXt0LmNvcmUudGFiSWQ9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuVEFCX0lEKSx0LmNvcmUudGFiSWR8fCh0LmNvcmUudGFiSWQ9dC5yYW5kb21JZCgpLHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLlRBQl9JRCx0LmNvcmUudGFiSWQpKSx0LmNvcmUudXBzdHJlYW0uc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlRBQl9JRCx7dGFiSWQ6dC5jb3JlLnRhYklkfSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiW1RhYiBJZF0gVGhlcmUgd2FzIGFuIGlzc3VlIHNldHRpbmcgdGhlIHRhYiBJZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5pbml0Q0NQPWZ1bmN0aW9uKHIsbyl7dmFyIGksdTtpZih0LmNvcmUuY2hlY2tOb3RJbml0aWFsaXplZCgpLCF0LmNvcmUuaW5pdGlhbGl6ZWQpe3QuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBsPURhdGUubm93KCk7dHJ5e2lmKHQuY29yZS5fZ2V0Q0NQSWZyYW1lKCkpcmV0dXJuIHZvaWQgdC5nZXRMb2coKS5lcnJvcigiQXR0ZW1wdGVkIHRvIGNhbGwgaW5pdENDUCB3aGVuIGFuIGlmcmFtZSBnZW5lcmF0ZWQgYnkgaW5pdENDUCBhbHJlYWR5IGV4aXN0cyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgaWYgaW5pdENDUCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX12YXIgcD17fSxkPXZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIG8/cC5jY3BVcmw9bzoocD1vKS5wcm92aWRlciYmKGQ9cC5wcm92aWRlcixkZWxldGUgcC5wcm92aWRlciksdC5hc3NlcnROb3ROdWxsKHIsImNvbnRhaW5lckRpdiIpLHQuYXNzZXJ0Tm90TnVsbChwLmNjcFVybCwicGFyYW1zLmNjcFVybCIpLGQpdHJ5e3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT17cHJvdmlkZXI6ZCxpc1N0cmVhbXNQcm92aWRlcjohMX0sdC5nZXRMb2coKS5pbmZvKCJVc2luZyBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoT2JqZWN0KHtwcm92aWRlcklkOnQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YS5wcm92aWRlci5pZCxwcm92aWRlclR5cGU6dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhLnByb3ZpZGVyLmNvbnN0cnVjdG9yLm5hbWV9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIHdoZW4gc2V0dGluZyB1cCBBbWF6b25Db25uZWN0UHJvdmlkZXIgZnJvbSBwYXJhbXMiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ZWxzZSB0cnl7dmFyIGg9big3ODEpLkFtYXpvbkNvbm5lY3RTdHJlYW1zU2l0ZSxtPXtpbnN0YW5jZVVybDpuZXcgVVJMKHAuY2NwVXJsKS5vcmlnaW59O3QuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YT1zKHMoe30saC5pbml0KG0pKSx7fSx7aXNTdHJlYW1zUHJvdmlkZXI6ITB9KSx0LmdldExvZygpLmluZm8oIkNyZWF0ZWQgQW1hem9uQ29ubmVjdFN0cmVhbXNTaXRlIikud2l0aE9iamVjdCh7cHJvdmlkZXJJZDp0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuaWR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIHdoZW4gc2V0dGluZyB1cCBBbWF6b25Db25uZWN0U3RyZWFtc1NpdGUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9dC5jb3JlLmlmcmFtZVN0eWxlPXAuc3R5bGV8fCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyIsbnVsbCE9PShpPXAuc29mdHBob25lKSYmdm9pZCAwIT09aSYmaS5kaXNhYmxlU3RvcmluZ1BhcmFtc0luTG9jYWxTdG9yYWdlfHwoVC5jbGVhbigpLEkuY2xlYW4oKSk7dmFyIHksRSxTLEMsdz1udWxsO2lmKCEwPT09KG51bGw9PT0odT1wKXx8dm9pZCAwPT09dT92b2lkIDA6dS5lbmFibGVHbG9iYWxSZXNpbGllbmN5KSlpZigic3RyaW5nIiE9dHlwZW9mKG51bGw9PT0oeT1wKXx8dm9pZCAwPT09eT92b2lkIDA6eS5zZWNvbmRhcnlDQ1BVcmwpfHwiIj09PShudWxsPT09KEU9cCl8fHZvaWQgMD09PUU/dm9pZCAwOkUuc2Vjb25kYXJ5Q0NQVXJsKSl7dmFyIEE9ImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCwgYnV0IHNlY29uZGFyeUNDUFVybCB3YXMgbm90IHByb3ZpZGVkLiBHbG9iYWwgUmVzaWxpZW5jeSB3aWxsIG5vdCBiZSBlbmFibGVkIjt0LmdldExvZygpLmVycm9yKEEpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdz17ZXZlbnQ6dC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixkYXRhOm5ldyBFcnJvcihBKX19ZWxzZXtpZigic3RyaW5nIj09dHlwZW9mKG51bGw9PT0oUz1wKXx8dm9pZCAwPT09Uz92b2lkIDA6Uy5sb2dpblVybCkmJiIiIT09KG51bGw9PT0oQz1wKXx8dm9pZCAwPT09Qz92b2lkIDA6Qy5sb2dpblVybCkpcmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiZW5hYmxlR2xvYmFsUmVzaWxpZW5jeSBmbGFnIHdhcyBlbmFibGVkIGFuZCBzZWNvbmRhcnlDQ1BVcmwgYW5kIGxvZ2luVXJsIHdhcyBwcm92aWRlZC4gR2xvYmFsIFJlc2lsaWVuY3kgd2lsbCBiZSBlbmFibGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0Lmdsb2JhbFJlc2lsaWVuY3kuaW5pdEdSQ0NQKHIsbyk7dmFyIFI9ImVuYWJsZUdsb2JhbFJlc2lsaWVuY3kgZmxhZyB3YXMgZW5hYmxlZCwgYnV0IGxvZ2luVXJsIHdhcyBub3QgcHJvdmlkZWQuIEdsb2JhbCBSZXNpbGllbmN5IHdpbGwgbm90IGJlIGVuYWJsZWQiO3QuZ2V0TG9nKCkuZXJyb3IoUikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx3PXtldmVudDp0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0VSUk9SLGRhdGE6bmV3IEVycm9yKFIpfX10LnN0b3JhZ2VBY2Nlc3MuaW5pdChwLmNjcFVybCxyLHAuc3RvcmFnZUFjY2Vzc3x8e30pO3ZhciBPPXQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKHIscCksTD1uZXcgdC5JRnJhbWVDb25kdWl0KHAuY2NwVXJsLHdpbmRvdyxPKTt0LmNvcmUudXBzdHJlYW09TCx0LmNvcmUuZXZlbnRCdXM9bmV3IHQuRXZlbnRCdXMoe2xvZ0V2ZW50czohMX0pLHQuc3RvcmFnZUFjY2Vzcy5jYW5SZXF1ZXN0KCk/dC5zdG9yYWdlQWNjZXNzLnNldHVwUmVxdWVzdEhhbmRsZXJzKHtvbkdyYW50Omt9KTprKCl9ZnVuY3Rpb24gaygpe3QuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgRCh0LmNvcmUuZ2V0RXZlbnRCdXMoKSksdC5jb3JlLm1lZGlhRmFjdG9yeT1uZXcgdC5NZWRpYUZhY3RvcnkocCksdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShPLEwpLHQuY29yZS53ZWJTb2NrZXRQcm92aWRlcj1uZXcgUCxMLm9uQWxsVXBzdHJlYW0odC5jb3JlLmdldEV2ZW50QnVzKCkuYnJpZGdlKCkpLHQuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPW5ldyBOKEwsdC5jb3JlLmdldEV2ZW50QnVzKCkscC5jY3BTeW5UaW1lb3V0fHwxZTMscC5jY3BBY2tUaW1lb3V0fHwzZTMpLHQuY29yZS5pZnJhbWVSZWZyZXNoVGltZW91dD1udWxsLHQuY29yZS5jY3BMb2FkVGltZW91dEluc3RhbmNlPWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZT1udWxsLHQuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIodC5FdmVudFR5cGUuQUNLX1RJTUVPVVQpLHQuZ2V0TG9nKCkuaW5mbygiQ0NQIExvYWRUaW1lb3V0IHRyaWdnZXJlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSxwLmNjcExvYWRUaW1lb3V0fHw1ZTMpLHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUExvZ3NQdXNoKEwpLHQuZ2V0TG9nKCkuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1B1c2goTCksTC5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkFDS05PV0xFREdFLChmdW5jdGlvbihuKXtpZih0LmdldExvZygpLmluZm8oIkFja25vd2xlZGdlZCBieSB0aGUgQ0NQISIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRDbGllbnQoTCksdC5jb3JlLm1hc3RlckNsaWVudD1uZXcgdC5VcHN0cmVhbUNvbmR1aXRNYXN0ZXJDbGllbnQoTCksdC5jb3JlLnBvcnRTdHJlYW1JZD1uLmlkLChwLnNvZnRwaG9uZXx8cC5jaGF0fHxwLnRhc2t8fHAucGFnZU9wdGlvbnN8fHAuc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzfHxwLmRpc2FzdGVyUmVjb3ZlcnlPbikmJkwuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLkNPTkZJR1VSRSx7c29mdHBob25lOnAuc29mdHBob25lLGNoYXQ6cC5jaGF0LHRhc2s6cC50YXNrLHBhZ2VPcHRpb25zOnAucGFnZU9wdGlvbnMsc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzOnAuc2hvdWxkQWRkTmFtZXNwYWNlVG9Mb2dzLGRpc2FzdGVyUmVjb3ZlcnlPbjpwLmRpc2FzdGVyUmVjb3ZlcnlPbn0pLHAuZGlzYXN0ZXJSZWNvdmVyeU9uJiYodC5jb3JlLnJlZ2lvbj1wLnJlZ2lvbix0LmNvcmUuc3VwcHJlc3NDb250YWN0cz1fLHQuY29yZS5mb3JjZU9mZmxpbmU9ZnVuY3Rpb24oZSl7TC5zZW5kVXBzdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLlNFVF9PRkZMSU5FLGUpfSxMLnNlbmRVcHN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9ESVNBU1RFUl9SRUNPVkVSWSxwKSksdC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UmJihlLmNsZWFyVGltZW91dCh0LmNvcmUuY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSksdC5jb3JlLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCksTC5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuT1VURVJfQ09OVEVYVF9JTkZPLHtzdHJlYW1zVmVyc2lvbjp0LnZlcnNpb259KSx0LmNvcmUua2VlcGFsaXZlTWFuYWdlci5zdGFydCgpLHRoaXMudW5zdWJzY3JpYmUoKSx0LmNvcmUuaW5pdGlhbGl6ZWQ9ITAsdC5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcih0LkV2ZW50VHlwZS5JTklUKSx3JiZ0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHcuZXZlbnQsdy5kYXRhKSxsKXt2YXIgcj1EYXRlLm5vdygpLWwsbz10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHR8fDA7dC5nZXRMb2coKS5pbmZvKCJJZnJhbWUgaW5pdGlhbGl6YXRpb24gc3VjY2VlZGVkIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiB0aW1lICIuY29uY2F0KHIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQobykpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZixkYXRhOntjb3VudDpvfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTp2LGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWUiLGRhdGE6e2NvdW50OnJ9fSkscC5kaXNhc3RlclJlY292ZXJ5T24mJih0LnB1Ymxpc2hNZXRyaWMoe25hbWU6ZyxkYXRhOntjb3VudDpvfX0pLHQucHVibGlzaE1ldHJpYyh7bmFtZTpiLGRhdGE6e2NvdW50OjF9fSksdC5wdWJsaXNoTWV0cmljKHtuYW1lOiJJZnJhbWVJbml0aWFsaXphdGlvblRpbWVEciIsZGF0YTp7Y291bnQ6cn19KSksbD1udWxsfSksMWUzKX19KSksTC5vblVwc3RyZWFtKHQuRXZlbnRUeXBlLkxPRywoZnVuY3Rpb24oZSl7ZS5sb2dnZXJJZCE9PXQuZ2V0TG9nKCkuZ2V0TG9nZ2VySWQoKSYmdC5nZXRMb2coKS5hZGRMb2dFbnRyeSh0LkxvZ0VudHJ5LmZyb21PYmplY3QoZSkpfSkpLHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5BQ0tfVElNRU9VVCwoZnVuY3Rpb24oKXtpZighMSE9PXAubG9naW5Qb3B1cCl0cnl7dmFyIG49ZnVuY3Rpb24obil7dmFyIHI9Imh0dHBzOi8vbGlseS51cy1lYXN0LTEuYW1hem9uYXdzLmNvbS90YXcvYXV0aC9jb2RlIjtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKHIpLG4ubG9naW5Vcmw/bi5sb2dpblVybDpuLmFsaWFzPyhsb2cud2FybigiVGhlIGBhbGlhc2AgcGFyYW0gaXMgZGVwcmVjYXRlZCBhbmQgc2hvdWxkIG5vdCBiZSBleHBlY3RlZCB0byBmdW5jdGlvbiBwcm9wZXJseS4gUGxlYXNlIHVzZSBgY2NwVXJsYCBvciBgbG9naW5VcmxgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FtYXpvbi1jb25uZWN0L2FtYXpvbi1jb25uZWN0LXN0cmVhbXMvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kI2Nvbm5lY3Rjb3JlaW5pdGNjcCBmb3IgdmFsaWQgcGFyYW1ldGVycy4iKSxhLnJlcGxhY2UoInthbGlhc30iLG4uYWxpYXMpLnJlcGxhY2UoIntjbGllbnRfaWR9IixjKS5yZXBsYWNlKCJ7cmVkaXJlY3R9IixlLmVuY29kZVVSSUNvbXBvbmVudChyKSkpOm4uY2NwVXJsfShwKTt0LmdldExvZygpLndhcm4oIkFDS19USU1FT1VUIG9jY3VycmVkLCBhdHRlbXB0aW5nIHRvIHBvcCB0aGUgbG9naW4gcGFnZSBpZiBub3QgYWxyZWFkeSBvcGVuLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9vcGVuUG9wdXBXaXRoTG9jayhuLHAubG9naW5PcHRpb25zKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJBQ0tfVElNRU9VVCBvY2N1cnJlZCBidXQgd2UgYXJlIHVuYWJsZSB0byBvcGVuIHRoZSBsb2dpbiBwb3B1cC4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9aWYobnVsbD09dC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0KXRyeXtMLm9uVXBzdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZSgpLGUuY2xlYXJUaW1lb3V0KHQuY29yZS5pZnJhbWVSZWZyZXNoVGltZW91dCksdC5jb3JlLmlmcmFtZVJlZnJlc2hUaW1lb3V0PW51bGwsKHAubG9naW5Qb3B1cEF1dG9DbG9zZXx8cC5sb2dpbk9wdGlvbnMmJnAubG9naW5PcHRpb25zLmF1dG9DbG9zZSkmJnQuY29yZS5sb2dpbldpbmRvdyYmKHQuY29yZS5sb2dpbldpbmRvdy5jbG9zZSgpLHQuY29yZS5sb2dpbldpbmRvdz1udWxsKX0pKSx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQocCxyKX1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJFcnJvciBvY2N1cnJlZCB3aGlsZSByZWZyZXNoaW5nIGlmcmFtZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSkscC5vblZpZXdDb250YWN0JiZ0LmNvcmUub25WaWV3Q29udGFjdChwLm9uVmlld0NvbnRhY3QpLEwub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3QubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLEwub25VcHN0cmVhbSh0LlZvaWNlSWRFdmVudHMuVVBEQVRFX0RPTUFJTl9JRCwoZnVuY3Rpb24oZSl7ZSYmZS5kb21haW5JZCYmKHQuY29yZS52b2ljZUlkRG9tYWluSWQ9ZS5kb21haW5JZCl9KSksdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oKXtpZihsKXt2YXIgZT10LmNvcmUuaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTt0LmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLWwpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5wdWJsaXNoTWV0cmljKHtuYW1lOmYsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6dixkYXRhOntjb3VudDowfX0pLHAuZGlzYXN0ZXJSZWNvdmVyeU9uJiYodC5wdWJsaXNoTWV0cmljKHtuYW1lOmcsZGF0YTp7Y291bnQ6ZX19KSx0LnB1Ymxpc2hNZXRyaWMoe25hbWU6YixkYXRhOntjb3VudDowfX0pKSxsPW51bGx9fSkpLHQuY29yZS5zb2Z0cGhvbmVQYXJhbXM9cC5zb2Z0cGhvbmV9fSx0LmNvcmUuX29wZW5Qb3B1cFdpdGhMb2NrPWZ1bmN0aW9uKGUsbil7dmFyIHI9ImNvbm5lY3QtbG9naW4tcG9wdXAtbG9jayIrZTt0cnl7bmF2aWdhdG9yLmxvY2tzLnJlcXVlc3Qocix7bW9kZToiZXhjbHVzaXZlIixpZkF2YWlsYWJsZTohMH0sZnVuY3Rpb24oKXt2YXIgcixhPShyPW8oKS5tYXJrKChmdW5jdGlvbiByKGkpe3ZhciBhO3JldHVybiBvKCkud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6aWYoaSl7ci5uZXh0PTM7YnJlYWt9cmV0dXJuIHQuZ2V0TG9nKCkuaW5mbygiUG9wdXAgYWxyZWFkeSBvcGVuZWQgYnkgYW5vdGhlciB0YWIuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmFicnVwdCgicmV0dXJuIik7Y2FzZSAzOnQuZ2V0TG9nKCkuaW5mbygiT3BlbmluZyBwb3B1cCB3aW5kb3cgd2l0aCB3ZWJsb2NrLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmxvZ2luV2luZG93PXQuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5vcGVuKGUsdC5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVAsbiksdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrPSEwLGE9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7dmFyIGU7KCF0LmNvcmUubG9naW5XaW5kb3d8fG51bGwhPT0oZT10LmNvcmUubG9naW5XaW5kb3cpJiZ2b2lkIDAhPT1lJiZlLmNsb3NlZCkmJihjbGVhckludGVydmFsKGEpLHQuY29yZS5fc2hvdWxkSG9sZFBvcHVwTG9jaz0hMSx0LmdldExvZygpLmluZm8oIkNsZWFyZWQgY2hlY2sgcG9wdXAgaW50ZXJ2YWwuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9KSwxZTMpO2Nhc2UgNzppZighdC5jb3JlLl9zaG91bGRIb2xkUG9wdXBMb2NrKXtyLm5leHQ9MTI7YnJlYWt9cmV0dXJuIHIubmV4dD0xMCxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSwxZTMpfSkpO2Nhc2UgMTA6ci5uZXh0PTc7YnJlYWs7Y2FzZSAxMjp0LmdldExvZygpLmluZm8oIlJlbGVhc2luZyB3ZWJsb2NrIGZvciBvcGVuaW5nIGxvZ2luIHBvcHVwLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sbyl7dmFyIGE9ci5hcHBseShlLHQpO2Z1bmN0aW9uIHMoZSl7aShhLG4sbyxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7aShhLG4sbyxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9Y2F0Y2gocil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIHVzZSB3ZWJsb2NrIHRvIG9wZW4gcG9wdXAuIFlvdXIgYnJvd3NlciBtYXkgYmUgb3V0IG9mIGRhdGUuIikud2l0aEV4Y2VwdGlvbihyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuY29yZS5sb2dpbldpbmRvd3x8KHQuY29yZS5sb2dpbldpbmRvdz10LmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkub3BlbihlLHQuTWFzdGVyVG9waWNzLkxPR0lOX1BPUFVQLG4pKX19LHQuY29yZS5vbklmcmFtZVJldHJpZXNFeGhhdXN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JRlJBTUVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5fcmVmcmVzaElmcmFtZU9uVGltZW91dD1mdW5jdGlvbihuLHIsbyxpKXt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChyLCJjb250YWluZXJEaXYiKTt2YXIgYT1vfHx0LmNvcmUscz1uLmNjcExvYWRUaW1lb3V0P24uY2NwTG9hZFRpbWVvdXQ6bi5kaXNhc3RlclJlY292ZXJ5T24/MWU0OjVlMztlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxhLmlmcmFtZVJlZnJlc2hUaW1lb3V0PWUuc2V0VGltZW91dCgoZnVuY3Rpb24oKXthLmlmcmFtZVJlZnJlc2hBdHRlbXB0PShhLmlmcmFtZVJlZnJlc2hBdHRlbXB0fHwwKSsxLGEuaWZyYW1lUmVmcmVzaEF0dGVtcHQ8PTEwPyh0LmdldExvZygpLmluZm8oIlJlZnJlc2hpbmcgdGhlIENDUCBJRnJhbWUgZm9yICIuY29uY2F0KG4uY2NwVXJsLCIgb24gYXR0ZW1wdCAiKS5jb25jYXQoYS5pZnJhbWVSZWZyZXNoQXR0ZW1wdCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lKHIsbixpKSx0LmNvcmUuX3JlZnJlc2hJZnJhbWVPblRpbWVvdXQobixyLG8saSkpOih0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCxpKSxlLmNsZWFyVGltZW91dChhLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSl9KSxzKX0sdC5jb3JlLl9yZXBsYWNlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixyKXt0cnl7dmFyIG89dC5jb3JlLl9nZXRDQ1BJZnJhbWUociksaT1udWxsO28mJihpPW8uc3R5bGUsby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKTt2YXIgYT10LmNvcmUuX2NyZWF0ZUNDUElmcmFtZShlLG4scik7aSYmKGEuc3R5bGU9aS5jc3NUZXh0KSx0LmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2YgdC5HUlByb3h5SWZyYW1lQ29uZHVpdD90LmNvcmUudXBzdHJlYW0uZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmlmcmFtZS5kYXRhc2V0LmlkZW50aWZpZXI9PT1yJiYoZS51cHN0cmVhbS5vdXRwdXQ9YS5jb250ZW50V2luZG93LGUuaWZyYW1lPWEpfSkpOnQuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtLm91dHB1dD1hLmNvbnRlbnRXaW5kb3csdC5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShhLHQuY29yZS51cHN0cmVhbSl9Y2F0Y2goZSl7dC5nZXRMb2coKS5lcnJvcigiRXJyb3Igd2hpbGUgY2hlY2tpbmcgZm9yLCBhbmQgcmVjcmVhdGluZywgdGhlIENDUCBJRnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX2dldENDUElmcmFtZT1mdW5jdGlvbihlKXt2YXIgdCxuPXUod2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSk7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXt2YXIgbyxpPXQudmFsdWU7aWYoaS5uYW1lPT09ciYmKCFlfHwobnVsbD09PShvPWkuZGF0YXNldCl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaWRlbnRpZmllcik9PT1lKSlyZXR1cm4gaX19Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIG51bGx9LHQuY29yZS5fY3JlYXRlQ0NQSWZyYW1lPWZ1bmN0aW9uKGUsbixvKXt2YXIgaTt0LmFzc2VydE5vdE51bGwobiwiaW5pdENDUFBhcmFtcyIpLHQuYXNzZXJ0Tm90TnVsbChlLCJjb250YWluZXJEaXYiKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtpZihhLnNyYz1uLmNjcFVybCxhLmFsbG93PSJtaWNyb3Bob25lOyBjYW1lcmE7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGlkZW50aXR5LWNyZWRlbnRpYWxzLWdldCIsYS5zdHlsZT1uLnN0eWxlfHx0LmNvcmUuaWZyYW1lU3R5bGUsYS50aXRsZT1uLmlmcmFtZVRpdGxlfHxyLGEubmFtZT1yLG8mJihhLmRhdGFzZXQuaWRlbnRpZmllcj1vKSx0LnN0b3JhZ2VBY2Nlc3MuY2FuUmVxdWVzdCgpJiYoYS5zcmM9dC5zdG9yYWdlQWNjZXNzLmdldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsKCksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0LnN0b3JhZ2VBY2Nlc3MucmVxdWVzdCkpLG51bGwhPT0oaT10LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEpJiZ2b2lkIDAhPT1pJiZpLmlzU3RyZWFtc1Byb3ZpZGVyKXRyeXt0LmNvcmUuX2FtYXpvbkNvbm5lY3RQcm92aWRlckRhdGEucHJvdmlkZXIuc2V0Q0NQSWZyYW1lKGEpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkVycm9yIG9jY3VycmVkIHdoZW4gc2V0dGluZyBDQ1AgaWZyYW1lIHRvIHByb3ZpZGVyIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfXJldHVybiBlLmFwcGVuZENoaWxkKGEpLGF9LHQuY29yZS5faGlkZUlmcmFtZT1mdW5jdGlvbihlKXtlLnN0eWxlPXQuY29yZS5pZnJhbWVTdHlsZSsiZGlzcGxheTogbm9uZTsifSx0LmNvcmUuX3Nob3dJZnJhbWU9ZnVuY3Rpb24oZSl7ZS5zdHlsZT10LmNvcmUuaWZyYW1lU3R5bGV9LHQuY29yZS5fc2VuZElmcmFtZVN0eWxlRGF0YVVwc3RyZWFtQWZ0ZXJSZWFzb25hYmxlV2FpdFRpbWU9ZnVuY3Rpb24oZSxuKXt0LmFzc2VydE5vdE51bGwoZSwiaWZyYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImNvbmR1aXQiKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciByPXtkaXNwbGF5OndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZGlzcGxheSxvZmZzZXRXaWR0aDplLm9mZnNldFdpZHRoLG9mZnNldEhlaWdodDplLm9mZnNldEhlaWdodCxjbGllbnRSZWN0c0xlbmd0aDplLmdldENsaWVudFJlY3RzKCkubGVuZ3RofTtuLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5JRlJBTUVfU1RZTEUscil9KSwxZTQpfSx0LmNvcmUuZ2V0U0RLQ2xpZW50Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIXQuY29yZS5fYW1hem9uQ29ubmVjdFByb3ZpZGVyRGF0YSl0aHJvdyBuZXcgRXJyb3IoIlByb3ZpZGVyIGlzIG5vdCBpbml0aWFsaXplZCIpO3JldHVybntwcm92aWRlcjpudWxsPT09KGU9dC5jb3JlLl9hbWF6b25Db25uZWN0UHJvdmlkZXJEYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm92aWRlcn19O3ZhciBOPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuY29uZHVpdD1lLHRoaXMuZXZlbnRCdXM9dCx0aGlzLnN5blRpbWVvdXQ9bix0aGlzLmFja1RpbWVvdXQ9cix0aGlzLmFja1RpbWVyPW51bGwsdGhpcy5zeW5UaW1lcj1udWxsLHRoaXMuYWNrU3ViPW51bGx9O04ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLmNvbmR1aXQuc2VuZFVwc3RyZWFtKHQuRXZlbnRUeXBlLlNZTkNIUk9OSVpFKSx0aGlzLmFja1N1Yj10aGlzLmNvbmR1aXQub25VcHN0cmVhbSh0LkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksZS5jbGVhclRpbWVvdXQobi5hY2tUaW1lciksbi5fZGVmZXJTdGFydCgpfSkpLHRoaXMuYWNrVGltZXI9ZS5zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uYWNrU3ViLnVuc3Vic2NyaWJlKCksdC5pc0FjdGl2ZUNvbmR1aXQobi5jb25kdWl0KT8odC5nZXRMb2coKS5pbmZvKCJBQ0tfVElNRU9VVCBldmVudCBpcyBkZXRlY3RlZCBmcm9tIHRoZSBLZWVwYWxpdmVNYW5hZ2VyLiAiLmNvbmNhdChuLmNvbmR1aXQubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5ldmVudEJ1cy50cmlnZ2VyKHQuRXZlbnRUeXBlLkFDS19USU1FT1VUKSk6dC5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBldmVudCBpcyBkZXRlY3RlZCBmcm9tIHRoZSBLZWVwYWxpdmVNYW5hZ2VyIGJ1dCBzdXBwcmVzc2VkIGFzIGl0IGlzIGZyb20gYW4gaW5hY3RpdmUgcmVnaW9uLiAiLmNvbmNhdChuLmNvbmR1aXQubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5fZGVmZXJTdGFydCgpfSksdGhpcy5hY2tUaW1lb3V0KX0sTi5wcm90b3R5cGUuX2RlZmVyU3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLnN5blRpbWVyPWUuc2V0VGltZW91dCh0LmhpdGNoKHRoaXMsdGhpcy5zdGFydCksdGhpcy5zeW5UaW1lb3V0KX0sTi5wcm90b3R5cGUuZGVmZXJTdGFydD1mdW5jdGlvbigpe251bGw9PXRoaXMuc3luVGltZXImJih0aGlzLnN5blRpbWVyPWUuc2V0VGltZW91dCh0LmhpdGNoKHRoaXMsdGhpcy5zdGFydCksdGhpcy5zeW5UaW1lb3V0KSl9O3ZhciBQPWZ1bmN0aW9uKCl7dmFyIGU9e2luaXRGYWlsdXJlOm5ldyBTZXQsc3Vic2NyaXB0aW9uVXBkYXRlOm5ldyBTZXQsc3Vic2NyaXB0aW9uRmFpbHVyZTpuZXcgU2V0LHRvcGljOm5ldyBNYXAsYWxsTWVzc2FnZTpuZXcgU2V0LGNvbm5lY3Rpb25HYWluOm5ldyBTZXQsY29ubmVjdGlvbkxvc3Q6bmV3IFNldCxjb25uZWN0aW9uT3BlbjpuZXcgU2V0LGNvbm5lY3Rpb25DbG9zZTpuZXcgU2V0fSxuPWZ1bmN0aW9uKGUsdCl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlKHQpfSkpfTt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRSwoZnVuY3Rpb24oKXtuKGUuaW5pdEZhaWx1cmUpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9PUEVOLChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbk9wZW4sdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0NMT1NFLChmdW5jdGlvbih0KXtuKGUuY29ubmVjdGlvbkNsb3NlLHQpfSkpLHQuY29yZS5nZXRVcHN0cmVhbSgpLm9uVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9HQUlOLChmdW5jdGlvbigpe24oZS5jb25uZWN0aW9uR2Fpbil9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0xPU1QsKGZ1bmN0aW9uKHQpe24oZS5jb25uZWN0aW9uTG9zdCx0KX0pKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5vblVwc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNVQlNDUklQVElPTl9VUERBVEUsKGZ1bmN0aW9uKHQpe24oZS5zdWJzY3JpcHRpb25VcGRhdGUsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fRkFJTFVSRSwoZnVuY3Rpb24odCl7bihlLnN1YnNjcmlwdGlvbkZhaWx1cmUsdCl9KSksdC5jb3JlLmdldFVwc3RyZWFtKCkub25VcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5BTExfTUVTU0FHRSwoZnVuY3Rpb24odCl7bihlLmFsbE1lc3NhZ2UsdCksZS50b3BpYy5oYXModC50b3BpYykmJm4oZS50b3BpYy5nZXQodC50b3BpYyksdCl9KSksdGhpcy5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXt0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU0VORCxlKX0sdGhpcy5vbkluaXRGYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5pbml0RmFpbHVyZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5pbml0RmFpbHVyZS5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbk9wZW49ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25PcGVuLmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmNvbm5lY3Rpb25PcGVuLmRlbGV0ZShuKX19LHRoaXMub25Db25uZWN0aW9uQ2xvc2U9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25DbG9zZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uQ2xvc2UuZGVsZXRlKG4pfX0sdGhpcy5vbkNvbm5lY3Rpb25HYWluPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5jb25uZWN0aW9uR2Fpbi5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25uZWN0aW9uR2Fpbi5kZWxldGUobil9fSx0aGlzLm9uQ29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLmNvbm5lY3Rpb25Mb3N0LmFkZChuKSxmdW5jdGlvbigpe3JldHVybiBlLmNvbm5lY3Rpb25Mb3N0LmRlbGV0ZShuKX19LHRoaXMub25TdWJzY3JpcHRpb25VcGRhdGU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLnN1YnNjcmlwdGlvblVwZGF0ZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5zdWJzY3JpcHRpb25VcGRhdGUuZGVsZXRlKG4pfX0sdGhpcy5vblN1YnNjcmlwdGlvbkZhaWx1cmU9ZnVuY3Rpb24obil7cmV0dXJuIHQuYXNzZXJ0VHJ1ZSh0LmlzRnVuY3Rpb24obiksIm1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24iKSxlLnN1YnNjcmlwdGlvbkZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3Vic2NyaXB0aW9uRmFpbHVyZS5kZWxldGUobil9fSx0aGlzLnN1YnNjcmliZVRvcGljcz1mdW5jdGlvbihlKXt0LmFzc2VydE5vdE51bGwoZSwidG9waWNzIiksdC5hc3NlcnRUcnVlKHQuaXNBcnJheShlKSwidG9waWNzIG11c3QgYmUgYSBhcnJheSIpLHQuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJQkUsZSl9LHRoaXMub25NZXNzYWdlPWZ1bmN0aW9uKG4scil7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChuLCJ0b3BpY05hbWUiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKHIpLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS50b3BpYy5oYXMobik/ZS50b3BpYy5nZXQobikuYWRkKHIpOmUudG9waWMuc2V0KG4sbmV3IFNldChbcl0pKSxmdW5jdGlvbigpe3JldHVybiBlLnRvcGljLmdldChuKS5kZWxldGUocil9fSx0aGlzLm9uQWxsTWVzc2FnZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuYWxsTWVzc2FnZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5hbGxNZXNzYWdlLmRlbGV0ZShuKX19LHRoaXMub25EZWVwSGVhcnRiZWF0U3VjY2Vzcz1mdW5jdGlvbihuKXtyZXR1cm4gdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGUuZGVlcEhlYXJ0YmVhdFN1Y2Nlc3MuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVlcEhlYXJ0YmVhdFN1Y2Nlc3MuZGVsZXRlKG4pfX0sdGhpcy5vbkRlZXBIZWFydGJlYXRGYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS5kZWVwSGVhcnRiZWF0RmFpbHVyZS5hZGQobiksZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWVwSGVhcnRiZWF0RmFpbHVyZS5kZWxldGUobil9fSx0aGlzLm9uVG9waWNGYWlsdXJlPWZ1bmN0aW9uKG4pe3JldHVybiB0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJtZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIiksZS50b3BpY0ZhaWx1cmUuYWRkKG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUudG9waWNGYWlsdXJlLmRlbGV0ZShuKX19fTt0LmNvcmUuX3JlbW92ZUNvbnRhY3RGcm9tRW5kZWRTZXQ9ZnVuY3Rpb24oZSl7dHJ5e3QuZ2V0TG9nKCkuaW5mbygiW0NvbnRhY3RFdmVudF0gUmVtb3ZpbmcgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHtjb250YWN0SWQ6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmRlbGV0ZShlKSx0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIFJlbW92ZWQgY29udGFjdCBmcm9tIEVOREVEIGV2ZW50IHRyYWNrZXIiKS53aXRoT2JqZWN0KHQuY29yZS5lbmRlZEV2ZW50VHJhY2tlci5lbnRyaWVzKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcigiW0NvbnRhY3RFdmVudF0gRmFpbGVkIHRvIHJlbW92ZSBjb250YWN0IGZyb20gRU5ERUQgZXZlbnQgdHJhY2tlciIpLndpdGhPYmplY3Qoe2NvbnRhY3RJZDplfHwidW5rbm93biJ9KS53aXRoRXhjZXB0aW9uKG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSx0LmNvcmUuX2hhbmRsZUVuZGVkRXZlbnQ9ZnVuY3Rpb24oZSxuKXt0cnl7dC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmhhcyhlKSYmUy5pbmNsdWRlcyhuKSYmKHQuZ2V0TG9nKCkuaW5mbygiW0NvbnRhY3RFdmVudF0gRU5ERUQgd2FzIHRyaWdnZXJlZCIpLndpdGhPYmplY3Qoe2NvbnRhY3RJZDplfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuX3JlbW92ZUNvbnRhY3RGcm9tRW5kZWRTZXQoZSkpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltDb250YWN0RXZlbnRdIEZhaWxlZCB0byBoYW5kbGUgcHJvcGVyIEVOREVEIGV2ZW50IGJlaW5nIHRyaWdnZXJlZCIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19LHQuY29yZS5fc2hvdWxkVHJpZ2dlckludmFsaWRTdGF0ZVRyYW5zaXRpb249ZnVuY3Rpb24oZSl7aWYodC5jb3JlLmVuZGVkRXZlbnRUcmFja2VyLmhhcyhlLmNvbnRhY3RJZCkpdHJ5e3JldHVybiB0LmdldExvZygpLmluZm8oIltDb250YWN0RXZlbnRdIENvbnRhY3QgZGlkIG5vdCB0cmFuc2l0aW9uIHRvIHRoZSBFTkRFRCBzdGF0ZSBwcmlvciB0byBERVNUUk9ZRUQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5jb3JlLl9yZW1vdmVDb250YWN0RnJvbUVuZGVkU2V0KGUuY29udGFjdElkKSwhMH1jYXRjaChlKXt0LmdldExvZygpLmVycm9yKCJbQ29udGFjdEV2ZW50XSBGYWlsZWQgdG8gaGFuZGxlIGludmFsaWQgc3RhdGUgdHJhbnNpdGlvbiBlcnJvciBoYW5kbGluZyIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1yZXR1cm4hMX07dmFyIEQ9ZnVuY3Rpb24oZSl7dGhpcy5idXM9ZSx0aGlzLmFnZW50VXBkYXRlU3Vic2NyaWJlcj10aGlzLmJ1cy5zdWJzY3JpYmUodC5BZ2VudEV2ZW50cy5VUERBVEUsdC5oaXRjaCh0aGlzLHRoaXMudXBkYXRlQWdlbnREYXRhKSl9O0QucHJvdG90eXBlLnVwZGF0ZUFnZW50RGF0YT1mdW5jdGlvbihlKXt2YXIgbixyPXRoaXMuYWdlbnREYXRhO3RoaXMuYWdlbnREYXRhPWUsbnVsbCE9PShuPXQuYWdlbnQpJiZ2b2lkIDAhPT1uJiZuLmluaXRpYWxpemVkfHwodC5hZ2VudC5pbml0aWFsaXplZD0hMCx0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuSU5JVCxuZXcgdC5BZ2VudCkpLHRoaXMuYnVzLnRyaWdnZXIodC5BZ2VudEV2ZW50cy5SRUZSRVNILG5ldyB0LkFnZW50KSx0aGlzLl9maXJlQWdlbnRVcGRhdGVFdmVudHMocil9LEQucHJvdG90eXBlLmdldEFnZW50RGF0YT1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuYWdlbnREYXRhKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIk5vIGFnZW50IGRhdGEgaXMgYXZhaWxhYmxlIHlldCEiKTtyZXR1cm4gdGhpcy5hZ2VudERhdGF9LEQucHJvdG90eXBlLmdldENvbnRhY3REYXRhPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuZ2V0QWdlbnREYXRhKCkscj10LmZpbmQobi5zbmFwc2hvdC5jb250YWN0cywoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29udGFjdElkPT09ZX0pKTtpZihudWxsPT1yKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLGUpO3JldHVybiByfSxELnByb3RvdHlwZS5nZXRDb25uZWN0aW9uRGF0YT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMuZ2V0Q29udGFjdERhdGEoZSksbz10LmZpbmQoci5jb25uZWN0aW9ucywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29ubmVjdGlvbklkPT09bn0pKTtpZihudWxsPT1vKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIkNvbm5lY3Rpb24gJXMgZm9yIGNvbnRhY3QgJXMgbm8gbG9uZ2VyIGV4aXN0cy4iLG4sZSk7cmV0dXJuIG99LEQucHJvdG90eXBlLmdldEluc3RhbmNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBZ2VudERhdGEoKS5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlSWQubWF0Y2goL2luc3RhbmNlXC8oWzAtOWEtZkEtRnwtXSspXC8vKVsxXX0sRC5wcm90b3R5cGUuZ2V0QVdTQWNjb3VudElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWdlbnREYXRhKCkuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkLm1hdGNoKC86KFswLTldKyk6aW5zdGFuY2UvKVsxXX0sRC5wcm90b3R5cGUuX2RpZmZDb250YWN0cz1mdW5jdGlvbihlKXt2YXIgbj17YWRkZWQ6e30scmVtb3ZlZDp7fSxjb21tb246e30sb2xkTWFwOnQuaW5kZXgobnVsbD09ZT9bXTplLnNuYXBzaG90LmNvbnRhY3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb250YWN0SWR9KSksbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOjB9O3JldHVybiB0LmtleXMobi5vbGRNYXApLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29udGFpbnMobi5uZXdNYXAsZSk/bi5jb21tb25bZV09bi5uZXdNYXBbZV06bi5yZW1vdmVkW2VdPW4ub2xkTWFwW2VdfSkpLHQua2V5cyhuLm5ld01hcCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5jb250YWlucyhuLm9sZE1hcCxlKXx8KG4uYWRkZWRbZV09bi5uZXdNYXBbZV0pfSkpLG4uZW5kVGltZT1wZXJmb3JtYW5jZS5ub3coKSxufSxELnByb3RvdHlwZS5fZmlyZUFnZW50VXBkYXRlRXZlbnRzPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMscj1udWxsLG89bnVsbD09ZT90LkFnZW50QXZhaWxTdGF0ZXMuSU5JVDplLnNuYXBzaG90LnN0YXRlLm5hbWUsaT10aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5zdGF0ZS5uYW1lLGE9bnVsbD09ZT90LkFnZW50U3RhdGVUeXBlLklOSVQ6ZS5zbmFwc2hvdC5zdGF0ZS50eXBlLHM9dGhpcy5hZ2VudERhdGEuc25hcHNob3Quc3RhdGUudHlwZTthIT09cyYmdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxhLHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSksbyE9PWkmJih0aGlzLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuU1RBVEVfQ0hBTkdFLHthZ2VudDpuZXcgdC5BZ2VudCxvbGRTdGF0ZTpvLG5ld1N0YXRlOml9KSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGgoKS5nZXRBc3NvY2lhdGlvbnModGhpcyxvLGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uYnVzLnRyaWdnZXIoZSxuZXcgdC5BZ2VudCl9KSkpO3ZhciBjPWUmJmUuc25hcHNob3QubmV4dFN0YXRlP2Uuc25hcHNob3QubmV4dFN0YXRlLm5hbWU6bnVsbCx1PXRoaXMuYWdlbnREYXRhLnNuYXBzaG90Lm5leHRTdGF0ZT90aGlzLmFnZW50RGF0YS5zbmFwc2hvdC5uZXh0U3RhdGUubmFtZTpudWxsO2MhPT11JiZ1JiZuLmJ1cy50cmlnZ2VyKHQuQWdlbnRFdmVudHMuRU5RVUVVRURfTkVYVF9TVEFURSxuZXcgdC5BZ2VudCkscj1udWxsIT09ZT90aGlzLl9kaWZmQ29udGFjdHMoZSk6e2FkZGVkOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxyZW1vdmVkOnt9LGNvbW1vbjp7fSxvbGRNYXA6e30sbmV3TWFwOnQuaW5kZXgodGhpcy5hZ2VudERhdGEuc25hcHNob3QuY29udGFjdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRhY3RJZH0pKSxlbmRUaW1lOnBlcmZvcm1hbmNlLm5vdygpfSx0LnZhbHVlcyhyLmFkZGVkKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5JTklULG5ldyB0LkNvbnRhY3QoZS5jb250YWN0SWQpKSxuLl9maXJlQ29udGFjdFVwZGF0ZUV2ZW50cyhlLmNvbnRhY3RJZCx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5JVCxlLnN0YXRlLnR5cGUpfSkpLHQudmFsdWVzKHIucmVtb3ZlZCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5idXMudHJpZ2dlcih0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELG5ldyB0LkNvbnRhY3RTbmFwc2hvdChlKSksbi5idXMudHJpZ2dlcih0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZSh0LkNvbnRhY3RFdmVudHMuREVTVFJPWUVELGUuY29udGFjdElkKSxuZXcgdC5Db250YWN0U25hcHNob3QoZSkpLG4uX3Vuc3ViQWxsQ29udGFjdEV2ZW50c0ZvckNvbnRhY3QoZS5jb250YWN0SWQpfSkpLHQua2V5cyhyLmNvbW1vbikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHMoZSxyLm9sZE1hcFtlXS5zdGF0ZS50eXBlLHIubmV3TWFwW2VdLnN0YXRlLnR5cGUpfSkpfSxELnByb3RvdHlwZS5fZmlyZUNvbnRhY3RVcGRhdGVFdmVudHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPXRoaXM7biE9PXImJnQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaCgpLmdldEFzc29jaWF0aW9ucyh0aGlzLG4scikuZm9yRWFjaCgoZnVuY3Rpb24obil7by5idXMudHJpZ2dlcihuLG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUobixlKSxuZXcgdC5Db250YWN0KGUpKX0pKSxvLmJ1cy50cmlnZ2VyKHQuQ29udGFjdEV2ZW50cy5SRUZSRVNILG5ldyB0LkNvbnRhY3QoZSkpLG8uYnVzLnRyaWdnZXIodC5jb3JlLmdldENvbnRhY3RFdmVudE5hbWUodC5Db250YWN0RXZlbnRzLlJFRlJFU0gsZSksbmV3IHQuQ29udGFjdChlKSl9LEQucHJvdG90eXBlLl91bnN1YkFsbENvbnRhY3RFdmVudHNGb3JDb250YWN0PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7dC52YWx1ZXModC5Db250YWN0RXZlbnRzKS5mb3JFYWNoKChmdW5jdGlvbihyKXtuLmJ1cy5nZXRTdWJzY3JpcHRpb25zKHQuY29yZS5nZXRDb250YWN0RXZlbnROYW1lKHIsZSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS51bnN1YnNjcmliZSgpfSkpfSkpfSxELnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudFVwZGF0ZVN1YnNjcmliZXIudW5zdWJzY3JpYmUoKX0sdC5jb3JlLm9uVmlld0NvbnRhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNvbnRhY3RFdmVudHMuVklFVyxlKX0sdC5jb3JlLnZpZXdDb250YWN0PWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbSh0LkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnQuQ29udGFjdEV2ZW50cy5WSUVXLGRhdGE6e2NvbnRhY3RJZDplfX0pfSx0LmNvcmUub25BY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZSl9LHQuY29yZS5hY3RpdmF0ZUNoYW5uZWxXaXRoVmlld1R5cGU9ZnVuY3Rpb24oZSxuLHIsbyxpKXt2YXIgYT17dmlld1R5cGU6ZSxtZWRpYVR5cGU6bn07ciYmKGEuc291cmNlPXIpLG8mJihhLmNhc2VJZD1vKSxhLmNsaWVudFRva2VuPWl8fHQucmFuZG9tSWQoKSx0LmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDp0LkNoYW5uZWxWaWV3RXZlbnRzLkFDVElWQVRFX0NIQU5ORUxfV0lUSF9WSUVXX1RZUEUsZGF0YTphfSl9LHQuY29yZS50cmlnZ2VyVGFza0NyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LlRhc2tFdmVudHMuQ1JFQVRFRCxlKX0sdC5jb3JlLnRyaWdnZXJFbWFpbENyZWF0ZWQ9ZnVuY3Rpb24oZSl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkVtYWlsRXZlbnRzLkNSRUFURUQsZSl9LHQuY29yZS5vbkFjY2Vzc0RlbmllZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFDQ0VTU19ERU5JRUQsZSl9LHQuY29yZS5vbkF1dGhGYWlsPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUub25BdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5FdmVudFR5cGUuQVVUSE9SSVpFX1NVQ0NFU1MsZSl9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplU3VjY2Vzcz1mdW5jdGlvbigpe3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQuU2Vzc2lvblN0b3JhZ2VLZXlzLkFVVEhPUklaRV9SRVRSWV9DT1VOVCwwKX0sdC5jb3JlLl9oYW5kbGVBdXRoRmFpbD1mdW5jdGlvbihlLG4scil7ciYmci5hdXRob3JpemU/dC5jb3JlLl9oYW5kbGVBdXRob3JpemVGYWlsKGUpOnQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWwobil9LHQuY29yZS5faGFuZGxlQXV0aG9yaXplRmFpbD1mdW5jdGlvbihlKXt2YXIgbj10LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50KCk7aWYoIXQuY29yZS5hdXRob3JpemVUaW1lb3V0SWQpaWYobjx0LmNvcmUuTUFYX0FVVEhPUklaRV9SRVRSWV9DT1VOVF9GT1JfU0VTU0lPTil7dC5jb3JlLl9pbmNyZW1lbnRBdXRoUmV0cnlDb3VudCgpO3ZhciByPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkobisxfHwwLHtiYXNlOjJlM30pO3QuY29yZS5hdXRob3JpemVUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuX3JlZGlyZWN0VG9Mb2dpbihlKX0pLHIpfWVsc2UgdC5nZXRMb2coKS53YXJuKCJXZSBoYXZlIGV4aGF1c3RlZCBvdXIgYXV0aG9yaXphdGlvbiByZXRyaWVzIGR1ZSB0byA0MDFzIGZyb20gdGhlIGF1dGhvcml6ZSBhcGkuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCBpbiB0aGlzIHNlc3Npb24gdW50aWwgdGhlIGF1dGhvcml6ZSBhcGkgcmV0dXJucyAyMDAuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LHQuY29yZS5fcmVkaXJlY3RUb0xvZ2luPWZ1bmN0aW9uKGUpeyJzdHJpbmciPT10eXBlb2YgZT9sb2NhdGlvbi5hc3NpZ24oZSk6bG9jYXRpb24ucmVsb2FkKCl9LHQuY29yZS5faGFuZGxlQ1RJQXV0aEZhaWw9ZnVuY3Rpb24oZSl7aWYoIXQuY29yZS5jdGlUaW1lb3V0SWQpaWYodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50PHQuY29yZS5NQVhfQ1RJX0FVVEhfUkVUUllfQ09VTlQpe3QuY29yZS5jdGlBdXRoUmV0cnlDb3VudCsrO3ZhciBuPUFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkodC5jb3JlLmN0aUF1dGhSZXRyeUNvdW50fHwwLHtiYXNlOjUwMH0pO3QuY29yZS5jdGlUaW1lb3V0SWQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmNvcmUuYXV0aG9yaXplKGUpLnRoZW4odC5jb3JlLl90cmlnZ2VyQXV0aG9yaXplU3VjY2Vzcy5iaW5kKHQuY29yZSkpLmNhdGNoKHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsLmJpbmQodC5jb3JlLHthdXRob3JpemU6ITB9KSksdC5jb3JlLmN0aVRpbWVvdXRJZD1udWxsfSksbil9ZWxzZSB0LmdldExvZygpLndhcm4oIldlIGhhdmUgZXhoYXVzdGVkIG91ciBhdXRob3JpemF0aW9uIHJldHJpZXMgZHVlIHRvIDQwMXMgZnJvbSB0aGUgQ1RJIHNlcnZpY2UuIE5vIG1vcmUgcmV0cmllcyB3aWxsIGJlIGF0dGVtcHRlZCB1bnRpbCB0aGUgcGFnZSBpcyByZWZyZXNoZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQpfSx0LmNvcmUuX3RyaWdnZXJBdXRob3JpemVTdWNjZXNzPWZ1bmN0aW9uKCl7dC5jb3JlLmdldFVwc3RyZWFtKCkudXBzdHJlYW1CdXMudHJpZ2dlcih0LkV2ZW50VHlwZS5BVVRIT1JJWkVfU1VDQ0VTUyl9LHQuY29yZS5fdHJpZ2dlckF1dGhGYWlsPWZ1bmN0aW9uKGUpe3QuY29yZS5nZXRVcHN0cmVhbSgpLnVwc3RyZWFtQnVzLnRyaWdnZXIodC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpfSx0LmNvcmUuX2dldEF1dGhSZXRyeUNvdW50PWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5UKTtpZihudWxsIT09ZSl7aWYoaXNOYU4ocGFyc2VJbnQoZSkpKXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBzZXNzaW9uIHN0b3JhZ2UgdmFsdWUgZm9yIGF1dGggcmV0cnkgY291bnQgd2FzIE5hTiIpO3JldHVybiBwYXJzZUludChlKX1yZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odC5TZXNzaW9uU3RvcmFnZUtleXMuQVVUSE9SSVpFX1JFVFJZX0NPVU5ULDApLDB9LHQuY29yZS5faW5jcmVtZW50QXV0aFJldHJ5Q291bnQ9ZnVuY3Rpb24oKXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0LlNlc3Npb25TdG9yYWdlS2V5cy5BVVRIT1JJWkVfUkVUUllfQ09VTlQsKHQuY29yZS5fZ2V0QXV0aFJldHJ5Q291bnQoKSsxKS50b1N0cmluZygpKX0sdC5jb3JlLm9uQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkFVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCxlKX0sdC5jb3JlLm9uQ1RJQXV0aG9yaXplUmV0cmllc0V4aGF1c3RlZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuRXZlbnRUeXBlLkNUSV9BVVRIT1JJWkVfUkVUUklFU19FWEhBVVNURUQsZSl9LHQuY29yZS5vblNvZnRwaG9uZVNlc3Npb25Jbml0PWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxlKX0sdC5jb3JlLm9uQ29uZmlndXJlPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5Db25maWd1cmF0aW9uRXZlbnRzLkNPTkZJR1VSRSxlKX0sdC5jb3JlLm9uSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0LkV2ZW50VHlwZS5JTklULGUpfSx0LmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZT1mdW5jdGlvbihlLG4pe2lmKHQuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0LmFzc2VydE5vdE51bGwobiwiY29udGFjdElkIiksIXQuY29udGFpbnModC52YWx1ZXModC5Db250YWN0RXZlbnRzKSxlKSl0aHJvdyBuZXcgdC5WYWx1ZUVycm9yKCIlcyBpcyBub3QgYSB2YWxpZCBjb250YWN0IGV2ZW50LiIsZSk7cmV0dXJuIHQuc3ByaW50ZigiJXM6OiVzIixlLG4pfSx0LmNvcmUuZ2V0RXZlbnRCdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmV2ZW50QnVzfSx0LmNvcmUuZ2V0V2ViU29ja2V0TWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUud2ViU29ja2V0UHJvdmlkZXJ9LHQuY29yZS5nZXRBZ2VudERhdGFQcm92aWRlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuYWdlbnREYXRhUHJvdmlkZXJ9LHQuY29yZS5nZXRMb2NhbFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS5nZXRBZ2VudERhdGEoKS5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcH0sdC5jb3JlLmdldFNrZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmdldEFnZW50RGF0YVByb3ZpZGVyKCkuZ2V0QWdlbnREYXRhKCkuc25hcHNob3Quc2tld30sdC5jb3JlLmdldEFnZW50Um91dGluZ0V2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50Um91dGluZ0V2ZW50R3JhcGh9LHQuY29yZS5hZ2VudFJvdXRpbmdFdmVudEdyYXBoPShuZXcgdC5FdmVudEdyYXBoKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRTdGF0ZVR5cGUuUk9VVEFCTEUsdC5BZ2VudEV2ZW50cy5ST1VUQUJMRSkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLk5PVF9ST1VUQUJMRSx0LkFnZW50RXZlbnRzLk5PVF9ST1VUQUJMRSkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkFnZW50U3RhdGVUeXBlLk9GRkxJTkUsdC5BZ2VudEV2ZW50cy5PRkZMSU5FKSx0LmNvcmUuZ2V0QWdlbnRTdGF0ZUV2ZW50R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLmFnZW50U3RhdGVFdmVudEdyYXBofSx0LmNvcmUuYWdlbnRTdGF0ZUV2ZW50R3JhcGg9KG5ldyB0LkV2ZW50R3JhcGgpLmFzc29jKHQuRXZlbnRHcmFwaC5BTlksdC52YWx1ZXModC5BZ2VudEVycm9yU3RhdGVzKSx0LkFnZW50RXZlbnRzLkVSUk9SKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQWdlbnRBdmFpbFN0YXRlcy5BRlRFUl9DQUxMX1dPUkssdC5BZ2VudEV2ZW50cy5BQ1cpLHQuY29yZS5nZXRDb250YWN0RXZlbnRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuY29udGFjdEV2ZW50R3JhcGh9LHQuY29yZS5jb250YWN0RXZlbnRHcmFwaD0obmV3IHQuRXZlbnRHcmFwaCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0RXZlbnRzLklOQ09NSU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5QRU5ESU5HLHQuQ29udGFjdEV2ZW50cy5QRU5ESU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdEV2ZW50cy5DT05ORUNUSU5HKS5hc3NvYyh0LkV2ZW50R3JhcGguQU5ZLHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNURUQsdC5Db250YWN0RXZlbnRzLkNPTk5FQ1RFRCkuYXNzb2ModC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RJTkcsdC5Db250YWN0U3RhdGVUeXBlLkVSUk9SLHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLk1JU1NFRCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuRU5ERUQsdC5Db250YWN0RXZlbnRzLkFDVykuYXNzb2ModC52YWx1ZXModC5DT05UQUNUX0FDVElWRV9TVEFURVMpLHQudmFsdWVzKHQucmVsYXRpdmVDb21wbGVtZW50KHQuQ09OVEFDVF9BQ1RJVkVfU1RBVEVTLHQuQ29udGFjdFN0YXRlVHlwZSkpLHQuQ29udGFjdEV2ZW50cy5FTkRFRCkuYXNzb2ModC5FdmVudEdyYXBoLkFOWSx0LkNvbnRhY3RTdGF0ZVR5cGUuRVJST1IsdC5Db250YWN0RXZlbnRzLkVSUk9SKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuQ09OTkVDVElORyx0LkNvbnRhY3RTdGF0ZVR5cGUuTUlTU0VELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5JTkNPTUlORyx0LkNvbnRhY3RTdGF0ZVR5cGUuTUlTU0VELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLmFzc29jKHQuQ29udGFjdFN0YXRlVHlwZS5DT05ORUNUSU5HLHQuQ29udGFjdFN0YXRlVHlwZS5SRUpFQ1RFRCx0LkNvbnRhY3RFdmVudHMuTUlTU0VEKS5hc3NvYyh0LkNvbnRhY3RTdGF0ZVR5cGUuSU5DT01JTkcsdC5Db250YWN0U3RhdGVUeXBlLlJFSkVDVEVELHQuQ29udGFjdEV2ZW50cy5NSVNTRUQpLHQuY29yZS5nZXRDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmNsaWVudCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGUgY29ubmVjdCBjb3JlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmNsaWVudH0sdC5jb3JlLmNsaWVudD1udWxsLHQuY29yZS5nZXRBcGlQcm94eUNsaWVudD1mdW5jdGlvbigpe2lmKCF0LmNvcmUuYXBpUHJveHlDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgYXBpUHJveHkgQ2xpZW50IGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCEiKTtyZXR1cm4gdC5jb3JlLmFwaVByb3h5Q2xpZW50fSx0LmNvcmUuYXBpUHJveHlDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0QWdlbnRBcHBDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLmFnZW50QXBwQ2xpZW50KXRocm93IG5ldyB0LlN0YXRlRXJyb3IoIlRoZSBjb25uZWN0IEFnZW50QXBwIENsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5hZ2VudEFwcENsaWVudH0sdC5jb3JlLmFnZW50QXBwQ2xpZW50PW51bGwsdC5jb3JlLmdldFRhc2tUZW1wbGF0ZXNDbGllbnQ9ZnVuY3Rpb24oKXtpZighdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgVGFza1RlbXBsYXRlcyBDbGllbnQgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkISIpO3JldHVybiB0LmNvcmUudGFza1RlbXBsYXRlc0NsaWVudH0sdC5jb3JlLnRhc2tUZW1wbGF0ZXNDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0TWFzdGVyQ2xpZW50PWZ1bmN0aW9uKCl7aWYoIXQuY29yZS5tYXN0ZXJDbGllbnQpdGhyb3cgbmV3IHQuU3RhdGVFcnJvcigiVGhlIGNvbm5lY3QgbWFzdGVyIGNsaWVudCBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQhIik7cmV0dXJuIHQuY29yZS5tYXN0ZXJDbGllbnR9LHQuY29yZS5tYXN0ZXJDbGllbnQ9bnVsbCx0LmNvcmUuZ2V0U29mdHBob25lTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUuc29mdHBob25lTWFuYWdlcn0sdC5jb3JlLnNvZnRwaG9uZU1hbmFnZXI9bnVsbCx0LmNvcmUuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcnx8KHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyPW5ldyB0Lk5vdGlmaWNhdGlvbk1hbmFnZXIpLHQuY29yZS5ub3RpZmljYXRpb25NYW5hZ2VyfSx0LmNvcmUubm90aWZpY2F0aW9uTWFuYWdlcj1udWxsLHQuY29yZS5nZXRQb3B1cE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5jb3JlLnBvcHVwTWFuYWdlcn0sdC5jb3JlLnBvcHVwTWFuYWdlcj1uZXcgdC5Qb3B1cE1hbmFnZXIsdC5jb3JlLmdldFVwc3RyZWFtPWZ1bmN0aW9uKCl7aWYoIXQuY29yZS51cHN0cmVhbSl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJUaGVyZSBpcyBubyB1cHN0cmVhbSBjb25kdWl0ISIpO3JldHVybiB0LmNvcmUudXBzdHJlYW19LHQuY29yZS51cHN0cmVhbT1udWxsLHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkZhaWxvdmVyUGVuZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHQuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HX0NSTSxlKX0sdC5nbG9iYWxSZXNpbGllbmN5Lm9uRmFpbG92ZXJDb21wbGV0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSh0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfQ09NUExFVEUsZSl9LHQuZ2xvYmFsUmVzaWxpZW5jeS5vbkNvbmZpZ3VyZUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiB0LmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUodC5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9FUlJPUixlKX0sdC5nbG9iYWxSZXNpbGllbmN5LmdldEFjdGl2ZVJlZ2lvbj1mdW5jdGlvbigpe3JldHVybiB0Lmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbn0sdC5jb3JlLkFnZW50RGF0YVByb3ZpZGVyPUQsdC5XZWJTb2NrZXRQcm92aWRlcj1QLHQuS2VlcGFsaXZlTWFuYWdlcj1OfSgpfSw2ODI6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dDt2YXIgbj0iPDxhbGw+PiIscj10Lm1ha2VFbnVtKFsiYWNrbm93bGVkZ2UiLCJhY2tfdGltZW91dCIsImluaXQiLCJhcGlfcmVxdWVzdCIsImFwaV9yZXNwb25zZSIsImF1dGhfZmFpbCIsImFjY2Vzc19kZW5pZWQiLCJjbG9zZSIsImNvbmZpZ3VyZSIsImxvZyIsImRvd25sb2FkX2xvZ19mcm9tX2NjcCIsIm1hc3Rlcl9yZXF1ZXN0IiwibWFzdGVyX3Jlc3BvbnNlIiwic3luY2hyb25pemUiLCJ0ZXJtaW5hdGUiLCJ0ZXJtaW5hdGVkIiwic2VuZF9sb2dzIiwicmVsb2FkX2FnZW50X2NvbmZpZ3VyYXRpb24iLCJicm9hZGNhc3QiLCJhcGlfbWV0cmljIiwiY2xpZW50X21ldHJpYyIsInNvZnRwaG9uZV9zdGF0cyIsInNvZnRwaG9uZV9yZXBvcnQiLCJjbGllbnRfc2lkZV9sb2dzIiwic2VydmVyX2JvdW5kX2ludGVybmFsX2xvZyIsIm11dGUiLCJpZnJhbWVfc3R5bGUiLCJpZnJhbWVfcmV0cmllc19leGhhdXN0ZWQiLCJ1cGRhdGVfY29ubmVjdGVkX2NjcHMiLCJvdXRlcl9jb250ZXh0X2luZm8iLCJtZWRpYV9kZXZpY2VfcmVxdWVzdCIsIm1lZGlhX2RldmljZV9yZXNwb25zZSIsInRhYl9pZCIsImF1dGhvcml6ZV9zdWNjZXNzIiwiYXV0aG9yaXplX3JldHJpZXNfZXhoYXVzdGVkIiwiY3RpX2F1dGhvcml6ZV9yZXRyaWVzX2V4aGF1c3RlZCIsImNsaWNrX3N0cmVhbV9kYXRhIiwic2V0X3F1aWNrX2dldF9hZ2VudF9zbmFwc2hvdF9mbGFnIiwiYXBpX3Byb3h5X3JlcXVlc3QiLCJhcGlfcHJveHlfcmVzcG9uc2UiXSksbz10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29ubmVjdCIsWyJsb2dpblBvcHVwIiwic2VuZExvZ3MiLCJzb2Z0cGhvbmUiLCJyaW5ndG9uZSIsIm1ldHJpY3MiLCJmYWlsb3ZlciJdKSxpPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJhZ2VudCIsWyJpbml0IiwidXBkYXRlIiwicmVmcmVzaCIsInJvdXRhYmxlIiwibm90X3JvdXRhYmxlIiwicGVuZGluZyIsImNvbnRhY3RfcGVuZGluZyIsIm9mZmxpbmUiLCJlcnJvciIsInNvZnRwaG9uZV9lcnJvciIsIndlYnNvY2tldF9jb25uZWN0aW9uX2xvc3QiLCJ3ZWJzb2NrZXRfY29ubmVjdGlvbl9nYWluZWQiLCJzdGF0ZV9jaGFuZ2UiLCJhY3ciLCJtdXRlX3RvZ2dsZSIsImxvY2FsX21lZGlhX3N0cmVhbV9jcmVhdGVkIiwiZW5xdWV1ZWRfbmV4dF9zdGF0ZSIsImZldGNoX2FnZW50X2RhdGFfZnJvbV9jY3AiXSksYT10Lm1ha2VOYW1lc3BhY2VkRW51bSgid2ViU29ja2V0IixbImluaXRfZmFpbHVyZSIsImNvbm5lY3Rpb25fb3BlbiIsImNvbm5lY3Rpb25fY2xvc2UiLCJjb25uZWN0aW9uX2Vycm9yIiwiY29ubmVjdGlvbl9nYWluIiwiY29ubmVjdGlvbl9sb3N0Iiwic3Vic2NyaXB0aW9uX3VwZGF0ZSIsInN1YnNjcmlwdGlvbl9mYWlsdXJlIiwiYWxsX21lc3NhZ2UiLCJzZW5kIiwic3Vic2NyaWJlIl0pLHM9dC5tYWtlTmFtZXNwYWNlZEVudW0oImNvbnRhY3QiLFsiaW5pdCIsInJlZnJlc2giLCJkZXN0cm95ZWQiLCJpbmNvbWluZyIsInBlbmRpbmciLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIiwibWlzc2VkIiwiYWN3IiwidmlldyIsImVuZGVkIiwiZXJyb3IiLCJhY2NlcHRlZCIsImludmFsaWRfc3RhdGVfdHJhbnNpdGlvbiIsInNjcmVlbl9zaGFyaW5nX3N0YXJ0ZWQiLCJzY3JlZW5fc2hhcmluZ19zdG9wcGVkIiwic2NyZWVuX3NoYXJpbmdfZXJyb3IiXSksYz10Lm1ha2VOYW1lc3BhY2VkRW51bSgidGFza0xpc3QiLFsiYWN0aXZhdGVfY2hhbm5lbF93aXRoX3ZpZXdfdHlwZSJdKSx1PXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ0YXNrIixbImNyZWF0ZWQiXSksbD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiZW1haWwiLFsiY3JlYXRlZCJdKSxwPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJjb25uZWN0aW9uIixbInNlc3Npb25faW5pdCIsInJlYWR5X3RvX3N0YXJ0X3Nlc3Npb24iXSksZD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiY29uZmlndXJhdGlvbiIsWyJjb25maWd1cmUiLCJzZXRfc3BlYWtlcl9kZXZpY2UiLCJzZXRfbWljcm9waG9uZV9kZXZpY2UiLCJzZXRfcmluZ2VyX2RldmljZSIsInNwZWFrZXJfZGV2aWNlX2NoYW5nZWQiLCJtaWNyb3Bob25lX2RldmljZV9jaGFuZ2VkIiwicmluZ2VyX2RldmljZV9jaGFuZ2VkIiwiY2FtZXJhX2RldmljZV9jaGFuZ2VkIiwiYmFja2dyb3VuZF9ibHVyX2NoYW5nZWQiXSksZj10Lm1ha2VOYW1lc3BhY2VkRW51bSgiZGlzYXN0ZXJSZWNvdmVyeSIsWyJzdXBwcmVzcyIsImZvcmNlX29mZmxpbmUiLCJzZXRfb2ZmbGluZSIsImluaXRfZGlzYXN0ZXJfcmVjb3ZlcnkiLCJmYWlsb3ZlciIsImZhaWxvdmVyX3BlbmRpbmciLCJpbml0X2RyX3BvbGxpbmciXSksaD10Lm1ha2VOYW1lc3BhY2VkRW51bSgiZ2xvYmFsUmVzaWxpZW5jeSIsWyJjb25maWd1cmUiLCJjb25maWd1cmVfY2NwX2NvbmR1aXQiLCJpbml0IiwiY29uZmlndXJlX2Vycm9yIiwiZmFpbG92ZXJfaW5pdGlhdGVkIiwiZmFpbG92ZXJfcGVuZGluZyIsImZhaWxvdmVyX3BlbmRpbmdfY3JtIiwiZmFpbG92ZXJfY29tcGxldGUiLCJoZWFydGJlYXRfc3luIiwiaGVhcnRiZWF0X2FjayJdKSxnPXQubWFrZU5hbWVzcGFjZWRFbnVtKCJ2b2ljZUlkIixbInVwZGF0ZV9kb21haW5faWQiXSksbT1mdW5jdGlvbigpe307bS5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUsbixyKXtyZXR1cm57ZXZlbnQ6ZSxyZXF1ZXN0SWQ6dC5yYW5kb21JZCgpLG1ldGhvZDpuLHBhcmFtczpyfX0sbS5jcmVhdGVSZXNwb25zZT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57ZXZlbnQ6ZSxyZXF1ZXN0SWQ6dC5yZXF1ZXN0SWQsZGF0YTpuLGVycjpyfHxudWxsfX07dmFyIHY9ZnVuY3Rpb24oZSxuLHIpe3RoaXMuc3ViTWFwPWUsdGhpcy5pZD10LnJhbmRvbUlkKCksdGhpcy5ldmVudE5hbWU9bix0aGlzLmY9cn07di5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLnN1Yk1hcC51bnN1YnNjcmliZSh0aGlzLmV2ZW50TmFtZSx0aGlzLmlkKX07dmFyIHk9ZnVuY3Rpb24oKXt0aGlzLnN1YklkTWFwPXt9LHRoaXMuc3ViRXZlbnROYW1lTWFwPXt9fTt5LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgdih0aGlzLGUsdCk7dGhpcy5zdWJJZE1hcFtuLmlkXT1uO3ZhciByPXRoaXMuc3ViRXZlbnROYW1lTWFwW2VdfHxbXTtyZXR1cm4gci5wdXNoKG4pLHRoaXMuc3ViRXZlbnROYW1lTWFwW2VdPXIsbn0seS5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oZSxuKXt0LmNvbnRhaW5zKHRoaXMuc3ViRXZlbnROYW1lTWFwLGUpJiYodGhpcy5zdWJFdmVudE5hbWVNYXBbZV09dGhpcy5zdWJFdmVudE5hbWVNYXBbZV0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCE9PW59KSksdGhpcy5zdWJFdmVudE5hbWVNYXBbZV0ubGVuZ3RoPDEmJmRlbGV0ZSB0aGlzLnN1YkV2ZW50TmFtZU1hcFtlXSksdC5jb250YWlucyh0aGlzLnN1YklkTWFwLG4pJiZkZWxldGUgdGhpcy5zdWJJZE1hcFtuXX0seS5wcm90b3R5cGUuZ2V0QWxsU3Vic2NyaXB0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0LnZhbHVlcyh0aGlzLnN1YkV2ZW50TmFtZU1hcCkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLFtdKX0seS5wcm90b3R5cGUuZ2V0U3Vic2NyaXB0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJFdmVudE5hbWVNYXBbZV18fFtdfTt2YXIgYj1mdW5jdGlvbihlKXt2YXIgdD1lfHx7fTt0aGlzLnN1Yk1hcD1uZXcgeSx0aGlzLmxvZ0V2ZW50cz10LmxvZ0V2ZW50c3x8ITF9O2IucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihlLG4pe3JldHVybiB0LmFzc2VydE5vdE51bGwoZSwiZXZlbnROYW1lIiksdC5hc3NlcnROb3ROdWxsKG4sImYiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG4pLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuc3ViTWFwLnN1YnNjcmliZShlLG4pfSxiLnByb3RvdHlwZS5zdWJzY3JpYmVBbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXNzZXJ0Tm90TnVsbChlLCJmIiksdC5hc3NlcnRUcnVlKHQuaXNGdW5jdGlvbihlKSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLnN1Yk1hcC5zdWJzY3JpYmUobixlKX0sYi5wcm90b3R5cGUuZ2V0U3Vic2NyaXB0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdWJNYXAuZ2V0U3Vic2NyaXB0aW9ucyhlKX0sYi5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbihlLHIpe3QuYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKTt2YXIgbz10aGlzLGk9dGhpcy5zdWJNYXAuZ2V0U3Vic2NyaXB0aW9ucyhuKSxhPXRoaXMuc3ViTWFwLmdldFN1YnNjcmlwdGlvbnMoZSk7dGhpcy5sb2dFdmVudHMmJmUhPT10LkV2ZW50VHlwZS5MT0cmJmUhPT10LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0UmJmUhPT10LkV2ZW50VHlwZS5BUElfTUVUUklDJiZlIT09dC5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyYmdC5nZXRMb2coKS50cmFjZSgiUHVibGlzaGluZyBldmVudDogJXMiLGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zdGFydHNXaXRoKHQuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCkmJnImJnIuY29udGFjdElkJiYhKHIgaW5zdGFuY2VvZiB0LkNvbnRhY3QpJiYocj1uZXcgdC5Db250YWN0KHIuY29udGFjdElkKSksaS5jb25jYXQoYSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dHJ5e24uZihyfHxudWxsLGUsbyl9Y2F0Y2gobil7dC5nZXRMb2coKS5lcnJvcigiJyVzJyBldmVudCBoYW5kbGVyIGZhaWxlZC4iLGUpLndpdGhFeGNlcHRpb24obikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSl9LGIucHJvdG90eXBlLmJyaWRnZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZS50cmlnZ2VyKG4sdCl9fSxiLnByb3RvdHlwZS51bnN1YnNjcmliZUFsbD1mdW5jdGlvbigpe3RoaXMuc3ViTWFwLmdldEFsbFN1YnNjcmlwdGlvbnMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnVuc3Vic2NyaWJlKCl9KSl9LHQuRXZlbnRCdXM9Yix0LkV2ZW50RmFjdG9yeT1tLHQuRXZlbnRUeXBlPXIsdC5BZ2VudEV2ZW50cz1pLHQuQ29uZmlndXJhdGlvbkV2ZW50cz1kLHQuQ29ubmVjdGlvbkV2ZW50cz1wLHQuQ29ubm5lY3Rpb25FdmVudHM9cCx0LkNvbnRhY3RFdmVudHM9cyx0LkNoYW5uZWxWaWV3RXZlbnRzPWMsdC5UYXNrRXZlbnRzPXUsdC5FbWFpbEV2ZW50cz1sLHQuVm9pY2VJZEV2ZW50cz1nLHQuV2ViU29ja2V0RXZlbnRzPWEsdC5NYXN0ZXJUb3BpY3M9byx0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHM9Zix0Lkdsb2JhbFJlc2lsaWVuY3lFdmVudHM9aH0oKX0sOTQ5OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cjt2YXIgbz0iSWZyYW1lUmVmcmVzaEF0dGVtcHRzIixpPSJJZnJhbWVJbml0aWFsaXphdGlvblN1Y2Nlc3MiO3IuZ2xvYmFsUmVzaWxpZW5jeS5fZG93bmxvYWRDQ1BMb2dzPWZ1bmN0aW9uKCl7ci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5ET1dOTE9BRF9MT0dfRlJPTV9DQ1ApfSxyLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb249ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG87bnVsbD09PShvPXIuY29yZS5hZ2VudERhdGFQcm92aWRlcil8fHZvaWQgMD09PW98fG8uZGVzdHJveSgpLHIuY29yZS5hZ2VudERhdGFQcm92aWRlcj1uZXcgci5jb3JlLkFnZW50RGF0YVByb3ZpZGVyKHIuY29yZS5nZXRFdmVudEJ1cygpKSxlLmdldEFjdGl2ZUNvbmR1aXQoKS5zZW5kVXBzdHJlYW0oci5BZ2VudEV2ZW50cy5GRVRDSF9BR0VOVF9EQVRBX0ZST01fQ0NQKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciByZWluaXRpYWxpemluZyB0aGUgYWdlbnQgZGF0YSBwcm92aWRlci4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5U3dpdGNoUmVnaW9uQWdlbnREYXRhUHJvdmlkZXJGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXIuY29yZS5rZWVwYWxpdmVNYW5hZ2VyPWUuZ2V0QWN0aXZlQ29uZHVpdCgpLmtlZXBhbGl2ZU1hbmFnZXIsci5jb3JlLmNsaWVudD1uZXcgci5VcHN0cmVhbUNvbmR1aXRDbGllbnQoZS5nZXRBY3RpdmVDb25kdWl0KCkpLHIuY29yZS5tYXN0ZXJDbGllbnQ9bmV3IHIuVXBzdHJlYW1Db25kdWl0TWFzdGVyQ2xpZW50KGUuZ2V0QWN0aXZlQ29uZHVpdCgpKSxyLmNvcmUubWVkaWFGYWN0b3J5PW5ldyByLk1lZGlhRmFjdG9yeShuKG4oe30sci5nbG9iYWxSZXNpbGllbmN5LnBhcmFtcykse30se2NjcFVybDplLmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lfSkpO3RyeXt2YXIgaTtudWxsIT09KGk9ci5jb3JlKSYmdm9pZCAwIT09aSYmaS5zb2Z0cGhvbmVNYW5hZ2VyP3IuY29yZS5fYWxsb3dTb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbj8oci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlZnJlc2hpbmcgc29mdHBob25lIG1hbmFnZXIgUlRDIHBlZXIgY29ubmVjdGlvbiBtYW5hZ2VyLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5jb3JlLnNvZnRwaG9uZU1hbmFnZXIuX2luaXRpYXRlUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyKCkpOihyLmdldExvZygpLmluZm8oIltHUl0gUmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlciBSVEMgcGVlciBjb25uZWN0aW9uIGZhY3RvcnkuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuc29mdHBob25lTWFuYWdlci5fcmVmcmVzaFJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSgpKTpyLmdldExvZygpLmluZm8oIltHUl0gU29mdHBob25lIG1hbmFnZXIgbm90IGluaXRpYWxpemVkIG9yIG5vdCB1c2VkLCBub3QgcmVmcmVzaGluZyBzb2Z0cGhvbmUgbWFuYWdlci4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWNhdGNoKGUpe3IuZ2V0TG9nKCkuZXJyb3IoIltHUl0gVGhlcmUgd2FzIGFuIGVycm9yIHJlZnJlc2hpbmcgdGhlIHNvZnRwaG9uZSBtYW5hZ2VyLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25XZWJSVENGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXQmJihyLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj10LHIuQ2hhdFNlc3Npb24/ci5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZT8oci5nZXRMb2coKS5pbmZvKCJbR1JdIFVwZGF0aW5nIENoYXRKUyByZWdpb24gdG8gIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5DaGF0U2Vzc2lvbi5zZXRSZWdpb25PdmVycmlkZSh0KSk6ci5nZXRMb2coKS53YXJuKCJbR1JdIENoYXRKUyBwcmVzZW50LCBidXQgc2V0UmVnaW9uT3ZlcnJpZGUgbm90IGZvdW5kLiBDb25zaWRlciB1cGRhdGluZyB0byBsYXRlc3QgQ2hhdEpTIHZlcnNpb24iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOnIuZ2V0TG9nKCkuaW5mbygiW0dSXSBDaGF0SlMgbm90IHByZXNlbnQsIG5vdCB1cGRhdGluZyBDaGF0U2Vzc2lvbiByZWdpb24uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSksZS5nZXRBY3RpdmVDb25kdWl0KCkuc2VuZFVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5DT05GSUdVUkVfQ0NQX0NPTkRVSVQse2luc3RhbmNlU3RhdGU6ImFjdGl2ZSJ9KSxlLmdldEluYWN0aXZlQ29uZHVpdCgpLnNlbmRVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuQ09ORklHVVJFX0NDUF9DT05EVUlULHtpbnN0YW5jZVN0YXRlOiJpbmFjdGl2ZSJ9KTt0cnl7ci5jb3JlLl9zaG93SWZyYW1lKGUuZ2V0QWN0aXZlQ29uZHVpdCgpLmlmcmFtZSksci5jb3JlLl9oaWRlSWZyYW1lKGUuZ2V0SW5hY3RpdmVDb25kdWl0KCkuaWZyYW1lKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJbR1JdIFRoZXJlIHdhcyBhbiBlcnJvciB1cGRhdGluZyB0aGUgSUZyYW1lIHZpc2liaWxpdHkuIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvbklGcmFtZVN3YXBGYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfX0sci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb249ZnVuY3Rpb24odCxuKXt2YXIgbyxpLGEscyxjO2lmKCEodCBpbnN0YW5jZW9mIHIuR1JQcm94eUlmcmFtZUNvbmR1aXQpKXJldHVybiByLmdldExvZygpLmVycm9yKCJbR1JdIFRyaWVkIHRvIHN3aXRjaCBvdmVyIGFjdGl2ZSByZWdpb24sIGJ1dCBwcm94eSBjb25kdWl0IHdhcyBub3Qgb2YgZXhwZWN0ZWQgdHlwZS4iKS53aXRoT2JqZWN0KHt0eXBlOmUodCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExO3ZhciB1PXQuZ2V0Q29uZHVpdEJ5TmFtZShuKTtyZXR1cm4gdSBpbnN0YW5jZW9mIHIuSUZyYW1lQ29uZHVpdD90LmdldEFjdGl2ZUNvbmR1aXQoKS5uYW1lPT09dS5uYW1lJiZyLmdsb2JhbFJlc2lsaWVuY3kuX2FjdGl2ZVJlZ2lvbj09PXUucmVnaW9uPyhyLmdldExvZygpLmluZm8oIltHUl0gTm90IHN3aXRjaGluZyBvdmVyIGFjdGl2ZSByZWdpb24gYXMgd2UgYXJlIGFscmVhZHkgb24gYWN0aXZlIHJlZ2lvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLCExKTooci5nZXRMb2coKS5pbmZvKCJbR1JdIFN3aXRjaGluZyBhY3RpdmUgcmVnaW9uIGZyb20gIi5jb25jYXQobnVsbD09PShvPXQuZ2V0QWN0aXZlQ29uZHVpdCgpKXx8dm9pZCAwPT09bz92b2lkIDA6by5yZWdpb24sIiAvICIpLmNvbmNhdChudWxsPT09KGk9dC5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm5hbWUsIiB0byAiKS5jb25jYXQobnVsbD09dT92b2lkIDA6dS5yZWdpb24sIiAvICIpLmNvbmNhdChudWxsPT11P3ZvaWQgMDp1Lm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG51bGw9PT0oYT1yLmNvcmUpfHx2b2lkIDA9PT1hfHxudWxsPT09KGE9YS5zb2Z0cGhvbmVNYW5hZ2VyKXx8dm9pZCAwPT09YXx8YS5fY2xlYXJBbGxTZXNzaW9ucygpLHQuc2V0QWN0aXZlQ29uZHVpdCh1Lm5hbWUpLHIuZ2xvYmFsUmVzaWxpZW5jeS5faW5pdGlhbGl6ZUFjdGl2ZVJlZ2lvbih0LHUucmVnaW9uKSxyLmdldExvZygpLmluZm8oIltHUl0gU3dpdGNoZWQgYWN0aXZlIHJlZ2lvbiB0byAiLmNvbmNhdChudWxsPT09KHM9dC5nZXRBY3RpdmVDb25kdWl0KCkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnJlZ2lvbiwiIC8gIikuY29uY2F0KG51bGw9PT0oYz10LmdldEFjdGl2ZUNvbmR1aXQoKSl8fHZvaWQgMD09PWM/dm9pZCAwOmMubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJDYWxsZWRJbnRlcm5hbFN3aXRjaEFjdGl2ZVJlZ2lvblN1Y2Nlc3NmdWwiLGRhdGE6e2NvdW50OjF9fSksITApOihyLmdldExvZygpLmVycm9yKCJbR1JdIFRyaWVkIHRvIHN3aXRjaCBvdmVyIGFjdGl2ZSByZWdpb24sIGJ1dCBjb25kdWl0IG5hbWUgd2FzIGludmFsaWQiKS53aXRoT2JqZWN0KHtuZXdBY3RpdmVDb25kdWl0TmFtZTpufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMSl9LHIuZ2xvYmFsUmVzaWxpZW5jeS5pbml0R1JDQ1A9ZnVuY3Rpb24oZSxhKXt2YXIgcz1uKG4oe30sYSkse30se2xvZ2luT3B0aW9uczp7bGVnYWN5QXV0aEZsb3c6ITB9fSk7ci5nbG9iYWxSZXNpbGllbmN5LnBhcmFtcz1zO3ZhciBjLHUsbCxwPXt9LGQ9ITE7aWYoci5nbG9iYWxSZXNpbGllbmN5Ll9hY3RpdmVSZWdpb249bnVsbCxyLmdsb2JhbFJlc2lsaWVuY3kuZ2xvYmFsUmVzaWxpZW5jeUVuYWJsZWQ9ITAsci5jb3JlLmNoZWNrTm90SW5pdGlhbGl6ZWQoKSwhci5jb3JlLmluaXRpYWxpemVkKXtyLmdldExvZygpLmluZm8oIltHUl0gSWZyYW1lIGluaXRpYWxpemF0aW9uIHN0YXJ0ZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBmPURhdGUubm93KCk7ci5hc3NlcnROb3ROdWxsKGUsImNvbnRhaW5lckRpdiIpO3ZhciBoPW5ldyBVUkwocy5jY3BVcmwpLm9yaWdpbixnPW5ldyBVUkwocy5zZWNvbmRhcnlDQ1BVcmwpLm9yaWdpbixtPXIuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGUscyxoKSx2PXIuY29yZS5fY3JlYXRlQ0NQSWZyYW1lKGUsbihuKHt9LHMpLHt9LHtjY3BVcmw6cy5zZWNvbmRhcnlDQ1BVcmx9KSxnKSx5PW5ldyByLkdSUHJveHlJZnJhbWVDb25kdWl0KHdpbmRvdyxbbSx2XSxtLnNyYyk7ci5jb3JlLnVwc3RyZWFtPXksci5jb3JlLmV2ZW50QnVzPW5ldyByLkV2ZW50QnVzKHtsb2dFdmVudHM6ITF9KSxyLmdsb2JhbFJlc2lsaWVuY3kuX2luaXRpYWxpemVBY3RpdmVSZWdpb24oeSksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJJbml0R2xvYmFsUmVzaWxpZW5jeUNDUENhbGxlZCIsZGF0YTp7Y291bnQ6MX19KSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5jb3JlLl9zZW5kSWZyYW1lU3R5bGVEYXRhVXBzdHJlYW1BZnRlclJlYXNvbmFibGVXYWl0VGltZShlLmlmcmFtZSxlKX0pKSxyLmNvcmUud2ViU29ja2V0UHJvdmlkZXI9bmV3IHIuV2ViU29ja2V0UHJvdmlkZXIseS5vbkFsbFVwc3RyZWFtKHIuY29yZS5nZXRFdmVudEJ1cygpLmJyaWRnZSgpKSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5rZWVwYWxpdmVNYW5hZ2VyPW5ldyByLktlZXBhbGl2ZU1hbmFnZXIoZSxyLmNvcmUuZ2V0RXZlbnRCdXMoKSxzLmNjcFN5blRpbWVvdXR8fDFlMyxzLmNjcEFja1RpbWVvdXR8fDNlMyl9KSksci5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtT3V0ZXJDb250ZXh0Q0NQTG9nc1B1c2goeSksci5nZXRMb2coKS5zY2hlZHVsZVVwc3RyZWFtT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzUHVzaCh5KSx5Lm9uVXBzdHJlYW0oci5BZ2VudEV2ZW50cy5GRVRDSF9BR0VOVF9EQVRBX0ZST01fQ0NQLChmdW5jdGlvbihlKXtyLmNvcmUuZ2V0QWdlbnREYXRhUHJvdmlkZXIoKS51cGRhdGVBZ2VudERhdGEoZSksci5nZXRMb2coKS5pbmZvKCJbR1JdIEZldGNoZWQgYWdlbnQgZGF0YSBmcm9tIENDUC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtwW2UubmFtZV09e2lmcmFtZVJlZnJlc2hUaW1lb3V0Om51bGx9LHBbZS5uYW1lXS5jY3BMb2FkVGltZW91dEluc3RhbmNlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCxyLmlzQWN0aXZlQ29uZHVpdChlKT8oci5jb3JlLmdldEV2ZW50QnVzKCkudHJpZ2dlcihyLkV2ZW50VHlwZS5BQ0tfVElNRU9VVCksci5nZXRMb2coKS5pbmZvKCJDQ1AgTG9hZFRpbWVvdXQgdHJpZ2dlcmVkLiAiLmNvbmNhdChlLm5hbWUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTpyLmdldExvZygpLmVycm9yKCJDQ1AgTG9hZFRpbWVvdXQgZGV0ZWN0ZWQgYnV0IGlnbm9yZWQgZm9yIG5vbi1wcmltYXJ5IHJlZ2lvbnMuICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSxzLmNjcExvYWRUaW1lb3V0fHw1ZTMpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5FdmVudFR5cGUuQUNLTk9XTEVER0UsKGZ1bmN0aW9uKG4pe2lmKHIuZ2V0TG9nKCkuaW5mbygiQWNrbm93bGVkZ2VkIGJ5IHRoZSBDQ1AhICIuY29uY2F0KGUubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQ09ORklHVVJFLHtzb2Z0cGhvbmU6cy5zb2Z0cGhvbmUsY2hhdDpzLmNoYXQscGFnZU9wdGlvbnM6cy5wYWdlT3B0aW9ucyxzaG91bGRBZGROYW1lc3BhY2VUb0xvZ3M6cy5zaG91bGRBZGROYW1lc3BhY2VUb0xvZ3MsZW5hYmxlR2xvYmFsUmVzaWxpZW5jeTpzLmVuYWJsZUdsb2JhbFJlc2lsaWVuY3ksaW5zdGFuY2VTdGF0ZTpyLmlzQWN0aXZlQ29uZHVpdChlKT8iYWN0aXZlIjoiaW5hY3RpdmUifSkscFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2UmJih0LmNsZWFyVGltZW91dChwW2UubmFtZV0uY2NwTG9hZFRpbWVvdXRJbnN0YW5jZSkscFtlLm5hbWVdLmNjcExvYWRUaW1lb3V0SW5zdGFuY2U9bnVsbCksZS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuT1VURVJfQ09OVEVYVF9JTkZPLHtzdHJlYW1zVmVyc2lvbjpyLnZlcnNpb24saW5pdENDUFBhcmFtczpzfSksZS5rZWVwYWxpdmVNYW5hZ2VyLnN0YXJ0KCksci5pc0FjdGl2ZUNvbmR1aXQoZSkmJihyLmNvcmUuY2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdENsaWVudChlKSxyLmNvcmUubWFzdGVyQ2xpZW50PW5ldyByLlVwc3RyZWFtQ29uZHVpdE1hc3RlckNsaWVudChlKSxyLmNvcmUucG9ydFN0cmVhbUlkPW4uaWQsZikpe3ZhciBhPURhdGUubm93KCktZixjPXBbZS5uYW1lXS5pZnJhbWVSZWZyZXNoQXR0ZW1wdHx8MDtyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIGluaXRpYWxpemF0aW9uIHRpbWUgIi5jb25jYXQoYSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5nZXRMb2coKS5pbmZvKCJJZnJhbWUgcmVmcmVzaCBhdHRlbXB0cyAiLmNvbmNhdChjKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3IucHVibGlzaE1ldHJpYyh7bmFtZTpvLGRhdGE6e2NvdW50OmN9fSksci5wdWJsaXNoTWV0cmljKHtuYW1lOmksZGF0YTp7Y291bnQ6MX19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6IklmcmFtZUluaXRpYWxpemF0aW9uVGltZSIsZGF0YTp7Y291bnQ6YX19KSxmPW51bGx9KSwxZTMpfWUucG9ydFN0cmVhbUlkPW4uaWQsdGhpcy51bnN1YnNjcmliZSgpfSkpfSkpLHkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5MT0csKGZ1bmN0aW9uKGUpe2UubG9nZ2VySWQhPT1yLmdldExvZygpLmdldExvZ2dlcklkKCkmJnIuZ2V0TG9nKCkuYWRkTG9nRW50cnkoci5Mb2dFbnRyeS5mcm9tT2JqZWN0KGUpKX0pKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5FdmVudFR5cGUuQUNLX1RJTUVPVVQsKGZ1bmN0aW9uKCl7aWYoITEhPT1zLmxvZ2luUG9wdXApdHJ5e3ZhciBvPXMubG9naW5Vcmw7ci5nZXRMb2coKS53YXJuKCJBQ0tfVElNRU9VVCBvY2N1cnJlZCwgYXR0ZW1wdGluZyB0byBwb3AgdGhlIGxvZ2luIHBhZ2UgaWYgbm90IGFscmVhZHkgb3Blbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRQb3B1cE1hbmFnZXIoKS5jbGVhcihyLk1hc3RlclRvcGljcy5MT0dJTl9QT1BVUCksci5jb3JlLl9vcGVuUG9wdXBXaXRoTG9jayhvLHMubG9naW5PcHRpb25zKX1jYXRjaChlKXtyLmdldExvZygpLmVycm9yKCJBQ0tfVElNRU9VVCBvY2N1cnJlZCBidXQgd2UgYXJlIHVuYWJsZSB0byBvcGVuIHRoZSBsb2dpbiBwb3B1cC4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9eS5nZXRBbGxDb25kdWl0cygpLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKG51bGw9PT1wW28ubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQpdHJ5e28ub25VcHN0cmVhbShyLkV2ZW50VHlwZS5BQ0tOT1dMRURHRSwoZnVuY3Rpb24oKXt0aGlzLnVuc3Vic2NyaWJlKCksdC5jbGVhclRpbWVvdXQocFtvLm5hbWVdLmlmcmFtZVJlZnJlc2hUaW1lb3V0KSxwW28ubmFtZV0uaWZyYW1lUmVmcmVzaFRpbWVvdXQ9bnVsbCxyLmNvcmUuZ2V0UG9wdXBNYW5hZ2VyKCkuY2xlYXIoci5NYXN0ZXJUb3BpY3MuTE9HSU5fUE9QVVApLChzLmxvZ2luUG9wdXBBdXRvQ2xvc2V8fHMubG9naW5PcHRpb25zJiZzLmxvZ2luT3B0aW9ucy5hdXRvQ2xvc2UpJiZyLmNvcmUubG9naW5XaW5kb3cmJihyLmNvcmUubG9naW5XaW5kb3cuY2xvc2UoKSxyLmNvcmUubG9naW5XaW5kb3c9bnVsbCl9KSksci5jb3JlLl9yZWZyZXNoSWZyYW1lT25UaW1lb3V0KG4obih7fSxzKSx7fSx7Y2NwVXJsOm8uaWZyYW1lLnNyY30pLGUscFtvLm5hbWVdLG8ubmFtZSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVmcmVzaGluZyBpZnJhbWUiKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpfSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQsKGZ1bmN0aW9uKHQpe2lmKG51bGwhPXQmJnQuaW5zdGFuY2VSZWdpb24mJm51bGwhPXQmJnQuaW5zdGFuY2VTdGF0ZSYmbnVsbCE9dCYmdC5hY3RpdmVSZWdpb24pe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLklOSVQgaW5kaWNhdGluZyAiLmNvbmNhdChlLm5hbWUsIiBpbiByZWdpb24gIikuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQuaW5zdGFuY2VSZWdpb24sIiBpcyAiKS5jb25jYXQobnVsbD09dD92b2lkIDA6dC5pbnN0YW5jZVN0YXRlLCIuIikpLndpdGhPYmplY3Qoe2RhdGE6dH0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7dmFyIG49dC5pbnN0YW5jZVJlZ2lvbj09PXQuYWN0aXZlUmVnaW9uP2U6eS5nZXRPdGhlckNvbmR1aXQoZSk7aWYoZS5yZWdpb24mJm4ucmVnaW9ufHwoZS5yZWdpb249dC5pbnN0YW5jZVJlZ2lvbixuLnJlZ2lvbj10LmFjdGl2ZVJlZ2lvbiksZS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkNPTkZJR1VSRV9DQ1BfQ09ORFVJVCx7aW5zdGFuY2VTdGF0ZTp0Lmluc3RhbmNlU3RhdGV9KSxyLmNvcmUuaW5pdGlhbGl6ZWQpci5nZXRMb2coKS5sb2coIltHUl0gRGVkdXBpbmcgR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5JTklUIC0gQ29yZSBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZXtyLmdldExvZygpLmluZm8oIltHUl0gU2V0dGluZyBpbml0aWFsIGFjdGl2ZSBpZnJhbWUgdG8gIi5jb25jYXQobi5uYW1lLCIgaW4gcmVnaW9uICIpLmNvbmNhdChuLnJlZ2lvbiwiIGJlY2F1c2UgdGhlIGluc3RhbmNlIHN0YXRlIHdhcyBhY3RpdmUiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTt0cnl7ci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxuLm5hbWUpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uIGF0IGluaXRpYWxpemF0aW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfXIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuSU5JVCksci5jb3JlLmluaXRpYWxpemVkPSEwLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUNvcmVJbml0aWFsaXplZCIsZGF0YTp7Y291bnQ6MX19KX19ZWxzZSByLmdldExvZygpLmVycm9yKCJbR1JdIEV4cGVjdGVkIEdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSU5JVCB0byBoYXZlIGluc3RhbmNlIHJlZ2lvbiwgc3RhdGUsIGFuZCBjdXJyZW50IGFjdGl2ZSByZWdpb24sIGJ1dCBkaWQgbm90IGZpbmQgaXQuIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKSxlLm9uVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCwoZnVuY3Rpb24oZSl7aWYodT1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVySW5pdGlhdGVkUmVjZWl2ZWQiLGRhdGE6e2NvdW50OjF9fSksZCYmci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5UGVuZGluZ1RvSW5pdGlhdGVkTGF0ZW5jeSIsZGF0YTp7bGF0ZW5jeTp1LWN9fSksbnVsbCE9ZSYmZS5hY3RpdmVSZWdpb24pe3IuZ2V0TG9nKCkuaW5mbygiW0dSXSBSZWNlaXZlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCBpbmRpY2F0aW5nIHRoZSBhY3RpdmVSZWdpb24gaXMgIi5jb25jYXQoZS5hY3RpdmVSZWdpb24sIi4iKSk7dmFyIHQsbj15LmdldENvbmR1aXRCeVJlZ2lvbihlLmFjdGl2ZVJlZ2lvbik7bnx8KHIuZ2V0TG9nKCkuZGVidWcoIltHUl0gQSBjb25kdWl0IGRpZCBub3QgcmVjZWl2ZWQgR0xPQkFMX1JFU0lMSUVOQ1kuSU5JVCBldmVudCwgbGVhZGluZyB0byB0aGUgcmVnaW9uIGZpZWxkIGJlaW5nIHVucG9wdWxhdGVkLiIpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2b2lkIDAhPT10LnJlZ2lvbiYmbnVsbCE9PXQucmVnaW9ufHwodC5yZWdpb249ZS5hY3RpdmVSZWdpb24sbj10KX0pKSk7dHJ5e3Q9ci5nbG9iYWxSZXNpbGllbmN5Ll9zd2l0Y2hBY3RpdmVSZWdpb24oeSxuLm5hbWUpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeVN3aXRjaFJlZ2lvblN1Y2Nlc3MiLGRhdGE6e2NvdW50OjF9fSl9Y2F0Y2goZSl7ci5nZXRMb2coKS5lcnJvcigiW0dSXSBGYWlsdXJlIHN3aXRjaGluZyBhY3RpdmUgcmVnaW9uLiIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lTd2l0Y2hSZWdpb25GYWlsdXJlIixkYXRhOntjb3VudDoxfX0pfWlmKHQpe2Q9ITE7dmFyIG89eS5vblVwc3RyZWFtKHIuQWdlbnRFdmVudHMuVVBEQVRFLChmdW5jdGlvbigpe28udW5zdWJzY3JpYmUoKSxyLmNvcmUuZ2V0RXZlbnRCdXMoKS50cmlnZ2VyKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSx7YWN0aXZlUmVnaW9uOmUuYWN0aXZlUmVnaW9ufSkseS5zZW5kVXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFKSxyLmdldExvZygpLmluZm8oIltHUl0gR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9DT01QTEVURSBlbWl0dGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbD1EYXRlLm5vdygpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUZhaWxvdmVyQ29tcGxldGVkIixkYXRhOntjb3VudDoxfX0pLHIucHVibGlzaE1ldHJpYyh7bmFtZToiR2xvYmFsUmVzaWxpZW5jeUluaXRpYXRlZFRvQ29tcGxldGVkTGF0ZW5jeSIsZGF0YTp7bGF0ZW5jeTpsLXV9fSl9KSl9fWVsc2Ugci5nZXRMb2coKS5lcnJvcigiW0dSXSBFeHBlY3RlZCBHbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0lOSVRJQVRFRCB0byBoYXZlIG5ldyBhY3RpdmUgcmVnaW9uLCBidXQgZGlkIG5vdCBmaW5kIGl0LiIpLndpdGhPYmplY3Qoe2RhdGE6ZX0pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSkscy5vblZpZXdDb250YWN0JiZyLmNvcmUub25WaWV3Q29udGFjdChzLm9uVmlld0NvbnRhY3QpLHkub25VcHN0cmVhbShyLkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsKGZ1bmN0aW9uKGUpe3IubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPWUubGVuZ3RofSkpLHkuZ2V0QWxsQ29uZHVpdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm9uVXBzdHJlYW0oci5Wb2ljZUlkRXZlbnRzLlVQREFURV9ET01BSU5fSUQsKGZ1bmN0aW9uKHQpe3QmJnQuZG9tYWluSWQmJihlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkLHIuaXNBY3RpdmVDb25kdWl0KGUpJiYoci5jb3JlLnZvaWNlSWREb21haW5JZD10LmRvbWFpbklkKSl9KSl9KSksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLklGUkFNRV9SRVRSSUVTX0VYSEFVU1RFRCwoZnVuY3Rpb24oZSl7aWYoZT09PXkuZ2V0QWN0aXZlQ29uZHVpdCgpLm5hbWUmJmYpe3ZhciB0PXBbeS5nZXRBY3RpdmVDb25kdWl0KCkubmFtZV0uaWZyYW1lUmVmcmVzaEF0dGVtcHQtMTtyLmdldExvZygpLmluZm8oIklmcmFtZSBpbml0aWFsaXphdGlvbiBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiVGltZSBhZnRlciBpZnJhbWUgaW5pdGlhbGl6YXRpb24gc3RhcnRlZCAiLmNvbmNhdChEYXRlLm5vdygpLWYpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuZ2V0TG9nKCkuaW5mbygiSWZyYW1lIHJlZnJlc2ggYXR0ZW1wdHMgIi5jb25jYXQodCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksci5wdWJsaXNoTWV0cmljKHtuYW1lOm8sZGF0YTp7Y291bnQ6dH19KSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6aSxkYXRhOntjb3VudDowfX0pLGY9bnVsbH19KSksci5jb3JlLnNvZnRwaG9uZVBhcmFtcz1zLnNvZnRwaG9uZSx5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5vblVwc3RyZWFtKHIuR2xvYmFsUmVzaWxpZW5jeUV2ZW50cy5GQUlMT1ZFUl9QRU5ESU5HLChmdW5jdGlvbih0KXtyLmlzQWN0aXZlQ29uZHVpdChlKSYmKGQ/ci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEZBSUxPVkVSX1BFTkRJTkcgLSBkZWR1cGluZywgd2lsbCBub3QgdHJpZ2dlciBldmVudCBzdWJzY3JpcHRpb24uIikud2l0aE9iamVjdCh7ZGF0YTp0fSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTooci5nZXRMb2coKS5pbmZvKCJbR1JdIFJlY2VpdmVkIEZBSUxPVkVSX1BFTkRJTkciKS53aXRoT2JqZWN0KHtkYXRhOnR9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkdfQ1JNLHtuZXh0QWN0aXZlUmVnaW9uOnQuYWN0aXZlUmVnaW9ufSksZD0hMCxjPURhdGUubm93KCksci5wdWJsaXNoTWV0cmljKHtuYW1lOiJHbG9iYWxSZXNpbGllbmN5RmFpbG92ZXJQZW5kaW5nUmVjZWl2ZWQiLGRhdGE6e2NvdW50OjF9fSkpKX0pKX0pKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX1BFTkRJTkcpLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuRkFJTE9WRVJfSU5JVElBVEVEKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkZBSUxPVkVSX0NPTVBMRVRFKSx5LnJlbGF5VXBzdHJlYW0oci5HbG9iYWxSZXNpbGllbmN5RXZlbnRzLkhFQVJUQkVBVF9TWU4pLHkucmVsYXlVcHN0cmVhbShyLkdsb2JhbFJlc2lsaWVuY3lFdmVudHMuSEVBUlRCRUFUX0FDSyksci5jb3JlLmdldEV2ZW50QnVzKCkuc3Vic2NyaWJlKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCwoZnVuY3Rpb24oKXt5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWdpb258fCJyZWdpb24iO2Uuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUCx7bG9nTmFtZToiY2NwLSIuY29uY2F0KHQsIi1hZ2VudC1sb2ciKX0pfSkpfSkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGU9MDt5LmdldEFsbENvbmR1aXRzKCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5yZWdpb24mJihlKz0xKX0pKSxlPDImJihyLmdldExvZygpLmluZm8oIltHUl0gT25lIG9yIG1vcmUgY29uZHVpdHMgZGlkIG5vdCBHbG9iYWxSZXNpbGllbmN5LklOSVQgZXZlbnQgdG8gQ1JNIGxheWVyLiIpLndpdGhPYmplY3Qoe2ZpcnN0Q29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzBdLm5hbWUsZmlyc3RDb25kdWl0UmVnaW9uOnkuZ2V0QWxsQ29uZHVpdHMoKVswXS5yZWdpb24sc2Vjb25kQ29uZHVpdE5hbWU6eS5nZXRBbGxDb25kdWl0cygpWzFdLm5hbWUsc2Vjb25kQ29uZHVpdFJlZ2lvbjp5LmdldEFsbENvbmR1aXRzKClbMV0ucmVnaW9ufSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLnB1Ymxpc2hNZXRyaWMoe25hbWU6Ikdsb2JhbFJlc2lsaWVuY3lQYXJ0aWFsSW5pdGlhbGl6YXRpb24iLGRhdGE6e2NvdW50OjF9fSkpfSksM2U0KX19fSgpfSw5NTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9IWZ1bmN0aW9uKHQpe3ZhciBuPXt9O2Z1bmN0aW9uIHIoZSl7aWYobltlXSlyZXR1cm4gbltlXS5leHBvcnRzO3ZhciBvPW5bZV09e2k6ZSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2VdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8ubD0hMCxvLmV4cG9ydHN9ci5tPXQsci5jPW4sci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKHQsbil7aWYoMSZuJiYodD1yKHQpKSw4Jm4pcmV0dXJuIHQ7aWYoNCZuJiYib2JqZWN0Ij09ZSh0KSYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBvPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZuJiYic3RyaW5nIiE9dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpci5kKG8saSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGkpKTtyZXR1cm4gb30sci5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiByLmQodCwiYSIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9IiIscihyLnM9Mil9KFtmdW5jdGlvbih0LG4scil7InVzZSBzdHJpY3QiO3ZhciBvPXIoMSksaT0iREVCVUciLGE9IkFNWl9XRUJfU09DS0VUX01BTkFHRVI6IixzPSJOZXR3b3JrIG9mZmxpbmUiLGM9Ik5ldHdvcmsgb25saW5lLCBjb25uZWN0aW5nIHRvIFdlYlNvY2tldCBzZXJ2ZXIiLHU9Ik5ldHdvcmsgb2ZmbGluZSwgaWdub3JpbmcgdGhpcyBnZXRXZWJTb2NrZXRDb25uQ29uZmlnIHJlcXVlc3QiLGw9IkhlYXJ0YmVhdCByZXNwb25zZSBub3QgcmVjZWl2ZWQiLHA9IkZhaWxlZCB0byBzZW5kIGhlYXJ0YmVhdCBzaW5jZSBXZWJTb2NrZXQgaXMgbm90IG9wZW4iLGQ9IldlYlNvY2tldCBjb25uZWN0aW9uIGVzdGFibGlzaGVkISIsZj0iV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgY2xvc2VkIixoPSJXZWJTb2NrZXRNYW5hZ2VyIEVycm9yLCBlcnJvcl9ldmVudDogIixnPSJTY2hlZHVsaW5nIFdlYlNvY2tldCByZWluaXRpYWxpemF0aW9uLCBhZnRlciBkZWxheSAiLG09IldlYlNvY2tldCBVUkwgY2Fubm90IGJlIHVzZWQgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24iLHY9IldlYlNvY2tldCBJbml0aWFsaXphdGlvbiBmYWlsZWQgLSBUZXJtaW5hdGluZyBhbmQgY2xlYW5pbmcgc3Vic2NyaXB0aW9ucyIseT0iRmV0Y2hpbmcgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLGI9IlN1Y2Nlc3NmdWxseSBmZXRjaGVkIHdlYlNvY2tldCBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24iLEU9IkZhaWxlZCB0byBmZXRjaCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIixTPSJSZXRyeWluZyBmZXRjaGluZyBuZXcgV2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiIsQz0iSW5pdGlhbGl6aW5nIFdlYnNvY2tldCBNYW5hZ2VyIixUPSJXZWJTb2NrZXRNYW5hZ2VyIE1lc3NhZ2UgRXJyb3IiLEk9Ik1lc3NhZ2UgcmVjZWl2ZWQgZm9yIHRvcGljICIsdz0iSW52YWxpZCBpbmNvbWluZyBtZXNzYWdlIixBPSJhd3Mvc3Vic2NyaWJlIixfPSJhd3MvaGVhcnRiZWF0IixSPSJkaXNjb25uZWN0ZWQiO2Z1bmN0aW9uIE8odCl7cmV0dXJuKE89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PWUoU3ltYm9sLml0ZXJhdG9yKT9mdW5jdGlvbih0KXtyZXR1cm4gZSh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOmUodCl9KSh0KX12YXIgTD17YXNzZXJ0VHJ1ZTpmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0KX0sYXNzZXJ0Tm90TnVsbDpmdW5jdGlvbihlLHQpe3JldHVybiBMLmFzc2VydFRydWUobnVsbCE9PWUmJnZvaWQgMCE9PU8oZSksT2JqZWN0KG8uc3ByaW50ZikoIiVzIG11c3QgYmUgcHJvdmlkZWQiLHR8fCJBIHZhbHVlIikpLGV9LGlzTm9uRW1wdHlTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wfSxhc3NlcnRJc0xpc3Q6ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhbiBhcnJheSIpfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuY29uc3RydWN0b3ImJmUuY2FsbCYmZS5hcHBseSl9LGlzT2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiEoIm9iamVjdCIhPT1PKGUpfHxudWxsPT09ZSl9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX0saXNOdW1iZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfX0saz1uZXcgUmVnRXhwKCJeKHdzczovLylcXHcqIik7TC52YWxpZFdTVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBrLnRlc3QoZSl9LEwuZ2V0U3Vic2NyaXB0aW9uUmVzcG9uc2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybnt0b3BpYzplLGNvbnRlbnQ6e3N0YXR1czp0PyJzdWNjZXNzIjoiZmFpbHVyZSIsdG9waWNzOm59fX0sTC5hc3NlcnRJc09iamVjdD1mdW5jdGlvbihlLHQpe2lmKCFMLmlzT2JqZWN0KGUpKXRocm93IG5ldyBFcnJvcih0KyIgaXMgbm90IGFuIG9iamVjdCEiKX0sTC5hZGRKaXR0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7dD1NYXRoLm1pbih0LDEpO3ZhciBuPU1hdGgucmFuZG9tKCk+LjU/MTotMTtyZXR1cm4gTWF0aC5mbG9vcihlK24qZSpNYXRoLnJhbmRvbSgpKnQpfSxMLmlzTmV0d29ya09ubGluZT1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3Iub25MaW5lfSxMLmlzTmV0d29ya0ZhaWx1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5fZGVidWd8fCFlLl9kZWJ1Zy50eXBlKSYmIk5ldHdvcmtpbmdFcnJvciI9PT1lLl9kZWJ1Zy50eXBlfTt2YXIgTj1MO2Z1bmN0aW9uIFAoZSl7cmV0dXJuKFA9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0pKGUpfWZ1bmN0aW9uIEQoZSx0KXtyZXR1cm4oRD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0pKGUsdCl9ZnVuY3Rpb24geCh0KXtyZXR1cm4oeD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09ZShTeW1ib2wuaXRlcmF0b3IpP2Z1bmN0aW9uKHQpe3JldHVybiBlKHQpfTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6ZSh0KX0pKHQpfWZ1bmN0aW9uIE0oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiBVKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsInZhbHVlImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19ZnVuY3Rpb24gRihlLHQsbil7cmV0dXJuIHQmJlUoZS5wcm90b3R5cGUsdCksbiYmVShlLG4pLGV9dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7TSh0aGlzLGUpfXJldHVybiBGKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJpbmZvIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbihlKXt9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oZSl7fX0se2tleToiYWR2YW5jZWRMb2ciLHZhbHVlOmZ1bmN0aW9uKGUpe319XSksZX0oKSxxPWEsQj17REVCVUc6MTAsSU5GTzoyMCxXQVJOOjMwLEVSUk9SOjQwLEFEVkFOQ0VEX0xPRzo1MH0sRz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtNKHRoaXMsZSksdGhpcy51cGRhdGVMb2dnZXJDb25maWcoKSx0aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyPUgoKX1yZXR1cm4gRihlLFt7a2V5OiJ3cml0ZVRvQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHRoaXMuaGFzQ2xpZW50TG9nZ2VyKCkpc3dpdGNoKGUpe2Nhc2UgQi5ERUJVRzpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLmRlYnVnKHQpfHx0O2Nhc2UgQi5JTkZPOnJldHVybiB0aGlzLl9jbGllbnRMb2dnZXIuaW5mbyh0KXx8dDtjYXNlIEIuV0FSTjpyZXR1cm4gdGhpcy5fY2xpZW50TG9nZ2VyLndhcm4odCl8fHQ7Y2FzZSBCLkVSUk9SOnJldHVybiB0aGlzLl9jbGllbnRMb2dnZXIuZXJyb3IodCl8fHQ7Y2FzZSBCLkFEVkFOQ0VEX0xPRzpyZXR1cm4gdGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI/dGhpcy5fY2xpZW50TG9nZ2VyW3RoaXMuX2FkdmFuY2VkTG9nV3JpdGVyXSh0KXx8dDoiIn19fSx7a2V5OiJpc0xldmVsRW5hYmxlZCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PXRoaXMuX2xldmVsfX0se2tleToiaGFzQ2xpZW50TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5fY2xpZW50TG9nZ2VyfX0se2tleToiZ2V0TG9nZ2VyIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lLnByZWZpeHx8cTtyZXR1cm4gdGhpcy5fbG9nc0Rlc3RpbmF0aW9uPT09aT90aGlzLmNvbnNvbGVMb2dnZXJXcmFwcGVyOm5ldyBXKHQpfX0se2tleToidXBkYXRlTG9nZ2VyQ29uZmlnIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1lfHx7fTt0aGlzLl9sZXZlbD10LmxldmVsfHxCLklORk8sdGhpcy5fYWR2YW5jZWRMb2dXcml0ZXI9Indhcm4iLHQuYWR2YW5jZWRMb2dXcml0ZXImJih0aGlzLl9hZHZhbmNlZExvZ1dyaXRlcj10LmFkdmFuY2VkTG9nV3JpdGVyKSx0LmN1c3RvbWl6ZWRMb2dnZXImJiJvYmplY3QiPT09eCh0LmN1c3RvbWl6ZWRMb2dnZXIpJiYodGhpcy51c2VDbGllbnRMb2dnZXI9ITApLHRoaXMuX2NsaWVudExvZ2dlcj10LmxvZ2dlcnx8dGhpcy5zZWxlY3RMb2dnZXIodCksdGhpcy5fbG9nc0Rlc3RpbmF0aW9uPSJOVUxMIix0LmRlYnVnJiYodGhpcy5fbG9nc0Rlc3RpbmF0aW9uPWkpLHQubG9nZ2VyJiYodGhpcy5fbG9nc0Rlc3RpbmF0aW9uPSJDTElFTlRfTE9HR0VSIil9fSx7a2V5OiJzZWxlY3RMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmN1c3RvbWl6ZWRMb2dnZXImJiJvYmplY3QiPT09eChlLmN1c3RvbWl6ZWRMb2dnZXIpP2UuY3VzdG9taXplZExvZ2dlcjplLnVzZURlZmF1bHRMb2dnZXI/KHRoaXMuY29uc29sZUxvZ2dlcldyYXBwZXI9SCgpLHRoaXMuY29uc29sZUxvZ2dlcldyYXBwZXIpOm51bGx9fV0pLGV9KCksVj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtNKHRoaXMsZSl9cmV0dXJuIEYoZSxbe2tleToiZGVidWciLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToiaW5mbyIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImVycm9yIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImFkdmFuY2VkTG9nIix2YWx1ZTpmdW5jdGlvbigpe319XSksZX0oKSxXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbjtyZXR1cm4gTSh0aGlzLGUpLChuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fCJvYmplY3QiIT09eCh0KSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfShlKTp0fSh0aGlzLFAoZSkuY2FsbCh0aGlzKSkpLnByZWZpeD10fHxxLG59cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJkQoZSx0KX0oZSxWKSxGKGUsW3trZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5ERUJVRyx0KX19LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLklORk8sdCl9fSx7a2V5OiJ3YXJuIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0aGlzLl9sb2coQi5XQVJOLHQpfX0se2tleToiZXJyb3IiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLkVSUk9SLHQpfX0se2tleToiYWR2YW5jZWRMb2ciLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIHRoaXMuX2xvZyhCLkFEVkFOQ0VEX0xPRyx0KX19LHtrZXk6Il9zaG91bGRMb2ciLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB6Lmhhc0NsaWVudExvZ2dlcigpJiZ6LmlzTGV2ZWxFbmFibGVkKGUpfX0se2tleToiX3dyaXRlVG9DbGllbnRMb2dnZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHoud3JpdGVUb0NsaWVudExvZ2dlcihlLHQpfX0se2tleToiX2xvZyIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLl9zaG91bGRMb2coZSkpe3ZhciBuPXoudXNlQ2xpZW50TG9nZ2VyP3Q6dGhpcy5fY29udmVydFRvU2luZ2xlU3RhdGVtZW50KHQsZSk7cmV0dXJuIHRoaXMuX3dyaXRlVG9DbGllbnRMb2dnZXIoZSxuKX19fSx7a2V5OiJfY29udmVydFRvU2luZ2xlU3RhdGVtZW50Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBEYXRlKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCkscj10aGlzLl9nZXRMb2dMZXZlbEJ5VmFsdWUodCksbz0iWyIuY29uY2F0KG4sIl1bIikuY29uY2F0KHIsIl0iKTt0aGlzLnByZWZpeCYmKG8rPXRoaXMucHJlZml4KyIgIiksdGhpcy5vcHRpb25zJiYodGhpcy5vcHRpb25zLnByZWZpeD9vKz0iICIrdGhpcy5vcHRpb25zLnByZWZpeCsiOiI6bys9IiIsdGhpcy5vcHRpb25zLmxvZ01ldGFEYXRhP28rPSIgTWV0YSBkYXRhOiAiK0pTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucy5sb2dNZXRhRGF0YSk6bys9IiIpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgYT1lW2ldO28rPXRoaXMuX2NvbnZlcnRUb1N0cmluZyhhKSsiICJ9cmV0dXJuIG99fSx7a2V5OiJfZ2V0TG9nTGV2ZWxCeVZhbHVlIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAxMDpyZXR1cm4iREVCVUciO2Nhc2UgMjA6cmV0dXJuIklORk8iO2Nhc2UgMzA6cmV0dXJuIldBUk4iO2Nhc2UgNDA6cmV0dXJuIkVSUk9SIjtjYXNlIDUwOnJldHVybiJBRFZBTkNFRF9MT0cifX19LHtrZXk6Il9jb252ZXJ0VG9TdHJpbmciLHZhbHVlOmZ1bmN0aW9uKGUpe3RyeXtpZighZSlyZXR1cm4iIjtpZihOLmlzU3RyaW5nKGUpKXJldHVybiBlO2lmKE4uaXNPYmplY3QoZSkmJk4uaXNGdW5jdGlvbihlLnRvU3RyaW5nKSl7dmFyIHQ9ZS50b1N0cmluZygpO2lmKCJbb2JqZWN0IE9iamVjdF0iIT09dClyZXR1cm4gdH1yZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIkVycm9yIHdoaWxlIGNvbnZlcnRpbmcgYXJndW1lbnQgdG8gc3RyaW5nIixlLHQpLCIifX19XSksZX0oKSxIPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFY7cmV0dXJuIGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5kZWJ1Zy5hcHBseSh3aW5kb3cuY29uc29sZSxbXS5jb25jYXQodCkpfSxlLmluZm89ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gY29uc29sZS5pbmZvLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGUud2Fybj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBjb25zb2xlLndhcm4uYXBwbHkod2luZG93LmNvbnNvbGUsW10uY29uY2F0KHQpKX0sZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBjb25zb2xlLmVycm9yLmFwcGx5KHdpbmRvdy5jb25zb2xlLFtdLmNvbmNhdCh0KSl9LGV9LHo9bmV3IEc7ZnVuY3Rpb24gSyhlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MmUzOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpLHRoaXMubnVtQXR0ZW1wdHM9MCx0aGlzLmV4ZWN1dG9yPXQsdGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb249ITEsdGhpcy5kZWZhdWx0UmV0cnk9bn12YXIgdCxuO3JldHVybiB0PWUsKG49W3trZXk6InJldHJ5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5oYXNBY3RpdmVSZWNvbm5lY3Rpb258fCh0aGlzLmhhc0FjdGl2ZVJlY29ubmVjdGlvbj0hMCxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX2V4ZWN1dGUoKX0pLHRoaXMuX2dldERlbGF5KCkpKX19LHtrZXk6Il9leGVjdXRlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGFzQWN0aXZlUmVjb25uZWN0aW9uPSExLHRoaXMuZXhlY3V0b3IoKSx0aGlzLm51bUF0dGVtcHRzKyt9fSx7a2V5OiJjb25uZWN0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5udW1BdHRlbXB0cz0wfX0se2tleToiX2dldERlbGF5Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPU1hdGgucG93KDIsdGhpcy5udW1BdHRlbXB0cykqdGhpcy5kZWZhdWx0UmV0cnk7cmV0dXJuIGU8PTNlND9lOjNlNH19LHtrZXk6ImdldElzQ29ubmVjdGVkIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLm51bUF0dGVtcHRzfX1dKSYmSyh0LnByb3RvdHlwZSxuKSxlfSgpO3IuZChuLCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gSn0pKTt2YXIgWD1mdW5jdGlvbigpe3ZhciBlPXouZ2V0TG9nZ2VyKHtwcmVmaXg6YX0pLHQ9Ti5pc05ldHdvcmtPbmxpbmUoKSxuPXtwcmltYXJ5Om51bGwsc2Vjb25kYXJ5Om51bGx9LHI9e3JlY29ubmVjdFdlYlNvY2tldDohMCx3ZWJzb2NrZXRJbml0RmFpbGVkOiExLGV4cG9uZW50aWFsQmFja09mZlRpbWU6MWUzLGV4cG9uZW50aWFsVGltZW91dEhhbmRsZTpudWxsLGxpZmVUaW1lVGltZW91dEhhbmRsZTpudWxsLHdlYlNvY2tldEluaXRDaGVja2VyVGltZW91dElkOm51bGwsY29ublN0YXRlOm51bGx9LG89e2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50OjAsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6bnVsbCxub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcDpudWxsfSxpPXtwZW5kaW5nUmVzcG9uc2U6ITEsaW50ZXJ2YWxIYW5kbGU6bnVsbH0sTz17aW5pdEZhaWx1cmU6bmV3IFNldCxnZXRXZWJTb2NrZXRUcmFuc3BvcnQ6bnVsbCxzdWJzY3JpcHRpb25VcGRhdGU6bmV3IFNldCxzdWJzY3JpcHRpb25GYWlsdXJlOm5ldyBTZXQsdG9waWM6bmV3IE1hcCxhbGxNZXNzYWdlOm5ldyBTZXQsY29ubmVjdGlvbkdhaW46bmV3IFNldCxjb25uZWN0aW9uTG9zdDpuZXcgU2V0LGNvbm5lY3Rpb25PcGVuOm5ldyBTZXQsY29ubmVjdGlvbkNsb3NlOm5ldyBTZXR9LEw9e2Nvbm5Db25maWc6bnVsbCxwcm9taXNlSGFuZGxlOm51bGwscHJvbWlzZUNvbXBsZXRlZDohMH0saz17c3Vic2NyaWJlZDpuZXcgU2V0LHBlbmRpbmc6bmV3IFNldCxzdWJzY3JpcHRpb25IaXN0b3J5Om5ldyBTZXR9LFA9e3Jlc3BvbnNlQ2hlY2tJbnRlcnZhbElkOm51bGwscmVxdWVzdENvbXBsZXRlZDohMCxyZVN1YnNjcmliZUludGVydmFsSWQ6bnVsbCxjb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzOjAsY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdDowfSxEPW5ldyBZKChmdW5jdGlvbigpe3NlKCl9KSkseD1uZXcgU2V0KFtBLCJhd3MvdW5zdWJzY3JpYmUiLF9dKSxNPXNldEludGVydmFsKChmdW5jdGlvbigpe2lmKHQhPT1OLmlzTmV0d29ya09ubGluZSgpKXtpZighKHQ9Ti5pc05ldHdvcmtPbmxpbmUoKSkpcmV0dXJuIGUuYWR2YW5jZWRMb2cocyksdm9pZCBsZShlLmluZm8ocykpO3ZhciBuPVYoKTt0JiYoIW58fHEobixXZWJTb2NrZXQuQ0xPU0lORyl8fHEobixXZWJTb2NrZXQuQ0xPU0VEKSkmJihlLmFkdmFuY2VkTG9nKGMpLGxlKGUuaW5mbyhjKSksc2UoKSl9fSksMjUwKSxVPWZ1bmN0aW9uKHQsbil7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0cnl7dChuKX1jYXRjaCh0KXtsZShlLmVycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLHQpKX19KSl9LEY9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuIk5VTEwiO3N3aXRjaChlLnJlYWR5U3RhdGUpe2Nhc2UgV2ViU29ja2V0LkNPTk5FQ1RJTkc6cmV0dXJuIkNPTk5FQ1RJTkciO2Nhc2UgV2ViU29ja2V0Lk9QRU46cmV0dXJuIk9QRU4iO2Nhc2UgV2ViU29ja2V0LkNMT1NJTkc6cmV0dXJuIkNMT1NJTkciO2Nhc2UgV2ViU29ja2V0LkNMT1NFRDpyZXR1cm4iQ0xPU0VEIjtkZWZhdWx0OnJldHVybiJVTkRFRklORUQifX0saj1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIjtsZShlLmRlYnVnKCJbIit0KyJdIFByaW1hcnkgV2ViU29ja2V0OiAiK0Yobi5wcmltYXJ5KSsiIHwgU2Vjb25kYXJ5IFdlYlNvY2tldDogIitGKG4uc2Vjb25kYXJ5KSkpfSxxPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUucmVhZHlTdGF0ZT09PXR9LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIHEoZSxXZWJTb2NrZXQuT1BFTil9LEc9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHx2b2lkIDA9PT1lLnJlYWR5U3RhdGV8fHEoZSxXZWJTb2NrZXQuQ0xPU0VEKX0sVj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09bi5zZWNvbmRhcnk/bi5zZWNvbmRhcnk6bi5wcmltYXJ5fSxXPWZ1bmN0aW9uKCl7cmV0dXJuIEIoVigpKX0sSD1mdW5jdGlvbigpe2lmKGkucGVuZGluZ1Jlc3BvbnNlKXJldHVybiBlLmFkdmFuY2VkTG9nKGwpLGxlKGUud2FybihsKSksY2xlYXJJbnRlcnZhbChpLmludGVydmFsSGFuZGxlKSxpLnBlbmRpbmdSZXNwb25zZT0hMSx2b2lkIHNlKCk7VygpPyhsZShlLmRlYnVnKCJTZW5kaW5nIGhlYXJ0YmVhdCIpKSxWKCkuc2VuZChpZShfKSksaS5wZW5kaW5nUmVzcG9uc2U9ITApOihlLmFkdmFuY2VkTG9nKHApLGxlKGUud2FybihwKSksaigic2VuZEhlYXJ0QmVhdCIpLHNlKCkpfSxLPWZ1bmN0aW9uKCl7ZS5hZHZhbmNlZExvZygiUmVzZXQgV2Vic29ja2V0IHN0YXRlIiksci5leHBvbmVudGlhbEJhY2tPZmZUaW1lPTFlMyxpLnBlbmRpbmdSZXNwb25zZT0hMSxyLnJlY29ubmVjdFdlYlNvY2tldD0hMCxjbGVhclRpbWVvdXQoci5saWZlVGltZVRpbWVvdXRIYW5kbGUpLGNsZWFySW50ZXJ2YWwoaS5pbnRlcnZhbEhhbmRsZSksY2xlYXJUaW1lb3V0KHIuZXhwb25lbnRpYWxUaW1lb3V0SGFuZGxlKSxjbGVhclRpbWVvdXQoci53ZWJTb2NrZXRJbml0Q2hlY2tlclRpbWVvdXRJZCl9LFg9ZnVuY3Rpb24oKXtQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHM9MCxQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q9MCxjbGVhckludGVydmFsKFAucmVzcG9uc2VDaGVja0ludGVydmFsSWQpLGNsZWFySW50ZXJ2YWwoUC5yZVN1YnNjcmliZUludGVydmFsSWQpfSxKPWZ1bmN0aW9uKCl7by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudD0wLG8uY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU9bnVsbCxvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wPW51bGx9LFE9ZnVuY3Rpb24oKXtELmNvbm5lY3RlZCgpO3RyeXtlLmFkdmFuY2VkTG9nKGQpLGxlKGUuaW5mbyhkKSksaigid2ViU29ja2V0T25PcGVuIiksbnVsbCE9PXIuY29ublN0YXRlJiZyLmNvbm5TdGF0ZSE9PVJ8fFUoTy5jb25uZWN0aW9uR2Fpbiksci5jb25uU3RhdGU9ImNvbm5lY3RlZCI7dmFyIHQ9RGF0ZS5ub3coKTtVKE8uY29ubmVjdGlvbk9wZW4se2Nvbm5lY3RXZWJTb2NrZXRSZXRyeUNvdW50Om8uY29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQsY29ubmVjdGlvbkF0dGVtcHRTdGFydFRpbWU6by5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSxub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcDpvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wLGNvbm5lY3Rpb25Fc3RhYmxpc2hlZFRpbWU6dCx0aW1lVG9Db25uZWN0OnQtby5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZSx0aW1lV2l0aG91dENvbm5lY3Rpb246by5ub09wZW5Db25uZWN0aW9uc1RpbWVzdGFtcD90LW8ubm9PcGVuQ29ubmVjdGlvbnNUaW1lc3RhbXA6bnVsbH0pLEooKSxLKCksVigpLm9wZW5UaW1lc3RhbXA9RGF0ZS5ub3coKSwwPT09ay5zdWJzY3JpYmVkLnNpemUmJkIobi5zZWNvbmRhcnkpJiZ0ZShuLnByaW1hcnksIltQcmltYXJ5IFdlYlNvY2tldF0gQ2xvc2luZyBXZWJTb2NrZXQiKSwoay5zdWJzY3JpYmVkLnNpemU+MHx8ay5wZW5kaW5nLnNpemU+MCkmJihCKG4uc2Vjb25kYXJ5KSYmbGUoZS5pbmZvKCJTdWJzY3JpYmluZyBzZWNvbmRhcnkgd2Vic29ja2V0IHRvIHRvcGljcyBvZiBwcmltYXJ5IHdlYnNvY2tldCIpKSxrLnN1YnNjcmliZWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ay5zdWJzY3JpcHRpb25IaXN0b3J5LmFkZChlKSxrLnBlbmRpbmcuYWRkKGUpfSkpLGsuc3Vic2NyaWJlZC5jbGVhcigpLGVlKCkpLEgoKSxpLmludGVydmFsSGFuZGxlPXNldEludGVydmFsKEgsMWU0KTt2YXIgYT0xZTMqTC5jb25uQ29uZmlnLndlYlNvY2tldFRyYW5zcG9ydC50cmFuc3BvcnRMaWZlVGltZUluU2Vjb25kcztsZShlLmRlYnVnKCJTY2hlZHVsaW5nIFdlYlNvY2tldCBtYW5hZ2VyIHJlY29ubmVjdGlvbiwgYWZ0ZXIgZGVsYXkgIithKyIgbXMiKSksci5saWZlVGltZVRpbWVvdXRIYW5kbGU9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtsZShlLmRlYnVnKCJTdGFydGluZyBzY2hlZHVsZWQgV2ViU29ja2V0IG1hbmFnZXIgcmVjb25uZWN0aW9uIikpLHNlKCl9KSxhKX1jYXRjaCh0KXtsZShlLmVycm9yKCJFcnJvciBhZnRlciBlc3RhYmxpc2hpbmcgV2ViU29ja2V0IGNvbm5lY3Rpb24iLHQpKX19LFo9ZnVuY3Rpb24odCl7aigid2ViU29ja2V0T25FcnJvciIpLGUuYWR2YW5jZWRMb2coaCxKU09OLnN0cmluZ2lmeSh0KSksbGUoZS5lcnJvcihoLEpTT04uc3RyaW5naWZ5KHQpKSksRC5nZXRJc0Nvbm5lY3RlZCgpP3NlKCk6RC5yZXRyeSgpfSwkPWZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodC5kYXRhKTtzd2l0Y2goci50b3BpYyl7Y2FzZSBBOmlmKGxlKGUuZGVidWcoIlN1YnNjcmlwdGlvbiBNZXNzYWdlIHJlY2VpdmVkIGZyb20gd2ViU29ja2V0IHNlcnZlciIsdC5kYXRhKSksUC5yZXF1ZXN0Q29tcGxldGVkPSEwLFAuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdD0wLCJzdWNjZXNzIj09PXIuY29udGVudC5zdGF0dXMpUC5jb25zZWN1dGl2ZUZhaWxlZFN1YnNjcmliZUF0dGVtcHRzPTAsci5jb250ZW50LnRvcGljcy5mb3JFYWNoKChmdW5jdGlvbihlKXtrLnN1YnNjcmlwdGlvbkhpc3RvcnkuZGVsZXRlKGUpLGsucGVuZGluZy5kZWxldGUoZSksay5zdWJzY3JpYmVkLmFkZChlKX0pKSwwPT09ay5zdWJzY3JpcHRpb25IaXN0b3J5LnNpemU/QihuLnNlY29uZGFyeSkmJihsZShlLmluZm8oIlN1Y2Nlc3NmdWxseSBzdWJzY3JpYmVkIHNlY29uZGFyeSB3ZWJzb2NrZXQgdG8gYWxsIHRvcGljcyBvZiBwcmltYXJ5IHdlYnNvY2tldCIpKSx0ZShuLnByaW1hcnksIltQcmltYXJ5IFdlYlNvY2tldF0gQ2xvc2luZyBXZWJTb2NrZXQiKSk6ZWUoKSxVKE8uc3Vic2NyaXB0aW9uVXBkYXRlLHIpO2Vsc2V7aWYoY2xlYXJJbnRlcnZhbChQLnJlU3Vic2NyaWJlSW50ZXJ2YWxJZCksKytQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHMsNT09PVAuY29uc2VjdXRpdmVGYWlsZWRTdWJzY3JpYmVBdHRlbXB0cylyZXR1cm4gVShPLnN1YnNjcmlwdGlvbkZhaWx1cmUsciksdm9pZChQLmNvbnNlY3V0aXZlRmFpbGVkU3Vic2NyaWJlQXR0ZW1wdHM9MCk7UC5yZVN1YnNjcmliZUludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZWUoKX0pLDUwMCl9YnJlYWs7Y2FzZSBfOmxlKGUuZGVidWcoIkhlYXJ0YmVhdCByZXNwb25zZSByZWNlaXZlZCIpKSxpLnBlbmRpbmdSZXNwb25zZT0hMTticmVhaztkZWZhdWx0OmlmKHIudG9waWMpe2lmKGUuYWR2YW5jZWRMb2coSSxyLnRvcGljKSxsZShlLmRlYnVnKEkrci50b3BpYykpLEIobi5wcmltYXJ5KSYmQihuLnNlY29uZGFyeSkmJjA9PT1rLnN1YnNjcmlwdGlvbkhpc3Rvcnkuc2l6ZSYmdGhpcz09PW4ucHJpbWFyeSlyZXR1cm4gdm9pZCBsZShlLndhcm4oIklnbm9yaW5nIE1lc3NhZ2UgZm9yIFRvcGljICIrci50b3BpYysiLCB0byBhdm9pZCBkdXBsaWNhdGVzIikpO2lmKDA9PT1PLmFsbE1lc3NhZ2Uuc2l6ZSYmMD09PU8udG9waWMuc2l6ZSlyZXR1cm4gdm9pZCBsZShlLndhcm4oIk5vIHJlZ2lzdGVyZWQgY2FsbGJhY2sgbGlzdGVuZXIgZm9yIFRvcGljIixyLnRvcGljKSk7ZS5hZHZhbmNlZExvZygiV2Vic29ja2V0TWFuYWdlciBpbnZva2UgY2FsbGJhY2tzIGZvciB0b3BpYyBzdWNjZXNzICIsci50b3BpYyksVShPLmFsbE1lc3NhZ2UsciksTy50b3BpYy5oYXMoci50b3BpYykmJlUoTy50b3BpYy5nZXQoci50b3BpYykscil9ZWxzZSByLm1lc3NhZ2U/KGUuYWR2YW5jZWRMb2coVCxyKSxsZShlLndhcm4oVCxyKSkpOihlLmFkdmFuY2VkTG9nKHcsciksbGUoZS53YXJuKHcscikpKX19LGVlPWZ1bmN0aW9uIHQoKXtpZihQLmNvbnNlY3V0aXZlTm9SZXNwb25zZVJlcXVlc3Q+MylyZXR1cm4gbGUoZS53YXJuKCJJZ25vcmluZyBzdWJzY3JpYmVQZW5kaW5nVG9waWNzIHNpbmNlIHdlIGhhdmUgZXhoYXVzdGVkIG1heCBzdWJzY3JpcHRpb24gcmV0cmllcyB3aXRoIG5vIHJlc3BvbnNlIikpLHZvaWQgVShPLnN1YnNjcmlwdGlvbkZhaWx1cmUsTi5nZXRTdWJzY3JpcHRpb25SZXNwb25zZShBLCExLEFycmF5LmZyb20oay5wZW5kaW5nKSkpO1coKT8wIT09QXJyYXkuZnJvbShrLnBlbmRpbmcpLmxlbmd0aCYmKGNsZWFySW50ZXJ2YWwoUC5yZXNwb25zZUNoZWNrSW50ZXJ2YWxJZCksVigpLnNlbmQoaWUoQSx7dG9waWNzOkFycmF5LmZyb20oay5wZW5kaW5nKX0pKSxQLnJlcXVlc3RDb21wbGV0ZWQ9ITEsUC5yZXNwb25zZUNoZWNrSW50ZXJ2YWxJZD1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtQLnJlcXVlc3RDb21wbGV0ZWR8fCgrK1AuY29uc2VjdXRpdmVOb1Jlc3BvbnNlUmVxdWVzdCx0KCkpfSksMWUzKSk6bGUoZS53YXJuKCJJZ25vcmluZyBzdWJzY3JpYmVQZW5kaW5nVG9waWNzIGNhbGwgc2luY2UgRGVmYXVsdCBXZWJTb2NrZXQgaXMgbm90IG9wZW4iKSl9LHRlPWZ1bmN0aW9uKHQsbil7cSh0LFdlYlNvY2tldC5DT05ORUNUSU5HKXx8cSh0LFdlYlNvY2tldC5PUEVOKT90LmNsb3NlKDFlMyxuKTpsZShlLndhcm4oIklnbm9yaW5nIFdlYlNvY2tldCBDbG9zZSByZXF1ZXN0LCBXZWJTb2NrZXQgU3RhdGU6ICIrRih0KSkpfSxuZT1mdW5jdGlvbihlKXt0ZShuLnByaW1hcnksIltQcmltYXJ5XSBXZWJTb2NrZXQgIitlKSx0ZShuLnNlY29uZGFyeSwiW1NlY29uZGFyeV0gV2ViU29ja2V0ICIrZSl9LHJlPWZ1bmN0aW9uKCl7by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudCsrO3ZhciB0PU4uYWRkSml0dGVyKHIuZXhwb25lbnRpYWxCYWNrT2ZmVGltZSwuMyk7RGF0ZS5ub3coKSt0PD1MLmNvbm5Db25maWcudXJsQ29ublZhbGlkVGltZT8oZS5hZHZhbmNlZExvZyhnKSxsZShlLmRlYnVnKGcrdCsiIG1zIikpLHIuZXhwb25lbnRpYWxUaW1lb3V0SGFuZGxlPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGNlKCl9KSx0KSxyLmV4cG9uZW50aWFsQmFja09mZlRpbWUqPTIpOihlLmFkdmFuY2VkTG9nKG0pLGxlKGUud2FybihtKSksc2UoKSl9LG9lPWZ1bmN0aW9uKHQpe0soKSxYKCksZS5hZHZhbmNlZExvZyh2LHQpLGxlKGUuZXJyb3IodikpLHIud2Vic29ja2V0SW5pdEZhaWxlZD0hMCxuZSgiVGVybWluYXRpbmcgV2ViU29ja2V0IE1hbmFnZXIiKSxjbGVhckludGVydmFsKE0pLFUoTy5pbml0RmFpbHVyZSx7Y29ubmVjdFdlYlNvY2tldFJldHJ5Q291bnQ6by5jb25uZWN0V2ViU29ja2V0UmV0cnlDb3VudCxjb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZTpvLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lLHJlYXNvbjp0fSksSigpfSxpZT1mdW5jdGlvbihlLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7dG9waWM6ZSxjb250ZW50OnR9KX0sYWU9ZnVuY3Rpb24odCl7cmV0dXJuISEoTi5pc09iamVjdCh0KSYmTi5pc09iamVjdCh0LndlYlNvY2tldFRyYW5zcG9ydCkmJk4uaXNOb25FbXB0eVN0cmluZyh0LndlYlNvY2tldFRyYW5zcG9ydC51cmwpJiZOLnZhbGlkV1NVcmwodC53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKSYmMWUzKnQud2ViU29ja2V0VHJhbnNwb3J0LnRyYW5zcG9ydExpZmVUaW1lSW5TZWNvbmRzPj0zZTUpfHwobGUoZS5lcnJvcigiSW52YWxpZCBXZWJTb2NrZXQgQ29ubmVjdGlvbiBDb25maWd1cmF0aW9uIix0KSksITEpfSxzZT1mdW5jdGlvbigpe2lmKCFOLmlzTmV0d29ya09ubGluZSgpKXJldHVybiBlLmFkdmFuY2VkTG9nKHUpLHZvaWQgbGUoZS5pbmZvKHUpKTtpZihyLndlYnNvY2tldEluaXRGYWlsZWQpbGUoZS5kZWJ1ZygiV2ViU29ja2V0IEluaXQgaGFkIGZhaWxlZCwgaWdub3JpbmcgdGhpcyBnZXRXZWJTb2NrZXRDb25uQ29uZmlnIHJlcXVlc3QiKSk7ZWxzZXtpZihMLnByb21pc2VDb21wbGV0ZWQpcmV0dXJuIEsoKSxlLmFkdmFuY2VkTG9nKHkpLGxlKGUuaW5mbyh5KSksby5jb25uZWN0aW9uQXR0ZW1wdFN0YXJ0VGltZT1vLmNvbm5lY3Rpb25BdHRlbXB0U3RhcnRUaW1lfHxEYXRlLm5vdygpLEwucHJvbWlzZUNvbXBsZXRlZD0hMSxMLnByb21pc2VIYW5kbGU9Ty5nZXRXZWJTb2NrZXRUcmFuc3BvcnQoKSxMLnByb21pc2VIYW5kbGUudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIEwucHJvbWlzZUNvbXBsZXRlZD0hMCxlLmFkdmFuY2VkTG9nKGIpLGxlKGUuZGVidWcoYix0KSksYWUodCk/KEwuY29ubkNvbmZpZz10LEwuY29ubkNvbmZpZy51cmxDb25uVmFsaWRUaW1lPURhdGUubm93KCkrODVlMyxjZSgpKToob2UoIkludmFsaWQgV2ViU29ja2V0IGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbjogIit0KSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH0pfSksKGZ1bmN0aW9uKHQpe3JldHVybiBMLnByb21pc2VDb21wbGV0ZWQ9ITAsZS5hZHZhbmNlZExvZyhFKSxsZShlLmVycm9yKEUsdCkpLE4uaXNOZXR3b3JrRmFpbHVyZSh0KT8oZS5hZHZhbmNlZExvZyhTK0pTT04uc3RyaW5naWZ5KHQpKSxsZShlLmluZm8oUytKU09OLnN0cmluZ2lmeSh0KSkpLEQucmV0cnkoKSk6b2UoIkZhaWxlZCB0byBmZXRjaCB3ZWJTb2NrZXQgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uOiAiK0pTT04uc3RyaW5naWZ5KHQpKSx7d2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZDohMH19KSk7bGUoZS5kZWJ1ZygiVGhlcmUgaXMgYW4gb25nb2luZyBnZXRXZWJTb2NrZXRDb25uQ29uZmlnIHJlcXVlc3QsIHRoaXMgcmVxdWVzdCB3aWxsIGJlIGlnbm9yZWQiKSl9fSxjZT1mdW5jdGlvbigpe2lmKHIud2Vic29ja2V0SW5pdEZhaWxlZClyZXR1cm4gbGUoZS5pbmZvKCJ3ZWItc29ja2V0IGluaXRpYWxpemluZyBoYWQgZmFpbGVkLCBhYm9ydGluZyByZS1pbml0IikpLHt3ZWJTb2NrZXRDb25uZWN0aW9uRmFpbGVkOiEwfTtpZighTi5pc05ldHdvcmtPbmxpbmUoKSlyZXR1cm4gbGUoZS53YXJuKCJTeXN0ZW0gaXMgb2ZmbGluZSBhYm9ydGluZyB3ZWItc29ja2V0IGluaXQiKSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9O2UuYWR2YW5jZWRMb2coQyksbGUoZS5pbmZvKEMpKSxqKCJpbml0V2ViU29ja2V0Iik7dHJ5e2lmKGFlKEwuY29ubkNvbmZpZykpe3ZhciB0PW51bGw7cmV0dXJuIEIobi5wcmltYXJ5KT8obGUoZS5kZWJ1ZygiUHJpbWFyeSBTb2NrZXQgY29ubmVjdGlvbiBpcyBhbHJlYWR5IG9wZW4iKSkscShuLnNlY29uZGFyeSxXZWJTb2NrZXQuQ09OTkVDVElORyl8fChsZShlLmRlYnVnKCJFc3RhYmxpc2hpbmcgYSBzZWNvbmRhcnkgd2ViLXNvY2tldCBjb25uZWN0aW9uIikpLEQubnVtQXR0ZW1wdHM9MCxuLnNlY29uZGFyeT11ZSgpKSx0PW4uc2Vjb25kYXJ5KToocShuLnByaW1hcnksV2ViU29ja2V0LkNPTk5FQ1RJTkcpfHwobGUoZS5kZWJ1ZygiRXN0YWJsaXNoaW5nIGEgcHJpbWFyeSB3ZWItc29ja2V0IGNvbm5lY3Rpb24iKSksbi5wcmltYXJ5PXVlKCkpLHQ9bi5wcmltYXJ5KSxyLndlYlNvY2tldEluaXRDaGVja2VyVGltZW91dElkPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7Qih0KXx8cmUoKX0pLDFlMykse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITF9fX1jYXRjaCh0KXtyZXR1cm4gbGUoZS5lcnJvcigiRXJyb3IgSW5pdGlhbGl6aW5nIHdlYi1zb2NrZXQtbWFuYWdlciIsdCkpLG9lKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBuZXcgV2ViU29ja2V0OiAiK3QubWVzc2FnZSkse3dlYlNvY2tldENvbm5lY3Rpb25GYWlsZWQ6ITB9fX0sdWU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgV2ViU29ja2V0KEwuY29ubkNvbmZpZy53ZWJTb2NrZXRUcmFuc3BvcnQudXJsKTtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKCJvcGVuIixRKSx0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCQpLHQuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLFopLHQuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLChmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtlLmFkdmFuY2VkTG9nKGYsSlNPTi5zdHJpbmdpZnkodCkpLGxlKGUuaW5mbyhmLEpTT04uc3RyaW5naWZ5KHQpKSksaigid2ViU29ja2V0T25DbG9zZSBiZWZvcmUtY2xlYW51cCIpLFUoTy5jb25uZWN0aW9uQ2xvc2Use29wZW5UaW1lc3RhbXA6aS5vcGVuVGltZXN0YW1wLGNsb3NlVGltZXN0YW1wOkRhdGUubm93KCksY29ubmVjdGlvbkR1cmF0aW9uOkRhdGUubm93KCktaS5vcGVuVGltZXN0YW1wLGNvZGU6dC5jb2RlLHJlYXNvbjp0LnJlYXNvbn0pLEcobi5wcmltYXJ5KSYmKG4ucHJpbWFyeT1udWxsKSxHKG4uc2Vjb25kYXJ5KSYmKG4uc2Vjb25kYXJ5PW51bGwpLHIucmVjb25uZWN0V2ViU29ja2V0JiYoQihuLnByaW1hcnkpfHxCKG4uc2Vjb25kYXJ5KT9HKG4ucHJpbWFyeSkmJkIobi5zZWNvbmRhcnkpJiYobGUoZS5pbmZvKCJbUHJpbWFyeV0gV2ViU29ja2V0IENsZWFubHkgQ2xvc2VkIikpLG4ucHJpbWFyeT1uLnNlY29uZGFyeSxuLnNlY29uZGFyeT1udWxsKToobGUoZS53YXJuKCJOZWl0aGVyIHByaW1hcnkgd2Vic29ja2V0IGFuZCBub3Igc2Vjb25kYXJ5IHdlYnNvY2tldCBoYXZlIG9wZW4gY29ubmVjdGlvbnMsIGF0dGVtcHRpbmcgdG8gcmUtZXN0YWJsaXNoIGNvbm5lY3Rpb24iKSksci5jb25uU3RhdGU9PT1SP2xlKGUuaW5mbygiSWdub3JpbmcgY29ubmVjdGlvbkxvc3QgY2FsbGJhY2sgaW52b2NhdGlvbiIpKTooVShPLmNvbm5lY3Rpb25Mb3N0LHtvcGVuVGltZXN0YW1wOmkub3BlblRpbWVzdGFtcCxjbG9zZVRpbWVzdGFtcDpEYXRlLm5vdygpLGNvbm5lY3Rpb25EdXJhdGlvbjpEYXRlLm5vdygpLWkub3BlblRpbWVzdGFtcCxjb2RlOnQuY29kZSxyZWFzb246dC5yZWFzb259KSxvLm5vT3BlbkNvbm5lY3Rpb25zVGltZXN0YW1wPURhdGUubm93KCkpLHIuY29ublN0YXRlPVIsc2UoKSksaigid2ViU29ja2V0T25DbG9zZSBhZnRlci1jbGVhbnVwIikpfShpLHQpfSkpLHR9LGxlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlciYmZS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGV9O3RoaXMuaW5pdD1mdW5jdGlvbih0KXtpZihOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJ0cmFuc3BvcnRIYW5kbGUgbXVzdCBiZSBhIGZ1bmN0aW9uIiksbnVsbD09PU8uZ2V0V2ViU29ja2V0VHJhbnNwb3J0KXJldHVybiBPLmdldFdlYlNvY2tldFRyYW5zcG9ydD10LHNlKCk7bGUoZS53YXJuKCJXZWIgU29ja2V0IE1hbmFnZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQiKSl9LHRoaXMub25Jbml0RmFpbHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiSW5pdGlhbGl6aW5nIFdlYnNvY2tldCBNYW5hZ2VyIEZhaWxlZCEiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmluaXRGYWlsdXJlLmFkZCh0KSxyLndlYnNvY2tldEluaXRGYWlsZWQmJnQoKSxmdW5jdGlvbigpe3JldHVybiBPLmluaXRGYWlsdXJlLmRlbGV0ZSh0KX19LHRoaXMub25Db25uZWN0aW9uT3Blbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gb3BlbiIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uY29ubmVjdGlvbk9wZW4uYWRkKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIE8uY29ubmVjdGlvbk9wZW4uZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25DbG9zZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2UiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmNvbm5lY3Rpb25DbG9zZS5hZGQodCksZnVuY3Rpb24oKXtyZXR1cm4gTy5jb25uZWN0aW9uQ2xvc2UuZGVsZXRlKHQpfX0sdGhpcy5vbkNvbm5lY3Rpb25HYWluPWZ1bmN0aW9uKHQpe3JldHVybiBlLmFkdmFuY2VkTG9nKCJXZWJzb2NrZXQgY29ubmVjdGlvbiBnYWluIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5jb25uZWN0aW9uR2Fpbi5hZGQodCksVygpJiZ0KCksZnVuY3Rpb24oKXtyZXR1cm4gTy5jb25uZWN0aW9uR2Fpbi5kZWxldGUodCl9fSx0aGlzLm9uQ29ubmVjdGlvbkxvc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYWR2YW5jZWRMb2coIldlYnNvY2tldCBjb25uZWN0aW9uIGxvc3QiKSxOLmFzc2VydFRydWUoTi5pc0Z1bmN0aW9uKHQpLCJjYiBtdXN0IGJlIGEgZnVuY3Rpb24iKSxPLmNvbm5lY3Rpb25Mb3N0LmFkZCh0KSxyLmNvbm5TdGF0ZT09PVImJnQoKSxmdW5jdGlvbigpe3JldHVybiBPLmNvbm5lY3Rpb25Mb3N0LmRlbGV0ZSh0KX19LHRoaXMub25TdWJzY3JpcHRpb25VcGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24oZSksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uc3Vic2NyaXB0aW9uVXBkYXRlLmFkZChlKSxmdW5jdGlvbigpe3JldHVybiBPLnN1YnNjcmlwdGlvblVwZGF0ZS5kZWxldGUoZSl9fSx0aGlzLm9uU3Vic2NyaXB0aW9uRmFpbHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5hZHZhbmNlZExvZygiV2Vic29ja2V0IHN1YnNjcmlwdGlvbiBmYWlsdXJlIiksTi5hc3NlcnRUcnVlKE4uaXNGdW5jdGlvbih0KSwiY2IgbXVzdCBiZSBhIGZ1bmN0aW9uIiksTy5zdWJzY3JpcHRpb25GYWlsdXJlLmFkZCh0KSxmdW5jdGlvbigpe3JldHVybiBPLnN1YnNjcmlwdGlvbkZhaWx1cmUuZGVsZXRlKHQpfX0sdGhpcy5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTi5hc3NlcnROb3ROdWxsKGUsInRvcGljTmFtZSIpLE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24odCksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8udG9waWMuaGFzKGUpP08udG9waWMuZ2V0KGUpLmFkZCh0KTpPLnRvcGljLnNldChlLG5ldyBTZXQoW3RdKSksZnVuY3Rpb24oKXtyZXR1cm4gTy50b3BpYy5nZXQoZSkuZGVsZXRlKHQpfX0sdGhpcy5vbkFsbE1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIE4uYXNzZXJ0VHJ1ZShOLmlzRnVuY3Rpb24oZSksImNiIG11c3QgYmUgYSBmdW5jdGlvbiIpLE8uYWxsTWVzc2FnZS5hZGQoZSksZnVuY3Rpb24oKXtyZXR1cm4gTy5hbGxNZXNzYWdlLmRlbGV0ZShlKX19LHRoaXMuc3Vic2NyaWJlVG9waWNzPWZ1bmN0aW9uKGUpe04uYXNzZXJ0Tm90TnVsbChlLCJ0b3BpY3MiKSxOLmFzc2VydElzTGlzdChlKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2suc3Vic2NyaWJlZC5oYXMoZSl8fGsucGVuZGluZy5hZGQoZSl9KSksUC5jb25zZWN1dGl2ZU5vUmVzcG9uc2VSZXF1ZXN0PTAsZWUoKX0sdGhpcy5zZW5kTWVzc2FnZT1mdW5jdGlvbih0KXtpZihOLmFzc2VydElzT2JqZWN0KHQsInBheWxvYWQiKSx2b2lkIDA9PT10LnRvcGljfHx4Lmhhcyh0LnRvcGljKSlsZShlLndhcm4oIkNhbm5vdCBzZW5kIG1lc3NhZ2UsIEludmFsaWQgdG9waWMiLHQpKTtlbHNle3RyeXt0PUpTT04uc3RyaW5naWZ5KHQpfWNhdGNoKG4pe3JldHVybiB2b2lkIGxlKGUud2FybigiRXJyb3Igc3RyaW5naWZ5IG1lc3NhZ2UiLHQpKX1XKCk/VigpLnNlbmQodCk6bGUoZS53YXJuKCJDYW5ub3Qgc2VuZCBtZXNzYWdlLCB3ZWIgc29ja2V0IGNvbm5lY3Rpb24gaXMgbm90IG9wZW4iKSl9fSx0aGlzLmNsb3NlV2ViU29ja2V0PWZ1bmN0aW9uKCl7SygpLFgoKSxyLnJlY29ubmVjdFdlYlNvY2tldD0hMSxjbGVhckludGVydmFsKE0pLG5lKCJVc2VyIHJlcXVlc3QgdG8gY2xvc2UgV2ViU29ja2V0Iil9LHRoaXMudGVybWluYXRlV2ViU29ja2V0TWFuYWdlcj1vZX0sSj17Y3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYfSxzZXRHbG9iYWxDb25maWc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5sb2dnZXJDb25maWc7ei51cGRhdGVMb2dnZXJDb25maWcodCl9LExvZ0xldmVsOkIsTG9nZ2VyOmp9fSxmdW5jdGlvbih0LG4scil7dmFyIG87IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBpPXtub3Rfc3RyaW5nOi9bXnNdLyxub3RfYm9vbDovW150XS8sbm90X3R5cGU6L1teVF0vLG5vdF9wcmltaXRpdmU6L1tedl0vLG51bWJlcjovW2RpZWZnXS8sbnVtZXJpY19hcmc6L1tiY2RpZWZndXhYXS8sanNvbjovW2pdLyxub3RfanNvbjovW15qXS8sdGV4dDovXlteXHgyNV0rLyxtb2R1bG86L15ceDI1ezJ9LyxwbGFjZWhvbGRlcjovXlx4MjUoPzooWzEtOV1cZCopXCR8XCgoW14pXSspXCkpPyhcKyk/KDB8J1teJF0pPygtKT8oXGQrKT8oPzpcLihcZCspKT8oW2ItZ2lqb3N0VHV2eFhdKS8sa2V5Oi9eKFthLXpfXVthLXpfXGRdKikvaSxrZXlfYWNjZXNzOi9eXC4oW2Etel9dW2Etel9cZF0qKS9pLGluZGV4X2FjY2VzczovXlxbKFxkKylcXS8sc2lnbjovXlsrLV0vfTtmdW5jdGlvbiBhKHQpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciByLG8scyxjLHUsbCxwLGQsZixoPTEsZz10Lmxlbmd0aCxtPSIiO2ZvcihvPTA7bzxnO28rKylpZigic3RyaW5nIj09dHlwZW9mIHRbb10pbSs9dFtvXTtlbHNlIGlmKCJvYmplY3QiPT1lKHRbb10pKXtpZigoYz10W29dKS5rZXlzKWZvcihyPW5baF0scz0wO3M8Yy5rZXlzLmxlbmd0aDtzKyspe2lmKG51bGw9PXIpdGhyb3cgbmV3IEVycm9yKGEoJ1tzcHJpbnRmXSBDYW5ub3QgYWNjZXNzIHByb3BlcnR5ICIlcyIgb2YgdW5kZWZpbmVkIHZhbHVlICIlcyInLGMua2V5c1tzXSxjLmtleXNbcy0xXSkpO3I9cltjLmtleXNbc11dfWVsc2Ugcj1jLnBhcmFtX25vP25bYy5wYXJhbV9ub106bltoKytdO2lmKGkubm90X3R5cGUudGVzdChjLnR5cGUpJiZpLm5vdF9wcmltaXRpdmUudGVzdChjLnR5cGUpJiZyIGluc3RhbmNlb2YgRnVuY3Rpb24mJihyPXIoKSksaS5udW1lcmljX2FyZy50ZXN0KGMudHlwZSkmJiJudW1iZXIiIT10eXBlb2YgciYmaXNOYU4ocikpdGhyb3cgbmV3IFR5cGVFcnJvcihhKCJbc3ByaW50Zl0gZXhwZWN0aW5nIG51bWJlciBidXQgZm91bmQgJVQiLHIpKTtzd2l0Y2goaS5udW1iZXIudGVzdChjLnR5cGUpJiYoZD1yPj0wKSxjLnR5cGUpe2Nhc2UiYiI6cj1wYXJzZUludChyLDEwKS50b1N0cmluZygyKTticmVhaztjYXNlImMiOnI9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChyLDEwKSk7YnJlYWs7Y2FzZSJkIjpjYXNlImkiOnI9cGFyc2VJbnQociwxMCk7YnJlYWs7Y2FzZSJqIjpyPUpTT04uc3RyaW5naWZ5KHIsbnVsbCxjLndpZHRoP3BhcnNlSW50KGMud2lkdGgpOjApO2JyZWFrO2Nhc2UiZSI6cj1jLnByZWNpc2lvbj9wYXJzZUZsb2F0KHIpLnRvRXhwb25lbnRpYWwoYy5wcmVjaXNpb24pOnBhcnNlRmxvYXQocikudG9FeHBvbmVudGlhbCgpO2JyZWFrO2Nhc2UiZiI6cj1jLnByZWNpc2lvbj9wYXJzZUZsb2F0KHIpLnRvRml4ZWQoYy5wcmVjaXNpb24pOnBhcnNlRmxvYXQocik7YnJlYWs7Y2FzZSJnIjpyPWMucHJlY2lzaW9uP1N0cmluZyhOdW1iZXIoci50b1ByZWNpc2lvbihjLnByZWNpc2lvbikpKTpwYXJzZUZsb2F0KHIpO2JyZWFrO2Nhc2UibyI6cj0ocGFyc2VJbnQociwxMCk+Pj4wKS50b1N0cmluZyg4KTticmVhaztjYXNlInMiOnI9U3RyaW5nKHIpLHI9Yy5wcmVjaXNpb24/ci5zdWJzdHJpbmcoMCxjLnByZWNpc2lvbik6cjticmVhaztjYXNlInQiOnI9U3RyaW5nKCEhcikscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UiVCI6cj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKSxyPWMucHJlY2lzaW9uP3Iuc3Vic3RyaW5nKDAsYy5wcmVjaXNpb24pOnI7YnJlYWs7Y2FzZSJ1IjpyPXBhcnNlSW50KHIsMTApPj4+MDticmVhaztjYXNlInYiOnI9ci52YWx1ZU9mKCkscj1jLnByZWNpc2lvbj9yLnN1YnN0cmluZygwLGMucHJlY2lzaW9uKTpyO2JyZWFrO2Nhc2UieCI6cj0ocGFyc2VJbnQociwxMCk+Pj4wKS50b1N0cmluZygxNik7YnJlYWs7Y2FzZSJYIjpyPShwYXJzZUludChyLDEwKT4+PjApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWkuanNvbi50ZXN0KGMudHlwZSk/bSs9cjooIWkubnVtYmVyLnRlc3QoYy50eXBlKXx8ZCYmIWMuc2lnbj9mPSIiOihmPWQ/IisiOiItIixyPXIudG9TdHJpbmcoKS5yZXBsYWNlKGkuc2lnbiwiIikpLGw9Yy5wYWRfY2hhcj8iMCI9PT1jLnBhZF9jaGFyPyIwIjpjLnBhZF9jaGFyLmNoYXJBdCgxKToiICIscD1jLndpZHRoLShmK3IpLmxlbmd0aCx1PWMud2lkdGgmJnA+MD9sLnJlcGVhdChwKToiIixtKz1jLmFsaWduP2Yrcit1OiIwIj09PWw/Zit1K3I6dStmK3IpfXJldHVybiBtfShmdW5jdGlvbihlKXtpZihjW2VdKXJldHVybiBjW2VdO2Zvcih2YXIgdCxuPWUscj1bXSxvPTA7bjspe2lmKG51bGwhPT0odD1pLnRleHQuZXhlYyhuKSkpci5wdXNoKHRbMF0pO2Vsc2UgaWYobnVsbCE9PSh0PWkubW9kdWxvLmV4ZWMobikpKXIucHVzaCgiJSIpO2Vsc2V7aWYobnVsbD09PSh0PWkucGxhY2Vob2xkZXIuZXhlYyhuKSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJbc3ByaW50Zl0gdW5leHBlY3RlZCBwbGFjZWhvbGRlciIpO2lmKHRbMl0pe298PTE7dmFyIGE9W10scz10WzJdLHU9W107aWYobnVsbD09PSh1PWkua2V5LmV4ZWMocykpKXRocm93IG5ldyBTeW50YXhFcnJvcigiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXkiKTtmb3IoYS5wdXNoKHVbMV0pOyIiIT09KHM9cy5zdWJzdHJpbmcodVswXS5sZW5ndGgpKTspaWYobnVsbCE9PSh1PWkua2V5X2FjY2Vzcy5leGVjKHMpKSlhLnB1c2godVsxXSk7ZWxzZXtpZihudWxsPT09KHU9aS5pbmRleF9hY2Nlc3MuZXhlYyhzKSkpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleSIpO2EucHVzaCh1WzFdKX10WzJdPWF9ZWxzZSBvfD0yO2lmKDM9PT1vKXRocm93IG5ldyBFcnJvcigiW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZCIpO3IucHVzaCh7cGxhY2Vob2xkZXI6dFswXSxwYXJhbV9ubzp0WzFdLGtleXM6dFsyXSxzaWduOnRbM10scGFkX2NoYXI6dFs0XSxhbGlnbjp0WzVdLHdpZHRoOnRbNl0scHJlY2lzaW9uOnRbN10sdHlwZTp0WzhdfSl9bj1uLnN1YnN0cmluZyh0WzBdLmxlbmd0aCl9cmV0dXJuIGNbZV09cn0odCksYXJndW1lbnRzKX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGEuYXBwbHkobnVsbCxbZV0uY29uY2F0KHR8fFtdKSl9dmFyIGM9T2JqZWN0LmNyZWF0ZShudWxsKTtuLnNwcmludGY9YSxuLnZzcHJpbnRmPXMsInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuc3ByaW50Zj1hLHdpbmRvdy52c3ByaW50Zj1zLHZvaWQgMD09PShvPWZ1bmN0aW9uKCl7cmV0dXJue3NwcmludGY6YSx2c3ByaW50ZjpzfX0uY2FsbChuLHIsbix0KSl8fCh0LmV4cG9ydHM9bykpfSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24ucih0KSxmdW5jdGlvbihlKXtuLmQodCwiV2ViU29ja2V0TWFuYWdlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigwKTtlLmNvbm5lY3Q9ZS5jb25uZWN0fHx7fSxjb25uZWN0LldlYlNvY2tldE1hbmFnZXI9ci5hO3ZhciBvPXIuYX0uY2FsbCh0aGlzLG4oMykpfSxmdW5jdGlvbih0LG4pe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaCh0KXsib2JqZWN0Ij09KCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PyJ1bmRlZmluZWQiOmUod2luZG93KSkmJihyPXdpbmRvdyl9dC5leHBvcnRzPXJ9XSl9LDE0NDooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9IWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc3x8Z2xvYmFsVGhpcyxuPXQuY29ubmVjdHx8e307dC5jb25uZWN0PW4sdC5saWx5PW47dmFyIHI9e1RFU1Q6IlRFU1QiLFRSQUNFOiJUUkFDRSIsREVCVUc6IkRFQlVHIixJTkZPOiJJTkZPIixMT0c6IkxPRyIsV0FSTjoiV0FSTiIsRVJST1I6IkVSUk9SIixDUklUSUNBTDoiQ1JJVElDQUwifSxvPXtDQ1A6ImNjcCIsU09GVFBIT05FOiJzb2Z0cGhvbmUiLENIQVQ6ImNoYXQiLFRBU0s6InRhc2sifSxpPXtURVNUOjAsVFJBQ0U6MTAsREVCVUc6MjAsSU5GTzozMCxMT0c6NDAsV0FSTjo1MCxFUlJPUjoxMDAsQ1JJVElDQUw6MjAwfSxhPSJDQ1AiLHM9IlNoYXJlZFdvcmtlciIsYz0iQ1JNIix1PXtUUkFDRTpmdW5jdGlvbihlKXtjb25zb2xlLmluZm8oZSl9LERFQlVHOmZ1bmN0aW9uKGUpe2NvbnNvbGUuaW5mbyhlKX0sSU5GTzpmdW5jdGlvbihlKXtjb25zb2xlLmluZm8oZSl9LExPRzpmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKX0sVEVTVDpmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKX0sV0FSTjpmdW5jdGlvbihlKXtjb25zb2xlLndhcm4oZSl9LEVSUk9SOmZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoZSl9LENSSVRJQ0FMOmZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoZSl9fSxsPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDApLGk9ci5zaGlmdCgpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU9iamVjdC52YWx1ZXMobykuaW5kZXhPZihlKX0oaSk/KG49aSx0PXIuc2hpZnQoKSk6KHQ9aSxuPW8uQ0NQKSx7Zm9ybWF0OnQsY29tcG9uZW50Om4sYXJnczpyfX0scD1mdW5jdGlvbihlLHQscixvLGksdSl7dGhpcy5jb21wb25lbnQ9ZSx0aGlzLmxldmVsPXQsdGhpcy50ZXh0PXIsdGhpcy50aW1lPW5ldyBEYXRlLHRoaXMudGFiSWQ9bnVsbD09PWk/bnVsbDppfHxuLmNvcmUudGFiSWQsdGhpcy5leGNlcHRpb249bnVsbCx0aGlzLm9iamVjdHM9W10sdGhpcy5saW5lPTAsdGhpcy5hZ2VudFJlc291cmNlSWQ9bnVsbDt0cnl7bi5hZ2VudC5pbml0aWFsaXplZCYmKHRoaXMuYWdlbnRSZXNvdXJjZUlkPShuZXcgbi5BZ2VudCkuX2dldFJlc291cmNlSWQoKSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coIklzc3VlIGZpbmRpbmcgYWdlbnRSZXNvdXJjZUlkOiAiLGUpfXRoaXMubG9nZ2VySWQ9byx1P3RoaXMuY29udGV4dExheWVyPXU6bi5pc1NoYXJlZFdvcmtlcigpP3RoaXMuY29udGV4dExheWVyPXM6bi5pc0NSTSgpP3RoaXMuY29udGV4dExheWVyPWM6bi5pc0NDUCgpJiYodGhpcy5jb250ZXh0TGF5ZXI9YSl9O3AuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRhYklkfHxudWxsLG49ZS5jb250ZXh0TGF5ZXJ8fG51bGwscj1uZXcgcChvLkNDUCxlLmxldmVsLGUudGV4dCxlLmxvZ2dlcklkLHQsbik7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUudGltZSk/ci50aW1lPW5ldyBEYXRlKGUudGltZS5nZXRUaW1lKCkpOiJudW1iZXIiPT10eXBlb2YgZS50aW1lP3IudGltZT1uZXcgRGF0ZShlLnRpbWUpOiJzdHJpbmciPT10eXBlb2YgZS50aW1lP3IudGltZT1EYXRlLnBhcnNlKGUudGltZSk6ci50aW1lPW5ldyBEYXRlLHIuZXhjZXB0aW9uPWUuZXhjZXB0aW9uLHIub2JqZWN0cz1lLm9iamVjdHMscn07dmFyIGQ9ZnVuY3Rpb24odCl7dmFyIG49LyhBdXRoVG9rZW4uKikvZ2k7dCYmIm9iamVjdCI9PT1lKHQpJiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihyKXsib2JqZWN0Ij09PWUodFtyXSk/ZCh0W3JdKToic3RyaW5nIj09dHlwZW9mIHRbcl0mJigidXJsIj09PXJ8fCJ0ZXh0Ij09PXI/dFtyXT10W3JdLnJlcGxhY2UobiwiW3JlZGFjdGVkXSIpOlsicXVpY2tDb25uZWN0TmFtZSJdLmluY2x1ZGVzKHIpP3Rbcl09IltyZWRhY3RlZF0iOlsiY3VzdG9tZXJJZCIsIkN1c3RvbWVySWQiLCJTcGVha2VySWQiLCJDdXN0b21lclNwZWFrZXJJZCJdLmluY2x1ZGVzKHIpJiYodFtyXT0iIi5jb25jYXQoIltvYmZ1c2NhdGVkIHZhbHVlXSIsIiAiKS5jb25jYXQobWQ1KHRbcl0pKSkpfSkpfSxmPWZ1bmN0aW9uKHQpe2lmKHRoaXMudHlwZT10IGluc3RhbmNlb2YgRXJyb3I/dC5uYW1lOnQuY29kZXx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLHRoaXMubWVzc2FnZT10Lm1lc3NhZ2UsdGhpcy5zdGFjaz1bXSx0LnN0YWNrKXRyeXtBcnJheS5pc0FycmF5KHQuc3RhY2spP3RoaXMuc3RhY2s9dC5zdGFjazoib2JqZWN0Ij09PWUodC5zdGFjayk/dGhpcy5zdGFjaz1bSlNPTi5zdHJpbmdpZnkodC5zdGFjayldOiJzdHJpbmciPT10eXBlb2YgdC5zdGFjayYmKHRoaXMuc3RhY2s9dC5zdGFjay5zcGxpdCgiXG4iKSl9Y2F0Y2goZSl7fX07cC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbi5zcHJpbnRmKCJbJXNdIFslc10gWyVzXTogJXMiLHRoaXMuZ2V0VGltZSgpJiZ0aGlzLmdldFRpbWUoKS50b0lTT1N0cmluZz90aGlzLmdldFRpbWUoKS50b0lTT1N0cmluZygpOiI/Pz8iLHRoaXMuZ2V0TGV2ZWwoKSx0aGlzLmdldEFnZW50UmVzb3VyY2VJZCgpLHRoaXMuZ2V0VGV4dCgpKX0scC5wcm90b3R5cGUuZ2V0VGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWV9LHAucHJvdG90eXBlLmdldEFnZW50UmVzb3VyY2VJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFnZW50UmVzb3VyY2VJZH0scC5wcm90b3R5cGUuZ2V0VGFiSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJJZH0scC5wcm90b3R5cGUuZ2V0Q29udGV4dExheWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dExheWVyfSxwLnByb3RvdHlwZS5nZXRMZXZlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxldmVsfSxwLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dH0scC5wcm90b3R5cGUuZ2V0Q29tcG9uZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50fSxwLnByb3RvdHlwZS53aXRoRXhjZXB0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4Y2VwdGlvbj1uZXcgZihlKSx0aGlzfSxwLnByb3RvdHlwZS53aXRoT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW4uZGVlcGNvcHkoZSk7cmV0dXJuIGQodCksdGhpcy5vYmplY3RzLnB1c2godCksdGhpc30scC5wcm90b3R5cGUud2l0aENyb3NzT3JpZ2luRXZlbnRPYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWVwY29weUNyb3NzT3JpZ2luRXZlbnQoZSk7cmV0dXJuIGQodCksdGhpcy5vYmplY3RzLnB1c2godCksdGhpc30scC5wcm90b3R5cGUuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRMb2coKS5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MucHVzaCh0aGlzKSx0aGlzfTt2YXIgaD1mdW5jdGlvbigpe3RoaXMuX2xvZ3M9W10sdGhpcy5fcm9sbGVkTG9ncz1bXSx0aGlzLl9sb2dzVG9QdXNoPVtdLHRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzPVtdLHRoaXMuX2VjaG9MZXZlbD1pLklORk8sdGhpcy5fbG9nTGV2ZWw9aS5JTkZPLHRoaXMuX2xpbmVDb3VudD0wLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD0wLHRoaXMuX2xvZ1JvbGxUaW1lcj1udWxsLHRoaXMuX2xvZ2dlcklkPShuZXcgRGF0ZSkuZ2V0VGltZSgpKyItIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSx0aGlzLnNldExvZ1JvbGxJbnRlcnZhbCgxOGU1KSx0aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoPTB9O2gucHJvdG90eXBlLnNldExvZ1JvbGxJbnRlcnZhbD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3RoaXMuX2xvZ1JvbGxUaW1lciYmZT09PXRoaXMuX2xvZ1JvbGxJbnRlcnZhbD90aGlzLndhcm4oIkxvZ2dlciBpcyBhbHJlYWR5IHNldCB0byB0aGUgZ2l2ZW4gaW50ZXJ2YWw6ICVkIix0aGlzLl9sb2dSb2xsSW50ZXJ2YWwpOih0aGlzLl9sb2dSb2xsVGltZXImJnQuY2xlYXJJbnRlcnZhbCh0aGlzLl9sb2dSb2xsVGltZXIpLHRoaXMuX2xvZ1JvbGxJbnRlcnZhbD1lLHRoaXMuX2xvZ1JvbGxUaW1lcj10LnNldEludGVydmFsKChmdW5jdGlvbigpe24uX3JvbGxlZExvZ3M9bi5fbG9ncyxuLl9sb2dzPVtdLG4uX3N0YXJ0TG9nSW5kZXhUb1B1c2g9MCxuLmluZm8oIkxvZyByb2xsIGludGVydmFsIG9jY3VycmVkLiIpfSksdGhpcy5fbG9nUm9sbEludGVydmFsKSl9LGgucHJvdG90eXBlLnNldExvZ0xldmVsPWZ1bmN0aW9uKGUpe2lmKCEoZSBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbG9nZ2luZyBsZXZlbDogIitlKTt0aGlzLl9sb2dMZXZlbD1pW2VdfSxoLnByb3RvdHlwZS5zZXRFY2hvTGV2ZWw9ZnVuY3Rpb24oZSl7aWYoIShlIGluIGkpKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsb2dnaW5nIGxldmVsOiAiK2UpO3RoaXMuX2VjaG9MZXZlbD1pW2VdfSxoLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9bmV3IHAoZSx0LG4sdGhpcy5nZXRMb2dnZXJJZCgpKTtyZXR1cm4gZChyKSx0aGlzLmFkZExvZ0VudHJ5KHIpLHJ9LGgucHJvdG90eXBlLmFkZExvZ0VudHJ5PWZ1bmN0aW9uKGUpe2QoZSksdGhpcy5fbG9ncy5wdXNoKGUpLG8uU09GVFBIT05FPT09ZS5jb21wb25lbnQmJnRoaXMuX2xvZ3NUb1B1c2gucHVzaChlKSxlLmxldmVsIGluIGkmJmlbZS5sZXZlbF0+PXRoaXMuX2xvZ0xldmVsJiYoaVtlLmxldmVsXT49dGhpcy5fZWNob0xldmVsJiZ1W2UuZ2V0TGV2ZWwoKV0oZS50b1N0cmluZygpKSxlLmxpbmU9dGhpcy5fbGluZUNvdW50KyspfSxoLnByb3RvdHlwZS5zZW5kSW50ZXJuYWxMb2dFbnRyeVRvU2VydmVyPWZ1bmN0aW9uKGUpe3RoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzLnB1c2goZSksZS5sZXZlbCBpbiBpJiZpW2UubGV2ZWxdPj10aGlzLl9sb2dMZXZlbCYmKGlbZS5sZXZlbF0+PXRoaXMuX2VjaG9MZXZlbCYmdVtlLmdldExldmVsKCldKGUudG9TdHJpbmcoKSksZS5saW5lPXRoaXMuX2xpbmVDb3VudCsrKX0saC5wcm90b3R5cGUuY2xlYXJPYmplY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9sb2dzLmxlbmd0aDtlKyspdGhpcy5fbG9nc1tlXS5vYmplY3RzJiZkZWxldGUgdGhpcy5fbG9nc1tlXS5vYmplY3RzfSxoLnByb3RvdHlwZS5jbGVhckV4Y2VwdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2xvZ3MubGVuZ3RoO2UrKyl0aGlzLl9sb2dzW2VdLmV4Y2VwdGlvbiYmZGVsZXRlIHRoaXMuX2xvZ3NbZV0uZXhjZXB0aW9ufSxoLnByb3RvdHlwZS50cmFjZT1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLlRSQUNFLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGgucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuREVCVUcsbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0saC5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe3ZhciBlPWwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy53cml0ZShlLmNvbXBvbmVudCxyLklORk8sbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0saC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuTE9HLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGgucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5URVNULG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGgucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5XQVJOLG4udnNwcmludGYoZS5mb3JtYXQsZS5hcmdzKSl9LGgucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9bChhcmd1bWVudHMpO3JldHVybiB0aGlzLndyaXRlKGUuY29tcG9uZW50LHIuRVJST1Isbi52c3ByaW50ZihlLmZvcm1hdCxlLmFyZ3MpKX0saC5wcm90b3R5cGUuY3JpdGljYWw9ZnVuY3Rpb24oKXt2YXIgZT1sKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMud3JpdGUoZS5jb21wb25lbnQsci5FUlJPUixuLnZzcHJpbnRmKGUuZm9ybWF0LGUuYXJncykpfSxoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLl9sb2dzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMuX2xvZ3NbdF0udG9TdHJpbmcoKSk7cmV0dXJuIGUuam9pbigiXG4iKX0saC5wcm90b3R5cGUuZG93bmxvYWQ9ZnVuY3Rpb24ocil7dmFyIG8sYT0iYWdlbnQtbG9nIixzPSExLGM9ITA9PT0obnVsbD09PShvPW4pfHx2b2lkIDA9PT1vfHxudWxsPT09KG89by5nbG9iYWxSZXNpbGllbmN5KXx8dm9pZCAwPT09bz92b2lkIDA6by5nbG9iYWxSZXNpbGllbmN5RW5hYmxlZCk7Im9iamVjdCI9PT1lKHIpJiZudWxsIT09cj8oYT1yLmxvZ05hbWV8fGEscz1yLmZpbHRlckJ5TG9nTGV2ZWx8fHMpOiJzdHJpbmciPT10eXBlb2YgciYmKGE9cnx8YSksYyYmKG4uZ2xvYmFsUmVzaWxpZW5jeS5fZG93bmxvYWRDQ1BMb2dzKCksYT0iY3JtLSIrYSk7dmFyIHU9dGhpcyxsPXRoaXMuX3JvbGxlZExvZ3MuY29uY2F0KHRoaXMuX2xvZ3MpO3MmJihsPWwuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaVtlLmxldmVsXT49dS5fbG9nTGV2ZWx9KSkpO3ZhciBwPW5ldyB0LkJsb2IoW0pTT04uc3RyaW5naWZ5KGwsdm9pZCAwLDQpXSxbInRleHQvcGxhaW4iXSksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YT1hfHwiYWdlbnQtbG9nIixkLmhyZWY9dC5VUkwuY3JlYXRlT2JqZWN0VVJMKHApLGQuZG93bmxvYWQ9YSsiLnR4dCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKSxkLmNsaWNrKCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkKX0saC5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbUxvZ1B1c2g9ZnVuY3Rpb24oZSl7bi51cHN0cmVhbUxvZ1B1c2hTY2hlZHVsZWR8fChuLnVwc3RyZWFtTG9nUHVzaFNjaGVkdWxlZD0hMCx0LnNldEludGVydmFsKG4uaGl0Y2godGhpcyx0aGlzLnJlcG9ydE1hc3RlckxvZ3NVcFN0cmVhbSxlKSw1ZTMpKX0saC5wcm90b3R5cGUucmVwb3J0TWFzdGVyTG9nc1VwU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xvZ3NUb1B1c2guc2xpY2UoKTt0aGlzLl9sb2dzVG9QdXNoPVtdLG4uaWZNYXN0ZXIobi5NYXN0ZXJUb3BpY3MuU0VORF9MT0dTLChmdW5jdGlvbigpe3QubGVuZ3RoPjAmJmUuc2VuZFVwc3RyZWFtKG4uRXZlbnRUeXBlLlNFTkRfTE9HUyx0KX0pKX0saC5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUHNlcnZlckJvdW5kTG9nc1B1c2g9ZnVuY3Rpb24oZSl7dC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5wdXNoT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzVXBzdHJlYW0sZSksMWUzKX0saC5wcm90b3R5cGUuc2NoZWR1bGVVcHN0cmVhbU91dGVyQ29udGV4dENDUExvZ3NQdXNoPWZ1bmN0aW9uKGUpe3Quc2V0SW50ZXJ2YWwobi5oaXRjaCh0aGlzLHRoaXMucHVzaE91dGVyQ29udGV4dENDUExvZ3NVcHN0cmVhbSxlKSwxZTMpfSxoLnByb3RvdHlwZS5wdXNoT3V0ZXJDb250ZXh0Q0NQc2VydmVyQm91bmRMb2dzVXBzdHJlYW09ZnVuY3Rpb24oZSl7aWYodGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoPjApe2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO3QrKyl0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1t0XS50ZXh0PXRoaXMuX3NlcnZlckJvdW5kSW50ZXJuYWxMb2dzW3RdLnRleHQ7ZS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyksdGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119fSxoLnByb3RvdHlwZS5wdXNoT3V0ZXJDb250ZXh0Q0NQTG9nc1Vwc3RyZWFtPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLl9zdGFydExvZ0luZGV4VG9QdXNoO3Q8dGhpcy5fbG9ncy5sZW5ndGg7dCsrKXRoaXMuX2xvZ3NbdF0ubG9nZ2VySWQ9PT10aGlzLl9sb2dnZXJJZCYmZS5zZW5kVXBzdHJlYW0obi5FdmVudFR5cGUuTE9HLHRoaXMuX2xvZ3NbdF0pO3RoaXMuX3N0YXJ0TG9nSW5kZXhUb1B1c2g9dGhpcy5fbG9ncy5sZW5ndGh9LGgucHJvdG90eXBlLmdldExvZ2dlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ2dlcklkfSxoLnByb3RvdHlwZS5zY2hlZHVsZURvd25zdHJlYW1DbGllbnRTaWRlTG9nc1B1c2g9ZnVuY3Rpb24oKXt0LnNldEludGVydmFsKG4uaGl0Y2godGhpcyx0aGlzLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW0pLDVlMyl9LGgucHJvdG90eXBlLnB1c2hDbGllbnRTaWRlTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT1bXTt0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg8NTB8fCh0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncy5sZW5ndGg+NTAwP2U9dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3Muc3BsaWNlKDAsNTAwKTooZT10aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9ncz1bXSksbi5wdWJsaXNoQ2xpZW50U2lkZUxvZ3MoZSkpfTt2YXIgZz1mdW5jdGlvbihlKXtoLmNhbGwodGhpcyksdGhpcy5jb25kdWl0PWUsdC5zZXRJbnRlcnZhbChuLmhpdGNoKHRoaXMsdGhpcy5fcHVzaExvZ3NEb3duc3RyZWFtKSxnLkxPR19QVVNIX0lOVEVSVkFMKSx0LmNsZWFySW50ZXJ2YWwodGhpcy5fbG9nUm9sbFRpbWVyKSx0aGlzLl9sb2dSb2xsVGltZXI9bnVsbH07Zy5MT0dfUFVTSF9JTlRFUlZBTD0xZTMsZy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSksZy5wcm90b3R5cGUuY29uc3RydWN0b3I9ZyxnLnByb3RvdHlwZS5wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY29uZHVpdC5zZW5kRG93bnN0cmVhbShuLkV2ZW50VHlwZS5MT0csZSl9KSl9LGcucHJvdG90eXBlLl9wdXNoTG9nc0Rvd25zdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX2xvZ3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5jb25kdWl0LnNlbmREb3duc3RyZWFtKG4uRXZlbnRUeXBlLkxPRyx0KX0pKSx0aGlzLl9sb2dzPVtdO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3MubGVuZ3RoO3QrKyl0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0obi5FdmVudFR5cGUuU0VSVkVSX0JPVU5EX0lOVEVSTkFMX0xPRyx0aGlzLl9zZXJ2ZXJCb3VuZEludGVybmFsTG9nc1t0XSk7dGhpcy5fc2VydmVyQm91bmRJbnRlcm5hbExvZ3M9W119O3ZhciBtPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7dS5FUlJPUihlKX19fTtuLnJvb3RMb2dnZXI9bmV3IGgsZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpImZ1bmN0aW9uIj09dHlwZW9mIGVbdF0mJihlW3RdPW0oZVt0XSkpfShuLnJvb3RMb2dnZXIpLChuPW58fHt9KS5nZXRMb2c9ZnVuY3Rpb24oKXtyZXR1cm4gbi5yb290TG9nZ2VyfSxuLkxvZ0VudHJ5PXAsbi5Mb2dnZXI9aCxuLkxvZ0xldmVsPXIsbi5Mb2dDb21wb25lbnQ9byxuLkRvd25zdHJlYW1Db25kdWl0TG9nZ2VyPWd9KCl9LDI1NDpmdW5jdGlvbigpeyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIHQodCxuLHIsbyxpLGEpe3JldHVybiBlKChzPWUoZShuLHQpLGUobyxhKSkpPDwoYz1pKXxzPj4+MzItYyxyKTt2YXIgcyxjfWZ1bmN0aW9uIG4oZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQobiZyfH5uJm8sZSxuLGksYSxzKX1mdW5jdGlvbiByKGUsbixyLG8saSxhLHMpe3JldHVybiB0KG4mb3xyJn5vLGUsbixpLGEscyl9ZnVuY3Rpb24gbyhlLG4scixvLGksYSxzKXtyZXR1cm4gdChuXnJebyxlLG4saSxhLHMpfWZ1bmN0aW9uIGkoZSxuLHIsbyxpLGEscyl7cmV0dXJuIHQocl4obnx+byksZSxuLGksYSxzKX1mdW5jdGlvbiBhKHQsYSl7dmFyIHMsYyx1LGwscDt0W2E+PjVdfD0xMjg8PGElMzIsdFsxNCsoYSs2ND4+Pjk8PDQpXT1hO3ZhciBkPTE3MzI1ODQxOTMsZj0tMjcxNzMzODc5LGg9LTE3MzI1ODQxOTQsZz0yNzE3MzM4Nzg7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrPTE2KWM9ZCx1PWYsbD1oLHA9ZyxkPW4oZCxmLGgsZyx0W3NdLDcsLTY4MDg3NjkzNiksZz1uKGcsZCxmLGgsdFtzKzFdLDEyLC0zODk1NjQ1ODYpLGg9bihoLGcsZCxmLHRbcysyXSwxNyw2MDYxMDU4MTkpLGY9bihmLGgsZyxkLHRbcyszXSwyMiwtMTA0NDUyNTMzMCksZD1uKGQsZixoLGcsdFtzKzRdLDcsLTE3NjQxODg5NyksZz1uKGcsZCxmLGgsdFtzKzVdLDEyLDEyMDAwODA0MjYpLGg9bihoLGcsZCxmLHRbcys2XSwxNywtMTQ3MzIzMTM0MSksZj1uKGYsaCxnLGQsdFtzKzddLDIyLC00NTcwNTk4MyksZD1uKGQsZixoLGcsdFtzKzhdLDcsMTc3MDAzNTQxNiksZz1uKGcsZCxmLGgsdFtzKzldLDEyLC0xOTU4NDE0NDE3KSxoPW4oaCxnLGQsZix0W3MrMTBdLDE3LC00MjA2MyksZj1uKGYsaCxnLGQsdFtzKzExXSwyMiwtMTk5MDQwNDE2MiksZD1uKGQsZixoLGcsdFtzKzEyXSw3LDE4MDQ2MDM2ODIpLGc9bihnLGQsZixoLHRbcysxM10sMTIsLTQwMzQxMTAxKSxoPW4oaCxnLGQsZix0W3MrMTRdLDE3LC0xNTAyMDAyMjkwKSxkPXIoZCxmPW4oZixoLGcsZCx0W3MrMTVdLDIyLDEyMzY1MzUzMjkpLGgsZyx0W3MrMV0sNSwtMTY1Nzk2NTEwKSxnPXIoZyxkLGYsaCx0W3MrNl0sOSwtMTA2OTUwMTYzMiksaD1yKGgsZyxkLGYsdFtzKzExXSwxNCw2NDM3MTc3MTMpLGY9cihmLGgsZyxkLHRbc10sMjAsLTM3Mzg5NzMwMiksZD1yKGQsZixoLGcsdFtzKzVdLDUsLTcwMTU1ODY5MSksZz1yKGcsZCxmLGgsdFtzKzEwXSw5LDM4MDE2MDgzKSxoPXIoaCxnLGQsZix0W3MrMTVdLDE0LC02NjA0NzgzMzUpLGY9cihmLGgsZyxkLHRbcys0XSwyMCwtNDA1NTM3ODQ4KSxkPXIoZCxmLGgsZyx0W3MrOV0sNSw1Njg0NDY0MzgpLGc9cihnLGQsZixoLHRbcysxNF0sOSwtMTAxOTgwMzY5MCksaD1yKGgsZyxkLGYsdFtzKzNdLDE0LC0xODczNjM5NjEpLGY9cihmLGgsZyxkLHRbcys4XSwyMCwxMTYzNTMxNTAxKSxkPXIoZCxmLGgsZyx0W3MrMTNdLDUsLTE0NDQ2ODE0NjcpLGc9cihnLGQsZixoLHRbcysyXSw5LC01MTQwMzc4NCksaD1yKGgsZyxkLGYsdFtzKzddLDE0LDE3MzUzMjg0NzMpLGQ9byhkLGY9cihmLGgsZyxkLHRbcysxMl0sMjAsLTE5MjY2MDc3MzQpLGgsZyx0W3MrNV0sNCwtMzc4NTU4KSxnPW8oZyxkLGYsaCx0W3MrOF0sMTEsLTIwMjI1NzQ0NjMpLGg9byhoLGcsZCxmLHRbcysxMV0sMTYsMTgzOTAzMDU2MiksZj1vKGYsaCxnLGQsdFtzKzE0XSwyMywtMzUzMDk1NTYpLGQ9byhkLGYsaCxnLHRbcysxXSw0LC0xNTMwOTkyMDYwKSxnPW8oZyxkLGYsaCx0W3MrNF0sMTEsMTI3Mjg5MzM1MyksaD1vKGgsZyxkLGYsdFtzKzddLDE2LC0xNTU0OTc2MzIpLGY9byhmLGgsZyxkLHRbcysxMF0sMjMsLTEwOTQ3MzA2NDApLGQ9byhkLGYsaCxnLHRbcysxM10sNCw2ODEyNzkxNzQpLGc9byhnLGQsZixoLHRbc10sMTEsLTM1ODUzNzIyMiksaD1vKGgsZyxkLGYsdFtzKzNdLDE2LC03MjI1MjE5NzkpLGY9byhmLGgsZyxkLHRbcys2XSwyMyw3NjAyOTE4OSksZD1vKGQsZixoLGcsdFtzKzldLDQsLTY0MDM2NDQ4NyksZz1vKGcsZCxmLGgsdFtzKzEyXSwxMSwtNDIxODE1ODM1KSxoPW8oaCxnLGQsZix0W3MrMTVdLDE2LDUzMDc0MjUyMCksZD1pKGQsZj1vKGYsaCxnLGQsdFtzKzJdLDIzLC05OTUzMzg2NTEpLGgsZyx0W3NdLDYsLTE5ODYzMDg0NCksZz1pKGcsZCxmLGgsdFtzKzddLDEwLDExMjY4OTE0MTUpLGg9aShoLGcsZCxmLHRbcysxNF0sMTUsLTE0MTYzNTQ5MDUpLGY9aShmLGgsZyxkLHRbcys1XSwyMSwtNTc0MzQwNTUpLGQ9aShkLGYsaCxnLHRbcysxMl0sNiwxNzAwNDg1NTcxKSxnPWkoZyxkLGYsaCx0W3MrM10sMTAsLTE4OTQ5ODY2MDYpLGg9aShoLGcsZCxmLHRbcysxMF0sMTUsLTEwNTE1MjMpLGY9aShmLGgsZyxkLHRbcysxXSwyMSwtMjA1NDkyMjc5OSksZD1pKGQsZixoLGcsdFtzKzhdLDYsMTg3MzMxMzM1OSksZz1pKGcsZCxmLGgsdFtzKzE1XSwxMCwtMzA2MTE3NDQpLGg9aShoLGcsZCxmLHRbcys2XSwxNSwtMTU2MDE5ODM4MCksZj1pKGYsaCxnLGQsdFtzKzEzXSwyMSwxMzA5MTUxNjQ5KSxkPWkoZCxmLGgsZyx0W3MrNF0sNiwtMTQ1NTIzMDcwKSxnPWkoZyxkLGYsaCx0W3MrMTFdLDEwLC0xMTIwMjEwMzc5KSxoPWkoaCxnLGQsZix0W3MrMl0sMTUsNzE4Nzg3MjU5KSxmPWkoZixoLGcsZCx0W3MrOV0sMjEsLTM0MzQ4NTU1MSksZD1lKGQsYyksZj1lKGYsdSksaD1lKGgsbCksZz1lKGcscCk7cmV0dXJuW2QsZixoLGddfWZ1bmN0aW9uIHMoZSl7dmFyIHQsbj0iIixyPTMyKmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW3Q+PjVdPj4+dCUzMiYyNTUpO3JldHVybiBufWZ1bmN0aW9uIGMoZSl7dmFyIHQsbj1bXTtmb3IoblsoZS5sZW5ndGg+PjIpLTFdPXZvaWQgMCx0PTA7dDxuLmxlbmd0aDt0Kz0xKW5bdF09MDt2YXIgcj04KmUubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTgpblt0Pj41XXw9KDI1NSZlLmNoYXJDb2RlQXQodC84KSk8PHQlMzI7cmV0dXJuIG59ZnVuY3Rpb24gdShlKXt2YXIgdCxuLHI9IjAxMjM0NTY3ODlhYmNkZWYiLG89IiI7Zm9yKG49MDtuPGUubGVuZ3RoO24rPTEpdD1lLmNoYXJDb2RlQXQobiksbys9ci5jaGFyQXQodD4+PjQmMTUpK3IuY2hhckF0KDE1JnQpO3JldHVybiBvfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHMoYShjKGUpLDgqZS5sZW5ndGgpKX0obChlKSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1jKGUpLGk9W10sdT1bXTtmb3IoaVsxNV09dVsxNV09dm9pZCAwLG8ubGVuZ3RoPjE2JiYobz1hKG8sOCplLmxlbmd0aCkpLG49MDtuPDE2O24rPTEpaVtuXT05MDk1MjI0ODZeb1tuXSx1W25dPTE1NDk1NTY4Mjheb1tuXTtyZXR1cm4gcj1hKGkuY29uY2F0KGModCkpLDUxMis4KnQubGVuZ3RoKSxzKGEodS5jb25jYXQociksNjQwKSl9KGwoZSksbCh0KSl9KHRoaXN8fGdsb2JhbFRoaXMpLm1kNT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ/bj9kKHQsZSk6dShkKHQsZSkpOm4/cChlKTp1KHAoZSkpfX0oKX0sMTQyOigpPT57IWZ1bmN0aW9uKCl7dmFyIGU9dGhpc3x8Z2xvYmFsVGhpcyx0PWUuY29ubmVjdHx8e307ZS5jb25uZWN0PXQsdC5DaGF0TWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUsbil7dmFyIHI9dC5nZXRMb2coKSxvPXQuTG9nQ29tcG9uZW50LkNIQVQsaT1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0sYT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7ci5lcnJvcihvLCJDaGF0IFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gYnJva2VuIixlKX0pKSxlLm9uQ29ubmVjdGlvbkVzdGFibGlzaGVkKChmdW5jdGlvbihlKXtyLmluZm8obywiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQiLGUpfSkpfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7aSgiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiLGUuY29udGFjdElkKSxyLmluZm8obywiQ2hhdCBtZWRpYSBjb250cm9sbGVyIGluaXQiKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdC5DaGF0U2Vzc2lvbi5zZXRHbG9iYWxDb25maWcoe2xvZ2dlckNvbmZpZzp7bG9nZ2VyOnJ9LHJlZ2lvbjpuLnJlZ2lvbn0pO3ZhciBzPXQuQ2hhdFNlc3Npb24uY3JlYXRlKHtjaGF0RGV0YWlsczplLHR5cGU6IkFHRU5UIix3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gYShzKSxzLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gci5pbmZvKG8sIkNoYXQgU2Vzc2lvbiBTdWNjZXNzZnVsbHkgZXN0YWJsaXNoZWQgZm9yIGNvbnRhY3RJZCAlcyIsZS5jb250YWN0SWQpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksaSgiQ2hhdCBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLHN9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IHIuZXJyb3IobywiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKCJDaGF0IFNlc3Npb24gZXN0YWJsaXNoZW1lbnQgZmFpbGVkIixlLmNvbnRhY3RJZCx0KSx0fSkpfSgpfX19fSgpfSw4ODQ6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0Lk1lZGlhRmFjdG9yeT1mdW5jdGlvbihlKXt2YXIgbj17fSxyPW5ldyBTZXQsbz10LmdldExvZygpLGk9dC5Mb2dDb21wb25lbnQuQ0hBVCxhPXQubWVyZ2Uoe30sZSl8fHt9O2EucmVnaW9uPWEucmVnaW9ufHwidXMtd2VzdC0yIjt2YXIgcz1mdW5jdGlvbihlKXtuW2VdJiYhci5oYXMoZSkmJihvLmluZm8oaSwiRGVzdHJveWluZyBtZWRpYUNvbnRyb2xsZXIgZm9yICVzIixlKSxyLmFkZChlKSxuW2VdLnRoZW4oKGZ1bmN0aW9uKHQpeyJmdW5jdGlvbiI9PXR5cGVvZiB0LmNsZWFuVXAmJnQuY2xlYW5VcCgpLGRlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpLmNhdGNoKChmdW5jdGlvbigpe2RlbGV0ZSBuW2VdLHIuZGVsZXRlKGUpfSkpKX07cmV0dXJue2dldDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNBY3RpdmUoKX0oZSk/ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXRDb25uZWN0aW9uSWQoKTtpZighZS5nZXRNZWRpYUluZm8oKSlyZXR1cm4gby5lcnJvcihpLCJNZWRpYSBpbmZvIGRvZXMgbm90IGV4aXN0IGZvciBhIG1lZGlhIHR5cGUgJXMiLGUuZ2V0TWVkaWFUeXBlKCkpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxQcm9taXNlLnJlamVjdCgiTWVkaWEgaW5mbyBkb2VzIG5vdCBleGlzdCBmb3IgdGhpcyBjb25uZWN0aW9uIik7aWYobltyXSlyZXR1cm4gbltyXTtzd2l0Y2goby5pbmZvKGksIm1lZGlhIGNvbnRyb2xsZXIgb2YgdHlwZSAlcyBpbml0IixlLmdldE1lZGlhVHlwZSgpKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5nZXRNZWRpYVR5cGUoKSl7Y2FzZSB0Lk1lZGlhVHlwZS5DSEFUOnJldHVybiBuW3JdPW5ldyB0LkNoYXRNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSxhKS5nZXQoKTtjYXNlIHQuTWVkaWFUeXBlLlNPRlRQSE9ORTpyZXR1cm4gbltyXT1uZXcgdC5Tb2Z0cGhvbmVNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7Y2FzZSB0Lk1lZGlhVHlwZS5UQVNLOnJldHVybiBuW3JdPW5ldyB0LlRhc2tNZWRpYUNvbnRyb2xsZXIoZS5nZXRNZWRpYUluZm8oKSkuZ2V0KCk7ZGVmYXVsdDpyZXR1cm4gby5lcnJvcihpLCJVbnJlY29nbml6ZWQgbWVkaWEgdHlwZSAlcyAiLGUuZ2V0TWVkaWFUeXBlKCkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksUHJvbWlzZS5yZWplY3QoKX19KGUpOihzKGUuZ2V0Q29ubmVjdGlvbklkKCkpLFByb21pc2UucmVqZWN0KCJNZWRpYSBDb250cm9sbGVyIGlzIG5vIGxvbmdlciBhdmFpbGFibGUgZm9yIHRoaXMgY29ubmVjdGlvbiIpKX0sZGVzdHJveTpzfX19KCl9LDM5MDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LHQuU29mdHBob25lTWVkaWFDb250cm9sbGVyPWZ1bmN0aW9uKGUpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfX19fSgpfSwyNjk6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCx0LlRhc2tNZWRpYUNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7dmFyIG49dC5nZXRMb2coKSxyPXQuTG9nQ29tcG9uZW50LlRBU0ssbz1mdW5jdGlvbihuLHIpe3QucHVibGlzaE1ldHJpYyh7bmFtZTpuLGNvbnRhY3RJZDplLmNvbnRhY3RJZCxkYXRhOnJ8fGV9KX0saT1mdW5jdGlvbihlKXtlLm9uQ29ubmVjdGlvbkJyb2tlbigoZnVuY3Rpb24oZSl7bi5lcnJvcihyLCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBicm9rZW4iKS53aXRoRXhjZXB0aW9uKGUpLG8oIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGJyb2tlbiIsZSl9KSksZS5vbkNvbm5lY3Rpb25Fc3RhYmxpc2hlZCgoZnVuY3Rpb24oZSl7bi5pbmZvKHIsIlRhc2sgU2Vzc2lvbiBjb25uZWN0aW9uIGVzdGFibGlzaGVkIikud2l0aE9iamVjdChlKSxvKCJUYXNrIFNlc3Npb24gY29ubmVjdGlvbiBlc3RhYmxpc2hlZCIsZSl9KSl9O3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtvKCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIsZS5jb250YWN0SWQpLG4uaW5mbyhyLCJUYXNrIG1lZGlhIGNvbnRyb2xsZXIgaW5pdCIpLndpdGhPYmplY3QoZSk7dmFyIGE9dC5UYXNrU2Vzc2lvbi5jcmVhdGUoe2NvbnRhY3RJZDplLmNvbnRhY3RJZCxpbml0aWFsQ29udGFjdElkOmUuaW5pdGlhbENvbnRhY3RJZCx3ZWJzb2NrZXRNYW5hZ2VyOnQuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCl9KTtyZXR1cm4gaShhKSxhLmNvbm5lY3QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBuLmluZm8ociwiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBmb3IgY29udGFjdElkICVzIixlLmNvbnRhY3RJZCksbygiVGFzayBTZXNzaW9uIFN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCIsZS5jb250YWN0SWQpLGF9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe3Rocm93IG4uZXJyb3IociwiVGFzayBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCBmb3IgY29udGFjdCAlcyIsZS5jb250YWN0SWQpLndpdGhFeGNlcHRpb24odCksbygiQ2hhdCBTZXNzaW9uIGVzdGFibGlzaGVtZW50IGZhaWxlZCIsZS5jb250YWN0SWQsdCksdH0pKX0oKX19fX0oKX0sNDE0OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgcixvPSIvcmVxdWVzdC1zdG9yYWdlLWFjY2VzcyIsaT17Y2FuUmVxdWVzdDohMSxtb2RlOiJkZWZhdWx0IixjdXN0b206e2hpZGVDQ1A6ITB9fSxhPXt9LHM9IiIsYz1udWxsLHU9ITEsbD17SU5JVDoic3RvcmFnZUFjY2Vzczo6aW5pdCIsR1JBTlRFRDoic3RvcmFnZUFjY2Vzczo6Z3JhbnRlZCIsREVOSUVEOiJzdG9yYWdlQWNjZXNzOjpkZW5pZWQiLFJFUVVFU1Q6InN0b3JhZ2VBY2Nlc3M6OnJlcXVlc3QifSxwPWZ1bmN0aW9uKCl7cmV0dXJue3Nob3c6ZnVuY3Rpb24oKXtjLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0saGlkZTpmdW5jdGlvbigpe2Muc3R5bGUuZGlzcGxheT0ibm9uZSJ9fX0sZD1mdW5jdGlvbigpe3JldHVybiBhJiYiY3VzdG9tIj09PWEubW9kZX0sZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvLmNvbm5lY3QuYXdzLmEyei5jb218Lm15LmNvbm5lY3QuYXdzfC5nb3ZjbG91ZC5jb25uZWN0LmF3c3wuYXdzYXBwcy5jb20vKX0saD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgVVJMKGUpLG49dC5vcmlnaW4scj10LnBhdGhuYW1lO2lmKG4ubWF0Y2goLy5hd3NhcHBzLmNvbS8pKXt2YXIgaT0iY29ubmVjdCI7cmV0dXJuIHIuc3RhcnRzV2l0aCgiL2Nvbm5lY3QtZ2FtbWEiKSYmKGk9ImNvbm5lY3QtZ2FtbWEiKSwiIi5jb25jYXQobiwiLyIpLmNvbmNhdChpKS5jb25jYXQobyl9cmV0dXJuIiIuY29uY2F0KG4pLmNvbmNhdChvKX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaCgvXmh0dHBzPzpcL1wvbG9jYWxob3N0Lyl9LG09ZnVuY3Rpb24oKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0bGFuZEF0UGF0aF0gSW52b2tlIGNvbm5lY3Quc3RvcmFnZUFjY2Vzcy5pbml0IGZpcnN0Iik7cmV0dXJuIGYocyl8fGcocyk/bmV3IFVSTChzKS5wYXRobmFtZToiL2Nvbm5lY3QvY2NwLXYyIn0sdj1mdW5jdGlvbihlKXt2YXIgbj1lLm9uSW5pdCxyPWUub25EZW55LG89ZS5vbkdyYW50O2Z1bmN0aW9uIGkoZSl7dmFyIGE9ZS5kYXRhLHM9ZS5zb3VyY2U7aWYodC5jb3JlLl9nZXRDQ1BJZnJhbWUoKS5jb250ZW50V2luZG93IT09cylyZXR1cm4hMTtzd2l0Y2godC5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSksYS5ldmVudCl7Y2FzZSBsLklOSVQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bSU5JVF0gbWVzc2FnZSByZWNpZXZlZCIpLndpdGhPYmplY3QoYSksbiYmbihhKTticmVhaztjYXNlIGwuR1JBTlRFRDp0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtHUkFOVEVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChhKSxvJiZvKGEpO2JyZWFrO2Nhc2UgbC5ERU5JRUQ6dC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bREVOSUVEXSBtZXNzYWdlIHJlY2lldmVkIikud2l0aE9iamVjdChhKSxyJiZyKGEpO2JyZWFrO2RlZmF1bHQ6dC5jb3JlLmluaXRpYWxpemVkJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fXJldHVybiBhLmNhblJlcXVlc3QmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpKSx7dW5zdWJzY3JpYmU6ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSl9fX07dC5zdG9yYWdlQWNjZXNzPU9iamVjdC5mcmVlemUoe2NhblJlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYW5SZXF1ZXN0fSxvcHRPdXRGcm9tUmVxdWVzdEFjY2VzczpmdW5jdGlvbigpe2kuY2FuUmVxdWVzdD0hMX0sb3B0SW5Gb3JSZXF1ZXN0QWNjZXNzOmZ1bmN0aW9uKCl7aS5jYW5SZXF1ZXN0PSEwfSxpbml0OmZ1bmN0aW9uKGUscil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3QuYXNzZXJ0Tm90TnVsbChlLCJjY3BVcmwiKSx0LmFzc2VydE5vdE51bGwociwiY29udGFpbmVyIiksYz1yLHM9ZSxmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtlLmN1c3RvbT1lLmN1c3RvbXx8e30sKGE9bihuKG4oe30saSksZSkse30se2N1c3RvbTpuKG4oe30saS5jdXN0b20pLGUuY3VzdG9tKX0pKS5jYW5SZXF1ZXN0PSEoImZhbHNlIj09PWEuY2FuUmVxdWVzdHx8ITE9PT1hLmNhblJlcXVlc3QpfShvKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtpbml0XSBSZXF1ZXN0IFN0b3JhZ2UgQWNjY2VzcyBpbml0IGNhbGxlZCB3aXRoIGNjcFVybCAtICIuY29uY2F0KGUsIiAtICIpLmNvbmNhdChhLmNhblJlcXVlc3Q/IlByb2NlZWRpbmcgd2l0aCByZXF1ZXN0aW5nIHN0b3JhZ2UgYWNjZXNzIjoidXNlciBoYXMgb3B0ZWQgb3V0LCBza2lwcGluZyByZXF1ZXN0IHN0b3JhZ2UgYWNjZXNzIikpLndpdGhPYmplY3QoYSl9LHNldHVwUmVxdWVzdEhhbmRsZXJzOmZ1bmN0aW9uKGUpe3ZhciBuPWUub25HcmFudDtyJiZyLnVuc3Vic2NyaWJlKCkscj12KHtvbkluaXQ6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0lOSVRdIiwiYmFja2dyb3VuZDp5ZWxsb3c7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkluaXRdIGNhbGxiYWNrIGV4ZWN1dGVkIikud2l0aE9iamVjdChudWxsPT1lP3ZvaWQgMDplLmRhdGEpLG51bGwhPWUmJmUuZGF0YS5oYXNBY2Nlc3N8fCFkKCl8fHAoKS5zaG93KCl9LG9uRGVueTpmdW5jdGlvbigpe2NvbnNvbGUubG9nKCIlY1tTdG9yYWdlQWNjZXNzXVtERU5JRURdIiwiYmFja2dyb3VuZDpyZWQ7IGNvbG9yOmJsYWNrOyBmb250LXNpemU6bGFyZ2UiKSx0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXVtvbkRlbnldIGNhbGxiYWNrIGV4ZWN1dGVkIiksZCgpJiZwKCkuc2hvdygpfSxvbkdyYW50OmZ1bmN0aW9uKCl7dmFyIGU7Y29uc29sZS5sb2coIiVjW1N0b3JhZ2VBY2Nlc3NdW0dSQU5URURdIiwiYmFja2dyb3VuZDpsaW1lOyBjb2xvcjpibGFjazsgZm9udC1zaXplOmxhcmdlIiksdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc11bb25HcmFudF0gY2FsbGJhY2sgZXhlY3V0ZWQiKSxkKCkmJihudWxsPT09KGU9YSl8fHZvaWQgMD09PWV8fG51bGw9PT0oZT1lLmN1c3RvbSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaGlkZUNDUCkmJnAoKS5oaWRlKCksdXx8KG4oKSx1PSEwKX19KX0sZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmw6ZnVuY3Rpb24oKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludm9rZSBjb25uZWN0LnN0b3JhZ2VBY2Nlc3MuaW5pdCBmaXJzdCIpO2lmKGYocykpcmV0dXJuIGgocyk7aWYoZyhzKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW0NDUF0gTG9jYWwgdGVzdGluZyIpLCIiLmNvbmNhdChzKS5jb25jYXQobyk7aWYoYS5pbnN0YW5jZVVybCYmZihhLmluc3RhbmNlVXJsKSlyZXR1cm4gdC5nZXRMb2coKS5pbmZvKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBDdXN0b21lciBoYXMgcHJvdmlkZWQgc3RvcmFnZVBhcmFtcy5pbnN0YW5jZVVybCAiLmNvbmNhdChhLmluc3RhbmNlVXJsKSksaChhLmluc3RhbmNlVXJsKTtpZihhLmluc3RhbmNlVXJsJiZnKGEuaW5zdGFuY2VVcmwpKXJldHVybiB0LmdldExvZygpLmluZm8oIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIExvY2FsIHRlc3RpbmciKSwiIi5jb25jYXQoYS5pbnN0YW5jZVVybCkuY29uY2F0KG8pO3Rocm93IHQuZ2V0TG9nKCkuZXJyb3IoIltTdG9yYWdlQWNjZXNzXSBbZ2V0UmVxdWVzdFN0b3JhZ2VBY2Nlc3NVcmxdIEludmFsaWQgQ29ubmVjdCBpbnN0YW5jZS9DQ1AgVVJMIHByb3ZpZGVkLCBwbGVhc2UgcGFzcyB0aGUgY29ycmVjdCBjY3BVcmwgb3Igc3RvcmFnZUFjY2Vzcy5pbnN0YW5jZVVybCBwYXJhbWV0ZXJzIiksbmV3IEVycm9yKCJbU3RvcmFnZUFjY2Vzc10gW2dldFJlcXVlc3RTdG9yYWdlQWNjZXNzVXJsXSBJbnZhbGlkIENvbm5lY3QgaW5zdGFuY2UvQ0NQIFVSTCBwcm92aWRlZCwgcGxlYXNlIHBhc3MgdGhlIHZhbGlkIENvbm5lY3QgQ0NQIFVSTCBvciBpbiBjYXNlIENDUCBVUkwgaXMgY29uZmlndXJlZCB0byBiZSB0aGUgU1NPIFVSTCB0aGVuIHVzZSBzdG9yYWdlQWNjZXNzLmluc3RhbmNlVXJsIGFuZCBwYXNzIHRoZSBDb25uZWN0IENDUCBVUkwiKX0sc3RvcmFnZUFjY2Vzc0V2ZW50czpsLHJlc2V0U3RvcmFnZUFjY2Vzc1N0YXRlOmZ1bmN0aW9uKCl7YT17fSxzPSIiLGM9bnVsbCx1PSExfSxnZXRPbkdyYW50Q2FsbGJhY2tJbnZva2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldFN0b3JhZ2VBY2Nlc3NQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sb25SZXF1ZXN0OnYscmVxdWVzdDpmdW5jdGlvbigpe3QuY29yZS5fZ2V0Q0NQSWZyYW1lKCkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7ZXZlbnQ6bC5SRVFVRVNULGRhdGE6bihuKHt9LGEpLHt9LHtsYW5kYXQ6bSgpfSl9LCIqIil9fSl9KCl9LDkwNjooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdCgpeyJ1c2Ugc3RyaWN0Ijt0PWZ1bmN0aW9uKCl7cmV0dXJuIHJ9O3ZhciBuLHI9e30sbz1PYmplY3QucHJvdG90eXBlLGk9by5oYXNPd25Qcm9wZXJ0eSxhPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZnVuY3Rpb24oZSx0LG4pe2VbdF09bi52YWx1ZX0scz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxjPXMuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIix1PXMuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsbD1zLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtwKHt9LCIiKX1jYXRjaChuKXtwPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1ufX1mdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgYj90OmIsaT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzPW5ldyBOKHJ8fFtdKTtyZXR1cm4gYShpLCJfaW52b2tlIix7dmFsdWU6UihlLG4scyl9KSxpfWZ1bmN0aW9uIGYoZSx0LG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQsbil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1yLndyYXA9ZDt2YXIgaD0ic3VzcGVuZGVkU3RhcnQiLGc9InN1c3BlbmRlZFlpZWxkIixtPSJleGVjdXRpbmciLHY9ImNvbXBsZXRlZCIseT17fTtmdW5jdGlvbiBiKCl7fWZ1bmN0aW9uIEUoKXt9ZnVuY3Rpb24gUygpe312YXIgQz17fTtwKEMsYywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgVD1PYmplY3QuZ2V0UHJvdG90eXBlT2YsST1UJiZUKFQoUChbXSkpKTtJJiZJIT09byYmaS5jYWxsKEksYykmJihDPUkpO3ZhciB3PVMucHJvdG90eXBlPWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQyk7ZnVuY3Rpb24gQShlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gXyh0LG4pe2Z1bmN0aW9uIHIobyxhLHMsYyl7dmFyIHU9Zih0W29dLHQsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGw9dS5hcmcscD1sLnZhbHVlO3JldHVybiBwJiYib2JqZWN0Ij09ZShwKSYmaS5jYWxsKHAsIl9fYXdhaXQiKT9uLnJlc29sdmUocC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtyKCJuZXh0IixlLHMsYyl9KSwoZnVuY3Rpb24oZSl7cigidGhyb3ciLGUscyxjKX0pKTpuLnJlc29sdmUocCkudGhlbigoZnVuY3Rpb24oZSl7bC52YWx1ZT1lLHMobCl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIoInRocm93IixlLHMsYyl9KSl9Yyh1LmFyZyl9dmFyIG87YSh0aGlzLCJfaW52b2tlIix7dmFsdWU6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7cmV0dXJuIG5ldyBuKChmdW5jdGlvbihuLG8pe3IoZSx0LG4sbyl9KSl9cmV0dXJuIG89bz9vLnRoZW4oaSxpKTppKCl9fSl9ZnVuY3Rpb24gUihlLHQscil7dmFyIG89aDtyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihvPT09bSl0aHJvdyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG89PT12KXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybnt2YWx1ZTpuLGRvbmU6ITB9fWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIHM9ci5kZWxlZ2F0ZTtpZihzKXt2YXIgYz1PKHMscik7aWYoYyl7aWYoYz09PXkpY29udGludWU7cmV0dXJuIGN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihvPT09aCl0aHJvdyBvPXYsci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtvPW07dmFyIHU9ZihlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG89ci5kb25lP3Y6Zyx1LmFyZz09PXkpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobz12LHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19ZnVuY3Rpb24gTyhlLHQpe3ZhciByPXQubWV0aG9kLG89ZS5pdGVyYXRvcltyXTtpZihvPT09bilyZXR1cm4gdC5kZWxlZ2F0ZT1udWxsLCJ0aHJvdyI9PT1yJiZlLml0ZXJhdG9yLnJldHVybiYmKHQubWV0aG9kPSJyZXR1cm4iLHQuYXJnPW4sTyhlLHQpLCJ0aHJvdyI9PT10Lm1ldGhvZCl8fCJyZXR1cm4iIT09ciYmKHQubWV0aG9kPSJ0aHJvdyIsdC5hcmc9bmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIityKyInIG1ldGhvZCIpKSx5O3ZhciBpPWYobyxlLml0ZXJhdG9yLHQuYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiB0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPWkuYXJnLHQuZGVsZWdhdGU9bnVsbCx5O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8odFtlLnJlc3VsdE5hbWVdPWEudmFsdWUsdC5uZXh0PWUubmV4dExvYywicmV0dXJuIiE9PXQubWV0aG9kJiYodC5tZXRob2Q9Im5leHQiLHQuYXJnPW4pLHQuZGVsZWdhdGU9bnVsbCx5KTphOih0Lm1ldGhvZD0idGhyb3ciLHQuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksdC5kZWxlZ2F0ZT1udWxsLHkpfWZ1bmN0aW9uIEwoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gayhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gTihlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKEwsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gUCh0KXtpZih0fHwiIj09PXQpe3ZhciByPXRbY107aWYocilyZXR1cm4gci5jYWxsKHQpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiBlKCl7Zm9yKDsrK288dC5sZW5ndGg7KWlmKGkuY2FsbCh0LG8pKXJldHVybiBlLnZhbHVlPXRbb10sZS5kb25lPSExLGU7cmV0dXJuIGUudmFsdWU9bixlLmRvbmU9ITAsZX07cmV0dXJuIGEubmV4dD1hfX10aHJvdyBuZXcgVHlwZUVycm9yKGUodCkrIiBpcyBub3QgaXRlcmFibGUiKX1yZXR1cm4gRS5wcm90b3R5cGU9UyxhKHcsImNvbnN0cnVjdG9yIix7dmFsdWU6Uyxjb25maWd1cmFibGU6ITB9KSxhKFMsImNvbnN0cnVjdG9yIix7dmFsdWU6RSxjb25maWd1cmFibGU6ITB9KSxFLmRpc3BsYXlOYW1lPXAoUyxsLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHIuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4hIXQmJih0PT09RXx8IkdlbmVyYXRvckZ1bmN0aW9uIj09PSh0LmRpc3BsYXlOYW1lfHx0Lm5hbWUpKX0sci5tYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsUyk6KGUuX19wcm90b19fPVMscChlLGwsIkdlbmVyYXRvckZ1bmN0aW9uIikpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksZX0sci5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm57X19hd2FpdDplfX0sQShfLnByb3RvdHlwZSkscChfLnByb3RvdHlwZSx1LChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHIuQXN5bmNJdGVyYXRvcj1fLHIuYXN5bmM9ZnVuY3Rpb24oZSx0LG4sbyxpKXt2b2lkIDA9PT1pJiYoaT1Qcm9taXNlKTt2YXIgYT1uZXcgXyhkKGUsdCxuLG8pLGkpO3JldHVybiByLmlzR2VuZXJhdG9yRnVuY3Rpb24odCk/YTphLm5leHQoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb25lP2UudmFsdWU6YS5uZXh0KCl9KSl9LEEodykscCh3LGwsIkdlbmVyYXRvciIpLHAodyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLHAodywidG9TdHJpbmciLChmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSkpLHIua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoZSksbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIGUoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5wb3AoKTtpZihyIGluIHQpcmV0dXJuIGUudmFsdWU9cixlLmRvbmU9ITEsZX1yZXR1cm4gZS5kb25lPSEwLGV9fSxyLnZhbHVlcz1QLE4ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpOLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PW4sdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9bix0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChrKSwhZSlmb3IodmFyIHQgaW4gdGhpcykidCI9PT10LmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsdCkmJiFpc05hTigrdC5zbGljZSgxKSkmJih0aGlzW3RdPW4pfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciBlPXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24oZSl7aWYodGhpcy5kb25lKXRocm93IGU7dmFyIHQ9dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPWUsdC5uZXh0PXIsbyYmKHQubWV0aG9kPSJuZXh0Iix0LmFyZz1uKSwhIW99Zm9yKHZhciBvPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIGE9dGhpcy50cnlFbnRyaWVzW29dLHM9YS5jb21wbGV0aW9uO2lmKCJyb290Ij09PWEudHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihhLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwoYSwiY2F0Y2hMb2MiKSx1PWkuY2FsbChhLCJmaW5hbGx5TG9jIik7aWYoYyYmdSl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PGEuZmluYWxseUxvYylyZXR1cm4gcihhLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PGEuY2F0Y2hMb2MpcmV0dXJuIHIoYS5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwociwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8ci5maW5hbGx5TG9jKXt2YXIgbz1yO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGE9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGEudHlwZT1lLGEuYXJnPXQsbz8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1vLmZpbmFsbHlMb2MseSk6dGhpcy5jb21wbGV0ZShhKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx5fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4uZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUobi5jb21wbGV0aW9uLG4uYWZ0ZXJMb2MpLGsobikseX19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciBuPXRoaXMudHJ5RW50cmllc1t0XTtpZihuLnRyeUxvYz09PWUpe3ZhciByPW4uY29tcGxldGlvbjtpZigidGhyb3ciPT09ci50eXBlKXt2YXIgbz1yLmFyZztrKG4pfXJldHVybiBvfX10aHJvdyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpQKGUpLHJlc3VsdE5hbWU6dCxuZXh0TG9jOnJ9LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9bikseX19LHJ9ZnVuY3Rpb24gbihlLHQsbixyLG8saSxhKXt0cnl7dmFyIHM9ZVtpXShhKSxjPXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgbihlKX1zLmRvbmU/dChjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihyLG8pfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIHMoZSl7bihhLG8saSxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7bihhLG8saSxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9fSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsbj1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD1uLGUubGlseT1uO3ZhciBvPWZ1bmN0aW9uKGUpe24uYXNzZXJ0Tm90TnVsbChlLCJyaW5ndG9uZUNvbmZpZyIpLHRoaXMuX2F1ZGlvPW51bGwsdGhpcy5fZGV2aWNlSWQ9IiIsdGhpcy5fcmluZ3RvbmVVcmw9ZS5yaW5ndG9uZVVybCx0aGlzLl9sb2FkUmluZ3RvbmUodGhpcy5fcmluZ3RvbmVVcmwpLmNhdGNoKChmdW5jdGlvbigpe30pKSx0aGlzLl9kcml2ZVJpbmd0b25lKCl9O28ucHJvdG90eXBlLl9sb2FkUmluZ3RvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZXx8byhFcnJvcigicmluZ3RvbmVVcmwgaXMgcmVxdWlyZWQhIikpLHQuX2F1ZGlvPW5ldyBBdWRpbyhlKSx0Ll9hdWRpby5sb29wPSEwLHQuc2V0T3V0cHV0RGV2aWNlKHQuX2RldmljZUlkKTt2YXIgaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uZ2V0TG9nKCkud2FybigiUmluZ3RvbmUgaXNuJ3QgbG9hZGVkIGluIDEgc2Vjb25kIGJ1dCBwcm9jZWVkaW5nOiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoKX0pLDFlMyk7dC5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiY2FucGxheSIsKGZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBpcyByZWFkeSB0byBwbGF5OiAiLCtlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGNsZWFyVGltZW91dChpKSxyKCl9KSksdC5fYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbigpe24uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIsK2UpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksY2xlYXJUaW1lb3V0KGkpLG8oRXJyb3IoIlJpbmd0b25lIGxvYWQgZXJyb3I6ICIrZSkpfSkpfSkpfSxvLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkLiIpfSxvLnByb3RvdHlwZS5fc3RhcnRSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXIodCgpLm1hcmsoKGZ1bmN0aW9uIGUobyl7dmFyIGksYSxzPXRoaXMsYz1hcmd1bWVudHM7cmV0dXJuIHQoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gaT1jLmxlbmd0aD4xJiZ2b2lkIDAhPT1jWzFdP2NbMV06MCxhPWMubGVuZ3RoPjImJnZvaWQgMCE9PWNbMl0/Y1syXTpbXSxlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxjKXtzLl9hdWRpb3x8YyhFcnJvcigiTm8gYXVkaW8gb2JqZWN0IGZvdW5kIikpLG4uZ2V0TG9nKCkuaW5mbygiQXR0ZW1wdGluZyB0byBzdGFydCByaW5ndG9uZSB0byBkZXZpY2UgIi5jb25jYXQocy5fYXVkaW8uc2lua0lkfHwiJyciKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxzLl9hdWRpby5wbGF5KCkudGhlbigoZnVuY3Rpb24oKXtzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFN0YXJ0IixvKSxuLmdldExvZygpLmluZm8oIlJpbmd0b25lIFN0YXJ0OiBTdWNjZWVkZWQgd2l0aCAiLmNvbmNhdChpLCIgcmV0cmllcyByZW1haW5pbmciKSkud2l0aE9iamVjdCh7ZXJyb3JMaXN0OmEsY29udGFjdElkOm8uZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUoKX0pKS5jYXRjaChmdW5jdGlvbigpe3ZhciB1PXIodCgpLm1hcmsoKGZ1bmN0aW9uIHIodSl7cmV0dXJuIHQoKS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihzLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmUiLG8pLG4uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFBsYXliYWNrIEZhaWx1cmU6ICIuY29uY2F0KGksIiByZXRyaWVzIHJlbWFpbmluZy4iKSkud2l0aEV4Y2VwdGlvbih1KS53aXRoT2JqZWN0KHtjdXJyZW50U3JjOnMuX2F1ZGlvLmN1cnJlbnRTcmMsc2lua0lkOnMuX2F1ZGlvLnNpbmtJZCx2b2x1bWU6cy5fYXVkaW8udm9sdW1lLGNvbnRhY3RJZDpvLmdldENvbnRhY3RJZCgpfSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLnB1c2godS50b1N0cmluZygpKSwhKGk+MCkpe3QubmV4dD0xMDticmVha31yZXR1cm4gdC5uZXh0PTYscy5fbG9hZFJpbmd0b25lKHMuX3Jpbmd0b25lVXJsKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSk7Y2FzZSA2OnJldHVybiB0Lm5leHQ9OCxzLl9zdGFydFJpbmd0b25lKG8saS0xLGEpLnRoZW4oZSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIGMoYSl9KSk7Y2FzZSA4OnQubmV4dD0xMjticmVhaztjYXNlIDEwOm4uZ2V0TG9nKCkuZXJyb3IoIlJpbmd0b25lIFJldHJpZXMgRXhoYXVzdGVkIikud2l0aE9iamVjdCh7ZXJyb3JMaXN0OmEsY29udGFjdElkOm8uZ2V0Q29udGFjdElkKCl9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGMoYSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHIpfSkpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSl9KSkpO2Nhc2UgMzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxvLnByb3RvdHlwZS5fc3RvcFJpbmd0b25lPWZ1bmN0aW9uKGUpe3RoaXMuX2F1ZGlvJiYodGhpcy5fYXVkaW8ucGF1c2UoKSx0aGlzLl9hdWRpby5jdXJyZW50VGltZT0wLHRoaXMuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiUmluZ3RvbmUgU3RvcCIsZSksbi5nZXRMb2coKS5pbmZvKCJSaW5ndG9uZSBTdG9wIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSl9LG8ucHJvdG90eXBlLnN0b3BSaW5ndG9uZT1mdW5jdGlvbigpe3RoaXMuX3N0b3BSaW5ndG9uZSgpfSxvLnByb3RvdHlwZS5fcmluZ3RvbmVTZXR1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO24uaWZNYXN0ZXIobi5NYXN0ZXJUb3BpY3MuUklOR1RPTkUsKGZ1bmN0aW9uKCl7dC5fc3RhcnRSaW5ndG9uZShlLDIpLmNhdGNoKChmdW5jdGlvbigpe30pKSxlLm9uQ29ubmVjdGVkKGxpbHkuaGl0Y2godCx0Ll9zdG9wUmluZ3RvbmUpKSxlLm9uQWNjZXB0ZWQobGlseS5oaXRjaCh0LHQuX3N0b3BSaW5ndG9uZSkpLGUub25FbmRlZChsaWx5LmhpdGNoKHQsdC5fc3RvcFJpbmd0b25lKSksZS5vblJlZnJlc2goKGZ1bmN0aW9uKGUpe2UuZ2V0U3RhdHVzKCkudHlwZSE9PW4uQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09bi5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlORyYmdC5fc3RvcFJpbmd0b25lKCl9KSl9KSl9LG8ucHJvdG90eXBlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQ9ZnVuY3Rpb24oZSx0KXt0JiZ0LmdldENvbnRhY3RJZCgpJiZuLnB1Ymxpc2hNZXRyaWMoe25hbWU6ZSxjb250YWN0SWQ6dC5nZXRDb250YWN0SWQoKX0pfSxvLnByb3RvdHlwZS5zZXRPdXRwdXREZXZpY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dC5fYXVkaW8mJnQuX2F1ZGlvLnNldFNpbmtJZD90Ll9hdWRpby5zZXRTaW5rSWQoZSkudGhlbigoZnVuY3Rpb24oKXt0Ll9kZXZpY2VJZD1lLG4oZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3IoIlJpbmd0b25lRW5naW5lQmFzZS5zZXRPdXRwdXREZXZpY2UgZmFpbGVkOiBhdWRpby5zZXRTaW5rSWQoKSBmYWlsZWQgd2l0aCBlcnJvciAiLmNvbmNhdChlKSl9KSk6cigiUmluZ3RvbmVFbmdpbmVCYXNlLnNldE91dHB1dERldmljZSBmYWlsZWQ6ICIuY29uY2F0KHQuX2F1ZGlvPyJhdWRpbyI6ImF1ZGlvLnNldFNpbmtJZCIsIiBub3QgZm91bmQuIikpfSkpfTt2YXIgaT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KGkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bi5Db250YWN0VHlwZS5WT0lDRSYmdC5pc1NvZnRwaG9uZUNhbGwoKSYmdC5pc0luYm91bmQoKSYmKGUuX3Jpbmd0b25lU2V0dXAodCksZS5fcHVibGlzaFRlbGVtZXRyeUV2ZW50KCJSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIlJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKSwobmV3IG4uQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZXRTdGF0dXMoKS50eXBlPT09bi5Db250YWN0U3RhdHVzVHlwZS5DT05ORUNUSU5HJiZ0KGUpfSkpfTt2YXIgYT1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1hLGEucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5DSEFUJiZ0LmlzSW5ib3VuZCgpJiYwPT09dC5nZXRDb25uZWN0aW9ucygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0VHlwZSgpPT09bi5Db25uZWN0aW9uVHlwZS5BR0VOVCYmZS5pc1NpbGVudE1vbml0b3IoKX0pKS5sZW5ndGgmJihlLl9yaW5ndG9uZVNldHVwKHQpLGUuX3B1Ymxpc2hUZWxlbWV0cnlFdmVudCgiQ2hhdCBSaW5ndG9uZSBDb25uZWN0aW5nIix0KSxuLmdldExvZygpLmluZm8oIkNoYXQgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfTtuLmNvbnRhY3QoKGZ1bmN0aW9uKGUpe2Uub25Db25uZWN0aW5nKHQpfSkpfTt2YXIgcz1mdW5jdGlvbihlKXtvLmNhbGwodGhpcyxlKX07KHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1zLHMucHJvdG90eXBlLl9kcml2ZVJpbmd0b25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKHQpe3QuZ2V0VHlwZSgpPT09bGlseS5Db250YWN0VHlwZS5UQVNLJiZ0LmlzSW5ib3VuZCgpJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIlRhc2sgUmluZ3RvbmUgQ29ubmVjdGluZyIsdCksbi5nZXRMb2coKS5pbmZvKCJUYXNrIFJpbmd0b25lIENvbm5lY3RpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKX07bi5jb250YWN0KChmdW5jdGlvbihlKXtlLm9uQ29ubmVjdGluZyh0KX0pKX07dmFyIGM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMsZSl9OyhjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YyxjLnByb3RvdHlwZS5fZHJpdmVSaW5ndG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7bi5jb250YWN0KChmdW5jdGlvbih0KXt0Lm9uSW5jb21pbmcoKGZ1bmN0aW9uKCl7dC5nZXRUeXBlKCk9PT1saWx5LkNvbnRhY3RUeXBlLlFVRVVFX0NBTExCQUNLJiYoZS5fcmluZ3RvbmVTZXR1cCh0KSxlLl9wdWJsaXNoVGVsZW1ldHJ5RXZlbnQoIkNhbGxiYWNrIFJpbmd0b25lIENvbm5lY3RpbmciLHQpLG4uZ2V0TG9nKCkuaW5mbygiQ2FsbGJhY2sgUmluZ3RvbmUgQ29ubmVjdGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpfSkpfSkpfSxuLlZvaWNlUmluZ3RvbmVFbmdpbmU9aSxuLkNoYXRSaW5ndG9uZUVuZ2luZT1hLG4uVGFza1Jpbmd0b25lRW5naW5lPXMsbi5RdWV1ZUNhbGxiYWNrUmluZ3RvbmVFbmdpbmU9Y30oKX0sODA2OigpPT57ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sZSh0KX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIodCxuLHIpe3JldHVybihuPWZ1bmN0aW9uKHQpe3ZhciBuPWZ1bmN0aW9uKHQsbil7aWYoIm9iamVjdCIhPWUodCl8fCF0KXJldHVybiB0O3ZhciByPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwodCxufHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1lKG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09bj9TdHJpbmc6TnVtYmVyKSh0KX0odCwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWUobik/bjpuKyIifShuKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdH0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cix0LmxpbHk9cix0LmNjcFZlcnNpb249IlYyIjt2YXIgbz0iQ0lUUklYIixpPSJBV1NfV09SS1NQQUNFIixhPXt9O2Fbci5Tb2Z0cGhvbmVDYWxsVHlwZS5BVURJT19PTkxZXT0iQXVkaW8iLGFbci5Tb2Z0cGhvbmVDYWxsVHlwZS5WSURFT19PTkxZXT0iVmlkZW8iLGFbci5Tb2Z0cGhvbmVDYWxsVHlwZS5BVURJT19WSURFT109IkF1ZGlvVmlkZW8iLGFbci5Tb2Z0cGhvbmVDYWxsVHlwZS5OT05FXT0iTm9uZSI7dmFyIHM9ImF1ZGlvX2lucHV0IixjPSJhdWRpb19vdXRwdXQiOyh7fSlbci5Db250YWN0VHlwZS5WT0lDRV09IlZvaWNlIjt2YXIgdT1bXSxsPVtdLHA9W10sZD17fSxmPXt9LGg9MCxnPTAsbT0wLHY9MCx5PTAsYj0hMSxFPSExLFM9bnVsbCxDPW51bGwsVD1udWxsLEk9bnVsbCx3PXIuU29mdHBob25lRXJyb3JUeXBlcyxBPXt9LF89ci5yYW5kb21JZCgpLFI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe3IuY29yZS5nZXRDbGllbnQoKS5jYWxsKHIuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dChlLnNvZnRwaG9uZVRyYW5zcG9ydC5zb2Z0cGhvbmVNZWRpYUNvbm5lY3Rpb25zKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtlLm1lc3NhZ2UmJmUubWVzc2FnZS5pbmNsdWRlcygiU29mdHBob25lQ29ubmVjdGlvbkxpbWl0QnJlYWNoZWRFeGNlcHRpb24iKSYmRygibXVsdGlwbGVfc29mdHBob25lX2FjdGl2ZV9zZXNzaW9ucyIsIk51bWJlciBvZiBhY3RpdmUgc2Vzc2lvbnMgYXJlIG1vcmUgdGhlbiBhbGxvd2VkIGxpbWl0LiIsIiIpLG4oRXJyb3IoInJlcXVlc3RJY2VBY2Nlc3MgZmFpbGVkIikpfSxhdXRoRmFpbHVyZTpmdW5jdGlvbigpe24oRXJyb3IoIkF1dGhlbnRpY2F0aW9uIGZhaWxlZCB3aGlsZSByZXF1ZXN0SWNlQWNjZXNzIikpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXtuKEVycm9yKCJBY2Nlc3MgRGVuaWVkIHdoaWxlIHJlcXVlc3RJY2VBY2Nlc3MiKSl9fSl9KSl9LE89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGE9dGhpczt0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeT1udWxsLHRoaXMucnRjSnNTdHJhdGVneT1udWxsLHRoaXMucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW51bGwsdGhpcy5fc2V0UnRjSnNTdHJhdGVneT1mdW5jdGlvbigpe2lmKG4uVkRJUGxhdGZvcm0pe1M9bi5WRElQbGF0Zm9ybTt0cnl7aWYobi5WRElQbGF0Zm9ybT09PW8pdGhpcy5ydGNKc1N0cmF0ZWd5PW5ldyByLkNpdHJpeFZESVN0cmF0ZWd5LEkuaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIFN0cmF0ZWd5IGNvbnN0cnVjdG9yIHJldHJpZXZlZDogIi5jb25jYXQodGhpcy5ydGNKc1N0cmF0ZWd5KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKTtlbHNle2lmKG4uVkRJUGxhdGZvcm0hPT1pKXRocm93IG5ldyBFcnJvcigiVkRJIFN0cmF0ZWd5IG5vdCBzdXBwb3J0ZWQiKTt0aGlzLnJ0Y0pzU3RyYXRlZ3k9bmV3IHIuRENWV2ViUlRDU3RyYXRlZ3ksSS5pbmZvKCJbU29mdHBob25lTWFuYWdlcl0gU3RyYXRlZ3kgY29uc3RydWN0b3IgcmV0cmlldmVkOiAiLmNvbmNhdCh0aGlzLnJ0Y0pzU3RyYXRlZ3kpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX1jYXRjaChlKXt0aHJvdyJWREkgU3RyYXRlZ3kgbm90IHN1cHBvcnRlZCI9PT1lLm1lc3NhZ2U/KEcody5WRElfU1RSQVRFR1lfTk9UX1NVUFBPUlRFRCxlLm1lc3NhZ2UsIiIpLGUpOiJDaXRyaXggV2ViUlRDIHJlZGlyZWN0aW9uIGZlYXR1cmUgaXMgTk9UIHN1cHBvcnRlZCEiPT09ZS5tZXNzYWdlfHwiRENWIFdlYlJUQyByZWRpcmVjdGlvbiBmZWF0dXJlIGlzIE5PVCBzdXBwb3J0ZWQhIj09PWUubWVzc2FnZT8oRyh3LlZESV9SRURJUl9OT1RfU1VQUE9SVEVELGUubWVzc2FnZSwiIiksZSk6KEcody5PVEhFUixlLm1lc3NhZ2UsIiIpLGUpfX19LHRoaXMuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9ZnVuY3Rpb24oKXt2YXIgZTtudWxsIT1yJiZudWxsIT09KGU9ci5jb3JlKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUuc29mdHBob25lTWFuYWdlcikmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSkmJnZvaWQgMCE9PWUmJmUuY2xvc2UmJnIuY29yZS5zb2Z0cGhvbmVNYW5hZ2VyLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbG9zZSgpLHIuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5JiYodGhpcy5ydGNKc1N0cmF0ZWd5P3RoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW5ldyByLlJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeShJLHIuY29yZS5nZXRXZWJTb2NrZXRNYW5hZ2VyKCksXyxyLmhpdGNoKGEsUix7dHJhbnNwb3J0VHlwZToic29mdHBob25lIixzb2Z0cGhvbmVDbGllbnRJZDpffSksci5oaXRjaChhLEcpLHRoaXMucnRjSnNTdHJhdGVneSk6dGhpcy5ydGNQZWVyQ29ubmVjdGlvbkZhY3Rvcnk9bmV3IHIuUnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5KEksci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxfLHIuaGl0Y2goYSxSLHt0cmFuc3BvcnRUeXBlOiJzb2Z0cGhvbmUiLHNvZnRwaG9uZUNsaWVudElkOl99KSxyLmhpdGNoKGEsRykpKX0sdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgZTtudWxsIT1yJiZudWxsIT09KGU9ci5jb3JlKSYmdm9pZCAwIT09ZSYmbnVsbCE9PShlPWUuc29mdHBob25lTWFuYWdlcikmJnZvaWQgMCE9PWUmJm51bGwhPT0oZT1lLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcikmJnZvaWQgMCE9PWUmJmUuY2xvc2UmJihyLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xvc2UoKSxyLmNvcmUuc29mdHBob25lTWFuYWdlci5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXI9bnVsbCk7dmFyIG8saSxzPW4uaXNTb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbkVuYWJsZWQ7dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShCUk9XU0VSX0lEKXx8dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShCUk9XU0VSX0lELEFXUy51dGlsLnV1aWQudjQoKSksbz10LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEJST1dTRVJfSUQpLHIuUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPyhiPSExLG51bGwhPT0oaT1hLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeSkmJnZvaWQgMCE9PWkmJmkuY2xvc2UmJihhLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbG9zZSgpLGEucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwpLGEucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyPW5ldyByLlJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlcihudWxsLG51bGwsci5oaXRjaChhLFIse3RyYW5zcG9ydFR5cGU6InNvZnRwaG9uZSIsc29mdHBob25lQ2xpZW50SWQ6X30pLHIuaGl0Y2goYSxHKSxfLG51bGwsSSxudWxsLG51bGwsci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSxudWxsPT09YS5ydGNKc1N0cmF0ZWd5P25ldyByLlN0YW5kYXJkU3RyYXRlZ3k6YS5ydGNKc1N0cmF0ZWd5LHMsbykpOkkuaW5mbygiUnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyIGRvZXMgTk9UIGV4aXN0LCBwbGVhc2UgdXBncmFkZSBSVEMuanMiKX0sKEk9bmV3IG9lKHIuZ2V0TG9nKCkpKS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIHNvZnRwaG9uZSBtYW5hZ2VyIGluaXRpYWxpemF0aW9uIGhhcyBiZWd1biIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksITEhPT1uLmFsbG93RWFybHlHdW0mJihyLmlzQ2hyb21lQnJvd3NlcigpfHxyLmlzRWRnZUJyb3dzZXIoKSk/KEkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBlYXJseUd1bSBtZWNoYW5pc20gZW5hYmxlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYj0hMCk6KEkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBlYXJseUd1bSBtZWNoYW5pc20gTk9UIGVuYWJsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGI9ITEpLEkuaW5mbygiW1NvZnRwaG9uZU1hbmFnZXJdIENsaWVudCBQcm92aWRlZCBTdHJhdGVneTogIi5jb25jYXQobi5WRElQbGF0Zm9ybSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5fc2V0UnRjSnNTdHJhdGVneSgpLHRoaXMuX3JlZnJlc2hSdGNQZWVyQ29ubmVjdGlvbkZhY3RvcnkoKSxyLmNvcmUuX2FsbG93U29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24mJm51bGw9PT10aGlzLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlciYmdGhpcy5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKSxyLmFnZW50KChmdW5jdGlvbih0KXt2YXIgbj10Lm9uUmVmcmVzaCgoZnVuY3Rpb24odCl7aWYoZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIpe3ZhciBvPXQuZ2V0Q29uZmlndXJhdGlvbigpLnNvZnRwaG9uZVBlcnNpc3RlbnRDb25uZWN0aW9uO2UucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmlzUFBDRW5hYmxlZCE9PW8mJihlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5pc1BQQ0VuYWJsZWQ9byxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5pc1BQQ0VuYWJsZWQ/KEkuaW5mbygic29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24gY2hhbmdlZCB0byB0dXJlLCBpbml0aWF0ZSBhIHBlcnNpc3RlbnQgcGVlciBjb25uZWN0aW9uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5ydGNKc1N0cmF0ZWd5PWUucnRjSnNTdHJhdGVneSxlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jbG9zZUVhcmx5TWVkaWFDb25uZWN0aW9uKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIucmVxdWVzdFBlZXJDb25uZWN0aW9uKCkudGhlbigoZnVuY3Rpb24oKXtlLnJ0Y1BlZXJDb25uZWN0aW9uTWFuYWdlci5jcmVhdGVTZXNzaW9uKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY29ubmVjdCgpfSkpKTooSS5pbmZvKCJzb2Z0cGhvbmVQZXJzaXN0ZW50Q29ubmVjdGlvbiBjaGFuZ2VkIHRvIGZhbHNlLCBkZXN0cm95IHRoZSBleGlzdGluZyBwZXJzaXN0ZW50IHBlZXIgY29ubmVjdGlvbiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuZGVzdHJveSgpLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLnJlcXVlc3RQZWVyQ29ubmVjdGlvbigpKSl9ZWxzZSByLmNvcmUuX2FsbG93U29mdHBob25lUGVyc2lzdGVudENvbm5lY3Rpb24/ZS5faW5pdGlhdGVSdGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIoKTpuLnVuc3Vic2NyaWJlKCl9KSl9KSksTy5pc0Jyb3dzZXJTb2Z0UGhvbmVTdXBwb3J0ZWQoKXx8Ryh3LlVOU1VQUE9SVEVEX0JST1dTRVIsIkNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0aGlzIGJyb3dzZXIuIFNvbWUgZnVuY3Rpb25hbGl0eSBtYXkgbm90IHdvcmsuICIsIiIpLG4uVkRJUGxhdGZvcm0hPT1pJiZCKHtzdWNjZXNzOmZ1bmN0aW9uKGUpe1coIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImdyYW50ZWQifSksVygiTWljQ2hlY2tTdWNjZWVkZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtHKGUsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpLFcoIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ImRlbmllZCJ9KSxXKCJHdW1GYWlsZWQiLG51bGwse2NvbnRleHQ6IkluaXRpYWxpemluZyBTb2Z0cGhvbmUgTWFuYWdlciJ9LCEwKX19KTt2YXIgcz1rKCksYz1OKCksdT1QKCFuLmRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uKTtEKCksdGhpcy5yaW5ndG9uZUVuZ2luZT1udWxsO3ZhciBsPXt9LHA9e30sZD0hMSxmPW51bGwsaD1udWxsLGc9ZnVuY3Rpb24oKXtkPSExLGY9bnVsbCxoPW51bGx9O3RoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gbFtlXX0sdGhpcy5yZXBsYWNlTG9jYWxNZWRpYVRyYWNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9QVtlXS5zdHJlYW07aWYocil7dmFyIG89ci5nZXRBdWRpb1RyYWNrcygpWzBdO3QuZW5hYmxlZD1vLmVuYWJsZWQsby5lbmFibGVkPSExLHIucmVtb3ZlVHJhY2sobyksbi5WRElQbGF0Zm9ybT09PWkmJm8uc3RvcCgpLHIuYWRkVHJhY2sodCl9fTt2YXIgbT1mdW5jdGlvbih0KXtpZihsLmhhc093blByb3BlcnR5KHQpKXt2YXIgbj1sW3RdO25ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2RlbGV0ZSBsW3RdLGRlbGV0ZSBwW3RdLGUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyP2UucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmhhbmd1cCgpOm4uaGFuZ3VwKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2xpbHkuZ2V0TG9nKCkud2FybigiVGhlcmUgd2FzIGFuIGVycm9yIGRlc3Ryb3lpbmcgdGhlIHNvZnRwaG9uZSBzZXNzaW9uIGZvciBjb25uZWN0aW9uIElEICIuY29uY2F0KHQsIiA6ICIpLmNvbmNhdChlLm1lc3NhZ2UpKS53aXRoT2JqZWN0KHthZ2VudENvbm5lY3Rpb25JZDp0LGVycm9yTWVzc2FnZTplLm1lc3NhZ2V9KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpfX07dGhpcy5fY2xlYXJBbGxTZXNzaW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiByLmdldExvZygpLmluZm8oIkNsZWFyaW5nIGFsbCBhY3RpdmUgc2Vzc2lvbnMiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGwpbC5oYXNPd25Qcm9wZXJ0eShlKSYmbShlKX0sdGhpcy5zdGFydFNlc3Npb249ZnVuY3Rpb24oZSx0KXt2YXIgbz1kP2Y6ZSxpPWQ/aDp0O2lmKG8mJmkpe2coKSxwW2ldPSEwLEkuaW5mbygiU29mdHBob25lIGNhbGwgZGV0ZWN0ZWQ6IiwiY29udGFjdElkICIrby5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIraSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlKXtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGg+MCl7Zm9yKHZhciB0IGluIGUpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKEgoIk11bHRpU2Vzc2lvbkhhbmdVcCIsZVt0XS5jYWxsSWQsdCksbSh0KSk7dGhyb3cgbmV3IEVycm9yKCJkdXBsaWNhdGUgc2Vzc2lvbiBkZXRlY3RlZCwgcmVmdXNpbmcgdG8gc2V0dXAgbmV3IGNvbm5lY3Rpb24iKX19KGwpLG8uZ2V0U3RhdHVzKCkudHlwZT09PXIuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmVygiU29mdHBob25lIENvbm5lY3RpbmciLG8uZ2V0Q29udGFjdElkKCkpLFgoKTt2YXIgYSxzLGM9by5nZXRBZ2VudENvbm5lY3Rpb24oKS5nZXRTb2Z0cGhvbmVNZWRpYUluZm8oKSx1PXEoYy5jYWxsQ29uZmlnSnNvbik7dS51c2VXZWJTb2NrZXRQcm92aWRlciYmKGE9ci5jb3JlLmdldFdlYlNvY2tldE1hbmFnZXIoKSksKHM9dGhpcy5ydGNKc1N0cmF0ZWd5P25ldyByLlJUQ1Nlc3Npb24odS5zaWduYWxpbmdFbmRwb2ludCx1LmljZVNlcnZlcnMsYy5jYWxsQ29udGV4dFRva2VuLEksby5nZXRDb250YWN0SWQoKSxpLGEsdGhpcy5ydGNKc1N0cmF0ZWd5KTpuZXcgci5SVENTZXNzaW9uKHUuc2lnbmFsaW5nRW5kcG9pbnQsdS5pY2VTZXJ2ZXJzLGMuY2FsbENvbnRleHRUb2tlbixJLG8uZ2V0Q29udGFjdElkKCksaSxhKSkuZWNob0NhbmNlbGxhdGlvbj0hbi5kaXNhYmxlRWNob0NhbmNlbGxhdGlvbixsW2ldPXMsci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25uZWN0aW9uRXZlbnRzLlNFU1NJT05fSU5JVCxkYXRhOntjb25uZWN0aW9uSWQ6aX19KSxzLm9uU2Vzc2lvbkZhaWxlZD1mdW5jdGlvbihlLHQpe2RlbGV0ZSBsW2ldLGRlbGV0ZSBwW2ldLGooZSx0KSxWKG8uZ2V0Q29udGFjdElkKCksdCksdGUobyxlLnNlc3Npb25SZXBvcnQpfSxzLm9uU2Vzc2lvbkNvbm5lY3RlZD1mdW5jdGlvbihlKXtXKCJTb2Z0cGhvbmUgU2Vzc2lvbiBDb25uZWN0ZWQiLG8uZ2V0Q29udGFjdElkKCkpLHIuYmVjb21lTWFzdGVyKHIuTWFzdGVyVG9waWNzLlNFTkRfTE9HUyksSyhlKSxZKG8pLEwobyl9LHMub25TZXNzaW9uQ29tcGxldGVkPWZ1bmN0aW9uKGUpe1coIlNvZnRwaG9uZSBTZXNzaW9uIENvbXBsZXRlZCIsby5nZXRDb250YWN0SWQoKSksZGVsZXRlIGxbaV0sZGVsZXRlIHBbaV0sdGUobyxlLnNlc3Npb25SZXBvcnQpLHgoaSl9LHMub25Mb2NhbFN0cmVhbUFkZGVkPWZ1bmN0aW9uKGUsdCl7QVtpXT17c3RyZWFtOnR9LHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuTE9DQUxfTUVESUFfU1RSRUFNX0NSRUFURUQsZGF0YTp7Y29ubmVjdGlvbklkOml9fSl9LHMucmVtb3RlQXVkaW9FbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGUtYXVkaW8iKXx8d2luZG93LnBhcmVudC5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpLHRoaXMucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5P3MuY29ubmVjdCh0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5nZXQodS5pY2VTZXJ2ZXJzKSk6cy5jb25uZWN0KCl9fTt2YXIgdj1mdW5jdGlvbihlLHQpe3ZhciBuO2xbdF0mJmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVOREVEfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLkVSUk9SfHxlLmdldFN0YXR1cygpLnR5cGU9PT1yLkNvbnRhY3RTdGF0dXNUeXBlLk1JU1NFRH0oZSkmJihtKHQpLGcoKSksIWUuaXNTb2Z0cGhvbmVDYWxsKCl8fHBbdF18fGUuZ2V0U3RhdHVzKCkudHlwZSE9PXIuQ29udGFjdFN0YXR1c1R5cGUuQ09OTkVDVElORyYmZS5nZXRTdGF0dXMoKS50eXBlIT09ci5Db250YWN0U3RhdHVzVHlwZS5JTkNPTUlOR3x8KFcoIlNvZnRwaG9uZUNvbmZpZ0RldGVjdGVkIixlLmdldENvbnRhY3RJZCgpLHt9LCEwKSxyLmlzRmlyZWZveEJyb3dzZXIoKSYmci5oYXNPdGhlckNvbm5lY3RlZENDUHMoKT8oSS5pbmZvKCJbU29mdHBob25lIE1hbmFnZXJdIFBvc3Rwb25lIHN0YXJ0aW5nIHNlc3Npb246ICIrZS5nZXRDb250YWN0SWQoKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxmdW5jdGlvbihlLHQpe2Q9ITAsZj1lLGg9dH0oZSx0KSk6YiYmbnVsbCE9PShuPXIuY29yZS51c2VyTWVkaWFQcm92aWRlcikmJnZvaWQgMCE9PW4mJm4ucHJlY2FwdHVyZWRNZWRpYVN0cmVhbUF2YWlsYWJsZSgpPyhFPSEwLEkuaW5mbygiW1NvZnRwaG9uZSBNYW5hZ2VyXSBzdGFydGluZyBzZXNzaW9uIHVzaW5nIHByZWNhcHR1cmVkTWVkaWFTdHJlYW0iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuc3RhcnRTZXNzaW9uKGUsdCxyLmNvcmUudXNlck1lZGlhUHJvdmlkZXIuZ2V0UHJlY2FwdHVyZWRNZWRpYVN0cmVhbSgpKSk6KEU9ITEsci5jb3JlLl9pc0Vhcmx5R3VtRGlzYWJsZWQmJihiPSExKSxhLnN0YXJ0U2Vzc2lvbihlLHQpKSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7SS5pbmZvKCJDb250YWN0IGRldGVjdGVkOiIsImNvbnRhY3RJZCAiK2UuZ2V0Q29udGFjdElkKCksImFnZW50IGNvbm5lY3Rpb25JZCAiK3QpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkscFt0XXx8KGUub25SZWZyZXNoKChmdW5jdGlvbihlKXt2KGUsdCl9KSksZS5vbkVycm9yKChmdW5jdGlvbihlKXtyLmlmTWFzdGVyKHIuTWFzdGVyVG9waWNzLlNPRlRQSE9ORSwoZnVuY3Rpb24oKXtwdWJsaXNoQmF0Y2hlZFNvZnRwaG9uZUVycm9ycyhlLmNvbnRhY3RJZCl9KSwoZnVuY3Rpb24oKXt9KSwhMCl9KSksZS5vbkNvbm5lY3RlZCgoZnVuY3Rpb24oZSl7ci5pZk1hc3RlcihyLk1hc3RlclRvcGljcy5TT0ZUUEhPTkUsKGZ1bmN0aW9uKCl7aXNDb25uZWN0ZWQ9ITAsZGVsZXRlQ29udGFjdEZyb21FcnJvck1hcChlLmNvbnRhY3RJZCl9KSwoZnVuY3Rpb24oKXt9KSwhMCl9KSksZS5vbkRlc3Ryb3koKGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe2xbZV0mJm0oZSl9KHQpLEFbdF0mJngodCl9KSkpfSxDPXIuY29udGFjdCh5KTsobmV3IHIuQWdlbnQpLmdldENvbnRhY3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBZ2VudENvbm5lY3Rpb24oKS5jb25uZWN0aW9uSWQ7SS5pbmZvKCJDb250YWN0IGV4aXN0IGluIHRoZSBzbmFwc2hvdC4gUmVpbml0aWF0ZSB0aGUgQ29udGFjdCBhbmQgUlRDIHNlc3Npb24gY3JlYXRpb24gZm9yIGNvbnRhY3RJZCIrZS5nZXRDb250YWN0SWQoKSwiYWdlbnQgY29ubmVjdGlvbklkICIrdCkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx5KGUpLHYoZSx0KX0pKSx0aGlzLnRlcm1pbmF0ZT1mdW5jdGlvbigpe0MmJkMudW5zdWJzY3JpYmUmJkMudW5zdWJzY3JpYmUoKSxzJiZzLnVuc3Vic2NyaWJlJiZzLnVuc3Vic2NyaWJlKCksYyYmYy51bnN1YnNjcmliZSYmYy51bnN1YnNjcmliZSgpLHUmJnUudW5zdWJzY3JpYmUmJnUudW5zdWJzY3JpYmUoKSxlLnJ0Y1BlZXJDb25uZWN0aW9uRmFjdG9yeS5jbGVhcklkbGVSdGNQZWVyQ29ubmVjdGlvblRpbWVySWQmJmUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5LmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCgpLGUucnRjUGVlckNvbm5lY3Rpb25GYWN0b3J5PW51bGwsZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXImJmUucnRjUGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFySWRsZVJ0Y1BlZXJDb25uZWN0aW9uVGltZXJJZCYmZS5ydGNQZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xlYXJJZGxlUnRjUGVlckNvbm5lY3Rpb25UaW1lcklkKCl9fSxMPWZ1bmN0aW9uKGUpe3ZhciB0PXIuY29yZS5nZXRVcHN0cmVhbSgpLG49ZS5nZXRBZ2VudENvbm5lY3Rpb24oKTtpZihuKXt2YXIgbz1uLmdldFNvZnRwaG9uZU1lZGlhSW5mbygpO28/ITA9PT1vLmF1dG9BY2NlcHQ/KEkuaW5mbygiQXV0by1hY2NlcHQgaXMgZW5hYmxlZCwgc2VuZGluZyBvdXQgQWNjZXB0ZWQgZXZlbnQgdG8gc3RvcCByaW5ndG9uZS4uIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQ29udGFjdEV2ZW50cy5BQ0NFUFRFRCxkYXRhOm5ldyByLkNvbnRhY3QoZS5jb250YWN0SWQpfSksdC5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLmNvcmUuZ2V0Q29udGFjdEV2ZW50TmFtZShyLkNvbnRhY3RFdmVudHMuQUNDRVBURUQsZS5jb250YWN0SWQpLGRhdGE6bmV3IHIuQ29udGFjdChlLmNvbnRhY3RJZCl9KSk6SS5pbmZvKCJBdXRvLWFjY2VwdCBpcyBkaXNhYmxlZCwgcmluZ3RvbmUgd2lsbCBiZSBzdG9wcGVkIGJ5IHVzZXIgYWN0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6SS5pbmZvKCJOb3QgYWJsZSB0byByZXRyaWV2ZSB0aGUgYXV0by1hY2NlcHQgc2V0dGluZyBmcm9tIG51bGwgU29mdHBob25lTWVkaWFJbmZvLCBpZ25vcmluZyBldmVudCBwdWJsaXNoLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2UgSS5pbmZvKCJOb3QgYWJsZSB0byByZXRyaWV2ZSB0aGUgYXV0by1hY2NlcHQgc2V0dGluZyBmcm9tIG51bGwgQWdlbnRDb25uZWN0aW9uLCBpZ25vcmluZyBldmVudCBwdWJsaXNoLi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxrPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkV2ZW50VHlwZS5NVVRFLE0pfSxOPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY29yZS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZShyLkNvbmZpZ3VyYXRpb25FdmVudHMuU0VUX1NQRUFLRVJfREVWSUNFLFUpfSxQPWZ1bmN0aW9uKGUpe3JldHVybiByLmNvcmUuZ2V0RXZlbnRCdXMoKS5zdWJzY3JpYmUoci5Db25maWd1cmF0aW9uRXZlbnRzLlNFVF9NSUNST1BIT05FX0RFVklDRSwoZnVuY3Rpb24odCl7cmV0dXJuIEYobihuKHt9LHQpLHt9LHtlbmFibGVFY2hvQ2FuY2VsbGF0aW9uOmV9KSl9KSl9LEQ9ZnVuY3Rpb24oKXt0cnl7ci5pc0Nocm9tZUJyb3dzZXIoKSYmci5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbigpPjQzJiZuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6Im1pY3JvcGhvbmUifSkudGhlbigoZnVuY3Rpb24oZSl7ZS5vbmNoYW5nZT1mdW5jdGlvbigpe0kuaW5mbygiTWljcm9waG9uZSBQZXJtaXNzaW9uOiAiK2Uuc3RhdGUpLFcoIkNvbm5lY3Rpdml0eUNoZWNrUmVzdWx0IixudWxsLHtjb25uZWN0aXZpdHlDaGVja1R5cGU6Ik1pY3JvcGhvbmVQZXJtaXNzaW9uIixzdGF0dXM6ZS5zdGF0ZX0pLCJkZW5pZWQiPT09ZS5zdGF0ZSYmRyh3Lk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCwiWW91ciBtaWNyb3Bob25lIGlzIG5vdCBlbmFibGVkIGluIHlvdXIgYnJvd3Nlci4gIiwiIil9fSkpfWNhdGNoKGUpe0kuZXJyb3IoIkZhaWxlZCBpbiBkZXRlY3RpbmcgbWljcm9waG9uZSBwZXJtaXNzaW9uIHN0YXR1czogIitlKX19LHg9ZnVuY3Rpb24oZSl7ZGVsZXRlIEFbZV0sci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5BZ2VudEV2ZW50cy5NVVRFX1RPR0dMRSxkYXRhOnttdXRlZDohMX19KX0sTT1mdW5jdGlvbihlKXt2YXIgdDtpZigwIT09ci5rZXlzKEEpLmxlbmd0aCl7Zm9yKHZhciBuIGluIGUmJnZvaWQgMCE9PWUubXV0ZSYmKHQ9ZS5tdXRlKSxBKWlmKEEuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPUFbbl0uc3RyZWFtO2lmKG8pe3ZhciBpPW8uZ2V0QXVkaW9UcmFja3MoKVswXTt2b2lkIDAhPT10PyhpLmVuYWJsZWQ9IXQsQVtuXS5tdXRlZD10LHQ/SS5pbmZvKCJBZ2VudCBoYXMgbXV0ZWQgdGhlIGNvbnRhY3QsIGNvbm5lY3Rpb25JZCAtICAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6SS5pbmZvKCJBZ2VudCBoYXMgdW5tdXRlZCB0aGUgY29udGFjdCwgY29ubmVjdGlvbklkIC0gIituKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTp0PUFbbl0ubXV0ZWR8fCExfX1yLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkFnZW50RXZlbnRzLk1VVEVfVE9HR0xFLGRhdGE6e211dGVkOnR9fSl9fSxVPWZ1bmN0aW9uKCl7dmFyIGU9KGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSkuZGV2aWNlSWR8fCIiO2lmKHIuZ2V0TG9nKCkuaW5mbygiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gQXR0ZW1wdGluZyB0byBzZXQgc3BlYWtlciBkZXZpY2UgIi5jb25jYXQoZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlbW90ZS1hdWRpbyIpfHx3aW5kb3cucGFyZW50LnBhcmVudC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlLWF1ZGlvIik7dCYmImZ1bmN0aW9uIj09dHlwZW9mIHQuc2V0U2lua0lkP3Quc2V0U2lua0lkKGUpLnRoZW4oKGZ1bmN0aW9uKCl7ci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTcGVha2VyIGRldmljZSAiLmNvbmNhdChlLCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBzcGVha2VyIGF1ZGlvIGVsZW1lbnQiKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkNvbmZpZ3VyYXRpb25FdmVudHMuU1BFQUtFUl9ERVZJQ0VfQ0hBTkdFRCxkYXRhOntkZXZpY2VJZDplfX0pfSkpLmNhdGNoKChmdW5jdGlvbih0KXtyLmdldExvZygpLmVycm9yKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBGYWlsZWQgdG8gc2V0IHNwZWFrZXIgZGV2aWNlICIrZSkud2l0aEV4Y2VwdGlvbih0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpOnIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBzcGVha2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgcmVtb3RlQXVkaW9FbGVtZW50Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1lbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBzcGVha2VyIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxGPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5kZXZpY2VJZHx8IiI7aWYoci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBBdHRlbXB0aW5nIHRvIHNldCBtaWNyb3Bob25lIGRldmljZSAiLmNvbmNhdCh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwwIT09ci5rZXlzKEEpLmxlbmd0aClpZih0KXt2YXIgbj1yLmNvcmUuZ2V0U29mdHBob25lTWFuYWdlcigpLG89e2F1ZGlvOntkZXZpY2VJZDp7ZXhhY3Q6dH19fTtlLmVuYWJsZUVjaG9DYW5jZWxsYXRpb258fChvLmF1ZGlvLmVjaG9DYW5jZWxsYXRpb249ITEpLHIucHVibGlzaE1ldHJpYyh7bmFtZToiZWNob0NhbmNlbGxhdGlvbkNoZWNrIixkYXRhOntjb3VudDoxLGRpc2FibGVFY2hvQ2FuY2VsbGF0aW9uOiFlLmVuYWJsZUVjaG9DYW5jZWxsYXRpb259fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobykudGhlbigoZnVuY3Rpb24oZSl7dHJ5e3ZhciBvPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtmb3IodmFyIGkgaW4gQSlBLmhhc093blByb3BlcnR5KGkpJiYoQVtpXS5zdHJlYW0sbi5nZXRTZXNzaW9uKGkpLl9wYy5nZXRTZW5kZXJzKClbMF0ucmVwbGFjZVRyYWNrKG8pLnRoZW4oKGZ1bmN0aW9uKCl7bi5yZXBsYWNlTG9jYWxNZWRpYVRyYWNrKGksbyksci5nZXRMb2coKS5pbmZvKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBNaWNyb3Bob25lIGRldmljZSAiLmNvbmNhdCh0LCIgc3VjY2Vzc2Z1bGx5IHNldCB0byBsb2NhbCBtZWRpYSBzdHJlYW0gaW4gUlRDUnRwU2VuZGVyIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkpfWNhdGNoKGUpe3JldHVybiB2b2lkIHIuZ2V0TG9nKCkuZXJyb3IoIltBdWRpbyBEZXZpY2UgU2V0dGluZ3NdIEZhaWxlZCB0byBzZXQgbWljcm9waG9uZSBkZXZpY2UgIit0KS53aXRoRXhjZXB0aW9uKGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5Db25maWd1cmF0aW9uRXZlbnRzLk1JQ1JPUEhPTkVfREVWSUNFX0NIQU5HRUQsZGF0YTp7ZGV2aWNlSWQ6dH19KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5nZXRMb2coKS5lcnJvcigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gRmFpbGVkIHRvIHNldCBtaWNyb3Bob25lIGRldmljZSAiK3QpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX1lbHNlIHIuZ2V0TG9nKCkud2FybigiW0F1ZGlvIERldmljZSBTZXR0aW5nc10gU2V0dGluZyBtaWNyb3Bob25lIGRldmljZSBjYW5jZWxsZWQgZHVlIHRvIG1pc3NpbmcgZGV2aWNlSWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO2Vsc2Ugci5nZXRMb2coKS53YXJuKCJbQXVkaW8gRGV2aWNlIFNldHRpbmdzXSBTZXR0aW5nIG1pY3JvcGhvbmUgZGV2aWNlIGNhbmNlbGxlZCBkdWUgdG8gbWlzc2luZyBsb2NhbE1lZGlhU3RyZWFtIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0saj1mdW5jdGlvbihlLHQpe2lmKHQ9PT1yLlJUQ0Vycm9ycy5JQ0VfQ09MTEVDVElPTl9USU1FT1VUKXtmb3IodmFyIG49IlxuIixvPTA7bzxlLl9pY2VTZXJ2ZXJzLmxlbmd0aDtvKyspZm9yKHZhciBpPTA7aTxlLl9pY2VTZXJ2ZXJzW29dLnVybHMubGVuZ3RoO2krKyluPW4rZS5faWNlU2VydmVyc1tvXS51cmxzW2ldKyJcbiI7Ryh3LklDRV9DT0xMRUNUSU9OX1RJTUVPVVQsIkljZSBjb2xsZWN0aW9uIHRpbWVkb3V0LiAiLG4pfWVsc2UgdD09PXIuUlRDRXJyb3JzLlVTRVJfQlVTWT9HKHcuVVNFUl9CVVNZX0VSUk9SLCJTb2Z0cGhvbmUgY2FsbCBVc2VyQnVzeSBlcnJvci4gIiwiIik6dD09PXIuUlRDRXJyb3JzLlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkU/Ryh3LlNJR05BTExJTkdfSEFORFNIQUtFX0ZBSUxVUkUsIkhhbmRzaGFraW5nIHdpdGggU2lnbmFsbGluZyBTZXJ2ZXIgIitlLl9zaWduYWxpbmdVcmkrIiBmYWlsZWQuICIsZS5fc2lnbmFsaW5nVXJpKTp0PT09ci5SVENFcnJvcnMuR1VNX1RJTUVPVVRfRkFJTFVSRXx8dD09PXIuUlRDRXJyb3JzLkdVTV9PVEhFUl9GQUlMVVJFP0cody5NSUNST1BIT05FX05PVF9TSEFSRUQsIllvdXIgbWljcm9waG9uZSBpcyBub3QgZW5hYmxlZCBpbiB5b3VyIGJyb3dzZXIuICIsIiIpOnQ9PT1yLlJUQ0Vycm9ycy5TSUdOQUxMSU5HX0NPTk5FQ1RJT05fRkFJTFVSRT9HKHcuU0lHTkFMTElOR19DT05ORUNUSU9OX0ZBSUxVUkUsIlVSTCAiK2UuX3NpZ25hbGluZ1VyaSsiIGNhbm5vdCBiZSByZWFjaGVkLiAiLGUuX3NpZ25hbGluZ1VyaSk6dD09PXIuUlRDRXJyb3JzLkNBTExfTk9UX0ZPVU5EP0kuZXJyb3IoIlNvZnRwaG9uZSBjYWxsIGZhaWxlZCBkdWUgdG8gQ2FsbE5vdEZvdW5kRXhjZXB0aW9uLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6Ryh3LldFQlJUQ19FUlJPUiwid2VicnRjIHN5c3RlbSBlcnJvci4gIiwiIil9LHE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC8mcXVvdDsvZywnIicpO3JldHVybiBKU09OLnBhcnNlKHQpfSxCPWZ1bmN0aW9uKHQpe3ZhciBuPXR8fHt9O24uc3VjY2Vzcz1uLnN1Y2Nlc3N8fGZ1bmN0aW9uKCl7fSxuLmZhaWx1cmU9bi5mYWlsdXJlfHxmdW5jdGlvbigpe307dmFyIHI9e2F1ZGlvOiEwfSxvPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2Upe2lmKCJvYmplY3QiPT09ZShuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSYmImZ1bmN0aW9uIj09dHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKW89bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocik7ZWxzZXtpZigiZnVuY3Rpb24iIT10eXBlb2YgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSlyZXR1cm4gdm9pZCBuLmZhaWx1cmUody5VTlNVUFBPUlRFRF9CUk9XU0VSKTtvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLHQpe25hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEocixlLHQpfSkpfXJldHVybiBvLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXVkaW9UcmFja3MoKTt0JiZ0Lmxlbmd0aD4wP24uc3VjY2VzcyhlKTpuLmZhaWx1cmUody5NSUNST1BIT05FX05PVF9TSEFSRUQpfSksKGZ1bmN0aW9uKGUpe24uZmFpbHVyZSh3Lk1JQ1JPUEhPTkVfTk9UX1NIQVJFRCl9KSksb31uLmZhaWx1cmUody5VTlNVUFBPUlRFRF9CUk9XU0VSKX0sRz1mdW5jdGlvbihlLHQsbil7SS5lcnJvcigiU29mdHBob25lIGVycm9yIG9jY3VycmVkIDogIixlLHR8fCIiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIuY29yZS5nZXRVcHN0cmVhbSgpLnNlbmRVcHN0cmVhbShyLkV2ZW50VHlwZS5CUk9BRENBU1Qse2V2ZW50OnIuQWdlbnRFdmVudHMuU09GVFBIT05FX0VSUk9SLGRhdGE6bmV3IHIuU29mdHBob25lRXJyb3IoZSx0LG4pfSl9LFY9ZnVuY3Rpb24oZSx0KXtXKCJTb2Z0cGhvbmUgU2Vzc2lvbiBGYWlsZWQiLGUse2ZhaWxlZFJlYXNvbjp0fSl9LFc9ZnVuY3Rpb24oZSx0LG4pe3IucHVibGlzaE1ldHJpYyh7bmFtZTplLGNvbnRhY3RJZDp0LGRhdGE6bn0pfSxIPWZ1bmN0aW9uKGUsdCxuKXtXKGUsdCxbe25hbWU6IkFnZW50Q29ubmVjdGlvbklkIix2YWx1ZTpufV0pLEkuaW5mbygiUHVibGlzaCBtdWx0aXBsZSBzZXNzaW9uIGVycm9yIG1ldHJpY3MiLGUsImNvbnRhY3RJZCAiK3QsImFnZW50IGNvbm5lY3Rpb25JZCAiK24pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9O08uaXNCcm93c2VyU29mdFBob25lU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISEoci5pc09wZXJhQnJvd3NlcigpJiZyLmdldE9wZXJhQnJvd3NlclZlcnNpb24oKT4xNyl8fCEhKHIuaXNDaHJvbWVCcm93c2VyKCkmJnIuZ2V0Q2hyb21lQnJvd3NlclZlcnNpb24oKT4yMil8fCEhKHIuaXNGaXJlZm94QnJvd3NlcigpJiZyLmdldEZpcmVmb3hCcm93c2VyVmVyc2lvbigpPjIxKX07dmFyIHo9ZnVuY3Rpb24oZSl7dmFyIHQ9dS5zbGljZSgpO3U9W10sdC5sZW5ndGg+MCYmZS5zZW5kU29mdHBob25lTWV0cmljcyh0LHtzdWNjZXNzOmZ1bmN0aW9uKCl7SS5pbmZvKCJzZW5kU29mdHBob25lTWV0cmljcyBzdWNjZXNzIitKU09OLnN0cmluZ2lmeSh0KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtJLmVycm9yKCJzZW5kU29mdHBob25lTWV0cmljcyBmYWlsZWQuIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0pfSxLPWZ1bmN0aW9uKGUpe0M9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe2UuZ2V0VXNlckF1ZGlvU3RhdHMoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1kLG49SihkPWUsdCxzKTt1LnB1c2gobiksUShuKX0pLChmdW5jdGlvbihlKXtJLmRlYnVnKCJGYWlsZWQgdG8gZ2V0IHVzZXIgYXVkaW8gc3RhdHMuIixlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSkpLGUuZ2V0UmVtb3RlQXVkaW9TdGF0cygpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWYsbj1KKGY9ZSx0LGMpO3UucHVzaChuKSxRKG4pfSksKGZ1bmN0aW9uKGUpe0kuZGVidWcoIkZhaWxlZCB0byBnZXQgcmVtb3RlIGF1ZGlvIHN0YXRzLiIsZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKX0pLDFlMyl9LFk9ZnVuY3Rpb24oZSl7VD13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7eihlKX0pLDNlNCl9LFg9ZnVuY3Rpb24oKXtkPW51bGwsZj1udWxsLHU9W10sbD1bXSxwPVtdLEM9bnVsbCxUPW51bGwsaD0wLGc9MCxtPTAsdj0wLHk9MH0sSj1mdW5jdGlvbihlLHQsbil7aWYodCYmZSl7dmFyIHI9ZS5wYWNrZXRzTG9zdD50LnBhY2tldHNMb3N0P2UucGFja2V0c0xvc3QtdC5wYWNrZXRzTG9zdDowLG89ZS5wYWNrZXRzQ291bnQ+dC5wYWNrZXRzQ291bnQ/ZS5wYWNrZXRzQ291bnQtdC5wYWNrZXRzQ291bnQ6MDtyZXR1cm4gWihvLG4pLCQoZS5hdWRpb0xldmVsLG4pLG5ldyBuZShlLnRpbWVzdGFtcCxyLG8sbixlLmF1ZGlvTGV2ZWwsZS5qYk1pbGxpc2Vjb25kcyxlLnJ0dE1pbGxpc2Vjb25kcyl9cmV0dXJuIG5ldyBuZShlLnRpbWVzdGFtcCxlLnBhY2tldHNMb3N0LGUucGFja2V0c0NvdW50LG4sZS5hdWRpb0xldmVsLGUuamJNaWxsaXNlY29uZHMsZS5ydHRNaWxsaXNlY29uZHMpfSxRPWZ1bmN0aW9uKGUpe2lmKGUuc29mdHBob25lU3RyZWFtVHlwZT09PXMpe2Zvcig7bC5sZW5ndGg+PTEwODAwOylsLnNoaWZ0KCk7bC5wdXNoKGUpfWVsc2UgaWYoZS5zb2Z0cGhvbmVTdHJlYW1UeXBlPT09Yyl7Zm9yKDtwLmxlbmd0aD49MTA4MDA7KXAuc2hpZnQoKTtwLnB1c2goZSl9fSxaPWZ1bmN0aW9uKGUsdCl7dD09PXM/KHkrKyxlPD0wP2grKzpoPTApOnQ9PT1jJiYoZTw9MD9tKys6bT0wKX0sJD1mdW5jdGlvbihlLHQpe3Q9PT1zP251bGwhPT1lJiZlPD0xP2crKzpnPTA6dD09PWMmJihudWxsIT09ZSYmZTw9MT92Kys6dj0wKX0sZWU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbChlKSxudWxsfSx0ZT1mdW5jdGlvbihlLG8pe0M9ZWUoQyksVD1lZShUKSxmdW5jdGlvbihlLG8saSxhKXtvLnN0cmVhbVN0YXRzPVtyZShpLHMpLHJlKGEsYyldO3ZhciB1PXtjYWxsU3RhcnRUaW1lOm8uc2Vzc2lvblN0YXJ0VGltZSxjYWxsRW5kVGltZTpvLnNlc3Npb25FbmRUaW1lLGd1bVRpbWVNaWxsaXM6by5ndW1UaW1lTWlsbGlzLGluaXRpYWxpemF0aW9uVGltZU1pbGxpczpvLmluaXRpYWxpemF0aW9uVGltZU1pbGxpcyxpY2VDb2xsZWN0aW9uVGltZU1pbGxpczpvLmljZUNvbGxlY3Rpb25UaW1lTWlsbGlzLHNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpczpvLnNpZ25hbGxpbmdDb25uZWN0VGltZU1pbGxpcyxoYW5kc2hha2luZ1RpbWVNaWxsaXM6by5oYW5kc2hha2luZ1RpbWVNaWxsaXMscHJlVGFsa2luZ1RpbWVNaWxsaXM6by5wcmVUYWxraW5nVGltZU1pbGxpcyx0YWxraW5nVGltZU1pbGxpczpvLnRhbGtpbmdUaW1lTWlsbGlzLGNsZWFudXBUaW1lTWlsbGlzOm8uY2xlYW51cFRpbWVNaWxsaXMsaWNlQ29sbGVjdGlvbkZhaWx1cmU6by5pY2VDb2xsZWN0aW9uRmFpbHVyZSxzaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmU6by5zaWduYWxsaW5nQ29ubmVjdGlvbkZhaWx1cmUsaGFuZHNoYWtpbmdGYWlsdXJlOm8uaGFuZHNoYWtpbmdGYWlsdXJlLGd1bU90aGVyRmFpbHVyZTpvLmd1bU90aGVyRmFpbHVyZSxndW1UaW1lb3V0RmFpbHVyZTpvLmd1bVRpbWVvdXRGYWlsdXJlLGNyZWF0ZU9mZmVyRmFpbHVyZTpvLmNyZWF0ZU9mZmVyRmFpbHVyZSxzZXRMb2NhbERlc2NyaXB0aW9uRmFpbHVyZTpvLnNldExvY2FsRGVzY3JpcHRpb25GYWlsdXJlLHVzZXJCdXN5RmFpbHVyZTpvLnVzZXJCdXN5RmFpbHVyZSxpbnZhbGlkUmVtb3RlU0RQRmFpbHVyZTpvLmludmFsaWRSZW1vdGVTRFBGYWlsdXJlLG5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZTpvLm5vUmVtb3RlSWNlQ2FuZGlkYXRlRmFpbHVyZSxzZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmU6by5zZXRSZW1vdGVEZXNjcmlwdGlvbkZhaWx1cmUsc29mdHBob25lU3RyZWFtU3RhdGlzdGljczpvLnN0cmVhbVN0YXRzfTtlLnNlbmRTb2Z0cGhvbmVSZXBvcnQodSx7c3VjY2VzczpmdW5jdGlvbigpe0kuaW5mbygic2VuZFNvZnRwaG9uZVJlcG9ydCBzdWNjZXNzIitKU09OLnN0cmluZ2lmeSh1KSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlKXtJLmVycm9yKCJzZW5kU29mdHBob25lUmVwb3J0IGZhaWxlZC4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSk7dmFyIGQ9e0FVRElPX0lOUFVUOntwYWNrZXRzQ291bnQ6bC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhY2tldHNDb3VudH0pKSxwYWNrZXRzTG9zdDpsLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0xvc3R9KSksYXVkaW9MZXZlbDpsLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVkaW9MZXZlbH0pKSxqaXR0ZXJCdWZmZXJNaWxsaXM6bC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmppdHRlckJ1ZmZlck1pbGxpc30pKX0sQVVESU9fT1VUUFVUOntwYWNrZXRzQ291bnQ6cC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhY2tldHNDb3VudH0pKSxwYWNrZXRzTG9zdDpwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFja2V0c0xvc3R9KSksYXVkaW9MZXZlbDpwLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXVkaW9MZXZlbH0pKSxqaXR0ZXJCdWZmZXJNaWxsaXM6cC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmppdHRlckJ1ZmZlck1pbGxpc30pKSxyb3VuZFRyaXBUaW1lTWlsbGlzOnAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yb3VuZFRyaXBUaW1lTWlsbGlzfSkpfX0sZj1uKG4oe30sdSkse30se3NvZnRwaG9uZVN0cmVhbVBlclNlY29uZFN0YXRpc3RpY3M6ZCxpY2VDb25uZWN0aW9uc0xvc3Q6by5pY2VDb25uZWN0aW9uc0xvc3QsaWNlQ29ubmVjdGlvbnNGYWlsZWQ6by5pY2VDb25uZWN0aW9uc0ZhaWxlZHx8bnVsbCxwZWVyQ29ubmVjdGlvbkZhaWxlZDpvLnBlZXJDb25uZWN0aW9uRmFpbGVkfHxudWxsLHJ0Y0pzVmVyc2lvbjpvLnJ0Y0pzVmVyc2lvbnx8bnVsbCxjb25zZWN1dGl2ZU5vQXVkaW9JbnB1dFBhY2tldHM6aCxjb25zZWN1dGl2ZUxvd0lucHV0QXVkaW9MZXZlbDpnLGNvbnNlY3V0aXZlTm9BdWRpb091dHB1dFBhY2tldHM6bSxjb25zZWN1dGl2ZUxvd091dHB1dEF1ZGlvTGV2ZWw6dixhdWRpb0lucHV0Q29ubmVjdGVkRHVyYXRpb25TZWNvbmRzOnksY2NwTWVkaWFSZWFkeUxhdGVuY3lNaWxsaXM6MCxjb250YWN0U3VidHlwZTplLmdldENvbnRhY3RTdWJ0eXBlKCksZWFybHlHdW1FbmFibGVkOmIsZWFybHlHdW1Xb3JrZWQ6RSx2ZGlQbGF0Zm9ybTpTfHxudWxsLHN0cmVhbUpzVmVyc2lvbjpyLnZlcnNpb259KTtyLnB1Ymxpc2hTb2Z0cGhvbmVSZXBvcnQoe2NvbnRhY3RJZDplLmdldENvbnRhY3RJZCgpLGNjcFZlcnNpb246dC5jY3BWZXJzaW9uLHJlcG9ydDpmfSksSS5pbmZvKCJzZW50IFRlbGVtZXRyeUNhbGxSZXBvcnQgIitKU09OLnN0cmluZ2lmeShmKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0oZSxvLHJlKGQscykscmUoZixjKSkseihlKX0sbmU9ZnVuY3Rpb24oZSx0LG4scixvLGksYSl7dGhpcy5zb2Z0cGhvbmVTdHJlYW1UeXBlPXIsdGhpcy50aW1lc3RhbXA9ZSx0aGlzLnBhY2tldHNMb3N0PXQsdGhpcy5wYWNrZXRzQ291bnQ9bix0aGlzLmF1ZGlvTGV2ZWw9byx0aGlzLmppdHRlckJ1ZmZlck1pbGxpcz1pLHRoaXMucm91bmRUcmlwVGltZU1pbGxpcz1hfSxyZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgbmUoKGU9ZXx8e30pLnRpbWVzdGFtcCxlLnBhY2tldHNMb3N0LGUucGFja2V0c0NvdW50LHQsZS5hdWRpb0xldmVsKX0sb2U9ZnVuY3Rpb24oZSl7dGhpcy5fb3JpZ2luYWxMb2dnZXI9ZTt2YXIgdD10aGlzO3RoaXMuX3RlZT1mdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50c1swXSksbz0iIjtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbigpe28rPSIgJXMifSkpLG4uYXBwbHkodC5fb3JpZ2luYWxMb2dnZXIsW3IuTG9nQ29tcG9uZW50LlNPRlRQSE9ORSxvXS5jb25jYXQoZSkpfX19O29lLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMSx0aGlzLl9vcmlnaW5hbExvZ2dlci5kZWJ1ZykoYXJndW1lbnRzKX0sb2UucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVlKDIsdGhpcy5fb3JpZ2luYWxMb2dnZXIuaW5mbykoYXJndW1lbnRzKX0sb2UucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoMyx0aGlzLl9vcmlnaW5hbExvZ2dlci5sb2cpKGFyZ3VtZW50cyl9LG9lLnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RlZSg0LHRoaXMuX29yaWdpbmFsTG9nZ2VyLndhcm4pKGFyZ3VtZW50cyl9LG9lLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZWUoNSx0aGlzLl9vcmlnaW5hbExvZ2dlci5lcnJvcikoYXJndW1lbnRzKX0sci5Tb2Z0cGhvbmVNYW5hZ2VyPU99KCl9LDM0NDooKT0+eyFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1mdW5jdGlvbigpe3JldHVybiB0LmNhY2hlLmhhc093blByb3BlcnR5KGFyZ3VtZW50c1swXSl8fCh0LmNhY2hlW2FyZ3VtZW50c1swXV09dC5wYXJzZShhcmd1bWVudHNbMF0pKSx0LmZvcm1hdC5jYWxsKG51bGwsdC5jYWNoZVthcmd1bWVudHNbMF1dLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIG4oZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49W107dD4wO25bLS10XT1lKTtyZXR1cm4gbi5qb2luKCIiKX10LmZvcm1hdD1mdW5jdGlvbihlLG8pe3ZhciBpLGEscyxjLHUsbCxwLGQ9MSxmPWUubGVuZ3RoLGg9IiIsZz1bXTtmb3IoYT0wO2E8ZjthKyspaWYoInN0cmluZyI9PT0oaD1uKGVbYV0pKSlnLnB1c2goZVthXSk7ZWxzZSBpZigiYXJyYXkiPT09aCl7aWYoKGM9ZVthXSlbMl0pZm9yKGk9b1tkXSxzPTA7czxjWzJdLmxlbmd0aDtzKyspe2lmKCFpLmhhc093blByb3BlcnR5KGNbMl1bc10pKXRocm93IHQoJ1tzcHJpbnRmXSBwcm9wZXJ0eSAiJXMiIGRvZXMgbm90IGV4aXN0JyxjWzJdW3NdKTtpPWlbY1syXVtzXV19ZWxzZSBpPWNbMV0/b1tjWzFdXTpvW2QrK107aWYoL1tec10vLnRlc3QoY1s4XSkmJiJudW1iZXIiIT1uKGkpKXRocm93IHQoIltzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlcyIsbihpKSk7c3dpdGNoKGNbOF0pe2Nhc2UiYiI6aT1pLnRvU3RyaW5nKDIpO2JyZWFrO2Nhc2UiYyI6aT1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO2JyZWFrO2Nhc2UiZCI6aT1wYXJzZUludChpLDEwKTticmVhaztjYXNlImUiOmk9Y1s3XT9pLnRvRXhwb25lbnRpYWwoY1s3XSk6aS50b0V4cG9uZW50aWFsKCk7YnJlYWs7Y2FzZSJmIjppPWNbN10/cGFyc2VGbG9hdChpKS50b0ZpeGVkKGNbN10pOnBhcnNlRmxvYXQoaSk7YnJlYWs7Y2FzZSJvIjppPWkudG9TdHJpbmcoOCk7YnJlYWs7Y2FzZSJzIjppPShpPVN0cmluZyhpKSkmJmNbN10/aS5zdWJzdHJpbmcoMCxjWzddKTppO2JyZWFrO2Nhc2UidSI6aT4+Pj0wO2JyZWFrO2Nhc2UieCI6aT1pLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIlgiOmk9aS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1pPS9bZGVmXS8udGVzdChjWzhdKSYmY1szXSYmaT49MD8iKyIraTppLGw9Y1s0XT8iMCI9PWNbNF0/IjAiOmNbNF0uY2hhckF0KDEpOiIgIixwPWNbNl0tU3RyaW5nKGkpLmxlbmd0aCx1PWNbNl0/cihsLHApOiIiLGcucHVzaChjWzVdP2krdTp1K2kpfXJldHVybiBnLmpvaW4oIiIpfSx0LmNhY2hlPXt9LHQucGFyc2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsbj1bXSxyPVtdLG89MDt0Oyl7aWYobnVsbCE9PShuPS9eW15ceDI1XSsvLmV4ZWModCkpKXIucHVzaChuWzBdKTtlbHNlIGlmKG51bGwhPT0obj0vXlx4MjV7Mn0vLmV4ZWModCkpKXIucHVzaCgiJSIpO2Vsc2V7aWYobnVsbD09PShuPS9eXHgyNSg/OihbMS05XVxkKilcJHxcKChbXlwpXSspXCkpPyhcKyk/KDB8J1teJF0pPygtKT8oXGQrKT8oPzpcLihcZCspKT8oW2ItZm9zdXhYXSkvLmV4ZWModCkpKXRocm93IltzcHJpbnRmXSBodWg/IjtpZihuWzJdKXtvfD0xO3ZhciBpPVtdLGE9blsyXSxzPVtdO2lmKG51bGw9PT0ocz0vXihbYS16X11bYS16X1xkXSopL2kuZXhlYyhhKSkpdGhyb3ciW3NwcmludGZdIGh1aD8iO2ZvcihpLnB1c2goc1sxXSk7IiIhPT0oYT1hLnN1YnN0cmluZyhzWzBdLmxlbmd0aCkpOylpZihudWxsIT09KHM9L15cLihbYS16X11bYS16X1xkXSopL2kuZXhlYyhhKSkpaS5wdXNoKHNbMV0pO2Vsc2V7aWYobnVsbD09PShzPS9eXFsoXGQrKVxdLy5leGVjKGEpKSl0aHJvdyJbc3ByaW50Zl0gaHVoPyI7aS5wdXNoKHNbMV0pfW5bMl09aX1lbHNlIG98PTI7aWYoMz09PW8pdGhyb3ciW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZCI7ci5wdXNoKG4pfXQ9dC5zdWJzdHJpbmcoblswXS5sZW5ndGgpfXJldHVybiByfSxlLnNwcmludGY9dCxlLnZzcHJpbnRmPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4ocj1uLnNsaWNlKDApKS5zcGxpY2UoMCwwLGUpLHQuYXBwbHkobnVsbCxyKX19KCl9LDQzMTooKT0+e2Z1bmN0aW9uIGUodCl7cmV0dXJuIGU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGUodCl9ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbihvLmtleSksbyl9fWZ1bmN0aW9uIG4odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUsdCk7dmFyIG49e30udG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBvKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1BcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn0hZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLG49ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9bixlLmxpbHk9bjt2YXIgbz1mdW5jdGlvbigpe307by5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aHJvdyBuZXcgbi5Ob3RJbXBsZW1lbnRlZEVycm9yfSxvLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IG4uTm90SW1wbGVtZW50ZWRFcnJvcn07dmFyIGk9ZnVuY3Rpb24oKXtvLmNhbGwodGhpcyl9OyhpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe307dmFyIGE9ZnVuY3Rpb24oZSx0KXtvLmNhbGwodGhpcyksdGhpcy53aW5kb3c9ZSx0aGlzLmRvbWFpbj10fHwiKiJ9OyhhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9YSxhLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMud2luZG93LnBvc3RNZXNzYWdlKGUsdGhpcy5kb21haW4pfSxhLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSl9O3ZhciBzPWZ1bmN0aW9uKGUsdCxuKXtvLmNhbGwodGhpcyksdGhpcy5pbnB1dD1lLHRoaXMub3V0cHV0PXQsdGhpcy5kb21haW49bnx8IioifTsocy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXMscy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLm91dHB1dC5wb3N0TWVzc2FnZShlLHRoaXMuZG9tYWluKX0scy5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24obil7bi5zb3VyY2U9PT10Lm91dHB1dCYmZShuKX0pKX07dmFyIGM9ZnVuY3Rpb24oZSl7by5jYWxsKHRoaXMpLHRoaXMucG9ydD1lLHRoaXMuaWQ9bi5yYW5kb21JZCgpfTsoYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlKXt0aGlzLnBvcnQucG9zdE1lc3NhZ2UoZSl9LGMucHJvdG90eXBlLm9uTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLnBvcnQuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSl9LGMucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9O3ZhciB1PWZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzKSx0aGlzLnN0cmVhbU1hcD1lP24uaW5kZXgoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0SWQoKX0pKTp7fSx0aGlzLm1lc3NhZ2VMaXN0ZW5lcnM9W119Oyh1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9dSx1LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe3RoaXMuZ2V0U3RyZWFtcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3RyeXt0LnNlbmQoZSl9Y2F0Y2goZSl7fX0pKX0sdS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMubWVzc2FnZUxpc3RlbmVycy5wdXNoKGUpLHRoaXMuZ2V0U3RyZWFtcygpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3Qub25NZXNzYWdlKGUpfSkpfSx1LnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5zdHJlYW1NYXBbZS5nZXRJZCgpXT1lLHRoaXMubWVzc2FnZUxpc3RlbmVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLm9uTWVzc2FnZSh0KX0pKX0sdS5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLnN0cmVhbU1hcFtlLmdldElkKCldfSx1LnByb3RvdHlwZS5nZXRTdHJlYW1zPWZ1bmN0aW9uKGUpe3JldHVybiBuLnZhbHVlcyh0aGlzLnN0cmVhbU1hcCl9LHUucHJvdG90eXBlLmdldFN0cmVhbUZvclBvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZmluZCh0aGlzLmdldFN0cmVhbXMoKSwoZnVuY3Rpb24odCl7cmV0dXJuIHQucG9ydD09PWV9KSl9O3ZhciBsPWZ1bmN0aW9uKGUsdCxvKXt0aGlzLm5hbWU9ZSx0aGlzLnVwc3RyZWFtPXR8fG5ldyBpLHRoaXMuZG93bnN0cmVhbT1vfHxuZXcgaSx0aGlzLmRvd25zdHJlYW1CdXM9bmV3IG4uRXZlbnRCdXMsdGhpcy51cHN0cmVhbUJ1cz1uZXcgbi5FdmVudEJ1cyx0aGlzLnVwc3RyZWFtLm9uTWVzc2FnZShuLmhpdGNoKHRoaXMsdGhpcy5fZGlzcGF0Y2hFdmVudCx0aGlzLnVwc3RyZWFtQnVzKSksdGhpcy5kb3duc3RyZWFtLm9uTWVzc2FnZShuLmhpdGNoKHRoaXMsdGhpcy5fZGlzcGF0Y2hFdmVudCx0aGlzLmRvd25zdHJlYW1CdXMpKSx0aGlzLmFjdGl2ZT0hMCx0aGlzLmFsbG93ZWRFdmVudHM9W10uY29uY2F0KHIoT2JqZWN0LmVudHJpZXMobi5HbG9iYWxSZXNpbGllbmN5RXZlbnRzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSkpKSxbbi5FdmVudFR5cGUuQ09ORklHVVJFLG4uRXZlbnRUeXBlLlNZTkNIUk9OSVpFLG4uRXZlbnRUeXBlLkFDS05PV0xFREdFLG4uRXZlbnRUeXBlLkxPRyxuLkV2ZW50VHlwZS5TRVJWRVJfQk9VTkRfSU5URVJOQUxfTE9HLG4uRXZlbnRUeXBlLkRPV05MT0FEX0xPR19GUk9NX0NDUF0pfTtsLnByb3RvdHlwZS5vblVwc3RyZWFtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSxuLmFzc2VydE5vdE51bGwodCwiZiIpLG4uYXNzZXJ0VHJ1ZShuLmlzRnVuY3Rpb24odCksImYgbXVzdCBiZSBhIGZ1bmN0aW9uIiksdGhpcy51cHN0cmVhbUJ1cy5zdWJzY3JpYmUoZSx0KX0sbC5wcm90b3R5cGUub25BbGxVcHN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMudXBzdHJlYW1CdXMuc3Vic2NyaWJlQWxsKGUpfSxsLnByb3RvdHlwZS5vbkRvd25zdHJlYW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLG4uYXNzZXJ0Tm90TnVsbCh0LCJmIiksbi5hc3NlcnRUcnVlKG4uaXNGdW5jdGlvbih0KSwiZiBtdXN0IGJlIGEgZnVuY3Rpb24iKSx0aGlzLmRvd25zdHJlYW1CdXMuc3Vic2NyaWJlKGUsdCl9LGwucHJvdG90eXBlLm9uQWxsRG93bnN0cmVhbT1mdW5jdGlvbihlKXtyZXR1cm4gbi5hc3NlcnROb3ROdWxsKGUsImYiKSxuLmFzc2VydFRydWUobi5pc0Z1bmN0aW9uKGUpLCJmIG11c3QgYmUgYSBmdW5jdGlvbiIpLHRoaXMuZG93bnN0cmVhbUJ1cy5zdWJzY3JpYmVBbGwoZSl9LGwucHJvdG90eXBlLnNlbmRVcHN0cmVhbT1mdW5jdGlvbihlLHQpe24uYXNzZXJ0Tm90TnVsbChlLCJldmVudE5hbWUiKSx0aGlzLnVwc3RyZWFtLnNlbmQoe2V2ZW50OmUsZGF0YTp0fSl9LGwucHJvdG90eXBlLnNlbmREb3duc3RyZWFtPWZ1bmN0aW9uKGUsdCl7bi5hc3NlcnROb3ROdWxsKGUsImV2ZW50TmFtZSIpLHRoaXMuZG93bnN0cmVhbS5zZW5kKHtldmVudDplLGRhdGE6dH0pfSxsLnByb3RvdHlwZS5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXQuZGF0YTtuLmV2ZW50JiZlLnRyaWdnZXIobi5ldmVudCxuLmRhdGEpfSxsLnByb3RvdHlwZS5wYXNzVXBzdHJlYW09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LHIpe2UuYWN0aXZlfHxlLmFsbG93ZWRFdmVudHMuaW5jbHVkZXMocik/ZS51cHN0cmVhbS5zZW5kKHtldmVudDpyLGRhdGE6dH0pOm4uZ2V0TG9nKCkuZGVidWcoIltHUl0gQ29uZHVpdCAiLmNvbmNhdChlLm5hbWUsIiBoYXMgYmxvY2tlZCBldmVudCAiKS5jb25jYXQociwiIGZyb20gZ29pbmcgdXBzdHJlYW0uIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxsLnByb3RvdHlwZS5wYXNzRG93bnN0cmVhbT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQscil7ZS5hY3RpdmV8fGUuYWxsb3dlZEV2ZW50cy5pbmNsdWRlcyhyKT9lLmRvd25zdHJlYW0uc2VuZCh7ZXZlbnQ6cixkYXRhOnR9KTpuLmdldExvZygpLmRlYnVnKCJbR1JdIENvbmR1aXQgIi5jb25jYXQoZS5uYW1lLCIgaGFzIGJsb2NrZWQgZXZlbnQgIikuY29uY2F0KHIsIiBmcm9tIGdvaW5nIGRvd25zdHJlYW0uIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSxsLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3RoaXMudXBzdHJlYW1CdXMudW5zdWJzY3JpYmVBbGwoKSx0aGlzLmRvd25zdHJlYW1CdXMudW5zdWJzY3JpYmVBbGwoKX0sbC5wcm90b3R5cGUuc2V0QWN0aXZlPWZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgQ0NQIGNvbmR1aXQgYXMgYWN0aXZlIiksdGhpcy5hY3RpdmU9ITB9LGwucHJvdG90eXBlLnNldEluYWN0aXZlPWZ1bmN0aW9uKCl7bi5nZXRMb2coKS5pbmZvKCJbR1JdIFNldHRpbmcgQ0NQIGNvbmR1aXQgYXMgaW5hY3RpdmUiKSx0aGlzLmFjdGl2ZT0hMX07dmFyIHA9ZnVuY3Rpb24oZSx0LG4scil7bC5jYWxsKHRoaXMsZSxuZXcgcyh0LG4uY29udGVudFdpbmRvdyxyfHwiKiIpLG51bGwpfTsocC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShsLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPXA7dmFyIGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZT1mdW5jdGlvbiBlKHQsbixyKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0odGhpcyxlKTt2YXIgbz1uZXcgVVJMKHIpLm9yaWdpbjt0aGlzLmFjdGl2ZVJlZ2lvblVybD1vLHRoaXMuY29uZHVpdHM9bi5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyBwKGUuc3JjLHQsZSk7bi5pZnJhbWU9ZTt2YXIgcj1uZXcgVVJMKGUuc3JjKS5vcmlnaW47cmV0dXJuIG4ubmFtZT1yLG59KSksdGhpcy5zZXRBY3RpdmVDb25kdWl0KG8pfSwocj1be2tleToib25VcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIG4ub25VcHN0cmVhbShlLHQpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6Im9uQWxsVXBzdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZHVpdHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vbkFsbFVwc3RyZWFtKGUpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6Im9uRG93bnN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIG4ub25Eb3duc3RyZWFtKGUsdCl9KSk7cmV0dXJue3Vuc3Vic2NyaWJlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5zdWJzY3JpYmUoKX0pKX19fX0se2tleToib25BbGxEb3duc3RyZWFtIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbmR1aXRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQub25BbGxEb3duc3RyZWFtKGUpfSkpO3JldHVybnt1bnN1YnNjcmliZTpmdW5jdGlvbigpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVuc3Vic2NyaWJlKCl9KSl9fX19LHtrZXk6InNlbmRVcHN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe24uc2VuZFVwc3RyZWFtKGUsdCl9KSl9fSx7a2V5OiJzZW5kRG93bnN0cmVhbSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbmR1aXRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe24uc2VuZERvd25zdHJlYW0oZSx0KX0pKX19LHtrZXk6InJlbGF5VXBzdHJlYW0iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jb25kdWl0cy5mb3JFYWNoKChmdW5jdGlvbihyKXtyLm9uVXBzdHJlYW0oZSwoZnVuY3Rpb24obyl7dmFyIGk9dC5nZXRPdGhlckNvbmR1aXQocik7aS5zZW5kVXBzdHJlYW0oZSxvKSxuLmdldExvZygpLmluZm8oIlJlbGF5ZWQgZXZlbnQgIi5jb25jYXQoZSwiIGZyb20gIikuY29uY2F0KHIubmFtZSwiIHRvICIpLmNvbmNhdChpLm5hbWUsIiBzaGFyZWQgd29ya2VyIikpLndpdGhPYmplY3Qoe2RhdGE6b30pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSl9KSl9fSx7a2V5OiJnZXRBbGxDb25kdWl0cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25kdWl0c319LHtrZXk6InNldEFjdGl2ZUNvbmR1aXQiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jb25kdWl0cy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZX0pKT8odGhpcy5jb25kdWl0cy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLm5hbWU9PT1lJiYodC5hY3RpdmVSZWdpb25Vcmw9ZSx0Lm5hbWU9bi5uYW1lLHQudXBzdHJlYW09bi51cHN0cmVhbSx0LmRvd25zdHJlYW09bi5kb3duc3RyZWFtLHQudXBzdHJlYW1CdXM9bi51cHN0cmVhbUJ1cyx0LmRvd25zdHJlYW1CdXM9bi5kb3duc3RyZWFtQnVzKX0pKSxuLmdldExvZygpLmluZm8oIltHUl0gU3dpdGNoZWQgdG8gYWN0aXZlIGNvbmR1aXQgIi5jb25jYXQodGhpcy5nZXRBY3RpdmVDb25kdWl0KCkubmFtZSkpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkpOm4uZ2V0TG9nKCkuZXJyb3IoIltHUl0gTm8gY29uZHVpdCBmb3VuZCB3aXRoIHRoZSBnaXZlbiBjY3BVcmw6ICIuY29uY2F0KGUpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0se2tleToiZ2V0QWN0aXZlQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLmFjdGl2ZVJlZ2lvblVybH0pKX19LHtrZXk6ImdldEluYWN0aXZlQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWUhPT1lLmFjdGl2ZVJlZ2lvblVybH0pKX19LHtrZXk6ImdldE90aGVyQ29uZHVpdCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIGUubmFtZSE9PXQubmFtZX0pKX19LHtrZXk6ImdldENvbmR1aXRCeVJlZ2lvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29uZHVpdHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucmVnaW9uPT09ZX0pKX19LHtrZXk6ImdldENvbmR1aXRCeU5hbWUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbmR1aXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpfX1dKSYmdChlLnByb3RvdHlwZSxyKSxvJiZ0KGUsbyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksZTt2YXIgZSxyLG99KCk7bi5TdHJlYW09byxuLk51bGxTdHJlYW09aSxuLldpbmRvd1N0cmVhbT1hLG4uV2luZG93SU9TdHJlYW09cyxuLlBvcnRTdHJlYW09YyxuLlN0cmVhbU11bHRpcGxleGVyPXUsbi5Db25kdWl0PWwsbi5JRnJhbWVDb25kdWl0PXAsbi5HUlByb3h5SWZyYW1lQ29uZHVpdD1kfSgpfSw4MzA6KCk9PnshZnVuY3Rpb24oKXt2YXIgZT10aGlzfHxnbG9iYWxUaGlzLHQ9ZS5jb25uZWN0fHx7fTtlLmNvbm5lY3Q9dCxlLmxpbHk9dDt2YXIgbj1mdW5jdGlvbihlLG4pe3QuYXNzZXJ0Tm90TnVsbChlLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwobiwidG9TdGF0ZSIpLHRoaXMuZnJvbVN0YXRlPWUsdGhpcy50b1N0YXRlPW59O24ucHJvdG90eXBlLmdldEFzc29jaWF0aW9ucz1mdW5jdGlvbihlKXt0aHJvdyB0Lk5vdEltcGxlbWVudGVkRXJyb3IoKX0sbi5wcm90b3R5cGUuZ2V0RnJvbVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJvbVN0YXRlfSxuLnByb3RvdHlwZS5nZXRUb1N0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdGF0ZX07dmFyIHI9ZnVuY3Rpb24oZSxyLG8pe3QuYXNzZXJ0Tm90TnVsbChlLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwociwidG9TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChvLCJhc3NvY2lhdGlvbnMiKSxuLmNhbGwodGhpcyxlLHIpLHRoaXMuYXNzb2NpYXRpb25zPW99OyhyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9cixyLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXNzb2NpYXRpb25zfTt2YXIgbz1mdW5jdGlvbihlLHIsbyl7dC5hc3NlcnROb3ROdWxsKGUsImZyb21TdGF0ZSIpLHQuYXNzZXJ0Tm90TnVsbChyLCJ0b1N0YXRlIiksdC5hc3NlcnROb3ROdWxsKG8sImNsb3N1cmUiKSx0LmFzc2VydFRydWUodC5pc0Z1bmN0aW9uKG8pLCJjbG9zdXJlIG11c3QgYmUgYSBmdW5jdGlvbiIpLG4uY2FsbCh0aGlzLGUsciksdGhpcy5jbG9zdXJlPW99OyhvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSkuY29uc3RydWN0b3I9byxvLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvc3VyZShlLHRoaXMuZ2V0RnJvbVN0YXRlKCksdGhpcy5nZXRUb1N0YXRlKCkpfTt2YXIgaT1mdW5jdGlvbigpe3RoaXMuZnJvbU1hcD17fX07aS5BTlk9Ijw8YW55Pj4iLGkucHJvdG90eXBlLmFzc29jPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO2lmKCFlKXRocm93IG5ldyBFcnJvcigiZnJvbVN0YXRlT2JqIGlzIG5vdCBkZWZpbmVkLiIpO2lmKCF0KXRocm93IG5ldyBFcnJvcigidG9TdGF0ZU9iaiBpcyBub3QgZGVmaW5lZC4iKTtpZighbil0aHJvdyBuZXcgRXJyb3IoImFzc29jT2JqIGlzIG5vdCBkZWZpbmVkLiIpO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpLmFzc29jKGUsdCxuKX0pKTp0IGluc3RhbmNlb2YgQXJyYXk/dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmFzc29jKGUsdCxuKX0pKToiZnVuY3Rpb24iPT10eXBlb2Ygbj90aGlzLl9hZGRBc3NvY2lhdGlvbihuZXcgbyhlLHQsbikpOm4gaW5zdGFuY2VvZiBBcnJheT90aGlzLl9hZGRBc3NvY2lhdGlvbihuZXcgcihlLHQsbikpOnRoaXMuX2FkZEFzc29jaWF0aW9uKG5ldyByKGUsdCxbbl0pKSx0aGlzfSxpLnByb3RvdHlwZS5nZXRBc3NvY2lhdGlvbnM9ZnVuY3Rpb24oZSxuLHIpe3QuYXNzZXJ0Tm90TnVsbChuLCJmcm9tU3RhdGUiKSx0LmFzc2VydE5vdE51bGwociwidG9TdGF0ZSIpO3ZhciBvPVtdLGE9dGhpcy5mcm9tTWFwW2kuQU5ZXXx8e30scz10aGlzLmZyb21NYXBbbl18fHt9O3JldHVybiBvPShvPW8uY29uY2F0KHRoaXMuX2dldEFzc29jaWF0aW9uc0Zyb21NYXAoYSxlLG4scikpKS5jb25jYXQodGhpcy5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcChzLGUsbixyKSl9LGkucHJvdG90eXBlLl9hZGRBc3NvY2lhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZyb21NYXBbZS5nZXRGcm9tU3RhdGUoKV07dHx8KHQ9dGhpcy5mcm9tTWFwW2UuZ2V0RnJvbVN0YXRlKCldPXt9KTt2YXIgbj10W2UuZ2V0VG9TdGF0ZSgpXTtufHwobj10W2UuZ2V0VG9TdGF0ZSgpXT1bXSksbi5wdXNoKGUpfSxpLnByb3RvdHlwZS5fZ2V0QXNzb2NpYXRpb25zRnJvbU1hcD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4oZVtpLkFOWV18fFtdKS5jb25jYXQoZVtyXXx8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5jb25jYXQobi5nZXRBc3NvY2lhdGlvbnModCkpfSksW10pfSx0LkV2ZW50R3JhcGg9aX0oKX0sNjA6KCk9PntmdW5jdGlvbiBlKCl7InVzZSBzdHJpY3QiO2U9ZnVuY3Rpb24oKXtyZXR1cm4gbn07dmFyIHQsbj17fSxyPU9iamVjdC5wcm90b3R5cGUsbz1yLmhhc093blByb3BlcnR5LGE9T2JqZWN0LmRlZmluZVByb3BlcnR5fHxmdW5jdGlvbihlLHQsbil7ZVt0XT1uLnZhbHVlfSxzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2w/U3ltYm9sOnt9LGM9cy5pdGVyYXRvcnx8IkBAaXRlcmF0b3IiLHU9cy5hc3luY0l0ZXJhdG9yfHwiQEBhc3luY0l0ZXJhdG9yIixsPXMudG9TdHJpbmdUYWd8fCJAQHRvU3RyaW5nVGFnIjtmdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pLGVbdF19dHJ5e3Aoe30sIiIpfWNhdGNoKHQpe3A9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW59fWZ1bmN0aW9uIGQoZSx0LG4scil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiBiP3Q6YixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHM9bmV3IE4ocnx8W10pO3JldHVybiBhKGksIl9pbnZva2UiLHt2YWx1ZTpSKGUsbixzKX0pLGl9ZnVuY3Rpb24gZihlLHQsbil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxuKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fW4ud3JhcD1kO3ZhciBoPSJzdXNwZW5kZWRTdGFydCIsZz0ic3VzcGVuZGVkWWllbGQiLG09ImV4ZWN1dGluZyIsdj0iY29tcGxldGVkIix5PXt9O2Z1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gRSgpe31mdW5jdGlvbiBTKCl7fXZhciBDPXt9O3AoQyxjLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBUPU9iamVjdC5nZXRQcm90b3R5cGVPZixJPVQmJlQoVChQKFtdKSkpO0kmJkkhPT1yJiZvLmNhbGwoSSxjKSYmKEM9SSk7dmFyIHc9Uy5wcm90b3R5cGU9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBfKGUsdCl7ZnVuY3Rpb24gbihyLGEscyxjKXt2YXIgdT1mKGVbcl0sZSxhKTtpZigidGhyb3ciIT09dS50eXBlKXt2YXIgbD11LmFyZyxwPWwudmFsdWU7cmV0dXJuIHAmJiJvYmplY3QiPT1pKHApJiZvLmNhbGwocCwiX19hd2FpdCIpP3QucmVzb2x2ZShwLl9fYXdhaXQpLnRoZW4oKGZ1bmN0aW9uKGUpe24oIm5leHQiLGUscyxjKX0pLChmdW5jdGlvbihlKXtuKCJ0aHJvdyIsZSxzLGMpfSkpOnQucmVzb2x2ZShwKS50aGVuKChmdW5jdGlvbihlKXtsLnZhbHVlPWUscyhsKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigidGhyb3ciLGUscyxjKX0pKX1jKHUuYXJnKX12YXIgcjthKHRoaXMsIl9pbnZva2UiLHt2YWx1ZTpmdW5jdGlvbihlLG8pe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQscil7bihlLG8sdCxyKX0pKX1yZXR1cm4gcj1yP3IudGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBSKGUsbixyKXt2YXIgbz1oO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG89PT1tKXRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobz09PXYpe2lmKCJ0aHJvdyI9PT1pKXRocm93IGE7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgcz1yLmRlbGVnYXRlO2lmKHMpe3ZhciBjPU8ocyxyKTtpZihjKXtpZihjPT09eSljb250aW51ZTtyZXR1cm4gY319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG89PT1oKXRocm93IG89dixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO289bTt2YXIgdT1mKGUsbixyKTtpZigibm9ybWFsIj09PXUudHlwZSl7aWYobz1yLmRvbmU/djpnLHUuYXJnPT09eSljb250aW51ZTtyZXR1cm57dmFsdWU6dS5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT11LnR5cGUmJihvPXYsci5tZXRob2Q9InRocm93IixyLmFyZz11LmFyZyl9fX1mdW5jdGlvbiBPKGUsbil7dmFyIHI9bi5tZXRob2Qsbz1lLml0ZXJhdG9yW3JdO2lmKG89PT10KXJldHVybiBuLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXImJmUuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9dCxPKGUsbiksInRocm93Ij09PW4ubWV0aG9kKXx8InJldHVybiIhPT1yJiYobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICciK3IrIicgbWV0aG9kIikpLHk7dmFyIGk9ZihvLGUuaXRlcmF0b3Isbi5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9aS5hcmcsbi5kZWxlZ2F0ZT1udWxsLHk7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhuW2UucmVzdWx0TmFtZV09YS52YWx1ZSxuLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09bi5tZXRob2QmJihuLm1ldGhvZD0ibmV4dCIsbi5hcmc9dCksbi5kZWxlZ2F0ZT1udWxsLHkpOmE6KG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxuLmRlbGVnYXRlPW51bGwseSl9ZnVuY3Rpb24gTChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBOKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goTCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBQKGUpe2lmKGV8fCIiPT09ZSl7dmFyIG49ZVtjXTtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUubmV4dClyZXR1cm4gZTtpZighaXNOYU4oZS5sZW5ndGgpKXt2YXIgcj0tMSxhPWZ1bmN0aW9uIG4oKXtmb3IoOysrcjxlLmxlbmd0aDspaWYoby5jYWxsKGUscikpcmV0dXJuIG4udmFsdWU9ZVtyXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT10LG4uZG9uZT0hMCxufTtyZXR1cm4gYS5uZXh0PWF9fXRocm93IG5ldyBUeXBlRXJyb3IoaShlKSsiIGlzIG5vdCBpdGVyYWJsZSIpfXJldHVybiBFLnByb3RvdHlwZT1TLGEodywiY29uc3RydWN0b3IiLHt2YWx1ZTpTLGNvbmZpZ3VyYWJsZTohMH0pLGEoUywiY29uc3RydWN0b3IiLHt2YWx1ZTpFLGNvbmZpZ3VyYWJsZTohMH0pLEUuZGlzcGxheU5hbWU9cChTLGwsIkdlbmVyYXRvckZ1bmN0aW9uIiksbi5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1FfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxuLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxTKTooZS5fX3Byb3RvX189UyxwKGUsbCwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3KSxlfSxuLmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKF8ucHJvdG90eXBlKSxwKF8ucHJvdG90eXBlLHUsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksbi5Bc3luY0l0ZXJhdG9yPV8sbi5hc3luYz1mdW5jdGlvbihlLHQscixvLGkpe3ZvaWQgMD09PWkmJihpPVByb21pc2UpO3ZhciBhPW5ldyBfKGQoZSx0LHIsbyksaSk7cmV0dXJuIG4uaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9hOmEubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTphLm5leHQoKX0pKX0sQSh3KSxwKHcsbCwiR2VuZXJhdG9yIikscCh3LGMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSkscCh3LCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksbi5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChlKSxuPVtdO2Zvcih2YXIgciBpbiB0KW4ucHVzaChyKTtyZXR1cm4gbi5yZXZlcnNlKCksZnVuY3Rpb24gZSgpe2Zvcig7bi5sZW5ndGg7KXt2YXIgcj1uLnBvcCgpO2lmKHIgaW4gdClyZXR1cm4gZS52YWx1ZT1yLGUuZG9uZT0hMSxlfXJldHVybiBlLmRvbmU9ITAsZX19LG4udmFsdWVzPVAsTi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOk4scmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKGspLCFlKWZvcih2YXIgbiBpbiB0aGlzKSJ0Ij09PW4uY2hhckF0KDApJiZvLmNhbGwodGhpcyxuKSYmIWlzTmFOKCtuLnNsaWNlKDEpKSYmKHRoaXNbbl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgbj10aGlzO2Z1bmN0aW9uIHIocixvKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSxuLm5leHQ9cixvJiYobi5tZXRob2Q9Im5leHQiLG4uYXJnPXQpLCEhb31mb3IodmFyIGk9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgYT10aGlzLnRyeUVudHJpZXNbaV0scz1hLmNvbXBsZXRpb247aWYoInJvb3QiPT09YS50cnlMb2MpcmV0dXJuIHIoImVuZCIpO2lmKGEudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPW8uY2FsbChhLCJjYXRjaExvYyIpLHU9by5jYWxsKGEsImZpbmFsbHlMb2MiKTtpZihjJiZ1KXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8YS5maW5hbGx5TG9jKXJldHVybiByKGEuZmluYWxseUxvYyl9ZWxzZSBpZihjKXtpZih0aGlzLnByZXY8YS5jYXRjaExvYylyZXR1cm4gcihhLmNhdGNoTG9jLCEwKX1lbHNle2lmKCF1KXRocm93IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIHIoYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtuPj0wOy0tbil7dmFyIHI9dGhpcy50cnlFbnRyaWVzW25dO2lmKHIudHJ5TG9jPD10aGlzLnByZXYmJm8uY2FsbChyLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxyLmZpbmFsbHlMb2Mpe3ZhciBpPXI7YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyx5KTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHl9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgbj10aGlzLnRyeUVudHJpZXNbdF07aWYobi5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShuLmNvbXBsZXRpb24sbi5hZnRlckxvYyksayhuKSx5fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIG49dGhpcy50cnlFbnRyaWVzW3RdO2lmKG4udHJ5TG9jPT09ZSl7dmFyIHI9bi5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1yLnR5cGUpe3ZhciBvPXIuYXJnO2sobil9cmV0dXJuIG99fXRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlAoZSkscmVzdWx0TmFtZTpuLG5leHRMb2M6cn0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz10KSx5fX0sbn1mdW5jdGlvbiB0KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e307biUyP3QoT2JqZWN0KG8pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyKGUsdCxvW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG8pKTp0KE9iamVjdChvKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHIoZSx0LG4pe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPWkoZSl8fCFlKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwoZSx0fHwiZGVmYXVsdCIpO2lmKCJvYmplY3QiIT1pKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIil9cmV0dXJuKCJzdHJpbmciPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSwic3RyaW5nIik7cmV0dXJuInN5bWJvbCI9PWkodCk/dDp0KyIifSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBvKGUsdCxuLHIsbyxpLGEpe3RyeXt2YXIgcz1lW2ldKGEpLGM9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCBuKGUpfXMuZG9uZT90KGMpOlByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsbyl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0saShlKX0hZnVuY3Rpb24oKXt2YXIgdD10aGlzfHxnbG9iYWxUaGlzLHI9dC5jb25uZWN0fHx7fTt0LmNvbm5lY3Q9cix0LmxpbHk9cjt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LHM9WyJidWJibGVzIiwiY2FuY2VsQnViYmxlIiwiY2FuY2VsYWJsZSIsImNvbXBvc2VkIiwiZGF0YSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudFBoYXNlIiwiaXNUcnVzdGVkIiwibGFzdEV2ZW50SWQiLCJvcmlnaW4iLCJyZXR1cm5WYWx1ZSIsInRpbWVTdGFtcCIsInR5cGUiXTtyLnNwcmludGY9dC5zcHJpbnRmLHIudnNwcmludGY9dC52c3ByaW50ZixkZWxldGUgdC5zcHJpbnRmLGRlbGV0ZSB0LnZzcHJpbnRmLHIuSFRUUF9TVEFUVVNfQ09ERVM9e1NVQ0NFU1M6MjAwLFVOQVVUSE9SSVpFRDo0MDEsQUNDRVNTX0RFTklFRDo0MDMsVE9PX01BTllfUkVRVUVTVFM6NDI5LElOVEVSTkFMX1NFUlZFUl9FUlJPUjo1MDB9LHIuVFJBTlNQT1JUX1RZUEVTPXtDSEFUX1RPS0VOOiJjaGF0X3Rva2VuIixXRUJfU09DS0VUOiJ3ZWJfc29ja2V0IixBR0VOVF9ESVNDT1ZFUlk6ImFnZW50X2Rpc2NvdmVyeSIsV0VCX1JUQzoid2ViX3J0YyJ9LHIuaGl0Y2g9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHQ9ZS5zaGlmdCgpLG49ZS5zaGlmdCgpO3JldHVybiByLmFzc2VydE5vdE51bGwodCwic2NvcGUiKSxyLmFzc2VydE5vdE51bGwobiwibWV0aG9kIiksci5hc3NlcnRUcnVlKHIuaXNGdW5jdGlvbihuKSwibWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiIpLGZ1bmN0aW9uKCl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gbi5hcHBseSh0LGUuY29uY2F0KHIpKX19LHIuaXNGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmNvbnN0cnVjdG9yJiZlLmNhbGwmJmUuYXBwbHkpfSxyLmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sci5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiByLmFzc2VydE5vdE51bGwoZSwibWFwIiksZSl0LnB1c2gobik7cmV0dXJuIHR9LHIudmFsdWVzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiByLmFzc2VydE5vdE51bGwoZSwibWFwIiksZSl0LnB1c2goZVtuXSk7cmV0dXJuIHR9LHIuZW50cmllcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2goe2tleTpuLHZhbHVlOmVbbl19KTtyZXR1cm4gdH0sci5tZXJnZT1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IuZW50cmllcyhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2Uua2V5XT1lLnZhbHVlfSkpfSkpLHR9LHIubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHIuZmluZD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKHQoZVtuXSkpcmV0dXJuIGVbbl07cmV0dXJuIG51bGx9LHIuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P251bGwhPXIuZmluZChlLChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk6dCBpbiBlfSxyLmNvbnRhaW5zVmFsdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P251bGwhPXIuZmluZChlLChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk6bnVsbCE9ci5maW5kKHIudmFsdWVzKGUpLChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSl9LHIucmFuZG9tSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gci5zcHJpbnRmKCIlcy0lcyIsci5ub3coKSxNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSl9LHIubWFrZUVudW09ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKC9cLj8oW2Etel0rKV8/L2csKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKSsiXyJ9KSkucmVwbGFjZSgvXyQvLCIiKTt0W25dPWV9KSksdH0sci5tYWtlTmFtZXNwYWNlZEVudW09ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLm1ha2VFbnVtKHQpO3JldHVybiByLmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0XT1yLnNwcmludGYoIiVzOjolcyIsZSxuW3RdKX0pKSxufSxyLm1ha2VHZW5lcmljTmFtZXNwYWNlZEVudW09ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXIubWFrZUVudW0odCk7cmV0dXJuIHIua2V5cyhvKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvW3RdPXIuc3ByaW50ZigiJXMiK24rIiVzIixlLG9bdF0pfSkpLG99LHIuaXNDaHJvbWVCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIkNocm9tZSIpfSxyLmlzRmlyZWZveEJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PWEuaW5kZXhPZigiRmlyZWZveCIpfSxyLmlzT3BlcmFCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1hLmluZGV4T2YoIk9wZXJhIil9LHIuaXNFZGdlQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09YS5pbmRleE9mKCJFZGciKX0sci5nZXRDaHJvbWVCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciBlPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiQ2hyb21lIikrNyk7cmV0dXJuIGU/cGFyc2VGbG9hdChlKTotMX0sci5nZXRGaXJlZm94QnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIkZpcmVmb3giKSs4KTtyZXR1cm4gZT9wYXJzZUZsb2F0KGUpOi0xfSxyLmlzVmFsaWRMb2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuW3tpZDoiZW5fVVMiLGxhYmVsOiJFbmdsaXNoIn0se2lkOiJkZV9ERSIsbGFiZWw6IkRldXRzY2gifSx7aWQ6ImVzX0VTIixsYWJlbDoiRXNwYcOxb2wifSx7aWQ6ImZyX0ZSIixsYWJlbDoiRnJhbsOnYWlzIn0se2lkOiJqYV9KUCIsbGFiZWw6IuaXpeacrOiqniJ9LHtpZDoiaXRfSVQiLGxhYmVsOiJJdGFsaWFubyJ9LHtpZDoia29fS1IiLGxhYmVsOiLtlZzqta3slrQifSx7aWQ6InB0X0JSIixsYWJlbDoiUG9ydHVndcOqcyJ9LHtpZDoiemhfQ04iLGxhYmVsOiLkuK3mloco566A5L2TKSJ9LHtpZDoiemhfVFciLGxhYmVsOiLkuK3mloco57mB6auUKSJ9XS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLmluY2x1ZGVzKGUpfSxyLmdldE9wZXJhQnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgZT1hLmluZGV4T2YoIk9wZXJhIiksdD0tMSE9PWEuaW5kZXhPZigiVmVyc2lvbiIpP2Euc3Vic3RyaW5nKGUrOCk6YS5zdWJzdHJpbmcoZSs2KTtyZXR1cm4gdD9wYXJzZUZsb2F0KHQpOi0xfSxyLmluZGV4PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blt0KGUpXT1lfSkpLG59LHIuc2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09MX0pKSx0fSxyLnJlbGF0aXZlQ29tcGxlbWVudD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybiByLmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ciBpbiBlfHwobltyXT10W3JdKX0pKSxufSxyLmFzc2VydFRydWU9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgci5WYWx1ZUVycm9yKHQpfSxyLmFzc2VydE5vdE51bGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5hc3NlcnRUcnVlKG51bGwhPWUmJnZvaWQgMCE9PWkoZSksci5zcHJpbnRmKCIlcyBtdXN0IGJlIHByb3ZpZGVkIix0fHwiQSB2YWx1ZSIpKSxlfSxyLmRlZXBjb3B5PWZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX0sci5kZWVwY29weUNyb3NzT3JpZ2luRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24obil7dHJ5e3Rbbl09ZVtuXX1jYXRjaChlKXtyLmdldExvZygpLmluZm8oImRlZXBjb3B5Q3Jvc3NPcmlnaW5FdmVudCBmYWlsZWQgb24ga2V5OiAiLG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9fSkpLHIuZGVlcGNvcHkodCl9LHIuZ2V0QmFzZVVybD1mdW5jdGlvbigpe3ZhciBlPXQubG9jYXRpb247cmV0dXJuIHIuc3ByaW50ZigiJXMvLyVzOiVzIixlLnByb3RvY29sLGUuaG9zdG5hbWUsZS5wb3J0KX0sci5nZXRVcmxXaXRoUHJvdG9jb2w9ZnVuY3Rpb24oZSl7dmFyIG49dC5sb2NhdGlvbi5wcm90b2NvbDtyZXR1cm4gZS5zdWJzdHIoMCxuLmxlbmd0aCkhPT1uP3Iuc3ByaW50ZigiJXMvLyVzIixuLGUpOmV9LHIuaXNGcmFtZWQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5zZWxmIT09d2luZG93LnRvcH1jYXRjaChlKXtyZXR1cm4hMH19LHIuaGFzT3RoZXJDb25uZWN0ZWRDQ1BzPWZ1bmN0aW9uKCl7cmV0dXJuIHIubnVtYmVyT2ZDb25uZWN0ZWRDQ1BzPjF9LHIuZmV0Y2g9ZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIG89b3x8NSxuPW58fDFlMyx0PXR8fHt9LG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpeyFmdW5jdGlvbiBvKHMpe2ZldGNoKGUsdCkudGhlbigoZnVuY3Rpb24oZSl7ZS5zdGF0dXM9PT1yLkhUVFBfU1RBVFVTX0NPREVTLlNVQ0NFU1M/ZS5qc29uKCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuIGkoe30pfSkpOjEhPT1zJiYoZS5zdGF0dXM+PXIuSFRUUF9TVEFUVVNfQ09ERVMuSU5URVJOQUxfU0VSVkVSX0VSUk9SfHxlLnN0YXR1cz09PXIuSFRUUF9TVEFUVVNfQ09ERVMuVE9PX01BTllfUkVRVUVTVFMpP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bygtLXMpfSksbik6YShlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7YShlKX0pKX0obyl9KSl9LHIuZmV0Y2hXaXRoVGltZW91dD1mdW5jdGlvbigpe3ZhciB0LGk9KHQ9ZSgpLm1hcmsoKGZ1bmN0aW9uIHQobyxpLGEscyxjKXt2YXIgdSxsLHA7cmV0dXJuIGUoKS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihhPWF8fHt9LGkpe2UubmV4dD0zO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIixyLmZldGNoKG8sYSxzLGMpKTtjYXNlIDM6cmV0dXJuIHU9bmV3IEFib3J0Q29udHJvbGxlcixsPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHUuYWJvcnQoKX0pLGkpLGUubmV4dD03LHIuZmV0Y2gobyxuKG4oe30sYSkse30se3NpZ25hbDp1LnNpZ25hbH0pLHMsYyk7Y2FzZSA3OnJldHVybiBwPWUuc2VudCxjbGVhclRpbWVvdXQobCksZS5hYnJ1cHQoInJldHVybiIscCk7Y2FzZSAxMDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLHQpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsaSl7dmFyIGE9dC5hcHBseShlLG4pO2Z1bmN0aW9uIHMoZSl7byhhLHIsaSxzLGMsIm5leHQiLGUpfWZ1bmN0aW9uIGMoZSl7byhhLHIsaSxzLGMsInRocm93IixlKX1zKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLHIuYmFja29mZj1mdW5jdGlvbihlLG4sbyxpKXtyLmFzc2VydFRydWUoci5pc0Z1bmN0aW9uKGUpLCJmdW5jIG11c3QgYmUgYSBGdW5jdGlvbiIpO3ZhciBhPXRoaXM7ZSh7c3VjY2VzczpmdW5jdGlvbihlKXtpJiZpLnN1Y2Nlc3MmJmkuc3VjY2VzcyhlKX0sZmFpbHVyZTpmdW5jdGlvbihyLHMpe2lmKG8+MCl7dmFyIGM9MipuKk1hdGgucmFuZG9tKCk7dC5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2EuYmFja29mZihlLDIqYywtLW8saSl9KSxjKX1lbHNlIGkmJmkuZmFpbHVyZSYmaS5mYWlsdXJlKHIscyl9fSl9LHIucHVibGlzaE1ldHJpYz1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5DTElFTlRfTUVUUklDLGRhdGE6ZX0pfSxyLnB1Ymxpc2hTb2Z0cGhvbmVTdGF0cz1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5TT0ZUUEhPTkVfU1RBVFMsZGF0YTplfSl9LHIucHVibGlzaFNvZnRwaG9uZVJlcG9ydD1mdW5jdGlvbihlKXtyLmNvcmUuZ2V0VXBzdHJlYW0oKS5zZW5kVXBzdHJlYW0oci5FdmVudFR5cGUuQlJPQURDQVNULHtldmVudDpyLkV2ZW50VHlwZS5TT0ZUUEhPTkVfUkVQT1JULGRhdGE6ZX0pfSxyLnB1Ymxpc2hDbGlja1N0cmVhbURhdGE9ZnVuY3Rpb24oZSl7ci5jb3JlLmdldFVwc3RyZWFtKCkuc2VuZFVwc3RyZWFtKHIuRXZlbnRUeXBlLkJST0FEQ0FTVCx7ZXZlbnQ6ci5FdmVudFR5cGUuQ0xJQ0tfU1RSRUFNX0RBVEEsZGF0YTplfSl9LHIucHVibGlzaENsaWVudFNpZGVMb2dzPWZ1bmN0aW9uKGUpe3IuY29yZS5nZXRFdmVudEJ1cygpLnRyaWdnZXIoci5FdmVudFR5cGUuQ0xJRU5UX1NJREVfTE9HUyxlKX0sci5hZGROYW1lc3BhY2VUb0xvZ3M9ZnVuY3Rpb24oZSl7WyJsb2ciLCJlcnJvciIsIndhcm4iLCJpbmZvIiwiZGVidWciXS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj13aW5kb3cuY29uc29sZVt0XTt3aW5kb3cuY29uc29sZVt0XT1mdW5jdGlvbigpe3ZhciB0PUFycmF5LmZyb20oYXJndW1lbnRzKTt0LnVuc2hpZnQoIlsiLmNvbmNhdChlLCJdIikpLG4uYXBwbHkod2luZG93LmNvbnNvbGUsdCl9fSkpfSxyLlBvcHVwTWFuYWdlcj1mdW5jdGlvbigpe30sci5Qb3B1cE1hbmFnZXIucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW51bGw7aWYobil7dmFyIG89bi5oZWlnaHR8fDU3OCxpPW4ud2lkdGh8fDQzMyxhPW4udG9wfHwwLHM9bi5sZWZ0fHwwOyhyPXdpbmRvdy5vcGVuKCIiLHQsIndpZHRoPSIraSsiLCBoZWlnaHQ9IitvKyIsIHRvcD0iK2ErIiwgbGVmdD0iK3MpKS5sb2NhdGlvbiE9PWUmJihyPXdpbmRvdy5vcGVuKGUsdCwid2lkdGg9IitpKyIsIGhlaWdodD0iK28rIiwgdG9wPSIrYSsiLCBsZWZ0PSIrcykpfWVsc2Uocj13aW5kb3cub3BlbigiIix0KSkubG9jYXRpb24hPT1lJiYocj13aW5kb3cub3BlbihlLHQpKTtyZXR1cm4gcn0sci5Qb3B1cE1hbmFnZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuX2dldExvY2FsU3RvcmFnZUtleShlKTt0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG4pfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuX2dldExhc3RPcGVuZWRUaW1lc3RhbXA9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5fZ2V0TG9jYWxTdG9yYWdlS2V5KGUpLHI9dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTtyZXR1cm4gcj9wYXJzZUludChyLDEwKTowfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuX3NldExhc3RPcGVuZWRUaW1lc3RhbXA9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLl9nZXRMb2NhbFN0b3JhZ2VLZXkoZSk7dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyLCIiK24pfSxyLlBvcHVwTWFuYWdlci5wcm90b3R5cGUuX2dldExvY2FsU3RvcmFnZUtleT1mdW5jdGlvbihlKXtyZXR1cm4iY29ubmVjdFBvcHVwTWFuYWdlcjo6IitlfTt2YXIgYz1yLm1ha2VFbnVtKFsiZ3JhbnRlZCIsImRlbmllZCIsImRlZmF1bHQiXSk7ci5Ob3RpZmljYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5xdWV1ZT1bXSx0aGlzLnBlcm1pc3Npb249Yy5ERUZBVUxUfSxyLk5vdGlmaWNhdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczsiTm90aWZpY2F0aW9uImluIHQ/dC5Ob3RpZmljYXRpb24ucGVybWlzc2lvbj09PWMuREVOSUVEPyhyLmdldExvZygpLndhcm4oIlRoZSB1c2VyIGhhcyByZXF1ZXN0ZWQgdG8gbm90IHJlY2VpdmUgbm90aWZpY2F0aW9ucy4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHRoaXMucGVybWlzc2lvbj1jLkRFTklFRCk6dGhpcy5wZXJtaXNzaW9uIT09Yy5HUkFOVEVEJiZ0Lk5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKGZ1bmN0aW9uKHQpe2UucGVybWlzc2lvbj10LHQ9PT1jLkdSQU5URUQ/ZS5fc2hvd1F1ZXVlZCgpOmUucXVldWU9W119KSk6KHIuZ2V0TG9nKCkud2FybigiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBub3RpZmljYXRpb25zLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5wZXJtaXNzaW9uPWMuREVOSUVEKX0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5wZXJtaXNzaW9uPT09Yy5HUkFOVEVEKXJldHVybiB0aGlzLl9zaG93SW1wbCh7dGl0bGU6ZSxvcHRpb25zOnR9KTtpZih0aGlzLnBlcm1pc3Npb249PT1jLkRFTklFRClyLmdldExvZygpLndhcm4oIlVuYWJsZSB0byBzaG93IG5vdGlmaWNhdGlvbi4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe3RpdGxlOmUsb3B0aW9uczp0fSk7ZWxzZXt2YXIgbj17dGl0bGU6ZSxvcHRpb25zOnR9O3IuZ2V0TG9nKCkud2FybigiRGVmZXJyaW5nIG5vdGlmaWNhdGlvbiB1bnRpbCB1c2VyIGRlY2lkZXMgdG8gYWxsb3cgb3IgZGVueS4iKS53aXRoT2JqZWN0KG4pLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksdGhpcy5xdWV1ZS5wdXNoKG4pfX0sci5Ob3RpZmljYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5fc2hvd1F1ZXVlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnF1ZXVlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX3Nob3dJbXBsKHQpfSkpO3JldHVybiB0aGlzLnF1ZXVlPVtdLHR9LHIuTm90aWZpY2F0aW9uTWFuYWdlci5wcm90b3R5cGUuX3Nob3dJbXBsPWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyB0Lk5vdGlmaWNhdGlvbihlLnRpdGxlLGUub3B0aW9ucyk7cmV0dXJuIGUub3B0aW9ucy5jbGlja2VkJiYobi5vbmNsaWNrPWZ1bmN0aW9uKCl7ZS5vcHRpb25zLmNsaWNrZWQuY2FsbChuKX0pLG59LHIuVmFsdWVFcnJvcj1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0PWUuc2hpZnQoKSxuPW5ldyBFcnJvcihyLnZzcHJpbnRmKHQsZSkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YobixyLlZhbHVlRXJyb3IucHJvdG90eXBlKSxufSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5WYWx1ZUVycm9yLnByb3RvdHlwZSxFcnJvci5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihyLlZhbHVlRXJyb3IsRXJyb3IpLHIuVmFsdWVFcnJvci5wcm90b3R5cGUubmFtZT0iVmFsdWVFcnJvciIsci5Ob3RJbXBsZW1lbnRlZEVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLHQ9ZS5zaGlmdCgpLG49bmV3IEVycm9yKHIudnNwcmludGYodCxlKSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLHIuTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUpLG59LE9iamVjdC5zZXRQcm90b3R5cGVPZihyLk5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlLEVycm9yLnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuTm90SW1wbGVtZW50ZWRFcnJvcixFcnJvciksci5Ob3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZS5uYW1lPSJOb3RJbXBsZW1lbnRlZEVycm9yIixyLlN0YXRlRXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCksdD1lLnNoaWZ0KCksbj1uZXcgRXJyb3Ioci52c3ByaW50Zih0LGUpKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKG4sci5TdGF0ZUVycm9yLnByb3RvdHlwZSksbn0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHIuU3RhdGVFcnJvci5wcm90b3R5cGUsRXJyb3IucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2Yoci5TdGF0ZUVycm9yLEVycm9yKSxyLlN0YXRlRXJyb3IucHJvdG90eXBlLm5hbWU9IlN0YXRlRXJyb3IiLHIuVm9pY2VJZEVycm9yPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyZXR1cm4gci50eXBlPWUsci5tZXNzYWdlPXQsci5zdGFjaz1FcnJvcih0KS5zdGFjayxyLmVycj1uLHJ9LHIuaXNDQ1A9ZnVuY3Rpb24oKXtyZXR1cm4hIXIuY29yZS51cHN0cmVhbSYmIkNvbm5lY3RTaGFyZWRXb3JrZXJDb25kdWl0Ij09PXIuY29yZS5nZXRVcHN0cmVhbSgpLm5hbWV9LHIuaXNTaGFyZWRXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gci53b3JrZXImJiEhci53b3JrZXIuY2xpZW50RW5naW5lfSxyLmlzQ1JNPWZ1bmN0aW9uKCl7cmV0dXJuISFyLmNvcmUudXBzdHJlYW0mJihyLmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2Ygci5JRnJhbWVDb25kdWl0fHxyLmNvcmUuZ2V0VXBzdHJlYW0oKWluc3RhbmNlb2Ygci5HUlByb3h5SWZyYW1lQ29uZHVpdCl9LHIuaXNBY3RpdmVDb25kdWl0PWZ1bmN0aW9uKGUpe3ZhciB0PXIuY29yZS5nZXRVcHN0cmVhbSgpO3JldHVybiB0IGluc3RhbmNlb2Ygci5HUlByb3h5SWZyYW1lQ29uZHVpdD9lLm5hbWU9PT10LmFjdGl2ZVJlZ2lvblVybDooci5nZXRMb2coKS5kZWJ1ZygiY29ubmVjdC5pc0FjdGl2ZUNvbmR1aXQgaXMgY2FsbGVkIGJ1dCB0aGVyZSBpcyBubyBHUiBwcm94eSBjb25kdWl0Iikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSwhMCl9fSgpfSwzNTQ6KCk9PntmdW5jdGlvbiBlKHQpe3JldHVybiBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxlKHQpfWZ1bmN0aW9uIHQoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89bnVsbCE9YXJndW1lbnRzW25dP2FyZ3VtZW50c1tuXTp7fTtuJTI/dChPYmplY3QobyksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3IoZSx0LG9bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobykpOnQoT2JqZWN0KG8pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobyx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcih0LG4scil7cmV0dXJuKG49ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24odCxuKXtpZigib2JqZWN0IiE9ZSh0KXx8IXQpcmV0dXJuIHQ7dmFyIHI9dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbCh0LG58fCJkZWZhdWx0Iik7aWYoIm9iamVjdCIhPWUobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oInN0cmluZyI9PT1uP1N0cmluZzpOdW1iZXIpKHQpfSh0LCJzdHJpbmciKTtyZXR1cm4ic3ltYm9sIj09ZShuKT9uOm4rIiJ9KG4pKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fSFmdW5jdGlvbigpe3ZhciBlPXRoaXN8fGdsb2JhbFRoaXMsdD1lLmNvbm5lY3R8fHt9O2UuY29ubmVjdD10LGUubGlseT10LHQud29ya2VyPXt9O3ZhciByPSJMQURTLkdldEFnZW50RmFpbG92ZXJDb25maWd1cmF0aW9uIixvPXtjcmVhdGVUYXNrQ29udGFjdDoiY3JlYXRlVGFza0NvbnRhY3QiLGNyZWF0ZU91dGJvdW5kQ29udGFjdDoiY3JlYXRlT3V0Ym91bmRDb250YWN0IixjcmVhdGVUZW1wbGF0ZWRUYXNrOiJjcmVhdGVUZW1wbGF0ZWRUYXNrIn0saT1mdW5jdGlvbigpe3RoaXMudG9waWNNYXN0ZXJNYXA9e319O2kucHJvdG90eXBlLmdldE1hc3Rlcj1mdW5jdGlvbihlKXtyZXR1cm4gdC5hc3NlcnROb3ROdWxsKGUsInRvcGljIiksdGhpcy50b3BpY01hc3Rlck1hcFtlXXx8bnVsbH0saS5wcm90b3R5cGUuc2V0TWFzdGVyPWZ1bmN0aW9uKGUsbil7dC5hc3NlcnROb3ROdWxsKGUsInRvcGljIiksdC5hc3NlcnROb3ROdWxsKG4sImlkIiksdGhpcy50b3BpY01hc3Rlck1hcFtlXT1ufSxpLnByb3RvdHlwZS5yZW1vdmVNYXN0ZXI9ZnVuY3Rpb24oZSl7dC5hc3NlcnROb3ROdWxsKGUsImlkIik7dmFyIG49dGhpczt0LmVudHJpZXModGhpcy50b3BpY01hc3Rlck1hcCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT09PWV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZGVsZXRlIG4udG9waWNNYXN0ZXJNYXBbZS5rZXldfSkpfTt2YXIgYT1mdW5jdGlvbihlKXt0LkNsaWVudEJhc2UuY2FsbCh0aGlzKSx0aGlzLmNvbmR1aXQ9ZX07KGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5DbGllbnRCYXNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5wcm90b3R5cGUuX2NhbGxJbXBsPWZ1bmN0aW9uKGUsbixyKXt2YXIgbz10aGlzLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dC5jb250YWluc1ZhbHVlKHQuQWdlbnRBcHBDbGllbnRNZXRob2RzLGUpP3QuY29yZS5nZXRBZ2VudEFwcENsaWVudCgpLl9jYWxsSW1wbChlLG4se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbiksci5zdWNjZXNzKHQpfSxmYWlsdXJlOmZ1bmN0aW9uKHQpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5mYWlsdXJlKHQpfX0pOnQuY29udGFpbnNWYWx1ZSh0LlRhc2tUZW1wbGF0ZXNDbGllbnRNZXRob2RzLGUpP3QuY29yZS5nZXRUYXNrVGVtcGxhdGVzQ2xpZW50KCkuX2NhbGxJbXBsKGUsbix7c3VjY2VzczpmdW5jdGlvbih0KXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuKSxyLnN1Y2Nlc3ModCl9LGZhaWx1cmU6ZnVuY3Rpb24odCl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmZhaWx1cmUodCl9fSk6dC5jb3JlLmdldENsaWVudCgpLl9jYWxsSW1wbChlLG4se3N1Y2Nlc3M6ZnVuY3Rpb24odCxhKXtvLl9yZWNvcmRBUElMYXRlbmN5KGUsaSxuKSxyLnN1Y2Nlc3ModCxhKX0sZmFpbHVyZTpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5mYWlsdXJlKHQsYSl9LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKHQsYSl7by5fcmVjb3JkQVBJTGF0ZW5jeShlLGksbix0KSxyLmF1dGhGYWlsdXJlKCl9LGFjY2Vzc0RlbmllZDpmdW5jdGlvbih0LGEpe28uX3JlY29yZEFQSUxhdGVuY3koZSxpLG4sdCksci5hY2Nlc3NEZW5pZWQmJnIuYWNjZXNzRGVuaWVkKCl9fSl9LGEucHJvdG90eXBlLl9yZWNvcmRBUElMYXRlbmN5PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXQ7dGhpcy5fc2VuZEFQSU1ldHJpY3MoZSxvLG4scil9LGEucHJvdG90eXBlLl9zZW5kQVBJTWV0cmljcz1mdW5jdGlvbihlLHIsaSxhKXt2YXIgcz17bmFtZTplLHRpbWU6cixlcnJvcjphLGVycm9yNXh4OjB9LGM9W3tuYW1lOiJDYXRlZ29yeSIsdmFsdWU6IkFQSSJ9XSx1PWEmJmEuc3RhdHVzQ29kZXx8MjAwLGw9YSYmYS5yZXRyeVN0YXR1c3x8dC5SZXRyeVN0YXR1cy5OT05FLHA9W3tuYW1lOiJIdHRwU3RhdHVzQ29kZSIsdmFsdWU6dX0se25hbWU6Ikh0dHBHZW5lcmljU3RhdHVzQ29kZSIsdmFsdWU6IiIuY29uY2F0KHUudG9TdHJpbmcoKS5jaGFyQXQoMCksIlhYIil9LHtuYW1lOiJSZXRyeVN0YXR1cyIsdmFsdWU6bH1dO2lmKCI1Ij09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihzLmVycm9yNXh4PTEpLCI1Ij09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCk/cy5mYXVsdD0xOiIyIj09PXUudG9TdHJpbmcoKS5jaGFyQXQoMCkmJihzLmZhdWx0PTApLG9bZV0mJmkmJmkucmVsYXRlZENvbnRhY3RJZCl7dmFyIGQ9e25hbWU6IiIuY29uY2F0KGUsIldpdGhSZWxhdGVkQ29udGFjdElkIiksdGltZTpzLnRpbWUsZXJyb3I6cy5lcnJvcixlcnJvcjV4eDpzLmVycm9yNXh4fTt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX01FVFJJQyxuKG4oe30sZCkse30se2RpbWVuc2lvbnM6YyxvcHRpb25hbERpbWVuc2lvbnM6cH0pKX10aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVBJX01FVFJJQyxuKG4oe30scykse30se2RpbWVuc2lvbnM6YyxvcHRpb25hbERpbWVuc2lvbnM6cH0pKX07dmFyIHM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMubXVsdGlwbGV4ZXI9bmV3IHQuU3RyZWFtTXVsdGlwbGV4ZXIsdGhpcy5jb25kdWl0PW5ldyB0LkNvbmR1aXQoIkFtYXpvbkNvbm5lY3RTaGFyZWRXb3JrZXIiLG51bGwsdGhpcy5tdWx0aXBsZXhlciksdGhpcy5jbGllbnQ9bmV3IGEodGhpcy5jb25kdWl0KSx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmFnZW50PW51bGwsdGhpcy5uZXh0VG9rZW49bnVsbCx0aGlzLmluaXREYXRhPXt9LHRoaXMucG9ydENvbmR1aXRNYXA9e30sdGhpcy5zdHJlYW1NYXBCeVRhYklkPXt9LHRoaXMubWFzdGVyQ29vcmQ9bmV3IGksdGhpcy5sb2dzQnVmZmVyPVtdLHRoaXMuc3VwcHJlc3M9ITEsdGhpcy5mb3JjZU9mZmxpbmU9ITEsdGhpcy5sb25nUG9sbGluZ09wdGlvbnM9e2FsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlOiExLGFsbG93TG9uZ1BvbGxpbmdXZWJzb2NrZXRPbmx5TW9kZTohMX0sdGhpcy5kclBvbGxpbmdVcmw9bnVsbCx0aGlzLnRoaXNBcm49bnVsbCx0aGlzLm90aGVyQXJuPW51bGwsdGhpcy5wZW5kaW5nRmFpbG92ZXI9bnVsbDt2YXIgcj1udWxsO3Qucm9vdExvZ2dlcj1uZXcgdC5Eb3duc3RyZWFtQ29uZHVpdExvZ2dlcih0aGlzLmNvbmR1aXQpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuU0VORF9MT0dTLChmdW5jdGlvbihlKXt0LmdldExvZygpLnB1c2hMb2dzRG93bnN0cmVhbShlKSxuLmxvZ3NCdWZmZXI9bi5sb2dzQnVmZmVyLmNvbmNhdChlKSxuLmxvZ3NCdWZmZXIubGVuZ3RoPjQwMCYmbi5oYW5kbGVTZW5kTG9nc1JlcXVlc3Qobi5sb2dzQnVmZmVyKX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5TVVBQUkVTUywoZnVuY3Rpb24oZSl7dC5nZXRMb2coKS5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBTZXR0aW5nIFN1cHByZXNzIHRvICVzIixlLnN1cHByZXNzKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uc3VwcHJlc3M9ZS5zdXBwcmVzc3x8ITEsbi5zdXBwcmVzc3x8KG4uZm9yY2VPZmZsaW5lPSExKSwodm9pZCAwPT09ZS5zaG91bGRTZW5kRmFpbG92ZXJEb3duc3RyZWFtfHxlLnNob3VsZFNlbmRGYWlsb3ZlckRvd25zdHJlYW0pJiZuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtpc1ByaW1hcnk6IW4uc3VwcHJlc3N9KX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GT1JDRV9PRkZMSU5FLChmdW5jdGlvbihlKXt0LmdldExvZygpLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFNldHRpbmcgRk9SQ0VfT0ZGTElORSB0byAlcyIsZS5vZmZsaW5lKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uZm9yY2VPZmZsaW5lfHwobi5wZW5kaW5nRmFpbG92ZXI9ITEsbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuRGlzYXN0ZXJSZWNvdmVyeUV2ZW50cy5GQUlMT1ZFUix7aXNQcmltYXJ5OiExLG5leHRBY3RpdmVBcm46ZS5uZXh0QWN0aXZlQXJufSkpLG4uZm9yY2VPZmZsaW5lPWUub2ZmbGluZXx8ITF9KSksdC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLklOSVRfRFJfUE9MTElORyYmdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuSU5JVF9EUl9QT0xMSU5HLChmdW5jdGlvbihlKXt2YXIgcj10LmdldExvZygpO24uZHJQb2xsaW5nVXJsPyhyLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFkZGluZyBuZXcgQ0NQIHRvIGFjdGl2ZSByZWdpb24gcG9sbGluZyBmb3IgaW5zdGFuY2UgIi5jb25jYXQoZS5pbnN0YW5jZUFybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wb2xsRm9yQWN0aXZlUmVnaW9uKCEwLCExKSk6KHIuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbml0aWFsaXppbmcgYWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZvciBpbnN0YW5jZSAiLmNvbmNhdChlLmluc3RhbmNlQXJuKSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLnRoaXNBcm49ZS5pbnN0YW5jZUFybixuLm90aGVyQXJuPWUub3RoZXJBcm4sbi5nZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwoKS50aGVuKChmdW5jdGlvbihlKXtuLmRyUG9sbGluZ1VybD1lLG4ucG9sbEZvckFjdGl2ZVJlZ2lvbighMCwhMCl9KSwoZnVuY3Rpb24odCl7ci5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gZ2V0IHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KGUuaW5zdGFuY2VBcm4sIjsgc3VwcHJlc3NpbmcgY29udGFjdHMiKSkud2l0aEV4Y2VwdGlvbih0KS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4uc3VwcHJlc3M9ITB9KSkpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQ09ORklHVVJFLChmdW5jdGlvbihvKXtjb25zb2xlLmxvZygiQEBAIGNvbmZpZ3VyZSBldmVudCBoYW5kbGVyIixvKTt0cnl7by5hdXRoVG9rZW4mJm8uYXV0aFRva2VuIT09bi5pbml0RGF0YS5hdXRoVG9rZW4mJihuLmluaXREYXRhPW8sdC5jb3JlLmluaXQobyksby5sb25nUG9sbGluZ09wdGlvbnMmJigiYm9vbGVhbiI9PXR5cGVvZiBvLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nU2hhZG93TW9kZSYmKG4ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlPW8ubG9uZ1BvbGxpbmdPcHRpb25zLmFsbG93TG9uZ1BvbGxpbmdTaGFkb3dNb2RlKSwiYm9vbGVhbiI9PXR5cGVvZiBvLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGUmJihuLmxvbmdQb2xsaW5nT3B0aW9ucy5hbGxvd0xvbmdQb2xsaW5nV2Vic29ja2V0T25seU1vZGU9by5sb25nUG9sbGluZ09wdGlvbnMuYWxsb3dMb25nUG9sbGluZ1dlYnNvY2tldE9ubHlNb2RlKSkscj90LmdldExvZygpLmluZm8oIk5vdCBJbml0aWFsaXppbmcgYSBuZXcgV2Vic29ja2V0TWFuYWdlciBpbnN0YW5jZSwgc2luY2Ugb25lIGFscmVhZHkgZXhpc3RzIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKToodC5nZXRMb2coKS5pbmZvKCJDcmVhdGluZyBhIG5ldyBXZWJzb2NrZXQgY29ubmVjdGlvbiBmb3IgQ0NQIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSx0LldlYlNvY2tldE1hbmFnZXIuc2V0R2xvYmFsQ29uZmlnKHtsb2dnZXJDb25maWc6e2xvZ2dlcjp0LmdldExvZygpLGFkdmFuY2VkTG9nV3JpdGVyOiJpbmZvIixsZXZlbDoxMH19KSwocj10LldlYlNvY2tldE1hbmFnZXIuY3JlYXRlKCkpLm9uSW5pdEZhaWx1cmUoKGZ1bmN0aW9uKCl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLklOSVRfRkFJTFVSRSl9KSksci5vbkNvbm5lY3Rpb25PcGVuKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9PUEVOLGUpfSkpLHIub25Db25uZWN0aW9uQ2xvc2UoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0NMT1NFLGUpfSkpLHIub25Db25uZWN0aW9uR2FpbigoZnVuY3Rpb24oKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5BZ2VudEV2ZW50cy5XRUJTT0NLRVRfQ09OTkVDVElPTl9HQUlORUQpLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5DT05ORUNUSU9OX0dBSU4pfSkpLHIub25Db25uZWN0aW9uTG9zdCgoZnVuY3Rpb24oZSl7bi5jb25kdWl0LnNlbmREb3duc3RyZWFtKHQuQWdlbnRFdmVudHMuV0VCU09DS0VUX0NPTk5FQ1RJT05fTE9TVCxlKSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuQ09OTkVDVElPTl9MT1NULGUpfSkpLHIub25TdWJzY3JpcHRpb25VcGRhdGUoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJUFRJT05fVVBEQVRFLGUpfSkpLHIub25TdWJzY3JpcHRpb25GYWlsdXJlKChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5XZWJTb2NrZXRFdmVudHMuU1VCU0NSSVBUSU9OX0ZBSUxVUkUsZSl9KSksci5vbkFsbE1lc3NhZ2UoKGZ1bmN0aW9uKGUpe24uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5BTExfTUVTU0FHRSxlKX0pKSxuLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuV2ViU29ja2V0RXZlbnRzLlNFTkQsKGZ1bmN0aW9uKGUpe3Iuc2VuZE1lc3NhZ2UoZSl9KSksbi5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LldlYlNvY2tldEV2ZW50cy5TVUJTQ1JJQkUsKGZ1bmN0aW9uKGUpe3Iuc3Vic2NyaWJlVG9waWNzKGUpfSkpLHIuaW5pdCh0LmhpdGNoKG4sbi5nZXRXZWJTb2NrZXRVcmwpKS50aGVuKChmdW5jdGlvbihyKXt0cnl7aWYociYmIXIud2ViU29ja2V0Q29ubmVjdGlvbkZhaWxlZCl0LmdldExvZygpLmluZm8oIktpY2tpbmcgb2ZmIGFnZW50IHBvbGxpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG4ucG9sbEZvckFnZW50KCksdC5nZXRMb2coKS5pbmZvKCJLaWNraW5nIG9mZiBjb25maWcgcG9sbGluZyIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKHtyZXBlYXRGb3JldmVyOiEwfSksdC5nZXRMb2coKS5pbmZvKCJLaWNraW5nIG9mZiBhdXRoIHRva2VuIHBvbGxpbmciKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGUuc2V0SW50ZXJ2YWwodC5oaXRjaChuLG4uY2hlY2tBdXRoVG9rZW4pLDNlNSk7ZWxzZSBpZighdC53ZWJTb2NrZXRJbml0RmFpbGVkKXt2YXIgbz10LldlYlNvY2tldEV2ZW50cy5JTklUX0ZBSUxVUkU7dGhyb3cgbi5jb25kdWl0LnNlbmREb3duc3RyZWFtKG8pLHQud2ViU29ja2V0SW5pdEZhaWxlZD0hMCxuZXcgRXJyb3Iobyl9fWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIldlYlNvY2tldCBmYWlsZWQgdG8gaW5pdGlhbGl6ZSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX19KSkpKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJAQEAgZXJyb3IiLGUpfX0pKSx0aGlzLmNvbmR1aXQub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLlRFUk1JTkFURSwoZnVuY3Rpb24oKXtuLmhhbmRsZVNlbmRMb2dzUmVxdWVzdChuLmxvZ3NCdWZmZXIpLHQuY29yZS50ZXJtaW5hdGUoKSxuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVEVSTUlOQVRFRCl9KSksdGhpcy5jb25kdWl0Lm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5TWU5DSFJPTklaRSwoZnVuY3Rpb24oKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0UpfSkpLHRoaXMuY29uZHVpdC5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuQlJPQURDQVNULChmdW5jdGlvbihlKXtuLmNvbmR1aXQuc2VuZERvd25zdHJlYW0oZS5ldmVudCxlLmRhdGEpfSkpLGUub25jb25uZWN0PWZ1bmN0aW9uKGUpe3ZhciByPWUucG9ydHNbMF0sbz1uZXcgdC5Qb3J0U3RyZWFtKHIpO24ubXVsdGlwbGV4ZXIuYWRkU3RyZWFtKG8pLHIuc3RhcnQoKTt2YXIgaT1uZXcgdC5Db25kdWl0KG8uZ2V0SWQoKSxudWxsLG8pO2kuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQUNLTk9XTEVER0Use2lkOm8uZ2V0SWQoKX0pLG4ucG9ydENvbmR1aXRNYXBbby5nZXRJZCgpXT1pLG4uY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMse2xlbmd0aDpPYmplY3Qua2V5cyhuLnBvcnRDb25kdWl0TWFwKS5sZW5ndGh9KSxudWxsIT09bi5hZ2VudCYmbi51cGRhdGVBZ2VudCgpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLkFQSV9SRVFVRVNULHQuaGl0Y2gobixuLmhhbmRsZUFQSVJlcXVlc3QsaSkpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLk1BU1RFUl9SRVFVRVNULHQuaGl0Y2gobixuLmhhbmRsZU1hc3RlclJlcXVlc3QsaSxvLmdldElkKCkpKSxpLm9uRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5SRUxPQURfQUdFTlRfQ09ORklHVVJBVElPTix0LmhpdGNoKG4sbi5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uKSksaS5vbkRvd25zdHJlYW0odC5FdmVudFR5cGUuVEFCX0lELHQuaGl0Y2gobixuLmhhbmRsZVRhYklkRXZlbnQsbykpLGkub25Eb3duc3RyZWFtKHQuRXZlbnRUeXBlLkNMT1NFLHQuaGl0Y2gobixuLmhhbmRsZUNsb3NlRXZlbnQsbykpfX07cy5wcm90b3R5cGUucG9sbEZvckFjdGl2ZVJlZ2lvbj1mdW5jdGlvbihvLGkpe3ZhciBhPXRoaXMscz10LmdldExvZygpO2lmKCFhLmRyUG9sbGluZ1VybCl0aHJvdyBuZXcgdC5TdGF0ZUVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFRyaWVkIHRvIHBvbGwgZm9yIGFjdGl2ZSByZWdpb24gd2l0aG91dCBmaXJzdCBpbml0aWFsaXppbmcgRFIgcG9sbGluZyBpbiB0aGUgd29ya2VyLiIpO3MuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gUG9sbGluZyBmb3IgZmFpbG92ZXIgd2l0aCBwcmVzaWduZWQgVVJMIGZvciBpbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4pKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpO3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiB0LmZldGNoV2l0aFRpbWVvdXQoYS5kclBvbGxpbmdVcmwsMWU0KS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYoZS5zdGF0dXMpe2lmKGEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyx7c3RhdHVzQ29kZTplLnN0YXR1c30pLFt0LkhUVFBfU1RBVFVTX0NPREVTLkFDQ0VTU19ERU5JRUQsdC5IVFRQX1NUQVRVU19DT0RFUy5VTkFVVEhPUklaRURdLmluY2x1ZGVzKGUuc3RhdHVzKSlyZXR1cm4gcy5pbmZvKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEFjdGl2ZSByZWdpb24gcG9sbGluZyBmYWlsZWQ7IHRyeWluZyB0byBnZXQgYSBuZXcgVVJMIGZvciBwb2xsaW5nLiIpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxhLmdldFByZXNpZ25lZERpc2NvdmVyeVVybCgpLnRoZW4oKGZ1bmN0aW9uKGUpe2EuZHJQb2xsaW5nVXJsPWV9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gYz0obmV3IERhdGUpLmdldFRpbWUoKSx0LmZldGNoV2l0aFRpbWVvdXQoYS5kclBvbGxpbmdVcmwsMWU0KX0pKTt2YXIgbj0iW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gcG9sbCBmb3IgZmFpbG92ZXIgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiLCAiKSsicmVjZWl2ZWQgdW5leHBlY3RlZCByZXNwb25zZSBjb2RlICIuY29uY2F0KGUuc3RhdHVzKTt0aHJvdyBzLmVycm9yKG4pLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuZXcgRXJyb3Iobil9dGhyb3cgbj0iW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gcG9sbCBmb3IgZmFpbG92ZXIgZm9yIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiLCByZXF1ZXN0IHRpbWVkIG91dCBvciBhYm9ydGVkIiksYS5jbGllbnQuX3JlY29yZEFQSUxhdGVuY3kocixjLHtzdGF0dXNDb2RlOi0xfSkscy5lcnJvcihuKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbmV3IEVycm9yKG4pfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKGEuY2xpZW50Ll9yZWNvcmRBUElMYXRlbmN5KHIsYyksImJvb2xlYW4iPT10eXBlb2YgZS5UZXJtaW5hdGVBY3RpdmVDb250YWN0cyl7dmFyIG49IWUuVGVybWluYXRlQWN0aXZlQ29udGFjdHM7aWYoZS5JbnN0YW5jZUFybilpZihzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFN1Y2Nlc3NmdWxseSBwb2xsZWQgZm9yIGFjdGl2ZSByZWdpb24uIFByaW1hcnkgaW5zdGFuY2UgQVJOIGlzICIuY29uY2F0KGUuSW5zdGFuY2VBcm4sIiAiKSsiYW5kIHNvZnQgZmFpbG92ZXIgaXMgIi5jb25jYXQobj8iZW5hYmxlZCI6ImRpc2FibGVkIikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksYS50aGlzQXJuPT09ZS5JbnN0YW5jZUFybiYmIWEuc3VwcHJlc3MmJm8pcy5kZWJ1ZygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBJbnN0YW5jZSAiLmNvbmNhdChhLnRoaXNBcm4sIiBpcyBiZWluZyBzZXQgdG8gcHJpbWFyeSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRkFJTE9WRVIse25leHRBY3RpdmVBcm46ZS5JbnN0YW5jZUFybn0pO2Vsc2UgaWYoYS5vdGhlckFybj09PWUuSW5zdGFuY2VBcm4pe2lmKCFufHxpfHwhb3x8YS5zdXBwcmVzcyYmIWEucGVuZGluZ0ZhaWxvdmVyfHxhLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5EaXNhc3RlclJlY292ZXJ5RXZlbnRzLkZBSUxPVkVSLHtuZXh0QWN0aXZlQXJuOmEudGhpc0Fybn0pLCFhLnN1cHByZXNzKXthLnN1cHByZXNzPSEwO3ZhciB1PW4mJiFpO3U/KGEucGVuZGluZ0ZhaWxvdmVyPSEwLHMuZGVidWcoIltEaXNhc3RlciBSZWNvdmVyeV0gSW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIgd2lsbCBiZSBzZXQgdG8gc3RhbmQtYnkgdXNpbmcgc29mdCBmYWlsb3ZlciIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpKTpzLmRlYnVnKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIEluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIGlzIGJlaW5nIHNldCB0byBzdGFuZC1ieSBpbW1lZGlhdGVseSIpKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLGEuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSx7c29mdEZhaWxvdmVyOnUsbmV4dEFjdGl2ZUFybjplLkluc3RhbmNlQXJufSl9fWVsc2VbYS50aGlzQXJuLGEub3RoZXJBcm5dLmluY2x1ZGVzKGUuSW5zdGFuY2VBcm4pfHxzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIFRoZSBjdXJyZW50IHByaW1hcnkgaW5zdGFuY2UgaW4gdGhpcyBhZ2VudCdzIGZhaWxvdmVyIGdyb3VwICIuY29uY2F0KGUuSW5zdGFuY2VBcm4sIiAiKSsiZG9lc24ndCBtYXRjaCB0aGlzIGluc3RhbmNlICIuY29uY2F0KGEudGhpc0FybiwiIG9yIHRoZSBvdGhlciBpbnN0YW5jZSAiKS5jb25jYXQoYS5vdGhlckFybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk7ZWxzZSBzLmVycm9yKCJbRGlzYXN0ZXIgUmVjb3ZlcnldIERSIHBvbGxpbmcgcmVzcG9uc2UgZGlkIG5vdCBjb250YWluIGEgdHJ1dGh5IGFjdGl2ZSBpbnN0YW5jZSBBUk4uIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWVsc2Ugcy5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBEUiBwb2xsaW5nIHJlc3BvbnNlIGRpZCBub3QgY29udGFpbiBhIHZhbGlkIHZhbHVlIGZvciBUZXJtaW5hdGVBY3RpdmVDb250YWN0cy4iKS53aXRoT2JqZWN0KGUpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2Uuc3RhdHVzJiZhLmNsaWVudC5fcmVjb3JkQVBJTGF0ZW5jeShyLGMsbihuKHt9LGUpLHt9LHtzdGF0dXNDb2RlOmUuc3RhdHVzfSkpLHMuZXJyb3IoIltEaXNhc3RlciBSZWNvdmVyeV0gQWN0aXZlIHJlZ2lvbiBwb2xsaW5nIGZhaWxlZCBmb3IgaW5zdGFuY2UgIi5jb25jYXQoYS50aGlzQXJuLCIuIikpLndpdGhPYmplY3QoZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0pKS5maW5hbGx5KChmdW5jdGlvbigpeyFpJiZvfHxlLnNldFRpbWVvdXQodC5oaXRjaChhLGEucG9sbEZvckFjdGl2ZVJlZ2lvbiksNmU0KX0pKX0scy5wcm90b3R5cGUuZ2V0UHJlc2lnbmVkRGlzY292ZXJ5VXJsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe3QuZ2V0TG9nKCkuaW5mbygiW0Rpc2FzdGVyIFJlY292ZXJ5XSBHZXR0aW5nIHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KG4udGhpc0FybikpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZS5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuQ1JFQVRFX1RSQU5TUE9SVCx7dHJhbnNwb3J0VHlwZTp0LlRSQU5TUE9SVF9UWVBFUy5BR0VOVF9ESVNDT1ZFUll9LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe2UmJmUuYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQmJmUuYWdlbnREaXNjb3ZlcnlUcmFuc3BvcnQucHJlc2lnbmVkVXJsPyh0LmdldExvZygpLmluZm8oImdldFByZXNpZ25lZERpc2NvdmVyeVVybCBzdWNjZWVkZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHIoZS5hZ2VudERpc2NvdmVyeVRyYW5zcG9ydC5wcmVzaWduZWRVcmwpKToodC5nZXRMb2coKS5pbmZvKCJnZXRQcmVzaWduZWREaXNjb3ZlcnlVcmwgcmVjZWl2ZWQgZW1wdHkvaW52YWxpZCBkYXRhIikud2l0aE9iamVjdChlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8oRXJyb3IoImdldFByZXNpZ25lZERpc2NvdmVyeVVybCByZWNlaXZlZCBlbXB0eS9pbnZhbGlkIGRhdGEiKSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUscil7dC5nZXRMb2coKS5lcnJvcigiW0Rpc2FzdGVyIFJlY292ZXJ5XSBGYWlsZWQgdG8gZ2V0IHByZXNpZ25lZCBVUkwgZm9yIGluc3RhbmNlICIuY29uY2F0KG4udGhpc0FybikpLndpdGhFeGNlcHRpb24oZSkud2l0aE9iamVjdChyKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLG8obmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IHByZXNpZ25lZCBVUkwiKSl9LGF1dGhGYWlsdXJlOmZ1bmN0aW9uKCl7dC5oaXRjaChuLG4uaGFuZGxlQXV0aEZhaWwpKCksbyhuZXcgRXJyb3IoIkVuY291bnRlcmVkIGF1dGggZmFpbHVyZSB3aGVuIGdldHRpbmcgcHJlc2lnbmVkIFVSTCIpKX0sYWNjZXNzRGVuaWVkOmZ1bmN0aW9uKCl7dC5oaXRjaChuLG4uaGFuZGxlQWNjZXNzRGVuaWVkKSgpLG8obmV3IEVycm9yKCJFbmNvdW50ZXJlZCBhY2Nlc3MgZGVuaWVkIHdoZW4gZ2V0dGluZyBwcmVzaWduZWQgVVJMIikpfX0pfSkpfSxzLnByb3RvdHlwZS5wb2xsRm9yQWdlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9dC5oaXRjaChuLG4uaGFuZGxlUG9sbGluZ0F1dGhGYWlsKTt0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU05BUFNIT1Qse25leHRUb2tlbjpuLm5leHRUb2tlbix0aW1lb3V0OjNlNH0se3N1Y2Nlc3M6ZnVuY3Rpb24ocixvKXt0cnl7bi5hZ2VudD1uLmFnZW50fHx7fSxuLmFnZW50LnNuYXBzaG90PXIuc25hcHNob3Qsbi5hZ2VudC5zbmFwc2hvdC5sb2NhbFRpbWVzdGFtcD10Lm5vdygpLG4uYWdlbnQuc25hcHNob3Quc2tldz1uLmFnZW50LnNuYXBzaG90LnNuYXBzaG90VGltZXN0YW1wLW4uYWdlbnQuc25hcHNob3QubG9jYWxUaW1lc3RhbXAsbi5uZXh0VG9rZW49ci5uZXh0VG9rZW4sbyYmby5oYXNPd25Qcm9wZXJ0eSgiY29udGVudExlbmd0aCIpJiYobi5hZ2VudC5zbmFwc2hvdC5jb250ZW50TGVuZ3RoPW8uY29udGVudExlbmd0aCksdC5nZXRMb2coKS50cmFjZSgiR0VUX0FHRU5UX1NOQVBTSE9UIHN1Y2NlZWRlZC4iKS53aXRoT2JqZWN0KHIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksbi51cGRhdGVBZ2VudCgpfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIkxvbmcgcG9sbCBmYWlsZWQgdG8gdXBkYXRlIGFnZW50LiIpLndpdGhPYmplY3Qocikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfWZpbmFsbHl7ZS5zZXRUaW1lb3V0KHQuaGl0Y2gobixuLnBvbGxGb3JBZ2VudCksMTAwKX19LGZhaWx1cmU6ZnVuY3Rpb24ocixvKXt0cnl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGdldCBhZ2VudCBkYXRhLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOnIsZGF0YTpvfSl9ZmluYWxseXtlLnNldFRpbWVvdXQodC5oaXRjaChuLG4ucG9sbEZvckFnZW50KSw1ZTMpfX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtyKCl9LGFjY2Vzc0RlbmllZDp0LmhpdGNoKG4sbi5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxvPW58fHt9LGk9dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKTt0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfQ09ORklHVVJBVElPTix7fSx7c3VjY2VzczpmdW5jdGlvbihuKXt2YXIgaT1uLmNvbmZpZ3VyYXRpb247ci5wb2xsRm9yQWdlbnRQZXJtaXNzaW9ucyhpKSxyLnBvbGxGb3JBZ2VudFN0YXRlcyhpKSxyLnBvbGxGb3JEaWFsYWJsZUNvdW50cnlDb2RlcyhpKSxyLnBvbGxGb3JSb3V0aW5nUHJvZmlsZVF1ZXVlcyhpKSxvLnJlcGVhdEZvcmV2ZXImJmUuc2V0VGltZW91dCh0LmhpdGNoKHIsci5wb2xsRm9yQWdlbnRDb25maWd1cmF0aW9uLG8pLDNlNCl9LGZhaWx1cmU6ZnVuY3Rpb24obixpKXt0cnl7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGFnZW50IGNvbmZpZ3VyYXRpb24gZGF0YS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjpuLGRhdGE6aX0pfWZpbmFsbHl7by5yZXBlYXRGb3JldmVyJiZlLnNldFRpbWVvdXQodC5oaXRjaChyLHIucG9sbEZvckFnZW50Q29uZmlndXJhdGlvbiksM2U0LG8pfX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXtpKCl9LGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLnBvbGxGb3JBZ2VudFN0YXRlcz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXMsbz1ufHx7fTtvLm1heFJlc3VsdHM9by5tYXhSZXN1bHRzfHx0LkRFRkFVTFRfQkFUQ0hfU0laRSx0aGlzLmNsaWVudC5jYWxsKHQuQ2xpZW50TWV0aG9kcy5HRVRfQUdFTlRfU1RBVEVTLHtuZXh0VG9rZW46by5uZXh0VG9rZW58fG51bGwsbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QubmV4dFRva2VuP3IucG9sbEZvckFnZW50U3RhdGVzKGUse3N0YXRlczooby5zdGF0ZXN8fFtdKS5jb25jYXQodC5zdGF0ZXMpLG5leHRUb2tlbjp0Lm5leHRUb2tlbixtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30pOihlLmFnZW50U3RhdGVzPShvLnN0YXRlc3x8W10pLmNvbmNhdCh0LnN0YXRlcyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGFnZW50IHN0YXRlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvckFnZW50UGVybWlzc2lvbnM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0FHRU5UX1BFUk1JU1NJT05TLHtuZXh0VG9rZW46by5uZXh0VG9rZW58fG51bGwsbWF4UmVzdWx0czpvLm1heFJlc3VsdHN9LHtzdWNjZXNzOmZ1bmN0aW9uKHQpe3QubmV4dFRva2VuP3IucG9sbEZvckFnZW50UGVybWlzc2lvbnMoZSx7cGVybWlzc2lvbnM6KG8ucGVybWlzc2lvbnN8fFtdKS5jb25jYXQodC5wZXJtaXNzaW9ucyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUucGVybWlzc2lvbnM9KG8ucGVybWlzc2lvbnN8fFtdKS5jb25jYXQodC5wZXJtaXNzaW9ucyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIGFnZW50IHBlcm1pc3Npb25zIGxpc3QuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKS53aXRoT2JqZWN0KHtlcnI6ZSxkYXRhOm59KX0sYXV0aEZhaWx1cmU6dC5oaXRjaChyLHIuaGFuZGxlUG9sbGluZ0F1dGhGYWlsKSxhY2Nlc3NEZW5pZWQ6dC5oaXRjaChyLHIuaGFuZGxlQWNjZXNzRGVuaWVkKX0pfSxzLnByb3RvdHlwZS5wb2xsRm9yRGlhbGFibGVDb3VudHJ5Q29kZXM9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLG89bnx8e307by5tYXhSZXN1bHRzPW8ubWF4UmVzdWx0c3x8dC5ERUZBVUxUX0JBVENIX1NJWkUsdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuR0VUX0RJQUxBQkxFX0NPVU5UUllfQ09ERVMse25leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yRGlhbGFibGVDb3VudHJ5Q29kZXMoZSx7Y291bnRyeUNvZGVzOihvLmNvdW50cnlDb2Rlc3x8W10pLmNvbmNhdCh0LmNvdW50cnlDb2RlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUuZGlhbGFibGVDb3VudHJpZXM9KG8uY291bnRyeUNvZGVzfHxbXSkuY29uY2F0KHQuY291bnRyeUNvZGVzKSxyLnVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbihlKSl9LGZhaWx1cmU6ZnVuY3Rpb24oZSxuKXt0LmdldExvZygpLmVycm9yKCJGYWlsZWQgdG8gZmV0Y2ggZGlhbGFibGUgY291bnRyeSBjb2RlcyBsaXN0LiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCkud2l0aE9iamVjdCh7ZXJyOmUsZGF0YTpufSl9LGF1dGhGYWlsdXJlOnQuaGl0Y2gocixyLmhhbmRsZVBvbGxpbmdBdXRoRmFpbCksYWNjZXNzRGVuaWVkOnQuaGl0Y2gocixyLmhhbmRsZUFjY2Vzc0RlbmllZCl9KX0scy5wcm90b3R5cGUucG9sbEZvclJvdXRpbmdQcm9maWxlUXVldWVzPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcyxvPW58fHt9O28ubWF4UmVzdWx0cz1vLm1heFJlc3VsdHN8fHQuREVGQVVMVF9CQVRDSF9TSVpFLHRoaXMuY2xpZW50LmNhbGwodC5DbGllbnRNZXRob2RzLkdFVF9ST1VUSU5HX1BST0ZJTEVfUVVFVUVTLHtyb3V0aW5nUHJvZmlsZUFSTjplLnJvdXRpbmdQcm9maWxlLnJvdXRpbmdQcm9maWxlQVJOLG5leHRUb2tlbjpvLm5leHRUb2tlbnx8bnVsbCxtYXhSZXN1bHRzOm8ubWF4UmVzdWx0c30se3N1Y2Nlc3M6ZnVuY3Rpb24odCl7dC5uZXh0VG9rZW4/ci5wb2xsRm9yUm91dGluZ1Byb2ZpbGVRdWV1ZXMoZSx7Y291bnRyeUNvZGVzOihvLnF1ZXVlc3x8W10pLmNvbmNhdCh0LnF1ZXVlcyksbmV4dFRva2VuOnQubmV4dFRva2VuLG1heFJlc3VsdHM6by5tYXhSZXN1bHRzfSk6KGUucm91dGluZ1Byb2ZpbGUucXVldWVzPShvLnF1ZXVlc3x8W10pLmNvbmNhdCh0LnF1ZXVlcyksci51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb24oZSkpfSxmYWlsdXJlOmZ1bmN0aW9uKGUsbil7dC5nZXRMb2coKS5lcnJvcigiRmFpbGVkIHRvIGZldGNoIHJvdXRpbmcgcHJvZmlsZSBxdWV1ZXMgbGlzdC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVQb2xsaW5nQXV0aEZhaWwpLGFjY2Vzc0RlbmllZDp0LmhpdGNoKHIsci5oYW5kbGVBY2Nlc3NEZW5pZWQpfSl9LHMucHJvdG90eXBlLmhhbmRsZUFQSVJlcXVlc3Q9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RoaXMuY2xpZW50LmNhbGwobi5tZXRob2Qsbi5wYXJhbXMse3N1Y2Nlc3M6ZnVuY3Rpb24ocil7dmFyIG89dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLG4scik7ZS5zZW5kRG93bnN0cmVhbShvLmV2ZW50LG8pfSxmYWlsdXJlOmZ1bmN0aW9uKG8saSl7dmFyIGE9dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuQVBJX1JFU1BPTlNFLG4saSxKU09OLnN0cmluZ2lmeShvKSk7ZS5zZW5kRG93bnN0cmVhbShhLmV2ZW50LGEpLHQuZ2V0TG9nKCkuZXJyb3IoIiclcycgQVBJIHJlcXVlc3QgZmFpbGVkIixuLm1ldGhvZCkud2l0aE9iamVjdCh7cmVxdWVzdDpyLmZpbHRlckF1dGhUb2tlbihuKSxyZXNwb25zZTphfSkud2l0aEV4Y2VwdGlvbihvKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxhdXRoRmFpbHVyZTp0LmhpdGNoKHIsci5oYW5kbGVBdXRoRmFpbCx7YXV0aG9yaXplOiEwfSl9KX0scy5wcm90b3R5cGUuaGFuZGxlTWFzdGVyUmVxdWVzdD1mdW5jdGlvbihlLG4scil7dmFyIG89dGhpcy5jb25kdWl0LGk9bnVsbDtzd2l0Y2goci5tZXRob2Qpe2Nhc2UgdC5NYXN0ZXJNZXRob2RzLkJFQ09NRV9NQVNURVI6dmFyIGE9dGhpcy5tYXN0ZXJDb29yZC5nZXRNYXN0ZXIoci5wYXJhbXMudG9waWMpLHM9Qm9vbGVhbihhKSYmYSE9PW47dGhpcy5tYXN0ZXJDb29yZC5zZXRNYXN0ZXIoci5wYXJhbXMudG9waWMsbiksaT10LkV2ZW50RmFjdG9yeS5jcmVhdGVSZXNwb25zZSh0LkV2ZW50VHlwZS5NQVNURVJfUkVTUE9OU0Uscix7bWFzdGVySWQ6bix0YWtlT3ZlcjpzLHRvcGljOnIucGFyYW1zLnRvcGljfSkscyYmby5zZW5kRG93bnN0cmVhbShpLmV2ZW50LGkpO2JyZWFrO2Nhc2UgdC5NYXN0ZXJNZXRob2RzLkNIRUNLX01BU1RFUjooYT10aGlzLm1hc3RlckNvb3JkLmdldE1hc3RlcihyLnBhcmFtcy50b3BpYykpfHxyLnBhcmFtcy5zaG91bGROb3RCZWNvbWVNYXN0ZXJJZk5vbmV8fCh0aGlzLm1hc3RlckNvb3JkLnNldE1hc3RlcihyLnBhcmFtcy50b3BpYyxuKSxhPW4pLGk9dC5FdmVudEZhY3RvcnkuY3JlYXRlUmVzcG9uc2UodC5FdmVudFR5cGUuTUFTVEVSX1JFU1BPTlNFLHIse21hc3RlcklkOmEsaXNNYXN0ZXI6bj09PWEsdG9waWM6ci5wYXJhbXMudG9waWN9KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBtYXN0ZXIgbWV0aG9kOiAiK3IubWV0aG9kKX1lLnNlbmREb3duc3RyZWFtKGkuZXZlbnQsaSl9LHMucHJvdG90eXBlLmhhbmRsZVRhYklkRXZlbnQ9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RyeXt2YXIgbz1uLnRhYklkLGk9ci5zdHJlYW1NYXBCeVRhYklkW29dLGE9ZS5nZXRJZCgpLHM9T2JqZWN0LmtleXMoci5zdHJlYW1NYXBCeVRhYklkKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByLnN0cmVhbU1hcEJ5VGFiSWRbZV0ubGVuZ3RoPjB9KSkubGVuZ3RoO2lmKGkmJmkubGVuZ3RoPjApe2lmKCFpLmluY2x1ZGVzKGEpKXtyLnN0cmVhbU1hcEJ5VGFiSWRbb10ucHVzaChhKTt2YXIgYz17bGVuZ3RoOk9iamVjdC5rZXlzKHIucG9ydENvbmR1aXRNYXApLmxlbmd0aCx0YWJJZDpvLHN0cmVhbXNUYWJzQWNyb3NzQnJvd3NlcjpzfTtjW29dPXtsZW5ndGg6aS5sZW5ndGh9LHIuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsYyl9fWVsc2V7ci5zdHJlYW1NYXBCeVRhYklkW29dPVtlLmdldElkKCldO3ZhciB1PXtsZW5ndGg6T2JqZWN0LmtleXMoci5wb3J0Q29uZHVpdE1hcCkubGVuZ3RoLHRhYklkOm8sc3RyZWFtc1RhYnNBY3Jvc3NCcm93c2VyOnMrMX07dVtvXT17bGVuZ3RoOnIuc3RyZWFtTWFwQnlUYWJJZFtvXS5sZW5ndGh9LHIuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5VUERBVEVfQ09OTkVDVEVEX0NDUFMsdSl9fWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltUYWIgSWRzXSBJc3N1ZSB1cGRhdGluZyBjb25uZWN0ZWQgQ0NQcyB3aXRoaW4gdGhlIHNhbWUgdGFiIikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfX0scy5wcm90b3R5cGUuaGFuZGxlQ2xvc2VFdmVudD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO24ubXVsdGlwbGV4ZXIucmVtb3ZlU3RyZWFtKGUpLGRlbGV0ZSBuLnBvcnRDb25kdWl0TWFwW2UuZ2V0SWQoKV0sbi5tYXN0ZXJDb29yZC5yZW1vdmVNYXN0ZXIoZS5nZXRJZCgpKTt2YXIgcj17bGVuZ3RoOk9iamVjdC5rZXlzKG4ucG9ydENvbmR1aXRNYXApLmxlbmd0aH0sbz1PYmplY3Qua2V5cyhuLnN0cmVhbU1hcEJ5VGFiSWQpO3RyeXt2YXIgaT1vLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnN0cmVhbU1hcEJ5VGFiSWRbdF0uaW5jbHVkZXMoZS5nZXRJZCgpKX0pKTtpZihpKXt2YXIgYT1uLnN0cmVhbU1hcEJ5VGFiSWRbaV0uZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gZS5nZXRJZCgpPT09dH0pKTtuLnN0cmVhbU1hcEJ5VGFiSWRbaV0uc3BsaWNlKGEsMSk7dmFyIHM9bi5zdHJlYW1NYXBCeVRhYklkW2ldP24uc3RyZWFtTWFwQnlUYWJJZFtpXS5sZW5ndGg6MDtyW2ldPXtsZW5ndGg6c30sci50YWJJZD1pfXZhciBjPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJlYW1NYXBCeVRhYklkW2VdLmxlbmd0aD4wfSkpLmxlbmd0aDtyLnN0cmVhbXNUYWJzQWNyb3NzQnJvd3Nlcj1jfWNhdGNoKGUpe3QuZ2V0TG9nKCkuZXJyb3IoIltUYWIgSWRzXSBJc3N1ZSB1cGRhdGluZyB0YWJJZC1zcGVjaWZpYyBzdHJlYW0gZGF0YSIpLndpdGhFeGNlcHRpb24oZSkuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX1uLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuVVBEQVRFX0NPTk5FQ1RFRF9DQ1BTLHIpfSxzLnByb3RvdHlwZS51cGRhdGVBZ2VudENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oZSl7ZS5wZXJtaXNzaW9ucyYmZS5kaWFsYWJsZUNvdW50cmllcyYmZS5hZ2VudFN0YXRlcyYmZS5yb3V0aW5nUHJvZmlsZS5xdWV1ZXM/KHRoaXMuYWdlbnQ9dGhpcy5hZ2VudHx8e30sdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uPWUsdGhpcy51cGRhdGVBZ2VudCgpKTp0LmdldExvZygpLnRyYWNlKCJXYWl0aW5nIHRvIHVwZGF0ZSBhZ2VudCBjb25maWd1cmF0aW9uIHVudGlsIGFsbCBjb25maWcgZGF0YSBoYXMgYmVlbiBmZXRjaGVkLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCl9LHMucHJvdG90eXBlLnVwZGF0ZUFnZW50PWZ1bmN0aW9uKCl7dGhpcy5hZ2VudD90aGlzLmFnZW50LnNuYXBzaG90P3RoaXMuYWdlbnQuY29uZmlndXJhdGlvbj8odGhpcy5hZ2VudC5zbmFwc2hvdC5zdGF0dXM9dGhpcy5hZ2VudC5zdGF0ZSx0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzJiZ0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmxlbmd0aD4xJiZ0aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RhdGUudGltZXN0YW1wLmdldFRpbWUoKS10LnN0YXRlLnRpbWVzdGFtcC5nZXRUaW1lKCl9KSksdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXR1cz1lLnN0YXRlLGUuY29ubmVjdGlvbnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5hZGRyZXNzPWUuZW5kcG9pbnR9KSl9KSksdGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLmRlZmF1bHRPdXRib3VuZFF1ZXVlLnF1ZXVlSWQ9dGhpcy5hZ2VudC5jb25maWd1cmF0aW9uLnJvdXRpbmdQcm9maWxlLmRlZmF1bHRPdXRib3VuZFF1ZXVlLnF1ZXVlQVJOLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5xdWV1ZXMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5xdWV1ZUlkPWUucXVldWVBUk59KSksdGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnF1ZXVlJiYoZS5xdWV1ZS5xdWV1ZUlkPWUucXVldWUucXVldWVBUk4pfSkpLHRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUlkPXRoaXMuYWdlbnQuY29uZmlndXJhdGlvbi5yb3V0aW5nUHJvZmlsZS5yb3V0aW5nUHJvZmlsZUFSTix0aGlzLnN1cHByZXNzJiYodGhpcy5hZ2VudC5zbmFwc2hvdC5jb250YWN0cz10aGlzLmFnZW50LnNuYXBzaG90LmNvbnRhY3RzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGUudHlwZT09dC5Db250YWN0U3RhdGVUeXBlLkNPTk5FQ1RFRHx8ZS5zdGF0ZS50eXBlPT10LkNvbnRhY3RTdGF0ZVR5cGUuRU5ERUR9KSksdGhpcy5mb3JjZU9mZmxpbmUmJnRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkRpc2FzdGVyUmVjb3ZlcnlFdmVudHMuRk9SQ0VfT0ZGTElORSkpLHRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkFnZW50RXZlbnRzLlVQREFURSx0aGlzLmFnZW50KSk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IGNvbmZpZ3VyYXRpb24gaXMgYXZhaWxhYmxlLiIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCk6dC5nZXRMb2coKS50cmFjZSgiV2FpdGluZyB0byB1cGRhdGUgYWdlbnQgdW50aWwgdGhlIGFnZW50IHNuYXBzaG90IGlzIGF2YWlsYWJsZS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpOnQuZ2V0TG9nKCkudHJhY2UoIldhaXRpbmcgdG8gdXBkYXRlIGFnZW50IHVudGlsIHRoZSBhZ2VudCBoYXMgYmVlbiBmdWxseSBjb25zdHJ1Y3RlZC4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxzLnByb3RvdHlwZS5nZXRXZWJTb2NrZXRVcmw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dC5jb3JlLmdldENsaWVudCgpLHI9dC5oaXRjaChlLGUuaGFuZGxlQXV0aEZhaWwpLG89dC5oaXRjaChlLGUuaGFuZGxlQWNjZXNzRGVuaWVkKTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsaSl7bi5jYWxsKHQuQ2xpZW50TWV0aG9kcy5DUkVBVEVfVFJBTlNQT1JULHt0cmFuc3BvcnRUeXBlOnQuVFJBTlNQT1JUX1RZUEVTLldFQl9TT0NLRVR9LHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3QuZ2V0TG9nKCkuaW5mbygiZ2V0V2ViU29ja2V0VXJsIHN1Y2NlZWRlZCIpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksZShuKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoImdldFdlYlNvY2tldFVybCBmYWlsZWQiKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLndpdGhPYmplY3Qoe2VycjplLGRhdGE6bn0pLGkoe3JlYXNvbjoiZ2V0V2ViU29ja2V0VXJsIGZhaWxlZCIsX2RlYnVnOmV9KX0sYXV0aEZhaWx1cmU6ZnVuY3Rpb24oKXt0LmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgQXV0aCBGYWlsdXJlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKEVycm9yKCJBdXRoZW50aWNhdGlvbiBmYWlsZWQgd2hpbGUgZ2V0dGluZyBnZXRXZWJTb2NrZXRVcmwiKSkscigpfSxhY2Nlc3NEZW5pZWQ6ZnVuY3Rpb24oKXt0LmdldExvZygpLmVycm9yKCJnZXRXZWJTb2NrZXRVcmwgQWNjZXNzIERlbmllZCBGYWlsdXJlIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxpKEVycm9yKCJBY2Nlc3MgRGVuaWVkIEZhaWx1cmUgd2hpbGUgZ2V0dGluZyBnZXRXZWJTb2NrZXRVcmwiKSksbygpfX0pfSkpfSxzLnByb3RvdHlwZS5oYW5kbGVTZW5kTG9nc1JlcXVlc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49W10scj1lLmxvZ3NCdWZmZXIuc2xpY2UoKTtlLmxvZ3NCdWZmZXI9W10sci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2goe3RpbWVzdGFtcDplLnRpbWUsY29tcG9uZW50OmUuY29tcG9uZW50LG1lc3NhZ2U6ZS50ZXh0fSl9KSksdGhpcy5jbGllbnQuY2FsbCh0LkNsaWVudE1ldGhvZHMuU0VORF9DTElFTlRfTE9HUyx7bG9nRXZlbnRzOm59LHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3QuZ2V0TG9nKCkuaW5mbygiU2VuZExvZ3MgcmVxdWVzdCBzdWNjZWVkZWQuIikuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKX0sZmFpbHVyZTpmdW5jdGlvbihlLG4pe3QuZ2V0TG9nKCkuZXJyb3IoIlNlbmRMb2dzIHJlcXVlc3QgZmFpbGVkLiIpLndpdGhPYmplY3Qobikud2l0aEV4Y2VwdGlvbihlKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpfSxhdXRoRmFpbHVyZTp0LmhpdGNoKGUsZS5oYW5kbGVBdXRoRmFpbCl9KX0scy5wcm90b3R5cGUuaGFuZGxlQXV0aEZhaWw9ZnVuY3Rpb24oZSl7ZT90aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQVVUSF9GQUlMLGUpOnRoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BVVRIX0ZBSUwpfSxzLnByb3RvdHlwZS5oYW5kbGVQb2xsaW5nQXV0aEZhaWw9ZnVuY3Rpb24oKXt0aGlzLmNvbmR1aXQuc2VuZERvd25zdHJlYW0odC5FdmVudFR5cGUuQ1RJX0FVVEhPUklaRV9SRVRSSUVTX0VYSEFVU1RFRCl9LHMucHJvdG90eXBlLmhhbmRsZUFjY2Vzc0RlbmllZD1mdW5jdGlvbigpe3RoaXMuY29uZHVpdC5zZW5kRG93bnN0cmVhbSh0LkV2ZW50VHlwZS5BQ0NFU1NfREVOSUVEKX0scy5wcm90b3R5cGUuY2hlY2tBdXRoVG9rZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49bmV3IERhdGUoZS5pbml0RGF0YS5hdXRoVG9rZW5FeHBpcmF0aW9uKSxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpO24uZ2V0VGltZSgpPHIrMThlNSYmKHQuZ2V0TG9nKCkuaW5mbygiQXV0aCB0b2tlbiBleHBpcmVzIGF0ICIrbisiIFN0YXJ0IHJlZnJlc2hpbmcgdG9rZW4gd2l0aCByZXRyeS4iKS5zZW5kSW50ZXJuYWxMb2dUb1NlcnZlcigpLHQuYmFja29mZih0LmhpdGNoKGUsZS5hdXRob3JpemUpLDFlNCw0KSl9LHMucHJvdG90eXBlLmF1dGhvcml6ZT1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3QuY29yZS5hdXRob3JpemUodGhpcy5pbml0RGF0YS5hdXRob3JpemVFbmRwb2ludCkudGhlbigoZnVuY3Rpb24ocil7dmFyIG89bmV3IERhdGUoci5leHBpcmF0aW9uKTt0LmdldExvZygpLmluZm8oIkF1dGhvcml6YXRpb24gc3VjY2VlZGVkIGFuZCB0aGUgdG9rZW4gZXhwaXJlcyBhdCAlcyIsbykuc2VuZEludGVybmFsTG9nVG9TZXJ2ZXIoKSxuLmluaXREYXRhLmF1dGhUb2tlbj1yLmFjY2Vzc1Rva2VuLG4uaW5pdERhdGEuYXV0aFRva2VuRXhwaXJhdGlvbj1vLHQuY29yZS5pbml0Q2xpZW50KG4uaW5pdERhdGEpLHQuY29yZS5pbml0QWdlbnRBcHBDbGllbnQobi5pbml0RGF0YSksZS5zdWNjZXNzKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHIpe3QuZ2V0TG9nKCkuZXJyb3IoIkF1dGhvcml6YXRpb24gZmFpbGVkIHdpdGggY29kZSAlcyIsci5zdGF0dXMpLnNlbmRJbnRlcm5hbExvZ1RvU2VydmVyKCksNDAxPT09ci5zdGF0dXM/bi5oYW5kbGVBdXRoRmFpbCgpOmUuZmFpbHVyZSgpfSkpfSxzLnByb3RvdHlwZS5maWx0ZXJBdXRoVG9rZW49ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpaWYoInBhcmFtcyI9PT1uKXt2YXIgcj17fTtmb3IodmFyIG8gaW4gZS5wYXJhbXMpImF1dGhlbnRpY2F0aW9uIiE9PW8mJihyW29dPWUucGFyYW1zW29dKTt0LnBhcmFtcz1yfWVsc2UgdFtuXT1lW25dO3JldHVybiB0fSx0Lndvcmtlci5tYWluPWZ1bmN0aW9uKCl7dC53b3JrZXIuY2xpZW50RW5naW5lPW5ldyBzfX0oKX19LHQ9e307ZnVuY3Rpb24gbihyKXt2YXIgbz10W3JdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT10W3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmV4cG9ydHN9bi5hbWRPPXt9LG4uZD0oZSx0KT0+e2Zvcih2YXIgciBpbiB0KW4ubyh0LHIpJiYhbi5vKGUscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2VudW1lcmFibGU6ITAsZ2V0OnRbcl19KX0sbi5nPWZ1bmN0aW9uKCl7aWYoIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2goZSl7aWYoIm9iamVjdCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksbi5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxuLnI9ZT0+eyJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LG4oMTY3KSxuKDI1NCksbigzNDQpLG4oMTQ0KSxuKDYwKSxuKDY4Miksbig0MzEpLG4oNTU1KSxuKDgzMCksbig0MTQpLG4oNjEwKSxuKDk1KSxuKDM5OSksbig5MDYpLG4oODA2KSxuKDM1NCksbigxNDIpLG4oODg0KSxuKDM5MCksbigyNjkpLG4oODI1KSxuKDk2MSksbig5NDkpfSkoKTs=";
  var LATEST_STREAMJS_CODE = window.atob(LATEST_STREAMJS_BASE64_CODE);
  const REGION_STRING_DELIMITER = '.';


  /**
   Connect instance container
   It holds the connect api context within an iframe window.

   usage:
   var newContainer = new Container({ccpUrl: "bla", ...})
   */
  var Container = function(resource) {
    this.id = resource.region;
    resource.region = this._normalizeRegionString(resource.region);
    this.height = resource.height;
    this.style = resource.iframe_style;
    this.ccp = this._createFramedCcp(resource);
  };

  Container.prototype._createFramedCcp = function (resource) {
    var permission = permission || "microphone; autoplay; clipboard-write";
    var style = this.style || FRAME_DIMENSIONS;
    var iframe = document.createElement('iframe');
    iframe.srcdoc = this.getContent(resource);
    iframe.allow = permission;
    iframe.id = this.id;
    iframe.style = style;
    iframe.scrolling = "no";
    return iframe;
  };

  Container.prototype.getContent = function(params) {
    return [
      "<!DOCTYPE html>",
      "<meta charset='UTF-8'>",
      "<html>",
        "<head>",
          "<script type='text/javascript'>",
            LATEST_STREAMJS_CODE,
          "</script>",
          "<style>",
            "html, body, iframe { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}",
          "</style>",
        "</head>",
        "<body>",
          "<div id=containerDiv style='width: 100%;height: 100%;'></div>",
          "<script type='text/javascript'>",
            "function init() {",
              "connect.core.initCCP(containerDiv," + JSON.stringify(params) + ");",
            "}",
          "</script>",
        "</body>",
      "</html>"
    ].join('');
  };

  /**
   * Helper function to retrieve the actual region from a region string that may contain a delimiter
   * e.g. "us-east-1.instance0" -> "us-east-1"
   */
  Container.prototype._normalizeRegionString = function(regionString) {
    const delimiterIndex = regionString.indexOf(REGION_STRING_DELIMITER);
    if (delimiterIndex === -1) {
      return regionString;
    } else {
      return regionString.substring(0, delimiterIndex);
    }
  }

  globalConnect.Container = Container;
})();

/***/ }),

/***/ 96:
/***/ (() => {

/*
 * Copyright 2014-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 *
 * Note: load utils before core.js
 */

(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  var globalConnect = global.globalConnect || {};
  global.connect = connect;
  global.globalConnect = globalConnect;
  global.lily = connect;

  globalConnect.core = {};

  var IFRAME_STYLE = "margin: 0; border: 0; padding:0px;width: 0px;height: 0px";
  var GLOBALIFRAME_STYLE =
    "margin: 0; border: 0; padding:0px;width: 100%;height: 100%";
  var GLOBALIFRAME_ID = "globalCCP";
  var DIV_DEFAULT_HEIGHT = {
    height: "465px",
  };

  globalConnect.extractCcpRegionParams = function (globalContainerDiv, paramsIn) {
    connect.assertNotNull(paramsIn.standByRegion, "ccpBackupResource");
    connect.assertNotNull(paramsIn.standByRegion.ccpUrl, "ccpUrl");
    connect.assertNotNull(paramsIn.standByRegion.region, "region");
    if (paramsIn.pollForFailover) {
      connect.assertNotNull(paramsIn.loginUrl, "loginUrl");
      connect.assertNotNull(paramsIn.instanceArn, "primary ARN");
      paramsIn.otherArn = connect.assertNotNull(paramsIn.standByRegion.instanceArn, "backup ARN");
    }

    var regionAParams = paramsIn;
    var regionBParams = Object.assign({}, paramsIn, {
      ccpUrl: paramsIn.standByRegion.ccpUrl,
      region: paramsIn.standByRegion.region,
      instanceArn: paramsIn.standByRegion.instanceArn,
      otherArn: paramsIn.instanceArn,
      loginPopup: false
    });

    var divStyle = extractDivStyle(globalContainerDiv);

    if (parseInt(divStyle.height) <= 0) {
      globalContainerDiv.style.height = DIV_DEFAULT_HEIGHT.height; // populating ccp
      divStyle.height = DIV_DEFAULT_HEIGHT.height;
    }

    return [regionAParams, regionBParams].map(function (params) {
      connect.assertNotNull(params.ccpUrl, "ccpUrl");
      connect.assertNotNull(params.region, "region");
      delete params.standByRegion;
      //signal CCP as part of a disaster recovery fleet
      params.disasterRecoveryOn = true;
      params.iframe_style = IFRAME_STYLE;
      params.height = divStyle.height;
      return params;
    });
  };

  var extractDivStyle = function (globalContainerDiv) {
    var style = window.getComputedStyle(globalContainerDiv);
    return {
      height: style.getPropertyValue("height"),
      width: style.getPropertyValue("width"),
      display: style.getPropertyValue("display"),
    };
  };

  var validateRegion = function (region, availableRegions) {
    connect.assertTrue(
      typeof region == "string",
      "Region provided " + region + " is not a valid string"
    );
    var regions = availableRegions || globalConnect.core.regions;
    if (!regions.hasOwnProperty(region)) {
      var message = "Region provided " + region + " is not found!";
      throw new connect.ValueError(message);
    }
  };

  /**
   * Particular to DR, the getPrimaryRegion paramsIn field is new, and required. It returns a promise that is resolved once the CCP and namespace are successfully initialized.
   * It is recommended that you do not attempt to use the connect object before this promise is resolved.
   * @param {object} globalContainerDiv -- The container div for the active and secondary CCPs for use with DR.
   * @param {object} paramsIn -- Identical to connect.core.initCCP's paramsIn, save for one additional param.
   * @param {getPrimaryRegionCallback} paramsIn.getPrimaryRegion -- Required. A callback function that returns a promise that is resolved once the CCP and namespace are successfully initialized.
   */
  globalConnect.core.initCCP = function (globalContainerDiv, paramsIn) {
    connect.assertNotNull(paramsIn.getPrimaryRegion, "getPrimaryRegion");
    connect.assertTrue(
      connect.isFunction(paramsIn.getPrimaryRegion),
      "getPrimaryRegion must be a function"
    );
    var getPrimaryRegionFunc = paramsIn.getPrimaryRegion;
    delete paramsIn.getPrimaryRegion;
    delete paramsIn.provider;

    var dualCcpResources = globalConnect.extractCcpRegionParams(globalContainerDiv, paramsIn);
    getPrimaryRegionFunc(
      function (primaryRegion) {
        return new Promise(resolve => {
          var initialRegion;
          if (paramsIn.pollForFailover) { // allow getPrimaryRegion function to pass a missing/untruthy region, if polling is enabled
            initialRegion = primaryRegion || paramsIn.region;
          } else {
            initialRegion = connect.assertNotNull(primaryRegion);
          }
          globalConnect.core.regions = dualCcpResources.reduce(function (obj, resource) {
            obj[resource.region] = { ccpParams: resource };
            return obj;
          }, {});
          var arnToRegionMap = dualCcpResources.reduce(function (obj, resource) {
            obj[resource.instanceArn] = resource.region;
            return obj;
          }, {});
          validateRegion(initialRegion, globalConnect.core.regions);
          globalConnect.core.primaryRegion = initialRegion;
          globalConnect.core.secondaryRegion = Object.keys(globalConnect.core.regions).find(function (
            region
          ) {
            return region != globalConnect.core.primaryRegion;
          });

          var containers = dualCcpResources.map(function (resource) {
            if (resource.region === globalConnect.core.primaryRegion) {
              resource.isPrimary = true;
            }
            return new globalConnect.Container(resource);
          });

          //Create global Iframe and attach ccp containers
          var ccpIframes = containers.map(function (container) {
            return container.ccp.outerHTML;
          });
          var globalIframe = document.createElement("iframe");
          globalIframe.style = GLOBALIFRAME_STYLE;
          globalIframe.allow = "microphone; camera; autoplay; clipboard-write; identity-credentials-get";
          globalIframe.id = GLOBALIFRAME_ID;
          globalIframe.scrolling = "no";

          // surface single instance connect api in main window
          globalIframe.onload = function () {
            activateUI(globalConnect.core.primaryRegion);
            deactivateUI(globalConnect.core.secondaryRegion);
            containers.map(function (container) {
              var regionalFrame = globalIframe.contentDocument.getElementById(container.id);
              var contentDocument = regionalFrame.contentDocument;
              var contentWindow = regionalFrame.contentWindow;
              // inject additionalScripts if specified
              if (paramsIn.additionalScripts && Array.isArray(paramsIn.additionalScripts)) {
                paramsIn.additionalScripts.forEach(script => {
                  var scriptElt = contentDocument.createElement('script');
                  scriptElt.src = script;
                  contentDocument.body.appendChild(scriptElt);
                });
              }
              // trigger initCCP
              contentWindow.init();
              var regionalConnect = contentWindow.connect;
              globalConnect.core.regions[container.id].connect = regionalConnect;
              //listen to failover state change from other window
              regionalConnect.core.getUpstream().onUpstream(regionalConnect.DisasterRecoveryEvents.FAILOVER, function (data) {
                if (data.nextActiveArn && globalConnect.core.secondaryRegion === arnToRegionMap[data.nextActiveArn]) {
                  switchDisplayedRegion(arnToRegionMap[data.nextActiveArn], globalConnect.core.primaryRegion);
                } else if (data.isPrimary === false && container.id === globalConnect.core.primaryRegion) {
                  switchDisplayedRegion(globalConnect.core.secondaryRegion, container.id);
                } else {
                  return; // failover request ignored
                }
                delete globalConnect._failoverPending;
                globalConnect._triggerFailoverCompleteHandlers({
                  activeRegion: globalConnect.core.primaryRegion,
                  activeCcpUrl: globalConnect.core.regions[globalConnect.core.primaryRegion].ccpParams.ccpUrl
                });
              });
              regionalConnect.core.getUpstream().onUpstream(regionalConnect.DisasterRecoveryEvents.FAILOVER_PENDING, function ({nextActiveArn}) {
                if (!globalConnect._failoverPending) {
                  globalConnect._triggerFailoverPendingHandlers({nextActiveArn});
                  globalConnect._failoverPending = true;
                }
              });
              if (container.id === globalConnect.core.primaryRegion) {
                window.connect = regionalConnect;
              }
              globalConnect._triggerInitHandlers(regionalConnect, container.id);
            });
            resolve(globalConnect.core.regions[globalConnect.core.primaryRegion].connect);
          };
          globalIframe.srcdoc = [
            "<!DOCTYPE html>",
            "<meta charset='UTF-8'>",
            "<html>",
              "<head>",
                "<style>",
                  "html, body { width: 100%;height: 100%;margin: 0px;padding: 0px; border: 0px;}",
                "</style>",
              "</head>",
              "<body>",
              ccpIframes.join(""),
              "</body>",
            "</html>",
          ].join('');
          globalContainerDiv.appendChild(globalIframe);
        });
      },
      function (callback) {
        console.error(
          "[Disaster Recovery] An error occured, while attempting to retrieve your primary region;"
        );
        callback();
      }
    );
  };

  var switchDisplayedRegion = function(newPrimaryRegionId, newSecondaryRegionId) {
    globalConnect.core.primaryRegion = newPrimaryRegionId;
    globalConnect.core.secondaryRegion = newSecondaryRegionId;
    window.connect = globalConnect.core.regions[newPrimaryRegionId].connect;
    globalConnect.core.activate(newPrimaryRegionId);
    activateUI(newPrimaryRegionId);
    deactivateUI(newSecondaryRegionId);
  }

  var deactivateUI = function (regionID) {
    var renderedGlobalIframe = document.getElementById(GLOBALIFRAME_ID);
    renderedGlobalIframe.contentDocument.getElementById(regionID).style =
      "height: 0; width: 0; border: 0px";
  };

  var activateUI = function (regionID) {
    var renderedGlobalIframe = document.getElementById(GLOBALIFRAME_ID);
    renderedGlobalIframe.contentDocument.getElementById(regionID).style =
      "height:100%;width:100%;border:0px";
  };

  /**
   * Register a function to be triggered after globalConnect.core.initCCP() is invoked, and once the
   * Global Resiliency setup has been successfully initialized on the page and agents are able to begin
   * taking contacts. If you wish, you can set up hooks using this function before calling globalConnect.core.initCCP().
   *
   * @param f A function that will be triggered when the Global Resiliency setup has been
   * successfully initialized on the page and agents are able to begin taking contacts.
   *     The function will be called twice (once for each Connect instance in the setup), with two parameters:
   *     1. The Streams API object (the connect object) for one of the Connect instances in the Global Resiliency setup
   *     2. A string parameter with the AWS region associated with the Connect instance whose Streams API object
   *        was provided in the first parameter.
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onInit = function(f) {
    globalConnect.core._onInitHandlers = globalConnect.core._onInitHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._onInitHandlers[subId] = f;
    return () => delete globalConnect.core._onInitHandlers[subId];
  }

  globalConnect._triggerInitHandlers = function(connect, region) {
    const handlers = globalConnect.core._onInitHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(connect, region));
    }
  }

  /**
   * Register a function to be triggered when the UI changes to display a different region, and agents are able to
   * begin taking contacts in the new CCP region. If automatic region selection is in use for this multi-region setup,
   * this function will also be triggered when CCP is initialized and ready for use, if the region provided to the `getPrimaryRegion`
   * callback is not the currently active region for the agent.
   *
   * @param f A function that will be triggered when the UI changes to show CCP for a different region.
   *     The function will be called with an Object parameter with two properties:
   *     1. `activeRegion`: the string name of the AWS region for the newly-active CCP instance
   *     2. `activeCcpUrl`: the value of the `ccpUrl` parameter for the newly-active instance,
   *         as originally provided in the `initCCP()` parameters
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onFailoverComplete = function(f) {
    globalConnect.core._failoverCompleteHandlers = globalConnect.core._failoverCompleteHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._failoverCompleteHandlers[subId] = f;
    return () => delete globalConnect.core._failoverCompleteHandlers[subId];
  }

  globalConnect._triggerFailoverCompleteHandlers = function(data) {
    const handlers = globalConnect.core._failoverCompleteHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(data));
    }
  }

  /**
   * Register a function to be triggered when an active region change has been detected, when soft failover is enabled and
   * a voice contact is active. The UI will wait to change over to the new region until the active voice contact is destroyed.
   *
   * @param f A function that will be triggered when a soft failover has been scheduled to occur when the active voice contact is destroyed.
   *     The function will be called with an Object parameter with one property:
   *     1. `nextActiveArn`: the ARN of the Connect instance that will become active in the UI once the active voice contact is destroyed.
   *
   * @returns A function that can be called if you wish to deregister the trigger.
   */
  globalConnect.core.onFailoverPending = function(f) {
    globalConnect.core._failoverPendingHandlers = globalConnect.core._failoverPendingHandlers || {};
    const subId = connect.randomId();
    globalConnect.core._failoverPendingHandlers[subId] = f;
    return () => delete globalConnect.core._failoverPendingHandlers[subId];
  }

  globalConnect._triggerFailoverPendingHandlers = function(data) {
    const handlers = globalConnect.core._failoverPendingHandlers;
    if (handlers) {
      Object.values(handlers).forEach(f => f(data));
    }
  }

  /**
   * Download CCP agent logs from the CCP instances in this multi-region setup. A separate log file
   * will be produced for each instance. The options are the same as for `connect.getLog().download()`,
   * except each log name will be prefixed with the AWS region associated with that log's Connect instance.
   *
   * @param options Optional parameter of type Object, providing Download options:
   *     { logName: 'agent-log', // (the default name)
   *       filterByLogLevel: false // download all logs (the default)
   *     }
   *     e.g. in a multi-region setup with one CCP instance in us-west-2 and another in us-east-1, this will
   *     download two files: us-west-2-agent-log.txt and us-east-1-agent-log.txt.
   */
  globalConnect.core.downloadLogs = function(options) {
    if (globalConnect.core.regions && globalConnect.core.regions[globalConnect.core.primaryRegion]
        && globalConnect.core.regions[globalConnect.core.primaryRegion].connect) {
      Object.entries(globalConnect.core.regions).forEach(([region, {connect}]) => {
        const logName = `${region}-${options && options.logName || 'agent-log'}`;
        connect.getLog().download({logName, filterByLogLevel: options && options.filterByLogLevel});
      });
    } else {
      throw new Error("CCP is not initialized yet. Please call initCCP() first and wait until the getPrimaryRegion promise resolves.");
    }
  };

  globalConnect.core.failover = function (useSoftFailover) {
    globalConnect.core.failoverTo(globalConnect.core.secondaryRegion, useSoftFailover);
  };

  globalConnect.core.failoverTo = function (electedNewPrimaryRegion, useSoftFailover) {
    validateRegion(electedNewPrimaryRegion);
    if (electedNewPrimaryRegion === globalConnect.core.primaryRegion) {
      connect
        .getLog()
        .info(`[Disaster Recovery] Ignoring request to fail over to region ${electedNewPrimaryRegion} since it is already the currently active region.`)
        .sendInternalLogToServer();
    } else {
      globalConnect.core.deactivate(globalConnect.core.primaryRegion, useSoftFailover);
    }
  };

  /**-------------------------------------------------------------------------
   * Deactivates a region
   */
   globalConnect.core.deactivate = function (region, useSoftFailover) {
    var connect = globalConnect.core.regions[region].connect;
    connect
      .getLog()
      .info("[Disaster Recovery] Deactivating %s region.", region)
      .sendInternalLogToServer();
    // call this to suppress contacts
    if (connect.core.suppressContacts && connect.core.forceOffline) {
      connect.core.suppressContacts(true);
      connect.core.forceOffline({softFailover: useSoftFailover});
    } else {
      connect.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to deactivate region", region);
    }
  };

  /**-------------------------------------------------------------------------
   * Activates Stand-by region on failover using suppress==false event
   */
   globalConnect.core.activate = function (region) {
    var connect = globalConnect.core.regions[region].connect;
    connect
      .getLog()
      .info("[Disaster Recovery] Activating %s region.", region)
      .sendInternalLogToServer();
    if (connect.core.suppressContacts) {
      connect.core.suppressContacts(false);
    } else {
      connect.getLog().error("[Disaster Recovery] CCP did not load successfully for region %s; unable to activate region", region);
    }
  };
})();

/***/ }),

/***/ 236:
/***/ (function() {

/*
 * JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

/* global define */

/* eslint-disable strict */

;(function ($) {
	var ctx = this || globalThis;

  /**
   * Add integers, wrapping at 2^32.
   * This uses 16-bit operations internally to work around bugs in interpreters.
   *
   * @param {number} x First integer
   * @param {number} y Second integer
   * @returns {number} Sum
   */
  function safeAdd(x, y) {
    var lsw = (x & 0xffff) + (y & 0xffff)
    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)
    return (msw << 16) | (lsw & 0xffff)
  }

  /**
   * Bitwise rotate a 32-bit number to the left.
   *
   * @param {number} num 32-bit number
   * @param {number} cnt Rotation count
   * @returns {number} Rotated number
   */
  function bitRotateLeft(num, cnt) {
    return (num << cnt) | (num >>> (32 - cnt))
  }

  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} q q
   * @param {number} a a
   * @param {number} b b
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5cmn(q, a, b, x, s, t) {
    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5ff(a, b, c, d, x, s, t) {
    return md5cmn((b & c) | (~b & d), a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5gg(a, b, c, d, x, s, t) {
    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5hh(a, b, c, d, x, s, t) {
    return md5cmn(b ^ c ^ d, a, b, x, s, t)
  }
  /**
   * Basic operation the algorithm uses.
   *
   * @param {number} a a
   * @param {number} b b
   * @param {number} c c
   * @param {number} d d
   * @param {number} x x
   * @param {number} s s
   * @param {number} t t
   * @returns {number} Result
   */
  function md5ii(a, b, c, d, x, s, t) {
    return md5cmn(c ^ (b | ~d), a, b, x, s, t)
  }

  /**
   * Calculate the MD5 of an array of little-endian words, and a bit length.
   *
   * @param {Array} x Array of little-endian words
   * @param {number} len Bit length
   * @returns {Array<number>} MD5 Array
   */
  function binlMD5(x, len) {
    /* append padding */
    x[len >> 5] |= 0x80 << len % 32
    x[(((len + 64) >>> 9) << 4) + 14] = len

    var i
    var olda
    var oldb
    var oldc
    var oldd
    var a = 1732584193
    var b = -271733879
    var c = -1732584194
    var d = 271733878

    for (i = 0; i < x.length; i += 16) {
      olda = a
      oldb = b
      oldc = c
      oldd = d

      a = md5ff(a, b, c, d, x[i], 7, -680876936)
      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)
      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)
      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)
      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)
      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)
      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)
      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)
      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)
      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)
      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)
      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)
      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)
      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)
      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)
      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)

      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)
      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)
      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)
      b = md5gg(b, c, d, a, x[i], 20, -373897302)
      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)
      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)
      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)
      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)
      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)
      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)
      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)
      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)
      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)
      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)
      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)
      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)

      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)
      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)
      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)
      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)
      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)
      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)
      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)
      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)
      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)
      d = md5hh(d, a, b, c, x[i], 11, -358537222)
      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)
      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)
      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)
      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)
      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)
      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)

      a = md5ii(a, b, c, d, x[i], 6, -198630844)
      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)
      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)
      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)
      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)
      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)
      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)
      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)
      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)
      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)
      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)
      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)
      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)
      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)
      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)
      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)

      a = safeAdd(a, olda)
      b = safeAdd(b, oldb)
      c = safeAdd(c, oldc)
      d = safeAdd(d, oldd)
    }
    return [a, b, c, d]
  }

  /**
   * Convert an array of little-endian words to a string
   *
   * @param {Array<number>} input MD5 Array
   * @returns {string} MD5 string
   */
  function binl2rstr(input) {
    var i
    var output = ''
    var length32 = input.length * 32
    for (i = 0; i < length32; i += 8) {
      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)
    }
    return output
  }

  /**
   * Convert a raw string to an array of little-endian words
   * Characters >255 have their high-byte silently ignored.
   *
   * @param {string} input Raw input string
   * @returns {Array<number>} Array of little-endian words
   */
  function rstr2binl(input) {
    var i
    var output = []
    output[(input.length >> 2) - 1] = undefined
    for (i = 0; i < output.length; i += 1) {
      output[i] = 0
    }
    var length8 = input.length * 8
    for (i = 0; i < length8; i += 8) {
      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32
    }
    return output
  }

  /**
   * Calculate the MD5 of a raw string
   *
   * @param {string} s Input string
   * @returns {string} Raw MD5 string
   */
  function rstrMD5(s) {
    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))
  }

  /**
   * Calculates the HMAC-MD5 of a key and some data (raw strings)
   *
   * @param {string} key HMAC key
   * @param {string} data Raw input string
   * @returns {string} Raw MD5 string
   */
  function rstrHMACMD5(key, data) {
    var i
    var bkey = rstr2binl(key)
    var ipad = []
    var opad = []
    var hash
    ipad[15] = opad[15] = undefined
    if (bkey.length > 16) {
      bkey = binlMD5(bkey, key.length * 8)
    }
    for (i = 0; i < 16; i += 1) {
      ipad[i] = bkey[i] ^ 0x36363636
      opad[i] = bkey[i] ^ 0x5c5c5c5c
    }
    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)
    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))
  }

  /**
   * Convert a raw string to a hex string
   *
   * @param {string} input Raw input string
   * @returns {string} Hex encoded string
   */
  function rstr2hex(input) {
    var hexTab = '0123456789abcdef'
    var output = ''
    var x
    var i
    for (i = 0; i < input.length; i += 1) {
      x = input.charCodeAt(i)
      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)
    }
    return output
  }

  /**
   * Encode a string as UTF-8
   *
   * @param {string} input Input string
   * @returns {string} UTF8 string
   */
  function str2rstrUTF8(input) {
    return unescape(encodeURIComponent(input))
  }

  /**
   * Encodes input string as raw MD5 string
   *
   * @param {string} s Input string
   * @returns {string} Raw MD5 string
   */
  function rawMD5(s) {
    return rstrMD5(str2rstrUTF8(s))
  }
  /**
   * Encodes input string as Hex encoded string
   *
   * @param {string} s Input string
   * @returns {string} Hex encoded string
   */
  function hexMD5(s) {
    return rstr2hex(rawMD5(s))
  }
  /**
   * Calculates the raw HMAC-MD5 for the given key and data
   *
   * @param {string} k HMAC key
   * @param {string} d Input string
   * @returns {string} Raw MD5 string
   */
  function rawHMACMD5(k, d) {
    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))
  }
  /**
   * Calculates the Hex encoded HMAC-MD5 for the given key and data
   *
   * @param {string} k HMAC key
   * @param {string} d Input string
   * @returns {string} Raw MD5 string
   */
  function hexHMACMD5(k, d) {
    return rstr2hex(rawHMACMD5(k, d))
  }

  /**
   * Calculates MD5 value for a given string.
   * If a key is provided, calculates the HMAC-MD5 value.
   * Returns a Hex encoded string unless the raw argument is given.
   *
   * @param {string} string Input string
   * @param {string} [key] HMAC key
   * @param {boolean} [raw] Raw output switch
   * @returns {string} MD5 output
   */
  function md5(string, key, raw) {
    if (!key) {
      if (!raw) {
        return hexMD5(string)
      }
      return rawMD5(string)
    }
    if (!raw) {
      return hexHMACMD5(key, string)
    }
    return rawHMACMD5(key, string)
  }

	ctx.md5 = md5
})(this)

/***/ }),

/***/ 790:
/***/ (() => {

/*! @license sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */

(function() {
   var ctx = this || globalThis;

	var sprintf = function() {
		if (!sprintf.cache.hasOwnProperty(arguments[0])) {
			sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);
		}
		return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);
	};

	sprintf.format = function(parse_tree, argv) {
		var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;
		for (i = 0; i < tree_length; i++) {
			node_type = get_type(parse_tree[i]);
			if (node_type === 'string') {
				output.push(parse_tree[i]);
			}
			else if (node_type === 'array') {
				match = parse_tree[i]; // convenience purposes only
				if (match[2]) { // keyword argument
					arg = argv[cursor];
					for (k = 0; k < match[2].length; k++) {
						if (!arg.hasOwnProperty(match[2][k])) {
							throw(sprintf('[sprintf] property "%s" does not exist', match[2][k]));
						}
						arg = arg[match[2][k]];
					}
				}
				else if (match[1]) { // positional argument (explicit)
					arg = argv[match[1]];
				}
				else { // positional argument (implicit)
					arg = argv[cursor++];
				}

				if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {
					throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));
				}
				switch (match[8]) {
					case 'b': arg = arg.toString(2); break;
					case 'c': arg = String.fromCharCode(arg); break;
					case 'd': arg = parseInt(arg, 10); break;
					case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;
					case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;
					case 'o': arg = arg.toString(8); break;
					case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;
					case 'u': arg = arg >>> 0; break;
					case 'x': arg = arg.toString(16); break;
					case 'X': arg = arg.toString(16).toUpperCase(); break;
				}
				arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);
				pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';
				pad_length = match[6] - String(arg).length;
				pad = match[6] ? str_repeat(pad_character, pad_length) : '';
				output.push(match[5] ? arg + pad : pad + arg);
			}
		}
		return output.join('');
	};

	sprintf.cache = {};

	sprintf.parse = function(fmt) {
		var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;
		while (_fmt) {
			if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
				parse_tree.push(match[0]);
			}
			else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
				parse_tree.push('%');
			}
			else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
				if (match[2]) {
					arg_names |= 1;
					var field_list = [], replacement_field = match[2], field_match = [];
					if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
						field_list.push(field_match[1]);
						while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {
							if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else {
								throw('[sprintf] huh?');
							}
						}
					}
					else {
						throw('[sprintf] huh?');
					}
					match[2] = field_list;
				}
				else {
					arg_names |= 2;
				}
				if (arg_names === 3) {
					throw('[sprintf] mixing positional and named placeholders is not (yet) supported');
				}
				parse_tree.push(match);
			}
			else {
				throw('[sprintf] huh?');
			}
			_fmt = _fmt.substring(match[0].length);
		}
		return parse_tree;
	};

	var vsprintf = function(fmt, argv, _argv) {
		_argv = argv.slice(0);
		_argv.splice(0, 0, fmt);
		return sprintf.apply(null, _argv);
	};

	/**
	 * helpers
	 */
	function get_type(variable) {
		return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
	}

	function str_repeat(input, multiplier) {
		for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}
		return output.join('');
	}

	/**
	 * export to either browser or node.js
	 */
	ctx.sprintf = sprintf;
	ctx.vsprintf = vsprintf;
})();



/***/ }),

/***/ 94:
/***/ (() => {

/*
 * Copyright 2014-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
(function () {
  var global = this || globalThis;
  var connect = global.connect || {};
  global.connect = connect;
  global.lily = connect;

  var userAgent = navigator.userAgent;
  var ONE_DAY_MILLIS = 24 * 60 * 60 * 1000;
  var DEFAULT_POPUP_HEIGHT = 578;
  var DEFAULT_POPUP_WIDTH = 433;
  var COPYABLE_EVENT_FIELDS = ["bubbles", "cancelBubble", "cancelable", "composed", "data", "defaultPrevented", "eventPhase", "isTrusted", "lastEventId", "origin", "returnValue", "timeStamp", "type"];

  /**
   * Unpollute sprintf functions from the global namespace.
   */
  connect.sprintf = global.sprintf;
  connect.vsprintf = global.vsprintf;
  delete global.sprintf;
  delete global.vsprintf;

  connect.HTTP_STATUS_CODES = {
    SUCCESS: 200,
    UNAUTHORIZED: 401,
    ACCESS_DENIED: 403,
    TOO_MANY_REQUESTS: 429,
    INTERNAL_SERVER_ERROR: 500
  };

  connect.TRANSPORT_TYPES = {
    CHAT_TOKEN: "chat_token",
    WEB_SOCKET: "web_socket",
    AGENT_DISCOVERY: "agent_discovery",
    WEB_RTC: "web_rtc"
  };

  /**
   * Binds the given instance object as the context for
   * the method provided.
   *
   * @param scope The instance object to be set as the scope
   *    of the function.
   * @param method The method to be encapsulated.
   *
   * All other arguments, if any, are bound to the method
   * invocation inside the closure.
   *
   * @return A closure encapsulating the invocation of the
   *    method provided in context of the given instance.
   */
  connect.hitch = function () {
    var args = Array.prototype.slice.call(arguments);
    var scope = args.shift();
    var method = args.shift();

    connect.assertNotNull(scope, 'scope');
    connect.assertNotNull(method, 'method');
    connect.assertTrue(connect.isFunction(method), 'method must be a function');

    return function () {
      var closureArgs = Array.prototype.slice.call(arguments);
      return method.apply(scope, args.concat(closureArgs));
    };
  };

  /**
   * Determine if the given value is a callable function type.
   * Borrowed from Underscore.js.
   */
  connect.isFunction = function (obj) {
    return !!(obj && obj.constructor && obj.call && obj.apply);
  };

  /**
   * Determine if the given value is an array.
   */
  connect.isArray = function (obj) {
    return Object.prototype.toString.call(obj) === '[object Array]';
  };

  /**
   * Get a list of keys from a Javascript object used
   * as a hash map.
   */
  connect.keys = function (map) {
    var keys = [];

    connect.assertNotNull(map, 'map');

    for (var k in map) {
      keys.push(k);
    }

    return keys;
  };

  /**
   * Get a list of values from a Javascript object used
   * as a hash map.
   */
  connect.values = function (map) {
    var values = [];

    connect.assertNotNull(map, 'map');

    for (var k in map) {
      values.push(map[k]);
    }

    return values;
  };

  /**
   * Get a list of key/value pairs from the given map.
   */
  connect.entries = function (map) {
    var entries = [];

    for (var k in map) {
      entries.push({ key: k, value: map[k] });
    }

    return entries;
  };

  /**
   * Merge two or more maps together into a new map,
   * or simply copy a single map.
   */
  connect.merge = function () {
    var argMaps = Array.prototype.slice.call(arguments, 0);
    var resultMap = {};

    argMaps.forEach(function (map) {
      connect.entries(map).forEach(function (kv) {
        resultMap[kv.key] = kv.value;
      });
    });

    return resultMap;
  };

  connect.now = function () {
    return new Date().getTime();
  };

  connect.find = function (array, predicate) {
    for (var x = 0; x < array.length; x++) {
      if (predicate(array[x])) {
        return array[x];
      }
    }

    return null;
  };

  connect.contains = function (obj, value) {
    if (obj instanceof Array) {
      return connect.find(obj, function (v) { return v === value; }) != null;

    } else {
      return (value in obj);
    }
  };

  connect.containsValue = function (obj, value) {
    if (obj instanceof Array) {
      return connect.find(obj, function (v) { return v === value; }) != null;

    } else {
      return connect.find(connect.values(obj), function (v) { return v === value; }) != null;
    }
  };

  /**
   * Generate a random ID consisting of the current timestamp
   * and a random base-36 number based on Math.random().
   */
  connect.randomId = function () {
    return connect.sprintf("%s-%s", connect.now(), Math.random().toString(36).slice(2));
  };

  /**
   * Generate an enum from the given list of lower-case enum values,
   * where the enum keys will be upper case.
   *
   * Conversion from pascal case based on code from here:
   * http://stackoverflow.com/questions/30521224
   */
  connect.makeEnum = function (values) {
    var enumObj = {};

    values.forEach(function (value) {
      var key = value.replace(/\.?([a-z]+)_?/g, function (x, y) { return y.toUpperCase() + "_"; })
        .replace(/_$/, "");

      enumObj[key] = value;
    });

    return enumObj;
  };

  connect.makeNamespacedEnum = function (prefix, values) {
    var enumObj = connect.makeEnum(values);
    connect.keys(enumObj).forEach(function (key) {
      enumObj[key] = connect.sprintf("%s::%s", prefix, enumObj[key]);
    });
    return enumObj;
  };

  connect.makeGenericNamespacedEnum = function (prefix, values, delimiter) {
    var enumObj = connect.makeEnum(values);
    connect.keys(enumObj).forEach(function (key) {
      enumObj[key] = connect.sprintf("%s"+delimiter+"%s", prefix, enumObj[key]);
    });
    return enumObj;
  };

  /**
  * Methods to determine browser type and versions, used for softphone initialization.
  */

  /*
    This will also return True for Edge and Opera since they
    include Chrome in the user agent string, as they are built
    off of Chrome.
  */
  connect.isChromeBrowser = function () {
    return userAgent.indexOf("Chrome") !== -1;
  };

  connect.isFirefoxBrowser = function () {
    return userAgent.indexOf("Firefox") !== -1;
  };

  connect.isOperaBrowser = function () {
    return userAgent.indexOf("Opera") !== -1;
  };

  connect.isEdgeBrowser = function () {
    return userAgent.indexOf("Edg") !== -1;
  };

  connect.getChromeBrowserVersion = function () {
    var chromeVersion = userAgent.substring(userAgent.indexOf("Chrome") + 7);
    if (chromeVersion) {
      return parseFloat(chromeVersion);
    } else {
      return -1;
    }
  };

  connect.getFirefoxBrowserVersion = function () {
    var firefoxVersion = userAgent.substring(userAgent.indexOf("Firefox") + 8);
    if (firefoxVersion) {
      return parseFloat(firefoxVersion);
    } else {
      return -1;
    }
  };

  connect.isValidLocale = function (locale) {
    var languages = [
      {
        id: 'en_US',
        label: 'English'
      },
      {
        id: 'de_DE',
        label: 'Deutsch'
      },
      {
        id: 'es_ES',
        label: 'Español'
      },
      {
        id: 'fr_FR',
        label: 'Français'
      },
      {
        id: 'ja_JP',
        label: '日本語'
      },
      {
        id: 'it_IT',
        label: 'Italiano'
      },
      {
        id: 'ko_KR',
        label: '한국어'
      },
      {
        id: 'pt_BR',
        label: 'Português'
      },
      {
        id: 'zh_CN',
        label: '中文(简体)'
      },
      {
        id: 'zh_TW',
        label: '中文(繁體)'
      }
    ];
    return languages.map(function(language){ return language.id}).includes(locale);
  }

  connect.getOperaBrowserVersion = function () {
    var versionOffset = userAgent.indexOf("Opera");
    var operaVersion = (userAgent.indexOf("Version") !== -1) ? userAgent.substring(versionOffset + 8) : userAgent.substring(versionOffset + 6);
    if (operaVersion) {
      return parseFloat(operaVersion);
    } else {
      return -1;
    }
  };

  /**
   * Return a map of items in the given list indexed by
   * keys determined by the closure provided.
   *
   * @param iterable A list-like object.
   * @param closure A closure to determine the index for the
   *    items in the iterable.
   * @return A map from index to item for each item in the iterable.
   */
  connect.index = function (iterable, closure) {
    var map = {};

    iterable.forEach(function (item) {
      map[closure(item)] = item;
    });

    return map;
  };

  /**
   * Converts the given array into a map as a set,
   * where elements in the array are mapped to 1.
   */
  connect.set = function (arrayIn) {
    var setMap = {};

    arrayIn.forEach(function (key) {
      setMap[key] = 1;
    });

    return setMap;
  };

  /**
   * Returns a map for each key in mapB which
   * is NOT in mapA.
   */
  connect.relativeComplement = function (mapA, mapB) {
    var compMap = {};

    connect.keys(mapB).forEach(function (key) {
      if (!(key in mapA)) {
        compMap[key] = mapB[key];
      }
    });

    return compMap;
  };

  /**
   * Asserts that a premise is true.
   */
  connect.assertTrue = function (premise, message) {
    if (!premise) {
      throw new connect.ValueError(message);
    }
  };

  /**
   * Asserts that a value is not null or undefined.
   */
  connect.assertNotNull = function (value, name) {
    connect.assertTrue(value != null && typeof value !== undefined,
      connect.sprintf("%s must be provided", name || 'A value'));
    return value;
  };

  connect.deepcopy = function (src) {
    return JSON.parse(JSON.stringify(src));
  };

  connect.deepcopyCrossOriginEvent = function(event) {
    const obj = {};
    const listOfAcceptableKeys = COPYABLE_EVENT_FIELDS;
    listOfAcceptableKeys.forEach((key) => {
      try {
        obj[key] = event[key];
      }
      catch(e) {
        connect.getLog().info("deepcopyCrossOriginEvent failed on key: ", key).sendInternalLogToServer();
      }
    });
    return connect.deepcopy(obj);
  }

  /**
   * Get the current base url of the open page, e.g. if the page is
   * https://example.com:9494/oranges, this will be "https://example.com:9494".
   */
  connect.getBaseUrl = function () {
    var location = global.location;
    return connect.sprintf("%s//%s:%s", location.protocol, location.hostname, location.port);
  };

  connect.getUrlWithProtocol = function(url) {
    var protocol = global.location.protocol;
    if (url.substr(0, protocol.length) !== protocol) {
      return connect.sprintf("%s//%s", protocol, url);
    }
    return url;
  }

  /**
   * Determine if the current window is in an iframe.
   * Courtesy: http://stackoverflow.com/questions/326069/
   */
  connect.isFramed = function () {
    try {
      return window.self !== window.top;
    } catch (e) {
      return true;
    }
  };

  connect.hasOtherConnectedCCPs = function () {
    return connect.numberOfConnectedCCPs > 1;
  }

  connect.fetch = function (endpoint, options, milliInterval, maxRetry) {
    maxRetry = maxRetry || 5;
    milliInterval = milliInterval || 1000;
    options = options || {};
    return new Promise(function (resolve, reject) {
      function fetchData(maxRetry) {
        fetch(endpoint, options).then(function (res) {
          if (res.status === connect.HTTP_STATUS_CODES.SUCCESS) {
            res.json().then(json => resolve(json)).catch(() => resolve({}));
          } else if (maxRetry !== 1 && (res.status >= connect.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR || res.status === connect.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)) {
            setTimeout(function () {
              fetchData(--maxRetry);
            }, milliInterval);
          } else {
            reject(res);
          }
        }).catch(function (e) {
          reject(e);
        });
      }
      fetchData(maxRetry);
    });
  };

  connect.fetchWithTimeout = async function(endpoint, timeoutMs, options, milliInterval, maxRetry) {
    options = options || {};
    if (!timeoutMs) {
      return connect.fetch(endpoint, options, milliInterval, maxRetry);
    }
    const controller = new AbortController();
    const id = setTimeout(() => controller.abort(), timeoutMs);
    const response = await connect.fetch(endpoint, {
      ...options,
      signal: controller.signal
    }, milliInterval, maxRetry);
    clearTimeout(id);
    return response;
  }

  /**
   * Calling a function with exponential backoff with full jitter retry strategy
   * It will retry calling the function for maximum maxRetry times if it fails.
   * Success callback will be called if the function succeeded.
   * Failure callback will be called only if the last try failed.
   */
  connect.backoff = function (func, milliInterval, maxRetry, callbacks) {
    connect.assertTrue(connect.isFunction(func), "func must be a Function");
    var self = this;
    var ratio = 2;

    func({
      success: function (data) {
        if (callbacks && callbacks.success) {
          callbacks.success(data);
        }
      },
      failure: function (err, data) {
        if (maxRetry > 0) {
          var interval = milliInterval * 2 * Math.random();
          global.setTimeout(function () {
            self.backoff(func, interval * ratio, --maxRetry, callbacks);
          }, interval);
        } else {
          if (callbacks && callbacks.failure) {
            callbacks.failure(err, data);
          }
        }
      }
    });
  };

  connect.publishMetric = function (metricData) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.CLIENT_METRIC,
      data: metricData
    });
  };

  connect.publishSoftphoneStats = function(stats) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.SOFTPHONE_STATS,
      data: stats
    });
  };

  connect.publishSoftphoneReport = function(report) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.SOFTPHONE_REPORT,
      data: report
    });
  };

  connect.publishClickStreamData = function(report) {
    connect.core.getUpstream().sendUpstream(connect.EventType.BROADCAST, {
      event: connect.EventType.CLICK_STREAM_DATA,
      data: report
    });
  };

  connect.publishClientSideLogs = function(logs) {
    var bus = connect.core.getEventBus();
    bus.trigger(connect.EventType.CLIENT_SIDE_LOGS, logs);
  };

  connect.addNamespaceToLogs = function(namespace) {
    const methods = ['log', 'error', 'warn', 'info', 'debug'];

    methods.forEach((method) => {
      const consoleMethod = window.console[method];
      window.console[method] = function () {
        const args = Array.from(arguments);
        args.unshift(`[${namespace}]`);
        consoleMethod.apply(window.console, args);
      };
    });
  };

  /**
   * A wrapper around Window.open() for managing single instance popups.
   */
  connect.PopupManager = function () { };

  connect.PopupManager.prototype.open = function (url, name, options) {
    var win = null;
    if (options) {
      // default values are chosen to provide a minimum height without scrolling
      // and a uniform margin based on the css of the ccp login page
      var height = options.height || DEFAULT_POPUP_HEIGHT;
      var width = options.width || DEFAULT_POPUP_WIDTH;
      var top = options.top || 0;
      var left = options.left || 0;
      win = window.open('', name, "width="+width+", height="+height+", top="+top+", left="+left);
      if (win.location !== url) {
        win = window.open(url, name, "width="+width+", height="+height+", top="+top+", left="+left);
      }
    } else {
      win = window.open('', name);
      if (win.location !== url) {
        win = window.open(url, name);
      }
    }
    return win;
  };

  connect.PopupManager.prototype.clear = function (name) {
    var key = this._getLocalStorageKey(name);
    global.localStorage.removeItem(key);
  };

  connect.PopupManager.prototype._getLastOpenedTimestamp = function (name) {
    var key = this._getLocalStorageKey(name);
    var value = global.localStorage.getItem(key);

    if (value) {
      return parseInt(value, 10);

    } else {
      return 0;
    }
  };

  connect.PopupManager.prototype._setLastOpenedTimestamp = function (name, ts) {
    var key = this._getLocalStorageKey(name);
    global.localStorage.setItem(key, '' + ts);
  };

  connect.PopupManager.prototype._getLocalStorageKey = function (name) {
    return "connectPopupManager::" + name;
  };

  /**
   * An enumeration of the HTML5 notification permission values.
   */
  var NotificationPermission = connect.makeEnum([
    'granted',
    'denied',
    'default'
  ]);

  /**
   * A simple engine for showing notification popups.
   */
  connect.NotificationManager = function () {
    this.queue = [];
    this.permission = NotificationPermission.DEFAULT;
  };

  connect.NotificationManager.prototype.requestPermission = function () {
    var self = this;
    if (!("Notification" in global)) {
      connect.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer();
      this.permission = NotificationPermission.DENIED;

    } else if (global.Notification.permission === NotificationPermission.DENIED) {
      connect.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer();
      this.permission = NotificationPermission.DENIED;

    } else if (this.permission !== NotificationPermission.GRANTED) {
      global.Notification.requestPermission().then(function (permission) {
        self.permission = permission;
        if (permission === NotificationPermission.GRANTED) {
          self._showQueued();

        } else {
          self.queue = [];
        }
      });
    }
  };

  connect.NotificationManager.prototype.show = function (title, options) {
    if (this.permission === NotificationPermission.GRANTED) {
      return this._showImpl({ title: title, options: options });

    } else if (this.permission === NotificationPermission.DENIED) {
      connect.getLog().warn("Unable to show notification.")
        .sendInternalLogToServer()
        .withObject({
          title: title,
          options: options
        });

    } else {
      var params = { title: title, options: options };
      connect.getLog().warn("Deferring notification until user decides to allow or deny.")
        .withObject(params)
        .sendInternalLogToServer();
      this.queue.push(params);
    }
  };

  connect.NotificationManager.prototype._showQueued = function () {
    var self = this;
    var notifications = this.queue.map(function (params) {
      return self._showImpl(params);
    });
    this.queue = [];
    return notifications;
  };

  connect.NotificationManager.prototype._showImpl = function (params) {
    var notification = new global.Notification(params.title, params.options);
    if (params.options.clicked) {
      notification.onclick = function () {
        params.options.clicked.call(notification);
      };
    }
    return notification;
  };

  connect.ValueError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.ValueError.prototype);
    return instance;
  };
  Object.setPrototypeOf(connect.ValueError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.ValueError, Error);
  connect.ValueError.prototype.name = 'ValueError';

  connect.NotImplementedError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.NotImplementedError.prototype);
    return instance;
  };
  Object.setPrototypeOf(connect.NotImplementedError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.NotImplementedError, Error);
  connect.NotImplementedError.prototype.name = 'NotImplementedError';

  connect.StateError = function () {
    var args = Array.prototype.slice.call(arguments, 0);
    var format = args.shift();
    var instance = new Error(connect.vsprintf(format, args));
    Object.setPrototypeOf(instance, connect.StateError.prototype);
    return instance;
  }
  Object.setPrototypeOf(connect.StateError.prototype, Error.prototype);
  Object.setPrototypeOf(connect.StateError, Error);
  connect.StateError.prototype.name = 'StateError';



  connect.VoiceIdError = function(type, message, err){
    var error = {};
    error.type = type;
    error.message = message;
    error.stack = Error(message).stack;
    error.err = err;
    return error;
  }

  // internal use only
  connect.isCCP = function () {
    if (!connect.core.upstream) {
      return false;
    }
    var conduit = connect.core.getUpstream();
    return conduit.name === 'ConnectSharedWorkerConduit';
  }

  connect.isSharedWorker = function () {
    return connect.worker && !!connect.worker.clientEngine;
  }

  connect.isCRM = function () {
    if (!connect.core.upstream) {
      return false;
    }
    return connect.core.getUpstream() instanceof connect.IFrameConduit || connect.core.getUpstream() instanceof connect.GRProxyIframeConduit;
  }
  
  // internal use only
  connect.isActiveConduit = function (conduit) {
    const grProxyConduit = connect.core.getUpstream();
    if (grProxyConduit instanceof connect.GRProxyIframeConduit) {
      return conduit.name === grProxyConduit.activeRegionUrl;
    } else {
      connect.getLog().debug('connect.isActiveConduit is called but there is no GR proxy conduit').sendInternalLogToServer();
      return true;
    }
  }
})();


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	__webpack_modules__[790]();
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	__webpack_modules__[236]();
/******/ 	__webpack_modules__[94]();
/******/ 	__webpack_modules__[296]();
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__[96]();
/******/ 	
/******/ })()
;